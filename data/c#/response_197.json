[{"tags": ["c#", "xml", "yql", "yahoo-api", "yahoo-weather-api"], "comments": [{"owner": {"reputation": 1934, "user_id": 1294318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fLhZ0.jpg?s=128&g=1", "display_name": "OutstandingBill", "link": "https://stackoverflow.com/users/1294318/outstandingbill"}, "edited": false, "score": 0, "creation_date": 1539821615, "post_id": 52865151, "comment_id": 92644623, "body": "Welcome to StackOverflow! Have you tried using Request.QueryString?"}, {"owner": {"reputation": 1934, "user_id": 1294318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fLhZ0.jpg?s=128&g=1", "display_name": "OutstandingBill", "link": "https://stackoverflow.com/users/1294318/outstandingbill"}, "edited": false, "score": 0, "creation_date": 1539821906, "post_id": 52865151, "comment_id": 92644666, "body": "Also, when posting, it&#39;s worth considering how general you can make your question.  It looks like you have already figured out the Yql and Yahoo-api side of things, and that the question is really about how to get information from the query string.  Once you&#39;ve boiled the question down to its bare essentials, try searching again.  I&#39;m sure you&#39;ll come up with heaps of resources that way."}, {"owner": {"reputation": 3, "user_id": 10521160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff88bb0015d6c9a8beb8d78c24c7097?s=128&d=identicon&r=PG&f=1", "display_name": "user10521160", "link": "https://stackoverflow.com/users/10521160/user10521160"}, "reply_to_user": {"reputation": 1934, "user_id": 1294318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fLhZ0.jpg?s=128&g=1", "display_name": "OutstandingBill", "link": "https://stackoverflow.com/users/1294318/outstandingbill"}, "edited": false, "score": 0, "creation_date": 1539823309, "post_id": 52865151, "comment_id": 92644940, "body": "yea bill i tried  String query = String.Format(&quot;<a href=\"https://query.yahooapis.com/v1/public/yql?q=select\" rel=\"nofollow noreferrer\">query.yahooapis.com/v1/public/yql?q=select</a> * from weather.forecast where woeid in (select woeid from geo.places(1) where city=&quot;WoeidTxtBox.Text&quot;)&amp;format=xml&amp;env=store%3A%2F%2Fdatata&zwnj;&#8203;bles.org%2Falltables&zwnj;&#8203;withkeys&quot;) but its not working"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10521160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff88bb0015d6c9a8beb8d78c24c7097?s=128&d=identicon&r=PG&f=1", "display_name": "user10521160", "link": "https://stackoverflow.com/users/10521160/user10521160"}, "edited": false, "score": 0, "creation_date": 1539823073, "post_id": 52865286, "comment_id": 92644905, "body": "Hey jdweng i want to get the weather information based on the woeid the user enters in the textbox so it can give the weather state based on the user location because what if the user is not from los angeles"}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 0, "last_activity_date": 1539829315, "last_edit_date": 1539829315, "creation_date": 1539822127, "answer_id": 52865286, "question_id": 52865151, "link": "https://stackoverflow.com/questions/52865151/how-to-use-yahoo-yql-query-to-gather-weather-information-using-woeid-number/52865286#52865286", "title": "How to use yahoo Yql query to gather weather information using woeid number", "body": "<p>Try xml linq :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Linq;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n\n        static void Main(string[] args)\n        {            \n            string city = \"Los Angeles\";\n            string query = String.Format(\"https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text='{0}')&amp;format=xml&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\", city);\n\n            XDocument wData = XDocument.Load(query);\n            XNamespace ns = wData.Root.GetDefaultNamespace();\n\n            XElement xWind = wData.Descendants().Where(x =&gt; x.Name.LocalName == \"wind\").FirstOrDefault();\n            int speed = (int)xWind.Attribute(\"speed\");\n            XElement xLocation = wData.Descendants().Where(x =&gt; x.Name.LocalName == \"location\").FirstOrDefault();\n            string town = (string)xLocation.Attribute(\"city\");\n\n            XElement xCondition = wData.Descendants().Where(x =&gt; x.Name.LocalName == \"condition\").FirstOrDefault();\n            int temp = (int)xCondition.Attribute(\"temp\");\n\n            XElement xAtmosphere = wData.Descendants().Where(x =&gt; x.Name.LocalName == \"atmosphere\").FirstOrDefault();\n            int humidity = (int)xAtmosphere.Attribute(\"humidity\");\n\n            List&lt;XElement&gt; xForecast = wData.Descendants().Where(x =&gt; x.Name.LocalName == \"forecast\").ToList(); ;\n            string tfCond = (string)xForecast.FirstOrDefault().Attribute(\"text\");\n            int high = (int)xForecast.FirstOrDefault().Attribute(\"high\");\n            int low = (int)xForecast.FirstOrDefault().Attribute(\"low\");\n\n\n       }\n\n\n    }\n\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1934, "user_id": 1294318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fLhZ0.jpg?s=128&g=1", "display_name": "OutstandingBill", "link": "https://stackoverflow.com/users/1294318/outstandingbill"}, "reply_to_user": {"reputation": 3, "user_id": 10521160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff88bb0015d6c9a8beb8d78c24c7097?s=128&d=identicon&r=PG&f=1", "display_name": "user10521160", "link": "https://stackoverflow.com/users/10521160/user10521160"}, "edited": false, "score": 0, "creation_date": 1539835704, "post_id": 52866026, "comment_id": 92647372, "body": "@user10521160, at StackOverflow, you should up-vote any answers you find useful, including the accepted answer."}], "tags": [], "owner": {"reputation": 1934, "user_id": 1294318, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fLhZ0.jpg?s=128&g=1", "display_name": "OutstandingBill", "link": "https://stackoverflow.com/users/1294318/outstandingbill"}, "is_accepted": false, "score": 0, "last_activity_date": 1539829195, "creation_date": 1539829195, "answer_id": 52866026, "question_id": 52865151, "link": "https://stackoverflow.com/questions/52865151/how-to-use-yahoo-yql-query-to-gather-weather-information-using-woeid-number/52866026#52866026", "title": "How to use yahoo Yql query to gather weather information using woeid number", "body": "<p>Add the line</p>\n\n<pre><code>var woeid = Request.QueryString[\"woeid\"];\n</code></pre>\n\n<p>then include it in your existing query like this:</p>\n\n<pre><code>String query = String.Format(\"https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid = '{0}'&amp;format=xml&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\", woeid);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1539859607, "last_edit_date": 1539859607, "creation_date": 1539859192, "answer_id": 52872193, "question_id": 52865151, "link": "https://stackoverflow.com/questions/52865151/how-to-use-yahoo-yql-query-to-gather-weather-information-using-woeid-number/52872193#52872193", "title": "How to use yahoo Yql query to gather weather information using woeid number", "body": "<p>I like solution below which handles multiple cities with the same name</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Windows.Forms;\nusing System.Xml;\nusing System.Xml.Linq;\nusing System.Threading;\n\nnamespace WindowsFormsApplication23\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n            string[] cities = { \"Los Angeles\", \"New York\", \"Salem\", \"Portland\", \"Washington\" };\n            DataTable dt = GetWeather(cities);\n            dataGridView1.DataSource = dt;\n        }\n\n        DataTable GetWeather(string[] cities)\n        {\n            DataTable dt = new DataTable();\n            dt.Columns.Add(\"City\", typeof(string));\n            dt.Columns.Add(\"Region\", typeof(string));\n            dt.Columns.Add(\"Humidity\", typeof(int));\n            dt.Columns.Add(\"Wind Speed\", typeof(int));\n            dt.Columns.Add(\"Temperature\", typeof(int));\n            dt.Columns.Add(\"Condition\", typeof(string));\n            dt.Columns.Add(\"High Temperature\", typeof(int));\n            dt.Columns.Add(\"Low Temperature\", typeof(int));\n\n            foreach (string inputCity in cities)\n            {\n                String query = String.Format(\"https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(100) where text='{0}')&amp;format=xml&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\", inputCity);\n                XDocument wData = XDocument.Load(query);\n                XNamespace ns = wData.Root.GetDefaultNamespace();\n                //System.Threading.Thread.Sleep(10000);\n                foreach (XElement channel in wData.Descendants().Where(x =&gt; x.Name.LocalName == \"channel\"))\n                {\n                    string city = \"\";\n                    string region = \"\";\n                    int? humidity = null;\n                    int? speed = null;\n                    int? temp = null;\n                    string tfCond = \"\";\n                    int? high = null;\n                    int? low = null;\n\n                     XNamespace yWeatherNs = channel.Elements().First().GetNamespaceOfPrefix(\"yweather\");\n\n                    XElement xLocation = channel.Element(yWeatherNs + \"location\");\n                    if (xLocation == null)\n                    {\n                        continue;\n                    }\n                    else\n                    {\n                        city = (string)xLocation.Attribute(\"city\");\n                        region = (string)xLocation.Attribute(\"region\");\n                    }\n\n                    XElement xAtmosphere = channel.Element(yWeatherNs + \"atmosphere\");\n                    if (xAtmosphere != null)\n                    {\n                        humidity = (int)xAtmosphere.Attribute(\"humidity\");\n                    }\n\n                    XElement xWind = channel.Element(yWeatherNs + \"wind\");\n                    if (xWind != null)\n                    {\n                        speed = (int)xWind.Attribute(\"speed\");\n                    }\n\n                    XElement item = channel.Element(\"item\");\n                    if (item != null)\n                    {\n\n                        XElement xCondition = item.Element(yWeatherNs + \"condition\");\n                        if (xCondition != null)\n                        {\n                            temp = (int)xCondition.Attribute(\"temp\");\n                        }\n\n\n                        List&lt;XElement&gt; xForecast = item.Elements(yWeatherNs + \"forecast\").ToList(); ;\n                        if (xForecast != null)\n                        {\n                            tfCond = (string)xForecast.FirstOrDefault().Attribute(\"text\");\n                            high = (int)xForecast.FirstOrDefault().Attribute(\"high\");\n                            low = (int)xForecast.FirstOrDefault().Attribute(\"low\");\n                        }\n                    }\n\n                    dt.Rows.Add(new object[] { city, region, humidity, speed, temp, tfCond, high, low });\n                }                \n            }\n            dt = dt.AsEnumerable().OrderBy(x =&gt; x.Field&lt;string&gt;(\"City\")).ThenBy(x =&gt; x.Field&lt;string&gt;(\"Region\")).CopyToDataTable();\n            return dt;\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DKvQ4.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKvQ4.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3, "user_id": 10521160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff88bb0015d6c9a8beb8d78c24c7097?s=128&d=identicon&r=PG&f=1", "display_name": "user10521160", "link": "https://stackoverflow.com/users/10521160/user10521160"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 599, "favorite_count": 0, "accepted_answer_id": 52865286, "answer_count": 3, "score": 0, "last_activity_date": 1539859607, "creation_date": 1539820679, "question_id": 52865151, "link": "https://stackoverflow.com/questions/52865151/how-to-use-yahoo-yql-query-to-gather-weather-information-using-woeid-number", "title": "How to use yahoo Yql query to gather weather information using woeid number", "body": "<p>I have a textbox where i want the user to input their woeid number but i am not sure how to add it to the query string, in the code below i can get the weather for Los Angeles, but what i want now is to get it by using the woeid number the user provides. </p>\n\n<pre><code>        try\n        {\n\n            String query = String.Format(\"https://query.yahooapis.com/v1/public/yql?q=select * from weather.forecast where woeid in (select woeid from geo.places(1) where text='Los Angeles')&amp;format=xml&amp;env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys\");\n            var wData = new XmlDocument();\n            wData.Load(query);\n\n            var man = new XmlNamespaceManager(wData.NameTable);\n            man.AddNamespace(\"yweather\", \"http://xml.weather.yahoo.com/ns/rss/1.0\");\n\n            XmlNode channel = wData.SelectSingleNode(\"query\").SelectSingleNode(\"results\").SelectSingleNode(\"channel\");\n            XmlNodeList nodes = wData.SelectNodes(\"query/results/channel\");\n\n            MainForm.WindSpeed = channel.SelectSingleNode(\"yweather:wind\", man).Attributes[\"speed\"].Value;\n\n            MainForm.Town = channel.SelectSingleNode(\"yweather:location\", man).Attributes[\"city\"].Value;\n\n            MainForm.Temperature = channel.SelectSingleNode(\"item\").SelectSingleNode(\"yweather:condition\", man).Attributes[\"temp\"].Value;\n\n            MainForm.Condition = channel.SelectSingleNode(\"item\").SelectSingleNode(\"yweather:condition\", man).Attributes[\"text\"].Value;\n\n            MainForm.Humidity = channel.SelectSingleNode(\"yweather:atmosphere\", man).Attributes[\"humidity\"].Value;\n\n            MainForm.TFCond = channel.SelectSingleNode(\"item\").SelectSingleNode(\"yweather:forecast\", man).Attributes[\"text\"].Value;\n\n            MainForm.TFHigh = channel.SelectSingleNode(\"item\").SelectSingleNode(\"yweather:forecast\", man).Attributes[\"high\"].Value;\n\n            MainForm.TFLow = channel.SelectSingleNode(\"item\").SelectSingleNode(\"yweather:forecast\", man).Attributes[\"low\"].Value;              \n        }\n        catch {}\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539825334, "post_id": 52865093, "comment_id": 92645324, "body": "You need another <i>website</i> to run under <code>wwwroot2</code>? That doesn&#39;t make any sense. The wwwroot folder is for serving static files in an application, not for hosting websites in an application"}, {"owner": {"reputation": 1, "user_id": 4752167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/42IrO.jpg?s=128&g=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/4752167/vish"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539834810, "post_id": 52865093, "comment_id": 92647169, "body": "let me explain little more.When I try to load the site using &#39;<a href=\"http://localhost\" rel=\"nofollow noreferrer\">localhost</a>&#39;, index.html is retrieved. This works as expected. Now, I want to fetch index2.html under wwwroot, using &#39;<a href=\"http://localhost/index2.html\" rel=\"nofollow noreferrer\">localhost/index2.html</a>&#39;. This doesn&#39;t work. I see, it still retrieves index.html(not sure why this is happening). Now index2.html has its own css,js files which itself can be a single page website."}, {"owner": {"reputation": 590, "user_id": 10238086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jR6uJ.jpg?s=128&g=1", "display_name": "yusuf hay\u0131rsever", "link": "https://stackoverflow.com/users/10238086/yusuf-hay%c4%b1rsever"}, "edited": false, "score": 0, "creation_date": 1539847565, "post_id": 52865093, "comment_id": 92651447, "body": "Which service are you using? ISS,Apache , etc."}, {"owner": {"reputation": 1, "user_id": 4752167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/42IrO.jpg?s=128&g=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/4752167/vish"}, "edited": false, "score": 0, "creation_date": 1539891350, "post_id": 52865093, "comment_id": 92676208, "body": "its a ASP .NET server... turns out I am hitting <a href=\"https://github.com/facebook/create-react-app/issues/2398\" rel=\"nofollow noreferrer\">github.com/facebook/create-react-app/issues/2398</a>. the static pages (index.html) are npm build output of a react app. there is a service-worker.js that always loads irrespective of the path you specify. It goofs up the URIs."}, {"owner": {"reputation": 1, "user_id": 4752167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/42IrO.jpg?s=128&g=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/4752167/vish"}, "edited": false, "score": 0, "creation_date": 1539983695, "post_id": 52865093, "comment_id": 92712255, "body": "Heres whats happening. service-worker.js is cached in the browser once index.html is loaded. This stays in the cache even when I closed the browser. For all the new pages(index2.html), the site tries to load all references of this service-worker.js (which was cached when index.html loaded) which could lead to something unintentional. In my case, this service-worker.js was trying to load lot many files and other static files apart from index2.html. I deleted the service-worker.js from the server, service-worker.js on the browser and it started working as expected."}], "owner": {"reputation": 1, "user_id": 4752167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/42IrO.jpg?s=128&g=1", "display_name": "Vish", "link": "https://stackoverflow.com/users/4752167/vish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539847527, "creation_date": 1539820136, "last_edit_date": 1539825355, "question_id": 52865093, "link": "https://stackoverflow.com/questions/52865093/asp-net-serve-2-web", "title": "asp .net serve 2 web", "body": "<p>I am using Owin File System to host static files.\nI got some information from the following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36294188/using-a-wwwroot-folder-asp-net-5-style-in-asp-net-4-5-project\">Using a wwwroot folder (ASP.NET 5 style) in ASP.NET 4.5 project</a></p>\n\n<p>I am good with hosting static files from wwwroot. There is a index.html which the URL fetches back. </p>\n\n<p>However what I need is another website called wwwroot2 to be hosted under same application. \nHow do I achieve that? I tried duplicating the about code for new file system. That doesn't work.</p>\n"}, {"tags": ["c#", "uwp", "waveform"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539820673, "post_id": 52865090, "comment_id": 92644438, "body": "See msdn : <a href=\"https://docs.microsoft.com/en-us/windows/uwp/audio-video-camera/imaging\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/windows/uwp/audio-video-camera/imag&zwnj;&#8203;ing</a>"}, {"owner": {"reputation": 23, "user_id": 8808342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e0aac1b07b7d120810f1c801694914?s=128&d=identicon&r=PG&f=1", "display_name": "naokichi", "link": "https://stackoverflow.com/users/8808342/naokichi"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539822316, "post_id": 52865090, "comment_id": 92644748, "body": "@jdweng I think your comment cannot solve my problem. I want to know how to draw whole waveform from read mp3, mp4."}, {"owner": {"reputation": 302, "user_id": 7924641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec7052c8fa1d7db231e6b6cb64636d8?s=128&d=identicon&r=PG&f=1", "display_name": "Bite", "link": "https://stackoverflow.com/users/7924641/bite"}, "edited": false, "score": 0, "creation_date": 1539941468, "post_id": 52865090, "comment_id": 92691786, "body": "One way is I think you could contact with the author of the NAudio to see if they can provide you an UWP NAudio libiary. Another way is you render the waveform yourself, but I think it&#39;s complex, it involves many APIs, not sure if they are available in UWP."}], "owner": {"reputation": 23, "user_id": 8808342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e0aac1b07b7d120810f1c801694914?s=128&d=identicon&r=PG&f=1", "display_name": "naokichi", "link": "https://stackoverflow.com/users/8808342/naokichi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539822365, "creation_date": 1539820120, "last_edit_date": 1539822365, "question_id": 52865090, "link": "https://stackoverflow.com/questions/52865090/how-can-i-draw-waveform-in-uwp-application", "title": "How can I draw waveform in UWP application?", "body": "<p>I have a UWP app that want to display the whole  waveform from mp3 or mp4 etc. I tried to use NAudio.WaveFormRenderer(<a href=\"https://github.com/naudio/NAudio.WaveFormRenderer\" rel=\"nofollow noreferrer\">https://github.com/naudio/NAudio.WaveFormRenderer</a>), but it doesn\u2019t use in UWP app due to .Net.Core is strict about reading files.</p>\n\n<p>I want to know how to draw whole waveform from read mp3, mp4.</p>\n\n<p>Are there any solutions?</p>\n"}, {"tags": ["c#", "sql", "sql-server", "tsql"], "comments": [{"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 1, "creation_date": 1539819888, "post_id": 52865012, "comment_id": 92644295, "body": "no need to convert &quot;DBNull.Value.ToString();&quot;. you can simply send DBNull.Value"}, {"owner": {"reputation": 155, "user_id": 10481183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb6efe085a1324198efb8041957eb97?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Pedro", "link": "https://stackoverflow.com/users/10481183/juan-pedro"}, "reply_to_user": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 0, "creation_date": 1539820112, "post_id": 52865012, "comment_id": 92644340, "body": "I try it but I get  = Type of conditional expression cannot be determined because there is no implicit conversion between &#39;string&#39; and &#39;System.DBNull&#39; @Gauravsa"}, {"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 0, "creation_date": 1539820339, "post_id": 52865012, "comment_id": 92644369, "body": "can you do (object)DBNull.Value"}, {"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 1, "creation_date": 1539820523, "post_id": 52865012, "comment_id": 92644404, "body": "You should be using a SqlCommand object with a stored procedure call and properly typed parameters. This <code>&quot;EXEC procedure &#39;{token}&#39;;&quot;</code> stuff is messy, error-prone, not great for plan cache/reuse, and potentially vulnerable to SQL injection."}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 10481183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb6efe085a1324198efb8041957eb97?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Pedro", "link": "https://stackoverflow.com/users/10481183/juan-pedro"}, "edited": false, "score": 0, "creation_date": 1539819977, "post_id": 52865071, "comment_id": 92644318, "body": "If I send null as you say I just sending it like my second case: <code>exec getDesignListByProject  @Folio=&#39;&#39;</code> , instead <code>exec getDesignListByProject  @Folio= NULL</code>, If I try your second recomendation in <code>str string</code> I just get error: <code>convert type &#39;System.DBNull&#39; to &#39;string&#39;</code>"}], "tags": [], "owner": {"reputation": 1458, "user_id": 827187, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/069145832e334ccd9a53563e6bd40423?s=128&d=identicon&r=PG", "display_name": "Dhana", "link": "https://stackoverflow.com/users/827187/dhana"}, "is_accepted": false, "score": 0, "last_activity_date": 1539819910, "creation_date": 1539819910, "answer_id": 52865071, "question_id": 52865012, "link": "https://stackoverflow.com/questions/52865012/send-tsql-values-from-c-using-variable/52865071#52865071", "title": "Send tsql values from c# using variable", "body": "<p>Assign <code>null</code> to string variable</p>\n\n<pre><code>string str = null;\nvar designFolio = chkByDesign.Checked ? sFilter : str ;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>string str = DBNull.Value \nvar designFolio = chkByDesign.Checked ? sFilter : str ;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155, "user_id": 10481183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb6efe085a1324198efb8041957eb97?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Pedro", "link": "https://stackoverflow.com/users/10481183/juan-pedro"}, "edited": false, "score": 0, "creation_date": 1539820404, "post_id": 52865107, "comment_id": 92644385, "body": "I try exactly that, but it&#39;s same result as my last try I just get something like <code>exec getDesignListByProject  @Folio=&#39;&#39;</code> instead <code>exec getDesignListByProject  @Folio=NULL</code>"}, {"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "reply_to_user": {"reputation": 155, "user_id": 10481183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb6efe085a1324198efb8041957eb97?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Pedro", "link": "https://stackoverflow.com/users/10481183/juan-pedro"}, "edited": false, "score": 0, "creation_date": 1539821639, "post_id": 52865107, "comment_id": 92644629, "body": "edited the answer to provide some more info which can help"}], "tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1539821610, "last_edit_date": 1539821610, "creation_date": 1539820253, "answer_id": 52865107, "question_id": 52865012, "link": "https://stackoverflow.com/questions/52865012/send-tsql-values-from-c-using-variable/52865107#52865107", "title": "Send tsql values from c# using variable", "body": "<p>You can simply do this:</p>\n\n<pre><code>var projName = chkByName.Checked ? sFilter : (object)DBNull.Value;\nvar designFolio = chkByDesign.Checked ? sFilter : (object)DBNull.Value;\n</code></pre>\n\n<p>Your stored procedure can look like this:</p>\n\n<pre><code>create procedure getDesignListByProject\n(@projName int = NULL,\n@folio int = null)\n</code></pre>\n\n<p>So, even if you don't pass anything, it will have null value. Then you can use NULL functions like Coalesce and ISNULL etc. </p>\n\n<p>Also, </p>\n\n<pre><code>SqlDataAdapter da = new SqlDataAdapter(sql.ToString(), this.dbconn);\n</code></pre>\n\n<p>No need to convert <code>sql.ToString()</code>. Its already a string.</p>\n"}, {"tags": [], "owner": {"reputation": 42, "user_id": 3271084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S8hk1.jpg?s=128&g=1", "display_name": "Leandro Sousa", "link": "https://stackoverflow.com/users/3271084/leandro-sousa"}, "is_accepted": false, "score": 1, "last_activity_date": 1539820352, "creation_date": 1539820352, "answer_id": 52865116, "question_id": 52865012, "link": "https://stackoverflow.com/questions/52865012/send-tsql-values-from-c-using-variable/52865116#52865116", "title": "Send tsql values from c# using variable", "body": "<p>Change your SP call to.</p>\n\n<pre><code>var projName = chkByName.Checked ? $\"'{sFilter}'\" : \"NULL\";\nvar designFolio = chkByDesign.Checked ? $\"'{sFilter}'\" : \"NULL\";\n\nvar sql = $\"exec getDesignListByProject  @ProjName ={projName}, @Folio ={designFolio}`\n</code></pre>\n"}], "owner": {"reputation": 155, "user_id": 10481183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/feb6efe085a1324198efb8041957eb97?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Pedro", "link": "https://stackoverflow.com/users/10481183/juan-pedro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1539836739, "creation_date": 1539819517, "last_edit_date": 1539836739, "question_id": 52865012, "link": "https://stackoverflow.com/questions/52865012/send-tsql-values-from-c-using-variable", "title": "Send tsql values from c# using variable", "body": "<p>I want to send <code>NULL</code> values to stored procedure trought C#, so I  have something like:</p>\n\n<pre><code>var projName = chkByName.Checked ? sFilter : \"NULL\";\nvar designFolio = chkByDesign.Checked ? sFilter : \"NULL\";\n\nvar sql = $\"exec getDesignListByProject  @ProjName ='{projName}', @Folio ='{designFolio}'\n</code></pre>\n\n<p>Once I have the SQL query, I just execute SQL method as:</p>\n\n<pre><code> var tvTable = db.GetDataSet(sql, \"tvTable\").Tables[\"tvTable\"];\n</code></pre>\n\n<p><code>GetDataSet</code> method:</p>\n\n<pre><code>public DataSet GetDataSet(string sql, string TableName)\n{\n    this._Errors = false;\n\n    SqlDataAdapter da = new SqlDataAdapter(sql.ToString(), this.dbconn);\n    da.SelectCommand.CommandTimeout = 0;\n\n    DataSet ds = new DataSet();\n\n    try\n    {\n        da.Fill(ds, TableName);\n        return ds;\n    }\n    catch (SqlException e)\n    {\n        this.HandleSQLError(e, \"GetDataSet\", sql);\n        return null;\n    }\n}\n</code></pre>\n\n<p>But if I send parameters with NULL string as above I send to SQL something like</p>\n\n<pre><code>exec getDesignListByProject  @ProjName ='NULL',@Folio='NULL'\n</code></pre>\n\n<p>But is a string instead <code>NULL</code> SQL value</p>\n\n<p>So I try to change my variable to:</p>\n\n<pre><code>var designFolio = chkByDesign.Checked ? sFilter : DBNull.Value.ToString();\n</code></pre>\n\n<p>But I just receive null string like: </p>\n\n<pre><code>exec getDesignListByProject  @Folio=''\n</code></pre>\n\n<p>How can I send NULL T-SQL values? Regards</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 447, "user_id": 9187404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJUGX.jpg?s=128&g=1", "display_name": "Ryolu", "link": "https://stackoverflow.com/users/9187404/ryolu"}, "edited": false, "score": 0, "creation_date": 1539824587, "post_id": 52865000, "comment_id": 92645186, "body": "The only function that is called before <code>Start()</code> is <code>Awake()</code>, you might need to access whatever you were trying to access in a later function"}, {"owner": {"reputation": 1652, "user_id": 10311601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B8Svm.png?s=128&g=1", "display_name": "bolkay", "link": "https://stackoverflow.com/users/10311601/bolkay"}, "edited": false, "score": 0, "creation_date": 1539844571, "post_id": 52865000, "comment_id": 92649981, "body": "You can look into Script Execution Order settings in Unity. It&#39;s in Edit&gt;Project Settings&gt; Script Execution Order."}, {"owner": {"reputation": 2940, "user_id": 3800096, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/dffaee3296e432469a794c508c297abc?s=128&d=identicon&r=PG&f=1", "display_name": "AustinWBryan", "link": "https://stackoverflow.com/users/3800096/austinwbryan"}, "edited": false, "score": 0, "creation_date": 1539847062, "post_id": 52865000, "comment_id": 92651162, "body": "You should give a better name for the function <code>Sunglasses</code> as I have really no idea what it does. Does it <code>FindSunglasses</code>, <code>PaintSunglasses</code>, <code>BreakSunglasses</code>, <code>MakeSunglasses</code>, <code>SellSunglasses</code>, etc.? (All of those would be much better function names)"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 447, "user_id": 9187404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJUGX.jpg?s=128&g=1", "display_name": "Ryolu", "link": "https://stackoverflow.com/users/9187404/ryolu"}, "edited": false, "score": 0, "creation_date": 1539850880, "post_id": 52865000, "comment_id": 92653180, "body": "@Ryolu <code>The only function that is called before Start() is Awake()</code> thats not true! You can refer to <a href=\"https://docs.unity3d.com/Manual/ExecutionOrder.html\" rel=\"nofollow noreferrer\">Event ExecutionOrder</a> -&gt; <code>OnEnable</code> e.g. is also called before <code>Start</code>."}, {"owner": {"reputation": 447, "user_id": 9187404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xJUGX.jpg?s=128&g=1", "display_name": "Ryolu", "link": "https://stackoverflow.com/users/9187404/ryolu"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1539853978, "post_id": 52865000, "comment_id": 92654970, "body": "@derHugo I did not know that(evidently). This seems interestingly useful"}, {"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 0, "creation_date": 1539879282, "post_id": 52865000, "comment_id": 92670092, "body": "@Jessica what&#39;s the status of this question? You&#39;ve been given comments and answers, yet I don&#39;t see any interaction or accepting an answer that best solved the question."}], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 1, "creation_date": 1539851058, "post_id": 52868672, "comment_id": 92653290, "body": "I&#39;ld prefere to add the listener already in Awake in order to make sure it wasn&#39;t already fired by Script1 before the listener was added. Also note that in order to avoid &quot;multible&quot; listening I&#39;ld just add <code>Script1.onSunglassesCompleted -= DoThisAfterSunglasses;</code> right before <code>Script1.onSunglassesCompleted += DoThisAfterSunglasses;</code>. this works since it is allowed to &quot;remove&quot; a listener that isn&#39;t there yet but makes sure there is maximum 1 even if for some reson <code>Start</code>/<code>Awake</code> is called again by script."}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1539851139, "post_id": 52868672, "comment_id": 92653336, "body": "And I think you should call the event like <code>onSunglassesCompleted.Invoke();</code>"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1539851281, "post_id": 52868672, "comment_id": 92653416, "body": "But nevertheless this is the cleanest solution I would have used as well ;)"}, {"owner": {"reputation": 326, "user_id": 4427892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WqQzzZ7IaME/AAAAAAAAAAI/AAAAAAAAABQ/ev9kzT_o7Qo/photo.jpg?sz=128", "display_name": "Tricko", "link": "https://stackoverflow.com/users/4427892/tricko"}, "reply_to_user": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1539851612, "post_id": 52868672, "comment_id": 92653611, "body": "Ahh, yes.. Adding it in Awake() would be a safe way to ensure that the event listener is added before it is invoked."}], "tags": [], "owner": {"reputation": 326, "user_id": 4427892, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WqQzzZ7IaME/AAAAAAAAAAI/AAAAAAAAABQ/ev9kzT_o7Qo/photo.jpg?sz=128", "display_name": "Tricko", "link": "https://stackoverflow.com/users/4427892/tricko"}, "is_accepted": false, "score": 1, "last_activity_date": 1539846328, "creation_date": 1539846328, "answer_id": 52868672, "question_id": 52865000, "link": "https://stackoverflow.com/questions/52865000/how-to-wait-for-function-in-script-1-to-finish-before-starting-script-2/52868672#52868672", "title": "How to wait for function in script 1 to finish before starting script 2?", "body": "<p>You can try studying events, or observer pattern. What I have been using is the latter which allows me to add callbacks with a string identifier. For events, you do something like</p>\n\n<pre><code>public static event System.Action onSunglassesCompleted;\npublic IEnumerator Sunglasses()\n{\n    //Sunglasses logic here\n\n    //if there is a listener to the event, call it\n    if(onSunglassesCompleted != null)\n    {\n        onSunglassesCompleted();\n    }\n}\n</code></pre>\n\n<p>Then on Script2, you just have to add the listener to the event</p>\n\n<pre><code>void Start()\n{\n    Script1.onSunglassesCompleted += DoThisAfterSunglasses;\n}\n\n//This will be called in Script1\nvoid DoThisAfterSunglasses()\n{\n    //Make sure you do this to avoid memory leaks or missing reference errors once Sprite1 is destroyed\n    Script1.onSunglassesCompleted -= DoThisAfterSunglasses;\n\n    Function1();\n    String blah = \"Things\";\n    Function2();\n    StartCoroutine(Routine2());\n    StartCoroutine(Routine3());\n}\n</code></pre>\n\n<p>One thing you can do in events to avoid leaks is by setting it to null after you call it.</p>\n\n<pre><code>if(onSunglassesCompleted != null)\n{\n    onSunglassesCompleted();\n    onSunglassesCompleted = null;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1540140001, "last_edit_date": 1540140001, "creation_date": 1539849209, "answer_id": 52869388, "question_id": 52865000, "link": "https://stackoverflow.com/questions/52865000/how-to-wait-for-function-in-script-1-to-finish-before-starting-script-2/52869388#52869388", "title": "How to wait for function in script 1 to finish before starting script 2?", "body": "<p>You can add a boolean variable in script one, after the <code>Sunglasses</code> function call is done, set it to <code>true</code>.</p>\n\n<p><strong>Script1:</strong></p>\n\n<pre><code>public bool isDone = false;\n\npublic IEnumerator Sunglasses()\n{\n    // Do stuff\n\n    isDone = true;\n}\n</code></pre>\n\n<p><strong>Script2:</strong></p>\n\n<p>Then in your Script2, you can make your <code>Start</code> function to be a coroutine or <code>IEnumerator</code>  instead of a <code>void</code> function. After this, you can wait for <code>isDone</code> to be true every frame.</p>\n\n<pre><code>public bool isDone;\nScript1 script1Ref;\n\npublic IEnumerator Start()\n{\n    GameObject s1Obj = GameObject.Find(\"GameObjectScript1IsAttachedTo\");\n    script1Ref = s1Obj.GetComponent&lt;Script1&gt;();\n\n    //Wait here until we are done\n    while (!script1Ref.isDone)\n        yield return null;\n\n    //Done Waiting, now continue with the rest of the code\n    Function1();\n    String blah = \"Things\";\n    Function2();\n    StartCoroutine(Routine2());\n    StartCoroutine(Routine3());\n}\n</code></pre>\n\n<p>Finally, if you also need to make sure that Script1 is dine before doing something in the <code>Update</code> function of Script2, just check the <code>isDone</code> variable and return if it it still <code>false</code>.</p>\n\n<pre><code>void Update()\n{\n    //Return if script 1 is not done\n    if (!script1Ref.isDone)\n        return;\n\n    //The rest of your code below\n\n\n}\n</code></pre>\n\n<hr>\n\n<p>Note that you want <code>StartCoroutine(Routine3())</code> to wait until <code>StartCoroutine(Routine2())</code> is done, you have to yield it. </p>\n\n<p>Replace <code>StartCoroutine(Routine3())</code> with <code>yield return StartCoroutine(Routine3())</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 10521183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1998eb3f6068305564b03ff8dae329c?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/10521183/jessica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540140001, "creation_date": 1539819452, "last_edit_date": 1539846996, "question_id": 52865000, "link": "https://stackoverflow.com/questions/52865000/how-to-wait-for-function-in-script-1-to-finish-before-starting-script-2", "title": "How to wait for function in script 1 to finish before starting script 2?", "body": "<p>In Unity I have GameObjectName which has script 1 and script 2 attached to it. Script1 is an IEnumerator like this.</p>\n\n<pre><code>public IEnumerator Sunglasses()\n{\n    // Do stuff\n}\n</code></pre>\n\n<p>Script2 looks like this.</p>\n\n<pre><code>public void Start()\n{\n    Function1();\n    String blah = \"Things\";\n    Function2();\n    StartCoroutine(Routine2());\n    StartCoroutine(Routine3());\n}\n</code></pre>\n\n<p>I need script 1 to finish Sunglasses before script 2 does anything. If I try accessing GameObjectName.Script1 from Script2, Unity says it doesn't exist. How can I make sure that script 1 finishes before starting script 2?</p>\n"}, {"tags": ["c#", "nlog"], "comments": [{"owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "edited": false, "score": 0, "creation_date": 1539819088, "post_id": 52864862, "comment_id": 92644129, "body": "what application is it? console, web?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1539819346, "post_id": 52864862, "comment_id": 92644176, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44933339/nlog-get-messages-in-c-sharp\">NLog get messages in C#</a>"}, {"owner": {"reputation": 151, "user_id": 8673248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79039b0e11243d667168c90281e5dea3?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/8673248/david"}, "edited": false, "score": 0, "creation_date": 1539820335, "post_id": 52864862, "comment_id": 92644368, "body": "Windows form application"}], "answers": [{"tags": [], "owner": {"reputation": 593, "user_id": 3663152, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61f472c223db40927182c401062f9f95?s=128&d=identicon&r=PG&f=1", "display_name": "LeY", "link": "https://stackoverflow.com/users/3663152/ley"}, "is_accepted": false, "score": 1, "last_activity_date": 1539818855, "creation_date": 1539818855, "answer_id": 52864934, "question_id": 52864862, "link": "https://stackoverflow.com/questions/52864862/nlog-get-log-message-in-c/52864934#52864934", "title": "NLog get log message in c#", "body": "<p>You need to add a proper Target for Nlog to call.</p>\n\n<p>For example MethodCall target</p>\n\n<p><a href=\"https://github.com/NLog/NLog/wiki/MethodCall-target\" rel=\"nofollow noreferrer\">https://github.com/NLog/NLog/wiki/MethodCall-target</a></p>\n\n<p>Nlog also provide your some helper Target for Web and WinForm if what's what you need.\n<a href=\"https://www.nuget.org/packages/NLog.Web/\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/NLog.Web/</a></p>\n\n<p><a href=\"https://www.nuget.org/packages/NLog.Windows.Forms/\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/NLog.Windows.Forms/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1195, "user_id": 5035901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pNNJH.jpg?s=128&g=1", "display_name": "Robyn", "link": "https://stackoverflow.com/users/5035901/robyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1539819117, "creation_date": 1539819117, "answer_id": 52864961, "question_id": 52864862, "link": "https://stackoverflow.com/questions/52864862/nlog-get-log-message-in-c/52864961#52864961", "title": "NLog get log message in c#", "body": "<p>You could write a wrapper around the NLog logger. So you call DavidsLogger.Log(error) and that method stores the log message in memory where you can access it, then calls the usual method on NLog to store the message permanently in the log.</p>\n"}, {"tags": [], "owner": {"reputation": 5531, "user_id": 2549110, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/10010e790df198785188fe88060fb8a8?s=128&d=identicon&r=PG", "display_name": "Gauravsa", "link": "https://stackoverflow.com/users/2549110/gauravsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1539819596, "last_edit_date": 1539819596, "creation_date": 1539819213, "answer_id": 52864976, "question_id": 52864862, "link": "https://stackoverflow.com/questions/52864862/nlog-get-log-message-in-c/52864976#52864976", "title": "NLog get log message in c#", "body": "<p>You can create <code>targets</code> and <code>rules</code> in Nlog.Config like below:</p>\n\n<pre><code>&lt;targets&gt;  \n    &lt;target name=\"console\" xsitype=\"Console\" layout=\"${longdate}|${message}\"/&gt;  \n     &lt;target name=\"file\" xsitype=\"File\" fileName=\"C:\\log\\NLog.log\" layout=\"${longdate}|${message}\"/&gt;  \n&lt;/targets&gt;  \n\n&lt;rules&gt;  \n  &lt;logger name=\"*\" minlevel=\"Error\" writeTo=\"console,file\" /&gt;  \n&lt;/rules&gt;  \n</code></pre>\n\n<p>This will write the log to console and file. You can also send the log to email. This link can give you a basic understanding of NLog here:</p>\n\n<p><a href=\"https://www.c-sharpcorner.com/article/basic-understanding-of-nlog/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/basic-understanding-of-nlog/</a></p>\n\n<p>and here:\n<a href=\"https://github.com/nlog/NLog/wiki/Configuration-file\" rel=\"nofollow noreferrer\">https://github.com/nlog/NLog/wiki/Configuration-file</a></p>\n\n<p>Following are the \"priority\" of levels (copied from above link):</p>\n\n<p>Level    Example</p>\n\n<ul>\n<li>Fatal    Highest level: important stuff down</li>\n<li>Error    For example application crashes / exceptions.</li>\n<li>Warn     Incorrect behavior but the application can continue</li>\n<li>Info     Normal behavior like mail sent, user updated profile etc.</li>\n<li>Debug    Executed queries, user authenticated, session expired</li>\n<li>Trace    Begin method X, end method X etc</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 0, "creation_date": 1579202507, "post_id": 52877429, "comment_id": 105696972, "body": "Notice that NLog ver. 4.6 introduces the property <code>MaxLogsCount</code>. Can be useful if wanting to avoid out-of-memory situations."}], "tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": false, "score": 2, "last_activity_date": 1539876210, "creation_date": 1539876210, "answer_id": 52877429, "question_id": 52864862, "link": "https://stackoverflow.com/questions/52864862/nlog-get-log-message-in-c/52877429#52877429", "title": "NLog get log message in c#", "body": "<p>In this case it's the best (IMO) to use the memory target. <a href=\"https://github.com/NLog/NLog/wiki/Memory-target\" rel=\"nofollow noreferrer\">(docs memory target)</a></p>\n\n<p>config:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;targets&gt;  \n    &lt;target name=\"target1\" xsi:type=\"Memory\" layout=\"${message}\"/&gt;  \n    &lt;target name=\"target2\" xsi:type=\"File\" fileName=\"C:\\log\\NLog.log\" layout=\"${longdate}|${message}\"/&gt;  \n&lt;/targets&gt;  \n\n&lt;rules&gt;  \n  &lt;logger name=\"*\" minlevel=\"Error\" writeTo=\"target1,target2\" /&gt;  \n&lt;/rules&gt; \n</code></pre>\n\n<p>log message:</p>\n\n<pre><code> LogManager.GetLogger(\"logger1\").Info(\"my log message\");\n</code></pre>\n\n<p>retrieval: (see also: <a href=\"https://nlog-project.org/documentation/v4.5.0/html/T_NLog_Targets_MemoryTarget.htm\" rel=\"nofollow noreferrer\">MemoryTarget class - API docs</a>)</p>\n\n<pre><code>var target = LogManager.Configuration.FindTargetByName&lt;MemoryTarget&gt;(\"target1\");\nIList&lt;string&gt; logs = target.Logs; \n// show logs etc.\n// delete if not needed any more: target.Logs.Clear()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3591, "user_id": 6229375, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ze36k.png?s=128&g=1", "display_name": "Dominic Jonas", "link": "https://stackoverflow.com/users/6229375/dominic-jonas"}, "is_accepted": false, "score": 0, "last_activity_date": 1579173088, "creation_date": 1579173088, "answer_id": 59768401, "question_id": 52864862, "link": "https://stackoverflow.com/questions/52864862/nlog-get-log-message-in-c/59768401#59768401", "title": "NLog get log message in c#", "body": "<p>You can use my <code>NLogViewer</code> (<a href=\"https://github.com/dojo90/NLogViewer\" rel=\"nofollow noreferrer\">https://github.com/dojo90/NLogViewer</a>). It is a <code>wpf</code> control. I know you wrote <code>win forms</code>, but maybe you can need it in future.</p>\n\n<p>There is also a nuget package available -> <a href=\"https://www.nuget.org/packages/Sentinel.NLogViewer\" rel=\"nofollow noreferrer\">https://www.nuget.org/packages/Sentinel.NLogViewer</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/TBn1r.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TBn1r.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 151, "user_id": 8673248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/79039b0e11243d667168c90281e5dea3?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/8673248/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1931, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1579173088, "creation_date": 1539818305, "question_id": 52864862, "link": "https://stackoverflow.com/questions/52864862/nlog-get-log-message-in-c", "title": "NLog get log message in c#", "body": "<p>I have recently started using NLog and I would like to display the log in my application before it is saved into a file.</p>\n\n<p>How can I get the following?</p>\n\n<pre><code>string message = logger.getLog() &lt;---- This is what I need\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm", "data-binding"], "comments": [{"owner": {"reputation": 5624, "user_id": 173303, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e2f3233532a20f4598bf1433709aee8?s=128&d=identicon&r=PG", "display_name": "nlawalker", "link": "https://stackoverflow.com/users/173303/nlawalker"}, "edited": false, "score": 0, "creation_date": 1550443697, "post_id": 52864826, "comment_id": 96259275, "body": "Can you define &quot;tag&quot; and &quot;tag type&quot; and give a few more examples?"}, {"owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "edited": false, "score": 3, "creation_date": 1550445289, "post_id": 52864826, "comment_id": 96259599, "body": "Even if you don&#39;t plan to have a backing database, you should benefit from brushing up on your <a href=\"https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model\" rel=\"nofollow noreferrer\">Entity-Relationship Model</a> knowledge."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1550445371, "post_id": 52864826, "comment_id": 96259614, "body": "You&#39;re going to have to improve this overly broad question to get the attention you seek. A small snippet of incomplete code and a wall of text is not going to clarify the overall problem."}, {"owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "edited": false, "score": 0, "creation_date": 1550446090, "post_id": 52864826, "comment_id": 96259744, "body": "Moreover,  although you tagged your question <code>mvvm</code> and <code>data-binding</code>, it is important to notice that, as a process, you&#39;re one step (or two) <i>before</i> that."}, {"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550460496, "post_id": 52864826, "comment_id": 96262470, "body": "I have provided enough code to attempt what I am asking.  Create a unified list of books, authors, and bookmarks, and then sort the list by total bookmarks.  An authors bookmark count is the sum total of bookmarks made in books they&#39;ve written.  A books bookmark count is obvious.  A bookmarks bookmark count is 1."}, {"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550463951, "post_id": 52864826, "comment_id": 96263200, "body": "Maintain the ability to view the details of any item, details being comprised of all the relevant tags. eg: if viewing the details of a <code>Language</code>, be able to see all the <code>Book</code>s in that language, as well as all the <code>Author</code>s of all those books."}, {"owner": {"reputation": 7770, "user_id": 2142028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ltfco.jpg?s=128&g=1", "display_name": "Maciej Los", "link": "https://stackoverflow.com/users/2142028/maciej-los"}, "edited": false, "score": 0, "creation_date": 1550483047, "post_id": 52864826, "comment_id": 96270723, "body": "Sorry, but i&#39;m bit confused... You wrote: <code>how it is stored in the database has little relevance with how to structure the data to be bound to a ListCollectionView</code> - Seems, you don&#39;t understand <a href=\"https://blogs.msdn.microsoft.com/msgulfcommunity/2013/03/13/understanding-the-basics-of-mvvm-design-pattern/\" rel=\"nofollow noreferrer\">MVVM design pattern</a>. Data presentation (<code>View</code>) is not the same as <code>Model</code>. The <code>ViewModel</code> acts as interface between <code>Model</code> and <code>View</code>. On the other hand, all of your classes, such as <code>Author</code>, <code>Bookmark</code> and <code>Book</code> may inherit from a base class. This is a power of OOP!"}, {"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550505611, "post_id": 52864826, "comment_id": 96284345, "body": "to all those commenting on databases: you do not need a circular data structure in a database. you do not need live updating.  while there are similar concepts, how you store information in your database does not affect how you structure your view models for binding programmatically. i feel like the rest of the comments saying i do not understand mvvm are completely missing the complexity of this ask.  it is precisely because i do understand mvvm i am asking these questions.please imagine adding far more tag types then i&#39;ve outlined in this example and how that grows the problem"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1550835220, "post_id": 52864826, "comment_id": 96427082, "body": "You could associate a dictionary with tag and value with a book but I think most of the things you have listed should be properties. Author and Bookmark have other attributes. You could ALSO have tags but personally I think they are best suited to things you cannot predict initially and are user added.  You can predict people that people will definitely be interested in all the properties you have listed. PS A book can have multiple authors so a book would have a list&lt;author&gt;."}], "answers": [{"comments": [{"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550505861, "post_id": 54741174, "comment_id": 96284474, "body": "thanks. this is a good approach i&#39;ve used myself since asking this question. it does work fairly well. hopefully i will have time to get back to my project and elaborate on what works and what doesnt work when going this route, which is basically a mix of pre-computed as well as live collections based on the type in question.  one issue i&#39;ve run into is parent collections will not see changes of collections that have already been computed, which leaves me with a ton of event listeners all over the place to live sort my lists"}, {"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550508215, "post_id": 54741174, "comment_id": 96285738, "body": "question: are you recommending that I mirror all the relationships?  Eg. should <code>Book</code> be populated with the live list of <code>Author</code> as well as have all my <code>Author</code>s populated with live lists of their books?  Ideally I would only be using one master view model for each object, so that changes like updating a name or description are seen everywhere and kept in sync."}, {"owner": {"reputation": 5624, "user_id": 173303, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e2f3233532a20f4598bf1433709aee8?s=128&d=identicon&r=PG", "display_name": "nlawalker", "link": "https://stackoverflow.com/users/173303/nlawalker"}, "reply_to_user": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550519290, "post_id": 54741174, "comment_id": 96290354, "body": "I do recommend that, because those relationships are an important part of your data model, although if you really don&#39;t need it for anything I don&#39;t see a problem leaving it out. I don&#39;t think I understand your comment about &quot;one master view model for each object&quot; or how this would prevent that. Regarding event listeners, yes, that&#39;s just how it goes: you need to emit and respond to events to trigger refreshes in models where things may be changing."}, {"owner": {"reputation": 5624, "user_id": 173303, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e2f3233532a20f4598bf1433709aee8?s=128&d=identicon&r=PG", "display_name": "nlawalker", "link": "https://stackoverflow.com/users/173303/nlawalker"}, "reply_to_user": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550519404, "post_id": 54741174, "comment_id": 96290387, "body": "Have you tried experimenting with using Entity Framework for this? It&#39;s intended to solve all of these kinds of problems. You may not want to use it in your final implementation, but looking at how it does things may give you some ideas/inspiration."}], "tags": [], "owner": {"reputation": 5624, "user_id": 173303, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e2f3233532a20f4598bf1433709aee8?s=128&d=identicon&r=PG", "display_name": "nlawalker", "link": "https://stackoverflow.com/users/173303/nlawalker"}, "is_accepted": false, "score": 4, "last_activity_date": 1550469263, "creation_date": 1550469263, "answer_id": 54741174, "question_id": 52864826, "link": "https://stackoverflow.com/questions/52864826/architecting-a-collection-of-related-items-of-different-types/54741174#54741174", "title": "Architecting a collection of related items of different types", "body": "<blockquote>\n  <p>Is using Book as a source of truth not a good approach?</p>\n</blockquote>\n\n<p>Think of your current setup as a relational database schema where no tables except for <code>Book</code> have a foreign key reference pointing to anything else. You always have to scan through the <code>Book</code> table to find any relationships containing books. In the example you gave, you have to walk the entire collection of books to find all the books created by a single author. If you had references going back the other direction, you would only have to find the single author, then look at its <code>Books</code> property.</p>\n\n<p>How would you currently get the list of authors that haven't written any books? You'd have to scan the list of books to get a list of every author that <em>does</em> have a book, then find each author <em>not</em> in that list.</p>\n\n<blockquote>\n  <p>How can I expose this kind of information to each non-Book tag type without giving each Author or Bookmark access to the global item collection (which feels like a big no-no), or maintaining lists of all relevant tags for each tag type (which just feels really painfully inefficient)?</p>\n</blockquote>\n\n<p>You're going to need properties that represent every tag type on every item &mdash; there's really no way around that. If you want the items in a list to be sorted based on the number of bookmarks that each of them has, then each one needs to offer up the number of bookmarks it has.</p>\n\n<p>But properties don't have to be backed by precomputed lists. They can effectively be instructions about how to do the appropriate joins to get the needed information. For example, the <code>Bookmarks</code> property of <code>Author</code> would use the <code>Books</code> property to get a list of bookmarks:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public IEnumerable&lt;Bookmark&gt; Bookmarks =&gt; this.Books.SelectMany(b =&gt; b.Bookmarks);\n</code></pre>\n\n<p>You could also cache the result, if you wanted.</p>\n\n<p>If you choose to continute not to have references from any entity back to <code>Book</code> and instead made <code>MyItems</code> available within your model classes, you could do the same sort of thing for relationships pointing to <code>Book</code>. For example, in <code>Author</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public IEnumerable&lt;Book&gt; Books =&gt; MyItems.OfType&lt;Book&gt;.Where(b =&gt; b.Authors.Contains(this));\n</code></pre>\n\n<p>I don't recommend doing this, though, as you are correct about it not feeling right. It chains your model's implementation to a separate, non-related data structure. My recommendation is to implement direct relationships with lists, and use computed properties for everything else you want to sort by.</p>\n"}, {"comments": [{"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550717563, "post_id": 54788485, "comment_id": 96374437, "body": "Yes. I could track a books authors via ids, and an authors books via ids. but as you add more tags this process becomes very cumbersome.  also, using ids alone does now allow for wpf databinding. the viewmodels need relationships to the other viewmodels. i can&#39;t view an <code>Author</code> and have the wpf databinding engine somehow use my custom <code>GetWrittenBooks</code> function.  and again, imagine how the complexity grows with more tag types."}], "tags": [], "owner": {"reputation": 763, "user_id": 9113099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ae1cd2e5c443e7b1ace3b8a466b9be?s=128&d=identicon&r=PG", "display_name": "Lennart", "link": "https://stackoverflow.com/users/9113099/lennart"}, "is_accepted": false, "score": 2, "last_activity_date": 1550672314, "creation_date": 1550672314, "answer_id": 54788485, "question_id": 52864826, "link": "https://stackoverflow.com/questions/52864826/architecting-a-collection-of-related-items-of-different-types/54788485#54788485", "title": "Architecting a collection of related items of different types", "body": "<p>In this situation, I would use Id's for the Books, Authors and perhaps even Bookmarks.\nAny relation between a Book/Author can be captured by the Book having the Author Id, and an Author having a Book Id for example. It also guarantees that Books/Authors will be unique. </p>\n\n<p>Why do you feel the need to let the Book, Author and Bookmark class inherit from the same base class? Is there shared functionality you want to be using? </p>\n\n<p>For the functionality you're seeking, I'd say making some extension methods could be really useful, for example </p>\n\n<pre><code>int GetWrittenBooks(this Author author)\n{\n    //either query your persistent storage or look it up in memory\n}\n</code></pre>\n\n<p>I'd say, make sure you don't put too much functionality in your classes. For example your Book class doesn't have any responsibilities regarding a possible Author birthday, for example. If the birthday of an Author would be  in the Author class, the Book shouldn't have access to the birthday of the author, neither should it have Authors, but just references to authors. The book would just be \"interested\" in which author it has, nothing more/less.</p>\n\n<p>The same goes for an Author: it doesn't have anything to do with the amount of letters on page 150 of Book x, for example. That's the responsibility of the book and it shouldn't concern the author. </p>\n\n<p>tl;dr: <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">Single responsibility principle</a>/<a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">Separation of concerns</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550718727, "post_id": 54796148, "comment_id": 96374707, "body": "so if we were to add <code>var language = new Language(&quot;English&quot;)</code>, I would then have to do <code>book.AddLanguage(language)</code> as well as <code>author.AddLanguage(language)</code> ?"}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "reply_to_user": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550747450, "post_id": 54796148, "comment_id": 96387576, "body": "Well...not necessarily. You can ad-hoc add any tag through the SubscribeToTag method. You wouldn&#39;t necessarily have a strongly typed way to interrogate it...but you could expose your enumerables in any way that seems appropriate."}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "reply_to_user": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550748003, "post_id": 54796148, "comment_id": 96387937, "body": "The <code>AddAuthor</code> and <code>AddBook</code> I just threw in for illustration. It&#39;s very loosely architected. You can tighten up what you want. For example, you could make a virtual <code>ReadRelations</code> method that provides the sole method for adding tags if you want. Your strongly typed enumerable properties in the base types may or may not find  matching tags at run time. No harm no foul. There&#39;s no hard-and-fast rules unless you impose them."}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "reply_to_user": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550751403, "post_id": 54796148, "comment_id": 96390047, "body": "I added a little more...just to illustrate bookmarks and their possible implications for the model."}, {"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550787932, "post_id": 54796148, "comment_id": 96410636, "body": "think i&#39;m going to try this. you should come by the WPF chat channel sometime. would be great to have you around.<a href=\"https://chat.stackoverflow.com/rooms/18165/wpf\">chat.stackoverflow.com/rooms/18165/wpf</a>"}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "reply_to_user": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550795243, "post_id": 54796148, "comment_id": 96412488, "body": "Great - I hope you have some luck with it. It was really fun to put together."}, {"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550891223, "post_id": 54796148, "comment_id": 96450049, "body": "IT IS WORKING SO AWESOME THANK YOU"}, {"owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "reply_to_user": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550928482, "post_id": 54796148, "comment_id": 96457544, "body": "Oh, my pleasure,@Julien! Thanks for the huge bump :-)"}], "tags": [], "owner": {"reputation": 4625, "user_id": 1478654, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BiUl3.png?s=128&g=1", "display_name": "Clay", "link": "https://stackoverflow.com/users/1478654/clay"}, "is_accepted": true, "score": 4, "last_activity_date": 1550751282, "last_edit_date": 1550751282, "creation_date": 1550701317, "answer_id": 54796148, "question_id": 52864826, "link": "https://stackoverflow.com/questions/52864826/architecting-a-collection-of-related-items-of-different-types/54796148#54796148", "title": "Architecting a collection of related items of different types", "body": "<p>I think I'd want the relationships between types to be as ethereal as possible. While most types are easily relatable, some have compound keys or odd relationships, and you just never know...so I'd externalize the finding of related types from the types themselves. Only a lucky few of us have a globally unique consistent key type.</p>\n\n<p>I could imagine letting all your types be both observers and observable. I've never done such a thing out loud...at least, not like this, but it's an interesting possibility...and given 500 points, I figured it would be worth noodling around with ;-)</p>\n\n<p>I'm using the term <code>Tag</code> to kinda follow your commentary. Maybe <code>Base</code> makes more sense to you? Anyway, in the following, a <code>Tag</code> is a type that notifies observing tags and listens to observable tags. I made the <code>observables</code> be a list of <code>Tag.Subscription</code>. Normally, you would just have a list of <code>IDisposable</code> instances, since that's all an observable typically provides. The reason for this is that <code>Tag.Subscription</code> lets you discover the underlying <code>Tag</code>...so that you can scrape your subscriptions for your types' list properties in derived types (as shown below in a <code>Author</code> and <code>Book</code>.)</p>\n\n<p>I set up the <code>Tag</code> subscriber/notifier mechanism to work without <em>values</em> per se...just to isolate the mechanism. I assume most <code>Tag</code>s would have values...but perhaps there are exceptions.</p>\n\n<pre><code>public interface ITag : IObservable&lt;ITag&gt;, IObserver&lt;ITag&gt;, IDisposable\n{\n  Type TagType { get; }\n  bool SubscribeToTag( ITag tag );\n}\n\npublic class Tag : ITag\n{\n  protected readonly List&lt;Subscription&gt; observables = new List&lt;Subscription&gt;( );\n  protected readonly List&lt;IObserver&lt;ITag&gt;&gt; observers = new List&lt;IObserver&lt;ITag&gt;&gt;( );\n  bool disposedValue = false;\n\n  protected Tag( ) { }\n\n  IDisposable IObservable&lt;ITag&gt;.Subscribe( IObserver&lt;ITag&gt; observer )\n  {\n    if ( !observers.Contains( observer ) )\n    {\n      observers.Add( observer );\n      observer.OnNext( this ); //--&gt; or not...maybe you'd set some InitialSubscription state \n                               //--&gt; to help the observer distinguish initial notification from changes\n    }\n    return new Subscription( this, observer, observers );\n  }\n\n  public bool SubscribeToTag( ITag tag )\n  {\n    if ( observables.Any( subscription =&gt; subscription.Tag == tag ) ) return false; //--&gt; could throw here\n    observables.Add( ( Subscription ) tag.Subscribe( this ) );\n    return true;\n  }\n\n  protected void Notify( ) =&gt; observers.ForEach( observer =&gt; observer.OnNext( this ) );\n\n  public virtual void OnNext( ITag value ) { }\n\n  public virtual void OnError( Exception error ) { }\n\n  public virtual void OnCompleted( ) { }\n\n  public Type TagType =&gt; GetType( );\n\n  protected virtual void Dispose( bool disposing )\n  {\n    if ( !disposedValue )\n    {\n      if ( disposing )\n      {\n        while ( observables.Count &gt; 0 )\n        {\n          var sub = observables[ 0 ];\n          observables.RemoveAt( 0 );\n          ( ( IDisposable ) sub ).Dispose( );\n        }\n      }\n      disposedValue = true;\n    }\n  }\n\n  public void Dispose( )\n  {\n    Dispose( true );\n  }\n\n  protected sealed class Subscription : IDisposable\n  {\n    readonly WeakReference&lt;Tag&gt; tag;\n    readonly List&lt;IObserver&lt;ITag&gt;&gt; observers;\n    readonly IObserver&lt;ITag&gt; observer;\n\n    internal Subscription( Tag tag, IObserver&lt;ITag&gt; observer, List&lt;IObserver&lt;ITag&gt;&gt; observers )\n    {\n      this.tag = new WeakReference&lt;Tag&gt;( tag );\n      this.observers = observers;\n      this.observer = observer;\n    }\n\n    void IDisposable.Dispose( )\n    {\n      if ( observers.Contains( observer ) ) observers.Remove( observer );\n    }\n\n    public Tag Tag\n    {\n      get\n      {\n        if ( tag.TryGetTarget( out Tag target ) )\n        {\n          return target;\n        }\n        return null;\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>If absolutely all tags have values, you could merge the following implementation with the foregoing...but I think it just feels better to separate them out.</p>\n\n<pre><code>public interface ITag&lt;T&gt; : ITag\n{\n  T OriginalValue { get; }\n  T Value { get; set; }\n  bool IsReadOnly { get; }\n}\n\npublic class Tag&lt;T&gt; : Tag, ITag&lt;T&gt;\n{\n  T currentValue;\n\n  public Tag( T value, bool isReadOnly = true ) : base( )\n  {\n    IsReadOnly = isReadOnly;\n    OriginalValue = value;\n    currentValue = value;\n  }\n\n  public bool IsReadOnly { get; }\n\n  public T OriginalValue { get; }\n\n  public T Value\n  {\n    get\n    {\n      return currentValue;\n    }\n    set\n    {\n      if ( IsReadOnly ) throw new InvalidOperationException( \"You should have checked!\" );\n      if ( Value != null &amp;&amp; !Value.Equals( value ) )\n      {\n        currentValue = value;\n        Notify( );\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>While this looks a bit busy, it's mostly vanilla subscription mechanics and disposability. The derived types would be drop-dead simple.</p>\n\n<p>Notice the protected <code>Notify()</code> method. I started off putting that into the interface, but realized that it's probably not a good idea to make that accessible from the outside world.</p>\n\n<p>So...onto examples; here's a sample <code>Author</code>. Notice how the <code>AddBook</code> sets up mutual relations. Not every type would have a method like this...but it illustrates how easy it is to do:</p>\n\n<pre><code>public class Author : Tag&lt;string&gt;\n{\n  public Author( string name ) : base( name ) { }\n\n  public void AddBook( Book book )\n  {\n    SubscribeToTag( book );\n    book.SubscribeToTag( this );\n  }\n\n  public IEnumerable&lt;Book&gt; Books\n  {\n    get\n    {\n      return\n        observables\n        .Where( o =&gt; o.Tag is Book )\n        .Select( o =&gt; ( Book ) o.Tag );\n    }\n  }\n\n  public override void OnNext( ITag value )\n  {\n    switch ( value.TagType.Name )\n    {\n      case nameof( Book ):\n        Console.WriteLine( $\"{( ( Book ) value ).CurrentValue} happened to {CurrentValue}\" );\n        break;\n    }\n  }\n}\n</code></pre>\n\n<p>...and <code>Book</code> would be similar. Another thought regarding the mutual relation; if you accidentally defined the relation both through <code>Book</code> and <code>Author</code>, there's no harm, no foul...because the subscription mechanism just quietly skips duplications (I tested the case just to be sure):</p>\n\n<pre><code>public class Book : Tag&lt;string&gt;\n{\n  public Book( string name ) : base( name ) { }\n\n  public void AddAuthor( Author author )\n  {\n    SubscribeToTag( author );\n    author.SubscribeToTag( this );\n  }\n\n  public IEnumerable&lt;Author&gt; Authors\n  {\n    get\n    {\n      return\n        observables\n        .Where( o =&gt; o.Tag is Author )\n        .Select( o =&gt; ( Author ) o.Tag );\n    }\n  }\n\n  public override void OnNext( ITag value )\n  {\n    switch ( value.TagType.Name )\n    {\n      case nameof( Author ):\n        Console.WriteLine( $\"{( ( Author ) value ).CurrentValue} happened to {CurrentValue}\" );\n        break;\n    }\n  }\n}\n</code></pre>\n\n<p>...and finally, a little test harness to see if any of it works:</p>\n\n<pre><code>var book = new Book( \"Pride and...\" );\nvar author = new Author( \"Jane Doe\" );\n\nbook.AddAuthor( author );\n\nConsole.WriteLine( \"\\nbook's authors...\" );\nforeach ( var writer in book.Authors )\n{\n  Console.WriteLine( writer.Value );\n}\n\nConsole.WriteLine( \"\\nauthor's books...\" );\nforeach ( var tome in author.Books )\n{\n  Console.WriteLine( tome.Value );\n}\n\nauthor.AddBook( book ); //--&gt; maybe an error\n\nConsole.WriteLine( \"\\nbook's authors...\" );\nforeach ( var writer in book.Authors )\n{\n  Console.WriteLine( writer.Value );\n}\n\nConsole.WriteLine( \"\\nauthor's books...\" );\nforeach ( var tome in author.Books )\n{\n  Console.WriteLine( tome.Value );\n}\n</code></pre>\n\n<p>...which spit out this:</p>\n\n<pre><code>Jane Doe happened to Pride and...\nPride and... happened to Jane Doe\n\nbook's authors...\nJane Doe\n\nauthor's books...\nPride and...\n\nbook's authors...\nJane Doe\n\nauthor's books...\nPride and...\n</code></pre>\n\n<p>While I had the list properties being <code>IEnumerable&lt;T&gt;</code>, you could make them be lazily loaded lists. You'd need to be able to invalidate the list's backing store, but that might flow pretty naturally from your observables.</p>\n\n<p>There are hundreds of ways to go with all this. I tried to not get carried away. Don't know...it would take some testing to figure out how practical this is...but it was sure fun to think about.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Something I forgot to illustrate...bookmarks. I guess a bookmark's value is an updateable page number? Something like:</p>\n\n<pre><code>public class Bookmark : Tag&lt;int&gt;\n{\n  public Bookmark( Book book, int pageNumber ) : base( pageNumber, false )\n  {\n    SubscribeToTag( book );\n    book.SubscribeToTag( this );\n  }\n\n  public Book Book\n  {\n    get\n    {\n      return\n        observables\n        .Where( o =&gt; o.Tag is Book )\n        .Select( o =&gt; o.Tag as Book )\n        .FirstOrDefault( ); //--&gt; could be .First( ) if you null-check book in ctor\n    }\n  }\n}\n</code></pre>\n\n<p>Then, a <code>Book</code> might have an <code>IEnumerable&lt;Bookmark&gt;</code> property:</p>\n\n<pre><code>public class Book : Tag&lt;string&gt;\n{\n  //--&gt; omitted stuff... &lt;--//\n\n  public IEnumerable&lt;Bookmark&gt; Bookmarks\n  {\n    get\n    {\n      return\n        observables\n        .Where( o =&gt; o.Tag is Bookmark )\n        .Select( o =&gt; ( Bookmark ) o.Tag );\n    }\n  }\n\n  //--&gt; omitted stuff... &lt;--//\n}\n</code></pre>\n\n<p>The neat thing about that, is authors' bookmarks are their books' bookmarks:</p>\n\n<pre><code>public class Author : Tag&lt;string&gt;\n{\n   //--&gt; omitted stuff... &lt;--//\n\n   public IEnumerable&lt;Bookmark&gt; Bookmarks =&gt; Books.SelectMany( b =&gt; b.Bookmarks );\n\n   //--&gt; omitted stuff... &lt;--//\n}\n</code></pre>\n\n<p>For yuks, I made the bookmark take a book on construction...just to illustrate a different approach. Mix and match as needed ;-) Notice that the bookmark doesn't have a list of books...just a single book...because that more correctly fits the model. It's interesting to realize that you could resolve all a books bookmarks from a single bookmark:</p>\n\n<pre><code>var bookmarks = new List&lt;Bookmark&gt;( bookmark.Book.Bookmarks );\n</code></pre>\n\n<p>...and just as easily get all the authors bookmarks:</p>\n\n<pre><code>var authBookmarks = new List&lt;Bookmark&gt;( bookmark.Book.Authors.SelectMany( a=&gt; a.Bookmarks ) );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "edited": false, "score": 0, "creation_date": 1550877367, "post_id": 54833805, "comment_id": 96447665, "body": "the question clearly states it is a unified list.  I cannot have seperate lists for each type of item.  I am also not interested in a solution that involves creating dozens to hundreds <code>Get X By Y</code> functions"}], "tags": [], "owner": {"reputation": 2385, "user_id": 1637036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3c64806296a5a8e6e312152bcfe7e1?s=128&d=identicon&r=PG", "display_name": "aiodintsov", "link": "https://stackoverflow.com/users/1637036/aiodintsov"}, "is_accepted": false, "score": 0, "last_activity_date": 1550863336, "creation_date": 1550863336, "answer_id": 54833805, "question_id": 52864826, "link": "https://stackoverflow.com/questions/52864826/architecting-a-collection-of-related-items-of-different-types/54833805#54833805", "title": "Architecting a collection of related items of different types", "body": "<p>Basically you can approach this with a standard entity model approach as with any database, just in your case your database is in-memory.</p>\n\n<pre><code>public class Repository\n{\n    public List&lt;Book&gt; GetBooksByAuthor(Author author) {} // books by author\n    public List&lt;Author&gt; GetAuthors() {}\n    // ...\n}\n</code></pre>\n\n<p>another positive here is you can implement each lookup in a way that is more efficient.\nyou can introduce an interface to the <code>Repository</code> if you want to swap it for a database later on.</p>\n\n<p>every entity can hold a reference back to repository and thus you can provide aliases on entity level for convinience:</p>\n\n<pre><code>public class Author\n{\n    private Repository repo;\n    public Author(Repository repo)\n    {\n        this.repo = repo;\n    }\n    // ... \n    public List&lt;Book&gt; Books =&gt; this.repo.GetBooksByAuthor(this);\n}\n</code></pre>\n\n<p>depending on how data integrity is important you can also opt to other forms of collections, that would prevent modifications on queries, or hold changes list to each entity and so on.</p>\n\n<p>if it's an internal library many of such concerns may be lifted to simplify code.</p>\n"}], "owner": {"reputation": 938, "user_id": 1062232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O6jPr.jpg?s=128&g=1", "display_name": "Julien", "link": "https://stackoverflow.com/users/1062232/julien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 2, "accepted_answer_id": 54796148, "answer_count": 4, "score": 6, "last_activity_date": 1550863336, "creation_date": 1539817887, "last_edit_date": 1550455992, "question_id": 52864826, "link": "https://stackoverflow.com/questions/52864826/architecting-a-collection-of-related-items-of-different-types", "title": "Architecting a collection of related items of different types", "body": "<pre><code>public class Base : ICustomItem\n{\n}\n\npublic class Book : Base\n{\n    public List&lt;Author&gt; Authors;\n    public List&lt;Bookmark&gt; Bookmarks;\n}\n\npublic class Author : Base\n{\n}\n\npublic class Bookmark : Base\n{\n}\n\npublic ObservableCollection(ICustomItem) MyItems;\n\npublic ListCollectionView MyItemsView { get; } = new ListCollectionView(MyItems);\n</code></pre>\n\n<p>With a setup like this, I can show a singular list containing books, authors, and bookmarks. I can drill down into a book, and see that specific books authors and bookmarks.</p>\n\n<p>Problem #1: I'd like to drill down into an author, and see all of the authors books.  On top of that, I'd like to see all the bookmarks for all the books by that author.</p>\n\n<p>An easy solution is to add the appropriate lists to each other class.  eg.\n<code>public List&lt;Book&gt; Books</code> to the <code>Author</code> class.  However, this gets out of hand when you start adding more categories (eg. <code>Genre</code>, <code>Publisher</code>, <code>Language</code>, etc)</p>\n\n<p>Problem 2: I'd also like to be able to sort my list by the number of any selected tag, including any relevant tag type:</p>\n\n<p><code>MyItemsView.SortDescriptions.Add(new SortDescription(\"Bookmarks.Count\", Descending);</code> </p>\n\n<p>The number of bookmarks an author has should be the sum of all the bookmarks for all their books.  </p>\n\n<p>What is a good way to architect this kind of data so as to not have to maintain multiple lookup collections for every type?  Is using <code>Book</code> as a source of truth not a good approach?  Ideally I'd be able to sort by any tag type.</p>\n\n<p>In my real application, I have solved problem #1: when drilling down into eg. an <code>Author</code>, I find all the <code>Book</code> in <code>MyItems</code> with a matching author, and then pull all the <code>Genre</code>, <code>Publisher</code>, etc from the list of books pulled.  In this way I can display all the tags an author has based on the tags their books provided. (I do this in the scope of my list view model, as I know which item I am drilling down into and have access to the main <code>MyItems</code> collection)</p>\n\n<p>However, using this approach I can't seem to solve problem #2. To be able to sort on <code>Bookmarks.Count</code>, I need to move it into <code>Base</code> and somehow populate it for each relevant tag type.  </p>\n\n<p>How can I expose this kind of information to each non-<code>Book</code> tag type without giving each <code>Author</code> or <code>Bookmark</code> access to the global item collection (which feels like a big no-no), or maintaining lists of all relevant tags for each tag type (which just feels really painfully inefficient)?</p>\n\n<p>Edit 1:\nCan you define \"tag\" and \"tag type\" and give a few more examples?</p>\n\n<p>I'm using tag to define any kind of item i'd like to put into my list. A <code>Book</code>, an <code>Author</code>, a <code>Bookmark</code> are all tags. <code>Language</code> and <code>Genre</code> would also be tags.  A book has authors, and languages, just like a language has books and authors.</p>\n\n<p>Edit2:\nEven if you don't plan to have a backing database, you should benefit from brushing up on your Entity-Relationship Model knowledge</p>\n\n<p>I understand this is a highly relational structure.  I do have a backing database but how it is stored in the database has little relevance with how to structure the data to be bound to a <code>ListCollectionView</code></p>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539817870, "post_id": 52864781, "comment_id": 92643885, "body": "Absolutely yes.  I just completed a project where is did that using excel vba. The controls on the worksheet were easy.  The controls in a form could not be added by a vba script.  I even changed the size and location.In c# the work is pretty much the same.  It is probably better to add the controls instead of renaming.  With renaming you need to have the old name and new name in the text file.  Then find the control by the old name which is slow and takes time."}, {"owner": {"reputation": 15, "user_id": 10515588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RAtszhpjB1g/AAAAAAAAAAI/AAAAAAAAACE/cYwAhZdt9Fg/photo.jpg?sz=128", "display_name": "UserFPS", "link": "https://stackoverflow.com/users/10515588/userfps"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539821816, "post_id": 52864781, "comment_id": 92644658, "body": "Hi, sorry should have clarified. Buttons are already added on the form page. I just need to change the button text. I can change the text through code but I want to change multiple buttons text through the array list"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1539826984, "post_id": 52864781, "comment_id": 92645630, "body": "How did you plan to map a Button Name with its saved Text? Did you store a reference: <code>[Button Name]</code>:<code>[Text]</code> or <code>[Tag Value]</code>:<code>[Text]</code> or <code>[Button TabIndex]</code>:<code>[Text]</code> or something else? If so, use a Form&#39;s Controls collection to identify a Button and set its Text to the saved value. Using a Button&#39;s Name as mapped reference makes it easier."}], "owner": {"reputation": 15, "user_id": 10515588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RAtszhpjB1g/AAAAAAAAAAI/AAAAAAAAACE/cYwAhZdt9Fg/photo.jpg?sz=128", "display_name": "UserFPS", "link": "https://stackoverflow.com/users/10515588/userfps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539817495, "creation_date": 1539817495, "question_id": 52864781, "link": "https://stackoverflow.com/questions/52864781/using-stored-array-values-read-from-a-file-c", "title": "Using stored array values read from a file C#", "body": "<p>I have a text file in which I am getting data (per line) and loading it into an array. I'm wondering if it's possible to use the array (1 per line) to name the buttons (10+ buttons) I have.\nMy goal is: Form 1 loads with multiple buttons on screen, form 2 will have data on it which changes the button text on form 1. I save a text file of all button text on form 1. When I reload the form, I'm wanting it to read from the text file with the saved changes and load those button names to it.</p>\n\n<p>I have it saving the button text + loading the text file to an array, but how do I use the values from the array to change the buttons text for each button.</p>\n\n<p>At the moment, it's only changing 1 button text to the whole array list I created.</p>\n\n<pre><code>string[] lines1 = System.IO.File.ReadAllLines(@\"C:\\CSharp\\important.txt\");\n\nforeach (var item1 in lines1)\n        {\n            b1112.Text = item1;\n            MessageBox.Show(item1);\n        }\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "solr", "batch-processing"], "answers": [{"comments": [{"owner": {"reputation": 190, "user_id": 550621, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/40303b82660341198ddd84b0e2084f85?s=128&d=identicon&r=PG&f=1", "display_name": "zBomb", "link": "https://stackoverflow.com/users/550621/zbomb"}, "edited": false, "score": 0, "creation_date": 1541524830, "post_id": 52872551, "comment_id": 93243672, "body": "The commit within was interesting and might help someone else with a similar issue; however, it was not the solution.  We found the issue, and it was outside of the code I pasted.  Appreciate the input!"}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 190, "user_id": 550621, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/40303b82660341198ddd84b0e2084f85?s=128&d=identicon&r=PG&f=1", "display_name": "zBomb", "link": "https://stackoverflow.com/users/550621/zbomb"}, "edited": false, "score": 0, "creation_date": 1541528462, "post_id": 52872551, "comment_id": 93245488, "body": "What was the issue? It might be helpful as a hint for anyone else stumbling upon the post later."}, {"owner": {"reputation": 190, "user_id": 550621, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/40303b82660341198ddd84b0e2084f85?s=128&d=identicon&r=PG&f=1", "display_name": "zBomb", "link": "https://stackoverflow.com/users/550621/zbomb"}, "edited": false, "score": 0, "creation_date": 1542047948, "post_id": 52872551, "comment_id": 93420304, "body": "We had to call task.Wait() before we committed!"}], "tags": [], "owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "is_accepted": false, "score": 0, "last_activity_date": 1539860659, "creation_date": 1539860659, "answer_id": 52872551, "question_id": 52864767, "link": "https://stackoverflow.com/questions/52864767/last-batch-never-uploads-to-solr-when-uploading-batches-of-data-from-json-file-s/52872551#52872551", "title": "Last batch never uploads to Solr when uploading batches of data from json file stream", "body": "<p>Since changing the size of the data set and adding a breakpoint \"fixes\" it, this is most certainly a race condition. Since you haven't added the code that actually indexes the content, it's impossible to say what the issue <em>really</em> is, but my guess is that the last commit happens before all the threads have finished, and only works when <em>all</em> threads are done (if you sleep the threads, the issue will still be there, since all threads sleep for the same time). </p>\n\n<p>The easy fix - use <code>commitWithin</code> instead, and never issue explicit commits. The <code>commitWithin</code> parmaeter makes sure that the documents become available in the index within the given time frame (given as milliseconds). To make sure that the documents you submit becomes available within ten seconds, append <code>&amp;commitWithin=10000</code> to your URL.</p>\n\n<p>If there's already documents pending a commit, the documents added will be committed before the ten seconds has ellapsed, but even if there's just one last document being submitted as the last batch, it'll never be more than ten seconds before it becomes visible (.. and there will be no documents left forever in a non-committed limbo).</p>\n\n<p>That way you won't have to keep your threads synchronized or issue a final commit, as long as you wait until all threads have finished before exiting your application (if it's an application that actually terminates).</p>\n"}], "owner": {"reputation": 190, "user_id": 550621, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/40303b82660341198ddd84b0e2084f85?s=128&d=identicon&r=PG&f=1", "display_name": "zBomb", "link": "https://stackoverflow.com/users/550621/zbomb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539860659, "creation_date": 1539817411, "question_id": 52864767, "link": "https://stackoverflow.com/questions/52864767/last-batch-never-uploads-to-solr-when-uploading-batches-of-data-from-json-file-s", "title": "Last batch never uploads to Solr when uploading batches of data from json file stream", "body": "<p>This might be a long shot but I might as well try here. There is a block of c# code that is rebuilding a solr core. The steps are as follows: </p>\n\n<ol>\n<li>Delete all the existing documents</li>\n<li>Get the core entities</li>\n<li>Split the entities into batches of 1000</li>\n<li>Spin of threads to preform the next set of processes: </li>\n<li>Serialize each batch to json and writing the json to a file on the server \nhosting the core</li>\n<li>Send a command to the core to upload that file using System.Net.WebClient    solrurl/corename/update/json?stream.file=myfile.json&amp;stream.contentType=application/json;charset=utf-8</li>\n<li>Delete the file.  I've also tried deleting the files after all the batches are done, as well as not deleting the files at all</li>\n<li>After all batches are done it commits.  I've also tried committing\nafter each batch is done.</li>\n</ol>\n\n<p>My problem is the last batch will not upload if it's much less than the batch size.  It flows through like the command was called but nothing happens. It throws no exceptions and I see no errors in the solr logs.  My questions are Why? and How can I ensure the last batch always gets uploaded?  We think it's a timing issue, but we've added Thread.Sleep(30000) in many parts of the code to test that theory and it still happens.</p>\n\n<p>The only time it doesn't happen is: </p>\n\n<ul>\n<li>if the batch is full or almost full </li>\n<li>we don't run multiple threads it</li>\n<li>we put a break point at the File.Delete line on the last batch and wait for 30 seconds or so, then continue</li>\n</ul>\n\n<p>Here is the code for writing the file and calling the update command.  This is called for each batch.</p>\n\n<pre><code>    private const string\n        FileUpdateCommand = \"{1}/update/json?stream.file={0}&amp;stream.contentType=application/json;charset=utf-8\",\n        SolrFilesDir = @\"\\\\MYSERVER\\SolrFiles\",\n        SolrFileNameFormat = SolrFilesDir + @\"\\{0}-{1}.json\",\n        _solrUrl = \"http://MYSERVER:8983/solr/\",\n        CoreName = \"MyCore\";\n\n    public void UpdateCoreByFile(List&lt;CoreModel&gt; items)\n    {\n        if (items.Count == 0)\n            return;\n        var settings = new JsonSerializerSettings { DateTimeZoneHandling = DateTimeZoneHandling.Utc };\n        var dir = new DirectoryInfo(SolrFilesDir);\n        if (!dir.Exists)\n            dir.Create();\n        var filename = string.Format(SolrFileNameFormat, Guid.NewGuid(), CoreName);\n        using (var sw = new StreamWriter(filename))\n        {\n            sw.Write(JsonConvert.SerializeObject(items, settings));\n        }\n\n        var file = HttpUtility.UrlEncode(filename);\n        var command = string.Format(FileUpdateCommand, file, CoreName);\n\n        using (var client = _clientFactory.GetClient())//System.Net.WebClient\n        {\n            client.DownloadData(new Uri(_solrUrl + command));\n        }\n        //Thread.Sleep(30000);//doesn't work if I add this\n        File.Delete(filename);//works here if add breakpoint and wait 30 sec or so\n    }\n</code></pre>\n\n<p>I'm just trying to figure out why this is happening and how to address it.  I hope this makes sense, and I have provided enough information and code. Thanks for any help.</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "filter", "prism"], "comments": [{"owner": {"reputation": 934, "user_id": 2466207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ac435e8a8a8b51d9e7f36b70555a3?s=128&d=identicon&r=PG", "display_name": "Luk&#225;\u0161 Koten", "link": "https://stackoverflow.com/users/2466207/luk%c3%a1%c5%a1-koten"}, "edited": false, "score": 0, "creation_date": 1539843703, "post_id": 52864708, "comment_id": 92649633, "body": "Did you try to debug IsFilteredOut property during the filtering? Does it shows right values based on current filter?"}, {"owner": {"reputation": 275, "user_id": 2107786, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4eaec0ef96adb8c157b56714a6965d19?s=128&d=identicon&r=PG", "display_name": "Trmotta", "link": "https://stackoverflow.com/users/2107786/trmotta"}, "reply_to_user": {"reputation": 934, "user_id": 2466207, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d72ac435e8a8a8b51d9e7f36b70555a3?s=128&d=identicon&r=PG", "display_name": "Luk&#225;\u0161 Koten", "link": "https://stackoverflow.com/users/2466207/luk%c3%a1%c5%a1-koten"}, "edited": false, "score": 0, "creation_date": 1539865975, "post_id": 52864708, "comment_id": 92661614, "body": "What I have from IsFilteredOut is the following:   Item1 (true)   -Item1-1 (true)  -Item1-2 (false)    --Item1-2-1 (false)       ---Item1-2-1-1 (false) Item2 (true)  -Item2-1 (true)  -Item2-2 (false)  So it seems about right to me, but _visibleItems.Filter will cut out all the childs just because the father IsFilteredOut flag is set to true.  If I comment out the if (!child.IsFilteredOut) part, I get the following:  Item1 (false)  -Item1-2 (false)    --Item1-2-1 (false)       ---Item1-2-1-1 (false) Item2 (false)  -Item2-1 (true)  -Item2-2 (false)"}], "owner": {"reputation": 275, "user_id": 2107786, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4eaec0ef96adb8c157b56714a6965d19?s=128&d=identicon&r=PG", "display_name": "Trmotta", "link": "https://stackoverflow.com/users/2107786/trmotta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539816983, "creation_date": 1539816983, "question_id": 52864708, "link": "https://stackoverflow.com/questions/52864708/is-it-possible-to-filter-an-icollectionview-to-only-show-children-instead-of-the", "title": "Is it possible to Filter an ICollectionView to only show children instead of the whole Hierarchy?", "body": "<p>I've been trying to Filter an ObservableCollection (something similar to a TreeView) to only show the exact hits of the filter and not the whole Hierarchy. And this needs to be done without adding a second ObservableCollection, since that would just make the whole code harder to maintain.</p>\n\n<p>So, for instance, let's say we have the following Hierarchy:</p>\n\n<pre><code>Item1\n -Item1-1\n -Item1-2\n   --Item1-2-1\n      ---Item1-2-1-1\nItem2\n -Item2-1\n -Item2-2\n</code></pre>\n\n<p>And I'd like to filter it by \"-2\". The result I'm expecting is:</p>\n\n<pre><code>Item1-2\nItem1-2-1\nItem1-2-1-1\nItem2-2\n</code></pre>\n\n<p>But the result I'm getting is as this:</p>\n\n<pre><code>Item1\n -Item1-2\n   --Item1-2-1\n      ---Item1-2-1-1\nItem2\n -Item2-1\n</code></pre>\n\n<p>So no Hierarchy of any kind is shown upon filtering. Is this possible? So far what I've got is the following code for filtering:</p>\n\n<pre><code>private ICollectionView _visibleItems;\n    public ICollectionView VisibleItems\n    {\n        get\n        {\n                return GetVisibleItems(_items);\n        }\n    }\n\n    private ICollectionView GetVisibleItems( ObservableCollection&lt;TreeSource&gt; ts )\n    {\n        if (ts != null)\n        {\n            _visibleItems = CollectionViewSource.GetDefaultView(ts);\n            _visibleItems.Filter = i =&gt; !(( TreeSource )i).IsFilteredOut;\n\n            RaisePropertyChanged(\"VisibleItems\");\n        }\n        return _visibleItems;\n    }\n\n    public string Filter\n    {\n        get { return _filter; }\n        set\n        {\n            SetProperty(ref _filter, value);\n            foreach (TreeSource item in _items)\n            {\n                item.ApplyFilter(_filter);\n            }\n\n            VisibleItems.Refresh();\n        }\n    }\n\ninternal void ApplyFilter(string filter)\n    {\n        IsFilteredOut = Text.IndexOf(filter, StringComparison.OrdinalIgnoreCase) &lt; 0;\n\n        if (Children == null)\n            return;\n\n        foreach (var child in Children)\n        {\n            child.ApplyFilter(filter);\n\n            //if (!child.IsFilteredOut)\n            //{\n            //    IsFilteredOut = false;\n            //}\n        }\n\n        VisibleChildren.Refresh();\n\n    } \n</code></pre>\n"}, {"tags": ["c#", "logging", "log4net", "xunit"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 2, "creation_date": 1539817420, "post_id": 52864680, "comment_id": 92643775, "body": "Have you tried <a href=\"https://haacked.com/archive/2006/09/27/Log4Net_Troubleshooting.aspx/\" rel=\"nofollow noreferrer\">enabling log4net debug mode</a>"}, {"owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1539823746, "post_id": 52864680, "comment_id": 92645036, "body": "I have not - great tip.  The day&#39;s getting late, so I&#39;ll check this out first thing tomorrow."}, {"owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "reply_to_user": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1539824781, "post_id": 52864680, "comment_id": 92645225, "body": "I actually just tried it - copied the content verbatim from the link you provided into my app.config, moved the log4net content into the app.config, and updated the FileInfo instance to use the app.config, ran it and ... nada.  No mylog.log, and no log4net.txt.  :(  Still a good suggestion tho."}], "answers": [{"comments": [{"owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "edited": false, "score": 0, "creation_date": 1539885176, "post_id": 52866169, "comment_id": 92673086, "body": "That works, I see what I missed now.  Will update my question with the details.  Thanks!"}], "tags": [], "owner": {"reputation": 1425, "user_id": 7060504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/889765df2c640598c38d1edec73f628b?s=128&d=identicon&r=PG&f=1", "display_name": "Z.R.T.", "link": "https://stackoverflow.com/users/7060504/z-r-t"}, "is_accepted": true, "score": 2, "last_activity_date": 1539830301, "creation_date": 1539830301, "answer_id": 52866169, "question_id": 52864680, "link": "https://stackoverflow.com/questions/52864680/no-logging-and-repository-root-has-appender-but-logger-has-no-appender/52866169#52866169", "title": "No logging and repository root has appender but Logger has no appender", "body": "<p><strong>log4net.config</strong> - set copy if newer or copy always</p>\n\n<pre><code>&lt;log4net&gt;\n  &lt;appender name=\"SomeRollingLogFileAppender\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n    &lt;file value=\"..\\\\logs\\\\loginfo.log\" /&gt;\n    &lt;appendToFile value=\"true\" /&gt;\n    &lt;rollingStyle value=\"Size\" /&gt;\n    &lt;maxSizeRollBackups value=\"5\" /&gt;\n    &lt;maximumFileSize value=\"10MB\" /&gt;\n    &lt;staticLogFileName value=\"true\" /&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%thread] %level %logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=\"console\" type=\"log4net.Appender.ConsoleAppender\"&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%thread] %level %logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;logger name=\"SomeLogger\"&gt;\n    &lt;level value=\"INFO\" /&gt;\n    &lt;appender-ref ref=\"SomeRollingLogFileAppender\" /&gt;\n    &lt;appender-ref ref=\"console\" /&gt;\n  &lt;/logger&gt;\n&lt;/log4net&gt;\n</code></pre>\n\n<p><strong>Log.cs</strong></p>\n\n<pre><code>public class Log\n{\n    private static readonly ILog someLogger = LogManager.GetLogger(\"SomeLogger\");\n    static Log()\n    {\n        if (!UnitTestDetector.IsRunningFromNUnit)\n        {\n            XmlConfigurator.Configure(new FileInfo(\"log4net.config\"));\n        }\n        else\n        {\n            var testDir = TestContext.CurrentContext.TestDirectory;\n            XmlConfigurator.Configure(new FileInfo(Path.Combine(testDir,\"log4net.config\")));\n        }\n    }\n\n    public static void Info(string msg)\n    {\n        someLogger.Info(msg);\n    }\n}\n\nstatic class UnitTestDetector\n{\n    static UnitTestDetector()\n    {\n        foreach (Assembly assem in AppDomain.CurrentDomain.GetAssemblies())\n        {\n            if (assem.FullName.ToLowerInvariant().StartsWith(\"nunit.framework\"))\n            {\n                IsRunningFromNUnit = true;\n                break;\n            }\n        }\n    }\n\n    public static bool IsRunningFromNUnit { get; } = false;\n}\n</code></pre>\n\n<p><strong>Program.cs</strong></p>\n\n<pre><code>[TestFixture]\nclass Program\n{\n\n    static void Main()\n    {\n        Log.Info(\"test\");\n        Console.ReadLine();\n    }\n\n    [Test]\n    public void Test()\n    {\n        Log.Info(\"test\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 636, "user_id": 6007429, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e75c8ca744f86d904f65f70ab2a74dca?s=128&d=identicon&r=PG&f=1", "display_name": "ket", "link": "https://stackoverflow.com/users/6007429/ket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 862, "favorite_count": 0, "accepted_answer_id": 52866169, "answer_count": 1, "score": 1, "last_activity_date": 1539885687, "creation_date": 1539816809, "last_edit_date": 1539885687, "question_id": 52864680, "link": "https://stackoverflow.com/questions/52864680/no-logging-and-repository-root-has-appender-but-logger-has-no-appender", "title": "No logging and repository root has appender but Logger has no appender", "body": "<p>I'm sure I'm missing something basic.  I'm trying to enable log4net logging as part of an XUnit integration test, but no log file is getting written to disk.  </p>\n\n<p>I've tried specifying the log configuration using both using a config file and programmatically:</p>\n\n<p><strong>Config file:</strong></p>\n\n<pre><code> &lt;log4net&gt;\n  &lt;root&gt;\n    &lt;level value=\"INFO\" /&gt;\n    &lt;appender-ref ref=\"console\" /&gt;\n    &lt;appender-ref ref=\"file\" /&gt;\n  &lt;/root&gt;\n  &lt;appender name=\"file\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n    &lt;file value=\"mylog.log\" /&gt;\n    &lt;appendToFile value=\"true\" /&gt;\n    &lt;rollingStyle value=\"Size\" /&gt;\n    &lt;maxSizeRollBackups value=\"5\" /&gt;\n    &lt;maximumFileSize value=\"10MB\" /&gt;\n    &lt;staticLogFileName value=\"true\" /&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%thread] %level %logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n&lt;/log4net&gt;\n</code></pre>\n\n<p><strong>Programatically</strong></p>\n\n<pre><code>    private void ConfigureAppender()\n    {\n        var layout = new PatternLayout(\"%date [%thread] %level %logger - %message%newline\");\n        var appender = new RollingFileAppender {Name = \"file\", File = \"c:\\\\temp\\\\mylog.log\", AppendToFile = true, RollingStyle = RollingFileAppender.RollingMode.Size, MaxSizeRollBackups = 5, MaximumFileSize = \"10MB\", StaticLogFileName = true, Layout = layout};\n        var repository = LogManager.GetRepository() as Hierarchy;\n        repository.Root.AddAppender(appender);\n        repository.Root.Level = Level.Info;\n        repository.Configured = true;\n        repository.RaiseConfigurationChanged(EventArgs.Empty);\n    }\n</code></pre>\n\n<p>I then get the logger, as early in the program execution as possible, using something like this (I've tried <code>[assembly: XmlConfigurator(ConfigFile = \"log4net.config\", Watch = true)]</code> as well):</p>\n\n<pre><code>        var fileInfo = new FileInfo(\"log4net.config\");\n        if (!fileInfo.Exists) throw new Exception();\n        XmlConfigurator.Configure(fileInfo);\n        var log = LogManager.GetLogger(MethodBase.GetCurrentMethod().DeclaringType);\n        log.Fatal(\"This is a test\");\n</code></pre>\n\n<p>No logs either way.  Whether I define the logging via config or programmatically, I see the screenshot at bottom when I inspect the log object.  Note the following:</p>\n\n<ol>\n<li>The level settings have been picked up from the config definition.</li>\n<li>The repository root has the two appenders as defined in the config definition.</li>\n<li>The Logger instance itself has no appenders.  </li>\n</ol>\n\n<p>Can someone please tell me what I'm missing?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ALFYY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ALFYY.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>EDIT:</strong>\nThis is what I missed, as determined from Z.R.T.'s answer:</p>\n\n<ul>\n<li>I needed a <code>logger</code> element in the log4net.config/app.config.  </li>\n<li>I needed to reference the logger by name, e.g. <code>LogManager.GetLogger(\"IntegrationLogger\");</code>.</li>\n</ul>\n\n<p>Once I added these two things, log4net started working. The only downside is that all the logs are marked with \"IntegrationLogger\" instead of the class in which the log is generated, but this at least got the logging started.  </p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1539817299, "post_id": 52864653, "comment_id": 92643748, "body": "Does it happen to hit <code>SpinUntil</code> once and then get stuck the 2nd time? You might be experiencing a deadlock. It should be easy enough to find out using your debugger."}, {"owner": {"reputation": 344, "user_id": 6132091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff1d3b0bb845e4e3e9be07ec0ea05e7?s=128&d=identicon&r=PG&f=1", "display_name": "Cerike", "link": "https://stackoverflow.com/users/6132091/cerike"}, "reply_to_user": {"reputation": 1721, "user_id": 9070959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3fc72be4dddc4ff4156a7d875912d67?s=128&d=identicon&r=PG&f=1", "display_name": "emsimpson92", "link": "https://stackoverflow.com/users/9070959/emsimpson92"}, "edited": false, "score": 0, "creation_date": 1539817618, "post_id": 52864653, "comment_id": 92643813, "body": "@emsimpson92 A deadlock? <code>ConcurrentQueue</code> is thread safe. I am not using any shared resources beyond that. The above code produces the phenomena in it self."}, {"owner": {"reputation": 593, "user_id": 3663152, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61f472c223db40927182c401062f9f95?s=128&d=identicon&r=PG&f=1", "display_name": "LeY", "link": "https://stackoverflow.com/users/3663152/ley"}, "edited": false, "score": 2, "creation_date": 1539817666, "post_id": 52864653, "comment_id": 92643828, "body": "Aren&#39;t you suppose to testing &#39;IsNotEmpty&#39; instead of &#39;IsEmpty&#39;, SpinWait.SpinUntil run on you main thread, once you reach that line of code and the queue is not empty , it will never end waiting because there is no consumer anymore, your consumer is blocked by your wait. add Thread.Sleep(5000) doesn&#39;t help at all, it&#39;s a race condition/dead lock whatever you call it ."}, {"owner": {"reputation": 344, "user_id": 6132091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff1d3b0bb845e4e3e9be07ec0ea05e7?s=128&d=identicon&r=PG&f=1", "display_name": "Cerike", "link": "https://stackoverflow.com/users/6132091/cerike"}, "reply_to_user": {"reputation": 593, "user_id": 3663152, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61f472c223db40927182c401062f9f95?s=128&d=identicon&r=PG&f=1", "display_name": "LeY", "link": "https://stackoverflow.com/users/3663152/ley"}, "edited": false, "score": 0, "creation_date": 1539817986, "post_id": 52864653, "comment_id": 92643909, "body": "@LeY It is my understanding that <code>SpinUntil</code> spins as long as the delegate supplied to it returns true. So, it should come out of the spinning when isEmpty becomes false. Shouldn&#39;t it?"}, {"owner": {"reputation": 593, "user_id": 3663152, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61f472c223db40927182c401062f9f95?s=128&d=identicon&r=PG&f=1", "display_name": "LeY", "link": "https://stackoverflow.com/users/3663152/ley"}, "edited": false, "score": 0, "creation_date": 1539818442, "post_id": 52864653, "comment_id": 92644001, "body": "@Cerike the opposite of your understanding. Like it named , it will spins util IsEmpty return true."}, {"owner": {"reputation": 344, "user_id": 6132091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff1d3b0bb845e4e3e9be07ec0ea05e7?s=128&d=identicon&r=PG&f=1", "display_name": "Cerike", "link": "https://stackoverflow.com/users/6132091/cerike"}, "reply_to_user": {"reputation": 593, "user_id": 3663152, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61f472c223db40927182c401062f9f95?s=128&d=identicon&r=PG&f=1", "display_name": "LeY", "link": "https://stackoverflow.com/users/3663152/ley"}, "edited": false, "score": 0, "creation_date": 1539818751, "post_id": 52864653, "comment_id": 92644059, "body": "@LeY Oh, wow. I totally believed the exact opposite... I have read its description in the documentation many times over, but it never even occurred to me that it would work the other way :("}, {"owner": {"reputation": 593, "user_id": 3663152, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61f472c223db40927182c401062f9f95?s=128&d=identicon&r=PG&f=1", "display_name": "LeY", "link": "https://stackoverflow.com/users/3663152/ley"}, "edited": false, "score": 0, "creation_date": 1539819224, "post_id": 52864653, "comment_id": 92644152, "body": "@Cerike even better if you use BlockingCollection&lt;T&gt; instead of placing with lock/wait your self, BlockingCollection is make for this ProducerConsumer Pattern.<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.concurrent.blockingcollection-1?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9367, "user_id": 4454124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c094d8979fb41b789a7c7f21d9329359?s=128&d=identicon&r=PG&f=1", "display_name": "mnistic", "link": "https://stackoverflow.com/users/4454124/mnistic"}, "is_accepted": true, "score": 1, "last_activity_date": 1539818370, "creation_date": 1539818370, "answer_id": 52864872, "question_id": 52864653, "link": "https://stackoverflow.com/questions/52864653/thread-sleep-spinwait-spinuntil-weird-behavior/52864872#52864872", "title": "Thread.Sleep SpinWait.SpinUntil weird behavior", "body": "<p><code>SpinWait.SpinUntil</code> spins until the specified condition is satisfied. In you case the condition is <code>IsEmpty</code>, so it will spin <em>until</em> the queue is empty (or, if you will, <em>while</em> the queue is not empty).</p>\n\n<p>Since with the wait you gave the thread time to put something into the queue, the spinner will keep spinning because it is in the thread that is supposed to empty the queue, but it can't because it is waiting on the spinner.</p>\n\n<p>If it's easier to understand, <code>SpinUntil(IsEmpty)</code> is the same as saying <code>SpinWhile(IsNotEmpty)</code>.</p>\n"}], "owner": {"reputation": 344, "user_id": 6132091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff1d3b0bb845e4e3e9be07ec0ea05e7?s=128&d=identicon&r=PG&f=1", "display_name": "Cerike", "link": "https://stackoverflow.com/users/6132091/cerike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 52864872, "answer_count": 1, "score": -2, "last_activity_date": 1539818370, "creation_date": 1539816552, "question_id": 52864653, "link": "https://stackoverflow.com/questions/52864653/thread-sleep-spinwait-spinuntil-weird-behavior", "title": "Thread.Sleep SpinWait.SpinUntil weird behavior", "body": "<p>I have the code bellow.</p>\n\n<pre><code>namespace SandBox\n{\n    static class Program\n    {\n        static ConcurrentQueue&lt;string&gt; queue = new ConcurrentQueue&lt;string&gt;();\n        static void Main()\n        {\n            Timer timer = new Timer(worker, null, 0, 3000);\n            while (true)\n            {\n                SpinWait.SpinUntil(IsEmpty); //???? freezes up here\n                string snippet;\n                while (!queue.TryDequeue(out snippet))\n                    Thread.Sleep(1);\n                Console.WriteLine(snippet);\n                Thread.Sleep(5000); //??????\n            }\n        }\n        static void worker(object x)\n        {\n            queue.Enqueue(\"***___***___***\");\n        }\n\n        static bool IsEmpty()\n        {\n            return queue.IsEmpty;\n        }\n    }\n}\n</code></pre>\n\n<p>If I don't include <code>Thread.Sleep(5000);</code> it works as expected.\nHowever, if I do, it outputs only one line and after that is just freezes up at the SpinUntil part and won't output any more lines. If I stop it and check if queue.IsEmpty true, the debugger says it is in fact false! (The worker does get called periodically, I checked with a breakpoint.) What's more, IsEmpty is getting called as well and is returning false.</p>\n\n<p>What is happening?</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 521, "user_id": 1380097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqNvg.png?s=128&g=1", "display_name": "j0ffe", "link": "https://stackoverflow.com/users/1380097/j0ffe"}, "is_accepted": false, "score": 2, "last_activity_date": 1539816666, "creation_date": 1539816666, "answer_id": 52864664, "question_id": 52864624, "link": "https://stackoverflow.com/questions/52864624/why-does-my-turret-stop-shooting-ai-player/52864664#52864664", "title": "Why does my turret stop shooting AI player?", "body": "<p>You have to set the \"firing\" variable back to false after cooldown is over. Also suggest that you don't perform the Raycast when the cooldown is in progress to save some CPU.</p>\n"}], "owner": {"reputation": 11, "user_id": 10520747, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jaOA8IVPhOw/AAAAAAAAAAI/AAAAAAAAB1Y/qk_G-lFrmtY/photo.jpg?sz=128", "display_name": "Jordaaaay", "link": "https://stackoverflow.com/users/10520747/jordaaaay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539816666, "creation_date": 1539816381, "question_id": 52864624, "link": "https://stackoverflow.com/questions/52864624/why-does-my-turret-stop-shooting-ai-player", "title": "Why does my turret stop shooting AI player?", "body": "<p>Currently working on something for my midterms but I'm stuck at one particular part.The AI character has to follow a path using way points and then stop on top of a circle to shoot (destroy) a wall to get to the final waypoint. The AI character has to do this before the Turret located near by shoots and destroys it. The AI character has 3 points of health and dies if shot three times. The Turret has a cool down after every shot so it gives the AI character time to shoot down the wall. </p>\n\n<p>The part that I am stuck at is when the AI character reaches the waypoint to shoot down the wall (Which I haven't implemented yet) The Turret shoots once and doesn't shoot anymore. However, the raycast is working because it looks at the AI as long as it is in range. </p>\n\n<p>Here is my turret Script: </p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\n\npublic class TurretScript : MonoBehaviour {\npublic float rangeToPlayer;\npublic GameObject bullet;\npublic GameObject spawn;\nprivate GameObject player;\nprivate bool firing = false;\nprivate float fireTime;\nprivate float coolDown = 0.5F;\n\nvoid Start () {\n    player = GameObject.FindWithTag(\"Player\");\n}\n\nvoid Update () {\n    if ( PlayerInRange() ) {\n        transform.LookAt(player.transform.position);\n        RaycastHit hit;\n        if( Physics.Raycast(transform.position, transform.TransformDirection(Vector3.forward), out hit )) {\n            Debug.DrawRay(transform.position, transform.TransformDirection(Vector3.forward) * 20.0F, Color.red);\n            if (hit.transform.gameObject.tag == \"Player\") {\n                if ( firing == false )\n                {       \n                    firing = true;\n                    fireTime = Time.time;\n                    GameObject.Instantiate(bullet, spawn.transform.position, transform.rotation);\n                }\n            }\n        }\n    }\n    if ( firing &amp;&amp; fireTime + coolDown &lt;= Time.time )\n        firing = true;\n}\n\nbool PlayerInRange() {\n    return ( Vector3.Distance(player.transform.position, transform.position) &lt;= rangeToPlayer );\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "visual-studio", "razor", "microsoft-graph-api"], "answers": [{"comments": [{"owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "edited": false, "score": 0, "creation_date": 1539864601, "post_id": 52867829, "comment_id": 92660779, "body": "I have to get the users profile picture (user.ThumbnailPhoto) - but picture does not sync from O365 to Azure, meaning I can get all sorts of user info using Azure AD Graph API outside of the thumbnailPhoto. When a user sets their profile picture in O365 it does not sync to Azure. I need their profile picture - Microsoft Graph allows you to hook into O365..  Why do they make everything so difficult?!! All I want to do is use the Graph API as the existing user - how on earth do I get a Graph API access token from within my app!?!? I&#39;m already using AAD auth."}], "tags": [], "owner": {"reputation": 1676, "user_id": 9992612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef2e5e68dd3a455ba00724f5fdfaf604?s=128&d=identicon&r=PG&f=1", "display_name": "Seiya Su", "link": "https://stackoverflow.com/users/9992612/seiya-su"}, "is_accepted": true, "score": 0, "last_activity_date": 1539842217, "creation_date": 1539842217, "answer_id": 52867829, "question_id": 52864596, "link": "https://stackoverflow.com/questions/52864596/visual-studio-asp-net-mvc-5-default-azure-ad-authentication-project-and-micr/52867829#52867829", "title": "Visual Studio - ASP.NET MVC 5 - Default Azure AD Authentication Project and Microsoft Graph API", "body": "<blockquote>\n  <p>Is there a way to get an access token for Microsoft Graph API not to\n  be confused with the Azure AD Graph API</p>\n</blockquote>\n\n<p>Not directly identified. If you want to operate a user, most time we will use <a href=\"https://docs.microsoft.com/en-us/azure/active-directory/develop/azure-ad-developers-guide\" rel=\"nofollow noreferrer\">Azure AD Graph API</a> in the past. But we will use the Microsoft <a href=\"https://developer.microsoft.com/en-us/graph/docs/concepts/overview\" rel=\"nofollow noreferrer\">Graph</a> API in the future. It depends on your requirement. In the project, you can check your references, no need to add both library.</p>\n\n<blockquote>\n  <p>my main concern is around the fact that\n  their Startup.cs/Startup.Auth.cs files look different than the default\n  template.. why is this?</p>\n</blockquote>\n\n<p>It should be have a small team which is responsible for the template. Due to docs team and template team is not the same team in the most time, so they are not synchronized. If have demo project, just use it directly. Docs is just for reference. Templates are not synchronized with the latest features too.</p>\n"}], "owner": {"reputation": 6300, "user_id": 10431732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/066R1.png?s=128&g=1", "display_name": "Matt Oestreich", "link": "https://stackoverflow.com/users/10431732/matt-oestreich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 52867829, "answer_count": 1, "score": 0, "last_activity_date": 1539842217, "creation_date": 1539816228, "question_id": 52864596, "link": "https://stackoverflow.com/questions/52864596/visual-studio-asp-net-mvc-5-default-azure-ad-authentication-project-and-micr", "title": "Visual Studio - ASP.NET MVC 5 - Default Azure AD Authentication Project and Microsoft Graph API", "body": "<p>I am using the default Visual Studio template for AAD within an ASP.NET MVC Project.. I am fairly new to integrating ASP apps with Azure, and from what I can tell the default project template uses OWIN/ADAL to authenticate users with AAD.</p>\n\n<p>Is there a way to get an access token for <strong><em>Microsoft Graph API</em></strong> not to be confused with the <strong><em>Azure AD Graph API</em></strong>, for which I am able to successfully grab an access token (there are minor differences in what AAD Graph returns for each user vs Microsoft Graph (for example, the users picture in O365 does not sync with Azure AD)..</p>\n\n<p>I have read plenty of articles and tested many of things (including example projects from the Microsoft Open Source Team). These examples seem to create some sort of a Token Storage class in order to grab the Msft Graph access token - my main concern is around the fact that their Startup.cs/Startup.Auth.cs files look different than the default template.. why is this?</p>\n\n<p>I am happy to do my own research/testing/etc.. just hoping for someone to help point me in the right direction.</p>\n"}, {"tags": ["c#", "events", "delegates"], "answers": [{"tags": [], "owner": {"reputation": 948, "user_id": 2332050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aadf39c6140079cc5c42d60ff9457e?s=128&d=identicon&r=PG", "display_name": "go..", "link": "https://stackoverflow.com/users/2332050/go"}, "is_accepted": true, "score": 1, "last_activity_date": 1539817197, "last_edit_date": 1539817197, "creation_date": 1539816845, "answer_id": 52864683, "question_id": 52864570, "link": "https://stackoverflow.com/questions/52864570/is-there-any-way-to-return-a-value-from-event-subscriber/52864683#52864683", "title": "Is there any way to return a value from event subscriber", "body": "<blockquote>\n  <p><strong>GetInvocationList</strong> Returns the invocation list of this multicast\n  delegate, in invocation order.</p>\n  \n  <p>Although events are not sending back values, this is possible\n  according to the need</p>\n</blockquote>\n\n<pre><code>        static event Func&lt;NewProductArgs, string&gt; ProductAddedEvent;\n\n        static void Main(string[] args)\n        {\n            ProductAddedEvent += Program_ProductAddedEvent;\n\n            var productDelegate = ProductAddedEvent?.GetInvocationList().FirstOrDefault();\n\n            productDelegate?.DynamicInvoke();\n        }\n\n        private static string Program_ProductAddedEvent(NewProductArgs arg)\n        {\n            return $\"{args.Product.name} {args.Product.Price}\";\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3188639"}, "is_accepted": false, "score": 1, "last_activity_date": 1539828021, "creation_date": 1539828021, "answer_id": 52865873, "question_id": 52864570, "link": "https://stackoverflow.com/questions/52864570/is-there-any-way-to-return-a-value-from-event-subscriber/52865873#52865873", "title": "Is there any way to return a value from event subscriber", "body": "<p>You can add your return values as a property of the NewProductArgs class, and read them after invoking event.</p>\n\n<p>Something like this:</p>\n\n<pre><code>class NewProductArgs: EventArgs\n{\n    public IList&lt;string&gt; ReturnValues { get; } = new List&lt;string&gt;();\n    public Product Product { get; set; }\n}\n\nclass Product\n{\n    public string Name { get; set; }\n    public decimal Price { get; set; }\n}\n\nclass Cart\n{\n    public event EventHandler&lt;NewProductArgs&gt; ProductAddedEvent;\n    public void Add(Product product)\n    {\n        var args = new NewProductArgs { Product = product };\n        ProductAddedEvent?.Invoke(this, args);\n        var retvals = args.ReturnValues; \n        foreach (var ret in retvals)\n        {\n            Console.WriteLine(ret);\n        }\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        var cart = new Cart();\n        cart.ProductAddedEvent += DisplayAddedProduct;\n        cart.ProductAddedEvent += AnotherEventHandler;\n\n        cart.Add(new Product { Name = \"Product-1\", Price = 100.0m });\n        cart.Add(new Product { Name = \"Product-2\", Price = 200.0m });\n    }\n\n    static void AnotherEventHandler(object sender, NewProductArgs args)\n    {\n        args.ReturnValues.Add($\"Handler2: {args.Product.Name} {args.Product.Price}\");\n    }\n\n    static void DisplayAddedProduct(object sender, NewProductArgs args)\n    {\n        args.ReturnValues.Add($\"Handler1 : {args.Product.Name} {args.Product.Price}\");\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 4791668, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204441394731680/picture?type=large", "display_name": "Pavel", "link": "https://stackoverflow.com/users/4791668/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 52864683, "answer_count": 2, "score": 0, "last_activity_date": 1539828021, "creation_date": 1539816045, "last_edit_date": 1539816635, "question_id": 52864570, "link": "https://stackoverflow.com/questions/52864570/is-there-any-way-to-return-a-value-from-event-subscriber", "title": "Is there any way to return a value from event subscriber", "body": "<p>After I subscribe to some custom-made event that returns a value, how do I get this return value? (productDetails inside of Logger)  </p>\n\n<pre><code>void Logger()\n{ \n    cart.ProductAddedEvent += DisplayAddedProduct;  \n    //how do I get productDetails from DispalyAddedProduct() \n} \n\nstring DisplayAddedProduct(NewProductArgs args)  \n{  \n    string productDetails = $\"{args.Product.name} {args.Product.Price}\";\n    return productDetails  \n}\n</code></pre>\n"}, {"tags": ["c#", "mongodb", "interface", "mongodb-.net-driver", "event-sourcing"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539815363, "post_id": 52864459, "comment_id": 92643211, "body": "Are you sure you don&#39;t need to provide the concrete type to that repository method?  How is the repository method supposed to know that <code>ClientChangedEvent</code> is the implementation you want?"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539815476, "post_id": 52864459, "comment_id": 92643248, "body": "And it&#39;s unclear from your question whether <code>ClientEventsMongoDiscriminatorConvention</code> provides the requisite mapping.  You haven&#39;t shown us that code."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539816871, "post_id": 52864459, "comment_id": 92643618, "body": "Try making the interface properties public."}, {"owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539816884, "post_id": 52864459, "comment_id": 92643629, "body": "Hey @RobertHarvey - I have edited the question with the code you requested. As noted - it doesn&#39;t look like the <code>GetActualType</code> meothod of the discriminator ever gets hit when running the code."}, {"owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539816951, "post_id": 52864459, "comment_id": 92643654, "body": "@jdweng - it is not legal to decorate interface properties/methods with public/private/etc. It is implied to be public."}, {"owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539817234, "post_id": 52864459, "comment_id": 92643728, "body": "@RobertHarvey - as far as adding a concrete type to the method that is not what I want. I want to get all events for a Client regardless of type. I&#39;d expect the discriminator to tell the serializer which concrete class to serialize it to (which you can now see in the code I added)"}], "answers": [{"tags": [], "owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "is_accepted": true, "score": 3, "last_activity_date": 1540845782, "creation_date": 1540845782, "answer_id": 53053508, "question_id": 52864459, "link": "https://stackoverflow.com/questions/52864459/mongodb-c-driver-serialize-collection-to-interface/53053508#53053508", "title": "MongoDB C# driver - Serialize collection to interface", "body": "<p>I managed to get it to work by simply changing <code>IClientEvent</code> from an interface to an abstract class.</p>\n"}], "owner": {"reputation": 1317, "user_id": 2435006, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ffxw9.jpg?s=128&g=1", "display_name": "LukeP", "link": "https://stackoverflow.com/users/2435006/lukep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 53053508, "answer_count": 1, "score": 4, "last_activity_date": 1540845782, "creation_date": 1539815135, "last_edit_date": 1539816828, "question_id": 52864459, "link": "https://stackoverflow.com/questions/52864459/mongodb-c-driver-serialize-collection-to-interface", "title": "MongoDB C# driver - Serialize collection to interface", "body": "<p>Due to environment restrictions at work I'm implementing a rough Event Sourcing store in MongoDB. I'm trying to get a list of <code>IClientEvents</code> from Mongo like so:</p>\n\n<pre><code> var events = await _db.GetCollection&lt;IClientEvent&gt;(\"ClientEvents\").FindAsync(c =&gt; c.ClientId == clientId);\n</code></pre>\n\n<p>I get the following exception when I run the above mentioned repository method:</p>\n\n<pre><code>Message: System.InvalidOperationException : {document}.ClientId is not supported.\n</code></pre>\n\n<p>The <code>IClientEvent</code> interface is defined as:</p>\n\n<pre><code>public interface IClientEvent\n{\n    Guid Id { get; set; }\n    long TimeStamp { get; set; }\n    Guid ClientId { get; set; }\n}\n\npublic class ClientChangedEvent : IClientEvent\n{\n    public Guid Id { get; set; }\n    public long TimeStamp { get; set; }\n    public Guid ClientId { get; set; }\n\n    public IEnumerable&lt;Change&gt; Changes;\n    // ... other properties for the event\n}\n</code></pre>\n\n<p>There will be many different event types stored into a single collection, all of which will implement <code>IClientEvent</code>. I want to just get, in a single call, all events that have occurred to a Client by <code>clientId</code>.</p>\n\n<p>I have registered all of the concrete implementations of <code>IClientEvent</code> and even added a custom discriminator:</p>\n\n<pre><code>        var clientEventsDiscriminator = new ClientEventsMongoDiscriminatorConvention();\n        BsonSerializer.RegisterDiscriminatorConvention(typeof(IClientEvent),clientEventsDiscriminator);\n        BsonClassMap.RegisterClassMap&lt;ClientChangedEvent&gt;();\n        BsonSerializer.RegisterDiscriminatorConvention(typeof(ClientChangedEvent), clientEventsDiscriminator);\n</code></pre>\n\n<p>I have even tried registering an <code>ImpliedImplementationInterfaceSerializer</code> as mentioned in <a href=\"https://stackoverflow.com/questions/47435760/how-to-fix-document-id-is-not-supported-error\">this SO post</a> but it throws an exception when I register the 2nd concrete implementation that I have already registered a serializer for <code>IClientEvent</code>.</p>\n\n<p>Not sure where to go from here. Any help is greatly appreciated!</p>\n\n<p>-- EDIT for more code:</p>\n\n<p>Here is the full registration code:</p>\n\n<pre><code>        var clientEventsDiscriminator = new ClientEventsMongoDiscriminatorConvention();\n        BsonSerializer.RegisterDiscriminatorConvention(typeof(IClientEvent),clientEventsDiscriminator);\n\n        clientEventsDiscriminator.AddEventType&lt;ClientChangedEvent&gt;();\n        BsonClassMap.RegisterClassMap&lt;ClientChangedEvent&gt;();\n        BsonSerializer.RegisterDiscriminatorConvention(typeof(ClientChangedEvent), clientEventsDiscriminator);\n\n        clientEventsDiscriminator.AddEventType&lt;ClientAddedEvent&gt;();\n        BsonClassMap.RegisterClassMap&lt;ClientAddedEvent&gt;();\n        BsonSerializer.RegisterDiscriminatorConvention(typeof(ClientAddedEvent), clientEventsDiscriminator);\n</code></pre>\n\n<p>Here is the Discriminator:</p>\n\n<pre><code>    public class ClientEventsMongoDiscriminatorConvention : IDiscriminatorConvention\n{\n    private Dictionary&lt;string, Type&gt; _eventTypes = new Dictionary&lt;string, Type&gt;();\n\n    public string ElementName =&gt; \"_eventType\";\n\n    public BsonValue GetDiscriminator(Type nominalType, Type actualType)\n    {\n        return GetDiscriminatorValueForEventType(actualType);\n    }\n\n    public Type GetActualType(IBsonReader bsonReader, Type nominalType)\n    {\n        var bookmark = bsonReader.GetBookmark();\n        bsonReader.ReadStartDocument();\n        if (!bsonReader.FindElement(ElementName))\n        {\n            throw new InvalidCastException($\"Unable to find property '{ElementName}' in document. Cannot map to an EventType.\");\n        }\n\n        var value = bsonReader.ReadString();\n        bsonReader.ReturnToBookmark(bookmark);\n\n        if (_eventTypes.TryGetValue(value, out var type))\n        {\n            return type;\n        }\n\n        throw new InvalidCastException($\"The type '{value}' has not been registered with the '{nameof(ClientEventsMongoDiscriminatorConvention)}'.\");\n    }\n\n    private string GetDiscriminatorValueForEventType(Type type)\n    {\n        var indexOfEventWord = type.Name.IndexOf(\"Event\");\n        if (indexOfEventWord == -1)\n        {\n            return type.Name;\n        }\n        return type.Name.Substring(0, indexOfEventWord);\n    }\n\n    public void AddEventType&lt;T&gt;()\n    {\n        var discriminatorName = GetDiscriminatorValueForEventType(typeof(T));\n        _eventTypes.TryAdd(discriminatorName, typeof(T));\n    }\n}\n</code></pre>\n\n<p>When running the code it doesn't appear to ever hit the <code>GetActualType</code> method of the discriminator.</p>\n"}, {"tags": ["c#", "jquery", "ajax", "asp.net-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 3, "creation_date": 1539814755, "post_id": 52864393, "comment_id": 92643048, "body": "<code>data: &quot;json&quot;, data: data</code>?"}, {"owner": {"reputation": 770, "user_id": 6427829, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6771e877ae37c2d5573f5cc0be1a576e?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/6427829/marcel"}, "edited": false, "score": 4, "creation_date": 1539814878, "post_id": 52864393, "comment_id": 92643083, "body": "<code>data: &quot;json&quot;</code> -&gt; &#39;dataType: &quot;json&quot;`"}, {"owner": {"reputation": 169, "user_id": 3393832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2Zmq.jpg?s=128&g=1", "display_name": "CodeBreaker", "link": "https://stackoverflow.com/users/3393832/codebreaker"}, "edited": false, "score": 0, "creation_date": 1539816424, "post_id": 52864393, "comment_id": 92643498, "body": "May I ask why you are using a custom AJAX call instead of letting the View and Controller do the work for you?  For example, @using(Html.BeginForm() ... ) ?"}, {"owner": {"reputation": 169, "user_id": 3393832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2Zmq.jpg?s=128&g=1", "display_name": "CodeBreaker", "link": "https://stackoverflow.com/users/3393832/codebreaker"}, "edited": false, "score": 1, "creation_date": 1539816531, "post_id": 52864393, "comment_id": 92643521, "body": "I also suggest you look into AJAX Helpers.  Here is a C# Corner post about them: <a href=\"https://www.c-sharpcorner.com/article/Asp-Net-mvc-ajax-helper/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/Asp-Net-mvc-ajax-helpe&zwnj;&#8203;r/</a>."}, {"owner": {"reputation": 770, "user_id": 6427829, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6771e877ae37c2d5573f5cc0be1a576e?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/6427829/marcel"}, "reply_to_user": {"reputation": 169, "user_id": 3393832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2Zmq.jpg?s=128&g=1", "display_name": "CodeBreaker", "link": "https://stackoverflow.com/users/3393832/codebreaker"}, "edited": false, "score": 1, "creation_date": 1539818067, "post_id": 52864393, "comment_id": 92643930, "body": "@CodeBreaker Those are deprecated in ASP.NET Core"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 169, "user_id": 3393832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2Zmq.jpg?s=128&g=1", "display_name": "CodeBreaker", "link": "https://stackoverflow.com/users/3393832/codebreaker"}, "edited": false, "score": 0, "creation_date": 1539824848, "post_id": 52864393, "comment_id": 92645245, "body": "@CodeBreaker The AJAX helpers were never as good as AJAX calls. Besides, as  Marcel mentions, those don&#39;t exist anymore"}, {"owner": {"reputation": 105, "user_id": 5743579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e38f44d0cfc41a86bf62893de6fdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Trystan Wilcock", "link": "https://stackoverflow.com/users/5743579/trystan-wilcock"}, "reply_to_user": {"reputation": 169, "user_id": 3393832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r2Zmq.jpg?s=128&g=1", "display_name": "CodeBreaker", "link": "https://stackoverflow.com/users/3393832/codebreaker"}, "edited": false, "score": 0, "creation_date": 1539842608, "post_id": 52864393, "comment_id": 92649208, "body": "@CodeBreaker because client side!"}, {"owner": {"reputation": 105, "user_id": 5743579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e38f44d0cfc41a86bf62893de6fdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Trystan Wilcock", "link": "https://stackoverflow.com/users/5743579/trystan-wilcock"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539843182, "post_id": 52864393, "comment_id": 92649418, "body": "@CamiloTerevinto Oops, mistyped data/dataType. Problem still remains however."}, {"owner": {"reputation": 105, "user_id": 5743579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e38f44d0cfc41a86bf62893de6fdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Trystan Wilcock", "link": "https://stackoverflow.com/users/5743579/trystan-wilcock"}, "reply_to_user": {"reputation": 770, "user_id": 6427829, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6771e877ae37c2d5573f5cc0be1a576e?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/6427829/marcel"}, "edited": false, "score": 0, "creation_date": 1539843213, "post_id": 52864393, "comment_id": 92649428, "body": "@Marcel forgot to update my post once I&#39;d spotted it. Problem still remains however."}, {"owner": {"reputation": 4325, "user_id": 5671377, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WTgODqsSRmM/AAAAAAAAAAI/AAAAAAAAALc/Uj0RmlNSdKs/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/5671377/usman"}, "edited": false, "score": 3, "creation_date": 1539843704, "post_id": 52864393, "comment_id": 92649634, "body": "try <code>data: JSON.stringify(data),</code>"}, {"owner": {"reputation": 105, "user_id": 5743579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e38f44d0cfc41a86bf62893de6fdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Trystan Wilcock", "link": "https://stackoverflow.com/users/5743579/trystan-wilcock"}, "reply_to_user": {"reputation": 4325, "user_id": 5671377, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WTgODqsSRmM/AAAAAAAAAAI/AAAAAAAAALc/Uj0RmlNSdKs/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/5671377/usman"}, "edited": false, "score": 0, "creation_date": 1539844558, "post_id": 52864393, "comment_id": 92649980, "body": "@Usman that&#39;s done it, thank you very much!"}, {"owner": {"reputation": 4325, "user_id": 5671377, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WTgODqsSRmM/AAAAAAAAAAI/AAAAAAAAALc/Uj0RmlNSdKs/photo.jpg?sz=128", "display_name": "Usman", "link": "https://stackoverflow.com/users/5671377/usman"}, "edited": false, "score": 0, "creation_date": 1539844621, "post_id": 52864393, "comment_id": 92649999, "body": "glad it helped."}], "answers": [{"tags": [], "owner": {"reputation": 13599, "user_id": 1900692, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ASbJo.png?s=128&g=1", "display_name": "Suresh Kamrushi", "link": "https://stackoverflow.com/users/1900692/suresh-kamrushi"}, "is_accepted": false, "score": 0, "last_activity_date": 1582277187, "creation_date": 1582277187, "answer_id": 60335604, "question_id": 52864393, "link": "https://stackoverflow.com/questions/52864393/asp-net-core-mvc-posting-a-model-to-controller-using-ajax/60335604#60335604", "title": "ASP.NET Core MVC posting a model to controller using ajax", "body": "<p>I found below working:</p>\n\n<pre><code>    $.ajax({\n        method: \"POST\",\n        data: { \"Name\": \"bob\", \"Price\": 10},\n        url: \"@Url.Action(\"AddProduct\", \"Admin\")\",\n        success: function (data) {\n            //success login\n        },\n        error: function (data) {\n            alert('error' + data.status);\n        }\n    });\n</code></pre>\n\n<p>no need to mention dataType and contentType in ajax call. And your controller will like below:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult AddProduct(Product product)\n{\n    //You logic will be here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 2181537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5228c348a114948089ba1a90c02b36d5?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/2181537/felix"}, "is_accepted": false, "score": 0, "last_activity_date": 1605212539, "last_edit_date": 1605212539, "creation_date": 1605208333, "answer_id": 64810301, "question_id": 52864393, "link": "https://stackoverflow.com/questions/52864393/asp-net-core-mvc-posting-a-model-to-controller-using-ajax/64810301#64810301", "title": "ASP.NET Core MVC posting a model to controller using ajax", "body": "<p>To get your code to work as desired, make the following three modifications to your code.</p>\n<ul>\n<li>From the Ajax call, remove this: <code>dataType: &quot;json&quot;</code></li>\n<li>From the Ajax call, remove this: <code>data:data</code></li>\n<li>In the Ajax call, add this: <code>data:JSON.stringify(data)</code></li>\n</ul>\n<p><strong>IMPORTANT POINTS TO NOTE:</strong></p>\n<ol>\n<li><p>When you are using the <code>[FromBody]</code> attribute, the <code>Content-Type</code> value determines the formatter for the ASP.NET Core MVC Framework to use for parameter binding.</p>\n</li>\n<li><p>Since your <code>Content-Type</code> is <code>application/json</code>, a <strong>raw JSON string</strong> and not a JSON object, should be passed as data. Hence, apply <code>JSON.stringify</code>.</p>\n</li>\n<li><p>See this reference: <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/formats-and-model-binding/parameter-binding-in-aspnet-web-api\" rel=\"nofollow noreferrer\">Parameter Binding Using <code>[FromBody]</code> Attribute</a></p>\n</li>\n</ol>\n"}], "owner": {"reputation": 105, "user_id": 5743579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79e38f44d0cfc41a86bf62893de6fdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Trystan Wilcock", "link": "https://stackoverflow.com/users/5743579/trystan-wilcock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4466, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1605212539, "creation_date": 1539814647, "last_edit_date": 1539842307, "question_id": 52864393, "link": "https://stackoverflow.com/questions/52864393/asp-net-core-mvc-posting-a-model-to-controller-using-ajax", "title": "ASP.NET Core MVC posting a model to controller using ajax", "body": "<p>I am trying to post a javascript object, representative of a Model, back to a controller using an ajax post. However, the model is always showing as null.</p>\n\n<p>The model in question is as follows</p>\n\n<pre><code>public class Product\n{\n    [Key]\n    public int Id { get; set; }\n\n    [Required(ErrorMessage = \"Name is required and must not be empty.\")]\n    [StringLength(200, ErrorMessage = \"Name should not exceed 200 characters.\")]\n    public string Name { get; set; }\n\n    public DateTime Created { get; set; }\n\n    [Required(ErrorMessage = \"Price is required and must not be empty.\")]\n    [DataType(DataType.Currency)]\n    public decimal Price { get; set; }\n}\n</code></pre>\n\n<p>With the ajax call looking like so</p>\n\n<pre><code>$('#btnSaveNewProduct').click(function (e) {\n                e.preventDefault();\n                var form = $('#frmNewProduct');\n                if (form.valid()) {\n                    var data = { // to be replaced with form values\n                        Name: 'Bob',\n                        Price: 34\n                    };\n                    //ajax call to save product\n                    $.ajax({\n                        type: \"POST\",\n                        url: \"@Url.Action(\"AddProduct\", \"Admin\")\",\n                        contentType: \"application/json\",\n                        dataType: \"json\",\n                        data: data,\n                        success: function (response) {\n                            alert('done');\n                        },\n                        error: function (response) {\n                            alert(response);\n                        }\n                    });\n                }\n            });\n</code></pre>\n\n<p>The controller method looks like the following</p>\n\n<pre><code>    [HttpPost]\n    public JsonResult AddProduct([FromBody] Product product)\n    {\n        bool success = false;\n        // save product\n        success = true;\n        return new JsonResult(success);\n    }\n</code></pre>\n\n<p>Any insight would be most appreciated.</p>\n"}, {"tags": ["c#", "mvvm", "uwp", "navigationview", "navigationservice"], "answers": [{"comments": [{"owner": {"reputation": 1280, "user_id": 4130356, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qG0gk.jpg?s=128&g=1", "display_name": "mbed_dev", "link": "https://stackoverflow.com/users/4130356/mbed-dev"}, "edited": false, "score": 1, "creation_date": 1540129816, "post_id": 52868210, "comment_id": 92741959, "body": "I have to admit this is the solution, but the code is not really self-explanatory. It uses &quot;ActionServices&quot;, which agian are completely new for me. But thank you anyways"}], "tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1539844411, "creation_date": 1539844411, "answer_id": 52868210, "question_id": 52864380, "link": "https://stackoverflow.com/questions/52864380/uwp-navigationview-switch-to-another-page-via-mvvm/52868210#52868210", "title": "UWP NavigationView switch to another page via MVVM", "body": "<blockquote>\n  <p>UWP NavigationView switch to another page via MVVM</p>\n</blockquote>\n\n<p>For your requirement, you could use <a href=\"https://marketplace.visualstudio.com/items?itemName=WASTeamAccount.WindowsTemplateStudio\" rel=\"nofollow noreferrer\"><code>Windows Template Studio</code></a> to create UWP project that contain MVVM pattern and <code>NavigationService</code>. </p>\n\n<pre><code>private void OnItemInvoked(NavigationViewItemInvokedEventArgs args)\n{\n    if (args.IsSettingsInvoked)\n    {\n        NavigationService.Navigate(typeof(SettingsViewModel).FullName);\n        return;\n    }\n\n    var item = _navigationView.MenuItems\n                    .OfType&lt;NavigationViewItem&gt;()\n                    .First(menuItem =&gt; (string)menuItem.Content == (string)args.InvokedItem);\n    var pageKey = item.GetValue(NavHelper.NavigateToProperty) as string;\n    NavigationService.Navigate(pageKey);\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/MBrms.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MBrms.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1280, "user_id": 4130356, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qG0gk.jpg?s=128&g=1", "display_name": "mbed_dev", "link": "https://stackoverflow.com/users/4130356/mbed-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1315, "favorite_count": 0, "accepted_answer_id": 52868210, "answer_count": 1, "score": 2, "last_activity_date": 1539844411, "creation_date": 1539814582, "last_edit_date": 1539815553, "question_id": 52864380, "link": "https://stackoverflow.com/questions/52864380/uwp-navigationview-switch-to-another-page-via-mvvm", "title": "UWP NavigationView switch to another page via MVVM", "body": "<p>Switching for the first time ever from WPF to UWP I found out that there are great controls like <code>SplitView</code> and <code>NavgiationView</code> do exist in the world of UWP.</p>\n\n<p>For renewing my current home-project I have choosen the <code>NavigationView</code> control as my main UI control for offering the various pieces of information.\nUsing the code-behind the page navigation (<a href=\"https://www.youtube.com/watch?v=q_06UZhaJMc\" rel=\"nofollow noreferrer\">as shown here</a>) is very easy, but for my use-case I want to work with MVVM (as a learning procedure without using FWs like MVVMLIght or similar).</p>\n\n<p>Currently, my <code>NavigationView</code> looks like this; but I have not a proper idea how to change within the frame through pages (from my understanding I have to use the <code>NavigationService</code> but haven't found a easy to understand example of this):</p>\n\n<pre><code>&lt;NavigationView x:Name=\"nvTopLevelNav\" Grid.Column=\"0\" Grid.Row=\"1\" Grid.RowSpan=\"3\" IsPaneOpen=\"False\"  IsPaneToggleButtonVisible=\"False\" CompactModeThresholdWidth=\"0\" IsBackButtonVisible=\"Collapsed\" Background=\"Black\" Foreground=\"Black\"\n        Loaded=\"nvTopLevelNav_Loaded\"\n        Margin=\"0,12,0,0\"\n        SelectionChanged=\"nvTopLevelNav_SelectionChanged\"\n        ItemInvoked=\"nvTopLevelNav_ItemInvoked\"\n        IsTabStop=\"False\"\n                IsSettingsVisible=\"False\"\n                AlwaysShowHeader=\"False\"\n        Header=\"asdasdaasdasdasd\"&gt;\n    &lt;NavigationView.MenuItems&gt;\n        &lt;NavigationViewItem Icon=\"Home\" Content=\"Home\" Tag=\"Home_Page\" /&gt;\n        &lt;NavigationViewItem Icon=\"Globe\" Content=\"Weather\" Tag=\"Weather_Page\" /&gt;\n        &lt;NavigationViewItem Content=\"My Agenda\" Tag=\"Agenda_Page\"&gt;\n    &lt;!-- some custom PathIcon --&gt;\n        &lt;/NavigationViewItem&gt;\n        &lt;NavigationViewItem Icon=\"Contact\" Content=\"My News\" Tag=\"News_Page\" /&gt;\n    &lt;/NavigationView.MenuItems&gt;\n    &lt;Frame x:Name=\"contentFrame\"&gt;&lt;/Frame&gt;\n&lt;/NavigationView&gt;\n</code></pre>\n"}, {"tags": ["c#", "docker", "jenkins", ".net-core", "nuget"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539815876, "post_id": 52864346, "comment_id": 92643353, "body": "Try making a copy of the bin folder and then delete the bin folder.  It sounds like some of the files are not rebuilding properly when you move to the new PC.  Deleting the bin folder will force everything of rebuild."}, {"owner": {"reputation": 303, "user_id": 4572959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ec99f80ac0524088291ad7bae1a1fd?s=128&d=identicon&r=PG&f=1", "display_name": "ihendriks", "link": "https://stackoverflow.com/users/4572959/ihendriks"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1539856923, "post_id": 52864346, "comment_id": 92656624, "body": "@jdweng Thanks for the reply. Unfortunately this hasn&#39;t resolved my issue."}], "answers": [{"comments": [{"owner": {"reputation": 656, "user_id": 557657, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/442019b5cb3cf11baf852fa8837c1d61?s=128&d=identicon&r=PG", "display_name": "user557657", "link": "https://stackoverflow.com/users/557657/user557657"}, "edited": false, "score": 0, "creation_date": 1583342213, "post_id": 52875255, "comment_id": 107086366, "body": "What is I want touse custom package also? How Can I reference ?"}, {"owner": {"reputation": 28015, "user_id": 63550, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RIZKi.png?s=128&g=1", "display_name": "Peter Mortensen", "link": "https://stackoverflow.com/users/63550/peter-mortensen"}, "edited": false, "score": 0, "creation_date": 1593132116, "post_id": 52875255, "comment_id": 110680458, "body": "What do you mean by <i>&quot;It that within the image&quot;</i> (seems incomprehensible)?"}], "tags": [], "owner": {"reputation": 303, "user_id": 4572959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ec99f80ac0524088291ad7bae1a1fd?s=128&d=identicon&r=PG&f=1", "display_name": "ihendriks", "link": "https://stackoverflow.com/users/4572959/ihendriks"}, "is_accepted": true, "score": 11, "last_activity_date": 1539869512, "creation_date": 1539869512, "answer_id": 52875255, "question_id": 52864346, "link": "https://stackoverflow.com/questions/52864346/dotnet-build-command-not-finding-nuget-packages-they-exist/52875255#52875255", "title": "&#39;dotnet build&#39; command not finding NuGet packages (they exist)", "body": "<p>I've resolved the issue by specifying where <code>dotnet build</code> should look for the NuGet packages. It that within the image it doesn't look at the right location (although I'm not sure where it <em>is</em> looking either...)</p>\n\n<p>I've specified the location with the <code>--packages</code> option. This option is listed in the <code>dotnet restore</code> documentation, but not in the <code>dotnet build</code> ones, even though it is available there as well (and you need it there, specifically).</p>\n\n<p>You can specify it as follows:</p>\n\n<pre><code>dotnet restore --packages &lt;path&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>dotnet build --packages &lt;path&gt;\n</code></pre>\n\n<p>It works with the <code>--no-restore</code> option as well, if you need that.</p>\n\n<hr>\n\n<p>My final Jenkinsfile looks as follows:</p>\n\n<pre><code>pipeline {\n    agent {\n        docker {\n            image 'microsoft/dotnet:2.1-sdk'\n        }\n    }\n    environment {\n        HOME = '.'\n    }\n    stages {\n        stage('pre-build') {\n            steps {\n                // logging tooling versions\n                sh 'dotnet --info'\n                sh 'dotnet nuget locals all --list'\n                sh 'dotnet clean'\n            }\n        }\n        stage('build') {\n            steps {\n                sh 'dotnet build --packages ./.nuget/packages'\n            }\n        }\n        stage('test') {\n            steps {\n                sh 'echo no test project configured'\n                // sh 'dotnet test'\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 10145728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AL3Np.jpg?s=128&g=1", "display_name": "bkegley", "link": "https://stackoverflow.com/users/10145728/bkegley"}, "is_accepted": false, "score": 2, "last_activity_date": 1593132141, "last_edit_date": 1593132141, "creation_date": 1591817461, "answer_id": 62311658, "question_id": 52864346, "link": "https://stackoverflow.com/questions/52864346/dotnet-build-command-not-finding-nuget-packages-they-exist/62311658#62311658", "title": "&#39;dotnet build&#39; command not finding NuGet packages (they exist)", "body": "<p>I ran into a similar issue solved by clearing global packages and cache with <code>dotnet nuget locals all --clear</code> as explained <a href=\"https://docs.microsoft.com/en-us/nuget/consume-packages/package-restore-troubleshooting#other-potential-conditions\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 303, "user_id": 4572959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ec99f80ac0524088291ad7bae1a1fd?s=128&d=identicon&r=PG&f=1", "display_name": "ihendriks", "link": "https://stackoverflow.com/users/4572959/ihendriks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7461, "favorite_count": 3, "accepted_answer_id": 52875255, "answer_count": 2, "score": 8, "last_activity_date": 1593132141, "creation_date": 1539814335, "last_edit_date": 1593132040, "question_id": 52864346, "link": "https://stackoverflow.com/questions/52864346/dotnet-build-command-not-finding-nuget-packages-they-exist", "title": "&#39;dotnet build&#39; command not finding NuGet packages (they exist)", "body": "<p>I'm trying to build my .NET Core 2.1 application from the command-line on my Jenkins server.</p>\n<p>It builds fine on my local machine (Windows\u00a010, Visual\u00a0Studio\u00a02017 Enterprise), and if I manually build it on the server Jenkins is running on (manually checkout Git repository and running <code>dotnet build</code>). It's only when I'm doing it through Jenkins in a Docker container that it fails.</p>\n<p>The error:\n<code>/usr/share/dotnet/sdk/2.1.403/Sdks/Microsoft.NET.Sdk/targets/Microsoft.PackageDependencyResolution.targets(198,5): error NETSDK1064: Package Microsoft.CodeQuality.Analyzers, version 2.6.2 was not found. It might have been deleted since NuGet restore. Otherwise, NuGet restore might have only partially completed, which might have been due to maximum path length restrictions. [/var/lib/jenkins/jobs/pr-builder/jobs/cgi-api/branches/PR-18/workspace/API/API.csproj]</code></p>\n<p>The package exists in <code>~/.nuget/packages/</code>.</p>\n<p>I'm aware my Jenkinsfile is a bit weird at the moment, but that has to do with me trying to make this all work. It seems <code>dotnet restore</code> is working fine, but <code>dotnet build</code> is somehow not locating these files.</p>\n<p>I've tried specifying the package directory (through the environment variable, with <code>dotnet restore --sources</code> and <code>dotnet build --sources</code>.</p>\n<p>I attached pretty much anything I could think of at the moment, but if I forgot something please tell. I'm pretty lost at the moment.</p>\n<p>My Jenkinsfile:</p>\n<pre><code>pipeline {\n    agent {\n        docker {\n            image 'microsoft/dotnet:2.1-sdk'\n        }\n    }\n    environment {\n        HOME           = '.'\n        NUGET_PACKAGES = './.nuget/packages/'\n    }\n    stages {\n        stage('pre-build') {\n            steps {\n                // logging tooling versions\n                sh 'dotnet --info'\n                sh 'find ~/.nuget/packages/microsoft.codequality.analyzers/ -type f'\n                sh 'dotnet nuget locals all --list'\n                sh 'dotnet restore'\n                // sh 'dotnet clean'\n            }\n        }\n        stage('build') {\n            steps {\n                // sh 'dotnet restore --force --no-cache'\n                // sh 'ls ./packages/'\n                // sh 'find ./packages/microsoft.codequality.analyzers/ -type f'\n                sh 'dotnet build --no-restore'\n            }\n        }\n        stage('test') {\n            steps {\n                sh 'no test project configured'\n                // sh 'dotnet test'\n            }\n        }\n    }\n}\n</code></pre>\n<p>My .csproj</p>\n<pre><code>&lt;Project Sdk=&quot;Microsoft.NET.Sdk.Web&quot;&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;netcoreapp2.1&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;Folder Include=&quot;wwwroot\\&quot; /&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;ItemGroup&gt;\n    &lt;PackageReference Include=&quot;Microsoft.AspNetCore.App&quot; /&gt;\n    &lt;PackageReference Include=&quot;Microsoft.CodeAnalysis.FxCopAnalyzers&quot; Version=&quot;2.6.2&quot;&gt;\n      &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;\n      &lt;IncludeAssets&gt;runtime; build; native; contentfiles; analyzers&lt;/IncludeAssets&gt;\n    &lt;/PackageReference&gt;\n  &lt;/ItemGroup&gt;\n\n  &lt;PropertyGroup&gt;\n    &lt;CodeAnalysisRuleSet&gt;&lt;/CodeAnalysisRuleSet&gt;\n    &lt;Features&gt;IOperation&lt;/Features&gt;\n  &lt;/PropertyGroup&gt;\n\n&lt;/Project&gt;\n</code></pre>\n<p>Some build details:</p>\n<pre><code>$ docker --version\nDocker version 18.06.1-ce, build e68fc7a\n</code></pre>\n<p>Inside docker container:</p>\n<pre><code>$ dotnet --info\n.NET Core SDK (reflecting any global.json):\n Version:   2.1.403\n Commit:    04e15494b6\n\nRuntime Environment:\n OS Name:     debian\n OS Version:  9\n OS Platform: Linux\n RID:         debian.9-arm\n Base Path:   /usr/share/dotnet/sdk/2.1.403/\n\nHost (useful for support):\n  Version: 2.1.5\n  Commit:  290303f510\n\n.NET Core SDKs installed:\n  2.1.403 [/usr/share/dotnet/sdk]\n\n.NET Core runtimes installed:\n  Microsoft.AspNetCore.All 2.1.5 [/usr/share/dotnet/shared/Microsoft.AspNetCore.All]\n  Microsoft.AspNetCore.App 2.1.5 [/usr/share/dotnet/shared/Microsoft.AspNetCore.App]\n  Microsoft.NETCore.App 2.1.5 [/usr/share/dotnet/shared/Microsoft.NETCore.App]\n</code></pre>\n<hr />\n<pre><code>$ find ./.nuget/packages/microsoft.codequality.analyzers/ -type f\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/analyzers/dotnet/vb/Microsoft.CodeQuality.VisualBasic.Analyzers.dll\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/analyzers/dotnet/vb/Microsoft.CodeQuality.Analyzers.dll\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/analyzers/dotnet/cs/Microsoft.CodeQuality.Analyzers.dll\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/analyzers/dotnet/cs/Microsoft.CodeQuality.CSharp.Analyzers.dll\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/.signature.p7s\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/ThirdPartyNotices.rtf\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/build/Microsoft.CodeQuality.CSharp.Analyzers.props\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/build/Microsoft.CodeQuality.VisualBasic.Analyzers.props\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/build/Microsoft.CodeQuality.Analyzers.props\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/DesignRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/DocumentationRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/PerformanceRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/UsageRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/ReliabilityRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/MaintainabilityRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/SecurityRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/PerformanceRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/MaintainabilityRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/UsageRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/DocumentationRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/ReliabilityRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/AllRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/NamingRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/AllRulesDisabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/SecurityRulesEnabled.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/DesignRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/NamingRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/rulesets/AllRulesDefault.ruleset\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/microsoft.codequality.analyzers.2.6.2.nupkg.sha512\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/microsoft.codequality.analyzers.2.6.2.nupkg\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/microsoft.codequality.analyzers.nuspec\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/tools/uninstall.ps1\n./.nuget/packages/microsoft.codequality.analyzers/2.6.2/tools/install.ps1\n</code></pre>\n<hr />\n<pre><code>$ dotnet nuget locals all --list\ninfo : http-cache: ./.local/share/NuGet/v3-cache\ninfo : global-packages: ./.nuget/packages/\ninfo : temp: /tmp/NuGetScratch\ninfo : plugins-cache: ./.local/share/NuGet/plugins-cache\n</code></pre>\n<hr />\n<pre><code>$ dotnet restore\n\n  Restoring packages for /var/lib/jenkins/jobs/pr-builder/jobs/cgi-api/branches/PR-18/workspace/API/API.csproj...\n\n  Restore completed in 13.5 sec for /var/lib/jenkins/jobs/pr-builder/jobs/cgi-api/branches/PR-18/workspace/API/API.csproj.\n</code></pre>\n<hr />\n<pre><code>$ dotnet build --no-restore\n\nMicrosoft (R) Build Engine version 15.8.169+g1ccb72aefa for .NET Core\nCopyright (C) Microsoft Corporation. All rights reserved.\n\n/usr/share/dotnet/sdk/2.1.403/Sdks/Microsoft.NET.Sdk/targets/Microsoft.PackageDependencyResolution.targets(198,5): error NETSDK1064: Package Microsoft.CodeQuality.Analyzers, version 2.6.2 was not found. It might have been deleted since NuGet restore. Otherwise, NuGet restore might have only partially completed, which might have been due to maximum path length restrictions. [/var/lib/jenkins/jobs/pr-builder/jobs/cgi-api/branches/PR-18/workspace/API/API.csproj]\n\nBuild FAILED.\n\n/usr/share/dotnet/sdk/2.1.403/Sdks/Microsoft.NET.Sdk/targets/Microsoft.PackageDependencyResolution.targets(198,5): error NETSDK1064: Package Microsoft.CodeQuality.Analyzers, version 2.6.2 was not found. It might have been deleted since NuGet restore. Otherwise, NuGet restore might have only partially completed, which might have been due to maximum path length restrictions. [/var/lib/jenkins/jobs/pr-builder/jobs/cgi-api/branches/PR-18/workspace/API/API.csproj]\n    0 Warning(s)\n    1 Error(s)\n</code></pre>\n"}, {"tags": ["c#", "rpn"], "comments": [{"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1539814335, "post_id": 52864322, "comment_id": 92642936, "body": "Did you get an error when you ran it? What does &quot;not working&quot; mean?"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1539820218, "post_id": 52864322, "comment_id": 92644349, "body": "What&#39;s <code>IntStack</code>? Do you mean <code>Stack&lt;int&gt;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": -1, "last_activity_date": 1539819253, "creation_date": 1539819253, "answer_id": 52864981, "question_id": 52864322, "link": "https://stackoverflow.com/questions/52864322/rpn-calculator-function-issue/52864981#52864981", "title": "rpn calculator function issue?", "body": "<p>Try following modifications :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n\n        static void Main(string[] args)\n        {\n\n            IntStack mystack = new IntStack();\n\n            mystack.Push(10);\n            System.Console.WriteLine(mystack.Pop());\n\n            mystack.Push(20);\n            mystack.Push(30);\n            mystack.Push(40);\n\n            System.Console.WriteLine(mystack.Pop());\n            System.Console.WriteLine(mystack.Pop());\n            System.Console.WriteLine(mystack.Pop());\n\n\n            System.Console.ReadKey();\n\n        }\n\n\n    }\n    public class IntStack\n    {\n        private List&lt;int&gt; stack = new List&lt;int&gt;();\n\n        public int? Pop()\n        {\n            if (stack.Count == 0) return null;\n\n            int value = stack[0];\n            stack.RemoveAt(0);\n            return value;\n        }\n        public void Push(int value)\n        {\n            stack.Insert(0, value);\n        }\n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 10461962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98904b0c8be8a4a77cfdac84e7f897b7?s=128&d=identicon&r=PG&f=1", "display_name": "jack elliot", "link": "https://stackoverflow.com/users/10461962/jack-elliot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539819253, "creation_date": 1539814174, "last_edit_date": 1539814348, "question_id": 52864322, "link": "https://stackoverflow.com/questions/52864322/rpn-calculator-function-issue", "title": "rpn calculator function issue?", "body": "<p>trying to make a rpn calculator in c# not sure why its not working. is there a error in my program or class file?</p>\n\n<pre><code>class Program\n    {\n        static void Main(string[] args)\n        {\n            IntStack mystack = new IntStack();\n\n            mystack.Push(10);\n            System.Console.WriteLine(mystack.Pop());\n\n            mystack.Push(20);\n            mystack.Push(30);\n            mystack.Push(40);\n\n            System.Console.WriteLine(mystack.Pop());\n            System.Console.WriteLine(mystack.Pop());\n            System.Console.WriteLine(mystack.Pop());\n\n\n            System.Console.ReadKey();\n        }\n     }\n</code></pre>\n"}, {"tags": ["c#", "azure", "azure-blob-storage", "azure-cdn"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1539814094, "post_id": 52864283, "comment_id": 92642861, "body": "You are uploading the file to a blob storage account, but you are not adding that link to the CDN, so why do you expect to receive a CDN link?"}, {"owner": {"reputation": 357, "user_id": 1506811, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b3ffe2a7a674ec9aacfcd999e9f49fea?s=128&d=identicon&r=PG", "display_name": "Anton  Zimm", "link": "https://stackoverflow.com/users/1506811/anton-zimm"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539818212, "post_id": 52864283, "comment_id": 92643964, "body": "@CamiloTerevinto can you please explain how to do it? Please provide description step by step or some post with explanation"}, {"owner": {"reputation": 13969, "user_id": 4167200, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ceLYp.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4167200/thomas"}, "edited": false, "score": 0, "creation_date": 1539820240, "post_id": 52864283, "comment_id": 92644354, "body": "So you upload a file to blob storage and you want to send back the CDN url to the user ? can you not just put the CDN name into a config variable ???"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539824721, "post_id": 52864283, "comment_id": 92645210, "body": "@AntonZimm <a href=\"https://docs.microsoft.com/en-us/azure/cdn/cdn-app-dev-net\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/cdn/cdn-app-dev-net</a>"}, {"owner": {"reputation": 357, "user_id": 1506811, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b3ffe2a7a674ec9aacfcd999e9f49fea?s=128&d=identicon&r=PG", "display_name": "Anton  Zimm", "link": "https://stackoverflow.com/users/1506811/anton-zimm"}, "reply_to_user": {"reputation": 13969, "user_id": 4167200, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ceLYp.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4167200/thomas"}, "edited": false, "score": 0, "creation_date": 1539842291, "post_id": 52864283, "comment_id": 92649108, "body": "@Thomas it required to parse file uri and replace to CDN url? I don&#39;t like this solution, I try to get already correct link in response."}, {"owner": {"reputation": 357, "user_id": 1506811, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b3ffe2a7a674ec9aacfcd999e9f49fea?s=128&d=identicon&r=PG", "display_name": "Anton  Zimm", "link": "https://stackoverflow.com/users/1506811/anton-zimm"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539842354, "post_id": 52864283, "comment_id": 92649128, "body": "@CamiloTerevinto this topic about CDM managements, not about Blob and CDN work together. It is not my case"}, {"owner": {"reputation": 13969, "user_id": 4167200, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ceLYp.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/4167200/thomas"}, "edited": false, "score": 0, "creation_date": 1539845180, "post_id": 52864283, "comment_id": 92650233, "body": "@AntonZimm, sorry trying to understand your use case... maybe there are other solution you need to think about"}, {"owner": {"reputation": 3119, "user_id": 511144, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/654882df054501d372b3684351de29e2?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/511144/artyom"}, "edited": false, "score": 1, "creation_date": 1600698304, "post_id": 52864283, "comment_id": 113161647, "body": "Did author managed to solve it? Get cdn endpoint for a bolb?"}, {"owner": {"reputation": 3347, "user_id": 905214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y9nie.jpg?s=128&g=1", "display_name": "mask8", "link": "https://stackoverflow.com/users/905214/mask8"}, "edited": false, "score": 0, "creation_date": 1606337724, "post_id": 52864283, "comment_id": 114937809, "body": "Did you figure this out? I&#39;m facing the same issue. I don&#39;t know how to make blob service to return CDN endpoint URL associated to the blob."}], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 1506811, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b3ffe2a7a674ec9aacfcd999e9f49fea?s=128&d=identicon&r=PG", "display_name": "Anton  Zimm", "link": "https://stackoverflow.com/users/1506811/anton-zimm"}, "is_accepted": false, "score": 0, "last_activity_date": 1606064283, "creation_date": 1606064283, "answer_id": 64956943, "question_id": 52864283, "link": "https://stackoverflow.com/questions/52864283/how-to-get-azure-cdn-link-for-file-in-azure-blob/64956943#64956943", "title": "How to get azure cdn link for file in azure blob?", "body": "<p>better available solution -- concatenate strings with URL of CDN and file name</p>\n"}], "owner": {"reputation": 357, "user_id": 1506811, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b3ffe2a7a674ec9aacfcd999e9f49fea?s=128&d=identicon&r=PG", "display_name": "Anton  Zimm", "link": "https://stackoverflow.com/users/1506811/anton-zimm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 768, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1606064283, "creation_date": 1539813897, "last_edit_date": 1539814057, "question_id": 52864283, "link": "https://stackoverflow.com/questions/52864283/how-to-get-azure-cdn-link-for-file-in-azure-blob", "title": "How to get azure cdn link for file in azure blob?", "body": "<p>I have Azure Blob and added for it Azure CDN.</p>\n\n<p>How to get link to cdn for uploaded to blob file?</p>\n\n<pre><code>var storageAccount = CloudStorageAccount.Parse(configuration.ConnectionString);\nvar client = storageAccount.CreateCloudBlobClient();\nvar container = client.GetContainerReference(\"container\");\n\nCloudBlobContainer container = await _containerFactory.CreateAsync(\"files\", cancellationToken);\nvar blockBlob = container.GetBlockBlobReference(\"file-name.png\");\n\nawait blockBlob.UploadFromStreamAsync(fileStream, cancellationToken);\n\nreturn blockBlob.Uri; // return blob blob url\n</code></pre>\n\n<p><code>blockBlob.Uri</code> returns blob url, but I need CDN uri?</p>\n\n<p>Is it possible to get CDN uri based on c# code? Without replacing part of uri to cdn endpoint.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "answers": [{"tags": [], "owner": {"reputation": 12943, "user_id": 2673029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NbcZN.jpg?s=128&g=1", "display_name": "Isma", "link": "https://stackoverflow.com/users/2673029/isma"}, "is_accepted": true, "score": 3, "last_activity_date": 1539814726, "last_edit_date": 1539814726, "creation_date": 1539814078, "answer_id": 52864309, "question_id": 52864240, "link": "https://stackoverflow.com/questions/52864240/how-do-i-handle-multi-line-addmodelerror-errors/52864309#52864309", "title": "How do I handle multi line AddModelError Errors?", "body": "<p>You should call <code>ModelState.AddModelError</code> for each of the errors you have in your controller, IMHO, it is not a good practice to mix your validation logic with the way things are rendered in the user interface. In fact, the MVC pattern is all about separating the three concerns, the model (data), the controller (logic, such as validation) and the views (the user interface).</p>\n\n<p>So I would do something like this:</p>\n\n<pre><code>if (string.IsNullOrEmpty(creditCard.CardNumber))\n{\n      ModelState.AddModelError(\"PaymentAmount\", \"Credit card number is required.\");\n}\n\nif (string.IsNullOrEmpty(creditCard.ExpirationDateMonth) || string.IsNullOrEmpty(creditCard.ExpirationDateYear))\n{        \n    ModelState.AddModelError(\"PaymentAmount\", \"Expiration date is required.\");\n}\n\nif (string.IsNullOrEmpty(creditCard.NameOnCard))\n{\n    ModelState.AddModelError(\"PaymentAmount\", \"Name is required.\");\n}\n\n[\u2026]\n</code></pre>\n\n<p>Then in your view, you can use the following HTML helper to render each error in a list:</p>\n\n<p>If you are using ASP.NET Core:</p>\n\n<pre><code>&lt;div asp-validation-summary=\"ValidationSummary.ModelOnly\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>If you are using the previous versions of ASP.NET MVC:</p>\n\n<pre><code>@Html.ValidationSummary()\n</code></pre>\n\n<p>This will generate HTML that you can style using CSS.</p>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/aspnet/core/tutorials/first-mvc-app/validation?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">here</a> for more info if you are using asp.net core or <a href=\"http://www.tutorialsteacher.com/mvc/htmlhelper-validationsummary\" rel=\"nofollow noreferrer\">here</a> for an example if you are using the previous version of ASP.NET MVC.</p>\n\n<p>If you want to display the errors in a different way you can access the errors directly in your view or even better, roll your own helper, see the answers to this question: <a href=\"https://stackoverflow.com/questions/573302/how-do-i-get-the-collection-of-model-state-errors-in-asp-net-mvc#573308\">How do I get the collection of Model State Errors in ASP.NET MVC?</a> </p>\n"}], "owner": {"reputation": 4151, "user_id": 302613, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b7d545f423f184a84d87ec9151f04eb9?s=128&d=identicon&r=PG", "display_name": "ErocM", "link": "https://stackoverflow.com/users/302613/erocm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 1, "accepted_answer_id": 52864309, "answer_count": 1, "score": 1, "last_activity_date": 1539814726, "creation_date": 1539813673, "question_id": 52864240, "link": "https://stackoverflow.com/questions/52864240/how-do-i-handle-multi-line-addmodelerror-errors", "title": "How do I handle multi line AddModelError Errors?", "body": "<p>I'm trying to check for multiple errors on my form. Here is the code I have:</p>\n\n<pre><code>  var hasErrors = false;\n  var sb = new StringBuilder();\n\n  if (string.IsNullOrEmpty(creditCard.CardNumber))\n  {\n    hasErrors = true;\n    sb.AppendLine(\"Credit card number is required.\");\n    //ModelState.AddModelError(\"PaymentAmount\", \"Credit card number is required.\");\n  }\n\n  if (string.IsNullOrEmpty(creditCard.ExpirationDateMonth) || string.IsNullOrEmpty(creditCard.ExpirationDateYear))\n  {\n    hasErrors = true;\n    // ModelState.AddModelError(\"PaymentAmount\", \"Expiration date is required.\");\n    sb.AppendLine(\"Expiration date is required.\");\n  }\n\n  if (string.IsNullOrEmpty(creditCard.NameOnCard))\n  {\n    hasErrors = true;\n    // ModelState.AddModelError(\"PaymentAmount\", \"Name is required.\");\n    sb.AppendLine(\"Name is required.\");\n  }\n\n  decimal amt = 0;\n  creditCard.PaymentAmount = creditCard.PaymentAmount.Replace(\"$\", string.Empty);\n  if (!decimal.TryParse(creditCard.PaymentAmount, out amt))\n  {\n    hasErrors = true;\n    //ModelState.AddModelError(\"PaymentAmount\",\"Amount is invalid.\");\n    sb.AppendLine(\"Amount is invalid.\");\n  }\n\n  if (hasErrors)\n  {\n    ModelState.AddModelError(\"PaymentAmount\", sb.ToString().Replace(Environment.NewLine,\"&lt;br&gt;\"));\n    return View(\"CreditCard\", creditCard);\n  }\n</code></pre>\n\n<p>I'm trying to get <code>AddModelError</code> to display in multiple lines but I'm not having any luck. It's displaying the <code>&lt;br&gt;</code> as text on the screen instead of rending a break.</p>\n\n<p>I had it where the error was being submitted individually but you'd have to submit the form multiple times before you got the errors on screen. That's why the <code>AddModelError</code> is commented out in each line.</p>\n\n<p>Is there a way to display multiple lines on the <code>AddModelError</code> or is there a better way to handle this?</p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["c#", "arrays", "media", "mp4", "mediaelement"], "comments": [{"owner": {"reputation": 2114, "user_id": 5623232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d415f90d71b25875885b8cfb4ec008?s=128&d=identicon&r=PG", "display_name": "NPras", "link": "https://stackoverflow.com/users/5623232/npras"}, "edited": false, "score": 0, "creation_date": 1539819302, "post_id": 52864211, "comment_id": 92644169, "body": "<a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/b846fd0b-6881-4820-9fd2-4a5e85023380/assigning-bits-stream-to-mediaelement-wpf\" rel=\"nofollow noreferrer\">This MSDN Thread</a>  seems to suggest that the only way is to temporarily save it to a file."}], "owner": {"reputation": 195, "user_id": 10070595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c9d7b92e891fc881c829d78ba96225?s=128&d=identicon&r=PG&f=1", "display_name": "kokos123", "link": "https://stackoverflow.com/users/10070595/kokos123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1539813494, "creation_date": 1539813494, "question_id": 52864211, "link": "https://stackoverflow.com/questions/52864211/how-to-set-a-byte-array-as-a-media-element-source", "title": "How to set a byte array as a media element source", "body": "<p>So I have a MediaElement:</p>\n\n<p><a href=\"https://i.stack.imgur.com/adHQu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/adHQu.png\" alt=\"mediaelement\"></a></p>\n\n<p>This is how to usually attach a mp4 file to the media element:</p>\n\n<pre><code>mediaElement.Source = new Uri(@\"C:\\Users\\schueler\\Desktop\\videoplayback.mp4\");\n</code></pre>\n\n<p>But the problem that I'm having is that I have a database table where the mp4 file is stored as a byte array and what I want is to set the byte array as the source because right now I can only set the filename as a source file.\nHow can I do it? I can't find a method where I can set a byte array as a source?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc-4", "cookies"], "comments": [{"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1539816077, "post_id": 52864204, "comment_id": 92643410, "body": "It could be that browser stores credentials. If so, there is nothing you can do about it."}, {"owner": {"reputation": 591, "user_id": 6129388, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4eUyg.jpg?s=128&g=1", "display_name": "Ahmed Aboumalek", "link": "https://stackoverflow.com/users/6129388/ahmed-aboumalek"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 1, "creation_date": 1539816277, "post_id": 52864204, "comment_id": 92643454, "body": "I have tried it with two different browsers, Firefox developper and Chrome, same behavior."}, {"owner": {"reputation": 591, "user_id": 6129388, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4eUyg.jpg?s=128&g=1", "display_name": "Ahmed Aboumalek", "link": "https://stackoverflow.com/users/6129388/ahmed-aboumalek"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 1, "creation_date": 1539817271, "post_id": 52864204, "comment_id": 92643737, "body": "I managed to find a workaround however I would ike to understand the reason behind the problem, so I will hold off on that for now."}, {"owner": {"reputation": 651, "user_id": 6759690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70d3f7a2964e4d666358db6b6e2c825d?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6759690/mike"}, "edited": false, "score": 0, "creation_date": 1539833806, "post_id": 52864204, "comment_id": 92646947, "body": "Hope you would find the solution here. <a href=\"https://stackoverflow.com/questions/7586469/how-can-i-handle-forms-authentication-timeout-exceptions-in-asp-net\" title=\"how can i handle forms authentication timeout exceptions in asp net\">stackoverflow.com/questions/7586469/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 6129388, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4eUyg.jpg?s=128&g=1", "display_name": "Ahmed Aboumalek", "link": "https://stackoverflow.com/users/6129388/ahmed-aboumalek"}, "edited": false, "score": 0, "creation_date": 1539860565, "post_id": 52866675, "comment_id": 92658549, "body": "That is not the problem. The issue is not adjusting session or authentication ticket timeout, it is understanding why it persists eventhough I set it explicitly not to."}], "tags": [], "owner": {"reputation": 651, "user_id": 6759690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70d3f7a2964e4d666358db6b6e2c825d?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6759690/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1539834045, "creation_date": 1539834045, "answer_id": 52866675, "question_id": 52864204, "link": "https://stackoverflow.com/questions/52864204/asp-net-mvc-4-authentification-cookie-is-saved-even-if-set-as-not-persistent/52866675#52866675", "title": "ASP.NET MVC 4 authentification cookie is saved even if set as not persistent", "body": "<p>If you are using Form Authentication mode, there is a situation to control both Form Authentication expiration and Custom Session expiration. That would probably make your application happen the issue. \nHope you would find the solution here <a href=\"https://stackoverflow.com/questions/7586469/how-can-i-handle-forms-authentication-timeout-exceptions-in-asp-net\">How can I handle forms authentication timeout exceptions in ASP.NET?</a></p>\n"}], "owner": {"reputation": 591, "user_id": 6129388, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4eUyg.jpg?s=128&g=1", "display_name": "Ahmed Aboumalek", "link": "https://stackoverflow.com/users/6129388/ahmed-aboumalek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539834045, "creation_date": 1539813477, "last_edit_date": 1539815508, "question_id": 52864204, "link": "https://stackoverflow.com/questions/52864204/asp-net-mvc-4-authentification-cookie-is-saved-even-if-set-as-not-persistent", "title": "ASP.NET MVC 4 authentification cookie is saved even if set as not persistent", "body": "<p>I am working with ASP.NET MVC 4 (NET Framework 4.0)</p>\n\n<p>For a reason I do not understand, my user remains logged-in even after the browser or/and application restart. To take this further, even after a total computer restart, which means the authentification cookie/ticket is persisting.\nI do not want to use <code>cookieless</code> attribute in my <code>Web.config</code> as I do not want to have the cookie stored in the URL for security and SEO issues.</p>\n\n<p>I don't understand why is this happening, I have set the authentification cookie not to persist in the <code>FormsAuthentication.SetAuthCookie()</code> method.</p>\n\n<p><strong>This is my login action, <code>isValid(username, password)</code> is a custom method that checks if the username and password match in the model.\n<code>db</code> is my database context.</strong></p>\n\n<pre><code>    [AllowAnonymous]\n    [HttpPost]\n    public ActionResult LogIn(Employe user)\n    {\n        if (ModelState.IsValid)\n        {\n            if (IsValid(user.username, user.password))\n            {\n                FormsAuthentication.SetAuthCookie(user.username, false);\n                Employe currentEmp = db.Employes.SingleOrDefault(emp =&gt; emp.username == user.username);\n                Session[\"currentUser\"] = currentEmp;\n                return RedirectToAction(\"Index\", \"Home\");\n            }\n            else\n            {\n                ModelState.AddModelError(\"\", \"Login Data Incorrect!\");\n            }\n        }\n        return View();\n    }\n</code></pre>\n\n<p><strong>This is my Web.config</strong></p>\n\n<pre><code>&lt;authentication mode=\"Forms\"&gt;\n      &lt;forms loginUrl=\"~/Account/Login\" protection=\"All\" timeout=\"2880\" /&gt;\n&lt;/authentication&gt;\n</code></pre>\n"}, {"tags": ["c#", "closedxml"], "answers": [{"comments": [{"owner": {"reputation": 3389, "user_id": 179494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84a553e463bb05113eca2d351ba4929c?s=128&d=identicon&r=PG", "display_name": "Francois Botha", "link": "https://stackoverflow.com/users/179494/francois-botha"}, "reply_to_user": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "edited": false, "score": 1, "creation_date": 1553764933, "post_id": 52904812, "comment_id": 97508361, "body": "@MIKE This will be fixed in the upcoming 0.95 release of ClosedXML."}], "tags": [], "owner": {"reputation": 3389, "user_id": 179494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84a553e463bb05113eca2d351ba4929c?s=128&d=identicon&r=PG", "display_name": "Francois Botha", "link": "https://stackoverflow.com/users/179494/francois-botha"}, "is_accepted": true, "score": 1, "last_activity_date": 1540032242, "creation_date": 1540032242, "answer_id": 52904812, "question_id": 52864198, "link": "https://stackoverflow.com/questions/52864198/closed-xml-protect-worksheet-dont-allow-edit-objects/52904812#52904812", "title": "closed xml protect worksheet don&#39;t allow edit objects", "body": "<p>This is a bug in ClosedXML. It is fixed in this pull request: <a href=\"https://github.com/ClosedXML/ClosedXML/pull/1038\" rel=\"nofollow noreferrer\">https://github.com/ClosedXML/ClosedXML/pull/1038</a></p>\n"}], "owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 52904812, "answer_count": 1, "score": 1, "last_activity_date": 1540032242, "creation_date": 1539813422, "question_id": 52864198, "link": "https://stackoverflow.com/questions/52864198/closed-xml-protect-worksheet-dont-allow-edit-objects", "title": "closed xml protect worksheet don&#39;t allow edit objects", "body": "<p>I don't want the user allowed to edit objects. The checkmark for \"edit objects\" should be unchecked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DvF1U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DvF1U.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my code:</p>\n\n<pre><code>        using (var workbook = new XLWorkbook(download))\n        {\n            foreach (var worksheet in workbook.Worksheets.Skip(4))\n            {\n                var protection = worksheet.Protect(\"password\");\n                protection.SelectLockedCells = false;\n                protection.SelectUnlockedCells = false;\n                protection.SetObjects(false);\n            }\n\n            workbook.SaveAs(download, true, true);\n            download.Position = 0;\n        }\n</code></pre>\n\n<p>I've also tried:</p>\n\n<pre><code>                protection.Objects = false;\n                protection.Objects = true;\n                workbook.SaveAs(download, false);\n                workbook.SaveAs(download, true);\n</code></pre>\n\n<p>Any idea? I think this might be a glitch.</p>\n"}, {"tags": ["c#", ".net", "telephony", "tapi", "netapi32"], "answers": [{"tags": [], "owner": {"reputation": 340, "user_id": 1430535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4306e7b044a8edf6340721d02acc8c56?s=128&d=identicon&r=PG", "display_name": "Polluks", "link": "https://stackoverflow.com/users/1430535/polluks"}, "is_accepted": false, "score": 0, "last_activity_date": 1550579008, "creation_date": 1550579008, "answer_id": 54766273, "question_id": 52864153, "link": "https://stackoverflow.com/questions/52864153/call-monitor-using-c-tapi/54766273#54766273", "title": "Call Monitor using C# TAPI", "body": "<p>The line is <code>TapiLine</code>, you have to use <code>TapiCall</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 6853840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BgpDL.jpg?s=128&g=1", "display_name": "Oerk", "link": "https://stackoverflow.com/users/6853840/oerk"}, "is_accepted": false, "score": 0, "last_activity_date": 1558968811, "creation_date": 1558968811, "answer_id": 56328352, "question_id": 52864153, "link": "https://stackoverflow.com/questions/52864153/call-monitor-using-c-tapi/56328352#56328352", "title": "Call Monitor using C# TAPI", "body": "<p>Okay, first, you want to stick to one Version of TAPI. In your <code>using</code> statements, youre importing a TAPI 2.x managed libaray and a TAPI 3.x managed library.</p>\n\n<pre><code>using TAPI3Lib; // this is a TAPI 3.x library\nusing JulMar.Atapi; // this is a TAPI 2.x library\n</code></pre>\n\n<p>If you're choosing to go with TAPI 3.x, you should start by creating a new class, which handles different kinds of TAPI events. To do so, it needs to implement the <code>ITTAPIEventNotification</code> interface:</p>\n\n<pre><code>public class CallNotification : ITTAPIEventNotification\n{\n    public void Event(TAPI_EVENT TapiEvent, object pEvent)\n    {\n        if(pEvent == null)\n            throw new ArgumentNullException(nameof(pEvent));\n\n        switch (TapiEvent)\n        {\n            case TAPI_EVENT.TE_CALLNOTIFICATION:\n                // This event will be raised every time a new call is created on an monitored line-\n                // You can use CALLINFO_LONG.CIL_ORIGIN to see weather it's an inbound call, or an\n                // outbound call.\n                break;\n            case TAPI_EVENT.TE_CALLSTATE:\n                // This event will be raised every time the state of a call on one of your monitored\n                // Lines changes.\n                // If you'd want to read information about a call, you can do it here:\n                ITCallStateEvent callStateEvent = (ITCallStateEvent)pEvent;\n                ITCallInfo call = callStateEvent.Call;\n\n                string calledidname = call.get_CallInfoString(CALLINFO_STRING.CIS_CALLEDIDNAME);\n                Console.WriteLine(\"Called ID Name \" + calledidname);\n\n                string callednumber = call.get_CallInfoString(CALLINFO_STRING.CIS_CALLEDIDNUMBER);\n                Console.WriteLine(\"Called Number \" + callednumber);\n\n                string calleridname = call.get_CallInfoString(CALLINFO_STRING.CIS_CALLERIDNAME);\n                Console.WriteLine(\"Caller ID Name \" + calleridname);\n\n                string callernumber = call.get_CallInfoString(CALLINFO_STRING.CIS_CALLERIDNUMBER);\n                Console.WriteLine(\"Caller Number \" + callernumber);\n                break;\n        }\n\n        // Since you're working with COM objects, you should release any used references.\n        Marshal.ReleaseComObject(pEvent); \n    }\n}\n</code></pre>\n\n<p>In order to use this class, you need to create a new instance of <code>TAPI3Lib.TAPIClass</code> and  call its <code>Initialize</code> method. After that, you can attach your newly create <code>CallNotification</code> class as an event handler. You could also specify which types of events you want your handler to receive. Notice that you wont receive any event notifications at this point, because you haven't told <code>TAPIClass</code> which lines it should monitor:</p>\n\n<pre><code>CallNotification callevent = new CallNotification();\nTAPIClass tapi = new TAPIClass();\ntapi.Initialize();\ntapi.EventFilter = (int)(TAPI_EVENT.TE_CALLNOTIFICATION | TAPI_EVENT.TE_CALLSTATE);\ntapi.ITTAPIEventNotification_Event_Event += new ITTAPIEventNotification_EventEventHandler(callevent.Event);\n</code></pre>\n\n<p>In order to tell <code>TAPIClass</code> which lines it should monitor, you need to do two things. ask for all lines registered to you IPBX and determine, weather its a line you have the rights to monitor (this is an IPBX configuration):</p>\n\n<pre><code>public List&lt;ITAddress&gt; EnumerateLines(TAPIClass tapi)\n{\n    List&lt;ITAddress&gt; addresses = new List&lt;ITAddress&gt;();\n\n    ITAddress address;\n    uint arg = 0;\n\n    ITAddressCapabilities addressCapabilities;\n    int callfeatures;\n    int linefeatures;\n    bool hasCallFeaturesDial;\n    bool hasLineFeaturesMakeCall;\n\n    IEnumAddress ea = tapi.EnumerateAddresses();\n\n    do\n    {\n        ea.Next(1, out address, ref arg);\n\n        if (address != null)\n        {\n            addressCapabilities = (ITAddressCapabilities)address;\n\n            callfeatures = addressCapabilities.get_AddressCapability(ADDRESS_CAPABILITY.AC_CALLFEATURES1);\n            linefeatures = addressCapabilities.get_AddressCapability(ADDRESS_CAPABILITY.AC_LINEFEATURES);\n\n            hasCallFeaturesDial = (callfeatures1 &amp; (int)0x00000040) != 0; //Contains LineCallFeatures Dial; see Tapi.h for details\n            hasLineFeaturesMakeCall = (linefeatures &amp; (int)0x00000008) != 0; //Contains LineFeatures MakeCall; see Tapi.h for details\n\n            // this is basically saying \"Am I allowed to dial numbers and create calls on this specific line?\"\n            if(hasCallFeaturesDial &amp;&amp; hasLineFeaturesMakeCall)\n                address.Add(address);\n        }\n    } while (address != null);\n\n    return addresses;\n}\n\npublic void RegisterLines(TAPIClass tapi, IEnumerable&lt;ITAddress&gt; addresses)\n{\n    if (tapi == null)\n        throw new ArgumentNullException(nameof(tapi));\n\n    if (addresses == null)\n        throw new ArgumentNullException(nameof(addresses));\n\n    foreach (ITAddress address in addresses)\n    {\n        tapi.RegisterCallNotifications(address, true, true, TapiConstants.TAPIMEDIATYPE_AUDIO, 2);\n    }\n}\n</code></pre>\n\n<p>so Your initialization would look like this:</p>\n\n<pre><code>CallNotification callevent = new CallNotification();\nTAPIClass tapi = new TAPIClass();\ntapi.Initialize();\n\nIEnumerable&lt;ITAddress&gt; addresses = this.EnumerateLines(tapi);\nthis.RegisterLines(tapi, addresses);\n\ntapi.EventFilter = (int)(TAPI_EVENT.TE_CALLNOTIFICATION | TAPI_EVENT.TE_CALLSTATE);\ntapi.ITTAPIEventNotification_Event_Event += new \nITTAPIEventNotification_EventEventHandler(callevent.Event);\n</code></pre>\n\n<p>Once you run your program, and it's done executing above code, you will get notifications from incoming and outgoing calls when their call state changes.</p>\n\n<p>I hope you could follow this post. If you have any questions, just ask =)</p>\n"}], "owner": {"reputation": 1, "user_id": 10520255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ae8e1890d84da15af23c70883a3195?s=128&d=identicon&r=PG&f=1", "display_name": "Nancy", "link": "https://stackoverflow.com/users/10520255/nancy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1353, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1558968811, "creation_date": 1539813119, "question_id": 52864153, "link": "https://stackoverflow.com/questions/52864153/call-monitor-using-c-tapi", "title": "Call Monitor using C# TAPI", "body": "<p>I need to create a program to monitor activity of phone call.And get information about the calls, like number and Name. \nI'm not strong with TAPI code and C#, so hope that anybody can help me, I'm desperate.</p>\n\n<p>I have this code where I try to detect the available devices and obtain information from those devices when a call comes in:</p>\n\n<pre><code>using System;\nusing TAPI3Lib; \nusing JulMar.Atapi; \n\nnamespace ConsoleApp1\n{\n  class Program\n  {\n    private void tapi_ITTAPIEventNotification_Event(TAPI_EVENT TapiEvent, object pEvent)\n    {\n        try\n        {\n            ITCallNotificationEvent cn = pEvent as ITCallNotificationEvent;\n            if(cn.Call.CallState == CALL_STATE.CS_CONNECTED)\n            {\n                string calledidname = cn.Call.get_CallInfoString(CALLINFO_STRING.CIS_CALLEDIDNAME);\n                Console.WriteLine(\"Called ID Name \" + calledidname);\n                string callednumber = cn.Call.get_CallInfoString(CALLINFO_STRING.CIS_CALLEDIDNUMBER);\n                Console.WriteLine(\"Called Number \" + callednumber);\n                string calleridname = cn.Call.get_CallInfoString(CALLINFO_STRING.CIS_CALLERIDNAME);\n                Console.WriteLine(\"Caller ID Name \" + calleridname);\n                string callernumber = cn.Call.get_CallInfoString(CALLINFO_STRING.CIS_CALLERIDNUMBER);\n                Console.WriteLine(\"Caller Number \" + callernumber);\n\n\n            }\n        }\n        catch(Exception ex)\n        {\n            Console.WriteLine(ex.ToString());\n        }\n    }\n\n\n\n    static void Main(string[] args)\n    {\n        TapiManager mgr = new TapiManager(\"ConsoleApp1\");\n        mgr.Initialize();\n\n        foreach(TapiLine line in mgr.Lines)\n        {\n            foreach (string s in line.Capabilities.AvailableDeviceClasses)\n                Console.WriteLine(\"{0} - {1}\", line.Name, s);\n        }\n    }\n}\n}\n</code></pre>\n\n<p>But when I run it, just see the available devices but don't see any information about calls. I'm used to programming in java so I guess I should send to call the method that gets the call information in the main, but I do not know how to do that and in any code I've seen they do.\nSo, hope that you can help me to understand how TAPI works and what can I do to do my code work.</p>\n"}, {"tags": ["c#", ".net", "model-view-controller"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1539812805, "post_id": 52864074, "comment_id": 92642439, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with at least 6 different sample inputs and the expected results for each of those sample inputs. <i>At least one of those sample inputs should cover the scenario where the available entry has a <code>Start</code> between an unavailable <code>Start</code> and <code>End</code> and the available <code>End</code> is <b>after</b> the unavailable <code>End</code>.</i>"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1539812946, "post_id": 52864074, "comment_id": 92642506, "body": "I&#39;d also recommend changing the class name from <code>obj</code> to something more useful (maybe <code>Appointment</code>?)."}, {"owner": {"reputation": 139130, "user_id": 141172, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vuodg.jpg?s=128&g=1", "display_name": "Eric J.", "link": "https://stackoverflow.com/users/141172/eric-j"}, "edited": false, "score": 0, "creation_date": 1539813328, "post_id": 52864074, "comment_id": 92642636, "body": "You probably want &gt;= and &lt;=. Otherwise, a date range that exactly coincides with the start or end of an unavailable range will still be considered available."}], "answers": [{"tags": [], "owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "is_accepted": true, "score": 0, "last_activity_date": 1539813944, "creation_date": 1539813944, "answer_id": 52864288, "question_id": 52864074, "link": "https://stackoverflow.com/questions/52864074/excluding-datetimes-within-a-range/52864288#52864288", "title": "Excluding DateTimes within a range", "body": "<p>Your overlapping logic is flawed. Do it like (touching edges exclusive):</p>\n\n<pre><code>var result = available.Where(x =&gt; \n     !unavailable.Any(y =&gt; y.Start &lt; x.End &amp;&amp; y.End &gt; x.Start));\n\npublic class DateRange // obj is awkward naming \n{\n   public DateTime Start {get; set;}\n   public DateTime End {get; set;}\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10420755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd205a6ed70d001ce28027173d21fbf2?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/10420755/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52864288, "answer_count": 1, "score": -2, "last_activity_date": 1539813944, "creation_date": 1539812720, "question_id": 52864074, "link": "https://stackoverflow.com/questions/52864074/excluding-datetimes-within-a-range", "title": "Excluding DateTimes within a range", "body": "<p>I would like some clarification on the accuracy of my datetime range logic, I want to exclude any dates from available that live within a date range of an unavailable date.</p>\n\n<p>i.e. if Start 17/10/2018 - 22:35 || End 17/10/2018 23:00 was an unavailable date, then result should not contain any objects who's Start and End properties reside between these two DateTimes.</p>\n\n<p>Thanks </p>\n\n<pre><code>var unavailable = new List&lt;obj&gt;();\nvar available = new List&lt;obj&gt;();\n\nvar result = available.Where(x =&gt; !unavailable.Any(y =&gt; y.Start &gt; x.Start &amp;&amp; y.End &lt; \nx.End);\n\npublic class obj \n{\n   public DateTime Start {get; set;}\n   public DateTime End {get; set;}\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "jwt", "bearer-token"], "comments": [{"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 0, "creation_date": 1539843452, "post_id": 52864071, "comment_id": 92649526, "body": "Fail to reproduce the same error using your code . Could you please clarify in which case will the error occur ?"}, {"owner": {"reputation": 143, "user_id": 10463693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103d1f1c68af317a0a9c824ad644899c?s=128&d=identicon&r=PG&f=1", "display_name": "Jam66125", "link": "https://stackoverflow.com/users/10463693/jam66125"}, "reply_to_user": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 0, "creation_date": 1539852223, "post_id": 52864071, "comment_id": 92653969, "body": "Thank you so much for checking my code.  It happens when I register a user with angular front end.  I do receive the token.  I should look at my angular ts code for account"}, {"owner": {"reputation": 143, "user_id": 10463693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103d1f1c68af317a0a9c824ad644899c?s=128&d=identicon&r=PG&f=1", "display_name": "Jam66125", "link": "https://stackoverflow.com/users/10463693/jam66125"}, "reply_to_user": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 0, "creation_date": 1540243739, "post_id": 52864071, "comment_id": 92785149, "body": "Thanks itminus, I do not know why, but it works today.  I used your comment to not change anything in CORE 2.1.  I reviewed my angular code and could not find anything wrong.  I was stepping through my code, debugging, and it worked!  I appreciage your time."}], "answers": [{"tags": [], "owner": {"reputation": 1368, "user_id": 1257607, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/y38M3.png?s=128&g=1", "display_name": "DanielV", "link": "https://stackoverflow.com/users/1257607/danielv"}, "is_accepted": false, "score": 0, "last_activity_date": 1575295455, "creation_date": 1575295455, "answer_id": 59140529, "question_id": 52864071, "link": "https://stackoverflow.com/questions/52864071/net-core-2-1-bearer-was-not-authenticated-error-in-controller/59140529#59140529", "title": "Net Core 2.1 Bearer was not authenticated error in Controller", "body": "<p>Based on your code, it seems that the issue is that the token received is not valid (NULL).</p>\n\n<blockquote>\n  <p>Failure message: No SecurityTokenValidator available for token: <strong><em>null</em></strong></p>\n</blockquote>\n\n<p>First of all, you should make sure the token arrives as expected.</p>\n"}], "owner": {"reputation": 143, "user_id": 10463693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103d1f1c68af317a0a9c824ad644899c?s=128&d=identicon&r=PG&f=1", "display_name": "Jam66125", "link": "https://stackoverflow.com/users/10463693/jam66125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3901, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575295455, "creation_date": 1539812702, "last_edit_date": 1592644375, "question_id": 52864071, "link": "https://stackoverflow.com/questions/52864071/net-core-2-1-bearer-was-not-authenticated-error-in-controller", "title": "Net Core 2.1 Bearer was not authenticated error in Controller", "body": "<p>I am getting an error in net core 2.1:</p>\n<blockquote>\n<p>Bearer was not authenticated.</p>\n<p>Failure message: No SecurityTokenValidator available for token: null</p>\n</blockquote>\n<p>The asp net output window is:</p>\n<pre><code>info: Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler[7]\nBearer was not authenticated. Failure message: No SecurityTokenValidator available for token: null\ninfo: Microsoft.AspNetCore.Cors.Infrastructure.CorsService[4]\nPolicy execution successful.\n</code></pre>\n<p><strong>The accounts controller code is here:</strong></p>\n<pre><code>namespace quiz_backend.Controllers\n{\n    public class Credentials\n    {\n        public string Email { get; set; }\n        public string Password { get; set; }\n    }\n\n    [Produces(&quot;application/json&quot;)]\n    [Route(&quot;api/Account&quot;)]\n    public class AccountController : Controller\n    {\n        readonly UserManager&lt;IdentityUser&gt; userManager;\n        readonly SignInManager&lt;IdentityUser&gt; signInManager;\n\n        public AccountController(UserManager&lt;IdentityUser&gt; userManager, SignInManager&lt;IdentityUser&gt; signInManager)\n        {\n            this.userManager = userManager;\n            this.signInManager = signInManager;\n        }\n\n        [HttpPost]\n        public async Task&lt;IActionResult&gt; Register([FromBody] Credentials credentials)\n        {\n            var user = new IdentityUser { \n                UserName = credentials.Email, \n                Email = credentials.Email \n            };\n\n            var result = await userManager.CreateAsync(user, credentials.Password);\n\n            if (!result.Succeeded)\n                return BadRequest(result.Errors);\n\n            await signInManager.SignInAsync(user, isPersistent: false);\n            // create a token\n            var signingKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(&quot;this is the secret phrase&quot;));\n            var signingCredentials = new SigningCredentials(signingKey, SecurityAlgorithms.HmacSha256);\n            var jwt = new JwtSecurityToken(signingCredentials: signingCredentials);\n            return Ok(new JwtSecurityTokenHandler().WriteToken(jwt));\n        }\n    }\n}\n</code></pre>\n<p><strong>Here is the startup.cs</strong></p>\n<pre><code>namespace quiz_backend\n{\n    public class Startup\n    {\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            services.AddCors(options =&gt; options.AddPolicy(&quot;Cors&quot;, builder =&gt;\n            {\n                builder.AllowAnyOrigin()\n                .AllowAnyMethod()\n                .AllowAnyHeader();\n            }));\n\n            services.AddDbContext&lt;QuizContext&gt;(opt =&gt;opt.UseInMemoryDatabase(&quot;quiz&quot;));\n            services.AddDbContext&lt;UserDbContext&gt;(opt =&gt; opt.UseInMemoryDatabase(&quot;user&quot;));\n\n            services.AddIdentity&lt;IdentityUser, IdentityRole&gt;().AddEntityFrameworkStores&lt;UserDbContext&gt;();\n            var signingKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(&quot;this is the secret phrase&quot;));\n            services.AddAuthentication(options =&gt;{\n                options.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\n                options.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;\n            }).AddJwtBearer(cfg =&gt; {\n                cfg.RequireHttpsMetadata = false;\n                cfg.SaveToken = true;\n                cfg.TokenValidationParameters = new TokenValidationParameters()\n                {\n                    IssuerSigningKey = signingKey,\n                    ValidateAudience = false,\n                    ValidateLifetime = false,\n                    ValidateIssuerSigningKey = true\n                };\n            });\n            services.AddMvc();\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n        {\n            app.UseAuthentication();\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n\n            app.UseCors(&quot;Cors&quot;);\n            \n            app.UseMvc();\n        }\n    }\n}\n</code></pre>\n<p>This is the front end auth code to attach the token to the header in ts:</p>\n<pre><code>export class AuthInterceptor implements HttpInterceptor {\n    constructor() {}\n    intercept(req, next) {\n        var token = localStorage.getItem('token')\n        var authRequest = req.clone({\n            headers: req.headers.set('Authorization', `Bearer ${token}`)\n        })\n        return next.handle(authRequest)\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "events", "memory-leaks", "garbage-collection"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1539813135, "post_id": 52864041, "comment_id": 92642576, "body": "The only way for there to be a difference between unsubscribing each handler individually and just setting the whole thing to null is if there is a custom add/remove method for the event that does something other than just changing a backing delegate when removing (which, for the record, seems like a bad idea).  Since you don&#39;t have custom add/remove handlers in your example, you cannot be in that position."}], "owner": {"reputation": 185, "user_id": 3025685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b33ed5f51c101e8b972e440268e06815?s=128&d=identicon&r=PG&f=1", "display_name": "MrSpudtastic", "link": "https://stackoverflow.com/users/3025685/mrspudtastic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1539812480, "creation_date": 1539812480, "question_id": 52864041, "link": "https://stackoverflow.com/questions/52864041/can-an-events-publisher-unsubscribe-its-listeners", "title": "Can an event&#39;s publisher unsubscribe its listeners?", "body": "<p>In <a href=\"https://stackoverflow.com/questions/52745233/clearing-subscriptions-what-will-break-this-self-cleaning-event-publisher\">my last question</a>, I asked what would break a self-cleaning block of code designed to remove all subscriptions from an event's delegates field when the event's parent object is disposed. However, I was informed that setting the event to null does exactly what I was trying to do with the code in question, but without the extra cycles and lines of code. </p>\n\n<p><a href=\"https://www.codeproject.com/Articles/43987/Event-Handling-and-Garbage-Collection-in-NET\" rel=\"nofollow noreferrer\">This article</a> demonstrates that setting an event to null (clearing the delegate field) does not guarantee that nothing is listening for it, and that even if the event is set to null, it may still be kept from the garbage collector. </p>\n\n<p>So the question is, is there a way for the publisher to unsubscribe its listeners? </p>\n\n<p>--</p>\n\n<p>For context, I am aware that the listener is normally expected to remove its own subscription when it is done listening, but I would like a little bit more certainty than that, if possible. Also, I occasionally have to deal with code where I'm not entirely sure if all listeners have unsubscribed when the publisher is disposed. </p>\n\n<p>In case it's relevant, the code from my last question is as follows:</p>\n\n<pre><code>    public event CustomEventHandler customHandler;\n\n    ...    \n    ///During this object's lifetime, some other object subscribes to this event.\n    ...\n\n    ///Method used for cleanup\n    void ClearSubscriptions(CustomEventHandler handler){\n         if(handler == null){return;}\n\n         Delegate[] delegates = handler.GetInvocationList();\n         foreach(Delegate item in delegates){\n             handler -= (CustomEventHandler)item;\n         }\n    }\n</code></pre>\n\n<p>This clears the event's delegates list, but I've been told that just setting customHandler = null should do the same. I also thought that this would ensure that nothing was still listening/referencing the event, but that does not seem to be the case, as is explained below. </p>\n\n<p>To summarize the relevant code in the referenced article, the article's example is a form that allows the user to generate an \"EventGenerator\" object under one of three different conditions:</p>\n\n<p>1.) There is no cleanup on the object's events. </p>\n\n<p>2.) The publisher cleans up by setting the event to null. </p>\n\n<p>3.) The listener cleans up by unsubscribing from the event. </p>\n\n<p>These are controlled by a radio check, so only one condition may be active at a time. The EventGenerator object has an event that is fired when it is created. Each EventGenerator is assigned a number, starting at 0 and incrementing. The form has an event handler that subscribes to this event, and whenever that event is fired, the event handler prints that a new EventGenerator has been created, along with that object's number. Additionally, the form only references one EventGenerator at a time, so whenever a new one is created, the previous one is forgotten. </p>\n\n<p>Under option 1, every time a new one of these objects is created, all objects that have been created fire off an \"I've been created\" dialog. This is expected since the form is still subscribed to all of these instances, even if they have been dereferenced. </p>\n\n<p>Under option 3, when a new object is created, the form unsubscribes from the previous EventGenerator's event before dereferencing it, so the new object's \"created\" dialog displays, as well as the old object's \"finalized\" dialog. This demonstrates that the object has been gathered by the garbage collector and no longer holds any resources. </p>\n\n<p>Option 2 is what confuses me. When option 2 is active, if a new EventGenerator is created, then the old one is disposed. The form does not unsubscribe, but the previous object does set its event to null. The \"New Object\" dialog is displayed once, with the new object's number. The previous generators are silent, meaning their events aren't being fired, and that is good. However, their \"finalized\" dialog never fires. This means that, even though the event has been set to null, the EventGenerator is still not eligible for garbage collection, creating a memory leak.</p>\n\n<p>It seems to me that this is probably because the form itself never unsubscribes from the event under option 2. Then, even though the event doesn't really exist anymore, the form is still pointing at it, and that keeps the garbage collector away. </p>\n\n<p>So with that context, I am curious. Is there a way for an event's publisher to unsubscribe its listeners and let Option 2 free up those dereferenced objects? </p>\n\n<p>Also, sorry for this extra information being so verbose!</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc-5", "unity-container", "event-listener"], "owner": {"reputation": 9713, "user_id": 4967389, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c32808cbafba86b9edb6d4d0c45186a?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/4967389/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1170, "favorite_count": 4, "answer_count": 0, "score": 5, "last_activity_date": 1550522872, "creation_date": 1539812460, "last_edit_date": 1539917861, "question_id": 52864034, "link": "https://stackoverflow.com/questions/52864034/how-to-establish-event-listener-communication-in-asp-net-mvc-5", "title": "How to establish event-listener communication in ASP.NET MVC 5?", "body": "<p>I have a project that is written with <code>c#</code> on the top of ASP.NET MVC 5 framework. I set up an <code>IoC</code> using <a href=\"https://code.msdn.microsoft.com/Dependency-Injection-in-11d54863\" rel=\"nofollow noreferrer\">Unity-container</a> to handle dependency injections.</p>\n\n<p>I need to establish some kind of communication capabilities where any part of my application can listen to an event then perform specific logic.</p>\n\n<p>The following is my first stab at building the event/listener but wondering if this is a good approach and if there is a better way to go about creating event/listeners.</p>\n\n<pre><code>// First we define a base class for the Events\n// This allows me tho identify Events. Perhaps this could be changed to interface instead of a base class\npublic abstract class Event\n{\n\n}\n\n// Second we define a base class for our listener\n// each listener must provide a an event that it wish to listen to\npublic abstract class Listener&lt;T&gt; where T : Event\n{\n    // each listener will add to do logic inside the Handle() method\n    public abstract void Handle(T _event);\n}\n\n// Here is my announcing service or event dispatcher\n// This class announces that an event took place for anyone that cares\npublic class Announcer : IAnnouncer\n{\n    private IUnityContainer Container;\n\n    public Announcer(IUnityContainer container)\n    {\n        Container = container;\n    }\n\n    public void Announce&lt;T&gt;(T _event) where T : Event\n    {\n        // Get all listeners\n        var listeners = Container.ResolveAll&lt;Listener&lt;T&gt;&gt;();\n\n        foreach(var listener in listeners)\n        {\n            // here I may need to add a support to queue up the events or delay dispatching if needed\n            try\n            {\n                listener.Handle(_event);\n\n                if(listener is IHandleSuccess _listener)\n                {\n                    _listener.Finished(_event, listener);\n                }\n            }\n            catch (Exception e)\n            {\n                if (listener is IHandleFailed _listener)\n                {\n                    _listener.Failed(_event, e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Here is an example of how I would use the above code. Assume I want to send a welcome email and schedule an orientation to a user once a user is created.</p>\n\n<pre><code>// First, define a simple event called UserWasCreated\npublic class UserWasCreated : Event\n{\n    public User User { get; private set; }\n\n    public UserWasCreated(User user)\n    {\n        User = user;\n    }\n}\n\n// Listener Example 1, Now we have a listener that would listen for when a user is added \n// This listener would simply send a welcome email to the new user\npublic class SendWelcomeEmail : Listener&lt;UserWasCreated&gt;\n{\n    public void Handle(UserWasCreated _event)\n    {\n        // here we can send an to the event.User....\n    }\n}\n\n// Listener Example 2, Now we have a listener that would listen for when a user is added \n// This listener would simply sign up the user for an orientation\npublic class ScheduleOrientation : Listener&lt;UserWasCreated&gt;\n{\n    public void Handle(UserWasCreated _event)\n    {\n        // here we can schedule the orientation\n    }\n}\n\n// In the controller we make announcement that the event took place\npublic UsersController : Controller\n{   \n    private IUserMapper UserMapper;\n    private IAnnouncer Announcer;\n  private IUserService UserService;\n\n    public UsersController(IUserMapper userMapper, IAnnouncer announcer, IUserService userService)\n    {\n        UserMapper = userMapper;\n        Announcer = announcer;\n         UserService = userService;\n    }\n\n    ...\n\n    [HttpPost, ValidateAntiForgeryToken]\n    public ActionResult Create(CreateUserViewModel viewModel)\n    {\n        if (ModelState.IsValid)\n        {\n            User user = UserMapper.Map(viewModel);\n\n            UserService.Create(user);\n\n            // Here we announce the the event UserWasCreated took place.\n            Announcer.Announce(new UserWasCreated(user));\n        }\n\n        return View(viewModel);\n    }\n}\n</code></pre>\n\n<p><strong>Question</strong>: Is there a better approach to creating event/listener in ASP.NET MVC 5 project? What are the issues with the above setup?</p>\n"}, {"tags": ["c#", ".net", "winforms", "charts"], "comments": [{"owner": {"reputation": 1408, "user_id": 10116473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qTVBu.png?s=128&g=1", "display_name": "Handbag Crab", "link": "https://stackoverflow.com/users/10116473/handbag-crab"}, "edited": false, "score": 1, "creation_date": 1539812899, "post_id": 52864031, "comment_id": 92642483, "body": "newform.Refresh() causes a repaint. Try removing that."}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "reply_to_user": {"reputation": 1408, "user_id": 10116473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qTVBu.png?s=128&g=1", "display_name": "Handbag Crab", "link": "https://stackoverflow.com/users/10116473/handbag-crab"}, "edited": false, "score": 0, "creation_date": 1539813200, "post_id": 52864031, "comment_id": 92642588, "body": "Without it, the data is not updated when the mouse moves."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1539813598, "post_id": 52864031, "comment_id": 92642712, "body": "If you want the MouseMove to update something let it do it. Don&#39;t  do it in the Paint event! What flickers? The Form? Did you turn on its doublebuffering??"}, {"owner": {"reputation": 1408, "user_id": 10116473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qTVBu.png?s=128&g=1", "display_name": "Handbag Crab", "link": "https://stackoverflow.com/users/10116473/handbag-crab"}, "edited": false, "score": 0, "creation_date": 1539813640, "post_id": 52864031, "comment_id": 92642730, "body": "You could try using newform.Invalidate instead. Currently when the repaint happens it&#39;s triggering a further repaint so it just redraws itself twice. As TaW said, you probably should trigger the paint in MouseMove."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 3, "creation_date": 1539813848, "post_id": 52864031, "comment_id": 92642795, "body": "You need to invalidate whatever needs repainting in your <code>MouseMoved</code> handler; do not draw in your <code>MouseMoved</code> handler or call <code>Refresh</code> or <code>Sleep</code> in your <code>Paint</code> handler."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1539813849, "post_id": 52864031, "comment_id": 92642797, "body": "To display the data you could us anything, maybe a label will do. You don&#39;t explain your goals well enough to advise.."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1539814062, "post_id": 52864031, "comment_id": 92642852, "body": "You need to get a book or follow a tutorial. WinForms graphics is too complicated to learn through trial and error."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1539814213, "post_id": 52864031, "comment_id": 92642895, "body": "Well, as we said: Flicker (or worse) will always occur if you trigger a repaint/refresh in a paint event. Did you do as I told you?"}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539814218, "post_id": 52864031, "comment_id": 92642898, "body": "Added a message picture. Tried double buffering, didn&#39;t help."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1539814350, "post_id": 52864031, "comment_id": 92642942, "body": "Also: I would probably not use an extra  form but simply add a ToolTip to the chart."}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539815921, "post_id": 52864031, "comment_id": 92643369, "body": "The tooltip is uninformative. In MouseMove, I only get a row of data and I don&#39;t draw anything in it. If I understand you correctly: the code of &quot;MyPaintHandler&quot;, move &quot;chart1_MouseMove&quot;?"}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539816966, "post_id": 52864031, "comment_id": 92643660, "body": "Replaced by &quot;newForm.Invalidate();&quot; Flickers less, but would still it there is. Can be example code, so as experience I have little."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1539825843, "post_id": 52864031, "comment_id": 92645433, "body": "You don&#39;t really need the text to be modified in &quot;MouseMove&quot;, as that event can be triggered too frequent. You might use a timer instead, to periodically query the cursor location, with a smaller frequency, which can reduce flickers."}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539863893, "post_id": 52864031, "comment_id": 92660358, "body": "The shape flicker occurs when the mouse is stationary."}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539881532, "post_id": 52864031, "comment_id": 92671248, "body": "Updated the code. Posted the entire."}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539881776, "post_id": 52864031, "comment_id": 92671375, "body": "How do I place the string &quot; newForm.DoubleBuffered = true &quot; in &quot;button1_Click&quot; without errors? It is possible a code sample?"}, {"owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1539882108, "post_id": 52864031, "comment_id": 92671548, "body": "You&#39;ve got numerous problems with this. You need to rethink what you need to do. But to resolve flicker, what you should be doing is Creating a bitmap, doing your drawing and updating to that bitmap, then drawing that bitmap onto your main <code>Graphics</code> object. This will remove flicker from Winforms."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "edited": false, "score": 0, "creation_date": 1539884249, "post_id": 52864031, "comment_id": 92672592, "body": "@Ice: He want to display a piece of text and update it during mousemove. No need to paint anything let alone create a bitmap!"}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539884277, "post_id": 52864031, "comment_id": 92672614, "body": "Tried to inherit &quot; Form1&quot;: Form1 newForm = new Form1(); newForm.DoubleBuffered = true; The shape does not flicker, but has dragged the entire graph from &quot; Form1&quot;. And the error does not occur, but it turns out some &quot; ugliness&quot;"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1539884555, "post_id": 52864031, "comment_id": 92672755, "body": "You were right about DoubleBuffered being only accessble in the class, not for its instances. But, as I said you do not need it anyway.  I&#39;ll post an example.."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539887051, "post_id": 52879809, "comment_id": 92674012, "body": "In&quot; button1_Click &quot;added the line&quot; Label lbl = new Label () { Name = &quot;myLabel&quot;, Parent = newForm };&quot; In&quot; chart1_MouseMove &quot;added&quot; if (newForm != null &amp; &amp; newForm.Controls.ContainsKey (&quot;myLabel&quot;))   ((Label)newForm.Controls [&quot;myLabel&quot;]).Text = str;&quot; Three identical errors are written: Error 1\tThe name &#39;newForm&#39; does not exist in the current context.    The &quot;MyPaintHandler&quot; function was removed and the handler for this event was removed."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539889061, "post_id": 52879809, "comment_id": 92675073, "body": "That&#39;s right, sorry I forgot a line.. Updated."}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539890960, "post_id": 52879809, "comment_id": 92676007, "body": "The form is updated and does not flicker. But prints only the first line &quot;time&quot;. Not showing the rest of &quot;current&quot;, &quot;open&quot;, &quot;high&quot;, &quot;low&quot;, &quot;close&quot;. Can&#39;t you tell me why?"}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 1, "creation_date": 1539892066, "post_id": 52879809, "comment_id": 92676505, "body": "Understood- &quot; lbl.AutoSize = true;&quot;"}, {"owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539892249, "post_id": 52879809, "comment_id": 92676590, "body": "TaW, thank you very much!"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "reply_to_user": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "edited": false, "score": 0, "creation_date": 1539892538, "post_id": 52879809, "comment_id": 92676721, "body": "No problem. Glad you got what you want.."}], "tags": [], "owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "is_accepted": true, "score": 2, "last_activity_date": 1539889041, "last_edit_date": 1539889041, "creation_date": 1539884945, "answer_id": 52879809, "question_id": 52864031, "link": "https://stackoverflow.com/questions/52864031/how-to-get-rid-of-flicker/52879809#52879809", "title": "How to get rid of flicker", "body": "<p>Forget about painting, doublebuffering etc.</p>\n\n<p>Simply add a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.label?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Label</code></a> control to the 2nd form and access it in the chart's  <code>MouseMove</code> event!</p>\n\n<p>Make  <code>newForm</code>  a class level variable:</p>\n\n<pre><code>Form newForm = null;\n</code></pre>\n\n<p>In your button click write something like this:</p>\n\n<pre><code>newForm = new Form();\n..\nLabel lbl = new Label() { Name = \"myLabel\", Parent = newForm };\nnewForm.Show();\n</code></pre>\n\n<p>In your <code>MouseMove</code> write something like this:</p>\n\n<pre><code>if (newForm != null &amp;&amp; newForm.Controls.ContainsKey(\"myLabel\"))\n   ((Label)newForm.Controls[\"myLabel\"]).Text = str;\n</code></pre>\n\n<p>Very simple, no flicker and you are free to style the <code>Label</code> in any way you like.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oidIg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oidIg.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 31, "user_id": 9638516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5be2190fbd718a83852f8cee1c62b2fe?s=128&d=identicon&r=PG&f=1", "display_name": "user287629", "link": "https://stackoverflow.com/users/9638516/user287629"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "closed_date": 1566379130, "accepted_answer_id": 52879809, "answer_count": 1, "score": -6, "last_activity_date": 1539889041, "creation_date": 1539812449, "last_edit_date": 1539882769, "question_id": 52864031, "link": "https://stackoverflow.com/questions/52864031/how-to-get-rid-of-flicker", "closed_reason": "Not suitable for this site", "title": "How to get rid of flicker", "body": "<pre><code>namespace stock4\n{\n    public partial class Form1 : Form\n    {\n        public Form1()\n        {\n            InitializeComponent();\n            this.SetStyle(ControlStyles.ResizeRedraw, true);\n            this.chart1.AxisViewChanged += chart1_AxisViewChanged;\n            this.chart1.MouseMove += new System.Windows.Forms.MouseEventHandler(this.chart1_MouseMove);\n        }\n\n        private void CandleStick_Load(object sender, EventArgs e)\n        {\n            CHART();\n        }\n\n        string path = @\"C:\\Users\\1\\Documents\\Visual Studio 2013\\Projects\\stock3\\stock3\\bin\\Debug\\#S-PG1440.csv\";\n        static int count = System.IO.File.ReadAllLines(@\"C:\\Users\\1\\Documents\\Visual Studio 2013\\Projects\\stock3\\stock3\\bin\\Debug\\#S-PG1440.csv\").Length;\n        int[] index = new int[count];\n        DateTime[] nums = new DateTime[count];\n        double[,] mass = new double[count, 4];\n        public void CHART()\n        {   \n        //Here the data from the file is read and entered into the array.\n        //chart1.Series[\"price\"].Points.AddXY(index[i], mass[i, 1], mass[i, 2], mass[i, 0], mass[i, 3]);\n        }\n\n        private void chart1_AxisViewChanged(object sender, ViewEventArgs e)\n        {\n         //Autoscaling the graph\n        }\n\n        public static string str;\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            Form newForm = new Form();\n            newForm.DoubleBuffered = true;//Error   1 Cannot access \n            //protected member 'System.Windows.Forms.Control.DoubleBuffered' \n            //via a qualifier of type 'System.Windows.Forms.Form';\n            //the qualifier must be of type 'stock4.Form1' \n            //(or derived from it)  \n            newForm.Show();\n            newForm.Width = 150;\n            newForm.Height = 230;\n            newForm.BackColor = Color.White;\n            newForm.Paint += new PaintEventHandler(MyPaintHandler);\n        }\n\n        private void chart1_MouseMove(object sender, MouseEventArgs e)\n        {\n            chart1.ChartAreas[0].CursorX.SetCursorPixelPosition(e.Location, false);\n            chart1.ChartAreas[0].CursorY.SetCursorPixelPosition(e.Location, false);\n            int val = (int)chart1.ChartAreas[0].CursorX.Position;\n            if (val &gt;= 0)\n            {\n                double current = chart1.ChartAreas[0].CursorY.Position;\n                str = \"time: \" + nums[val] + \"\\n\" +\n                    \"current: \" + current + \"\\n\" +\n                    \"open:    \" + mass[val, 0] + \"\\n\" +\n                    \"high: \"    + mass[val, 1] + \"\\n\" +\n                    \"low: \"     + mass[val, 2] + \"\\n\" +\n                    \"close: \"   + mass[val, 3];\n            }\n        }\n\n        static void MyPaintHandler(object objSender, PaintEventArgs pea)\n        {\n            Form newForm = (Form)objSender;\n            Graphics grfx = pea.Graphics;\n            grfx.DrawString(str, newForm.Font, Brushes.Black, 0, 0);\n            newForm.Invalidate();\n            Thread.Sleep(1);\n        }\n    }\n}\n</code></pre>\n\n<p>I read the data from the form and pass it to another for display.\nI create a form to display when a button event occurs(button1_Click).\nData for \"str\" is taken from another form.</p>\n\n<p>Perhaps the second form is not needed?\nI need a separate window from the main form to display the data.\nUPDATED THE CODE! Part of the code is not on the subject was removed from the comments.</p>\n\n<p>How do I place the string \" newForm.DoubleBuffered = true \" in \"button1_Click\" without errors? It is possible a code sample?</p>\n\n<p><a href=\"https://i.stack.imgur.com/XoNlA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XoNlA.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "oop", "unity3d", "binaryformatter"], "comments": [{"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1539813612, "post_id": 52864008, "comment_id": 92642717, "body": "Are <code>PopulateSaves</code> and <code>populatesaves</code> all the same thing as <code>PopulateSave</code>? Also, <code>updateNames</code> seems redundant. What happens if you get rid of it?"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1539814425, "post_id": 52864008, "comment_id": 92642958, "body": "Also, please <a href=\"https://stackoverflow.com/posts/52864008/edit\">edit</a> your question to include the <code>Bump</code> and <code>First Loop</code> logs you get before you take out <code>updateNames</code>"}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 1, "creation_date": 1539928891, "post_id": 52864008, "comment_id": 92686154, "body": "Longest question I&#39;ve seen: TL;DR. Identify where the problem is, and create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. By creating a more focused question more people are likely to read it. See <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask a good question</a>."}, {"owner": {"reputation": 53, "user_id": 6108069, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204554099610798/picture?type=large", "display_name": "Matt Keita Ingraham", "link": "https://stackoverflow.com/users/6108069/matt-keita-ingraham"}, "edited": false, "score": 0, "creation_date": 1539994646, "post_id": 52864008, "comment_id": 92714693, "body": "The problem was that the lines of code that spawned the problem were not what was causing it. I thought it had to do with the binary formatter, which is exactly what the question is, but honestly it was a shot in the dark that is now looking like I might have been right. I had no idea that the binary formatter can break objects loaded the way it does, it was only after someone commented here and then deleted it that it pointed me in that direction. 2/3s of the posts I find say its awesome, others say its poorly done. I gave most of my code since i was heading towards it being a scope issue."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6108069, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204554099610798/picture?type=large", "display_name": "Matt Keita Ingraham", "link": "https://stackoverflow.com/users/6108069/matt-keita-ingraham"}, "edited": false, "score": 0, "creation_date": 1540445057, "post_id": 52981838, "comment_id": 92869733, "body": "I should also note that someone had commented previously on this post but I think it got deleted, they told me that the binary formatter worked that way, but since it is gone I can no longer give credit. Props to whoever pointed me in the right direction if only briefly."}], "tags": [], "owner": {"reputation": 53, "user_id": 6108069, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204554099610798/picture?type=large", "display_name": "Matt Keita Ingraham", "link": "https://stackoverflow.com/users/6108069/matt-keita-ingraham"}, "is_accepted": true, "score": 1, "last_activity_date": 1540445000, "creation_date": 1540445000, "answer_id": 52981838, "question_id": 52864008, "link": "https://stackoverflow.com/questions/52864008/unity-c-saved-game-via-binary-formatting-not-retaining-data/52981838#52981838", "title": "Unity C# Saved Game via Binary Formatting not retaining Data", "body": "<p>Ok so I finally got the implementation done. I had to swap around a ton of my code, and ended up doing a wrapper object/list combination using JSON. Essentially the problem is that binary formatter messes up objects after you de-serialize them. Every time I updated my objects values they would randomly change on me for no reason without being accessed. </p>\n\n<p>This was surprising as about half the posts I read on saving say its good, others like <a href=\"https://stackoverflow.com/questions/26205347/net-binary-formatter-deserialize-an-object-whose-definition-has-changed-a-lot\">This</a> one say that it is bad practice. I had done some research initially but had not come across the negative aspects of using it. I am still having problems, but Json is successfully retaining data and my objects are not messing up. I am pretty sure this was the problem as the only sections that I changed were my objects value structure to public for the serializing, and implemented the json structure into my SaveLoad script. <a href=\"https://youtu.be/No_COzTN-Is\" rel=\"nofollow noreferrer\">This</a> video was very helpful for the overall structure and getting started, and <a href=\"https://www.reddit.com/r/Unity3D/comments/55zogm/using_the_new_jsonutility_in_54_how_do_you/\" rel=\"nofollow noreferrer\">This</a> thread helped me with troubleshooting when I ran into several problems. </p>\n\n<p>I should also note that one thing I did not catch for a while. While Json can load lists, the initial object to be loaded must not be a list. I was attempting to save a list of my PlayerType directly into a folder, which it will not do. I ended up creating a quick object that contained my list and then saving the object. Since everywhere I read said that lists were fine it took a while to discover that this was causing part of my problem. It was not giving me any errors, just returning a blank string which most threads said was because it was not public or serializable. </p>\n\n<p>Anyway here is to hoping my struggles and searches for answers might help as the things I found were quite scattered and hard to come across.</p>\n"}], "owner": {"reputation": 53, "user_id": 6108069, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204554099610798/picture?type=large", "display_name": "Matt Keita Ingraham", "link": "https://stackoverflow.com/users/6108069/matt-keita-ingraham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "accepted_answer_id": 52981838, "answer_count": 1, "score": 1, "last_activity_date": 1540445000, "creation_date": 1539812317, "last_edit_date": 1539926052, "question_id": 52864008, "link": "https://stackoverflow.com/questions/52864008/unity-c-saved-game-via-binary-formatting-not-retaining-data", "title": "Unity C# Saved Game via Binary Formatting not retaining Data", "body": "<p>Update: This issue may be caused by binaryformatter's issues with editing data in existing fields. A comment that I can no longer find described alternate methods which I am currently implementing. Will update after these methods are attempted if it is a solution to the problem.</p>\n\n<p>I should start by saying I am a student so please go easy on me, I got reported when I first started coming here and hope to keep learning. I an new to unity, my C# is decent, but full of gaps since my schooling was rather terrible. I have watched hundreds of hours of unity tutorials and am studying the new concepts I learn for 4 hours every night after I get out of work, so if you see something just let me know.</p>\n\n<p>This is actually a problem I have had for a while, but thought I fixed months ago. I was attempting to save games for the first time, and read into binary formatting and such to save. I had problems getting it up, but I I managed to get it to save and pull properly from a file. I verify that the data going into the file is correct, and the data coming out is correct, and even made the data private with a control function so nothing will access and change it without jumping through my debug. And yet after I leave the scope where I define the data it changes, without anything accessing my update function. </p>\n\n<p>To break it down I have a class called PlayerType that stores all player information including my scenemanager, and it serializes this and saves to a file as a list. I create a for loop using the current length of the loaded list using an instance of the saveload class (this is what holds the list of save games and the access to the file) and it loops through instantiating my buttons in the order. Slot 1 will click to save game 1 and so to speak. The issue I am having is clicking slot 1 clicks slot 16, so does slot 2. In face, it seems practically random which buttons go to which slot. I should say here I am not sure whether it is actually going to the wrong slot, or simply renaming the player names wrong, but either way it does not appear this should be the case.</p>\n\n<p>Here is my load function</p>\n\n<pre><code>public void Load() //Loads file from .gd file after checking if exists, then deserializes it back into a list\n{\n    accessDataPath(false);\n\n    Debug.Log(\"Size of Save File\" + listSize);\n\n    for (int i = 0; i &lt; listSize; i++)\n    {\n        Debug.Log(\"First Loop \" + SavedGames[i].returnName());\n    }\n\n    foreach (PlayerType player in GameManager.instance.saveStorage.returnList())\n    {\n\n        Debug.Log(\"Second Loop\" + player.returnName());\n    }\n}\n</code></pre>\n\n<p>and here is my accessDataPath function</p>\n\n<pre><code>public void accessDataPath(bool isSave)\n{\n    //This stucture checks if file exists or not, then checks if saving or loading for 4 outcomes\n\n\n    if (isSave &amp;&amp; SavedGames == null)//if saving and save file to update has nothing in it\n    {\n        Debug.Log(\"Error attempted to save null list in SaveLoad.accessDataPath!\");\n    }\n\n\n    if (File.Exists(Application.persistentDataPath + \"/SavedGames.gd\"))//if the file exists\n    {\n        if (isSave)//if you are saving\n        {\n            BinaryFormatter bf = new BinaryFormatter();\n            FileStream file = File.Open(Application.persistentDataPath + \"/SavedGames.gd\", FileMode.Open);\n            bf.Serialize(file, SavedGames);\n            file.Close();\n        }\n\n        else //if you are not saving\n        {\n            BinaryFormatter bf = new BinaryFormatter();\n            FileStream file = File.Open(Application.persistentDataPath + \"/SavedGames.gd\", FileMode.Open);\n            SavedGames = (List&lt;PlayerType&gt;)bf.Deserialize(file);\n            file.Close();\n            listSize = SavedGames.Count;\n        }\n    }\n    else//if the file does not exist\n    {\n        if (isSave)//if you are saving\n        {\n            BinaryFormatter bf = new BinaryFormatter();\n            FileStream file = File.Create(Application.persistentDataPath + \"/SavedGames.gd\");\n            bf.Serialize(file, SavedGames);\n            file.Close();\n        }\n        else//if you are not saving\n            Debug.Log(\"Error Loading File. Does not Exist!\");//Display Later that file does not exist to user\n    }\n    updateNames();\n}//End accessDataPath\n</code></pre>\n\n<p>here is the function that updates the names</p>\n\n<pre><code>public void updateNames()\n{\n    for (int i = 0; i &lt; listSize; i++)\n    {\n        SavedGames[i].updateName(\"Player \" + i);\n        Debug.Log(\"Bump \" + i);\n    }\n}\n</code></pre>\n\n<p>As you can see I verify if it exists, then check if I am saving or loading. The save function calls with a true and SavedGames is the list that is pulled from the file. Now After I run the name change I can check to see if it worked, and it does. Running the check here they all come back as the proper name, however by the time it gets back to my load function and runs my first loop they are wrong, it never leaves this section of code but as soon as it exits the scope they change to be almost random.\nNow I had this problem for a while, but thought it had to do with my file maybe having corrupt data, so I deleted the save game and created new ones to test. The numbers changed, but were still not right. This tells me that somehow the file is effecting the names even though I rename them almost immediately after they come out. I am not used to loading or saving to files so I am not sure where to start here.</p>\n\n<p>I will post more of my code below in case some of it stands out as being blatantly wrong, I also appreciate advice on structure as I took college classes on game programming but they were terrible and filled with gaps even if you don't spot the answer to my problem.</p>\n\n<p>First I have my menu system setup to be toggled on or off, called by onclick events. </p>\n\n<pre><code>public class SaveMenu : MonoBehaviour {\npublic GameObject menu;\nbool isActive;\nbool isSave;\nPopulateSave playerSaves;\n\n\npublic static SaveMenu instance;\n\n\nvoid Awake()\n{\n    isSave = false;\n    instance = this;\n    menu = GameObject.Find (\"SaveList\");\n    menu.SetActive (false);\n    isActive = false;\n    playerSaves = menu.GetComponentInChildren&lt;PopulateSave&gt; ();\n}\n\npublic bool getActive()\n{\n    return isActive;\n}\npublic void toggleMenu(bool saveLoad)\n{\n    if (isActive) \n    {\n        menu.SetActive (false);\n        isActive = false;\n    } else \n    {\n        menu.SetActive (true);\n        isActive = true;\n    }\n    bool isSave = saveLoad;\n    menu.transform.Find(\"Scroll View\").transform.Find(\"Viewport\").transform.Find(\"Content\").transform.Find(\"NewSave\").gameObject.SetActive(isSave);\n    Debug.Log(isSave);\n\n\n}\npublic void updateSave()\n{\n    playerSaves.startList();//Seems redundant but is used to make this access public with limited use\n}\npublic bool getSave()\n{\n    return isSave;\n}\n}\n</code></pre>\n\n<p>I call populatesaves as a child after everything is created because I had issues with it not existing when I tried to bring it in via the inspector. PopulateSaves is where most of my functional code is.</p>\n\n<pre><code>public class PopulateSave : MonoBehaviour{\npublic Button NewSave;\npublic Button OldSaves; // This is our prefab object that will be exposed in the inspector\n\n\n\nvoid Awake()\n{\n    GameManager.instance.saveStorage.Load();\n\n    Populate();\n}\n\nvoid Update()\n{\n\n}\n\nvoid Populate()\n{\n    Button newObj = Instantiate(NewSave, transform); // Create GameObject instance\n\n    newObj.name = \"NewSave\";\n\n    startList();\n\n}\npublic void startList()\n{\n    clearList();\n\n    for (int i = 1; i &lt;  GameManager.instance.saveStorage.returnCount() + 1; i++)\n    {\n        createButton(i);\n    }\n    Debug.Log(\"Done creating\");\n}\npublic void updateList(PlayerType newSave)\n{\n    Button newObj;\n    newObj = (Button)Instantiate(OldSaves, transform);\n    //GameManager.instance.saveStorage.Save(i);\n}\npublic void clearList()\n{\n    GameObject[] gameObjects;\n    gameObjects = GameObject.FindGameObjectsWithTag(\"SaveSlot\");\n    for (var i = 0; i &lt; gameObjects.Length; i++)\n        Destroy(gameObjects[i]);\n    Debug.Log(\"Done Destroying\");\n}\npublic void ButtonClicked(int slot)\n{\n\n    if (SaveMenu.instance.getSave())\n    {\n        Debug.Log(\"Save\");\n        GameManager.instance.saveStorage.Save(slot);\n    }\n    else\n    {\n        Debug.Log(\"load\");\n        GameManager.instance.currentPlayer.newPlayer(slot);\n    }\n\n}\npublic void createButton(int i)\n{\n\n    // Create new instances of our prefab until we've created as many as is in list\n    Button newObj = (Button)Instantiate(OldSaves, transform);\n\n    //increment slot names\n    newObj.name = \"Slot \" + i;\n    newObj.GetComponentInChildren&lt;Text&gt;().text = \"Slot \" + i;\n    newObj.onClick.AddListener(() =&gt; ButtonClicked(i));\n}\n}\n</code></pre>\n\n<p>Now I also have never written a listener with a script like I have here, could that section be assigning the wrong number to them? I checked to make sure all my indexes had the right numbers, if not being 1 off. One of my loops might use a setup that is 1 off but I am more worried about getting this off the ground and fixing the specifics at this point.</p>\n\n<p>Here is my player storage </p>\n\n<pre><code>[System.Serializable]\npublic class PlayerType {\nstring playerName;\nSceneManagement currentScene;\n\npublic PlayerType()\n    {\n    playerName = \"Starting Name\";\n    }\npublic void updateName(string name)\n{\n    //Debug.Log(\"New Name: \" + name);\n    playerName = name;\n}\npublic void updateScene(SceneManagement newScene)\n{\n    currentScene = newScene;\n}\npublic string returnName()\n{\n    return playerName;\n}\npublic SceneManagement returnScene()\n{\n    return currentScene;\n}\n\npublic void newPlayer(int slotSave)\n{\n\n    //Tmp player has wrong name from this point, initiated wrong?\n\n    //Debug.Log(\"New Name to update\" + tmpPlayer.returnName());\n    this.updateName(GameManager.instance.saveStorage.returnSaves(slotSave).returnName());\n    this.updateScene(GameManager.instance.saveStorage.returnSaves(slotSave).returnScene());\n}\n}\n</code></pre>\n\n<p>Update:\nBump correctly goes through displaying 0-16\nthen Size of Save File displays 17 total saves\nFirst loop then starts by outputting 'First Loop Player 15' a total of 16 times\nThen it displays 16 so the last one is correct, though one off I guess.\nSecond loop does the same as first, unsurprisingly.</p>\n\n<p>I left the call to updateNames in but commented out the lines and ran it including taking out bump.\nIt starts with 17 saves again and the 16 time iteration of player 15, however this time around the last one displays 'Temp Name' which I only define once at the beginning of my sceneManagement script for the current player, it should have never been saved, and even if it had been should have been overwritten by my name loop, at least that was my intent.</p>\n\n<p>SceneManagement</p>\n\n<pre><code>[System.Serializable] \npublic class SceneManagement : MonoBehaviour {\n\nDialogueManager dialogueManager;\nPlayerType currentPlayer;\n\nbool isSave;\nbool isActive;\nstring sceneName;\nint lineCount;\n\n\nvoid Start()\n{\n    isSave = false;\n    //loads player object for the current save\n    currentPlayer = new PlayerType();\n    currentPlayer.updateName (\"Temp Name\");\n\n\n\n    //This loads the prologue from the DB and sets the dialoguemanager up, defaults to prologue for now but can be updated to another scene later\n    isActive = true;\n    sceneName = \"Prologue\";\n    string conn = \"URI=file:\" + Application.dataPath + \"/Text/Game.sqlite3\";\n\n    List&lt;string&gt; sceneLines = new List&lt;string&gt;();\n    List&lt;string&gt; sceneCharacters = new List&lt;string&gt;();\n    int tmpInt;\n    string tmpString = \"NOTHING\";\n    int count = 0;\n    lineCount = 1;\n\n    IDbConnection dbConn;\n    dbConn = (IDbConnection)new SqliteConnection (conn);\n    dbConn.Open (); //Open database connection\n    IDbCommand dbCmd = dbConn.CreateCommand();\n    string sqlQuery = \"SELECT Line, Flags, Character, Image, Text, Color FROM Prologue\";\n    dbCmd.CommandText = sqlQuery;\n    IDataReader reader = dbCmd.ExecuteReader ();\n\n\n    while (reader.Read ()) {\n        tmpInt = reader.GetInt32 (0);\n        tmpString = reader.GetString (1);\n        sceneCharacters.Add(reader.GetString (2));\n        tmpInt = reader.GetInt32 (3);\n        sceneLines.Add(reader.GetString (4));\n        tmpString = reader.GetString (5);\n\n        //Debug.Log (tmpString);\n        //Debug.Log (count);\n        count++;\n    }\n\n\n    reader.Close ();\n    reader = null;\n    dbCmd.Dispose ();\n    dbCmd = null;\n    dbConn.Close ();\n    dbConn = null;\n\n\n\n    dialogueManager = new DialogueManager(sceneCharacters, sceneLines, lineCount);\n}\n//These are the returnvalues that might be used, may or may not be kept depending on future use.\npublic string getSceneName()\n{\n    return sceneName;\n}\npublic int getLineCount()\n{\n    return lineCount;\n}\npublic bool getSave()\n{\n    return isSave;\n}\n//These return the lines for displaymanager, preventing it from directly interacting with dialoguemanager\npublic string getNextLine()\n{\n    return dialogueManager.getNextLine();\n}\n   public string getNextCharacter()\n{\n    return dialogueManager.getNextCharacter();\n}\n\n//This function sets up visibility and is only accessed to properly display the screen after the scene has been started.\npublic void startScene ()\n{\n    GameManager.instance.screenDisplay.changeVisible(true);\n}\nvoid Update()\n{\n    if (Input.GetKeyDown (\"space\") &amp; isActive) {\n        dialogueManager.incrementCurrentLine ();\n        GameManager.instance.screenDisplay.changeText(dialogueManager.getNextLine ());\n        GameManager.instance.screenDisplay.changeCharacter(dialogueManager.getNextCharacter ());\n    }\n\n\n\n\n    if (Input.GetKeyDown (\"escape\")) {\n        if (!PauseMenu.instance.getActive () &amp;&amp; !SaveMenu.instance.getActive ()) \n        {\n            PauseMenu.instance.toggleMenu ();\n        } \n        else if (SaveMenu.instance.getActive()) \n        {\n            SaveMenu.instance.toggleMenu (true);\n            PauseMenu.instance.toggleMenu ();\n        }\n        else if (PauseMenu.instance.getActive())\n        {\n            PauseMenu.instance.toggleMenu ();\n        }\n    }\n\n}\npublic void initialScreen()\n{\n    SceneManager.sceneLoaded += OnLevelFinishedLoading;\n}\nvoid OnDisable()\n{\n    SceneManager.sceneLoaded -= OnLevelFinishedLoading;\n\n}\nvoid OnLevelFinishedLoading (Scene scene, LoadSceneMode mode)\n{\n    GameManager.instance.screenDisplay.initialScreen(dialogueManager.getNextLine(), dialogueManager.getNextCharacter(), null, null,\n        null, null, null, null);\n}\npublic PlayerType returnPlayer()\n{\n    return currentPlayer;\n}\n}\n</code></pre>\n\n<p>while im at it here is my GameManager too, though I havent messed with it a ton. Mostly using it as a DontDestroyOnLoad thing to hold everything else at this point.</p>\n\n<pre><code>public class GameManager : MonoBehaviour{\n\npublic static GameManager instance;\npublic DisplayScreen screenDisplay;\npublic SceneManagement managerScene;\npublic SaveLoad saveStorage;\npublic PlayerType currentPlayer;\n//leave out until load data is setup\n//PlayerType currentPlayer; \n\n\n\nvoid Awake()\n{\n    instance = this;\n    DontDestroyOnLoad (transform.gameObject);\n    managerScene = gameObject.AddComponent(typeof(SceneManagement)) as SceneManagement;\n    screenDisplay = gameObject.AddComponent (typeof(DisplayScreen)) as DisplayScreen;\n    saveStorage = gameObject.AddComponent (typeof(SaveLoad)) as SaveLoad;\n\n    //initialize player and sceneManager here, but only load through main menu options\n    //of new game or load game\n}\n\nvoid update()\n{\n\n}\n}\n</code></pre>\n\n<p>I have continued troubleshooting and brought it down to a particularly confusing part for me. I took out all debugging logs and added 3 loops into my load function, they are these.</p>\n\n<pre><code>Debug.Log(\"LOAD CALLED\");\n\n    accessDataPath(false);\n\n    for (int i = 0; i &lt; listSize; i++)\n    {\n        Debug.Log(\"First Loop \" + SavedGames[i].returnName());\n        SavedGames[i].updateName(\"Updated Player \" + (i + 1));\n\n    }\n\n    for (int i = 0; i &lt; listSize; i++)\n    {\n        Debug.Log(\"Second Loop \" + SavedGames[i].returnName());\n\n    }\n\n    foreach (PlayerType player in GameManager.instance.saveStorage.returnList())\n    {\n\n        Debug.Log(\"Third Loop \" + player.returnName());\n    }\n</code></pre>\n\n<p>So the first one displays player 15, then correctly displays the first loops 1-15 then temp name again, still havent 'figured out why that is popping up but I think it is related. Then the second loop iterates all wrong. Literally changed and back to back the loops are wrong, the only difference being it left the scope of the for loop. I ran a third loop using foreach to see if the type of call made a difference and it does not. </p>\n\n<p>Even changing the name, and then immediately calling a loop to check shows that the values are changing. I think it might have something to do with how I am storing the objects, but I am not sure how the problem could be arising. Its not going null, and the names are changing to be the same every time so it isn't completely random. I am posting this here just after I found this hoping that soon I will solve it, but am also hoping if I do not someone else might spot something. I have the next 3 hours to work on it so I will be trying this entire time checking back every now and then. Thanks in advance for anyone that might glance at it for me.</p>\n"}, {"tags": ["c#", "android", "http", "xamarin"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1539812409, "post_id": 52863997, "comment_id": 92642290, "body": "Even though you use an <code>await Task.Delay(500);</code> (which is useless), the only important part of the code is synchronous. Stop using  <code>HttpWebResponse</code>/<code>HttpWebRequest</code> and start using <code>HttpClient</code> with <code>await HttpClient.GetAsync</code>"}], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "edited": false, "score": 0, "creation_date": 1539814332, "post_id": 52864317, "comment_id": 92642934, "body": "For why it&#39;s happening,  could the be another http call happening in the background still and they are overlapping?"}], "tags": [], "owner": {"reputation": 362, "user_id": 6915690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bHcz3.jpg?s=128&g=1", "display_name": "Vahalaru", "link": "https://stackoverflow.com/users/6915690/vahalaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1539818153, "last_edit_date": 1539818153, "creation_date": 1539814135, "answer_id": 52864317, "question_id": 52863997, "link": "https://stackoverflow.com/questions/52863997/android-ui-freeze-while-waiting-for-a-http-response/52864317#52864317", "title": "Android UI freeze while waiting for a http response", "body": "<p>You need to use <code>AsyncTask</code> and run your http calls in the doInBackground method. \nAnd inside the <code>onPostExecute</code> method, you update the ui. AsyncTask is not terribly involved and will free up the ui thread. I don't have much experience with async but AsyncTask and HttpurlConnection has never failed me on the more tricky stuff. </p>\n"}, {"tags": [], "owner": {"reputation": 971, "user_id": 5032316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/262f5b692fc0ad65bf8429500372c2c9?s=128&d=identicon&r=PG&f=1", "display_name": "shanranm", "link": "https://stackoverflow.com/users/5032316/shanranm"}, "is_accepted": true, "score": 1, "last_activity_date": 1539819234, "creation_date": 1539819234, "answer_id": 52864979, "question_id": 52863997, "link": "https://stackoverflow.com/questions/52863997/android-ui-freeze-while-waiting-for-a-http-response/52864979#52864979", "title": "Android UI freeze while waiting for a http response", "body": "<p>You need to await the <code>HttpAction</code> method at the calling point. Go through this <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">Async/Await article</a> first for better understanding of Asynchronous programming.</p>\n\n<p>There should not be any UI action inside Asynchronous Task rather return the result to the calling point and then perform the necessary actions.</p>\n\n<pre><code>async Task&lt;bool&gt; GetHttpAsyncStatus()\n{\n    var request = HttpWebRequest.Create(url);\n    request.Method = \"GET\";\n    request.Timeout = 1500;\n\n    using (HttpWebResponse reponse = await request.GetResponseAsync() as HttpWebResponse)\n    {\n        if (reponse.StatusCode == HttpStatusCode.OK)\n        {\n            // no UI Action, just return the result\n            reponse.Close();\n            return true;\n        }\n        return false;\n     }\n}\n</code></pre>\n\n<p>This must be invoked as</p>\n\n<pre><code>bool requestStatus = await GetHttpAsyncStatus();\n</code></pre>\n"}], "owner": {"reputation": 499, "user_id": 7991864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/b5vrK.jpg?s=128&g=1", "display_name": "Samih EL SAKHAWI", "link": "https://stackoverflow.com/users/7991864/samih-el-sakhawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 52864979, "answer_count": 2, "score": 0, "last_activity_date": 1539819234, "creation_date": 1539812283, "question_id": 52863997, "link": "https://stackoverflow.com/questions/52863997/android-ui-freeze-while-waiting-for-a-http-response", "title": "Android UI freeze while waiting for a http response", "body": "<p>When i'm sending a http request with my app, the UI of my app freezes while i'm waiting for the http response.</p>\n\n<p>Why is this happening?</p>\n\n<pre><code>async void HttpAction()\n    {\n        var request = HttpWebRequest.Create(url);\n        request.Method = \"GET\";\n        request.Timeout = 1500;\n\n        await Task.Delay(500);\n\n        using (HttpWebResponse reponse = request.GetResponse() as HttpWebResponse)\n            {\n\n                if (reponse.StatusCode == HttpStatusCode.OK)\n                {\n                    //UI action\n                    reponse.Close();\n                }\n    }\n</code></pre>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539812216, "post_id": 52863940, "comment_id": 92642226, "body": "Easy: don&#39;t mix the TPL with Threads. TPL is exactly for not having to deal with threads. You most likely want a <code>Task.Run(() =&gt; Foo())</code> and make <code>Foo()</code> an <code>async Task</code> where you use <code>await Task.Delay</code>. Note, though, that most uses of Sleep/Delay are for workarounds and not solutions"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1539812836, "post_id": 52863940, "comment_id": 92642454, "body": "@CamiloTerevinto If <code>Foo</code> is already asynchronous, there&#39;s no reason to call it from <code>Task.Run</code>."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1539812883, "post_id": 52863940, "comment_id": 92642471, "body": "@Servy I&#39;m very aware of that, but without <code>Task.Run</code> it wouldn&#39;t be called from another thread as in the posted code. It all depends on what <code>Foo</code> does"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1539820785, "post_id": 52863940, "comment_id": 92644461, "body": "The question is confusing; the premise of the question seems to be both that you have a thread dedicated to a CPU-intensive task <i>and</i> that you want it to delay doing work for some number of seconds. This seems like a contradiction. Can you explain why you are doing this in the first place?"}], "answers": [{"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 8, "last_activity_date": 1539821815, "last_edit_date": 1539821815, "creation_date": 1539821305, "answer_id": 52865208, "question_id": 52863940, "link": "https://stackoverflow.com/questions/52863940/does-task-delay-make-sense-on-a-dedicated-thread/52865208#52865208", "title": "Does Task.Delay make sense on a dedicated thread?", "body": "<p>I am having difficulty figuring out from the question what the scenario here is; it seems to suggest that you are allocating a thread and you then wish it to do nothing for some amount of time. That's a strange thing to do, to pay for a worker to do nothing.  Clarify the scenario please.</p>\n\n<p>To answer your specific questions:</p>\n\n<blockquote>\n  <p>It won't put the thread to sleep, so will it act as a spin wait?</p>\n</blockquote>\n\n<p>No.</p>\n\n<blockquote>\n  <p>That would be much worse then a sleep. Wouldn't it be?</p>\n</blockquote>\n\n<p>Yes, it would be terrible! It would have all the down sides of sleeping a thread but would consume power and make heat along the way.  You'd not just be paying the overhead of allocating the thread, you'd be <em>actively wasting power for no benefit</em>. The only time you <em>ever</em> want to spin wait is when you are waiting for something that will happen in <em>significantly less time than the thread quantum</em>. Spin wait for nanoseconds or worst case, for microseconds, not for milliseconds. You want to spin wait for things that take a few <em>instructions</em>, and we run billions of instructions per second.</p>\n\n<p>Based on your question, my suspicion is (1) you don't understand at all what Task.Delay does, and (2) you are allocating a thread unnecessarily.  </p>\n\n<p>Let's first say what <code>Task.Delay</code> does.</p>\n\n<p><code>Task.Delay</code> immediately returns an object that represents the task of delaying for some number of milliseconds.</p>\n\n<p>That's all it does.</p>\n\n<p>Really.</p>\n\n<p>It does not actually delay for any number of milliseconds. <strong>It returns a task that represents the concept of delaying</strong>. Make sure that is clear in your head.  </p>\n\n<p>If you ask the task whether it is complete or not, it will tell you whether that number of seconds have passed, of course.</p>\n\n<p>If you assign some function as the continuation of that task, <strong>that continuation will be scheduled to run on the current context at some point after the task is complete</strong>.</p>\n\n<p>What then does <code>await Task.Delay(whatever);</code> do?</p>\n\n<p>I just said what it does. <code>Task.Delay</code> returns a task that represents a delay.  <code>await</code> checks to see if that task is complete. If it is, then the program continues as normal.  If the task is not complete then <strong>the location of the <code>await</code> becomes the continuation point of the task, and the method returns to its caller</strong>. The continuation is then scheduled to execute on the current context at some point in the future after the task completes.</p>\n\n<p>Why you would <em>hire a worker</em> in order to do this, I do not know or understand.  Hire workers to do jobs that are CPU intensive, where they do not stop hammering on the CPU for a nanosecond until they are done.  Do not hire workers to do things that delay for milliseconds at a time, like accessing disks or delaying work!</p>\n"}], "owner": {"reputation": 344, "user_id": 6132091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff1d3b0bb845e4e3e9be07ec0ea05e7?s=128&d=identicon&r=PG&f=1", "display_name": "Cerike", "link": "https://stackoverflow.com/users/6132091/cerike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1539821815, "creation_date": 1539812032, "question_id": 52863940, "link": "https://stackoverflow.com/questions/52863940/does-task-delay-make-sense-on-a-dedicated-thread", "title": "Does Task.Delay make sense on a dedicated thread?", "body": "<p>I know that using Thread.Sleep in a task is a dumb idea, because it will block that thread in the thread pool.\nHowever, if I have a thread dedicated to something, created by <code>new Thread(new ThreadStart(Foo))</code>, does Task.Delay still make sense? Nothing is going to use that thread anyhow. I am also wondering what exact effect a Task.Delay will have. It won't put the thread to sleep, so will it act as a spin wait? That would be much worse then a sleep. Wouldn't it be?</p>\n"}, {"tags": ["c#", "powershell", "cng"], "comments": [{"owner": {"reputation": 1207, "user_id": 4991132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ik_eSRX6tiM/AAAAAAAAAAI/AAAAAAAACrA/dJyE8-u1pr4/photo.jpg?sz=128", "display_name": "thom schumacher", "link": "https://stackoverflow.com/users/4991132/thom-schumacher"}, "edited": false, "score": 0, "creation_date": 1539817632, "post_id": 52863913, "comment_id": 92643818, "body": "where do you get this provider: SafeNetProtectApp Key Storage Provider"}, {"owner": {"reputation": 2918, "user_id": 8803234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bQcpI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8803234/adam"}, "reply_to_user": {"reputation": 1207, "user_id": 4991132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ik_eSRX6tiM/AAAAAAAAAAI/AAAAAAAACrA/dJyE8-u1pr4/photo.jpg?sz=128", "display_name": "thom schumacher", "link": "https://stackoverflow.com/users/4991132/thom-schumacher"}, "edited": false, "score": 0, "creation_date": 1539824809, "post_id": 52863913, "comment_id": 92645235, "body": "The key store has a CNG provider that you install."}, {"owner": {"reputation": 1726, "user_id": 7775187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ba4d540c5c6167ce30538b0f2d97ea?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Twc", "link": "https://stackoverflow.com/users/7775187/mike-twc"}, "edited": false, "score": 0, "creation_date": 1539829119, "post_id": 52863913, "comment_id": 92646022, "body": "Are you compiling it in visual studio? Looks like you need to add reference to the DLL for that provider."}, {"owner": {"reputation": 2918, "user_id": 8803234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bQcpI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8803234/adam"}, "edited": false, "score": 0, "creation_date": 1539862477, "post_id": 52863913, "comment_id": 92659584, "body": "I am. Compiling in VS 2017 shell. So, I thought the same thing. Question, why don\u2019t I need to reference a provider DLL in Posh but I do w/C#?"}], "answers": [{"comments": [{"owner": {"reputation": 1528, "user_id": 572488, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kgxxh.jpg?s=128&g=1", "display_name": "Thuan", "link": "https://stackoverflow.com/users/572488/thuan"}, "edited": false, "score": 0, "creation_date": 1588740319, "post_id": 52875503, "comment_id": 109011523, "body": "I got an error about &quot;Unknown error &quot;-1073741823&quot;.&quot; and couldn&#39;t figure out what was wrong until I found your answer. Thank you :)"}], "tags": [], "owner": {"reputation": 2918, "user_id": 8803234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bQcpI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8803234/adam"}, "is_accepted": true, "score": 1, "last_activity_date": 1539870354, "creation_date": 1539870354, "answer_id": 52875503, "question_id": 52863913, "link": "https://stackoverflow.com/questions/52863913/opening-encryption-key-works-in-powershell-not-in-c/52875503#52875503", "title": "Opening Encryption Key Works in Powershell Not in C#", "body": "<p>The project I wrote was targeting the wrong processor architecture. The provider library was 64-bit, but my project was targeting 32-bit. I changed my project to target a 64-bit executable, and it worked.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CCTpm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CCTpm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks for the help all!</p>\n"}], "owner": {"reputation": 2918, "user_id": 8803234, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bQcpI.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/8803234/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 52875503, "answer_count": 1, "score": 1, "last_activity_date": 1539870354, "creation_date": 1539811836, "last_edit_date": 1539868436, "question_id": 52863913, "link": "https://stackoverflow.com/questions/52863913/opening-encryption-key-works-in-powershell-not-in-c", "title": "Opening Encryption Key Works in Powershell Not in C#", "body": "<p>I am opening an encryption key stored in an HSM. I have the HSM's client library installed on my machine. If I run the following Windows Powershell snippet:</p>\n\n<pre><code>##Open an existing Key\n$keyName = 'foo'\n$providername = 'SafeNetProtectApp Key Storage Provider'\n$provider = New-Object 'System.Security.Cryptography.CngProvider' -ArgumentList $providername\n$key = [System.Security.Cryptography.CngKey]::Open($keyName, $provider)\n</code></pre>\n\n<p>It works.</p>\n\n<p>If I attempt to compile the following C# snippet:</p>\n\n<pre><code>using System.Security.Cryptography;\n\nnamespace SaveSecret\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            System.Console.WriteLine(\"&gt;&gt;&gt; Starting application &lt;&lt;&lt;\");\n\n            string keyName = \"foo\";\n            string providerName = \"SafeNetProtectApp Key Storage Provider\";\n            CngProvider provider = new CngProvider(providerName);\n            CngKey key = null;\n            key = CngKey.Open(keyName, provider);\n\n            System.Console.Write(\"[Hit Enter to Continue]\");\n            System.Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n\n<p>I get the following exception:</p>\n\n<pre><code>System.Security.Cryptography.CryptographicException\n  HResult=0x8009001E\n  Message=Provider DLL could not be found.\n\n  Source=System.Core\n  StackTrace:\n   at System.Security.Cryptography.NCryptNative.OpenStorageProvider(String providerName)\n   at System.Security.Cryptography.CngKey.Open(String keyName, CngProvider provider, CngKeyOpenOptions openOptions)\n   at System.Security.Cryptography.CngKey.Open(String keyName, CngProvider provider)\n</code></pre>\n\n<p>I'm confused why I can open the key using the same libraries in Powershell without an issue. On the same machine, if I attempt the action in C#, I get an exception. Can anyone explain why this is happening?</p>\n\n<p>Additional facts...</p>\n\n<ul>\n<li>Project doesn't target .NET Core</li>\n<li>Compiling C# Console App in Visual Studio 2017 Shell</li>\n</ul>\n"}, {"tags": ["c#", "asp.net-core", "exception-handling", "async-await"], "comments": [{"owner": {"reputation": 73, "user_id": 3685080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dbda2da40d0a03df48ae6973114ec3?s=128&d=identicon&r=PG&f=1", "display_name": "user3685080", "link": "https://stackoverflow.com/users/3685080/user3685080"}, "edited": false, "score": 0, "creation_date": 1539812532, "post_id": 52863889, "comment_id": 92642336, "body": "Just tried to reproduce under net.framework 4.7.2 and it works without any issues."}, {"owner": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1539813065, "post_id": 52863889, "comment_id": 92642550, "body": "What framework were you using before?"}, {"owner": {"reputation": 73, "user_id": 3685080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dbda2da40d0a03df48ae6973114ec3?s=128&d=identicon&r=PG&f=1", "display_name": "user3685080", "link": "https://stackoverflow.com/users/3685080/user3685080"}, "reply_to_user": {"reputation": 11114, "user_id": 402366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/43074670e3a479a1d3ae5242ce00819e?s=128&d=identicon&r=PG", "display_name": "Paulo Morgado", "link": "https://stackoverflow.com/users/402366/paulo-morgado"}, "edited": false, "score": 0, "creation_date": 1539813124, "post_id": 52863889, "comment_id": 92642573, "body": "@PauloMorgado 2.1.402"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1539842424, "post_id": 52863889, "comment_id": 92649145, "body": "Is there any project to reproduce your issue? I made a test with a new mvc template with <code>netcoreapp2.1</code> and fail to reproduce your issue. My .net core version is <code>2.1.403</code>."}, {"owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1539844732, "post_id": 52863889, "comment_id": 92650036, "body": "It is very unlikely that your exception is not rethrown. Much more likely that it is not handled properly by asp.net for some reason. The main difference between your example is in the working one you&#39;re never yielding, so you&#39;re throwing the exception directly in the thread of the caller (whereas in other versions you&#39;ve awaited the async call). It makes me think that whatever is calling you doesn&#39;t support properly async calls. Could you give the full callstack of your Process method? (disable &quot;Just my code&quot; in the VS options, set a breakpoint in your method and look at the callstack panel)"}, {"owner": {"reputation": 73, "user_id": 3685080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dbda2da40d0a03df48ae6973114ec3?s=128&d=identicon&r=PG&f=1", "display_name": "user3685080", "link": "https://stackoverflow.com/users/3685080/user3685080"}, "reply_to_user": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1539855585, "post_id": 52863889, "comment_id": 92655860, "body": "hi @KevinGosse just updated with an example and some explanation. In my case, the problem is async &amp; Debugger.Break();"}, {"owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1539870311, "post_id": 52863889, "comment_id": 92664415, "body": "<code>Debugger.Break()</code> <b>is</b> a breakpoint. Just a programmatic one. When you reach that line, if a debugger is attached (like Visual Studio), it will automatically break. When that happens, just press F5 to resume execution"}, {"owner": {"reputation": 73, "user_id": 3685080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dbda2da40d0a03df48ae6973114ec3?s=128&d=identicon&r=PG&f=1", "display_name": "user3685080", "link": "https://stackoverflow.com/users/3685080/user3685080"}, "reply_to_user": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1539873160, "post_id": 52863889, "comment_id": 92666262, "body": "hi @KevinGosse i know what is Debugger.Break() but it does not break. The app just stuck. Also, it happens if you`ll run it under Release configuration. You can check out my sample."}, {"owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "edited": false, "score": 0, "creation_date": 1539890993, "post_id": 52863889, "comment_id": 92676025, "body": "Works perfectly for me. In debug and in release. It breaks on <code>Debugger.Break</code>, I resume execution, the page finishes loading"}], "owner": {"reputation": 73, "user_id": 3685080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81dbda2da40d0a03df48ae6973114ec3?s=128&d=identicon&r=PG&f=1", "display_name": "user3685080", "link": "https://stackoverflow.com/users/3685080/user3685080"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 691, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1539855521, "creation_date": 1539811731, "last_edit_date": 1539855521, "question_id": 52863889, "link": "https://stackoverflow.com/questions/52863889/asp-net-core-can-not-rethrow-async-exception", "title": "asp.net core can not rethrow async exception", "body": "<p>I`m having an issue with rethrowing exception in asp.net core.</p>\n\n<p>Tested under .net core 2.1.402</p>\n\n<pre><code>    [HttpPost(\"processmessage\")]\n    public async Task&lt;ActionResult&gt; Process(JObject obj, CancellationToken token)\n    {\n        var t = Task.Run(() =&gt; { return Task.FromException(new Exception(\"ab\")); });\n\n        try\n        {\n            await t;\n        }\n        catch (Exception ex)\n        {\n            throw;\n            var x = 0;\n        }\n        return Ok();\n    }\n</code></pre>\n\n<p>Expected result: exception should be re-thrown and processed by asp.net core exception filter\\middleware etc. </p>\n\n<p>Current result: i can catch exception inside catch closure, but an exception is not re-thrown on asp.net level. The request is stuck (in postmen) for few minutes.</p>\n\n<p>I also tried :</p>\n\n<pre><code>    [HttpPost(\"processmessage\")]\n    public async Task&lt;ActionResult&gt; Process(JObject obj, CancellationToken token)\n    {\n        var t = Task.Run(() =&gt; { throw new Exception(\"ab\"); });\n\n        try\n        {\n            await t;\n        }\n        catch (Exception ex)\n        {\n            throw;\n        }\n        return Ok();\n    }\n</code></pre>\n\n<p>And this code has completely the same behaviour as previous.</p>\n\n<p>The only working solution for me is :</p>\n\n<pre><code>    [HttpPost(\"processmessage\")]\n    public async Task&lt;ActionResult&gt; Process(JObject obj, CancellationToken token)\n    {\n        var t = Task.Run(() =&gt; { throw new Exception(\"ab\"); });\n\n        try\n        {\n            t.Wait(TimeSpan.FromSeconds(10));\n        }\n        catch (Exception ex)\n        {\n            throw;\n        }\n        return Ok();\n    }\n</code></pre>\n\n<p>Can anybody explain why I can not re-throw exception in the first two scenarios? Is this behaviour expected or is it a bug in asp.net?</p>\n\n<p>=== Update 10.18</p>\n\n<p><strong>Example</strong>: <a href=\"https://github.com/skynet2/net-core-debugger-issue/blob/master/WebApplication2/Controllers/ValuesController.cs\" rel=\"nofollow noreferrer\">https://github.com/skynet2/net-core-debugger-issue/blob/master/WebApplication2/Controllers/ValuesController.cs</a></p>\n\n<p>After some additional research, I was able to find the reason for such strange behaviour. In my case, the problem is inside DataServerExceptionFilter and the cause is <strong>Debugger.Break()</strong>; </p>\n\n<p>I put a breakpoint on each line in exception filter and the strange point is that breakpoint <strong>before Debugger.Break works</strong> but after Dubbuger.Break the whole <strong>processing is stopped</strong>. and this doesn't work for async but works for .Wait()</p>\n"}, {"tags": ["c#", "linq", "expression", "predicate"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1539814701, "post_id": 52863878, "comment_id": 92643030, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.expressions.expression.or?view=netframework-4.7.2#System_Linq_Expressions_Expression_Or_System_Linq_Expressions_Expression_System_Linq_Expressions_Expression_System_Reflection_MethodInfo_\" rel=\"nofollow noreferrer\"><code>Expression.Or</code></a> is the bitwise OR operator. You need <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.expressions.expression.orelse?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Expression.OrElse</code></a>."}, {"owner": {"reputation": 146, "user_id": 10435264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HR06K.jpg?s=128&g=1", "display_name": "Renato Lucas Chitolina", "link": "https://stackoverflow.com/users/10435264/renato-lucas-chitolina"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1539830290, "post_id": 52863878, "comment_id": 92646262, "body": "Yes, I agree with the &quot;duplicate&quot; flag. Unfortunately had not found it previously in searchings. I&#39;ll mark this as solved with another referred question. Thanks to all that help in any way."}], "answers": [{"comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1539817627, "post_id": 52864642, "comment_id": 92643816, "body": "I would be tempted to re-write the bodies of the two expressions to use a new parameter, and avoid the <code>Invoke</code>."}], "tags": [], "owner": {"reputation": 593, "user_id": 3663152, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61f472c223db40927182c401062f9f95?s=128&d=identicon&r=PG&f=1", "display_name": "LeY", "link": "https://stackoverflow.com/users/3663152/ley"}, "is_accepted": false, "score": 0, "last_activity_date": 1539816484, "creation_date": 1539816484, "answer_id": 52864642, "question_id": 52863878, "link": "https://stackoverflow.com/questions/52863878/build-composed-c-linq-where-with-multiple-lambda-expressions/52864642#52864642", "title": "Build composed C# Linq Where with multiple lambda expressions", "body": "<p>like @NetMage pointed out, you need <code>Expression.OrElse</code> instead of OR, beside that what's your missing is the your lambda expression required a paremeter list which also the  target instance to be invoked on by your <code>_unacknowledged</code> and <code>_occurring</code>.</p>\n\n<pre><code>//Third expression method (that combines the above)\nprivate static Expression&lt;Func&lt;Alarm, bool&gt;&gt; _unacknowledgedOrOccurring()\n{       \n    var target = Expression.Parameter(typeof(Alarm));\n    var or = Expression.OrElse(Expression.Invoke(_unacknowledged(), target), Expression.Invoke(_occurring(), target));\n    return Expression.Lambda&lt;Func&lt;Alarm, bool&gt;&gt;(or, target);\n}\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 10435264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HR06K.jpg?s=128&g=1", "display_name": "Renato Lucas Chitolina", "link": "https://stackoverflow.com/users/10435264/renato-lucas-chitolina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "closed_date": 1539830298, "answer_count": 1, "score": 0, "last_activity_date": 1539816484, "creation_date": 1539811693, "question_id": 52863878, "link": "https://stackoverflow.com/questions/52863878/build-composed-c-linq-where-with-multiple-lambda-expressions", "closed_reason": "Duplicate", "title": "Build composed C# Linq Where with multiple lambda expressions", "body": "<p>I have the following error when try to build an OR expression composed with another two expressions:</p>\n\n<p><code>The binary operator Or is not defined for the types 'System.Func'2[Alarm,System.Boolean]' and 'System.Func'2[Alarm,System.Boolean]'.</code></p>\n\n<p>What I want to do is combine two Expression methods in a third method with OR operator, as follows:</p>\n\n<pre><code>//First expression method\nprivate static Expression&lt;Func&lt;Alarm, bool&gt;&gt; _unacknowledged() \n{\n    return alarm =&gt; alarm.AcknowledgeDate == null;\n}\n\n//Second expression method\nprivate static Expression&lt;Func&lt;Alarm, bool&gt;&gt; _occurring()\n{\n    return alarm =&gt; alarm.OccurrenceFinalDate == null;\n}\n\n//Third expression method (that combines the above)\nprivate Expression&lt;Func&lt;Alarm, bool&gt;&gt; _unacknowledgedOrOccurring()\n{\n    //This is where exception is raised\n    var expr = Expression.Lambda&lt;Func&lt;Alarm, bool&gt;&gt;(\n        Expression.Or(_unacknowledged(), _occurring())\n    );\n\n    return expr;\n}\n</code></pre>\n\n<p>The expected practical clause that I want using the <code>_unacknowledgedOrOccurring()</code> call must be similar to this:</p>\n\n<pre><code>alarmList.Where(alarm =&gt; \n    alarm.AcknowledgeDate == null ||\n    alarm.OccurrenceFinalDate == null\n)\n</code></pre>\n\n<p>It's possible to do this? What exactly I'm missing? </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 3879, "user_id": 7371784, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78e670334411962158df4d1ac6803ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Kristjan Kica", "link": "https://stackoverflow.com/users/7371784/kristjan-kica"}, "edited": false, "score": 0, "creation_date": 1539811796, "post_id": 52863835, "comment_id": 92642086, "body": "why would you return the same input you give to the function?"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 3879, "user_id": 7371784, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78e670334411962158df4d1ac6803ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Kristjan Kica", "link": "https://stackoverflow.com/users/7371784/kristjan-kica"}, "edited": false, "score": 0, "creation_date": 1539818476, "post_id": 52863835, "comment_id": 92644007, "body": "That doesn&#39;t make sense, but seemed like that&#39;s what OP was asking."}, {"owner": {"reputation": 3879, "user_id": 7371784, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78e670334411962158df4d1ac6803ac9?s=128&d=identicon&r=PG&f=1", "display_name": "Kristjan Kica", "link": "https://stackoverflow.com/users/7371784/kristjan-kica"}, "edited": false, "score": 1, "creation_date": 1539850944, "post_id": 52863835, "comment_id": 92653223, "body": "I think he was looking for something like @fkr.ayoub answer, even though it would not make that much sense either."}], "tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 0, "last_activity_date": 1539811503, "creation_date": 1539811503, "answer_id": 52863835, "question_id": 52863796, "link": "https://stackoverflow.com/questions/52863796/how-can-i-get-the-parameter-of-a-method-in-c/52863835#52863835", "title": "How can I get the parameter of a method in C#?", "body": "<p>This?</p>\n\n<pre><code>string Print1(string message)\n{\n    print(message);\n    return message;\n}\n\nvoid Print2(string message)\n{\n    var msg = Print1(message);\n    print(msg);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 621, "user_id": 4336995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1aa53156306f6e4d351e4dcef6ec2e95?s=128&d=identicon&r=PG&f=1", "display_name": "fkr.ayoub", "link": "https://stackoverflow.com/users/4336995/fkr-ayoub"}, "is_accepted": true, "score": 1, "last_activity_date": 1539812191, "creation_date": 1539812191, "answer_id": 52863973, "question_id": 52863796, "link": "https://stackoverflow.com/questions/52863796/how-can-i-get-the-parameter-of-a-method-in-c/52863973#52863973", "title": "How can I get the parameter of a method in C#?", "body": "<p><br/>\nYou should use global variable like this :<br/></p>\n\n<pre><code>string GlobalMessage;\n\nvoid Print1(string message)\n{\nGlobalMessage=message;\nprint(\"message\");\n}\n\nvoid Print2(string message)\n{\n\nmessage = GlobalMessage;\nprint(\"message\")\n}`enter code here`\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 9983764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11f89080d6fe167d20a8f4d6a5798d5d?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio Marquez", "link": "https://stackoverflow.com/users/9983764/sergio-marquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 52863973, "answer_count": 2, "score": 0, "last_activity_date": 1539812191, "creation_date": 1539811283, "last_edit_date": 1539811875, "question_id": 52863796, "link": "https://stackoverflow.com/questions/52863796/how-can-i-get-the-parameter-of-a-method-in-c", "title": "How can I get the parameter of a method in C#?", "body": "<p>I'm doing a game in Unity and suddenly this problem appeared.\nIs it possible to get the parameter of a method in C#?</p>\n\n<p>for example:</p>\n\n<pre><code>void Print1(string message)\n{\n    print(\"message\");\n}\n\nvoid Print2(string message)\n{\n    //PseudoCode\n    message = Print1message;\n    print(\"message\")\n}\n</code></pre>\n\n<p>So, let's say that the method Print1 has been called and then, we want that the method Print2 get that same value.\nFor example:</p>\n\n<p>Print1 receives the parameter \"Hello World\" and if we call Print2, we should get the parameter \"Hello World\" of Print1 and show it.\nIs this possible?</p>\n"}, {"tags": ["c#", "vb.net", "lambda"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1539811150, "post_id": 52863652, "comment_id": 92641886, "body": "I don&#39;t know whether the underscore has a special meaning in VB.Net, but you could perhaps replace the underscore with a dummy variable name, i guess (like <code>Function(x,y,temp)</code>)"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1539811911, "post_id": 52863652, "comment_id": 92642134, "body": "Thanks, but when I do this, I get a &quot;Syntax error&quot; message from the compiler in the line &quot; ).Data(Function(x, y,temp)&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1539812128, "post_id": 52863652, "comment_id": 92642196, "body": "Okay, verify that <code>Function(...)</code> in VB.Net is actually the same as <code>Action&lt;...&gt;</code> in C#. I am not sure, but the equivalent to <code>Action&lt;...&gt;</code> could perhaps be <code>Sub(...)</code>"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1539812302, "post_id": 52863652, "comment_id": 92642251, "body": "When I import the DLL into VB.NET, the object browser tells me the following: Public Function Begin(action As System.Action(Of Double, Double, Double)) As Tobii.Interaction.FixationDataStream     Member von &quot;Tobii.Interaction.FixationDataStream&quot;"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1539812361, "post_id": 52863652, "comment_id": 92642274, "body": "I guess there&#39;s just something else wrong about my transcription to VB.NET in the line ).Data(Function, but I don&#39;t see what it might be."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1539812387, "post_id": 52863652, "comment_id": 92642285, "body": "Yes, and... what should your last comment regarding the object browser tell me? (I am not sure what you try to tell me there...)"}, {"owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "edited": false, "score": 0, "creation_date": 1539813164, "post_id": 52863652, "comment_id": 92642582, "body": "I tried a converter, and I found the culprit. The underscore was alright, but I forgot 2 &quot;End Function&quot; in my conversion. So I&#39;m going to delete the question. Thank you very much anyways."}, {"owner": {"reputation": 5724, "user_id": 1655674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1440c2e508496b3e95684461a6ba6a95?s=128&d=identicon&r=PG", "display_name": "Dave Doknjas", "link": "https://stackoverflow.com/users/1655674/dave-doknjas"}, "edited": false, "score": 0, "creation_date": 1539817086, "post_id": 52863652, "comment_id": 92643688, "body": "@tmighty: The underscore is definitely not alright."}], "answers": [{"comments": [{"owner": {"reputation": 1280, "user_id": 2659161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e7a0497c9070fbb0b9df262eef3dbd?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/2659161/craig"}, "edited": false, "score": 0, "creation_date": 1539872314, "post_id": 52864566, "comment_id": 92665694, "body": "If you really want to, you could probably use a single underscore by escaping it i.e. <code>[_]</code>."}, {"owner": {"reputation": 1280, "user_id": 2659161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e7a0497c9070fbb0b9df262eef3dbd?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/2659161/craig"}, "edited": false, "score": 0, "creation_date": 1539887359, "post_id": 52864566, "comment_id": 92674184, "body": "Interesting, I had thought that might give an anything-goes access to names, apparently not.  Maybe it just addresses reserved words that would otherwise be legal names?"}, {"owner": {"reputation": 5724, "user_id": 1655674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1440c2e508496b3e95684461a6ba6a95?s=128&d=identicon&r=PG", "display_name": "Dave Doknjas", "link": "https://stackoverflow.com/users/1655674/dave-doknjas"}, "reply_to_user": {"reputation": 1280, "user_id": 2659161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29e7a0497c9070fbb0b9df262eef3dbd?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/2659161/craig"}, "edited": false, "score": 0, "creation_date": 1539887700, "post_id": 52864566, "comment_id": 92674383, "body": "Inside the square brackets, it still has to be a valid name.  The square brackets just ensures that it&#39;s not confused with a reserved word or an existing type."}], "tags": [], "owner": {"reputation": 5724, "user_id": 1655674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1440c2e508496b3e95684461a6ba6a95?s=128&d=identicon&r=PG", "display_name": "Dave Doknjas", "link": "https://stackoverflow.com/users/1655674/dave-doknjas"}, "is_accepted": false, "score": 0, "last_activity_date": 1539816000, "creation_date": 1539816000, "answer_id": 52864566, "question_id": 52863652, "link": "https://stackoverflow.com/questions/52863652/lambda-function-ellipsis-underscore-in-c-equivalent-in-vb-net/52864566#52864566", "title": "Lambda function ellipsis (underscore in C#) equivalent in VB.NET", "body": "<p>Those lambdas should be 'Sub' lambdas.  In addition, you are not closing most of them (with 'End Sub').  Also, you cannot use an underscore by itself as a variable name in VB:</p>\n\n<pre><code>    Private Shared Sub CreateAndVisualizeSensitiveFilteredFixationsStream()\n        _fixationDataStream = _host.Streams.CreateFixationDataStream()\n        _fixationDataStream.Begin(Sub(x, y, underscore)\n                    Console.WriteLine(vbLf &amp; \"Fixation started at X: {0}, Y: {1}\", x, y)\n                    _fixationBeginTime = Date.Now\n        End Sub).Data(Sub(x, y, underscore)\n                    Console.WriteLine(\"During fixation, currently at: X: {0}, Y: {1}\", x, y)\n        End Sub).End(Sub(x, y, underscore)\n                    Console.WriteLine(\"Fixation ended at X: {0}, Y: {1}\", x, y)\n                    If _fixationBeginTime &lt;&gt; Date.MinValue Then\n                        Console.ForegroundColor = ConsoleColor.Cyan\n                        Console.WriteLine(\"Fixation duration: {0}\", Date.Now - _fixationBeginTime)\n                        Console.ForegroundColor = _defaultForegroundColor\n                    End If\n        End Sub)\n    End Sub\n</code></pre>\n"}], "owner": {"reputation": 8188, "user_id": 1390192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2011214205e164fbfd409cf42a0d23c9?s=128&d=identicon&r=PG", "display_name": "tmighty", "link": "https://stackoverflow.com/users/1390192/tmighty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1539816000, "creation_date": 1539810566, "question_id": 52863652, "link": "https://stackoverflow.com/questions/52863652/lambda-function-ellipsis-underscore-in-c-equivalent-in-vb-net", "title": "Lambda function ellipsis (underscore in C#) equivalent in VB.NET", "body": "<p>I have the following lambda function in C# which I want to migrate to VB.NET:</p>\n\n<pre><code>    private static void CreateAndVisualizeSensitiveFilteredFixationsStream()\n    {\n        _fixationDataStream = _host.Streams.CreateFixationDataStream();\n        _fixationDataStream\n            .Begin((x, y, _) =&gt;\n                {\n                    Console.WriteLine(\"\\n\" +\n                                      \"Fixation started at X: {0}, Y: {1}\", x, y);\n                    _fixationBeginTime = DateTime.Now;\n                })\n            .Data((x, y, _) =&gt;\n                {\n                    Console.WriteLine(\"During fixation, currently at: X: {0}, Y: {1}\", x, y);\n                })\n            .End((x, y, _) =&gt;\n                {\n                    Console.WriteLine(\"Fixation ended at X: {0}, Y: {1}\", x, y);\n                    if (_fixationBeginTime != default(DateTime))\n                    {\n                        Console.ForegroundColor = ConsoleColor.Cyan;\n                        Console.WriteLine(\"Fixation duration: {0}\", DateTime.Now - _fixationBeginTime);\n                        Console.ForegroundColor = _defaultForegroundColor;\n                    }\n                });\n    }\n</code></pre>\n\n<p>As one can see, the third argument of \".Begin(x, y, _)\" is an ellipsis.</p>\n\n<p>VB.NET won't accept this underscore. What would be the equivalent in VB.NET?</p>\n\n<p>Here is my attempt of a conversion, I'm not sure if I did it correctly, but the underscore is very likely to be wrong in VB.NET, I guess. Thanks you.</p>\n\n<pre><code>    Private Shared Sub CreateAndVisualizeSensitiveFilteredFixationsStream()\n        _fixationDataStream = _host.Streams.CreateFixationDataStream()\n        _fixationDataStream.Begin(Function(x, y, _)\n                                      Console.WriteLine(Constants.vbLf &amp; \"Fixation started at X: {0}, Y: {1}\", x, y)\n                                      _fixationBeginTime = DateTime.Now\n               ).Data(Function(x, y, _ )\n                    Console.WriteLine(\"During fixation, currently at: X: {0}, Y: {1}\", x, y)\n               ).End(Function(x, y, _)\n                    Console.WriteLine(\"Fixation ended at X: {0}, Y: {1}\", x, y)\n                                      If _fixationBeginTime IsNot Nothing Then\n                                          Console.ForegroundColor = ConsoleColor.Cyan\n                                          Console.WriteLine(\"Fixation duration: {0}\", DateTime.Now.Subtract(_fixationBeginTime))\n                                          Console.ForegroundColor = _defaultForegroundColor\n                                      End If\n                                  End Function\n               )\n    End Sub\n</code></pre>\n\n<p>This is the Begin function:</p>\n\n<pre><code>public class FixationDataStream : DataStreamBase&lt;FixationDataBehavior, FixationData&gt;\n{\n    public FixationDataStream(FixationDataBehavior fixationDataBehavior, Action hasSubscribersChanged, bool enabled);\n\n    public FixationDataStream Begin(Action&lt;double, double, double&gt; action);\n    public FixationDataStream Data(Action&lt;double, double, double&gt; action);\n    public FixationDataStream End(Action&lt;double, double, double&gt; action);\n}\n</code></pre>\n"}, {"tags": ["c#", "combinations", "permutation"], "comments": [{"owner": {"reputation": 584, "user_id": 1863970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9f7f97d006f95050965b8e58f9875c?s=128&d=identicon&r=PG", "display_name": "DavidC", "link": "https://stackoverflow.com/users/1863970/davidc"}, "edited": false, "score": 1, "creation_date": 1539811431, "post_id": 52863636, "comment_id": 92641973, "body": "Did you try this answer? <a href=\"https://stackoverflow.com/a/40417765/1863970\">stackoverflow.com/a/40417765/1863970</a>"}, {"owner": {"reputation": 1250, "user_id": 1732358, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae25b458888e2181b9d17186196a164f?s=128&d=identicon&r=PG", "display_name": "bagofmilk", "link": "https://stackoverflow.com/users/1732358/bagofmilk"}, "reply_to_user": {"reputation": 584, "user_id": 1863970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9f7f97d006f95050965b8e58f9875c?s=128&d=identicon&r=PG", "display_name": "DavidC", "link": "https://stackoverflow.com/users/1863970/davidc"}, "edited": false, "score": 0, "creation_date": 1539811706, "post_id": 52863636, "comment_id": 92642053, "body": "I&#39;ve been looking for this for almost 2 hours and you found it in minutes... Thank you"}, {"owner": {"reputation": 24396, "user_id": 18192, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c939f58c5869fead24efafcec0056914?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/18192/brian"}, "edited": false, "score": 1, "creation_date": 1539869740, "post_id": 52863636, "comment_id": 92664045, "body": "Since OP acknowledges that his question is answered by <a href=\"https://stackoverflow.com/questions/7802822/all-possible-combinations-of-a-list-of-values\">All Possible Combinations of a list of Values</a>, voting to close as a duplicate accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 73304, "user_id": 724626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e34d95a3eb52b24fe78d772dc614bddb?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/724626/joe"}, "edited": false, "score": 2, "creation_date": 1539870474, "post_id": 52863874, "comment_id": 92664531, "body": "I truly enjoy your answers and blog. Thank you for sharing your knowledge!"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 7, "last_activity_date": 1541546333, "last_edit_date": 1541546333, "creation_date": 1539811658, "answer_id": 52863874, "question_id": 52863636, "link": "https://stackoverflow.com/questions/52863636/c-all-unique-combinations-of-liststring/52863874#52863874", "title": "C# All Unique Combinations of List&lt;string&gt;", "body": "<p>OK, you have n items, and you want the 2<sup>n</sup> combinations of those items.  </p>\n\n<p>FYI, this is called the \"power set\" when you do it on sets; since sequences can contain duplicates and sets cannot, what you want is not <em>exactly</em> the power set, but it's close enough.  The code I am presenting will be in a sense wrong if your sequence contains duplicates, since we'll say that the result for <code>{10, 10}</code> will be <code>{}, {10}, {10}, {10, 10}</code> but if you don't like that, well, remove duplicates before you start, and then you'll be computing the power set.</p>\n\n<p>Computing the sequence of all combinations is straightforward. We reason as follows:</p>\n\n<ul>\n<li>If there are zero items then there is only one combination: the combination that has zero items.</li>\n<li>If there are n > 0 items then the combinations are all the combinations <em>with</em> the first element, and all the combinations <em>without</em> the first element.</li>\n</ul>\n\n<p>Let's write the code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\nstatic class Extensions\n{\n    public static IEnumerable&lt;T&gt; Prepend&lt;T&gt;(\n        this IEnumerable&lt;T&gt; items,\n        T first)\n    {\n        yield return first;\n        foreach(T item in items)\n            yield return item;\n    }\n    public static IEnumerable&lt;IEnumerable&lt;T&gt;&gt; Combinations&lt;T&gt;(\n        this IEnumerable&lt;T&gt; items)\n    {\n        if (!items.Any())\n            yield return items;\n        else\n        {\n          var head = items.First();\n          var tail = items.Skip(1);\n          foreach(var sequence in tail.Combinations()) \n          {\n            yield return sequence; // Without first\n            yield return sequence.Prepend(head);\n          }\n       }\n    }\n}\n\npublic class Program\n{\n    public static void Main()\n    {\n        var items = new [] { 10, 20, 30 };\n        foreach(var sequence in items.Combinations())\n            Console.WriteLine($\"({string.Join(\",\", sequence)})\");\n    }\n}\n</code></pre>\n\n<p>And we get the output</p>\n\n<pre><code>()\n(10)\n(20)\n(10,20)\n(30)\n(10,30)\n(20,30)\n(10,20,30)\n</code></pre>\n\n<p>Note that <strong>this code is not efficient if the original sequence is very long</strong>. </p>\n\n<p>EXERCISE 1: Do you see why?</p>\n\n<p>EXERCISE 2: Can you make this code efficient in both time and space for long sequences? (Hint: if you can make the <code>head</code>, <code>tail</code> and <code>prepend</code> operations more memory-efficient, that will go a long way.)</p>\n\n<p>EXERCISE 3: You give the same algorithm in JavaScript; can you make the analogies between each part of the JS algorithm and the C# version?</p>\n\n<p>Of course, we assume that the number of items in the original sequence is short. If it's even a hundred, you're going to be waiting a <em>long</em> time to enumerate all those trillions of combinations.</p>\n\n<p>If you want to get all the combinations <em>with a specific number of elements</em>, see my series of articles on algorithms for that: <a href=\"https://ericlippert.com/2014/10/13/producing-combinations-part-one/\" rel=\"nofollow noreferrer\">https://ericlippert.com/2014/10/13/producing-combinations-part-one/</a></p>\n"}], "owner": {"reputation": 1250, "user_id": 1732358, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae25b458888e2181b9d17186196a164f?s=128&d=identicon&r=PG", "display_name": "bagofmilk", "link": "https://stackoverflow.com/users/1732358/bagofmilk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2084, "favorite_count": 0, "closed_date": 1539870440, "answer_count": 1, "score": 0, "last_activity_date": 1541546333, "creation_date": 1539810482, "last_edit_date": 1539810943, "question_id": 52863636, "link": "https://stackoverflow.com/questions/52863636/c-all-unique-combinations-of-liststring", "closed_reason": "Duplicate", "title": "C# All Unique Combinations of List&lt;string&gt;", "body": "<p>This question has been asked many times, but every SO post I've seen wants a specific length in values, whereas I just want to know every unique combination regardless of length.</p>\n\n<p>The code below only provides a list where there are exactly 3 entries of combinations (and they are not unique).</p>\n\n<pre><code>List&lt;string&gt; list = new List&lt;string&gt; { \"003_PS\", \"003_DH\", \"003_HEAT\" };\nvar perms = list.GetPermutations();\n\npublic static class Extensions \n{\n    public static IEnumerable&lt;IEnumerable&lt;T&gt;&gt; GetPermutations&lt;T&gt;(this IEnumerable&lt;T&gt; items)\n    {\n        foreach (var item in items)\n        {\n            var itemAsEnumerable = Enumerable.Repeat(item, 1);\n            var subSet = items.Except(itemAsEnumerable);\n            if (!subSet.Any())\n            {\n                yield return itemAsEnumerable;\n            }\n            else\n            {\n                foreach (var sub in items.Except(itemAsEnumerable).GetPermutations())\n                {\n                    yield return itemAsEnumerable.Union(sub);\n                }\n            }\n        }\n    }\n}\n\n/*\n  OUTPUT:\n      003_PS,   003_DH,   003_HEAT\n      003_PS,   003_HEAT, 003_DH\n      003_DH,   003_PS,   003_HEAT\n      003_DH,   003_HEAT, 003_PS\n      003_HEAT, 003_PS,   003_DH\n      003_HEAT, 003_DH,   003_PS\n*/\n</code></pre>\n\n<p>What I'm looking for is this:</p>\n\n<pre><code>/*\nOUTPUT:\n    003_PS, 003_DH, 003_HEAT\n    003_PS, 003_DH\n    003_PS, 003_HEAT\n    003_PS\n\n    003_DH, 003_HEAT\n    003_DH\n\n    003_HEAT\n */\n</code></pre>\n\n<p>The size is not limited to 3 items and each entry is unique.</p>\n\n<p>What do I need to change in this function? I'm open to a LINQ solution</p>\n\n<p>Any help is appreciated. Thanks!</p>\n\n<p><strong>EDIT: list above was not accurate to output</strong></p>\n\n<p>**EDIT #2:\n  Here's a Javascript version of what I'm looking for. But I don't know what the C# equivalent syntax is:</p>\n\n<pre><code>function getUniqueList(arr){\n    if (arr.length === 1) return [arr];\n    else {\n        subarr = getUniqueList(arr.slice(1));\n        return subarr.concat(subarr.map(e =&gt; e.concat(arr[0])), [[arr[0]]]);\n    }\n}\n</code></pre>\n\n<p>.</p>\n"}, {"tags": ["c#", "azure", ".net-core", "azure-sql-database", "azure-managed-identity"], "answers": [{"tags": [], "owner": {"reputation": 15383, "user_id": 8557999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e949becd6429559b4ae1e7d124475788?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Cai", "link": "https://stackoverflow.com/users/8557999/joey-cai"}, "is_accepted": true, "score": 1, "last_activity_date": 1539930090, "creation_date": 1539930090, "answer_id": 52886846, "question_id": 52863560, "link": "https://stackoverflow.com/questions/52863560/netcore-api-fails-to-get-token-from-azure-cli-using-msi/52886846#52886846", "title": ".NetCore API fails to get token from Azure CLI using MSI", "body": "<blockquote>\n  <p>I've read the possibility that .NetCore does not support this yet but it's not clear to me if this is accurate/true or not.</p>\n</blockquote>\n\n<p>In short, <strong>it not support in .Net Core 2.1</strong>.</p>\n\n<blockquote>\n  <p>This scenario is currently <strong>supported by .NET Framework 4.6 and above</strong>, but <strong>not by .NET Core 2.1</strong>. <strong>.NET Core 2.2 does support the scenario</strong>, but is not yet included in the default images in App Service.</p>\n</blockquote>\n\n<p>For more details, you could refer to this <a href=\"https://docs.microsoft.com/en-us/azure/app-service/app-service-web-tutorial-connect-msi#modify-aspnet-code\" rel=\"nofollow noreferrer\">article</a>.</p>\n"}], "owner": {"reputation": 419, "user_id": 7065639, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157917839280227/picture?type=large", "display_name": "Simon Bourdeau", "link": "https://stackoverflow.com/users/7065639/simon-bourdeau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 1, "accepted_answer_id": 52886846, "answer_count": 1, "score": 2, "last_activity_date": 1539930090, "creation_date": 1539810093, "last_edit_date": 1539812338, "question_id": 52863560, "link": "https://stackoverflow.com/questions/52863560/netcore-api-fails-to-get-token-from-azure-cli-using-msi", "title": ".NetCore API fails to get token from Azure CLI using MSI", "body": "<p>I have a couple APIs and I'm in the process of changing the way I access my Azure SQL Databases from a simple credential to a Managed Service Identity model leveraging our Azure Active Directory.</p>\n\n<p>I've had no problem doing this for my older .Net API but I cannot get my newer .NetCore API to do the same thing. I've read the possibility that .NetCore does not support this yet but it's not clear to me if this is accurate/true or not.</p>\n\n<p>I run this code:</p>\n\n<pre><code>SqlConnection conn = new SqlConnection(_ConnectionString);\nconn.AccessToken = (new AzureServiceTokenProvider()).GetAccessTokenAsync(\"https://database.windows.net/\").Result;\n</code></pre>\n\n<p>and get this error:</p>\n\n<pre><code>AzureServiceTokenProviderException: Parameters: Connectionstring: [No connection string specified], Resource: https://database.windows.net/, Authority: . Exception Message: Tried the following 3 methods to get an access token, but none of them worked.\nParameters: Connectionstring: [No connection string specified], Resource: https://database.windows.net/, Authority: . Exception Message: Tried to get token using Managed Service Identity. Unable to connect to the Managed Service Identity (MSI) endpoint. Please check that you are running on an Azure resource that has MSI setup.\nParameters: Connectionstring: [No connection string specified], Resource: https://database.windows.net/, Authority: . Exception Message: Tried to get token using Visual Studio. Access token could not be acquired. Visual Studio Token provider file not found at \"C:\\Users\\simonb\\AppData\\Local\\.IdentityService\\AzureServiceAuth\\tokenprovider.json\"\nParameters: Connectionstring: [No connection string specified], Resource: https://database.windows.net/, Authority: . Exception Message: Tried to get token using Azure CLI. Access token could not be acquired. \n</code></pre>\n\n<p>I don't expect this to work through MSI because I'm running it locally but it should work through method 2</p>\n\n<hr>\n\n<p>*update\nFound this related article: <a href=\"https://github.com/Azure/azure-sdk-for-net/issues/3933\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-sdk-for-net/issues/3933</a></p>\n"}, {"tags": ["c#", "asp.net", ".net", "web"], "comments": [{"owner": {"reputation": 15000, "user_id": 31444, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/eXbk8.jpg?s=128&g=1", "display_name": "IrishChieftain", "link": "https://stackoverflow.com/users/31444/irishchieftain"}, "edited": false, "score": 0, "creation_date": 1539812114, "post_id": 52863536, "comment_id": 92642192, "body": "Have you tried to set it in IIS?"}, {"owner": {"reputation": 41, "user_id": 3590040, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5aa47108cb650639e4a0527b645c0b20?s=128&d=identicon&r=PG&f=1", "display_name": "user3590040", "link": "https://stackoverflow.com/users/3590040/user3590040"}, "reply_to_user": {"reputation": 15000, "user_id": 31444, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/eXbk8.jpg?s=128&g=1", "display_name": "IrishChieftain", "link": "https://stackoverflow.com/users/31444/irishchieftain"}, "edited": false, "score": 0, "creation_date": 1539876779, "post_id": 52863536, "comment_id": 92668678, "body": "It is not allowing me to add a subfolder"}, {"owner": {"reputation": 15000, "user_id": 31444, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/eXbk8.jpg?s=128&g=1", "display_name": "IrishChieftain", "link": "https://stackoverflow.com/users/31444/irishchieftain"}, "edited": false, "score": 0, "creation_date": 1539877300, "post_id": 52863536, "comment_id": 92668980, "body": "You&#39;ll have to go into more detail by updating your question. Perhaps include screenshots of what you&#39;re attempting in IIS."}], "owner": {"reputation": 41, "user_id": 3590040, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5aa47108cb650639e4a0527b645c0b20?s=128&d=identicon&r=PG&f=1", "display_name": "user3590040", "link": "https://stackoverflow.com/users/3590040/user3590040"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1539809993, "creation_date": 1539809993, "question_id": 52863536, "link": "https://stackoverflow.com/questions/52863536/defaultdocument-in-web-config-adding-last-lash-to-url", "title": "&lt;defaultDocument&gt; in web.config adding last lash to URL", "body": "<p>I have the strangest error. I am uploading my .NET 4.0 application on a new server and want to set the default document in the web.config file using the code below. </p>\n\n<pre><code> &lt;system.webServer&gt;\n    &lt;defaultDocument enabled=\"true\"&gt;\n      &lt;files&gt;\n        &lt;clear /&gt;\n        &lt;add value=\"http://domain/folder/home.aspx\" /&gt;\n      &lt;/files&gt;\n    &lt;/defaultDocument&gt;\n  &lt;system.webServer&gt;\n</code></pre>\n\n<p>The problem is when the page is loaded it goes to <a href=\"http://domain/folder/home.aspx/\" rel=\"nofollow noreferrer\">http://domain/folder/home.aspx/</a> with a last lash added which causes the header and menu not to load. If I delete the last lash after the URL everything loads fine.</p>\n\n<p>My question is how to I set the default page without the last lash adding to the URL.</p>\n\n<p>I tried setting the default document from the control panel on my server but it will not allow me to route to a sub folder</p>\n"}, {"tags": ["c#", "windows-installer"], "comments": [{"owner": {"reputation": 34253, "user_id": 129130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FJpdt.gif?s=128&g=1", "display_name": "Stein &#197;smul", "link": "https://stackoverflow.com/users/129130/stein-%c3%85smul"}, "edited": false, "score": 0, "creation_date": 1539812485, "post_id": 52863497, "comment_id": 92642315, "body": "What tool are you using to make your MSI file? WiX? Installshield? Advanced Installer? Etc... Some differences between the tools despite similarities."}, {"owner": {"reputation": 34253, "user_id": 129130, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/FJpdt.gif?s=128&g=1", "display_name": "Stein &#197;smul", "link": "https://stackoverflow.com/users/129130/stein-%c3%85smul"}, "edited": false, "score": 0, "creation_date": 1539819005, "post_id": 52863497, "comment_id": 92644116, "body": "No time to write this up right now, but here are two links to get you going: <a href=\"https://stackoverflow.com/questions/49543312/how-to-deny-folder-permission-to-users-with-wix-installer\">How to deny folder permission to Users with wix installer</a> and <a href=\"https://stackoverflow.com/questions/49324552/is-wix-changing-the-permissions-on-my-notes-ini-file/49325684#49325684\">Different WiX elements to set ACLs</a> (mid section)."}], "answers": [{"tags": [], "owner": {"reputation": 19184, "user_id": 3261150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0821e1dca957dda1214f1d273a08e161?s=128&d=identicon&r=PG&f=1", "display_name": "PhilDW", "link": "https://stackoverflow.com/users/3261150/phildw"}, "is_accepted": false, "score": 1, "last_activity_date": 1540405406, "creation_date": 1540405406, "answer_id": 52975686, "question_id": 52863497, "link": "https://stackoverflow.com/questions/52863497/change-file-permissions-windows-installer/52975686#52975686", "title": "Change file permissions - Windows Installer", "body": "<p>Your post seems to indicate that you are using Visual Studio setup projects, the Installer add-on. </p>\n\n<p>Two basic points:</p>\n\n<ol>\n<li><p>There is no support for doing this in Visual Studio setup projects, so you would need to write custom action code that alters those permissions. The code to do that is about security APIs, so you probably won't get an explicit answer here. </p></li>\n<li><p>The most common reason people do this is that the application needs to update the file, and it fails because updating ProgramFiles folder content requires administrator privilege. If this is the case then your application design should be improved by having the file in (say) the User's Application Data folder, which has that name for the obvious reason that's the preferred location for such data. </p></li>\n</ol>\n"}], "owner": {"reputation": 27, "user_id": 9993974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fbaad4bb10703f46eb9852ca12768cf?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Van Moon", "link": "https://stackoverflow.com/users/9993974/erik-van-moon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540405406, "creation_date": 1539809828, "question_id": 52863497, "link": "https://stackoverflow.com/questions/52863497/change-file-permissions-windows-installer", "title": "Change file permissions - Windows Installer", "body": "<p>How do I add write and modify permissions to a text file that will be installed in the Application Folder in the File System on Target Machine?</p>\n"}, {"tags": ["c#", "ms-word", "openxml", "openxml-sdk"], "comments": [{"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 1, "creation_date": 1539810224, "post_id": 52863482, "comment_id": 92641528, "body": "Did you try to do it in Word, save the file, then open it in the &quot;OpenXml Productivity Tool&quot; (downloadable from Microsoft.com)?  If you reflect over the code for the document, it should show you the way.  That tool is the solution to <i>many</i> OpenXml problems"}, {"owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 0, "creation_date": 1539853788, "post_id": 52863482, "comment_id": 92654839, "body": "Does the information in this discussion help: <a href=\"https://stackoverflow.com/q/4485225/3077495\">stackoverflow.com/q/4485225/3077495</a>? There&#39;s also <a href=\"http://openxmldeveloper.org/discussions/development_tools/f/17/p/5368/172693.aspx\" rel=\"nofollow noreferrer\">openxmldeveloper.org/discussions/development_tools/f/17/p/53&zwnj;&#8203;68/&hellip;</a>"}], "owner": {"reputation": 96, "user_id": 7768666, "user_type": "registered", "profile_image": "https://graph.facebook.com/3529176673094/picture?type=large", "display_name": "Brian K. Burge", "link": "https://stackoverflow.com/users/7768666/brian-k-burge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 618, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1616667954, "creation_date": 1539809763, "last_edit_date": 1539868294, "question_id": 52863482, "link": "https://stackoverflow.com/questions/52863482/are-nested-tables-in-openxml-c-possible", "title": "Are nested tables in OpenXML C# possible?", "body": "<p>I have a requirement where I will be opening a word document (A template from Avery's website), the template is using word tables.</p>\n\n<p>The most manageable way to handle the data would be to add nested tables (Which word does allow).  I know that the OpenXML standard also allows for it, but when I use the OpenXML.DocumentFormat it seems to add all my data into a single cell.  When I use straight text with no Sub-tables it works fine and I can traverse all of the cells in the template, but when I append a nested table it puts all my data in the first cell (Of the template).</p>\n\n<p>I realize I probably can pull this off with interop but word being installed on the box that hosts the service in not an option, also I would rather stay away from bookmarking or any type of modification of the base document.</p>\n\n<pre><code>        public void GenerateLabels(Stream stream, List&lt;ItemValue&gt; items, int offset)\n    {\n        using (MemoryStream docStream = new MemoryStream())\n        {\n            docStream.Write(LabelTemplates.Avery22806PrinttotheEdgeSquareLabels, 0, LabelTemplates.Avery22806PrinttotheEdgeSquareLabels.Length);\n            long cellCount = 0;\n            int parcount = 0;\n            using (WordprocessingDocument document = WordprocessingDocument.Open(docStream, true))\n            {\n                Body body = document.MainDocumentPart.Document.Body;\n                foreach (Table table in body.Descendants&lt;Table&gt;())\n                {\n                    long rowCount = 0;\n                    foreach (TableRow row in table.Descendants&lt;TableRow&gt;())\n                    {\n                        if (rowCount % 2 == 0)\n                        {\n                            int processCount = 0;\n                            foreach (TableCell cell in row.Descendants&lt;TableCell&gt;())\n                            {\n                                if (items.Count() &lt;= parcount)\n                                {\n                                    break;\n                                }\n                                if (processCount % 2 == 0 &amp;&amp; cellCount &gt;= offset)\n                                {\n\n                                    cell.Append(CreateBarcodeLabel(items[parcount], document));\n                                    cellCount++;\n                                    parcount++;\n                                }\n                                processCount++;\n                            }\n                        }\n                        rowCount++;\n                    }\n                }\n\n                stream.Write(docStream.ToArray(), 0, docStream.ToArray().Length);\n                document.SaveAs(\"C:\\\\labels\\\\labels1.docx\");\n\n            }\n        }\n    }\n    private Paragraph CreateBarcodeLabel(ItemValue par, WordprocessingDocument document)\n    {\n        Table table = new Table();\n        List&lt;TableRow&gt; rows = new List&lt;TableRow&gt;();\n        rows.Add(new TableRow());\n        TableGrid headerRow = new TableGrid(new GridColumn(), new GridColumn());\n        TableCell imageCell = new TableCell();\n        imageCell.AppendChild(new Paragraph(new Run(new Text(\"Image Goes here!\"))));\n\n        rows[0].Append(new TableCell(new Paragraph(new Run(new Text(par.Catalog.CatalogExternRef)))),imageCell);\n        rows.Add(new TableRow());\n        TableCell locatorCell = rows[1].AppendChild(new TableCell());\n        locatorCell.Append(new Paragraph(new Run(new Text(par.LocatorString))));\n\n        foreach (TableRow row in rows)\n        {\n            table.AppendChild(row);\n        }\n\n        return new Paragraph(new Run(table));\n    }\n</code></pre>\n\n<p>Edit:\nTo clarify, the document opens fine, the formatting is just hosed.  it is pushing all the data into one table cell.</p>\n"}, {"tags": ["c#", "split"], "comments": [{"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 3, "creation_date": 1539809753, "post_id": 52863440, "comment_id": 92641295, "body": "Can&#39;t you do just do a simple loop with a replace for <code>&amp;i&amp;</code> where <code>i</code> is the index of the loop?"}], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 7782179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3pQqo8SyAts/AAAAAAAAAAI/AAAAAAAAAFg/iceJc8eRThs/photo.jpg?sz=128", "display_name": "henoc salinas", "link": "https://stackoverflow.com/users/7782179/henoc-salinas"}, "is_accepted": false, "score": 1, "last_activity_date": 1539810606, "last_edit_date": 1539810606, "creation_date": 1539810380, "answer_id": 52863619, "question_id": 52863440, "link": "https://stackoverflow.com/questions/52863440/split-and-replace-string-with-character/52863619#52863619", "title": "Split and replace string with character", "body": "<p>try this:</p>\n\n<pre><code>        List&lt;string&gt; f = new List&lt;string&gt; ( ) { \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\" };\n        string text = \"&amp;2&amp;LL&amp;1&amp;likk&amp;3&amp;\";\n        for ( int i = 0; i &lt; f.Count; i++ )\n        {\n            text = text.Replace ( i.ToString ( ), f[ i ] );\n        }\n        text=text.Replace ( \"&amp;\", \"\" );\n        Console.WriteLine ( text ); \n</code></pre>\n\n<p>go through all the values in the list with a \"FOR\" and reasign the value of text with the value to replace</p>\n\n<p><strong>EDITED</strong></p>\n\n<pre><code>        List&lt;string&gt; f = new List&lt;string&gt; ( ) { \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\" };\n        string text = \"&amp;2&amp;LL&amp;1&amp;likk&amp;3&amp;\";\n        for ( int i = 0; i &lt; f.Count; i++ )\n        {\n            text = text.Replace ($\"&amp;{ i.ToString ( )}&amp;\", f[ i ] );\n        }\n        Console.WriteLine ( text ); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 10514921, "user_type": "registered", "profile_image": "https://graph.facebook.com/1340805419394427/picture?type=large", "display_name": "Alonso Mtz", "link": "https://stackoverflow.com/users/10514921/alonso-mtz"}, "is_accepted": false, "score": 0, "last_activity_date": 1539811003, "creation_date": 1539811003, "answer_id": 52863739, "question_id": 52863440, "link": "https://stackoverflow.com/questions/52863440/split-and-replace-string-with-character/52863739#52863739", "title": "Split and replace string with character", "body": "<p>Hi you can try something like this</p>\n\n<pre><code> string text = \"&amp;2&amp;LL&amp;1&amp;likk&amp;3&amp;\";\n        string[] xx = text.Split('&amp;');\n        string text2 = \"\";\n        string[] abc = { \"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\" };\n        for (int i = 0; i &lt; xx.Length; i++)\n        {\n            text2 += xx[i];\n        }\n        for (int i = 0; i &lt; abc.Length; i++)\n        {\n            text2 = text2.Replace(\"\"+i, abc[i]);\n        }\n        MessageBox.Show(text2);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 966, "user_id": 7782179, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3pQqo8SyAts/AAAAAAAAAAI/AAAAAAAAAFg/iceJc8eRThs/photo.jpg?sz=128", "display_name": "henoc salinas", "link": "https://stackoverflow.com/users/7782179/henoc-salinas"}, "edited": false, "score": 0, "creation_date": 1539811291, "post_id": 52863762, "comment_id": 92641927, "body": "please, check the edition of the answer, there replaced &amp; + # + &amp; by the value of the index in the list"}], "tags": [], "owner": {"reputation": 188, "user_id": 10145100, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DYULbwv9XxY/AAAAAAAAAAI/AAAAAAAAAX0/5fNLXKlSo1k/photo.jpg?sz=128", "display_name": "Philippe Haussmann", "link": "https://stackoverflow.com/users/10145100/philippe-haussmann"}, "is_accepted": false, "score": -1, "last_activity_date": 1539811771, "last_edit_date": 1539811771, "creation_date": 1539811129, "answer_id": 52863762, "question_id": 52863440, "link": "https://stackoverflow.com/questions/52863440/split-and-replace-string-with-character/52863762#52863762", "title": "Split and replace string with character", "body": "<p>You should use regular expressions to do this, because regex is fun!</p>\n\n<p>&amp;\\d&amp; will match all of the digits between &amp; symbols. Considering you're implying that letters and numbers should map together, we can adopt Henocs answer to to use regex for bonus points!</p>\n\n<pre><code>List&lt;string&gt; f = new List&lt;string&gt; ( ) { \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\" };\n    string text = \"&amp;2&amp;LL&amp;1&amp;likk&amp;3&amp;\";\n    for ( int i = 0; i &lt; f.Count; i++ )\n    {\n        text = text.RegexReplace ( text, \"&amp;\" + i + \"&amp;\", f[ i ] );\n    }\n    Console.WriteLine ( text );\n</code></pre>\n\n<p>By creating a regular expression of &amp;(target digit)&amp;, and replacing it with a letter from our string list, we will replace the entire block, rather than just the number.</p>\n"}, {"comments": [{"owner": {"reputation": 1673, "user_id": 7263607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j5V8V.png?s=128&g=1", "display_name": "Ercan Peker", "link": "https://stackoverflow.com/users/7263607/ercan-peker"}, "edited": false, "score": 0, "creation_date": 1539847961, "post_id": 52864019, "comment_id": 92651636, "body": "that&#39;s great answer, but does it work for numbers greater than 9?"}], "tags": [], "owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "is_accepted": false, "score": 1, "last_activity_date": 1539812393, "creation_date": 1539812393, "answer_id": 52864019, "question_id": 52863440, "link": "https://stackoverflow.com/questions/52863440/split-and-replace-string-with-character/52864019#52864019", "title": "Split and replace string with character", "body": "<p>Regular expression alternative (17 is the difference from <code>'A' - '0'</code>) :</p>\n\n<pre><code>var result = Regex.Replace(\"&amp;2&amp;LL&amp;1&amp;likk&amp;3&amp;\", \"&amp;[0-9]&amp;\", m =&gt; (char)(m.Value[1] + 17) + \"\");\n</code></pre>\n"}], "owner": {"reputation": 14120, "user_id": 844872, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/15cf8e9490ec58e8449f3f05d1c87667?s=128&d=identicon&r=PG", "display_name": "Illep", "link": "https://stackoverflow.com/users/844872/illep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 575, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1539812796, "creation_date": 1539809545, "question_id": 52863440, "link": "https://stackoverflow.com/questions/52863440/split-and-replace-string-with-character", "title": "Split and replace string with character", "body": "<p>I need to extract the values which are between the special characters <code>&amp;</code>.</p>\n\n<pre><code>string text = \"&amp;2&amp;LL&amp;1&amp;likk&amp;3&amp;\";\n</code></pre>\n\n<p>I need to extract the value <code>2, 1, 3</code> and insert the corresponding index of the <code>List&lt;string&gt;</code>.</p>\n\n<p>The list contains 10 elements:</p>\n\n<pre><code>0 - A\n1 - B\n2 - C\n3 - D\n...\n9 - J\n</code></pre>\n\n<p>Finally when I substitute the list element to the string, it should be printed as <strong>C</strong>LL<strong>B</strong>likk<strong>D</strong>. How can I do this ?</p>\n\n<p>I tried splitting as follow:But, It only splits using the &amp; sign.</p>\n\n<pre><code>string[] xx = text.Split('&amp;');\n</code></pre>\n"}, {"tags": ["c#", "inheritance", "enums", "interface"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1539809391, "post_id": 52863375, "comment_id": 92641136, "body": "Why wouldnt your enums just be in their own files and not defined inside a class?  Or am I misunderstanding"}], "answers": [{"tags": [], "owner": {"reputation": 6455, "user_id": 2363967, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e456a6a8bd35a0e65c22d202b48ccfa4?s=128&d=identicon&r=PG", "display_name": "Andrew Williamson", "link": "https://stackoverflow.com/users/2363967/andrew-williamson"}, "is_accepted": true, "score": 4, "last_activity_date": 1539809586, "creation_date": 1539809586, "answer_id": 52863453, "question_id": 52863375, "link": "https://stackoverflow.com/questions/52863375/how-to-implement-interface-with-enum-specific-to-derived-class-in-c/52863453#52863453", "title": "How to Implement Interface with Enum Specific to Derived Class in C#?", "body": "<p>Try using generics:</p>\n\n<pre><code>interface MyInterface&lt;TPin&gt;\n{\n    MyObject Set(Register register, TPin pin);\n}\n</code></pre>\n\n<p>When you implement it in each derived class, you have to tell it what the type of the pin enum is:</p>\n\n<pre><code>class MyImplementation : MyInterface&lt;MyPin&gt;\n{\n    MyObject Set(Register register, MyPin pin)\n    {\n        // ...\n    }\n}\n</code></pre>\n\n<p>This means that you can't have a list of <code>MyInterface</code> objects, but you can have a list of <code>MyInterface&lt;SomePin&gt;</code> objects. And that makes sense - if the enum is different for each implementation, then given a <code>MyInterface</code>, how would you know what values to pass it?</p>\n"}], "owner": {"reputation": 12418, "user_id": 214296, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/268966bdb84008bef79268f0a45b533e?s=128&d=identicon&r=PG", "display_name": "Jim Fell", "link": "https://stackoverflow.com/users/214296/jim-fell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 52863453, "answer_count": 1, "score": 1, "last_activity_date": 1539809586, "creation_date": 1539809242, "question_id": 52863375, "link": "https://stackoverflow.com/questions/52863375/how-to-implement-interface-with-enum-specific-to-derived-class-in-c", "title": "How to Implement Interface with Enum Specific to Derived Class in C#?", "body": "<p>I'm trying to write an interface such as...</p>\n\n<pre><code>interface MyInterface\n{\n    MyObject Set(REGISTER register, PIN pin);\n}\n</code></pre>\n\n<p>Both <code>REGISTER</code> and <code>PIN</code> are enums.  The problem I'm running into is that <code>REGISTER</code> is defined in my <code>MyBaseClass</code> and <code>PIN</code> is defined in <code>MyDerivedClass</code>.  I can live with using something like <code>MyBaseClass.REGISTER</code> in the interface, but that won't work for <code>PIN</code>.  Every derivation of <code>MyBaseClass</code> will have a different enumeration for <code>PIN</code>.  I found <a href=\"https://stackoverflow.com/a/3216355/214296\">this other answer on SO</a>, which seems to partially solve the problem, but it's not clear how I should then implement the function in <code>MyDerivedClass</code>.  Does anyone have a solution for this?</p>\n"}, {"tags": ["c#", "vb.net", "rdlc", "reportviewer"], "comments": [{"owner": {"reputation": 53, "user_id": 1867168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f037434f666a08fe3b9233b04a3ad4f3?s=128&d=identicon&r=PG", "display_name": "LEON", "link": "https://stackoverflow.com/users/1867168/leon"}, "edited": false, "score": 0, "creation_date": 1539848113, "post_id": 52863371, "comment_id": 92651729, "body": "I have updated my question with a semi working solution"}, {"owner": {"reputation": 121, "user_id": 9806597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2cc.png?s=128&g=1", "display_name": "viking_grll", "link": "https://stackoverflow.com/users/9806597/viking-grll"}, "edited": false, "score": 0, "creation_date": 1539853733, "post_id": 52863371, "comment_id": 92654805, "body": "What do you mean page setup get &quot;messed up&quot;?"}, {"owner": {"reputation": 53, "user_id": 1867168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f037434f666a08fe3b9233b04a3ad4f3?s=128&d=identicon&r=PG", "display_name": "LEON", "link": "https://stackoverflow.com/users/1867168/leon"}, "reply_to_user": {"reputation": 121, "user_id": 9806597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2cc.png?s=128&g=1", "display_name": "viking_grll", "link": "https://stackoverflow.com/users/9806597/viking-grll"}, "edited": false, "score": 0, "creation_date": 1539856866, "post_id": 52863371, "comment_id": 92656592, "body": "I have updated my question, please see Update 2"}, {"owner": {"reputation": 121, "user_id": 9806597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2cc.png?s=128&g=1", "display_name": "viking_grll", "link": "https://stackoverflow.com/users/9806597/viking-grll"}, "edited": false, "score": 0, "creation_date": 1539862767, "post_id": 52863371, "comment_id": 92659747, "body": "you need to set the margins based on the page settings which you can get from LocalReport.GetDefaultPageSettings(). Check the &quot;export()&quot; method in my example."}, {"owner": {"reputation": 53, "user_id": 1867168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f037434f666a08fe3b9233b04a3ad4f3?s=128&d=identicon&r=PG", "display_name": "LEON", "link": "https://stackoverflow.com/users/1867168/leon"}, "reply_to_user": {"reputation": 121, "user_id": 9806597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2cc.png?s=128&g=1", "display_name": "viking_grll", "link": "https://stackoverflow.com/users/9806597/viking-grll"}, "edited": false, "score": 0, "creation_date": 1539874663, "post_id": 52863371, "comment_id": 92667278, "body": "I understand what you trying to do, but I want know how can I pass my own variable like this..  Dim hight As Double = 585 Dim width As Double = 827 Dim autoprintme As AutoPrintCls = New AutoPrintCls(ReportViewer1.LocalReport, hight. width)"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 1867168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f037434f666a08fe3b9233b04a3ad4f3?s=128&d=identicon&r=PG", "display_name": "LEON", "link": "https://stackoverflow.com/users/1867168/leon"}, "edited": false, "score": 0, "creation_date": 1539846016, "post_id": 52868198, "comment_id": 92650652, "body": "after clicking the print button nothing happened, no print queue. no error either. PrinterSettings picked up my default printer (Adove PDF)"}, {"owner": {"reputation": 121, "user_id": 9806597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2cc.png?s=128&g=1", "display_name": "viking_grll", "link": "https://stackoverflow.com/users/9806597/viking-grll"}, "reply_to_user": {"reputation": 53, "user_id": 1867168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f037434f666a08fe3b9233b04a3ad4f3?s=128&d=identicon&r=PG", "display_name": "LEON", "link": "https://stackoverflow.com/users/1867168/leon"}, "edited": false, "score": 0, "creation_date": 1539848527, "post_id": 52868198, "comment_id": 92651951, "body": "is your report loaded in the reportviewer already when you click the print button?"}], "tags": [], "owner": {"reputation": 121, "user_id": 9806597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2cc.png?s=128&g=1", "display_name": "viking_grll", "link": "https://stackoverflow.com/users/9806597/viking-grll"}, "is_accepted": false, "score": 0, "last_activity_date": 1539844798, "last_edit_date": 1539844798, "creation_date": 1539844354, "answer_id": 52868198, "question_id": 52863371, "link": "https://stackoverflow.com/questions/52863371/rdlc-print-without-dialogue-after-rendered-reportviewer/52868198#52868198", "title": "RDLC:- Print without dialogue after rendered reportviewer", "body": "<p>Add this class to your project:</p>\n\n<pre><code>Imports System.Drawing.Imaging\nImports System.Drawing.Printing\nImports System.Globalization\nImports System.IO\nImports System.Text\nImports Microsoft.Reporting.WinForms\n\nPublic Class ReportPrinter\n    Public Sub Print(report As LocalReport)\n        ' print\n        export(report)\n        printReport(report)\n    End Sub\n\n    Private _currentPageIndex As Integer\n    Private _streams As IList(Of Stream)\n\n    Private Function createStream(ByVal name As String, ByVal fileNameExtension As String, ByVal encoding As Encoding, ByVal mimeType As String, ByVal willSeek As Boolean) As Stream\n        Dim stream As Stream = New MemoryStream()\n        _streams.Add(stream)\n        Return stream\n    End Function\n\n    Private Sub export(ByVal report As LocalReport)\n        Dim settings As ReportPageSettings = report.GetDefaultPageSettings()\n        Dim pageInfo As String\n        If Not settings.IsLandscape Then\n            pageInfo = _\n                String.Format(\"&lt;PageWidth&gt;{0}&lt;/PageWidth&gt;\" &amp; _\n                              \"&lt;PageHeight&gt;{1}&lt;/PageHeight&gt;\", _\n                              toInches(settings.PaperSize.Width), _\n                              toInches(settings.PaperSize.Height))\n        Else\n            pageInfo = _\n                String.Format(\"&lt;PageHeight&gt;{0}&lt;/PageHeight&gt;\" &amp; _\n                              \"&lt;PageWidth&gt;{1}&lt;/PageWidth&gt;\", _\n                              toInches(settings.PaperSize.Width), _\n                              toInches(settings.PaperSize.Height))\n        End If\n        Dim deviceInfo As String = _\n            String.Format(\"&lt;DeviceInfo&gt;\" &amp; _\n                            \"&lt;OutputFormat&gt;EMF&lt;/OutputFormat&gt;\" &amp; _\n                            \"{0}\" &amp; _\n                            \"&lt;MarginTop&gt;{1}&lt;/MarginTop&gt;\" &amp; _\n                            \"&lt;MarginLeft&gt;{2}&lt;/MarginLeft&gt;\" &amp; _\n                            \"&lt;MarginRight&gt;{3}&lt;/MarginRight&gt;\" &amp; _\n                            \"&lt;MarginBottom&gt;{4}&lt;/MarginBottom&gt;\" &amp; _\n                            \"&lt;/DeviceInfo&gt;\", _\n                            pageInfo, _\n                            toInches(settings.Margins.Top), _\n                            toInches(settings.Margins.Left), _\n                            toInches(settings.Margins.Right), _\n                            toInches(settings.Margins.Bottom))\n        Dim warnings As Warning() = Nothing\n        _streams = New List(Of Stream)()\n        report.Render(\"Image\", deviceInfo, AddressOf createStream, warnings)\n        For Each stream As Stream In _streams\n            stream.Position = 0\n        Next\n    End Sub\n\n    Private Function toInches(hundrethsOfInch As Integer) As String\n        Dim inches As Double = hundrethsOfInch / 100.0\n        Return inches.ToString(CultureInfo.InvariantCulture) + \"in\"\n    End Function\n\n    Private Sub printPage(ByVal sender As Object, ByVal ev As PrintPageEventArgs)\n        Dim pageImage As Metafile = New Metafile(_streams(_currentPageIndex))\n\n        ' Adjust rectangular area with printer margins.\n        Dim adjustedRect As System.Drawing.Rectangle = _\n            New System.Drawing.Rectangle(ev.PageBounds.Left - CInt(ev.PageSettings.HardMarginX), _\n                                         ev.PageBounds.Top - CInt(ev.PageSettings.HardMarginY), _\n                                         ev.PageBounds.Width, _\n                                         ev.PageBounds.Height)\n\n        ' Draw a white background for the report\n        ev.Graphics.FillRectangle(System.Drawing.Brushes.White, adjustedRect)\n\n        ' Draw the report content\n        ev.Graphics.DrawImage(pageImage, adjustedRect)\n\n        ' Prepare for the next page. Make sure we haven't hit the end.\n        _currentPageIndex += 1\n        ev.HasMorePages = (_currentPageIndex &lt; _streams.Count)\n    End Sub\n\n    Private Sub printReport(report As LocalReport)\n        If _streams Is Nothing OrElse _streams.Count = 0 Then\n            Throw New Exception(\"No stream to print.\")\n        End If\n\n        Dim printDoc As New PrintDocument()\n        printDoc.DocumentName = report.DisplayName\n        printDoc.DefaultPageSettings.Landscape = report.GetDefaultPageSettings().IsLandscape\n        printDoc.PrintController = New StandardPrintController()\n        If Not printDoc.PrinterSettings.IsValid Then\n            Throw New Exception(\"Cannot find the default printer.\")\n        Else\n            AddHandler printDoc.PrintPage, AddressOf printPage\n            _currentPageIndex = 0\n            printDoc.Print()\n        End If\n    End Sub\nEnd Class\n</code></pre>\n\n<p>Then use it like this:</p>\n\n<pre><code>Dim printer As ReportPrinter = New ReportPrinter()\nprinter.Print(reportViewer1.LocalReport)\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 1867168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f037434f666a08fe3b9233b04a3ad4f3?s=128&d=identicon&r=PG", "display_name": "LEON", "link": "https://stackoverflow.com/users/1867168/leon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539857164, "creation_date": 1539809228, "last_edit_date": 1539857164, "question_id": 52863371, "link": "https://stackoverflow.com/questions/52863371/rdlc-print-without-dialogue-after-rendered-reportviewer", "title": "RDLC:- Print without dialogue after rendered reportviewer", "body": "<p>I am creating a simple invoice management system for my friend. the users can create invoices and print when required. I am currently stuck at printing the invoice part. it's a B2B business model and needs to print 100s of invoices at once.  I created the report using MS RDLC. linked it to a report viewer. below is the UI of my application</p>\n\n<p><a href=\"https://i.stack.imgur.com/FcnLz.jpg\" rel=\"nofollow noreferrer\">Application UI</a></p>\n\n<p><strong>What I am trying to do</strong>\nI want to automate the inbuild print function of the report viewer (red arrow) but without the choose printer dialogue box upon pressing the Print Button (Yellow Arrow). </p>\n\n<p>There are lots of code sample everywhere. I already read the walkthrough from MS, but can't understand it fully.</p>\n\n<p><strong>What I have tried</strong> \nTried to Print the reportviewer using PrintDocument() but rendered a blank page. Can't understand how to assign the reportviewer to PrintDocument object.</p>\n\n<pre><code>    Dim printDoc As New PrintDocument()\n    Dim ps As New PrinterSettings()\n    printDoc.PrinterSettings.PrinterName = ps.PrinterName 'Default Printer Name\n    printDoc.Print() 'How to assign the Reportviewer1 to printdoc?\n</code></pre>\n\n<p><strong>============UPDATE============</strong></p>\n\n<p>I have tried the below class found when searching web. </p>\n\n<p><a href=\"https://hastebin.com/oconidaxul.http\" rel=\"nofollow noreferrer\">Custom Class</a></p>\n\n<p>then I call it like this.</p>\n\n<pre><code> Dim autoprintme As AutoPrintCls = New AutoPrintCls(ReportViewer1.LocalReport)\n autoprintme.Print()\n</code></pre>\n\n<p>its working and printing through my default printer, but page setup get messed up. can anyone please point me to the write direction?</p>\n\n<p><strong>My Page Setup</strong> </p>\n\n<pre><code>Hight:14.8cm  Width:21cm \n</code></pre>\n\n<p><strong>============UPDATE 2============</strong></p>\n\n<p>I have already figure this out, due to wrong margin value page setup got messed up.</p>\n\n<p>I have change this in the class</p>\n\n<pre><code>\"&lt;DeviceInfo&gt;&lt;OutputFormat&gt;emf&lt;/OutputFormat&gt;\n&lt;StartPage&gt;0&lt;/StartPage&gt;\n&lt;EndPage&gt;0&lt;/EndPage&gt;\n&lt;MarginTop&gt;{0}&lt;/MarginTop&gt;\n&lt;MarginLeft&gt;{1}&lt;/MarginLeft&gt;\n&lt;MarginRight&gt;{2}&lt;/MarginRight&gt;\n&lt;MarginBottom&gt;{3}&lt;/MarginBottom&gt;\n&lt;PageHeight&gt;{4}&lt;/PageHeight&gt;\n&lt;PageWidth&gt;{5}&lt;/PageWidth&gt;\n&lt;/DeviceInfo&gt;\", \"0in\",\"0in\",\"0in\",\"0in\", ToInches(585),\nToInches(827)) \n</code></pre>\n\n<p>but all is hard coded, how to pass Height, Width and Margin value from button click event to the class?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-web-api-routing", "razor-pages"], "comments": [{"owner": {"reputation": 1024, "user_id": 4147046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96858a35a91c0aa453d87f0d0c9e7c4?s=128&d=identicon&r=PG", "display_name": "svoychik", "link": "https://stackoverflow.com/users/4147046/svoychik"}, "edited": false, "score": 0, "creation_date": 1539810982, "post_id": 52863354, "comment_id": 92641830, "body": "Could you show your RouteConfig? you have to register Attribute routing on your startup as well:  routes.MapMvcAttributeRoutes();"}, {"owner": {"reputation": 1024, "user_id": 4147046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96858a35a91c0aa453d87f0d0c9e7c4?s=128&d=identicon&r=PG", "display_name": "svoychik", "link": "https://stackoverflow.com/users/4147046/svoychik"}, "edited": false, "score": 0, "creation_date": 1539811079, "post_id": 52863354, "comment_id": 92641863, "body": "Here is a good example of implementation attribute-based routing in mvc <a href=\"https://blogs.msdn.microsoft.com/webdev/2013/10/17/attribute-routing-in-asp-net-mvc-5/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/webdev/2013/10/17/&hellip;</a>"}, {"owner": {"reputation": 2818, "user_id": 1002613, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/778c5e0966ae7c9d0fbb9dd3dff03472?s=128&d=identicon&r=PG", "display_name": "Mr.B", "link": "https://stackoverflow.com/users/1002613/mr-b"}, "reply_to_user": {"reputation": 1024, "user_id": 4147046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b96858a35a91c0aa453d87f0d0c9e7c4?s=128&d=identicon&r=PG", "display_name": "svoychik", "link": "https://stackoverflow.com/users/4147046/svoychik"}, "edited": false, "score": 0, "creation_date": 1539811275, "post_id": 52863354, "comment_id": 92641922, "body": "It is not MVC - it is Razor Pages. Maybe it is possible to use Controllers in Razor Page architecture, but is wrong approach. I&#39;m sure there is an option to implement the same in Razor Pages."}], "answers": [{"comments": [{"owner": {"reputation": 2818, "user_id": 1002613, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/778c5e0966ae7c9d0fbb9dd3dff03472?s=128&d=identicon&r=PG", "display_name": "Mr.B", "link": "https://stackoverflow.com/users/1002613/mr-b"}, "edited": false, "score": 0, "creation_date": 1539910596, "post_id": 52869024, "comment_id": 92682118, "body": "Thank you very much for your help! That was not an exact solution, but you gave me the right direction, and I have almost done that. I will publish it after it will fully work and satisfy all needs."}], "tags": [], "owner": {"reputation": 22204, "user_id": 134725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9010d5f80331e9a23a86c93917b5ba?s=128&d=identicon&r=PG", "display_name": "Mike Brind", "link": "https://stackoverflow.com/users/134725/mike-brind"}, "is_accepted": true, "score": 3, "last_activity_date": 1539851791, "last_edit_date": 1539851791, "creation_date": 1539847708, "answer_id": 52869024, "question_id": 52863354, "link": "https://stackoverflow.com/questions/52863354/razor-page-routing-in-the-same-way-as-in-web-api/52869024#52869024", "title": "Razor Page Routing in the same way as in Web API", "body": "<p>Razor Pages uses attribute routing by default. Routes are generated from the file paths of individual pages. You can specify parameters for routes, but you do this for a specific page by adding a route template to the <code>@page</code> directive.</p>\n\n<p>The first page that you show can either be a page named <em>Lists.cshtml</em> or a page named <em>Index.cshtml</em> in a <em>Lists</em> folder. Either way, it will be available at <code>domain.com/lists</code> using the default routing. The second page can be a page named <em>Details.cshtml</em> with an override route template of <code>\"/Lists/{listid}/Records\"</code>:</p>\n\n<p><code>@page \"/Lists/{listid}/Records\"</code></p>\n\n<p>Or you can use the <code>AddPageRoute</code> method in Startup to add another route by which the Index page can be reached:</p>\n\n<pre><code>services.AddMvc().AddRazorPagesOptions(options =&gt;\n{\n    options.Conventions.AddPageRoute(\"/Lists/Index\", \"Lists/{listid}/Records\");\n});\n</code></pre>\n\n<p>Although that would require code in Index to determine whether it should be showing all lists or details of a selected list.</p>\n\n<p>Personally, I recommend the first approach. In Razor Pages, you should aim to keep each page down to one responsibility. </p>\n\n<p>See more about Razor Pages routing here: <a href=\"https://www.learnrazorpages.com/razor-pages/routing\" rel=\"nofollow noreferrer\">https://www.learnrazorpages.com/razor-pages/routing</a></p>\n"}, {"tags": [], "owner": {"reputation": 2818, "user_id": 1002613, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/778c5e0966ae7c9d0fbb9dd3dff03472?s=128&d=identicon&r=PG", "display_name": "Mr.B", "link": "https://stackoverflow.com/users/1002613/mr-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1539985768, "creation_date": 1539985768, "answer_id": 52900330, "question_id": 52863354, "link": "https://stackoverflow.com/questions/52863354/razor-page-routing-in-the-same-way-as-in-web-api/52900330#52900330", "title": "Razor Page Routing in the same way as in Web API", "body": "<p>The final solution based on answer of <a href=\"https://stackoverflow.com/users/134725/mike-brind\">Mike Brind</a> looks like this:</p>\n\n<ol>\n<li><p>I moved Records folder into Lists:\n<a href=\"https://i.stack.imgur.com/7RPSO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RPSO.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>The Link that navigates to Records from the Parent Link is defined in that way:</p>\n\n<p>Details</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/SWKRq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SWKRq.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li><p>URL for page Lists/Records/Index was redefined to:</p>\n\n<p>@page \"/Lists/{id}/Records\"</p></li>\n<li><p>Signature for method <code>OnGetAsync</code> was changed: int? id is now nullable.</p>\n\n<p>public async Task OnGetAsync(int? id)\n    {\n       ...\n    }</p></li>\n</ol>\n\n<p>Now URL looks like exactly like I need:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eThNU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eThNU.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope it will help to somebody.</p>\n"}], "owner": {"reputation": 2818, "user_id": 1002613, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/778c5e0966ae7c9d0fbb9dd3dff03472?s=128&d=identicon&r=PG", "display_name": "Mr.B", "link": "https://stackoverflow.com/users/1002613/mr-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1581, "favorite_count": 0, "accepted_answer_id": 52869024, "answer_count": 2, "score": 3, "last_activity_date": 1539985768, "creation_date": 1539809194, "question_id": 52863354, "link": "https://stackoverflow.com/questions/52863354/razor-page-routing-in-the-same-way-as-in-web-api", "title": "Razor Page Routing in the same way as in Web API", "body": "<p>I create a web application with Razor Pages.\nI have 2 Models with one to many relationship: one <code>List</code> can hold many <code>Records</code>.</p>\n\n<pre><code>  public class List\n{\n    public int ID { get; set; }\n\n    [StringLength(25, MinimumLength = 3, ErrorMessage = \"Title should be in range between 3 and 25\")]\n    [Display(Name = \"Title\")]\n\n    public string Caption { get; set; }\n\n    public string UserId { get; set; }\n    public User User { get; set; }\n\n    public ICollection&lt;Record&gt; Records { get; set; }\n}\n\n public class Record\n{\n    public int ID { get; set; }\n    [StringLength(25, MinimumLength = 3, ErrorMessage = \"Word should be in range between 3 and 25\")]\n    [Display(Name = \"Title\")]\n\n    public string Word { get; set; }\n    [StringLength(30, MinimumLength = 3, ErrorMessage = \"Translation should be in range between 3 and 30\")]\n    public string Translation { get; set; }\n\n    public int ListId { get; set; }\n    public List List { get; set; }\n}\n</code></pre>\n\n<p>I need to provide navigation from <code>List</code> item to List of <code>Record</code> in the similar way as it is possible in Web API or in MVC. In Microsoft documentation I found the page about <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/web-api-routing-and-actions/attribute-routing-in-web-api-2\" rel=\"nofollow noreferrer\">attributes in Web Api</a>, that behaviour that I need:</p>\n\n<pre><code>[Route(\"customers/{customerId}/orders\")]\npublic IEnumerable&lt;Order&gt; GetOrdersByCustomer(int customerId) { ... }\n</code></pre>\n\n<p>I need something like this:</p>\n\n<pre><code>  [Microsoft.AspNetCore.Mvc.Route(\"Lists/{listId}/Records\")]\n    public async Task GetRecordsByList(int listId)\n    {\n\n        var allRecords = await _context.Record.ToListAsync();\n\n        Record = allRecords.Where(w =&gt; w.ListId == listId).ToList() ;\n\n    }\n</code></pre>\n\n<p>I am sure that is possible to provide navigation from parent model <code>List</code> to a child items List of <code>Record</code>.</p>\n\n<p>UI will be like this:\nFrom Lists \n<a href=\"https://i.stack.imgur.com/CgZTV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CgZTV.png\" alt=\"enter image description here\"></a></p>\n\n<p>Navigate to Records:\n<a href=\"https://i.stack.imgur.com/q5Zub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q5Zub.png\" alt=\"enter image description here\"></a></p>\n\n<p>Desired URL should be like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1cNba.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1cNba.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am sure somebody faced the same issue and fixed that!\nI will be very grateful for any help or advise.</p>\n"}, {"tags": ["c#", "activemq"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539809436, "post_id": 52863201, "comment_id": 92641156, "body": "Are you asking how to keep the console application running so that it will maintain a reference to the Listener object?"}, {"owner": {"reputation": 1, "user_id": 3623943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd7e8198f7e8ca1ba6dbd786750da7d?s=128&d=identicon&r=PG&f=1", "display_name": "user3623943", "link": "https://stackoverflow.com/users/3623943/user3623943"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539812194, "post_id": 52863201, "comment_id": 92642218, "body": "Thanks for your reply Robert. No, I am asking how can I permanently keep the listener active waiting for messages to come in, retrieve and then then process them until I decide to stop the application which should happen in a way that would close and dispose of the session and connection objects."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539812519, "post_id": 52863201, "comment_id": 92642329, "body": "Hold a reference variable that points to your listener object.  Call <code>Dispose()</code> on it when you&#39;re done using it.  The <code>using</code> statement in C# is just shorthand for a <code>try</code>/<code>catch</code> block with a <code>Dispose()</code> call in the <code>finally</code> block: see <a href=\"https://stackoverflow.com/a/212210\">stackoverflow.com/a/212210</a>"}, {"owner": {"reputation": 1, "user_id": 3623943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd7e8198f7e8ca1ba6dbd786750da7d?s=128&d=identicon&r=PG&f=1", "display_name": "user3623943", "link": "https://stackoverflow.com/users/3623943/user3623943"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539891163, "post_id": 52863201, "comment_id": 92676111, "body": "Unfortunately that is only going to retrieve one message and then end the application. Even if I add a while loop with that goes through all the messages in the queue, it will eventually consume all the messages and the application will end. I want to keep the listener alive waiting for new messages to arrive at anytime in the future.At the same time, I want the ability to release all resources before the process is shutdown for some reason. I have added the full code to my original question."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1539897327, "post_id": 52863201, "comment_id": 92678834, "body": "That&#39;s a lot of code.  Are you sure this is the <i>smallest</i> possible code sample that reproduces the problem?"}, {"owner": {"reputation": 1, "user_id": 3623943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd7e8198f7e8ca1ba6dbd786750da7d?s=128&d=identicon&r=PG&f=1", "display_name": "user3623943", "link": "https://stackoverflow.com/users/3623943/user3623943"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539912027, "post_id": 52863201, "comment_id": 92682400, "body": "I have edited the code to only keep the minimum to illustrate the problem. I kept some code commented under the main method to show the while(true) loop I had to resort to in order to keep the listener alive. Thanks a lot of your help and patience."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539913250, "post_id": 52863201, "comment_id": 92682635, "body": "Does the listener delegate really expire when you receive a message, or is that just because you wrapped it in a <code>using</code> statement?  Did you actually try my suggestion, or did you just conclude without trying it that it wasn&#39;t going to work?"}, {"owner": {"reputation": 1, "user_id": 3623943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd7e8198f7e8ca1ba6dbd786750da7d?s=128&d=identicon&r=PG&f=1", "display_name": "user3623943", "link": "https://stackoverflow.com/users/3623943/user3623943"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539918263, "post_id": 52863201, "comment_id": 92683638, "body": "There were initially 62 records in the queue waiting to be retrieved. After I made changes per your your suggestion, I ran it and it retrieved one record and it shutdown. I ran it a second time and it retrieved a second record and shutdown again."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1539918403, "post_id": 52863201, "comment_id": 92683674, "body": "The <code>using</code> statement will cause your Program object to be disposed as soon as control flow leaves the <code>using</code> block.  It&#39;s a miracle that it&#39;s doing anything useful at all."}], "answers": [{"tags": [], "owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1539920021, "last_edit_date": 1539920021, "creation_date": 1539919520, "answer_id": 52885472, "question_id": 52863201, "link": "https://stackoverflow.com/questions/52863201/what-is-the-proper-way-to-keep-an-activemq-listener-alive-in-a-c-console-applic/52885472#52885472", "title": "What is the proper way to keep an ActiveMQ listener alive in a C# console application &amp; gracefully dispose of resources prior shutdown?", "body": "<p>So basically your problem is that you're allowing your program to exit.  When that happens, any memory that is allocated during the time your program ran is reclaimed by the operating system, including your Program object and your consumer listener delegate.</p>\n\n<p>Your friend at the previous question you asked pointed out that, if you store the ActiveMQ listener as a member variable and keep it in scope, you ought to be able to receive as many messages as you want, for as long as you want, without adding a new listener each time a message is received.</p>\n\n<p>So now all that's left to do is <em>keep your program from exiting.</em>  There are a number of ways to do that:  </p>\n\n<ol>\n<li><p>You can change your program to a Winforms application, as described in other Stack Overflow posts.  This will cause a Message Loop to be created.  </p></li>\n<li><p>You can read a character from the console.  This is a blocking call; the program will wait until the user presses a key.  In the meantime, your ActiveMQ should still be able to receive events.</p></li>\n<li><p>You can use <code>while (iStillWantToReceiveMessages) { }</code></p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 2147335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27e02e7571e82f4a3d985edb9cccdd24?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/2147335/undefined"}, "is_accepted": false, "score": 0, "last_activity_date": 1546797090, "creation_date": 1546797090, "answer_id": 54064304, "question_id": 52863201, "link": "https://stackoverflow.com/questions/52863201/what-is-the-proper-way-to-keep-an-activemq-listener-alive-in-a-c-console-applic/54064304#54064304", "title": "What is the proper way to keep an ActiveMQ listener alive in a C# console application &amp; gracefully dispose of resources prior shutdown?", "body": "<p>This is not an answer to the question. But I am writing this so that others who have faced issues similar to mine can refer the answer when the face an issue.</p>\n\n<p>But I was facing an issue where the connection to ActiveMQ (using C#) was active, no exceptions, no errors but still the client was not receiving any messages published by the server. </p>\n\n<p>After studying a while in Apache Site, I could figure out that this was happening because of timeout. I got it fixed by using the below line of code :-</p>\n\n<pre><code>brokerUri += \"?transport.useInactivityMonitor=false&amp;amp;transport.useKeepAlive=true\";\n</code></pre>\n\n<p>where brokerUri is my activeMq uri.</p>\n"}], "owner": {"reputation": 1, "user_id": 3623943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd7e8198f7e8ca1ba6dbd786750da7d?s=128&d=identicon&r=PG&f=1", "display_name": "user3623943", "link": "https://stackoverflow.com/users/3623943/user3623943"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1264, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1546797090, "creation_date": 1539808531, "last_edit_date": 1539911867, "question_id": 52863201, "link": "https://stackoverflow.com/questions/52863201/what-is-the-proper-way-to-keep-an-activemq-listener-alive-in-a-c-console-applic", "title": "What is the proper way to keep an ActiveMQ listener alive in a C# console application &amp; gracefully dispose of resources prior shutdown?", "body": "<p>I found most of what I was looking for here <a href=\"https://stackoverflow.com/questions/34394435/activemq-do-i-need-to-re-subscribe-to-a-queue-after-the-listener-event-fires\">ActiveMQ - Do I need to re-subscribe to a queue after the Listener event fires?</a>, but I am unable to figure out how to keep the listener running other than using a while(true) loop, which I think there must be a better way to keep the listener active while at the same time having the ability to graciously dispose of all process if I need to stop the application. User Tim Bish affirmatively answers reckface's statement \"Does this mean the Listener event will fire for each message without a while loop?\", but for the life of me I can't figure out how to implement it without a while(true) loop.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Threading;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Apache.NMS;\nusing Apache.NMS.Util;\nusing Apache.NMS.ActiveMQ;\nusing Apache.NMS.ActiveMQ.Commands;\nusing System.Runtime.Serialization.Json;\nusing System.IO;\nusing System.Configuration;\nusing System.Data;\nusing System.Data.SqlClient;\nusing System.Web;\n\n\n\nnamespace ActiveMQConnectionTest\n{\n    class Program : IDisposable\n    {\n        private static IConnection connection;\n        private static ISession session;\n        private static SqlConnection sqlConn;\n        private static ActiveMQMessage msg;\n        private static MessageConsumer consumer;\n        private static DateTime timeStamp;\n        private static AutoResetEvent semaphore = new AutoResetEvent(false);\n        private static TimeSpan receiveTimeout = TimeSpan.FromSeconds(10);\n        static string un = ConfigurationManager.AppSettings[\"AMQUserName\"];\n        static string pwd = ConfigurationManager.AppSettings[\"AMQPassword\"];\n        static string url = ConfigurationManager.AppSettings[\"url\"];\n        static string queue = ConfigurationManager.AppSettings[\"queue\"];\n        private static string oldMsgId;\n\n\n\n        Program() \n        {\n            AppDomain.CurrentDomain.ProcessExit += CurrentDomain_ProcessExit;\n        sqlConn = new SqlConnection(ConfigurationManager.AppSettings[\"SQLConn\"].ToString());\n        System.Uri uri = new Uri(url);\n        IConnectionFactory factory = new ConnectionFactory(uri);\n\n\n\n        try\n        {\n            connection = factory.CreateConnection(un, pwd);\n            connection.AcknowledgementMode = AcknowledgementMode.ClientAcknowledge;\n            session = connection.CreateSession(AcknowledgementMode.ClientAcknowledge);\n            ActiveMQDestination dest = session.GetDestination(queue) as ActiveMQDestination;\n            consumer = session.CreateConsumer(dest) as MessageConsumer;\n        }\n        catch (NMSConnectionException ex)\n        {\n            Console.Write(ex.Message);\n            connection.Dispose();\n        }\n\n        try\n        {\n\n            connection.Start();\n            Console.WriteLine(\"Connection Started...\");\n            Console.WriteLine(\"Session Created....\");\n\n        }\n        catch (ConnectionFailedException ex)\n        {\n            connection.Close();\n            Console.Write(ex.Message);\n        }\n\n    }\n\n    ~Program()\n    {\n        Dispose(false);\n    }\n\n    protected void Dispose(Boolean itIsSafeToAlsoFreeManagedObjects)\n    {\n\n        if (itIsSafeToAlsoFreeManagedObjects)\n        {\n            if (connection != null)\n            {\n                connection.Dispose();\n            }\n            if (session != null)\n            {\n                session.Dispose();\n            }\n            if (consumer != null)\n            {\n                consumer.Dispose();\n            }\n        }\n    }\n\n    public void Dispose()\n    {\n        Dispose(true); \n    }       \n\n    static void ShutDown()\n    {\n\n        session.Close();\n        if (connection.IsStarted)\n        {\n            connection.Stop();\n            connection.Close();\n            connection.Dispose();\n        }\n    }\n\n    protected static void consumer_Listener(IMessage messasge)\n    {\n        messasge.Acknowledge();\n        msg = (ActiveMQMessage)messasge;\n\n       if (msg.MessageId.ToString() != oldMsgId)\n       {\n        oldMsgId = msg.MessageId.ToString();\n        msg.Acknowledge();\n        if (msg == null)\n        {\n            Console.WriteLine(\"No message received!\");\n        }\n        else\n        {\n            Console.WriteLine(\"Received message with ID: \" + msg.NMSMessageId);\n            Console.WriteLine(\"Received message with conetent: \" + msg.ToString());\n\n            try\n            {\n                string s = ASCIIEncoding.ASCII.GetString(msg.Content);\n                timeStamp = DateTime.Now;\n\n                DataContractJsonSerializer deserializer = new DataContractJsonSerializer(typeof(I280Message));\n                var ms = new MemoryStream(msg.Content);\n                I280Message rows = (I280Message)deserializer.ReadObject(ms);\n                int MessageId = InsertPerson(rows.Person);\n\n                semaphore.Set();\n            }\n            catch (NMSException ex)\n            {\n                ShutDown();\n                Console.WriteLine(ex.Message);\n            }\n        }\n          }\n        else {\n            Console.WriteLine(\"Same old message....\");\n        }\n\n\n    }\n\n\n\n    private static int InsertPerson(Person person)\n    {\n        using (SqlConnection sqlConn = new SqlConnection(ConfigurationManager.AppSettings[\"SQLConn\"]))\n        {\n            using (SqlCommand sqlCmd = new SqlCommand(\"I280MessagePerson_tbl_isp\", sqlConn))\n            {\n\n                sqlCmd.CommandType = CommandType.StoredProcedure;\n                sqlCmd.Parameters.AddWithValue(\"@BirthDate\", person.BirthDate);\n                sqlCmd.Parameters.AddWithValue(\"@Gender\", person.Gender);\n                sqlCmd.Parameters.AddWithValue(\"@VisaPermitType\", person.VisaPermitType, null);\n                sqlCmd.Parameters.AddWithValue(\"@CitizenshipStatus\", person.CitizenshipStatus, null);\n                sqlCmd.Parameters.AddWithValue(\"@ConfidentialFlag\", person.ConfidentialFlag);\n                sqlCmd.Parameters.AddWithValue(\"@DeceasedFlag\", person.DeceasedFlag, null);\n                sqlCmd.Parameters.AddWithValue(\"@TimeStamp\", timeStamp);\n                SqlParameter paramPersonId = new SqlParameter(\"@MessageId\", SqlDbType.Int);\n                paramPersonId.Direction = ParameterDirection.Output;\n                sqlCmd.Parameters.Add(paramPersonId);\n\n\n\n\n                sqlConn.Open();\n                try\n                {\n\n                    sqlCmd.ExecuteNonQuery();\n                    return (int)(sqlCmd.Parameters[\"@MessageId\"].Value);\n                }\n                catch (SqlException ex)\n                {\n                    Console.WriteLine(ex.Message);\n                    if (sqlConn.State == ConnectionState.Open) sqlConn.Close();\n                    return -1;\n                }\n\n            }\n        }\n\n\n    }\n\n    static void Main(string[] args)\n    {           \n\n            using (Program pr = new Program())\n            {\n                consumer.Listener += new MessageListener(consumer_Listener);\n            }\n\n\n\n            //while (true)\n            //{\n\n            //    consumer.Listener += new MessageListener(consumer_Listener);\n            //    semaphore.WaitOne((int)receiveTimeout.TotalMilliseconds, true);\n            //}\n        //catch (NMSException ex)\n        //{\n        //    ShutDown();\n        //    Console.WriteLine(ex.Message);\n        //}\n\n       // Console.ReadLine();\n\n\n\n    }\n\n\n}\n\npublic static class SqlParameterCollectionExtensions\n{\n    public static SqlParameter AddWithValue(this SqlParameterCollection target, string parameterName, object value, object nullValue)\n    {\n        if (value == null || (string)value == \"\")\n        {\n            return target.AddWithValue(parameterName, nullValue ?? DBNull.Value);\n        }\n        return target.AddWithValue(parameterName, value);\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "mvvm", "reactive-programming", "reactiveui"], "comments": [{"owner": {"reputation": 18804, "user_id": 3225, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cplXg.png?s=128&g=1", "display_name": "kenny", "link": "https://stackoverflow.com/users/3225/kenny"}, "edited": false, "score": 0, "creation_date": 1539968156, "post_id": 52863077, "comment_id": 92706097, "body": "Can you just store Product as a property and use it directly?"}, {"owner": {"reputation": 11, "user_id": 2522709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fd9893ac0ce3b2a06967bfab2ff528?s=128&d=identicon&r=PG", "display_name": "Andrej", "link": "https://stackoverflow.com/users/2522709/andrej"}, "reply_to_user": {"reputation": 18804, "user_id": 3225, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cplXg.png?s=128&g=1", "display_name": "kenny", "link": "https://stackoverflow.com/users/3225/kenny"}, "edited": false, "score": 0, "creation_date": 1540018218, "post_id": 52863077, "comment_id": 92717591, "body": "I think that I don&#39;t understand your comment. Product is a property already and when it&#39;s updated I want to make an action."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2522709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fd9893ac0ce3b2a06967bfab2ff528?s=128&d=identicon&r=PG", "display_name": "Andrej", "link": "https://stackoverflow.com/users/2522709/andrej"}, "edited": false, "score": 0, "creation_date": 1539847006, "post_id": 52863528, "comment_id": 92651131, "body": "What you suggest is an output property pattern, but I need read-write property since my view also sets the value of the property."}, {"owner": {"reputation": 504, "user_id": 5984310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XE0Ok.jpg?s=128&g=1", "display_name": "Colt Bauman", "link": "https://stackoverflow.com/users/5984310/colt-bauman"}, "edited": false, "score": 0, "creation_date": 1540030947, "post_id": 52863528, "comment_id": 92720159, "body": "Your view sets the value of which property? Product or SerialNumber?"}], "tags": [], "owner": {"reputation": 524, "user_id": 2088094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b65cfc5b1159f7b201f7f8efd1850a26?s=128&d=identicon&r=PG", "display_name": "Rodney Littles", "link": "https://stackoverflow.com/users/2088094/rodney-littles"}, "is_accepted": false, "score": 0, "last_activity_date": 1539809943, "creation_date": 1539809943, "answer_id": 52863528, "question_id": 52863077, "link": "https://stackoverflow.com/questions/52863077/is-there-a-better-way-to-set-a-read-write-property-than-with-whenanyvalue-and-bi/52863528#52863528", "title": "Is there a better way to set a Read-Write property than with WhenAnyValue and BindTo?", "body": "<p>You can use <a href=\"https://reactiveui.net/docs/guidelines/framework/prefer-oaph-over-properties\" rel=\"nofollow noreferrer\">Observable As Property Helper</a> to set the value of a property in the view model. you then want to bind to the view.</p>\n\n<pre><code>ObservableAsPropertyHelper&lt;string&gt; _serialNumber;\n\npublic string SerialNumber =&gt; _serialNumber.Value;\n\n_serialNumber = this.WhenAnyValue(x =&gt; x.Product)\n        .Where(x =&gt; x != null)\n        .Select(x =&gt; x.FirstOrDefault()).ToProperty(this, x =&gt; SerialNumber);\n</code></pre>\n\n<p>Then just bind the View to ViewModel.SerialNumber</p>\n"}], "owner": {"reputation": 11, "user_id": 2522709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46fd9893ac0ce3b2a06967bfab2ff528?s=128&d=identicon&r=PG", "display_name": "Andrej", "link": "https://stackoverflow.com/users/2522709/andrej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539809943, "creation_date": 1539808002, "last_edit_date": 1539808680, "question_id": 52863077, "link": "https://stackoverflow.com/questions/52863077/is-there-a-better-way-to-set-a-read-write-property-than-with-whenanyvalue-and-bi", "title": "Is there a better way to set a Read-Write property than with WhenAnyValue and BindTo?", "body": "<p>I have a read-write property</p>\n\n<pre><code>    private string _serialNumber;\n    public string SerialNumber\n    {\n        get =&gt; _serialNumber;\n        set =&gt; this.RaiseAndSetIfChanged(ref _serialNumber, value);\n    }\n</code></pre>\n\n<p>that I need to update when a <code>Product</code> property changes. I use <code>WhenAnyValue</code> and <code>BindTo</code> for this purpose.</p>\n\n<pre><code>this.WhenAnyValue(x =&gt; x.Product)\n            .Where(x =&gt; x != null)\n            .Select(x =&gt; x.FirstOrDefault())\n            .BindTo(this, x =&gt; x.SerialNumber);\n</code></pre>\n\n<p>However, I'm not sure if this is the best approach because I'm not able to find any example where read-write property is updated using <code>WhenAnyValue</code>.</p>\n\n<p>Is there a better solution? Do I use read-write property incorrectly in this case?</p>\n"}, {"tags": ["c#", "iis", "encryption", "web-config"], "owner": {"reputation": 239, "user_id": 3897212, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/224774b0f247f0df5848951dad56759e?s=128&d=identicon&r=PG&f=1", "display_name": "tralmix", "link": "https://stackoverflow.com/users/3897212/tralmix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 798, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1579105494, "creation_date": 1539807992, "last_edit_date": 1579105494, "question_id": 52863074, "link": "https://stackoverflow.com/questions/52863074/rsa-key-container-could-not-be-opened", "title": "RSA key container could not be opened", "body": "<p>I've been working on a project to move all of our applications to use external .config files to store connection strings so they are no longer kept in source control. As part of this, we are now encrypting these connection strings on deployment.</p>\n\n<p>web.config</p>\n\n<pre><code>&lt;connectionStrings configSource=\"ConnectionStrings.config\"/&gt;\n</code></pre>\n\n<p>ConnectionStrings.config</p>\n\n<pre><code>&lt;connectionStrings&gt;\n    &lt;add name=\"MyDatabase\" connectionString=\"MyConnectionString\" providerName=\"System.Data.SqlClient\"&gt;\n&lt;/connectionStrings&gt;\n</code></pre>\n\n<p>This is an application that I had to update from <code>.NetFramework 4.0</code> to <code>.NetFramwork 4.7.2</code> due to restrictions on our build server.</p>\n\n<p>To encrypt the connection strings I have been running the following command (on the web server) for all of our applications thus far with no issue. Several of these were framework upgrades as well. Note: we give each of our web apps their own app pool.</p>\n\n<pre><code>\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\aspnet_regiis.exe\" -pe \"connectionStrings\" -app \"/MyApplication\" -site \"Default Web Site\"\n</code></pre>\n\n<p>Every site so far has worked without issue in all of our environments. Now this most recent one, when encrypted, causes an infinite redirect loop with the same error each loop of </p>\n\n<blockquote>\n  <p>Failed to decrypt using provider 'RsaProtectedConfigurationProvider'. Error message from the provider: The RSA key container could not be opened.</p>\n</blockquote>\n\n<p>If I go to the server and run the command line to decrypt, it succeeds and the app functions properly. I'm baffled and non of my coworkers have any idea either. I know it has to be something specific to this one application but I don't know where to begin. It is an old app that I didn't even work on and know nothing about. I've looked through numerous pages of similar RSA complaints but none of them seem to be this specific issue. And yes I am able to replicate this on multiple servers and even on my own machine.</p>\n"}, {"tags": ["c#", "asp.net", "api", "web", "angular6"], "comments": [{"owner": {"reputation": 3561, "user_id": 5651109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c983c72e0f6564470dec5c14967eb894?s=128&d=identicon&r=PG&f=1", "display_name": "Navoneel Talukdar", "link": "https://stackoverflow.com/users/5651109/navoneel-talukdar"}, "edited": false, "score": 0, "creation_date": 1540284118, "post_id": 52863017, "comment_id": 92797447, "body": "Do you receive the posted file in controller?Did you debug to see that?Does your controller gets hit?What about the network trace of this request <code>http:&#47;&#47;localhost:49235&#47;api&#47;UploadImage</code>?"}, {"owner": {"reputation": 93, "user_id": 9874842, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ayush mishra", "link": "https://stackoverflow.com/users/9874842/ayush-mishra"}, "reply_to_user": {"reputation": 3561, "user_id": 5651109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c983c72e0f6564470dec5c14967eb894?s=128&d=identicon&r=PG&f=1", "display_name": "Navoneel Talukdar", "link": "https://stackoverflow.com/users/5651109/navoneel-talukdar"}, "edited": false, "score": 0, "creation_date": 1544683734, "post_id": 52863017, "comment_id": 94365017, "body": "yes the controller get hit but the file count is zero"}], "owner": {"reputation": 93, "user_id": 9874842, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ayush mishra", "link": "https://stackoverflow.com/users/9874842/ayush-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 606, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540283670, "creation_date": 1539807683, "last_edit_date": 1540283670, "question_id": 52863017, "link": "https://stackoverflow.com/questions/52863017/multiple-image-upload-in-angular6-using-asp-net-web-api", "title": "Multiple Image upload in Angular6 using asp.net web api", "body": "<p>I am trying to upload multiple image in Angular with asp.net web api.I don't know where i am wrong but i can't able to upload my image. Please Help me.Below are my codes</p>\n\n<p><strong>upload-images.component.html</strong></p>\n\n<pre><code>&lt;div class=\"container\" style=\"margin-top:100px\"&gt;\n&lt;form #imageForm=\"ngForm\"&gt;\n&lt;div&gt;\n  &lt;img *ngFor=\"let url of urls\" [src]=\"url\" style=\"width:250px;height:200px\"&gt;\n   &lt;input  type=\"file\" #Image multiple (change)=\"handleFileInput($event)\" accept=\"image/\"&gt;\n   &lt;button type=\"submit\" (click)=\"upload()\" class=\"btn btn-large btn-submit\"&gt;Upload Image&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\n  </p>\n\n<p><strong>upload-images.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { UploadImagesService } from '../_shared/upload-images.service';\n\n@Component({\n  selector: 'app-upload-images',\n  templateUrl: './upload-images.component.html',\n  styles: []\n})\nexport class UploadImagesComponent implements OnInit {\n  imageUrl:string=\"./assets/images/customer-img1.jpg\";\n  urls = new Array&lt;string&gt;();\n  fileToUpload:Array&lt;File&gt; =[]\n  selctedFileName:string[] = []\n\n  constructor(private uploadService:UploadImagesService) { }\n\n ngOnInit() {\n }\n\nhandleFileInput(fileInput:any){\n this.urls=[]\n this.fileToUpload = &lt;Array&lt;File&gt;&gt;fileInput.target.files\n\nfor(let i=0;i&lt;this.fileToUpload.length;i++){\n\n  //getting photos name\n console.log( this.fileToUpload[i].name)     \n //preview of the images\n var reader = new FileReader();\n reader.onload = (event:any)=&gt;{\n   this.urls.push(event.target.result)\n }\n reader.readAsDataURL(this.fileToUpload[i]);\n\n this.selctedFileName.push(this.fileToUpload[i].name)\n }\n}\nupload(){\n\n  this.uploadService.postFile(this.fileToUpload)\n  .subscribe(data=&gt;{\n    console.log(this.fileToUpload);\n\n  })\n }\n}\n</code></pre>\n\n<p><strong>upload-images.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n providedIn: 'root'\n})\nexport class UploadImagesService {\n\n constructor(private http:HttpClient) { }\n\n fileToUpload:Array&lt;File&gt; = []\n\n postFile(fileToUpload:Array&lt;File&gt;){\n  const endpoint=\"http://localhost:49235/api/UploadImage\";\n  const formData:FormData = new FormData();\n\n  for(var i= 0;i&lt;this.fileToUpload.length;i++)\n  {\n    formData.append('Image',fileToUpload[i],fileToUpload[i].name);\n  }\n\n  return this.http.post(endpoint,formData);\n  }\n }\n</code></pre>\n\n<p><strong>Below are my c# code</strong></p>\n\n<pre><code>using BackEnd.Models;\nusing System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Net;\nusing System.Net.Http;\nusing System.Web;\nusing System.Web.Http;\n\nnamespace BackEnd.Controllers\n{\npublic class ImagesController : ApiController\n{\n    [HttpPost]\n    [AllowAnonymous]\n    [Route(\"api/UploadImage\")]\n    public HttpResponseMessage UploadImage()\n    {\n        string imageName = null;\n        int i = 0;\n        var httpRequest = HttpContext.Current.Request;   \n        if (httpRequest.Files.Count &gt; 0)\n        {\n         foreach(string file in httpRequest.Files)\n           {\n           var postedFile = httpRequest.Files[i];\n                imageName = new  \n             String(Path.GetFileNameWithoutExtension(postedFile.FileName)\n                .Take(10).ToArray()).Replace(\" \", \"-\");\n                imageName = imageName + \n                     DateTime.Now.ToString(\"yymmssfff\") + \n                    Path.GetExtension(postedFile.FileName);\n\n var filePath = HttpContext.Current.Server.MapPath(\"~/images/\" + \n  postedFile.FileName);\n                postedFile.SaveAs(filePath);\n\n\n\n\n\n     using (ApplicationDbContext _context = new ApplicationDbContext())\n                {\n                    image Image = new image()\n                    {\n                        ImageName = imageName\n                    };\n                    _context.Images.Add(Image);\n                    _context.SaveChanges();\n                }\n\n                i++;\n           }\n        }\n\n\n        return Request.CreateResponse(HttpStatusCode.Created);\n    }\n   } \n}\n</code></pre>\n\n<p>I can get the preview of the images when i select the images.</p>\n\n<p><a href=\"http://sudiptachaudhari.com/angular-4-multiple-file-upload-using-asp-net-web-api/\" rel=\"nofollow noreferrer\">tutorial followed from this link</a></p>\n\n<p>Still Didn't find any solution...Please help i don't where i am wrong in my code.Thank You.</p>\n"}, {"tags": ["c#", "release", "filenotfoundexception", "pdfsharp"], "comments": [{"owner": {"reputation": 1192, "user_id": 6913202, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X_1Ir2VfZ_k/AAAAAAAAAAI/AAAAAAAAAEg/SGtgCfhKoe0/photo.jpg?sz=128", "display_name": "Kalyan", "link": "https://stackoverflow.com/users/6913202/kalyan"}, "edited": false, "score": 0, "creation_date": 1539807172, "post_id": 52862795, "comment_id": 92640102, "body": "How do you added your assembly? is the assembly file available in bin folder?"}, {"owner": {"reputation": 59, "user_id": 9270479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c972eaa0caae65858451bd11271188d?s=128&d=identicon&r=PG&f=1", "display_name": "Harshit Arora", "link": "https://stackoverflow.com/users/9270479/harshit-arora"}, "reply_to_user": {"reputation": 1192, "user_id": 6913202, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X_1Ir2VfZ_k/AAAAAAAAAAI/AAAAAAAAAEg/SGtgCfhKoe0/photo.jpg?sz=128", "display_name": "Kalyan", "link": "https://stackoverflow.com/users/6913202/kalyan"}, "edited": false, "score": 0, "creation_date": 1539807334, "post_id": 52862795, "comment_id": 92640186, "body": "I added through NuGet Package and yes when I open the bin\\debug: I do see PDFSharp dlls and few extra supporting PDFSharp files."}, {"owner": {"reputation": 3510, "user_id": 574722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Sxyd.jpg?s=128&g=1", "display_name": "bhmahler", "link": "https://stackoverflow.com/users/574722/bhmahler"}, "edited": false, "score": 0, "creation_date": 1539807761, "post_id": 52862795, "comment_id": 92640391, "body": "Have you tried enabling 32 bit support in your IIS app pool? I seem to recall something along those lines in an old app we worked on that used it."}, {"owner": {"reputation": 59, "user_id": 9270479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c972eaa0caae65858451bd11271188d?s=128&d=identicon&r=PG&f=1", "display_name": "Harshit Arora", "link": "https://stackoverflow.com/users/9270479/harshit-arora"}, "edited": false, "score": 0, "creation_date": 1539807961, "post_id": 52862795, "comment_id": 92640480, "body": "Yes, I did, didn&#39;t work."}, {"owner": {"reputation": 1192, "user_id": 6913202, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X_1Ir2VfZ_k/AAAAAAAAAAI/AAAAAAAAAEg/SGtgCfhKoe0/photo.jpg?sz=128", "display_name": "Kalyan", "link": "https://stackoverflow.com/users/6913202/kalyan"}, "edited": false, "score": 0, "creation_date": 1539811691, "post_id": 52862795, "comment_id": 92642048, "body": "Is the version of the  assembly in the bin folder is same as in the exception?"}, {"owner": {"reputation": 18344, "user_id": 162529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWVD6.png?s=128&g=1", "display_name": "I liked the old Stack Overflow", "link": "https://stackoverflow.com/users/162529/i-liked-the-old-stack-overflow"}, "edited": false, "score": 0, "creation_date": 1539852649, "post_id": 52862795, "comment_id": 92654207, "body": "Rule of thumb: all files the compiler puts into the DEBUG folder (or even better the RELEASE folder) must be shipped when you give the application to others. The PdfSharp.dll is there for a reason, so ship it."}], "answers": [{"comments": [{"owner": {"reputation": 461, "user_id": 138653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f888a7bc6cadec69318ae7059a6362?s=128&d=identicon&r=PG", "display_name": "JT.", "link": "https://stackoverflow.com/users/138653/jt"}, "edited": false, "score": 1, "creation_date": 1539857858, "post_id": 52868131, "comment_id": 92657117, "body": "If you need to ship a single executable that includes all your dependencies, add reference to Costura.Fody. This will seamlessly include dependent DLLs as resources and load them at runtime. Otherwise, ship DLLs alongside your executable. Libraries are only not required to be distributed if the exact referenced version is already present in the target machine&#39;s GAC."}, {"owner": {"reputation": 88, "user_id": 1450895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee4f4f23c7dde55d6f6458c89c729c11?s=128&d=identicon&r=PG", "display_name": "pull420", "link": "https://stackoverflow.com/users/1450895/pull420"}, "edited": false, "score": 1, "creation_date": 1539872813, "post_id": 52868131, "comment_id": 92666037, "body": "The reason you don&#39;t need to add the system.diagnostics is because the namespace is present in system.dll file which is already present in GAC as part of dotnet framework. When using third party dlls such as &#39;PdfSharp.dll&#39;, it needs to be present in bin folder."}, {"owner": {"reputation": 18344, "user_id": 162529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWVD6.png?s=128&g=1", "display_name": "I liked the old Stack Overflow", "link": "https://stackoverflow.com/users/162529/i-liked-the-old-stack-overflow"}, "reply_to_user": {"reputation": 59, "user_id": 9270479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c972eaa0caae65858451bd11271188d?s=128&d=identicon&r=PG&f=1", "display_name": "Harshit Arora", "link": "https://stackoverflow.com/users/9270479/harshit-arora"}, "edited": false, "score": 0, "creation_date": 1539873611, "post_id": 52868131, "comment_id": 92666567, "body": "@HarshitArora When I invoke &quot;Publish&quot; for the application I am working on I get a folder with 70 files, including many System.*.dll files. And if the system DLLs are not in the program folder, then they still have to be on the computer as they are still loaded at runtime. C/C++ uses libraries in the LIB format and those libraries are incorporated into the EXE file. DLLs are loaded at runtime - even in the last century when we used C/C++ to create Windows apps. DLL = Dynamic Link Library (loaded at runtime) <a href=\"https://en.wikipedia.org/wiki/Dynamic-link_library\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Dynamic-link_library</a>"}], "tags": [], "owner": {"reputation": 18344, "user_id": 162529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWVD6.png?s=128&g=1", "display_name": "I liked the old Stack Overflow", "link": "https://stackoverflow.com/users/162529/i-liked-the-old-stack-overflow"}, "is_accepted": true, "score": 2, "last_activity_date": 1539930582, "last_edit_date": 1539930582, "creation_date": 1539844020, "answer_id": 52868131, "question_id": 52862795, "link": "https://stackoverflow.com/questions/52862795/could-not-load-file-or-assembly-pdfsharp/52868131#52868131", "title": "Could not load file or assembly PDFsharp", "body": "<p>You have to ship the file PdfSharp.dll along with your .EXE file (and all assemblies references by PdfSharp.dll). Your .EXE does not include code from other assemblies you reference at compile-time, so these other assemblies must be present at run-time.</p>\n\n<p>BTW: You are using version 1.32 from around 2013 and so you are missing all the bug fixes from the last five years.</p>\n\n<blockquote>\n  <p>Now, the error holds no meaning because according to my knowledge, when an application is released, it binds all the libraries in itself so that other users don't have to include them.</p>\n</blockquote>\n\n<p>That's new to me. Any references for that information? I assume the error message is correct and your assumption is wrong ...<br>\nWhat is true for LIB libraries for C/C++ is not true for Windows DLL files. DLLs are loaded at run-time and therefore they must be present on the computer running the application.</p>\n"}], "owner": {"reputation": 59, "user_id": 9270479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c972eaa0caae65858451bd11271188d?s=128&d=identicon&r=PG&f=1", "display_name": "Harshit Arora", "link": "https://stackoverflow.com/users/9270479/harshit-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3001, "favorite_count": 1, "accepted_answer_id": 52868131, "answer_count": 1, "score": 0, "last_activity_date": 1539930582, "creation_date": 1539806702, "last_edit_date": 1539852445, "question_id": 52862795, "link": "https://stackoverflow.com/questions/52862795/could-not-load-file-or-assembly-pdfsharp", "title": "Could not load file or assembly PDFsharp", "body": "<p>It's a long error, but I will give you the key details. So let's say I released a C# application that includes PDFsharp library and I have got few functions using them and that's where I get the error.</p>\n\n<p>I try to create multiple PDFs (through Crystal Report and export them as PDF) and later on merge those multiples to one. No error yet. While merging I am using PDFsharp functions, I will include the code below to clarify, here's the tricky part, the code works fab, merges PDFs and does everything but only on my PC, I tried to give the application (.exe) to someone else and made them run on their PC, he came back with an error on the merge function.</p>\n\n<p>Also, just an FYI: the PDFs are getting created only merging is an issue, meaning there's no way the program isn't able to find the files it needs to merge, it's looking for some PDFsharp libraries which it can't find. Now, the error holds no meaning because according to my knowledge, when an application is released, it binds all the libraries in itself so that other users don't have to include them. I am also including other libraries, which do not give any error so we may conclude that something's up with PDFsharp.</p>\n\n<blockquote>\n  <p>Error: System.IO.FileNotFoundException: Could not load file or assembly 'PdfSharp, Version=1.32.3057.0, Culture=neutral, PublicKeyToken=f94615aa0424f9eb' or one of its dependencies.</p>\n</blockquote>\n\n<p>Another FYI: I have logged all errors and tried Assembly bindings, IIS application pools, release on different CPUs and nearly everything, so please come up with something working!</p>\n\n<p>Here's my merge code (it's taken from some other source):</p>\n\n<pre><code>using (PdfDocument targetDoc = new PdfDocument())\n{\n    foreach (string pdf in pdfs)\n    {\n        using (PdfDocument pdfDoc = PdfSharp.Pdf.IO.PdfReader.Open(pdf, \n               PdfSharp.Pdf.IO.PdfDocumentOpenMode.Import))\n        {\n            for (int i = 0; i &lt; pdfDoc.PageCount; i++)\n            {\n                targetDoc.AddPage(pdfDoc.Pages[i]);\n            }\n        }\n    }\n    targetDoc.Save(targetPath);\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "oop", "architecture"], "comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1539807494, "post_id": 52862783, "comment_id": 92640270, "body": "Can students edit their own data? (And get away with it)"}, {"owner": {"reputation": 124, "user_id": 7607741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDZyb.png?s=128&g=1", "display_name": "Jcrash29", "link": "https://stackoverflow.com/users/7607741/jcrash29"}, "reply_to_user": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 0, "creation_date": 1539807990, "post_id": 52862783, "comment_id": 92640493, "body": "@Jimenemex in this case it&#39;s not relevant. All the data will be output to a JSON file after the user has added everything they need."}], "answers": [{"comments": [{"owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "edited": false, "score": 0, "creation_date": 1539951393, "post_id": 52864529, "comment_id": 92696847, "body": "@jcrash Did I answer your question? If so, please accept it. If not, please let me know if there&#39;s anything else you need to know"}], "tags": [], "owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "is_accepted": false, "score": 1, "last_activity_date": 1539815760, "creation_date": 1539815760, "answer_id": 52864529, "question_id": 52862783, "link": "https://stackoverflow.com/questions/52862783/wpf-c-and-proper-architecture/52864529#52864529", "title": "WPF C# and proper Architecture", "body": "<p>You don't really give us enough information about what you propose to comment fully, but your code shows that you have definitely got something wrong with your approach.</p>\n\n<p>Classes like <code>School</code> and <code>Student</code> should <strong>not</strong> have any knowledge of editing, pop-ups (by which I assume you mean a details window) and so on. Model classes should only contain data (such as public and private variables), and behaviour (methods) that are specifically related to the class itself. For example, if a <code>Class</code> class had a public property for the list of students, you could add a method that returned the number of students taking the class. Even though this example is a bit pointless, it serves to demonstrate that the class's behaviour should only be that which is relevant to the model.</p>\n\n<p>By contrast, a method of editing the data (such as a pop-up window) is specific to an application that uses the class. You don't wan the class to know about that.</p>\n\n<p>Hope that helps.</p>\n\n<p>By the way, a few small comments on your code...</p>\n\n<ul>\n<li><p>The general standard is for class names and public methods/properties to use CamelCase, eg <code>School</code>, <code>Student</code> etc. Uppercase is non-standard and should be avoided</p></li>\n<li><p><code>Class</code> is a <strong>really</strong> bad choice of name for a class, as it's a reserved word (in lowercase), and could cause confusion.</p></li>\n</ul>\n"}], "owner": {"reputation": 124, "user_id": 7607741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WDZyb.png?s=128&g=1", "display_name": "Jcrash29", "link": "https://stackoverflow.com/users/7607741/jcrash29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "closed_date": 1539816040, "answer_count": 1, "score": 0, "last_activity_date": 1539815760, "creation_date": 1539806640, "question_id": 52862783, "link": "https://stackoverflow.com/questions/52862783/wpf-c-and-proper-architecture", "closed_reason": "Needs details or clarity", "title": "WPF C# and proper Architecture", "body": "<p>I have been attempting to implement what I considered a very basic OOP implementation of a SCHOOL, CLASS, and STUDENT.</p>\n\n<p>In this case I am working with a single SCHOOL, which contains a List&lt;> of unique CLASSES, each CLASS contains a List&lt;> of unique STUDENTS(Only one student named Jack/Amber/Paul per school, and each student is only taking one class).</p>\n\n<p><a href=\"https://i.stack.imgur.com/WOC8t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WOC8t.png\" alt=\"enter image description here\"></a></p>\n\n<p>This was easy to implement. My concern came when I attempted to make an editable WPF.</p>\n\n<p>I want to create a WPF that allows the user to create classes, and students, modify data about them, and delete them. My problem is, I don't know where in the hierarchy it should go.</p>\n\n<p>I can't tell if each CLASS and STUDENT should control their own Pop-Ups which edit their objects, or if there should be a controller that manages everything from the SCHOOL down (seem's like over kill).</p>\n\n<pre><code>Static class SCHOOL()\n{\n    List&lt;CLASS&gt; classes = new List&lt;CLASS&gt;();\n\n\n}\n\npublic class CLASS()\n{\n    List&lt;STUDENT&gt; classes = new List&lt;STUDNET&gt;();\n}\n\npublic class STUDENT()\n{\n    public STUDNET()\n    {\n        /* Open POP-UP which gives the user the\n        ability to set the name, gpa, etc... of the student */\n    }\n\n    public void modifyData()\n    {\n        /* Open POP-UP which gives the user \n        the ability to set the name, gpa, etc... of the student */\n    }\n}\n</code></pre>\n\n<p>Am I approaching this the right way?</p>\n"}, {"tags": ["c#", "rest", "api"], "comments": [{"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1539806693, "post_id": 52862747, "comment_id": 92639904, "body": "so where are you trying to add the actual credentials ?"}, {"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1539806843, "post_id": 52862747, "comment_id": 92639968, "body": "Everything here looks fine, what you aren&#39;t showing or saying is what the authentication method should be?"}, {"owner": {"reputation": 65, "user_id": 10320767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0ce6efabf10bb771c3a2acc714659da?s=128&d=identicon&r=PG&f=1", "display_name": "jimmydean", "link": "https://stackoverflow.com/users/10320767/jimmydean"}, "edited": false, "score": 0, "creation_date": 1539807219, "post_id": 52862747, "comment_id": 92640123, "body": "myReq.UseDefaultCredentials = true; myReq.PreAuthenticate = true; myReq.Credentials = CredentialCache.DefaultCredentials;"}, {"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1539807984, "post_id": 52862747, "comment_id": 92640491, "body": "The server is using Windows Authentication?  What user is this process running under?"}, {"owner": {"reputation": 65, "user_id": 10320767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0ce6efabf10bb771c3a2acc714659da?s=128&d=identicon&r=PG&f=1", "display_name": "jimmydean", "link": "https://stackoverflow.com/users/10320767/jimmydean"}, "reply_to_user": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1539808176, "post_id": 52862747, "comment_id": 92640594, "body": "Domain admin account @JimW"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1539810365, "post_id": 52862747, "comment_id": 92641575, "body": "Check this out: <a href=\"https://www.c-sharpcorner.com/article/enable-windows-authentication-in-web-api-and-angular-app/\" rel=\"nofollow noreferrer\">c-sharpcorner.com/article/&hellip;</a>"}], "owner": {"reputation": 65, "user_id": 10320767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0ce6efabf10bb771c3a2acc714659da?s=128&d=identicon&r=PG&f=1", "display_name": "jimmydean", "link": "https://stackoverflow.com/users/10320767/jimmydean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 907, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539807340, "creation_date": 1539806478, "last_edit_date": 1539807340, "question_id": 52862747, "link": "https://stackoverflow.com/questions/52862747/c-program-displaying-the-remote-server-returned-an-error-401-unauthorized", "title": "C# Program displaying &quot;The remote server returned an error: (401) Unauthorized.&quot;", "body": "<p>I am having an issue with getting connected to the remote server:</p>\n\n<p><strong>The remote server returned an error: (401) Unauthorized.</strong></p>\n\n<p>Below is almost the complete code I am using for my program. I want to grab data from the API, but the server won't authenticate properly. I know there is a way to add the credentials you like, but I have tried every which way possible with adding it in. Not sure where I need to plug that at, so I can make a connection.   </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.IO;\nusing System.Net;\n\nnamespace RestClient\n{\n    public enum httpVerb\n    {\n        GET,\n        POST,\n        PUT,\n        DELETE,\n    }\n\n    class RestClient\n    {\n        public string endPoint { get; set; }\n        public httpVerb httpMethod { get; set; }\n\n        public RestClient()\n        {\n            endPoint = string.Empty;\n            httpMethod = httpVerb.GET;\n        }\n\n        public string makeRequest()\n        {\n            string strResponseVlaue = string.Empty;\n            HttpWebRequest request = (HttpWebRequest)WebRequest.Create(endPoint);\n            request.Method = httpMethod.ToString();\n\n            using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\n            {\n                if (response.StatusCode != HttpStatusCode.OK)\n                {\n                    throw new ApplicationException(\"Error Code: \"+ response.StatusCode.ToString());\n                }\n                //Process the response stream\n\n            using (Stream responseStream = response.GetResponseStream())\n                {\n                    if(responseStream != null)\n                    {\n                        using(StreamReader reader = new StreamReader(responseStream))\n                        {\n                            strResponseVlaue = reader.ReadToEnd();\n                        }\n                    }\n                } //End of Response Stream\n            }// End Of Using Reponse\n\n                return strResponseVlaue;\n        }\n    }\n}\n</code></pre>\n\n<p>Thanks,\nJimmy Dean</p>\n\n<p>Edit:</p>\n\n<pre><code>myReq.UseDefaultCredentials = true;\nmyReq.PreAuthenticate = true;\nmyReq.Credentials = CredentialCache.DefaultCredentials;\n</code></pre>\n\n<p>For the questions that have been asked. I was trying to use this and some others I tried. The code is fine, it is just not authorizing the connection, that is the issue I am having.</p>\n"}, {"tags": ["c#", "json", "visual-studio", "linq"], "answers": [{"comments": [{"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1539807754, "post_id": 52862951, "comment_id": 92640386, "body": "This is a hard coded solution, it doesn&#39;t work anymore if the data changes."}, {"owner": {"reputation": 97, "user_id": 4998371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/decf7d734ab86af0d8fc2d5bb1409442?s=128&d=identicon&r=PG&f=1", "display_name": "FrankDrebin893", "link": "https://stackoverflow.com/users/4998371/frankdrebin893"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1539808058, "post_id": 52862951, "comment_id": 92640530, "body": "Sorry, how is it hard coded you mean? The above code sample was just to provide an example of how you&#39;d use it."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 1, "creation_date": 1539808497, "post_id": 52862951, "comment_id": 92640749, "body": "The problem is how to create hierarchical data from flattened data, and then serialize it. You only addressed the 2nd part."}, {"owner": {"reputation": 97, "user_id": 4998371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/decf7d734ab86af0d8fc2d5bb1409442?s=128&d=identicon&r=PG&f=1", "display_name": "FrankDrebin893", "link": "https://stackoverflow.com/users/4998371/frankdrebin893"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 1, "creation_date": 1539809320, "post_id": 52862951, "comment_id": 92641110, "body": "You&#39;re right, sorry. I&#39;ve changed my answer a bit in the hopes that it&#39;s a bit more fullfilling. Assuming here that reference loop handling is irrelevant, if there&#39;s a parent/child relationship anyway."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1539809474, "post_id": 52862951, "comment_id": 92641170, "body": "Just one little thing, you forgot to remove children/select only the top folders."}, {"owner": {"reputation": 97, "user_id": 4998371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/decf7d734ab86af0d8fc2d5bb1409442?s=128&d=identicon&r=PG&f=1", "display_name": "FrankDrebin893", "link": "https://stackoverflow.com/users/4998371/frankdrebin893"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1539810021, "post_id": 52862951, "comment_id": 92641417, "body": "Good point. Think it should be okay to just select the ones with null PID? Thanks for the corrections, I&#39;m gonna blame it on being tired."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1539810213, "post_id": 52862951, "comment_id": 92641523, "body": "Assuming referential integrity is respected, yes."}, {"owner": {"reputation": 97, "user_id": 4998371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/decf7d734ab86af0d8fc2d5bb1409442?s=128&d=identicon&r=PG&f=1", "display_name": "FrankDrebin893", "link": "https://stackoverflow.com/users/4998371/frankdrebin893"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 1, "creation_date": 1539810639, "post_id": 52862951, "comment_id": 92641683, "body": "Ajay would you mark as answer, if this solves your problem?"}, {"owner": {"reputation": 237, "user_id": 9455463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f09679e39df389b21d999bc2bb5e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ajay", "link": "https://stackoverflow.com/users/9455463/k-ajay"}, "edited": false, "score": 0, "creation_date": 1539832824, "post_id": 52862951, "comment_id": 92646760, "body": "Thank you very much for your prompt and concise response :)"}], "tags": [], "owner": {"reputation": 97, "user_id": 4998371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/decf7d734ab86af0d8fc2d5bb1409442?s=128&d=identicon&r=PG&f=1", "display_name": "FrankDrebin893", "link": "https://stackoverflow.com/users/4998371/frankdrebin893"}, "is_accepted": false, "score": 2, "last_activity_date": 1539809883, "last_edit_date": 1539809883, "creation_date": 1539807404, "answer_id": 52862951, "question_id": 52862601, "link": "https://stackoverflow.com/questions/52862601/how-to-create-a-nested-parent-child-json-response-in-c/52862951#52862951", "title": "How to create a nested (parent-Child ) JSON response in c#?", "body": "<p>I think what you want is to have a list of folders inside the folder, like the following:</p>\n\n<pre><code>class folder\n{\n    string id{get;set;}\n    string pid{get;set;}\n    string caption{get;set;}\n    List&lt;folder&gt; items {get;set;}\n}\n</code></pre>\n\n<p>When you use JSONConvert in this case, you can run into having circular dependencies, if a parent exists in the child's collection. You can use a SerializerSettings object to ignore these cases, and for children in the items list, you can set their collection to null, so it won't serialized.</p>\n\n<p>However, the desired output you specify also lists an array of folders. So in the end, you'll need to serialize a collection(List or array for example) of the folder class. Something like.</p>\n\n<p>With regards to how you would load in the data, I imagine you've already loaded the folders with id, pid and caption, but the items property is empty.</p>\n\n<p>In order to establish the parent/child relation, you could so something like</p>\n\n<pre><code>var folders = dt.AsEnumerable().ToList();\n\nforeach(var folder in folders) {\n    folder.items = folders.Where(f =&gt; f.pid.Equals(folder.id)).ToList();\n}\n\nvar parentFolders = folders.Where(f =&gt; f.pid is null);\n\nvar json = JsonConvert.SerializeObject(parentFolders, new SerializerSettings () {\n    ReferenceLoopHandling = ReferenceLoopHandling.Ignore\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "is_accepted": true, "score": 5, "last_activity_date": 1539811331, "creation_date": 1539811331, "answer_id": 52863808, "question_id": 52862601, "link": "https://stackoverflow.com/questions/52862601/how-to-create-a-nested-parent-child-json-response-in-c/52863808#52863808", "title": "How to create a nested (parent-Child ) JSON response in c#?", "body": "<p>You need to build object hierarchy before serialization. To do so define a new property in your <code>folder</code> class:</p>\n\n<pre><code>public IEnumerable&lt;folder&gt; items { get; set; }\n</code></pre>\n\n<p>Now you can recursively search childs for each root <code>folder</code>:</p>\n\n<pre><code>public static IEnumerable&lt;folder&gt; BuildTree(folder current, folder[] allItems)\n{\n    var childs = allItems.Where(c =&gt; c.pid == current.id).ToArray();\n    foreach (var child in childs)\n        child.items = BuildTree(child, allItems);\n    current.items = childs;\n    return childs;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var input = new[] // dt.AsEnumerable() in your case\n{\n    new folder {id = \"F182\",  caption = \"GLOBAL REPORTS\",      pid = null   },\n    new folder {id = \"F184\",  caption = \"software\",            pid = null   },\n    new folder {id = \"F1227\", caption = \"LYB P&amp;L Reports\",     pid = \"F184\" },\n    new folder {id = \"F1245\", caption = \"LYB Training\",        pid = \"F184\" },\n    new folder {id = \"F1239\", caption = \"test3\",               pid = \"F182\" },\n    new folder {id = \"F1249\", caption = \"Paavan_Test_Reports\", pid = \"F184\" },\n};\n\nvar roots = input.Where(i =&gt; i.pid == null);\nforeach (var root in roots)\n    BuildTree(root, input);\n\nvar json = JsonConvert.SerializeObject(roots, Formatting.Indented);\n</code></pre>\n\n<p>Also, if you want to hide empty <code>items</code> you can define method <code>ShouldSerialize</code> in <code>folder</code> class:</p>\n\n<pre><code>public bool ShouldSerializeitems()\n{\n    return items.Any();\n}\n</code></pre>\n\n<p>Demo is <a href=\"https://dotnetfiddle.net/CWSOHy\" rel=\"noreferrer\">here</a></p>\n"}], "owner": {"reputation": 237, "user_id": 9455463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f09679e39df389b21d999bc2bb5e6f7?s=128&d=identicon&r=PG&f=1", "display_name": "K. Ajay", "link": "https://stackoverflow.com/users/9455463/k-ajay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3536, "favorite_count": 2, "accepted_answer_id": 52863808, "answer_count": 2, "score": 3, "last_activity_date": 1539811331, "creation_date": 1539805874, "question_id": 52862601, "link": "https://stackoverflow.com/questions/52862601/how-to-create-a-nested-parent-child-json-response-in-c", "title": "How to create a nested (parent-Child ) JSON response in c#?", "body": "<p>I am making a web service which will give a response in JSON format. I have fetched data from sql server and stored it in a Datatable. This is how the dt looks:-</p>\n\n<pre><code>id      Caption                 pid\nF182    GLOBAL REPORTS          NULL\nF184    software                NULL\nF1227   LYB P&amp;L Reports         F184\nF1245   LYB Training            F184\nF1239   test3                   F182\nF1249   Paavan_Test_Reports     F184\n</code></pre>\n\n<p>Items in caption column which have pid as <strong>Null</strong> are the parents and they have children which have the same <strong>pid</strong> as their respective parent's <strong>id</strong>. </p>\n\n<p><strong>Eg:</strong> <strong>GLOBAL REPORTS</strong> has 1 child i.e <strong>test3</strong> and <strong>software</strong> has 3 child.</p>\n\n<p>I want the JSON response into the following format</p>\n\n<pre><code>[{ \n    id='F182',  \n    caption='GLOBAL REPORTS',\n    pid=null;\n    items:[{\n    id='F1239',\n    caption='test3',\n    pid='F182'}] \n    },\n    { \n    id='F184',\n    caption='software',\n    pid='NULL',\n    items:[{\n    id='F1227',\n    caption='LYB P&amp;L Reports',\n    pid='F184'\n    },\n    {\n    id='F1245',\n    caption='LYB Training',\n    pid='F184'\n    },\n    { \n    id='F1249',\n    caption='Paavan_Test_Reports',\n    pid='F184'\n    }\n}]\n</code></pre>\n\n<p>i have made a class <strong>folder</strong></p>\n\n<pre><code>    class folder\n    {\n    string id{get;set;}\n    string pid{get;set;}\n    string caption{get;set;}\n   }\n</code></pre>\n\n<p>How can i get the array of objects <strong>items</strong> which will contain all the available child of a particular parent? I am new to Json objects and responses,</p>\n\n<p>I have tried using the following method:</p>\n\n<pre><code> var obj = dt.AsEnumerable()\n                .GroupBy(r =&gt; r[\"pid\"])\n                .ToDictionary(g =&gt; g.Key.ToString(),\n                              g =&gt; g.Select(r =&gt; new {\n                              item = r[\"caption\"].ToString(),\n                              }).ToArray());\n     var json = JsonConvert.SerializeObject(obj);\n</code></pre>\n\n<p>but this is giving me a simple json response without any hierarchy.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 2267, "user_id": 9743064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JS0FZ.jpg?s=128&g=1", "display_name": "Llazar", "link": "https://stackoverflow.com/users/9743064/llazar"}, "edited": false, "score": 0, "creation_date": 1539805953, "post_id": 52862588, "comment_id": 92639581, "body": "Without code no one can help you."}, {"owner": {"reputation": 627, "user_id": 1091479, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/8dFHu.jpg?s=128&g=1", "display_name": "crunchy", "link": "https://stackoverflow.com/users/1091479/crunchy"}, "edited": false, "score": 0, "creation_date": 1539806084, "post_id": 52862588, "comment_id": 92639645, "body": "Does this thread help? <a href=\"https://stackoverflow.com/questions/5900645/ignore-required-attribute-when-saving-on-edit-page\" title=\"ignore required attribute when saving on edit page\">stackoverflow.com/questions/5900645/&hellip;</a>"}, {"owner": {"reputation": 92, "user_id": 10515084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd6780118dea11d6dfc381f243c78e5?s=128&d=identicon&r=PG&f=1", "display_name": "tahtoh", "link": "https://stackoverflow.com/users/10515084/tahtoh"}, "reply_to_user": {"reputation": 627, "user_id": 1091479, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/8dFHu.jpg?s=128&g=1", "display_name": "crunchy", "link": "https://stackoverflow.com/users/1091479/crunchy"}, "edited": false, "score": 0, "creation_date": 1539806794, "post_id": 52862588, "comment_id": 92639945, "body": "@crunchy yes it&#39;s good but i need to call it on each property, do you have a way to apply it on all the object? Thanks, you can answer it and i will check it for you."}], "answers": [{"tags": [], "owner": {"reputation": 627, "user_id": 1091479, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/8dFHu.jpg?s=128&g=1", "display_name": "crunchy", "link": "https://stackoverflow.com/users/1091479/crunchy"}, "is_accepted": true, "score": 0, "last_activity_date": 1539866133, "creation_date": 1539866133, "answer_id": 52874189, "question_id": 52862588, "link": "https://stackoverflow.com/questions/52862588/how-to-omit-validations-of-a-model-inside-a-parent-model/52874189#52874189", "title": "How to omit validations of a model inside a parent model?", "body": "<p>In your post action just remove each child property individually. If you have more than one or two properties you wish to skip validation I'd move them into another method so as not to clutter up the Post action.</p>\n\n<pre><code>[HttpPost]\npublic ActionResult AnAction(IndexVM model)\n{\n    ModelState.Remove(\"Child.ChildProperty1\");\n    ModelState.Remove(\"Child.ChildProperty2\");\n\n    if (!ModelState.IsValid)\n    {\n        // put code here\n    }\n\n    // carry on \n    return View(model)\n}\n</code></pre>\n"}], "owner": {"reputation": 92, "user_id": 10515084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd6780118dea11d6dfc381f243c78e5?s=128&d=identicon&r=PG&f=1", "display_name": "tahtoh", "link": "https://stackoverflow.com/users/10515084/tahtoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 52874189, "answer_count": 1, "score": 1, "last_activity_date": 1539866133, "creation_date": 1539805824, "last_edit_date": 1539810469, "question_id": 52862588, "link": "https://stackoverflow.com/questions/52862588/how-to-omit-validations-of-a-model-inside-a-parent-model", "title": "How to omit validations of a model inside a parent model?", "body": "<p>I have a parent model ParentModel containing a child model ChildModel1 and ChildModel2.</p>\n\n<p>ChildModel1 contains required data annotation, the ParentModel is used inside a view. They are both in the same form who call the same server action, depending on a boolean indicator i have in the parent model, i want to be able to omit validations of ChildModel1 or ChildModel2 so that the modelState doesn't take them into account.</p>\n\n<p>Is there a way to achieve this?</p>\n"}, {"tags": ["c#", "bitmap", "screen-capture"], "comments": [{"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1539841777, "post_id": 52862569, "comment_id": 92648929, "body": "This depends on your graphics card. 30ms/frame is about 33 frames per second, it&#39;s about average and makes for decent motion picture. You can go higher but 10,000 frames per second is ridiculous. The monitor itself has a frequency of 70 hertz, so its useless to go above 70 frames per second. Although some fancy monitors can go up to 300 hertz. Also you are only copying 100x100 pixels, so your code will be even slower if you copy the whole screen."}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "reply_to_user": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1539896434, "post_id": 52862569, "comment_id": 92678502, "body": "@BarmakShemirani If this depends on the graphics card, why do I get ~30FPS on an Amazon EC2 G2.x2large instance? Also, how can I go higher?"}], "answers": [{"comments": [{"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1539935932, "post_id": 52883290, "comment_id": 92689001, "body": "Thanks - that is what I thought. Regarding the memory-to-memory copy, will that memory contain actual screen updates? For example, if I move a window into the 100x100 area, will the memory contain that update? If so, is it possible to extract &quot;frames&quot; at say 1 per millisecond? I need to capture and determine the moment a change occurs."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "reply_to_user": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1539962884, "post_id": 52883290, "comment_id": 92703566, "body": "No that&#39;s just an example copying from uninitialized RAM memory, that&#39;s why it can reach high speed. Copying from screen is slow."}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1539984725, "post_id": 52883290, "comment_id": 92712566, "body": "Hmm, I&#39;m confused then. First, how can you copy from <code>uninitialised</code> RAM? Also, if it doesn&#39;t contain image data, what does it contain and what use is it?"}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "reply_to_user": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1539988367, "post_id": 52883290, "comment_id": 92713553, "body": "<code>Graphics g = Graphics.FromImage(bitmap)</code> is example of memory bitmap, you can use <code>Graphics</code> methods to draw on bitmap, it does not require a physical screen."}], "tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": false, "score": 0, "last_activity_date": 1539900557, "creation_date": 1539900557, "answer_id": 52883290, "question_id": 52862569, "link": "https://stackoverflow.com/questions/52862569/continuously-capturing-a-region-of-the-screen/52883290#52883290", "title": "Continuously capturing a region of the screen", "body": "<p>It is basically impossible to achieve 100,000 fps with current technology. The link to social.msdn.microsoft.com includes claims about achieving such results, but they are wrong or possibly confused between copying from memory to memory, versus copy from screen to memory.</p>\n\n<p>The example below uses core WinAPI functions. On my computer (with cheap onboard graphic card) it achieves only 60 frames per second for a small area with 100 x 100 pixels. This will be slightly faster than the code in question, but you can probably achieve the same result with .net if you clean up your code. </p>\n\n<p>Never the less, it only results in a small increase, 60 FPS or maybe 100 FPS for your computer (or less if you try to copy the whole screen)</p>\n\n<p>Note that copying from memory to memory is much faster. I do get over 100,000 FPS, but it's not an actual frame on the screen. It's just copying from memory to memory. This speed will decrease if you increase the area to something bigger than 100x100 pixels.</p>\n\n<p>Testing with cloud computers is not reliable. I am not even sure what it means to copy the screen on a cloud computer. Try testing on a desktop with better graphics card.</p>\n\n<pre><code>class Program\n{\n    [DllImport(\"user32.dll\")]\n    static extern IntPtr GetDC(IntPtr ptr);\n\n    [DllImport(\"user32.dll\")]\n    static extern bool ReleaseDC(IntPtr hWnd, IntPtr hDC);\n\n    [DllImport(\"Gdi32.dll\")]\n    static extern IntPtr CreateCompatibleDC(IntPtr hDC);\n\n    [DllImport(\"Gdi32.dll\")]\n    static extern IntPtr CreateCompatibleBitmap(IntPtr hDC, int w, int h);\n\n    [DllImport(\"Gdi32.dll\")]\n    static extern IntPtr BitBlt(IntPtr hDC, int x, int y, int w, int h, IntPtr hSrc, int sx, int sy, int mode);\n\n    [DllImport(\"Gdi32.dll\")]\n    static extern IntPtr SelectObject(IntPtr hdc, IntPtr obj);\n\n    [DllImport(\"Gdi32.dll\")]\n    static extern int DeleteObject(IntPtr hdc);\n\n    [DllImport(\"Gdi32.dll\")]\n    static extern int DeleteDC(IntPtr hdc);\n\n    static void Main(string[] args)\n    {\n        const int SRCCOPY = 0x00CC0020;\n        int w = 100;\n        int h = 100;\n\n        //get screen dc:\n        IntPtr hdc = GetDC((IntPtr)0);\n\n        //create memory dc and bitmap, select bitmap in to memory:\n        IntPtr memdc = CreateCompatibleDC(hdc);\n        IntPtr hbitmap = CreateCompatibleBitmap(hdc, w, h);\n        IntPtr holdbmp = SelectObject(memdc, hbitmap);\n\n        //create another memory dc and bitmap:\n        IntPtr memdc2 = CreateCompatibleDC(hdc);\n        IntPtr hbitmap2 = CreateCompatibleBitmap(hdc, w, h);\n        IntPtr holdbmp2 = SelectObject(memdc2, hbitmap2);\n\n        Stopwatch sw = new Stopwatch();\n\n        //copy the screen for 1 second\n        sw.Restart();\n        int fps = 0; //frames per second\n\n        for (fps = 0; sw.ElapsedMilliseconds &lt; 1000; fps++)\n            BitBlt(memdc, 0, 0, w, h, hdc, 0, 0, SRCCOPY);\n        sw.Stop();\n        Console.WriteLine($\"screen capture, FPS: {fps}\");\n\n        //copy from memory to memory for 1 second\n        sw.Restart();\n        fps = 0;\n        for (fps = 0; sw.ElapsedMilliseconds &lt; 1000; fps++)\n            BitBlt(memdc, 0, 0, w, h, memdc2, 0, 0, SRCCOPY);\n        sw.Stop();\n        Console.WriteLine($\"memory to memory copy, FPS: {fps}\");\n\n        //cleanup:\n        SelectObject(memdc, holdbmp);\n        SelectObject(memdc2, holdbmp2);\n        DeleteObject(hbitmap);\n        DeleteObject(hbitmap2);\n        DeleteDC(memdc);\n        DeleteDC(memdc2);\n        ReleaseDC((IntPtr)0, hdc);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 310, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539900557, "creation_date": 1539805731, "question_id": 52862569, "link": "https://stackoverflow.com/questions/52862569/continuously-capturing-a-region-of-the-screen", "title": "Continuously capturing a region of the screen", "body": "<p>I am looking to continuously capture a region of the screen.</p>\n\n<p>I am able to do this using <code>LockBits</code>, <code>BitBlt</code>, etc, but all my measurements have shown that it takes on average, 30 milliseconds to capture a single frame. It seems awfully similar to VSynch... which will try to keep the screen update rate at a constant 30ms...</p>\n\n<p>However, I have just come across the <a href=\"https://social.msdn.microsoft.com/Forums/en-US/b5e1ff6a-9e7d-4de9-8024-e1ddfad2b176/c-continuous-capturing-of-an-area-on-screen?forum=csharpgeneral\" rel=\"nofollow noreferrer\">following post</a>.</p>\n\n<p>In it, someone claims to get <strong>1000 frames in 95 milliseconds</strong>... that is unheard of (for me!). This is the code he has posted:</p>\n\n<pre><code>using System;\nusing System.Drawing;\nusing System.Windows.Forms;\nusing System.Drawing.Imaging;\nusing System.Diagnostics;\nnamespace WindowsFormsApplication1\n{\n  public partial class Form1 : Form\n  {\n    public Form1()\n    {\n      InitializeComponent();\n    }\n    private readonly Stopwatch sw = new Stopwatch();\n    private static Bitmap CaptureImage(int x, int y)\n    {\n      Bitmap b = new Bitmap(100, 100);\n      using (Graphics g = Graphics.FromImage(b))\n      {\n        g.CopyFromScreen(x, y, 0, 0, new Size(100, 100), CopyPixelOperation.SourceCopy);\n        g.DrawLine(Pens.Black, new Point(0, 27), new Point(99, 27));\n        g.DrawLine(Pens.Black, new Point(0, 73), new Point(99, 73));\n        g.DrawLine(Pens.Black, new Point(52, 0), new Point(52, 99));\n        g.DrawLine(Pens.Black, new Point(14, 0), new Point(14, 99));\n        g.DrawLine(Pens.Black, new Point(85, 0), new Point(85, 99));\n      }\n      return b;\n    }\n    private void button1_Click(object sender, EventArgs e)\n    {\n      Bitmap bmp = null;\n      sw.Restart();\n      for (int i = 0; i &lt; 1000; i++)\n      {\n         bmp = CaptureImage(390, 420);\n      }\n      sw.Stop();\n      Console.WriteLine(sw.ElapsedMilliseconds);\n    }\n  }\n}\n</code></pre>\n\n<p>I've tried it, and guess what.... I get ~30k milliseconds printed to console. So clearly this exact same code is still only capturing at 30ms/frame on my system. In his post, he says: </p>\n\n<blockquote>\n  <p>there must be something drastically wrong with your system if the same\n  program takes 35 milliseconds to capture 1 frame.</p>\n</blockquote>\n\n<p>This made me wonder, so I updated my graphics card drivers. Same result. Then I thought that perhaps my graphics card is old... OK, it is: AMD Radeon HD 5700 Series. Since I was suspecting VSync, I installed <code>AMD Catalyst Software Suite</code>, disabled Vsyc and restarted. Ran the test again and I got the same result: ~30k milliseconds for 1000 frames.</p>\n\n<p>I then loaded up my <code>Amazon EC2 g2.2xlarge instance</code> with Windows 10 and NVIDIA GRID K520 drivers (up to date) installed. Same result: 30ms per frame.</p>\n\n<p>Can someone with a bit more experience explain to me what is going on here?</p>\n\n<p>Is it just not possible to do what the author claims and capture 1000 frames in 95ms?</p>\n\n<p>Is there something wrong with my system? I don't know what else to try.</p>\n"}, {"tags": ["javascript", "c#", "asp.net", "angular", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 5687922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neLga.jpg?s=128&g=1", "display_name": "S.Rusdana", "link": "https://stackoverflow.com/users/5687922/s-rusdana"}, "edited": false, "score": 0, "creation_date": 1539805870, "post_id": 52862575, "comment_id": 92639548, "body": "Thank you! exactly where? In template?"}, {"owner": {"reputation": 168, "user_id": 5400174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uP5Gm.jpg?s=128&g=1", "display_name": "Brijesh Borad", "link": "https://stackoverflow.com/users/5400174/brijesh-borad"}, "reply_to_user": {"reputation": 179, "user_id": 5687922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neLga.jpg?s=128&g=1", "display_name": "S.Rusdana", "link": "https://stackoverflow.com/users/5687922/s-rusdana"}, "edited": false, "score": 0, "creation_date": 1539806294, "post_id": 52862575, "comment_id": 92639740, "body": "I have updated post already @S.Rusdana Let me know if the answer is useful for you."}, {"owner": {"reputation": 179, "user_id": 5687922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neLga.jpg?s=128&g=1", "display_name": "S.Rusdana", "link": "https://stackoverflow.com/users/5687922/s-rusdana"}, "edited": false, "score": 0, "creation_date": 1539806603, "post_id": 52862575, "comment_id": 92639872, "body": "Thanks @Brijesh..I&#39;m working on it. I will definitely let you know."}, {"owner": {"reputation": 168, "user_id": 5400174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uP5Gm.jpg?s=128&g=1", "display_name": "Brijesh Borad", "link": "https://stackoverflow.com/users/5400174/brijesh-borad"}, "reply_to_user": {"reputation": 179, "user_id": 5687922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neLga.jpg?s=128&g=1", "display_name": "S.Rusdana", "link": "https://stackoverflow.com/users/5687922/s-rusdana"}, "edited": false, "score": 0, "creation_date": 1539806769, "post_id": 52862575, "comment_id": 92639935, "body": "@S.Rusdana Ok sure. Thanks"}], "tags": [], "owner": {"reputation": 168, "user_id": 5400174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uP5Gm.jpg?s=128&g=1", "display_name": "Brijesh Borad", "link": "https://stackoverflow.com/users/5400174/brijesh-borad"}, "is_accepted": true, "score": 2, "last_activity_date": 1539806232, "last_edit_date": 1539806232, "creation_date": 1539805767, "answer_id": 52862575, "question_id": 52862464, "link": "https://stackoverflow.com/questions/52862464/angular-6-child-route-as-parameter-not-updated-whenever-it-goes-to-parameter-l/52862575#52862575", "title": "Angular 6 : Child route as parameter not updated whenever it goes to parameter link", "body": "<p>You need to add in each li (where <code>routerLinkActive</code> is used) <code>[routerLinkActiveOptions]=\"{exact:true}\"</code></p>\n\n<p>using this you can configure RouterLinkActive by passing exact: true. This will add the classes only when the url matches the link exactly.</p>\n\n<p>So your code should be like </p>\n\n<pre><code>&lt;li *ngIf=\"showMenuItem(childOfChildMenuItem)\" routerLinkActive=\"m- \n    menu__item--active\" [routerLinkActiveOptions]=\"{exact:true}\" class=\"m- \n    menu__item m-menu__item--submenu\"&gt;\n     &lt;a ....  &lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 5687922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neLga.jpg?s=128&g=1", "display_name": "S.Rusdana", "link": "https://stackoverflow.com/users/5687922/s-rusdana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52862575, "answer_count": 1, "score": 0, "last_activity_date": 1539816525, "creation_date": 1539805323, "last_edit_date": 1539816525, "question_id": 52862464, "link": "https://stackoverflow.com/questions/52862464/angular-6-child-route-as-parameter-not-updated-whenever-it-goes-to-parameter-l", "title": "Angular 6 : Child route as parameter not updated whenever it goes to parameter link", "body": "<p>Issue: Whenever I click to 1st link it always select both link.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wF6nD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wF6nD.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to know how can I update the Angular route component?</p>\n\n<p>Router Link:</p>\n\n<pre><code>{ path: 'gantt/:id', component: GanttWorkItemsComponent, data: { permission: 'Pages.WorkItems' } },\n                { path: 'gantt', component: GanttWorkItemsComponent, data: { permission: 'Pages.WorkItems' } },\n</code></pre>\n\n<p>Component Code:</p>\n\n<pre><code>constructor(\n    injector: Injector,\n    private _http: Http,\n    private _workItemsServiceProxy: WorkItemsServiceProxy,\n    private _notifyService: NotifyService,\n    private _tokenAuth: TokenAuthServiceProxy,\n    private _activatedRoute: ActivatedRoute,\n    private _fileDownloadService: FileDownloadService,\n    private params: ActivatedRoute ) {\n\n    super(injector);\n\n    this._activatedRoute.params.subscribe(val =&gt; {\n        var paramId = params.snapshot.params[\"id\"];\n\n        if (paramId) {\n            this.initiativeFilter = paramId;\n            this.nameFilter = 'strategy.id=' + this.initiativeFilter;\n\n        }\n    });\n}\n</code></pre>\n\n<p>Html Template:</p>\n\n<pre><code>&lt;nav id=\"m_ver_menu\"\n class=\"{{ui.getSideBarMenuClass()}}\"\n data-menu-vertical=\"true\"\n [attr.data-menu-dropdown]=\"ui.getIsMenuDropdown()\"\n [attr.data-menu-scrollable]=\"ui.getIsMenuScrollable()\"\n data-menu-dropdown-timeout=\"500\"\n [attr.aria-label]=\"l('LeftMenu')\"&gt;\n&lt;ul class=\"m-menu__nav {{ui.getMenuListClass()}}\"\n    role=\"menubar\"\n    [attr.aria-label]=\"l('LeftMenu')\"&gt;\n    &lt;ng-template ngFor let-menuItem [ngForOf]=\"menu.items\" let-mainMenuItemIndex=\"index\"&gt;\n        &lt;li *ngIf=\"showMenuItem(menuItem)\" routerLinkActive=\"m-menu__item--active\" class=\"m-menu__item m-menu__item--submenu\" [ngClass]=\"{'m-menu__item--expanded m-menu__item--open': menuItem.items.length &gt;  0}\" aria-haspopup=\"true\" data-menu-submenu-toggle=\"hover\"&gt;\n\n            &lt;a [routerLink]=\"[menuItem.route]\" *ngIf=\"!menuItem.items.length &amp;&amp; !menuItem.external\" class=\"m-menu__link m-menu__toggle\"\n               role=\"menuitem\"\n               aria-haspopup=\"true\"\n               aria-expanded=\"false\"\n               [attr.tabindex]=\"mainMenuItemIndex == 0 ? 0 : -1\"&gt;\n                &lt;i class=\"m-menu__link-icon {{menuItem.icon}}\"&gt;&lt;/i&gt;\n                &lt;span class=\"m-menu__link-text\"&gt;\n                    &lt;span class=\"title\"&gt;{{l(menuItem.name)}}&lt;/span&gt;\n                &lt;/span&gt;\n            &lt;/a&gt;\n\n            &lt;a [attr.href]=\"[menuItem.route]\" *ngIf=\"!menuItem.items.length &amp;&amp; menuItem.external\" class=\"m-menu__link m-menu__toggle\" target=\"_blank\"\n               role=\"menuitem\"\n               aria-haspopup=\"true\"\n               aria-expanded=\"false\"\n               [attr.tabindex]=\"mainMenuItemIndex == 0 ? 0 : -1\"&gt;\n                &lt;i class=\"m-menu__link-icon {{menuItem.icon}}\"&gt;&lt;/i&gt;\n                &lt;span class=\"m-menu__link-text\"&gt;\n                    &lt;span class=\"title\"&gt;{{l(menuItem.name)}}&lt;/span&gt;\n                &lt;/span&gt;\n            &lt;/a&gt;\n\n            &lt;a href=\"javascript:;\" *ngIf=\"menuItem.items.length\" class=\"m-menu__link m-menu__toggle\"\n               role=\"menuitem\"\n               aria-haspopup=\"true\"\n               aria-expanded=\"false\"\n               [attr.tabindex]=\"mainMenuItemIndex == 0 ? 0 : -1\"&gt;\n                &lt;i class=\"m-menu__link-icon {{menuItem.icon}}\"&gt;&lt;/i&gt;\n                &lt;span class=\"m-menu__link-text\"&gt;\n                    &lt;span class=\"title\"&gt;{{l(menuItem.name)}}&lt;/span&gt;\n                &lt;/span&gt;\n                &lt;i class=\"m-menu__ver-arrow la la-angle-right\"&gt;&lt;/i&gt;\n            &lt;/a&gt;\n            &lt;nav class=\"m-menu__submenu\" *ngIf=\"menuItem.items.length\" [attr.aria-label]=\"l(menuItem.name)\"&gt;\n                &lt;span class=\"m-menu__arrow\"&gt;&lt;/span&gt;\n                &lt;ul class=\"m-menu__subnav\"\n                    [attr.aria-label]=\"l(menuItem.name)\"\n                    role=\"menu\"&gt;\n                    &lt;ng-template ngFor let-childMenuItem [ngForOf]=\"menuItem.items\" let-mainMenuItemIndex=\"index\"&gt;\n                        &lt;li *ngIf=\"showMenuItem(childMenuItem)\" routerLinkActive=\"m-menu__item--active\" class=\"m-menu__item m-menu__item--submenu\"\n                            aria-haspopup=\"true\"\n                            data-menu-submenu-toggle=\"hover\"\n                            role=\"none\"&gt;\n                            &lt;a [routerLink]=\"[childMenuItem.route]\" *ngIf=\"!childMenuItem.items.length &amp;&amp; !childMenuItem.external\" class=\"m-menu__link m-menu__toggle\"\n                               role=\"menuitem\"\n                               aria-haspopup=\"true\"\n                               aria-expanded=\"false\"\n                               tabindex=\"-1\"&gt;\n                                &lt;i class=\"m-menu__link-icon {{childMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                &lt;span class=\"m-menu__link-text\"&gt;\n                                    &lt;span class=\"title\"&gt;{{l(childMenuItem.name)}}&lt;/span&gt;\n                                &lt;/span&gt;\n                            &lt;/a&gt;\n                            &lt;a [attr.href]=\"[childMenuItem.route]\" *ngIf=\"!childMenuItem.items.length &amp;&amp; childMenuItem.external\" class=\"m-menu__link m-menu__toggle\" target=\"_blank\"\n                               role=\"menuitem\"\n                               aria-haspopup=\"true\"\n                               aria-expanded=\"false\"\n                               tabindex=\"-1\"&gt;\n                                &lt;i class=\"m-menu__link-icon {{childMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                &lt;span class=\"m-menu__link-text\"&gt;\n                                    &lt;span class=\"title\"&gt;{{l(childMenuItem.name)}}&lt;/span&gt;\n                                &lt;/span&gt;\n                            &lt;/a&gt;\n                            &lt;a href=\"javascript:;\" class=\"m-menu__link m-menu__toggle\" *ngIf=\"childMenuItem.items.length\"\n                               role=\"menuitem\"\n                               aria-haspopup=\"true\"\n                               aria-expanded=\"false\"\n                               tabindex=\"-1\"&gt;\n                                &lt;i class=\"m-menu__link-icon {{childMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                &lt;span class=\"m-menu__link-text\"&gt;\n                                    &lt;span class=\"title\"&gt;{{l(childMenuItem.name)}}&lt;/span&gt;\n                                &lt;/span&gt;\n                                &lt;i class=\"m-menu__ver-arrow la la-angle-right\"&gt;&lt;/i&gt;\n                            &lt;/a&gt;\n                            &lt;nav class=\"m-menu__submenu\" *ngIf=\"childMenuItem.items.length\" [attr.aria-label]=\"l(menuItem.name)\"&gt;\n                                &lt;span class=\"m-menu__arrow\"&gt;&lt;/span&gt;\n                                &lt;ul class=\"m-menu__subnav\"\n                                    [attr.aria-label]=\"l(menuItem.name)\"\n                                    role=\"menu\"&gt;\n                                    &lt;!-- Menu Level 3 --&gt;\n                                    &lt;ng-template ngFor let-childOfChildMenuItem [ngForOf]=\"childMenuItem.items\" let-childOfChildMenuItemIndex=\"index\"&gt;\n                                        &lt;li *ngIf=\"showMenuItem(childOfChildMenuItem)\" routerLinkActive=\"m-menu__item--active \" class=\"m-menu__item m-menu__item--submenu\"\n                                            aria-haspopup=\"true\"\n                                            role=\"none\"\n                                            data-menu-submenu-toggle=\"hover\"&gt;\n                                            &lt;a [routerLink]=\"[childOfChildMenuItem.route]\" *ngIf=\"!childOfChildMenuItem.items.length &amp;&amp; !childOfChildMenuItem.external\" class=\"m-menu__link m-menu__toggle\"\n                                               role=\"menuitem\"\n                                               aria-haspopup=\"true\"\n                                               aria-expanded=\"false\"\n                                               tabindex=\"-1\"&gt;\n                                                &lt;i class=\"m-menu__link-icon {{childOfChildMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                                &lt;span class=\"m-menu__link-text\"&gt;\n                                                    &lt;span class=\"title\"&gt;{{l(childOfChildMenuItem.name)}}&lt;/span&gt;\n                                                &lt;/span&gt;\n                                            &lt;/a&gt;\n                                            &lt;a [attr.href]=\"[childOfChildMenuItem.route]\" *ngIf=\"!childOfChildMenuItem.items.length &amp;&amp; childOfChildMenuItem.external\" class=\"m-menu__link m-menu__toggle\" target=\"_blank\"\n                                               role=\"menuitem\"\n                                               aria-haspopup=\"true\"\n                                               aria-expanded=\"false\"\n                                               tabindex=\"-1\"&gt;\n                                                &lt;i class=\"m-menu__link-icon {{childOfChildMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                                &lt;span class=\"m-menu__link-text\"&gt;\n                                                    &lt;span class=\"title\"&gt;{{l(childOfChildMenuItem.name)}}&lt;/span&gt;\n                                                &lt;/span&gt;\n                                            &lt;/a&gt;\n                                            &lt;a href=\"javascript:;\" class=\"m-menu__link m-menu__toggle\" *ngIf=\"childOfChildMenuItem.items.length\"\n                                               role=\"menuitem\"\n                                               aria-haspopup=\"true\"\n                                               aria-expanded=\"false\"\n                                               tabindex=\"-1\"&gt;\n                                                &lt;i class=\"m-menu__link-icon {{childOfChildMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                                &lt;span class=\"m-menu__link-text\"&gt;\n                                                    &lt;span class=\"title\"&gt;{{l(childOfChildMenuItem.name)}}&lt;/span&gt;\n                                                &lt;/span&gt;\n                                                &lt;i class=\"m-menu__ver-arrow la la-angle-right\"&gt;&lt;/i&gt;\n                                            &lt;/a&gt;\n                                            &lt;nav class=\"m-menu__submenu\" *ngIf=\"childOfChildMenuItem.items.length\" [attr.aria-label]=\"l(menuItem.name)\"&gt;\n                                                &lt;span class=\"m-menu__arrow\"&gt;&lt;/span&gt;\n                                                &lt;ul class=\"m-menu__subnav\"\n                                                    [attr.aria-label]=\"l(menuItem.name)\"\n                                                    role=\"menu\"&gt;\n                                                    &lt;!-- Menu Level 4 --&gt;\n                                                    &lt;ng-template ngFor let-childOfChildOfChildMenuItem [ngForOf]=\"childOfChildMenuItem.items\" let-childOfChildMenuItemIndex=\"index\"&gt;\n                                                        &lt;li *ngIf=\"showMenuItem(childOfChildOfChildMenuItem)\" routerLinkActive=\"m-menu__item--active \" class=\"m-menu__item m-menu__item--submenu\"\n                                                            role=\"none\"&gt;\n                                                            &lt;a [routerLink]=\"[childOfChildOfChildMenuItem.route]\" *ngIf=\"!childOfChildOfChildMenuItem.external\" class=\"m-menu__link\"\n                                                               role=\"menuitem\"\n                                                               aria-haspopup=\"true\"\n                                                               aria-expanded=\"false\"\n                                                               tabindex=\"-1\"&gt;\n                                                                &lt;i class=\"m-menu__link-icon {{childOfChildOfChildMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                                                &lt;span class=\"m-menu__link-text\"&gt;\n                                                                    &lt;span class=\"title\"&gt;{{l(childOfChildOfChildMenuItem.name)}}&lt;/span&gt;\n                                                                &lt;/span&gt;\n                                                            &lt;/a&gt;\n                                                            &lt;a [attr.href]=\"[childOfChildOfChildMenuItem.route]\" *ngIf=\"childOfChildOfChildMenuItem.external\" class=\"m-menu__link\" target=\"_blank\"\n                                                               role=\"menuitem\"\n                                                               aria-haspopup=\"true\"\n                                                               aria-expanded=\"false\"\n                                                               tabindex=\"-1\"&gt;\n                                                                &lt;i class=\"m-menu__link-icon {{childOfChildOfChildMenuItem.icon}}\"&gt;&lt;/i&gt;\n                                                                &lt;span class=\"m-menu__link-text\"&gt;\n                                                                    &lt;span class=\"title\"&gt;{{l(childOfChildOfChildMenuItem.name)}}&lt;/span&gt;\n                                                                &lt;/span&gt;\n                                                            &lt;/a&gt;\n                                                        &lt;/li&gt;\n                                                    &lt;/ng-template&gt;\n                                                &lt;/ul&gt;\n                                            &lt;/nav&gt;\n                                        &lt;/li&gt;\n                                    &lt;/ng-template&gt;\n                                &lt;/ul&gt;\n                            &lt;/nav&gt;\n                        &lt;/li&gt;\n                    &lt;/ng-template&gt;\n                &lt;/ul&gt;\n            &lt;/nav&gt;\n        &lt;/li&gt;\n    &lt;/ng-template&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p></p>\n\n<p>I believe, whenever the 1st link hits one it always hits the parent route which is gantt and the parameter. Both tyff.. and Long list from same component and rote, So it never updated for parameter one. Whenever I click on the Long list it always recognizes as a Long list but never selects the tyffy one. </p>\n\n<p>Please help me to solve the issues.</p>\n"}, {"tags": ["c#", ".net", "asynchronous", "async-await", "task-parallel-library"], "comments": [{"owner": {"reputation": 135, "user_id": 9486465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Franco Fusaro", "link": "https://stackoverflow.com/users/9486465/franco-fusaro"}, "edited": false, "score": 0, "creation_date": 1539805807, "post_id": 52862419, "comment_id": 92639516, "body": "Please have a look at this post: <a href=\"https://stackoverflow.com/questions/48187976/webclient-cancelasync-file-still-downloading\" title=\"webclient cancelasync file still downloading\">stackoverflow.com/questions/48187976/&hellip;</a>"}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 135, "user_id": 9486465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Franco Fusaro", "link": "https://stackoverflow.com/users/9486465/franco-fusaro"}, "edited": false, "score": 0, "creation_date": 1539807065, "post_id": 52862419, "comment_id": 92640046, "body": "@FrancoFusaro Thanks. You can transform that into an answer. Though I&#39;m still waiting to see if anyone comes up with a simpler way."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 135, "user_id": 9486465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Franco Fusaro", "link": "https://stackoverflow.com/users/9486465/franco-fusaro"}, "edited": false, "score": 0, "creation_date": 1539807705, "post_id": 52862419, "comment_id": 92640368, "body": "@FrancoFusaro I&#39;ll also add that according to the links in <a href=\"https://codereview.stackexchange.com/a/69954\">this answer on Code Review</a> a single HttpClient must be used for the whole application, and that then leads to other problems (such as stale DNS)."}, {"owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1539812156, "post_id": 52862419, "comment_id": 92642203, "body": "@ispiro it&#39;s not <b>must</b>, it&#39;s recommended. All in all, cancelling the download is a common problem in .Net with no simple solution. You may try to partially download it, or download it to file (as in linked answer), but there is no magic way to tell unmanaged code that it needs to stop."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1539812861, "post_id": 52862419, "comment_id": 92642463, "body": "@VMAtm It&#39;s recommended for a good reason - <a href=\"https://aspnetmonsters.com/2016/08/2016-08-27-httpclientwrong/\" rel=\"nofollow noreferrer\">here&#39;s a post</a> about how bad it can get if you create new ones every time. But point taken - there seems to be no magical solution."}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 5916272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SMifm.jpg?s=128&g=1", "display_name": "YouneS", "link": "https://stackoverflow.com/users/5916272/younes"}, "is_accepted": false, "score": -1, "last_activity_date": 1539806517, "creation_date": 1539806517, "answer_id": 52862755, "question_id": 52862419, "link": "https://stackoverflow.com/questions/52862419/how-to-stop-a-webclient-download/52862755#52862755", "title": "How to STOP a WebClient download", "body": "<p>You can continu using <strong>CancelAsync()</strong>, but you need to verify that the file is not canceled inside the <em>DownloadFileCompleted event</em></p>\n\n<pre><code>webClient.DownloadFileCompleted += (s, e) =&gt;\n{\n      if (e.Cancelled)\n      {\n          //cleanup delete partial file\n          Client.Dispose();                    \n          return;\n      } \n      else \n      {/* the file is not cancelled, do what you need with it here, no TaskCanceledException would occure */}\n }\n</code></pre>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1183, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1539806517, "creation_date": 1539805098, "last_edit_date": 1539805399, "question_id": 52862419, "link": "https://stackoverflow.com/questions/52862419/how-to-stop-a-webclient-download", "title": "How to STOP a WebClient download", "body": "<p>When downloading data using </p>\n\n<pre><code>byte[] data = await webClient.DownloadDataTaskAsync(uri);\n</code></pre>\n\n<p>or any other <code>async</code> method, is there some way to <strong><em>stop</em></strong> the download? I don't want to just ignore the result. I want to abort the download which can be expensive on mobile, and can slow down an alternative download if the user has cancelled it in favor of a different download.</p>\n\n<p>I tried </p>\n\n<pre><code>webClient.CancelAsync();\n</code></pre>\n\n<p>but it seems to just raise a <code>TaskCanceledException</code> <em>after</em> the download is completed. I see this by wrapping the awaited download in a try-catch block. The catch is called a long time after the <code>CancelAsync()</code> is.</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "webclient", "windows-authentication"], "comments": [{"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1546908955, "post_id": 52862388, "comment_id": 95001050, "body": "Can you show us the response header which shows the full content-length? How much of the content is returned? How large is the HTML response?"}, {"owner": {"reputation": 1227, "user_id": 4183499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ErL6G.png?s=128&g=1", "display_name": "Jose M.", "link": "https://stackoverflow.com/users/4183499/jose-m"}, "edited": false, "score": 2, "creation_date": 1546935880, "post_id": 52862388, "comment_id": 95007973, "body": "Can you capture the traffic with <a href=\"https://www.telerik.com/download/fiddler\" rel=\"nofollow noreferrer\">Fiddler</a> to see the real response?"}], "answers": [{"comments": [{"owner": {"reputation": 487, "user_id": 2011684, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cf0e9291a0ceccaa30d126e091ecfd3a?s=128&d=identicon&r=PG", "display_name": "Alex W.", "link": "https://stackoverflow.com/users/2011684/alex-w"}, "edited": false, "score": 0, "creation_date": 1547062141, "post_id": 54088523, "comment_id": 95066766, "body": "Thank you! Applicaiton Pool Identiy is the issue."}], "tags": [], "owner": {"reputation": 745, "user_id": 729122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d5bb2a61eefcf834861b8bb98a25f69?s=128&d=identicon&r=PG", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/729122/gaurav"}, "is_accepted": true, "score": 1, "last_activity_date": 1546938726, "creation_date": 1546938726, "answer_id": 54088523, "question_id": 52862388, "link": "https://stackoverflow.com/questions/52862388/webexception-response-didnt-return-the-full-response/54088523#54088523", "title": "WebException response didn&#39;t return the full response", "body": "<p>I think you have access to active directory that's why code works on local but on IIS the application pool is running from ApplicationPoolIdentity which does not have access. </p>\n\n<p>Go to the application pool and change the identity to your account. Here is an image for your reference:<a href=\"https://i.stack.imgur.com/HfsgI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HfsgI.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 487, "user_id": 2011684, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cf0e9291a0ceccaa30d126e091ecfd3a?s=128&d=identicon&r=PG", "display_name": "Alex W.", "link": "https://stackoverflow.com/users/2011684/alex-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 54088523, "answer_count": 1, "score": 2, "last_activity_date": 1546938726, "creation_date": 1539804969, "last_edit_date": 1546551524, "question_id": 52862388, "link": "https://stackoverflow.com/questions/52862388/webexception-response-didnt-return-the-full-response", "title": "WebException response didn&#39;t return the full response", "body": "<p>I am using WebClient in my Web API service (Windows Autheticated) to make a HTTP call to our Corporate directory (Windows Autheticated) to get profile for a user. Please see below. </p>\n\n<pre><code>public string DownloadPage(string ntid)\n    {\n        var result = \"\";\n\n        try\n        {\n            using (var client = new WebClient() {UseDefaultCredentials = true})\n            {\n                using (var stream = client.OpenRead($\"{url}{urlParameter}{ntid}\"))\n                {\n                    using (var reader = new StreamReader(stream))\n                    {\n                        result = reader.ReadToEnd();\n                    }\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            log.Error(ex); \n        }\n\n        log.Info(result);\n        return result;\n    }\n</code></pre>\n\n<p>The code works perfect locally and in our testing environment, but returned \"500 internal server error\" when I deployed it to Produciton environment. I resolved the 500 error based on the solution from <a href=\"https://stackoverflow.com/questions/4098945/500-internal-server-error-at-getresponse\">500 internal server error at GetResponse()</a>. Please see codes below. However, I found that only part of html got returned. Is there anything like body length or max return size I need to set from code or IIS?</p>\n\n<pre><code> public string DownloadPage(string ntid)\n    {\n        var result = \"\";\n\n        try\n        {\n            using (var client = new WebClient() {UseDefaultCredentials = true})\n            {\n                using (var stream = client.OpenRead($\"{url}{urlParameter}{ntid}\"))\n                {\n                    using (var reader = new StreamReader(stream))\n                    {\n                        result = reader.ReadToEnd();\n                    }\n                }\n            }\n        }\n        catch (WebException webex)\n        {\n            //https://stackoverflow.com/questions/4098945/500-internal-server-error-at-getresponse\n            var errResp = webex.Response;\n            using (var stream = errResp.GetResponseStream())\n            {\n                using (var reader = new StreamReader(stream))\n                {\n                    result = reader.ReadToEnd();\n                }\n            }\n        }\n        catch (Exception ex)\n        {\n            log.Error(ex); \n        }\n\n        log.Info(result);\n        return result;\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 16641, "user_id": 1744164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c224e326809636f5f5d3841899571e?s=128&d=identicon&r=PG", "display_name": "Sir Rufo", "link": "https://stackoverflow.com/users/1744164/sir-rufo"}, "edited": false, "score": 2, "creation_date": 1539805583, "post_id": 52862379, "comment_id": 92639405, "body": "there are a lot of examples if you search for <i>wpf search listbox</i> with your favorite search engine"}], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 6354111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rsqYb.jpg?s=128&g=1", "display_name": "Ader Silva", "link": "https://stackoverflow.com/users/6354111/ader-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1539809029, "last_edit_date": 1539809029, "creation_date": 1539807456, "answer_id": 52862963, "question_id": 52862379, "link": "https://stackoverflow.com/questions/52862379/searching-a-wpf-list-box-in-c/52862963#52862963", "title": "Searching a WPF list box in c#", "body": "<p>In essence, for what you need to do, there are two operations you need to know how to perform, which are kind of independent from one another:</p>\n\n<ol>\n<li>Getting a collection from a <code>ListBox</code> in WPF</li>\n<li>Finding an item on a collection</li>\n</ol>\n\n<h1>How to get a collection from a ListBox</h1>\n\n<p>A <code>ListBox</code> holds its items on a collection. We just need to access that collection and then query it to find the item we want. Depending on how you're defining the items of your <code>ListBox</code>, you can get the collection containing its items by using its <code>Items</code> or <code>ItemsSource</code> property. The type of the items on the <code>ListBox</code> depends totally on how you populated the <code>ListBox</code>. WPF data templating conventions and patterns assume you are populating the <code>ListBox</code> with a data type (like your <code>MyCoolObject</code>), so operations like this one you're trying to accomplish are easy to perform.</p>\n\n<p>See <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.controls.itemscontrol?view=netframework-4.7.2#remarks\" rel=\"nofollow noreferrer\">ItemsControl</a> class documentation for more information. <code>ListBox</code> is an <code>ItemsControl</code> derived class and this documentation describes how controls with items are used in WPF.</p>\n\n<h1>How to find an item on a collection</h1>\n\n<p>It all depends on where you're storing your items, but assuming you're storing your items on some collection, you can use LINQ to find an item.</p>\n\n<p>For example, you might be using an hypothetical custom object, named <code>MyCoolObject</code>, which has a <code>String</code> property named <code>Text</code>, which would look like the following:</p>\n\n<pre><code>public class MyCoolObject\n{\n    public string Text { get; set; }\n    public DateTime Date { get; set; }\n}\n</code></pre>\n\n<p>Now, suppose you have a collection somewhere like the following:</p>\n\n<pre><code>public List&lt;MyCoolObject&gt; myCollection;\n</code></pre>\n\n<p>You can search an item inside your collection using a LINQ query like this one:</p>\n\n<pre><code>var foundObjects = myCollection.Where((myObject) =&gt; myObject.Text.Equals(\"Text you want to find\", StringComparison.OrdinalIgnoreCase));\n</code></pre>\n\n<p>The <code>Where</code> method I use above, accepts a delegate, which I provide as a lambda expression for convenience. In this example, I search for objects whose <code>Text</code> property equals to \"Text you want to find\", using binary comparison and ignoring case. The <code>Where</code> method, then returns a collection containing all the found objects, which is stored on the <code>foundObjects</code> variable.</p>\n\n<p>The <code>Where</code> method, gets all items on the collection that match that text, but you could simply use the <code>FirstOrDefault</code> method, which would return only the first object on the collection.</p>\n\n<p>As a side note, remember LINQ features require you to insert the following using directive on the top of your C# file for them to be available:</p>\n\n<pre><code>using System.Linq;\n</code></pre>\n\n<p>See this <a href=\"https://stackoverflow.com/questions/8062954/linq-find-element-in-a-collection\">question</a> for more information on how to find an item on a collection with C#. This has several simple answers that explain many ways to find what you need on a collection.\nSee also <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.find?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">List.Find</a> method documentation, which describes how to use the <code>Find</code> method of a <code>List</code> collection, in case you're using a <code>List</code> as your collection. This one is not a LINQ feature.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 3029780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ux3YJ.jpg?s=128&g=1", "display_name": "desmondprice", "link": "https://stackoverflow.com/users/3029780/desmondprice"}, "is_accepted": false, "score": 0, "last_activity_date": 1539809899, "creation_date": 1539809899, "answer_id": 52863519, "question_id": 52862379, "link": "https://stackoverflow.com/questions/52862379/searching-a-wpf-list-box-in-c/52863519#52863519", "title": "Searching a WPF list box in c#", "body": "<p>I'd create a textbox to hold the search element, loop through the listbox items searching for the element while keeping track of the listbox index. Set the ListBox selectedIndex to the relevant index when found.</p>\n\n<p>If Linq is too complicated, just use a for or foreach loop</p>\n"}], "owner": {"reputation": 11, "user_id": 9250225, "user_type": "registered", "profile_image": "https://graph.facebook.com/1982743958656453/picture?type=large", "display_name": "Ruben Hopkins", "link": "https://stackoverflow.com/users/9250225/ruben-hopkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 571, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1539809899, "creation_date": 1539804923, "last_edit_date": 1539805051, "question_id": 52862379, "link": "https://stackoverflow.com/questions/52862379/searching-a-wpf-list-box-in-c", "title": "Searching a WPF list box in c#", "body": "<p>I am making a register that gets data for a person when you click on their name in a list box, it works great, but the person I am making it for has requested to be able to search the list box. I have looked all over the internet and haven't been able to find any simple help on this topic, I am fairly new to c# so a simple solution would be much appreciated</p>\n"}, {"tags": ["c#", ".net", "outlook", "outlook-2010"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1531971"}, "edited": false, "score": 0, "creation_date": 1539805402, "post_id": 52862360, "comment_id": 92639325, "body": "Related: <a href=\"https://stackoverflow.com/q/90899/1531971\">stackoverflow.com/q/90899/1531971</a> (among many others)"}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 10520449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ec026eb3d4d2520fc45758a3c62806?s=128&d=identicon&r=PG&f=1", "display_name": "jj.doe", "link": "https://stackoverflow.com/users/10520449/jj-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1539977428, "creation_date": 1539977428, "answer_id": 52898826, "question_id": 52862360, "link": "https://stackoverflow.com/questions/52862360/getshareddefaultfolder-always-return-inbox-regardless-of-foldertype-provided/52898826#52898826", "title": "GetSharedDefaultFolder() always return inbox regardless of FolderType provided", "body": "<p>Solved.</p>\n\n<p>Of course I didn't read the method details page close enough.....<a href=\"https://docs.microsoft.com/en-us/office/vba/api/outlook.namespace.getshareddefaultfolder\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/office/vba/api/outlook.namespace.getshareddefaultfolder</a></p>\n\n<blockquote>\n  <p>\"This method is used in a delegation scenario, where one user has\n  delegated access to another user for one or more of their default\n  folders (for example, their shared Calendar folder).\"</p>\n</blockquote>\n\n<p>I was not a delegate.</p>\n"}], "owner": {"reputation": 13, "user_id": 10520449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81ec026eb3d4d2520fc45758a3c62806?s=128&d=identicon&r=PG&f=1", "display_name": "jj.doe", "link": "https://stackoverflow.com/users/10520449/jj-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539977428, "creation_date": 1539804855, "last_edit_date": 1539807513, "question_id": 52862360, "link": "https://stackoverflow.com/questions/52862360/getshareddefaultfolder-always-return-inbox-regardless-of-foldertype-provided", "title": "GetSharedDefaultFolder() always return inbox regardless of FolderType provided", "body": "<p>I am trying to retrieve shared calendars from outlook in c#, using the example provided here (<a href=\"https://docs.microsoft.com/en-us/office/client-developer/outlook/pia/how-to-display-a-shared-calendar-of-a-recipient\" rel=\"nofollow noreferrer\">Display a shared calendar of a recipient</a>)</p>\n\n<p>The attempt to iterate through folder.Items by doing an <code>foreach (Microsoft.Office.Interop.Outlook.AppointmentItem item in outlookCalendarItems)</code> has always resulted in a COM exception.</p>\n\n<p>After some trial and error, I've noticed that the .GetSharedDefaultFolder() has been always returning inbox folder instead of calendar, despite passing in the right folder type...</p>\n\n<p>Here is relevant code (or what I think is relevant at least...). Noticed that CalendarFolder.DefaultMessageClass is always IPM.NOTE. When making GetSharedDefaultFolder() call with my own email address (currently signed in user of outlook), DefaultMessageClass is IPM.Appointment correctly.</p>\n\n<p>I can access the selected users shared folder using Outlook GUI from \"Open Other Users's Folder\" - select folder type calendar in the dropdown.</p>\n\n<pre><code>AddressEntry addrEntry =\n            oApp.Session.CurrentUser.AddressEntry;\n        if (addrEntry.Type == \"EX\")\n        {\n            ExchangeUser manager =\n                oApp.Session.CurrentUser.\n                    AddressEntry.GetExchangeUser().GetExchangeUserManager();\n            if (manager != null)\n            {\n                Recipient recip =\n                    oApp.Session.CreateRecipient(manager.Name);\n                if (recip.Resolve())\n                {\n                    try {\n                        CalendarFolder =\n                            oApp.Session.GetSharedDefaultFolder(\n                                    recip, OlDefaultFolders.olFolderCalendar)\n                                as Folder;\n                        Console.WriteLine($\"{manager.Name}'s: \" + CalendarFolder.DefaultMessageClass);\n                    }\n                    catch (System.Exception ex )\n                    {\n                        Console.Write(ex);\n                    }\n                }\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "cmd", "discord"], "comments": [{"owner": {"reputation": 5795, "user_id": 254109, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/788da16a4617bd79f2bf91d8dc258455?s=128&d=identicon&r=PG", "display_name": "xmedeko", "link": "https://stackoverflow.com/users/254109/xmedeko"}, "edited": false, "score": 0, "creation_date": 1539804743, "post_id": 52862296, "comment_id": 92639026, "body": "Try to wrap it in <code>try .. catch (Exception ex) {Console.WriteLine(ex);}</code> and do <code>Console.ReadLine()</code> at the end so your program waits for Enter key."}, {"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 0, "creation_date": 1539804863, "post_id": 52862296, "comment_id": 92639087, "body": "You need to introduce a loop that will run with some sort of exit condition. Like a <code>quit</code> command. The loop could be checking that a <code>quitRequested</code> boolean remains false, and have the <code>quit</code> command set <code>quitRequested</code> to true."}, {"owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "reply_to_user": {"reputation": 5795, "user_id": 254109, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/788da16a4617bd79f2bf91d8dc258455?s=128&d=identicon&r=PG", "display_name": "xmedeko", "link": "https://stackoverflow.com/users/254109/xmedeko"}, "edited": false, "score": 0, "creation_date": 1539804904, "post_id": 52862296, "comment_id": 92639104, "body": "@xmedeko That will only keep the console window open. It will not keep running the app and continue listening for commands."}, {"owner": {"reputation": 3, "user_id": 8026025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sYzX8.jpg?s=128&g=1", "display_name": "BigChongusTheEighth", "link": "https://stackoverflow.com/users/8026025/bigchongustheeighth"}, "edited": false, "score": 0, "creation_date": 1539804921, "post_id": 52862296, "comment_id": 92639111, "body": "I believe this would stop the bot from functioning completely. It is listening for a command via Discord web sockets, nothing ever gets typed into console"}, {"owner": {"reputation": 3, "user_id": 8026025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sYzX8.jpg?s=128&g=1", "display_name": "BigChongusTheEighth", "link": "https://stackoverflow.com/users/8026025/bigchongustheeighth"}, "reply_to_user": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "edited": false, "score": 0, "creation_date": 1539804968, "post_id": 52862296, "comment_id": 92639132, "body": "@LewsTherin I will give that a go"}], "answers": [{"tags": [], "owner": {"reputation": 3511, "user_id": 4416750, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/067235b492b0e0006e6ce8f5f8bc523a?s=128&d=identicon&r=PG&f=1", "display_name": "Lews Therin", "link": "https://stackoverflow.com/users/4416750/lews-therin"}, "is_accepted": false, "score": 1, "last_activity_date": 1539805311, "creation_date": 1539805311, "answer_id": 52862461, "question_id": 52862296, "link": "https://stackoverflow.com/questions/52862296/c-discord-bot-cmd-window-closing/52862461#52862461", "title": "C# Discord Bot cmd window closing", "body": "<p>You should encapsulate the code in your <code>Main()</code> method in a loop that waits for some form of <code>quit</code> command from Discord. Something like:</p>\n\n<pre><code>static void Main(string[] args) \n{  \n    bool quitRequested = false;\n\n    while (!quitRequested)\n    {\n        // In your program you need it to receive a \"quit\" command from discord and\n        // return a bool that is set to \"true\" when the \"quit\" command is received.\n        quitRequested = new Program().StartAsync().GetAwaiter().GetResult();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8026025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sYzX8.jpg?s=128&g=1", "display_name": "BigChongusTheEighth", "link": "https://stackoverflow.com/users/8026025/bigchongustheeighth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539805311, "creation_date": 1539804545, "question_id": 52862296, "link": "https://stackoverflow.com/questions/52862296/c-discord-bot-cmd-window-closing", "title": "C# Discord Bot cmd window closing", "body": "<p>Having a pretty simple problem but can't seem to find the answer anywhere. I have written a bot for Discord in C#, when debugging, or running from the debug folder everything works as expected. I have now completed all of my functionality, however when I do a release build and run the .exe the command prompt window flashes up and closes again. I understand this is usual behaviour for when the code has finished executing which it would have in this instance. However this is bot waiting for commands, I need the app to keep running and listening for commands.</p>\n\n<p>The code I am using as my program main is:</p>\n\n<pre><code>static void Main(string[] args) =&gt; new Program().StartAsync().GetAwaiter().GetResult();\n</code></pre>\n\n<p>I believe the issue must be here. </p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 3, "creation_date": 1539804407, "post_id": 52862247, "comment_id": 92638885, "body": "What <i>exactly</i> is the error message? Can you reproduce this in a minimal example?"}], "answers": [{"tags": [], "owner": {"reputation": 2069, "user_id": 471881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9bfdd45239598ef7e69858e41a0fb32?s=128&d=identicon&r=PG", "display_name": "acoolaum", "link": "https://stackoverflow.com/users/471881/acoolaum"}, "is_accepted": false, "score": 2, "last_activity_date": 1539805263, "creation_date": 1539805263, "answer_id": 52862453, "question_id": 52862247, "link": "https://stackoverflow.com/questions/52862247/ambiguous-void-name-remains-after-removing-one-fo-the-using-statements/52862453#52862453", "title": "ambiguous void name remains after removing one fo the using statements", "body": "<p>You can use UnityEngine.Random in you code.</p>\n"}, {"tags": [], "owner": {"reputation": 850, "user_id": 2992984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTzZo.png?s=128&g=1", "display_name": "Ghost4Man", "link": "https://stackoverflow.com/users/2992984/ghost4man"}, "is_accepted": true, "score": 6, "last_activity_date": 1539806171, "creation_date": 1539806171, "answer_id": 52862685, "question_id": 52862247, "link": "https://stackoverflow.com/questions/52862247/ambiguous-void-name-remains-after-removing-one-fo-the-using-statements/52862685#52862685", "title": "ambiguous void name remains after removing one fo the using statements", "body": "<p>If there are two classes called <code>Random</code> in two different namespaces, you can specify which class you want to use (to get rid of the error) by adding an alias for one of them:</p>\n\n<pre><code>using Random = System.Random;\n// or\nusing Random = UnityEngine.Random;\n</code></pre>\n\n<p>The alias doesn't have to be the same as the name of the class, so you can create aliases like <code>UnityRandom</code>.</p>\n"}], "owner": {"reputation": 115, "user_id": 9397484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q4HGu95pw24/AAAAAAAAAAI/AAAAAAAAAAg/YYDDygRV8X0/photo.jpg?sz=128", "display_name": "Daan Koning", "link": "https://stackoverflow.com/users/9397484/daan-koning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 52862685, "answer_count": 2, "score": 1, "last_activity_date": 1539806171, "creation_date": 1539804365, "question_id": 52862247, "link": "https://stackoverflow.com/questions/52862247/ambiguous-void-name-remains-after-removing-one-fo-the-using-statements", "title": "ambiguous void name remains after removing one fo the using statements", "body": "<p>so I had a script that started with both</p>\n\n<pre><code>using UnityEngine\n</code></pre>\n\n<p>and</p>\n\n<pre><code>using System\n</code></pre>\n\n<p>which told me <code>Random</code> was used in both which was fair so I removed the</p>\n\n<pre><code>using System\n</code></pre>\n\n<p>line as I wasn't using it anyway but this still throws the same error. I've tried to restart Unity, restart Visual Studio, restart my computer. Every reasonable solution seemed to not achieve anything.</p>\n"}, {"tags": ["c#", ".net", "multithreading", "task-parallel-library", "console-application"], "comments": [{"owner": {"reputation": 386, "user_id": 7007925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20c65576e0e1a912180d2617470a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wiz", "link": "https://stackoverflow.com/users/7007925/wiz"}, "edited": false, "score": 0, "creation_date": 1539808660, "post_id": 52862245, "comment_id": 92640819, "body": "Perhaps this post will help. I believe it is similar. They mention that an option is to write your own TaskScheduler implementation to address this type of issue. <a href=\"https://stackoverflow.com/questions/6156878/can-threads-started-by-tasks-parallel-library-act-as-foreground-threads\" title=\"can threads started by tasks parallel library act as foreground threads\">stackoverflow.com/questions/6156878/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1539806464, "post_id": 52862437, "comment_id": 92639810, "body": "It seems to wait until the email is sent, then continues processing the next email.  If I had 100 emails to send, then it would be a queue of 100 instead of them going in parallel. That is just what I see when I breakpoint."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1539808793, "post_id": 52862437, "comment_id": 92640896, "body": "@MikeFlynn can you show how you process the emails. I get the feeling that this may be an XR problem. I am getting the vibe that you have a list of this call to make and that it should be in a <code>Task.WhenAll</code>, but wont be sure till I get  better picture of the bigger system."}, {"owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1539829675, "post_id": 52862437, "comment_id": 92646136, "body": "I think that worked.  I keep a list of those tasks stored in a list.  Then at the end of the application I do the WhenAll and it seems to send both without issue now.  I assume there are no downside to this async/wait/whenall stuff?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "edited": false, "score": 0, "creation_date": 1539830115, "post_id": 52862437, "comment_id": 92646233, "body": "@MikeFlynn <code>Task.WhenAll</code> and the TPL related API are pretty stable within the framework. I would suggest batching the tasks to help manage available threads."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1539815903, "last_edit_date": 1539815903, "creation_date": 1539805217, "answer_id": 52862437, "question_id": 52862245, "link": "https://stackoverflow.com/questions/52862245/send-smtp-email-getting-forcibly-closed-in-console-application-before-it-can-sen/52862437#52862437", "title": "Send SMTP email getting forcibly closed in console application before it can send email in .NET", "body": "<p>Use the <code>SmtpClient.SendMailAsync</code> which can be awaited.</p>\n\n<pre><code>private async Task SendFromServer(MailMessage mailMessage) {\n    using (var smtp = new SmtpClient()) {\n        try {\n            await smtp.SendMailAsync(mailMessage);\n        } catch (Exception ex) {\n            Logger.Error(ex.InnerException ?? ex);\n        }\n    }\n}\n</code></pre>\n\n<p>and since it is being called in a console application you would need to call it like</p>\n\n<pre><code>//get all notification tasks. Assuming notifications =&gt; List&lt;MailMessage&gt;\nvar tasks = notifications.Select(message =&gt; SendFromServer(message));\n//execute all asynchronously\nTask.WhenAll(tasks).GetAwaiter().GetResult();\n</code></pre>\n\n<p>so the console application waits for all of them to complete their tasks</p>\n"}], "owner": {"reputation": 22155, "user_id": 280602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/wHKmF.jpg?s=128&g=1", "display_name": "Mike Flynn", "link": "https://stackoverflow.com/users/280602/mike-flynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 52862437, "answer_count": 1, "score": 1, "last_activity_date": 1539815903, "creation_date": 1539804357, "last_edit_date": 1539805169, "question_id": 52862245, "link": "https://stackoverflow.com/questions/52862245/send-smtp-email-getting-forcibly-closed-in-console-application-before-it-can-sen", "title": "Send SMTP email getting forcibly closed in console application before it can send email in .NET", "body": "<p>I have an email notifier application that sends emails out and we do so in a console application that runs every 5 minutes. We run the email part in a task so it can continue onto another group of notifications.  </p>\n\n<p>However, we we run one notification, the console closes and the email never gets sent. On the SMTP side it says the host was forcibly closed. How can I keep the console application alive until all tasks are finished, but still be able to multi thread.</p>\n\n<blockquote>\n  <p>The read operation failed. Bytes transferred: 0 Remote IP:\n  44.444.444.44, Session: 124992, Code: 10054, Message: An existing connection was forcibly closed by the remote host</p>\n</blockquote>\n\n<pre><code>private Task SendFromServer(MailMessage mailMessage, bool reuse, bool useServerSmtp)\n{\n    return Task.Factory.StartNew(() =&gt;\n                {\n                    var smtp = new SmtpClient();\n                    smtp.Send(mailMessage);\n                }\n                catch (Exception ex)\n                {\n                    Logger.Error(ex.InnerException ?? ex);\n                }\n                finally\n                {\n                    if(!reuse)\n                        mailMessage.Dispose();\n                }\n            });\n        }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 23174, "user_id": 404, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0a99e26b3a51cd326e188a6a60de1eb6?s=128&d=identicon&r=PG", "display_name": "Chris Farmer", "link": "https://stackoverflow.com/users/404/chris-farmer"}, "edited": false, "score": 0, "creation_date": 1539804385, "post_id": 52862198, "comment_id": 92638879, "body": "Also, that <code>^%</code> regex will always only have one match."}, {"owner": {"reputation": 23174, "user_id": 404, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0a99e26b3a51cd326e188a6a60de1eb6?s=128&d=identicon&r=PG", "display_name": "Chris Farmer", "link": "https://stackoverflow.com/users/404/chris-farmer"}, "edited": false, "score": 2, "creation_date": 1539804412, "post_id": 52862198, "comment_id": 92638888, "body": "And why do you need to use regular expressions here?"}, {"owner": {"reputation": 8580, "user_id": 1377826, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f0b6e6e3ea80d80ea4f6c4955c10031c?s=128&d=identicon&r=PG", "display_name": "sharon Hwk", "link": "https://stackoverflow.com/users/1377826/sharon-hwk"}, "reply_to_user": {"reputation": 23174, "user_id": 404, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0a99e26b3a51cd326e188a6a60de1eb6?s=128&d=identicon&r=PG", "display_name": "Chris Farmer", "link": "https://stackoverflow.com/users/404/chris-farmer"}, "edited": false, "score": 0, "creation_date": 1539804439, "post_id": 52862198, "comment_id": 92638898, "body": "Ya, But, now I need to specify in the Regex to remove a particular character index."}, {"owner": {"reputation": 8580, "user_id": 1377826, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f0b6e6e3ea80d80ea4f6c4955c10031c?s=128&d=identicon&r=PG", "display_name": "sharon Hwk", "link": "https://stackoverflow.com/users/1377826/sharon-hwk"}, "reply_to_user": {"reputation": 23174, "user_id": 404, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0a99e26b3a51cd326e188a6a60de1eb6?s=128&d=identicon&r=PG", "display_name": "Chris Farmer", "link": "https://stackoverflow.com/users/404/chris-farmer"}, "edited": false, "score": 0, "creation_date": 1539804463, "post_id": 52862198, "comment_id": 92638909, "body": "@ChrisFarmer Home work. :)"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1539804625, "post_id": 52862198, "comment_id": 92638978, "body": "See <a href=\"https://stackoverflow.com/questions/41971945/replacing-the-nth-character-in-a-string-only-if-it-is-a-particular-character-in\" title=\"replacing the nth character in a string only if it is a particular character in\">stackoverflow.com/questions/41971945/&hellip;</a>, <a href=\"https://stackoverflow.com/questions/38624383/regex-to-add-a-character-at-nth-position\" title=\"regex to add a character at nth position\">stackoverflow.com/questions/38624383/&hellip;</a>"}, {"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 0, "creation_date": 1539804730, "post_id": 52862198, "comment_id": 92639015, "body": "regex is to search for patterns, not to get index-based characters."}, {"owner": {"reputation": 13442, "user_id": 3982562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a3c7aae1d762372cda697833c602ec8?s=128&d=identicon&r=PG", "display_name": "3limin4t0r", "link": "https://stackoverflow.com/users/3982562/3limin4t0r"}, "edited": false, "score": 1, "creation_date": 1539807852, "post_id": 52862198, "comment_id": 92640435, "body": "Search <code>&quot;^(.{7}).&quot;</code> and replace with <code>&quot;$1&quot;</code>. If <i>C#</i> supports <a href=\"https://www.regular-expressions.info/keep.html\" rel=\"nofollow noreferrer\"><code>\\K</code></a> you could also use <code>&quot;^.{7}\\\\K.&quot;</code> with replacement <code>&quot;&quot;</code>. Or using a <a href=\"https://www.regular-expressions.info/lookaround.html#lookbehind\" rel=\"nofollow noreferrer\">lookbehind</a> <code>&quot;(?&lt;=^.{7}).&quot;</code> with replacement <code>&quot;&quot;</code>. I&#39;m not sure if <i>C#</i> supports <code>\\K</code>, or <a href=\"https://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">quantifiers</a> inside a lookbehind though."}, {"owner": {"reputation": 2691, "user_id": 4864063, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259670624966/picture?type=large", "display_name": "jmcgriz", "link": "https://stackoverflow.com/users/4864063/jmcgriz"}, "edited": false, "score": 0, "creation_date": 1539808232, "post_id": 52862198, "comment_id": 92640625, "body": "In your exact example, you could potentially use a positive lookbehind like this: <code>(?&lt;=(fd){n})fd</code> where <code>n</code> is the number of matches you want to skip before replacing"}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1539809050, "post_id": 52862198, "comment_id": 92640999, "body": "&quot;index&quot; is usually used for a specific position within a string, independent of specific character. Do you maybe mean &quot;the nth occurrence of&quot; that character? Could you give an example?"}], "answers": [{"comments": [{"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1539808336, "post_id": 52862982, "comment_id": 92640678, "body": "It is possible with just regex, if you use a capture group."}, {"owner": {"reputation": 1325, "user_id": 8949166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zGGTy.png?s=128&g=1", "display_name": "realharry", "link": "https://stackoverflow.com/users/8949166/realharry"}, "reply_to_user": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1539808971, "post_id": 52862982, "comment_id": 92640970, "body": "yes, but you have to &quot;concat&quot; matched groups in some way. I wouldn&#39;t call it a &quot;regex only&quot; solution."}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1539863576, "post_id": 52862982, "comment_id": 92660174, "body": "Not at all. Put a capture group in the regex that captures one less character than the whole matched expression, and replace that by the contents of the capture group, and you&#39;re done."}], "tags": [], "owner": {"reputation": 1325, "user_id": 8949166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zGGTy.png?s=128&g=1", "display_name": "realharry", "link": "https://stackoverflow.com/users/8949166/realharry"}, "is_accepted": false, "score": 0, "last_activity_date": 1541620135, "last_edit_date": 1541620135, "creation_date": 1539807533, "answer_id": 52862982, "question_id": 52862198, "link": "https://stackoverflow.com/questions/52862198/replace-the-nth-index-of-a-character/52862982#52862982", "title": "Replace the nth index of a character", "body": "<p>What you want to do may not be possible with Regex alone. This is sort of a cheat:</p>\n\n<pre><code>var input = \"%fdfd678dfdfdfdfdfdfdfdffd\";\n\nvar result = Regex.Replace(input, \"^.{7}\", input.Substring(0,6));\n\nConsole.WriteLine($\"result = {result}\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 850, "user_id": 2992984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wTzZo.png?s=128&g=1", "display_name": "Ghost4Man", "link": "https://stackoverflow.com/users/2992984/ghost4man"}, "is_accepted": false, "score": 4, "last_activity_date": 1539959603, "last_edit_date": 1539959603, "creation_date": 1539808655, "answer_id": 52863222, "question_id": 52862198, "link": "https://stackoverflow.com/questions/52862198/replace-the-nth-index-of-a-character/52863222#52863222", "title": "Replace the nth index of a character", "body": "<p>It's possible to create a regex pattern that captures all characters before and after the replaced character and then replace the whole string with the two captures separated by the new character. For example:</p>\n\n<pre><code>Regex.Replace(\"abcdefgh\", @\"^(.{4}).(.*)$\", @\"$1E$2\") // returns \"abcdEfgh\"\n</code></pre>\n\n<p>You could then create a method that replaces the character at a specific index:</p>\n\n<pre><code>string ReplaceCharacter(string text, int index, char value)\n    =&gt; Regex.Replace(text, $@\"^(.{{{index}}}).(.*)$\", $@\"${{1}}{value}${{2}}\");\n\n// Usage:\nReplaceCharacter(\"Foo-bar\", 3, 'l') // returns \"Foolbar\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "is_accepted": false, "score": 1, "last_activity_date": 1539864428, "last_edit_date": 1539864428, "creation_date": 1539864118, "answer_id": 52873544, "question_id": 52862198, "link": "https://stackoverflow.com/questions/52862198/replace-the-nth-index-of-a-character/52873544#52873544", "title": "Replace the nth index of a character", "body": "<p>As Johan Wentholt said in the comments, you can perfectly use <code>Regex.Replace</code> to match a number of characters from the start of the line and replace it with a capture group that's one character less than the full matched piece:</p>\n\n<pre><code>String result = Regex.Replace(input, \"^(.{\" + index + \"}).\", \"$1\");\n</code></pre>\n\n<p>This matches \"<code>index</code> times any character, followed by another character, at the start of the string\", but replaces it by only the \"<code>index</code> times any character\" without that last character, since that last dot is outside of the capture group.</p>\n\n<p>If you want to replace by something else than an empty string, you just concatenate it to the end of the <code>\"$1\"</code> replacement string. Though to be safe then, you should replace it with <code>\"${1}\"</code> to avoid problems if the piece you add behind it starts with a number, since that would change the capture group number.</p>\n"}], "owner": {"reputation": 8580, "user_id": 1377826, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f0b6e6e3ea80d80ea4f6c4955c10031c?s=128&d=identicon&r=PG", "display_name": "sharon Hwk", "link": "https://stackoverflow.com/users/1377826/sharon-hwk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1541620135, "creation_date": 1539804183, "question_id": 52862198, "link": "https://stackoverflow.com/questions/52862198/replace-the-nth-index-of-a-character", "title": "Replace the nth index of a character", "body": "<p>How can I replace the nth index of a character using only Regex.</p>\n\n<pre><code>string input = \"%fdfdfdfdfdfdfdfdfdfdfdffd\";\nstring result = Regex.Replace(input, \"^%\", \"\");\n</code></pre>\n\n<p>The above code, replaces the first character with an empty string, But, I want to specify an index: like nth index, so that character gets replaced with an empty string.</p>\n\n<p>Can someone help me out here.</p>\n"}, {"tags": ["c#", "multithreading", "multiprocessing", "ipc", "data-sharing"], "comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1539804283, "post_id": 52862143, "comment_id": 92638837, "body": "<a href=\"https://stackoverflow.com/questions/528652/what-is-the-simplest-method-of-inter-process-communication-between-2-c-sharp-pro\">Relevant</a>"}, {"owner": {"reputation": 6455, "user_id": 2363967, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e456a6a8bd35a0e65c22d202b48ccfa4?s=128&d=identicon&r=PG", "display_name": "Andrew Williamson", "link": "https://stackoverflow.com/users/2363967/andrew-williamson"}, "reply_to_user": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 1, "creation_date": 1539804473, "post_id": 52862143, "comment_id": 92638915, "body": "@JohnWu yes, relevant, but not very specific. I think a quick google for &#39;Message Broker&#39; might show the pattern you&#39;re looking for. I know Azure Service bus can do what you want, with one topic and a subscription within that topic per device. I&#39;m sure the other major message broker services can do the same."}], "answers": [{"tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": false, "score": 0, "last_activity_date": 1539805574, "creation_date": 1539805574, "answer_id": 52862535, "question_id": 52862143, "link": "https://stackoverflow.com/questions/52862143/c-best-way-to-share-data-between-multiple-processes-and-or-threads/52862535#52862535", "title": "C#: best way to share data between multiple processes and/or threads", "body": "<p>The Windows Service can have an additional socket listener (or similar) to receive commands for any of the connected devices, and maintain a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.concurrent.blockingcollection-1?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">BlockingCollection</a> for each device.  The thread that owns to connection to each device can simply loop on receiving messages from the BlockingCollectoion and interacting with the device over its socket.</p>\n"}, {"tags": [], "owner": {"reputation": 6455, "user_id": 2363967, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e456a6a8bd35a0e65c22d202b48ccfa4?s=128&d=identicon&r=PG", "display_name": "Andrew Williamson", "link": "https://stackoverflow.com/users/2363967/andrew-williamson"}, "is_accepted": false, "score": 0, "last_activity_date": 1539807100, "creation_date": 1539807100, "answer_id": 52862888, "question_id": 52862143, "link": "https://stackoverflow.com/questions/52862143/c-best-way-to-share-data-between-multiple-processes-and-or-threads/52862888#52862888", "title": "C#: best way to share data between multiple processes and/or threads", "body": "<p>I'll expand on my comment here - this is a common scenario, and some of the major software companies (Azure, Amazon, Apache) have implemented solutions. They all have the concept of <em>multiple senders</em>, sending to a <em>single message broker</em>, which then forwards each message directly to the intended <em>recipient</em>. In order for each recipient to receive messages, they have to connect to the message broker, and declare who they are (or what messages they are interested in).</p>\n\n<p>It's important to note that message brokers are common for inter-server communication, but there are more options (usually simpler and more efficient) for inter-process communication on the same machine. So before you pick a solution, you need to consider whether your devices will always communicate with a single socket server, or whether you will scale out to multiple instances at some point.</p>\n\n<p>Some advantages of using a third-party message broker:</p>\n\n<ul>\n<li>They can buffer messages for recipients that are not currently connected</li>\n<li>Most of them provide an easy-to-use C# package, so there is very little setup required</li>\n<li>They usually provide an SLA of 99.99% uptime or more</li>\n</ul>\n\n<p>Some disadvantages when compared to a purely inter-process solution on the same host:</p>\n\n<ul>\n<li>They have higher latency due to their communication with an external message broker server</li>\n<li>They have a lower maximum throughput, again due to their communication with an external server</li>\n<li>They usually cost money (sometimes there is an allowance to send e.g. 100,000 messages for free)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1539842908, "last_edit_date": 1539842908, "creation_date": 1539811569, "answer_id": 52863849, "question_id": 52862143, "link": "https://stackoverflow.com/questions/52862143/c-best-way-to-share-data-between-multiple-processes-and-or-threads/52863849#52863849", "title": "C#: best way to share data between multiple processes and/or threads", "body": "<h2>Use your database</h2>\n\n<p>There are many ways to do this OP, e.g. - <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/io/memory-mapped-files\" rel=\"nofollow noreferrer\">Memory mapped files</a> or <a href=\"https://stackoverflow.com/questions/528652/what-is-the-simplest-method-of-inter-process-communication-between-2-c-sharp-pro\">Anonymous pipes</a> or <a href=\"https://en.wikipedia.org/wiki/Microsoft_Message_Queuing\" rel=\"nofollow noreferrer\">MSMQ</a>, for 3 examples of the top of my head. But the simplest approach would be to <strong>use your database</strong>. Specifically I'd do it this way:</p>\n\n<ol>\n<li><p>Define database tables that are structured in such a manner that they can hold the device list or commands that you want the user to be able to change or send. For example, you might have a table that lists devices for each user, or a table that contains a queue of commands to send to the devices.</p></li>\n<li><p>Program your web services to update the database. When the user wants to \"send\" a command, for example, just add it to the table. Don't worry about the hardware yet.</p></li>\n<li><p>Write a Windows Service (or modify your existing one) to occasionally read the \ndatabase and \"sync up\" everything, e.g. send any pending messages to devices. After the sync-up, write a flag back to the database so the web services can read it and tell the user that the command was processed or the update is complete.</p></li>\n</ol>\n\n<p>This will give you a dirt simple, fault tolerant solution without introducing any new technologies to your architecture.</p>\n\n<p>By storing hardware snapshots, you also provide an extension point for all sorts of fun possibilities, e.g. \"undo\" functionality, or saved snapshots, or customer support tools that let you see what the end user is trying to set up, or marketing analysis tools that let you see how users are using your product.</p>\n\n<p>But the most important feature is that you could crash/restart all of your services and the solution will just pick up where it left off. So it will be easy to support as well. And hopefully you already know how to work with a database.</p>\n"}], "owner": {"reputation": 7, "user_id": 10519975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e704757ab9ce92f2cb10327678029b3f?s=128&d=identicon&r=PG&f=1", "display_name": "user2018", "link": "https://stackoverflow.com/users/10519975/user2018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 807, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1539842908, "creation_date": 1539803934, "last_edit_date": 1539804752, "question_id": 52862143, "link": "https://stackoverflow.com/questions/52862143/c-best-way-to-share-data-between-multiple-processes-and-or-threads", "title": "C#: best way to share data between multiple processes and/or threads", "body": "<p>A C# Restful web service (on a Windows Server 2012 Standard) needs to send commands to equipments via my C# socket server program which is running on the same server. When the web services try to send a command to a selected equipment, the thread of the associated equipment can pick up the command and send it to this equipment. After it is picked, it should be deleted by this thread. At the same time, Thread n which is associated with Equipment n can also pick up a command of Equipment n, and Thread n can delete this command after this command is picked up and sent out. Please refer to the system architecture diagram below.</p>\n\n<p>My question is what is the best way (the most effective, reliable solution) to allow the web services send the command data out and those socket threads can select their associated commands then delete those commands after they are sent out? These commands can be saved into the database and socket threads can check database periodically but this is not effective way especially when the amount of  equipment and users is big. Do Named Pipes suit for this scenario and a thread can check these Pipe instances to find an associated command?</p>\n\n<p><img src=\"https://i.stack.imgur.com/xEAIt.png\" alt=\"System architecture image\"></p>\n"}, {"tags": ["c#", "database", "administration"], "comments": [{"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1539803368, "post_id": 52861953, "comment_id": 92638409, "body": "Creating a web.config file for each site with different values for connection string is hard?  Then you are going to have issues with the rest of your application if you think this is hard"}, {"owner": {"reputation": 122, "user_id": 7098452, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208702243016970/picture?type=large", "display_name": "Fatih Topcu", "link": "https://stackoverflow.com/users/7098452/fatih-topcu"}, "reply_to_user": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1539803579, "post_id": 52861953, "comment_id": 92638503, "body": "Thanks for answer. I dont want change web config or aspx source file different ecommerce site."}, {"owner": {"reputation": 1153, "user_id": 2383688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9cAf.jpg?s=128&g=1", "display_name": "ali", "link": "https://stackoverflow.com/users/2383688/ali"}, "edited": false, "score": 0, "creation_date": 1539804685, "post_id": 52861953, "comment_id": 92639001, "body": "If you want to manage by some interface, you will probably create a super admin interface which will be used only by the creators in order to manage accounts(creating from scratch etc.). You can update connection strings via this interface but you should care the security issues a lot."}, {"owner": {"reputation": 122, "user_id": 7098452, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208702243016970/picture?type=large", "display_name": "Fatih Topcu", "link": "https://stackoverflow.com/users/7098452/fatih-topcu"}, "edited": false, "score": 0, "creation_date": 1539805052, "post_id": 52861953, "comment_id": 92639168, "body": "Thanks. when I switch to the common management panel, my customers will always use the actual last management panel.     Is there anyway for this purpose?"}, {"owner": {"reputation": 1153, "user_id": 2383688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U9cAf.jpg?s=128&g=1", "display_name": "ali", "link": "https://stackoverflow.com/users/2383688/ali"}, "edited": false, "score": 0, "creation_date": 1539805889, "post_id": 52861953, "comment_id": 92639554, "body": "If your customers will always view the latest version of your application, you may have some trouble in configuration management &amp; database schema/data syncronization. On the other hand; you can deploy versioned managenement panels and give permission to the accounts to which version they will be viewing."}, {"owner": {"reputation": 122, "user_id": 7098452, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208702243016970/picture?type=large", "display_name": "Fatih Topcu", "link": "https://stackoverflow.com/users/7098452/fatih-topcu"}, "edited": false, "score": 0, "creation_date": 1539806288, "post_id": 52861953, "comment_id": 92639737, "body": "are there any books or documents you can offer about this topic?"}], "owner": {"reputation": 122, "user_id": 7098452, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208702243016970/picture?type=large", "display_name": "Fatih Topcu", "link": "https://stackoverflow.com/users/7098452/fatih-topcu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539803135, "creation_date": 1539803135, "question_id": 52861953, "link": "https://stackoverflow.com/questions/52861953/how-do-common-admin-panel-for-ecommerce", "title": "How do common admin panel for ecommerce", "body": "<p>For ecommerce sites\n1. There will be separate database for each site\n2. The management panel of each site will be common</p>\n\n<p>How can I do this in c #? I can make that define web.config file connectionstrings for each new site. But this is very hard.</p>\n"}, {"tags": ["c#", ".net", "generics", "reflection", "interface"], "comments": [{"owner": {"reputation": 5602, "user_id": 991609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb7450035066717cb7c28919342d7f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Nazerane", "link": "https://stackoverflow.com/users/991609/neville-nazerane"}, "edited": false, "score": 0, "creation_date": 1539806256, "post_id": 52861860, "comment_id": 92639720, "body": "check this <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/out-generic-modifier\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}, {"owner": {"reputation": 5602, "user_id": 991609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb7450035066717cb7c28919342d7f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Nazerane", "link": "https://stackoverflow.com/users/991609/neville-nazerane"}, "edited": false, "score": 0, "creation_date": 1539806593, "post_id": 52861860, "comment_id": 92639866, "body": "if you use <code>out</code> it resolves your issue except for the function (comment out the function and code runs). am still looking into the function"}, {"owner": {"reputation": 146, "user_id": 3309736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DnPoI.png?s=128&g=1", "display_name": "Jobse", "link": "https://stackoverflow.com/users/3309736/jobse"}, "reply_to_user": {"reputation": 5602, "user_id": 991609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fb7450035066717cb7c28919342d7f8e?s=128&d=identicon&r=PG&f=1", "display_name": "Neville Nazerane", "link": "https://stackoverflow.com/users/991609/neville-nazerane"}, "edited": false, "score": 0, "creation_date": 1539806826, "post_id": 52861860, "comment_id": 92639957, "body": "Thanks for the reply!  I forgot to add the <code>in</code> modifier. Since <code>TInput</code> is used as parameter i can&#39;t use the <code>out</code> covariant, or can I?"}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 3309736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DnPoI.png?s=128&g=1", "display_name": "Jobse", "link": "https://stackoverflow.com/users/3309736/jobse"}, "edited": false, "score": 0, "creation_date": 1539807466, "post_id": 52862847, "comment_id": 92640254, "body": "The main thing I need to be the same is the <code>Run</code> method It needs to take a specific type as a parameter and I would not like to have to cast the parameter within the function. Also at compile time of the Main method I can&#39;t possibly know what the specific types can/will be. Can you think of any way of accomplishing this?"}], "tags": [], "owner": {"reputation": 20516, "user_id": 381588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cff6fe4f2e32e4ae131e65a0fda7f88?s=128&d=identicon&r=PG", "display_name": "Iridium", "link": "https://stackoverflow.com/users/381588/iridium"}, "is_accepted": false, "score": 1, "last_activity_date": 1539806935, "creation_date": 1539806935, "answer_id": 52862847, "question_id": 52861860, "link": "https://stackoverflow.com/questions/52861860/net-core-cast-to-interface-with-generic-type-parameter-of-type-which-implements/52862847#52862847", "title": ".NET Core Cast to interface with generic type parameter of type which implements interface", "body": "<p>As you have it now, this cannot work. Your <code>Implementation</code> class implements <code>IInterface&lt;Parameter&gt;</code>, so its <code>Run</code> method only accepts a parameter of the concrete <code>Parameter</code> type, whereas the <code>IInterface&lt;IParameter&gt;</code> requires that its <code>Run</code> method accepts an instance of <em>any</em> type that implements <code>IParameter</code>.</p>\n\n<p>If the type of cast you're trying to do were allowed, I could define a different class that implements <code>IParameter</code>, e.g.:</p>\n\n<pre><code>public class DifferentParameter : IParameter { ... }\n</code></pre>\n\n<p>And then do:</p>\n\n<pre><code>castInstance.Run(new DifferentParameter());\n</code></pre>\n\n<p>But your <code>Implementation</code>'s <code>Run</code> method can't take <code>DifferentParameter</code>!</p>\n\n<p>.NET therefore prevents you from performing the cast itself.</p>\n\n<p>There are situations in which this kind of cast is allowed - if your interface were instead to be defined as:</p>\n\n<pre><code>interface IInterface&lt;out TOutput&gt;\n    where TOutput : IResult\n{\n    TOutput Run();\n}\n</code></pre>\n\n<p>By making the generic parameter <code>out</code>, it makes the interface <strong>covariant</strong>. This restricts the use of the type parameter as the result of method calls, but for covariant interfaces, casts like yours <em>are</em> allowed.</p>\n\n<p>You can find plenty of documentation on both covariance and contravariance in the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/covariance-contravariance/index\" rel=\"nofollow noreferrer\">.NET documentation</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 146, "user_id": 3309736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DnPoI.png?s=128&g=1", "display_name": "Jobse", "link": "https://stackoverflow.com/users/3309736/jobse"}, "edited": false, "score": 1, "creation_date": 1539960485, "post_id": 52863785, "comment_id": 92702192, "body": "Yes you are so right! Thanks. A non generic interface and a generic abstract class works perfectly. I will post the full example shortly."}], "tags": [], "owner": {"reputation": 827, "user_id": 2184120, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0193029277a19797c4e59124f8e01aad?s=128&d=identicon&r=PG", "display_name": "Ziriax", "link": "https://stackoverflow.com/users/2184120/ziriax"}, "is_accepted": true, "score": 1, "last_activity_date": 1539811234, "creation_date": 1539811234, "answer_id": 52863785, "question_id": 52861860, "link": "https://stackoverflow.com/questions/52861860/net-core-cast-to-interface-with-generic-type-parameter-of-type-which-implements/52863785#52863785", "title": ".NET Core Cast to interface with generic type parameter of type which implements interface", "body": "<p>Why don't you add a non-generic interface too:</p>\n\n<p><code>\n    interface IInterface\n    {\n        void Run(IParameter input);\n    }\n</code></p>\n\n<p>And then let your generic interface extend this non-generic one.</p>\n\n<p>Obviously your implementations should cast the <code>IParameter</code>, someone needs to cast it... You could make an abstract base class that does this for you, so not every implementation has to do this.</p>\n\n<p>You might also be interested in the double dispatch pattern, although I'm not sure this will work in your case.</p>\n"}], "owner": {"reputation": 146, "user_id": 3309736, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/DnPoI.png?s=128&g=1", "display_name": "Jobse", "link": "https://stackoverflow.com/users/3309736/jobse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1615, "favorite_count": 0, "accepted_answer_id": 52863785, "answer_count": 2, "score": 1, "last_activity_date": 1539962723, "creation_date": 1539802779, "last_edit_date": 1539962723, "question_id": 52861860, "link": "https://stackoverflow.com/questions/52861860/net-core-cast-to-interface-with-generic-type-parameter-of-type-which-implements", "title": ".NET Core Cast to interface with generic type parameter of type which implements interface", "body": "<p>In .NET Core C#\nI' trying something like this:</p>\n\n<pre><code>(IInterface&lt;IParameter&gt;)instance\n</code></pre>\n\n<p>Where instance is <code>new Implementation&lt;Parameter&gt;()</code></p>\n\n<p>And <code>Implementation : IInterface</code> &amp; <code>Parameter : IParameter</code></p>\n\n<p>The issue is with the casting of the generic parameter. When I provide <code>Parameter</code> instead of <code>IParameter</code> it works but at compile time there is no way to know which type that implements <code>IParameter</code> will be used. All of these objects will be created via reflection.</p>\n\n<p>So is there any way this cast works? Or some other way to implement this like providing no generic type parameter like you can with <code>typeof</code>.</p>\n\n<p><strong>EDIT</strong> Thanks to Ziriax</p>\n\n<p><strong>A Fully Working Example:</strong></p>\n\n<pre><code>interface IInterface\n{\n    void Run(TInput input);\n}\n\nabstract class AbstractClass&lt;TInput&gt; : IInterface\n    where TInput : IParameter\n{\n    public abstract void Execute(TInput input);\n\n    public void Run(IParameter input)\n    {\n        Execute((TInput)input);\n    }\n}\n\ninterface IParameter {}\n\nclass Implementation : AbstractClass&lt;Parameter&gt;\n{\n    public void Run(Parameter input)\n    {\n    }\n}\n\nclass Parameter : IParameter {}\n\nclass Program\n{\n    static void Main()\n    {\n        object instance = new Implementation();\n        var castInstance = (IInterface) instance;\n        castInstance.Run(new Parameter());\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "cors", "angular5"], "comments": [{"owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 2, "creation_date": 1539802211, "post_id": 52861692, "comment_id": 92637887, "body": "You should not combine the Azure App Service CORS config with config in code. If you enable CORS on the app service, your CORS configuration is basically ignored in code."}, {"owner": {"reputation": 278, "user_id": 3702750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd63f216d4f8618723076790f87f4abb?s=128&d=identicon&r=PG", "display_name": "RobotOptimist", "link": "https://stackoverflow.com/users/3702750/robotoptimist"}, "reply_to_user": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 1, "creation_date": 1541269419, "post_id": 52861692, "comment_id": 93161820, "body": "@juunas I wish you had submitted that as an answer so I could upvote you. It&#39;s not at all obvious from the Azure interface that you shouldn&#39;t configure CORS in both places."}, {"owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 0, "creation_date": 1541269714, "post_id": 52861692, "comment_id": 93161894, "body": "Done, I added the answer \ud83d\ude42"}], "answers": [{"comments": [{"owner": {"reputation": 8610, "user_id": 10893, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7024935078fcd7f6daee6237f00a9111?s=128&d=identicon&r=PG", "display_name": "Bryant", "link": "https://stackoverflow.com/users/10893/bryant"}, "edited": false, "score": 0, "creation_date": 1591345606, "post_id": 53134285, "comment_id": 110025873, "body": "Thank you! I couldn&#39;t figure out whyall my settings in the code were being ignored."}], "tags": [], "owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "is_accepted": true, "score": 4, "last_activity_date": 1541269692, "creation_date": 1541269692, "answer_id": 53134285, "question_id": 52861692, "link": "https://stackoverflow.com/questions/52861692/preflight-access-control-allow-credentials/53134285#53134285", "title": "Preflight Access-Control-Allow-Credentials", "body": "<p>You should not combine the Azure App Service CORS config with config in code. If you enable CORS on the app service, your CORS configuration is basically ignored in code.</p>\n\n<p>This is due to App Service intercepting the OPTIONS requests. </p>\n"}], "owner": {"reputation": 149, "user_id": 8121007, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/5a254bf5cd764c7f7a49b020e89b3a29?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Delaney", "link": "https://stackoverflow.com/users/8121007/brian-delaney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1069, "favorite_count": 0, "accepted_answer_id": 53134285, "answer_count": 1, "score": 2, "last_activity_date": 1541270298, "creation_date": 1539802092, "last_edit_date": 1541270298, "question_id": 52861692, "link": "https://stackoverflow.com/questions/52861692/preflight-access-control-allow-credentials", "title": "Preflight Access-Control-Allow-Credentials", "body": "<p>I'm having CORS trouble with my ASP.NET Core web app that is deployed as an Azure App Service. The front end is deployed as a different app service. When I try to access the Api from the front end I get this following error.</p>\n\n<blockquote>\n  <p>Failed to load\n  <a href=\"https://chatclassifier.azurewebsites.net/chatcontroller/getchatData\" rel=\"nofollow noreferrer\">https://chatclassifier.azurewebsites.net/chatcontroller/getchatData</a>:\n  Response to preflight request doesn't pass access control check: The\n  value of the 'Access-Control-Allow-Credentials' header in the response\n  is '' which must be 'true' when the request's credentials mode is\n  'include'. Origin\n  '<a href=\"https://chatclassifierangularfrontend20180924084838.azurewebsites.net\" rel=\"nofollow noreferrer\">https://chatclassifierangularfrontend20180924084838.azurewebsites.net</a>'\n  is therefore not allowed access. The credentials mode of requests\n  initiated by the XMLHttpRequest is controlled by the withCredentials\n  attribute.</p>\n</blockquote>\n\n<p>I am using some cookies to pass data between client and server.</p>\n\n<p>I have set up more CORS policy in ASP.NET Core up as follows in Setup.cs</p>\n\n<p>Configure Services:</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddCors(options =&gt;\n    {\n        options.AddPolicy(\"AllowAllHeaders\",\n               builder =&gt;\n               {\n                   builder\n              .WithOrigins(\"https://XXXXXXXXXXangularfrontend20180924084838.azurewebsites.net\")\n              .AllowAnyMethod()\n              .AllowAnyHeader()\n              .AllowCredentials();\n               });\n    });\n\n    services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n\n    services.Configure&lt;FormOptions&gt;(x =&gt;\n        {\n            x.ValueLengthLimit = int.MaxValue;\n            x.MultipartBodyLengthLimit = int.MaxValue;\n        });\n}\n</code></pre>\n\n<p>Configure:</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    var cookiePolicyOptions = new CookiePolicyOptions\n    {\n        Secure = CookieSecurePolicy.SameAsRequest,\n        MinimumSameSitePolicy = SameSiteMode.None\n    };\n\n    if (env.IsDevelopment())\n    {\n        app.UseDeveloperExceptionPage();\n    }\n    else\n    {\n    }\n\n    app.UseCors(\"AllowAllHeaders\");\n    app.UseCookiePolicy(cookiePolicyOptions);\n    app.UseHttpsRedirection();\n    app.UseMiddleware(typeof(ApiExceptionHandling));\n    app.UseMvc();\n}\n</code></pre>\n\n<p>I have not added any other CORS related code anywhere else in my API code. I have tried adding the CORS \"AllowAllHeaders\" attribute to my controller but this also did not work.</p>\n\n<p>In addition I have added the following line of code to my web app config in Azure under CORS.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Niou6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Niou6.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Obviously I have changed the URL name to include XXXXXX and have ensured they are the same in both my Azure Portal and Web App Code.</p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["c#", "collections", "ml.net"], "comments": [{"owner": {"reputation": 1002, "user_id": 98620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IVakU.jpg?s=128&g=1", "display_name": "Dekryptid", "link": "https://stackoverflow.com/users/98620/dekryptid"}, "edited": false, "score": 0, "creation_date": 1539872110, "post_id": 52861602, "comment_id": 92665568, "body": "I may not be asking this question correctly. I&#39;m trying to relate complex object relationships (having collections) to actual data files (csv, json, etc.) that will be use to train a model."}, {"owner": {"reputation": 1002, "user_id": 98620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IVakU.jpg?s=128&g=1", "display_name": "Dekryptid", "link": "https://stackoverflow.com/users/98620/dekryptid"}, "edited": false, "score": 1, "creation_date": 1539874747, "post_id": 52861602, "comment_id": 92667332, "body": "I believe I am looking for an equivalent of <code>Microsoft.ML.Legacy.Data.CollectionDataSource.Create</code> using the new API. Any help is appreciated. Thanks."}, {"owner": {"reputation": 7697, "user_id": 374104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd38a0dcf2066517c63b2caece4ed80?s=128&d=identicon&r=PG", "display_name": "Zruty", "link": "https://stackoverflow.com/users/374104/zruty"}, "edited": false, "score": 1, "creation_date": 1541023832, "post_id": 52861602, "comment_id": 93081994, "body": "If your class not a flat list of properties, you cannot read a collection of these objects into an <code>IDataView</code>, and never could. You need to perform the pre-processing, then feed the tabular data to <code>IDataView</code>"}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 9773446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lnz7O.png?s=128&g=1", "display_name": "Gal Oshri", "link": "https://stackoverflow.com/users/9773446/gal-oshri"}, "is_accepted": false, "score": 2, "last_activity_date": 1539972271, "creation_date": 1539972271, "answer_id": 52897794, "question_id": 52861602, "link": "https://stackoverflow.com/questions/52861602/is-it-possible-to-featurize-c-collections-using-ml-net-preview-0-6/52897794#52897794", "title": "Is it possible to featurize C# collections using ML.NET Preview (0.6)?", "body": "<p>An example that reads data from memory into an ML pipeline with the new APIs can be found <a href=\"https://github.com/dotnet/machinelearning/blob/master/docs/code/MlNetCookBook.md#what-if-my-training-data-is-not-in-a-text-file\" rel=\"nofollow noreferrer\">here</a>. Copying the relevant code, although the link has some additional helpful comments:</p>\n\n<pre><code>var mlContext = new MLContext();\n\nIEnumerable&lt;CustomerChurnInfo&gt; churnData = GetChurnInfo();\n\nvar trainData = mlContext.CreateStreamingDataView(churnData);\n\nvar dynamicLearningPipeline = mlContext.Transforms.Categorical.OneHotEncoding(\"DemographicCategory\")\n    .Append(new ConcatEstimator(mlContext, \"Features\", \"DemographicCategory\", \"LastVisits\"))\n    .Append(mlContext.BinaryClassification.Trainers.FastTree(\"HasChurned\", \"Features\", numTrees: 20));\n\nvar dynamicModel = dynamicLearningPipeline.Fit(trainData);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6493689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926770bd1cc25c0bb83260bf2abc96a2?s=128&d=identicon&r=PG", "display_name": "hampos", "link": "https://stackoverflow.com/users/6493689/hampos"}, "is_accepted": false, "score": 2, "last_activity_date": 1540561227, "creation_date": 1540561227, "answer_id": 53010065, "question_id": 52861602, "link": "https://stackoverflow.com/questions/52861602/is-it-possible-to-featurize-c-collections-using-ml-net-preview-0-6/53010065#53010065", "title": "Is it possible to featurize C# collections using ML.NET Preview (0.6)?", "body": "<p>It is possible to featurize an <strong>Array</strong> of <strong>primitive</strong> types.</p>\n\n<p>If your class looked like this:</p>\n\n<pre><code>class Policy\n{\n    string Name { get; set; }\n    DateTime InceptionDate { get; set; }\n    DateTime ExpirationDate { get; set; }\n    float[] Locations { get; set; }\n}\n</code></pre>\n\n<p>Then <code>Locations</code> would translate to a <code>Vector</code> of type <code>R4</code> (mapping for <code>float</code>).</p>\n\n<p>Then you create a <code>SchemaDefinition</code>:</p>\n\n<pre><code>var env = new LocalEnvironment();\nvar schemaDef = SchemaDefinition.Create(typeof(Policy));\n</code></pre>\n\n<p>If the Vector's size is unknown in compile time you would also need:</p>\n\n<pre><code>int vectorSize = 4\nschemaDef[\"Locations\"].ColumnType = new VectorType(NumberType.R4, vectorSize);\n</code></pre>\n\n<p>If the Vector's size is fixed you can add the <code>VectorType</code> attribute on the property:</p>\n\n<pre><code>class Policy\n{\n    string Name { get; set; }\n    DateTime InceptionDate { get; set; }\n    DateTime ExpirationDate { get; set; }\n\n    [VectorType(4)]\n    float[] Locations { get; set; }\n}\n</code></pre>\n\n<p>Then you create the <code>DataView</code>:</p>\n\n<pre><code>var data = new List&lt;Policy&gt;();\nvar dataView = env.CreateStreamingDataView(data, schemaDef);\n</code></pre>\n\n<p>In your case, <code>Locations</code> is a class, so I believe you would first need to convert this to a primitive array by concatenating the values like in this example:</p>\n\n<pre><code>public class IrisData\n{\n    public float Label;\n    public float SepalLength;\n    public float SepalWidth;\n    public float PetalLength;\n    public float PetalWidth;\n}\n\npublic class IrisVectorData\n{\n    public float Label;\n    public float[] Features;\n}\n\nstatic void Main(string[] args)\n{\n    // Here's a data array that we want to work on.\n    var dataArray = new[] {\n        new IrisData{Label=1, PetalLength=1, SepalLength=1, PetalWidth=1, SepalWidth=1},\n        new IrisData{Label=0, PetalLength=2, SepalLength=2, PetalWidth=2, SepalWidth=2}\n    };\n\n    // Create the ML.NET environment.\n    var env = new Microsoft.ML.Runtime.Data.TlcEnvironment();\n\n    // Create the data view.\n    // This method will use the definition of IrisData to understand what columns there are in the \n    // data view.\n    var dv = env.CreateDataView&lt;IrisData&gt;(dataArray);\n\n    // Now let's do something to the data view. For example, concatenate all four non-label columns\n    // into 'Features' column.\n    dv = new Microsoft.ML.Runtime.Data.ConcatTransform(env, dv, \"Features\", \n        \"SepalLength\", \"SepalWidth\", \"PetalLength\", \"PetalWidth\");\n\n    // Read the data into an another array, this time we read the 'Features' and 'Label' columns\n    // of the data, and ignore the rest.\n    // This method will use the definition of IrisVectorData to understand which columns and of which types\n    // are expected to be present in the input data.\n    var arr = dv.AsEnumerable&lt;IrisVectorData&gt;(env, reuseRowObject: false)\n        .ToArray();\n}\n</code></pre>\n\n<p>But I haven't really tried this case yet so I can't help more here.</p>\n\n<p>Also check the Schema Comprehension documentation <a href=\"https://github.com/dotnet/machinelearning/blob/master/docs/code/SchemaComprehension.md\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1002, "user_id": 98620, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IVakU.jpg?s=128&g=1", "display_name": "Dekryptid", "link": "https://stackoverflow.com/users/98620/dekryptid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1509, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1540561227, "creation_date": 1539801735, "last_edit_date": 1539802578, "question_id": 52861602, "link": "https://stackoverflow.com/questions/52861602/is-it-possible-to-featurize-c-collections-using-ml-net-preview-0-6", "title": "Is it possible to featurize C# collections using ML.NET Preview (0.6)?", "body": "<p>Lets say I have a complex type of:\n</p>\n\n<pre><code>class Policy\n{\n    string Name { get; set; }\n    DateTime InceptionDate { get; set; }\n    DateTime ExpirationDate { get; set; }\n    List&lt;Location&gt; Locations { get; set; }\n}\n\nclass Location\n{\n    string Street { get; set; }\n    string City { get; set; }\n    string State { get; set; }\n    string PostalCode { get; set; }\n}\n</code></pre>\n\n<p>How can I convert the collection of <code>Locations</code> into a featurized column for ML.NET to understand?</p>\n"}, {"tags": ["c#", ".net-core", "inversion-of-control", "autofac", "ioc-container"], "comments": [{"owner": {"reputation": 2999, "user_id": 2310124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16be4605fbf66cd62ebf3927919c974?s=128&d=identicon&r=PG", "display_name": "tdragon", "link": "https://stackoverflow.com/users/2310124/tdragon"}, "edited": false, "score": 0, "creation_date": 1539841286, "post_id": 52861599, "comment_id": 92648789, "body": "Could you provide the whole stack trace of your exception?"}, {"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "reply_to_user": {"reputation": 2999, "user_id": 2310124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16be4605fbf66cd62ebf3927919c974?s=128&d=identicon&r=PG", "display_name": "tdragon", "link": "https://stackoverflow.com/users/2310124/tdragon"}, "edited": false, "score": 0, "creation_date": 1539844365, "post_id": 52861599, "comment_id": 92649914, "body": "ok i paste all stack trace"}, {"owner": {"reputation": 2999, "user_id": 2310124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16be4605fbf66cd62ebf3927919c974?s=128&d=identicon&r=PG", "display_name": "tdragon", "link": "https://stackoverflow.com/users/2310124/tdragon"}, "edited": false, "score": 1, "creation_date": 1539845595, "post_id": 52861599, "comment_id": 92650427, "body": "Try to get the inner exception from this <code>AggregateException</code>, it should be more helpful"}, {"owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "reply_to_user": {"reputation": 2999, "user_id": 2310124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16be4605fbf66cd62ebf3927919c974?s=128&d=identicon&r=PG", "display_name": "tdragon", "link": "https://stackoverflow.com/users/2310124/tdragon"}, "edited": false, "score": 0, "creation_date": 1539850874, "post_id": 52861599, "comment_id": 92653173, "body": "I have trouble because i have the two class which implement IUserService"}, {"owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1539875056, "post_id": 52861599, "comment_id": 92667570, "body": "You may be scanning and registering with Autofac but Autofac isn&#39;t anywhere in the stack trace. It&#39;s not Autofac throwing that NotImplementedException, it&#39;s something in your code. You could get more views on this question if you make it more about ASP.NET Core and less about the Autofac part."}, {"owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1539875183, "post_id": 52861599, "comment_id": 92667660, "body": "Also, any reason you&#39;re not letting the ASP.NET Core stuff be async all the way through? Why use <code>.Result</code> at all? <code>[HttpGet] public Task&lt;IEnumerable&lt;User&gt;&gt; GetAll() =&gt; _userContext.GetAlAsync();</code>"}, {"owner": {"reputation": 381, "user_id": 9109929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajplv.png?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/9109929/aaron"}, "edited": false, "score": 0, "creation_date": 1540731197, "post_id": 52861599, "comment_id": 92963933, "body": "Could you provide more code? What is <code>_userContext</code>?"}], "owner": {"reputation": 550, "user_id": 9161570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0d57d8efb3e16463dc63ea3e0fd948?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karnaski", "link": "https://stackoverflow.com/users/9161570/tom-karnaski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1539842564, "creation_date": 1539801716, "last_edit_date": 1539842564, "question_id": 52861599, "link": "https://stackoverflow.com/questions/52861599/the-method-or-operation-is-not-implemented-scanning-service-with-autofac", "title": "The method or operation is not implemented Scanning Service with Autofac", "body": "<p>Good morning, I have a problem.\nI am trying to inject all classes that implement interfaces (Service and Repository) into the IoC container using Autofac by on response i got the error \"NotImplementedException: The method or operation is not implemented\".</p>\n\n<pre><code>                                  The full stack trace: \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wk2Vq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wk2Vq.png\" alt=\"enter image description here\"></a></p>\n\n<p>The controller method: </p>\n\n<pre><code>[HttpGet]\n    public IEnumerable&lt;User&gt; GetAll() =&gt; _userContext.GetAlAsync().Result;\n</code></pre>\n\n<p>And the GetAll method implementation on UserService implementation look that,\nThe class IUserService implement marker interface IService to injectclass in IoC container:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;User&gt;&gt; GetAlAsync()\n    {\n        return await _user.GetAllAsync();\n    }\n</code></pre>\n\n<p>The controller return correct value before using autofac to register type to IoC container</p>\n\n<p>The implementation of ModuleContainer using Autofac:</p>\n\n<pre><code>public class ContainerModules : Autofac.Module\n{\n    private readonly IConfiguration _configuration;\n\n    public ContainerModules(IConfiguration configuration)\n    {\n        _configuration = configuration;\n    }\n\n    protected override void Load(ContainerBuilder builder)\n    {\n        builder.RegisterInstance(AutoMapperConfig.Initialize())\n            .SingleInstance();\n        builder.RegisterModule&lt;ServiceModules&gt;();\n        builder.RegisterModule&lt;CommandModule&gt;();\n        builder.RegisterModule&lt;RepositoryModule&gt;();\n\n    }\n}\n</code></pre>\n\n<p>And the Service modules:</p>\n\n<pre><code> public class ServiceModules :  Autofac.Module\n{\n    protected override void Load(ContainerBuilder builder)\n    {\n        var assembly = typeof(ServiceModules)\n            .GetTypeInfo()\n            .Assembly;\n\n        builder.RegisterAssemblyTypes(assembly)\n            .Where(x =&gt; x.IsAssignableTo&lt;IService&gt;())\n            .AsImplementedInterfaces()\n            .InstancePerLifetimeScope();\n\n        builder.RegisterType&lt;JwtHandler&gt;()\n            .As&lt;IJwthandler&gt;()\n            .SingleInstance();\n\n        builder.RegisterType&lt;Encrypter&gt;()\n            .As&lt;IEncrypter&gt;()\n            .SingleInstance();;                                             \n        }\n   }\n</code></pre>\n"}, {"tags": ["c#", ".net", "winforms", "dialog", "monthcalendar"], "answers": [{"comments": [{"owner": {"reputation": 756, "user_id": 1087811, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GXVTA.png?s=128&g=1", "display_name": "rlv-dan", "link": "https://stackoverflow.com/users/1087811/rlv-dan"}, "edited": false, "score": 0, "creation_date": 1539886647, "post_id": 52862053, "comment_id": 92673787, "body": "This seems like a proper solution, but I was never able to get it working. TableLayoutPanel is not easy to work with. For my simple form I ended up moving the controls by hand."}, {"owner": {"reputation": 756, "user_id": 1087811, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GXVTA.png?s=128&g=1", "display_name": "rlv-dan", "link": "https://stackoverflow.com/users/1087811/rlv-dan"}, "edited": false, "score": 0, "creation_date": 1539886672, "post_id": 52862053, "comment_id": 92673802, "body": "This is my solution that moves the buttons and expands the form: <code>buttonOk.Left = monthCalendar.Left + monthCalendar.Width; buttonCancel.Left = monthCalendar.Left + monthCalendar.Width; this.Width = buttonCancel.Left + buttonCancel.Width + monthCalendar.Left;</code>"}], "tags": [], "owner": {"reputation": 1408, "user_id": 10116473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qTVBu.png?s=128&g=1", "display_name": "Handbag Crab", "link": "https://stackoverflow.com/users/10116473/handbag-crab"}, "is_accepted": false, "score": 1, "last_activity_date": 1539803563, "creation_date": 1539803563, "answer_id": 52862053, "question_id": 52861578, "link": "https://stackoverflow.com/questions/52861578/monthcalendar-controls-changes-size-on-different-systems-how-to-adapt-form-to-a/52862053#52862053", "title": "MonthCalendar controls changes size on different systems, how to adapt form to accomodate?", "body": "<p>A <code>TableLayoutPanel</code>. Two columns, three rows. Dock it on the form. Place the Calendar in the left column, spanning all 3 rows. Put the buttons in the right column in rows 1 and 2. Set Column 1 size mode to Auto-size. You may also need to make Column 2 auto-size and then set the tablelayoutpanel to autosize and then finally the form to auto-size (make sure you allow it to grow and shrink).</p>\n"}], "owner": {"reputation": 756, "user_id": 1087811, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/GXVTA.png?s=128&g=1", "display_name": "rlv-dan", "link": "https://stackoverflow.com/users/1087811/rlv-dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 523, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539803563, "creation_date": 1539801628, "question_id": 52861578, "link": "https://stackoverflow.com/questions/52861578/monthcalendar-controls-changes-size-on-different-systems-how-to-adapt-form-to-a", "title": "MonthCalendar controls changes size on different systems, how to adapt form to accomodate?", "body": "<p>I made a simple date picker dialog using C# WinForms and the MonthCalendar control. Images below shows the same dialog in Windows 7 and 10. As can be seen, the MonthCalendar is much large, overlapping the buttons. </p>\n\n<p><a href=\"https://i.stack.imgur.com/IDrqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDrqF.png\" alt=\"Windows 7\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Mlbj4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mlbj4.png\" alt=\"Windows 10\"></a></p>\n\n<p>This is unexpected since WinForm controls typically have fixed sizes. I need a way to resize the window and move the buttons relative to the MonthCalendar.</p>\n\n<p>Question: How to best handle situations like this, preferably automatically?</p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 0, "creation_date": 1539801491, "post_id": 52861520, "comment_id": 92637515, "body": "just want to point out the first one with a <code>start</code> value greater than <code>1.3</code> is <code>B</code>"}, {"owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 1, "creation_date": 1539801598, "post_id": 52861520, "comment_id": 92637576, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3142495/deserialize-json-into-c-sharp-dynamic-object\">Deserialize JSON into C# dynamic object?</a>"}, {"owner": {"reputation": 51, "user_id": 9793470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a414819fd4cef52ec87f902751d10df3?s=128&d=identicon&r=PG&f=1", "display_name": "RuNe", "link": "https://stackoverflow.com/users/9793470/rune"}, "edited": false, "score": 0, "creation_date": 1539802081, "post_id": 52861520, "comment_id": 92637821, "body": "-this should be a comment- possible duplicate of <a href=\"https://stackoverflow.com/questions/19438472/json-net-deserialize-a-specific-property\" title=\"json net deserialize a specific property\">stackoverflow.com/questions/19438472/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 10093869, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eWVNL6O2eb8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pQvlYqwXtQ79J3D4ZvBIPvPppZUw/mo/photo.jpg?sz=128", "display_name": "CodingMage", "link": "https://stackoverflow.com/users/10093869/codingmage"}, "edited": false, "score": 0, "creation_date": 1539866611, "post_id": 52861886, "comment_id": 92662008, "body": "This also gives B, would there be a way to only output the one closest to 1.3"}], "tags": [], "owner": {"reputation": 391, "user_id": 5916272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SMifm.jpg?s=128&g=1", "display_name": "YouneS", "link": "https://stackoverflow.com/users/5916272/younes"}, "is_accepted": false, "score": 1, "last_activity_date": 1539804842, "last_edit_date": 1539804842, "creation_date": 1539802863, "answer_id": 52861886, "question_id": 52861520, "link": "https://stackoverflow.com/questions/52861520/get-a-specific-part-of-my-json-data-in-c/52861886#52861886", "title": "Get a specific part of my JSON data in C#", "body": "<p>You can make it work with something like the following code : </p>\n\n<pre><code>// Dynamic object that will hold your Deserialized json string    \ndynamic myObj = JsonConvert.DeserializeObject&lt;dynamic&gt;(YOUR-JSON-STRING);\n\n// Will hold the value you are looking for\nstring[] mySubjectValue = \"\";\n\n// Looking for your subject value    \nforeach(var o in myObj.response.data) {\n    if(o.start &gt; 1.3)\n        mySubjectValue = o.subjects;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7510, "user_id": 227332, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b1ae2268c7a69c4bb180a2665736a804?s=128&d=identicon&r=PG", "display_name": "Bruno Brant", "link": "https://stackoverflow.com/users/227332/bruno-brant"}, "is_accepted": false, "score": 3, "last_activity_date": 1539805308, "last_edit_date": 1539805308, "creation_date": 1539803564, "answer_id": 52862055, "question_id": 52861520, "link": "https://stackoverflow.com/questions/52861520/get-a-specific-part-of-my-json-data-in-c/52862055#52862055", "title": "Get a specific part of my JSON data in C#", "body": "<p>I want to extend a bit on the other answers and shed more light into the subject.</p>\n\n<p>A JSON -- <em>JavaScript Object <strong>Notation</em></strong> - is just a way to move data \"on a wire\". Inside .NET, you shouldn't really consider your object to be a JSON, although you may colloquially refer to a data structure as such.</p>\n\n<p>Having said that, what is a JSON \"inside\" .NET? It's your call. You can, for instance treat it as a <code>string</code>, but you will have a hard time doing this operation of finding a specific node based on certain parameters/rules. </p>\n\n<p>Since a JSON is a tree-like structure, you could build your on data structure or use the many available on the web. This is great if you are learning the workings of the language and programming in general, bad if you are doing this professionally because you will probably be reinventing the wheel. And <em>parsing</em> the JSON is not a easy thing to do (again, good exercise). </p>\n\n<p>So, the most time-effective way of doing? You have two options:</p>\n\n<ol>\n<li><p>Use a <code>dynamic</code> object to represent your JSON data. A dynamic is a \"extension\" to .NET (actually, an extension to the CLR, that is called DLR) which lets you create objects that doesn't have classes (they can be considered to be \"untyped\", or, better, to use <em>duck typing</em>).</p></li>\n<li><p>Use a typed structure that you defined to hold your data. This is the canonical, object-oriented, .NET way of doing it, but there's a trade-off in declaring classes and typing everything, which is costly in terms of time. The payoff is that you get better intellisense, performance (DLR objects are slower than traditional objects) and more safe code. </p></li>\n</ol>\n\n<hr>\n\n<p><strong>To go with the first approach</strong>, you can refer to @YouneS answer. You need to add a dependency to your project, <code>Newtonsoft.Json</code> (a nuget), and call deserialize to convert the JSON string to a dynamic object. As you can see from his answer, you can access properties in this object as you would access then on a JavaScript language. But you'll also realize that you have no intellisense and things such as <code>myObj.unexistentField = \"asd\"</code> will be allowed. That is the nature of dynamic typed objects.</p>\n\n<p><strong>The second approach is to declare all types</strong>. Again, this is time consuming and on many cases you'll prefer not to do it. Refer to <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/how-to-serialize-and-deserialize-json-data\" rel=\"nofollow noreferrer\">Microsoft Docs</a> to get more insight.</p>\n\n<p>You should first create your data contracts, as below (forgive me for any typos, I'm not compiling the code).</p>\n\n<pre><code>[DataContract]\nclass DataItem \n{\n    [DataMember]\n    public string Start { get; set; }\n\n    [DataMember]\n    public string[] Subjects { get; set; } \n}\n\n[DataContract]\nclass ResponseItem\n{\n    [DataMember]\n    public DateItem[] Data { get; set; }\n}\n\n[DataContract]\nclass ResponseContract \n{\n    [DataMember]\n    public ResponseItem Response { get; set; }\n}\n</code></pre>\n\n<p>Once you have all those data structures declared, deserialize your json to it:</p>\n\n<pre><code> using (var ms = new MemoryStream(Encoding.Unicode.GetBytes(json)))\n {\n     var deserializer = new DataContractJsonSerializer(typeof(ResponseContract));\n     return (T)deserializer.ReadObject(ms);\n }\n</code></pre>\n\n<p>The code above may seem a bit complicated, but follow a bit of .NET / BCL standards. The <code>DataContractJsonSerializer</code> work only with streams, so you need to open a stream that contains your string. So you create a memory stream with all the bytes from the json string.</p>\n\n<p>You can also use Newtonsoft to do that, which is much simpler but, of course, still requires that extra dependency:</p>\n\n<pre><code>DataContract contract = JsonConvert.DeserializeObject&lt;DataContract&gt;(output);\n</code></pre>\n\n<p>If you use this approach you don't need the annotations (all those <code>DataMember</code> and <code>DataContract</code>) on your classes, making code a bit more clean. I very much prefer using this approach than DataContractJsonSerializer, but it's your call. </p>\n\n<hr>\n\n<p>I've talked a lot about serializing and deserializing objects, but your question was, \"How do I find a certain node?\". All the discussion above was just a prerequisite. </p>\n\n<p>There are, again and as usual, a few ways of achieving what you want:</p>\n\n<ol>\n<li><p>@YouneS answer. It's very straightforward and achieves what you are looking for.</p></li>\n<li><p>Use the second approach above, and then use your typed object to get what you want. For instance:</p>\n\n<pre><code>var contract = JsonConvert.DeserializeObject&lt;DataContract&gt;(output);\nvar query = from dataItem in contract.Response.Data\n            where dataItem.Start &gt; 1.3\n            order by dataItem.Start;\nvar item = query.FirstOrNull();\n</code></pre></li>\n</ol>\n\n<p>Which will return the first item which, since it's ordered, should be the smallest. Remember to test the result for null.</p>\n\n<ol start=\"3\">\n<li>You can use a feature from Newtonsoft that enables to directly find the node you want. Refer to <a href=\"https://www.newtonsoft.com/json/help/html/SelectToken.htm\" rel=\"nofollow noreferrer\">the documentation</a>. A warning, it's a bit advanced and probably overkill for simple cases.</li>\n</ol>\n"}], "owner": {"reputation": 135, "user_id": 10093869, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eWVNL6O2eb8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pQvlYqwXtQ79J3D4ZvBIPvPppZUw/mo/photo.jpg?sz=128", "display_name": "CodingMage", "link": "https://stackoverflow.com/users/10093869/codingmage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 1, "answer_count": 2, "score": -5, "last_activity_date": 1539805308, "creation_date": 1539801392, "last_edit_date": 1539803355, "question_id": 52861520, "link": "https://stackoverflow.com/questions/52861520/get-a-specific-part-of-my-json-data-in-c", "title": "Get a specific part of my JSON data in C#", "body": "<p>I have this JSON:</p>\n\n<pre><code>{\n    \"response\":\n    {\n        \"data\":\n        [\n            {\n                \"start\":1,\n                \"subjects\":[\"A\"]\n            },\n            {\n                \"start\":3,\n                \"subjects\":[\"B\"]\n            },\n            {\n                \"start\":2,\n                \"subjects\":[\"C\"]\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>And I want to get only the \"subject\" data from the object with it's \"start\" value to be the smallest one that is greater than 1.3, which in this case would be C. Would anybody happen to know how such a thing can be achieved using C#?</p>\n"}, {"tags": ["c#", "asp.net", "angular", "rest", "http-status-code-404"], "comments": [{"owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539801611, "post_id": 52861515, "comment_id": 92637586, "body": "you can correct the chaining first like &#39;this.http&#39; needs to be chained not &#39;this&#39;."}, {"owner": {"reputation": 13, "user_id": 10243588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TcPKGPfaIqU/AAAAAAAAAAI/AAAAAAAAANk/e5kaM9w_ZTo/photo.jpg?sz=128", "display_name": "Matthias Herzog", "link": "https://stackoverflow.com/users/10243588/matthias-herzog"}, "reply_to_user": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539801757, "post_id": 52861515, "comment_id": 92637663, "body": "Sorry my bad. It was just bad editing fixed it now."}, {"owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539801972, "post_id": 52861515, "comment_id": 92637759, "body": "you don&#39;t need to put <a href=\"http://localhost:4000\" rel=\"nofollow noreferrer\">localhost:4000</a> in your URL."}, {"owner": {"reputation": 13, "user_id": 10243588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TcPKGPfaIqU/AAAAAAAAAAI/AAAAAAAAANk/e5kaM9w_ZTo/photo.jpg?sz=128", "display_name": "Matthias Herzog", "link": "https://stackoverflow.com/users/10243588/matthias-herzog"}, "reply_to_user": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539802058, "post_id": 52861515, "comment_id": 92637803, "body": "the &quot;It worked&quot; string but it doesn&#39;t even go that far because the Application doesn&#39;t find the route."}, {"owner": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "edited": false, "score": 0, "creation_date": 1539802535, "post_id": 52861515, "comment_id": 92638036, "body": "What are the <code>Headers</code> you send through <i>Postman</i>? I see there are 4, maybe you need some (or all) of them to be sent from <i>Angular</i> app as well..."}, {"owner": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539802537, "post_id": 52861515, "comment_id": 92638038, "body": "this can help! <a href=\"https://stackoverflow.com/questions/52047548/response-for-preflight-does-not-have-http-ok-status-in-angular\" title=\"response for preflight does not have http ok status in angular\">stackoverflow.com/questions/52047548/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 10243588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TcPKGPfaIqU/AAAAAAAAAAI/AAAAAAAAANk/e5kaM9w_ZTo/photo.jpg?sz=128", "display_name": "Matthias Herzog", "link": "https://stackoverflow.com/users/10243588/matthias-herzog"}, "reply_to_user": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "edited": false, "score": 0, "creation_date": 1539802766, "post_id": 52861515, "comment_id": 92638153, "body": "@miselking the headers are only the content type, a date, the server and transfer-encoding. I set the content type in my Angular Application and I don&#39;t think i need the others."}, {"owner": {"reputation": 13, "user_id": 10243588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TcPKGPfaIqU/AAAAAAAAAAI/AAAAAAAAANk/e5kaM9w_ZTo/photo.jpg?sz=128", "display_name": "Matthias Herzog", "link": "https://stackoverflow.com/users/10243588/matthias-herzog"}, "reply_to_user": {"reputation": 479, "user_id": 6600839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2f583d5298272f83f62c807767ba22c?s=128&d=identicon&r=PG&f=1", "display_name": "alokstar", "link": "https://stackoverflow.com/users/6600839/alokstar"}, "edited": false, "score": 0, "creation_date": 1539802861, "post_id": 52861515, "comment_id": 92638194, "body": "@alokstar thanks I also saw that question and tried the proxy configuration part, because there is a CORS extension for chrome which I use and which normally works but sadly no success."}], "answers": [{"tags": [], "owner": {"reputation": 229, "user_id": 5451385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90dad1cb6f5c1171f47a5bca916136f2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kvitchastiy", "link": "https://stackoverflow.com/users/5451385/alex-kvitchastiy"}, "is_accepted": true, "score": 1, "last_activity_date": 1539871648, "last_edit_date": 1539871648, "creation_date": 1539816128, "answer_id": 52864580, "question_id": 52861515, "link": "https://stackoverflow.com/questions/52861515/c-asp-net-core-http-post-request-works-with-postman-but-not-with-my-angular-cl/52864580#52864580", "title": "c# asp .net core HTTP POST Request works with Postman but not with my angular client(404 error)", "body": "<p>As you can see you got a 404 for OPTIONS request. We send options request when we send crossdomain request.</p>\n\n<p>Please ensure that your CORS in asp.net app is configured.\nBecause when you  use POSTMAN it's not a crossdomain request.</p>\n\n<p>You should add response header Access-Control-Allow-Origin: *</p>\n"}], "owner": {"reputation": 13, "user_id": 10243588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TcPKGPfaIqU/AAAAAAAAAAI/AAAAAAAAANk/e5kaM9w_ZTo/photo.jpg?sz=128", "display_name": "Matthias Herzog", "link": "https://stackoverflow.com/users/10243588/matthias-herzog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1905, "favorite_count": 1, "accepted_answer_id": 52864580, "answer_count": 1, "score": 1, "last_activity_date": 1539871648, "creation_date": 1539801379, "last_edit_date": 1539802374, "question_id": 52861515, "link": "https://stackoverflow.com/questions/52861515/c-asp-net-core-http-post-request-works-with-postman-but-not-with-my-angular-cl", "title": "c# asp .net core HTTP POST Request works with Postman but not with my angular client(404 error)", "body": "<p>I have troubles with my c# asp .net core Rest Server. I created an AuthenticationController with a test Route which seems to be working with Postman but when I am trying to get the same result in my Angular 6 Application I get an 404 error that the route is not found, although it is the exact same url.</p>\n\n<p>My Asp .net core Controller:</p>\n\n<pre><code>[Authorize]\n[ApiController]\n[Route(\"api/[controller]\")]\npublic class AuthenticationController : ControllerBase\n{\n    private readonly IAuthenticationService _service;\n\n    public AuthenticationController(IAuthenticationService service)\n    {\n        _service = service;\n    }\n\n\n    [AllowAnonymous]\n    [HttpPost(\"[action]\")]\n    public IActionResult Test()\n    {\n        return Ok(\"It worked\");\n    }\n\n}\n</code></pre>\n\n<p>My Angular Service where the route is called:</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {HttpClient, HttpErrorResponse, \nHttpHeaders}from'@angular/common/http';\n\n\nconst SERVER_URL = 'http://localhost:4000/api/authentication/';\n\n@Injectable({providedIn: 'root'})\nexport class LoginService {\npublic token: string;\n\nconstructor(private sessionUser: SessionUserService, private http: \nHttpClient, private rolesService: RolesService) {}\n\n\n\ntest() {\n  return this.http.post(SERVER_URL + 'test', {})\n  .map((response: any) =&gt; {\n    console.log(response);\n    return response;\n  })\n  .catch(err =&gt; {\n    console.log(err);\n    return Observable.of(false);\n  });\n }\n\n}\n</code></pre>\n\n<p>and here are the different results:</p>\n\n<p>Calling the route from my Angular Client:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L3vGK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L3vGK.png\" alt=\"Calling the route from my Angular Client\"></a></p>\n\n<p>Calling the route from Postman:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RjyFf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RjyFf.png\" alt=\"Calling the route from Postman\"></a></p>\n\n<p>Output of the asp .net core server console:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NyuNT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NyuNT.png\" alt=\"Output of the asp .net core server console\"></a></p>\n\n<p>As you can see in the console logs from the server there is a 404 and a 200 Request finished. The one with 404 is my Application the one with 200 is the one from Postman.</p>\n\n<p>Note:</p>\n\n<p>CORS shouldn't be a problem since I have the google chrome extension.</p>\n\n<p>I also tried to avoid this error with proxy configuration which angular supports.</p>\n"}, {"tags": ["c#", "unity3d", "unity-container"], "comments": [{"owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 3, "creation_date": 1539801711, "post_id": 52861506, "comment_id": 92637637, "body": "what is <code>image</code>? where is it declared? usually you will need to change an objects material, or the color of the light hitting it to change an objects color."}, {"owner": {"reputation": 111, "user_id": 5961336, "user_type": "registered", "profile_image": "https://graph.facebook.com/146170575769460/picture?type=large", "display_name": "Surraya Marvi", "link": "https://stackoverflow.com/users/5961336/surraya-marvi"}, "reply_to_user": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 0, "creation_date": 1539806058, "post_id": 52861506, "comment_id": 92639630, "body": "@Vanethrane i edited the code. I missed it in posting here."}, {"owner": {"reputation": 1012, "user_id": 10223668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Id6SY.jpg?s=128&g=1", "display_name": "Ehsan Mohammadi", "link": "https://stackoverflow.com/users/10223668/ehsan-mohammadi"}, "edited": false, "score": 0, "creation_date": 1539813601, "post_id": 52861506, "comment_id": 92642714, "body": "@SurrayaMarvi I tested your code and it works fine. Do you set any <code>Animation</code> to your <code>Image</code>? Or does the <code>Image</code> game object have <code>Animator</code> component?"}], "answers": [{"tags": [], "owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "is_accepted": false, "score": 0, "last_activity_date": 1539801847, "creation_date": 1539801847, "answer_id": 52861642, "question_id": 52861506, "link": "https://stackoverflow.com/questions/52861506/image-color-not-changing-in-unity/52861642#52861642", "title": "Image color not changing in Unity", "body": "<p><code>image.GetComponent&lt;Image&gt;().color = isSelected ? selectedColor : normalColor;</code></p>\n\n<p>gotta get the image not just the gameobject. good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 136, "user_id": 10308792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFySI.jpg?s=128&g=1", "display_name": "Noblight", "link": "https://stackoverflow.com/users/10308792/noblight"}, "is_accepted": false, "score": 0, "last_activity_date": 1539952363, "creation_date": 1539952363, "answer_id": 52892414, "question_id": 52861506, "link": "https://stackoverflow.com/questions/52861506/image-color-not-changing-in-unity/52892414#52892414", "title": "Image color not changing in Unity", "body": "<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class Test07a : MonoBehaviour {\n    public Color normalColor;\n    public Color selectedColor;\n    public Image image;\n    private bool isSelected;\n\n    public void Select(){\n        isSelected = !isSelected;\n        image.color = isSelected ? selectedColor : normalColor;\n\n        if (isSelected) {\n            Debug.Log (\"selected\");\n        } else {\n            Debug.Log (\"not selected\");\n        }\n    }\n}\n</code></pre>\n\n<p>Tried that code and worked fine (I removed <code>WordScramble</code> and initialize bool <code>isSelected</code> for experimental purpose).<br>\nIf your problem is the image disappear when it is clicked, try to check the alpha of the color from your color picker :<br>\n<a href=\"https://i.stack.imgur.com/drOfj.png\" rel=\"nofollow noreferrer\">that's the problem when I try your code</a></p>\n"}], "owner": {"reputation": 111, "user_id": 5961336, "user_type": "registered", "profile_image": "https://graph.facebook.com/146170575769460/picture?type=large", "display_name": "Surraya Marvi", "link": "https://stackoverflow.com/users/5961336/surraya-marvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1323, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539952363, "creation_date": 1539801317, "last_edit_date": 1539806027, "question_id": 52861506, "link": "https://stackoverflow.com/questions/52861506/image-color-not-changing-in-unity", "title": "Image color not changing in Unity", "body": "<p>following is my code for changing image color. I selected the image color to yellow from color picker after inserting the cs script to my image properties an assigned the yellow color from color picker to the field of color of image. </p>\n\n<pre><code>public Color normalColor;\npublic Color selectedColor;\npublic Image image;\n\npublic void Select(){\n    isSelected = !isSelected;\n    image.color = isSelected ? selectedColor : normalColor;\n\n    if (isSelected) {\n        WordScramble.main.Select (this);\n    } else {\n        WordScramble.main.UnSelect(this);\n    }\n\n}\n</code></pre>\n\n<p>The Select function is called on clicking the image, and it is correctly calling and working its functionality except the changing of color. Please tell me where I am wrong. </p>\n"}, {"tags": ["c#", ".net", "visual-studio", "visual-studio-2017", "desktop-bridge"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1539802246, "post_id": 52861485, "comment_id": 92637909, "body": "Suggestion to UI designers of similar logic: When the checkbox is checked, the button captions should change from &quot;Yes&quot; and &quot;No&quot; to &quot;Always&quot; and &quot;Never&quot;"}, {"owner": {"reputation": 713, "user_id": 9074610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b00b5b2ff2573542db9dc9c60af411be?s=128&d=identicon&r=PG&f=1", "display_name": "St. Pat", "link": "https://stackoverflow.com/users/9074610/st-pat"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1539802308, "post_id": 52861485, "comment_id": 92637937, "body": "@Silvermind pressing Cancel just means don&#39;t do anything. no settings are changed, no build is started."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1539802526, "post_id": 52861485, "comment_id": 92638032, "body": "@BenVoigt That&#39;s good, but not enough. Because a user might not notice that because they already read those buttons&#39; texts. I think that the &quot;do not show...&quot; text should be &quot;remember action for the future&quot; or something like that."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1539802775, "post_id": 52861485, "comment_id": 92638156, "body": "@ispiro: Yes, that&#39;s valuable.  Best is to do both."}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "reply_to_user": {"reputation": 713, "user_id": 9074610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b00b5b2ff2573542db9dc9c60af411be?s=128&d=identicon&r=PG&f=1", "display_name": "St. Pat", "link": "https://stackoverflow.com/users/9074610/st-pat"}, "edited": false, "score": 0, "creation_date": 1539803510, "post_id": 52861485, "comment_id": 92638474, "body": "@St.Pat I forgot to put the sarcasm tag there."}], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1539803831, "post_id": 52861701, "comment_id": 92638594, "body": "Cancel: No settings are changed, no build is done, <b>and the out of date project output is not launched</b>"}], "tags": [], "owner": {"reputation": 713, "user_id": 9074610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b00b5b2ff2573542db9dc9c60af411be?s=128&d=identicon&r=PG&f=1", "display_name": "St. Pat", "link": "https://stackoverflow.com/users/9074610/st-pat"}, "is_accepted": true, "score": 4, "last_activity_date": 1539804179, "last_edit_date": 1539804179, "creation_date": 1539802138, "answer_id": 52861701, "question_id": 52861485, "link": "https://stackoverflow.com/questions/52861485/project-out-of-date-do-not-show-this-dialog-again-and-build-or-not-build/52861701#52861701", "title": "Project out of date - do not show this dialog again - and build or not build?", "body": "<p>When you have \"Do not show this dialog again\" checked, it remembers the choice you make.</p>\n\n<p>If you press Yes while the check box is checked, it will be</p>\n\n<blockquote>\n  <p>Don't show and <em>do</em> build</p>\n</blockquote>\n\n<p>If you press No while the check box is checked, it will be</p>\n\n<blockquote>\n  <p>Don't show and <em>don't</em> build</p>\n</blockquote>\n\n<p>The setting that is changed based on your choice is located in the Tools->Options menu.</p>\n\n<p>Go to the \"Projects and Solutions\" group, and choose the \"Build and Run\" page.</p>\n\n<p>The first dropdown box, \"On Run, when projects are out of date\", will show what action is taken when you try to run when projects are out of date. </p>\n\n<p>\"Prompt to build\" will show the dialog in your question. The other two options are self-explanatory, Always or Never build.</p>\n\n<p>An extra note, if you press Cancel on the dialog, then nothing is done. No settings are changed, no build is started, and the out of date project output is not launched. It's like the dialog never opened in the first place.</p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 52861701, "answer_count": 1, "score": 1, "last_activity_date": 1539804179, "creation_date": 1539801239, "question_id": 52861485, "link": "https://stackoverflow.com/questions/52861485/project-out-of-date-do-not-show-this-dialog-again-and-build-or-not-build", "title": "Project out of date - do not show this dialog again - and build or not build?", "body": "<p>In the following dialog which I get when running a Centennial app, </p>\n\n<p><a href=\"https://i.stack.imgur.com/ueTlW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ueTlW.png\" alt=\"project out of date image\"></a></p>\n\n<p>what does \"do not show this dialog again\" mean?</p>\n\n<blockquote>\n  <p>Don't show and <em>don't</em> build</p>\n</blockquote>\n\n<p>Or </p>\n\n<blockquote>\n  <p>Don't show and <em>do</em> build</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "linq", "asp.net-identity"], "comments": [{"owner": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 2, "creation_date": 1539800911, "post_id": 52861369, "comment_id": 92637246, "body": "Try using Lambda instead of Linq Expressions. Lambda is easy to read and debug. I really hate Linq Expressions."}, {"owner": {"reputation": 2267, "user_id": 9743064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JS0FZ.jpg?s=128&g=1", "display_name": "Llazar", "link": "https://stackoverflow.com/users/9743064/llazar"}, "edited": false, "score": 0, "creation_date": 1539801196, "post_id": 52861369, "comment_id": 92637372, "body": "Include your tables please."}, {"owner": {"reputation": 11, "user_id": 6478971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUwdw.jpg?s=128&g=1", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/6478971/abdul-rauf"}, "reply_to_user": {"reputation": 2267, "user_id": 9743064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JS0FZ.jpg?s=128&g=1", "display_name": "Llazar", "link": "https://stackoverflow.com/users/9743064/llazar"}, "edited": false, "score": 0, "creation_date": 1539802051, "post_id": 52861369, "comment_id": 92637797, "body": "These are the tables defined by the Identity @Llazar"}, {"owner": {"reputation": 11, "user_id": 6478971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUwdw.jpg?s=128&g=1", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/6478971/abdul-rauf"}, "reply_to_user": {"reputation": 1167, "user_id": 3279247, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/uVAYZ.jpg?s=128&g=1", "display_name": "Igor Quirino", "link": "https://stackoverflow.com/users/3279247/igor-quirino"}, "edited": false, "score": 0, "creation_date": 1539802139, "post_id": 52861369, "comment_id": 92637849, "body": "Thanks but I haven&#39;t used Lambda before. @IgorQuirino"}, {"owner": {"reputation": 2267, "user_id": 9743064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JS0FZ.jpg?s=128&g=1", "display_name": "Llazar", "link": "https://stackoverflow.com/users/9743064/llazar"}, "edited": false, "score": 0, "creation_date": 1539802618, "post_id": 52861369, "comment_id": 92638077, "body": "<code>pateints</code> are in <code>context.Users</code> or in <code>context.Roles</code>?"}, {"owner": {"reputation": 11, "user_id": 6478971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUwdw.jpg?s=128&g=1", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/6478971/abdul-rauf"}, "edited": false, "score": 0, "creation_date": 1539802920, "post_id": 52861369, "comment_id": 92638224, "body": "<code>ApplicationDbContext context = new ApplicationDbContext();</code> is the connection. By using this connection I am accessing the tables. <code>context.Users = AspNetUsers</code> and <code>context.Roles = AspNetRoles</code>"}, {"owner": {"reputation": 11, "user_id": 6478971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUwdw.jpg?s=128&g=1", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/6478971/abdul-rauf"}, "edited": false, "score": 0, "creation_date": 1539803009, "post_id": 52861369, "comment_id": 92638254, "body": "and <code>AspNetUserRoles</code> contains the <code>roleId</code> and <code>UserId</code> fields."}, {"owner": {"reputation": 2267, "user_id": 9743064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JS0FZ.jpg?s=128&g=1", "display_name": "Llazar", "link": "https://stackoverflow.com/users/9743064/llazar"}, "edited": false, "score": 0, "creation_date": 1539803549, "post_id": 52861369, "comment_id": 92638488, "body": "You are not clear with your question and there is not enough info to help you. You want to retrieve patients and doctors from database right, what are they in your database?"}, {"owner": {"reputation": 11, "user_id": 6478971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUwdw.jpg?s=128&g=1", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/6478971/abdul-rauf"}, "reply_to_user": {"reputation": 2267, "user_id": 9743064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JS0FZ.jpg?s=128&g=1", "display_name": "Llazar", "link": "https://stackoverflow.com/users/9743064/llazar"}, "edited": false, "score": 0, "creation_date": 1539804200, "post_id": 52861369, "comment_id": 92638798, "body": "@Llazar let me try to explain for you.  All users are in the table <code>AspNetUsers</code> fields <code>userid</code>,<code>Username</code> etc but their roles are in the table <code>AspNetRoles</code> fields <code>roleId</code>, &#39;Name&#39; and each user is assigned a role which may be a doctor, patient or other and their relationship table is <code>AspNetUserRoles</code> which contains the <code>userId</code> and <code>roleId</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2289, "user_id": 2471463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zEadi.jpg?s=128&g=1", "display_name": "Vinit", "link": "https://stackoverflow.com/users/2471463/vinit"}, "is_accepted": false, "score": 1, "last_activity_date": 1539805464, "creation_date": 1539805464, "answer_id": 52862508, "question_id": 52861369, "link": "https://stackoverflow.com/questions/52861369/query-users-roles-asp-net-identity-via-linq/52862508#52862508", "title": "Query users &amp; roles (ASP.NET identity) via Linq", "body": "<p>You just need to join all three entities and then apply filter on role name like below -</p>\n\n<pre><code>var result = from u in context.Users\n             join ur context.UserRoles on u.Userid equal ur.Userid\n             join r in context.Roles on r.Roleid equal ur.Roleid\n             where r.Name == \"Doctor\" || r.Name == \"Patient\"\n             select new {UserName = u.UserName, Email = u.Email, Role = r.Name };\n</code></pre>\n\n<p>The sample output will be like below -</p>\n\n<pre><code>UserName        Email           Role\nabc xyz         abc@abc.com     Doctor\ndoc xyz         doc@abc.com     Doctor\npqr xyz         pqr@abc.com     Patient\nlmn xyz         lmn@abc.com     Patient\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1805, "user_id": 6584883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ak66p.jpg?s=128&g=1", "display_name": "Udara Kasun", "link": "https://stackoverflow.com/users/6584883/udara-kasun"}, "is_accepted": false, "score": 0, "last_activity_date": 1577430382, "creation_date": 1577430382, "answer_id": 59497224, "question_id": 52861369, "link": "https://stackoverflow.com/questions/52861369/query-users-roles-asp-net-identity-via-linq/59497224#59497224", "title": "Query users &amp; roles (ASP.NET identity) via Linq", "body": "<p>Try This</p>\n\n<pre><code>    using(ApplicationDbContext db=new ApplicationDbContext())\n    {\n          var users = (from user in db.Users\n                       from roles in user.Roles\n                       join role in db.Roles\n                       on roles.RoleId equals role.Id \n                       select new\n                       {\n                           user.UserName, \n                           role.Name\n                       }).ToList(); \n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6478971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BUwdw.jpg?s=128&g=1", "display_name": "Abdul Rauf", "link": "https://stackoverflow.com/users/6478971/abdul-rauf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 948, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1577430382, "creation_date": 1539800695, "last_edit_date": 1539804122, "question_id": 52861369, "link": "https://stackoverflow.com/questions/52861369/query-users-roles-asp-net-identity-via-linq", "title": "Query users &amp; roles (ASP.NET identity) via Linq", "body": "<p>I want to get patients and doctors from database. I am using ASP.NET Identity.</p>\n\n<p>The relevant tables are <code>AspNetUsers</code>, <code>AspNetRoles</code>and <code>AspNetUserRoles</code></p>\n\n<p>And this is my query:</p>\n\n<pre><code>var result = from pateints in context.Users\n             let pEmail = pateints.Email\n             from doctors in context.Users\n             from roles in context.Roles\n             where pateints.Roles.Any(r =&gt; r.RoleId == roles.Id &amp;&amp; roles.Name == \"Patient\")\n             where doctors.Roles.Any(r =&gt; r.RoleId == roles.Id &amp;&amp; roles.Name == \"Doctor\") \n             select new { doctors.Email, pEmail };\n</code></pre>\n\n<p>I tried my best to find the problem, but this query returns nothing.</p>\n"}, {"tags": ["c#", "asp.net", "excel", "oledb"], "comments": [{"owner": {"reputation": 13122, "user_id": 1001884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14116728c7413097a42cf22736503f56?s=128&d=identicon&r=PG", "display_name": "Hambone", "link": "https://stackoverflow.com/users/1001884/hambone"}, "edited": false, "score": 0, "creation_date": 1539808932, "post_id": 52861284, "comment_id": 92640953, "body": "I would set up the folder as a file share and then have the program access it via the file share address (\\\\server\\Share), even when it&#39;s running locally"}, {"owner": {"reputation": 569, "user_id": 2311455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ebfc67295ef12ccf327e752414331356?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Ghanem", "link": "https://stackoverflow.com/users/2311455/mohammad-ghanem"}, "edited": false, "score": 0, "creation_date": 1547361708, "post_id": 52861284, "comment_id": 95162821, "body": "Try to give full permission on folder for every one and see if error still appears ? If error disappear this means that the point in folder permission configurations, this will save some time and make the things easier to find the solution."}], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 2627057, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cKSe5.jpg?s=128&g=1", "display_name": "Golnaz Saraji", "link": "https://stackoverflow.com/users/2627057/golnaz-saraji"}, "is_accepted": false, "score": 0, "last_activity_date": 1547355016, "creation_date": 1547355016, "answer_id": 54166185, "question_id": 52861284, "link": "https://stackoverflow.com/questions/52861284/oledb-reading-excel-file-not-working-on-iis-asp-net-c/54166185#54166185", "title": "OLEDB reading Excel File Not Working on IIS asp.net C#", "body": "<p>You must give access to inetpub folder to IIS_IUSRS on your server.</p>\n"}], "owner": {"reputation": 4132, "user_id": 718264, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5cTmY.jpg?s=128&g=1", "display_name": "Rocky", "link": "https://stackoverflow.com/users/718264/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1547355016, "creation_date": 1539800369, "last_edit_date": 1539807667, "question_id": 52861284, "link": "https://stackoverflow.com/questions/52861284/oledb-reading-excel-file-not-working-on-iis-asp-net-c", "title": "OLEDB reading Excel File Not Working on IIS asp.net C#", "body": "<p>I am trying to Browse the file then Saving that file into one folder and trying to read that file using OLEDB, Everything works file on local as well as working on IIS locally. Same thing when I am released on server it is not working, getting exception as  \"Access to the path 'C:\\inetpub\\wwwroot\\exceptApp\\Files\\TemplateFile.xlsx' is denied.\", IIS_USERS  user has full permission on folder. Below is my code</p>\n\n<pre><code> protected void BtnSubmit_Click(object sender, EventArgs e)\n {\n     try\n         {\n            grdResult.DataSource = null;\n            grdResult.DataBind();\n            BtnExport.Visible = false;\n\n            if (fuFile.HasFile)\n            {\n                string readConnString = \"\";\n                var fileExtn = Path.GetExtension(fuFile.FileName).ToLower();\n                var dir = Server.MapPath(\"~\\\\Files\");\n                if (!Directory.Exists(dir))\n                {\n                    Directory.CreateDirectory(dir);\n                }\n                var fileName = Path.GetFileName(fuFile.FileName.Trim());\n\n                var fileNameWithPath = Path.Combine(dir, fileName);\n\n                if (File.Exists(fileNameWithPath))\n                {\n                    File.Delete(fileNameWithPath);\n                }\n                fuFile.PostedFile.SaveAs(fileNameWithPath);\n                fuFile.FileContent.Dispose();\n                //Connection String to Excel Workbook\n                if (fileExtn.Trim() == \".xls\")\n                {\n                    readConnString = string.Format(\"Provider=Microsoft.Jet.OLEDB.4.0; data source={0}; Extended Properties=\\\"Excel 8.0;HDR=Yes;IMEX=1\\\";\", fileNameWithPath);\n                }\n                else if (fileExtn.Trim() == \".xlsx\")\n                {\n                    readConnString = string.Format(\"Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0};Extended Properties=\\\"Excel 12.0;HDR=Yes;IMEX=1\\\";\", fileNameWithPath);\n                }\n\n\n                using (var dbConn = new OleDbConnection(readConnString))\n                {                        \n                    dbConn.Open();\n                    var dt = dbConn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);\n                    using (var cmd = new OleDbCommand(@\"SELECT * FROM [\" + dt.Rows[0][\"TABLE_NAME\"].ToString() + \"]\", dbConn))\n                    {                            \n                        OleDbDataAdapter da = new OleDbDataAdapter(cmd);\n                        DataSet ds = new DataSet();\n                        da.Fill(ds);\n                        var resultDt = ds.Tables[0];\n                        dbConn.Close();\n                          if (resultDt.Rows.Count &gt; 0)\n                            {\n                                BtnExport.Visible = true;\n                                grdResult.DataSource = resultDt;\n                                grdResult.DataBind();\n                            }                         \n\n                    }                        \n\n                }\n                Thread.Sleep(1000);\n\n                if (File.Exists(fileNameWithPath))\n                {\n                    File.Delete(fileNameWithPath);\n                }\n\n            }\n        }\n        catch (Exception ex)\n        {\n            exlog.Log(\"BtnSubmit_Click\", ex.Message);\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "webview", "wpf-controls"], "comments": [{"owner": {"reputation": 870, "user_id": 5064530, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1f9940dea679bafc4244dbee86c0c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Sham", "link": "https://stackoverflow.com/users/5064530/sham"}, "edited": false, "score": 0, "creation_date": 1539800460, "post_id": 52861234, "comment_id": 92637029, "body": "Why did not you use <code>WebBrowser</code>?"}, {"owner": {"reputation": 660, "user_id": 1732184, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e25262c2cde4513d1f09914f1bae7bcc?s=128&d=identicon&r=PG", "display_name": "prestonsmith", "link": "https://stackoverflow.com/users/1732184/prestonsmith"}, "reply_to_user": {"reputation": 870, "user_id": 5064530, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1f9940dea679bafc4244dbee86c0c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Sham", "link": "https://stackoverflow.com/users/5064530/sham"}, "edited": false, "score": 0, "creation_date": 1539808877, "post_id": 52861234, "comment_id": 92640930, "body": "was having trouble rendering items correctly or even using things like sockets. I assume it&#39;s because WebBrowser uses IE7 under the hood"}], "owner": {"reputation": 660, "user_id": 1732184, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e25262c2cde4513d1f09914f1bae7bcc?s=128&d=identicon&r=PG", "display_name": "prestonsmith", "link": "https://stackoverflow.com/users/1732184/prestonsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1539800175, "creation_date": 1539800175, "question_id": 52861234, "link": "https://stackoverflow.com/questions/52861234/wpf-webview-shows-no-content", "title": "WPF WebView shows no content", "body": "<p>Simply put, the new Edge powered WebView control isn't showing anything when I attempt to browse. </p>\n\n<p>I've tried it with an 'out-of-the-box' WPF app and still showing nothing when browsing to <a href=\"https://www.microsoft.com\" rel=\"nofollow noreferrer\">https://www.microsoft.com</a>. Anyone come across this before and have any tips?</p>\n\n<p>For the sake of showing the code though - here it is below:</p>\n\n<p><strong>MainWindow.xaml.cs</strong></p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        wvc.Navigate(new Uri(\"https://www.microsoft.com\"));\n    }\n}\n</code></pre>\n\n<p><strong>MainWindow.xaml</strong></p>\n\n<pre><code>&lt;Window x:Class=\"WebViewTest.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:WPF=\"clr-namespace:Microsoft.Toolkit.Win32.UI.Controls.WPF;assembly=Microsoft.Toolkit.Win32.UI.Controls\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:local=\"clr-namespace:WebViewTest\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    Title=\"MainWindow\"\n    Width=\"800\"\n    Height=\"450\"\n    mc:Ignorable=\"d\"&gt;\n&lt;Grid&gt;\n    &lt;WPF:WebView x:Name=\"wvc\" Width=\"200\" Height=\"400\" /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "ef-code-first", "entity-framework-migrations"], "owner": {"reputation": 41, "user_id": 10360424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f8c2ca694fc28d6db6af2ce2adbb721?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/10360424/amir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 4, "answer_count": 0, "score": 2, "last_activity_date": 1539802415, "creation_date": 1539800163, "last_edit_date": 1539802415, "question_id": 52861231, "link": "https://stackoverflow.com/questions/52861231/how-can-i-generate-database-tables-manually-in-controller-with-codefirst-migrati", "title": "How can I generate database tables manually in controller with codefirst migration faster?", "body": "<p>I started a custom CMS using C# and MVC code first. I added a controller called Setup and in the setup controller action GenrateDatabase I get DatabaseName Initial catalog User Id and database password after that I generate data base connection string and update it in web.config and run seed method in bellow code.</p>\n\n<pre><code>    [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult GenrateDatabase([Bind(Include = \"DataSource,InitialCatalog,UserId,Password\")] Database database)\n    {\n        if (ModelState.IsValid)\n        {\n            if (database.GenrateDatabase())\n            {\n                return RedirectToAction(\"Register\");\n            }\n        }\n        ModelState.AddModelError(\"\", \"Mmm, something went wrong, Please check your data and try again.\");\n        return View(database);\n    }\n</code></pre>\n\n<p>and my database class is :</p>\n\n<pre><code>public class Database\n{\n    [Required]\n    public string DataSource { get; set; }\n\n    [Required]\n    public string InitialCatalog { get; set; }\n\n    [Required]\n    public string UserId { get; set; }\n\n    [Required]\n    public string Password { get; set; }\n\n    private ApplicationDbContext db = new ApplicationDbContext();\n\n    //$\"Data Source={DataSource};Initial Catalog={InitialCatalog};User Id ={UserId}; Password = {Password};\";\n    private string ConnectionString =&gt; $\"Data Source=.;Initial Catalog=Store;Integrated Security=SSPI\";\n\n    public bool GenrateDatabase()\n    {\n        var configuration = WebConfigurationManager.OpenWebConfiguration(\"~\");\n        var section = (ConnectionStringsSection)configuration.GetSection(\"connectionStrings\");\n        section.ConnectionStrings[\"goomooshCNSdb\"].ConnectionString = ConnectionString;\n        configuration.Save();\n        return (GenrateTables()) ? true : false;\n    }\n\n    private bool GenrateTables()\n    {\n        if (db.Database.Exists())\n        {\n            //var configuration = new DbMigrationsConfiguration();\n            Migrations.Configuration configuration = new Migrations.Configuration();\n            configuration.ContextType = typeof(ApplicationDbContext);\n            var migrator = new DbMigrator(configuration);\n            migrator.Configuration.TargetDatabase = new DbConnectionInfo(ConnectionString, \"System.Data.SqlClient\");\n            var migrations = migrator.GetPendingMigrations();\n            if (migrations.Any())\n            {\n                var scriptor = new MigratorScriptingDecorator(migrator);\n                var script = scriptor.ScriptUpdate(null, migrations.Last());\n                if (!string.IsNullOrEmpty(script))\n                {\n                    db.Database.ExecuteSqlCommand(script);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>when I run my project and enter data and submit the form all codes run perfectly but the problem is db.Database.ExecuteSqlCommand(script); takes too much time and never finish after maybe 10 minutes.</p>\n\n<p>When I check database on SQL Server code created all tables and every things need but code never redirect to register action.</p>\n\n<p>How can I Create this class and method faster like wordpress or other CMS?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1539800386, "post_id": 52861230, "comment_id": 92636995, "body": "Which C# version are you <i>actually</i> working with? Those tags are about features specific to different versions. And I doubt you&#39;re compiling some code in each version :)"}, {"owner": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "reply_to_user": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1539800564, "post_id": 52861230, "comment_id": 92637078, "body": "@Broots Waymb oh my bad. im using 4.x"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 2, "creation_date": 1539800606, "post_id": 52861230, "comment_id": 92637101, "body": "Is the barrier that you&#39;re using <code>int</code> to index something that exceeds <code>int.MaxValue</code>? Loading such a file entirely into memory seems misguided to me."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 2, "creation_date": 1539800794, "post_id": 52861230, "comment_id": 92637192, "body": "<code>File.ReadAllBytes</code> is entirely misguided; use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.binaryreader?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>BinaryReader</code></a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1539801580, "post_id": 52861230, "comment_id": 92637571, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26882004/system-io-file-readallbytes-for-file-larger-than-2gb\">System.IO.File.ReadAllBytes for file larger than 2GB</a>"}, {"owner": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "edited": false, "score": 0, "creation_date": 1539811518, "post_id": 52861230, "comment_id": 92641995, "body": "@elgonzo nope its not the very same issue"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1539811701, "post_id": 52861230, "comment_id": 92642051, "body": "Please explain how it is not the very same issue. Your issue is wanting to read and modify (patch) a file that is larger than 2GB. That is the problem you are trying to solve, correct? The question i referred to precisely addresses this problem."}, {"owner": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "edited": false, "score": 0, "creation_date": 1539811798, "post_id": 52861230, "comment_id": 92642088, "body": "@elgonzo but the problem is it only makes int value range higher it does not affect File.ReadAllBytes method"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1539811825, "post_id": 52861230, "comment_id": 92642101, "body": "What? I do not understand your last comment..."}, {"owner": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "edited": false, "score": 0, "creation_date": 1539875961, "post_id": 52861230, "comment_id": 92668171, "body": "@elgonzo what you told me to do only addresses another issue which is integer length. but my problem is not the integer length"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1539890304, "post_id": 52861230, "comment_id": 92675705, "body": "No, the question i referred to is NOT about &quot;integer length&quot; (whatever you mean with that). It is about your problem. Anyway, you will have to read that question and its answer for yourself. I could regurgitate here word-for-word what is already written there in this question+answer; but then again, who would prefer reading my regurgitation instead of the actual text in the linked question+answer? ;-)"}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 1, "creation_date": 1539901878, "post_id": 52861230, "comment_id": 92680295, "body": "Don&#39;t try to read the entire file at once. Use Streams to only keep small chunks in memory at a time."}, {"owner": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "reply_to_user": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 0, "creation_date": 1539984161, "post_id": 52861230, "comment_id": 92712408, "body": "@JoelCoehoorn its a very good idea too but it has its own disadvantages so i used another method. anyways thanks !"}], "answers": [{"comments": [{"owner": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "edited": false, "score": 0, "creation_date": 1539984011, "post_id": 52883386, "comment_id": 92712360, "body": "I did find the answer already and it is so similar to this so i consider this as the right answer !"}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "reply_to_user": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "edited": false, "score": 0, "creation_date": 1541453145, "post_id": 52883386, "comment_id": 93215274, "body": "@AquaDev: For your info: it is possible to answer your own question ;-)"}], "tags": [], "owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "is_accepted": true, "score": 3, "last_activity_date": 1540773878, "last_edit_date": 1540773878, "creation_date": 1539901193, "answer_id": 52883386, "question_id": 52861230, "link": "https://stackoverflow.com/questions/52861230/how-to-read-write-to-a-file-which-is-over-the-size-barrier-of-2-gb/52883386#52883386", "title": "How to read/write to a file which is over the size barrier of 2 GB?", "body": "<p>Your problem is that <code>File.ReadAllBytes</code> will not open files with lengths longer than <code>Int.MaxValue</code>. Loading an entire file into memory just to scan it for a pattern is a bad design no matter how big the file is. You should open the file as a stream and use the Scanner pattern to step through the file, replacing bytes that match your pattern. A rather simplistic implementation  using <code>BinaryReader</code>:</p>\n\n<pre><code>static void PatchStream(Stream source, Stream target\n    , IList&lt;byte&gt; searchPattern, IList&lt;byte&gt; replacementPattern)\n{\n    using (var input = new BinaryReader(source))\n    using (var output = new BinaryWriter(target))\n    {\n        var buffer = new Queue&lt;byte&gt;();\n        while (true)\n        {\n            if (buffer.Count &lt; searchPattern.Count)\n            {\n                if (input.BaseStream.Position &lt; input.BaseStream.Length)\n                    buffer.Enqueue(input.ReadByte());\n                else\n                    break;\n            }\n            else if (buffer.Zip(searchPattern, (b, s) =&gt; b == s).All(c =&gt; c))\n            {\n                foreach (var b in replacementPattern)\n                    output.Write(b);\n                buffer.Clear();\n            }\n            else\n            {\n                output.Write(buffer.Dequeue());\n            }\n        }\n\n        foreach (var b in buffer)\n            output.Write(b);\n    }\n}\n</code></pre>\n\n<p>You can call it on files with code like:</p>\n\n<pre><code>PatchStream(new FileInfo(...).OpenRead(),\n    new FileInfo(...).OpenWrite(),\n    new[] { (byte)'a', (byte)'b', (byte)'c' },\n    new[] { (byte)'A', (byte)'B', (byte)'C' });\n</code></pre>\n"}], "owner": {"reputation": 62, "user_id": 9594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b8810ab8d698cd705adedbc0478e62?s=128&d=identicon&r=PG", "display_name": "AquaDev", "link": "https://stackoverflow.com/users/9594576/aquadev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 52883386, "answer_count": 1, "score": 1, "last_activity_date": 1540774758, "creation_date": 1539800161, "last_edit_date": 1540774758, "question_id": 52861230, "link": "https://stackoverflow.com/questions/52861230/how-to-read-write-to-a-file-which-is-over-the-size-barrier-of-2-gb", "title": "How to read/write to a file which is over the size barrier of 2 GB?", "body": "<p>So, i don't have a single idea to get through this situation i have a function that patches a file by replacing the values i want but he file i am trying to patch is about 4.5GB.\nHere is the function :</p>\n\n<pre><code>private static readonly byte[] PatchFind = { 0x74, 0x72, 0x79 };\n    private static readonly byte[] PatchReplace = { 0x79, 0x72, 0x74 };\n\n    private static bool DetectPatch(byte[] sequence, int position)\n    {\n        if (position + PatchFind.Length &gt; sequence.Length) return false;\n        for (int p = 0; p &lt; PatchFind.Length; p++)\n        {\n            if (PatchFind[p] != sequence[position + p]) return false;\n        }\n        return true;\n    }\n\n    private static void PatchFile(string originalFile, string patchedFile)\n    {\n        // Ensure target directory exists.\n        var targetDirectory = Path.GetDirectoryName(patchedFile);\n        if (targetDirectory == null) return;\n        Directory.CreateDirectory(targetDirectory);\n\n        // Read file bytes.\n        byte[] fileContent = File.ReadAllBytes(originalFile);\n\n        // Detect and patch file.\n        for (int p = 0; p &lt; fileContent.Length; p++)\n        {\n            if (!DetectPatch(fileContent, p)) continue;\n\n            for (int w = 0; w &lt; PatchFind.Length; w++)\n            {\n                fileContent[p + w] = PatchReplace[w];\n            }\n        }\n\n        // Save it to another location.\n        File.WriteAllBytes(patchedFile, fileContent);\n    }\n</code></pre>\n\n<p>So how can i achieve the function to work with 2GB+ files. Any help would be appreciated.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "cookies", "cookie-authentication"], "owner": {"reputation": 481, "user_id": 1393816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cFRFt.png?s=128&g=1", "display_name": "Talon", "link": "https://stackoverflow.com/users/1393816/talon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1539799374, "creation_date": 1539799374, "question_id": 52861029, "link": "https://stackoverflow.com/questions/52861029/asp-net-cookie-authentication-expiration-during-post-with-a-model", "title": "ASP.Net Cookie Authentication expiration during POST with a model", "body": "<p>I have an ASP.net app that is using cookie authentication that passes the return URL to the my authentication controller when the cookie expires and needs revalidation. After revalidation, the controller redirects to where ever the return url parameters are as a GET. The problem is if the revalidation happens when the user does a POST, the controller will redirect to the GET function, if available, which I do not want to happen. Also, some actions send a model to the controller, on GET and POST, and when the revalidation occurs, the model is lost. </p>\n\n<p>I have tried to override the provider in the Cookie Authentication Options, like <a href=\"https://stackoverflow.com/questions/35342725/mvc-owin-cookie-authentication-override-returnurl-generation\">this</a>, but this only helps if there are query parameters, not model objects.</p>\n"}, {"tags": ["c#", ".net", "wpf", "user-interface", "combobox"], "comments": [{"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1539799369, "post_id": 52860948, "comment_id": 92636497, "body": "What do you mean when you say the designer &quot;crashes&quot;?  Surely there is an exception message!  Don&#39;t make us beg for information."}, {"owner": {"reputation": 9, "user_id": 6763791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBbIP.jpg?s=128&g=1", "display_name": "raheemmcdonald", "link": "https://stackoverflow.com/users/6763791/raheemmcdonald"}, "reply_to_user": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1539799549, "post_id": 52860948, "comment_id": 92636585, "body": "@ChrisDunaway There were no exception messages, just the standard \u201cThere was a problem with the designer. Please click here to reload.\u201d And when it does, the ComboBox does not show the items."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1539802168, "post_id": 52860948, "comment_id": 92637866, "body": "I have pasted your xaml into a test project and I do not get the error.  When you get the error, is there anything in the Errors list?"}, {"owner": {"reputation": 22524, "user_id": 285795, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/597432bc4cb512372176db67c6fba151?s=128&d=identicon&r=PG", "display_name": "\u03a9megaMan", "link": "https://stackoverflow.com/users/285795/%ce%a9megaman"}, "edited": false, "score": 1, "creation_date": 1539803306, "post_id": 52860948, "comment_id": 92638383, "body": "What version of visual studio are you using? (Put it in the tags) Also have you tried the editor in Blend? Also do you load a VM in the background?"}, {"owner": {"reputation": 300, "user_id": 6354111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rsqYb.jpg?s=128&g=1", "display_name": "Ader Silva", "link": "https://stackoverflow.com/users/6354111/ader-silva"}, "edited": false, "score": 0, "creation_date": 1539804370, "post_id": 52860948, "comment_id": 92638872, "body": "That error still happens when you use the <code>ComboBox</code> with just one single item? And what about with a single item without any content (this could help you determine if the problem is coming from the style it is using)? And what about a <code>ComboBox</code> without any item?"}, {"owner": {"reputation": 300, "user_id": 6354111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rsqYb.jpg?s=128&g=1", "display_name": "Ader Silva", "link": "https://stackoverflow.com/users/6354111/ader-silva"}, "edited": false, "score": 0, "creation_date": 1539804730, "post_id": 52860948, "comment_id": 92639017, "body": "If you&#39;re using the style you specified, take a look on the <code>StaticResource</code> bindings. Try to change them to <code>DynamicResource</code> and see if the error still occurs. If this problem happens only on design time, it might possibly be related with resource loading."}], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 6354111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rsqYb.jpg?s=128&g=1", "display_name": "Ader Silva", "link": "https://stackoverflow.com/users/6354111/ader-silva"}, "edited": false, "score": 0, "creation_date": 1539803416, "post_id": 52861799, "comment_id": 92638432, "body": "Although this answer doesn&#39;t answer directly why you&#39;re having that Designer problem, it might be a way to fix it or to help you find it, as simpler code allows you to identify the source of a problem easier."}], "tags": [], "owner": {"reputation": 300, "user_id": 6354111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rsqYb.jpg?s=128&g=1", "display_name": "Ader Silva", "link": "https://stackoverflow.com/users/6354111/ader-silva"}, "is_accepted": false, "score": 2, "last_activity_date": 1539803041, "last_edit_date": 1539803041, "creation_date": 1539802534, "answer_id": 52861799, "question_id": 52860948, "link": "https://stackoverflow.com/questions/52860948/wpf-designer-keeps-crashing-when-i-put-stackpanels-in-my-comboboxitems/52861799#52861799", "title": "WPF Designer keeps crashing when I put StackPanels in my ComboBoxItems", "body": "<p><code>ComboBox</code> inherits indirectly from <code>ItemsComntrol</code>. To display your content efficiently on an <code>ItemsControl</code>, you should be setting a layout for your item's content on the <code>ItemTemplate</code> of the <code>ItemsControl</code>'s dereived class (in this case, the <code>ComboBox</code>).</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/data/data-templating-overview\" rel=\"nofollow noreferrer\">Data Templating Overview</a> article on Microsoft describes how to use data templating to define a layout to display your content in WPF.</p>\n\n<p>Defining a <code>DataTemplate</code> to display your content on the <code>ComboBox</code> would be as simple as this:</p>\n\n<pre><code>&lt;ComboBox&gt;\n    &lt;ComboBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                &lt;Image Source=\"{Binding Path=MyImageSource}\" Height=\"15\"/&gt;\n                &lt;TextBlock Margin=\"5 0 0 0\" Text=\"{Binding Path=MyText}\"/&gt;\n            &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ComboBox.ItemTemplate&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n\n<p>Now, to use this correctly, you just need a class like this:</p>\n\n<pre><code>public class MyCoolData\n{\n    public ImageSource MyImageSource { get; set; }\n    public string MyText { get; set; }\n}\n</code></pre>\n\n<p>You can then have some collection with <code>MyCoolData</code> objects and set it as the value of your <code>ComboBox</code>'s <code>ItemsSource</code> property or, alternatively, you can manually add or remove <code>MyCoolData</code> objects directly on the <code>Items</code> property of your <code>ComboBox</code>. The Microsoft article above describes several examples of those. Or, to add your <code>MyCoolData</code> objects to the <code>ComboBox</code>, you can simply declare them in XAML, like the following example:</p>\n\n<pre><code>&lt;ComboBox&gt;\n    &lt;local:MyCoolData MyText=\"My first item\" MyImageSource=\"MyFirstImage.png\"/&gt;\n    &lt;local:MyCoolData MyText=\"My second item\" MyImageSource=\"MySecondImage.jpg\"/&gt;\n    &lt;local:MyCoolData MyText=\"Another one\" MyImageSource=\"CoolImage.png\"/&gt;\n&lt;/ComboBox&gt;\n</code></pre>\n\n<hr>\n\n<p>Note that the examples I gave you above allow you to have your own object (in this case, a <code>MyCoolData</code> object) and use it directly as an item in the <code>ComboBox</code>. <code>ComboBox</code> data templating engine (provided by <code>ItemsControl</code>) takes care of creating the layout to properly display your <code>MyCoolData</code> object as a <code>ComboBoxItem</code>. The data templating engine uses the <code>DataTemplate</code> we defined on the example above to know how to display your object and it creates this layout elements as needed, for each of your <code>MyCoolData</code> objects. This ends up being more efficient, because you write less code and makes it simpler to change your code, and allows you to use virtualized pannels more efficiently, if that would be the case.</p>\n"}, {"tags": [], "owner": {"reputation": 22524, "user_id": 285795, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/597432bc4cb512372176db67c6fba151?s=128&d=identicon&r=PG", "display_name": "\u03a9megaMan", "link": "https://stackoverflow.com/users/285795/%ce%a9megaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1539803380, "creation_date": 1539803380, "answer_id": 52862013, "question_id": 52860948, "link": "https://stackoverflow.com/questions/52860948/wpf-designer-keeps-crashing-when-i-put-stackpanels-in-my-comboboxitems/52862013#52862013", "title": "WPF Designer keeps crashing when I put StackPanels in my ComboBoxItems", "body": "<p>If you are not using Visual Studio 2017, install and test it. If you are using VS2017, make sure you have the latest version by clicking the yellow flag and getting the update dialog.</p>\n"}], "owner": {"reputation": 9, "user_id": 6763791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eBbIP.jpg?s=128&g=1", "display_name": "raheemmcdonald", "link": "https://stackoverflow.com/users/6763791/raheemmcdonald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1539803380, "creation_date": 1539799054, "question_id": 52860948, "link": "https://stackoverflow.com/questions/52860948/wpf-designer-keeps-crashing-when-i-put-stackpanels-in-my-comboboxitems", "title": "WPF Designer keeps crashing when I put StackPanels in my ComboBoxItems", "body": "<p>I've been using WPF for around 8 months and I'm very comfortable in it. Using some questions and discussions I found on here, I learnt how to make my ComboBoxes stand out even more. but here's the thing, to put images and those items inside of a ComboBox item, I would have to wrap them in a Panel (whether it be a StackPanel or a WrapPanel), but whenever I do that the designer either doesn't load them correctly at all or just crashes. Everything shows perfectly when the application is launches </p>\n\n<p>Here's my code, nothing out of the ordinary. And I'm using <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/controls/combobox-styles-and-templates\" rel=\"nofollow noreferrer\">this style</a> which is stored in a resource dictionary. Is there a way to make the code better or is the designer simply not smart enough?</p>\n\n<pre><code>&lt;!-- COmbo Box --&gt;\n            &lt;ComboBox Margin=\"0 5 15 0\" SelectedIndex=\"0\"&gt;\n\n                &lt;!-- All Items --&gt;\n                &lt;ComboBox.Items&gt;\n\n                    &lt;!-- General --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/feedstar.png\" Height=\"10\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"10 0 0 0\"&gt;\n                                    General Support Request\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;\n\n                    &lt;!-- Display --&gt;\n                    &lt;ComboBoxItem x:Name=\"CmbBxDisplay\" Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/monitor.png\" Height=\"10\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"10 0 0 0\"&gt;\n                                    Monitor/ Display Issues\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;\n\n                    &lt;!-- Sound --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/sound.png\" Height=\"10\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"10 0 0 0\"&gt;\n                                    Sound Issues\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;\n\n                    &lt;!-- My Accoount --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/admin.png\" Height=\"10\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"10 0 0 0\"&gt;\n                                    My Account\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;\n\n                    &lt;!-- Membership Support --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/memship.png\" Height=\"15\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"5 0 0 0\"&gt;\n                                    Membership Support\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;\n\n                    &lt;!-- Contact Support --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/contacts.png\" Height=\"15\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"5 0 0 0\"&gt;\n                                    Contacts Support\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;\n\n                    &lt;!-- Divine Service --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/bible.png\" Height=\"15\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"10 0 0 0\"&gt;\n                                    Divine Service\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt; &lt;!-- End divine service --&gt;\n\n                    &lt;!-- Announcements --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/announcement.png\" Height=\"15\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"5 0 0 0\"&gt;\n                                    Announcements Support\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;     &lt;!-- ENd Announcements --&gt;\n\n                    &lt;!-- Reports and Audits --&gt;\n                    &lt;ComboBoxItem Margin=\"5 0 0 0\"&gt;\n\n                        &lt;!-- Content --&gt;\n                        &lt;ComboBoxItem.Content&gt;\n\n                            &lt;!-- Panel --&gt;\n                            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                                &lt;!-- Image --&gt;\n                                &lt;Image Source=\"/Icons/Support Ticket/statistics.png\" Height=\"15\" /&gt;\n\n                                &lt;!-- Text --&gt;\n                                &lt;TextBlock Margin=\"5 0 0 0\"&gt;\n                                    Audits and Report Generating Assistance\n                                &lt;/TextBlock&gt;\n                            &lt;/StackPanel&gt;\n                        &lt;/ComboBoxItem.Content&gt;\n                    &lt;/ComboBoxItem&gt;\n\n                &lt;/ComboBox.Items&gt;\n            &lt;/ComboBox&gt;\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1539798877, "post_id": 52860823, "comment_id": 92636276, "body": "Of course you can bind multiple textboxes to a single property. But that would also mean that those multiple textboxes would share the <b>same</b> value/text. (Wanting multiple textboxes to be bound to the same property while having their own different values would require something like quantum computers exploiting superposition... ;-b)"}, {"owner": {"reputation": 300, "user_id": 6354111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rsqYb.jpg?s=128&g=1", "display_name": "Ader Silva", "link": "https://stackoverflow.com/users/6354111/ader-silva"}, "edited": false, "score": 0, "creation_date": 1539976951, "post_id": 52860823, "comment_id": 92709852, "body": "Could you specify why there can be only one variable?"}, {"owner": {"reputation": 11, "user_id": 10515357, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894453490647812/picture?type=large", "display_name": "Rafael Eleut&#233;rio", "link": "https://stackoverflow.com/users/10515357/rafael-eleut%c3%a9rio"}, "edited": false, "score": 0, "creation_date": 1540326245, "post_id": 52860823, "comment_id": 92822114, "body": "Actually, it doesn&#39;t have to be only one. I&#39;d really like to have just one, since my program needs so much input info, and I&#39;d like to shrink the number of variables. Don&#39;t know if I made myself clear. If I haven&#39;t, please ask! My english is kind of rusted hahah"}], "answers": [{"tags": [], "owner": {"reputation": 870, "user_id": 5064530, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1f9940dea679bafc4244dbee86c0c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Sham", "link": "https://stackoverflow.com/users/5064530/sham"}, "is_accepted": false, "score": 0, "last_activity_date": 1539799884, "last_edit_date": 1539799884, "creation_date": 1539799472, "answer_id": 52861053, "question_id": 52860823, "link": "https://stackoverflow.com/questions/52860823/bind-the-text-property-of-multiple-textboxes-using-only-one-variable-and-one-eve/52861053#52861053", "title": "Bind the text property of multiple TextBoxes using only one variable and one event on MainWindow", "body": "<p>Implement interface <code>INotifyPropertyChanged</code> like below and use the event to notify change in property.</p>\n\n<p>You need to have two properties to contain two different values.</p>\n\n<p>Sample code -</p>\n\n<pre><code>  public partial class MainWindow : Window, INotifyPropertyChanged\n  {\n\n    private string outputFolderPath;\n    public string OutputFolderPath\n    {\n        get { return outputFolderPath; }\n        set\n        {\n            outputFolderPath = value;\n            OnPropertyChanged(\"OutputFolderPath\");\n        }\n    }\n\n    private string secondOutputFolderPath;\n    public string SecondOutputFolderPath\n    {\n        get { return secondOutputFolderPath; }\n        set\n        {\n            secondOutputFolderPath= value;\n            OnPropertyChanged(\"SecondOutputFolderPath\");\n        }\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n    public void OnPropertyChanged(string propertyName)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 6354111, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rsqYb.jpg?s=128&g=1", "display_name": "Ader Silva", "link": "https://stackoverflow.com/users/6354111/ader-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1539818263, "last_edit_date": 1539818263, "creation_date": 1539810547, "answer_id": 52863649, "question_id": 52860823, "link": "https://stackoverflow.com/questions/52860823/bind-the-text-property-of-multiple-textboxes-using-only-one-variable-and-one-eve/52863649#52863649", "title": "Bind the text property of multiple TextBoxes using only one variable and one event on MainWindow", "body": "<p>For styling and templating purposes, I would recommend you to provide two dependency properties which you can then bind your <code>TextBox</code>es to.</p>\n\n<p>On your <code>MainWindow</code> C# class, define the following read-only dependency properties:</p>\n\n<pre><code>#region FirstFile dependency property\n\npublic string FirstFile \n{\n    get =&gt; (string)GetValue(FirstFileProperty);\n    private set =&gt; SetValue(FirstFilePropertyKey, value);\n}\n\nprivate static readonly DependencyPropertyKey FirstFilePropertyKey = \n    DependencyProperty.RegisterReadOnly(nameof(FirstFile), \n        typeof(string), typeof(MainWindow));\n\npublic static readonly DependencyProperty FirstFileProperty = \n    FirstFilePropertyKey.DependencyProperty;\n\n#endregion\n\n#region SecondFile dependency property\n\npublic string SecondFile \n{\n    get =&gt; (string)GetValue(SecondFileProperty);\n    private set =&gt; SetValue(SecondFilePropertyKey, value);\n}\n\nprivate static readonly DependencyPropertyKey SecondFilePropertyKey = \n    DependencyProperty.RegisterReadOnly(nameof(SecondFile), \n        typeof(string), typeof(MainWindow));\n\npublic static readonly DependencyProperty SecondFileProperty = \n    SecondFilePropertyKey.DependencyProperty;\n\n#endregion\n</code></pre>\n\n<p>Now, bind your text boxes to these dependency properties, like the following:</p>\n\n<pre><code>&lt;TextBox Margin=\"0 0 0 5\" Padding=\"2\" x:Name=\"firstFilePath\" Text=\"{Binding FirstFile}\"/&gt;\n&lt;TextBox Margin=\"0 0 0 5\" Padding=\"2\" x:Name=\"secondfilePath\" Text=\"{Binding SecondFile}\"/&gt;\n</code></pre>\n\n<p>Dependency properties provide the necessary notification mechanisms for WPF, which ease our work. They are preferred for binding scenarios, when possible.</p>\n"}], "owner": {"reputation": 11, "user_id": 10515357, "user_type": "registered", "profile_image": "https://graph.facebook.com/1894453490647812/picture?type=large", "display_name": "Rafael Eleut&#233;rio", "link": "https://stackoverflow.com/users/10515357/rafael-eleut%c3%a9rio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 195, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1539818263, "creation_date": 1539798521, "last_edit_date": 1539803164, "question_id": 52860823, "link": "https://stackoverflow.com/questions/52860823/bind-the-text-property-of-multiple-textboxes-using-only-one-variable-and-one-eve", "title": "Bind the text property of multiple TextBoxes using only one variable and one event on MainWindow", "body": "<p>I want to use the <code>SelectFile</code> event of a single <code>Select</code> button and the <code>outputFolderPath</code> binding to set the value for several TextBoxes in an WPF application. \nHow can I do that?</p>\n\n<p>Here is the code on the <code>MainWindow.xaml</code>:</p>\n\n<pre><code>                    &lt;StackPanel Grid.Column=\"0\" Margin=\"10 10 0 0\"&gt;\n                        &lt;TextBlock Margin=\"5 0 0 5\" Text=\"First File:\" FontWeight=\"Bold\"/&gt;\n                        &lt;TextBox Margin=\"0 0 0 5\" Padding=\"2\" x:Name=\"firstFilePath\" Text=\"{Binding outputFolderPath}\"/&gt;\n\n                        &lt;TextBlock Margin=\"5 0 0 5\" Text=\"Second File:\" FontWeight=\"Bold\"/&gt;\n                        &lt;TextBox Margin=\"0 0 0 5\" Padding=\"2\" x:Name=\"secondfilePath\" Text=\"{Binding outputFolderPath}\"/&gt;\n                    &lt;/StackPanel&gt;\n\n                    &lt;StackPanel Grid.Column=\"1\" Margin=\"10 30 0 0\"&gt;\n                        &lt;Button Margin=\"0 0 0 0\" Content=\"Select\" HorizontalAlignment=\"Left\" Height=\"25\" VerticalAlignment=\"Top\" Width=\"80\" Click=\"SelectFile\"/&gt;\n                        &lt;Button Margin=\"0 23 0 0\" Content=\"Select\" HorizontalAlignment=\"Left\" Height=\"25\" VerticalAlignment=\"Top\" Width=\"80\" Click=\"SelectFile\"/&gt;\n                    &lt;/StackPanel&gt;\n</code></pre>\n\n<p>And this one on the <code>MainWindow.xaml.xs</code>:</p>\n\n<pre><code>public partial class MainWindow : Window, INotifyPropertyChanged\n{\n    public string outputFolderPath { get; set; }\n\n    public MainWindow()\n    {\n        InitializeComponent();\n        DataContext = this;\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    private void SelectFile(object sender, RoutedEventArgs e)\n    {\n        OpenFileDialog openFileDialog = new OpenFileDialog();\n\n        if (openFileDialog.ShowDialog().Value)\n        {\n            outputFolderPath = openFileDialog.FileName;\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(nameof(outputFolderPath)));\n        }\n    }\n}\n</code></pre>\n\n<p>The WPF app looks like this:\n[<img src=\"https://i.stack.imgur.com/eFNm3.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "asp.net-core", "msbuild", ".net-core"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1539798599, "post_id": 52860789, "comment_id": 92636129, "body": "...and the question is...?"}, {"owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "reply_to_user": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1539801399, "post_id": 52860789, "comment_id": 92637465, "body": "Updated title and description. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "edited": false, "score": 0, "creation_date": 1539803879, "post_id": 52861170, "comment_id": 92638627, "body": "Thank you Martin, this was very detailed and easy to understand and follow. However, when I set up a service pointing to the exe generated by the publish, the service doesn&#39;t start and does not write any logs in the event viewer or the custom logger"}, {"owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "edited": false, "score": 0, "creation_date": 1539805067, "post_id": 52861170, "comment_id": 92639180, "body": "Are there any documentation regarding the properties we can pass into dotnet publish/build? I don&#39;t seem to see a complete list"}, {"owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "edited": false, "score": 0, "creation_date": 1539805308, "post_id": 52861170, "comment_id": 92639282, "body": "I tried out your first suggestion with the -DeployOnBuild and it worked perfectly. Thank you!"}], "tags": [], "owner": {"reputation": 77196, "user_id": 784387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acd8ef9d33b72c888c544378a59be2b?s=128&d=identicon&r=PG", "display_name": "Martin Ullrich", "link": "https://stackoverflow.com/users/784387/martin-ullrich"}, "is_accepted": true, "score": 5, "last_activity_date": 1539799899, "creation_date": 1539799899, "answer_id": 52861170, "question_id": 52860789, "link": "https://stackoverflow.com/questions/52860789/how-to-execute-framework-dependent-deployment-using-dotnet-publish-with-remote-h/52861170#52861170", "title": "How to execute framework-dependent deployment using dotnet publish with remote host", "body": "<p>The publish profile is meant to be used along with the build, by passing</p>\n\n<pre><code>-p:DeployOnBuild=true -p:PublishProfile=&lt;ProfileName&gt;\n</code></pre>\n\n<p>to <code>dotnet build</code> or <code>msbuild</code>. This is the same as \"classic\" ASP.NET projects.</p>\n\n<p>If you only need filesystem deployments, you can use <code>dotnet publish</code> instead which can directly create publish outputs to target locations (web deploy uses the same mechanisms internally by publishing to a temporary location and then copying, zipping etc.).</p>\n\n<p><code>dotnet publish</code> will create a self-contained deployment automatically when passed a runtime identifier (<code>-r</code> option).</p>\n\n<p>If you also want a host exe to boot up the runtime, you can also use</p>\n\n<pre><code>dotnet publish -r win-x64 --self-contained false -p:UseAppHost=true\n</code></pre>\n\n<p>to emit a .exe file that you can use as windows service instead of <code>path\\to\\dotnet.exe path\\to\\app.dll</code>, which will still use the machine-wide .NET Core install. This may or may not become part of the default output in 3.0.</p>\n"}], "owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3050, "favorite_count": 0, "accepted_answer_id": 52861170, "answer_count": 1, "score": 3, "last_activity_date": 1539801386, "creation_date": 1539798412, "last_edit_date": 1539801386, "question_id": 52860789, "link": "https://stackoverflow.com/questions/52860789/how-to-execute-framework-dependent-deployment-using-dotnet-publish-with-remote-h", "title": "How to execute framework-dependent deployment using dotnet publish with remote host", "body": "<p>We have a continuous build going on and are trying to publish a dotnet core app as a windows service. We can do this using visual studio with the following publish profile</p>\n\n<pre><code>&lt;Project ToolsVersion=\"4.0\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;WebPublishMethod&gt;FileSystem&lt;/WebPublishMethod&gt;\n    &lt;PublishProvider&gt;FileSystem&lt;/PublishProvider&gt;\n    &lt;LastUsedBuildConfiguration&gt;Release&lt;/LastUsedBuildConfiguration&gt;\n    &lt;LastUsedPlatform&gt;Any CPU&lt;/LastUsedPlatform&gt;\n    &lt;SiteUrlToLaunchAfterPublish /&gt;\n    &lt;LaunchSiteAfterPublish&gt;True&lt;/LaunchSiteAfterPublish&gt;\n    &lt;ExcludeApp_Data&gt;False&lt;/ExcludeApp_Data&gt;\n    &lt;TargetFramework&gt;netcoreapp2.1&lt;/TargetFramework&gt;\n    &lt;RuntimeIdentifier&gt;win-x64&lt;/RuntimeIdentifier&gt;\n    &lt;ProjectGuid&gt;d655df5a-9266-470d-becd-6d62c919e961&lt;/ProjectGuid&gt;\n    &lt;SelfContained&gt;false&lt;/SelfContained&gt;\n    &lt;_IsPortable&gt;true&lt;/_IsPortable&gt;\n    &lt;publishUrl&gt;C:\\publish\\webapi&lt;/publishUrl&gt;\n    &lt;DeleteExistingFiles&gt;True&lt;/DeleteExistingFiles&gt;\n  &lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>At first we tried the path of least resistance and tried to call\n<code>dotnet publish project /p:PublishProfile=&lt;FolderProfileName&gt;</code></p>\n\n<p>This command ignored the publish profile settings so we fell back on manually setting the properties. This however, would only build either a self-contained app with an exe but all the net core dlls or a framework dependent app with just dlls</p>\n\n<p>Command executed</p>\n\n<pre><code>dotnet publish Project.csproj -c \"Release\" -o \"C:\\Publish\\App\" -r \"win-x64\" --self-contained false\n</code></pre>\n\n<p>Question is how can I mimic the VS2017 Publish of net core apps using the publish profile since I hit the problems I specified above.</p>\n\n<p>Target output would be to publish the net core app without the aspnetcore dlls but with a remote host executable.</p>\n"}, {"tags": ["c#", ".net", "windows", "vb.net"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 3, "creation_date": 1539799249, "post_id": 52860767, "comment_id": 92636433, "body": "what if user typed r in notepad and typed E in Word doc?"}, {"owner": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 0, "creation_date": 1539799619, "post_id": 52860767, "comment_id": 92636622, "body": "what if I type rE in the browser without being in a textbox? Will it do a back?"}, {"owner": {"reputation": 113, "user_id": 3545835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88a5e232cb1461a5cd49b6da1542cb3b?s=128&d=identicon&r=PG&f=1", "display_name": "samgi", "link": "https://stackoverflow.com/users/3545835/samgi"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1539799886, "post_id": 52860767, "comment_id": 92636744, "body": "@Steve I use process ID to identify the window."}, {"owner": {"reputation": 113, "user_id": 3545835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88a5e232cb1461a5cd49b6da1542cb3b?s=128&d=identicon&r=PG&f=1", "display_name": "samgi", "link": "https://stackoverflow.com/users/3545835/samgi"}, "reply_to_user": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 0, "creation_date": 1539799973, "post_id": 52860767, "comment_id": 92636783, "body": "@the_lotus user must <b>Enable</b> IME in system tray before he types local lang font"}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1539800673, "post_id": 52860767, "comment_id": 92637136, "body": "usually IME will swallow the keystroke and output text once user hit enter rather than deleting them on the fly."}, {"owner": {"reputation": 12241, "user_id": 130611, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0548fbba2b82688a059127e65dd29c9?s=128&d=identicon&r=PG", "display_name": "the_lotus", "link": "https://stackoverflow.com/users/130611/the-lotus"}, "edited": false, "score": 1, "creation_date": 1539800735, "post_id": 52860767, "comment_id": 92637166, "body": "Have you tried <a href=\"https://docs.microsoft.com/en-us/windows/desktop/Intl/input-method-manager\" rel=\"nofollow noreferrer\">using this</a>?"}], "owner": {"reputation": 113, "user_id": 3545835, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/88a5e232cb1461a5cd49b6da1542cb3b?s=128&d=identicon&r=PG&f=1", "display_name": "samgi", "link": "https://stackoverflow.com/users/3545835/samgi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539798830, "creation_date": 1539798308, "last_edit_date": 1539798830, "question_id": 52860767, "link": "https://stackoverflow.com/questions/52860767/better-way-to-replace-text-in-globally-except-using-sendkeys-send", "title": "Better way to replace text in globally except using SendKeys.Send", "body": "<p>I'm trying to create an IME (Input Method Editor) or something similar to that as helping to type ANSI local language font.</p>\n\n<p>it needs to replace some characters when the user types anywhere in Windows. (Word, Photoshop Coreldraw etc.)</p>\n\n<p>For example when user type <strong>\"r\"</strong> character and <strong>\"E\"</strong> character, IME need to replace <strong>\"rE\"</strong> with <strong>\"\u00fa\"</strong>. I'm using a low-level key hook to capture keypress and <code>SendKeys.Send</code> to replace characters.</p>\n\n<pre><code>If chkStr = \"rE\" Then\n    SendKeys.Send(\"{BS}\") 'backspace for delete \"r\"\n    SendKeys.Send(\"{BS}\") 'backspace for delete \"E\"\n    SendKeys.Send(\"\u00fa\") \nEnd If\n</code></pre>\n\n<p>It works. But some applications (i.e Adobe InDesign) have inbuilt key shortcuts such as <code>shift + backspace</code>. when user type \"e\" with <strong>shift key</strong> it combine with SendKeys.Send(\"{BS}\"). the result is it calling the key shortcut. I hope experts in here can give me a solution for it.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "asynchronous", "breakpoints"], "comments": [{"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 4, "creation_date": 1539798417, "post_id": 52860740, "comment_id": 92636040, "body": "You are not waiting for <code>response.Content.CopyToAsync(stream);</code> to complete. Use <code>await</code> here. Try to avoid <code>.Result</code> as it is a blocking operation"}, {"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "edited": false, "score": 1, "creation_date": 1539798420, "post_id": 52860740, "comment_id": 92636044, "body": "First, you should be using await.  so <code>var response = await client.GetAsync(uri);</code> as well as with to the copy <code>await response.Content.CopyToAsync(stream);</code>"}, {"owner": {"reputation": 3268, "user_id": 9850970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85lTf.png?s=128&g=1", "display_name": "Aldert", "link": "https://stackoverflow.com/users/9850970/aldert"}, "edited": false, "score": 0, "creation_date": 1539798610, "post_id": 52860740, "comment_id": 92636134, "body": "How is this async? You have the . Result behind the method. Maybe I miss something?"}, {"owner": {"reputation": 94, "user_id": 1675395, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abfab31afa3886c14b06dffc6ea63987?s=128&d=identicon&r=PG", "display_name": "Sohi", "link": "https://stackoverflow.com/users/1675395/sohi"}, "reply_to_user": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1539798844, "post_id": 52860740, "comment_id": 92636259, "body": "@PeterBons I read somewhere that if we use <code>.Result</code>, it just renders the method as synchronous, i.e. the program waits until the method returns, and that is what I want here"}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 1, "creation_date": 1539798999, "post_id": 52860740, "comment_id": 92636330, "body": "But be aware that that can lead to deadlocks. Why do you want that anyway?"}, {"owner": {"reputation": 94, "user_id": 1675395, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abfab31afa3886c14b06dffc6ea63987?s=128&d=identicon&r=PG", "display_name": "Sohi", "link": "https://stackoverflow.com/users/1675395/sohi"}, "reply_to_user": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1539799398, "post_id": 52860740, "comment_id": 92636515, "body": "@PeterBons but if there are no deadlocks, it should perform synchronously, right?"}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1539799522, "post_id": 52860740, "comment_id": 92636566, "body": "correct, but you still need to (a)wait for the call to <code>response.Content.CopyToAsync(stream)</code> to complete"}, {"owner": {"reputation": 94, "user_id": 1675395, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abfab31afa3886c14b06dffc6ea63987?s=128&d=identicon&r=PG", "display_name": "Sohi", "link": "https://stackoverflow.com/users/1675395/sohi"}, "reply_to_user": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1539801305, "post_id": 52860740, "comment_id": 92637431, "body": "@PeterBons I tried <code>var response2 = Task.Run(async () =&gt; { return await client.GetAsync(exportURL); }).Result;</code> but I still don&#39;t get the correct result"}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1539843599, "post_id": 52860740, "comment_id": 92649602, "body": "It is not the client.GetAsync, it is the call to <code>response.Content.CopyToAsync(stream);</code>. Change it to <code>response.Content.CopyToAsync(stream).Wait();</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3641, "user_id": 3180716, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/LHkNx.jpg?s=128&g=1", "display_name": "Hassaan", "link": "https://stackoverflow.com/users/3180716/hassaan"}, "is_accepted": false, "score": 0, "last_activity_date": 1539798838, "creation_date": 1539798838, "answer_id": 52860895, "question_id": 52860740, "link": "https://stackoverflow.com/questions/52860740/async-code-only-seems-works-only-when-a-breakpoint-is-inserted/52860895#52860895", "title": "Async code only seems works only when a breakpoint is inserted", "body": "<p>It seems like you are basically messing the flow of <code>async</code> and <code>await</code>.</p>\n\n<p>The async call will be waited to complete and recapture the task when you use await keyword.</p>\n\n<p>The mentioned code does not clarify whether you are using the async signature in your method or not. Let me clarify the solution for you</p>\n\n<p><strong>Possible solution 1:</strong></p>\n\n<pre><code>public async Task XYZFunction()\n{\n  var response = await client.GetAsync(uri); //we are waiting for the request to be completed\n  MemoryStream stream = new MemoryStream();\n  await response.Content.CopyToAsync(stream); //The call will wait until the request is completed\n  System.Console.WriteLine(stream.Length);\n} \n</code></pre>\n\n<p><strong>Possible solution 2:</strong></p>\n\n<pre><code>public void XYZFunction()\n{\n  var response = client.GetAsync(uri).Result; //we are running the awaitable task to complete and share the result with us first. It is a blocking call\n  MemoryStream stream = new MemoryStream();\n  response.Content.CopyToAsync(stream).Result; //same goes here\n  System.Console.WriteLine(stream.Length);\n} \n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 1675395, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abfab31afa3886c14b06dffc6ea63987?s=128&d=identicon&r=PG", "display_name": "Sohi", "link": "https://stackoverflow.com/users/1675395/sohi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539799312, "creation_date": 1539798214, "last_edit_date": 1539799312, "question_id": 52860740, "link": "https://stackoverflow.com/questions/52860740/async-code-only-seems-works-only-when-a-breakpoint-is-inserted", "title": "Async code only seems works only when a breakpoint is inserted", "body": "<p>I have the following C# code:</p>\n\n<pre><code>var response = client.GetAsync(uri).Result;\nMemoryStream stream = new MemoryStream();\nresponse.Content.CopyToAsync(stream);\nSystem.Console.WriteLine(stream.Length);\n</code></pre>\n\n<p>When I insert a breakpoint before the first statement and then continue the program, the code works fine and over 4 MB of data gets stored in the stream.</p>\n\n<p>But if I run the program without any breakpoints or inserting the breakpoint after the after the first statement shown above, the code runs but no data or only 4 KB of data gets stored in the stream.</p>\n\n<p>Can someone please explain why this is happening?</p>\n\n<p>Edit:\nHere is what I am trying to do in my program. I use couple of HttpClient.PostAsync requests to get a uri to download a wav file. Then I want to download the wav file into a memory stream. I don't know of any other ways to do this yet.</p>\n"}, {"tags": ["c#", "winforms", "user-controls"], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 6575658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e033e269b9dbd0981f11442ad19ecc3?s=128&d=identicon&r=PG&f=1", "display_name": "knueser", "link": "https://stackoverflow.com/users/6575658/knueser"}, "edited": false, "score": 0, "creation_date": 1539800071, "post_id": 52860976, "comment_id": 92636828, "body": "I see you are correct, when I place the user control within the GroupBox it is automatically resized. Unfortunately it does not allow me to correct the size so that it is the same as when I place it directly on the form. Is this likely due to a property of the GroupBox that I need to set?"}, {"owner": {"reputation": 1096, "user_id": 1008655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ce4e32a7580660fe4caad63a7c77f8a?s=128&d=identicon&r=PG", "display_name": "Lee Hiles", "link": "https://stackoverflow.com/users/1008655/lee-hiles"}, "edited": false, "score": 0, "creation_date": 1539801880, "post_id": 52860976, "comment_id": 92637713, "body": "You can enable <code>AutoSize</code> and set <code>AutoSizeMode</code> to <code>GrowAndShrink</code> on the GroupBox.  That will allow it to expand to hold its contents, but that only pushes the sizing issue further up the control tree.  Whatever holds the GroupBox will need a minimum size so it does not crush the GroupBox."}, {"owner": {"reputation": 108, "user_id": 6575658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e033e269b9dbd0981f11442ad19ecc3?s=128&d=identicon&r=PG&f=1", "display_name": "knueser", "link": "https://stackoverflow.com/users/6575658/knueser"}, "reply_to_user": {"reputation": 1096, "user_id": 1008655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ce4e32a7580660fe4caad63a7c77f8a?s=128&d=identicon&r=PG", "display_name": "Lee Hiles", "link": "https://stackoverflow.com/users/1008655/lee-hiles"}, "edited": false, "score": 0, "creation_date": 1539806067, "post_id": 52860976, "comment_id": 92639637, "body": "@LeeHiles That is one option, however instead of having the GroupBox resize to fit the new size of the user control, I would rather have it so that the user control isn&#39;t resizing itself when placed in the GroupBox"}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1539861926, "post_id": 52860976, "comment_id": 92659285, "body": "It is difficult to give you detailed advice, since we don&#39;t know how the user control is constructed. It depends much on the settings of the <code>Anchor</code> and <code>Dock</code> properties of the controls in the user control and whether they are imbedded in some container control that influences the layout."}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": false, "score": 0, "last_activity_date": 1539799176, "creation_date": 1539799176, "answer_id": 52860976, "question_id": 52860699, "link": "https://stackoverflow.com/questions/52860699/adding-user-control-to-groupbox-changes-the-user-controls-layout-in-winforms/52860976#52860976", "title": "Adding user control to GroupBox changes the user control&#39;s layout in WinForms", "body": "<p>The user control seems to have a different size in the two cases. Make sure it has the same size in the group box as when you place it directly on the form. If you have used a layouting control like a <code>FlowLayoutPanel</code> or a <code>TableLayoutPanel</code>, this might be of importance.</p>\n\n<p>Also be aware that winforms controls inherit properties from their parent if they are not set explicitly. E.g., if you have not set the font property of the user control and its text boxes, those will be taken from the group box.</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 6575658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e033e269b9dbd0981f11442ad19ecc3?s=128&d=identicon&r=PG&f=1", "display_name": "knueser", "link": "https://stackoverflow.com/users/6575658/knueser"}, "is_accepted": true, "score": 0, "last_activity_date": 1539808655, "creation_date": 1539808655, "answer_id": 52863223, "question_id": 52860699, "link": "https://stackoverflow.com/questions/52860699/adding-user-control-to-groupbox-changes-the-user-controls-layout-in-winforms/52863223#52863223", "title": "Adding user control to GroupBox changes the user control&#39;s layout in WinForms", "body": "<p>What ended up working for me was making a separate class <code>MyGroupBox</code> which extends <code>GroupBox</code>. The class is empty, but I converted the <code>GroupBox</code> on my form to this and placed the user control inside, which solved the problem.</p>\n"}], "owner": {"reputation": 108, "user_id": 6575658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e033e269b9dbd0981f11442ad19ecc3?s=128&d=identicon&r=PG&f=1", "display_name": "knueser", "link": "https://stackoverflow.com/users/6575658/knueser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 52863223, "answer_count": 2, "score": 0, "last_activity_date": 1539808655, "creation_date": 1539798094, "question_id": 52860699, "link": "https://stackoverflow.com/questions/52860699/adding-user-control-to-groupbox-changes-the-user-controls-layout-in-winforms", "title": "Adding user control to GroupBox changes the user control&#39;s layout in WinForms", "body": "<p>I have a WinForms application with a <code>GroupBox</code> in it. I have designed a user control which groups together a bunch of textboxes and other controls so that I can apply some custom logic to them. The user control looks like the following:\n<a href=\"https://i.stack.imgur.com/3FMwI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3FMwI.png\" alt=\"User control\"></a></p>\n\n<p>I want to place this user control within my <code>GroupBox</code>, however doing so ends up affecting the layout of the controls within my user control (see below).\n<a href=\"https://i.stack.imgur.com/7KQsL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7KQsL.png\" alt=\"User control in groupbox\"></a></p>\n\n<p>As you can see, my textboxes are all spread out and resized from how I want them to be. If I place this control directly on the main form or in a <code>Panel</code> (not in the <code>GroupBox</code>) the layout is maintained, however the moment I place it in the <code>GroupBox</code> everything gets messed up. Is there a way to fix this problem?</p>\n"}, {"tags": ["c#", "timespan"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 5, "creation_date": 1539798441, "post_id": 52860676, "comment_id": 92636051, "body": "<a href=\"//stackoverflow.com/a/2196830\">Why does System.Threading.Timer stop on its own?</a> (The local variable <code>timer</code> is being garbage collected)."}, {"owner": {"reputation": 1593, "user_id": 890726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d6fa764f9f3ecde7f207012ccab2ac?s=128&d=identicon&r=PG", "display_name": "Laurence", "link": "https://stackoverflow.com/users/890726/laurence"}, "edited": false, "score": 2, "creation_date": 1539798460, "post_id": 52860676, "comment_id": 92636059, "body": "I would start by not ignoring exceptions as it might give you more information. You can either change your catches to catch known errors (ideal) or to at least log the error somewhere: <code>catch (Exception ex) {  _logger.Error(ex); }</code>."}, {"owner": {"reputation": 56, "user_id": 6627113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvXtD.jpg?s=128&g=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6627113/nano"}, "reply_to_user": {"reputation": 1593, "user_id": 890726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03d6fa764f9f3ecde7f207012ccab2ac?s=128&d=identicon&r=PG", "display_name": "Laurence", "link": "https://stackoverflow.com/users/890726/laurence"}, "edited": false, "score": 0, "creation_date": 1539800096, "post_id": 52860676, "comment_id": 92636841, "body": "@Laurence thank you BUT as in my code when catch happened it change the state and I have list in UI hold changes so I will know if some thing wrong happened, nothing wrong in <code>DoBackup();</code> method ."}, {"owner": {"reputation": 56, "user_id": 6627113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvXtD.jpg?s=128&g=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6627113/nano"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1539802088, "post_id": 52860676, "comment_id": 92637825, "body": "@JohnnyMopp Thank you so much but I will be very happy to understand why it went out of scope? what the reason for that ?"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1539802870, "post_id": 52860676, "comment_id": 92638197, "body": "@Nano <code>timer</code> is a local variable - it only exists inside the function <code>ScheduleBackUp()</code>. Once you exit that function, the system is free to GC it."}], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 6627113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvXtD.jpg?s=128&g=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6627113/nano"}, "edited": false, "score": 0, "creation_date": 1539801473, "post_id": 52861194, "comment_id": 92637507, "body": "That work BUT please do not forget you can declare <code>var</code> just for local verbals so I replaced <code>var</code> by <code>private System.Threading.Timer timer;</code>   Thank you so much but I will be happy to understand why it went out of scope? what the reason for that ?"}, {"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "reply_to_user": {"reputation": 56, "user_id": 6627113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvXtD.jpg?s=128&g=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6627113/nano"}, "edited": false, "score": 0, "creation_date": 1539802147, "post_id": 52861194, "comment_id": 92637855, "body": "Local variables go out of scope, when you exit the method."}], "tags": [], "owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "is_accepted": true, "score": 0, "last_activity_date": 1539802168, "last_edit_date": 1539802168, "creation_date": 1539800017, "answer_id": 52861194, "question_id": 52860676, "link": "https://stackoverflow.com/questions/52860676/when-try-call-method-every-minute-it-called-just-twice/52861194#52861194", "title": "When try call method every minute it called just twice", "body": "<p>You simply need to move the declaration of <code>timer</code> up to your form fields, so it doesn't go out of scope and recycled. </p>\n\n<p>Your fields should look like this:</p>\n\n<pre><code>public event PropertyChangedEventHandler PropertyChanged;\nprivate readonly object _lock = new object();\nprivate int _state = -1;\nstring nameBackupFolder;    \n\nSystem.Threading.Timer timer;\n</code></pre>\n\n<p>Now in <code>ScheduleBackup()</code>, do:</p>\n\n<pre><code>timer = new System.Threading.Timer((e) =&gt;\n{ \n    DoBackup();\n}, null, startTimeSpan, periodTimeSpan);\n</code></pre>\n\n<p>Now it will work forever.</p>\n"}], "owner": {"reputation": 56, "user_id": 6627113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DvXtD.jpg?s=128&g=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6627113/nano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1539800909, "accepted_answer_id": 52861194, "answer_count": 1, "score": 1, "last_activity_date": 1539802168, "creation_date": 1539797990, "last_edit_date": 1539798353, "question_id": 52860676, "link": "https://stackoverflow.com/questions/52860676/when-try-call-method-every-minute-it-called-just-twice", "closed_reason": "Duplicate", "title": "When try call method every minute it called just twice", "body": "<p>When I call <code>ScheduleBackUp()</code> in <code>form_load</code> the method execute just twice!</p>\n\n<p>this is my class:</p>\n\n<pre><code>class BackupDBs : INotifyPropertyChanged\n    {\n        public event PropertyChangedEventHandler PropertyChanged;\n        private readonly object _lock = new object();\n        private int _state = -1;\n        string nameBackupFolder;    \n\n        public void ScheduleBackUp()\n        {\n            var startTimeSpan = TimeSpan.Zero;\n            var periodTimeSpan = TimeSpan.FromMinutes(1);\n\n            var timer = new System.Threading.Timer((e) =&gt;\n            { \n                DoBackup();\n            }, null, startTimeSpan, periodTimeSpan);\n\n        }\n\n        public int MyState\n        {\n            get\n            {\n                return _state;\n            }\n            set\n            {\n                lock (_lock)\n                {\n                    if (value != _state)\n                    {\n                        _state = value;\n                        NotifyStateChanged(\"MyState\");\n                    }\n                }\n            }\n        }\n\n        private void NotifyStateChanged(string propertyName)\n        {\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n        }\n\n        public void DoBackup()\n        {\n            MyState = 0;\n\n            try\n            {\n                MyState = 1;\n                MyState = 2;\n                CreateBackupFolder();\n            }\n            catch\n            {\n                MyState = 3;                \n                return;\n            }\n\n            try\n            {\n                var con = new MainCon();\n                con.sqlQuery(\"BACKUP DATABASE [\" + DataCenter.DEFAULT_DB_NAME + \"] TO DISK='\" + nameBackupFolder + \"\\\\\" + DataCenter.DEFAULT_DB_NAME + \"-\" + DateTime.Now.ToString(\"yyyy-MM-dd--HH-mm-ss\") + \".bak'\");\n\n                con.nonQueryEx();\n                con.closecon();\n\n                MyState = 4;\n            }\n            catch\n            {\n                MyState = 5;                \n            }\n        }\n\n public void CreateBackupFolder()\n        {\n            //couz we need create to each DB special folder so we need to get the descr of default DB           \n            string desc = DataCenter.DEFAULT_DB_DESCRIPTION;\n\n            //Get the default path for backup\n            string pathBackup = DataCenter.BACKUP_PATH;\n\n            //Preaper the name for our folder\n            nameBackupFolder = pathBackup + @\"\\\" + \"backup for \" + desc;\n\n            // Create a new target folder, if not exists.\n            if (!System.IO.Directory.Exists(nameBackupFolder))\n            {\n                System.IO.Directory.CreateDirectory(nameBackupFolder);\n            }\n        }\n</code></pre>\n\n<p>I use this to call the method :</p>\n\n<pre><code>private Classes.BackupDBs budb = new Classes.BackupDBs();\nbudb.ScheduleBackUp();\n</code></pre>\n\n<p>Just two successful backup happened then nothing happened.\nKindly what did I miss?</p>\n"}, {"tags": ["c#", "asp.net", ".net"], "comments": [{"owner": {"reputation": 1156, "user_id": 229778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yipCl.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/229778/tim"}, "edited": false, "score": 0, "creation_date": 1539798208, "post_id": 52860598, "comment_id": 92635940, "body": "Can you provide the full error message? Perhaps even a stack trace?"}, {"owner": {"reputation": 1156, "user_id": 229778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yipCl.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/229778/tim"}, "edited": false, "score": 0, "creation_date": 1539798639, "post_id": 52860598, "comment_id": 92636146, "body": "Also, feel free to search here on SO to make sure your question has not been asked already. Have you checked out this question? <a href=\"https://stackoverflow.com/q/704636/229778\">stackoverflow.com/q/704636/229778</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10519967"}, "reply_to_user": {"reputation": 1156, "user_id": 229778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yipCl.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/229778/tim"}, "edited": false, "score": 0, "creation_date": 1539799545, "post_id": 52860598, "comment_id": 92636584, "body": "Tim there is the full error"}], "answers": [{"comments": [{"owner": {"reputation": 98, "user_id": 7858986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f24441b1472a98e829740a9bdb5c49d?s=128&d=identicon&r=PG&f=1", "display_name": "John112358", "link": "https://stackoverflow.com/users/7858986/john112358"}, "edited": false, "score": 0, "creation_date": 1539800099, "post_id": 52861062, "comment_id": 92636845, "body": "I don&#39;t think it&#39;s the code as I just tested this again.  Can you check if the firewall is blocking you? <b>Edit</b> If the Firewall is blocking you then it shouldn&#39;t get an authentication problem."}, {"owner": {"reputation": 98, "user_id": 7858986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f24441b1472a98e829740a9bdb5c49d?s=128&d=identicon&r=PG&f=1", "display_name": "John112358", "link": "https://stackoverflow.com/users/7858986/john112358"}, "edited": false, "score": 0, "creation_date": 1539800269, "post_id": 52861062, "comment_id": 92636945, "body": "Do you have another network you can try your code on?"}], "tags": [], "owner": {"reputation": 98, "user_id": 7858986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f24441b1472a98e829740a9bdb5c49d?s=128&d=identicon&r=PG&f=1", "display_name": "John112358", "link": "https://stackoverflow.com/users/7858986/john112358"}, "is_accepted": false, "score": 1, "last_activity_date": 1539799490, "creation_date": 1539799490, "answer_id": 52861062, "question_id": 52860598, "link": "https://stackoverflow.com/questions/52860598/smtp-server-requires-a-secure-connection-or-the-client-was-not-authenticated-th/52861062#52861062", "title": "SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.5.1 Authentication Required", "body": "<p>I just ran into the same problem, you have to turn on \"less secure access\".  You should have an email in your inbox stating this, assuming the password is correct.  Here is the code I'm using that works.</p>\n\n<pre><code>public void SendEmail(string address, string attatchment)\n    {\n        using (MailMessage mail = new MailMessage())\n        {\n            mail.From = new MailAddress(\"FromEmail@gmail.com\");\n            mail.To.Add(\"ToEmail@gmail.com\");\n            mail.Subject = \"Report\";\n            mail.Body = \"Report\";\n            mail.IsBodyHtml = true;\n            mail.Attachments.Add(new Attachment(attatchment));\n\n            using (SmtpClient smtp = new SmtpClient(\"smtp.gmail.com\", 587))\n            {\n                smtp.Credentials = new NetworkCredential(\"FromEmail@gmail.com\", \"Password\");\n                smtp.EnableSsl = true;\n                smtp.Send(mail);\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10519967"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539799580, "creation_date": 1539797592, "last_edit_date": 1539799580, "question_id": 52860598, "link": "https://stackoverflow.com/questions/52860598/smtp-server-requires-a-secure-connection-or-the-client-was-not-authenticated-th", "title": "SMTP server requires a secure connection or the client was not authenticated. The server response was: 5.5.1 Authentication Required", "body": "<p>i want to send email using this code but there is the problem appear\nso how can i solve this issue </p>\n\n<pre><code>&lt;asp:TextBox ID=\"To\"  runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;br /&gt;\n            &lt;asp:TextBox ID=\"from\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;br /&gt;\n                      &lt;asp:TextBox ID=\"subject\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;br /&gt;\n                      &lt;asp:TextBox ID=\"body\" runat=\"server\"&gt;&lt;/asp:TextBox&gt;&lt;br /&gt;\n                      &lt;asp:Button ID=\"Button3\" OnClick=\"send\" runat=\"server\" Text=\"send\" /&gt;\n\n\n protected void send(object sender, EventArgs e)\n    {\n        MailMessage message = new MailMessage(To.Text,from.Text,subject.Text,body.Text);\n        message.IsBodyHtml = true;\n        SmtpClient client = new SmtpClient(\"smtp.gmail.com\", 587);\n        client.EnableSsl = true;\n\n        client.Credentials = new System.Net.NetworkCredential(\"email\",\"pass\");\n        client.Send(message);\n\n\n    }\n\n\n\nat System.Net.Mail.MailCommand.CheckResponse(SmtpStatusCode statusCode, String response) at System.Net.Mail.MailCommand.Send(SmtpConnection conn, Byte[] command, MailAddress from, Boolean allowUnicode) at System.Net.Mail.SmtpTransport.SendMail(MailAddress sender, MailAddressCollection recipients, String deliveryNotify, Boolean allowUnicode, SmtpFailedRecipientException&amp; exception) at System.Net.Mail.SmtpClient.Send(MailMessage message) at AmbulanceManagementSystem.Front_End_Paramedics.SavePatientInfo.send(Object sender, EventArgs e) in c:\\Users\\Zoulfikar\\Documents\\Visual Studio 2013\\Projects\\AmbulanceManagementSystem\\AmbulanceManagementSystem\\Front End Paramedics\\SavePatientInfo.aspx.cs:line 161\n</code></pre>\n"}, {"tags": ["c#", ".net", "json"], "comments": [{"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1539797807, "post_id": 52860523, "comment_id": 92635733, "body": "If I understand it right, then you have huge bunch of data and it will take huge amount of time to serialize it to JSON. So, what is the question? :)"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1539797876, "post_id": 52860523, "comment_id": 92635772, "body": "Serialization takes time.  How long is the resulting JSON?"}, {"owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "reply_to_user": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 0, "creation_date": 1539797926, "post_id": 52860523, "comment_id": 92635798, "body": "@YeldarKurmangaliyev Yes right, but to me that&#39;s not normal. The same bunch of data processed in Python generators does not takes more than 1 or 2 seconds to dumps into JSON"}, {"owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1539798287, "post_id": 52860523, "comment_id": 92635984, "body": "@Amy the total json output length is 131 673 814"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1539798293, "post_id": 52860523, "comment_id": 92635988, "body": "I think its because of your enumerables.  I bet it&#39;s enumerating them repeatedly.  Does it make a difference if you change <code>features = CreateResultFeatures()</code> to <code>features = CreateResultFeatures().ToArray()</code>?  My suspicion is that <code>CreateResultFeatures</code> is being called repeatedly."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 2, "creation_date": 1539798524, "post_id": 52860523, "comment_id": 92636102, "body": "You need to determine whether the time is being taken by <i>serialization</i> or by <i>enumerating the enumerable</i>.  To do that, try replacing <code>features = CreateResultFeatures()</code> with <code>features = CreateResultFeatures().ToList()</code>, and time the calls to <code>CreateResultFeatures().ToList()</code> and <code>JSON.ToJSON(result);</code> separately.  You might also need to replace the <code>IEnumerable&lt;ResultFeature&gt; features</code> and <code>IEnumerable&lt;IEnumerable&lt;int&gt;&gt;</code> with evaluated collections to get an accurate breakdown."}, {"owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1539798762, "post_id": 52860523, "comment_id": 92636211, "body": "@Amy and @dbc not sure how I could test your suggestions as <code>features = CreateResultFeatures().ToArray()</code> or <code>features = CreateResultFeatures().ToList()</code> could not be found"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1539798851, "post_id": 52860523, "comment_id": 92636263, "body": "@BelowtheRadar add <code>using System.Linq</code> to the top of your code.  You need to import the namespace."}, {"owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "edited": false, "score": 0, "creation_date": 1539799144, "post_id": 52860523, "comment_id": 92636388, "body": "Ok with <code>features = CreateResultFeatures().ToList()</code> without the serialization the code took 1.5 seconds but with the serialization it still takes more than 1 minute"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 2, "creation_date": 1539799354, "post_id": 52860523, "comment_id": 92636485, "body": "Did you also apply ToList() to <code>PolygonToDeltas(feature.Shape as IPolygon4)</code> and <code>CreateDeltas(exteriorRingPointCollection)</code>?"}, {"owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "reply_to_user": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 1, "creation_date": 1539803019, "post_id": 52860523, "comment_id": 92638256, "body": "@DavidBrowne-Microsoft after doing it also <code>PolygonToDeltas(feature.Shape as IPolygon4).toList()</code> the whole process with serialization tooks only 3 to 4 seconds what was expected! Thank you all!"}], "owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539871301, "creation_date": 1539797294, "last_edit_date": 1539871301, "question_id": 52860523, "link": "https://stackoverflow.com/questions/52860523/json-serializing-of-objects-with-huge-ienumerable-is-very-slow", "title": "JSON serializing of objects with huge IEnumerable is very slow", "body": "<p>I would like to serialize the <code>Result</code> object into JSON but it takes a lot of time, like more than 1 minute when the whole process just take 1.5 seconds without the serializing part.</p>\n\n<p>I have tried using Json.NET and fastJSON but both with the same slowness.</p>\n\n<p><code>IEnumerable&lt;IEnumerable&lt;int&gt;&gt; geometry</code> in <code>ResultFeature</code> can be really huge as it can contains dozens of thousands of integers.</p>\n\n<p>Why does it takes that long?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing fastJSON;\nusing ESRI.ArcGIS.ADF;\nusing ESRI.ArcGIS.Geodatabase;\nusing ESRI.ArcGIS.Geometry;\nusing ESRI.ArcGIS.esriSystem;\n\nnamespace DesktopConsoleApplication1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var watch = System.Diagnostics.Stopwatch.StartNew();\n            Result result = new Result\n            {\n                fields = new List&lt;string&gt;\n                {\n                    \"CD_MUNCP\",\n                    \"NOM_MUNCP\"\n                },\n                features = CreateResultFeatures().ToList()\n            };\n            string json = JSON.ToJSON(result);\n            watch.Stop();\n            Console.WriteLine(watch.ElapsedMilliseconds);\n            Console.ReadLine();\n        }\n\n        public class Result\n        {\n            public List&lt;string&gt; fields { get; set; }\n            public string geometryType { get; set; }\n            public IEnumerable&lt;ResultFeature&gt; features { get; set; }\n        }\n\n        public class ResultFeature\n        {\n            public Dictionary&lt;string, dynamic&gt; attributes { get; set; }\n            public IEnumerable&lt;IEnumerable&lt;int&gt;&gt; geometry { get; set; }\n        }\n\n        public static IEnumerable&lt;ResultFeature&gt; CreateResultFeatures()\n        {\n            IWorkspace gdbWorkspace = FileGdbWorkspaceFromPath(@\"\\\\vnageop1\\geod\\Maxime\\test.gdb\");\n            IFeatureWorkspace featureWorkspace = (IFeatureWorkspace)gdbWorkspace;\n            IFeatureClass featureClass = featureWorkspace.OpenFeatureClass(@\"GEO09E04_MUNCP_GEN\");\n            IQueryFilter queryFilter = new QueryFilterClass();\n            queryFilter.SubFields = \"CD_MUNCP, NOM_MUNCP, SHAPE\";\n\n            int cd_muncp_idx = featureClass.FindField(\"CD_MUNCP\");\n            int nom_muncp_idx = featureClass.FindField(\"NOM_MUNCP\");\n\n            using (ComReleaser comReleaser = new ComReleaser())\n            {\n                IFeatureCursor cursor = featureClass.Search(queryFilter, false);\n                comReleaser.ManageLifetime(cursor);\n                IFeature feature = null;\n                while ((feature = cursor.NextFeature()) != null)\n                {\n                    ResultFeature resultFeature = new ResultFeature\n                    {\n                        attributes = new Dictionary&lt;string,dynamic&gt;\n                        {\n                            { \"CD_MUNCP\", Convert.ToString(feature.Value[cd_muncp_idx]) },\n                            { \"NOM_MUNCP\", Convert.ToString(feature.Value[nom_muncp_idx]) }\n                        },\n                        geometry = PolygonToDeltas(feature.Shape as IPolygon4).ToLiist()\n                    };\n                    yield return resultFeature;\n                }\n            }\n        }\n\n        public static IEnumerable&lt;IEnumerable&lt;int&gt;&gt; PolygonToDeltas(IPolygon4 polygon)\n        {\n            IGeometryBag exteriorRingGeometryBag = polygon.ExteriorRingBag;\n            IGeometryCollection exteriorRingGeometryCollection = exteriorRingGeometryBag as IGeometryCollection;\n            for (int i = 0; i &lt; exteriorRingGeometryCollection.GeometryCount; i++)\n            {\n                IGeometry exteriorRingGeometry = exteriorRingGeometryCollection.get_Geometry(i);\n                IPointCollection exteriorRingPointCollection = exteriorRingGeometry as IPointCollection;\n                yield return CreateDeltas(exteriorRingPointCollection);\n\n                IGeometryBag interiorRingGeometryBag = polygon.get_InteriorRingBag(exteriorRingGeometry as IRing);\n                IGeometryCollection interiorRingGeometryCollection = interiorRingGeometryBag as IGeometryCollection;\n                for (int k = 0; k &lt; interiorRingGeometryCollection.GeometryCount; k++)\n                {\n                    IGeometry interiorRingGeometry = interiorRingGeometryCollection.get_Geometry(k);\n                    IPointCollection interiorRingPointCollection = interiorRingGeometry as IPointCollection;\n                    yield return CreateDeltas(interiorRingPointCollection);\n                }\n            }\n        }\n\n        private static IEnumerable&lt;int&gt; CreateDeltas(IPointCollection pointCollection)\n        {\n            int previous_x = (int)pointCollection.get_Point(0).X;\n            int previous_y = (int)pointCollection.get_Point(0).Y;\n            yield return previous_x;\n            yield return previous_y;\n            for (int i = 1; i &lt; pointCollection.PointCount; i++)\n            {\n                int current_x = (int)pointCollection.get_Point(i).X;\n                int current_y = (int)pointCollection.get_Point(i).Y;\n                yield return previous_x - current_x;\n                yield return previous_y - current_y;\n                previous_x = current_x;\n                previous_y = current_y;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "nlog"], "answers": [{"comments": [{"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "edited": false, "score": 0, "creation_date": 1539873727, "post_id": 52872303, "comment_id": 92666640, "body": "Now that looks shiny... I&#39;ll try that later today. Didn&#39;t know you could apply filters in the rules/logger section."}], "tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": false, "score": 1, "last_activity_date": 1539859617, "creation_date": 1539859617, "answer_id": 52872303, "question_id": 52860502, "link": "https://stackoverflow.com/questions/52860502/nlog-log-to-individual-file-if-field-is-populated/52872303#52872303", "title": "NLog: Log to individual file if field is populated", "body": "<p>You could configure that in the <code>&lt;rules&gt;</code> section.</p>\n\n<p>e.g.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;logger name=\"*\" writeTo=\"sidTarget\"&gt;\n  &lt;filters&gt;\n    &lt;when condition=\"length('${gdc:item=scanid}') == 0\" action=\"Ignore\" /&gt;\n  &lt;/filters&gt;\n&lt;/logger&gt; \n</code></pre>\n\n<p>See <a href=\"https://github.com/NLog/NLog/wiki/Filtering-log-messages\" rel=\"nofollow noreferrer\">filtering log messages</a> and <a href=\"https://github.com/NLog/NLog/wiki/When-filter\" rel=\"nofollow noreferrer\"><code>&lt;when&gt;</code> docs</a></p>\n"}, {"comments": [{"owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "edited": false, "score": 0, "creation_date": 1540243837, "post_id": 52918328, "comment_id": 92785182, "body": "Good to know, I&#39;ll keep that in mind - my goal is to keep individual logs though so I don&#39;t think this&#39;ll fit that need."}], "tags": [], "owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "is_accepted": false, "score": 1, "last_activity_date": 1540145059, "creation_date": 1540145059, "answer_id": 52918328, "question_id": 52860502, "link": "https://stackoverflow.com/questions/52860502/nlog-log-to-individual-file-if-field-is-populated/52918328#52918328", "title": "NLog: Log to individual file if field is populated", "body": "<p>Alternative solution could be to use the NLog FallbackGroup target. It allows you to group multiple targets so they become a single target. If the first target in the group fails, then it will retry on the next target in the group (Using a different filename).</p>\n\n<p>See also <a href=\"https://github.com/nlog/NLog/wiki/FallbackGroup-target\" rel=\"nofollow noreferrer\">https://github.com/nlog/NLog/wiki/FallbackGroup-target</a></p>\n"}], "owner": {"reputation": 2036, "user_id": 409025, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/78avK.jpg?s=128&g=1", "display_name": "WernerCD", "link": "https://stackoverflow.com/users/409025/wernercd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540145059, "creation_date": 1539797184, "last_edit_date": 1539859654, "question_id": 52860502, "link": "https://stackoverflow.com/questions/52860502/nlog-log-to-individual-file-if-field-is-populated", "title": "NLog: Log to individual file if field is populated", "body": "<p>I have a set of Windows Services - 7 in all. These services track different aspects of different workflows.</p>\n\n<p>In them, I set a field called scanid:</p>\n\n<pre><code>public static void SetScanid(this ILogger logger, int? scanid)\n{\n    GlobalDiagnosticsContext.Set(\"scanid\", scanid);\n}\n</code></pre>\n\n<p>in the nlog.config file, I use it to populate a portion of the logs for quick find/seek:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;variable name=\"messageLayout\" value=\"[${longdate}] -- [SID:${gdc:item=scanid}] ... \" /&gt;\n</code></pre>\n\n<p>At the start of any given process, I set the SCANID and at the end I clear it.</p>\n\n<p>Now, in 7 different log files, I have the SID as a searchable field.</p>\n\n<p>Could I instead: create a target that logs to a given file ONLY when that field is populated?</p>\n\n<p>Say, something like </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target xsi:type =\"File\"\n    name=\"sidTarget\"\n    fileName=\"Logs\\Process-${gdc:item=scanid}.log\"\n    when=\" ??? scanid is not null or empty ??? \"\n    ... /&gt;\n</code></pre>\n\n<p>Or is there something in the rules to cover that?</p>\n"}, {"tags": ["c#", "ajax", "asp.net-mvc"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1539797269, "post_id": 52860491, "comment_id": 92635494, "body": "fire and forget is a bad design for web server. Try to avoid it whenever possible"}, {"owner": {"reputation": 167, "user_id": 6905846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19961feb3c1cccfac401743a08d3bf40?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Church", "link": "https://stackoverflow.com/users/6905846/brandon-church"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1539797522, "post_id": 52860491, "comment_id": 92635608, "body": "@Steve Do you mind explaining why? I don&#39;t have to guarantee the task completes succesfully. I am expecting it to fail occasionally and have logging and error-handling built out for those scenarios. I am just wondering why I&#39;m glued to a single thread while I use &quot;Async&quot; technologies?"}, {"owner": {"reputation": 1018, "user_id": 5265610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2tNw.jpg?s=128&g=1", "display_name": "Danijel", "link": "https://stackoverflow.com/users/5265610/danijel"}, "edited": false, "score": 0, "creation_date": 1539797655, "post_id": 52860491, "comment_id": 92635669, "body": "This is not fire and forget since you&#39;re awaiting the call. <code>Task.Run(() =&gt; yourMethodCall)</code> would be fire and forget."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1539797732, "post_id": 52860491, "comment_id": 92635694, "body": "how did you determine that all other actions wait for the previous one to finish before starting? I would be very surprised if that&#39;s the case"}, {"owner": {"reputation": 167, "user_id": 6905846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19961feb3c1cccfac401743a08d3bf40?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Church", "link": "https://stackoverflow.com/users/6905846/brandon-church"}, "edited": false, "score": 0, "creation_date": 1539798054, "post_id": 52860491, "comment_id": 92635865, "body": "I put a breakpoint on a different controller action, started the &quot;Run()&quot; method, and then clicked a button for the different controller action (which returns a new View). The app waits until Run completely finishes and then calls the action of my controller and returns the view."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 1, "creation_date": 1539798680, "post_id": 52860491, "comment_id": 92636170, "body": "default thread pool size is 100. Meaning that it could handle 100 concurrent requests without blocking each other. Unless you have some lock in your base controller or some sort this shouldn&#39;t happen."}, {"owner": {"reputation": 167, "user_id": 6905846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19961feb3c1cccfac401743a08d3bf40?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Church", "link": "https://stackoverflow.com/users/6905846/brandon-church"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1539804677, "post_id": 52860491, "comment_id": 92638998, "body": "@Steve It seems you are correct. I created a blank MVC application, copy/pasted this code, and was able to call as many other controller actions as I wanted while my loop ran in the background. I am trying to figure out what could prevent that same behavior in the other app."}], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 1835333, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d2349992aa6e24942da96787117693d6?s=128&d=identicon&r=PG", "display_name": "Gaurav Moolani", "link": "https://stackoverflow.com/users/1835333/gaurav-moolani"}, "edited": false, "score": 0, "creation_date": 1539876454, "post_id": 52862466, "comment_id": 92668483, "body": "Consider this ,imitation before using <a href=\"https://blogs.msdn.microsoft.com/webdev/2014/06/04/queuebackgroundworkitem-to-reliably-schedule-and-run-background-processes-in-asp-net/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/webdev/2014/06/04/&hellip;</a>                           The AppDomain shutdown can only be delayed 90 seconds (It\u2019s actually the minimum of HttpRuntimeSection.ShutdownTimeout and processModel shutdownTimeLimit). If you have so many items queued that they can\u2019t be completed in 90 seconds, the ASP.NET runtime will unload the AppDomain without waiting for the work items to finish."}, {"owner": {"reputation": 167, "user_id": 6905846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19961feb3c1cccfac401743a08d3bf40?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Church", "link": "https://stackoverflow.com/users/6905846/brandon-church"}, "edited": false, "score": 0, "creation_date": 1539876930, "post_id": 52862466, "comment_id": 92668764, "body": "I just made a significant edit to the question since I&#39;ve identified why concurrent requests were not working"}, {"owner": {"reputation": 2626, "user_id": 435306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da7e5c1ded40cc7cce395453d25a0536?s=128&d=identicon&r=PG", "display_name": "Adilson de Almeida Jr", "link": "https://stackoverflow.com/users/435306/adilson-de-almeida-jr"}, "reply_to_user": {"reputation": 167, "user_id": 6905846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19961feb3c1cccfac401743a08d3bf40?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Church", "link": "https://stackoverflow.com/users/6905846/brandon-church"}, "edited": false, "score": 0, "creation_date": 1539880500, "post_id": 52862466, "comment_id": 92670729, "body": "@BrandonChurch you had to set the SessionStateAttribute in the controller you want to fire and forget. I edited the answer with that information. But, keep in mind you should not do that kind of solution on production code."}, {"owner": {"reputation": 167, "user_id": 6905846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19961feb3c1cccfac401743a08d3bf40?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Church", "link": "https://stackoverflow.com/users/6905846/brandon-church"}, "edited": false, "score": 0, "creation_date": 1539884345, "post_id": 52862466, "comment_id": 92672647, "body": "@AdilsondeAlmeidaJr Awesome thanks! Is the reasoning behind this to prevent dirty reads of session data? This was just a quick way for me to distinguish my users, but I think I should be using my OwinContext instead."}, {"owner": {"reputation": 2626, "user_id": 435306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da7e5c1ded40cc7cce395453d25a0536?s=128&d=identicon&r=PG", "display_name": "Adilson de Almeida Jr", "link": "https://stackoverflow.com/users/435306/adilson-de-almeida-jr"}, "edited": false, "score": 0, "creation_date": 1539886608, "post_id": 52862466, "comment_id": 92673772, "body": "I think it&#180;s more about the way SessionState works, I looked at the code of the providers. By the way, a stateless application would be a better choice nowadays."}], "tags": [], "owner": {"reputation": 2626, "user_id": 435306, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da7e5c1ded40cc7cce395453d25a0536?s=128&d=identicon&r=PG", "display_name": "Adilson de Almeida Jr", "link": "https://stackoverflow.com/users/435306/adilson-de-almeida-jr"}, "is_accepted": true, "score": 1, "last_activity_date": 1539880381, "last_edit_date": 1539880381, "creation_date": 1539805334, "answer_id": 52862466, "question_id": 52860491, "link": "https://stackoverflow.com/questions/52860491/session-variable-causes-controller-actions-to-fire-one-at-a-time/52862466#52862466", "title": "Session Variable Causes Controller Actions to Fire One at a Time", "body": "<p>The short answer for your question is:</p>\n\n<pre><code>HostingEnvironment.QueueBackgroundWorkItem(()=&gt;{//your code})\n</code></pre>\n\n<p>The long and less dangerous answer is: use some queue system, like RabbitMQ or AWS SQS or MSMQ or whatever. Background tasks on web apps is not the best thing you can do in your life, even if the response (success or failure) is not important for you.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>If you are using Session State, you probably would need to disable the session state - or set it readonly - in the controller you want some parallelism. Add the following attribute at the controller you want it:</p>\n\n<pre><code>[SessionState(SessionStateBehavior.Disabled)]\npublic class FooController...\n</code></pre>\n\n<p>This page explains why this can be necessary in some cases:\n<a href=\"http://hogaf.github.io/archive/2014/11/13/why-asp.net-requests-are-processed-sequentially\" rel=\"nofollow noreferrer\">http://hogaf.github.io/archive/2014/11/13/why-asp.net-requests-are-processed-sequentially</a></p>\n\n<p>But, again, this is a very bad practice. You had to deal with with <code>ThreadAbortException</code>s and will be subject to a lot of other problems.</p>\n"}], "owner": {"reputation": 167, "user_id": 6905846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19961feb3c1cccfac401743a08d3bf40?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Church", "link": "https://stackoverflow.com/users/6905846/brandon-church"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 52862466, "answer_count": 1, "score": 1, "last_activity_date": 1539880381, "creation_date": 1539797144, "last_edit_date": 1539878156, "question_id": 52860491, "link": "https://stackoverflow.com/questions/52860491/session-variable-causes-controller-actions-to-fire-one-at-a-time", "title": "Session Variable Causes Controller Actions to Fire One at a Time", "body": "<p>I have a controller that is executing actions one at a time, almost like it puts my requests in a queue and then responds to each in turn. So, for example, if I click 2 or 3 buttons that are set up to POST to my controller, the controller will <em>eventually</em> fire all the actions, but not right when I click the button. </p>\n\n<p>After tearing my project apart I realized this strange behaviour is somehow caused by setting a Session variable in my default controller action.. </p>\n\n<p>Controller:</p>\n\n<pre><code>[HttpGet]\npublic ActionResult Index() //Start Page\n{\n    System.Web.HttpContext.Current.Session[\"SomeString\"] = \"SomeValue\";\n    return View();\n}\n\n[HttpPost]\npublic void Run(string json)\n{\n    for (int i = 0; i &lt; 1000000; i++)\n    {\n        for (int j = 0; j &lt; 1000000; j++)\n        {\n\n        }\n    }\n}\n</code></pre>\n\n<p>The index view just contains two elements:</p>\n\n<pre><code>    &lt;a href=\"#\" class=\"submit\"&gt;Run&lt;/a&gt;\n    &lt;a href=\"Home/OtherPage\"&gt;Other Page&lt;/a&gt;\n</code></pre>\n\n<p>And AJAX for the button click: </p>\n\n<pre><code>$(document).ready(function () {\n    $(\".submit\").on('click', function () {\n        $.ajax({\n            type: 'POST',\n            url: 'Run',\n            data: \"SomeString\",\n            dataType: \"text\"\n        }); \n    }\n}\n</code></pre>\n\n<p>When I remove the line of code setting my session variable, I can click the run button (which starts the long-running loop), click my \"OtherPage\" button, and instantly navigate to the \"OtherPage\" view. If I <em>do</em> set the session variable, run the loop, and then click the \"OtherPage\" button, my app hangs until the loops finish and then navigates to the \"OtherPage\" view.</p>\n\n<p>Does anyone have any idea why this is happening?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 4235, "user_id": 283787, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f0506cfe093ecc1c02e798a8224d4477?s=128&d=identicon&r=PG", "display_name": "openshac", "link": "https://stackoverflow.com/users/283787/openshac"}, "edited": false, "score": 1, "creation_date": 1539797185, "post_id": 52860449, "comment_id": 92635452, "body": "I suggest you have a read of <a href=\"http://www.albahari.com/threading/\" rel=\"nofollow noreferrer\">albahari.com/threading</a> as this will give you a firm understanding of threading. This will enable you to complete your homework assignment."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1539797232, "post_id": 52860449, "comment_id": 92635479, "body": "ThreadStart constructr takes a method as its first paramter, not a character. <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.threadstart?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8834409"}, "reply_to_user": {"reputation": 36469, "user_id": 5353753, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8658d889ba478c305810bd346e21da33?s=128&d=identicon&r=PG&f=1", "display_name": "sagi", "link": "https://stackoverflow.com/users/5353753/sagi"}, "edited": false, "score": 0, "creation_date": 1539797387, "post_id": 52860449, "comment_id": 92635548, "body": "@sagi &quot;public void run()&quot;"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8834409"}, "edited": false, "score": 0, "creation_date": 1539797885, "post_id": 52860565, "comment_id": 92635778, "body": "I understand but i want to create an infinite loop thats why i use while."}, {"owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 0, "creation_date": 1539798102, "post_id": 52860565, "comment_id": 92635887, "body": "yes but once that consoles label is set to <code>A</code> you arent changing it are you? so recalculating this is a huge waste, and it will flood your console with line after line until it crashes. the program litterally wont be able to do anything else and it will lock. thats one of the reasons to use threads to begin with. good luck though. i learned the hard way too. :)"}, {"owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 0, "creation_date": 1539798137, "post_id": 52860565, "comment_id": 92635903, "body": "you can keep the while loop and use it for logic updates, but i would move the print line out of it."}], "tags": [], "owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "is_accepted": false, "score": 0, "last_activity_date": 1539797701, "last_edit_date": 1539797701, "creation_date": 1539797454, "answer_id": 52860565, "question_id": 52860449, "link": "https://stackoverflow.com/questions/52860449/c-error-method-name-excepted-what-am-i-doing-wrong/52860565#52860565", "title": "C# Error &quot;Method Name Excepted&quot; What am i doing wrong", "body": "<p>it wont let you call your method <code>run</code>  if it is a method u should call <code>run()</code> but change the name first. also</p>\n\n<pre><code>while (true)\n{\n    Console.WriteLine(c);\n    System.Threading.Thread.Sleep(1000);\n}\n</code></pre>\n\n<p>since your using a value and not an actual <code>boolean</code> this says its always true, and the while makes it loop, this will StackOverflow. change the <code>while</code> to <code>if</code> to just print it once</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8834409"}, "edited": false, "score": 0, "creation_date": 1539890181, "post_id": 52860599, "comment_id": 92675641, "body": "Oh okay so that was my <code>new MainClass(&#39;B&#39;) , run</code> which was wrong thanks =)"}, {"owner": {"reputation": 339, "user_id": 4844514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afce0aa0f3bbac6ced23836227fc308a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin M. Lapio", "link": "https://stackoverflow.com/users/4844514/kevin-m-lapio"}, "edited": false, "score": 0, "creation_date": 1539890359, "post_id": 52860599, "comment_id": 92675727, "body": "Yes, you were super-close, save for one mispunctuation, in hindsight!"}], "tags": [], "owner": {"reputation": 339, "user_id": 4844514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afce0aa0f3bbac6ced23836227fc308a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin M. Lapio", "link": "https://stackoverflow.com/users/4844514/kevin-m-lapio"}, "is_accepted": true, "score": 2, "last_activity_date": 1539799240, "last_edit_date": 1539799240, "creation_date": 1539797593, "answer_id": 52860599, "question_id": 52860449, "link": "https://stackoverflow.com/questions/52860449/c-error-method-name-excepted-what-am-i-doing-wrong/52860599#52860599", "title": "C# Error &quot;Method Name Excepted&quot; What am i doing wrong", "body": "<p>You need to initialize your objects first, and then you can pass the <code>run</code> method of those objects to <code>ThreadStart</code>:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    var mainA = new MainClass('A');\n    var mainB = new MainClass('B');\n    Thread thA = new Thread(new ThreadStart(mainA.run));\n    Thread thB = new Thread(new ThreadStart(mainB.run));\n    ...\n</code></pre>\n\n<p><strong>POST EDITED: An Additional Option</strong></p>\n\n<p>If you only needed the two initialized objects for this one purpose, you could make this slightly more elegant by handling the initialization in the same lines without declaring and setting the additional variables:</p>\n\n<pre><code>    Thread thA = new Thread(new ThreadStart(new MainClass('A').run));\n    Thread thB = new Thread(new ThreadStart(new MainClass('B').run));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 5916272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SMifm.jpg?s=128&g=1", "display_name": "YouneS", "link": "https://stackoverflow.com/users/5916272/younes"}, "is_accepted": false, "score": 0, "last_activity_date": 1539798775, "creation_date": 1539798775, "answer_id": 52860886, "question_id": 52860449, "link": "https://stackoverflow.com/questions/52860449/c-error-method-name-excepted-what-am-i-doing-wrong/52860886#52860886", "title": "C# Error &quot;Method Name Excepted&quot; What am i doing wrong", "body": "<p>It is just the way you try to instantiate the <strong>MainClass</strong> object and execute the <strong>run</strong> function that is not correct inside the new Thread. </p>\n\n<p>You can make your code work by modifing \"<strong><em>public static void Main</em></strong>\" as follow : </p>\n\n<pre><code>public static void Main(string[] args)\n        {\n            MainClass A = new MainClass('A');\n            Thread thA = new Thread(new ThreadStart(A.run));\n\n\n            MainClass B = new MainClass('B');\n            Thread thB = new Thread(new ThreadStart(B.run));\n\n            thA.Start();\n            thB.Start();\n\n            thA.Join();\n            thB.Join();\n\n            System.Console.ReadKey();\n        }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8834409"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 52860599, "answer_count": 3, "score": 0, "last_activity_date": 1539799240, "creation_date": 1539796993, "last_edit_date": 1539797287, "question_id": 52860449, "link": "https://stackoverflow.com/questions/52860449/c-error-method-name-excepted-what-am-i-doing-wrong", "title": "C# Error &quot;Method Name Excepted&quot; What am i doing wrong", "body": "<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Threading;\n\nnamespace Exercise4\n{\n    class MainClass\n    {\n        private char c;\n\n        public MainClass(char c)\n        {\n            this.c = c;\n        }\n\n        public void run()\n        {\n            while (true)\n            {\n                Console.WriteLine(c);\n                System.Threading.Thread.Sleep(1000);\n            }\n        }\n\n        public static void Main(string[] args)\n        {\n            Thread thA = new Thread(new ThreadStart(new MainClass('A'), run)); //Error Method Name Excepted : Error Code CS0149\n            Thread thB = new Thread(new ThreadStart(new MainClass('B'), run)); //Error Method Name Excepted : Error code CS0149\n\n            thA.Start();\n            thB.Start();\n\n            thA.Join();\n            thB.Join();\n        }\n    }\n}\n</code></pre>\n\n<p>I am new to C# and i really don't understand what is wrong there. </p>\n\n<p><strong>More precisely the error is here:</strong> </p>\n\n<pre><code>new ThreadStart(new MainClass('A') , run )\nnew ThreadStart(new MainClass('B') , run )\n</code></pre>\n\n<p>This code must creates 5 threads, each of these threads displays a letter 'A' for the first one, 'B' for the second, and so on. \nI tryied to modify the program so that each thread displays its letter in an infinite loop. </p>\n\n<p>Hope i can get some help there!</p>\n"}, {"tags": ["c#", "asp.net", "model-view-controller"], "comments": [{"owner": {"reputation": 918, "user_id": 50179, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/24e56713d82582ef91157bf3fd68fef1?s=128&d=identicon&r=PG", "display_name": "melkisadek", "link": "https://stackoverflow.com/users/50179/melkisadek"}, "edited": false, "score": 0, "creation_date": 1539797672, "post_id": 52860400, "comment_id": 92635675, "body": "You could use a partial view assuming it&#39;s the same controller you&#39;re calling each time."}, {"owner": {"reputation": 177, "user_id": 2382783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2cd93c54dadb80c1264b4453cda1631?s=128&d=identicon&r=PG", "display_name": "Pila 77", "link": "https://stackoverflow.com/users/2382783/pila-77"}, "reply_to_user": {"reputation": 918, "user_id": 50179, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/24e56713d82582ef91157bf3fd68fef1?s=128&d=identicon&r=PG", "display_name": "melkisadek", "link": "https://stackoverflow.com/users/50179/melkisadek"}, "edited": false, "score": 0, "creation_date": 1539858251, "post_id": 52860400, "comment_id": 92657308, "body": "Yes, but can include JS functions related to new item management in the partial view?"}, {"owner": {"reputation": 918, "user_id": 50179, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/24e56713d82582ef91157bf3fd68fef1?s=128&d=identicon&r=PG", "display_name": "melkisadek", "link": "https://stackoverflow.com/users/50179/melkisadek"}, "edited": false, "score": 0, "creation_date": 1539862259, "post_id": 52860400, "comment_id": 92659462, "body": "I&#39;m not sure what you&#39;re asking. Can you provide some code examples. A JS function will hit anything that&#39;s available in the DOM."}], "owner": {"reputation": 177, "user_id": 2382783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2cd93c54dadb80c1264b4453cda1631?s=128&d=identicon&r=PG", "display_name": "Pila 77", "link": "https://stackoverflow.com/users/2382783/pila-77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539796808, "creation_date": 1539796808, "question_id": 52860400, "link": "https://stackoverflow.com/questions/52860400/asp-net-modal-called-from-multiple-pages", "title": "ASP.NET Modal called from multiple pages", "body": "<p>On a asp.net C# application, I have a modal to create a new item in the database.\nThe modal is very simple: A textbox for item description and a \"OK\"/\"cancel\" buttons. When press OK, stores the new item in database by AJAX call to controller.</p>\n\n<p>I need to use this modal in multiple places of the application, so i would replicate modal code on every page I want to use this modal.</p>\n\n<p>I\u00b4m sure theres a better way to do it in asp.net which encapsulates all content about new item creation as one \"component\" or anything\n\u00bfCan you help me ? Thanks</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 9793470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a414819fd4cef52ec87f902751d10df3?s=128&d=identicon&r=PG&f=1", "display_name": "RuNe", "link": "https://stackoverflow.com/users/9793470/rune"}, "is_accepted": true, "score": 1, "last_activity_date": 1539797449, "creation_date": 1539797449, "answer_id": 52860561, "question_id": 52860367, "link": "https://stackoverflow.com/questions/52860367/filter-a-list-of-dictionary-logic-problem/52860561#52860561", "title": "Filter a List of Dictionary logic problem", "body": "<p>I don't understand why you defined a list of dictionaries for that job. You don't need a dictionary for that job, and if you use one, the keys need to be unique anyway (id would be better than name for a key).\nIf you write a class for you animal like </p>\n\n<pre><code>public class Animal\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public uint age { get; set; }\n}\n</code></pre>\n\n<p>and put the instances of it in a List/Enumerable you can do</p>\n\n<pre><code>var filtered = raw.Where(animal=&gt;animal.Name == \"Ant\");\n</code></pre>\n\n<p>to get only the ants.</p>\n"}, {"tags": [], "owner": {"reputation": 1018, "user_id": 5265610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2tNw.jpg?s=128&g=1", "display_name": "Danijel", "link": "https://stackoverflow.com/users/5265610/danijel"}, "is_accepted": false, "score": 1, "last_activity_date": 1539797500, "creation_date": 1539797500, "answer_id": 52860575, "question_id": 52860367, "link": "https://stackoverflow.com/questions/52860367/filter-a-list-of-dictionary-logic-problem/52860575#52860575", "title": "Filter a List of Dictionary logic problem", "body": "<p>Not really 100% clear what's your case but give this a go.</p>\n\n<p><code>var ants = listOfAnimal.SelectMany(d =&gt; d).Where(d =&gt; d.Value.Equals(\"Ant\", StringComparison.OrdinalIgnoreCase));</code></p>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": false, "score": 1, "last_activity_date": 1539797556, "creation_date": 1539797556, "answer_id": 52860590, "question_id": 52860367, "link": "https://stackoverflow.com/questions/52860367/filter-a-list-of-dictionary-logic-problem/52860590#52860590", "title": "Filter a List of Dictionary logic problem", "body": "<p>Use this instead:</p>\n\n<pre><code>var filtered = listOfAnimal\n    .Where(x =&gt; x.TryGetValue(\"name\", out var name) &amp;&amp; name == \"Ant\")\n    .ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": false, "score": 1, "last_activity_date": 1539805132, "last_edit_date": 1539805132, "creation_date": 1539797784, "answer_id": 52860636, "question_id": 52860367, "link": "https://stackoverflow.com/questions/52860367/filter-a-list-of-dictionary-logic-problem/52860636#52860636", "title": "Filter a List of Dictionary logic problem", "body": "<p>You have a list of dictionaries, and you want to filter out (exclude) dictionaries that have a key <code>\"name\"</code> with value <code>\"Ant\"</code>.  You can do this as follows:</p>\n\n<pre><code>var filteredList = listOfAnimal\n    .Where(d =&gt;\n           {\n               string name;\n               if (!d.TryGetValue(\"name\", out name))\n                   // Include the dictionary if it completely lacks a \"name\" entry.\n                   return true;\n               // Include the dictionary if the \"name\" entry is something other than \"Ant\".\n               return name != \"Ant\";\n           })\n    .ToList();\n</code></pre>\n\n<p>If you really wanted filter out dictionaries that <strong>do not</strong> have a key <code>\"name\"</code> with value <code>\"Ant\"</code> (your question is slightly ambiguous), you would do it as follows:</p>\n\n<pre><code>var filteredList = listOfAnimal\n    .Where(d =&gt;\n           {\n               string name;\n               if (!d.TryGetValue(\"name\", out name))\n                   // Exclude the dictionary if it completely lacks a \"name\" entry.\n                   return false;\n               // Include the dictionary if the \"name\" entry equals \"Ant\".\n               return name == \"Ant\";\n           })\n    .ToList();\n</code></pre>\n\n<p>In your current code you seem to be trying to filter out key/value pairs from a single dictionary rather than entire dictionaries from a <code>List&lt;Dictionary&lt;string,string&gt;&gt;</code>.  </p>\n\n<p>Sample fiddle <a href=\"https://dotnetfiddle.net/ojMC0A\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 8580, "user_id": 1377826, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f0b6e6e3ea80d80ea4f6c4955c10031c?s=128&d=identicon&r=PG", "display_name": "sharon Hwk", "link": "https://stackoverflow.com/users/1377826/sharon-hwk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 52860561, "answer_count": 4, "score": 0, "last_activity_date": 1539805132, "creation_date": 1539796687, "question_id": 52860367, "link": "https://stackoverflow.com/questions/52860367/filter-a-list-of-dictionary-logic-problem", "title": "Filter a List of Dictionary logic problem", "body": "<p>In my <code>List&lt;Dictionary&lt;string,string&gt;&gt; listOfAnimal</code> I need to filter out the records that are equal to Name <code>Ant</code>.</p>\n\n<p>The dictionary consist of the following elements.</p>\n\n<pre><code>[\n{\n \"id\":\"5\",\n \"name\": \"Ant\",\n \"age\":\"6\"\n},\n{\n \"id\":\"52\",\n \"name\": \"Elephant\",\n \"age\":\"1\"\n},\n{\n \"id\":\"15\",\n \"name\": \"Ant\",\n \"age\":\"6\"\n},\n{\n \"id\":\"9\",\n \"name\": \"Ape\",\n \"age\":\"16\"\n}\n\n\n]\n</code></pre>\n\n<p>So basically, I need to filter out a <code>List&lt;Dictionary&lt;string,string&gt;&gt;</code> where the <code>name</code> of the Animal is <code>Ant</code>. My approach is as follows:</p>\n\n<pre><code>var filtered= listOfAnimal.Values.Where(x=&gt; x.Equals(\"Ant\")).ToList();\n</code></pre>\n\n<p>The above doesn't give other elements in the dictionary, instead only matches the name. </p>\n\n<p>Can someone help me out here.</p>\n"}, {"tags": ["c#", ".net", "wpf", "user-interface", ".net-3.5"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1539796773, "post_id": 52860324, "comment_id": 92635277, "body": "Get a book, follow a tutorial; this stuff is way too complicated to learn through question and answer."}, {"owner": {"reputation": 96, "user_id": 10289340, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SDMLVxWEwjk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPUnkYv3AhJvs7j5n6nfFhP0dipKw/mo/photo.jpg?sz=128", "display_name": "Softhmak.", "link": "https://stackoverflow.com/users/10289340/softhmak"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1539797924, "post_id": 52860324, "comment_id": 92635796, "body": "Any hint would be highly appreciated... I want just the direction to move.."}, {"owner": {"reputation": 592, "user_id": 9242361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a68c38c81cceba072326f61f3711923?s=128&d=identicon&r=PG&f=1", "display_name": "DalTron", "link": "https://stackoverflow.com/users/9242361/daltron"}, "edited": false, "score": 0, "creation_date": 1539800881, "post_id": 52860324, "comment_id": 92637233, "body": "I would suggest looking into WPF grid this tutorial should get you started.<a href=\"https://www.c-sharpcorner.com/UploadFile/1e050f/grid-layout-in-wpf/\" rel=\"nofollow noreferrer\">c-sharpcorner.com/UploadFile/1e050f/grid-layout-in-w&zwnj;&#8203;pf</a>"}], "answers": [{"comments": [{"owner": {"reputation": 96, "user_id": 10289340, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SDMLVxWEwjk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPUnkYv3AhJvs7j5n6nfFhP0dipKw/mo/photo.jpg?sz=128", "display_name": "Softhmak.", "link": "https://stackoverflow.com/users/10289340/softhmak"}, "edited": false, "score": 0, "creation_date": 1539825984, "post_id": 52862799, "comment_id": 92645468, "body": "I found something other than your suggestion too, i.e. DockPanel.. For someone who is newbie like me...."}], "tags": [], "owner": {"reputation": 653, "user_id": 7938246, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a744ac9497a3741586aa3e8ad655b144?s=128&d=identicon&r=PG&f=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/7938246/heisenberg"}, "is_accepted": true, "score": 2, "last_activity_date": 1539806715, "creation_date": 1539806715, "answer_id": 52862799, "question_id": 52860324, "link": "https://stackoverflow.com/questions/52860324/wpf-manage-ui/52862799#52862799", "title": "WPF - Manage UI", "body": "<p>I remember when I started to learn WPF. It was a steep learning curve.  You need to look into XAML files to get the UI.  For your requirement, the code would look like this...assume you have some background in VS, start new WPF project ect.  What you want is some grid and then you can either drag and drop from Toolbox, or you can just type code for your UI elements.  </p>\n\n<pre><code>&lt;Window x:Class=\"WpfApp1.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:WpfApp1\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n&lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"5*\"/&gt;\n        &lt;ColumnDefinition Width=\"90*\"/&gt;\n        &lt;ColumnDefinition Width=\"5*\"/&gt;\n        &lt;ColumnDefinition Width=\"90*\"/&gt;\n        &lt;ColumnDefinition Width=\"5*\"/&gt;\n        &lt;ColumnDefinition Width=\"200*\"/&gt;\n        &lt;ColumnDefinition Width=\"5*\"/&gt;\n        &lt;ColumnDefinition Width=\"90*\"/&gt;\n        &lt;ColumnDefinition Width=\"5*\"/&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"3*\"/&gt;\n        &lt;RowDefinition Height=\"50*\"/&gt;\n        &lt;RowDefinition Height=\"3*\"/&gt;\n        &lt;RowDefinition Height=\"100*\"/&gt;\n        &lt;RowDefinition Height=\"3*\"/&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Button Content=\"Button\" Grid.Column=\"1\" Grid.Row=\"1\" Margin=\"0,0,0,0\"/&gt;\n    &lt;Button Content=\"Button\" Grid.Column=\"3\" Grid.Row=\"1\" Margin=\"0,0,0,0\"/&gt;\n    &lt;TextBox Text=\"Textbox\" Grid.Column=\"5\" Grid.Row=\"1\" Margin=\"0,0,0,0\"/&gt;\n    &lt;Button Content=\"Button\" Grid.Column=\"7\" Grid.Row=\"1\" Margin=\"0,0,0,0\"/&gt;\n    &lt;Border BorderBrush=\"Black\" BorderThickness=\"1\" Grid.ColumnSpan=\"7\" Grid.Column=\"1\" Height=\"100\" Grid.Row=\"1\" VerticalAlignment=\"Top\"&gt;            \n    &lt;/Border&gt;\n\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 96, "user_id": 10289340, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SDMLVxWEwjk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPUnkYv3AhJvs7j5n6nfFhP0dipKw/mo/photo.jpg?sz=128", "display_name": "Softhmak.", "link": "https://stackoverflow.com/users/10289340/softhmak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 52862799, "answer_count": 1, "score": -1, "last_activity_date": 1539806715, "creation_date": 1539796517, "question_id": 52860324, "link": "https://stackoverflow.com/questions/52860324/wpf-manage-ui", "title": "WPF - Manage UI", "body": "<p>I want to make something like this type of UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nZJ6n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nZJ6n.png\" alt=\"UI\"></a></p>\n\n<p>There will be two or three buttons always on top with a textbox (no change after window resize).</p>\n\n<p>How can I do this in <a href=\"https://en.wikipedia.org/wiki/Windows_Presentation_Foundation\" rel=\"nofollow noreferrer\">WPF</a>, actually am new to WPF and I want to do this strictly in .Net &amp; WPF 3.5.</p>\n"}, {"tags": ["c#", "azure", "azure-service-fabric", "service-fabric-stateless"], "comments": [{"owner": {"reputation": 10811, "user_id": 5946937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a686518049226b2b0f0bbb1f334978e?s=128&d=identicon&r=PG&f=1", "display_name": "LoekD", "link": "https://stackoverflow.com/users/5946937/loekd"}, "edited": false, "score": 0, "creation_date": 1539801226, "post_id": 52860308, "comment_id": 92637393, "body": "just to be sure, did you change the client to use the <code>FabricTransportServiceRemotingClientFactory</code> from the V2 namespace? <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.servicefabric.services.remoting.v2.fabrictransport.client.fabrictransportserviceremotingclientfactory?view=azure-dotnet\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 10811, "user_id": 5946937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a686518049226b2b0f0bbb1f334978e?s=128&d=identicon&r=PG&f=1", "display_name": "LoekD", "link": "https://stackoverflow.com/users/5946937/loekd"}, "edited": false, "score": 0, "creation_date": 1539801557, "post_id": 52860308, "comment_id": 92637560, "body": "Your sample project mixes up v1 and v2. Did you follow the guidance from here? <a href=\"https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-reliable-services-communication-remoting#use-the-remoting-v2-stack\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/service-fabric/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 2549257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7011b8aa515079d559e45b36d337e3da?s=128&d=identicon&r=PG", "display_name": "Safkat", "link": "https://stackoverflow.com/users/2549257/safkat"}, "reply_to_user": {"reputation": 10811, "user_id": 5946937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a686518049226b2b0f0bbb1f334978e?s=128&d=identicon&r=PG&f=1", "display_name": "LoekD", "link": "https://stackoverflow.com/users/5946937/loekd"}, "edited": false, "score": 0, "creation_date": 1539801595, "post_id": 52860308, "comment_id": 92637575, "body": "@LoekD: Yes I did. That&#39;s when it does not work anymore. If I use the remoting client from the V1 namespace, it works like a charm."}, {"owner": {"reputation": 51, "user_id": 2549257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7011b8aa515079d559e45b36d337e3da?s=128&d=identicon&r=PG", "display_name": "Safkat", "link": "https://stackoverflow.com/users/2549257/safkat"}, "reply_to_user": {"reputation": 10811, "user_id": 5946937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a686518049226b2b0f0bbb1f334978e?s=128&d=identicon&r=PG&f=1", "display_name": "LoekD", "link": "https://stackoverflow.com/users/5946937/loekd"}, "edited": false, "score": 0, "creation_date": 1539801646, "post_id": 52860308, "comment_id": 92637604, "body": "@LoekD: That&#39;s probably because I wanted to demo that V1 works but V2 does not. And currently, I do not have references that are using the V1 namespace. And I did follow their documentation."}, {"owner": {"reputation": 10811, "user_id": 5946937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a686518049226b2b0f0bbb1f334978e?s=128&d=identicon&r=PG&f=1", "display_name": "LoekD", "link": "https://stackoverflow.com/users/5946937/loekd"}, "edited": false, "score": 0, "creation_date": 1539802042, "post_id": 52860308, "comment_id": 92637791, "body": "you&#39;re mixing up V1, V2 and V2_1. If you want to use V2, specify the endpoints as V2, or use V2_1 and specify <code>settings.UseWrappedMessage = true;</code>"}, {"owner": {"reputation": 51, "user_id": 2549257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7011b8aa515079d559e45b36d337e3da?s=128&d=identicon&r=PG", "display_name": "Safkat", "link": "https://stackoverflow.com/users/2549257/safkat"}, "reply_to_user": {"reputation": 10811, "user_id": 5946937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a686518049226b2b0f0bbb1f334978e?s=128&d=identicon&r=PG&f=1", "display_name": "LoekD", "link": "https://stackoverflow.com/users/5946937/loekd"}, "edited": false, "score": 0, "creation_date": 1539803047, "post_id": 52860308, "comment_id": 92638267, "body": "If I don&#39;t need to send my parameters wrapped when sending, do I still need to set it to true? I am just sending to integers, I thought I don&#39;t need to send them wrapped. And even when I use the V2 version (not V2_1) it does not work. :("}], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 9497714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b6lQm.jpg?s=128&g=1", "display_name": "Oleg Karasik", "link": "https://stackoverflow.com/users/9497714/oleg-karasik"}, "edited": false, "score": 0, "creation_date": 1540204267, "post_id": 52898817, "comment_id": 92763795, "body": "Regarding service remoting -  can you please then provide an example when it is appropriate to use it? Just interested."}, {"owner": {"reputation": 8697, "user_id": 484222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JgVIE.png?s=128&g=1", "display_name": "Diego Mendes", "link": "https://stackoverflow.com/users/484222/diego-mendes"}, "edited": false, "score": 0, "creation_date": 1541158152, "post_id": 52898817, "comment_id": 93129782, "body": "<code>Service remoting by default only works between services within a cluster because it uses randomly assigned ports from the ephemeral range</code> This is only a problem if you use random ports(the recommended approach), like any other service if you use random ports you also have to open ports in the LB or use a Gateway\\Proxy to forward it within the cluster."}], "tags": [], "owner": {"reputation": 8745, "user_id": 4849191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a6hY0.jpg?s=128&g=1", "display_name": "Vaclav Turecek", "link": "https://stackoverflow.com/users/4849191/vaclav-turecek"}, "is_accepted": false, "score": 0, "last_activity_date": 1539977404, "creation_date": 1539977404, "answer_id": 52898817, "question_id": 52860308, "link": "https://stackoverflow.com/questions/52860308/how-to-call-a-service-fabric-service-from-a-winform-application/52898817#52898817", "title": "How to call a service fabric service from a Winform application?", "body": "<p>Just to clear up a little confusion first, there is no \"V1 Service Fabric runtime\" or \"V2 Service Fabric runtime\". What you're seeing refers to Service Remoting, which is a .NET RPC implementation for Service Fabric (Microsoft.ServiceFabric.Services.Remoting namespace and ServiceProxyFactory on the client). </p>\n\n<p>Service remoting by default only works between services within a cluster because it uses randomly assigned ports from the ephemeral range, which assumes direct connectivity between client-server. If you have a NAT device like a load balancer in between that requires explicitly opening ports, this won't work.</p>\n\n<p>Service remoting is completely optional in Service Fabric and you don't have to use it. For client communication, I strongly recommend you <strong>don't</strong> use it, as it will tightly couple your client application to your back-end services (with shared assemblies even) and versioning your APIs later will be a nightmare. I recommend using ASP.NET Core in your SF services to expose an HTTP API to your WebForms application instead. </p>\n"}], "owner": {"reputation": 51, "user_id": 2549257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7011b8aa515079d559e45b36d337e3da?s=128&d=identicon&r=PG", "display_name": "Safkat", "link": "https://stackoverflow.com/users/2549257/safkat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 803, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539977404, "creation_date": 1539796464, "question_id": 52860308, "link": "https://stackoverflow.com/questions/52860308/how-to-call-a-service-fabric-service-from-a-winform-application", "title": "How to call a service fabric service from a Winform application?", "body": "<p>We have two Service Fabric stateless services. We have upgraded our service fabric runtime to the latest version and now want to use the latest V2(V2_1) runtime for communication. We have also upgraded the Service Fabric SDK to the latest version.</p>\n\n<ol>\n<li>MathService. It has two endpoints exposed to communication.</li>\n<li>EvilMathTeacherService. It calls those two endpoints to do some things. It also has an endpoint exposed.</li>\n</ol>\n\n<p>These two services can talk to each other using the latest V2(V2_1) runtime. \nWe have another application, a WinForm application, that wants to call the EvilMathTeacherService to make it do something evil. Problem is when we use the V2(V2_1) runtime to make the call to the service fabric service/s from this Winform application which resides outside the fabric cluster, it does not work. It does not do anything. </p>\n\n<p>So my question would be- is there anything I can do to make it happen? Or is there no way to communicate to the services from outside in the latest V2(V2_1) runtime? We are able to do this using the V1 runtime and it's perfectly fine in the old V1 runtime. </p>\n\n<p>Code sample: (Relevant portion)</p>\n\n<p>Service 1: MathService.cs</p>\n\n<pre><code>protected override IEnumerable&lt;ServiceInstanceListener&gt; CreateServiceInstanceListeners()\n{\n  return new[]\n {\n     new ServiceInstanceListener(\n      context =&gt; new FabricTransportServiceRemotingListener(\n        context,\n        _mathCalculator_v2,\n        new FabricTransportRemotingListenerSettings()\n        {\n            EndpointResourceName = \"MathCalculator_v2\"\n        }),\n      \"MathCalculator_v2\"),\n     new ServiceInstanceListener(\n      context =&gt; new FabricTransportServiceRemotingListener(\n        context,\n        _textManipulator_v2,\n        new FabricTransportRemotingListenerSettings()\n        {\n            EndpointResourceName = \"TextManipulator_v2\"\n        }),\n      \"TextManipulator_v2\")\n };\n}\n</code></pre>\n\n<p>ServiceManifest:</p>\n\n<pre><code>&lt;Resources&gt;\n&lt;Endpoints&gt;\n  &lt;!-- This endpoint is used by the communication listener to obtain the port on which to \n       listen. Please note that if your service is partitioned, this port is shared with \n       replicas of different partitions that are placed in your code. --&gt;\n  &lt;Endpoint Name=\"ServiceEndpointV2_1\" /&gt;\n&lt;/Endpoints&gt;\n</code></pre>\n\n<p></p>\n\n<p>Service 2: EvilMathTeacherService.cs</p>\n\n<pre><code>protected override IEnumerable&lt;ServiceInstanceListener&gt; CreateServiceInstanceListeners()\n{\n  return new[]\n {\n       new ServiceInstanceListener(\n        context =&gt; new FabricTransportServiceRemotingListener(\n          context,\n          _questionnaire,\n          new FabricTransportRemotingListenerSettings()\n          {\n              EndpointResourceName = \"Questionnaire_v2\"\n\n          }),\n        \"Questionnaire_v2\")\n   };\n}\n</code></pre>\n\n<p>In the RunAsync Method:</p>\n\n<pre><code>protected override async Task RunAsync(CancellationToken cancellationToken)\n{\n  // TODO: Replace the following sample code with your own logic \n  //       or remove this RunAsync override if it's not needed in your service.\n\n  long iterations = 0;\n  while (true)\n  {\n    cancellationToken.ThrowIfCancellationRequested();\n    ServiceEventSource.Current.ServiceMessage(this.Context, \"Evil teacher is coming to get you!-{0}\", ++iterations);\n\n    Random r = new Random();\n    int first = r.Next(0, 100);\n    var second = r.Next(200, 400);\n\n\n    try\n    {\n      var sum = await _questionnaire.AddTwoNumbers(first, second);\n\n      ServiceEventSource.Current.ServiceMessage(this.Context, \"Evil Math teacher says - Sum-{0}\", sum);\n\n      var ifEqual = await _questionnaire.CheckIfTwoNumbersAreEqual(first, second);\n      ServiceEventSource.Current.ServiceMessage(this.Context, \"Evil Math teacher says - If Equal-{0}\", ifEqual);\n\n    }\n    catch (Exception ex)\n    {\n\n      throw;\n    }\n    await Task.Delay(TimeSpan.FromSeconds(2), cancellationToken);\n  }\n}\n</code></pre>\n\n<p>This is the Questionnaire.cs class that's making the call to the MathService</p>\n\n<pre><code>public async Task&lt;int&gt; AddTwoNumbers(int a, int b)\n{\n  var uri = new Uri(\"fabric:/SampleSFV2/MathService\");\n  var proxyFactory = new ServiceProxyFactory((c) =&gt;\n  {\n    var settings = new FabricTransportRemotingSettings();\n    return new FabricTransportServiceRemotingClientFactory(settings);\n  });\n\n  var service = proxyFactory.CreateServiceProxy&lt;IMathCalculator&gt;(uri, listenerName: \"MathCalculator_v2\");\n\n  return await service.Add(a, b);\n}\n\npublic async Task&lt;bool&gt; CheckIfTwoNumbersAreEqual(int a, int b)\n{\n  var text1 = a.ToString();\n  var text2 = b.ToString();\n\n  var uri = new Uri(\"fabric:/SampleSFV2/MathService\");\n  var proxyFactory = new ServiceProxyFactory((c) =&gt;\n  {\n    var settings = new FabricTransportRemotingSettings();\n    return new FabricTransportServiceRemotingClientFactory(settings);\n  });\n\n  var service = proxyFactory.CreateServiceProxy&lt;ITextManipulator&gt;(uri, listenerName: \"TextManipulator_v2\");\n\n  return await service.IfEqual(text1, text2);\n}\n</code></pre>\n\n<p>This is working as expected. But when I make a similar call from my winform application to the EvilMathTeacherService or the MathService itself, the call doesn't seem to make it to the services.</p>\n\n<p>Winform application portion:\nForm1.cs</p>\n\n<pre><code>private async void button_AddNumbers_Click(object sender, EventArgs e)\n{\n  //int number1 = int.Parse(textBox_Number1.Text);\n  //int number2 = int.Parse(textBox_Number2.Text);\n\n  //var uri = _evilMathServiceUri;\n\n  int number1 = 10;\n  int number2 = 100;\n\n  var uri = new Uri(\"fabric:/SampleSFV2/EvilMathTeacherService\");\n\n  ServiceProxyFactory proxyFactory = new ServiceProxyFactory((c) =&gt;\n  {\n    FabricTransportRemotingSettings settings = new FabricTransportRemotingSettings();\n    return new FabricTransportServiceRemotingClientFactory(settings);\n  });\n\n  try\n  {\n    IQuestionnaire service = proxyFactory.CreateServiceProxy&lt;IQuestionnaire&gt;(uri, listenerName: \"Questionnaire_v2\");\n    int result = await service.AddTwoNumbers(number1, number2);\n\n    MessageBox.Show(\"Result= \" + result);\n  }\n  catch (Exception ex)\n  {\n    MessageBox.Show(ex.ToString());\n  }\n}\n</code></pre>\n\n<p>I am following this link from their official documentation- \n<a href=\"https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-reliable-services-communication-remoting#how-to-use-remoting-v2-stack\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/service-fabric/service-fabric-reliable-services-communication-remoting#how-to-use-remoting-v2-stack</a> </p>\n\n<p>Please point out anything I am missing here. To assert again - I am having the problem when calling the services from a Winform application outside the fabric cluster using the Microsoft.ServiceFabric.Services.Remoting.V2.FabricTransport.Runtime.</p>\n\n<p>Or this cannot be done using the V2 runtime anymore? Because we are doing the same thing successfully using the V1 runtime.</p>\n\n<p>Sample code project:</p>\n\n<p><a href=\"https://github.com/nirjash13/azure-service-fabric\" rel=\"nofollow noreferrer\">https://github.com/nirjash13/azure-service-fabric</a></p>\n"}]