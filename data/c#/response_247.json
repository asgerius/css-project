[{"tags": ["c#"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1570060041, "post_id": 58210622, "comment_id": 102798666, "body": "Do you mean &quot;varying length of key values&quot; or &quot;variable length of key values&quot;? Do the length of the key vary as the program runs?"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1570060164, "post_id": 58210622, "comment_id": 102798687, "body": "You could code a class that does what you want, more or less, but ultimately the underlying data structure will be like the dictionary in your first example."}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1570060500, "post_id": 58210622, "comment_id": 102798757, "body": "I don&#39;t think there is a <i>better way</i> to add multiple rows having the same value. Your&#39;re right using the extension method."}, {"owner": {"reputation": 648, "user_id": 5324133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c2U3e.jpg?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/5324133/stefan"}, "edited": false, "score": 1, "creation_date": 1570082055, "post_id": 58210622, "comment_id": 102802760, "body": "The extension method is a good way of achieving what you want. I should go for that. What is holding you back? Why do you have doubts?"}], "answers": [{"tags": [], "owner": {"reputation": 28206, "user_id": 16082, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/olUDH.jpg?s=128&g=1", "display_name": "Brian MacKay", "link": "https://stackoverflow.com/users/16082/brian-mackay"}, "is_accepted": true, "score": 0, "last_activity_date": 1570061424, "creation_date": 1570061424, "answer_id": 58210809, "question_id": 58210622, "link": "https://stackoverflow.com/questions/58210622/map-multiple-keys-to-one-value/58210809#58210809", "title": "Map multiple keys to one value", "body": "<p>With Dictionary, it's always going to be one key mapping to one value.</p>\n\n<p>The extension method you mentioned is merely shorthand for your first attempt, where each key is added separately. You could also call Dictionary.Add(item) several times after instantiating an empty dictionary.</p>\n\n<p>There is very little performance difference in the two approaches, although using the extension method could result in slightly more expressive code if you want to make it clear that all these keys map to the same value. </p>\n\n<p>If you are asking if it's okay to have a Dictionary like this, where multiple keys map to one value, there is no problem with it and I'm not aware of a more appropriate collection. </p>\n\n<p>I will say that if you expect to update the values inside the Dictionary and expect all the related strings to change, you might want to use a class instead of a raw string. But you didn't ask about that, so I will refrain from elaborating.</p>\n"}], "owner": {"reputation": 31, "user_id": 4903968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb4e1cd6c277e8d42dd5c463705e13e0?s=128&d=identicon&r=PG&f=1", "display_name": "joe127", "link": "https://stackoverflow.com/users/4903968/joe127"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 58210809, "answer_count": 1, "score": 0, "last_activity_date": 1570061424, "creation_date": 1570059595, "last_edit_date": 1570060151, "question_id": 58210622, "link": "https://stackoverflow.com/questions/58210622/map-multiple-keys-to-one-value", "title": "Map multiple keys to one value", "body": "<p>I am trying to map a varying length of key values to one value and return the value based on any one of the several keys being provided.</p>\n\n<p>For example:</p>\n\n<pre><code>    public const string GetDataCenterUrls = \"getDataCenterUrls\";\n    public const string Get = \"get\";\n    public const string Search = \"search\";\n    public const string Upsert = \"upsert\";\n\n    public const string value1= \"value1\";\n    public const string value2 = \"value2\"\n\n    public static readonly Dictionary&lt;string, string&gt; dict = new Dictionary&lt;string, string&gt;\n    {\n        {GetDataCenterUrls, value1},\n        {Get, value2},\n        {Search, value2},\n        {Upsert, value2},\n    };\n</code></pre>\n\n<p>I want to avoid this and have something more like:</p>\n\n<pre><code>    public static readonly Dictionary&lt;string, string&gt; dict = new Dictionary&lt;string, string&gt;\n    {\n        {GetDataCenterUrls, value1},\n        {Get,Search,Upsert, value2},\n    };\n</code></pre>\n\n<p>and return value by something like:</p>\n\n<pre><code>   dict[GetDataCenterUrls] === value1 //true\n   dict[Get] == value2 //true\n   dict[Search] == value2 //true\n</code></pre>\n\n<p>Have been looking at using Ilookup and a Dictionary with a list of keys but am still unsure of the best and most efficient way to accomplish this.</p>\n\n<p>Saw this solution on Reddit to add an extension method to Dictionary but am not sure if there is a better way to achieve this:</p>\n\n<pre><code> public static void Add&lt;TKey, TValue&gt;(this Dictionary&lt;TKey, TValue&gt; d, \n IEnumerable&lt;TKey&gt; keys, TValue value)\n{\n    foreach (var key in keys) d.Add(key, value);\n} \n\n var d = new Dictionary&lt;string, string&gt;();\n d.Add(new[] {\"key1\", \"key2\", \"key3\"}, \"value\");\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "edited": false, "score": 0, "creation_date": 1570059758, "post_id": 58210597, "comment_id": 102798617, "body": "Rob, what error are you getting? That code looks okay to me."}, {"owner": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "reply_to_user": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "edited": false, "score": 0, "creation_date": 1570060156, "post_id": 58210597, "comment_id": 102798683, "body": "@NoSaidTheCompiler I have included the error im getting. sorry for not clarifying that"}, {"owner": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "reply_to_user": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "edited": false, "score": 0, "creation_date": 1570061920, "post_id": 58210597, "comment_id": 102799022, "body": "hi @NoSaidTheCompiler, can u help me with this error please"}, {"owner": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "edited": false, "score": 0, "creation_date": 1570062489, "post_id": 58210597, "comment_id": 102799124, "body": "Sure, I will try. Hang on... did the answer below from haldo work?"}, {"owner": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "reply_to_user": {"reputation": 3256, "user_id": 2216975, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b19a7797114087718a09cdfa2b081c19?s=128&d=identicon&r=PG", "display_name": "anish", "link": "https://stackoverflow.com/users/2216975/anish"}, "edited": false, "score": 0, "creation_date": 1570063214, "post_id": 58210597, "comment_id": 102799259, "body": "@NoSaidTheCompiler apparently another error shows up. i thought it would have solved the problem"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "edited": false, "score": 0, "creation_date": 1570063161, "post_id": 58210871, "comment_id": 102799247, "body": "This error pops up. System.FormatException: &#39;Input string was not in a correct format.&#39; sorry"}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "reply_to_user": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "edited": false, "score": 0, "creation_date": 1570063346, "post_id": 58210871, "comment_id": 102799285, "body": "Well, there&#39;s at least one value that is not an int then.  Figure out what values are in that column. Maybe log to the debug console instead of converting to int. Could it be an index issue, <code>Cells[3]</code> maybe?  Another option is to use <code>int.TryParse</code> @RobWebs"}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "reply_to_user": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "edited": false, "score": 0, "creation_date": 1570063566, "post_id": 58210871, "comment_id": 102799334, "body": "Are they <code>double</code> or <code>decimal</code> values? Or definitely <code>int</code>s? @RobWebs"}, {"owner": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "edited": false, "score": 0, "creation_date": 1570064117, "post_id": 58210871, "comment_id": 102799434, "body": "i have five column in the gridview and the subtotal is the last coulmn. and I put Money as the Data type in the database."}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "reply_to_user": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "edited": false, "score": 0, "creation_date": 1570064373, "post_id": 58210871, "comment_id": 102799478, "body": "I&#39;ve updated my answer.  You should use <code>Convert.ToDecimal</code> and change the type to <code>decimal sum</code> @Rob"}], "tags": [], "owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "is_accepted": true, "score": 1, "last_activity_date": 1570064319, "last_edit_date": 1570064319, "creation_date": 1570062141, "answer_id": 58210871, "question_id": 58210597, "link": "https://stackoverflow.com/questions/58210597/how-to-sum-a-column-in-gridview-then-display-to-label-in-asp-net/58210871#58210871", "title": "How to sum a column in GridView then display to label in ASP.Net?", "body": "<p>Use <code>.Text</code> instead.  Also, based on your comments you have <code>Money</code> set in the database which should map to <code>decimal</code> in C#.  </p>\n\n<pre><code>decimal sum = 0.0m;\nfor (int i = 0; i &lt;GridView1.Rows.Count; ++i)\n{\n    sum += Convert.ToDecimal(GridView1.Rows[i].Cells[4].Text);\n}\n</code></pre>\n\n<p>GridViewRow <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.webcontrols.tablerow.cells?view=netframework-4.8\" rel=\"nofollow noreferrer\">Cells</a> do not have a Value property.</p>\n"}], "owner": {"reputation": 5, "user_id": 12153243, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0uyOsYCOmEY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6jshuWjZuXFYjqHRwyiuV2Kzieg/photo.jpg?sz=128", "display_name": "Rob Webs", "link": "https://stackoverflow.com/users/12153243/rob-webs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 58210871, "answer_count": 1, "score": 0, "last_activity_date": 1570064319, "creation_date": 1570059357, "last_edit_date": 1570062980, "question_id": 58210597, "link": "https://stackoverflow.com/questions/58210597/how-to-sum-a-column-in-gridview-then-display-to-label-in-asp-net", "title": "How to sum a column in GridView then display to label in ASP.Net?", "body": "<p>I have been looking for the solution for this problem but most of them does not fix it or I don't understand. This is my attempt trying to sum up the whole single column:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    GridView1.DataSource = SqlDataSource1;\n    GridView1.DataBind();\n\n        int sum = 0;\n        for (int i = 0; i &lt;GridView1.Rows.Count; ++i)\n        {\n            sum += Convert.ToInt32(GridView1.Rows[i].Cells[4].Value);\n        }\n        Label_Grand.Text = sum.ToString();\n    }\n}\n</code></pre>\n\n<p>The error shows up at <code>sum += Convert.ToInt32(GridView1.Rows[i].Cells[4].Value);</code> the word Value.</p>\n\n<blockquote>\n  <p>'TableCell' does not contain a definition for 'Value' and no accessible extension method 'Value' accepting a first argument of type 'TableCell' could be found (are you missing a using directive or an assembly reference?)</p>\n</blockquote>\n"}, {"tags": ["c#", "entity-framework", ".net-core", "entity-framework-core"], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 782012, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/397ca0405e8096b3c3a7ca8fa376b553?s=128&d=identicon&r=PG", "display_name": "Daniel Becroft", "link": "https://stackoverflow.com/users/782012/daniel-becroft"}, "edited": false, "score": 0, "creation_date": 1570500283, "post_id": 58224693, "comment_id": 102924512, "body": "Thanks for your reply @Caleb. For my particular situation, I ended up changing my data migration to use a projection via the <code>Select</code> statement, rather than selecting all fields. This avoided the error I&#39;m currently experiencing, but I&#39;ll keep your suggestions in mind for future problems."}], "tags": [], "owner": {"reputation": 1886, "user_id": 1419658, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-PBM6G3QRJUo/AAAAAAAAAAI/AAAAAAAAOw0/hGPjTuuiM74/photo.jpg?sz=128", "display_name": "Caleb", "link": "https://stackoverflow.com/users/1419658/caleb"}, "is_accepted": true, "score": 2, "last_activity_date": 1570126241, "creation_date": 1570126241, "answer_id": 58224693, "question_id": 58210485, "link": "https://stackoverflow.com/questions/58210485/entity-framework-core-earlier-data-migrations-break-when-models-are-changed/58224693#58224693", "title": "Entity Framework Core - Earlier data migrations break when models are changed", "body": "<p>In your example, 1 and 3 are Schema Migrations and 2 is a Data Migration.</p>\n\n<p>Since Entity Framework Core will generate queries based off the current models in code, and not the current state of the database, there is two options for handling Data Migrations.</p>\n\n<ol>\n<li><p><strong>Perform Data Migrations In-Order with Schema Migrations</strong></p>\n\n<p>Use something like <a href=\"https://github.com/StackExchange/Dapper\" rel=\"nofollow noreferrer\">Dapper</a> or <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ado-net-code-examples\" rel=\"nofollow noreferrer\">ADO.NET</a> to perform data migrations based on the schema at the time the migration is written.  You can get the <code>DbConnection</code> object from the EF Context using <code>context.Database.GetDbConnection()</code> </p>\n\n<p><em>Pros:</em> Migration code will never need to be changed</p>\n\n<p><em>Cons:</em> You won't get any of the benefits of EF Core</p></li>\n<li><p><strong>Perform Data Migrations After Schema Migrations</strong></p>\n\n<p>EF performs migrations in the ascending order of the <code>MigrationAttribute.Id</code> string value.  EF generates this based off a timestamp when calling <code>dotnet ef migrations add xxx</code>.  You can change this attribute to ensure Data Migrations are run after all Schema Migrations.  Change the filename as well for readability so that they stay in the order they will be applied.</p>\n\n<p><em>Pros:</em> You get all the benefits of EF Core</p>\n\n<p><em>Cons:</em> If the schema changes in the future, such as removing a column referenced in the data migration, you will need to modify your migration</p>\n\n<p>Example <code>MigrationAttribute.Id</code> change:</p></li>\n</ol>\n\n<pre><code>// change\n[Migration(\"20191002171530_DataMigration\")]\n// to\n[Migration(\"99999999000001_DataMigration\")]\n</code></pre>\n"}], "owner": {"reputation": 626, "user_id": 782012, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/397ca0405e8096b3c3a7ca8fa376b553?s=128&d=identicon&r=PG", "display_name": "Daniel Becroft", "link": "https://stackoverflow.com/users/782012/daniel-becroft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 565, "favorite_count": 0, "accepted_answer_id": 58224693, "answer_count": 1, "score": 2, "last_activity_date": 1570137482, "creation_date": 1570058352, "last_edit_date": 1592644375, "question_id": 58210485, "link": "https://stackoverflow.com/questions/58210485/entity-framework-core-earlier-data-migrations-break-when-models-are-changed", "title": "Entity Framework Core - Earlier data migrations break when models are changed", "body": "<p>We are starting a new application with with .NET Core, EF Core and Postgres - we're really liking the migrations :-)</p>\n<p>However, I've found a problem that I can't figure out how to work around. In some of our migrations, we use the <code>DbContext</code> to load records, run some business logic, and resave the records. We also run <code>database.Context.Migrate()</code> when the web server starts, so it always runs.</p>\n<p>This all works fine (so far).</p>\n<p>Unfortunately it works right up until the model is changed at a later point. Consider the following migration order:</p>\n<ol>\n<li><p>Create <code>Customer</code>, <code>Order</code>, and <code>OrderLine</code> models. Add the schema migrations to load the structures</p>\n</li>\n<li><p>A business rule changes, so we need to set a value on the <code>Order</code> record based on some business logic . We create a data migration where we load the <code>DbContext</code>, run the code, and run <code>SaveChangesAsync()</code></p>\n<p>At this point, everything is fine.</p>\n</li>\n<li><p>We need to add a schema migration with a new field to the <code>Customer</code> record.</p>\n</li>\n</ol>\n<p>Here, things break. If the database has not had migration 2 applied, the <code>Migrate()</code> command errors as when applying migration 2, EF is trying to generate a select statement that includes the new field in 3.</p>\n<p>I'm not sure where the problem actually is in the process though: should we not be using the <code>DbContext</code> in the migration (and hand-code SQL statements)? Should we be explicitly be doing projections on every record read so that we know exactly what we're doing?</p>\n<p>Something else?</p>\n"}, {"tags": ["c#", "combobox"], "comments": [{"owner": {"reputation": 5465, "user_id": 398630, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/8ac777cca059f2e12510475f85dcc19a?s=128&d=identicon&r=PG", "display_name": "BrainSlugs83", "link": "https://stackoverflow.com/users/398630/brainslugs83"}, "edited": false, "score": 2, "creation_date": 1599267042, "post_id": 58210385, "comment_id": 112730777, "body": "Not sure why this request was downvoted and closed -- it seems really specific and straightforward, and it even has a valid answer."}], "answers": [{"tags": [], "owner": {"reputation": 696, "user_id": 10703868, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O5J-VfqgdbE/AAAAAAAAAAI/AAAAAAAABdk/DpjW1wJ3hmw/photo.jpg?sz=128", "display_name": "Peter Boone", "link": "https://stackoverflow.com/users/10703868/peter-boone"}, "is_accepted": true, "score": 1, "last_activity_date": 1570474543, "last_edit_date": 1570474543, "creation_date": 1570069669, "answer_id": 58211559, "question_id": 58210385, "link": "https://stackoverflow.com/questions/58210385/how-does-a-combobox-know-if-your-clicking-the-down-arrow-or-the-textbox/58211559#58211559", "title": "How does a combobox know if your clicking the down arrow or the textbox", "body": "<p>The default <code>ComboBox</code> has a default styling which determines the size of the text box and the drop down arrow. Like other controls in WPF, you can edit the control template of the <code>ComboBox</code>to change the appearance and size of those items. If you look at <a href=\"https://stackoverflow.com/questions/16392670/custom-combobox-in-wpf-application\">this question</a> you can see examples of overriding the default styling. What you are interested in is the size of the column definitions:</p>\n\n<pre><code>    &lt;ControlTemplate x:Key=\"ComboBoxToggleButton\" TargetType=\"{x:Type ToggleButton}\"&gt;\n    &lt;Grid&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=\"Auto\" /&gt;\n            &lt;ColumnDefinition Width=\"20\" /&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n</code></pre>\n"}], "owner": {"reputation": 1100, "user_id": 11994733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b021364a53b38903905f55827cf89101?s=128&d=identicon&r=PG&f=1", "display_name": "Mandelbrotter", "link": "https://stackoverflow.com/users/11994733/mandelbrotter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "closed_date": 1570070133, "accepted_answer_id": 58211559, "answer_count": 1, "score": 0, "last_activity_date": 1570474543, "creation_date": 1570057472, "last_edit_date": 1570057979, "question_id": 58210385, "link": "https://stackoverflow.com/questions/58210385/how-does-a-combobox-know-if-your-clicking-the-down-arrow-or-the-textbox", "closed_reason": "Needs more focus", "title": "How does a combobox know if your clicking the down arrow or the textbox", "body": "<p>I have a WPF combobox (From the toolbox) that I'm trying to edit. </p>\n\n<p>The created combobox can be filtered by clicking into it and typing what you want. </p>\n\n<p>How does a combobox know (What event gets triggered or element get activated or ...) if your clicking on the arrow or the textbox. </p>\n\n<p>Bonus: Using styles can you change the ratio of the combobox that you can click for the textbox vs the dropdown arrow? </p>\n"}, {"tags": ["c#", "asp.net", "datatables"], "comments": [{"owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 0, "creation_date": 1570057806, "post_id": 58210266, "comment_id": 102798260, "body": "Hey, check that you&#39;re referencing the path correctly for your image (including capitalisation)? (See how to properly reference it here: <a href=\"https://www.w3schools.com/html/html_filepaths.asp\" rel=\"nofollow noreferrer\">w3schools.com/html/html_filepaths.asp</a>)"}, {"owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 0, "creation_date": 1570057917, "post_id": 58210266, "comment_id": 102798278, "body": "Also, in VS1029 for the folder that contains your image, right click the folder &amp; select &#39;Open in Folder&#39;. Double check that the image you&#39;re referencing is actually in this folder? NOTE: To add an image to a solution, it&#39;s safer to right click the folder &gt; Add &gt; Existing Item &gt; (select  image), rather than plonking the image in the right folder.. if you do not &#39;add&#39; it this way - it won&#39;t get checked in if you&#39;re using TFS (source control)!"}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1570065179, "post_id": 58210266, "comment_id": 102799634, "body": "Try with a slash at the front: <code>.sorting_asc { background-image:url(&quot;&#47;images&#47;sort_asc.png&quot;)}</code> or use a cdn."}], "answers": [{"comments": [{"owner": {"reputation": 643, "user_id": 10654347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zclQg.jpg?s=128&g=1", "display_name": "Bodrov", "link": "https://stackoverflow.com/users/10654347/bodrov"}, "edited": false, "score": 0, "creation_date": 1570057164, "post_id": 58210323, "comment_id": 102798143, "body": "Hi @cebilon123, is that under the min.css file or in <code>BundleConfig</code>?"}, {"owner": {"reputation": 381, "user_id": 10622578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JpzJtbrcuyo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA9LLtIPlEnXb8HhuQ2HUCCj1kk1Q/mo/photo.jpg?sz=128", "display_name": "cebilon123", "link": "https://stackoverflow.com/users/10622578/cebilon123"}, "reply_to_user": {"reputation": 643, "user_id": 10654347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zclQg.jpg?s=128&g=1", "display_name": "Bodrov", "link": "https://stackoverflow.com/users/10654347/bodrov"}, "edited": false, "score": 0, "creation_date": 1570057312, "post_id": 58210323, "comment_id": 102798173, "body": "Under dataTables.min.css."}, {"owner": {"reputation": 643, "user_id": 10654347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zclQg.jpg?s=128&g=1", "display_name": "Bodrov", "link": "https://stackoverflow.com/users/10654347/bodrov"}, "edited": false, "score": 0, "creation_date": 1570057564, "post_id": 58210323, "comment_id": 102798218, "body": "Nope :( I&#39;ll tinker with it a bit more"}], "tags": [], "owner": {"reputation": 381, "user_id": 10622578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JpzJtbrcuyo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA9LLtIPlEnXb8HhuQ2HUCCj1kk1Q/mo/photo.jpg?sz=128", "display_name": "cebilon123", "link": "https://stackoverflow.com/users/10622578/cebilon123"}, "is_accepted": false, "score": 0, "last_activity_date": 1570056977, "creation_date": 1570056977, "answer_id": 58210323, "question_id": 58210266, "link": "https://stackoverflow.com/questions/58210266/datatables-sorting-arrows-not-appearing-getting-404-in-browser/58210323#58210323", "title": "DataTable&#39;s sorting arrows not appearing (getting 404 in browser)", "body": "<p>Try writing path in this way:</p>\n\n<pre><code>\"~/Images/sort_desc.png\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1570059010, "last_edit_date": 1570059010, "creation_date": 1570058333, "answer_id": 58210481, "question_id": 58210266, "link": "https://stackoverflow.com/questions/58210266/datatables-sorting-arrows-not-appearing-getting-404-in-browser/58210481#58210481", "title": "DataTable&#39;s sorting arrows not appearing (getting 404 in browser)", "body": "<p>I suggest you do some reading on how <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks#A_quick_primer_on_URLs_and_paths\" rel=\"nofollow noreferrer\">paths work in HTML and CSS</a>.</p>\n\n<p>Given the structure you have provided us</p>\n\n<pre><code>.sorting_asc{background-image:url(\"/Content/images/sort_asc.png\")}\n</code></pre>\n\n<p>This is a root relative URL.</p>\n\n<p>Also note from your BundleConfig you have <code>bundles.Add(new StyleBundle(\"~/Content/css\")</code>. This will serve your CSS bundle from <code>http://yoursite.com/Content/css/bundledCSS.css</code> and all paths will need to be changed accordingly even if the physical files are in the <em>content</em> directory. This is another reason why root relative urls are a good idea, the images are then independent of the location of the CSS file.</p>\n"}], "owner": {"reputation": 643, "user_id": 10654347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zclQg.jpg?s=128&g=1", "display_name": "Bodrov", "link": "https://stackoverflow.com/users/10654347/bodrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570064519, "creation_date": 1570056458, "last_edit_date": 1570064519, "question_id": 58210266, "link": "https://stackoverflow.com/questions/58210266/datatables-sorting-arrows-not-appearing-getting-404-in-browser", "title": "DataTable&#39;s sorting arrows not appearing (getting 404 in browser)", "body": "<p>I'm using DataTables on a C# project and the header's sorting arrows aren't appearing---in fact, in the console I'm getting a <code>404</code> error.</p>\n\n<p>So I created a local <code>/images</code> folder (which is what the default DataTables png url was pointing to) but the <code>404</code> error is still coming back.</p>\n\n<p>I tried tinkering around with the file paths under the <code>min.js</code> file but to no effect. Am I changing the path names correctly or is there something else that's causing the <code>404?</code></p>\n\n<p>A few things to note:</p>\n\n<ul>\n<li><p>I know very little about C#</p></li>\n<li><p>I'm working on this with Visual Studio 2019 and I'm still trying to get the hang of the layout</p></li>\n</ul>\n\n<hr>\n\n<h3>Solution Explorer</h3>\n\n<pre><code>/ Content\n  / images\n     // sort_asc.png\n  // jquery.dataTables.min.css (same level as /images)\n</code></pre>\n\n<h3>dataTables.min.css snippet</h3>\n\n<pre><code>.sorting_asc{background-image:url(\"images/sort_asc.png\")} // not working\n\n.sorting_desc{background-image:url(\"../images/sort_desc.png\")} // original (how the file came)\n</code></pre>\n\n<h3>BundleConfig.cs</h3>\n\n<pre><code>bundles.Add(new StyleBundle(\"~/Content/css\").Include(\n    \"~/Content/bootstrap.css\",\n    \"~/Content/jquery.dataTables.min.css\",\n    \"~/Content/fontawesome-5.9.0.css\"\n));\n</code></pre>\n\n<h3>Console:</h3>\n\n<pre><code>GET http://localhost:xxxxx/images/sort_asc.png 404 (Not Found)\n</code></pre>\n"}, {"tags": ["c#", "wpf", "grid", "gridsplitter"], "comments": [{"owner": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "edited": false, "score": 2, "creation_date": 1570056836, "post_id": 58210213, "comment_id": 102798070, "body": "I don&#39;t normally put Width and Height to the root Grid, if you remove that, it will fix your problem, but not sure if that&#39;s what you&#39;re trying to achieve."}, {"owner": {"reputation": 108, "user_id": 1388567, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb123a52d2a007052d3459c970448ac6?s=128&d=identicon&r=PG", "display_name": "contehhh", "link": "https://stackoverflow.com/users/1388567/contehhh"}, "reply_to_user": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "edited": false, "score": 0, "creation_date": 1570057274, "post_id": 58210213, "comment_id": 102798171, "body": "True, but I also want the first grid to fill the window when resized."}, {"owner": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "edited": false, "score": 1, "creation_date": 1570058197, "post_id": 58210213, "comment_id": 102798336, "body": "I think it would by default, as the grid will take the rest (*) of the space of the Window if you do not set the row height and column width. Alternatively, instead of setting the Width and Height of the first Grid you can set its VerticalAlignment and HorizontalAlignment to &quot;Stretch&quot;"}, {"owner": {"reputation": 108, "user_id": 1388567, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb123a52d2a007052d3459c970448ac6?s=128&d=identicon&r=PG", "display_name": "contehhh", "link": "https://stackoverflow.com/users/1388567/contehhh"}, "reply_to_user": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "edited": false, "score": 0, "creation_date": 1570058616, "post_id": 58210213, "comment_id": 102798428, "body": "@Mac you&#39;re exactly right, thanks for noticing. If you want to post this as an answer I&#39;ll gladly accept it."}], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 1388567, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb123a52d2a007052d3459c970448ac6?s=128&d=identicon&r=PG", "display_name": "contehhh", "link": "https://stackoverflow.com/users/1388567/contehhh"}, "edited": false, "score": 0, "creation_date": 1570057447, "post_id": 58210288, "comment_id": 102798201, "body": "The dataGrids scrollBars when they over using the code I posted. Also adding a ScrollViewer seems to break my layout even more."}], "tags": [], "owner": {"reputation": 381, "user_id": 10622578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JpzJtbrcuyo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbA9LLtIPlEnXb8HhuQ2HUCCj1kk1Q/mo/photo.jpg?sz=128", "display_name": "cebilon123", "link": "https://stackoverflow.com/users/10622578/cebilon123"}, "is_accepted": false, "score": 0, "last_activity_date": 1570056648, "creation_date": 1570056648, "answer_id": 58210288, "question_id": 58210213, "link": "https://stackoverflow.com/questions/58210213/what-is-wrong-with-my-grid-layout-formatting/58210288#58210288", "title": "What is wrong with my grid layout formatting?", "body": "<p>If you have any data inside dataGrid it could stretch and overlap status bar. If this is the problem, try using:</p>\n\n<pre><code>&lt;ScrollViewer&gt; (data grid here) &lt;/ScrollViewer&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 10285326, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VLjZ4.jpg?s=128&g=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10285326/mac"}, "is_accepted": true, "score": 2, "last_activity_date": 1570058808, "creation_date": 1570058808, "answer_id": 58210542, "question_id": 58210213, "link": "https://stackoverflow.com/questions/58210213/what-is-wrong-with-my-grid-layout-formatting/58210542#58210542", "title": "What is wrong with my grid layout formatting?", "body": "<p>Maybe setting the <code>Width</code> and <code>Height</code> of the root <code>Grid</code> prevents you from achieving the goal. I believe by default, the grid will take the rest (*) of the space of the Window if you do not set the row height and column width. Alternatively, instead of setting the Width and Height of the first Grid you can set its <code>VerticalAlignment</code> and <code>HorizontalAlignment</code> to <code>\"Stretch\"</code></p>\n"}], "owner": {"reputation": 108, "user_id": 1388567, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb123a52d2a007052d3459c970448ac6?s=128&d=identicon&r=PG", "display_name": "contehhh", "link": "https://stackoverflow.com/users/1388567/contehhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58210542, "answer_count": 2, "score": 0, "last_activity_date": 1570058808, "creation_date": 1570055960, "last_edit_date": 1570056065, "question_id": 58210213, "link": "https://stackoverflow.com/questions/58210213/what-is-wrong-with-my-grid-layout-formatting", "title": "What is wrong with my grid layout formatting?", "body": "<p>I have the following window in my application:</p>\n\n<pre><code>&lt;Grid Width=\"{Binding ActualWidth, \n          RelativeSource = {RelativeSource AncestorType = {x:Type Window}}}\" \n      Height=\"{Binding ActualHeight, \n          RelativeSource ={RelativeSource AncestorType = {x:Type Window}}}\"&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"*\"&gt;&lt;/RowDefinition&gt;\n            &lt;RowDefinition Height=\"20\"&gt;&lt;/RowDefinition&gt;\n        &lt;/Grid.RowDefinitions&gt;\n        &lt;Grid Grid.Row=\"0\" HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\"&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition Width=\"auto\"&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;DataGrid Grid.Column=\"0\" x:Name=\"dataGrid\" VerticalAlignment=\"Stretch\" CanUserAddRows=\"False\" IsReadOnly=\"True\"/&gt;\n\n        &lt;DataGrid Grid.Column=\"2\" x:Name=\"dataGrid2\" VerticalAlignment=\"Stretch\" CanUserAddRows=\"False\" IsReadOnly=\"True\"/&gt;\n\n        &lt;GridSplitter Grid.Column=\"1\" x:Name=\"gridSplitter\" HorizontalAlignment=\"Center\" VerticalAlignment=\"Stretch\" Width=\"5\"/&gt;\n    &lt;/Grid&gt;\n    &lt;StatusBar Grid.Row=\"1\" Height=\"20\"&gt;\n        &lt;StatusBarItem x:Name=\"StatusBarInfo\" Content=\"Offset:\" HorizontalAlignment=\"Right\" /&gt;\n    &lt;/StatusBar&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>In the designer view everything appears as expected, with two dataGrids, separated by a gridSplitter, and the status bar on the bottom of the screen. for some reason, when running the application, the layout is slightly different, the grid containing the dataGrid overlaps the status bar.</p>\n\n<p>It makes me think something about my display settings on Windows 10 is causing me problems.</p>\n\n<p>This is my first WPF application, I am still learning.</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms"], "comments": [{"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1570088947, "post_id": 58210179, "comment_id": 102805534, "body": "Hi , having a try with replacing <code>MVEditarContacto</code> with <code>object</code> ."}, {"owner": {"reputation": 115, "user_id": 12156361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad895a55c8784e96d849a3d496a603e3?s=128&d=identicon&r=PG&f=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/12156361/fran"}, "reply_to_user": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1570130812, "post_id": 58210179, "comment_id": 102826426, "body": "Thanks, I will try it."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "edited": false, "score": 0, "creation_date": 1570151591, "post_id": 58210179, "comment_id": 102832151, "body": "I mean here replcae it .<code>MessagingCenter.Subscribe&lt;object, string&gt;</code> , if works let me know."}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 12156361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad895a55c8784e96d849a3d496a603e3?s=128&d=identicon&r=PG&f=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/12156361/fran"}, "is_accepted": true, "score": 0, "last_activity_date": 1605588043, "last_edit_date": 1605588043, "creation_date": 1570979688, "answer_id": 58364906, "question_id": 58210179, "link": "https://stackoverflow.com/questions/58210179/messagingcenter-callback-fails-to-register/58364906#58364906", "title": "MessagingCenter callback fails to register", "body": "<p>I saw that when unit testing very xamarin.forms related code such MessagingCenter, the best way is to run the tests from Xunit.Runner.Devices test runner (A.C.A. with a real and initialized xamarin.forms environment).</p>\n<p>The best example I've found is the <a href=\"https://github.com/dotnet-architecture/eShopOnContainers\" rel=\"nofollow noreferrer\">EShop on containers</a> mobile app.</p>\n<p>I've just left my project and started a new one heavily based on Prism.Forms to ease unit testing these kind of things because it is constructed on top of IOC containers.</p>\n"}], "owner": {"reputation": 115, "user_id": 12156361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad895a55c8784e96d849a3d496a603e3?s=128&d=identicon&r=PG&f=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/12156361/fran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 58364906, "answer_count": 1, "score": 0, "last_activity_date": 1605588043, "creation_date": 1570055736, "last_edit_date": 1605588034, "question_id": 58210179, "link": "https://stackoverflow.com/questions/58210179/messagingcenter-callback-fails-to-register", "title": "MessagingCenter callback fails to register", "body": "<p>I'm making an app with xamarin.forms and I have an issue with unit testing part. The problem is that when the test case runs isolated it passes, but when I run all the tests it fails.</p>\n<pre><code>using EmpresaPersonal.Modelos;\nusing EmpresaPersonal.ModelosVisuales;\nusing EmpresaPersonal.Services;\nusing System;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing Xamarin.Forms;\nusing Xunit;\n\nnamespace EmpresaPersonal.Test\n{\n    public class PruebasVMEditarContacto\n    {\n        [Fact]\n        public async Task GuardarContactoSeteaCorrectamenteAsync()\n        {\n            // Preparamos el editor y los eventos\n            var store = new MockDataStore();\n            var mockNavegacion = ServiciosFalsos.MockIrAtras();\n            var editor = new MVEditarContacto(store, mockNavegacion.Object)\n            {\n            // Initializer setters...\n            };\n\n            bool llamado = false;\n            MessagingCenter.Subscribe&lt;MVEditarContacto, string&gt;(this, MVEditarContacto.EventoContactoCreado, async (s, idContacto) =&gt; // This line throws a NullReferenceException\n            {\n                var contacto = await store.GetItemAsync(idContacto);\n                // Algunos chequeos van por ac\u00e1\n                Assert.NotNull(contacto);\n                Assert.Equal(editor.Nombre.Valor, contacto.Nombre);\n                Assert.Equal(editor.Empresa.Valor, contacto.Empresa);\n                Assert.Equal(editor.TelefonoPrincipal.Valor, contacto.TelefonoPrincipal);\n                Assert.Equal(editor.TelefonoSecundario.Valor, contacto.TelefonoSecundario);\n                llamado = true;\n            });\n            editor.GuardarContacto.Execute(null);\n            await editor.EsperarCompletarAsync();\n            Assert.True(llamado, &quot;El evento no fue llamado.&quot;);\n            mockNavegacion.Verify(m =&gt; m.AtrasAsync());\n        }\n    }\n}\n</code></pre>\n<p>I don't use anything than MessagingCenter.Send` from the model instantiated in this chunk. I have to say that I have another test for a model that subscribes to this model, to the same event in it's constructor (the model is the subscriber).</p>\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "razor-pages", "asp.net-core-3.0"], "comments": [{"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1570056224, "post_id": 58210127, "comment_id": 102797937, "body": "Razor and Blazor are different, do read up on it to understand: <a href=\"https://www.google.com/amp/s/espressocoder.com/2019/02/21/whats-the-difference-between-razor-and-blazor/amp/\" rel=\"nofollow noreferrer\">google.com/amp/s/espressocoder.com/2019/02/21/&hellip;</a>"}, {"owner": {"reputation": 19, "user_id": 8762524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d393ae93d9a92189a9c2d629add34ff?s=128&d=identicon&r=PG&f=1", "display_name": "CPGAdmin", "link": "https://stackoverflow.com/users/8762524/cpgadmin"}, "reply_to_user": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1570117615, "post_id": 58210127, "comment_id": 102820785, "body": "I understand the difference. You did not read my post in detail. There is nothing in your blog post that discusses RCL being the mvc type library or the component library. Try to create a .NET core razor solution and add a Razor Class Library project for VS 16.3.2, and you will not get a Razor Class Library but a Razor Component Library and these are different things."}], "answers": [{"comments": [{"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 2, "creation_date": 1570142856, "post_id": 58226198, "comment_id": 102830422, "body": "This isn&#39;t really an answer, where was it documented as an issue, who&#39;s working on it? What discussions?"}], "tags": [], "owner": {"reputation": 19, "user_id": 8762524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d393ae93d9a92189a9c2d629add34ff?s=128&d=identicon&r=PG&f=1", "display_name": "CPGAdmin", "link": "https://stackoverflow.com/users/8762524/cpgadmin"}, "is_accepted": false, "score": -1, "last_activity_date": 1570133193, "creation_date": 1570133193, "answer_id": 58226198, "question_id": 58210127, "link": "https://stackoverflow.com/questions/58210127/problem-when-creating-razor-class-library-with-visual-studio-16-3-2-template/58226198#58226198", "title": "Problem when creating Razor Class Library with Visual Studio 16.3.2 template", "body": "<p>The Razor Class Library for Page/Views has been moved, but it's not in the VS UI, it appears the issue is being worked on. In the meantime, I took an RCL (page/views) project and put it into another project as a work around, and this worked for me.</p>\n\n<p>The walkthrough for an RCL with Page\\views reads:</p>\n\n<p>\"The Razor class library (RCL) template defaults to Razor component development by default. A template option in Visual Studio provides template support for pages and views.\"</p>\n\n<p>But when going through the walkthrough, the UI option isn't there, and I found discussions about this with the owners.</p>\n"}], "owner": {"reputation": 19, "user_id": 8762524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d393ae93d9a92189a9c2d629add34ff?s=128&d=identicon&r=PG&f=1", "display_name": "CPGAdmin", "link": "https://stackoverflow.com/users/8762524/cpgadmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 675, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570133193, "creation_date": 1570055395, "last_edit_date": 1570133083, "question_id": 58210127, "link": "https://stackoverflow.com/questions/58210127/problem-when-creating-razor-class-library-with-visual-studio-16-3-2-template", "title": "Problem when creating Razor Class Library with Visual Studio 16.3.2 template", "body": "<p>A few months a go I created a Razor Class Library using the Visual Studio Template, and I got an MVC type library with Pages, _ViewStart, and etc... But after I updated to Visual Studio 16.3.2 with Asp.net Core 3.0, I added a \"Razor Class Library\" and what I got was a \"Razor Components Library\" instead. </p>\n\n<p>I am seeing Microsoft use \"RCL\" in two different ways in Documentation. </p>\n\n<p>How do I create a \"Razor Class Library\" which has the Pages,_viewstarts files in it vs the component library which is for blazor?</p>\n\n<p>Addition:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/razor-pages/ui-class?view=aspnetcore-3.0&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/razor-pages/ui-class?view=aspnetcore-3.0&amp;tabs=visual-studio</a></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/blazor/class-libraries?view=aspnetcore-3.0&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/blazor/class-libraries?view=aspnetcore-3.0&amp;tabs=visual-studio</a></p>\n\n<p>If you look at the links above, one is for Razor UI Class Library and one is for Razor Component Library. Before the .NET core 3.0 release and Visual Studio 16.3.2 the Razor UI Class Library walkthrough worked, it no longer works. The same steps create a Razor Component Library.</p>\n\n<p>The question is what happened to the Razor UI Class Library provided in the documentation? It seems like there should be two templates with better defined names.</p>\n\n<p>Addition 2:</p>\n\n<p><a href=\"https://github.com/aspnet/AspNetCore/issues/7536\" rel=\"nofollow noreferrer\">https://github.com/aspnet/AspNetCore/issues/7536</a></p>\n\n<p>It appears the old RCL template in VS has been swapped out with the component library. So, the issue looks by design, but the question is still where is a page/views VS template to setup that type of \"RCL\"?</p>\n\n<p>Addition 3:</p>\n\n<p>The Razor Class Library for Page/Views has been moved, but it's not in the VS UI, it appears the issue is being worked on. In the meantime, I took an RCL (page/views) project and put it into another project as a work around, and this worked for me.</p>\n\n<p>\"The Razor class library (RCL) template defaults to Razor component development by default. A template option in Visual Studio provides template support for pages and views.\"</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "signalr", "signalr-hub"], "answers": [{"tags": [], "owner": {"reputation": 1694, "user_id": 7217806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb163419649048db63b30f1394c83af3?s=128&d=identicon&r=PG&f=1", "display_name": "user7217806", "link": "https://stackoverflow.com/users/7217806/user7217806"}, "is_accepted": true, "score": 1, "last_activity_date": 1570089824, "creation_date": 1570089824, "answer_id": 58214826, "question_id": 58209985, "link": "https://stackoverflow.com/questions/58209985/signalr-hub-context-connectionid-object-reference-error/58214826#58214826", "title": "SignalR hub Context.ConnectionId object reference error", "body": "<p>As the error message states, you are trying to access the non-static <a href=\"https://docs.microsoft.com/en-us/aspnet/core/signalr/hubs?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">Context</a> property in your static method, which is not possible (see <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/static-classes-and-static-class-members\" rel=\"nofollow noreferrer\">Static Classes and Static Class Members</a> for further information). An option to resolve this issue would be making the <code>SendMessage</code> method non-static by removing the <code>static</code> keyword.</p>\n"}], "owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "accepted_answer_id": 58214826, "answer_count": 1, "score": 1, "last_activity_date": 1570089824, "creation_date": 1570054289, "question_id": 58209985, "link": "https://stackoverflow.com/questions/58209985/signalr-hub-context-connectionid-object-reference-error", "title": "SignalR hub Context.ConnectionId object reference error", "body": "<p>I went through a bunch of tutorials for SignalR and sending messages to a specific client. I am getting the following:</p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>An object reference is required for the non-static field, method, or property 'HubBase.Context'</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>public class ProgressHub : Hub\n{\n\n    public string msg = \"Initializing and Preparing...\";\n    public int counter = 1;\n\n    public static void SendMessage(string msg, int count)\n    {\n        var message = msg;\n        var hubContext = GlobalHost.ConnectionManager.GetHubContext&lt;ProgressHub&gt;();\n        //Context.ConnectionId throwing error\n        hubContext.Clients.Client(Context.ConnectionId).sendMessage(string.Format(message), count); \n    }\n\n    public void GetCountAndMessage()\n    {\n        Clients.Caller.sendMessage(string.Format(msg), counter);\n    }\n}\n</code></pre>\n\n<p>Not sure what I am doing wrong the line Context.connectionId is the exact same line they use yet mine is giving an object reference error?</p>\n"}, {"tags": ["c#", "json", "ajax", "asp.net-core"], "comments": [{"owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 0, "creation_date": 1570054493, "post_id": 58209932, "comment_id": 102797572, "body": "You tried check/comment ValidateAntiForgeryToken if it work without. This can stop  action."}, {"owner": {"reputation": 73, "user_id": 5688493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50b66dde36ef5190334e11127126b6a0?s=128&d=identicon&r=PG&f=1", "display_name": "wezeweze", "link": "https://stackoverflow.com/users/5688493/wezeweze"}, "reply_to_user": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 0, "creation_date": 1570055286, "post_id": 58209932, "comment_id": 102797721, "body": "yes - I tried it does not help"}, {"owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "edited": false, "score": 0, "creation_date": 1570055632, "post_id": 58209932, "comment_id": 102797794, "body": "1) Does you JavaScript function send a json request with a body that looks as expected? (see Browser &gt; DevTools &gt; Network - if yes, pls add an example that&#39;s not working to your question). 2) Is there anything your logs or in response body? 3) It seems you have a problem to read a json request to your model. It would help if we would know how your model looks like. 4) I think it does not help anyone if you include what&#39;s working, I&#39;d suggest to remove the working example from your question."}, {"owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "edited": false, "score": 0, "creation_date": 1570078659, "post_id": 58209932, "comment_id": 102801842, "body": "I tested your original code and received BillingViewModel successfully . If you use <code>[ValidateAntiForgeryToken]</code> attribute on the action, you should configure <code>services.AddAntiforgery(o =&gt; o.HeaderName = &quot;XSRF-TOKEN&quot;);</code> in the configureservice of startup.cs and add <code>@Html.AntiForgeryToken()</code>  in your view. Could you share a simple and complete demo that can reproduce the issue ?"}, {"owner": {"reputation": 73, "user_id": 5688493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50b66dde36ef5190334e11127126b6a0?s=128&d=identicon&r=PG&f=1", "display_name": "wezeweze", "link": "https://stackoverflow.com/users/5688493/wezeweze"}, "edited": false, "score": 0, "creation_date": 1570081484, "post_id": 58209932, "comment_id": 102802583, "body": "I have <code>services.AddAntiforgery(o =&gt; o.HeaderName = &quot;XSRF-TOKEN&quot;);</code> at <code>ConfigureServices</code> in <code>public class Startup</code> and <code>@Html.AntiForgeryToken()</code> at view that have those two view components"}, {"owner": {"reputation": 73, "user_id": 5688493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50b66dde36ef5190334e11127126b6a0?s=128&d=identicon&r=PG&f=1", "display_name": "wezeweze", "link": "https://stackoverflow.com/users/5688493/wezeweze"}, "edited": false, "score": 0, "creation_date": 1570088834, "post_id": 58209932, "comment_id": 102805484, "body": "it doesn&#39;t make sense to me! - today, first of all, I removed all <code>DataAnnotations</code> (I didn&#39;t add them before to simplify the code for you) - and it works! BUT?! I need these <code>DataAnnotations</code> so I clean solution, rebuilt, add them one more time and its work again - in principle without any code edit"}], "owner": {"reputation": 73, "user_id": 5688493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50b66dde36ef5190334e11127126b6a0?s=128&d=identicon&r=PG&f=1", "display_name": "wezeweze", "link": "https://stackoverflow.com/users/5688493/wezeweze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570056495, "creation_date": 1570053930, "last_edit_date": 1592644375, "question_id": 58209932, "link": "https://stackoverflow.com/questions/58209932/sending-view-model-by-ajax-to-controller-how-does-it-really-work", "title": "Sending view model by ajax to controller - how does it really work?", "body": "<p>I can't understand why, sometimes sending object by ajax works and sometimes it doesn't. I have an example - everything happens in 1 view where I have 2 view components</p>\n<p><strong>1st - view of view component</strong></p>\n<pre><code>@model ShippingViewModel\n\n    &lt;input type=&quot;hidden&quot; name=&quot;step&quot; value=&quot;@ShoppingCartHelper.TokenShipping&quot; /&gt;\n    &lt;input type=&quot;hidden&quot; asp-for=&quot;CustomerId&quot; /&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;FirstName&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;FirstName&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;FirstName&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;LastName&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;LastName&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;LastName&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;Email&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;Email&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;Email&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;Address&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;Address&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;Address&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;AddressNumber&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;AddressNumber&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;AddressNumber&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;City&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;City&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;City&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;ZipCode&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;ZipCode&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;ZipCode&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group form-check&quot;&gt;\n        &lt;input type=&quot;checkbox&quot; class=&quot;form-check-input&quot; id=&quot;isTheSame&quot;&gt;\n        &lt;label class=&quot;form-check-label&quot; for=&quot;isTheSame&quot;&gt;Czy dane p\u0142atnika maj\u0105 by\u0107 takie same jak dane wysy\u0142ki?&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;button class=&quot;btn&quot; id=&quot;save-shipping&quot;&gt;Dalej&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;i class=&quot;fa fa-level-down&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\n    &lt;script type=&quot;text/javascript&quot;&gt;\n    $(document).ready(function () {\n        $('#save-shipping').on('click', function () {\n            var ShippingViewModel = {\n                CustomerId: $('input[name=&quot;CustomerId&quot;]').val(),\n                FirstName: $('input[name=&quot;FirstName&quot;]').val(),\n                LastName: $('input[name=&quot;LastName&quot;]').val(),\n                Email: $('input[name=&quot;Email&quot;]').val(),\n                Address: $('input[name=&quot;Address&quot;]').val(),\n                AddressNumber: $('input[name=&quot;AddressNumber&quot;]').val(),\n                City: $('input[name=&quot;City&quot;]').val(),\n                ZipCode: $('input[name=&quot;ZipCode&quot;]').val(),\n                IsTheSame: $('input[id=&quot;isTheSame&quot;]').is(':checked'),\n            };\n            $.ajax({\n                type: &quot;POST&quot;,\n                url: '/koszyk/cs',\n                data: JSON.stringify(ShippingViewModel),\n                contentType: &quot;application/json; charset=utf-8&quot;,\n                dataType: &quot;json&quot;,\n                beforeSend: function (xhr) {\n                    xhr.setRequestHeader(&quot;XSRF-TOKEN&quot;, $('input:hidden[name=&quot;__RequestVerificationToken&quot;]').val());\n                },\n                error: function (xhr) {\n                    if (xhr.status != 200) window.location.href = &quot;/home/error/&quot; + xhr.status;\n                },\n                complete: function (xhr) {\n                    if (xhr.responseText.includes('@ShoppingCartHelper.TokenShipping')) {\n                        $('#ShoppingCartCustomerShipping').html(xhr.responseText);\n                    } else if (xhr.responseText.includes('@ShoppingCartHelper.TokenBilling')) {\n                        $('#ShoppingCartCustomerShipping').hide();\n                        $('#ShoppingCartCustomerBilling').html(xhr.responseText);\n                    }\n                }\n            });\n        });\n    });\n    &lt;/script&gt;\n</code></pre>\n<p><strong>1st - action in controller</strong></p>\n<pre><code>[HttpPost]\n[ValidateAntiForgeryToken]\n[Route(RouteUrl.ShoppingCart + &quot;/cs&quot;)]\npublic IActionResult Shippping([FromBody] ShippingViewModel svm)\n</code></pre>\n<p>and above code works great - I'm receving <code>ShippingViewModel</code></p>\n<p>and then at the same view I have 2nd view component</p>\n<p><strong>2nd - view of view component / the same approach</strong></p>\n<pre><code>@model BillingViewModel\n\n    @if ((Model.BillingSteps != (int)CustomerModel.StepEnum.None) &amp;&amp; (Model.BillingSteps == (int)CustomerModel.StepEnum.Shipping))\n    {\n        @Html.Raw(&quot;&lt;div style=\\&quot;display:block;\\&quot;&gt;&quot;)\n    }\n    else\n    {\n        @Html.Raw(&quot;&lt;div style=\\&quot;display:none;\\&quot;&gt;&quot;)\n    }\n    &lt;input type=&quot;hidden&quot; value=&quot;@ShoppingCartHelper.TokenBilling&quot; /&gt;\n    &lt;input type=&quot;hidden&quot; asp-for=&quot;BillingCustomerId&quot; /&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;BillingFirstName&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;BillingFirstName&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;BillingFirstName&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;BillingLastName&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;BillingLastName&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;BillingLastName&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;BillingEmail&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;BillingEmail&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;BillingEmail&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;BillingAddress&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;BillingAddress&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;BillingAddress&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;BillingAddressNumber&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;BillingAddressNumber&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;BillingAddressNumber&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;BillingCity&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;BillingCity&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;BillingCity&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;label asp-for=&quot;BillingZipCode&quot; class=&quot;m-1&quot;&gt;&lt;/label&gt;\n        &lt;div&gt;&lt;span asp-validation-for=&quot;BillingZipCode&quot; class=&quot;text-danger&quot;&gt;&lt;/span&gt;&lt;/div&gt;\n        &lt;input asp-for=&quot;BillingZipCode&quot; class=&quot;form-control&quot; /&gt;\n    &lt;/div&gt;\n\n    &lt;button class=&quot;btn&quot; id=&quot;save-billing&quot;&gt;Dalej&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;i class=&quot;fa fa-level-down&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        $(document).ready(function () {\n            $('#save-billing').on('click', function () {\n                var BillingViewModel = {\n                    BillingCustomerId: $('input[name=&quot;BillingCustomerId&quot;]').val(),\n                    BillingFirstName: $('input[name=&quot;BillingFirstName&quot;]').val(),\n                    BillingLastName: $('input[name=&quot;BillingLastName&quot;]').val(),\n                    BillingEmail: $('input[name=&quot;BillingEmail&quot;]').val(),\n                    BillingAddress: $('input[name=&quot;BillingAddress&quot;]').val(),\n                    BillingAddressNumber: $('input[name=&quot;BillingAddressNumber&quot;]').val(),\n                    BillingCity: $('input[name=&quot;BillingCity&quot;]').val(),\n                    BillingZipCode: $('input[name=&quot;BillingZipCode&quot;]').val(),\n                };\n                console.log(BillingViewModel);\n                $.ajax({\n                    type: &quot;POST&quot;,\n                    url: '/koszyk/cb',\n                    data: JSON.stringify(BillingViewModel),\n                    contentType: &quot;application/json; charset=utf-8&quot;,\n                    dataType: &quot;json&quot;,\n                    beforeSend: function (xhr) {\n                        xhr.setRequestHeader(&quot;XSRF-TOKEN&quot;, $('input:hidden[name=&quot;__RequestVerificationToken&quot;]').val());\n                    },\n                    error: function (xhr) {\n                        if (xhr.status != 200) window.location.href = &quot;/home/error/&quot; + xhr.status;\n                    },\n                    complete: function (xhr) {\n                        if (xhr.responseText.includes('@ShoppingCartHelper.TokenBilling')) {\n                            $('#ShoppingCartCustomerBilling').html(xhr.responseText);\n                        } else if (xhr.responseText.includes('@ShoppingCartHelper.TokenPayment')) {\n                            $('#ShoppingCartCustomerBilling').hide();\n                            $('#ShoppingCartCustomerPayment').html(xhr.responseText);\n                        }\n                    }\n                });\n            });\n        });\n    &lt;/script&gt;\n    @Html.Raw(&quot;&lt;/div&gt;&quot;)\n</code></pre>\n<p><strong>2nd - action in controller</strong></p>\n<pre><code>[HttpPost]\n[ValidateAntiForgeryToken]\n[Route(RouteUrl.ShoppingCart + &quot;/cb&quot;)]\npublic IActionResult Billing([FromBody] BillingViewModel bvm)\n</code></pre>\n<p>and here - I'm receving <code>BillingViewModel - null</code></p>\n<p>and I dont understand <code>WHY</code> firt ajax call sending a model, and second dosent</p>\n<p>I found a workaround - insted of <code>[FromBody] BillingViewModel bvm</code> I cound <code>[FromBody] object bvm</code></p>\n<p>and then I cound <code>deserialized bvm</code> - and its working</p>\n<p><strong>Question</strong></p>\n<p>What exacly I do wrong? it turns out that I don't understand how ajax works in asp core. I don't see any errors in my code.</p>\n<p><strong>EDIT:</strong>\n<strong>Model</strong></p>\n<pre><code>public int BillingCustomerId { get; set; }\npublic string BillingFirstName { get; set; }\npublic string BillingLastName { get; set; }\npublic string BillingAddress { get; set; }\npublic string BillingAddressNumber { get; set; }\npublic string BillingZipCode { get; set; }\npublic string BillingCity { get; set; }\npublic string BillingEmail { get; set; }\npublic int BillingSteps { get; set; }\n</code></pre>\n<p><strong>sending data</strong>\n<a href=\"https://i.imgur.com/YTxyhNv.png\" rel=\"nofollow noreferrer\">screen of sending data</a></p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1570053701, "post_id": 58209896, "comment_id": 102797390, "body": "A connection object is a disposable object. Failing to dispose it could lead to this error. Learn how to use the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-statement\" rel=\"nofollow noreferrer\">using statement</a> (On all your SqlConnection instances)"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1570053929, "post_id": 58209896, "comment_id": 102797445, "body": "Side note: you could write a parameterized query to avoid all that if logic."}, {"owner": {"reputation": 23, "user_id": 1370865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60445355076eb68207be77cfb35a325?s=128&d=identicon&r=PG", "display_name": "enyceexdanny", "link": "https://stackoverflow.com/users/1370865/enyceexdanny"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1570054045, "post_id": 58209896, "comment_id": 102797466, "body": "@Steve Would you be able to provide me an example using the code I posted?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1570054138, "post_id": 58209896, "comment_id": 102797492, "body": "it simply <i>using(SqlConnection objCon = new SqlConnection()) { .... all the current code less the objCon.Close().....}</i>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 1370865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60445355076eb68207be77cfb35a325?s=128&d=identicon&r=PG", "display_name": "enyceexdanny", "link": "https://stackoverflow.com/users/1370865/enyceexdanny"}, "edited": false, "score": 0, "creation_date": 1570068282, "post_id": 58210068, "comment_id": 102800118, "body": "Thank you so much for your detailed explanation and code."}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 1, "last_activity_date": 1570054936, "creation_date": 1570054936, "answer_id": 58210068, "question_id": 58209896, "link": "https://stackoverflow.com/questions/58209896/how-to-fix-timeout-period-elapsed-prior-to-obtaining-a-connection-from-the-pool/58210068#58210068", "title": "How to fix &quot;Timeout period elapsed prior to obtaining a connection from the pool&quot;", "body": "<p>Your problem is possibly originated by the missing dispose of the connection object. A disposable object should be <em>disposed</em> (IE calling its Dispose method) to release all the unmanaged resources contained in the object. The <em>using statement</em> will make this easy because, even in case of exceptions, it calls the Dispose method for the object enclsed in its starting block.</p>\n\n<p>A using statement is a simple way to write a try/finally block</p>\n\n<pre><code>SqlConnection con = new SqlConnection();\ntry\n{\n\n}\nfinally\n{\n    con.Dispose(); // And this will also close the connection\n}\n</code></pre>\n\n<p>So your code could be changed to:</p>\n\n<pre><code>private void DisplayData()\n{\n    using(SqlConnection objCon = new SqlConnection())\n    using(SqlCommand objCmd = new SqlCommand())\n    {\n         objCon.ConnectionString = ConfigurationManager.ConnectionStrings[\"ConnectionString\"].ConnectionString;\n        objCon.Open();\n\n        objCmd.Connection = objCon;\n        objCmd.CommandText = \"Select * From Community Where Category = @cat Order By Num Desc\";\n        objCmd.Parameters.Add(\"@cat\", SqlDbType.NVarChar).Value = Request[\"Category\"].ToString();\n\n        if (Request[\"Category\"] == \"All\")\n        {\n           objCmd.CommandText = \"Select * From Community Where Category != @cat Order By Num\";\n           objCmd.Parameters[0].Value = \"Blog\"    \n        }\n        SqlDataAdapter objDa = new SqlDataAdapter();\n        objDa.SelectCommand = objCmd;\n        DataSet objDs = new DataSet();\n        objDa.Fill(objDs, \"Community\");\n        this.ctlList.DataSource = objDs.Tables[0];\n        this.ctlList.DataBind();\n}\n</code></pre>\n\n<p>Of course, to remove the connection pool problem you should check all your code where you create an SqlConnection and implement the using block.</p>\n"}], "owner": {"reputation": 23, "user_id": 1370865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60445355076eb68207be77cfb35a325?s=128&d=identicon&r=PG", "display_name": "enyceexdanny", "link": "https://stackoverflow.com/users/1370865/enyceexdanny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2744, "favorite_count": 0, "accepted_answer_id": 58210068, "answer_count": 1, "score": 1, "last_activity_date": 1570054936, "creation_date": 1570053590, "question_id": 58209896, "link": "https://stackoverflow.com/questions/58209896/how-to-fix-timeout-period-elapsed-prior-to-obtaining-a-connection-from-the-pool", "title": "How to fix &quot;Timeout period elapsed prior to obtaining a connection from the pool&quot;", "body": "<p>The following error seems to show every so often when loading up one of the pages on the site. </p>\n\n<p>\"Timeout expired. The timeout period elapsed prior to obtaining a connection from the pool. This may have occurred because all pooled connections were in use and max pool size was reached.\"</p>\n\n<p>Based on what I found from searching around, it seems that the database connection isn't being closed properly and hence leaking. But I'm not too familiar with ASP.net, so would truly appreciate some guidance. </p>\n\n<pre><code>private void DisplayData()\n    {\n        SqlConnection objCon = new SqlConnection();\n        objCon.ConnectionString = ConfigurationManager.ConnectionStrings[\"ConnectionString\"].ConnectionString;\n        objCon.Open();\n\n        SqlCommand objCmd = new SqlCommand();\n        objCmd.Connection = objCon;\n\n        if (Request[\"Category\"] == \"some_cat\")\n        {\n            objCmd.CommandText = \"Select * From Community Where Category = N'some_cat' Order By Num Desc\";\n        }\n        else if (Request[\"Category\"] == \"other_cat\")\n        {\n            objCmd.CommandText = \"Select * From Community Where Category = N'other_cat' Order By Num Desc\";\n        }\n        else if (Request[\"Category\"] == \"Blog\")\n        {\n            objCmd.CommandText = \"Select * From Community Where Category = N'Blog' Order By Num Desc\";\n        }\n        else if (Request[\"Category\"] == \"All\")\n        {\n            objCmd.CommandText = \"Select * From Community Where Category != N'Blog' Order By Num Desc\";\n        }\n\n\n        objCmd.CommandType = CommandType.Text;\n\n        SqlDataAdapter objDa = new SqlDataAdapter();\n        objDa.SelectCommand = objCmd;\n\n        DataSet objDs = new DataSet();\n\n        objDa.Fill(objDs, \"Community\");\n\n        this.ctlList.DataSource = objDs.Tables[0];\n        this.ctlList.DataBind();\n\n    objCon.Close();\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 6, "creation_date": 1570053470, "post_id": 58209857, "comment_id": 102797335, "body": "Make a common interface that all your classes implement?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 2, "creation_date": 1570053488, "post_id": 58209857, "comment_id": 102797338, "body": "<code>someting1 s4 = new something4();</code> You have a class cast exception here. Cannot cast <code>something4</code> to <code>something1</code>"}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1570053610, "post_id": 58209857, "comment_id": 102797368, "body": "You shouldn&#39;t use <code>new</code> to instantiate <code>MonoBehaviours</code>. You should use <code>AddComponent</code> instead."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1570053666, "post_id": 58209857, "comment_id": 102797382, "body": "Do you control the definitions of classes <code>Something1</code> and <code>Something2</code>? That is, can you change their source code and recompile them, or are they given to you and you cannot change them?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1570057354, "post_id": 58209857, "comment_id": 102798181, "body": "Since you where looking for <a href=\"https://www.bing.com/search?q=c%23+multiple+inheritance+alternatives\" rel=\"nofollow noreferrer\">bing.com/search?q=c%23+multiple+inheritance+alternatives</a> why did not you try regular &quot;use interfaces&quot; suggestion?"}], "answers": [{"comments": [{"owner": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "edited": false, "score": 1, "creation_date": 1570053760, "post_id": 58209894, "comment_id": 102797401, "body": "Note that in Unity interfaces can be retrieved as components using gameObject.GetComponent&lt;IDoSomething&gt;() as well, but only abstract classes can be placed into the inspector. If there is a need for these monobehaviours to be dragged and dropped into inspector, a similar approach with abstract classes can be used."}, {"owner": {"reputation": 21, "user_id": 12156106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sePvsWSs6lY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNeAQb54r7L5zbY4nBxfSFN8aNNg/photo.jpg?sz=128", "display_name": "Iinesra Vorevorats", "link": "https://stackoverflow.com/users/12156106/iinesra-vorevorats"}, "edited": false, "score": 0, "creation_date": 1570054412, "post_id": 58209894, "comment_id": 102797552, "body": "Thank you for answering my question. But I have another one. Is there a way to call all DoSomething() in any order if I don&#39;t know classes or objects have it?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1570055828, "post_id": 58209894, "comment_id": 102797839, "body": "@linesra: Again, it sounds a lot like you&#39;re asking XY questions here. What&#39;s the problem you actually have?"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 3, "last_activity_date": 1570053584, "creation_date": 1570053584, "answer_id": 58209894, "question_id": 58209857, "link": "https://stackoverflow.com/questions/58209857/how-to-call-methods-with-same-name-but-in-different-unrelated-classes/58209894#58209894", "title": "How to call methods with same name but in different, unrelated classes?", "body": "<p>Typically the way you'd do this in C# is to declare an interface; you can implement arbitrarily many interfaces, but only extend one base type.</p>\n\n<pre><code>interface IDoSomething\n{\n  void DoSomething();\n}\npublic class Thing1 : SomeBaseClass, IDoSomething\n{\n    public void DoSomething(){ }\n}\npublic class Thing2 : SomeBaseClass, IDoSomething\n{\n    public void DoSomething() { }\n}\n</code></pre>\n\n<p>And now you can use <code>IDoSomething</code> as a type:</p>\n\n<pre><code>IDoSomething i1 = new Thing1();\nIDoSomething i2 = new Thing2();\ni1.DoSomething();\ni2.DoSomething();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "is_accepted": false, "score": 1, "last_activity_date": 1570054277, "last_edit_date": 1570054277, "creation_date": 1570053828, "answer_id": 58209921, "question_id": 58209857, "link": "https://stackoverflow.com/questions/58209857/how-to-call-methods-with-same-name-but-in-different-unrelated-classes/58209921#58209921", "title": "How to call methods with same name but in different, unrelated classes?", "body": "<p>The fact that you want to do this to two <code>MonoBehaviours</code> that don't otherwise have a common parent might indicate some questionable engineering, but it is possible to do exactly this using <a href=\"https://docs.unity3d.com/ScriptReference/GameObject.SendMessage.html\" rel=\"nofollow noreferrer\"><code>GameObject.SendMessage</code></a>.</p>\n\n<pre><code>public class something1 : MonoBehaviour\n{\n    public void Dosomething(){\n\n    }\n}\n\npublic class something2 : MonoBehaviour\n{\n    public void Dosomething(){\n\n    }\n}\n\npublic class callingDoSometing\n{\n    public void callALLDosomething(){\n        GameObject g1 = new GameObject();\n        g1.AddComponent&lt;something1&gt;();\n\n        GameObject g2 = new GameObject();\n        g2.AddComponent&lt;something1&gt;();\n\n        GameObject g3 = new GameObject();\n        g3.AddComponent&lt;something2&gt;();\n\n        GameObject g4 = new GameObject();\n        g4.AddComponent&lt;something2&gt;();\n\n\n        ...\n\n        g1.SendMessage(\"Dosomething\"); \n        g2.SendMessage(\"Dosomething\"); \n        g3.SendMessage(\"Dosomething\"); \n        g4.SendMessage(\"Dosomething\"); \n    }\n}\n</code></pre>\n\n<p>Just be aware that doing this will call <code>Dosomething</code> on every MonoBehaviour on that gameobject.</p>\n\n<p>If you want to be specific about which <code>MonoBehaviour</code> to call on and/or have the references to the <code>MonoBehaviour</code>s specifically, you can use <a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.Invoke.html\" rel=\"nofollow noreferrer\"><code>MonoBehaviour.Invoke</code></a>:</p>\n\n<pre><code>public class something1 : MonoBehaviour\n{\n    public void Dosomething(){\n\n    }\n}\n\npublic class something2 : MonoBehaviour\n{\n    public void Dosomething(){\n\n    }\n}\n\npublic class callingDoSometing\n{\n    public void callALLDosomething(){\n        GameObject g1 = new GameObject();\n        MonoBehaviour m1 = g1.AddComponent&lt;something1&gt;();\n\n        GameObject g2 = new GameObject();\n        MonoBehaviour m2 = g2.AddComponent&lt;something1&gt;();\n\n        GameObject g3 = new GameObject();\n        MonoBehaviour m3 = g3.AddComponent&lt;something2&gt;();\n\n        GameObject g4 = new GameObject();\n        MonoBehaviour m4 = g4.AddComponent&lt;something2&gt;();\n\n\n        ...\n\n        m1.Invoke(\"Dosomething\",0f);\n        m2.Invoke(\"Dosomething\",0f);\n        m3.Invoke(\"Dosomething\",0f);\n        m4.Invoke(\"Dosomething\",0f);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 12156106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sePvsWSs6lY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNeAQb54r7L5zbY4nBxfSFN8aNNg/photo.jpg?sz=128", "display_name": "Iinesra Vorevorats", "link": "https://stackoverflow.com/users/12156106/iinesra-vorevorats"}, "edited": false, "score": 0, "creation_date": 1570055492, "post_id": 58210029, "comment_id": 102797768, "body": "Thanks for answering. It is the closest understending question and answering on it (Yes i cant form my thoughts into question clearly). But how to &quot;foreach&quot; for instances with exact type?"}], "tags": [], "owner": {"reputation": 81, "user_id": 4892777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fac9cbf1aef1dce85fdd7a415d2863?s=128&d=identicon&r=PG&f=1", "display_name": "crwells", "link": "https://stackoverflow.com/users/4892777/crwells"}, "is_accepted": true, "score": 2, "last_activity_date": 1570054636, "creation_date": 1570054636, "answer_id": 58210029, "question_id": 58209857, "link": "https://stackoverflow.com/questions/58209857/how-to-call-methods-with-same-name-but-in-different-unrelated-classes/58210029#58210029", "title": "How to call methods with same name but in different, unrelated classes?", "body": "<p>Usually this is accomplished with interfaces.</p>\n\n<pre><code>public interface IDoSomething\n{\n    void Dosomething();\n}\npublic class something1 : MonoBehaviour, IDoSomething\n{\n    public void Dosomething() { }\n}\npublic class something2 : MonoBehaviour, IDoSomething\n{\n    public void Dosomething() { }\n}\n</code></pre>\n\n<p>If you are trying to dynamically discover these classes, you would do something like this:</p>\n\n<pre><code>public class CallingDoSomething\n{\n    private Type[] Get_IDoSomethingTypes()\n    {\n        var allTypes = typeof(CallingDoSomething).Assembly.GetTypes();\n        var searchFor = typeof(IDoSomething);\n\n        return allTypes.Where(x =&gt; searchFor.IsAssignableFrom(x))\n                       .Where(x =&gt; x.IsClass)\n                       .ToArray();\n    }\n    public void CallAllSomethings()\n    {\n        var types = Get_IDoSomethingTypes();\n        foreach (var type in types)\n        {\n            var instance = (IDoSomething)Activator.CreateInstance(type);\n            instance.Dosomething();\n        }\n    }\n}\n</code></pre>\n\n<p>If you already have a collection these classes instantiated, you would just always treat them like they are IDoSomething objects:</p>\n\n<pre><code>public class CallingDoSomething\n{\n    private List&lt;IDoSomething&gt; m_somethingDoers = new List&lt;IDoSomething&gt;();\n    public void OtherCodeThatPopulatedSomethingDoers()\n    {\n        // ...\n    }\n\n    public void CallAllSomethings()\n    {\n        foreach (var s in m_somethingDoers)\n            s.Dosomething();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12156106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sePvsWSs6lY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNeAQb54r7L5zbY4nBxfSFN8aNNg/photo.jpg?sz=128", "display_name": "Iinesra Vorevorats", "link": "https://stackoverflow.com/users/12156106/iinesra-vorevorats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "accepted_answer_id": 58210029, "answer_count": 3, "score": -2, "last_activity_date": 1570055064, "creation_date": 1570053326, "last_edit_date": 1570055064, "question_id": 58209857, "link": "https://stackoverflow.com/questions/58209857/how-to-call-methods-with-same-name-but-in-different-unrelated-classes", "title": "How to call methods with same name but in different, unrelated classes?", "body": "<p>I am writing c# script in Unity</p>\n\n<pre><code>public class something1 : MonoBehaviour\n{\n    public void Dosomething(){\n\n    }\n}\n\npublic class something2 : MonoBehaviour\n{\n    public void Dosomething(){\n\n    }\n}\n\npublic class callingDoSometing\n{\n    public void callALLDosomething(){\n        something1 s1 = new something1();\n        something2 s2 = new something2();\n        something3 s3 = new something3();\n        something4 s4 = new something4();\n        .\n        .\n        .\n        s1.Dosomething();\n        s2.Dosomething();\n        s3.Dosomething();\n        s4.Dosomething();\n        .\n        .\n        .\n    }\n}\n</code></pre>\n\n<p>I need to call methods with same names (here <code>Dosomething()</code>) from different classes.\nActually I need something like multiple inheritance in other OOP languages and I don't want to create additional languages.</p>\n"}, {"tags": ["c#", ".net", "entity-framework", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "edited": false, "score": 0, "creation_date": 1570057083, "post_id": 58209807, "comment_id": 102798126, "body": "How about dynamic SQL, using reflection to build the query? <code>db.Database.ExecuteSqlCommand(query)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18689, "user_id": 807296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9da02c7fd1632e4673b7225c071f3a1?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/807296/alex"}, "edited": false, "score": 0, "creation_date": 1570110716, "post_id": 58210996, "comment_id": 102817027, "body": "The only place I see entities being added to a set is in the Program.cs where this is: dynDbContext.Add&lt;Pet&gt;(new Pet() {Name = &quot;Daisy&quot;});  But I won&#39;t know the type at compile time, so how does this example fit the problem?  I would need something more like dbContext.Add&lt;&quot;Pet&quot;&gt;  or dbContext.Add&lt;typeof(&quot;namespace.pet&quot;)&gt;"}, {"owner": {"reputation": 3940, "user_id": 15475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMQ54.png?s=128&g=1", "display_name": "EggyBach", "link": "https://stackoverflow.com/users/15475/eggybach"}, "reply_to_user": {"reputation": 18689, "user_id": 807296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9da02c7fd1632e4673b7225c071f3a1?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/807296/alex"}, "edited": false, "score": 1, "creation_date": 1570135068, "post_id": 58210996, "comment_id": 102828156, "body": "You don&#39;t need to use the generic version of add. You can use dynDbContext.Add (myObject)."}], "tags": [], "owner": {"reputation": 3940, "user_id": 15475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMQ54.png?s=128&g=1", "display_name": "EggyBach", "link": "https://stackoverflow.com/users/15475/eggybach"}, "is_accepted": false, "score": 0, "last_activity_date": 1570063399, "creation_date": 1570063399, "answer_id": 58210996, "question_id": 58209807, "link": "https://stackoverflow.com/questions/58209807/net-core-ef-dynamically-add-to-dbset-by-string-name-or-type/58210996#58210996", "title": ".net Core EF - Dynamically Add to DbSet by string name or type", "body": "<p>You can do it by dynamically creating a new type that inherits from DbContext and the use Reflection Emit to add the DbSets to this type.</p>\n\n<p>It's a bit of a long solution to try and post into a response here, but here's a GitHub link to a working demo of how it can be done - <a href=\"https://github.com/rschreiber/EFCoreDynamic\" rel=\"nofollow noreferrer\">EF Core Dynamic Db Context</a></p>\n"}, {"tags": [], "owner": {"reputation": 18689, "user_id": 807296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9da02c7fd1632e4673b7225c071f3a1?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/807296/alex"}, "is_accepted": true, "score": 2, "last_activity_date": 1571408850, "creation_date": 1571408850, "answer_id": 58452866, "question_id": 58209807, "link": "https://stackoverflow.com/questions/58209807/net-core-ef-dynamically-add-to-dbset-by-string-name-or-type/58452866#58452866", "title": ".net Core EF - Dynamically Add to DbSet by string name or type", "body": "<p>I ended up using magic strings to add all the properties I knew would be present in the base class.  Although not ideal, it did add to the correct table which was the ultimate goal.</p>\n\n<pre><code>            var entityType = Assembly.GetAssembly(typeof(BaseTypeEntity)).GetType(namespacePrefix + typeName);\n\n            // create an instance of that type\n            object instance = Activator.CreateInstance(entityType);\n\n            // Get a property on the type that is stored in the \n            // property string\n            PropertyInfo prop = entityType.GetProperty(\"Active\");\n            prop.SetValue(instance, true, null);\n            // .... more properties\n\n            _context.Add(instance);\n</code></pre>\n"}], "owner": {"reputation": 18689, "user_id": 807296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a9da02c7fd1632e4673b7225c071f3a1?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/807296/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2224, "favorite_count": 0, "accepted_answer_id": 58452866, "answer_count": 2, "score": 4, "last_activity_date": 1571408850, "creation_date": 1570053026, "question_id": 58209807, "link": "https://stackoverflow.com/questions/58209807/net-core-ef-dynamically-add-to-dbset-by-string-name-or-type", "title": ".net Core EF - Dynamically Add to DbSet by string name or type", "body": "<p>Suppose I have a thousand classes that all inherit one base class, and each of these classes (not the base) has a table, each of which has the same required columns.  How can I use reflection or generics to add or update a row in the correct table?  I'll know the name of the specific entity at runtime.</p>\n\n<p>There are a handful of stackoverflow posts about getting a dbset with reflection, but the answer results in an IQueryable, which you cannot add a new item to.  Those posters seem content with that because they're just fetching data I suppose.  I need a DbSet so I can add and update.  I can get the fully qualified entity name and type, but how do I get a DbSet with that?  I don't want to write a 1000 line switch statement :(</p>\n"}, {"tags": ["c#", "winforms", "contextmenustrip"], "answers": [{"tags": [], "owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "is_accepted": true, "score": 1, "last_activity_date": 1570053057, "creation_date": 1570053057, "answer_id": 58209814, "question_id": 58209734, "link": "https://stackoverflow.com/questions/58209734/contextmenustrip-location-is-not-good-because-of-pointtoscreen/58209814#58209814", "title": "ContextMenuStrip location is not good because of PointToScreen", "body": "<p>Use the method that includes the control, and adjust by the height of that control to have the menu show below it:</p>\n\n<pre><code>x.Show(SelectContentGroup, new Point(0, SelectContentGroup.Height));\n</code></pre>\n\n<p>I'm assuming SelectContentGroup is the name of the button.</p>\n"}], "owner": {"reputation": 379, "user_id": 2181835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3522.jpg?s=128&g=1", "display_name": "Vali Maties", "link": "https://stackoverflow.com/users/2181835/vali-maties"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 58209814, "answer_count": 1, "score": 1, "last_activity_date": 1570053057, "creation_date": 1570052528, "question_id": 58209734, "link": "https://stackoverflow.com/questions/58209734/contextmenustrip-location-is-not-good-because-of-pointtoscreen", "title": "ContextMenuStrip location is not good because of PointToScreen", "body": "<p>I have a <code>Button</code> in a <code>SplitContainer</code>, on panel2. \nI have created dynamically a <code>ContextMenuStrip</code> which I have attached to this Button. I want to positioning the context menu under the button like in this image</p>\n\n<p><img src=\"https://i.ibb.co/r3PXTNS/Context-Menu-Strip.png\" alt=\"image\"></p>\n\n<p>But what I got is not like that.</p>\n\n<p>This is what I tried:</p>\n\n<pre><code>private void SelectContentGroup_Click(object sender, EventArgs e) {\n    ContextMenuStrip x = selectContentGroup.ContextMenuStrip;\n    if (x is null) return;\n        // this will show contextmenu near the mouse arrow\n        //x.Show(Control.MousePosition);\n\n        // I have tried to get MousePosition and to compare to my button location and Y is a lot of difference, about 200 pixels\n        //Console.WriteLine(\"MousePosition: {0}, ButtonLocation: {1}\", Control.MousePosition, PointToScreen(selectContentGroup.Location));\n        x.Show(PointToScreen(selectContentGroup.Location));\n\n        // I tried with e.Location also, but none of those points will give the button Left-Bottom position for contextmenu\n    }\n</code></pre>\n"}, {"tags": ["c#", "string", "char", "uppercase", "lowercase"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1570051998, "post_id": 58209625, "comment_id": 102796963, "body": "While <a href=\"https://stackoverflow.com/questions/4135317/make-first-letter-of-a-string-upper-case-with-maximum-performance\">this question</a> is just to capitalize the first letter, the answers could be very useful to help you do your task"}, {"owner": {"reputation": 25889, "user_id": 245183, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78abf6a54b468eea1a39282e705878a8?s=128&d=identicon&r=PG", "display_name": "Ondrej Tucny", "link": "https://stackoverflow.com/users/245183/ondrej-tucny"}, "edited": false, "score": 1, "creation_date": 1570052184, "post_id": 58209625, "comment_id": 102797013, "body": "This is basic algorithmization. What&#39;s wrong with a <code>for</code> cycle and string indexing?"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1570055373, "post_id": 58209625, "comment_id": 102797741, "body": "<i>How to make the last (or the first) letter of every word in a string lowercase</i> =&gt; <b>put on hold as too broad</b> =&gt; What??"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 1, "creation_date": 1570055624, "post_id": 58209625, "comment_id": 102797792, "body": "@OlivierRogier you can vote to have it reopened if you disagree! I also don&#39;t agree that this is too broad, although it would be nice if the OP posted their best effort to date so we can see what needs to be improved upon."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1570055701, "post_id": 58209625, "comment_id": 102797814, "body": "<code>var result = string.Concat(new CultureInfo(CultureInfo.CurrentCulture.Name).TextInfo.ToTitl&zwnj;&#8203;eCase(string.Concat(&zwnj;&#8203;input.Reverse())).Re&zwnj;&#8203;verse());</code> may work, though it will lower-case the first letter of each word at the same time."}], "answers": [{"comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1570053833, "post_id": 58209822, "comment_id": 102797423, "body": "&quot;Houston, we have a problem&quot; will be handled incorrectly - so we have a problem :)"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1570053911, "post_id": 58209822, "comment_id": 102797440, "body": "... Indeed ... :)"}], "tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 2, "last_activity_date": 1570105342, "last_edit_date": 1570105342, "creation_date": 1570053090, "answer_id": 58209822, "question_id": 58209625, "link": "https://stackoverflow.com/questions/58209625/how-to-make-the-first-or-last-letter-of-every-word-in-a-string-lowercase/58209822#58209822", "title": "How to make the first or last letter of every word in a string lowercase", "body": "<p>You can use these extensions methods to put in a static class called for example <code>StringHelper</code>:</p>\n\n<pre><code>    using System.Linq;\n</code></pre>\n\n<pre><code>    static public string LastLetterOfWordsToLower(this string str)\n    {\n      if ( str == null ) return null;\n      var words = str.Split(' ');\n      for ( int indexWord = 0; indexWord &lt; words.Length; indexWord++ )\n      {\n        string word = words[indexWord];\n        if ( word != \"\" )\n        {\n          for ( int indexChar = word.Length - 1; indexChar &gt;= 0; indexChar-- )\n            if ( char.IsLetter(word[indexChar]) )\n            {\n              char c = char.ToLower(word[indexChar]);\n              words[indexWord] = word.Substring(0, indexChar) + c;\n              if ( indexChar != word.Length - 1 )\n                words[indexWord] += word.Substring(indexChar + 1);\n              break;\n            }\n        }\n      }\n      return string.Join(\" \", words);\n    }\n</code></pre>\n\n<pre><code>    static public string FirstLetterOfWordsToLower(this string str)\n    {\n      if ( str == null ) return null;\n      var words = str.Split(' ');\n      for ( int indexWord = 0; indexWord &lt; words.Length; indexWord++ )\n      {\n        string word = words[indexWord];\n        if ( word != \"\" )\n        {\n          for ( int indexChar = 0; indexChar &lt; word.Length; indexChar++ )\n            if ( char.IsLetter(word[indexChar]) )\n            {\n              char c = char.ToLower(word[indexChar]);\n              words[indexWord] = c + word.Substring(indexChar + 1);\n              if ( indexChar != 0 )\n                words[indexWord] = word.Substring(0, indexChar) + words[indexWord];\n              break;\n            }\n        }\n      }\n      return string.Join(\" \", words);\n    }\n</code></pre>\n\n<p>The test:</p>\n\n<pre><code>    static public void StringHelperTest()\n    {\n      string[] list =\n      {\n        null,\n        \"\",\n        \"A\",\n        \"TEST\",\n        \"A TEST STRING,  FOR STACK OVERFLOW!!\"\n      };\n      foreach ( string str in list )\n        Console.WriteLine(str.LastLetterOfWordsToLower());\n      foreach ( string str in list )\n        Console.WriteLine(str.FirstLetterOfWordsToLower());\n    }\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>\n\na\nTESt\nA TESt STRINg,  FOr STACk OVERFLOw!!\n\n\na\ntEST\na tEST sTRING,  fOR sTACK oVERFLOW!!\n</code></pre>\n\n<p>StringBuilder can be used for performance issues.</p>\n"}, {"comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1570054099, "post_id": 58209829, "comment_id": 102797482, "body": "This only transforms the first or last character in the entire string, not of each word."}, {"owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1570145999, "post_id": 58209829, "comment_id": 102831080, "body": "Yes you are right have not read carefully enough I have corrected my answer."}], "tags": [], "owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "is_accepted": false, "score": -1, "last_activity_date": 1570145956, "last_edit_date": 1570145956, "creation_date": 1570053123, "answer_id": 58209829, "question_id": 58209625, "link": "https://stackoverflow.com/questions/58209625/how-to-make-the-first-or-last-letter-of-every-word-in-a-string-lowercase/58209829#58209829", "title": "How to make the first or last letter of every word in a string lowercase", "body": "<p>There are many ways to do this. I suggest you use the <code>ToCharArray</code> method to get an array of characters. Then you can loop trough the characters and determine which ones are at the first and last characters of words and change the case of the letters. This way you do only one pass and do not do any string building or concatenation.</p>\n\n<p>Here are sample methods that cover both scenarios and a combined one where you set the first and last characters to lower. For upper case you just replace the <code>ToLower</code> call with a call to <code>ToUpper</code>.</p>\n\n<pre><code>private static string FirstLetterOfWordToLowercase(string stringToTransform)\n{\n   char[] stringCharacters = stringToTransform.ToCharArray();\n   for (int charIndex = 0; charIndex &lt; stringCharacters.Length; charIndex++)\n   {\n      char currentCharacter = stringCharacters[charIndex];\n      if (!isWordSepparator(currentCharacter))\n      {\n         if (charIndex == 0 || (charIndex &gt; 0 &amp;&amp; isWordSepparator(stringCharacters[charIndex - 1])))\n         {\n            stringCharacters[charIndex] = char.ToLower(currentCharacter);\n         }\n      }\n   }\n   return new string(stringCharacters);\n}\n\nprivate static string LastLetterOfWordToLowercase(string stringToTransform)\n{\n   char[] stringCharacters = stringToTransform.ToCharArray();\n   for (int charIndex = 0; charIndex &lt; stringCharacters.Length; charIndex++)\n   {\n      char currentCharacter = stringCharacters[charIndex];\n      if (!isWordSepparator(currentCharacter))\n      {\n         if (charIndex == stringCharacters.Length - 1 || isWordSepparator(stringCharacters[charIndex + 1]))\n         {\n            stringCharacters[charIndex] = char.ToLower(currentCharacter);\n         }\n      }\n   }\n   return new string(stringCharacters);\n}\n\nprivate static string FirstAndLastLetterOfWordToLowercase(string stringToTransform)\n{\n   char[] stringCharacters = stringToTransform.ToCharArray();\n   for (int charIndex = 0; charIndex &lt; stringCharacters.Length; charIndex++)\n   {\n      char currentCharacter = stringCharacters[charIndex];\n      if (!isWordSepparator(currentCharacter))\n      {\n         if (charIndex == 0 || charIndex == stringCharacters.Length - 1 // is first or last character\n            || (charIndex &gt; 0 &amp;&amp; isWordSepparator(stringCharacters[charIndex - 1])) // previous character was a word separator\n            || isWordSepparator(stringCharacters[charIndex + 1])) // next character is a word separator\n         {\n            stringCharacters[charIndex] = char.ToLower(currentCharacter);\n         }\n      }\n   }\n   return new string(stringCharacters);\n}\n\nprivate static bool isWordSepparator(char character)\n{\n   return char.IsPunctuation(character) || char.IsSeparator(character);\n}\n</code></pre>\n\n<p>Here is also a link to the <a href=\"https://dotnetfiddle.net/evtU8y\" rel=\"nofollow noreferrer\">.NET Fiddle</a> where you can see it working.</p>\n"}], "owner": {"reputation": 31, "user_id": 8474371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59eb120afacdfc64061e606c87c3778c?s=128&d=identicon&r=PG&f=1", "display_name": "AnthonyAbdo", "link": "https://stackoverflow.com/users/8474371/anthonyabdo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 1, "closed_date": 1570055247, "answer_count": 2, "score": -1, "last_activity_date": 1570145956, "creation_date": 1570051783, "last_edit_date": 1570087249, "question_id": 58209625, "link": "https://stackoverflow.com/questions/58209625/how-to-make-the-first-or-last-letter-of-every-word-in-a-string-lowercase", "closed_reason": "Needs more focus", "title": "How to make the first or last letter of every word in a string lowercase", "body": "<p>Suppose we are passing a string that has several words. </p>\n\n<p>Would there be a way to make the first or last letter of each word in the string to be lowercase or uppercase?</p>\n\n<p>I tried the text info class but it only offers a capitalization method for every first character. </p>\n\n<p>I can't really think of how it go about hard coding my own method.</p>\n"}, {"tags": ["c#", "json.net", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 2, "creation_date": 1570051845, "post_id": 58209617, "comment_id": 102796917, "body": "You&#39;ll need to post a sample of the JSON that you actually receive, it&#39;s likely you just need to change the model but we can&#39;t know without seeing the JSON string."}, {"owner": {"reputation": 13, "user_id": 8950919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e56488ab54947e2a786c2ce2a7c6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Nard Swolfs", "link": "https://stackoverflow.com/users/8950919/nard-swolfs"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1570093958, "post_id": 58209617, "comment_id": 102807973, "body": "I edited it, added an example json string"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8950919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e56488ab54947e2a786c2ce2a7c6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Nard Swolfs", "link": "https://stackoverflow.com/users/8950919/nard-swolfs"}, "edited": false, "score": 1, "creation_date": 1570092336, "post_id": 58209900, "comment_id": 102807097, "body": "I tried that, it&#39;s in comments, doesn&#39;t deserialize everything, eiter"}], "tags": [], "owner": {"reputation": 1, "user_id": 8981717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5wK6j.jpg?s=128&g=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/8981717/hamid"}, "is_accepted": false, "score": 0, "last_activity_date": 1570053630, "creation_date": 1570053630, "answer_id": 58209900, "question_id": 58209617, "link": "https://stackoverflow.com/questions/58209617/deserializing-api-call-to-object-doesnt-work-on-list/58209900#58209900", "title": "Deserializing API call to object doesn&#39;t work on List", "body": "<p>the returned JSON into a Response:</p>\n\n<pre><code>var json = await httpResponse.Content.ReadAsStringAsync();\nresponse= JsonConvert.DeserializeObject&lt;Response&gt;(json);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8950919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e56488ab54947e2a786c2ce2a7c6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Nard Swolfs", "link": "https://stackoverflow.com/users/8950919/nard-swolfs"}, "edited": false, "score": 0, "creation_date": 1570114138, "post_id": 58220883, "comment_id": 102818984, "body": "Thank you! Solved it by adding the JsonProperty lines and now it fully works. I just thought the name didn&#39;t matter, whoopsie."}, {"owner": {"reputation": 1968, "user_id": 2854993, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/903782651787352046ec13f62893eeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris B", "link": "https://stackoverflow.com/users/2854993/chris-b"}, "reply_to_user": {"reputation": 13, "user_id": 8950919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e56488ab54947e2a786c2ce2a7c6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Nard Swolfs", "link": "https://stackoverflow.com/users/8950919/nard-swolfs"}, "edited": false, "score": 0, "creation_date": 1570116723, "post_id": 58220883, "comment_id": 102820348, "body": "No worries! The property names need to map to the JSON property names like for like in some way. Please may you accept my answer :)"}], "tags": [], "owner": {"reputation": 1968, "user_id": 2854993, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/903782651787352046ec13f62893eeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris B", "link": "https://stackoverflow.com/users/2854993/chris-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1570111894, "last_edit_date": 1570111894, "creation_date": 1570111558, "answer_id": 58220883, "question_id": 58209617, "link": "https://stackoverflow.com/questions/58209617/deserializing-api-call-to-object-doesnt-work-on-list/58220883#58220883", "title": "Deserializing API call to object doesn&#39;t work on List", "body": "<p>Your <code>Response</code> class is slightly wrong. It does not match the JSON you posted.</p>\n\n<pre><code>public List&lt;TriviaQuestion&gt; Questions { get; set; }\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>public List&lt;TriviaQuestion&gt; Results { get; set; }\n</code></pre>\n\n<p>Additionally, as your JSON has snake casing, to capture the <code>response_code</code>, <code>correct_answer</code> and <code>incorrect_answers</code> values you will need to either decorate your class properties with <code>JsonProperty</code> attributes i.e. <code>[JsonProperty(PropertyName = \"incorrect_answers\")]</code> or you can use a ContractResolver:</p>\n\n<pre><code>var contractResolver = new DefaultContractResolver\n{\n    NamingStrategy = new SnakeCaseNamingStrategy()\n};\n\nvar response = JsonConvert.DeserializeObject&lt;Response&gt;(json, new JsonSerializerSettings\n{\n    ContractResolver = contractResolver\n});\n</code></pre>\n\n<p>So your full classes would be:</p>\n\n<pre><code>public class TriviaQuestion\n{\n    public string Category { get; set; }\n\n    public string Type { get; set; }\n\n    public string Difficulty { get; set; }\n\n    public string Question { get; set; }\n\n    // only need this if not using the ContractResolver\n    [JsonProperty(PropertyName = \"correct_answer\")]\n    public string CorrectAnswer { get; set; }\n\n    // only need this if not using the ContractResolver\n    [JsonProperty(PropertyName = \"incorrect_answers\")]\n    public List&lt;string&gt; IncorrectAnswers { get; set; }\n}\n\npublic class Response\n{\n    // only need this if not using the ContractResolver\n    [JsonProperty(PropertyName = \"response_code\")]  \n    public int ResponseCode { get; set; }\n\n    public List&lt;TriviaQuestion&gt; Results { get; set; }\n}\n</code></pre>\n\n<p>Then you will be able to deserialize:</p>\n\n<pre><code>var json = \"{\\r\\n    \\\"response_code\\\":0,\\r\\n    \\\"results\\\": [\\r\\n    { \\r\\n        \\\"category\\\":\\\"Entertainment: Video Games\\\",\\r\\n        \\\"type\\\":\\\"multiple\\\",\\r\\n        \\\"difficulty\\\":\\\"medium\\\",\\r\\n        \\\"question\\\":\\\"In Need for Speed: Underground, what car does Eddie drive?\\\",\\r\\n        \\\"correct_answer\\\":\\\"Nissan Skyline GT-R (R34)\\\",\\r\\n        \\\"incorrect_answers\\\": [\\r\\n            \\\"Mazda RX-7 FD3S\\\",\\r\\n            \\\"Acura Integra Type R\\\",\\r\\n            \\\"Subaru Impreza 2.5 RS\\\"\\r\\n        ]\\r\\n    }]\\r\\n}\";\n\n// if using JsonProperty attributes\nvar response = JsonConvert.DeserializeObject&lt;Response&gt;(json);\n\n// or \n\n// if using ContractResolver\nvar contractResolver = new DefaultContractResolver\n{\n    NamingStrategy = new SnakeCaseNamingStrategy()\n};\n\nvar response = JsonConvert.DeserializeObject&lt;Response&gt;(json, new JsonSerializerSettings\n{\n    ContractResolver = contractResolver\n});\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8950919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e56488ab54947e2a786c2ce2a7c6fa?s=128&d=identicon&r=PG&f=1", "display_name": "Nard Swolfs", "link": "https://stackoverflow.com/users/8950919/nard-swolfs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 58220883, "answer_count": 2, "score": 0, "last_activity_date": 1570111894, "creation_date": 1570051741, "last_edit_date": 1570094398, "question_id": 58209617, "link": "https://stackoverflow.com/questions/58209617/deserializing-api-call-to-object-doesnt-work-on-list", "title": "Deserializing API call to object doesn&#39;t work on List", "body": "<p>I am trying to call an API with HttpClient and deserialize the json to a response object. In this json, there is a list of trivia question objects. When I set the object to the deserialized object, the list stays empty.</p>\n\n<p>I've checked if HttpClient works, it does, I also tried using JsonConvert.</p>\n\n<p>These are the TriviaQuestion and Response classes:</p>\n\n<pre><code>public class TriviaQuestion\n{\n    public string Category { get; set; }\n    public string Type { get; set; }\n    public string Difficulty { get; set; }\n    public string Question { get; set; }\n    public string CorrectAnswer { get; set; }\n    public List&lt;string&gt; IncorrectAnswers { get; set; }\n\n    public override string ToString()\n    {\n        return $\"Question: {Question}\";\n    }\n}\n\npublic class Response\n{\n    public int ResponseCode { get; set; }\n    public List&lt;TriviaQuestion&gt; Questions { get; set; }\n\n    public Response()\n    {\n        Questions = new List&lt;TriviaQuestion&gt;();\n    }\n}\n</code></pre>\n\n<p>This is the code for deserializing</p>\n\n<pre><code>private static HttpClient client = new HttpClient();\nprivate static string URL = \"https://opentdb.com/api.php\";\nprivate static string urlParameters = \"?amount=1\";\n\nstatic void Main()\n{\n    RunAsync().GetAwaiter().GetResult();\n}\n\nstatic async Task RunAsync()\n{\n    client.BaseAddress = new Uri(URL);\n    client.DefaultRequestHeaders.Accept.Clear();\n    client.DefaultRequestHeaders.Accept.Add(\n       new MediaTypeWithQualityHeaderValue(\"application/json\"));\n\n    Response response = new Response();\n\n    try\n    {\n        response = await GetResponseAsync(urlParameters);\n        ShowResponse(response);\n    }\n    catch (Exception e)\n    {\n        Console.WriteLine(e.Message);\n    }\n\n    Console.ReadLine();\n}\n\nstatic async Task&lt;Response&gt; GetResponseAsync(string path)\n{\n    Response response = new Response();\n    //string responseString = \"\";\n\n    HttpResponseMessage httpResponse = await client.GetAsync(path);\n\n    if (httpResponse.IsSuccessStatusCode)\n    {\n        //responseString = httpResponse.Content.ReadAsStringAsync().Result;\n        response = await httpResponse.Content.ReadAsAsync&lt;Response&gt;();\n    }\n\n    //response = JsonConvert.DeserializeObject&lt;Response&gt;(responseString);\n    return response;\n}\n</code></pre>\n\n<p>I expect to get a list of trivia question objects, but the list stays on count = 0. If I print out the jsonString I'm getting this is the result:</p>\n\n<pre><code>{\n    \"response_code\":0,\n    \"results\": [\n    { \n        \"category\":\"Entertainment: Video Games\",\n        \"type\":\"multiple\",\n        \"difficulty\":\"medium\",\n        \"question\":\"In Need for Speed: Underground, what car does Eddie drive?\",\n        \"correct_answer\":\"Nissan Skyline GT-R (R34)\",\n        \"incorrect_answers\": [\n            \"Mazda RX-7 FD3S\",\n            \"Acura Integra Type R\",\n            \"Subaru Impreza 2.5 RS\"\n        ]\n    }]\n}\n</code></pre>\n\n<p>Thanks for helping!</p>\n"}, {"tags": ["c#", "hpc"], "comments": [{"owner": {"reputation": 1251, "user_id": 1679224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a6fda958fbe0945898daf40131408314?s=128&d=identicon&r=PG", "display_name": "Optional Option", "link": "https://stackoverflow.com/users/1679224/optional-option"}, "edited": false, "score": 0, "creation_date": 1570053867, "post_id": 58209573, "comment_id": 102797428, "body": "I just read somewhere that the latest windows 10 update broke printing. Could be just a coincidence but worth checking."}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1570057053, "post_id": 58209573, "comment_id": 102798119, "body": "Multi-thteaded printing? Why? What justification is there for not doing it one at a time? I&#39;d expect problems with this architecture."}, {"owner": {"reputation": 81, "user_id": 4892777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fac9cbf1aef1dce85fdd7a415d2863?s=128&d=identicon&r=PG&f=1", "display_name": "crwells", "link": "https://stackoverflow.com/users/4892777/crwells"}, "reply_to_user": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1570057396, "post_id": 58209573, "comment_id": 102798187, "body": "@JeremyThompson The real application prints a single document at a time. On an HPC cluster, you schedule jobs that contain tasks.  Those tasks get assigned to application servers. If one of those servers has 4 cores, it may be assign 4 tasks that run concurrently.  They may all try to print to the same printer at the same time.  The code provided is just a simple way to reproduce the issue"}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1570057779, "post_id": 58209573, "comment_id": 102798255, "body": "Ok, fair enough, have you tried to see what the hexadecimal error is in the OS header file using err.exe 0x88985006 ?"}, {"owner": {"reputation": 81, "user_id": 4892777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fac9cbf1aef1dce85fdd7a415d2863?s=128&d=identicon&r=PG&f=1", "display_name": "crwells", "link": "https://stackoverflow.com/users/4892777/crwells"}, "reply_to_user": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 1, "creation_date": 1570058230, "post_id": 58209573, "comment_id": 102798342, "body": "@JeremyThompson DWRITE_E_ALREADYREGISTERED The given interface is already registered.  I wasn&#39;t able to find anything useful"}], "owner": {"reputation": 81, "user_id": 4892777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fac9cbf1aef1dce85fdd7a415d2863?s=128&d=identicon&r=PG&f=1", "display_name": "crwells", "link": "https://stackoverflow.com/users/4892777/crwells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 706, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570051509, "creation_date": 1570051509, "question_id": 58209573, "link": "https://stackoverflow.com/questions/58209573/error-when-printing-to-microsoft-print-to-pdf-printer-at-the-same-time-from-mult", "title": "Error when printing to Microsoft Print to PDF printer at the same time from multiple threads/apps", "body": "<p>We have a console application that uses PrintDocument in C# to create a PDF using the built in \"Microsoft Print to PDF\" printer in Windows 10/Server 2016.  We use Microsoft's HPC Pack, so this application may run multiple times on the same server -- with both applications trying to print to the same printer at the same time.  Every now and then, one of the files will end up being 0 bytes in size.  I can also find a few errors in the event log.</p>\n\n<p>I have tried deleting all other printers except for Microsoft Print to PDF.  I tried setting different advanced options in the printer settings (like spooling -- so that it will wait until the last page until is spooled).  </p>\n\n<p>In our code, I am currently checking for the file size after I think it should be generated -- and if it is 0 bytes, I retry for up to 3 times.  This is working, but I was wondering if there was a better fix for it.</p>\n\n<p>I also tried to change the isolation level of the printer's driver -- but that option was disabled for that printer.</p>\n\n<p>The following code should replicate the issue.  Before running, you should open Event Viewer, and go to Applications and Services Logs --> Microsoft --> Windows --> PrintService.  Right click on the \"Operational\" log and choose to \"enable\" it.  Both the \"Admin\" log and \"Operational\" log will have entries if a failure occurs.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    static class Program\n    {\n        static void Main()\n        {\n            var tester = new PrintPdfTest();\n            tester.CleanupPrev(@\"C:\\temp\\\");\n            tester.Run(@\"C:\\temp\\\", 5);\n        }\n    }\n\n    public class PrintPdfTest\n    {\n        private EventWaitHandle m_waitHandle = new EventWaitHandle(false, EventResetMode.ManualReset);\n\n        public void CleanupPrev(string dir)\n        {\n            foreach (var file in Directory.GetFiles(dir, \"file*.pdf\"))\n                File.Delete(file);\n        }\n\n        public void Run(string dir, int nbrOfFiles)\n        {\n            var threads = new List&lt;Thread&gt;();\n\n            m_waitHandle.Reset();\n            for (int i = 0; i &lt; nbrOfFiles; i++)\n            {\n                var fileName = Path.Combine(dir, $\"file{i}.pdf\");\n                var t = new Thread(ThreadMethod);\n\n                threads.Add(t);\n                t.Start(fileName);\n            }\n\n            // All threads created -- let them go\n            Thread.Sleep(1000);\n            m_waitHandle.Set();\n\n            foreach (var thread in threads)\n                thread.Join();\n\n            threads.Clear();\n            m_waitHandle.Dispose();\n            m_waitHandle = null;\n\n            Thread.Sleep(1000);\n            for (int i = 0; i &lt; nbrOfFiles; i++)\n            {\n                var fileName = Path.Combine(dir, $\"file{i}.pdf\");\n                if (File.Exists(fileName))\n                {\n                    var info = new FileInfo(fileName);\n                    System.Diagnostics.Debug.WriteLine($\"File {fileName} has size: {info.Length}\");\n                }\n            }\n\n        }\n\n        private void ThreadMethod(object state)\n        {\n            using (var printDoc = new PrintDocument())\n            {\n                printDoc.PrintPage += PrintDoc_PrintPage;\n                printDoc.DefaultPageSettings.Landscape = true;\n\n                var settings = printDoc.PrinterSettings;\n                settings.PrinterName = \"Microsoft Print to PDF\";\n                settings.PrintToFile = true;\n                settings.PrintFileName = (string)state;\n\n                m_waitHandle.WaitOne();\n                printDoc.Print();\n            }\n        }\n\n        private void PrintDoc_PrintPage(object sender, PrintPageEventArgs e)\n        {\n            e.Graphics.DrawString(\n                \"This is a test\",\n                new System.Drawing.Font(\"Arial\", 8),\n                System.Drawing.Brushes.Black,\n                30f, 30f);\n        }\n    }\n</code></pre>\n\n<p>After running the code, look in your C:\\Temp folder for files named \"file*.pdf\" -- if any of them are 0 bytes in size, then the issue has occurred. </p>\n\n<p>When the issue occurs, these are these types of events in the log file:</p>\n\n<p>Event ID: 824\nTask Category: Executing print filters in the spooler pipeline\nLevel: Error\nA fatal error occurred while printing job document, id 6 on the print queue Microsoft Print to PDF. The print filter pipeline process was terminated. Error information: 0x88985006.</p>\n\n<p>Event ID: 842\nTask Category: Isolating printer drivers and other plug-ins\nLevel: Information\nThe print job 6 was sent through the print processor MS_XPS_PROC on printer Microsoft Print to PDF, driver Microsoft Print To PDF, in the isolation mode 0 (0 - loaded in the spooler, 1 - loaded in shared sandbox, 2 - loaded in isolated sandbox). Win32 error code returned by the print processor: 0x88985006.</p>\n\n<p>The document Print Document, owned by {username}, failed to print on printer Microsoft Print to PDF. Try to print the document again, or restart the print spooler. \nData type: RAW. Size of the spool file in bytes: 80201. Number of bytes printed: 80201. Total number of pages in the document: 1. Number of pages printed: 0. Client computer: \\computername. Win32 error code returned by the print processor: 2291683334. The given interface is already registered.</p>\n"}, {"tags": ["c#", "nginx", "asp.net-core"], "owner": {"reputation": 11, "user_id": 12156096, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBdR1LG0eoQeGvVpIRovaZl8QFzL3acdOzsNWg_rQ=k-s128", "display_name": "Scott Rassbach", "link": "https://stackoverflow.com/users/12156096/scott-rassbach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570051418, "creation_date": 1570051418, "question_id": 58209551, "link": "https://stackoverflow.com/questions/58209551/asp-net-core-3-0-identity-not-working-on-ubuntu-19-04", "title": "ASP.NET CORE 3.0 Identity not working on Ubuntu 19.04", "body": "<p>I am working with the Identity set on an ASP.NET Core 3.0 application, deployed to Ubuntu 19.04.</p>\n\n<p>The Identity areas don't seem to be working correctly. When I navigate to it, it gives me a 'not found' from Nginx. I am trying to figure what I need to change to get Nginx to allow the Identity area (and other areas) through the reverse proxy. When I curl localhost:5000/Identity/Account/Register, I receive HTML.</p>\n\n<p>Nginx setup:</p>\n\n<pre><code>server {\n    listen 80 default_server;\n    listen [::]:80 default_server;\n\n    root /var/www/jl3/linux-x64/publish/;\n\n    # Add index.php to the list if you are using PHP\n    index index.html index.htm index.nginx-debian.html;\n\n    server_name _;\n\n    location / {\n\n\n        proxy_pass http://localhost:5000;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection keep-alive;\n        proxy_set_header Host $host;\n        proxy_cache_bypass $http_upgrade;\n\n        # First attempt to serve request as file, then\n        # as directory, then fall back to displaying a 404.\n        try_files $uri $uri/ =404;\n    }\n    location /css/ {\n        root /var/www/jl3/linux-x64/publish/wwwroot;\n    }\n    location /images/ {\n        root /var/www/jl3/linux-x64/publish/wwwroot;\n    }\n    location /js/ {\n        root /var/www/jl3/linux-x64/publish/wwwroot;\n    }\n    location /lib/ {\n        root /var/www/jl3/linux-x64/publish/wwwroot;\n    }\n\n}\n</code></pre>\n\n<p>Am I missing a location reference, or is my root command incorrect? The main (not Identity) page works fine, but for a few other pages, I had to include Hrefs instead of using asp-controller and asp-action helper tags.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570051246, "post_id": 58209487, "comment_id": 102796745, "body": "I would still use a List but when passing to other libraries use v.ToArray()"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 7, "creation_date": 1570051399, "post_id": 58209487, "comment_id": 102796801, "body": "This is almost always the wrong thing to do in C#. It sounds like you are asking an &quot;XY&quot; question. That is a question where you have some wrong idea about how to solve a problem, and you&#39;re asking a question about the wrong idea instead of the real problem. What&#39;s the real problem?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1570053699, "post_id": 58209487, "comment_id": 102797387, "body": "&quot;Pointer to integer local variable&quot; would be pair of delegates like <code>var changer = new { get = (Func&lt;int&gt; )(()=&gt;a),  set = (Action&lt;int&gt;)(newValue =&gt; a = newValue) }; changer.set(10);</code>... but as @EricLippert said you likely have much better solution to your actual problem."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1570053772, "post_id": 58209487, "comment_id": 102797405, "body": "@AlexeiLevenkov: Right, see <a href=\"https://stackoverflow.com/questions/4900383/c-array-of-references-pointers-to-a-number-of-integers/4900470#4900470\" title=\"c array of references pointers to a number of integers\">stackoverflow.com/questions/4900383/&hellip;</a> for a discussion of this technique."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12156106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sePvsWSs6lY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNeAQb54r7L5zbY4nBxfSFN8aNNg/photo.jpg?sz=128", "display_name": "Iinesra Vorevorats", "link": "https://stackoverflow.com/users/12156106/iinesra-vorevorats"}, "edited": false, "score": 0, "creation_date": 1570052003, "post_id": 58209601, "comment_id": 102796966, "body": "Thanks, I close this question and ask an origin question"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1570053239, "post_id": 58209601, "comment_id": 102797284, "body": "I think you&#39;ve mixed order of words &quot;code in C#&quot; shouldn&#39;t it be &quot;C# in code&quot; :)"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 6, "last_activity_date": 1570051685, "creation_date": 1570051685, "answer_id": 58209601, "question_id": 58209487, "link": "https://stackoverflow.com/questions/58209487/how-to-create-a-dynamic-array-of-int-pointers-in-c/58209601#58209601", "title": "How to create a dynamic array of int pointers in c#?", "body": "<p>First off let me say very clearly: <strong>solving problems in C# using the same low-level pointer techniques as you would in C++ is almost always the wrong thing to do</strong>.  There is usually a higher-level, safer technique you can use.  What you're doing here is called an \"XY question\" -- you have a wrong idea about how to solve a problem, and you're asking a question about the wrong idea, instead of asking how to solve the real problem; please edit the question to say what the real problem is.</p>\n\n<p>To answer your question that was asked: to make a \"dynamic array\" of pointers in C# you must make a <code>List&lt;IntPtr&gt;</code> which is a list of \"integers that are the same size as a pointer\".  <strong>Do not fall into the trap of believing that <code>IntPtr</code> means pointer to integer</strong>.  An <code>IntPtr</code> is an <em>integer that is the same size as a pointer</em>. </p>\n\n<p>You can then convert your <code>int*</code>s to <code>IntPtr</code> and store them in the list, and then convert them back again when you're done, but again, <em>this is almost always the wrong thing to do</em>, and if you do so then you are responsible for understanding <strong>everything</strong> about the .NET memory management system and how it works, because <strong>you are turning off the safety system that protects memory integrity</strong>. </p>\n\n<p>Do you believe that you understand <strong>everything</strong> about how memory management works in C#? If not, then <strong>do not use pointer types in C#</strong>.  I have been developing code in C# since 2001 and I have never used pointer types for anything in production code. You don't need them, and if you think you need them, you're probably doing something wrong.</p>\n"}, {"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 0, "last_activity_date": 1570052417, "last_edit_date": 1570052417, "creation_date": 1570052106, "answer_id": 58209687, "question_id": 58209487, "link": "https://stackoverflow.com/questions/58209487/how-to-create-a-dynamic-array-of-int-pointers-in-c/58209687#58209687", "title": "How to create a dynamic array of int pointers in c#?", "body": "<p>You can solve the lack of having a pointer to a value type by creating a wrapper to the value like that:</p>\n\n<pre><code>static void Test()\n{\n  var v = new List&lt;EmbeddedInt&gt;();\n  var a = new EmbeddedInt(2);\n  v.Add(a);\n  v[0].Value = 4;\n  Console.WriteLine(a);  // Display 4\n}\n\npublic class EmbeddedInt\n{\n  public int Value { get; set; }\n  public override string ToString()\n  {\n    return Value.ToString();\n  }\n  public EmbeddedInt(int value)\n  {\n    Value = value;\n  }\n}\n</code></pre>\n\n<p>This is a simple example here.</p>\n\n<p>To be able to compute on the value without using <code>a + 2</code> instead of <code>a.Value + 2</code> you may implement some methods like operators.</p>\n\n<p>The only thing you can't do is overloading the assignment operator...</p>\n\n<p>Take a look at this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/58189427/define-assigment-operator-that-change-the-value-of-some-this-in-c-sharp/58189654#58189654\">Define assigment operator that change the value of some &quot;this&quot; in C#</a></p>\n"}], "owner": {"reputation": 21, "user_id": 12156106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sePvsWSs6lY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdNeAQb54r7L5zbY4nBxfSFN8aNNg/photo.jpg?sz=128", "display_name": "Iinesra Vorevorats", "link": "https://stackoverflow.com/users/12156106/iinesra-vorevorats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 58209601, "answer_count": 2, "score": -1, "last_activity_date": 1570052417, "creation_date": 1570051035, "last_edit_date": 1570051509, "question_id": 58209487, "link": "https://stackoverflow.com/questions/58209487/how-to-create-a-dynamic-array-of-int-pointers-in-c", "title": "How to create a dynamic array of int pointers in c#?", "body": "<p>I want something like <code>std::vector&lt;int*&gt; v</code> from C++, but in C#.</p>\n\n<p>I tried <code>List&lt;int*&gt; v</code>, but the compiler said that</p>\n\n<blockquote>\n  <p>CS0306  C# The type may not be used as a type argument</p>\n</blockquote>\n\n<p>I want to put <code>int</code> variables and change it through the array something like that in C++</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>std::vector&lt;int*&gt; v;\nint a = 2;\nv.push_back(&amp;a);\nv[0] = 4; // (a == 4) true\n</code></pre>\n"}, {"tags": ["c#", ".net"], "answers": [{"comments": [{"owner": {"reputation": 16050, "user_id": 2581562, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/u0aMo.gif?s=128&g=1", "display_name": "Legends", "link": "https://stackoverflow.com/users/2581562/legends"}, "edited": false, "score": 0, "creation_date": 1570050632, "post_id": 58209233, "comment_id": 102796542, "body": "First stopwatch: 0.7ms,  Second stopwatch: 3,5 seconds. File-Count is currently 0, so nothing to work on... But the second <code>Directory.EnumerateFiles</code> has to search a deeper sub-directory tree, I guess that&#39;s the problem here then, cause both <code>EnumerateFiles</code> return <code>0</code>."}, {"owner": {"reputation": 1158, "user_id": 10608418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4861e2b8636bdcf93e1fa16e9ffa87?s=128&d=identicon&r=PG&f=1", "display_name": "Knoop", "link": "https://stackoverflow.com/users/10608418/knoop"}, "edited": false, "score": 0, "creation_date": 1570700836, "post_id": 58209233, "comment_id": 102999256, "body": "Don&#39;t we need <code>stopwatch.Restart()</code> instead of <code>Reset()</code>?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 1158, "user_id": 10608418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4861e2b8636bdcf93e1fa16e9ffa87?s=128&d=identicon&r=PG&f=1", "display_name": "Knoop", "link": "https://stackoverflow.com/users/10608418/knoop"}, "edited": false, "score": 0, "creation_date": 1570702459, "post_id": 58209233, "comment_id": 103000136, "body": "@Knoop: Not if it hasn&#39;t been stopped, I believe. (I don&#39;t think Reset stops it; it just sets the elapsed time to 0.)"}, {"owner": {"reputation": 1158, "user_id": 10608418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4861e2b8636bdcf93e1fa16e9ffa87?s=128&d=identicon&r=PG&f=1", "display_name": "Knoop", "link": "https://stackoverflow.com/users/10608418/knoop"}, "edited": false, "score": 0, "creation_date": 1570703662, "post_id": 58209233, "comment_id": 103000804, "body": "From the documentation &quot;Use Reset to stop any interval measurement in progress and clear the elapsed time value.&quot; (<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.stopwatch.reset?view=netcore-2.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>). If used like this <code>files2Time</code> will always be <code>0</code>(fiddle: <a href=\"https://dotnetfiddle.net/AoNNpA\" rel=\"nofollow noreferrer\">dotnetfiddle.net/AoNNpA</a>)"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 1158, "user_id": 10608418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da4861e2b8636bdcf93e1fa16e9ffa87?s=128&d=identicon&r=PG&f=1", "display_name": "Knoop", "link": "https://stackoverflow.com/users/10608418/knoop"}, "edited": false, "score": 0, "creation_date": 1570703897, "post_id": 58209233, "comment_id": 103000919, "body": "@Knoop: You&#39;re absolutely right - thanks, will fix."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 12, "last_activity_date": 1570703903, "last_edit_date": 1570703903, "creation_date": 1570049766, "answer_id": 58209233, "question_id": 58209175, "link": "https://stackoverflow.com/questions/58209175/call-to-ienumerable-count-takes-multiple-seconds/58209233#58209233", "title": "Call to IEnumerable.Count() takes multiple seconds", "body": "<blockquote>\n  <p>Is this a framework bug or what?</p>\n</blockquote>\n\n<p>It's an issue with your understanding of LINQ's deferred execution, I suspect.</p>\n\n<p><code>allReporterFiles</code> is just an <code>IEnumerable&lt;string&gt;</code>. Calling <code>Count()</code> means iterating over it - which in turn means the <code>Union</code> code iterating over <code>files1</code> and <code>files2</code>. I suspect you have an awful lot of files.</p>\n\n<p>The way to tell that is to measure how long it takes to iterate over <code>files1</code> and <code>files2</code> separately. One easy way to do that is to call <code>ToList()</code>. For example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// The use of ToList forces the result to be materialized, rather than using deferred\n// execution.\n\nvar stopwatch = Stopwatch.StartNew();\nvar files1 = Directory\n    .EnumerateFiles(dirSwReporter, swReporterFileName, SearchOption.AllDirectories)\n    .ToList();\nvar files1Time = stopwatch.Elapsed;\n\nstopwatch.Restart();\nvar files2 = Directory\n    .EnumerateFiles(dirSwReporter2, swReporterFileName, SearchOption.AllDirectories)\n    .ToList();\nvar files2Time = stopwatch.Elapsed;\n</code></pre>\n\n<p>Then log <code>files1Time</code> and <code>files2Time</code>. Now that the content is in two lists, counting the <code>Union</code> won't involve any IO. It will still need to basically create a <code>HashSet&lt;string&gt;</code> as it goes, in order to avoid returning the same value more than once, but it will be much, much quicker.</p>\n\n<p>This approach won't be any faster overall - and will use more memory - but it'll make it obvious whether most of the time is in searching in <code>dirSwReporter</code> or <code>dirSwReporter2</code>, which may be enough to help you optimize.</p>\n"}, {"comments": [{"owner": {"reputation": 16050, "user_id": 2581562, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/u0aMo.gif?s=128&g=1", "display_name": "Legends", "link": "https://stackoverflow.com/users/2581562/legends"}, "edited": false, "score": 0, "creation_date": 1570091769, "post_id": 58210101, "comment_id": 102806821, "body": "Actually a stupid question of mine, cause the second <code>EnumerateFiles</code> which takes 3.5s has to search a ton of files and folders, that&#39;s why it was slow...but sometimes it gets late ;-)"}], "tags": [], "owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "is_accepted": false, "score": 2, "last_activity_date": 1570099092, "last_edit_date": 1570099092, "creation_date": 1570055196, "answer_id": 58210101, "question_id": 58209175, "link": "https://stackoverflow.com/questions/58209175/call-to-ienumerable-count-takes-multiple-seconds/58210101#58210101", "title": "Call to IEnumerable.Count() takes multiple seconds", "body": "<p>The information about the deferred execution is buried in the Remarks sections at .NET Framework 4.7 <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.directory.enumeratefiles?view=netframework-4.7\" rel=\"nofollow noreferrer\">Directory.EnumerateFiles Method</a>'s doco.  </p>\n\n<blockquote>\n  <p>The <code>EnumerateFiles</code> and <code>GetFiles</code> methods differ as follows: When you use <code>EnumerateFiles</code>, you can start enumerating the collection of names before the whole collection is returned; when you use <code>GetFiles</code>, you must wait for the whole array of names to be returned before you can access the array. Therefore, when you are working with many files and directories, <code>EnumerateFiles</code> can be more efficient.</p>\n</blockquote>\n\n<p>The part about efficiency is obviously irrelevant for your context since you're calling <code>Count</code> on the result which requires full enumeration. </p>\n\n<hr>\n\n<p>BTW. .NET Framework 4.8 <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.directory.enumeratefiles?view=netframework-4.8\" rel=\"nofollow noreferrer\">Directory.EnumerateFiles Method</a>'s doco states:</p>\n\n<blockquote>\n  <p>The returned collection is not cached; each call to the GetEnumerator on the collection will start a new enumeration.</p>\n</blockquote>\n"}], "owner": {"reputation": 16050, "user_id": 2581562, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/u0aMo.gif?s=128&g=1", "display_name": "Legends", "link": "https://stackoverflow.com/users/2581562/legends"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 58209233, "answer_count": 2, "score": 5, "last_activity_date": 1570703903, "creation_date": 1570049442, "last_edit_date": 1570379449, "question_id": 58209175, "link": "https://stackoverflow.com/questions/58209175/call-to-ienumerable-count-takes-multiple-seconds", "title": "Call to IEnumerable.Count() takes multiple seconds", "body": "<p>I have created a little windows service which should delete all occurrences of a certain file name in certain folders.\nAll this code runs in the <code>elapsed-handler</code> of the timer (intervall=10s).</p>\n\n<p>When the service is running I can recognize a CPU increase up to 20% used by that service, so I examined my code, put some trace commands in it and found out that executing the handler took about 3-4 seconds for nothing.</p>\n\n<p>I narrowed it down to the following piece of code: <code>allReporterFiles.Count()</code>.\nIt's calling the method <code>Count()</code> of this <code>IEnumerable</code> and this call takes 3-4 seconds.</p>\n\n<p>My project is setup for .NET 4.7.2. Is this a framework bug or what?</p>\n\n<pre><code> var files1 = Directory.EnumerateFiles(dirSwReporter, swReporterFileName, SearchOption.AllDirectories);\n var files2 = Directory.EnumerateFiles(dirSwReporter2, swReporterFileName, SearchOption.AllDirectories);\n\n var allReporterFiles = files1.Union(files2);\n\n var sw = Stopwatch.StartNew();\n    var fileCount = allReporterFiles.Count(); // &lt;--- takes ~3.5 seconds\n sw.Stop();\n\n Trace.WriteLine($\"KillChromeSoftwareReporterTool completed in: {sw.Elapsed.TotalMilliseconds}ms or  {sw.Elapsed.TotalSeconds}sec\");\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1570049856, "post_id": 58209130, "comment_id": 102796296, "body": "If you only add a control and want to show it, why not use a Panel and <code>panel.ScrollControlIntoView(control)</code> after adding the new <code>control</code> to the <code>Controls</code> of the panel ? Therefore if you want to create a user control for that, you can just inherit from Panel."}, {"owner": {"reputation": 8216, "user_id": 311343, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d966ec61fcaf459d0a057828f285694c?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/311343/tim"}, "reply_to_user": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 0, "creation_date": 1570050118, "post_id": 58209130, "comment_id": 102796385, "body": "I am adding dozens of composite user controls to the container.  Can Panel stack multiple controls vertically?"}, {"owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "edited": false, "score": 1, "creation_date": 1570050872, "post_id": 58209130, "comment_id": 102796626, "body": "Yes, no problem, but check that and you&#39;ll know. Panel is a ScrollableControl. I done that and there is no problem with up to more than ~500 controls having one label and one textbox with context menu, in addition to 50 labels, which makes a total of nearly 1000 controls. It lags a little (2-3s) on the creation process but not when having only a total of 200 for example. And after creation, there is no problem at all with the scrollbars. When I have a total of 2000 controls, it takes 7s to generate them and after the panel is fine. I don&#39;t think you will get better using a ScrollableControl."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1570051931, "post_id": 58209130, "comment_id": 102796938, "body": "A FlowLayoutPanel can do this already."}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 1, "creation_date": 1570070167, "post_id": 58209130, "comment_id": 102800450, "body": "See the example for the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.layout.layoutengine?view=netframework-4.8\" rel=\"nofollow noreferrer\">LayoutEngine Class</a> to learn how to control the layout of the contained controls."}, {"owner": {"reputation": 8216, "user_id": 311343, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d966ec61fcaf459d0a057828f285694c?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/311343/tim"}, "reply_to_user": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 0, "creation_date": 1570132130, "post_id": 58209130, "comment_id": 102826945, "body": "@TnTinMn: Thank you for that link."}], "owner": {"reputation": 8216, "user_id": 311343, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d966ec61fcaf459d0a057828f285694c?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/311343/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570050200, "creation_date": 1570049198, "last_edit_date": 1570050200, "question_id": 58209130, "link": "https://stackoverflow.com/questions/58209130/please-give-basic-example-of-class-that-derives-from-scrollablecontrol-and-imple", "title": "Please give basic example of class that derives from ScrollableControl and implements IContainerControl", "body": "<p>I am trying to make a container that will scroll into view a control that has been appended to the container's <code>Controls</code> collection.  I am starting with the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.containercontrol?view=netframework-4.8\" rel=\"nofollow noreferrer\">ContainerControl class</a> and following <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.containercontrol.-ctor?view=netframework-4.8#System_Windows_Forms_ContainerControl__ctor\" rel=\"nofollow noreferrer\">this example</a>.</p>\n\n<p>I've implemented the <code>ActivateControl</code> method and the <code>ActiveControl</code> property as required by the <code>IContainerControl</code> interface.</p>\n\n<p>I have added controls to the container's Controls collection; there are no errors, but nothing is visible on the screen.</p>\n\n<p>I'm instantiating the container like this:</p>\n\n<pre><code>    MyContainer container1 = new MyContainer();\n    MyContainer.Name = \"container1\";\n</code></pre>\n\n<p>Here's the class declaration:</p>\n\n<pre><code>  public class MyContainer : ScrollableControl, IContainerControl\n  {  \n        public MyContainer() { }\n  }\n</code></pre>\n\n<p>EDIT: I've gotten the control to be visible by enabling the vertical scroll-bar, but although I've added a dozen controls (composite user controls) to the Controls collection, only one is visible. Do their physical positions need to be specified?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", ".net-core", "razor-pages"], "comments": [{"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 0, "creation_date": 1570080637, "post_id": 58209128, "comment_id": 102802331, "body": "&quot;I dont want to have to implement the same OnPost functionality&quot;: You don&#39;t have to. One <code>OnPost</code> method should work for all the places where you add the view component."}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 0, "creation_date": 1570080894, "post_id": 58209128, "comment_id": 102802408, "body": "If you mean to use one <code>OnPost</code> across different Apps, consider creating a Razor Component Library instead."}, {"owner": {"reputation": 23, "user_id": 12155983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA_VPw9e-Dlz42nPp9clKjgFXmWTeB9U2vmHrhq=k-s128", "display_name": "Mike", "link": "https://stackoverflow.com/users/12155983/mike"}, "reply_to_user": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 0, "creation_date": 1570106586, "post_id": 58209128, "comment_id": 102814602, "body": "I am using .net core Razor pages. So if I embed the ViewComponent on my &quot;index&quot; page and also my &quot;about us&quot; page....Where would the post event code be located? Would it be in the ViewComponent class? The Index pagemodel class, or the about us pagemodel class. It appears that ViewComponent can not handle http requests."}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 1, "creation_date": 1570151388, "post_id": 58209128, "comment_id": 102832114, "body": "1. The <code>OnPost</code> handler should be put in a <b>Razor Page</b> or a <b>Controller Action</b>. You can never put in into a <code>ViewComponent</code> class. <code>ViewComponent</code> is designed to deal with view instead of dealing HTTP Requests. 2. My best guess is: you want a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/blazor/class-libraries?view=aspnetcore-3.0&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">RCL</a>. Just put your controller/pages and your ViewComponent into a separated RCL project, and reference that project so that you don&#39;t need create OnPost event handler code anymore."}], "owner": {"reputation": 23, "user_id": 12155983, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA_VPw9e-Dlz42nPp9clKjgFXmWTeB9U2vmHrhq=k-s128", "display_name": "Mike", "link": "https://stackoverflow.com/users/12155983/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570049170, "creation_date": 1570049170, "question_id": 58209128, "link": "https://stackoverflow.com/questions/58209128/how-should-i-implement-a-reusable-component-on-a-net-core-razor-pages-app-that", "title": "How should I implement a reusable component on a .net Core Razor pages app that can handle a form submit?", "body": "<p>I'm trying to implement a ViewComponent that includes a form with a submit button. Upon clicking the button, the form is submitted and a record is added to the database along with returning a success message. This is all done asynchronously so I simply return a status to the current razor page being viewed.</p>\n\n<p>I want to embed this form/functionality across many pages in my application so that is why im looking at a ViewComponent. I dont want to have to implement the same OnPost functionality for every Razor Page that I add this form to.</p>\n\n<p>If that makes any sense?</p>\n\n<p>Here's how I show the form on a razor page.</p>\n\n<pre><code>@await Component.InvokeAsync(\"QuoteForm\", new Models.Quote())\n</code></pre>\n\n<p>Here's my simple invoke method.</p>\n\n<pre><code>//Show a ViewComponent with form\npublic IViewComponentResult Invoke()\n{\n   Quote quote = new Quote();\n\n   //Return View with ViewModel from below.\n   return View(\"QuoteFormView\", quote);\n}\n</code></pre>\n\n<p>Can I do something like this with a ViewComponent?</p>\n\n<pre><code>public async Task&lt;IViewComponentResult&gt; OnPostAsync(Quote quote)\n{\n    //Model did not pass validation.\n    if (!ModelState.IsValid)\n    {\n        //Do Something\n    }\n    else \n    {\n        //Do database work and send email\n\n        //return status to view.\n        return Content(\"Database updated and Email Sent.\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "system.io.file", "lumenworks"], "comments": [{"owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "edited": false, "score": 0, "creation_date": 1570049454, "post_id": 58209085, "comment_id": 102796157, "body": "Are you telling me when you open this csv file you&#39;re seeing multiple worksheets/tabs in excel? That would surprise me. As far as I&#39;m aware, no csv standard would support <a href=\"https://stackoverflow.com/questions/29615196/is-csv-with-multi-tabs-sheet-possible\">multiple tabs in excel</a>"}, {"owner": {"reputation": 31, "user_id": 12053724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51d5ed90bc5b6b9beeda15ab86847d2?s=128&d=identicon&r=PG&f=1", "display_name": "nickreps", "link": "https://stackoverflow.com/users/12053724/nickreps"}, "reply_to_user": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "edited": false, "score": 0, "creation_date": 1570049746, "post_id": 58209085, "comment_id": 102796259, "body": "Currently there are two tabs at the bottom of the worksheet. The code above imports the specified data from the first worksheet. Ideally, I would like to somehow point it to a different worksheet within the same excel file."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 1, "creation_date": 1570050122, "post_id": 58209085, "comment_id": 102796386, "body": "this code is reading a .csv file.  You&#39;d want NPOI or something similar to read from Excel sheets.  I use &quot;Excel Data Reader&quot; in C#, then do something like this:   IExcelDataReader excelReader = ExcelReaderFactory.CreateBinaryReader(stream);                                DataSet result = excelReader.AsDataSet();  The result will have result.Tables for the worksheets.  So if result.Tables.Count&gt;1, you have more than one sheet."}, {"owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "edited": false, "score": 0, "creation_date": 1570050132, "post_id": 58209085, "comment_id": 102796391, "body": "You&#39;ll have to forgive my ignorant skepticism here.. So let me just double check. When you open your <i>csv</i> file in Excel, it shows two worksheets? This is inconsistent with my understanding of csv file formats. What does your csv file look like? How would it conceivably notate the difference between different sheets."}, {"owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "reply_to_user": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1570050245, "post_id": 58209085, "comment_id": 102796431, "body": "Where you&#39;d end up getting is something like @pcalkins answer; you need an Excel reader to read data with multiple worksheets. But I think there&#39;s a disconnect in the excel file you&#39;re opening, and the csv file you&#39;re reading that needs to be addressed"}, {"owner": {"reputation": 31, "user_id": 12053724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51d5ed90bc5b6b9beeda15ab86847d2?s=128&d=identicon&r=PG&f=1", "display_name": "nickreps", "link": "https://stackoverflow.com/users/12053724/nickreps"}, "reply_to_user": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "edited": false, "score": 0, "creation_date": 1570050628, "post_id": 58209085, "comment_id": 102796541, "body": "@chill94 I believe you are correct. Although there are multiple tabs in my csv file, it can only read from the first one. I think I am going to dig into pcalkins answer and see what I can do with that. Thanks for all the input!"}, {"owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "edited": false, "score": 2, "creation_date": 1570051494, "post_id": 58209085, "comment_id": 102796827, "body": "There&#39;s still a disconnect here. <b>There cannot be multiple tabs in a csv file</b>."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1570052057, "post_id": 58209085, "comment_id": 102796982, "body": "CSV stand for comma separated values.  It is fundamentally a text file with data in an agreed upon format. As a text file it is unlikely to have something in it to tell Excel to create 2 sheets from the data.   CSV actually has nothing to do with Excel SpreadSheets other than Excel is commonly used app to open and read them."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12155729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e756ea5955501c033a6c86e7a5280c14?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/12155729/joel"}, "is_accepted": false, "score": 1, "last_activity_date": 1570051455, "creation_date": 1570051455, "answer_id": 58209562, "question_id": 58209085, "link": "https://stackoverflow.com/questions/58209085/import-a-specific-worksheet-from-a-single-excel-csv-file/58209562#58209562", "title": "Import a specific worksheet from a single excel (CSV) file", "body": "<p>A CSV file can only contain 1 worksheet. The standard CSV file formats do not support having multiple tables in one save file.</p>\n"}], "owner": {"reputation": 31, "user_id": 12053724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51d5ed90bc5b6b9beeda15ab86847d2?s=128&d=identicon&r=PG&f=1", "display_name": "nickreps", "link": "https://stackoverflow.com/users/12053724/nickreps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "closed_date": 1570057657, "answer_count": 1, "score": -2, "last_activity_date": 1570051455, "creation_date": 1570048946, "question_id": 58209085, "link": "https://stackoverflow.com/questions/58209085/import-a-specific-worksheet-from-a-single-excel-csv-file", "closed_reason": "Needs details or clarity", "title": "Import a specific worksheet from a single excel (CSV) file", "body": "<p>I am currently using lumenworks to import data stored within an excel file to my program. It only grabs the information from the first worksheet in the excel document. Would I be able to modify this code in order to import data from a second worksheet, or even all the worksheets at once? Below is what I currently have (imports variables form the main worksheet page):</p>\n\n<pre><code>IWebDriver driver;\n    string MyUsername;\n    string MyPassword;\n    string MySecurityQuestion;\n    public LoginPage(IWebDriver driver)\n    {\n        this.driver = driver;\n\n        string nameColumnName = \"Key\";\n        string valueColumnName = \"Username\";\n        string rowName = \"LoginTest\";\n\n\n        //DataTable.Rows[0][0].ToString();\n        using (CsvReader csvReader = new CsvReader(new StreamReader(\"C:/Users/User1/source/repos/DDTesting/DDTesting/TestData.csv\"), hasHeaders: true))\n        {\n\n            int nameColumnIndex = csvReader.GetFieldIndex(nameColumnName);\n            int valueColumnIndex = csvReader.GetFieldIndex(valueColumnName);\n\n            while (csvReader.ReadNextRecord())\n            {\n                if (csvReader[nameColumnIndex] == rowName)\n                {\n                    string value = csvReader[valueColumnIndex]; // username\n\n                    MyUsername = value;\n                    value = csvReader[valueColumnIndex + 1];\n                    MyPassword = value;\n                    value = csvReader[valueColumnIndex + 2];\n                    MySecurityQuestion = value;\n                    break;\n\n                }\n            }\n        }\n    }\n\n        By username = By.Name(\"username\");\n        By password = By.Name(\"password\");\n        By loginButton = By.ClassName(\"button-primary\");\n        By securityQuestion = By.Name(\"answer\");\n\n        public void TypeUsername()\n        {\n\n            driver.FindElement(username).Clear();\n            driver.FindElement(username).SendKeys(MyUsername);\n\n\n        }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "animation"], "comments": [{"owner": {"reputation": 2032, "user_id": 5858936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpy9b.png?s=128&g=1", "display_name": "Keithernet", "link": "https://stackoverflow.com/users/5858936/keithernet"}, "edited": false, "score": 0, "creation_date": 1570124488, "post_id": 58209040, "comment_id": 102823767, "body": "Can you share how you&#39;re changing the AnimationValue in your view-model?"}, {"owner": {"reputation": 2032, "user_id": 5858936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpy9b.png?s=128&g=1", "display_name": "Keithernet", "link": "https://stackoverflow.com/users/5858936/keithernet"}, "edited": false, "score": 0, "creation_date": 1570125248, "post_id": 58209040, "comment_id": 102824101, "body": "Are you immediately setting AnimationValue to 0 in the view-model after setting it to 1 or 2? Or is there a delay before AnimationValue gets set back to 0?"}], "answers": [{"tags": [], "owner": {"reputation": 2032, "user_id": 5858936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpy9b.png?s=128&g=1", "display_name": "Keithernet", "link": "https://stackoverflow.com/users/5858936/keithernet"}, "is_accepted": false, "score": 0, "last_activity_date": 1570127437, "creation_date": 1570127437, "answer_id": 58224990, "question_id": 58209040, "link": "https://stackoverflow.com/questions/58209040/how-to-dynamically-choose-textblock-animation-type-in-wpf/58224990#58224990", "title": "How to dynamically choose TextBlock animation type in wpf?", "body": "<p>It looks like running <code>StoryBoard</code>s in triggers is a weird thing. I don't have a technical explanation as to how they behave but here is a <a href=\"https://stackoverflow.com/questions/32238792/animation-inside-datatrigger-wont-run-a-second-time\">SO question</a> where I found an answer for you.</p>\n\n<p>Here is some code based on the answer above that works:</p>\n\n<pre><code>&lt;Style&gt;\n    &lt;Style.Triggers&gt;\n        &lt;DataTrigger Binding=\"{Binding Path=AnimationValue}\" Value=\"0\"&gt;\n            &lt;DataTrigger.EnterActions&gt;\n                &lt;StopStoryboard BeginStoryboardName=\"Animation1\" /&gt;\n                &lt;StopStoryboard BeginStoryboardName=\"Animation2\" /&gt;\n                &lt;BeginStoryboard x:Name=\"Animation0\"&gt;\n                    &lt;Storyboard&gt;\n                        &lt;ColorAnimation\n                            Storyboard.TargetProperty=\"Foreground.Color\"\n                            To=\"White\"\n                            Duration=\"0:0:0.2\" /&gt;\n                    &lt;/Storyboard&gt;\n                &lt;/BeginStoryboard&gt;\n            &lt;/DataTrigger.EnterActions&gt;\n        &lt;/DataTrigger&gt;\n\n        &lt;DataTrigger Binding=\"{Binding Path=AnimationValue}\" Value=\"1\"&gt;\n            &lt;DataTrigger.EnterActions&gt;\n                &lt;StopStoryboard BeginStoryboardName=\"Animation0\" /&gt;\n                &lt;StopStoryboard BeginStoryboardName=\"Animation2\" /&gt;\n                &lt;BeginStoryboard x:Name=\"Animation1\"&gt;\n                    &lt;Storyboard&gt;\n                        &lt;ColorAnimation\n                            Storyboard.TargetProperty=\"Foreground.Color\"\n                            To=\"Gray\"\n                            Duration=\"0:0:0.2\" /&gt;\n                    &lt;/Storyboard&gt;\n                &lt;/BeginStoryboard&gt;\n            &lt;/DataTrigger.EnterActions&gt;\n        &lt;/DataTrigger&gt;\n\n        &lt;DataTrigger Binding=\"{Binding Path=AnimationValue}\" Value=\"2\"&gt;\n            &lt;DataTrigger.EnterActions&gt;\n                &lt;StopStoryboard BeginStoryboardName=\"Animation0\" /&gt;\n                &lt;StopStoryboard BeginStoryboardName=\"Animation1\" /&gt;\n                &lt;BeginStoryboard x:Name=\"Animation2\"&gt;\n                    &lt;Storyboard&gt;\n                        &lt;ColorAnimation\n                            Storyboard.TargetProperty=\"Foreground.Color\"\n                            To=\"Firebrick\"\n                            Duration=\"0:0:0.2\" /&gt;\n                    &lt;/Storyboard&gt;\n                &lt;/BeginStoryboard&gt;\n            &lt;/DataTrigger.EnterActions&gt;\n        &lt;/DataTrigger&gt;\n    &lt;/Style.Triggers&gt;\n&lt;/Style&gt;\n</code></pre>\n"}], "owner": {"reputation": 274, "user_id": 12108254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de882912df72de446c84e7f7538909ce?s=128&d=identicon&r=PG&f=1", "display_name": "Bulchsu", "link": "https://stackoverflow.com/users/12108254/bulchsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570127437, "creation_date": 1570048693, "question_id": 58209040, "link": "https://stackoverflow.com/questions/58209040/how-to-dynamically-choose-textblock-animation-type-in-wpf", "title": "How to dynamically choose TextBlock animation type in wpf?", "body": "<p>I would like to create simple animation which type is based on some value. I need to change color of text in TextBlock control, but the target color is depending on bounded variable. I've already created 2 DataTriggers and depending on a value of my bounded variable, a proper animation should start. At the beginning everything seems to work properly (AnimationValue is equal to 0 on start), when the value changes to 1, animation runs, then value returns to 0. The problem is, when the value turns to 2 (Animation with another color also runs) and then again 0, the first animation is not going to run anymore but the second one still works in a proper way. </p>\n\n<pre><code>                &lt;Border\n                    Grid.Column=\"0\"\n                    Background=\"Transparent\"&gt;\n                    &lt;TextBlock\n                        HorizontalAlignment=\"Center\"\n                        VerticalAlignment=\"Center\"\n                        FontSize=\"32\"\n                        Foreground=\"White\"\n                        Text=\"MyText\"&gt;\n                        &lt;TextBlock.Style&gt;\n                            &lt;Style&gt;\n                                &lt;Style.Triggers&gt;\n\n                                    &lt;DataTrigger Binding=\"{Binding Path=AnimationValue}\" Value=\"1\"&gt;\n                                        &lt;DataTrigger.EnterActions&gt;\n                                            &lt;BeginStoryboard&gt;\n                                                &lt;Storyboard&gt;\n                                                    &lt;ColorAnimation\n                                                        Storyboard.TargetProperty=\"Foreground.Color\"\n                                                        To=\"Gray\"\n                                                        Duration=\"0:0:0.2\" /&gt;\n                                                &lt;/Storyboard&gt;\n                                            &lt;/BeginStoryboard&gt;\n                                        &lt;/DataTrigger.EnterActions&gt;\n                                        &lt;DataTrigger.ExitActions&gt;\n                                            &lt;BeginStoryboard&gt;\n                                                &lt;Storyboard&gt;\n                                                    &lt;ColorAnimation\n                                                        Storyboard.TargetProperty=\"Foreground.Color\"\n                                                        To=\"White\"\n                                                        Duration=\"0:0:0.2\" /&gt;\n                                                &lt;/Storyboard&gt;\n                                            &lt;/BeginStoryboard&gt;\n                                        &lt;/DataTrigger.ExitActions&gt;\n                                    &lt;/DataTrigger&gt;\n\n                                    &lt;DataTrigger Binding=\"{Binding Path=AnimationValue}\" Value=\"2\"&gt;\n                                        &lt;DataTrigger.EnterActions&gt;\n                                            &lt;BeginStoryboard&gt;\n                                                &lt;Storyboard&gt;\n                                                    &lt;ColorAnimation\n                                                        Storyboard.TargetProperty=\"Foreground.Color\"\n                                                        To=\"Firebrick\"\n                                                        Duration=\"0:0:0.2\" /&gt;\n                                                &lt;/Storyboard&gt;\n                                            &lt;/BeginStoryboard&gt;\n                                        &lt;/DataTrigger.EnterActions&gt;\n                                        &lt;DataTrigger.ExitActions&gt;\n                                            &lt;BeginStoryboard&gt;\n                                                &lt;Storyboard&gt;\n                                                    &lt;ColorAnimation\n                                                        Storyboard.TargetProperty=\"Foreground.Color\"\n                                                        To=\"White\"\n                                                        Duration=\"0:0:0.2\" /&gt;\n                                                &lt;/Storyboard&gt;\n                                            &lt;/BeginStoryboard&gt;\n                                        &lt;/DataTrigger.ExitActions&gt;\n                                    &lt;/DataTrigger&gt;\n\n\n\n                                &lt;/Style.Triggers&gt;\n                            &lt;/Style&gt;\n                        &lt;/TextBlock.Style&gt;\n                    &lt;/TextBlock&gt;\n                &lt;/Border&gt;\n</code></pre>\n\n<p>There is no problem with setting a correct value - i've checked it using a debugger and everytime correct value is set. 0 is always between 1 and 2. DataContext is also not a problem - a connection between View and ViewModel is not being broken. I've noticed that broken animation is always the first one in xaml file. Now the \"Gray\" animation stops working correctly, but if i change order in xaml file, firebrick animation will be the broken one. Thanks for any help.</p>\n"}, {"tags": ["c#", "mysql", "visual-studio-code", ".net-core-3.0"], "comments": [{"owner": {"reputation": 32563, "user_id": 3728901, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/fa73df70975a858016fb2da1b2cdb820?s=128&d=identicon&r=PG&f=1", "display_name": "\u0110&#224;o Minh Thu", "link": "https://stackoverflow.com/users/3728901/%c4%90%c3%a0o-minh-thu"}, "edited": false, "score": 0, "creation_date": 1570058605, "post_id": 58208957, "comment_id": 102798426, "body": "Let&#39;s show your error!"}], "answers": [{"tags": [], "owner": {"reputation": 24091, "user_id": 23633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e781c45e7703c212bd6c4f912f67bb12?s=128&d=identicon&r=PG", "display_name": "Bradley Grainger", "link": "https://stackoverflow.com/users/23633/bradley-grainger"}, "is_accepted": false, "score": 0, "last_activity_date": 1570075761, "creation_date": 1570075761, "answer_id": 58212180, "question_id": 58208957, "link": "https://stackoverflow.com/questions/58208957/connect-to-a-mysql-database-using-ssl-certificates-in-using-c-net-core-3/58212180#58212180", "title": "Connect to a MySQL database using SSL certificates in using C# .NET Core 3", "body": "<p>There's a known bug in Oracle's Connector/NET (aka MySql.Data) when it comes to PEM handling: <a href=\"https://bugs.mysql.com/bug.php?id=95436\" rel=\"nofollow noreferrer\">bug 95436</a>.</p>\n\n<p>Try switching to <a href=\"https://mysqlconnector.net/\" rel=\"nofollow noreferrer\">MySqlConnector</a> (<a href=\"https://www.nuget.org/packages/MySqlConnector/\" rel=\"nofollow noreferrer\">NuGet</a>). It has the same API as Connector/NET, so it should be a drop-in replacement, but has better PEM file handling and better support for .NET Core.</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 11110341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d410c1f6363a6277f754ee4b23032df?s=128&d=identicon&r=PG&f=1", "display_name": "MJ9094", "link": "https://stackoverflow.com/users/11110341/mj9094"}, "is_accepted": true, "score": 0, "last_activity_date": 1570198876, "creation_date": 1570198876, "answer_id": 58238244, "question_id": 58208957, "link": "https://stackoverflow.com/questions/58208957/connect-to-a-mysql-database-using-ssl-certificates-in-using-c-net-core-3/58238244#58238244", "title": "Connect to a MySQL database using SSL certificates in using C# .NET Core 3", "body": "<p>So, I figured this out. Apparently Connector/Net does not work with .pem certificate files because of some bug. So the solution to this is that we need to convert .pem to .pfx like so:</p>\n\n<p>openssl pkcs12 -export -in client-cert.pem -inkey client-key.pem -certfile cacert.pem -out client.pfx</p>\n\n<p>This is where I got this from <a href=\"https://dev.mysql.com/doc/connector-net/en/connector-net-tutorials-ssl-pfx.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-net/en/connector-net-tutorials-ssl-pfx.html</a></p>\n"}], "owner": {"reputation": 83, "user_id": 11110341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d410c1f6363a6277f754ee4b23032df?s=128&d=identicon&r=PG&f=1", "display_name": "MJ9094", "link": "https://stackoverflow.com/users/11110341/mj9094"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 0, "accepted_answer_id": 58238244, "answer_count": 2, "score": 0, "last_activity_date": 1591077846, "creation_date": 1570048166, "last_edit_date": 1591077846, "question_id": 58208957, "link": "https://stackoverflow.com/questions/58208957/connect-to-a-mysql-database-using-ssl-certificates-in-using-c-net-core-3", "title": "Connect to a MySQL database using SSL certificates in using C# .NET Core 3", "body": "<p>I am trying to connect to a remote Mysql database using SSL. The implementation is in C# and dotnet core 3. I have written some code but it doesn't seem to be successful. Any help would be appreciated. Thank you. </p>\n\n<pre><code>using System.Data;\n\nusing MySql.Data;\nusing MySql.Data.MySqlClient;\n\npublic class Tutorial1\n{\n    public static void Main()\n    {\n        MySqlConnection connection = new MySqlConnection( \"database=your_databasename;user=your_username;\" + \"SslMode=VerifyFull;\" + \"SslCa=server-ca.pem;\" + \"SslCert=client-cert.pem;\" +\"SslKey=client-key.pem;\");\n\n        try\n        {\n            Console.WriteLine(\"Connecting to MySQL...\");\n            connection.Open();\n            // Perform database operations\n            Console.WriteLine(\"Connected to Dev DB\");\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.ToString());\n        }\n        connection.Close();\n        Console.WriteLine(\"Done.\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "asp.net-identity", "identityserver4"], "answers": [{"tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": true, "score": 27, "last_activity_date": 1570070361, "creation_date": 1570070361, "answer_id": 58211636, "question_id": 58208894, "link": "https://stackoverflow.com/questions/58208894/asp-net-core-identity-custom-apiauthorizationdbcontext/58211636#58211636", "title": "ASP .NET Core Identity custom ApiAuthorizationDbContext", "body": "<p>For custom the user and role tables with <code>ApiAuthorizationDbContext</code>, you could follow steps below:</p>\n\n<ol>\n<li>Create an Asp.Net Core Angular Template with Identity</li>\n<li><p>Add User and Role Class</p>\n\n<pre><code>public class AppUser : IdentityUser&lt;int&gt;\n{\n}\npublic class AppRole : IdentityRole&lt;int&gt;\n{\n}\n</code></pre></li>\n<li><p>Add custom <code>ApiAuthorizationDbContext</code></p>\n\n<pre><code>/// &lt;summary&gt;\n/// Database abstraction for a combined &lt;see cref=\"DbContext\"/&gt; using ASP.NET Identity and Identity Server.\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"TUser\"&gt;&lt;/typeparam&gt;\n/// &lt;typeparam name=\"TRole\"&gt;&lt;/typeparam&gt;\n/// &lt;typeparam name=\"TKey\"&gt;Key of the IdentityUser entity&lt;/typeparam&gt;\npublic class KeyApiAuthorizationDbContext&lt;TUser, TRole, TKey&gt; : IdentityDbContext&lt;TUser, TRole, TKey&gt;, IPersistedGrantDbContext\n    where TUser : IdentityUser&lt;TKey&gt;\n    where TRole : IdentityRole&lt;TKey&gt;\n    where TKey : IEquatable&lt;TKey&gt;\n{\n    private readonly IOptions&lt;OperationalStoreOptions&gt; _operationalStoreOptions;\n\n    /// &lt;summary&gt;\n    /// Initializes a new instance of &lt;see cref=\"ApiAuthorizationDbContext{TUser, TRole, TKey}\"/&gt;.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"options\"&gt;The &lt;see cref=\"DbContextOptions\"/&gt;.&lt;/param&gt;\n    /// &lt;param name=\"operationalStoreOptions\"&gt;The &lt;see cref=\"IOptions{OperationalStoreOptions}\"/&gt;.&lt;/param&gt;\n    public KeyApiAuthorizationDbContext(\n        DbContextOptions options,\n        IOptions&lt;OperationalStoreOptions&gt; operationalStoreOptions)\n        : base(options)\n    {\n        _operationalStoreOptions = operationalStoreOptions;\n    }\n\n    /// &lt;summary&gt;\n    /// Gets or sets the &lt;see cref=\"DbSet{PersistedGrant}\"/&gt;.\n    /// &lt;/summary&gt;\n    public DbSet&lt;PersistedGrant&gt; PersistedGrants { get; set; }\n\n    /// &lt;summary&gt;\n    /// Gets or sets the &lt;see cref=\"DbSet{DeviceFlowCodes}\"/&gt;.\n    /// &lt;/summary&gt;\n    public DbSet&lt;DeviceFlowCodes&gt; DeviceFlowCodes { get; set; }\n\n    Task&lt;int&gt; IPersistedGrantDbContext.SaveChangesAsync() =&gt; base.SaveChangesAsync();\n\n    /// &lt;inheritdoc /&gt;\n    protected override void OnModelCreating(ModelBuilder builder)\n    {\n        base.OnModelCreating(builder);\n        builder.ConfigurePersistedGrantContext(_operationalStoreOptions.Value);\n    }\n}\n\n/// &lt;summary&gt;\n/// Database abstraction for a combined &lt;see cref=\"DbContext\"/&gt; using ASP.NET Identity and Identity Server.\n/// &lt;/summary&gt;\n/// &lt;typeparam name=\"TUser\"&gt;&lt;/typeparam&gt;\npublic class ApiAuthorizationDbContext&lt;TUser&gt; : KeyApiAuthorizationDbContext&lt;TUser, IdentityRole, string&gt;\n    where TUser : IdentityUser\n{\n    /// &lt;summary&gt;\n    /// Initializes a new instance of &lt;see cref=\"ApiAuthorizationDbContext{TUser}\"/&gt;.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"options\"&gt;The &lt;see cref=\"DbContextOptions\"/&gt;.&lt;/param&gt;\n    /// &lt;param name=\"operationalStoreOptions\"&gt;The &lt;see cref=\"IOptions{OperationalStoreOptions}\"/&gt;.&lt;/param&gt;\n    public ApiAuthorizationDbContext(\n        DbContextOptions options,\n        IOptions&lt;OperationalStoreOptions&gt; operationalStoreOptions)\n        : base(options, operationalStoreOptions)\n    {\n    }\n}\n</code></pre></li>\n<li><p>Change <code>DbContext</code>  </p>\n\n<pre><code>public class ApplicationDbContext : KeyApiAuthorizationDbContext&lt;AppUser, AppRole, int&gt;\n{\n    public ApplicationDbContext(\n        DbContextOptions options,\n        IOptions&lt;OperationalStoreOptions&gt; operationalStoreOptions) : base(options, operationalStoreOptions)\n    {\n    }\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        base.OnModelCreating(modelBuilder);\n\n        modelBuilder.Entity&lt;AppUser&gt;(entity =&gt; { entity.ToTable(name: \"User\"); });\n        modelBuilder.Entity&lt;AppRole&gt;(entity =&gt; { entity.ToTable(name: \"Role\"); });\n    }\n}\n</code></pre></li>\n<li><p>Register user and role</p>\n\n<pre><code>services.AddDefaultIdentity&lt;AppUser&gt;()\n    .AddRoles&lt;AppRole&gt;()\n    .AddEntityFrameworkStores&lt;ApplicationDbContext&gt;();\n\nservices.AddIdentityServer()                \n    .AddApiAuthorization&lt;AppUser, ApplicationDbContext&gt;();\n</code></pre></li>\n<li><p>Delete existing <code>Migrations</code>(if database exist, you may need to delete it).</p></li>\n<li><p>Run add-migration and update-database to check the result.</p></li>\n</ol>\n\n<p>Currently, you need to custom <code>ApiAuthorizationDbContext</code>, this issue has been tracked through <a href=\"https://github.com/aspnet/AspNetCore/issues/9548\" rel=\"noreferrer\">ApiAuthorizationDbContext force TUser to extends IdentityUser instead of IdentityUser #9548</a> and <a href=\"https://github.com/aspnet/AspNetCore/pull/13064\" rel=\"noreferrer\">Add IdentityUser support to ApiAuthorizationDbContext #13064</a>. It will be some delay to get the neweast version.</p>\n"}], "owner": {"reputation": 167, "user_id": 7840135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1549d65bbbb403788cbfd9c89f4176f9?s=128&d=identicon&r=PG&f=1", "display_name": "Cem", "link": "https://stackoverflow.com/users/7840135/cem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6184, "favorite_count": 8, "accepted_answer_id": 58211636, "answer_count": 1, "score": 10, "last_activity_date": 1600281537, "creation_date": 1570047844, "last_edit_date": 1600281537, "question_id": 58208894, "link": "https://stackoverflow.com/questions/58208894/asp-net-core-identity-custom-apiauthorizationdbcontext", "title": "ASP .NET Core Identity custom ApiAuthorizationDbContext", "body": "<p>I'm working with ASP .NET Core 3.0 with Angular project. I see this new <code>ApiAuthorizationDbContext</code> and I wanted to override the table name and user id (to int) but there is no way I can do it. Does any body know a trick?</p>\n<p>This is the class for the context to override the table name but it creates <code>AspNetUser</code> and <code>User</code> table. Why doesn't it just create one as usual?</p>\n<pre><code>public class ApplicationDbContext : ApiAuthorizationDbContext&lt;AppUser&gt;\n    {\n        public ApplicationDbContext(\n            DbContextOptions options,\n            IOptions&lt;OperationalStoreOptions&gt; operationalStoreOptions) : base(options, operationalStoreOptions)\n        {\n        }\n\n        protected override void OnModelCreating(ModelBuilder modelBuilder)\n        {\n            base.OnModelCreating(modelBuilder);\n\n            modelBuilder.Entity&lt;AppUser&gt;(entity =&gt; { entity.ToTable(name: &quot;User&quot;); });\n            modelBuilder.Entity&lt;AppRole&gt;(entity =&gt; { entity.ToTable(name: &quot;Role&quot;); });\n        }\n    }\n</code></pre>\n<p>Here is my user:</p>\n<pre><code>public class AppUser : IdentityUser\n{\n}\n</code></pre>\n<p>Normaly I override the primary key with <code>AppUser&lt;int&gt;</code> but it doesn't work because of the <code>ApiAuthorizationDbContext</code>.</p>\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "azure", "azure-blob-storage"], "comments": [{"owner": {"reputation": 5729, "user_id": 440704, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1ab1501ca4956083e7b242e535c2f40?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/440704/nathan"}, "edited": false, "score": 0, "creation_date": 1570055160, "post_id": 58208882, "comment_id": 102797702, "body": "If it&#39;s only occasional, you can just add a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.storage.blob.blobrequestoptions.retrypolicy?view=azure-dotnet\" rel=\"nofollow noreferrer\">retry policy</a>"}, {"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "reply_to_user": {"reputation": 5729, "user_id": 440704, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1ab1501ca4956083e7b242e535c2f40?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/440704/nathan"}, "edited": false, "score": 0, "creation_date": 1570055725, "post_id": 58208882, "comment_id": 102797821, "body": "@Nathan When it happens, the error is present for all the following uploads."}, {"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570080688, "post_id": 58208882, "comment_id": 102802350, "body": "Could you tell me what is &quot;published app&quot;? And could you please provide me a sample of the path you use?"}, {"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "reply_to_user": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570129337, "post_id": 58208882, "comment_id": 102825828, "body": "@JimXu Published is just when I&#39;ve used the Publish-function i Visual Studio. The path is just a path on the HDD."}, {"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570369734, "post_id": 58208882, "comment_id": 102884478, "body": "@Recusiwe Is that you use Azure function to upload files to Azure storage?"}, {"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "reply_to_user": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570380181, "post_id": 58208882, "comment_id": 102887294, "body": "@JimXu I upload files directly from my application."}, {"owner": {"reputation": 813, "user_id": 1613873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399c037afa1e4d919ab796795f5c77c7?s=128&d=identicon&r=PG&f=1", "display_name": "Francois", "link": "https://stackoverflow.com/users/1613873/francois"}, "edited": false, "score": 0, "creation_date": 1570409235, "post_id": 58208882, "comment_id": 102893061, "body": "Did you enable monitoring on your storage account to see if the request failed in Azure or if it is something local.  <a href=\"https://docs.microsoft.com/en-us/azure/storage/common/storage-monitor-storage-account\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/storage/common/&hellip;</a>"}, {"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570409757, "post_id": 58208882, "comment_id": 102893112, "body": "@Recusiwe Sorry. I cannot understand. Could you tell me what is &quot;I&#39;ve used the Publish-function i Visual Studio&quot; and &quot;The path is just a path on the HDD.(Is it the path on your local computer?)&quot;? Besides, which service do you use?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1570437067, "post_id": 58208882, "comment_id": 102899448, "body": "The exception handling in the snippet is broken, turning a simple mishap into an undiagnosable error.  There are a lot of possible IOException reasons, you need to be able to see the Message property to know what exactly happened.  If you need to rethrow then be sure to use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.invalidoperationexception.-ctor?view=netframework-4.8#System_InvalidOperationException__ctor_System_String_System_Exception_\" rel=\"nofollow noreferrer\">the constructor</a> that lets you specify the InnerException so that detail doesn&#39;t get lost."}, {"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "edited": false, "score": 0, "creation_date": 1570460625, "post_id": 58208882, "comment_id": 102911292, "body": "I observed that the error only occours when i copy the files into the monitored folder, if I drag them, it works just fine?"}, {"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "reply_to_user": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570492494, "post_id": 58208882, "comment_id": 102923136, "body": "@JimXu There is a publish-function in VS, Right-click on your project -&gt; Publish. Yes, a path on the computer where the application is running. Service, what do you mean? I use the CloudBlockBlob to upload my files."}, {"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570497520, "post_id": 58208882, "comment_id": 102924006, "body": "@Recusiwe I want to know which service you use to host your application. Azure app service or Azure Function?"}, {"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "reply_to_user": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570498313, "post_id": 58208882, "comment_id": 102924135, "body": "@JimXu It&#39;s a WPF-application."}], "answers": [{"comments": [{"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "edited": false, "score": 0, "creation_date": 1570230774, "post_id": 58243810, "comment_id": 102860192, "body": "Where do you see, that it refers to a .cs file?"}], "tags": [], "owner": {"reputation": 2453, "user_id": 1853243, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ka9z.jpg?s=128&g=1", "display_name": "Sreeram Nair", "link": "https://stackoverflow.com/users/1853243/sreeram-nair"}, "is_accepted": false, "score": -1, "last_activity_date": 1570228332, "creation_date": 1570228332, "answer_id": 58243810, "question_id": 58208882, "link": "https://stackoverflow.com/questions/58208882/ioexception-when-uploading-to-blob-storage-in-published-app/58243810#58243810", "title": "IOException when uploading to Blob Storage in published app", "body": "<p>This is generally caused when there is some file missing which DotNet is referencing. I had this error and when I drill through I got to know that the <code>navigationlevel.cs</code> is missing. A piece of code in the <a href=\"http://fransbouma.github.io/DocNet/markdownextensions.htm#snippets\" rel=\"nofollow noreferrer\">snippet</a> shows the significance of the file.</p>\n\n<p>It refers to the actual source file and therefore it has to be present. When the source isn't available or elsewhere, the snippet reference of that page fails and you'll get that error (which is also why it refers to a .cs file).</p>\n\n<p>If this is not the same issue, it could be due to some other file which is missing. So, try re-installing and re-compiling it.</p>\n"}, {"comments": [{"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "edited": false, "score": 0, "creation_date": 1570906182, "post_id": 58315331, "comment_id": 103067747, "body": "I&#39;ll try your suggestion and get back. I observe that the problem occurs when I paste a count of 50 files or higher at once."}, {"owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "edited": false, "score": 0, "creation_date": 1570995224, "post_id": 58315331, "comment_id": 103084446, "body": "This worked far better, but when I paste more than 50 files to the folder, it only takes the first file and then stops."}, {"owner": {"reputation": 324, "user_id": 10416068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e5ca2fb09810a8592a877063331028?s=128&d=identicon&r=PG&f=1", "display_name": "Megabit", "link": "https://stackoverflow.com/users/10416068/megabit"}, "reply_to_user": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "edited": false, "score": 0, "creation_date": 1571272681, "post_id": 58315331, "comment_id": 103188854, "body": "Is it stopping because it is stuck in the IsFileLocked() loop or it is throwing out an exception?"}], "tags": [], "owner": {"reputation": 324, "user_id": 10416068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e5ca2fb09810a8592a877063331028?s=128&d=identicon&r=PG&f=1", "display_name": "Megabit", "link": "https://stackoverflow.com/users/10416068/megabit"}, "is_accepted": true, "score": 1, "last_activity_date": 1570680449, "creation_date": 1570680449, "answer_id": 58315331, "question_id": 58208882, "link": "https://stackoverflow.com/questions/58208882/ioexception-when-uploading-to-blob-storage-in-published-app/58315331#58315331", "title": "IOException when uploading to Blob Storage in published app", "body": "<blockquote>\n  <p>I observed that the error only occours when i copy the files into the monitored folder, if I drag them, it works just fine?</p>\n</blockquote>\n\n<p>It looks like your app is trying to read local file(s) that are still being written to the disk (incomplete) or locked by other processes. Dragging the files are somehow \"atomic\" operations (ie very fast) thus considerably reducing the chance of getting this error.</p>\n\n<p>Try implementing the method from <a href=\"https://stackoverflow.com/a/937558\">this answer</a> to test if the file isn't locked prior to calling <code>UploadFromFile()</code>. Now depending on your code logic, you will need to implement some form of \"retries\" if the file is locked. Here's an example:</p>\n\n<pre><code>    protected virtual bool IsFileLocked(FileInfo file)\n    {\n        FileStream stream = null;\n\n        try\n        {\n            stream = file.Open(FileMode.Open, FileAccess.Read, FileShare.None);\n        }\n        catch (IOException)\n        {\n            //the file is unavailable because it is:\n            //still being written to\n            //or being processed by another thread\n            //or does not exist (has already been processed)\n            return true;\n        }\n        finally\n        {\n            if (stream != null)\n                stream.Close();\n        }\n\n        //file is not locked\n        return false;\n    }\n\n    private void Process(object sender, NotifyCollectionChangedEventArgs e)\n    {\n        if (paths.Count &gt; 0)\n        {\n            var currentPath = paths.Dequeue();\n            CloudStorageAccount storageAccount = CloudStorageAccount.Parse(UserSettings.Instance.getConnectionString());\n            CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();\n            CloudBlobContainer blobContainer = blobClient.GetContainerReference(UserSettings.Instance.getContainer());\n            CloudBlockBlob b = blobContainer.GetBlockBlobReference(System.IO.Path.GetFileName(currentPath));\n            try\n            {\n                FileInfo fi = new FileInfo(currentPath);\n                while (IsFileLocked(fi))\n                    Thread.Sleep(5000); // Wait 5 seconds before checking again\n                b.UploadFromFile(currentPath, FileMode.Open);\n            }\n            catch (StorageException s)\n            {\n                throw new System.InvalidOperationException(\"Could not connect to the specified storage account. Please check the configuration.\");\n            }\n            catch (IOException exc)\n            {\n                throw new System.InvalidOperationException(exc.StackTrace);\n            }\n        }\n    }\n</code></pre>\n\n<p>Note that in no ways this will guarantee the file won't be locked again by another process between the <code>IsFileLocked()</code> call and the <code>b.UploadFromFile()</code> call.</p>\n"}], "owner": {"reputation": 1306, "user_id": 3032227, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9ad0f4de11e59b2e480d8466681cb45?s=128&d=identicon&r=PG&f=1", "display_name": "Recusiwe", "link": "https://stackoverflow.com/users/3032227/recusiwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 58315331, "answer_count": 2, "score": 5, "last_activity_date": 1570680449, "creation_date": 1570047795, "last_edit_date": 1570327599, "question_id": 58208882, "link": "https://stackoverflow.com/questions/58208882/ioexception-when-uploading-to-blob-storage-in-published-app", "title": "IOException when uploading to Blob Storage in published app", "body": "<p>I've developed a simple app, which just have to upload files from a folder to Azure Blob Storage, I runs fine when I run in from VS, but in the published app I get this error once in a while:</p>\n\n<blockquote>\n  <p>ved System.IO.__Error.WinIOError(Int32 errorCode, String,\n  maybeFullPath) ved System.IO.FileStream.Init(String path, FileMode\n  mode, FileAccess access, Int32 rights, Boolean useRights, FileShare\n  share, Int32 bufferSize, FileOptions options, SECURITY_ATTRIBUTES\n  secAttrs, String msgPath, Boolean bFromProxy, Boolean useLongPath,\n  Boolean checkHost) ved System.IO.FileStream..ctor(String path,\n  FileMode mode, FileAccess access) ved\n  Microsoft.WindowsAzure.Storage.Blob.CloudBlockBlob.UploadFromFile(String\n  path, FileMode mode, AccessCondition accessCondition,\n  BlobRequestOptions options, OperationsContext operationContext) ved\n  Program.MainWindow.Process(object sender,\n  NotifyCollectionChangedEventArgs e)</p>\n</blockquote>\n\n<p>My code for uploading looks like this:</p>\n\n<pre><code>private void Process(object sender, NotifyCollectionChangedEventArgs e)\n{\n    if (paths.Count &gt; 0){\n        var currentPath = paths.Dequeue();\n        CloudStorageAccount storageAccount = CloudStorageAccount.Parse(UserSettings.Instance.getConnectionString());\n        CloudBlobClient blobClient = storageAccount.CreateCloudBlobClient();\n        CloudBlobContainer blobContainer = blobClient.GetContainerReference(UserSettings.Instance.getContainer());\n        CloudBlockBlob b = blobContainer.GetBlockBlobReference(System.IO.Path.GetFileName(currentPath));\n        try\n        {\n           b.UploadFromFile(currentPath, FileMode.Open);\n        }\n        catch (StorageException s)\n        {\n            throw new System.InvalidOperationException(\"Could not connect to the specified storage account. Please check the configuration.\");\n        }\n        catch (IOException exc)\n        {\n            throw new System.InvalidOperationException(exc.StackTrace);\n        }\n    }\n}\n</code></pre>\n\n<p>It is the IOException in the catch that gets hit once in a while, any idea how to fix this?</p>\n\n<p>If I go through the docs, I just get informed that the exception occour if a storage service error occoured. Any idea how to investigate the further?</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/java/api/com.microsoft.azure.storage.blob._cloud_blob.uploadfromfile?view=azure-java-legacy#com_microsoft_azure_storage_blob__cloud_blob_uploadFromFile_final_String_\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/java/api/com.microsoft.azure.storage.blob._cloud_blob.uploadfromfile?view=azure-java-legacy#com_microsoft_azure_storage_blob__cloud_blob_uploadFromFile_final_String_</a></p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "answers": [{"tags": [], "owner": {"reputation": 1478, "user_id": 3923163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HP7Ps.jpg?s=128&g=1", "display_name": "cwalvoort", "link": "https://stackoverflow.com/users/3923163/cwalvoort"}, "is_accepted": false, "score": 0, "last_activity_date": 1570310025, "creation_date": 1570310025, "answer_id": 58252392, "question_id": 58208796, "link": "https://stackoverflow.com/questions/58208796/html-enumdropdownlistfor-is-not-setting-html-attributes/58252392#58252392", "title": "Html.EnumDropDownListFor is not setting html attributes", "body": "<p>Similar to this <a href=\"https://stackoverflow.com/q/50648960/3923163\">post</a>, try removing the word <code>htmlAttributes</code> instead:</p>\n\n<pre><code>@Html.EnumDropDownListFor(model =&gt; model.FundingDataSource, new { @class = \"disabled\", @disabled = \"disabled\" })\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7891333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EtBvb.jpg?s=128&g=1", "display_name": "schulze101", "link": "https://stackoverflow.com/users/7891333/schulze101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570310025, "creation_date": 1570047411, "question_id": 58208796, "link": "https://stackoverflow.com/questions/58208796/html-enumdropdownlistfor-is-not-setting-html-attributes", "title": "Html.EnumDropDownListFor is not setting html attributes", "body": "<p>I am trying to display a dropdown list for an enum set with a css class and disabled attribute.</p>\n\n<p>This in on a .Net Framework 4.6.2 project. I have tried setting the htmlAttribute parameter, like the documentation (and all blog posts) suggests, but the resulting html does not include the html attributes. </p>\n\n<p>Code from the View:</p>\n\n<pre><code>@Html.EnumDropDownListFor(model =&gt; model.FundingDataSource, htmlAttributes: new { @class = \"disabled\", @disabled = \"disabled\" })\n</code></pre>\n\n<p>Expected </p>\n\n<pre><code>&lt;select id=\"FundingDataSource\" name=\"FundingDataSource\" class=\"disabled\" disabled=\"disabled\"&gt; \n    &lt;option value=\"\"&gt;&lt;/option&gt;\n    &lt;option value=\"1\"&gt;Option 1&lt;/option&gt;\n    &lt;option selected=\"selected\" value=\"2\"&gt;Option 2&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Actual Html:</p>\n\n<pre><code>&lt;select id=\"FundingDataSource\" name=\"FundingDataSource\"&gt; \n    &lt;option value=\"\"&gt;&lt;/option&gt;\n    &lt;option value=\"1\"&gt;Option 1&lt;/option&gt;\n    &lt;option selected=\"selected\" value=\"2\"&gt;Option 2&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Any thoughts or suggestions on what is going wrong?</p>\n"}, {"tags": ["c#", "ios", "swift", "xamarin", "xamarin.ios"], "answers": [{"comments": [{"owner": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "edited": false, "score": 1, "creation_date": 1570113676, "post_id": 58209545, "comment_id": 102818713, "body": "Hello thanks for your response. For preventing copying from the <code>UITextView</code>, I was stating that setting the <code>SecureTextEntry</code> property to <code>true</code> handles that, so I wont be needing to implement that. I also tried using the code you provided for part <b>2</b> of your answer but it does not work, any tweaks or ideas?"}], "tags": [], "owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "is_accepted": false, "score": -1, "last_activity_date": 1570060404, "last_edit_date": 1570060404, "creation_date": 1570051393, "answer_id": 58209545, "question_id": 58208781, "link": "https://stackoverflow.com/questions/58208781/how-can-i-implement-hide-show-password-style-experience-for-ios-with-uitextview/58209545#58209545", "title": "How can I Implement Hide/Show password style experience for iOS with UITextView in Xamarin?", "body": "<p>There are two parts to your question. </p>\n\n<ol>\n<li>You can probably prevent copying and pasting stuff by subclassing the UITextView, as shown:</li>\n</ol>\n\n<pre><code>public class ProtectedTextView : UITextView\n{\n    public override bool CanPerform(Selector action, NSObject withSender)\n    {\n        if (action == new Selector(\"paste:\") || (action == new Selector(\"copy:\")))\n            return false;\n        else\n            return base.CanPerform(action, withSender);\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>For show/hide, the equivalent of what you are looking at is:</li>\n</ol>\n\n<pre><code>textView.ShouldChangeText = (textField, range, replacementString) =&gt;\n{\n     string text = textView.Text;\n     var result = text.Substring(0, (int) range.Location) + replacementString + text.Substring((int) range.Location + (int) range.Length);\n     textView.Text = result;\n     return false;\n};\n</code></pre>\n\n<p>I haven't tested the code to work though, so let me know if you have any issues.</p>\n"}, {"comments": [{"owner": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "edited": false, "score": 0, "creation_date": 1570206612, "post_id": 58229416, "comment_id": 102852654, "body": "Thank for your answer. The output looks very similar to my desired outcome. However, I&#39;m having trouble applying this solution to my situation. I am already using a custom <code>UITextView</code>, and I have a class to implement this functionality as an effect, (I am using the <code>Control</code> to define this effect for my custom <code>UITextView</code>) and I was hoping you could explain how your code works further (maybe with some comments in your answer). As I don&#39;t understand fully how custom delegates work and I&#39;m hoping I won&#39;t have to use one :)"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "edited": false, "score": 0, "creation_date": 1570411974, "post_id": 58229416, "comment_id": 102893438, "body": "@Kikanye Okey , first I want to know which project is ( Forms or Xamarin.IOS) . Second using delegate not need to modify your too much code .You just need to create a <code>TextViewDelegate</code> file in Xamarin.ios, then assign this delegate to your used TextFiled , if Forms will use Custom Renderer to set it , such as : <code>Control.Delegate = new TextViewDelegate(Control);</code> , else if Xamarin.IOS use as the answer said.If not clearly , you can show code about custom textfiled."}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "edited": false, "score": 0, "creation_date": 1570411983, "post_id": 58229416, "comment_id": 102893439, "body": "@Kikanye And here is <a href=\"https://docs.microsoft.com/en-us/xamarin/xamarin-forms/app-fundamentals/custom-renderer/renderers\" rel=\"nofollow noreferrer\">Cusotm Renderer document</a> for reference if needed."}, {"owner": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "edited": false, "score": 0, "creation_date": 1570484338, "post_id": 58229416, "comment_id": 102921265, "body": "It is a <code>Xamarin.Forms</code> project, but this is only for the <code>Xamarin.IOS</code> part of the project, as this was pretty easy to do for the <code>Xamarin.Android</code> version. My main reason for seeking an explanation (in form of comments) is more so that I understand the code and am able to make changes to it if need be, as opposed to just copying and pasting. If you could explain the function of a <code>Delegate</code> in this case which you have used it,  and add some comments to the algorithm, that would be awesome, I will test run the code and if it works I can mark this answer correct. :)"}, {"owner": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "edited": false, "score": 0, "creation_date": 1570486106, "post_id": 58229416, "comment_id": 102921803, "body": "I am using an effect to implement this, and I was hoping I could use your code as reference to implement this as an effect. I have added the code for my effect to the question. Also if you think using a Delegate would still be the best way to go, could you explain how that would work with using an effect? Thanks, looking forward to your answer :)"}, {"owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "reply_to_user": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "edited": false, "score": 0, "creation_date": 1570499638, "post_id": 58229416, "comment_id": 102924387, "body": "@Kikanye Okey , I will check it . If have  a result will share here."}], "tags": [], "owner": {"reputation": 10280, "user_id": 10504796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBUa.png?s=128&g=1", "display_name": "Junior Jiang", "link": "https://stackoverflow.com/users/10504796/junior-jiang"}, "is_accepted": false, "score": 1, "last_activity_date": 1570168304, "last_edit_date": 1570168304, "creation_date": 1570158582, "answer_id": 58229416, "question_id": 58208781, "link": "https://stackoverflow.com/questions/58208781/how-can-i-implement-hide-show-password-style-experience-for-ios-with-uitextview/58229416#58229416", "title": "How can I Implement Hide/Show password style experience for iOS with UITextView in Xamarin?", "body": "<p>You can define a custom <code>UITextViewDelegate</code> to realize it .</p>\n\n<pre><code>public class TextViewDelegate : UITextViewDelegate\n{\n    private UITextView myTextView;\n    bool secureTextViewEntry;       // default is NO\n    NSMutableString secureText;\n    NSTimer timer;\n    NSString lastText;\n    public TextViewDelegate(UITextView myTextView)\n    {\n        this.myTextView = myTextView; \n        secureTextViewEntry = false;\n        secureText = new NSMutableString();\n    }\n\n    public override bool ShouldChangeText(UITextView textView, NSRange range, string text)\n    {\n        if(\"\\n\" == text)\n        {\n            textView.ResignFirstResponder();\n            return false;\n        }\n        lastText = new NSString(text);\n        return true;\n        //return base.ShouldChangeText(textView, range, text);\n    }\n\n    public override void Changed(UITextView textView)\n    {\n        Console.WriteLine(\"-----\" + secureText);\n        if (secureTextViewEntry)\n        {\n            string text = textView.Text;\n            if(text.Length &gt; 0)\n            {\n                if(\"\" == lastText)\n                {\n                    secureText.DeleteCharacters(new NSRange(secureText.Length - 1, 1));\n                    onlyPassword();\n                    if (null != timer)\n                    {\n                        timer.Invalidate();\n                    }\n                    //base.Changed(textView);\n                    return;\n                }\n                else\n                {\n                    NSString one = new NSString(text.Substring(text.Length - 1));\n                    secureText.Append(one);\n                    NSMutableString temp = new NSMutableString();\n                    for (int i = 0; i &lt; secureText.Length - 1; i++)\n                    {\n                        temp.Append(new NSString(\"\u2022\"));\n                    }\n                    temp.Append(new NSString(secureText.ToString().Substring(secureText.ToString().Length - 1)));\n                    myTextView.Text = temp;\n\n                    if (null != timer)\n                    {\n                        timer.Invalidate();\n                    }\n                    timer =NSTimer.CreateScheduledTimer(2, onlyPassword);\n                }\n            }\n            else\n            {\n                secureText = new NSMutableString();\n\n            }\n            //base.Changed(textView);\n        }\n        else {\n            if (textView.Text.Length == 0)\n            {\n                secureText = new NSMutableString();\n            }\n            else\n            {\n                secureText = new NSMutableString();\n                secureText.SetString(new NSString(textView.Text));\n            }\n            if(null != timer) {\n                timer.Invalidate();\n            }\n\n            //base.Changed(textView);\n        }\n    }\n\n\n    private void onlyPassword(NSTimer obj)\n    {\n        //throw new NotImplementedException();\n        onlyPassword();\n    }\n\n    private void onlyPassword()\n    {\n        //throw new NotImplementedException();\n        timer.Invalidate();\n        NSMutableString temp = new NSMutableString();\n        for(int i = 0; i&lt; secureText.Length; i++)\n        {\n            temp.Append(new NSString(\"\u2022\"));\n        }\n        myTextView.Text = temp;\n    }\n\n    public override void DidChange(NSKeyValueChange changeKind, NSIndexSet indexes, NSString forKey)\n    {\n        base.DidChange(changeKind, indexes, forKey);\n    }\n    //set Secure be true or false\n    public void setSecureTextViewEntry(bool _secureTextViewEntry)\n    {\n        secureTextViewEntry = _secureTextViewEntry;\n        if (secureText.Length == 0)\n        {\n            return;\n        }\n        else\n        {\n            if (secureTextViewEntry)\n            {\n                //secret\n                NSMutableString aaa = new NSMutableString();\n                for (int i = 0; i &lt; secureText.Length; i++)\n                {\n                    aaa.Append(new NSString(\"\u2022\"));\n                }\n                myTextView.Text = aaa;\n            }else{\n                //real word\n                myTextView.Text = secureText;\n                if (null != timer)\n                {\n                    timer.Invalidate();\n                }\n            }\n        }\n        Changed(myTextView);\n    }\n\n    public bool getSecureTextViewEntry()\n    {\n        return secureTextViewEntry;\n    }\n}\n</code></pre>\n\n<p>In ViewController :</p>\n\n<pre><code>TextViewDelegate textViewDelegate;\n\npublic override void ViewDidLoad ()\n{\n     base.ViewDidLoad ();\n\n     textViewDelegate = new TextViewDelegate(MyTextView);\n     MyTextView.Delegate = textViewDelegate; //MyTextView from StoryBoard\n\n}\n\npartial void SetTrueButton_TouchUpInside(UIButton sender)\n{\n    textViewDelegate.setSecureTextViewEntry(true);\n}\n\npartial void SetFalseButton_TouchUpInside(UIButton sender)\n{\n    textViewDelegate.setSecureTextViewEntry(false);\n}\n</code></pre>\n\n<p>Here is the effect :</p>\n\n<p><a href=\"https://i.stack.imgur.com/LzVUx.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LzVUx.gif\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note</strong>:Code is only for reference, and there are some minor issues in the code that need to be improved.</p>\n"}, {"tags": [], "owner": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "is_accepted": true, "score": 0, "last_activity_date": 1571114286, "last_edit_date": 1571114286, "creation_date": 1570721800, "answer_id": 58326518, "question_id": 58208781, "link": "https://stackoverflow.com/questions/58208781/how-can-i-implement-hide-show-password-style-experience-for-ios-with-uitextview/58326518#58326518", "title": "How can I Implement Hide/Show password style experience for iOS with UITextView in Xamarin?", "body": "<p>After much struggle I was finally able to get this done. Much thanks to @JuniorJiang-MSFT who led me in the right direction. My code for my the file that implements the effect is shown below:</p>\n\n<pre><code>using System;\nusing UIKit;\nusing Xamarin.Forms;\nusing Xamarin.Forms.Platform.iOS;\nusing Foundation;\n\n[assembly: ResolutionGroupName(\"Xamarin\")]\n[assembly: ExportEffect(typeof(MyApp.iOS.CustomRenderers.ShowHidePasswordEffect), \"ShowHidePasswordEffect\")]\nnamespace MyApp.iOS.CustomRenderers\n{\n    public class ShowHidePasswordEffect : PlatformEffect\n    {\n        //The actual text entered by the user.\n        private NSMutableString SecureText;\n        private NSTimer timer;\n        //The last character(s) entered by the user.\n        private NSString LastText;\n        private UITextView UiTextViewForControl;\n        protected override void OnAttached()\n        {\n            SecureText = new NSMutableString();\n            ConfigureControl();\n        }\n\n        protected override void OnDetached()\n        {\n            //do nothing\n        }\n\n\n        private void ConfigureControl()\n        {\n            if (Control != null)\n            { \n                if (Control is UITextView) {\n                    UITextView vUpdatedEntry = (UITextView)Control;\n                    this.UiTextViewForControl = vUpdatedEntry;\n\n                    var buttonRect = UIButton.FromType(UIButtonType.Custom);\n                    buttonRect.SetImage(UIImage.FromBundle(\"show_black_24\"), UIControlState.Normal);\n                    buttonRect.TouchUpInside += (object sender, EventArgs e1) =&gt; {\n                        if (vUpdatedEntry.SecureTextEntry)\n                        {\n                            vUpdatedEntry.SecureTextEntry = false;\n                            buttonRect.SetImage(UIImage.FromBundle(\"hide_black_24\"), UIControlState.Normal);\n                        }\n                        else\n                        {\n                            vUpdatedEntry.SecureTextEntry = true;\n                            buttonRect.SetImage(UIImage.FromBundle(\"show_black_24\"), UIControlState.Normal);\n                        }\n                        // Change the text based on whether password is to be hidden or visible.\n                        HandleSecureEntryChange(vUpdatedEntry);\n                    };\n\n                    vUpdatedEntry.ShouldChangeText += (textView, range, toReplaceText) =&gt; {\n                        if (\"\\n\" == toReplaceText)\n                        {   //Drop the keyboard if 'Enter/Return' is pressed\n                            vUpdatedEntry.ResignFirstResponder();\n                            return false;\n                        }\n                        //Get the text that was entered, store that in LastText. Return true, so that Changed is called.\n                        LastText = new NSString(toReplaceText);\n                        return true;\n                    };\n                    // Add eventHandler for Changed.\n                    vUpdatedEntry.Changed += HandleTextChange;\n\n                    buttonRect.ContentMode = UIViewContentMode.ScaleToFill;\n\n                    UIView paddingViewRight = new UIView(new System.Drawing.RectangleF(0.0f, 0.0f, 30.0f, 18.0f));\n                    paddingViewRight.AddSubview(buttonRect);\n\n                    buttonRect.TranslatesAutoresizingMaskIntoConstraints = false;\n                    buttonRect.CenterYAnchor.ConstraintEqualTo(paddingViewRight.CenterYAnchor).Active = true;\n\n                    vUpdatedEntry.AddSubview(paddingViewRight);\n\n                    paddingViewRight.TranslatesAutoresizingMaskIntoConstraints = false;\n                    paddingViewRight.TrailingAnchor.ConstraintEqualTo(vUpdatedEntry.LayoutMarginsGuide.TrailingAnchor, 8.0f).Active = true;\n                    paddingViewRight.HeightAnchor.ConstraintEqualTo(vUpdatedEntry.HeightAnchor).Active = true;\n                    paddingViewRight.BottomAnchor.ConstraintEqualTo(vUpdatedEntry.LayoutMarginsGuide.BottomAnchor).Active = true;\n                    paddingViewRight.TopAnchor.ConstraintEqualTo(vUpdatedEntry.LayoutMarginsGuide.TopAnchor, -8.0f).Active = true;\n                    paddingViewRight.WidthAnchor.ConstraintEqualTo(buttonRect.WidthAnchor, 1.0f, 3.0f).Active = true;\n                    vUpdatedEntry.TextContainerInset = new UIEdgeInsets(8.0f, 0.0f, 8.0f, paddingViewRight.Frame.Width + 5.0f);\n\n                    Control.Layer.CornerRadius = 4;\n                    Control.Layer.BorderColor = new CoreGraphics.CGColor(255, 255, 255);\n                    Control.Layer.MasksToBounds = true;\n                    vUpdatedEntry.TextAlignment = UITextAlignment.Left;\n                }\n            }\n        }\n\n        private void HandleTextChange(object sender, EventArgs e)\n        {\n            UITextView customEditor = (UITextView)sender;\n            if (customEditor.SecureTextEntry)\n            {\n                string text = customEditor.Text;\n                if (text.Length &gt; 0)\n                {\n                    //If LastText is empty, that means deletion occured.\n                    if (\"\" == this.LastText)\n                    {   //Delete the last character from the actual text\n                        this.SecureText.DeleteCharacters(new NSRange(this.SecureText.Length - 1, 1));\n                        if (null != timer)\n                        {\n                            timer.Invalidate();\n                        }\n                        return;\n                    }\n                    // If LastText is not empty, that means (a) new character(s) was/were entered.\n                    int lastTextLength = ((this.LastText.ToString()).Length); //Number of characters in LastText.\n                    if (lastTextLength &gt; 1)\n                    {   // If more than one character was entered (usually by pasting)\n                        int NewTextStartIndex = (text.Length - lastTextLength);\n                        string TempNewCharacters = text.Substring(NewTextStartIndex);\n                        // Get all the characters except the last character and add them to the secureText\n                        NSString NewCharacters = new NSString(TempNewCharacters.Substring(0, TempNewCharacters.Length - 1));\n                        SecureText.Append(NewCharacters);\n\n                    }\n                    // Get and add the last character\n                    NSString LastCharacter = new NSString(text.Substring(text.Length - 1));\n                    this.SecureText.Append(LastCharacter);\n                    // Change all characters to '\u25cf' except the last character\n                    NSMutableString temp = new NSMutableString();\n                    for (int i = 0; i &lt; this.SecureText.Length - 1; i++)\n                    {\n                        temp.Append(new NSString(\"\u25cf\"));\n\n                    }\n                    // Add the last character as a plain text to the temp and set that into the editor.\n                    temp.Append(new NSString(this.SecureText.ToString().Substring(this.SecureText.ToString().Length - 1)));\n                    customEditor.Text = temp;\n\n                    if (null != this.timer)\n                    {\n                        this.timer.Invalidate();\n                    }\n                    // Wait two seconds before changing the last character to '\u25cf'.\n                    this.timer = NSTimer.CreateScheduledTimer(2, ChangeToHidden);\n                }\n                else\n                {\n                    this.SecureText = new NSMutableString();\n                }\n            }\n            else\n            {\n                // If the password is plain text, then initialize it to the secureText string.\n                SecureText = new NSMutableString();\n                SecureText.SetString(new NSString(customEditor.Text));\n                if (null != timer)\n                {\n                    this.timer.Invalidate();\n                }\n            }\n            CustomEditor ActualCustomEditor = (CustomEditor)Element;\n            ActualCustomEditor.PlainText = SecureText.ToString();\n        }\n\n        private void ChangeToHidden(object sender)\n        {\n            // Change all the text entered to '\u25cf'\n            UITextView customEditor = this.UiTextViewForControl;\n            this.timer.Invalidate();\n            NSMutableString temp = MakeHiddenText();\n            customEditor.Text = temp;\n        }\n\n        private void HandleSecureEntryChange(object sender)\n        {\n            if (this.SecureText.Length &gt; 0)\n            {   // If SecureTextEntry is true, hide text, else make plain text and clean the timer.\n                UITextView customEditor = (UITextView)sender;\n                if (customEditor.SecureTextEntry)\n                {\n                    NSMutableString temp = MakeHiddenText();\n                    customEditor.Text = temp;\n                }\n                else\n                {\n                    customEditor.Text = this.SecureText;\n                    if (null != timer)\n                    {\n                        this.timer.Invalidate();\n                    }\n                }\n            }\n        }\n\n        private NSMutableString MakeHiddenText()\n        //Make string of '\u25cf''s for the text and return\n        {\n            NSMutableString temp = new NSMutableString();\n            for (int i = 0; i &lt; this.SecureText.Length; i++)\n            {\n                temp.Append(new NSString(\"\u25cf\"));\n            }\n            return temp;\n        }\n\n    }\n}\n</code></pre>\n\n<p>Code for my <strong>CustomRenderer</strong> is shown below:</p>\n\n<pre><code>using MyApp.CustomControls;\nusing MyApp.iOS.CustomRenderers;\nusing UIKit;\nusing Xamarin.Forms;\nusing Xamarin.Forms.Platform.iOS;\n\n[assembly: ExportRenderer(typeof(CustomEditor), typeof(CustomEditorRenderer))]\nnamespace MyApp.iOS.CustomRenderers\n{\n    public class CustomEditorRenderer: EditorRenderer\n    {\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Editor&gt; e)\n        {\n            base.OnElementChanged(e);\n            if (Control != null &amp;&amp; Element != null) {\n                var element = (CustomEditor)this.Element;\n                if (element.IsPassword) {\n                    UITextView uiTextView = (UITextView)Control;\n                    uiTextView.SecureTextEntry = true;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In the file which subclasses the <code>Editor</code>, I have added a property <code>PlainText</code> which will be used to get the actual text when it is hidden. In my <strong>XAML</strong> I bind this property to the variable that should hold the text entered into the control. Below is the relevant code from my <code>CustomEditor</code>.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Text;\nusing Xamarin.Forms;\n\nnamespace MyApp.CustomControls\n{\n    public class CustomEditor : Editor\n    {\n        public static readonly BindableProperty PlainTextProperty =\n            BindableProperty.Create(nameof(PlainText),\n                typeof(string),\n                typeof(CustomEditor),\n                String.Empty,\n                defaultBindingMode:BindingMode.TwoWay,\n                propertyChanged:OnPlainTextChanged);\n\n        public string PlainText {\n            get { return (string)GetValue(PlainTextProperty); }\n            set { SetValue(PlainTextProperty, value); }\n        }\n\n        private static void OnPlainTextChanged(BindableObject bindable, object oldValue, object newValue)\n        {\n            var control = (CustomEditor)bindable;\n            if (newValue != null)\n            {\n                control.PlainText = newValue.ToString();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> It is necessary to specify the <code>defaultBindingMode</code> as <code>TwoWay</code> and also specify a method for <code>propertyChanged</code> for this to work.</p>\n"}], "owner": {"reputation": 813, "user_id": 7274936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e1edfcc43e997e8360fb96bed18c9f39?s=128&d=identicon&r=PG&f=1", "display_name": "Kikanye", "link": "https://stackoverflow.com/users/7274936/kikanye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "accepted_answer_id": 58326518, "answer_count": 3, "score": 1, "last_activity_date": 1571114286, "creation_date": 1570047348, "last_edit_date": 1570485953, "question_id": 58208781, "link": "https://stackoverflow.com/questions/58208781/how-can-i-implement-hide-show-password-style-experience-for-ios-with-uitextview", "title": "How can I Implement Hide/Show password style experience for iOS with UITextView in Xamarin?", "body": "<p>I understand that the password-style effect can be implemented for <code>UITextFields</code> using the <code>SecureTextEntry</code> property, and I also found some code online to implement Hide/Show password effect <a href=\"https://dzone.com/articles/xamarinforms-tip-implement-show-hide-password-usin\" rel=\"nofollow noreferrer\">here</a>, but this only works for <code>UITextFields</code>, I need to implement this same feature for a Custom <code>UITextView</code>. I currently have some code to implement add the image for the UI, but the actual Show/Hide password effect is not implemented.</p>\n\n<p>I found some code for how to do this in <code>Swift</code> <a href=\"https://stackoverflow.com/questions/50350447/set-password-protection-in-uitextview\">here</a>, but I have never worked with <code>Swift</code> and was hoping that someone who is familiar with <code>Swift</code> can translate this to <code>C#</code> for me, as this could possibly be the solution I need.</p>\n\n<p>I also understand that while the <code>SecureTextEntry</code> property gives the password-style experience for <code>UITextFields</code> when set to true <strong><em>(ie prevents copying and turns characters into black dots)</em></strong>, it only prevents copying of text when set to true for <code>UITextViews</code>. This I found from the documentation of this property <a href=\"https://developer.apple.com/documentation/uikit/uitextinputtraits/1624427-securetextentry\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Here is the code which I currently have in my file that implements the <strong>Show/Hide password effect</strong>:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing UIKit;\nusing Xamarin.Forms;\nusing Xamarin.Forms.Platform.iOS;\n\n[assembly: ResolutionGroupName(\"Xamarin\")]\n[assembly:ExportEffect(typeof(MyApp.iOS.CustomRenderers.PasswordEffect), \"PasswordEffect\")]\nnamespace MyApp.iOS.CustomRenderers\n{\n    public class PasswordEffect : PlatformEffect\n    {\n        protected override void OnAttached()\n        {\n            Configure();\n        }\n\n        protected override void OnDetached()\n        {\n            //do nothing\n        }\n\n        private void Configure()\n        {\n            if (Control != null)\n            {\n                if (Control is UITextView) {\n                    UITextView vUpdatedEntry = (UITextView)Control;\n                    var buttonRect = UIButton.FromType(UIButtonType.Custom);\n                    buttonRect.SetImage(UIImage.FromBundle(\"eye_image\"), UIControlState.Normal);\n                    buttonRect.TouchUpInside += (object sender, EventArgs e1) =&gt; {\n                        if (vUpdatedEntry.SecureTextEntry)\n                        {\n                            vUpdatedEntry.SecureTextEntry = false;\n                            buttonRect.SetImage(UIImage.FromBundle(\"eye_crossed_image\"), UIControlState.Normal);\n                        }\n                        else\n                        {\n                            vUpdatedEntry.SecureTextEntry = true;\n                            buttonRect.SetImage(UIImage.FromBundle(\"eye_image\"), UIControlState.Normal);\n                        }\n                    };\n                    // Would love to have password effect here :)\n                    vUpdatedEntry.ShouldChangeText += (textField, range, replacementString) =&gt; {\n                        string text = vUpdatedEntry.Text;\n                        var result = text.Substring(0, (int)range.Location) + replacementString + text.Substring((int)range.Location + (int)range.Length);\n                        vUpdatedEntry.Text = result;\n                        return false;\n                    };\n\n                    buttonRect.Frame = new CoreGraphics.CGRect(10.0f, 0.0f, 15.0f, 15.0f);\n                    buttonRect.ContentMode = UIViewContentMode.ScaleToFill;\n\n                    UIView paddingViewRight = new UIView(new System.Drawing.RectangleF(0.0f, 0.0f, 30.0f, 18.0f));\n                    paddingViewRight.AddSubview(buttonRect);\n\n                    buttonRect.TranslatesAutoresizingMaskIntoConstraints = false;\n                    buttonRect.CenterYAnchor.ConstraintEqualTo(paddingViewRight.CenterYAnchor).Active = true;\n\n                    vUpdatedEntry.TextContainerInset = new UIEdgeInsets(8.0f, 0.0f, 8.0f, paddingViewRight.Frame.Width+5.0f);\n                    vUpdatedEntry.AddSubview(paddingViewRight);\n\n                    paddingViewRight.TranslatesAutoresizingMaskIntoConstraints = false;\n                    paddingViewRight.TrailingAnchor.ConstraintEqualTo(vUpdatedEntry.LayoutMarginsGuide.TrailingAnchor, 9.0f).Active = true;\n                    paddingViewRight.HeightAnchor.ConstraintEqualTo(vUpdatedEntry.HeightAnchor).Active = true;\n                    paddingViewRight.WidthAnchor.ConstraintEqualTo(buttonRect.WidthAnchor,1.0f, 0.0f).Active = true;\n\n                    Control.Layer.CornerRadius = 4;\n                    Control.Layer.BorderColor = new CoreGraphics.CGColor(255, 255, 255);\n                    Control.Layer.MasksToBounds = true;\n                    vUpdatedEntry.TextAlignment = UITextAlignment.Left;\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "postgresql", "npgsql"], "comments": [{"owner": {"reputation": 5144, "user_id": 12115778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oC38b.jpg?s=128&g=1", "display_name": "richyen", "link": "https://stackoverflow.com/users/12115778/richyen"}, "edited": false, "score": 1, "creation_date": 1570047974, "post_id": 58208762, "comment_id": 102795655, "body": "Do you know at which line you are getting the exception?  What does <code>Connect()</code> do?  Does it return the correct data type/structure?"}, {"owner": {"reputation": 35932, "user_id": 1606345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IwiIM.png?s=128&g=1", "display_name": "David Ranieri", "link": "https://stackoverflow.com/users/1606345/david-ranieri"}, "edited": false, "score": 1, "creation_date": 1570048084, "post_id": 58208762, "comment_id": 102795687, "body": "This doesn&#39;t seem C, maybe C#?"}, {"owner": {"reputation": 47633, "user_id": 3889449, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/eb07e0f09deb982a1a0deedca7a5c002?s=128&d=identicon&r=PG", "display_name": "Marco Bonelli", "link": "https://stackoverflow.com/users/3889449/marco-bonelli"}, "reply_to_user": {"reputation": 35932, "user_id": 1606345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/IwiIM.png?s=128&g=1", "display_name": "David Ranieri", "link": "https://stackoverflow.com/users/1606345/david-ranieri"}, "edited": false, "score": 1, "creation_date": 1570049086, "post_id": 58208762, "comment_id": 102796040, "body": "@DavidRanieri <a href=\"https://github.com/npgsql/npgsql\" rel=\"nofollow noreferrer\">that&#39;s C#</a> indeed."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1570052119, "post_id": 58208762, "comment_id": 102796998, "body": "My guess is that you call this method in the constructor of <code>frmAdmin</code>, so you create a new form, which calls this method, which creates a new form, which calls this method, etc. Either that or you have a property that&#39;s returning itself in the getter."}, {"owner": {"reputation": 49, "user_id": 10996607, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yPS9H7UOU5c/AAAAAAAAAAI/AAAAAAAADyM/7uftm1V4fiM/photo.jpg?sz=128", "display_name": "Um Cara Qualquer", "link": "https://stackoverflow.com/users/10996607/um-cara-qualquer"}, "edited": false, "score": 0, "creation_date": 1570057866, "post_id": 58208762, "comment_id": 102798272, "body": "I updated the code question"}, {"owner": {"reputation": 49, "user_id": 10996607, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yPS9H7UOU5c/AAAAAAAAAAI/AAAAAAAADyM/7uftm1V4fiM/photo.jpg?sz=128", "display_name": "Um Cara Qualquer", "link": "https://stackoverflow.com/users/10996607/um-cara-qualquer"}, "reply_to_user": {"reputation": 5144, "user_id": 12115778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oC38b.jpg?s=128&g=1", "display_name": "richyen", "link": "https://stackoverflow.com/users/12115778/richyen"}, "edited": false, "score": 0, "creation_date": 1570057990, "post_id": 58208762, "comment_id": 102798292, "body": "@richyen <code>Connect()</code> connect the code with the Postgre server. Returns a &quot;NpgsqlDataReader&quot; var. Exception now in the <code>dataGridView1.DataSource</code> line"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10996607, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yPS9H7UOU5c/AAAAAAAAAAI/AAAAAAAADyM/7uftm1V4fiM/photo.jpg?sz=128", "display_name": "Um Cara Qualquer", "link": "https://stackoverflow.com/users/10996607/um-cara-qualquer"}, "edited": false, "score": 0, "creation_date": 1570057587, "post_id": 58209208, "comment_id": 102798222, "body": "i make this, and i receive &quot;System.NullReferenceException&quot; in <code>dataGridView1.DataSource = Postgre.listUsers()</code>"}], "tags": [], "owner": {"reputation": 26, "user_id": 12150701, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r6-t3XtdbQ8/AAAAAAAAAAI/AAAAAAAAAPE/g1DZuQE9aEg/photo.jpg?sz=128", "display_name": "F&#225;bio Albino Bissolotti", "link": "https://stackoverflow.com/users/12150701/f%c3%a1bio-albino-bissolotti"}, "is_accepted": true, "score": 0, "last_activity_date": 1570049609, "creation_date": 1570049609, "answer_id": 58209208, "question_id": 58208762, "link": "https://stackoverflow.com/questions/58208762/return-select-sql-command/58209208#58209208", "title": "Return &quot;SELECT&quot; sql command", "body": "<p>try it:</p>\n\n<p>dataGridView1.DataSource = reader;</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 10996607, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yPS9H7UOU5c/AAAAAAAAAAI/AAAAAAAADyM/7uftm1V4fiM/photo.jpg?sz=128", "display_name": "Um Cara Qualquer", "link": "https://stackoverflow.com/users/10996607/um-cara-qualquer"}, "is_accepted": false, "score": 0, "last_activity_date": 1570058771, "creation_date": 1570058771, "answer_id": 58210538, "question_id": 58208762, "link": "https://stackoverflow.com/questions/58208762/return-select-sql-command/58210538#58210538", "title": "Return &quot;SELECT&quot; sql command", "body": "<p>I solved, how? i don't know, but i solved:</p>\n\n<p>Postgre.cs:</p>\n\n<pre><code>public static DataTable listUsers()\n        {\n            string sqlCommand = \"SELECT name, senha FROM users\";\n            NpgsqlDataAdapter da = new NpgsqlDataAdapter(new NpgsqlCommand(sqlCommand, Connect()));\n\n            DataTable dt = new DataTable();\n            da.Fill(dt);\n            return dt;\n        }\n</code></pre>\n\n<p>and...\nfrmAdmin.cs:</p>\n\n<pre><code>private void listUsersGrid(object sender, EventArgs e)\n        {\n            dataGridView1.DataSource = Postgre.listUsers();\n        }\n</code></pre>\n\n<p>\"ListUsersGrid\" is executed with the \"Enter\" event on tabControl1.\ni don't know how i solved it so i won't do any giant text explaining every thing in the code.</p>\n"}], "owner": {"reputation": 49, "user_id": 10996607, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yPS9H7UOU5c/AAAAAAAAAAI/AAAAAAAADyM/7uftm1V4fiM/photo.jpg?sz=128", "display_name": "Um Cara Qualquer", "link": "https://stackoverflow.com/users/10996607/um-cara-qualquer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 58209208, "answer_count": 2, "score": 0, "last_activity_date": 1570058771, "creation_date": 1570047268, "last_edit_date": 1570057840, "question_id": 58208762, "link": "https://stackoverflow.com/questions/58208762/return-select-sql-command", "title": "Return &quot;SELECT&quot; sql command", "body": "<p>I am trying to make my form contain all the rows of a table of a Postgres database, for this I am using a DataGridView with 2 columns (name and password), and searching the database for the values. But I'm new to this, and i don't know how to take db data and put it in the DataGrid.</p>\n\n<p>Basically I wanted to make the same pgAdmin visual table be shown in my C# application form.</p>\n\n<p>Postgre.cs:</p>\n\n<pre><code>public static NpgsqlDataReader listUsers()\n        {\n            string sqlCommand = \"SELECT name, senha FROM users\";\n            NpgsqlCommand cmd = new NpgsqlCommand(sqlCommand, Connect());\n\n            NpgsqlDataReader reader = cmd.ExecuteReader();\n\n            return reader;\n        }\n</code></pre>\n\n<p>frmAdmin:</p>\n\n<pre><code>public partial class frmAdmin : Form\n    {\n        public frmAdmin()\n        {\n            dataGridView1.DataSource = Postgre.listUsers();\n            InitializeComponent();\n        }\n    }\n</code></pre>\n\n<p>I took part of the code <a href=\"https://stackoverflow.com/questions/24053791/how-to-get-the-value-of-selected-row-from-postgresql-in-c\">from here</a></p>\n\n<p>I think it should work, but when I run I get a <code>System.StackOverflowException</code>.</p>\n\n<p>Edit1: I solved the overflow problem, but now the problem is \"System.NullReferenceException\", in the <code>dataGridView1.DataSource = Postgre.listUsers()</code>. I updated the code.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-core", "asp.net-web-api"], "comments": [{"owner": {"reputation": 469, "user_id": 1706825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2987704c5af969db79e8ca0c76b59393?s=128&d=identicon&r=PG", "display_name": "Wieschie", "link": "https://stackoverflow.com/users/1706825/wieschie"}, "reply_to_user": {"reputation": 11005, "user_id": 8211528, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0831ca2a26e862e3e42c159c624e2ded?s=128&d=identicon&r=PG", "display_name": "Hooman Bahreini", "link": "https://stackoverflow.com/users/8211528/hooman-bahreini"}, "edited": false, "score": 0, "creation_date": 1570057417, "post_id": 58208688, "comment_id": 102798194, "body": "So I thought that model binding only applies to POST request bodies and query parameters in GET requests.  Can you bind a model to a route parameter in a GET request?  My routes mostly look like /basePath/{category}/resourceType/{uid}, without query strings."}], "answers": [{"tags": [], "owner": {"reputation": 11005, "user_id": 8211528, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0831ca2a26e862e3e42c159c624e2ded?s=128&d=identicon&r=PG", "display_name": "Hooman Bahreini", "link": "https://stackoverflow.com/users/8211528/hooman-bahreini"}, "is_accepted": true, "score": 5, "last_activity_date": 1570245232, "last_edit_date": 1570245232, "creation_date": 1570059376, "answer_id": 58210598, "question_id": 58208688, "link": "https://stackoverflow.com/questions/58208688/validating-and-passing-controller-level-parameters-with-asp-net-mvc-attribute-ro/58210598#58210598", "title": "Validating and passing controller-level parameters with ASP.NET MVC attribute routing", "body": "<p>You can do this using a custom action filter to validate the name parameter:</p>\n\n<pre><code>public class ValidateNameParameterAttribute : ActionFilterAttribute\n{\n    public override void OnActionExecuting(ActionExecutingContext filterContext)\n    {\n        if (filterContext.ActionParameters.ContainsKey(name))\n        {\n            // the trick is to get the parameter from filter context\n            string name = filterContext.ActionParameters[name] as string;\n\n            // validate name\n\n            if (/*name is not valid*/)\n            {\n                // you may want to redirect user to error page when input parameter is not valid\n                filterContext.Result = new RedirectResult(/*urlToRedirectForError*/);\n            }\n\n            base.OnActionExecuted(filterContext);\n        }\n    }\n}\n</code></pre>\n\n<p>Now you can apply the filter to your controller, or specific actions:</p>\n\n<pre><code>[ApiController]\n[Route(\"[controller]/{name}\")]\n[ValidateNameParameter] // &lt;-- execute this for all actions in the controller\npublic class ExampleController : ControllerBase\n{\n    [HttpGet]\n    public string Sample([StringLength(10)][FromRoute]string name)\n    {\n    }\n\n    [HttpGet]\n    [Route(\"defaults\")]\n    public string GetDefaults([StringLength(10)][FromRoute]string name)\n    {\n    }\n\n    [HttpGet]\n    [Route(\"objects/{id}\")]\n    // [ValidateNameParameter] // &lt;-- execute for this specific action\n    public string Sample([StringLength(10)][FromRoute]string name, [FromRoute]string id)\n    {\n    }\n}\n</code></pre>\n\n<p>See <a href=\"https://exceptionnotfound.net/asp-net-mvc-demystified-action-filters/\" rel=\"nofollow noreferrer\">this tutorial</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": false, "score": 4, "last_activity_date": 1570086693, "creation_date": 1570086693, "answer_id": 58214038, "question_id": 58208688, "link": "https://stackoverflow.com/questions/58208688/validating-and-passing-controller-level-parameters-with-asp-net-mvc-attribute-ro/58214038#58214038", "title": "Validating and passing controller-level parameters with ASP.NET MVC attribute routing", "body": "<p>As Hooman Bahreini said ,  you could customize a action filter that inherits <a href=\"https://docs.microsoft.com/dotnet/api/microsoft.aspnetcore.mvc.filters.actionfilterattribute\" rel=\"nofollow noreferrer\">ActionFilterAttribute</a> and use it as a attribute on the controller .In Asp.net core , <code>ActionArguments</code> replaces <code>ActionParameters</code> </p>\n\n<pre><code>public class ValidateNameParameterAttribute: ActionFilterAttribute\n{\n    public override void OnActionExecuting(ActionExecutingContext filterContext)\n    {\n        if (filterContext.ActionArguments.ContainsKey(\"name\"))\n        {\n            string name = filterContext.ActionArguments[\"name\"] as string;\n\n            if(name!=null &amp;&amp; name.Length&gt;10)\n            {\n                filterContext.Result = new BadRequestObjectResult(\"The length of name must not exceed 10\");\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>For more details on Filters in ASP.NET Core , you could refer to <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/controllers/filters?view=aspnetcore-3.0\" rel=\"nofollow noreferrer\">here</a> .</p>\n"}], "owner": {"reputation": 469, "user_id": 1706825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2987704c5af969db79e8ca0c76b59393?s=128&d=identicon&r=PG", "display_name": "Wieschie", "link": "https://stackoverflow.com/users/1706825/wieschie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4421, "favorite_count": 0, "accepted_answer_id": 58210598, "answer_count": 2, "score": 3, "last_activity_date": 1570245232, "creation_date": 1570046892, "question_id": 58208688, "link": "https://stackoverflow.com/questions/58208688/validating-and-passing-controller-level-parameters-with-asp-net-mvc-attribute-ro", "title": "Validating and passing controller-level parameters with ASP.NET MVC attribute routing", "body": "<p>I have an ASP.NET controller where every single method will have a shared parameter.  With attribute routing, I can add this parameter in the controller's route.</p>\n\n<p>However, I still need to add that parameter along with a validation attribute in every single method.  Is there a way for me to do the validation in one place or avoid having to pass it in to every single method?</p>\n\n<p>This is the current working code:</p>\n\n<pre><code>[ApiController]\n[Route(\"[controller]/{name}\")]\npublic class ExampleController : ControllerBase\n{\n    [HttpGet]\n    public string Sample([StringLength(10)][FromRoute]string name)\n    {\n    }\n\n    [HttpGet]\n    [Route(\"defaults\")]\n    public string GetDefaults([StringLength(10)][FromRoute]string name)\n    {\n    }\n\n    [HttpGet]\n    [Route(\"objects/{id}\")]\n    public string Sample([StringLength(10)][FromRoute]string name, [FromRoute]string id)\n    {\n    }\n}\n</code></pre>\n\n<p>Is it possible to get something close to this? (I know the validation parameter on the controller is invalid, but I'd like to just have to apply it once)</p>\n\n<pre><code>[ApiController]\n[StringLength(10)]\n[Route(\"[controller]/{name}\")]\npublic class ExampleController : ControllerBase\n{\n    [HttpGet]\n    public string Sample()\n    {\n    }\n\n    [HttpGet]\n    [Route(\"defaults\")]\n    public string GetDefaults()\n    {\n    }\n\n    [HttpGet]\n    [Route(\"objects/{id}\")]\n    public string Sample([FromRoute]string id)\n    {\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "docker", "heroku"], "comments": [{"owner": {"reputation": 3, "user_id": 9953519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YwbsR.jpg?s=128&g=1", "display_name": "Childcity", "link": "https://stackoverflow.com/users/9953519/childcity"}, "edited": false, "score": 0, "creation_date": 1570046984, "post_id": 58208665, "comment_id": 102795310, "body": "Im trying to push it till 2 hour, and the same get error."}, {"owner": {"reputation": 12299, "user_id": 609290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/WUBht.jpg?s=128&g=1", "display_name": "DazWilkin", "link": "https://stackoverflow.com/users/609290/dazwilkin"}, "edited": false, "score": 0, "creation_date": 1570050598, "post_id": 58208665, "comment_id": 102796530, "body": "I suspect you&#39;re not authenticated against Heroku(&#39;s container registry). Did you do this? <a href=\"https://devcenter.heroku.com/articles/container-registry-and-runtime#logging-in-to-the-registry\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/&hellip;</a>"}, {"owner": {"reputation": 3, "user_id": 9953519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YwbsR.jpg?s=128&g=1", "display_name": "Childcity", "link": "https://stackoverflow.com/users/9953519/childcity"}, "reply_to_user": {"reputation": 12299, "user_id": 609290, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/WUBht.jpg?s=128&g=1", "display_name": "DazWilkin", "link": "https://stackoverflow.com/users/609290/dazwilkin"}, "edited": false, "score": 0, "creation_date": 1570085960, "post_id": 58208665, "comment_id": 102804108, "body": "It was bug in Heroku cloud, I think. Today in the morning everything was pushed without errors"}], "owner": {"reputation": 3, "user_id": 9953519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YwbsR.jpg?s=128&g=1", "display_name": "Childcity", "link": "https://stackoverflow.com/users/9953519/childcity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570046816, "creation_date": 1570046816, "question_id": 58208665, "link": "https://stackoverflow.com/questions/58208665/while-pushing-docker-container-to-heroku-error-dial-tcp-52-217-10-52443-co", "title": "While pushing docker container to Heroku -&gt; error: dial tcp 52.217.10.52:443: connect: connection refused", "body": "<p>I have tried to push this container today in the morning, and everything was OK.\nNow I have error: <em>\"dial tcp 52.217.10.52:443: connect: connection refused\"</em></p>\n\n<pre><code>Sending build context to Docker daemon  2.465MB\nStep 1/10 : FROM microsoft/dotnet:2.1-sdk AS build-env\n ---&gt; bc7c49365f5e\nStep 2/10 : WORKDIR /app\n ---&gt; Using cache\n ---&gt; e37155bf36e4\nStep 3/10 : COPY *.csproj ./\n ---&gt; Using cache\n ---&gt; 4aaa2f5498be\nStep 4/10 : RUN dotnet restore\n ---&gt; Using cache\n ---&gt; 8b1b9aadf343\nStep 5/10 : COPY . ./\n ---&gt; Using cache\n ---&gt; d5ff1e0f3e21\nStep 6/10 : RUN dotnet publish -c Release -o out\n ---&gt; Using cache\n ---&gt; 8a9de7e51185\nStep 7/10 : FROM microsoft/dotnet:2.1-aspnetcore-runtime\n ---&gt; a2f206d230ae\nStep 8/10 : WORKDIR /app\n ---&gt; Using cache\n ---&gt; fde502d1e466\nStep 9/10 : COPY --from=build-env /app/out .\n ---&gt; Using cache\n ---&gt; f431a2f837cb\nStep 10/10 : CMD ASPNETCORE_URLS=http://*:$PORT dotnet Bot.dll\n ---&gt; Using cache\n ---&gt; 2942c97621ff\nSuccessfully built 2942c97621ff\nSuccessfully tagged registry.heroku.com/cs-app/web:latest\nSECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.\n=== Pushing web (D:\\Bot\\Dockerfile)\nThe push refers to repository [registry.heroku.com/cs-app/web]\n330c6215da7b: Pushing [==================================================&gt;]  7.051MB\n0e4a80eff44d: Pushing  1.536kB\nde65d638030a: Pushing [==================================================&gt;]  147.4MB\n131c5f9a8492: Pushing [==================================================&gt;]  7.171MB\nce169e1af9a7: Pushing [=====================&gt;                             ]  18.79MB/43.75MB\ncf5b3c6798f7: Waiting\ndial tcp 52.217.10.52:443: connect: connection refused\n !    Error: docker push exited with Error: 1\n</code></pre>\n\n<p>Have someone see the same error today (02-09-2019)?</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "reply_to_user": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "edited": false, "score": 0, "creation_date": 1570047839, "post_id": 58208661, "comment_id": 102795602, "body": "@GSerg: Thanks. I found another way, but SetLength is an even simpler option, so I&#39;ll replace my code with that."}], "answers": [{"comments": [{"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 1, "creation_date": 1570048280, "post_id": 58208878, "comment_id": 102795762, "body": "Please note that you can&#39;t share a FileStream between multiple StreamReader/StreamWriter instances.  The FileShare.xxx options control how multiple handles/FileStreams can be used against the same file."}, {"owner": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "reply_to_user": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1570136728, "post_id": 58208878, "comment_id": 102828787, "body": "@DavidBrowne-Microsoft: Hm.. I had actually expected that to be the case, but I&#39;ve yet to encounter adverse effects of doing so. What sort of problems should I be seeing as it appears to work fine? And how would I then lock a file for Write elsewhere yet allow my own application to write to it?"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 1, "creation_date": 1570136966, "post_id": 58208878, "comment_id": 102828852, "body": "The Readers and Writers have internal buffers, and expect  the FileStream location to <i>not change</i> without them knowing about it.   The FileStream has only <i>one</i> Location at which the next Read or Write will occur."}, {"owner": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "reply_to_user": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1570170490, "post_id": 58208878, "comment_id": 102835974, "body": "@DavidBrowne-Microsoft: Ah thank you very much. The reason I&#39;m not seeing it is because I only use the Reader once. I&#39;ll refactor my code just to guard against future changes."}], "tags": [], "owner": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1570047772, "creation_date": 1570047772, "answer_id": 58208878, "question_id": 58208661, "link": "https://stackoverflow.com/questions/58208661/open-lock-truncate-and-write-to-a-file/58208878#58208878", "title": "Open, Lock, Truncate and Write to a file", "body": "<p>I don't know why I didn't think of this until now, but I found my answer in the source code for System.IO.File:</p>\n\n<pre><code>[SecurityCritical]\nprivate static void InternalWriteAllText(\n  string path,\n  string contents,\n  Encoding encoding,\n  bool checkHost)\n{\n  using (StreamWriter streamWriter = new StreamWriter(path, false, encoding, 1024, checkHost))\n    streamWriter.Write(contents);\n}\n</code></pre>\n\n<p>I didn't realize that I could safely open the file for writing, not from the existing FileStream, but by specifying the path. This allowed me to set <code>append</code> to false.</p>\n\n<p>EDIT:</p>\n\n<p>A simpler solution is found in this answer: <a href=\"https://stackoverflow.com/questions/6537926/how-to-truncate-a-file-in-c\">How to truncate a file in c#?</a></p>\n\n<p>Just call <code>SetLength(0)</code> before writing.</p>\n"}], "owner": {"reputation": 3923, "user_id": 1721423, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/TDlpy.jpg?s=128&g=1", "display_name": "Troels Larsen", "link": "https://stackoverflow.com/users/1721423/troels-larsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1570047930, "answer_count": 1, "score": 0, "last_activity_date": 1570047772, "creation_date": 1570046811, "question_id": 58208661, "link": "https://stackoverflow.com/questions/58208661/open-lock-truncate-and-write-to-a-file", "closed_reason": "Duplicate", "title": "Open, Lock, Truncate and Write to a file", "body": "<p>I'm trying to replicate Excel's behaviour when opening and editing files, that is:</p>\n\n<ul>\n<li>File is opened and locked for exclusive write access</li>\n<li>Other users are allowed to read the file</li>\n</ul>\n\n<p>I'm using the following code to open the file, read and prepare for later writing:</p>\n\n<pre><code>_fileStream = new FileStream(filePath, FileMode.Open, FileAccess.ReadWrite, FileShare.Read);\n_fileReader = new StreamReader(_fileStream);\n_fileWriter = new StreamWriter(_fileStream);\nvar contents = _fileReader.ReadToEnd();\n</code></pre>\n\n<p>(In a class that implements IDisposable and disposes the streams)</p>\n\n<p>It apparently works fine aside from one issue when I later save using the following code:</p>\n\n<pre><code>_fileWriter.BaseStream.Seek(0, SeekOrigin.Begin);\n_fileWriter.Write(content);\n_fileWriter.Flush();\n</code></pre>\n\n<p>The problem is that I need to truncate the file before saving, and the above only overwrites. If the new content is shorter than what was loaded, I end up with a bad file due to partial old content.</p>\n\n<p>How do I truncate a filestream before writing (but not before reading)?</p>\n\n<p>Is there perhaps a better way to gain exclusive access to the file than what I am doing?</p>\n"}, {"tags": ["c#", "datetime", "timespan"], "comments": [{"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1570047172, "post_id": 58208641, "comment_id": 102795375, "body": "Have you tried returning temp&#39;s date + time instead of value&#39;s date: <code>return temp.Date.Add(time);</code>"}, {"owner": {"reputation": 15, "user_id": 12150078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103c1cd6ef29f1923d51e54d20e79ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Carl900", "link": "https://stackoverflow.com/users/12150078/carl900"}, "reply_to_user": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1570047751, "post_id": 58208641, "comment_id": 102795570, "body": "@dvo yes, this is it... Thanks a lot"}, {"owner": {"reputation": 15, "user_id": 12150078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103c1cd6ef29f1923d51e54d20e79ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Carl900", "link": "https://stackoverflow.com/users/12150078/carl900"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1570048245, "post_id": 58208641, "comment_id": 102795746, "body": "@RufusL sorry, my type mistake during typing question. You are right. It should be 20:45:00"}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 0, "creation_date": 1570048291, "post_id": 58208641, "comment_id": 102795769, "body": "@Carl900 I typed it out as an answer instead of a comment. Please mark your question as accepted. Glad this worked for you."}], "answers": [{"tags": [], "owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "is_accepted": true, "score": 1, "last_activity_date": 1570048244, "creation_date": 1570048244, "answer_id": 58208968, "question_id": 58208641, "link": "https://stackoverflow.com/questions/58208641/calculating-next-time-and-rounding-date-time/58208968#58208968", "title": "Calculating next time and rounding date-time", "body": "<p>The return value is being calculated from the wrong variable. Use <code>temp</code> instead of <code>value</code>:</p>\n\n<pre><code> private static DateTime NextTime(DateTime value, TimeSpan interval)\n {\n     var temp = value.Add(new TimeSpan(interval.Ticks / 2));\n     var time = new TimeSpan((temp.TimeOfDay.Ticks / interval.Ticks) * interval.Ticks);\n\n     return temp.Date.Add(time);\n }\n</code></pre>\n\n<p>The reason for this is because you're adding your interval to the value. If it rolls over a midnight/end of day your <code>value.Date</code> will return the wrong day. Since you store <code>temp</code>, you can return <code>temp.Date.Add(time)</code></p>\n"}, {"comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1570049347, "post_id": 58209096, "comment_id": 102796126, "body": "Not sure how 5 additional lines of code improves upon the accepted answer?"}], "tags": [], "owner": {"reputation": 26, "user_id": 12150701, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r6-t3XtdbQ8/AAAAAAAAAAI/AAAAAAAAAPE/g1DZuQE9aEg/photo.jpg?sz=128", "display_name": "F&#225;bio Albino Bissolotti", "link": "https://stackoverflow.com/users/12150701/f%c3%a1bio-albino-bissolotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1570049003, "creation_date": 1570049003, "answer_id": 58209096, "question_id": 58208641, "link": "https://stackoverflow.com/questions/58208641/calculating-next-time-and-rounding-date-time/58209096#58209096", "title": "Calculating next time and rounding date-time", "body": "<p>Using DateTime.Add(TimeSpan) the time is concat in the date.</p>\n\n<p>I'v changed your code in this way and it did the trick:</p>\n\n<pre><code>    private static DateTime NextTime(DateTime value, TimeSpan interval)\n    {\n        var temp = value.Add(new TimeSpan(interval.Ticks / 2));\n        var time = new TimeSpan((temp.TimeOfDay.Ticks / interval.Ticks) * interval.Ticks);\n        if (time == new TimeSpan(0, 0, 0)) { time = new TimeSpan(24, 0,0); }\n        var timeDiff = time - value.TimeOfDay;\n\n        var finalDate = value.AddHours(timeDiff.Hours);\n        finalDate = finalDate.AddMinutes(timeDiff.Minutes);\n        finalDate = finalDate.AddSeconds(timeDiff.Seconds);\n\n        return finalDate;\n    }\n</code></pre>\n\n<p>I believe that must have some way more beautifull to do that but it works.</p>\n"}], "owner": {"reputation": 15, "user_id": 12150078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103c1cd6ef29f1923d51e54d20e79ee9?s=128&d=identicon&r=PG&f=1", "display_name": "Carl900", "link": "https://stackoverflow.com/users/12150078/carl900"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58208968, "answer_count": 2, "score": 1, "last_activity_date": 1570049003, "creation_date": 1570046686, "last_edit_date": 1570048277, "question_id": 58208641, "link": "https://stackoverflow.com/questions/58208641/calculating-next-time-and-rounding-date-time", "title": "Calculating next time and rounding date-time", "body": "<p>I have datetime like 2019-02-10 20:39:23 and I want to round this time to the next one apart 15 min to the closest one. So it means the next one should be 2019-02-10 21:45:00 or another example 21:24:17 should became 21:45:00... The code below works fine until I have datetime like 2019-02-10 23:54:20. Then the next one rounded should be 2019-03-10 00:00:00 but I get 2019-02-10 00:00:00. </p>\n\n<p>Here is how I'm doing it:   </p>\n\n<pre><code>static void Main(string[] args)\n{\n    DateTime dt = DateTime.Parse(\"2019-02-10 23:54:23\");\n\n    var interval = TimeSpan.FromMinutes(15);\n\n     DateTime last = NextTime(dt, interval);\n\n     Console.WriteLine(last);\n\n    }\n\n    private static DateTime NextTime(DateTime value, TimeSpan interval)\n    {\n        var temp = value.Add(new TimeSpan(interval.Ticks / 2));\n        var time = new TimeSpan((temp.TimeOfDay.Ticks / interval.Ticks) * interval.Ticks);\n\n        return value.Date.Add(time);\n    }\n</code></pre>\n\n<p>For output I get 2019-02-10 00:00:00 instead of 2019-03-10 00:00:00</p>\n\n<p>Can't figure out why doesn't turn to next day... </p>\n"}, {"tags": ["c#", ".net-core", "entity-framework-core"], "owner": {"reputation": 109, "user_id": 11023013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60b0a67b67645af0e5f088fa8eb34a6c?s=128&d=identicon&r=PG&f=1", "display_name": "Itzhak Eretz Kdosha", "link": "https://stackoverflow.com/users/11023013/itzhak-eretz-kdosha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570046073, "creation_date": 1570046073, "question_id": 58208508, "link": "https://stackoverflow.com/questions/58208508/how-to-modify-parent-entities-on-child-updates-one-to-many", "title": "How to modify parent entities on child updates? (one to many)", "body": "<p>I am developing a .net core 2.2 web api with .net EF core and I have a table for Tasks and a table for Rejects.</p>\n\n<p>Each task can have 0 or more rejects and each Reject has one task.</p>\n\n<p>(Task 1&lt;--->* Reject)</p>\n\n<p>Each reject has one of two statuses: REJECT_TODO, REJECT_DONE.</p>\n\n<p>Each task has one of three statuses: TODO, DONE, REJECTED.</p>\n\n<p>The following behavior is desired:\nIf a task has a reject that has a status: REJECT_TODO then it is REJECTED.</p>\n\n<p>If a task has no rejects or only reject that has a status: REJECT_DONE then it could be either TODO/DONE.</p>\n\n<p>Also the rejects that are pulled from the database for the check are not updated with the current changes so updated/deleted reject will appear unchanged.</p>\n\n<p>(Default status after beeing REJECTED is TODO)</p>\n\n<p>I want all of this to be automatic for any CRUD operation on a Reject.</p>\n\n<p>I have already tried iterating changes for Reject entity in DbContext::SaveChanges.</p>\n\n<p>The issue is I need to query the database for a non-updated Task entity and perform Update for the task which will override any changes already made to it for the current SaveChanges call.</p>\n\n<p>I can not put it my DAL because of the same reason.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public class Task\n    {\n        [Key]\n        public Guid Id { get; set; }\n\n        public string Title { get; set; }\n\n        public TaskStatus Status { get; set; }\n\n        public List&lt;Reject&gt; Rejects { get; set; }  \n    }\n\n    public class Reject\n    {\n        [Key]\n        public Guid Id { get; set; }\n\n        public string Description { get; set; }\n\n        public RejectStatus Status { get; set; }\n\n        public Guid TaskId { get; set; }\n    }\n\n    public enum TaskStatus\n    {\n        TODO, DONE, REJECTED\n    }\n\n    public enum RejectStatus\n    {\n        REJECT_TODO, REJECT_DONE\n    }\n</code></pre>\n\n<p>Expected results:</p>\n\n<p>Create: if a Reject is added to a Task (with REJECT_TODO by default) then the parent Task will be REJECTED</p>\n\n<p>Delete/Update: if a Reject is deleted/updated from a Task then if there are no more rejects with status REJECT_TODO for that task it will be TODO</p>\n\n<p>Thanks! :)</p>\n"}, {"tags": ["java", "c#", "vbscript"], "comments": [{"owner": {"reputation": 12143, "user_id": 1021725, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b935010f9ac8bee2a8df5b1c6ee6cb?s=128&d=identicon&r=PG", "display_name": "David Brossard", "link": "https://stackoverflow.com/users/1021725/david-brossard"}, "edited": false, "score": 1, "creation_date": 1570045871, "post_id": 58208428, "comment_id": 102794839, "body": "Consider asking on <a href=\"http://security.stackexchange.com\">security.stackexchange.com</a>"}, {"owner": {"reputation": 687, "user_id": 3935323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glmTt.png?s=128&g=1", "display_name": "RaceYouAnytime", "link": "https://stackoverflow.com/users/3935323/raceyouanytime"}, "edited": false, "score": 0, "creation_date": 1570046162, "post_id": 58208428, "comment_id": 102794948, "body": "Have you considered Selenium?"}, {"owner": {"reputation": 101, "user_id": 1100941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f7a9135bb68fda968ccbc2d95100014?s=128&d=identicon&r=PG", "display_name": "user1100941", "link": "https://stackoverflow.com/users/1100941/user1100941"}, "reply_to_user": {"reputation": 687, "user_id": 3935323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glmTt.png?s=128&g=1", "display_name": "RaceYouAnytime", "link": "https://stackoverflow.com/users/3935323/raceyouanytime"}, "edited": false, "score": 0, "creation_date": 1570118231, "post_id": 58208428, "comment_id": 102821105, "body": "@RaceYouAnytime - I have never used Selenium, I would love to know more about it and how to implement the solution. Do you happen know how cost effective would it be?"}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "reply_to_user": {"reputation": 12143, "user_id": 1021725, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b935010f9ac8bee2a8df5b1c6ee6cb?s=128&d=identicon&r=PG", "display_name": "David Brossard", "link": "https://stackoverflow.com/users/1021725/david-brossard"}, "edited": false, "score": 1, "creation_date": 1570121944, "post_id": 58208428, "comment_id": 102822742, "body": "@DavidBrossard: this would be off-topic on <a href=\"https://security.stackexchange.com\">Information Security</a>: either it will be seen as not related to security at all (i.e. off-topic) or it would be seen as an attempt to bypass existing security measures in the form of the session timeout (off-topic too)."}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1570122568, "post_id": 58208428, "comment_id": 102822973, "body": "The requirement is not fully clear for me: if this is something which just must prevent the session timeout so that the user can continue at any time without logging in again then it must likely run inside the users browser to get access to cookies, local storage, have same browser fingerprint etc. It might also need to be adapted to the specific web application."}, {"owner": {"reputation": 101, "user_id": 1100941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f7a9135bb68fda968ccbc2d95100014?s=128&d=identicon&r=PG", "display_name": "user1100941", "link": "https://stackoverflow.com/users/1100941/user1100941"}, "reply_to_user": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1570133723, "post_id": 58208428, "comment_id": 102827632, "body": "@SteffenUllrich Current requirement is to run a script/automation/solution that logs in to multiple applications silently without interrupting user. We&#39;re trying to figure out different ways to do it. We can use an RPA but it takes control of user screen and disrupts their work. I&#39;m thinking something along the lines of a web crawler."}, {"owner": {"reputation": 89578, "user_id": 3081018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2NYm.png?s=128&g=1", "display_name": "Steffen Ullrich", "link": "https://stackoverflow.com/users/3081018/steffen-ullrich"}, "edited": false, "score": 0, "creation_date": 1570134589, "post_id": 58208428, "comment_id": 102827979, "body": "@user1100941: It is still not clear. Why does it need to run on the users PC if it just automates stuff? It can run anywhere then (cloud etc). And for example Chrome can be run in headless mode, Firefox could be run inside some virtual display (XNest) etc."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 1100941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f7a9135bb68fda968ccbc2d95100014?s=128&d=identicon&r=PG", "display_name": "user1100941", "link": "https://stackoverflow.com/users/1100941/user1100941"}, "edited": false, "score": 0, "creation_date": 1570731645, "post_id": 58251620, "comment_id": 103015975, "body": "Great response @multithr3at3d ! Thank you very much. I&#39;ll try this out and let you know how it goes."}], "tags": [], "owner": {"reputation": 340, "user_id": 1974978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qM6vn.jpg?s=128&g=1", "display_name": "multithr3at3d", "link": "https://stackoverflow.com/users/1974978/multithr3at3d"}, "is_accepted": false, "score": 0, "last_activity_date": 1570303406, "creation_date": 1570303406, "answer_id": 58251620, "question_id": 58208428, "link": "https://stackoverflow.com/questions/58208428/how-do-i-login-silently-to-multiple-web-applications-without-user-being-interrup/58251620#58251620", "title": "How do I login silently to multiple web applications without user being interrupted to keep their sessions active", "body": "<p>Of course this is possible. The biggest issue you will likely face is that different websites may use different mechanisms for authentication, but most could probably be generalized. </p>\n\n<p>Here's a simple single-threaded example in Python, but any language could be used and concurrency could be implemented.</p>\n\n<pre><code>import requests\nimport re\n\n\n# Put the configuration for each website in a structure like this\nwebsites = [\n    {\n        'url': 'https://example.com/login',\n        'form': {'username': 'myusername', 'password': 'password123'}\n        'csrf_token': {'regex': '&lt;input type=\"hidden\" name=\"csrf_token\" value=\"(.*)\"&gt;', 'post': 'csrf_token'},\n        'check': 'Welcome, myusername!',\n    },\n    {\n        'url': 'https://example2.com/login.php',\n        'form': {'username': 'myotheruser', 'password': 'qwertyuiop'}\n        'csrf_token': {'regex': '&lt;input type=\"hidden\" name=\"_token\" value=\"(.*)\"&gt;', 'post': '_token'},\n        'check': 'My Account',\n    },\n    ... more websites\n]\n\nfor website in websites:\n    # Use sessions so cookies are preserved\n    session = requests.Session()\n\n    # If the website requires CSRF tokens, we need to fetch the login page first to extract the token\n    if website.get('csrf_token'):\n        r = session.get(website['url'])\n        csrf_token = re.search(website['csrf_token']['regex'], r.text).group(1)\n        # Update post params with CSRF token value\n        website['form'][website['csrf_token']['post']] = csrf_token\n    r = session.post(website['url'], data=website['form'])\n\n    # Check if login worked\n    if website['check'] in r.text:\n        print(\"Successfully logged in to:\", website['url'])\n    else:\n        print(\"Failed to log in to:\", website['url'])\n\n\n\n</code></pre>\n\n<p>Note that this example makes some naive assumptions about CSRF tokens, nor does it implement error handling. Hopefully this gives you an idea.</p>\n"}], "owner": {"reputation": 101, "user_id": 1100941, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f7a9135bb68fda968ccbc2d95100014?s=128&d=identicon&r=PG", "display_name": "user1100941", "link": "https://stackoverflow.com/users/1100941/user1100941"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570303406, "creation_date": 1570045680, "last_edit_date": 1570118386, "question_id": 58208428, "link": "https://stackoverflow.com/questions/58208428/how-do-i-login-silently-to-multiple-web-applications-without-user-being-interrup", "title": "How do I login silently to multiple web applications without user being interrupted to keep their sessions active", "body": "<p>We need to login to 20 - 30 different web applications and enter credentials to keep user active throughout the day. This needs to happen in the background on user's machine without user being interrupted. What technology do we use here to achieve this?</p>\n\n<p>We thought of using an RPA but this is intrusive and causes user interruption. User will be locked out of using their machine while RPA is running.</p>\n\n<p>We expect this automated code to login to multiple web application one at a time or in a parallel thread (no preference) throughout the day on a schedule or user can kick this off. This automated solution needs to be able to hold user credentials and keep user free from entering their credentials.</p>\n\n<p>Can we use C#, vbscript, java or any other software development tool to achieve this type of effort?</p>\n"}, {"tags": ["javascript", "c#", "html", "web-scraping", "html-agility-pack"], "answers": [{"tags": [], "owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "is_accepted": false, "score": 0, "last_activity_date": 1570048733, "creation_date": 1570048733, "answer_id": 58209044, "question_id": 58208378, "link": "https://stackoverflow.com/questions/58208378/html-agility-pack-ignores-br-tag/58209044#58209044", "title": "HTML Agility Pack ignores &lt;br&gt; tag", "body": "<p>The <code>InnerText</code> property will remove all elements, leaving only the text. If you want to keep the <code>&lt;br&gt;</code> elements, you should use <code>InnerHtml</code> instead. Here's an example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var table = doc.DocumentNode.SelectSingleNode(\"//table[@class='rishum-groups']\")\n            .Descendants(\"tr\")\n            .Skip(1)\n            .Where(tr =&gt; tr.Elements(\"td\").Count() &gt; 1)\n            .Select(tr =&gt; tr.Elements(\"td\").Select(td =&gt; td.InnerHTML.Trim()).ToList())\n            .ToList();\n</code></pre>\n\n<p>If you need to parse those values, you can use the <code>Split()</code> method on the string. Here's an example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var myValues = myTextField.Split(new string[] { \"&lt;br&gt;\" }, StringSplitOptions.None);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12155793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1f88a43ff3d6923b6fdba9716900e2?s=128&d=identicon&r=PG&f=1", "display_name": "Charles1999", "link": "https://stackoverflow.com/users/12155793/charles1999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570048733, "creation_date": 1570045472, "question_id": 58208378, "link": "https://stackoverflow.com/questions/58208378/html-agility-pack-ignores-br-tag", "title": "HTML Agility Pack ignores &lt;br&gt; tag", "body": "<p>I wrote the following code in C# to retrieve the contents of a table in a web-page (After taking permission for that). It works almost perfect but some of the cells contains multiple values like this</p>\n\n<pre><code> _______\n|   10  |\n|   11  |\n|   12  |\n|___13__|\n</code></pre>\n\n<p>But I get the value <code>10111213</code> instead.</p>\n\n<p>Here's a link so you could take a look the the table code if needed for further clear vision:\nttps://ug3.technion.ac.il/rishum/course/104031</p>\n\n<pre><code>WebClient webClient = new WebClient();\nstring page = webClient.DownloadString(\"https://ug3.technion.ac.il/rishum/course/104031\");\n\nHtmlAgilityPack.HtmlDocument doc = new HtmlAgilityPack.HtmlDocument();\ndoc.LoadHtml(page);\n\nList&lt;List&lt;string&gt;&gt; table = doc.DocumentNode.SelectSingleNode(\"//table[@class='rishum-groups']\")\n            .Descendants(\"tr\")\n            .Skip(1)\n            .Where(tr =&gt; tr.Elements(\"td\").Count() &gt; 1)\n            .Select(tr =&gt; tr.Elements(\"td\").Select(td =&gt; td.InnerText.Trim()).ToList())\n            .ToList();\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "linq"], "answers": [{"tags": [], "owner": {"reputation": 1694, "user_id": 7217806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb163419649048db63b30f1394c83af3?s=128&d=identicon&r=PG&f=1", "display_name": "user7217806", "link": "https://stackoverflow.com/users/7217806/user7217806"}, "is_accepted": true, "score": 0, "last_activity_date": 1570089069, "creation_date": 1570089069, "answer_id": 58214624, "question_id": 58208301, "link": "https://stackoverflow.com/questions/58208301/controller-where-clause-how-to-select-where-not-like/58214624#58214624", "title": "Controller Where clause - how to select where not like", "body": "<p>To query for the 'Open' <code>Status</code> you could use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.contains?view=netcore-2.2\" rel=\"nofollow noreferrer\">Enumerable.Contains</a>. You could also use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.string.isnullorempty?view=netcore-2.2\" rel=\"nofollow noreferrer\">String.IsNullOrEmpty</a> to simplify checking whether the <code>Status</code> is unset.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>var openStatus = new[] { \"New\", \"In Process\" };\nvar helpdesk = from m in Context.Clients\n    where (m.Status == Status || (Status == \"Open\" &amp;&amp; openStatus.Contains(m.Status)) || string.IsNullOrEmpty(Status))\n    select m;\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 11990439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282a7f64b62e6e5b77c3a0d5b448d462?s=128&d=identicon&r=PG&f=1", "display_name": "SEBTulsa", "link": "https://stackoverflow.com/users/11990439/sebtulsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 58214624, "answer_count": 1, "score": 0, "last_activity_date": 1570089069, "creation_date": 1570045101, "last_edit_date": 1570082842, "question_id": 58208301, "link": "https://stackoverflow.com/questions/58208301/controller-where-clause-how-to-select-where-not-like", "title": "Controller Where clause - how to select where not like", "body": "<p>I want to return a sql query for the column status. I can have 3 unique status values: New, In Process and Complete.  I want to query for these 3 plus a Open which would include New and In Process but not Complete. How do I do that in my controller code? Can I somehow use a IN Clause?\nStatus would be the parameter that I want an Open.\nHere is how I am doing it now (Just added the All Open, not sure how to tie that into the where clause:</p>\n\n<p>My Viewbag:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>List&lt;SelectListItem&gt; Stat = new List&lt;SelectListItem&gt;()\n{\n    new SelectListItem { Text = \"New\", Value = \"New\" },\n    new SelectListItem { Text = \"In Process\", Value = \"In Process\" },\n    new SelectListItem { Text = \"Complete\", Value = \"Complete\" },\n    new SelectListItem { Text = \"All Open\", Value = \"Open\" },\n    new SelectListItem { Text = \"All\", Value = \"\" },\n};\n</code></pre>\n\n<p>Controller Code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public PartialViewResult ChangeDrop(string Status, string Tech)\n{\n    var helpdesk = from m in db.HelpDesks\n           where (m.Status == Status || Status == null || Status == \"\") &amp;&amp; (m.Technician == Tech || Tech == null || Tech == \"\")\n           select m;\n           return PartialView(\"DropdownTable\", helpdesk);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "request"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1570047344, "post_id": 58208216, "comment_id": 102795425, "body": "Its 2019. Microsoft has already abandoned IE and so should you (if possible ofc)"}, {"owner": {"reputation": 1, "user_id": 11451485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZzgJxygpdw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnuTKC7Tg9H4XA9g63wNYZwZl03w/mo/photo.jpg?sz=128", "display_name": "Namerasad", "link": "https://stackoverflow.com/users/11451485/namerasad"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1570118428, "post_id": 58208216, "comment_id": 102821207, "body": "Visual Studio uses IE by default, I don&#39;t wanna poke around too much with Awesomium and stuff as I&#39;m no expert and can screw things up a bit."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11451485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZzgJxygpdw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnuTKC7Tg9H4XA9g63wNYZwZl03w/mo/photo.jpg?sz=128", "display_name": "Namerasad", "link": "https://stackoverflow.com/users/11451485/namerasad"}, "edited": false, "score": 0, "creation_date": 1570118342, "post_id": 58208332, "comment_id": 102821155, "body": "So 1 answer, 1 question to ask for me. The answer: I just want to poke around, I want to directly interfere with HTML elements directly, like putting text in a textbox (sorry if I sound kinda dumb, I am pretty bad at server stuff and all). And the question, where to the code? I dumped it in Form1.vb and didn&#39;t see it working... Regardless, thanks for answering!"}, {"owner": {"reputation": 1, "user_id": 11451485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZzgJxygpdw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnuTKC7Tg9H4XA9g63wNYZwZl03w/mo/photo.jpg?sz=128", "display_name": "Namerasad", "link": "https://stackoverflow.com/users/11451485/namerasad"}, "edited": false, "score": 0, "creation_date": 1570128279, "post_id": 58208332, "comment_id": 102825414, "body": "Ok, I was asking where to put the code, and I mistook .cs for .vb (so sorry for the confusion), so you kind of misunderstood me I think. So where to put it?"}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "reply_to_user": {"reputation": 1, "user_id": 11451485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZzgJxygpdw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnuTKC7Tg9H4XA9g63wNYZwZl03w/mo/photo.jpg?sz=128", "display_name": "Namerasad", "link": "https://stackoverflow.com/users/11451485/namerasad"}, "edited": false, "score": 0, "creation_date": 1570130742, "post_id": 58208332, "comment_id": 102826383, "body": "It wouldn&#39;t really matter so long as you call it to write the necessary registry entries..."}, {"owner": {"reputation": 1, "user_id": 11451485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZzgJxygpdw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnuTKC7Tg9H4XA9g63wNYZwZl03w/mo/photo.jpg?sz=128", "display_name": "Namerasad", "link": "https://stackoverflow.com/users/11451485/namerasad"}, "edited": false, "score": 0, "creation_date": 1570134706, "post_id": 58208332, "comment_id": 102828021, "body": "I&#39;m not too sure, I tried putting it in Form1.cs and a C# class. Sorry if this is annoying, but when things don&#39;t work I just got to ask."}, {"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "reply_to_user": {"reputation": 1, "user_id": 11451485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZzgJxygpdw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnuTKC7Tg9H4XA9g63wNYZwZl03w/mo/photo.jpg?sz=128", "display_name": "Namerasad", "link": "https://stackoverflow.com/users/11451485/namerasad"}, "edited": false, "score": 0, "creation_date": 1570156880, "post_id": 58208332, "comment_id": 102833042, "body": "Can you edit the question to say what you did, and more accurately define &quot;doesn&#39;t work&quot;"}], "tags": [], "owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "is_accepted": false, "score": -2, "last_activity_date": 1570045245, "creation_date": 1570045245, "answer_id": 58208332, "question_id": 58208216, "link": "https://stackoverflow.com/questions/58208216/how-to-set-the-webbrowser-object-in-the-net-framework-to-use-whatever-highest-v/58208332#58208332", "title": "How to set the WebBrowser object in the .NET Framework to use whatever highest version of IE is installed on the users system", "body": "<p>By default it's IE7. You can bang a registry entry in to make it later:</p>\n\n<pre><code>public static void EnsureBrowserEmulationEnabled(string exename = \"YourAppName.exe\", bool uninstall = false)\n{\n\n    try\n    {\n        using (\n            var rk = Registry.CurrentUser.OpenSubKey(\n                    @\"SOFTWARE\\Microsoft\\Internet Explorer\\Main\\FeatureControl\\FEATURE_BROWSER_EMULATION\", true)\n        )\n        {\n            if (!uninstall)\n            {\n                dynamic value = rk.GetValue(exename);\n                if (value == null)\n                    rk.SetValue(exename, (uint)11001, RegistryValueKind.DWord);\n            }\n            else\n                rk.DeleteValue(exename);\n        }\n    }\n    catch\n    {\n    }\n}\n</code></pre>\n\n<p>Code courtesy of <a href=\"https://weblog.west-wind.com/posts/2011/may/21/web-browser-control-specifying-the-ie-version\" rel=\"nofollow noreferrer\">this blog</a></p>\n\n<p>The values you can use in place of 11001 can be found <a href=\"https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/general-info/ee330730(v=vs.85)?redirectedfrom=MSDN#browser_emulation\" rel=\"nofollow noreferrer\">in MSDN</a></p>\n\n<p>Alternatively; can you do what you want by using WebClient/HttpWebRequest rather than poking at a web browser control to navigate around? Or can you find some web service/api version of the site that will respond with JSON rather than trying to manipulate html?</p>\n\n<p>I was mildly curious why you'd care what a page looks like if it's a bot that is using it, but perhaps you're hitting a \"your IE is too old\" from the server..</p>\n"}], "owner": {"reputation": 1, "user_id": 11451485, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZzgJxygpdw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdnuTKC7Tg9H4XA9g63wNYZwZl03w/mo/photo.jpg?sz=128", "display_name": "Namerasad", "link": "https://stackoverflow.com/users/11451485/namerasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570045245, "creation_date": 1570044701, "question_id": 58208216, "link": "https://stackoverflow.com/questions/58208216/how-to-set-the-webbrowser-object-in-the-net-framework-to-use-whatever-highest-v", "title": "How to set the WebBrowser object in the .NET Framework to use whatever highest version of IE is installed on the users system", "body": "<p>So the title says it all, I would like C# code (so please, PLEASE make sure it isn't Visual Basic code). And that is all I want to ask. I have tried the web browser built in to the .NET framework, but it looks like some old version of IE (if I am right or not). And if you answered, well thanks I guess! I need this for a small project where a bot would just log on to a website (its a base for future projects).</p>\n"}, {"tags": ["c#", "xamarin", "xamarin.android"], "answers": [{"tags": [], "owner": {"reputation": 1306, "user_id": 7016022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84121a616931867f6f7ce9b83d2e829d?s=128&d=identicon&r=PG", "display_name": "Raimo", "link": "https://stackoverflow.com/users/7016022/raimo"}, "is_accepted": true, "score": 1, "last_activity_date": 1570122724, "last_edit_date": 1570122724, "creation_date": 1570048536, "answer_id": 58209013, "question_id": 58208206, "link": "https://stackoverflow.com/questions/58208206/xamarin-android-display-alert-before-swipe-delete/58209013#58209013", "title": "Xamarin Android: Display alert before swipe delete", "body": "<p>Another constructor gets called then you think, which actually results in the <code>context</code> field being <code>null</code>.</p>\n\n<p>This line below:</p>\n\n<pre><code>RecyclerAdapter mAdapter = new RecyclerAdapter(mEmails, this);\n</code></pre>\n\n<p>Actually calls this constructor:</p>\n\n<pre><code>public RecyclerAdapter(List&lt;Email&gt; emails, Activity activity)\n{\n    mEmails = emails;\n    mActivity = activity;\n}\n</code></pre>\n\n<p>I would suggest cleaning up your RecyclerAdapter class a bit though, perhaps something like below:</p>\n\n<pre><code>public class RecyclerAdapter : RecyclerView.Adapter\n{\n    private List&lt;Email&gt; mEmails;\n    private Activity mActivity;\n\n    public RecyclerAdapter(List&lt;Email&gt; emails, Activity activity)\n    {\n        mEmails = emails;\n        mActivity = activity;\n    }\n\n    public override int ItemCount =&gt; mEmails.Count;\n\n    public override RecyclerView.ViewHolder OnCreateViewHolder(ViewGroup parent, int viewType)\n    {\n        View row = LayoutInflater.From(parent.Context).Inflate(Resource.Layout.row, parent, false);\n        RecyclerViewHolder view = new RecyclerViewHolder(row);\n        return view;\n    }\n    public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\n    {\n        RecyclerViewHolder myHolder = holder as RecyclerViewHolder;\n        myHolder.mDate.Text = ((Email)mEmails[position]).date;\n        myHolder.mSubject.Text = ((Email)mEmails[position]).Subject;\n        myHolder.mMessage.Text = ((Email)mEmails[position]).Message;\n    }\n\n    public void RemoveItem(int position)\n    {\n        //Pass mActivity here as an argument instead of the context field like you did before:\n        Android.App.AlertDialog.Builder dialog = new AlertDialog.Builder(mActivity);\n        AlertDialog alert = dialog.Create();\n        alert.SetTitle(\"Atenion\");\n        alert.SetMessage(\"About to delete a row permanently, do you want to proceed ?\");\n        alert.SetButton(\"OK\", (c, ev) =&gt;\n        {\n            mEmails.RemoveAt(position);\n            NotifyDataSetChanged();\n            NotifyItemChanged(position);\n        });\n        alert.SetButton2(\"CANCEL\", (c, ev) =&gt; { });\n        alert.Show();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10463858, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6gwHDVO7o7g/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DU_NAcMBiU5v7OgojgUnHoHxPzGxQ/mo/photo.jpg?sz=128", "display_name": "taniguchi santos", "link": "https://stackoverflow.com/users/10463858/taniguchi-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271, "favorite_count": 0, "accepted_answer_id": 58209013, "answer_count": 1, "score": 0, "last_activity_date": 1570122724, "creation_date": 1570044655, "last_edit_date": 1570120114, "question_id": 58208206, "link": "https://stackoverflow.com/questions/58208206/xamarin-android-display-alert-before-swipe-delete", "title": "Xamarin Android: Display alert before swipe delete", "body": "<p>I've implemented a <code>recyclerview</code> and inserted into it a swipe callback and in this case the swipe is for deleting.</p>\n\n<p>I wonder how to insert an alert before deleting, to prevent a user deleting by mistake?</p>\n\n<p>I've tried to implement the alert but is giving the following error:</p>\n\n<blockquote>\n  <p>Java.Lang.NullPointerException: 'Attempt to invoke virtual method 'android.content.res.Resources$Theme android.content.Context.getTheme()' on a null object reference'</p>\n</blockquote>\n\n<p>my swipe callback:</p>\n\n<pre><code>public class SwipeToDeleteCallback : ItemTouchHelper.SimpleCallback\n{\n    private View v;\n    private List&lt;Email&gt; mEmails;\n    private Context context;\n    private RecyclerAdapter mdapter;\n    private Android.Graphics.Drawables.Drawable deleteIcon;\n    private int intrinsicWidth;\n    private int intrinsicHeight;\n    private Android.Graphics.Drawables.ColorDrawable background;\n    private Color backgroundColor;\n    private Paint clearPaint;\n\n    public SwipeToDeleteCallback(int dragDirs, int swipeDirs, Context context, RecyclerAdapter mRecyclerView, List&lt;Email&gt; emails) : this(dragDirs, swipeDirs, context)\n    {\n        this.context = context;\n        this.mdapter = mRecyclerView;\n        deleteIcon = ContextCompat.GetDrawable(context, Resource.Drawable.alter_delete);\n        intrinsicWidth = deleteIcon.IntrinsicWidth;\n        intrinsicHeight = deleteIcon.IntrinsicHeight;\n        background = new Android.Graphics.Drawables.ColorDrawable();\n        backgroundColor = Color.ParseColor(\"#f44336\");\n        clearPaint = new Paint();\n        emails = mEmails;\n        clearPaint.SetXfermode(new PorterDuffXfermode(PorterDuff.Mode.Clear));\n    }\n\n\n\n    public SwipeToDeleteCallback(int dragDirs, int swipeDirs, Context context) : base(dragDirs, swipeDirs)\n    {\n        this.context = context;\n    }\n\n    public override int GetMovementFlags(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder)\n    {\n        if (viewHolder.AdapterPosition == 10)\n        {\n            return 0;\n        }\n\n        return base.GetMovementFlags(recyclerView, viewHolder);\n    }\n\n    public override void OnChildDraw(Canvas c, RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, bool isCurrentlyActive)\n    {\n        base.OnChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\n    }\n\n    public override bool OnMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target)\n    {\n        //throw new NotImplementedException();\n        return false;\n    }\n\n    public override void OnChildDrawOver(Canvas c, RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, bool isCurrentlyActive)\n    {\n        var itemView = viewHolder.ItemView;\n        var itemHeight = itemView.Bottom - itemView.Top;\n        var isCanceled = dX == 0f &amp;&amp; !isCurrentlyActive;\n\n        if (isCanceled)\n        {\n            clearCanvas(c, itemView.Right + dX, (float)itemView.Top, (float)itemView.Right, (float)itemView.Bottom);\n            base.OnChildDrawOver(c, recyclerView\n                , viewHolder, dX, dY, actionState, isCurrentlyActive);\n            return;\n        }\n        background.Color = backgroundColor;\n        background.SetBounds(itemView.Right + (int)dX, itemView.Top, itemView.Right, itemView.Bottom);\n        background.Draw(c);\n\n        var deleteIconTop = itemView.Top + (itemHeight - intrinsicHeight) / 2;\n        var deleteIconMargin = (itemHeight - intrinsicHeight) / 2;\n        var deleteIconLeft = itemView.Right - deleteIconMargin - intrinsicWidth;\n        var deleteIconRight = itemView.Right - deleteIconMargin;\n        var deleteIconBottom = deleteIconTop + intrinsicHeight;\n\n        deleteIcon.SetBounds(deleteIconLeft, deleteIconTop, deleteIconRight, deleteIconBottom);\n        deleteIcon.Draw(c);\n\n        base.OnChildDrawOver(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\n    }\n\n    private void clearCanvas(Canvas c, float v, float top, float right, float bottom)\n    {\n        c.DrawRect(v, top, right, bottom, clearPaint);\n    }\n\n    public override void OnSwiped(RecyclerView.ViewHolder viewHolder, int direction)\n    {\n\n        mdapter.RemoveItem(viewHolder.AdapterPosition);\n\n    }\n\n    public override void ClearView(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder)\n    {\n        base.ClearView(recyclerView, viewHolder);\n    }\n}\n</code></pre>\n\n<p>my recyclerview adapter:</p>\n\n<pre><code> public class RecyclerAdapter : RecyclerView.Adapter\n{\n\n    private Activity mActivity;\n    private List&lt;Email&gt; mEmails;\n    private SwipeToDeleteCallback swipeToDeleteCallback;\n    private Context context;\n\n    public RecyclerAdapter(List&lt;Email&gt; emails, Context context)\n    {\n        mEmails = emails;\n        this.context = context;\n    }\n\n    public RecyclerAdapter(List&lt;Email&gt; emails, Activity activity)\n    {\n        mEmails = emails;\n        mActivity = activity;\n    }\n\n    public RecyclerAdapter(List&lt;Email&gt; mEmails, SwipeToDeleteCallback swipeToDeleteCallback)\n    {\n\n        this.mEmails = mEmails;\n        this.swipeToDeleteCallback = swipeToDeleteCallback;\n\n    }\n\n\n    public class MyView : RecyclerView.ViewHolder\n    {\n        public View mMainView { get; set; }\n        public TextView mName { get; set; }\n        public TextView mSubject { get; set; }\n        public TextView mMessage { get; set; }\n\n        public MyView(View view) : base(view)\n        {\n            mMainView = view;\n        }\n\n    }\n\n    public override int ItemCount\n    {\n        get { return mEmails.Count; }\n    }\n\n    public override RecyclerView.ViewHolder OnCreateViewHolder(ViewGroup parent, int viewType)\n    {\n\n        View row = LayoutInflater.From(parent.Context).Inflate(Resource.Layout.row, parent, false);\n        RecyclerViewHolder view = new RecyclerViewHolder(row);\n        return view;\n\n\n    }\n    public override void OnBindViewHolder(RecyclerView.ViewHolder holder, int position)\n    {\n\n        RecyclerViewHolder myHolder = holder as RecyclerViewHolder;\n        myHolder.mDate.Text = ((Email)mEmails[position]).date;\n        myHolder.mSubject.Text = ((Email)mEmails[position]).Subject;\n        myHolder.mMessage.Text = ((Email)mEmails[position]).Message;\n\n    }\n\n    public void RemoveItem(int position)\n    {\n        Android.App.AlertDialog.Builder dialog = new AlertDialog.Builder(context);\n        AlertDialog alert = dialog.Create();\n        alert.SetTitle(\"Atenion\");\n        alert.SetMessage(\"About to delete a row permanently, do you want to proceed ?\");\n        alert.SetButton(\"OK\", (c, ev) =&gt;\n        {\n            mEmails.RemoveAt(position);\n            NotifyDataSetChanged();\n            NotifyItemChanged(position);\n        });\n        alert.SetButton2(\"CANCEL\", (c, ev) =&gt; { });\n        alert.Show();\n\n    }\n\n}   \n</code></pre>\n\n<p>where i calling the recyclerview and swipe:</p>\n\n<pre><code> public class MainActivity : AppCompatActivity\n{\n    public static RecyclerView mRecyclerView;\n    public static RecyclerView.LayoutManager mLayoutManager;\n    public RecyclerView.ViewHolder holder;\n    public static BottomNavigationView bottomnavigationview1;\n    public static RecyclerView.Adapter mAdapter;\n    public static List&lt;Email&gt; mEmails;\n\n    protected override void OnCreate(Bundle bundle)\n    {\n        base.OnCreate(bundle);\n        Xamarin.Essentials.Platform.Init(this, bundle);\n        // Set our view from the \"main\" layout resource\n        SetContentView(Resource.Layout.activity_main);\n\n        mRecyclerView = FindViewById&lt;RecyclerView&gt;(Resource.Id.recyclerViwer);\n        mRecyclerView.AddItemDecoration(new DividerItemDecoration(mRecyclerView.Context, DividerItemDecoration.Vertical));\n        mRecyclerView.HasFixedSize = true;\n        SetupList();\n\n        //Create our layout Manager\n        mLayoutManager = new LinearLayoutManager(this);\n        mRecyclerView.SetLayoutManager(mLayoutManager);\n        RecyclerAdapter mAdapter = new RecyclerAdapter(mEmails, this);\n        mRecyclerView.SetAdapter(mAdapter);\n\n        var swipeHandler = new SwipeToDeleteCallback(0, ItemTouchHelper.Left, this, mAdapter, mEmails);\n        var itemTouchHelper = new ItemTouchHelper(swipeHandler);\n        itemTouchHelper.AttachToRecyclerView(mRecyclerView);\n\n    }\n\n    private void SetupList()\n    {\n        mEmails = new List&lt;Email&gt;();\n        mEmails.Add(new Email() { date = \"9/25/2019\", Subject = \"Wanna Hang Out?\", Message = \"I ' ll   be around  tomorrow!!\" });\n        mEmails.Add(new Email() { date = \"9/25/2019\", Subject = \"Wanna Hang Out?\", Message = \"I ' ll   be around  tomorrow!!\" });\n        mEmails.Add(new Email() { date = \"9/25/2019\", Subject = \"Wanna Hang Out?\", Message = \"I ' ll   be around  tomorrow!!\" });\n        mEmails.Add(new Email() { date = \"9/24/2019\", Subject = \"Wanna Hang Out?\", Message = \"I ' ll   be around  tomorrow!!\" });\n        mEmails.Add(new Email() { date = \"9/24/2019\", Subject = \"Wanna Hang Out?\", Message = \"I ' ll   be around  tomorrow!!\" });\n    }\n</code></pre>\n\n<p>the error is occuring in the line:</p>\n\n<pre><code>Android.App.AlertDialog.Builder dialog = new AlertDialog.Builder(context);\n</code></pre>\n"}, {"tags": ["c#", ".net", "multithreading", "azure", "async-await"], "comments": [{"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1570101066, "post_id": 58208120, "comment_id": 102811793, "body": "The <code>async</code> isn&#39;t purposed for lower latency - there is lot of infrastructure around so higher latency in compare to more &quot;bare bone&quot; calls is expectable. And btw it&#39;s unclear what is meant by &quot;better results&quot;."}, {"owner": {"reputation": 11253, "user_id": 5045688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87aed06c947625b429242fbcdf11f5e0?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Petrov", "link": "https://stackoverflow.com/users/5045688/alexander-petrov"}, "edited": false, "score": 1, "creation_date": 1570108673, "post_id": 58208120, "comment_id": 102815790, "body": "You can simplify the code as follows: <code>return new HttpResponseMessage();</code> - no need <code>await Task.FromResult</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1570108208, "post_id": 58219267, "comment_id": 102815506, "body": "The point of asynchronous code is to execute something asynchronously, that is not in strictly predicted order. It can release thread or can be single-threaded. The point of asynchronous I/O is to offload an I/O operations to certain infrastructure which to free up the CPU resources but that&#39;s just an example of asynchronous code applicability. And <code>Thread.Sleep</code> has nothing to do with I/O."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1570108388, "post_id": 58219267, "comment_id": 102815615, "body": "<i>&quot; And <code>Thread.Sleep</code> has nothing to do with I/O.&quot;</i> - Yes, I know. But in this question, <code>Thread.Sleep</code> and <code>Task.Delay</code> are being used as placeholders for synchronous and asynchronous I/O operations. For that purpose, they work."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1570108829, "post_id": 58219267, "comment_id": 102815889, "body": "No, they don&#39;t, as they have totally different nature than I/O operations underneath, so test them as a substitution of I/O is unfair as well as treat them that way."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1570109134, "post_id": 58219267, "comment_id": 102816093, "body": "It&#39;s not a perfect substitution, no. But in my experience, they are very useful is observing the difference between how async and non-async functions behave. This question is a perfect example of that."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1570110122, "post_id": 58219267, "comment_id": 102816679, "body": "That&#39;s not true as if we are talking about I/O operations specifically (not just wide range of asynchronous operations) then the main goal of using asynchronous I/O is scalability. And the difference in this quality attribute (in case of sync vs async) isn&#39;t measurable and isn&#39;t observable in case of using any substitution of async I/O. So while they can be useful to measure any other difference but salability they can be substituted but as you stated that they&#39;re placeholders for I/O this measurement at least unfair, at worst useless."}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1570110840, "post_id": 58219267, "comment_id": 102817098, "body": "So please, rephrase your answer in order to avoid incorrect statements."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 0, "last_activity_date": 1570112420, "last_edit_date": 1570112420, "creation_date": 1570106194, "answer_id": 58219267, "question_id": 58208120, "link": "https://stackoverflow.com/questions/58208120/thread-sleep-vs-task-delay-in-rest-api/58219267#58219267", "title": "Thread.sleep vs Task.delay in rest api", "body": "<p>The point of asynchronous code is not to improve performance of an individual operation. In fact, as you can see, sometimes it's the opposite.</p>\n\n<p>The point of asynchronous code is to not lock the current thread. The benefits depend on the type of application:</p>\n\n<p><strong>Desktop app</strong> (I know this doesn't apply to you, but it's worth mentioning)</p>\n\n<p>In a desktop app, you don't freeze the UI thread. This way, your UI remains responsive to the user while you wait for the response from some I/O operation.</p>\n\n<p>So while the individual operation might take <em>slightly</em> longer, the user isn't frustrated because the UI isn't frozen.</p>\n\n<p><strong>Web app</strong></p>\n\n<p>In a web app, it frees up the current thread to work on the next request that has come in. ASP.NET has a limited number of threads to use, so if your traffic is busy enough, requests might have to wait before being processed. Asynchronous code helps you avoid that.</p>\n\n<p>For example, a synchronous I/O operation will lock the current thread (like <code>Thread.Sleep</code>). The thread can do nothing else until the operation completes.</p>\n\n<p>If you use asynchronous code (like <code>Task.Delay</code>), then once that asynchronous operation starts, the thread is returned to the thread pool and can be used to process another request while it waits.</p>\n\n<p>So while individual operations might take <em>slightly</em> longer, it allows you application to handle a bigger load.</p>\n\n<p>Microsoft's documentation on this is actually quite excellent: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">Asynchronous programming with async and await</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12155738, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oDkj-_8y-LU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf8XZ8mtSxNg9HQhNZwYEXFPSazYQ/photo.jpg?sz=128", "display_name": "Harsh kumar", "link": "https://stackoverflow.com/users/12155738/harsh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 747, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570112420, "creation_date": 1570044249, "last_edit_date": 1570098107, "question_id": 58208120, "link": "https://stackoverflow.com/questions/58208120/thread-sleep-vs-task-delay-in-rest-api", "title": "Thread.sleep vs Task.delay in rest api", "body": "<p>I was comparing Thread.sleep vs task.delay. to check for a job completion status from db. The job will be performed by some other Azure component .</p>\n\n<p>To test it, Created small api with sync and async pattern.</p>\n\n<p>http rest api using async :</p>\n\n<pre><code>public async Task&lt;HttpResponseMessage&gt; Post()\n{\n    await Task.Delay(200);\n    return await Task.FromResult(new HttpResponseMessage());}\n</code></pre>\n\n<p>http rest api using sync :</p>\n\n<pre><code>public HttpResponseMessage Post()\n{\n    Thread.sleep(200);\n    return new HttpResponseMessage();}\n</code></pre>\n\n<p>Interestingly. the results were good for Sync call. Tried with 100 users with 5 iteration using Apache jmeter.</p>\n\n<blockquote>\n  <p>Sync result.: min : 414 ms average : 8464 ms</p>\n  \n  <p>Async result : min 1756 ms average : 10044 ms</p>\n</blockquote>\n\n<p>Why Thread.sleep is better than Async. is this overhead of Task creation? Can't I get better results than these two?</p>\n"}, {"tags": ["c#", "entity-framework", "refresh"], "comments": [{"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1570053747, "post_id": 58208108, "comment_id": 102797398, "body": "Did you pass an <i>instance</i> of an entity?  What is <code>BEDataEntity.TableOne</code>?  Based on your naming, <code>BEDataEntity</code> looks like a context and <code>TableOne</code> seems to be a <code>DbSet&lt;&gt;</code>"}, {"owner": {"reputation": 11, "user_id": 8098633, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UbGAJ6S0RDc/AAAAAAAAAAI/AAAAAAAAGdA/S10ehPx50dc/photo.jpg?sz=128", "display_name": "Revtim", "link": "https://stackoverflow.com/users/8098633/revtim"}, "reply_to_user": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1570109168, "post_id": 58208108, "comment_id": 102816113, "body": "Sorry, the correct code should be EFDataEntity.Entry(EFDataEntity.TableOne).Reload();  I fixed it in the original question"}, {"owner": {"reputation": 11, "user_id": 8098633, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UbGAJ6S0RDc/AAAAAAAAAAI/AAAAAAAAGdA/S10ehPx50dc/photo.jpg?sz=128", "display_name": "Revtim", "link": "https://stackoverflow.com/users/8098633/revtim"}, "reply_to_user": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1570110950, "post_id": 58208108, "comment_id": 102817167, "body": "To answer your questions, EFDataEntity is the entity framework object, TableOne is a table in the database."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8098633, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UbGAJ6S0RDc/AAAAAAAAAAI/AAAAAAAAGdA/S10ehPx50dc/photo.jpg?sz=128", "display_name": "Revtim", "link": "https://stackoverflow.com/users/8098633/revtim"}, "edited": false, "score": 0, "creation_date": 1570047364, "post_id": 58208420, "comment_id": 102795432, "body": "Thanks, but I think that refreshes the entire entity, when I just want to refresh a single table.  In any case, I tried that, and I get Exception     &quot;{&quot;The entity type BEEnterpriseEntities is not part of the model for the current context.&quot;}  BEEnterpriseEntities is the type of my EF object."}], "tags": [], "owner": {"reputation": 3, "user_id": 10507599, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rSvXynEzPcs/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWa6ToIOBnicRPjHCmWiqyKu3jT0g/mo/photo.jpg?sz=128", "display_name": "se&#241;or se&#241;or", "link": "https://stackoverflow.com/users/10507599/se%c3%b1or-se%c3%b1or"}, "is_accepted": false, "score": 0, "last_activity_date": 1570046549, "last_edit_date": 1570046549, "creation_date": 1570045653, "answer_id": 58208420, "question_id": 58208108, "link": "https://stackoverflow.com/questions/58208108/what-if-anything-replaced-the-entityframework-refresh-method/58208420#58208420", "title": "What, if anything, replaced the EntityFramework Refresh method?", "body": "<p>You can either dispose your current context and create a new one or if you don't want to do this for some reason you can also do this:  <code>yourcontext.Entry(yourEntity).Reload()</code>\n<a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.entity.infrastructure.dbentityentry.reload?redirectedfrom=MSDN&amp;view=entity-framework-6.2.0#overloads\" rel=\"nofollow noreferrer\">Microsoft Docs</a>  ||  <a href=\"https://docs.microsoft.com/en-us/ef/ef6/fundamentals/working-with-dbcontext\" rel=\"nofollow noreferrer\">Working with DbContext</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8098633, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UbGAJ6S0RDc/AAAAAAAAAAI/AAAAAAAAGdA/S10ehPx50dc/photo.jpg?sz=128", "display_name": "Revtim", "link": "https://stackoverflow.com/users/8098633/revtim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570109207, "creation_date": 1570044186, "last_edit_date": 1570109207, "question_id": 58208108, "link": "https://stackoverflow.com/questions/58208108/what-if-anything-replaced-the-entityframework-refresh-method", "title": "What, if anything, replaced the EntityFramework Refresh method?", "body": "<p>I have a product that used an old version of Entity Framework (don't know the version) that I have to update to EF6.  In the older EF there used to be a method on an entity called <code>Refresh</code> to update the table contents.  For example:</p>\n\n<pre><code>EFDataEntity.Refresh(RefreshMode.StoreWins, EFDataEntity.TableOne);\n</code></pre>\n\n<p>to update the EF table <code>TableOne</code> so that <code>EFDataEntity.TableOne</code> had the latest data from the SQL table.  </p>\n\n<p>On EF6 this method no longer exists.  I tried this:</p>\n\n<pre><code>EFDataEntity.Entry(EFDataEntity.TableOne).Reload();\n</code></pre>\n\n<p>but it throws exception</p>\n\n<blockquote>\n  <p>The entity type DbSet`1 is not part of the model for the current\n  context.</p>\n</blockquote>\n\n<p>How does one refresh the table in EF6?</p>\n"}, {"tags": ["c#", "visual-studio", "vsix"], "answers": [{"tags": [], "owner": {"reputation": 23051, "user_id": 84507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34b5ec4a143dd4a12a8be0a65f71b0df?s=128&d=identicon&r=PG", "display_name": "Sergey Vlasov", "link": "https://stackoverflow.com/users/84507/sergey-vlasov"}, "is_accepted": true, "score": 2, "last_activity_date": 1570073725, "creation_date": 1570073725, "answer_id": 58211972, "question_id": 58208104, "link": "https://stackoverflow.com/questions/58208104/find-and-replace-alike-extension-in-visual-studio/58211972#58211972", "title": "Find and Replace alike extension in visual studio", "body": "<p>You can use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/envdte.find.findreplace\" rel=\"nofollow noreferrer\">DTE.Find.FindReplace</a> API.</p>\n"}], "owner": {"reputation": 562, "user_id": 7475632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8018463a2d140f062d545b5e81bf7721?s=128&d=identicon&r=PG&f=1", "display_name": "roffensive", "link": "https://stackoverflow.com/users/7475632/roffensive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58211972, "answer_count": 1, "score": 1, "last_activity_date": 1570073725, "creation_date": 1570044178, "question_id": 58208104, "link": "https://stackoverflow.com/questions/58208104/find-and-replace-alike-extension-in-visual-studio", "title": "Find and Replace alike extension in visual studio", "body": "<p>I'm creating Visual Studio Extension and to implement one of its functionalities I need to perform advanced \"Find and Replace\" on the whole solution.\nIt could work the same as Find and Replace (Ctrl + Shift + F) in Visual Studio, but I want to call it by code.</p>\n\n<p>I was doing research on this topic, but most of the answers are about the function in Visual Studio itself.\nDuring my research, I have found in the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.visualstudio.textmanager.interop.ivsfindtarget.replace?view=visualstudiosdk-2019\" rel=\"nofollow noreferrer\">docs</a>. But implementing this function seems like a tricky way to do this.</p>\n\n<p>What is the best way to implement such behavior?</p>\n"}, {"tags": ["c#", "csvhelper"], "comments": [{"owner": {"reputation": 4121, "user_id": 2355006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942d34ce55a65b370285e3c2c7e6da8?s=128&d=identicon&r=PG", "display_name": "David Specht", "link": "https://stackoverflow.com/users/2355006/david-specht"}, "edited": false, "score": 1, "creation_date": 1570048766, "post_id": 58207988, "comment_id": 102795916, "body": "CsvHelper does not have a built-in function to achieve your requirements.  You would need to implement the logic yourself, I would recommend creating a separate method <code>Region = GetAddress(csv)</code>.  Just curious why you would put all the address info into one line in the database instead of as separate columns that are put back together when you query the database.  If the format for the address was to change, those records are going to be difficult to modify."}, {"owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "reply_to_user": {"reputation": 4121, "user_id": 2355006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942d34ce55a65b370285e3c2c7e6da8?s=128&d=identicon&r=PG", "display_name": "David Specht", "link": "https://stackoverflow.com/users/2355006/david-specht"}, "edited": false, "score": 0, "creation_date": 1570051631, "post_id": 58207988, "comment_id": 102796859, "body": "Yes great question and unfortunately we are having to export this to an already-established schema for this database table.  The Region field is where they want it all.  I agree with you that it&#39;s not the best approach, but this table has existed for years and holds all kinds of other records.  They want us to basically force the contents of this csv file into the existing schema of that table."}], "answers": [{"comments": [{"owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "edited": false, "score": 0, "creation_date": 1570122525, "post_id": 58219032, "comment_id": 102822956, "body": "Hi David.  I am not sure I understand what you mean when you say &quot;Since the second <code>TaskProdEntity</code> appears to add a 2 each time to the column header...&quot;  Can you clarify that?"}, {"owner": {"reputation": 4121, "user_id": 2355006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942d34ce55a65b370285e3c2c7e6da8?s=128&d=identicon&r=PG", "display_name": "David Specht", "link": "https://stackoverflow.com/users/2355006/david-specht"}, "reply_to_user": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "edited": false, "score": 0, "creation_date": 1570131051, "post_id": 58219032, "comment_id": 102826510, "body": "The first <code>TaskProdEntity</code> has <code>&quot;Provider_First_Line_Business_Mailing_Address&quot;</code> and the second has <code>&quot;Provider_First_Line_Business_Mailing_Address2&quot;</code>.  The method <code>GetAddress()</code> is able to take the <code>extension = &quot;2&quot;</code> in <code>GetAddress(csv, &quot;2&quot;)</code> and add it to each column so the one method works for both."}], "tags": [], "owner": {"reputation": 4121, "user_id": 2355006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942d34ce55a65b370285e3c2c7e6da8?s=128&d=identicon&r=PG", "display_name": "David Specht", "link": "https://stackoverflow.com/users/2355006/david-specht"}, "is_accepted": false, "score": 1, "last_activity_date": 1570105407, "creation_date": 1570105407, "answer_id": 58219032, "question_id": 58207988, "link": "https://stackoverflow.com/questions/58207988/csvhelper-ignore-blank-cells-in-a-row-unless-they-are-populated/58219032#58219032", "title": "CSVHelper - ignore blank cells in a row unless they are populated", "body": "<p>Since the second <code>TaskProdEntity</code> appears to add a 2 each time to the column header, you could have one method that builds your address.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public List&lt;TaskProdEntity&gt; ParseCSVFile()\n{\n    using (var reader = new StreamReader(@\"C:\\Users\\me\\Desktop\\pfile.csv\"))\n    using (var csv = new CsvReader(reader))\n    {\n        csv.Configuration.PrepareHeaderForMatch = (string header, int index) =&gt;\n            header.Replace(\" \", \"_\").Replace(\"(\", \"\").Replace(\")\", \"\").Replace(\".\", \"\");\n\n        List&lt;TaskProdEntity&gt; records = new List&lt;TaskProdEntity&gt;();\n\n        csv.Read();\n        csv.ReadHeader();\n\n        while (csv.Read())\n        {\n            if (csv.GetField&lt;int&gt;(0) == 1)\n            {\n                var record = new TaskProdEntity\n                {\n\n                    Identifier = \"ID Number:\" + \" \" + csv.GetField&lt;string&gt;(\"Id\"),\n                    Region = GetAddress(csv),\n                    Program = \"Taxonomy Group:\" + \" \" + csv.GetField&lt;string&gt;(\"Taxonomy_Group_1\")\n\n                };\n\n                records.Add(record);\n\n            }\n            else\n            {\n                var record = new TaskProdEntity\n                {\n\n                    Identifier = \"ID Number:\" + \" \" + csv.GetField&lt;string&gt;(\"Id3\"),\n                    Region = GetAddress(csv, \"2\"),\n                    Program = \"Taxonomy Group:\" + \" \" + csv.GetField&lt;string&gt;(\"Taxonomy_Group_2\")\n                };\n                records.Add(record);\n            }\n        }\n        return records;\n    }\n}\n\nprivate string GetAddress(CsvReader csv, string extension = \"\")\n{\n    var value = new StringBuilder(\"Business Mailing Address:\");\n\n    if (csv.GetField&lt;string&gt;(\"Provider_First_Line_Business_Mailing_Address\" + extension) != string.Empty)\n    {\n        value.Append(\" \" + csv.GetField&lt;string&gt;(\"Provider_First_Line_Business_Mailing_Address\" + extension));\n    }\n\n    if (csv.GetField&lt;string&gt;(\"Provider_Second_Line_Business_Mailing_Address\" + extension) != string.Empty)\n    {\n        value.Append(\" \" + csv.GetField&lt;string&gt;(\"Provider_Second_Line_Business_Mailing_Address\" + extension));\n    }\n\n    // The rest of the if statements..............\n\n    return value.ToString();\n}\n</code></pre>\n"}], "owner": {"reputation": 2263, "user_id": 7191927, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eea1edd56073998f8d87e9b77cb5cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "Stpete111", "link": "https://stackoverflow.com/users/7191927/stpete111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570105407, "creation_date": 1570043626, "last_edit_date": 1570044913, "question_id": 58207988, "link": "https://stackoverflow.com/questions/58207988/csvhelper-ignore-blank-cells-in-a-row-unless-they-are-populated", "title": "CSVHelper - ignore blank cells in a row unless they are populated", "body": "<p>Using CsvHelper with .NET Core 2.2.</p>\n\n<p>We're parsing a CSV file to then export to a SQL table.  There are two different mappings of the CSV columns to the SQL columns, which depend on the first value of each row of the CSV.  </p>\n\n<p>This is what we have:</p>\n\n<pre><code> public List&lt;TaskProdEntity&gt; ParseCSVFile()\n        {\n            using (var reader = new StreamReader(@\"C:\\Users\\me\\Desktop\\pfile.csv\"))\n            using (var csv = new CsvReader(reader))\n            {\n                csv.Configuration.PrepareHeaderForMatch = (string header, int index) =&gt;\n                    header.Replace(\" \", \"_\").Replace(\"(\", \"\").Replace(\")\", \"\").Replace(\".\", \"\");\n\n                List&lt;TaskProdEntity&gt; records = new List&lt;TaskProdEntity&gt;();\n\n                csv.Read();\n                csv.ReadHeader();\n\n                while (csv.Read())\n                {\n                    if (csv.GetField&lt;int&gt;(0) == 1)\n                    {\n                        var record = new TaskProdEntity\n                        {\n\n                            Identifier = \"ID Number:\" + \" \" + csv.GetField&lt;string&gt;(\"Id\"),   \n                            Region = \"Business Mailing Address:\" + \" \" + csv.GetField&lt;string&gt;(\"Provider_First_Line_Business_Mailing_Address\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Second_Line_Business_Mailing_Address\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_City_Name\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_State_Name\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_Postal_Code\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_Country_Code_If_outside_US\") + \" | \" + \"Business Practice Location:\" + \" \" + csv.GetField&lt;string&gt;(\"Provider_First_Line_Business_Practice_Location_Address\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Second_Line_Business_Practice_Location_Address\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_City_Name\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_State_Name\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_Postal_Code\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_Country_Code_If_outside_US\"),\n                            Program = \"Taxonomy Group:\" + \" \" + csv.GetField&lt;string&gt;(\"Taxonomy_Group_1\")\n\n                        };\n\n                        records.Add(record);\n\n                    }\n                    else\n                    {\n                        var record = new TaskProdEntity\n                        {\n\n                            Identifier = \"ID Number:\" + \" \" + csv.GetField&lt;string&gt;(\"Id3\"),   \n                            Region = \"Business Mailing Address:\" + \" \" + csv.GetField&lt;string&gt;(\"Provider_First_Line_Business_Mailing_Address2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Second_Line_Business_Mailing_Address2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_City_Name2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_State_Name2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_Postal_Code2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Mailing_Address_Country_Code_If_outside_US2\") + \" | \" + \"Business Practice Location:\" + \" \" + csv.GetField&lt;string&gt;(\"Provider_First_Line_Business_Practice_Location_Address2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Second_Line_Business_Practice_Location_Address2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_City_Name2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_State_Name2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_Postal_Code2\") + \" \" + csv.GetField&lt;string&gt;(\"Provider_Business_Practice_Location_Address_Country_Code_If_outside_US2\"),\n                            Program = \"Taxonomy Group:\" + \" \" + csv.GetField&lt;string&gt;(\"Taxonomy_Group_2\")\n                        };\n                        records.Add(record);    \n                    }\n                }\n               return records;\n            }             \n        }\n</code></pre>\n\n<p>Because the mapping for the <code>Region</code> field specifically is so messy and long, I really want to extract values from those csv fields only if the field is not blank.  In many cases, many of those fields will be blank, and the business does not want a ton of concatenated blanks to end up in the database in these cases.</p>\n\n<p>I am wondering if CsvHelper already has a built-in function to achieve this?  If not, how would I implement that logic into the above code? </p>\n"}, {"tags": ["c#", ".net", "rest", "asp.net-web-api", "json.net"], "comments": [{"owner": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1570044662, "post_id": 58207966, "comment_id": 102794276, "body": "<i>Isn&#39;t it fair to expect that &#39;MissingMemberHandling.Error&#39; should actually throw an error?</i>, No. This is just an <code>Enum</code> that tells Newtonsoft how to treat missing members, in your case as an error."}, {"owner": {"reputation": 633, "user_id": 1754152, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/41ec44bed6000d6d7ffe81dcef54024c?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/1754152/mario"}, "reply_to_user": {"reputation": 1191, "user_id": 9541862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fe5271e65a59c7c1be5a45b618b078?s=128&d=identicon&r=PG&f=1", "display_name": "quaabaam", "link": "https://stackoverflow.com/users/9541862/quaabaam"}, "edited": false, "score": 0, "creation_date": 1570044944, "post_id": 58207966, "comment_id": 102794393, "body": "@quaabaam Thank you for the answer but i was never expecting the enum to throw an error. The expectation is to actually see an error in my controller when a required member does not exist. Re-phrasing the question to avoid misinterpretation..."}, {"owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "edited": false, "score": 0, "creation_date": 1570045731, "post_id": 58207966, "comment_id": 102794774, "body": "FYI, <code>MissingMemberHandling.Error</code> does not do what you think it does.  This setting causes an error to be thrown when a property is <i>present</i> in the JSON for which there is no corresponding member in your <i>class</i> (the member is missing).  You want the opposite, for an error to be thrown when a required property is missing from the JSON.  To do that, you need to add <code>[JsonProperty(Required = Required.Always)]</code> to all required properties in your model classes.  Looks like you have that on your example <code>Id</code> property in your question though."}, {"owner": {"reputation": 633, "user_id": 1754152, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/41ec44bed6000d6d7ffe81dcef54024c?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/1754152/mario"}, "reply_to_user": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "edited": false, "score": 0, "creation_date": 1570046034, "post_id": 58207966, "comment_id": 102794896, "body": "Oh, thank you @BrianRogers , i was not aware of that... my problem unfortunately still stands though :("}], "answers": [{"tags": [], "owner": {"reputation": 633, "user_id": 1754152, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/41ec44bed6000d6d7ffe81dcef54024c?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/1754152/mario"}, "is_accepted": false, "score": 0, "last_activity_date": 1570251355, "creation_date": 1570251355, "answer_id": 58245457, "question_id": 58207966, "link": "https://stackoverflow.com/questions/58207966/missingmemberhandling-error-force-exception-when-deserializing-the-http-body/58245457#58245457", "title": "MissingMemberHandling.Error force exception when deserializing the HTTP body", "body": "<p>The only legit way i could found to capture the deserialization errors was checking the ModelState object.</p>\n\n<pre><code>if (!ModeState.IsValid) {\n    return BadRequest(ModelState);\n}\n</code></pre>\n\n<p>This was added at the top of the controller.</p>\n"}], "owner": {"reputation": 633, "user_id": 1754152, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/41ec44bed6000d6d7ffe81dcef54024c?s=128&d=identicon&r=PG", "display_name": "Mario", "link": "https://stackoverflow.com/users/1754152/mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570251355, "creation_date": 1570043550, "last_edit_date": 1570047452, "question_id": 58207966, "link": "https://stackoverflow.com/questions/58207966/missingmemberhandling-error-force-exception-when-deserializing-the-http-body", "title": "MissingMemberHandling.Error force exception when deserializing the HTTP body", "body": "<p>I am creating a restful web-service using .net and Newtonsoft for serialization/deserialization.</p>\n\n<p>The aim is to force exceptions (preferably HTTP 400) when a required property is not included in the request.</p>\n\n<ol>\n<li><p>Serializer configuration</p>\n\n<pre><code>config.Formatters.JsonFormatter.SerializerSettings = new JsonSerializerSettings {\n        MissingMemberHandling = MissingMemberHandling.Error,\n        Error = delegate (object x, ErrorEventArgs error) {\n            System.Diagnostics.Debug.WriteLine (error.ErrorContext.Error);\n            throw new Exception(\"\");\n    }\n};\n</code></pre></li>\n<li><p>Model</p>\n\n<pre><code>[DataContract]\npublic class MyObject {\n    [JsonProperty(PropertyName = \"id\", Required = Required.Always)]\n    public string Id { get; set; }\n}\n</code></pre></li>\n<li><p>Restful end-point</p>\n\n<pre><code>public IHttpActionResult MyAction([FromBody]MyObject request)\n</code></pre></li>\n</ol>\n\n<hr>\n\n<p><strong>Testing:</strong></p>\n\n<p>When a request is fired the flow goes like this:</p>\n\n<ol>\n<li>The break point of the error delegate hits ('1. Serializer configuration') and i am able to see the error log. The error is 'swallowed' and the execution is continuing in the controller.</li>\n<li>The execution fails in another part of the web service.</li>\n</ol>\n\n<p>Hence... i am able to capture the error using the delegate, but not able to propagate it (not setting a delegate at all again does not make a difference).</p>\n\n<p><strike>Isn't it fair to expect that by setting the 'MissingMemberHandling.Error', i should actually see an error in my controller?</strike></p>\n\n<p>Isn't it fair to expect that by indicating a property as 'required', i should actually see an error in my controller?</p>\n\n<hr>\n\n<p><strong>Goal:</strong></p>\n\n<p>Instead of silently failing, I would like to force an error when the HTTP body deserialzation fails.</p>\n"}, {"tags": ["c#", "asp.net-core", "pagination", "pagedlist"], "comments": [{"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1570069836, "post_id": 58207958, "comment_id": 102800388, "body": "Which pagedlist package do you use?"}], "answers": [{"tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1570069808, "creation_date": 1570069808, "answer_id": 58211576, "question_id": 58207958, "link": "https://stackoverflow.com/questions/58207958/to-pass-model-parameter-using-pagination-in-asp-net-core/58211576#58211576", "title": "To pass model parameter using pagination in ASP.Net Core", "body": "<p>You could not pass the whole model object using <code>asp-route-{value}</code> or <code>asp-all-route-data</code>.</p>\n\n<p><a href=\"https://docs.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.mvc.taghelpers.anchortaghelper.route?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">asp-route</a> is for <code>string</code> type and <a href=\"https://docs.microsoft.com/zh-cn/dotnet/api/microsoft.aspnetcore.mvc.taghelpers.anchortaghelper.routevalues?view=aspnetcore-2.2\" rel=\"nofollow noreferrer\">asp-all-route-data</a> is for <code>IDictionary&lt;string,string&gt;</code> type</p>\n\n<p>I suggest that you could pass model data manually like</p>\n\n<pre><code>@{\nvar parms = new Dictionary&lt;string, string&gt;\n            {\n                { \"Id\",Model.Id.ToString() },\n                {\"Name\",Model.Name },\n                //...\n            };\n}\n\n&lt;a asp-action=\"Index\" asp-controller=\"User\" asp-all-route-data=\"parms\"&gt;Test&lt;/a&gt;\n</code></pre>\n\n<p>It will work as queryString.</p>\n\n<p>Refer to <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/built-in/anchor-tag-helper?view=aspnetcore-3.0#asp-all-route-data\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/mvc/views/tag-helpers/built-in/anchor-tag-helper?view=aspnetcore-3.0#asp-all-route-data</a></p>\n\n<p><a href=\"https://forums.asp.net/t/1984183.aspx?Passing+Model+Object+in+route+values+of+Action+link\" rel=\"nofollow noreferrer\">https://forums.asp.net/t/1984183.aspx?Passing+Model+Object+in+route+values+of+Action+link</a></p>\n"}], "owner": {"reputation": 1400, "user_id": 4761773, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/44baf0a2e1e701d2ecf851e3f06c46b7?s=128&d=identicon&r=PG&f=1", "display_name": "TheFallenOne", "link": "https://stackoverflow.com/users/4761773/thefallenone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570069808, "creation_date": 1570043507, "question_id": 58207958, "link": "https://stackoverflow.com/questions/58207958/to-pass-model-parameter-using-pagination-in-asp-net-core", "title": "To pass model parameter using pagination in ASP.Net Core", "body": "<p>I am using the PagedList to work on a table for my ASP.Net Core application. I need to pass the model to the controller on change of a page, however it's not being sent.</p>\n\n<p>The pagination section of the code in the view is </p>\n\n<pre><code>&lt;pager class=\"pager\" list=\"@Model.UserList\" asp-action=\"Index\" asp-controller=\"User\" asp-route-model =\"@Model\" param-page-number=\"page\" options=\"@PagedListRenderOptions.ClassicPlusFirstAndLast\" /&gt;\n</code></pre>\n\n<p>And my controller signature is :</p>\n\n<pre><code>public ActionResult Index(UsersModel model, int? page)\n{\n}\n</code></pre>\n\n<p>The model is always null and does not contain any of the model values. How do I fix it?</p>\n"}, {"tags": ["c#", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 2753, "user_id": 5803406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im0fc.jpg?s=128&g=1", "display_name": "devNull", "link": "https://stackoverflow.com/users/5803406/devnull"}, "edited": false, "score": 1, "creation_date": 1570044377, "post_id": 58207888, "comment_id": 102794136, "body": "Could you profile the data provider and post the SQL query that is executed when this line runs?"}, {"owner": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1570048959, "post_id": 58207888, "comment_id": 102795993, "body": "Problem might be migrations. If there are migrations and you drop and create database it will take time for sure. Other reason might be database is &quot;sleeping&quot; and it takes time to wake it up before it can return data. Both scenarios are about first request."}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1570051940, "post_id": 58207888, "comment_id": 102796944, "body": "Can you please specify what your TResult type is in this case? (Is it an Entity, or a ViewModel?) If a Viewmodel, please include the definitions. Also, please include the &quot;target&quot; expression used in this case. To confirm, when debugging, the <code>var results = new Paginated....</code> line is taking the 25 seconds time to execute? How long does the Count line take, and what was the total returned?"}, {"owner": {"reputation": 37, "user_id": 7931947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3dd5b23dbb7ccd7941064c9d395d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Bahaa Mahmoud", "link": "https://stackoverflow.com/users/7931947/bahaa-mahmoud"}, "reply_to_user": {"reputation": 2019, "user_id": 8442437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eImGi.jpg?s=128&g=1", "display_name": "dropoutcoder", "link": "https://stackoverflow.com/users/8442437/dropoutcoder"}, "edited": false, "score": 0, "creation_date": 1570090230, "post_id": 58207888, "comment_id": 102806073, "body": "@dropoutcoder    I did not understand you well, but the problem occurred with me in the first request and in the other request"}, {"owner": {"reputation": 37, "user_id": 7931947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3dd5b23dbb7ccd7941064c9d395d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Bahaa Mahmoud", "link": "https://stackoverflow.com/users/7931947/bahaa-mahmoud"}, "reply_to_user": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1570090731, "post_id": 58207888, "comment_id": 102806304, "body": "@StevePy I modified the question and inserted expression into it , the total count is 10,000 rows , and data contains 25 objects ."}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1570098215, "post_id": 58207888, "comment_id": 102810307, "body": "Thanks, I&#39;m guessing this is EF Core? my guess would be <code>ItemMeagerUnit = u.ItemMeasureUnits.ToModel()</code>. EF wouldn&#39;t be able to resolve <code>ToModel</code> where EF 6 would throw an exception, EF Core would materialize the query behind the scenes to continue processing. (a rather dumb feature to hide more performance issues) Try changing this to a <code>.Select()</code> to build the ItemMeagerUnit model in-line. I don&#39;t see the ItemMeasureunits mentioned in your posted SQL so I suspect these would be loaded in a followup query."}, {"owner": {"reputation": 37, "user_id": 7931947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3dd5b23dbb7ccd7941064c9d395d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Bahaa Mahmoud", "link": "https://stackoverflow.com/users/7931947/bahaa-mahmoud"}, "reply_to_user": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1570103887, "post_id": 58207888, "comment_id": 102813092, "body": "@StevePy I&#39;am using EF Core 2.2 !!"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1570137745, "post_id": 58207888, "comment_id": 102829085, "body": "I see you removed that line from your pasted example, are you still seeing query performance issues? Be wary of any reference to NotMapped/Ingore properties in the entitites because I believe EF Core will prematurely materialize to handle these as well."}, {"owner": {"reputation": 37, "user_id": 7931947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3dd5b23dbb7ccd7941064c9d395d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Bahaa Mahmoud", "link": "https://stackoverflow.com/users/7931947/bahaa-mahmoud"}, "reply_to_user": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1570283635, "post_id": 58207888, "comment_id": 102868532, "body": "@StevePy Yes , iremoved that line , but the issues is still"}, {"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1570579836, "post_id": 58207888, "comment_id": 102954501, "body": "How long is the DbContext left alive in your application? What happens if you replace <code>_context</code> with <code>using (var context = new YourAppContext())</code>?"}], "owner": {"reputation": 37, "user_id": 7931947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3dd5b23dbb7ccd7941064c9d395d4f7?s=128&d=identicon&r=PG&f=1", "display_name": "Bahaa Mahmoud", "link": "https://stackoverflow.com/users/7931947/bahaa-mahmoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570103957, "creation_date": 1570043191, "last_edit_date": 1570103957, "question_id": 58207888, "link": "https://stackoverflow.com/questions/58207888/linq-to-entities-skip-take-hang-sometimes-and-delayed-execution", "title": "LINQ to Entities - Skip &amp; Take hang Sometimes and Delayed execution", "body": "<p>I have a problem about Skip-Take. I am working on WPF Application and i have the table that in the future it will contain a large number of data. For that reason I decided to paginate index view.</p>\n\n<p>I am using Entity Framework Core 2.2, and the problem occurs when run the application and open the view that display the data. Some times it takes 25 seconds to display data.</p>\n\n<p>After debug many times, the line that delayed execution was detected, it is the line that execute query.</p>\n\n<p>The code as below :   </p>\n\n<pre><code>        IQueryable&lt;TResult&gt; items = _context.Items\n                                     .AsNoTracking()\n                                     .Include(b =&gt; b.Category)\n                                     .Where(predicate ?? (p =&gt; true))\n                                     .OrderBy(i =&gt; i.Name)\n                                     .Select(target);\n\n\n        var total = await items.CountAsync();\n\n        var results = new Paginated&lt;TResult&gt;\n            (\n            data: items.Skip((model.PageSize - 1) * model.PageSize)\n                      .Take(model.PageSize)\n                      .ToList(),\n            total: total\n            );\n\n\n        return results;\n</code></pre>\n\n<p>I hope to get a solution to this strange problem to improve performance.</p>\n\n<p>Thanks in advance  .</p>\n\n<p><strong>Edite</strong>\nThe sql query generated as :</p>\n\n<pre><code>exec sp_executesql N'SELECT [t].[Id], [t].[BoxesBalaita], [t].[Boxescontainer20], [t].[Boxescontainer40], [t].[CategoryId], [t].[Country], [t].[Imagepath], [t].[IsDeleted], [t].[ItemNumber], [t].[MinimumQuantity], [t].[Name], [t].[Sizelevel], [t].[Tariff], [t].[Weightbox], [i.Category].[Id], [i.Category].[Name], [i.Category].[ParentId]\nFROM (\n    SELECT TOP(@__p_0) [i].[Id], [i].[BoxesBalaita], [i].[Boxescontainer20], [i].[Boxescontainer40], [i].[CategoryId], [i].[Country], [i].[Imagepath], [i].[IsDeleted], [i].[ItemNumber], [i].[MinimumQuantity], [i].[Name], [i].[Sizelevel], [i].[Tariff], [i].[Weightbox]\n    FROM [Items] AS [i]\n) AS [t]\nINNER JOIN [Categories] AS [i.Category] ON [t].[CategoryId] = [i.Category].[Id]\nORDER BY [t].[Id]\nOFFSET @__p_1 ROWS',N'@__p_0 int,@__p_1 int',@__p_0=25,@__p_1=0\n</code></pre>\n\n<p>the Expression :</p>\n\n<pre><code>public static Expression&lt;Func&lt;Item, OutputModel&gt;&gt; Model =&gt; u =&gt; new OutputModel()\n        {\n            Id = u.Id,\n            Name = u.Name,\n            BoxesBalaita = u.BoxesBalaita,\n            Boxescontainer20 = u.Boxescontainer20,\n            Boxescontainer40 = u.Boxescontainer40,\n            Country = u.Country,\n            Imagepath = u.Imagepath,\n            MinimumQuantity = u.MinimumQuantity,\n            Sizelevel = u.Sizelevel,\n            Tariff = u.Tariff,\n            Weightbox = u.Weightbox,\n            ItemNumber = u.ItemNumber,\n            CategoryId = u.CategoryId,\n            CategoryName = u.Category.Name\n\n        };\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-6", "ef-code-first"], "comments": [{"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1576533496, "post_id": 58207851, "comment_id": 104923536, "body": "Did you ever figure this one out? I&#39;m having the same problem <a href=\"https://stackoverflow.com/q/59363602\">here</a>."}, {"owner": {"reputation": 3824, "user_id": 978777, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1ee2da43e0163de949637524ded7d4b6?s=128&d=identicon&r=PG", "display_name": "Joseph Anderson", "link": "https://stackoverflow.com/users/978777/joseph-anderson"}, "reply_to_user": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1576767099, "post_id": 58207851, "comment_id": 105011293, "body": "I just created the database table and assigned the primary key, using the designer."}, {"owner": {"reputation": 5744, "user_id": 722393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc974b4440cea2f89bd99c0cb0b75da1?s=128&d=identicon&r=PG", "display_name": "InteXX", "link": "https://stackoverflow.com/users/722393/intexx"}, "edited": false, "score": 0, "creation_date": 1576772658, "post_id": 58207851, "comment_id": 105014314, "body": "I see. Using the designer, I was able to apply a custom name to my foreign key. Pity. I was hoping for a way to do it with Code First Migrations, using the Fluent API."}], "owner": {"reputation": 3824, "user_id": 978777, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1ee2da43e0163de949637524ded7d4b6?s=128&d=identicon&r=PG", "display_name": "Joseph Anderson", "link": "https://stackoverflow.com/users/978777/joseph-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1570043061, "creation_date": 1570043061, "question_id": 58207851, "link": "https://stackoverflow.com/questions/58207851/entity-framework-code-first-set-foreign-key-name", "title": "Entity Framework Code First Set Foreign Key Name", "body": "<p>I have two tables:</p>\n\n<p>User\nID\nEmail</p>\n\n<p>Task\nEmail\nTaskName</p>\n\n<p>The user can have multiple tasks. I need to specify that Email is the foreign key relationship between my task and email table. How can this be done?</p>\n\n<p>Here is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>        public MyDataContext() : base(\"Default\")\r\n        {\r\n        }\r\n\r\n        public DbSet&lt;User&gt; Users { get; set; }\r\n        public DbSet&lt;Task&gt; Tasks { get; set; }\r\n\r\n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\r\n        {\r\n            modelBuilder.Entity&lt;User&gt;()\r\n                .ToTable(\"User\").HasRequired(m =&gt; m.Tasks)\r\n                    .WithMany()\r\n                    .HasForeignKey(m =&gt; m.Email)\r\n                    .WillCascadeOnDelete(false);\r\n            modelBuilder.Entity&lt;Task&gt;()\r\n                .ToTable(\"Task\");\r\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", "pdf", "ghostscript", "ghostscript.net", "ghostscriptsharp"], "comments": [{"owner": {"reputation": 27865, "user_id": 701996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hx9ep.jpg?s=128&g=1", "display_name": "KenS", "link": "https://stackoverflow.com/users/701996/kens"}, "edited": false, "score": 0, "creation_date": 1570086157, "post_id": 58207786, "comment_id": 102804196, "body": "You&#39;re going to have to share the PDF, nobody can say much without looking at it. You also haven&#39;t said which version of Ghostscript you are using, or supplied a command line. I notice that you aren&#39;t using Ghostscript directly but using some kind of wrapper. You should probably move the tag to ghostscriptsharp or ghostscript.net (depending which one you are using) rather than Ghostscript."}, {"owner": {"reputation": 27865, "user_id": 701996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hx9ep.jpg?s=128&g=1", "display_name": "KenS", "link": "https://stackoverflow.com/users/701996/kens"}, "edited": false, "score": 0, "creation_date": 1570110236, "post_id": 58207786, "comment_id": 102816746, "body": "Well the first thing you should do is use a more recent version, 8.64 is 10 years old! The current version is 9.27 and 9.28 will be released shortly (currently at release candidate 4). You also still haven&#39;t supplied a PDF file or a command line (or a complete list of arguments, since you aren&#39;t using Ghostscript itself)"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11879982, "user_type": "registered", "profile_image": "https://graph.facebook.com/2500254706662230/picture?type=large", "display_name": "Tomer17", "link": "https://stackoverflow.com/users/11879982/tomer17"}, "is_accepted": true, "score": 0, "last_activity_date": 1570396928, "creation_date": 1570396928, "answer_id": 58261333, "question_id": 58207786, "link": "https://stackoverflow.com/questions/58207786/ghostscript-exports-png-but-cuts-half-of-the-landscape-page/58261333#58261333", "title": "Ghostscript exports PNG but cuts half of the landscape page", "body": "<p>Thanks for the comments. It was really the version - GS 9.26 32Bit worked for me. Thanks!</p>\n"}], "owner": {"reputation": 1, "user_id": 11879982, "user_type": "registered", "profile_image": "https://graph.facebook.com/2500254706662230/picture?type=large", "display_name": "Tomer17", "link": "https://stackoverflow.com/users/11879982/tomer17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 58261333, "answer_count": 1, "score": 0, "last_activity_date": 1570396928, "creation_date": 1570042786, "last_edit_date": 1570106011, "question_id": 58207786, "link": "https://stackoverflow.com/questions/58207786/ghostscript-exports-png-but-cuts-half-of-the-landscape-page", "title": "Ghostscript exports PNG but cuts half of the landscape page", "body": "<p>I am trying to convert pdf to picture with Ghostscript. I have a landscape A3 PDF but no matter what I do, I only get the left half of every page.. I tried adding the <code>-dPDFFitPage</code>, <code>-dFIXEDMEDIA</code>, and other parameters but it didn\u2019t seem to change anything..</p>\n\n<p>My code without additional customswitches (C#):</p>\n\n<pre><code>var r=new GhotsScriptRasterizer();\nr.open(pdfPath);\nvar pdf2png=r.GetPage(300,300,1);\npdf2png.Save(savePath);\n</code></pre>\n\n<p>I am using Ghostscript 8.64 32bit.</p>\n"}, {"tags": ["c#", "remote-access", "impersonation", "unc", "file-manipulation"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1571346997, "post_id": 58207621, "comment_id": 103221324, "body": "You first need to get pass windows credentials.  So local and remote PCs have to be in the same group.  The as a user you need an account on both local and remote machines."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1571779644, "post_id": 58207621, "comment_id": 103352441, "body": "As long as that other machine doesn&#39;t allow you to log in then you can&#39;t get anywhere.  Ask IT staff to help you."}], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 4616944, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a221bbef1d153d8670d9b352930df4b?s=128&d=identicon&r=PG&f=1", "display_name": "Devsman", "link": "https://stackoverflow.com/users/4616944/devsman"}, "edited": false, "score": 0, "creation_date": 1571666728, "post_id": 58441547, "comment_id": 103306542, "body": "Well now I have a slightly different error. 1208 ERROR_EXTENDED_ERROR. Per WNetGetLastError, &quot;The user is not allowed to log on from this workstation.&quot;"}, {"owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "reply_to_user": {"reputation": 382, "user_id": 4616944, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a221bbef1d153d8670d9b352930df4b?s=128&d=identicon&r=PG&f=1", "display_name": "Devsman", "link": "https://stackoverflow.com/users/4616944/devsman"}, "edited": false, "score": 0, "creation_date": 1571688932, "post_id": 58441547, "comment_id": 103316919, "body": "Try to connect to the share in windows explorer from a user on the server that has no permission to the share at all. This should give you a prompt to login and then you can use the service account to login and see if it works. If this does not work the problem is in the security or network settings and not in the code."}], "tags": [], "owner": {"reputation": 9135, "user_id": 6200414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a9e4ed371b7b19a4fbf4b483aa2a79a?s=128&d=identicon&r=PG&f=1", "display_name": "AlesD", "link": "https://stackoverflow.com/users/6200414/alesd"}, "is_accepted": false, "score": 0, "last_activity_date": 1571351583, "creation_date": 1571351583, "answer_id": 58441547, "question_id": 58207621, "link": "https://stackoverflow.com/questions/58207621/how-can-i-use-impersonation-to-manipulate-files-directories-on-a-remote-machine/58441547#58441547", "title": "How can I use impersonation to manipulate files/directories on a remote machine with UNC?", "body": "<p>You cannot do it with impersonation if the account cannot log on. Impersonation requires the thread to run under the user credentials. That is why the <code>LogonUser</code> fails.</p>\n\n<p>You can use the <a href=\"https://docs.microsoft.com/en-us/windows/win32/api/winnetwk/nf-winnetwk-wnetaddconnection2a\" rel=\"nofollow noreferrer\">WNetAddConnection2</a> function that is used to establish a connection to a network resource.</p>\n\n<p>Here is a sample for your <code>CreateDirectoryIfNotExist</code> function using this approach:</p>\n\n<pre><code>public static void CreateDirectoryIfNotExists(string directory, string sharePath, string username, string password)\n{\n   NETRESOURCE nr = new NETRESOURCE();\n   nr.dwType = ResourceType.RESOURCETYPE_DISK;\n   nr.lpLocalName = null;\n   nr.lpRemoteName = sharePath;\n   nr.lpProvider = null;\n\n   int result = WNetAddConnection2(nr, password, username, 0);\n   string directoryFullPath = Path.Combine(sharePath, directory);\n   if (!Directory.Exists(directoryFullPath))\n   {\n      Directory.CreateDirectory(directoryFullPath);\n   }\n}\n</code></pre>\n\n<p>To be able to do the system call you need also the following definitions from <a href=\"https://www.pinvoke.net/default.aspx/mpr/VVNetAddConnection2.html\" rel=\"nofollow noreferrer\">pinvoke.net</a>.</p>\n\n<pre><code>[StructLayout(LayoutKind.Sequential)]\nprivate class NETRESOURCE\n{\n   public ResourceScope dwScope = 0;\n   public ResourceType dwType = 0;\n   public ResourceDisplayType dwDisplayType = 0;\n   public ResourceUsage dwUsage = 0;\n   [MarshalAs(UnmanagedType.LPStr)] public string lpLocalName = null;\n   [MarshalAs(UnmanagedType.LPStr)] public string lpRemoteName = null;\n   [MarshalAs(UnmanagedType.LPStr)] public string lpComment = null;\n   [MarshalAs(UnmanagedType.LPStr)] public string lpProvider;\n};\npublic enum ResourceScope\n{\n   RESOURCE_CONNECTED = 1,\n   RESOURCE_GLOBALNET,\n   RESOURCE_REMEMBERED,\n   RESOURCE_RECENT,\n   RESOURCE_CONTEXT\n};\n\npublic enum ResourceType\n{\n   RESOURCETYPE_ANY,\n   RESOURCETYPE_DISK,\n   RESOURCETYPE_PRINT,\n   RESOURCETYPE_RESERVED\n};\n\npublic enum ResourceUsage\n{\n   RESOURCEUSAGE_CONNECTABLE = 0x00000001,\n   RESOURCEUSAGE_CONTAINER = 0x00000002,\n   RESOURCEUSAGE_NOLOCALDEVICE = 0x00000004,\n   RESOURCEUSAGE_SIBLING = 0x00000008,\n   RESOURCEUSAGE_ATTACHED = 0x00000010,\n   RESOURCEUSAGE_ALL = (RESOURCEUSAGE_CONNECTABLE | RESOURCEUSAGE_CONTAINER | RESOURCEUSAGE_ATTACHED),\n};\n\npublic enum ResourceDisplayType\n{\n   RESOURCEDISPLAYTYPE_GENERIC,\n   RESOURCEDISPLAYTYPE_DOMAIN,\n   RESOURCEDISPLAYTYPE_SERVER,\n   RESOURCEDISPLAYTYPE_SHARE,\n   RESOURCEDISPLAYTYPE_FILE,\n   RESOURCEDISPLAYTYPE_GROUP,\n   RESOURCEDISPLAYTYPE_NETWORK,\n   RESOURCEDISPLAYTYPE_ROOT,\n   RESOURCEDISPLAYTYPE_SHAREADMIN,\n   RESOURCEDISPLAYTYPE_DIRECTORY,\n   RESOURCEDISPLAYTYPE_TREE,\n   RESOURCEDISPLAYTYPE_NDSCONTAINER\n};\npublic enum ResourceConnection\n{\n   CONNECT_UPDATE_PROFILE = 1,\n   CONNECT_UPDATE_RECENT = 2,\n   CONNECT_TEMPORARY = 4,\n   CONNECT_INTERACTIVE = 8,\n   CONNECT_PROMPT = 0X10,\n   CONNECT_REDIRECT = 0X80,\n   CONNECT_CURRENT_MEDIA = 0X200,\n   CONNECT_COMMAND_LINE = 0X800,\n   CONNECT_CMD_SAVECRED = 0X1000,\n   CONNECT_CRED_RESET = 0X2000\n\n};\n\n[DllImport(\"mpr.dll\", CharSet = System.Runtime.InteropServices.CharSet.Ansi)]\nprivate static extern int WNetAddConnection2(NETRESOURCE lpNetResource,\n      [MarshalAs(UnmanagedType.LPStr)]  string lpPassword,\n      [MarshalAs(UnmanagedType.LPStr)]  string lpUserName, int dwFlags);\n</code></pre>\n\n<p>You can add this definitions to the same class as your function.</p>\n\n<p>Here are also links to two older post which also use the same approach.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/659013/accessing-a-shared-file-unc-from-a-remote-non-trusted-domain-with-credentials\">Accessing a Shared File (UNC) From a Remote, Non-Trusted Domain With Credentials</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/1441406/how-do-i-access-a-file-share-programmatically\">How do I access a file share programmatically</a></p>\n"}, {"tags": [], "owner": {"reputation": 452, "user_id": 9203434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/015f48f4e4ae40e3067d966d6a9ac6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Brijesh Kumar Tripathi", "link": "https://stackoverflow.com/users/9203434/brijesh-kumar-tripathi"}, "is_accepted": false, "score": 0, "last_activity_date": 1571895765, "creation_date": 1571895765, "answer_id": 58534812, "question_id": 58207621, "link": "https://stackoverflow.com/questions/58207621/how-can-i-use-impersonation-to-manipulate-files-directories-on-a-remote-machine/58534812#58534812", "title": "How can I use impersonation to manipulate files/directories on a remote machine with UNC?", "body": "<p>You can solve this problem like I solved it. Below are the steps:</p>\n\n<p>Step 1: Open IIS. Then add a virtual directory in your web application.</p>\n\n<p><a href=\"https://i.stack.imgur.com/55pHK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/55pHK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Step 2: Then map your shared path with the virtual directory added in Step 1</p>\n\n<p><a href=\"https://i.stack.imgur.com/vL08b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vL08b.png\" alt=\"enter image description here\"></a></p>\n\n<p>Step 3: Now click on Connect as..</p>\n\n<p><a href=\"https://i.stack.imgur.com/vXf3n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vXf3n.png\" alt=\"enter image description here\"></a></p>\n\n<p>Step 4: Set the credential of your desired user by which you want to connect your shared path.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1VviY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VviY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Step 5: Now the IIS configuration part is over and you need to start using src=\"Image/Image.png\" in your html or start manipulating \"SharedFolder/YourFile.ext\".</p>\n"}], "owner": {"reputation": 382, "user_id": 4616944, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a221bbef1d153d8670d9b352930df4b?s=128&d=identicon&r=PG&f=1", "display_name": "Devsman", "link": "https://stackoverflow.com/users/4616944/devsman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 559, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1571895765, "creation_date": 1570042104, "last_edit_date": 1570052985, "question_id": 58207621, "link": "https://stackoverflow.com/questions/58207621/how-can-i-use-impersonation-to-manipulate-files-directories-on-a-remote-machine", "title": "How can I use impersonation to manipulate files/directories on a remote machine with UNC?", "body": "<p>I need to download files from a server to a shared drive directory, creating the directory if it doesn't exist. There are a few things making this more complicated:</p>\n\n<ol>\n<li>I do not have write access (nor does the account that will run the job in UAT/Prod) to the shared drive directory.</li>\n<li>The Service account that does have write access does not have any privileges anywhere but the shared drive directory.</li>\n</ol>\n\n<p>I attempt to impersonate, as so:</p>\n\n<pre><code>class Impersonation\n{\n    const int LOGON32_LOGON_NETWORK = 3;\n    const int LOGON_TYPE_NEW_CREDENTIALS = 9;\n    const int LOGON32_PROVIDER_WINNT50 = 3;\n\n    [DllImport(\"advapi32.dll\", SetLastError = true)]\n    public static extern bool LogonUser(string pszUsername, string pszDomain, string pszPassword, int dwLogonType, int dwLogonProvider, ref IntPtr phToken);\n\n    [DllImport(\"kernel32.dll\", CharSet = CharSet.Auto)]\n    public extern static bool CloseHandle(IntPtr handle);\n\n    public static void Impersonate(string domain, string user, string password, Action act)\n    {\n        //if no user specified, don't impersonate\n        if (user.Trim() == \"\")\n        {\n            act();\n            return;\n        }\n        WindowsImpersonationContext impersonationContext = null;\n        IntPtr token = IntPtr.Zero;\n        try\n        {\n            //if no domain specified, default it to current machine\n            if (domain.Trim() == \"\")\n            {\n                domain = System.Environment.MachineName;\n            }\n            bool result = LogonUser(user, domain, password, LOGON_TYPE_NEW_CREDENTIALS, LOGON32_PROVIDER_WINNT50, ref token);\n            WindowsIdentity wi = new WindowsIdentity(token);\n            impersonationContext = WindowsIdentity.Impersonate(token);\n            act();\n        }\n        catch (Exception ex)\n        {\n            if (impersonationContext != null)\n            {\n                impersonationContext.Undo();\n                impersonationContext = null;\n            }\n            //if something went wrong, try it as the running user just in case\n            act();\n        }\n        finally\n        {\n            if (impersonationContext != null)\n            {\n                impersonationContext.Undo();\n                impersonationContext = null;\n            }\n            if (token != IntPtr.Zero)\n            {\n                CloseHandle(token);\n                token = IntPtr.Zero;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And a piece of the the actual calling code is (in another class):</p>\n\n<pre><code>private static void CreateDirectoryIfNotExist(string directory, string domain, string username, string password)\n{\n    Impersonation.Impersonate(domain, username, password, () =&gt; CreateIfNotExist(directory));\n}\n\nprivate static void CreateIfNotExist(string dir)\n{\n    if (!Directory.Exists(dir))\n    {\n        Directory.CreateDirectory(dir);\n    }\n}\n</code></pre>\n\n<p>If I run it with the proper login info for the service account, I get an Exception on the Directory.CreateDirectory(string) call:</p>\n\n<blockquote>\n  <p>{System.IO.IOException: This user isn't allowed to sign in to this computer.}</p>\n</blockquote>\n\n<p>I'm guessing this means the service account isn't allowed to log in to the executing machine, which I already knew. But really, there's no reason it needs to log in to the executing machine. Is there a way I can use impersonation to log on to a remote machine and execute the commands from there?</p>\n"}, {"tags": ["c#", "plc", "siemens"], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 4711496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41b36b7768a1fec13f8b6b6de7e02fb?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4711496/seb"}, "is_accepted": false, "score": 2, "last_activity_date": 1570201394, "last_edit_date": 1570201394, "creation_date": 1570118363, "answer_id": 58222899, "question_id": 58207603, "link": "https://stackoverflow.com/questions/58207603/read-a-siemens-plc-s7-string-in-c-with-s7netplus/58222899#58222899", "title": "Read a Siemens PLC s7 String in C# with S7netplus", "body": "<p>I managed to read my string value by the ReadBytes method.\nIn my example I needed to pass values like this:</p>\n\n<pre><code>plc.Read(DataType.DataBlock, 105, 12, VarType.String, 40);\n</code></pre>\n\n<p>Why 12? Because the 2 first octets of a byte string are for the length. So 10 to 12 return a value as 40 which is the length.</p>\n\n<p>I have override the read method to accept the 'easy string' call like this:</p>\n\n<pre><code>    public T Read&lt;T&gt;(object pValue)\n            {\n                var splitValue = pValue.ToString().Split('.');\n                //check if it is a string template (3 separation ., 2 if not)\n                if (splitValue.Count() &gt; 3 &amp;&amp; splitValue[1].Substring(2, 1) == \"S\")\n                {\n                    DataType dType;\n\n                    //If we have to read string in other dataType need development to make here.\n                    if (splitValue[0].Substring(0, 2) == \"DB\")\n                        dType = DataType.DataBlock;\n                    else\n                        throw new Exception(\"Data Type not supported for string value yet.\");\n\n                    int length = Convert.ToInt32(splitValue[3]);\n                    int start = Convert.ToInt32(splitValue[1].Substring(3, splitValue[1].Length - 3));\n                    int MemoryNumber = Convert.ToInt32(splitValue[0].Substring(2, splitValue[0].Length - 2));\n\n                    // the 2 first bits are for the length of the string. So we have to pass it\n                    int startString = start + 2;\n                    var value = ReadFull(dType, MemoryNumber, startString, VarType.String, length);\n                    return (T)value;\n                }\n                else\n                {\n                    var value = plc.Read(pValue.ToString());\n\n                    //Cast with good format.\n                    return (T)value;\n                }\n}\n</code></pre>\n\n<p>So now I can call my read function like this:\nwith basic existing call:</p>\n\n<ul>\n<li><code>var element = mPlc.Read&lt;bool&gt;(\"DB10.DBX1.4\").ToString();</code> => read in Datablock 10 a boolean value on the byte 1 and octet 4</li>\n<li><code>var element = mPlc.Read&lt;uint&gt;(\"DB10.DBD4.0\").ToString();</code> => read in datablock 10 a int value on the byte 4 and octet 0</li>\n</ul>\n\n<p>with the overrided call for the string:</p>\n\n<ul>\n<li><code>var element = mPlc.Read&lt;string&gt;(\"DB105.DBS10.0.40\").ToString()</code> => read in the datablock 105 a string value on the byte 10 and octet 0 with a length of 40</li>\n</ul>\n\n<p>Hope this could help for anyone else :)</p>\n"}], "owner": {"reputation": 45, "user_id": 4711496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41b36b7768a1fec13f8b6b6de7e02fb?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4711496/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1721, "favorite_count": 3, "answer_count": 1, "score": 1, "last_activity_date": 1570201394, "creation_date": 1570042044, "last_edit_date": 1570042783, "question_id": 58207603, "link": "https://stackoverflow.com/questions/58207603/read-a-siemens-plc-s7-string-in-c-with-s7netplus", "title": "Read a Siemens PLC s7 String in C# with S7netplus", "body": "<p>I have trouble to read data in DB of a Siemens PLC S7 1500 using S7netplus.</p>\n\n<p>The situation:</p>\n\n<ul>\n<li>I have a C# application running. </li>\n<li>I connect on the PLC very well.</li>\n<li>I can read data such as Boolean, UInt, UShot, Bytes</li>\n</ul>\n\n<p>But I don't know how to read String data (see the image below)</p>\n\n<p><img src=\"https://i.stack.imgur.com/LXRub.png\" alt=\"PLC Datas\"></p>\n\n<p>To read the other datas like Boolean I use this call: </p>\n\n<pre><code>plc.Read(\"DB105.DBX0.0\")\n</code></pre>\n\n<p>I understood that this read in the Datablock 105 (DB105) with a datatype Boolean (DBX) at the offset 0.0\nI would like to apply the same type of reading for the string. So I Tried \"DB105.DBB10.0\" in my example. But it return a value \"40\" in Byte type (and i should have something else)</p>\n\n<p>I saw that there is another reading method  </p>\n\n<pre><code>plc.ReadBytes(DataType DB, int DBNumber, int StartByteArray, int lengthToRead)\n</code></pre>\n\n<p>But I have difficulties to see how to apply it to my example (I know that I have to convert it to string after).</p>\n\n<p>TO resume: \n- Is there a simple way with a string like \"DB105.DBX0.0\" to read string data in a Siemens PLC?\n- If not how to use the ReadBytes function in my example?</p>\n\n<p>Thanks for your help</p>\n"}, {"tags": ["c#", "wcf", "soap", "postman"], "answers": [{"tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": false, "score": 0, "last_activity_date": 1570088038, "creation_date": 1570088038, "answer_id": 58214358, "question_id": 58207594, "link": "https://stackoverflow.com/questions/58207594/consuming-a-wcf-service-in-postman-based-on-clientbase/58214358#58214358", "title": "Consuming a WCF service in Postman based on ClientBase", "body": "<p>Adding a SOAPAction HTTP header and a standard SOAP envelop to the HTTP request can simply call the WCF service created by BasichttpBinding.<br>\nHere is an HTTP request captured by Fiddler.  </p>\n\n<pre><code>POST http://10.157.13.69:4386/ HTTP/1.1 \nContent-Type: text/xml; charset=utf-8 \nSOAPAction: \"http://tempuri.org/ITestService/Test\"\nHost:10.157.13.69:4386\nContent-Length: 129\nExpect: 100-continue\nAccept-Encoding: gzip, deflate\nConnection: Keep-Alive  \n&lt;s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;&lt;s:Body&gt;&lt;Test xmlns=\"http://tempuri.org/\"/&gt;&lt;/s:Body&gt;&lt;/s:Envelope&gt;\n</code></pre>\n\n<p>Thereby we could construct a request to the WCF based on the TestReceiver interface.\n<a href=\"https://i.stack.imgur.com/aP8sQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aP8sQ.png\" alt=\"enter image description here\"></a><br>\nRequest body(Raw).</p>\n\n<pre><code>&lt;s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;s:Body&gt;&lt;TestReceiver xmlns=\"http://tempuri.org/\"/&gt;&lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n</code></pre>\n\n<hr>\n\n<p>One more thing we pay attention to is the default namespace of the service contract is \"\", which should be replaced with the practical value if you have set up.<br>\nFeel free to let me know if the problem still exists.</p>\n"}], "owner": {"reputation": 9, "user_id": 11583001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27cf45a3d218186644d99752648faeb2?s=128&d=identicon&r=PG&f=1", "display_name": "abelh", "link": "https://stackoverflow.com/users/11583001/abelh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570088038, "creation_date": 1570042029, "last_edit_date": 1570083673, "question_id": 58207594, "link": "https://stackoverflow.com/questions/58207594/consuming-a-wcf-service-in-postman-based-on-clientbase", "title": "Consuming a WCF service in Postman based on ClientBase", "body": "<p>I want to test a WCF based on ClientBase class in postman, how should I do that?</p>\n\n<p>Endpoint address=\"<code>http://xxxxxxxx/xxxxx/TestService.svc</code>\" and <code>bindingConfiguration=\"BasicHttpBinding_TESTAPI</code>\"</p>\n\n<p>The Service implementation as below:</p>\n\n<pre><code>[System.CodeDom.Compiler.GeneratedCodeAttribute(\"System.ServiceModel\", \"4.0.0.0\")]    [System.ServiceModel.ServiceContractAttribute(ConfigurationName=\"TESTFApi.TESTAPI\")]\npublic interface TESTAPI {\n    [System.ServiceModel.OperationContractAttribute(Action=\"http://tempuri.org/TESTAPI/TESTReceiver\", ReplyAction=\"http://tempuri.org/TESTAPI/TESTReceiverResponse\")]\n    string TESTReceiver(string xRequest);\n}\n\n[System.CodeDom.Compiler.GeneratedCodeAttribute(\"System.ServiceModel\", \"4.0.0.0\")]\npublic interface TESTAPIChannel : TESTAPI, System.ServiceModel.IClientChannel {\n} \n\npublic partial class TESTIClient : System.ServiceModel.ClientBase&lt;TESTAPI&gt;, TESTAPI {\n\n    public TESTAPIClient() {\n    }\n\n    public TESTAPIClient(string endpointConfigurationName) : \n            base(endpointConfigurationName) {\n    }\n\n    public TESTAPIClient(string endpointConfigurationName, string remoteAddress) : \n            base(endpointConfigurationName, remoteAddress) {\n    }\n\n    public TESTAPIClient(string endpointConfigurationName, System.ServiceModel.EndpointAddress remoteAddress) : \n            base(endpointConfigurationName, remoteAddress) {\n    }\n\n    public TESTAPIClient(System.ServiceModel.Channels.Binding binding, System.ServiceModel.EndpointAddress remoteAddress) : \n            base(binding, remoteAddress) {\n    }\n\n    public string TESTReceiver(string xRequest) {\n        return base.Channel.TESTReceiver(xRequest);\n    }\n}\n</code></pre>\n\n<p>I want to simulate a call in Postman to TESTReceiver(xRequest)</p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 6, "creation_date": 1570041353, "post_id": 58207414, "comment_id": 102792813, "body": "You have to execute the query."}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 3, "creation_date": 1570041480, "post_id": 58207414, "comment_id": 102792862, "body": "You&#39;re creating the connection, opening it, creating the command .... but you never actually <b>EXECUTE</b> that command! No wonder you don&#39;t see anything in SQL Server Profiler - there&#39;s nothing to see! After the <code>conn.Open();</code>, you need to have a <code>cmd.ExecuteNonQuery();</code> to actually send the command to SQL Server and have it run ...."}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1570041767, "post_id": 58207414, "comment_id": 102792978, "body": "I realise you are just beginning in C# land, but hand-crafting SQL is really not a good think to think in C#.  Technologies like Linq and packages like EntityFramework abstract away all the hard things like making creating SQL, making connections/commands etc.   It would also have probably prevented you from making this error too.  Just sayin."}, {"owner": {"reputation": 2763, "user_id": 890743, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cdffc284f976d9d6ccdec0d839d82472?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/890743/eric"}, "edited": false, "score": 0, "creation_date": 1570041975, "post_id": 58207414, "comment_id": 102793067, "body": "If you don&#39;t execute the code, how do you expect it to be in your database?"}], "answers": [{"comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1570041699, "post_id": 58207513, "comment_id": 102792947, "body": "You should avoid <a href=\"https://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">AddWithValue</a>, particularly in relation to strings."}, {"owner": {"reputation": 53, "user_id": 11266877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0876e79e7658b70d3ceef8c1ff2eb3?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan__T", "link": "https://stackoverflow.com/users/11266877/bryan-t"}, "edited": false, "score": 0, "creation_date": 1570042637, "post_id": 58207513, "comment_id": 102793412, "body": "@Voxum Well that certainly does help! Rookie mistake."}, {"owner": {"reputation": 53, "user_id": 11266877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0876e79e7658b70d3ceef8c1ff2eb3?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan__T", "link": "https://stackoverflow.com/users/11266877/bryan-t"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1570042777, "post_id": 58207513, "comment_id": 102793483, "body": "@LarsTech I also came across an article that I should not use AddWithValue, as it invokes implicit conversion. Do I understand that concern correctly? I have converted to Parameters.Add()."}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "reply_to_user": {"reputation": 53, "user_id": 11266877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0876e79e7658b70d3ceef8c1ff2eb3?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan__T", "link": "https://stackoverflow.com/users/11266877/bryan-t"}, "edited": false, "score": 0, "creation_date": 1570042778, "post_id": 58207513, "comment_id": 102793484, "body": "@Bryan__T: it might incur implicit conversions - and some times, the <i>guessing</i> of what datatype a parameter is can be totally off and cause all sorts of trouble. Avoid it if ever possible - there are much better alternatives"}, {"owner": {"reputation": 93, "user_id": 3716398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af40b879ff5282125387b88ac1690c6d?s=128&d=identicon&r=PG&f=1", "display_name": "Voxum", "link": "https://stackoverflow.com/users/3716398/voxum"}, "edited": false, "score": 0, "creation_date": 1570044325, "post_id": 58207513, "comment_id": 102794107, "body": "Didn&#39;t know of the implicit conversion with AddWithValue. I&#39;ll keep an eye out for that in the future!"}], "tags": [], "owner": {"reputation": 93, "user_id": 3716398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af40b879ff5282125387b88ac1690c6d?s=128&d=identicon&r=PG&f=1", "display_name": "Voxum", "link": "https://stackoverflow.com/users/3716398/voxum"}, "is_accepted": true, "score": 1, "last_activity_date": 1570041645, "creation_date": 1570041645, "answer_id": 58207513, "question_id": 58207414, "link": "https://stackoverflow.com/questions/58207414/unable-to-write-to-sql-server-using-c-no-errors-produced-yet-nothing-is-writte/58207513#58207513", "title": "Unable to write to SQL Server using C#; no errors produced yet nothing is written to table", "body": "<p>You're not executing the query.</p>\n\n<pre><code>using(SqlConnection conn = new SqlConnection(constr)){\nconn.open();\n   using(SqlCommand cmd = new SqlCommand(queryString, conn)){\n      cmd.Parameters.AddWithValue(\"@val1\", string1);\n      cmd.Parameters.AddWithValue(\"@val2\", string2);\n      cmd.Parameters.AddWithValue(\"@val3\", string3);\n\n      cmd.ExeucuteNonQuery();\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 11266877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0876e79e7658b70d3ceef8c1ff2eb3?s=128&d=identicon&r=PG&f=1", "display_name": "Bryan__T", "link": "https://stackoverflow.com/users/11266877/bryan-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1570084012, "accepted_answer_id": 58207513, "answer_count": 1, "score": -1, "last_activity_date": 1570042509, "creation_date": 1570041261, "last_edit_date": 1570041417, "question_id": 58207414, "link": "https://stackoverflow.com/questions/58207414/unable-to-write-to-sql-server-using-c-no-errors-produced-yet-nothing-is-writte", "closed_reason": "Not suitable for this site", "title": "Unable to write to SQL Server using C#; no errors produced yet nothing is written to table", "body": "<p>After several hours of researching and not finding a solution, I am now requesting assistance. I am not a C# wizard; your knowledge and insight on this will be greatly appreciated. My goal is to write an access attempt to an audit log on each page load.</p>\n\n<ol>\n<li>I have verified the connection string's Server\\Instance, Database, User, and Password</li>\n<li>I have done a linked server test from another server using the credentials copy/pasted from the connection string, with success.</li>\n<li>I have validated the query in SSMS.</li>\n<li>SQL Server Profiler does not even register an attempt to connect to the database</li>\n</ol>\n\n<p>My code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Data;\nusing System.Data.SqlClient;\nusing System.Net;\nusing System.Web;\n\nnamespace NAMESPACE\n{\n    public partial class Site : System.Web.UI.MasterPage\n    {\n        public string string1 = \"\";\n        public string string2 = \"\";\n        public string string3 = \"\";\n\n        protected void Page_Load(object sender, EventArgs e)\n        {\n            string1 = DateTime.Now.ToString(\"yyyyMMdd_\") + Guid.NewGuid().ToString().Substring(1,5);\n            string2 = HttpContext.Current.Request.LogonUserIdentity.Name.ToLower();\n            string3 = HttpContext.Current.Request.Url.ToString();\n\n            // Define SQL connection string and query\n            string connString =\n                \"Server=SERVER\\\\INSTANCE;\" +\n                \"Database=DB;\" +\n                \"User Id=USER;\" +\n                \"Password=PSWD;\";\n\n            string queryString =\n                \"insert into dbo.TABLE ([col1], [col2], [col3])\" +\n                \"values (@val1, @val2, @val3)\";\n\n            // Write to DB\n            using (SqlConnection conn = new SqlConnection(connString))\n            {\n                using (SqlCommand cmd = new SqlCommand(queryString, conn))\n                {\n                    cmd.Parameters.Add(\"@val1\", SqlDbType.NVarChar, 100).Value = string1;\n                    cmd.Parameters.Add(\"@val2\", SqlDbType.NVarChar, 100).Value = string2;\n                    cmd.Parameters.Add(\"@val3\", SqlDbType.NVarChar, 100).Value = string3;\n\n                    conn.Open();\n                }\n\n                //conn.Close();\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "ssh", "npgsql", "ssh-tunnel", "ssh.net"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1570048993, "post_id": 58207371, "comment_id": 102796010, "body": "Which line throws that exception?"}, {"owner": {"reputation": 35, "user_id": 4424164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a4b8acdd660743d39457180921e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "peropata", "link": "https://stackoverflow.com/users/4424164/peropata"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1570074895, "post_id": 58207371, "comment_id": 102801175, "body": "@Amy &#39;conn.Open();&#39;"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1570080900, "post_id": 58207371, "comment_id": 102802411, "body": "Is the database server listening on the <code>210.130.90.110</code>? Did you try <code>localhost</code>/<code>127.0.0.1</code> instead? + Can you connect using post forwarding created by an existing software, like PuTTY? Or using local database client?"}, {"owner": {"reputation": 35, "user_id": 4424164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a4b8acdd660743d39457180921e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "peropata", "link": "https://stackoverflow.com/users/4424164/peropata"}, "reply_to_user": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1570093990, "post_id": 58207371, "comment_id": 102807998, "body": "@Martin Prikryl You are correct. After replacing 210.130.90.110 to 127.0.0.1, the connection is successful. You can write the solution, or I will write it later."}], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": true, "score": 2, "last_activity_date": 1570107545, "creation_date": 1570107545, "answer_id": 58219681, "question_id": 58207371, "link": "https://stackoverflow.com/questions/58207371/c-ssh-tunnel-postgres-database-connection/58219681#58219681", "title": "C# SSH tunnel Postgres database connection", "body": "<p>The remote end of the port forwarding is resolved on the server. So you need set the IP address/hostname in a way that works, as it you are connecting <em>from the server itself</em>.</p>\n\n<p>The database probably listens on the <code>localhost</code> interface only. Not on the public IP address (if it were, you possibly would not need the port forwarding in the first place).</p>\n\n<p>Additionally, it is not a good idea to hard-code the local forwarded port. You cannot know, if that port is not already occupied by another application. Let the system choose any free local port.</p>\n\n<pre><code>var port = new ForwardedPortLocal(\"127.0.0.1\", \"127.0.0.1\", 5432);\nclient.AddForwardedPort(port);\nport.Start();\n\nstring connString =\n    $\"Server={port.BoundHost};Database=dbname;Port={port.BoundPort};\" +\n     \"User Id=dbuser;Password=dbpassword;\";\n\nusing (var conn = new NpgsqlConnection(connString))\n{\n    conn.Open();\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4424164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a4b8acdd660743d39457180921e9f9?s=128&d=identicon&r=PG&f=1", "display_name": "peropata", "link": "https://stackoverflow.com/users/4424164/peropata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1596, "favorite_count": 1, "accepted_answer_id": 58219681, "answer_count": 1, "score": 2, "last_activity_date": 1570109212, "creation_date": 1570041049, "last_edit_date": 1570109212, "question_id": 58207371, "link": "https://stackoverflow.com/questions/58207371/c-ssh-tunnel-postgres-database-connection", "title": "C# SSH tunnel Postgres database connection", "body": "<p>I am trying to connect to the Postgres database on remote server through SSH tunnel. I am using SSH.NET and Npgsql library. Here is my example code:</p>\n\n<pre><code>using (var client = new SshClient(\"210.130.90.110\", \"root\", \"pasword\"))\n{\n    client.Connect();\n\n    if (!client.IsConnected)\n    {\n        // Display error\n        Console.WriteLine(\"Client not connected!\");\n    }\n    else\n    {\n        Console.WriteLine(\"Client connected!\");\n    }\n\n    var port = new ForwardedPortLocal(\"127.0.0.1\", 15432, \"210.130.90.110\", 5432);\n    client.AddForwardedPort(port);\n\n    port.Start();\n\n    using (var conn = new NpgsqlConnection(\"Server=127.0.0.1;Database=dbname;Port=15432;User Id=dbuser;Password=dbpassword;\"))\n    {\n        conn.Open();\n    }\n\n    port.Stop();\n    client.Disconnect();\n}\n</code></pre>\n\n<p>After code execution I get:</p>\n\n<blockquote>\n  <p>Npgsql.NpgsqlException: 'Exception while reading from stream'\n  EndOfStreamException: Attempted to read past the end of the stream.</p>\n</blockquote>\n\n<p>I am able to connect to database using DBeaver.</p>\n"}, {"tags": ["c#", "asp.net-core-mvc", "visual-studio-2019", "auto-generate"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1570041277, "post_id": 58207369, "comment_id": 102792782, "body": "Yes, but you&#39;d have to write the code that auto-generates those things. Look around for &quot;T4 templates&quot;... I believe they are still a thing in VS2019..."}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 1, "creation_date": 1570041896, "post_id": 58207369, "comment_id": 102793029, "body": "Also, bear in mind that some developers/projects insist on a different view model for each view, not just one shared between views.  You should have a minimum of <code>CreateViewModel</code>, <code>EditViewModel</code>, <code>DeleteViewModel</code>, <code>IndexViewModel</code>"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 1, "creation_date": 1570072749, "post_id": 58207369, "comment_id": 102800837, "body": "You need to try implement your own VS Extension based on your requirement, for VS Extension, you could refer <a href=\"https://docs.microsoft.com/en-us/visualstudio/extensibility/creating-an-extension-with-a-vspackage?view=vs-2019\" rel=\"nofollow noreferrer\">Create an extension with a VSPackage</a>"}], "owner": {"reputation": 1158, "user_id": 8966035, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/I41vW.jpg?s=128&g=1", "display_name": "Stian", "link": "https://stackoverflow.com/users/8966035/stian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570041039, "creation_date": 1570041039, "question_id": 58207369, "link": "https://stackoverflow.com/questions/58207369/is-it-possible-to-have-vs-automatically-create-viewmodel-automapper-mapping-and", "title": "Is it possible to have VS automatically create viewmodel, automapper mapping and fluent validator class when creating a new entity model?", "body": "<p>A question from a lazy coder:</p>\n\n<p>Whenever I create a new entity model, I almost always also want a corresponding viewmodel, an AutoMapper mapping and a FluentValidation validator class.</p>\n\n<p>Is it possible to have Visual Studio do it for me at the stroke of a key combination?</p>\n\n<p>For example, if I create the entity class <code>Person</code> in the file <code>Models/Person.cs</code>:</p>\n\n<pre><code>public class Person\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public DateTime DateOfBirth { get; set; }\n}\n</code></pre>\n\n<p>Then, I could press a key combination, and let VS add the following automatically to my project:</p>\n\n<p><strong>ViewModel, in a new file: <code>Models/PersonViewModel.cs</code>:</strong></p>\n\n<pre><code>public class PersonViewModel\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public DateTime DateOfBirth { get; set; }\n}\n</code></pre>\n\n<p><strong>AutoMapper mapping, added in <code>Models/AutoMapperProfile.cs</code>:</strong></p>\n\n<pre><code>CreateMap&lt;Person, PersonViewModel&gt;();\n</code></pre>\n\n<p><strong>FluentValidation validator, below the entity class in <code>Models/Person.cs</code>:</strong></p>\n\n<pre><code>// The class I wrote:\npublic class Person\n{\n    public int Id { get; set; }\n    public string Name { get; set; }\n    public DateTime DateOfBirth { get; set; }\n}\n\n// The auto generated class:\npublic class PersonValidator : AbstractValidator&lt;Person&gt;\n{\n    public PersonValidator()\n    {\n        // Empty, no rules. Those I can add manually. ;)\n    }    \n}\n</code></pre>\n\n<p><strong>Transient for the validator, added in <code>Startup.cs</code></strong></p>\n\n<pre><code>services.AddTransient&lt;IValidator&lt;Person&gt;, PersonValidator&gt;();\n</code></pre>\n\n<p>I have read a little about <a href=\"https://marketplace.visualstudio.com/items?itemName=VisualStudioPlatformTeam.MacrosforVisualStudio\" rel=\"nofollow noreferrer\">Macros for Visual Studio</a>, but from what I can tell, I don't think that could do the job.</p>\n"}, {"tags": ["c#", "asp.net", "rest", "asynchronous", "uri"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 9448402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f7c407f198077815fd4e871135b99c?s=128&d=identicon&r=PG&f=1", "display_name": "bx ded", "link": "https://stackoverflow.com/users/9448402/bx-ded"}, "edited": false, "score": 0, "creation_date": 1570041990, "post_id": 58207431, "comment_id": 102793073, "body": "I should have mentioned that I tried that. I still received a 404 response with a message of {Method: PUT, RequestUri: &#39;<a href=\"https://xx-xx-xx00/orders/create\" rel=\"nofollow noreferrer\">xx-xx-xx00/orders/create</a>&#39;,, Version: 1.1, Content: System.Net.Http.StringContent, Headers: {   Accept: application/json   Authorization: Basic xxxxxxxxxxxxxx   Content-Type: application/json; charset=utf-8   Content-Length: 149 }}"}, {"owner": {"reputation": 49, "user_id": 7190425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9DOWH.jpg?s=128&g=1", "display_name": "Aaron Raff", "link": "https://stackoverflow.com/users/7190425/aaron-raff"}, "reply_to_user": {"reputation": 39, "user_id": 9448402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f7c407f198077815fd4e871135b99c?s=128&d=identicon&r=PG&f=1", "display_name": "bx ded", "link": "https://stackoverflow.com/users/9448402/bx-ded"}, "edited": false, "score": 0, "creation_date": 1570042520, "post_id": 58207431, "comment_id": 102793357, "body": "@bxded Are you able to make a request via <code>curl</code> or Postman to the endpoint? That way you can compare that response with the one you mentioned here."}, {"owner": {"reputation": 39, "user_id": 9448402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f7c407f198077815fd4e871135b99c?s=128&d=identicon&r=PG&f=1", "display_name": "bx ded", "link": "https://stackoverflow.com/users/9448402/bx-ded"}, "edited": false, "score": 1, "creation_date": 1570042803, "post_id": 58207431, "comment_id": 102793494, "body": "Postman is returning a 404 as well. I&#39;m beginning to suspect it might be problems at the endpoint. But that still doesn&#39;t explain the odd 3 digit port truncation (see my edit to the question)"}, {"owner": {"reputation": 49, "user_id": 7190425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9DOWH.jpg?s=128&g=1", "display_name": "Aaron Raff", "link": "https://stackoverflow.com/users/7190425/aaron-raff"}, "reply_to_user": {"reputation": 39, "user_id": 9448402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f7c407f198077815fd4e871135b99c?s=128&d=identicon&r=PG&f=1", "display_name": "bx ded", "link": "https://stackoverflow.com/users/9448402/bx-ded"}, "edited": false, "score": 0, "creation_date": 1570043043, "post_id": 58207431, "comment_id": 102793599, "body": "@bxded Well at least you know that your call seems to work as expected now. The 3-digit port truncation is a bit odd though..."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1570043913, "post_id": 58207431, "comment_id": 102793932, "body": "the truncation might be because any port below 1024 is a well-known port:  &quot;The port numbers in the range from 0 to 1023 (0 to 210 \u2212 1) are the well-known ports or system ports.[2] They are used by system processes that provide widely used types of network services. On Unix-like operating systems, a process must execute with superuser privileges to be able to bind a network socket to an IP address using one of the well-known ports&quot;: <a href=\"https://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers</a>"}], "tags": [], "owner": {"reputation": 49, "user_id": 7190425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9DOWH.jpg?s=128&g=1", "display_name": "Aaron Raff", "link": "https://stackoverflow.com/users/7190425/aaron-raff"}, "is_accepted": true, "score": 0, "last_activity_date": 1570041327, "creation_date": 1570041327, "answer_id": 58207431, "question_id": 58207325, "link": "https://stackoverflow.com/questions/58207325/unable-to-build-uri-with-in-host-address-for-async-api-call/58207431#58207431", "title": "Unable to build uri with &quot;:&quot; in host address for async api call", "body": "<p>Try setting the port number on the UriBuilder's <code>Port</code> property rather than putting it in the <code>Host</code> property. More information <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.uribuilder.port?view=netframework-4.8#System_UriBuilder_Port\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 39, "user_id": 9448402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4f7c407f198077815fd4e871135b99c?s=128&d=identicon&r=PG&f=1", "display_name": "bx ded", "link": "https://stackoverflow.com/users/9448402/bx-ded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 58207431, "answer_count": 1, "score": 1, "last_activity_date": 1570042522, "creation_date": 1570040826, "last_edit_date": 1570042522, "question_id": 58207325, "link": "https://stackoverflow.com/questions/58207325/unable-to-build-uri-with-in-host-address-for-async-api-call", "title": "Unable to build uri with &quot;:&quot; in host address for async api call", "body": "<p>I am attempting to make a put call using HttpClient.PutAsync to an external api with an address that contains a \":\" in the host name, e.g. \"<a href=\"https://xx-xx-xxx:000/orders/create\" rel=\"nofollow noreferrer\">https://xx-xx-xxx:000/orders/create</a>\". </p>\n\n<p>If I pass the url string directly into HttpClient.PutAsync(apiUrl, apiContent) or build a Uri to pass into it, the host name is truncated at the \":\", e.g.\"<a href=\"https://xx-xx-xxxx/orders/create\" rel=\"nofollow noreferrer\">https://xx-xx-xxxx/orders/create</a>\" . If I try forcing the \":\" into the Uri using UriBuilder, it throws an exception of: \"Invalid URI: The hostname could not be parsed.\"</p>\n\n<p>Do I need to build a custom UriParser class to do this? If so, I am unsure of how to go about this and where to register it.</p>\n\n<pre><code>HttpResponseMessage response = new HttpResponseMessage();\n\n        try\n        {\n            //this causes exception\n            UriBuilder builder = new UriBuilder();\n            builder.Scheme = \"https\";\n            builder.Host = \"xx-xx-xx00:000\";\n            builder.Path = \"/orders/create\";\n            Uri apiUri = builder.Uri;\n\n            //this gets truncated if passed into PutAsync\n            string apiUrl = \"https://xx-xx-xx00:000/orders/create\";\n\n            //this also truncates\n            Uri uri = new Uri(apiUrl);\n\n            HttpClientHandler handler = new HttpClientHandler();\n            handler.ServerCertificateCustomValidationCallback = delegate { return true; };\n\n            HttpClient client = new HttpClient(handler);\n            client.DefaultRequestHeaders.Clear();\n\n            client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n\n            client.DefaultRequestHeaders.Authorization = new AuthenticationHeaderValue(\"Basic\", encodedUidPwd);\n\n\n            response = await client.PutAsync(apiUri, apiContent);\n\n        }\n</code></pre>\n\n<p>EDIT: Apparently this is just for a 3 digit port number, ie \"<a href=\"https://xx-xx-xxx:0000/orders/create\" rel=\"nofollow noreferrer\">https://xx-xx-xxx:0000/orders/create</a>\" does not truncate. However, I am fairly certain the port I'm trying to access has 3 digits</p>\n"}, {"tags": ["c#", "asp.net", "linux", "runtime"], "answers": [{"comments": [{"owner": {"reputation": 2672, "user_id": 278763, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f9116db6e91b1d62d136f17882fbb44d?s=128&d=identicon&r=PG", "display_name": "Peter Tirrell", "link": "https://stackoverflow.com/users/278763/peter-tirrell"}, "edited": false, "score": 0, "creation_date": 1594653815, "post_id": 60941041, "comment_id": 111193430, "body": "Was recompiling on the linux machine the only way you got this to work?  I&#39;m running into the same thing, but am not able to compile source on the target machine. I&#39;m trying to publish self-contained for a linux target, from a Windows host. I was trying to avoid even having to install the runtime on the target machine and rely on the self-contained publish."}, {"owner": {"reputation": 41, "user_id": 10994448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8dsw.jpg?s=128&g=1", "display_name": "Kristofar", "link": "https://stackoverflow.com/users/10994448/kristofar"}, "reply_to_user": {"reputation": 2672, "user_id": 278763, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f9116db6e91b1d62d136f17882fbb44d?s=128&d=identicon&r=PG", "display_name": "Peter Tirrell", "link": "https://stackoverflow.com/users/278763/peter-tirrell"}, "edited": false, "score": 0, "creation_date": 1594767227, "post_id": 60941041, "comment_id": 111240831, "body": "Unfortunately that&#39;s the only way I got it to work."}, {"owner": {"reputation": 2672, "user_id": 278763, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f9116db6e91b1d62d136f17882fbb44d?s=128&d=identicon&r=PG", "display_name": "Peter Tirrell", "link": "https://stackoverflow.com/users/278763/peter-tirrell"}, "edited": false, "score": 2, "creation_date": 1594828402, "post_id": 60941041, "comment_id": 111265486, "body": "In my case it ended up being my own problem.  I was getting this exact same error - missing &quot;createdump&quot;.  I was publishing locally, zipping up the published files, and copying them to the destination server.  It turned out that my zip command wasn&#39;t including files without an extension; &quot;createdump&quot; was correctly being generated in the build but wasn&#39;t in the archive.  Fixing that and it all worked as expected!"}, {"owner": {"reputation": 365, "user_id": 2837999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f53bd3f72eb170db2eafccbd6407d58c?s=128&d=identicon&r=PG", "display_name": "Anders Emil", "link": "https://stackoverflow.com/users/2837999/anders-emil"}, "reply_to_user": {"reputation": 2672, "user_id": 278763, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f9116db6e91b1d62d136f17882fbb44d?s=128&d=identicon&r=PG", "display_name": "Peter Tirrell", "link": "https://stackoverflow.com/users/278763/peter-tirrell"}, "edited": false, "score": 0, "creation_date": 1608114969, "post_id": 60941041, "comment_id": 115481735, "body": "@PeterTirrell thank you so much. The error message is terrible. Very hard to deduct that &#39;createdump&#39; is the file actually missing, it suggests that the runtime package is missing."}], "tags": [], "owner": {"reputation": 41, "user_id": 10994448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8dsw.jpg?s=128&g=1", "display_name": "Kristofar", "link": "https://stackoverflow.com/users/10994448/kristofar"}, "is_accepted": false, "score": 0, "last_activity_date": 1585610083, "creation_date": 1585610083, "answer_id": 60941041, "question_id": 58207322, "link": "https://stackoverflow.com/questions/58207322/an-assembly-specified-in-the-application-dependencies-manifest-project-deps-jso/60941041#60941041", "title": "An assembly specified in the application dependencies manifest (project.deps.json) was not found", "body": "<p>Recompilling from the source (using <code>dotnet msbuild</code>) directly on the linux machine seemed to solve my problem.</p>\n"}], "owner": {"reputation": 41, "user_id": 10994448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8dsw.jpg?s=128&g=1", "display_name": "Kristofar", "link": "https://stackoverflow.com/users/10994448/kristofar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1585610083, "creation_date": 1570040823, "question_id": 58207322, "link": "https://stackoverflow.com/questions/58207322/an-assembly-specified-in-the-application-dependencies-manifest-project-deps-jso", "title": "An assembly specified in the application dependencies manifest (project.deps.json) was not found", "body": "<p>I am trying to run <a href=\"https://github.com/erpnet/ErpNet.FP\" rel=\"nofollow noreferrer\">this c# project</a> on a Debian virtual machine but I get the following error:</p>\n\n<pre><code>Error:\n  An assembly specified in the application dependencies manifest (ErpNet.FP.Server.deps.json) was not found:\n    package: 'runtimepack.Microsoft.NETCore.App.Runtime.linux-x64', version: '3.0.0'\n    path: 'createdump'\n</code></pre>\n\n<p>I have installed both .NET Core 3.0 SDK and .NET Core 3.0 Runtime on the machine. I am running the ready to download and run file <a href=\"https://github.com/erpnet/ErpNet.FP#linux-64-bit-folder-install\" rel=\"nofollow noreferrer\">Linux 64 bit, folder install</a></p>\n"}, {"tags": ["c#", "entity-framework", "dbcontext", "savechanges"], "comments": [{"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1570040980, "post_id": 58207256, "comment_id": 102792642, "body": "Have you tried <code>Context.Entry(Item).State = EntityState.Unchanged;</code> instead?"}, {"owner": {"reputation": 5203, "user_id": 1760479, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/gFcMy.jpg?s=128&g=1", "display_name": "David Tansey", "link": "https://stackoverflow.com/users/1760479/david-tansey"}, "edited": false, "score": 0, "creation_date": 1570041761, "post_id": 58207256, "comment_id": 102792973, "body": "Are you checking the return value from <code>SaveChanges()</code> ?"}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 1, "creation_date": 1570042120, "post_id": 58207256, "comment_id": 102793143, "body": "Why do you need to check the state?  Assuming the records have actually been saved, the <code>state</code> is an internal representation, and not something you should really be touching.  Consider that a new DbContext should be created for each &#39;transaction&#39;, then the state will always be &#39;fresh&#39;."}, {"owner": {"reputation": 127, "user_id": 4771075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0d2ec17442f291644f3be482afebf93f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/4771075/anton"}, "edited": false, "score": 0, "creation_date": 1570042168, "post_id": 58207256, "comment_id": 102793176, "body": "Could you provide us with more code please?"}, {"owner": {"reputation": 53, "user_id": 1103988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a49e0289249397346c8cdd1af57b7ae6?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/1103988/bob"}, "edited": false, "score": 0, "creation_date": 1570049537, "post_id": 58207256, "comment_id": 102796180, "body": "jcruz:  No difference using that notation."}, {"owner": {"reputation": 53, "user_id": 1103988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a49e0289249397346c8cdd1af57b7ae6?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/1103988/bob"}, "edited": false, "score": 0, "creation_date": 1570049583, "post_id": 58207256, "comment_id": 102796199, "body": "David Tansey:  Yes.  It tells me that (for example) 2 items were saved.  If I run the SaveChanges twice in succession, the second execution also returns a 2."}, {"owner": {"reputation": 53, "user_id": 1103988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a49e0289249397346c8cdd1af57b7ae6?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/1103988/bob"}, "edited": false, "score": 0, "creation_date": 1570049638, "post_id": 58207256, "comment_id": 102796223, "body": "Neil:  Because it doesn&#39;t seem that things are being set properly by SaveChanges, other things blow up downstream."}], "owner": {"reputation": 53, "user_id": 1103988, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a49e0289249397346c8cdd1af57b7ae6?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/1103988/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570040605, "creation_date": 1570040605, "question_id": 58207256, "link": "https://stackoverflow.com/questions/58207256/not-understanding-ef-dbcontext-actions", "title": "Not Understanding EF DBContext Actions", "body": "<p>Microsoft documentation (<a href=\"https://docs.microsoft.com/en-us/ef/ef6/saving/change-tracking/entity-state\" rel=\"nofollow noreferrer\">1</a>) states:</p>\n\n<blockquote>\n  <p>Modified entities are updated in the database and then become Unchanged when SaveChanges returns.</p>\n</blockquote>\n\n<p>But when I do a SaveChanges on a DBContext, items that were in the Modified state before then are still in a Modified state after the call.</p>\n\n<p>In fact when I try to manually change the items' state to Unchanged in the following loop, they are changed back to Modified at the end of each loop iteration:</p>\n\n<pre><code>foreach(DbEntityEntry Item in Context.ChangeTracker.Entries())\n    Item.State = EntityState.Unchanged;\n</code></pre>\n\n<p>Is this a bug or is there something I'm missing here?</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-core", ".net-core-3.0"], "comments": [{"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 2, "creation_date": 1570049860, "post_id": 58207182, "comment_id": 102796298, "body": "Try .ToList() instead of .Single().  .Single() is generating the &quot;TOP(2)&quot; wrapper."}, {"owner": {"reputation": 350, "user_id": 6801359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155162910738219/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/6801359/dan"}, "reply_to_user": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1570050699, "post_id": 58207182, "comment_id": 102796566, "body": "my temporary workaround for the moment is the following:             this.ModelContext.ExecuteRawSql(&quot;EXEC AddNodeWithPathProc @p0, @p1&quot;, spParams);             var createdPath = ModelContext.Paths.FromSqlRaw(&quot;SELECT TOP 1 * FROM dbo.Path ORDER BY PathID DESC&quot;).Single();  However, this is not an acceptable solution for production."}, {"owner": {"reputation": 350, "user_id": 6801359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155162910738219/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/6801359/dan"}, "reply_to_user": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1570136567, "post_id": 58207182, "comment_id": 102828744, "body": "yes.. ToList() works.. thanks a lot :-)"}], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 6801359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155162910738219/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/6801359/dan"}, "edited": false, "score": 1, "creation_date": 1570047214, "post_id": 58207802, "comment_id": 102795390, "body": "No this doesn&#39;t work. Just tested it. The sql that is invalid :-( . I believe it has something to do with the sql that is generated. If I check the sql with the profiler it always follows the schema: sp_executesql &#39;SELECT * FROM {mySqlPassedInMethod}.   I wouldn&#39;t know how to to pass in a stored procedure in this code. So either the .net method detects that the passed sql string is for a stored procedure and adapts the generated sql accordingly or there is a way in T-SQL that i don&#39;t know of (I&#39;m not an expert)"}, {"owner": {"reputation": 168, "user_id": 8293023, "user_type": "registered", "profile_image": "https://graph.facebook.com/292101561262779/picture?type=large", "display_name": "HO&#192;NG LONG", "link": "https://stackoverflow.com/users/8293023/ho%c3%80ng-long"}, "edited": false, "score": 0, "creation_date": 1612681764, "post_id": 58207802, "comment_id": 116839243, "body": "Will this cause an SQL Injection error?"}], "tags": [], "owner": {"reputation": 855, "user_id": 3586517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oxKQc.png?s=128&g=1", "display_name": "Edney Holder", "link": "https://stackoverflow.com/users/3586517/edney-holder"}, "is_accepted": false, "score": 0, "last_activity_date": 1570042868, "creation_date": 1570042868, "answer_id": 58207802, "question_id": 58207182, "link": "https://stackoverflow.com/questions/58207182/how-to-call-a-stored-procedure-in-ef-core-3-0-via-fromsqlraw/58207802#58207802", "title": "How to call a stored procedure in EF Core 3.0 via FromSqlRaw", "body": "<p>I am not where I can test but I think the following will work:</p>\n\n<pre><code>var createdPath = ModelContext.Paths.FromSqlRaw(\"AddNodeWithPathProc {0}, {1}\", parm1 parm2).Single();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570049973, "post_id": 58208948, "comment_id": 102796343, "body": "posted a solution to your deleted posting below."}, {"owner": {"reputation": 350, "user_id": 6801359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155162910738219/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/6801359/dan"}, "edited": false, "score": 0, "creation_date": 1570050049, "post_id": 58208948, "comment_id": 102796367, "body": "Just tried it and it fails :-(. The error is: &quot;System.InvalidCastException: &#39;The SqlParameterCollection only accepts non-null SqlParameter type objects, not SqlParameter objects.&#39;&quot;. There is no sql sent to the sql server (according to sql profiler)"}, {"owner": {"reputation": 51, "user_id": 11878981, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-O8EHtb29lDs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reaF7zpHT_eTs3zlxGz0ORdEC22Vg/photo.jpg?sz=128", "display_name": "ISTech", "link": "https://stackoverflow.com/users/11878981/istech"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570051615, "post_id": 58208948, "comment_id": 102796856, "body": "@jdweng Thanks a lot :) This solution I have when I log in to my software and download the last updated XML file with last date but I need all histrically data of rates without missing. So I have another option to set dates and download excel file with the rates, but I don&#39;t know how to implement that. run a service on the server? maybe users not going use software for a week so I missed the whole week of exchange rates."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570072955, "post_id": 58208948, "comment_id": 102800864, "body": "@ISTech : Look at following page : <a href=\"https://www.boi.org.il/en/Markets/Pages/explainxml.aspx\" rel=\"nofollow noreferrer\">boi.org.il/en/Markets/Pages/explainxml.aspx</a> you can add to url a date.  <a href=\"http://www.boi.org.il/currency.xml?rdate=20120101\" rel=\"nofollow noreferrer\">boi.org.il/currency.xml?rdate=20120101</a>"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570075841, "post_id": 58208948, "comment_id": 102801322, "body": "@ISTech : I updated code below to do a range of date."}], "tags": [], "owner": {"reputation": 51, "user_id": 11878981, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-O8EHtb29lDs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reaF7zpHT_eTs3zlxGz0ORdEC22Vg/photo.jpg?sz=128", "display_name": "ISTech", "link": "https://stackoverflow.com/users/11878981/istech"}, "is_accepted": false, "score": 0, "last_activity_date": 1570048133, "creation_date": 1570048133, "answer_id": 58208948, "question_id": 58207182, "link": "https://stackoverflow.com/questions/58207182/how-to-call-a-stored-procedure-in-ef-core-3-0-via-fromsqlraw/58208948#58208948", "title": "How to call a stored procedure in EF Core 3.0 via FromSqlRaw", "body": "<p>try to seperate SqlParameter: <br></p>\n\n<pre><code>SqlParameter param1 = new SqlParameter(\"@p0\",\"value\");\nSqlParameter param2 = new SqlParameter(\"@p1\",\"value\");\n\nvar createdPath = ModelContext.Paths.FromSqlRaw(\"AddNodeWithPathProc @p0 @p1\", param1, \nparam2).Single();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 350, "user_id": 6801359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155162910738219/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/6801359/dan"}, "is_accepted": false, "score": 9, "last_activity_date": 1570055959, "last_edit_date": 1570055959, "creation_date": 1570051065, "answer_id": 58209496, "question_id": 58207182, "link": "https://stackoverflow.com/questions/58207182/how-to-call-a-stored-procedure-in-ef-core-3-0-via-fromsqlraw/58209496#58209496", "title": "How to call a stored procedure in EF Core 3.0 via FromSqlRaw", "body": "<p>Solution (thanks to David Browne, you should have posted it as an answer):</p>\n\n<p>Replacing Single with ToList works :-) </p>\n\n<pre><code>var createdPath = ModelContext.Paths.FromSqlRaw(\"AddNodeWithPathProc  {0}, {1}\", nodeTitle, parentPathString).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 8340883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc41da205c20786291ebcc2063eede17?s=128&d=identicon&r=PG&f=1", "display_name": "juriko", "link": "https://stackoverflow.com/users/8340883/juriko"}, "is_accepted": false, "score": 3, "last_activity_date": 1570301493, "creation_date": 1570301493, "answer_id": 58251349, "question_id": 58207182, "link": "https://stackoverflow.com/questions/58207182/how-to-call-a-stored-procedure-in-ef-core-3-0-via-fromsqlraw/58251349#58251349", "title": "How to call a stored procedure in EF Core 3.0 via FromSqlRaw", "body": "<p>It is extremely strange\u2026 just before a few days ago I have the same problem and follow this post. I had this call:</p>\n\n<pre><code> public IEnumerable&lt;TableChange&gt; GetTableLastChanges(string tableName, string keyColumn, out int synchronizationVersion)\n    {\n        var parameters = new[] {\n            new SqlParameter(\"@table_name\", SqlDbType.VarChar) { Direction = ParameterDirection.Input, Value = tableName },\n            new SqlParameter(\"@key_column\", SqlDbType.VarChar) { Direction = ParameterDirection.Input, Value = keyColumn },\n            new SqlParameter(\"@synchronization_version\", SqlDbType.BigInt) { Direction = ParameterDirection.InputOutput, Value = 0 }\n        };\n\n        var changes = this.TableChanges.FromSqlRaw(\"[dbo].[GetTableLastChanges] @table_name, @key_column, @synchronization_version OUTPUT\", parameters).ToList();\n\n        synchronizationVersion = Convert.ToInt32(parameters[2].Value);\n\n        return changes;\n    }\n</code></pre>\n\n<p>Right now everything is fine and this call works as expected. Therefore I should admit that there is no problem with datasets and params return for EF on Core 3.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 12952769, "user_type": "registered", "profile_image": "https://graph.facebook.com/3928778873806895/picture?type=large", "display_name": "Mohammad Irtaza", "link": "https://stackoverflow.com/users/12952769/mohammad-irtaza"}, "is_accepted": false, "score": 4, "last_activity_date": 1582539781, "last_edit_date": 1582539781, "creation_date": 1582538812, "answer_id": 60373518, "question_id": 58207182, "link": "https://stackoverflow.com/questions/58207182/how-to-call-a-stored-procedure-in-ef-core-3-0-via-fromsqlraw/60373518#60373518", "title": "How to call a stored procedure in EF Core 3.0 via FromSqlRaw", "body": "<pre><code>var result=context.yourmodelclass.FromSqlInterpolated($\"StoredProcedureName {param1},{param2}\").tolist();\n</code></pre>\n\n<p>You can add multiple parameters if needed.\nNote:</p>\n\n<ul>\n<li>context => your name of database.</li>\n<li>yourmodelclass => the class in models folder you create for fetching the output result from the stored procedure result.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2161, "user_id": 4080514, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/KlYAC.jpg?s=128&g=1", "display_name": "DarioN1", "link": "https://stackoverflow.com/users/4080514/darion1"}, "is_accepted": false, "score": -1, "last_activity_date": 1589290747, "creation_date": 1589290747, "answer_id": 61753206, "question_id": 58207182, "link": "https://stackoverflow.com/questions/58207182/how-to-call-a-stored-procedure-in-ef-core-3-0-via-fromsqlraw/61753206#61753206", "title": "How to call a stored procedure in EF Core 3.0 via FromSqlRaw", "body": "<p>Have a look here:</p>\n\n<p><a href=\"https://github.com/DarioN1/SPToCore\" rel=\"nofollow noreferrer\">https://github.com/DarioN1/SPToCore</a></p>\n\n<p>This is a scaffolder for stored procedure, it can help you to work with sp.</p>\n\n<p>Its not a third part library, it generated pure c# code to include in your project that extends current dbContext to provide stored procedure methods, parameters mapping and results classed.</p>\n"}], "owner": {"reputation": 350, "user_id": 6801359, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155162910738219/picture?type=large", "display_name": "Dan", "link": "https://stackoverflow.com/users/6801359/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30266, "favorite_count": 3, "answer_count": 6, "score": 20, "last_activity_date": 1589290747, "creation_date": 1570040352, "last_edit_date": 1570041620, "question_id": 58207182, "link": "https://stackoverflow.com/questions/58207182/how-to-call-a-stored-procedure-in-ef-core-3-0-via-fromsqlraw", "title": "How to call a stored procedure in EF Core 3.0 via FromSqlRaw", "body": "<p>I recently migrated from EF Core 2.2 to EF Core 3.0. </p>\n\n<p>Unfortunately, I haven't found a way to call a stored procedure that returns an entity. </p>\n\n<p>In EF Core 2.0 it was possible:</p>\n\n<pre><code>var spParams = new object[] { \"bla\", \"xx\" };\nvar createdPath = ModelContext.Paths.FromSql(\"AddNodeWithPathProc  @p0, @p1\", spParams).Single();\n</code></pre>\n\n<p>In EF Core 3.0 the method <code>FromSQL</code> is replaced with <code>FromSqlRaw</code>. However, I didn't manage to successfully call a stored procedure and then process the value. This is useful when the stored procedure inserts data into the database. </p>\n\n<p>So in EF Core 3.0, I use this code:</p>\n\n<pre><code>var createdPath = ModelContext.Paths.FromSqlRaw(\"AddNodeWithPathProc @p0, @p1\", spParams).Single();\n</code></pre>\n\n<p>but it will throw an exception, because the generated SQL is invalid and looks something like this: </p>\n\n<pre><code>exec sp_executesql N'SELECT TOP(2) [p].[PathId], [p].[Level], [p].[NodeId], [p].[NodePath], [p].[NodePathString]\nFROM (\n     @sql @p0, @p1\n) AS [p]',N'@p0 nvarchar(4000),@p1 nvarchar(4000), @sql nvarchar(100)',@p0=N'1a',@p1=N'', @sql=N'AddNodeWithPathProc'\n</code></pre>\n\n<p>I tried quite a few variations, but without success. </p>\n\n<p>I'm starting to think that it is not possible to run stored procedures with <code>ModelContext.[IQueryable].FromSqlRaw</code>. In my opinion this kind defeats one of the major reasons for <code>FromSqlRaw</code> because, for normal select statements, LINQ is normally good enough. </p>\n\n<p>Does anyone know how to use stored procedures in combination with <code>FromSqlRaw</code> in EF Core 3.0? Any help is greatly appreciated.</p>\n\n<p>Thanks in advance</p>\n\n<p>PS: I know you can execute a stored procedure with <code>this.Database.ExecuteSqlRaw(SQL, parameters)</code>. However, that way it is not possible retrieve any entities that the stored procedure queries.</p>\n"}, {"tags": ["c#", "uwp"], "comments": [{"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1570042222, "post_id": 58207181, "comment_id": 102793196, "body": "Is this data in the form of a database, or records that could be in a database, or is it separate files?"}, {"owner": {"reputation": 51, "user_id": 4678092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d8cf2bd67b778285833fc6a3b069aa?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Vergaray", "link": "https://stackoverflow.com/users/4678092/chris-vergaray"}, "reply_to_user": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1570042673, "post_id": 58207181, "comment_id": 102793429, "body": "It&#39;s mixed between a database, and a few hundred thousand images and videos."}, {"owner": {"reputation": 8169, "user_id": 759558, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/kz2la.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/759558/neil"}, "edited": false, "score": 0, "creation_date": 1570043043, "post_id": 58207181, "comment_id": 102793598, "body": "So, could it all live in a password protected/encrypted database, that is in a public directory?"}, {"owner": {"reputation": 712, "user_id": 2928659, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/b4GRn.jpg?s=128&g=1", "display_name": "John Kurtz", "link": "https://stackoverflow.com/users/2928659/john-kurtz"}, "edited": false, "score": 0, "creation_date": 1570043221, "post_id": 58207181, "comment_id": 102793684, "body": "I use my internet host to hold images and a database, for which I wrote little XML access wrappers to send queries to the server via https and retrieve data back via https responses. Then I can use UWP, WInForms, WPF or whatever to access my data and images. This provides protected access on any network with internet access, with any PC that has my application. It is just a bit slower for large queries."}, {"owner": {"reputation": 51, "user_id": 4678092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d8cf2bd67b778285833fc6a3b069aa?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Vergaray", "link": "https://stackoverflow.com/users/4678092/chris-vergaray"}, "edited": false, "score": 0, "creation_date": 1570048177, "post_id": 58207181, "comment_id": 102795728, "body": "We looked into using web services for storing much of this data. Unfortunately, one of the constraints is that the data must be accessible on a completely disconnected device."}], "answers": [{"tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1570071901, "creation_date": 1570071901, "answer_id": 58211797, "question_id": 58207181, "link": "https://stackoverflow.com/questions/58207181/sharing-data-between-multiple-uwp-apps-across-multiple-users/58211797#58211797", "title": "Sharing data between multiple UWP apps across multiple users", "body": "<blockquote>\n  <p>Sharing data between multiple UWP apps across multiple users</p>\n</blockquote>\n\n<p>UWP has the same installation path and different sandbox path for different user. you could package the data into appx. But your data is too large.</p>\n\n<blockquote>\n  <p>We looked into using web services for storing much of this data. Unfortunately, one of the constraints is that the data must be accessible on a completely disconnected device.</p>\n</blockquote>\n\n<p>For your requirement, you could deploy web service in the local that could be accessed with the app for different user.</p>\n"}], "owner": {"reputation": 51, "user_id": 4678092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d8cf2bd67b778285833fc6a3b069aa?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Vergaray", "link": "https://stackoverflow.com/users/4678092/chris-vergaray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1570071901, "creation_date": 1570040352, "question_id": 58207181, "link": "https://stackoverflow.com/questions/58207181/sharing-data-between-multiple-uwp-apps-across-multiple-users", "title": "Sharing data between multiple UWP apps across multiple users", "body": "<p>I am working on a family of UWP applications where all the applications need to share approximately 9GB of data among themselves, across all users. This data should be accessible to only my applications and not generally across the system (i.e. public directories are not an option).</p>\n\n<p>Currently, I am able to share data among all the applications using Publisher Cache directories, but that only allows files to be shared across a multiple applications for a single user. Installations of the same applications on other user accounts will have their own Publisher Cache Directories. Is there a location or a configuration where I can save data such that only my apps have access to it, but it is shared by those same apps across multiple user accounts on the same computer?\nAs far as I can tell, UWP apps are severely limited in what folders they are allowed to read/write to.</p>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 127, "user_id": 4771075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0d2ec17442f291644f3be482afebf93f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/4771075/anton"}, "edited": false, "score": 0, "creation_date": 1570042759, "post_id": 58207179, "comment_id": 102793469, "body": "check this threads: <a href=\"https://stackoverflow.com/questions/53416869/complex-type-requires-primary-key\" title=\"complex type requires primary key\">stackoverflow.com/questions/53416869/&hellip;</a>; <a href=\"https://stackoverflow.com/questions/31906950/using-complextype-in-entity-framework-core\" title=\"using complextype in entity framework core\">stackoverflow.com/questions/31906950/&hellip;</a>"}, {"owner": {"reputation": 1047, "user_id": 9446598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e618088b460596ca0c6f777746b1aeb?s=128&d=identicon&r=PG&f=1", "display_name": "XavierAM", "link": "https://stackoverflow.com/users/9446598/xavieram"}, "reply_to_user": {"reputation": 127, "user_id": 4771075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0d2ec17442f291644f3be482afebf93f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/4771075/anton"}, "edited": false, "score": 0, "creation_date": 1570076234, "post_id": 58207179, "comment_id": 102801384, "body": "I read both of them before asking, one is even linked to my post. And the other one states that complex types are in the backlog...in 2015! So, I don&#39;t really get why those threads are useful"}], "answers": [{"comments": [{"owner": {"reputation": 1216, "user_id": 225979, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/66c45b5c74149e08bcd7f7f864ee30eb?s=128&d=identicon&r=PG", "display_name": "Guillermo Prandi", "link": "https://stackoverflow.com/users/225979/guillermo-prandi"}, "edited": false, "score": 0, "creation_date": 1598119369, "post_id": 58337677, "comment_id": 112356504, "body": "It would be useful to state the version where it&#39;s not yet supported, and if you&#39;ve got a source for that, it would be great to link to it. It might be supported in the future so this answer would become wrong."}, {"owner": {"reputation": 1216, "user_id": 225979, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/66c45b5c74149e08bcd7f7f864ee30eb?s=128&d=identicon&r=PG", "display_name": "Guillermo Prandi", "link": "https://stackoverflow.com/users/225979/guillermo-prandi"}, "edited": false, "score": 0, "creation_date": 1598121071, "post_id": 58337677, "comment_id": 112357022, "body": "I think I solved this using the <code>[Owned]</code> attribute <i>instead</i> of <code>[ComplexType]</code> in EF Core 3.1. Has some drawbacks though, as it still doesn&#39;t support the <code>[Required]</code> attribute in code first (all columns are generated nullable). It may be fixed by <a href=\"https://github.com/dotnet/efcore/pull/21873\" rel=\"nofollow noreferrer\">github.com/dotnet/efcore/pull/21873</a> on EF Core 5.0"}], "tags": [], "owner": {"reputation": 1047, "user_id": 9446598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e618088b460596ca0c6f777746b1aeb?s=128&d=identicon&r=PG&f=1", "display_name": "XavierAM", "link": "https://stackoverflow.com/users/9446598/xavieram"}, "is_accepted": true, "score": 0, "last_activity_date": 1598202271, "last_edit_date": 1598202271, "creation_date": 1570784280, "answer_id": 58337677, "question_id": 58207179, "link": "https://stackoverflow.com/questions/58207179/ef-core-code-first-migration-requires-a-primary-key-for-a-complex-type/58337677#58337677", "title": "EF Core Code First Migration requires a primary key for a complex type", "body": "<p>Bottom line, after a long investigation, ComplexType are not yet supported in EF Core 2.2 when doing a Code First Migration.</p>\n"}], "owner": {"reputation": 1047, "user_id": 9446598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e618088b460596ca0c6f777746b1aeb?s=128&d=identicon&r=PG&f=1", "display_name": "XavierAM", "link": "https://stackoverflow.com/users/9446598/xavieram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58337677, "answer_count": 1, "score": 0, "last_activity_date": 1598202271, "creation_date": 1570040346, "last_edit_date": 1570042915, "question_id": 58207179, "link": "https://stackoverflow.com/questions/58207179/ef-core-code-first-migration-requires-a-primary-key-for-a-complex-type", "title": "EF Core Code First Migration requires a primary key for a complex type", "body": "<p>I have a data class which contains a subclass. They are used in a <code>DbContext</code> like this:</p>\n\n<pre><code>public class Foo\n{\n    [Key]\n    public int Key { get; set; }\n\n    public SubFoo SubFoo { get; set; }\n}\n\n[ComplexType]\npublic class SubFoo\n{\n    public double Value1 { get; set; }\n    public double Value2 { get; set; }\n}\n\npublic class ApplicationDbContext : DbContext\n{\n    public ApplicationDbContext(DbContextOptions&lt;ApplicationDbContext&gt; options)\n        : base(options) {\n    }\n\n    public DbSet&lt;Foo&gt; Foos { get; set; }\n\n}\n</code></pre>\n\n<p>When trying to create a code-first migration, I get an error </p>\n\n<blockquote>\n  <p>The entity type 'SubFoo' requires a primary key to be defined</p>\n</blockquote>\n\n<p>Since my class <code>SubFoo</code> is decorated with the attribute <code>ComplexType</code> and that the <a href=\"https://docs.microsoft.com/en-us/ef/ef6/modeling/designer/data-types/complex-types#delete-a-complex-type\" rel=\"nofollow noreferrer\">MSDN documentation</a> states precisely that <em>complex types do not have keys</em>, I am a bit confused.</p>\n\n<p>As <a href=\"https://stackoverflow.com/questions/53416869/complex-type-requires-primary-key?rq=1\">mentioned here</a>, I tried to replace the <code>ComplexType</code> annotation with an <code>Owned</code> attribute but it didn't solve the problem.</p>\n\n<p>Am I misunderstanding how to make use of complex types? </p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 4090, "user_id": 1223253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RsJjQ.jpg?s=128&g=1", "display_name": "TorbenJ", "link": "https://stackoverflow.com/users/1223253/torbenj"}, "edited": false, "score": 1, "creation_date": 1570041455, "post_id": 58207134, "comment_id": 102792848, "body": "Can you give more information about what doesn&#39;t work on your side? I just created an empty WPF project with a Label defined like yours and it works perfectly fine."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1570041459, "post_id": 58207134, "comment_id": 102792850, "body": "What does the WPF debugger&#39;s Live Property Inspector window tell you?"}, {"owner": {"reputation": 33, "user_id": 10039119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e6c125f779223ae3ab5b52af93ad130?s=128&d=identicon&r=PG&f=1", "display_name": "ayylmao1234", "link": "https://stackoverflow.com/users/10039119/ayylmao1234"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1570041864, "post_id": 58207134, "comment_id": 102793020, "body": "@Dai the debugger says it&#39;s bold, but it is not showing up as bold. Same thing happens if I change the FontSize, FontStyle, etc."}, {"owner": {"reputation": 33, "user_id": 10039119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e6c125f779223ae3ab5b52af93ad130?s=128&d=identicon&r=PG&f=1", "display_name": "ayylmao1234", "link": "https://stackoverflow.com/users/10039119/ayylmao1234"}, "reply_to_user": {"reputation": 4090, "user_id": 1223253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RsJjQ.jpg?s=128&g=1", "display_name": "TorbenJ", "link": "https://stackoverflow.com/users/1223253/torbenj"}, "edited": false, "score": 0, "creation_date": 1570041969, "post_id": 58207134, "comment_id": 102793064, "body": "@TorbenJ it just doesn&#39;t display as bold, the text is no different"}, {"owner": {"reputation": 4090, "user_id": 1223253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RsJjQ.jpg?s=128&g=1", "display_name": "TorbenJ", "link": "https://stackoverflow.com/users/1223253/torbenj"}, "edited": false, "score": 0, "creation_date": 1570042108, "post_id": 58207134, "comment_id": 102793132, "body": "Does this only happen in the project this code belongs to? Do you have any style that applies to Label control globally that override FontWeights in some way?"}, {"owner": {"reputation": 4090, "user_id": 1223253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RsJjQ.jpg?s=128&g=1", "display_name": "TorbenJ", "link": "https://stackoverflow.com/users/1223253/torbenj"}, "edited": false, "score": 0, "creation_date": 1570042342, "post_id": 58207134, "comment_id": 102793259, "body": "Well global styles shouldn&#39;t have any effect though, tried it and the FontWeight defined on the element itself should override anything else. Makes sense though I don&#39;t know if there are any edge cases where this doesn&#39;t apply. Was just a thought"}, {"owner": {"reputation": 33, "user_id": 10039119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e6c125f779223ae3ab5b52af93ad130?s=128&d=identicon&r=PG&f=1", "display_name": "ayylmao1234", "link": "https://stackoverflow.com/users/10039119/ayylmao1234"}, "reply_to_user": {"reputation": 4090, "user_id": 1223253, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RsJjQ.jpg?s=128&g=1", "display_name": "TorbenJ", "link": "https://stackoverflow.com/users/1223253/torbenj"}, "edited": false, "score": 0, "creation_date": 1570042762, "post_id": 58207134, "comment_id": 102793471, "body": "@TorbenJ there is a global FontWeight, but if I click on the Label in Visual Studio it shows that it is bold in the debugger, so I figured that meant it was overriding it. If it&#39;s working for you in a fresh project, then it has to be something specific in my project that I&#39;m overlooking, thanks for the help."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 10039119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e6c125f779223ae3ab5b52af93ad130?s=128&d=identicon&r=PG&f=1", "display_name": "ayylmao1234", "link": "https://stackoverflow.com/users/10039119/ayylmao1234"}, "is_accepted": true, "score": 0, "last_activity_date": 1570125220, "creation_date": 1570125220, "answer_id": 58224479, "question_id": 58207134, "link": "https://stackoverflow.com/questions/58207134/formatting-label-content-font/58224479#58224479", "title": "Formatting Label Content Font", "body": "<p>Further looking in the Live Property Inspector, even though the <code>Label</code> was bold, there was a <code>TextBlock</code> inside that was not. Changing the labels to the following code fix this:</p>\n\n<pre><code>&lt;Label&gt;\n    &lt;TextBlock Text=\"{Binding Path=Label1Content}\" FontWeight=\"Bold\"&gt;&lt;/TextBlock&gt;\n&lt;/Label&gt;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10039119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e6c125f779223ae3ab5b52af93ad130?s=128&d=identicon&r=PG&f=1", "display_name": "ayylmao1234", "link": "https://stackoverflow.com/users/10039119/ayylmao1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58224479, "answer_count": 1, "score": -1, "last_activity_date": 1570125220, "creation_date": 1570040167, "last_edit_date": 1570041165, "question_id": 58207134, "link": "https://stackoverflow.com/questions/58207134/formatting-label-content-font", "title": "Formatting Label Content Font", "body": "<p>I've been trying to change the <code>FontWeight</code> of a single <code>Label</code> inside of a <code>StackPanel</code> of labels to no avail. In the example below, I try to change the <code>FontWeight</code> inline with the <code>Label</code> definition, but this does not work. I can't seem to change the <code>FontWeight</code>, <code>FontSize</code>, <code>FontStyle</code>, etc. I have been able to change the <code>Foreground</code> though.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;StackPanel Orientation=\"Horizontal\" HorizontalAlignment=\"Center\"\n            DataContext=\"{Binding Path=MyDataContext}\" Grid.Column=\"1\" Grid.Row=\"4\" &gt;\n    &lt;Label Content=\"{Binding Path=Label1Content}\" FontWeight=\"Bold\"&gt;&lt;/Label&gt;\n    &lt;Label Content=\"{Binding Path=Label2Content}\"&gt;&lt;/Label&gt;\n    &lt;Label Content=\"{Binding Path=Label3Content}\" ContentStringFormat=\"c\"&gt;&lt;/Label&gt;\n    &lt;Label Content=\"{Binding Path=Label4Content}\" ContentStringFormat=\"c\"&gt;&lt;/Label&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>I have also tried creating a resource and using a style to do it and have tried changing the <code>FontWeight</code> using the code behind, neither worked.</p>\n"}, {"tags": ["c#", "html", "selenium", "selenium-webdriver"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 12053724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51d5ed90bc5b6b9beeda15ab86847d2?s=128&d=identicon&r=PG&f=1", "display_name": "nickreps", "link": "https://stackoverflow.com/users/12053724/nickreps"}, "edited": false, "score": 0, "creation_date": 1570040982, "post_id": 58207166, "comment_id": 102792643, "body": "Works like a charm! Thank you so much!"}], "tags": [], "owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "is_accepted": true, "score": 0, "last_activity_date": 1570040279, "creation_date": 1570040279, "answer_id": 58207166, "question_id": 58207102, "link": "https://stackoverflow.com/questions/58207102/is-it-possible-to-display-the-text-associated-with-a-specific-element/58207166#58207166", "title": "Is it possible to display the text associated with a specific element?", "body": "<p>You can just use <code>webElement.Text</code>.</p>\n\n<pre><code>string testvariable = driver.FindElement(By.XPath(\"/html/body/div/div[4]/div[2]/form/div[2]/div/table/tbody/tr[2]/td[1]\")).Text;\n</code></pre>\n\n<p>On another note -- I recommend using relative XPath syntax instead of absolute, and querying on WebElement attributes such as <code>id</code>, <code>name</code>, and <code>class</code> to get more accurate locators.</p>\n\n<p>For example, the XPath in the example you provided can be re-written more robustly as such:</p>\n\n<pre><code>//table[@id='someId']/tbody/tr[2]/td[1]\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12053724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51d5ed90bc5b6b9beeda15ab86847d2?s=128&d=identicon&r=PG&f=1", "display_name": "nickreps", "link": "https://stackoverflow.com/users/12053724/nickreps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58207166, "answer_count": 1, "score": 0, "last_activity_date": 1570126721, "creation_date": 1570040054, "last_edit_date": 1570126721, "question_id": 58207102, "link": "https://stackoverflow.com/questions/58207102/is-it-possible-to-display-the-text-associated-with-a-specific-element", "title": "Is it possible to display the text associated with a specific element?", "body": "<p>I have been working with selenium and C#, and I am wondering if I can return the text associated with a specific element. </p>\n\n<p>For example, here is the line of HTML that contains what I want to display:</p>\n\n<pre><code>&lt;span class=\"field\"&gt;1149156-1&lt;/span&gt;\n</code></pre>\n\n<p>Would it be possible to save the \"1149156-1\" in a string to use for later?</p>\n\n<p>I have tried the following code, but it returns a strange value, definitely not the value I want it to return:</p>\n\n<pre><code>string testvariable = driver.FindElement(By.XPath(\"/html/body/div/div[4]/div[2]/form/div[2]/div/table/tbody/tr[2]/td[1]\")).ToString();\n</code></pre>\n\n<p>Hope I provided enough information!</p>\n"}, {"tags": ["c#", "mysql", "asp.net", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1570041064, "post_id": 58207053, "comment_id": 102792674, "body": "EF Core != EF 6. Entity Framework core is a complete rewrite an more advanced verison of Entity Framework. <code>DropCreateDatabaseAlways</code> is a class of EF, not EF Core. For EF Core seeding patterns, see <a href=\"https://stackoverflow.com/a/38704828/455493\">this answer</a>"}], "answers": [{"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1570617026, "last_edit_date": 1570617026, "creation_date": 1570094754, "answer_id": 58216127, "question_id": 58207053, "link": "https://stackoverflow.com/questions/58207053/database-setinitializer-is-not-found-in-mysql-data-entityframeworkcore/58216127#58216127", "title": "Database SetInitializer is not found in MySql.Data.EntityFrameworkCore", "body": "<p>You could create a <code>DbInitializer.cs</code>  and call <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.infrastructure.databasefacade?view=efcore-3.0#Methods\" rel=\"nofollow noreferrer\">dbContext.Database.EnsureDeleted()</a>; to delete the existing database .</p>\n\n<pre><code>public static class DbInitializer\n{\n    public static void Initialize(MyDbContext context)\n    {\n        //Ensures that the database for the context does not exist. If it does not exist, no action is taken. \n        //If it does exist then the database is deleted.\n        //Warning: The entire database is deleted an no effort is made to remove just the database objects that are used by the model for this context.\n        context.Database.EnsureDeleted();\n\n        //create the database\n        context.Database.EnsureCreated();\n\n        // Look for any students.\n        if (context.Students.Any())\n        {\n            return;   // DB has been seeded\n        }\n\n        var students = new Student[]\n        {\n        new Student{FirstMidName=\"Carson\",LastName=\"Alexander\",EnrollmentDate=DateTime.Parse(\"2005-09-01\")},\n        new Student{FirstMidName=\"Meredith\",LastName=\"Alonso\",EnrollmentDate=DateTime.Parse(\"2002-09-01\")},\n        new Student{FirstMidName=\"Arturo\",LastName=\"Anand\",EnrollmentDate=DateTime.Parse(\"2003-09-01\")},\n        new Student{FirstMidName=\"Gytis\",LastName=\"Barzdukas\",EnrollmentDate=DateTime.Parse(\"2002-09-01\")},\n\n        };\n        foreach (Student s in students)\n        {\n            context.Students.Add(s);\n        }\n        context.SaveChanges();\n\n        //Applies any pending migrations for the context to the database.Will create the database if it does not already exist.\n        //Note that this API is mutually exclusive with DbContext.Database.EnsureCreated().\n        //EnsureCreated does not use migrations to create the database and therefore the\n        //database that is created cannot be later updated using migrations.\n        context.Database.Migrate();\n    }\n}\n</code></pre>\n\n<p>In Program.cs, modify the Main method to do the following on application startup:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n  var host = CreateWebHostBuilder(args).Build();\n\n  using (var scope = host.Services.CreateScope())\n {\n    var services = scope.ServiceProvider;\n    try\n    {\n        var context = services.GetRequiredService&lt;SchoolContext&gt;();\n        DbInitializer.Initialize(context);\n    }\n    catch (Exception ex)\n    {\n        var logger = services.GetRequiredService&lt;ILogger&lt;Program&gt;&gt;();\n        logger.LogError(ex, \"An error occurred while seeding the database.\");\n    }\n}\n\n host.Run();\n}\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 5106503, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0793e846429eb209b2957d773297219e?s=128&d=identicon&r=PG&f=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/5106503/programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 313, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570617026, "creation_date": 1570039840, "question_id": 58207053, "link": "https://stackoverflow.com/questions/58207053/database-setinitializer-is-not-found-in-mysql-data-entityframeworkcore", "title": "Database SetInitializer is not found in MySql.Data.EntityFrameworkCore", "body": "<p>I am using <a href=\"https://www.nuget.org/packages/MySql.Data.EntityFrameworkCore\" rel=\"nofollow noreferrer\">MySql.Data.EntityFrameworkCore</a> provider to connect mysql.\nNow I want to seed data while intializing database using <code>DropCreateDatabaseAlways</code>, But it is not found when I tried to use it like this</p>\n\n<p><code>Database.SetInitializer&lt;SmContext&gt;(new SMDbInitializer&lt;SmContext&gt;());</code></p>\n\n<p>and my <code>SMDbInitializer</code> will look like this.</p>\n\n<pre><code>private class SMDbInitializer&lt;T&gt; : DropCreateDatabaseAlways&lt;SmContext&gt; \n{\n\n      protected override void Seed(SmContext context) \n      {\n\n         //Some code\n         base.Seed(context);\n      }\n} \n</code></pre>\n"}, {"tags": ["c#", "linq", "ef-core-2.1"], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 2457865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f08bd4cb3d66d307846a706da2ae43?s=128&d=identicon&r=PG", "display_name": "Sol Stein", "link": "https://stackoverflow.com/users/2457865/sol-stein"}, "edited": false, "score": 0, "creation_date": 1570044203, "post_id": 58207904, "comment_id": 102794046, "body": "does not work, same exception: System.Data.SqlClient.SqlException: Cannot perform an aggregate function on an expression containing an aggregate or a subquery."}, {"owner": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "reply_to_user": {"reputation": 626, "user_id": 2457865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f08bd4cb3d66d307846a706da2ae43?s=128&d=identicon&r=PG", "display_name": "Sol Stein", "link": "https://stackoverflow.com/users/2457865/sol-stein"}, "edited": false, "score": 0, "creation_date": 1570045359, "post_id": 58207904, "comment_id": 102794587, "body": "I&#39;ve updated the answer, hopefully it works now. Also, if the data type expected is not decimal then replace it."}], "tags": [], "owner": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "is_accepted": true, "score": 1, "last_activity_date": 1570045288, "last_edit_date": 1570045288, "creation_date": 1570043286, "answer_id": 58207904, "question_id": 58207017, "link": "https://stackoverflow.com/questions/58207017/efcore-linq-cannot-perform-an-aggregate-function-on-an-expression-containing-an/58207904#58207904", "title": "EFCore Linq Cannot perform an aggregate function on an expression containing an aggregate or a subquery", "body": "<p>Try to replace it with the following:</p>\n\n<pre><code> List&lt;decimal&gt; valuesList = await query.Select(x =&gt; (x.Plan.Listing.Product.IsAssembled \n    ? x.Plan.Listing.Product.AssembledProducts.Sum(o =&gt; o.Qty)  :1 )\n     * (x.Quantity * x.Plan.PackOf)).ToListAsync();\n\ndecimal sumOfValues = valuesList.Sum();\n</code></pre>\n"}], "owner": {"reputation": 626, "user_id": 2457865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6f08bd4cb3d66d307846a706da2ae43?s=128&d=identicon&r=PG", "display_name": "Sol Stein", "link": "https://stackoverflow.com/users/2457865/sol-stein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 58207904, "answer_count": 1, "score": 0, "last_activity_date": 1570045288, "creation_date": 1570039638, "last_edit_date": 1570040013, "question_id": 58207017, "link": "https://stackoverflow.com/questions/58207017/efcore-linq-cannot-perform-an-aggregate-function-on-an-expression-containing-an", "title": "EFCore Linq Cannot perform an aggregate function on an expression containing an aggregate or a subquery", "body": "<p>I have a EFCore linq query that i try to get a sum of units, but i am getting an exception thrown.</p>\n\n<p>so here is the structure.</p>\n\n<pre><code>var query = _jobRepository.Table;\n</code></pre>\n\n<p>i am doing some filtering, nothing major, and then i have the includes.</p>\n\n<pre><code>query = query.Include(x =&gt; x.Plan)\n    .ThenInclude(o =&gt; o.Listing)\n    .ThenInclude(y =&gt; y.Product)\n    .ThenInclude(a =&gt; a.AssembledProducts);\n</code></pre>\n\n<p>and at the end of the query, i want to get the sum units.</p>\n\n<pre><code>query.SumAsync(x =&gt; (x.Plan.Listing.Product.IsAssembled \n    ? x.Plan.Listing.Product.AssembledProducts.Sum(o =&gt; o.Qty) \n    : 1) * (x.Quantity * x.Plan.PackOf));\n</code></pre>\n\n<p>but i get an exception thrown Cannot perform an aggregate function on an expression containing an aggregate or a subquery.</p>\n\n<p>what would be the way to deal with this?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "winforms"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "edited": false, "score": 0, "creation_date": 1570041460, "post_id": 58207327, "comment_id": 102792852, "body": "Thank You @G&#246;kten Karada\u011f :) I have modified your code a little. I have used &quot;WebUtility&quot; from &quot;System.Net&quot; Namespace instead of &quot;HttpUtility&quot; Cheers!"}], "tags": [], "owner": {"reputation": 106, "user_id": 5114926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b8d6596026dc1f688d3d62335cc316?s=128&d=identicon&r=PG&f=1", "display_name": "G&#246;kten Karada\u011f", "link": "https://stackoverflow.com/users/5114926/g%c3%b6kten-karada%c4%9f"}, "is_accepted": true, "score": 1, "last_activity_date": 1570040835, "creation_date": 1570040835, "answer_id": 58207327, "question_id": 58206981, "link": "https://stackoverflow.com/questions/58206981/how-to-pass-string-value-from-widowsform-to-asp-net-mvc-controller/58207327#58207327", "title": "How to pass string value from WidowsForm to ASP.NET MVC Controller", "body": "<p>Change this</p>\n\n<pre><code> var dataBytes = System.Text.Encoding.UTF8.GetBytes(textBox1.Text);\n</code></pre>\n\n<p>to this</p>\n\n<pre><code> var postData = HttpUtility.UrlEncode(\"receivedData\") + \"=\" + HttpUtility.UrlEncode(textBox1.Text);\n var dataBytes = System.Text.Encoding.UTF8.GetBytes(postData);\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 6251789, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0b39888807c890205290c300e7ee92b8?s=128&d=identicon&r=PG&f=1", "display_name": "user2019", "link": "https://stackoverflow.com/users/6251789/user2019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 58207327, "answer_count": 1, "score": 0, "last_activity_date": 1570040835, "creation_date": 1570039524, "question_id": 58206981, "link": "https://stackoverflow.com/questions/58206981/how-to-pass-string-value-from-widowsform-to-asp-net-mvc-controller", "title": "How to pass string value from WidowsForm to ASP.NET MVC Controller", "body": "<p>I have seen couple of similar post but none of them resolved my problem, hence I am posting again.</p>\n\n<p>I am trying to pass my WindowsForm data to a asp.net MVC controller.</p>\n\n<p>But at controller I am receiving null value. How can I pass my windows form value (text value) to my controller? Kindly help.</p>\n\n<p>Here are my codes:</p>\n\n<p><strong>Windows form code:</strong></p>\n\n<pre><code>private void send_button_Click(object sender, EventArgs e)\n    {\n        if (!string.IsNullOrEmpty(textBox1.Text))\n        {\n            var dataBytes = System.Text.Encoding.UTF8.GetBytes(textBox1.Text);\n\n            HttpWebRequest httpWebRequest = (HttpWebRequest)WebRequest.Create(\"http://localhost:61174/Home/DataFromWinForm\");\n            httpWebRequest.ContentType = \"application/x-www-form-urlencoded\";\n            httpWebRequest.ContentLength = dataBytes.Length;\n            httpWebRequest.Method = \"POST\";\n\n            using (var dataStream = httpWebRequest.GetRequestStream())\n            {\n                dataStream.Write(dataBytes, 0, dataBytes.Length);\n            }\n\n\n            HttpWebResponse response = (HttpWebResponse)httpWebRequest.GetResponse();\n            if (response.StatusCode == HttpStatusCode.OK)\n            { starts_label.Text += \"Posted\";\n                textBox1.Text = null;\n            }\n\n        }\n    }\n</code></pre>\n\n<p><strong>And here is my controller:</strong>\nby Start method I am opening my windowsform application and trying to pass windows form text to my controller's DataFromWinForm method</p>\n\n<pre><code>public class HomeController : Controller\n{\n    public IActionResult Index()\n    {\n        return View();\n    }\n    public IActionResult Start()\n    {\n        var appLocation = @\"C:\\Users\\RFIDReader\\bin\\Debug\\RFIDReader.exe\";\n        Process test = new Process();\n        test.StartInfo.FileName = appLocation;\n        test.Start();\n\n        return View(\"Index\");\n    }\n    [HttpPost]\n    public IActionResult DataFromWinForm(string receivedData)\n    {\n        //My code goes here\n        return View();\n    }}\n</code></pre>\n\n<p>But when my breakpoint hits at my controller I am getting null value\n<a href=\"https://i.stack.imgur.com/Aq6Sg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Aq6Sg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "unity3d", "coroutine"], "comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1570042341, "post_id": 58206961, "comment_id": 102793256, "body": "Just wait for the video to download first.  When the video id done download, then enable the play video"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 1, "creation_date": 1570056170, "post_id": 58206961, "comment_id": 102797929, "body": "Btw, there&#39;s no reason to call <code>StartCoroutine</code> from within a coroutine. You can just <code>yield return PlayVideo(...)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5719, "user_id": 5348875, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e050e66d97a3f54b0453533428088e6c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5348875/daniel"}, "edited": false, "score": 1, "creation_date": 1570042079, "post_id": 58207382, "comment_id": 102793119, "body": "I&#39;m afraid Unity doesn&#39;t include the method <code>WriteAllBytesAsync</code>."}], "tags": [], "owner": {"reputation": 49, "user_id": 7190425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9DOWH.jpg?s=128&g=1", "display_name": "Aaron Raff", "link": "https://stackoverflow.com/users/7190425/aaron-raff"}, "is_accepted": false, "score": 0, "last_activity_date": 1570041093, "creation_date": 1570041093, "answer_id": 58207382, "question_id": 58206961, "link": "https://stackoverflow.com/questions/58206961/coroutine-wait-for-method-before-going-on/58207382#58207382", "title": "Coroutine wait for method before going on", "body": "<p>You can look into using <code>File.WriteAllBytesAsync</code> (documentation <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.writeallbytesasync?view=netcore-3.0&amp;viewFallbackFrom=netframework-4.8\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<p>Then you can call <code>await File.WriteAllBytesAsync(path, result)</code>. You will also need to make your <code>DownloadVideo</code> function asynchronous. Essentially the <code>await</code> says, wait until this call is done until I move onward in this function.</p>\n\n<p>More details about asynchronous programming in C# can be found <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1441, "user_id": 2701156, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8179192056c0d1900fffcd4b760535a4?s=128&d=identicon&r=PG", "display_name": "AminSojoudi", "link": "https://stackoverflow.com/users/2701156/aminsojoudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1570041886, "creation_date": 1570041886, "answer_id": 58207567, "question_id": 58206961, "link": "https://stackoverflow.com/questions/58206961/coroutine-wait-for-method-before-going-on/58207567#58207567", "title": "Coroutine wait for method before going on", "body": "<p>I think the problem is that you are not closing the file.</p>\n\n<p><code>File.WriteAllBytes(path, result);</code> is not an async call so it should finish its work before going to the next line which is starting <code>PlayVideo</code> coroutine.</p>\n\n<p>I would recommend you use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.filestream?redirectedfrom=MSDN&amp;view=netframework-3.5\" rel=\"nofollow noreferrer\">FileStream</a> and make sure to dispose of the stream before calling the <code>PlayVideo</code> coroutine.</p>\n\n<p>I hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 5719, "user_id": 5348875, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e050e66d97a3f54b0453533428088e6c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5348875/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1570042771, "creation_date": 1570042771, "answer_id": 58207782, "question_id": 58206961, "link": "https://stackoverflow.com/questions/58206961/coroutine-wait-for-method-before-going-on/58207782#58207782", "title": "Coroutine wait for method before going on", "body": "<p>This approach seems to be working:</p>\n\n<pre><code>IEnumerator DownloadVideo(string url) {\n    UnityWebRequest www = UnityWebRequest.Get(url);\n    yield return www.SendWebRequest();\n    byte[] result = www.downloadHandler.data;\n    File.WriteAllBytes(path, result);\n    yield return new WaitUntil(() =&gt; File.Exists(path));\n    StartCoroutine(PlayVideo(path));\n}\n</code></pre>\n\n<p>Apparently <code>File.Exists(path)</code> will only return true when <code>WriteAllBytes(path, result)</code> is over.</p>\n"}, {"comments": [{"owner": {"reputation": 5719, "user_id": 5348875, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e050e66d97a3f54b0453533428088e6c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5348875/daniel"}, "edited": false, "score": 0, "creation_date": 1570066103, "post_id": 58209786, "comment_id": 102799766, "body": "I thought the same thing but the solution I found initially was to delay the execution of the VideoPlayer, but with the workaround I mentioned, it seems to work correctly."}], "tags": [], "owner": {"reputation": 1563, "user_id": 11947519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZYm5.jpg?s=128&g=1", "display_name": "Erik Overflow", "link": "https://stackoverflow.com/users/11947519/erik-overflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1570052897, "creation_date": 1570052897, "answer_id": 58209786, "question_id": 58206961, "link": "https://stackoverflow.com/questions/58206961/coroutine-wait-for-method-before-going-on/58209786#58209786", "title": "Coroutine wait for method before going on", "body": "<p>File.WriteAllBytes is a synchronous method, so it is not an issue with your code. File.WriteAllBytes does not take additional time to finish when that line of code is done executing. It is probable that you have another process locking the file like an antivirus or a backup software.</p>\n"}], "owner": {"reputation": 5719, "user_id": 5348875, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e050e66d97a3f54b0453533428088e6c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5348875/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1570052897, "creation_date": 1570039432, "last_edit_date": 1570039872, "question_id": 58206961, "link": "https://stackoverflow.com/questions/58206961/coroutine-wait-for-method-before-going-on", "title": "Coroutine wait for method before going on", "body": "<p>I have a coroutine that downloads a video, writes it into the memory and then, plays it.</p>\n\n<pre><code>IEnumerator DownloadVideo(string url) {\n    UnityWebRequest www = UnityWebRequest.Get(url);\n    yield return www.SendWebRequest();\n    byte[] result = www.downloadHandler.data;\n    File.WriteAllBytes(path, result);\n    StartCoroutine(PlayVideo(path, 3));\n}\n\nIEnumerator PlayVideo(string url, float delayTime = 0) {\n    yield return new WaitForSeconds(delayTime);\n    player.url = url;        \n    player.Prepare();        \n    while (!player.isPrepared) yield return null;\n    player.Play();\n}\n</code></pre>\n\n<p>The problem is that I have to set this argument <code>delayTime</code> in the <code>PlayVideo</code> coroutine, because <code>File.WriteAllBytes(path, result)</code> takes a while to finish and if I start playing the video immediatly, it won't play correctly.</p>\n\n<p>The question is simple: in the coroutine <code>DownloadVideo</code>, how can I wait until <code>File.WriteAllBytes(path, result)</code> finish to call <code>StartCoroutine(PlayVideo(path))</code>?</p>\n"}, {"tags": ["c#", "dependency-injection", "asp.net-web-api2", "simple-injector"], "comments": [{"owner": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "edited": false, "score": 2, "creation_date": 1570039974, "post_id": 58206949, "comment_id": 102792175, "body": "You&#39;re missing the auto-wiring feature of Simple Injector. This is described here: <a href=\"https://simpleinjector.readthedocs.io/en/latest/using.html#automatic-constructor-injection-auto-wiring\" rel=\"nofollow noreferrer\">simpleinjector.readthedocs.io/en/latest/&hellip;</a>"}, {"owner": {"reputation": 1191, "user_id": 576300, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/adb150596a6fd2651b6981e82f88ccc2?s=128&d=identicon&r=PG", "display_name": "notlkk", "link": "https://stackoverflow.com/users/576300/notlkk"}, "reply_to_user": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "edited": false, "score": 0, "creation_date": 1570040671, "post_id": 58206949, "comment_id": 102792490, "body": "@Ric.NetAh, that&#39;s it! I totally missed that. It also says &quot;Even though Simple Injector can create a concrete type even if it hasn\u2019t been registered explicitly in the container, best practice is to register all types explicitly in the container.&quot; I wonder why it&#39;s better to register all types explicitly."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 2, "creation_date": 1570045243, "post_id": 58206949, "comment_id": 102794525, "body": "&quot;I wonder why it&#39;s better to register all types explicitly.&quot; That is explained <a href=\"https://simpleinjector.org/howto#verify-configuration\" rel=\"nofollow noreferrer\">here</a>."}], "owner": {"reputation": 1191, "user_id": 576300, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/adb150596a6fd2651b6981e82f88ccc2?s=128&d=identicon&r=PG", "display_name": "notlkk", "link": "https://stackoverflow.com/users/576300/notlkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570040422, "creation_date": 1570039409, "last_edit_date": 1570040422, "question_id": 58206949, "link": "https://stackoverflow.com/questions/58206949/simple-injector-still-works-without-registration", "title": "Simple Injector Still Works without Registration", "body": "<p>I'm a little confused here why my code using Simple Injector still works perfectly even with no registration and would appreciate it if someone could provide some insight.</p>\n\n<p>Basically, I have a typical 3 logical tiers architecture, Web API controller, business service layer, and data access service layer. My Web API project has a reference to the business service project, which in addition to business service classes it also has the .edmx and generated entity classes.</p>\n\n<p>My Web API controller looks like this:</p>\n\n<pre><code>public class MyController : ApiController\n{\n    private readonly BookService bkService;\n\n    public MyController(BookService bk)\n    {\n        bkService = bk;\n    }\n\n    [HttpGet]\n    [Route(\"GetBooks\")]\n    public async Task&lt;IHttpActionResult&gt; GetBooks()\n    {\n        var books = bkService.GetBooks();\n        var ret = JsonConvert.SerializeObject(books);\n        return Ok(ret);\n    }\n}  \n</code></pre>\n\n<p>The business service is:</p>\n\n<pre><code>public class BookService : AbstractService\n{\n    public BookService(MyContext context) : base(context)\n    {\n    }\n\n    public IQueryable&lt;Book&gt; GetBooks()\n    {\n        var da = new Da(ContextContainer);\n        return da.SelectAll&lt;Book&gt;();\n    }\n}\n</code></pre>\n\n<p>Here's what I have in Startup.cs (I'm using Owin for the Web API):</p>\n\n<pre><code>HttpConfiguration = new HttpConfiguration();\nHttpConfiguration.MapHttpAttributeRoutes();\n\nvar container = new Container();\ncontainer.Options.DefaultScopedLifestyle = new AsyncScopedLifestyle();\ncontainer.RegisterWebApiControllers(HttpConfiguration);\ncontainer.Verify();\n\nHttpConfiguration.DependencyResolver = new SimpleInjectorWebApiDependencyResolver(container);\n\napp.UseWebApi(HttpConfiguration);\n</code></pre>\n\n<p>As you can see, I have no registration in Startup.cs; however, the code still works perfectly.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c#", "visual-studio", "xamarin", "xamarin.android"], "comments": [{"owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "edited": false, "score": 1, "creation_date": 1570039901, "post_id": 58206799, "comment_id": 102792136, "body": "Could you share a list of the packages in your Android project?"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 5, "creation_date": 1570042251, "post_id": 58206799, "comment_id": 102793212, "body": "please do NOT post code and errors as images.  Take the time to include them as text and properly format them"}], "answers": [{"tags": [], "owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "is_accepted": true, "score": 2, "last_activity_date": 1570039794, "creation_date": 1570039794, "answer_id": 58207048, "question_id": 58206799, "link": "https://stackoverflow.com/questions/58206799/file-provider-exception-in-xamarin-android/58207048#58207048", "title": "File provider exception in Xamarin.Android", "body": "<p>Welcome to StackOverflow!</p>\n\n<p>Somewhere in your code, you are trying to allow users to upload files from their phone. The ImageView shouldn't be causing the problem, and the complete error message should say <code>Missing android.support.FILE_PROVIDER_PATHS meta-data</code></p>\n\n<p>And in order to make that go away, you need to add this in your AndroidManifest file</p>\n\n<pre><code>&lt;meta-data\n    android:name=\"android.support.FILE_PROVIDER_PATHS\" \n    android:resource=\"@xml/provider_paths\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12307, "user_id": 10768653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d384fbd61254bd55ea01df168e9c7ff?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Zhu - MSFT", "link": "https://stackoverflow.com/users/10768653/leo-zhu-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1570067893, "creation_date": 1570067893, "answer_id": 58211385, "question_id": 58206799, "link": "https://stackoverflow.com/questions/58206799/file-provider-exception-in-xamarin-android/58211385#58211385", "title": "File provider exception in Xamarin.Android", "body": "<p>have you miss the configration in your <code>AndroidManifest.xml</code>:</p>\n\n<pre><code>&lt;provider\n   android:name=\"android.support.v4.content.FileProvider\"\n   android:authorities=\"packagename.fileProvider\"\n   android:grantUriPermissions=\"true\"\n   android:exported=\"false\"&gt;\n\n   &lt;meta-data\n      android:name=\"android.support.FILE_PROVIDER_PATHS\"\n      android:resource=\"@xml/file_paths\" /&gt;\n&lt;/provider&gt;\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 12128089, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDXkBwSYYKfFypjlACNx6G3UEM3HUoEhk-qZUUbZA=k-s128", "display_name": "Dylan", "link": "https://stackoverflow.com/users/12128089/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 870, "favorite_count": 0, "accepted_answer_id": 58207048, "answer_count": 2, "score": 2, "last_activity_date": 1570067893, "creation_date": 1570038776, "question_id": 58206799, "link": "https://stackoverflow.com/questions/58206799/file-provider-exception-in-xamarin-android", "title": "File provider exception in Xamarin.Android", "body": "<p>When i add a image to drawable resources, and i use it in a layout. When i run the application, Visual Studio prompts me an exception of unable to get provider xamarin.essentials.file.providers:java.lang.IllegalArgumentsException: Missing android.support</p>\n\n<p>(1)Image error:\n<a href=\"https://i.stack.imgur.com/xrtR6.png\" rel=\"nofollow noreferrer\">file_provider_exception</a></p>\n\n<p>(2)My actual layout xml code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jxb2I.png\" rel=\"nofollow noreferrer\">layout_xml_code</a></p>\n"}, {"tags": ["c#", "entity-framework", "ef-code-first", "cascade", "one-to-one"], "owner": {"reputation": 1335, "user_id": 1146533, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/de3099d842a985b3fb51df8d27178abd?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1146533/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570038437, "creation_date": 1570038437, "question_id": 58206720, "link": "https://stackoverflow.com/questions/58206720/cascade-delete-of-a-parent-entity-with-two-children-to-the-same-table", "title": "Cascade delete of a parent entity with two children to the same table", "body": "<p>I have two models:  </p>\n\n<p><strong>Child</strong></p>\n\n<pre><code>public class Child {\n   public int Id { get; set; }\n   public string Name { get; set; }\n}\n</code></pre>\n\n<p><strong>Parent</strong></p>\n\n<pre><code>public class Parent {\n   public int Id { get; set; }\n\n   public int? FirstChildId { get; set; }\n   public Child FirstChild { get; set; }\n\n   public int? SecondChildId { get; set; }\n   public Child SecondChild { get; set; }\n}\n</code></pre>\n\n<p>There is a strict relationship that one child has only one parent and one parent has zero-or-one <code>FirstChild</code> and zero-or-one <code>SecondChild</code>.</p>\n\n<p>As far as I know, if we want to make a relationship to the same table (model) twice then we need to have a one-to-many relationship instead of one-to-one.</p>\n\n<p>Therefore, I've modified the <strong>Child</strong> class by adding <em>Many</em> relationships.</p>\n\n<pre><code>public class Child {\n   public int Id { get; set; }\n   public string Name { get; set; }\n\n   public ICollection&lt;Parent&gt; ParentsFirstChild { get; set; }\n   public ICollection&lt;Parent&gt; ParentsSecondChild { get; set; }\n}\n</code></pre>\n\n<p>So far I have the next Fluent API <code>modelBuilder</code> that works</p>\n\n<pre><code>modelBuilder.Entity&lt;Child&gt;()\n   .HasMany(f =&gt; f.ParentsFirstChild)\n   .WithOptional(p =&gt; p.FirstChild)\n   .HasForeignKey(p =&gt; p.FirstChildId)\n   .WillCascadeOnDelete(false);\n\nmodelBuilder.Entity&lt;Child&gt;()\n   .HasMany(f =&gt; f.ParentsSecondChild)\n   .WithOptional(p =&gt; p.SecondChild)\n   .HasForeignKey(p =&gt; p.SecondChildId)\n   .WillCascadeOnDelete(false);\n</code></pre>\n\n<p>The problem is that if we'd put </p>\n\n<pre><code>.WillCascadeOnDelete(true)\n</code></pre>\n\n<p>It produces the error </p>\n\n<blockquote>\n  <p>Introducing FOREIGN KEY constraint\n  FK_dbo.Parent_dbo.Child_ParentsFirstChildId on table Parent may cause\n  cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON\n  UPDATE NO ACTION, or modify other FOREIGN KEY constraints.</p>\n</blockquote>\n\n<p>I see that EF thinks that a Child could be related to other Parents. That's why it could be cyclic, right?</p>\n\n<p><strong>Question</strong><br>\nHow to create a mapping through either DataAnnotations or Fluent API, so that in case of presence (both optional) one or both children (same class/model) during deleting of a parent, children will be removed too?</p>\n"}, {"tags": ["c#", "visual-studio", "f#", "intellisense", "language-interoperability"], "comments": [{"owner": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "edited": false, "score": 1, "creation_date": 1570042911, "post_id": 58206714, "comment_id": 102793544, "body": "If you build the project are there any warnings? These can often indicate a problem regarding the reference (e.g. is one .NET Core/Framework?). Probably worth adding that info to the Q"}, {"owner": {"reputation": 1004, "user_id": 1502310, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4163ce417c0923cefdfe59d8c71c0186?s=128&d=identicon&r=PG", "display_name": "L&#233;ster", "link": "https://stackoverflow.com/users/1502310/l%c3%a9ster"}, "reply_to_user": {"reputation": 48582, "user_id": 383710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a139d0f3bf5fbce8838eee134b28c969?s=128&d=identicon&r=PG", "display_name": "DaveShaw", "link": "https://stackoverflow.com/users/383710/daveshaw"}, "edited": false, "score": 0, "creation_date": 1570044080, "post_id": 58206714, "comment_id": 102794001, "body": "Thank you, edited."}, {"owner": {"reputation": 2888, "user_id": 576519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec88587b867c47ffd61c3942dd3ff89a?s=128&d=identicon&r=PG", "display_name": "VoronoiPotato", "link": "https://stackoverflow.com/users/576519/voronoipotato"}, "edited": false, "score": 2, "creation_date": 1570044696, "post_id": 58206714, "comment_id": 102794290, "body": "Is it possible you&#39;re missing a reference to the C# library in question in your F# project?"}, {"owner": {"reputation": 1004, "user_id": 1502310, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4163ce417c0923cefdfe59d8c71c0186?s=128&d=identicon&r=PG", "display_name": "L&#233;ster", "link": "https://stackoverflow.com/users/1502310/l%c3%a9ster"}, "edited": false, "score": 1, "creation_date": 1570054272, "post_id": 58206714, "comment_id": 102797524, "body": "I wasn&#39;t... but removing the reference, re-adding it and recompiling solved the problem. I&#39;m still wondering what was the problem."}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1570504684, "post_id": 58206714, "comment_id": 102925399, "body": "Hi, thanks for your sharing and please mark your comment as answer and that will help other community members who easier search this useful information, it just a reminder :)"}], "owner": {"reputation": 1004, "user_id": 1502310, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4163ce417c0923cefdfe59d8c71c0186?s=128&d=identicon&r=PG", "display_name": "L&#233;ster", "link": "https://stackoverflow.com/users/1502310/l%c3%a9ster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570044055, "creation_date": 1570038411, "last_edit_date": 1570044055, "question_id": 58206714, "link": "https://stackoverflow.com/questions/58206714/how-to-use-class-from-c-library-in-f-module", "title": "How to use class from C# library in F# module?", "body": "<p>I have 2 projects in a solution: a C# class library and an F# library.</p>\n\n<p>The C# library has the following class:</p>\n\n<pre><code>using System;\n\nnamespace TestFSharpDataLayer.Domain\n{\n    public class TestData\n    {\n        public Guid Id { get; set; }\n        public string Nickname { get; set; }\n        public DateTime StartDate { get; set; }\n        public bool Active { get; set; }\n        public byte[] Fingerprint { get; set; }\n        public char Prefix { get; set; }\n        public int Multiplier { get; set; }\n    }\n}\n</code></pre>\n\n<p>I'm writing a module in the F# library to get data from a MSSQL database, and I want to make my List function  to return an array of <code>TestData</code>objects. I'm using SQLProvider in the F# library.</p>\n\n<p>Module code:</p>\n\n<pre><code>namespace TestFSharpDataLayer.Infrastructure\n\nmodule PersonasRepository = \n    open FSharp.Data.Sql\n    open FSharp.Data.Sql.Common\n    open TestFSharpDataLayer.Domain\n\n    type private sql = SqlDataProvider&lt;DatabaseProviderTypes.MSSQLSERVER,\"server=(localdb)\\MSSQLLocalDB;Database=Test;Trusted_Connection=true;\"&gt;\n\n    let private context = sql.GetDataContext()\n\n    let private ListarInternal (pagina : int) =\n        query {\n            for c in context.Dbo.TestData do\n            sortBy (c.GetColumn \"Nickname\")\n            skip ((pagina - 1) * 15)\n            take 15\n            select c\n        } \n        |&gt; Seq.map EntityToTestData\n        |&gt; Seq.toArray\n\n    let private EntityToTestData (entity : sql.dataContext.``dbo.test_dataEntity``) : TestData =\n        new TestData(Id = entity[\"Id\"], Nickname = entity[\"Nickname\"])\n\n    let Listar (pagina : int) = \n        match pagina with \n        | t when t &gt; 0 -&gt; ListarInternal(pagina)\n        | _ -&gt; null\n</code></pre>\n\n<p>Problem is, I can't get the module to recognize the <code>TestData</code> class. C# library is referenced in the F# library, but the <code>open TestFSharpDataLayer.Domain</code> sentence is not recognized by Intellisense and it also throws a compile-time error (<code>TestFSharpDataLayer namespace not defined</code>). Visual Studio shows no warnings.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 828, "user_id": 7667946, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f9fc29466bc93772bc7e90fd2f6d4b1e?s=128&d=identicon&r=PG&f=1", "display_name": "kristech", "link": "https://stackoverflow.com/users/7667946/kristech"}, "edited": false, "score": 1, "creation_date": 1570038709, "post_id": 58206708, "comment_id": 102791615, "body": "&quot;SelectedItem&quot; is an object. I think you want to put ListBox1.GetItemText(ListBox1.SelectedItem);"}], "answers": [{"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": true, "score": 0, "last_activity_date": 1570284187, "last_edit_date": 1570284187, "creation_date": 1570045607, "answer_id": 58208406, "question_id": 58206708, "link": "https://stackoverflow.com/questions/58206708/cant-use-a-variable-for-both-fields-text-and-selecteditem/58208406#58208406", "title": "Can&#39;t use a Variable for both fields (Text and Selecteditem)", "body": "<p>You may write:</p>\n\n<pre><code>Disk.Diskvolume = ListBox1.SelectedItem.ToString();\n</code></pre>\n\n<p>It takes the selected item object of the listbox then call the standard <code>ToString()</code> method which pattern is to return a readable string representation/meaning of the object.</p>\n\n<p>It is this string that is shown in the listbox to the user:</p>\n\n<ul>\n<li>If the items are strings, it returns the strings themselves.</li>\n<li>If the items are numbers, it returns the numbers converted to a string.</li>\n<li>If the items are other objects, same type or mixed types, it returns by default the name of the type of these objects or what has been coded in the overrided <code>ToString()</code> method of these types.</li>\n</ul>\n"}], "owner": {"reputation": 19, "user_id": 12149411, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eNGLl6AIWx0/AAAAAAAAAAI/AAAAAAAAEoM/7JX6VIlvY00/photo.jpg?sz=128", "display_name": "Nxcc", "link": "https://stackoverflow.com/users/12149411/nxcc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58208406, "answer_count": 1, "score": -2, "last_activity_date": 1570284187, "creation_date": 1570038388, "last_edit_date": 1570044022, "question_id": 58206708, "link": "https://stackoverflow.com/questions/58206708/cant-use-a-variable-for-both-fields-text-and-selecteditem", "title": "Can&#39;t use a Variable for both fields (Text and Selecteditem)", "body": "<p>I wanted to use <code>Disk.Diskvolume</code> as a Global Variable so it contains the things from <code>Listbox1</code>. When making the same Variable as text for a label, it throws an error that says: </p>\n\n<pre><code>\"Cannot implicitly convert type 'object' to 'string'. An explicit conversion exists (are you missing a cast?)\"  \n</code></pre>\n\n<p>I made a static class called <code>Disk</code> and included <code>Diskvolume</code> as a static object. I made it so it uses an item from a <code>listbox1</code> whenever its index has changed, but it seems that it doesn't work for <code>Label.text</code>; when using a string it doesn't work with <code>Listbox1.selectedItem</code></p>\n\n<pre><code>public partial class Form1 : Form\n    {\n        public static class Disk\n        {\n         public static string Diskvolume;\n        }\n        public Form1()\n        {\n            InitializeComponent();\n        }\n        private void ListBox1_SelectedIndexChanged(object sender, EventArgs e)\n        {\n            //The Labels Will Change depending on the Chosen DriveLetter\n            Disk.Diskvolume = ListBox1.SelectedItem;\n            Label2.Text = Disk.Diskvolume;\n        }\n\n        private void Button2_Click(object sender, EventArgs e)\n        {\n\n        }\n    }\n</code></pre>\n\n<p>I expected <code>Disk.Diskvolume</code> to work on both <code>Listbox1.selecteditem</code> and <code>Label2.text</code>.</p>\n\n<p>My problems are particularly in Line 15 and 16, and it has to do with the Public static.</p>\n"}, {"tags": ["c#", "winforms", "visual-studio-2015"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570038427, "post_id": 58206685, "comment_id": 102791469, "body": "You could try creating a new solution and copying the content from each of the files into a corresponding new file in the new solution."}, {"owner": {"reputation": 1, "user_id": 8584903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd04f398cc5f9b8a87ddce84456fa763?s=128&d=identicon&r=PG&f=1", "display_name": "Abdi", "link": "https://stackoverflow.com/users/8584903/abdi"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570038917, "post_id": 58206685, "comment_id": 102791699, "body": "@RobertHarvey The project  mostly consists of UserControls i tried to do that but with the new project when i copy UserContorls to the new project and double click the copied UserControls, the designer gets frozen in the new project."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1570039157, "post_id": 58206685, "comment_id": 102791814, "body": "Hm, it sounds like you have something in there that&#39;s causing an infinite loop in the designer.  The easiest solution might be to get a newer version of Visual Studio."}, {"owner": {"reputation": 1, "user_id": 8584903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd04f398cc5f9b8a87ddce84456fa763?s=128&d=identicon&r=PG&f=1", "display_name": "Abdi", "link": "https://stackoverflow.com/users/8584903/abdi"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1570039543, "post_id": 58206685, "comment_id": 102792000, "body": "@RobertHarvey Tried with Vs2017 and also <b>Blend for Vs2015,2017</b> (though i dnt know what those <b>Blend for vs</b> are for). All same."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1570051670, "post_id": 58206685, "comment_id": 102796871, "body": "The <code>Resource</code> folder is just a repository. Adding an image there doesn&#39;t add it to the Project&#39;s Reources."}, {"owner": {"reputation": 577, "user_id": 7072936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ybgoi.jpg?s=128&g=1", "display_name": "Troy Mac1ure", "link": "https://stackoverflow.com/users/7072936/troy-mac1ure"}, "edited": false, "score": 0, "creation_date": 1570093719, "post_id": 58206685, "comment_id": 102807857, "body": "Add a new form and drag each of your usercontrols on until it freezes to see which control(s) is the issue."}], "owner": {"reputation": 1, "user_id": 8584903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd04f398cc5f9b8a87ddce84456fa763?s=128&d=identicon&r=PG&f=1", "display_name": "Abdi", "link": "https://stackoverflow.com/users/8584903/abdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570038291, "creation_date": 1570038291, "question_id": 58206685, "link": "https://stackoverflow.com/questions/58206685/i-have-cleaned-vs-2015-solution-and-exit-without-rebuilding-the-project", "title": "I have cleaned vs 2015 Solution and exit without rebuilding the project", "body": "<p>I have cleaned project Solution and exit visual studio 2015 without rebuilding. when i reopened the project, the designer freezes.</p>\n\n<p>Sorry for my English. let me try explain a bit</p>\n\n<p>I am working with winForm project. I have accidentally deleted an image from <strong>Resource</strong> folder in the project explorer. Next i got error that tells that image 123.jpg is missing then i recopied the image file directly to the physical <strong>Resource</strong> directory. I hit Build solution but same error popped up. I clicked <strong>Clean Solution</strong> which it cleaned successfully. Then i clicked build. It popped up same error that image is missing though i have added.</p>\n\n<p>After some struggles i clicked <strong>FILE>CLOSE SOLUTION</strong>. It popped up confirmation to save some <strong>xx.Designer.cs</strong>. I clicked YES but image is missing err popped up again. Next i click NO (Dont save) and closed The solution (No rebuild performed).</p>\n\n<p>Next when i tried reopen, The visual studio 2015 completely frozen when it got loaded the project. I waited for +2hrs to respond with no success.. I killed it with TaskManager. Retried again and again with no success.</p>\n\n<p>I backed up the whole project and then Deleted <strong>.vs</strong> folder in project root. Now The solution opens with no problem but when i click <strong>View Designer</strong>, It completely freezes.</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1570037675, "post_id": 58206467, "comment_id": 102791163, "body": "Yes, you can. Do you have an issue when selecting an existing handler from the component?"}, {"owner": {"reputation": 379, "user_id": 2181835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3522.jpg?s=128&g=1", "display_name": "Vali Maties", "link": "https://stackoverflow.com/users/2181835/vali-maties"}, "reply_to_user": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1570037788, "post_id": 58206467, "comment_id": 102791216, "body": "@500-InternalServerError I wrote there in the code... only the last one item in menu is registered. If i add 5 items in menu, eachone I clicked only the last one is raised.. Supposing I add &quot;style&quot;, &quot;text&quot;, &quot;excel&quot;,&quot;word&quot;, and all are registered to the same function, even if I click on &quot;excel&quot;, or &quot;style&quot; the event is telling me that the property is &quot;word&quot;"}, {"owner": {"reputation": 379, "user_id": 2181835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3522.jpg?s=128&g=1", "display_name": "Vali Maties", "link": "https://stackoverflow.com/users/2181835/vali-maties"}, "reply_to_user": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1570038162, "post_id": 58206467, "comment_id": 102791382, "body": "I see now... it&#39;s my fault... this.fileTypes is refreshed by every value..."}, {"owner": {"reputation": 379, "user_id": 2181835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3522.jpg?s=128&g=1", "display_name": "Vali Maties", "link": "https://stackoverflow.com/users/2181835/vali-maties"}, "reply_to_user": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1570039202, "post_id": 58206467, "comment_id": 102791836, "body": "I changed it... I store that property <code>fileExtension</code> in <code>Tag</code> of each menu item, and in <code>Switch</code> i check for sender&#39;s tag value, and it&#39;s working..."}], "answers": [{"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 0, "last_activity_date": 1570047606, "last_edit_date": 1570047606, "creation_date": 1570047294, "answer_id": 58208769, "question_id": 58206467, "link": "https://stackoverflow.com/questions/58206467/can-i-bind-multiple-items-on-a-contextmenustrip-to-the-same-function/58208769#58208769", "title": "Can I bind multiple items on a ContextMenuStrip to the same function?", "body": "<p>You can write this:</p>\n\n<pre><code>private ContextMenuStrip CreateContextMenuStrip(string extension)\n{\n  var result = new ContextMenuStrip();\n  if ( extension.Equals(\"sty\") || extension.Equals(\"st2\") || extension.Equals(\"sst\") )\n  {\n    var item = result.Items.Add(\"Style files (c/u)\");\n    item.Tag = \"style\";\n    item.Click += ContextMenuItem_Click;\n  }\n  else\n  if ( extension.Equals(\"txt\") )\n  {\n    var item = result.Items.Add(\"Text files (c/u)\");\n    item.Tag = \"text\";\n    item.Click += ContextMenuItem_Click;\n  }\n  return result;\n}\n\nprivate void ContextMenuItem_Click(object sender, EventArgs e)\n{\n  switch ( (string)( (ToolStripItem)sender ).Tag )\n  {\n    case \"style\":\n      // ...\n      break;\n    case \"text\":\n      // ...\n      break;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 379, "user_id": 2181835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C3522.jpg?s=128&g=1", "display_name": "Vali Maties", "link": "https://stackoverflow.com/users/2181835/vali-maties"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570047606, "creation_date": 1570037433, "question_id": 58206467, "link": "https://stackoverflow.com/questions/58206467/can-i-bind-multiple-items-on-a-contextmenustrip-to-the-same-function", "title": "Can I bind multiple items on a ContextMenuStrip to the same function?", "body": "<p>I made a <code>ContextMenuStrip</code> which is populated with Items if some objects in form are visible or not.</p>\n\n<p>When I click on an item of this context menu, a property on the form is changing, according to menu item clicked. I want to access a function in this class which read that property and make some changes in the form.</p>\n\n<p>Some code: </p>\n\n<pre><code>private void AddMenuItems(){\n    ContextMenuStrip c = new ContextMenuStrip();\n    if (extension.Equals(\"sty\") || extension.Equals(\"st2\") || extension.Equals(\"sst\")) {\n        this.fileExtension = \"style\";\n        c.Items.Add(\"Style files (c/u)\");\n    }    \n    if (extension.Equals(\"txt\")){\n        this.fileExtension = \"text\";\n        c.Items.Add(\"Text files (c/u)\");\n    }\n    // some other ifs\n    // I've tried this, but only the last one is registered\n    foreach(ToolStripMenuItem m in c.Items){\n        m.Click += CheckSelectedType;\n    }\n}\n\nprivate void CheckSelectedType(object sender, EventsArgs e){\n    switch(this.fileExtension){\n        case \"style\":\n            // do something\n            break;\n        case \"text\":\n            // do something\n            break;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "azure", "msal"], "comments": [{"owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 0, "creation_date": 1570043721, "post_id": 58206465, "comment_id": 102793869, "body": "Yeah you need delegated permissions to read group data from MS Graph API. The membership claims setting just sends group ids in the id token. Unless the user has too many groups. In that case it won&#39;t contain any."}], "answers": [{"comments": [{"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1570755888, "post_id": 58212050, "comment_id": 103023324, "body": "@betty Do you have any other concerns? If you have no other concern, could you please accept the answer? It may help more people."}], "tags": [], "owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "is_accepted": false, "score": 1, "last_activity_date": 1570074445, "creation_date": 1570074445, "answer_id": 58212050, "question_id": 58206465, "link": "https://stackoverflow.com/questions/58206465/microsoft-authentication-library-get-group-membership/58212050#58212050", "title": "Microsoft Authentication Library - Get Group Membership", "body": "<p>If you want to know the groups the user belongs to, you can analyze the id_token. The id_token has one claim \"groups\", it will tell you the id of groups the user belongs to. For example</p>\n\n<ol>\n<li>Configure app manifest</li>\n</ol>\n\n<p>Please update the <code>groupMembershipClaims</code> value as <code>All</code>.\n<a href=\"https://i.stack.imgur.com/pIlg1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pIlg1.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"2\">\n<li>get Id token</li>\n</ol>\n\n<pre><code>GET https://login.microsoftonline.com/{tenant}/oauth2/v2.0/authorize?\nclient_id=6731de76-14a6-49ae-97bc-6eba6914391e        // Your registered Application ID\n&amp;response_type=id_token%20code\n&amp;redirect_uri=      // Your registered redirect URI, URL encoded\n&amp;response_mode=form_post                             // 'form_post' or 'fragment'\n&amp;scope=openid%20                                      // Include both 'openid' and scopes that your app needs  \noffline_access%20                                         \nhttps%3A%2F%2Fgraph.microsoft.com%2Fuser.read\n&amp;state=12345                                          // Any value, provided by your app\n&amp;nonce=678910                                         // Any value, provided by your app\n</code></pre>\n\n<ol start=\"3\">\n<li>Alayse id token vai jwt.io\n<a href=\"https://i.stack.imgur.com/Q8asA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q8asA.png\" alt=\"enter image description here\"></a></li>\n</ol>\n"}], "owner": {"reputation": 2527, "user_id": 1997735, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/xLtbM.jpg?s=128&g=1", "display_name": "Betty Crokker", "link": "https://stackoverflow.com/users/1997735/betty-crokker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570074445, "creation_date": 1570037429, "last_edit_date": 1570039118, "question_id": 58206465, "link": "https://stackoverflow.com/questions/58206465/microsoft-authentication-library-get-group-membership", "title": "Microsoft Authentication Library - Get Group Membership", "body": "<p>We are now using MSAL in our Xamarin/C# app to <a href=\"https://stackoverflow.com/questions/58082960/need-to-add-offline-and-touch-id-to-microsoft-authentication-layer\">authenticate users</a>, the next step is to determine whether the authenticated user is a member of certain groups in the organization that allow access to certain features of the app.</p>\n\n<p>I grabbed code from StackOverflow for <a href=\"https://stackoverflow.com/questions/58091323/how-to-use-microsoft-graph-api-to-get-all-the-groups-for-authorization-in-net-c\">querying the membership</a>, it's throwing an exception \"Authorization_RequestDenied: Insufficient privileges to complete the operation\" but I've asked IT to <a href=\"http://%20https://docs.microsoft.com/en-us/azure/active-directory/develop/reference-app-manifest\" rel=\"nofollow noreferrer\">add the \"groupMembershipClaims\" property</a> to the mCP's Azure manifest and am hopeful that will fix things.</p>\n\n<p>Here are some highlights of the current code:</p>\n\n<pre><code>var interactiveRequest = App.PCA.AcquireTokenInteractive(scopes);\nvar authResult = await interactiveRequest.ExecuteAsync();\nvar graphClient = new GraphServiceClient(\n   new DelegateAuthenticationProvider(\n      (requestMessage) =&gt;\n      {\n         // Configure the HTTP bearer Authorization Header\n         requestMessage.Headers.Authorization = new AuthenticationHeaderValue(\"bearer\", authResult.AccessToken);\n         return (Task.FromResult(0));\n      }\n      ));\n   var groups = await graphClient.Me.MemberOf.Request().GetAsync();\n</code></pre>\n\n<p>I'm assuming I can get that to work, but now I'm reading <a href=\"https://stackoverflow.com/questions/48170029/graph-api-get-users-from-azure-ad\">here</a> about the differences between Microsoft Graph API and Microsoft AD Graph API and I don't know whether the code I found is the \"right\" code to use here, or whether there is simpler/better code that I should be using.  Is the code I have there for determining group membership the recommended option?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>IT set \"groupMembershipClaims\" to \"SecurityGroup\" and it gives the same exception, so apparently querying membership isn't the same as making membership claims.  But in my case there is one group (role?) that says \"this user is allowed to run the app\" and another group/role that says \"this user has access to the special features\" so I don't want the authentication request to just fail if the user isn't a member of that second group/role.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 4137, "user_id": 5519709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3tpv.jpg?s=128&g=1", "display_name": "Selim Yildiz", "link": "https://stackoverflow.com/users/5519709/selim-yildiz"}, "edited": false, "score": 0, "creation_date": 1570037232, "post_id": 58206397, "comment_id": 102790961, "body": "Can you share your LINQ?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1570037239, "post_id": 58206397, "comment_id": 102790964, "body": "<code>GroupBy(x =&gt; x.userID)</code>?"}, {"owner": {"reputation": 169, "user_id": 6107599, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nuYFYSnIZmQ/AAAAAAAAAAI/AAAAAAAAA1s/Plhp2fz35v0/photo.jpg?sz=128", "display_name": "Ayoub Salhi", "link": "https://stackoverflow.com/users/6107599/ayoub-salhi"}, "reply_to_user": {"reputation": 4137, "user_id": 5519709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3tpv.jpg?s=128&g=1", "display_name": "Selim Yildiz", "link": "https://stackoverflow.com/users/5519709/selim-yildiz"}, "edited": false, "score": 0, "creation_date": 1570037501, "post_id": 58206397, "comment_id": 102791084, "body": "@SelimY\u0131ld\u0131z I just included it"}, {"owner": {"reputation": 169, "user_id": 6107599, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nuYFYSnIZmQ/AAAAAAAAAAI/AAAAAAAAA1s/Plhp2fz35v0/photo.jpg?sz=128", "display_name": "Ayoub Salhi", "link": "https://stackoverflow.com/users/6107599/ayoub-salhi"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1570037897, "post_id": 58206397, "comment_id": 102791271, "body": "@HereticMonkey That doesn&#39;t return &quot;AgencyInfo&quot; in one list per userID."}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 6107599, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nuYFYSnIZmQ/AAAAAAAAAAI/AAAAAAAAA1s/Plhp2fz35v0/photo.jpg?sz=128", "display_name": "Ayoub Salhi", "link": "https://stackoverflow.com/users/6107599/ayoub-salhi"}, "edited": false, "score": 0, "creation_date": 1570038744, "post_id": 58206666, "comment_id": 102791635, "body": "how could I select multiple columns in this case: .Select(_ =&gt; new UserManagementClass     {         userID = _.Key, userName =...?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 169, "user_id": 6107599, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nuYFYSnIZmQ/AAAAAAAAAAI/AAAAAAAAA1s/Plhp2fz35v0/photo.jpg?sz=128", "display_name": "Ayoub Salhi", "link": "https://stackoverflow.com/users/6107599/ayoub-salhi"}, "edited": false, "score": 1, "creation_date": 1570038844, "post_id": 58206666, "comment_id": 102791671, "body": "@AyoubSalhi - Are they unique to the user? If so include them in the <code>GroupBy</code> as <code>new {u.userId, u.userName}</code> and then select them from <code>_.Key.userId</code>"}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 4, "last_activity_date": 1570038202, "creation_date": 1570038202, "answer_id": 58206666, "question_id": 58206397, "link": "https://stackoverflow.com/questions/58206397/c-linq-group-to-a-list-inside-a-list/58206666#58206666", "title": "C# linq group to a list inside a list", "body": "<p>Use <code>GroupBy</code> and then <code>Select</code> to define how you want the grouped results projected.</p>\n\n<pre><code>List&lt;UserManagementClass&gt; UsersList = Users\n    .GroupBy(u =&gt; u.userID)\n    .Select(_ =&gt; new UserManagementClass\n    {\n        userID = _.Key,\n        UserAgencyList = _.SelectMany(u =&gt; u.UserAgencyList.Select(agency =&gt; agency)).ToList()\n    }).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570039977, "creation_date": 1570039977, "answer_id": 58207079, "question_id": 58206397, "link": "https://stackoverflow.com/questions/58206397/c-linq-group-to-a-list-inside-a-list/58207079#58207079", "title": "C# linq group to a list inside a list", "body": "<p>This should be straightforward using Linq against your db (Linq To SQL, Linq To EF). I would expect in your db it is also represented as 2 tables which match to your JSON, however looks like you are retrieving that data from a single table?</p>\n\n<p>Then you could achieve the same as:</p>\n\n<pre><code>var myUsers = Users.GroupBy(u =&gt; u.UserID)\n    .Select(g =&gt; new\n    {\n        UserId = g.Key,\n        AgencyInfo = g.Select(tb =&gt; new { tb.UserAgency, tb.UserAgencyName })\n    });\n</code></pre>\n\n<p>Serializing this to JSON using Newtonsoft gives this:</p>\n\n<pre><code>[\n{\n \"UserId\":1,\n \"AgencyInfo\":[\n     {\n       \"UserAgency\":5,\n       \"UserAgencyName\":\"Milk Commission\"\n     }\n  ]\n},\n{\n \"UserId\":2,\n \"AgencyInfo\":[\n   {\n     \"UserAgency\":5,\n     \"UserAgencyName\":\"Milk Commission\"\n   },\n   {\n     \"UserAgency\":2,\n     \"UserAgencyName\":\"Department Of CSV\"\n   }\n ]\n}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 7053526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HuswJ.jpg?s=128&g=1", "display_name": "P_R", "link": "https://stackoverflow.com/users/7053526/p-r"}, "is_accepted": false, "score": -1, "last_activity_date": 1570042606, "creation_date": 1570042606, "answer_id": 58207751, "question_id": 58206397, "link": "https://stackoverflow.com/questions/58206397/c-linq-group-to-a-list-inside-a-list/58207751#58207751", "title": "C# linq group to a list inside a list", "body": "<p>your line:</p>\n\n<blockquote>\n  <p>var UsersList = Users.GroupBy(u => u.userID).ToList();</p>\n</blockquote>\n\n<p>will work if you add:</p>\n\n<blockquote>\n  <p>UsersList = Users.GroupBy(u => u.userID.ToLowerInvariant()).ToList();</p>\n</blockquote>\n\n<p>as your userId is declared as a string, the groupBy groups strictly.</p>\n\n<p>If your userId is going to be formed of numbers I'd change it to be int or similar. Otherwise if it needs to be string, you might be better off using a .Select after the GroupBy and creating a new UserManagementClass with the two properties, similar to the approach of Igor.</p>\n"}], "owner": {"reputation": 169, "user_id": 6107599, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-nuYFYSnIZmQ/AAAAAAAAAAI/AAAAAAAAA1s/Plhp2fz35v0/photo.jpg?sz=128", "display_name": "Ayoub Salhi", "link": "https://stackoverflow.com/users/6107599/ayoub-salhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 58206666, "answer_count": 3, "score": 1, "last_activity_date": 1570042606, "creation_date": 1570037099, "last_edit_date": 1570037474, "question_id": 58206397, "link": "https://stackoverflow.com/questions/58206397/c-linq-group-to-a-list-inside-a-list", "title": "C# linq group to a list inside a list", "body": "<p>I have the following class</p>\n\n<pre><code>public class UserManagementClass\n    {\n        public string userID;\n        List&lt;AgencyInfo&gt; UserAgencyList;\n    }\n\n    public class AgencyInfo\n    {\n        public string userAgency;\n        public string userAgencyName;\n    }\n</code></pre>\n\n<p>Now this list can have multiple instances with same userID, SQL is returning a list like this :</p>\n\n<pre><code> userID        userAgency      userAgencyName\n    1           5    Milk Commission\n    2           5    Milk Commission\n    2           2    Department Of CSV\n</code></pre>\n\n<p>Which I translate to this :</p>\n\n<pre><code>[{\n    \"userID\": \"1\",\n    \"AgencyInfo\": [\n        {\n            \"userAgency\": \"5\",\n            \"userAgencyName\": \"Milk Commission\"\n        }\n    ]\n},\n{\n    \"userID\": \"2\",\n    \"AgencyInfo\": [\n        {\n            \"userAgency\": \"5\",\n            \"userAgencyName\": \"Milk Commission\"\n        }\n    ]\n},\n{\n    \"userID\": \"2\",\n    \"AgencyInfo\": [\n        {\n            \"userAgency\": \"2\",\n            \"userAgencyName\": \"Department Of CSV\"\n        }\n    ]\n}]\n</code></pre>\n\n<p>How can I group it to look like this using Linq :</p>\n\n<pre><code> [{\n    \"userID\": \"1\",\n    \"AgencyInfo\": [\n        {\n            \"userAgency\": \"5\",\n            \"userAgencyName\": \"Milk Commission\"\n        }\n    ]\n},\n{\n    \"userID\": \"2\",\n    \"AgencyInfo\": [\n        {\n            \"userAgency\": \"5\",\n            \"userAgencyName\": \"Milk Commission\"\n        },\n        {\n            \"userAgency\": \"2\",\n            \"userAgencyName\": \"Department Of CSV\"\n        }\n    ]\n}]\n</code></pre>\n\n<p>I tried using multiple non-query expressions but no luck, Could someone please point me in the right direction?</p>\n\n<p>My Linq:</p>\n\n<pre><code>var UsersList = Users.GroupBy(u =&gt; u.userID).ToList();\n</code></pre>\n"}, {"tags": ["c#", "wpf", "file-management"], "comments": [{"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1570038130, "post_id": 58206181, "comment_id": 102791368, "body": "You have a few issues it seems, what specifically are you asking here for help on?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1570038276, "post_id": 58206181, "comment_id": 102791414, "body": "You need to break your problem down into separate questions. Focus on one at a time, provide good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for each so that people can help. That said, you should not be moving files by explicitly copying. Use the <code>System.IO.File.Move()</code> method instead. As long as the file is being moved within the same volume, this operation is <i>very</i> fast and independent of the file size. If you try to move across volumes, the file will be copied instead of moved (you&#39;ll have to delete the source yourself if that&#39;s what you want), but the operation will still be done efficiently."}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1570038384, "post_id": 58206181, "comment_id": 102791455, "body": "@PeterDuniho what do you recommend to the OP that wants to show progress of this move if they choose to use <code>System.IO.File.Move()</code>?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "edited": false, "score": 0, "creation_date": 1570038462, "post_id": 58206181, "comment_id": 102791487, "body": "@&#199;&#246;\u0111\u011bx\u011b\u0155: for moves within the same volume, progress bar is entirely unnecessary. If they care about the cross-volume case and still want a progress bar, there are other options, including implementing the copy themselves, but first they need to settle on what problem it is they want help with first."}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 0, "creation_date": 1570038696, "post_id": 58206181, "comment_id": 102791606, "body": "The exact issue I would like to get out of the way first, is the copying being rather slow while keeping a progress tracker of some kind. My existing code shows what I have tried. But anything can be changed if needed to get a better result. I will edit my post so I only ask one question."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1570038880, "post_id": 58206181, "comment_id": 102791687, "body": "<i>&quot;the copying being rather slow while keeping a progress tracker of some kind&quot;</i> -- if that&#39;s a single issue, then that means the copy isn&#39;t slow if there is no progress bar. But that doesn&#39;t make any sense: your 38MB file should only have (about) 38 iterations of updating the progress bar, which isn&#39;t enough to slow anything down."}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 0, "creation_date": 1570039981, "post_id": 58206181, "comment_id": 102792177, "body": "The tracker is an event listener so that shouldn&#39;t impact anything. Which is making no sense to me. I&#39;ll remove it and see if that does anything. My nooby idea would be to increase the buffer size so I copy more at once but I&#39;m not sure if that&#39;s how that works. I forgot to remove the last part as well. The tracker is a separate issue for after this one is resolved."}, {"owner": {"reputation": 12418, "user_id": 214296, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/268966bdb84008bef79268f0a45b533e?s=128&d=identicon&r=PG", "display_name": "Jim Fell", "link": "https://stackoverflow.com/users/214296/jim-fell"}, "edited": false, "score": 0, "creation_date": 1570042187, "post_id": 58206181, "comment_id": 102793183, "body": "There&#39;s a lot involved (from a system perspective) when moving a file.  If you&#39;re using a traditional spinner drive, you may see better performance by first reading the file into a buffer, then save the buffer contents to the new file location, and finally delete the old file."}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 1, "creation_date": 1570056240, "post_id": 58209563, "comment_id": 102797941, "body": "That is one hell of an explanation, I think I understood most of it. But damn, that&#39;s way more complex (-looking) that what I expected it to be. Thank you so much for this! I hand typed it over and made sure I understood what it said."}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 1, "creation_date": 1570056633, "post_id": 58209563, "comment_id": 102798025, "body": "Though I have to admit the DLL imports have got me seriously confused."}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 0, "creation_date": 1570083753, "post_id": 58209563, "comment_id": 102803289, "body": "I was moving a file of about 2 GB and it took roughly 25 seconds. I am very surprised as to how fast that went! Next step will be to watch for changes in the filesystem and automate the process. Will this code make an issue if there are multiple files being moved? I am expecting a significant slowdown. Bit late on the reply, went to bed since I am at work now haha"}, {"owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "reply_to_user": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 1, "creation_date": 1570106844, "post_id": 58209563, "comment_id": 102814735, "body": "@TorbenVanAssche I don&#39;t believe it should cause issue&#39;s if multiple files are being moved, but implementing and testing that should be minimal. All of the main work is done on a new thread, of course if you have thousands going you could potentially see some slowdowns, but more than likely wont be your case."}, {"owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "edited": false, "score": 1, "creation_date": 1570107423, "post_id": 58209563, "comment_id": 102815066, "body": "Cool. Time to start working on my filesystemwatcher than."}], "tags": [], "owner": {"reputation": 7175, "user_id": 1797425, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d4058e92c18018dcb24d13cc8c24cc94?s=128&d=identicon&r=PG&f=1", "display_name": "Codexer", "link": "https://stackoverflow.com/users/1797425/codexer"}, "is_accepted": true, "score": 1, "last_activity_date": 1570053516, "last_edit_date": 1570053516, "creation_date": 1570051456, "answer_id": 58209563, "question_id": 58206181, "link": "https://stackoverflow.com/questions/58206181/efficiently-moving-a-file/58209563#58209563", "title": "Efficiently moving a file", "body": "<blockquote>\n  <p>The move operation is insanely slow, and I cant find a solution to make it go any faster</p>\n</blockquote>\n\n<p>There can be many reason's why it's taking so long to move a file. A few for example: Anti-Malware applications - may scan file, network load (if moving to another volume/drive), file size itself, and well, possible code smells.</p>\n\n<p><strong>My guess is I think</strong> you went the way you did with your code so you can handle how much has been moved so far, this is fine, but there are <em>alternatives</em> that can move these file's just fine and much quicker.</p>\n\n<p><strong>A few options</strong></p>\n\n<ol>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.move?view=netframework-4.8\" rel=\"nofollow noreferrer\">System.IO.File.Move()</a> method - this works well, but you don't have control on the progress either. Under the <a href=\"https://referencesource.microsoft.com/#mscorlib/system/io/file.cs,47c527ad52ea10da\" rel=\"nofollow noreferrer\">hood</a> it actually calls out to the: <code>Win32Native.MoveFile</code> c++ function which works great.</li>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.fileinfo.moveto?view=netframework-4.8\" rel=\"nofollow noreferrer\">FileInfo.MoveTo</a> - this just ends up delegating it's work to the <code>Win32.MoveFile</code> as well.</li>\n<li><em>Your way</em> - Using some functions from the <code>Kernel32.dll</code> - this allows for complete control, well progress etc...</li>\n</ol>\n\n<p>I will come back to these above in just a minute as I wanted to touch basis on what you originally posted about how the progress wasn't updating earlier.</p>\n\n<p>This call here <code>await Task.Run(() =&gt; { mover.Copy(); });</code> will be awaited until it's complete, but you register the event after this, for example: <code>mover.OnProgressChanged += percentage =&gt;</code> is after the <code>Copy()</code> call, so no, you will not get any changes.</p>\n\n<p>Even if you received changes you would have an exception anyways because you are not on the UI thread, but another thread. For example:</p>\n\n<pre><code> mover.OnProgressChanged += percentage =&gt;\n {\n    MoveProgress.Value = percentage;\n    InputButtonText.Text = percentage.ToString();\n };\n</code></pre>\n\n<p>You are trying to update the UI (progressbar.value) from another thread, you simply can't do this. To get around that you would need to invoke from the <code>Dispatcher</code>. For example:</p>\n\n<pre><code> Application.Current.Dispatcher.Invoke(() =&gt;\n {\n    pbProgress.Value = percentage;\n });\n</code></pre>\n\n<p><strong>Back to the file operations</strong></p>\n\n<p>In all honesty you can still do what you want the way you are, just move a few things around and you should be good. Otherwise, below I have written a class in which you can use that will move a file, report progress etc. please see below.</p>\n\n<p>Note: I tested with a 500MB file and it moved in 2.78 seconds and a 850MB file in 3.37 seconds from a local drive to a different volume.</p>\n\n<pre><code> using System;\n using System.IO;\n using System.Runtime.InteropServices;\n using System.Threading.Tasks;\n using System.Transactions; // must add reference to System.Transactions     \n\npublic class FileHelper\n    {\n        #region | Public Events |\n\n        /// &lt;summary&gt;\n        /// Occurs when any progress changes occur with file.\n        /// &lt;/summary&gt;\n        public event ProgressChangeDelegate OnProgressChanged;\n\n        /// &lt;summary&gt;\n        /// Occurs when file process has been completed.\n        /// &lt;/summary&gt;\n        public event OnCompleteDelegate OnComplete;\n\n        #endregion\n\n        #region | Enums |\n\n        [Flags]\n        enum MoveFileFlags : uint\n        {\n        MOVE_FILE_REPLACE_EXISTSING = 0x00000001,\n        MOVE_FILE_COPY_ALLOWED = 0x00000002,\n        MOVE_FILE_DELAY_UNTIL_REBOOT = 0x00000004,\n        MOVE_FILE_WRITE_THROUGH = 0x00000008,\n        MOVE_FILE_CREATE_HARDLINK = 0x00000010,\n        MOVE_FILE_FAIL_IF_NOT_TRACKABLE = 0x00000020\n        }\n\n        enum CopyProgressResult : uint\n        {\n        PROGRESS_CONTINUE = 0,\n        PROGRESS_CANCEL = 1,\n        PROGRESS_STOP = 2,\n        PROGRESS_QUIET = 3,\n        }\n\n        enum CopyProgressCallbackReason : uint\n        {\n        CALLBACK_CHUNK_FINISHED = 0x00000000,\n        CALLBACK_STREAM_SWITCH = 0x00000001\n        }\n\n        #endregion\n\n        #region | Delegates |\n\n        private delegate CopyProgressResult CopyProgressRoutine(\n        long TotalFileSize,\n        long TotalBytesTransferred,\n        long StreamSize,\n        long StreamBytesTransferred,\n        uint dwStreamNumber,\n        CopyProgressCallbackReason dwCallbackReason,\n        IntPtr hSourceFile,\n        IntPtr hDestinationFile,\n        IntPtr lpData);\n\n        public delegate void ProgressChangeDelegate(double percentage);\n\n        public delegate void OnCompleteDelegate(bool completed);\n\n        #endregion\n\n        #region | Imports |\n\n        [DllImport(\"Kernel32.dll\")]\n        private static extern bool CloseHandle(IntPtr handle);\n\n        [DllImport(\"Kernel32.dll\")]\n        private static extern bool MoveFileTransactedW([MarshalAs(UnmanagedType.LPWStr)]string existingfile, [MarshalAs(UnmanagedType.LPWStr)]string newfile,\n            IntPtr progress, IntPtr lpData, IntPtr flags, IntPtr transaction);\n\n        [DllImport(\"Kernel32.dll\")]\n        private static extern bool MoveFileWithProgressA(string existingfile, string newfile,\n            CopyProgressRoutine progressRoutine, IntPtr lpData, MoveFileFlags flags);\n\n        [ComImport]\n        [InterfaceType(ComInterfaceType.InterfaceIsIUnknown)]\n        [Guid(\"79427A2B-F895-40e0-BE79-B57DC82ED231\")]\n        private interface IKernelTransaction\n        {\n            void GetHandle([Out] out IntPtr handle);\n        }\n\n        #endregion\n\n        #region | Public Routines |\n\n        /// &lt;summary&gt;\n        /// Will attempt to move a file using a transaction, if successful then the source file will be deleted.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"existingFile\"&gt;&lt;/param&gt;\n        /// &lt;param name=\"newFile\"&gt;&lt;/param&gt;\n        /// &lt;returns&gt;&lt;/returns&gt;\n        public static bool MoveFileTransacted(string existingFile, string newFile)\n        {\n            bool success = true;\n            using (TransactionScope tx = new TransactionScope())\n            {\n                if (Transaction.Current != null)\n                {\n                    IKernelTransaction kt = (IKernelTransaction)TransactionInterop.GetDtcTransaction(Transaction.Current);\n                    IntPtr txh;\n                    kt.GetHandle(out txh);\n\n                    if (txh == IntPtr.Zero) { success = false; return success; }\n\n                    success = MoveFileTransactedW(existingFile, newFile, IntPtr.Zero, IntPtr.Zero, IntPtr.Zero, txh);\n\n                    if (success)\n                    {\n                        tx.Complete();\n                    }\n                    CloseHandle(txh);\n                }\n                else\n                {\n                    try\n                    {\n                        File.Move(existingFile, newFile);\n                        return success;\n                    }\n                    catch (Exception ex) { success = false; }\n                }\n\n                return success;\n            }\n        }\n\n        /// &lt;summary&gt;\n        /// Attempts to move a file from one destination to another. If it succeeds, then the source\n        /// file is deleted after successful move.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"fileToMove\"&gt;&lt;/param&gt;\n        /// &lt;param name=\"newFilePath\"&gt;&lt;/param&gt;\n        /// &lt;returns&gt;&lt;/returns&gt;\n        public async Task&lt;bool&gt; MoveFileAsyncWithProgress(string fileToMove, string newFilePath)\n        {\n            bool success = false;\n\n            try\n            {\n                await Task.Run(() =&gt;\n                {\n                    success = MoveFileWithProgressA(fileToMove, newFilePath, new CopyProgressRoutine(CopyProgressHandler), IntPtr.Zero, MoveFileFlags .MOVE_FILE_REPLACE_EXISTSING|MoveFileFlags.MOVE_FILE_WRITE_THROUGH|MoveFileFlags.MOVE_FILE_COPY_ALLOWED);\n                });\n            }\n            catch (Exception ex)\n            {\n                success = false;\n            }\n            finally\n            {\n                OnComplete(success);\n            }\n\n            return success;\n        }\n\n        private CopyProgressResult CopyProgressHandler(long total, long transferred, long streamSize, long StreamByteTrans, uint dwStreamNumber,CopyProgressCallbackReason reason, IntPtr hSourceFile, IntPtr hDestinationFile, IntPtr lpData)\n        {\n            double percentage = transferred * 100.0 / total;\n            OnProgressChanged(percentage);\n\n            return CopyProgressResult.PROGRESS_CONTINUE;\n        }\n\n        #endregion\n    }\n</code></pre>\n\n<p><strong>How to Use</strong></p>\n\n<p>One example - </p>\n\n<pre><code> // Just a public property to hold an instance we need\n public FileHelper FileHelper { get; set; }\n</code></pre>\n\n<p>On load register the events...</p>\n\n<pre><code> FileHelper = new FileHelper();\n FileHelper.OnProgressChanged += FileHelper_OnProgressChanged;\n FileHelper.OnComplete += FileHelper_OnComplete;\n</code></pre>\n\n<p>Here's the logic...</p>\n\n<pre><code> private async void Button_Click(object sender, RoutedEventArgs e)\n {\n    bool success = await FileHelper.MoveFileAsyncWithProgress(\"FILETOMOVE\", \"DestinationFilePath\");\n }\n\n // This is called when progress changes, if file is small, it\n // may not even hit this.\n private void FileHelper_OnProgressChanged(double percentage)\n {\n        Application.Current.Dispatcher.Invoke(() =&gt;\n        {\n            pbProgress.Value = percentage;\n        });\n }\n\n // This is called after a move, whether it succeeds or not\n private void FileHelper_OnComplete(bool completed)\n {\n        Application.Current.Dispatcher.Invoke(() =&gt;\n        {\n            MessageBox.Show(\"File process succeded: \" + completed.ToString());\n        });\n }\n</code></pre>\n\n<p>*Note: there's another function in that helper class, <code>MoveFileTransacted</code>, you really don't need this, It's another helper function that allows you to move a file using a transaction; if an exception occurs the file doesn't move etc...</p>\n"}], "owner": {"reputation": 319, "user_id": 9741878, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TWiB1H2wSg8/AAAAAAAAAAI/AAAAAAAAAA8/yzlbvLnvzAs/photo.jpg?sz=128", "display_name": "Torben Van Assche", "link": "https://stackoverflow.com/users/9741878/torben-van-assche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 349, "favorite_count": 1, "accepted_answer_id": 58209563, "answer_count": 1, "score": 3, "last_activity_date": 1570053516, "creation_date": 1570036218, "last_edit_date": 1570039821, "question_id": 58206181, "link": "https://stackoverflow.com/questions/58206181/efficiently-moving-a-file", "title": "Efficiently moving a file", "body": "<p>I am trying to move files from one directory to another while seeing a progress bar in my WPF application. </p>\n\n<p>The move operation is insanely slow, and I cant find a solution to make it go any faster (testing the speed it was 2:30 minutes to move 38 Mb) But I have no idea how to move it efficiently. The way I am moving now works, but is horribly inefficient.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public delegate void ProgressChangeDelegate(double percentage);\n    public delegate void CompleteDelegate();\n\n    class FileMover\n    { \n        public string SourceFilePath { get; set; }\n        public string DestFilePath { get; set; }\n\n        public event ProgressChangeDelegate OnProgressChanged;\n        public event CompleteDelegate OnComplete;\n\n        public FileMover(string Source, string Dest)\n        {\n            SourceFilePath = Source;\n            DestFilePath = Dest;\n\n            OnProgressChanged += delegate { };\n            OnComplete += delegate { };\n        }\n\n        public void Copy()\n        {\n            byte[] buffer = new byte[1024 * 1024]; // 1MB buffer\n            using (FileStream source = new FileStream(SourceFilePath, FileMode.Open, FileAccess.Read))\n            {\n                long fileLength = source.Length;\n                using (FileStream dest = new FileStream(DestFilePath, FileMode.CreateNew, FileAccess.Write))\n                {\n                    long totalBytes = 0;\n                    int currentBlockSize = 0;\n\n                    while ((currentBlockSize = source.Read(buffer, 0, buffer.Length)) &gt; 0)\n                    {\n                        totalBytes += currentBlockSize;\n                        double percentage = (double) totalBytes * 100.0 / fileLength;\n\n                        dest.Write(buffer, 0, currentBlockSize);\n                        OnProgressChanged(percentage);\n                    }\n                }\n            }\n            OnComplete();\n        }\n    }\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>        private async void MoveFile(string source, string outDir)\n        {\n            if (!string.IsNullOrEmpty(outDir) &amp;&amp; !string.IsNullOrEmpty(source))\n            {\n                //InputButtonText.Text = \"Please be patient while we move your file.\";\n                //Task.Run(() =&gt; { new FileInfo(source).MoveTo(Path.Combine(outDir, Path.GetFileName(source))); }).GetAwaiter().OnCompleted(\n                //    () =&gt;\n                //    {\n                //        OutputScanned.ItemsSource = null;\n                //        InputButtonText.Text = \"Click to select a file\";\n                //    });\n\n                var mover = new FileMover(source, Path.Combine(outDir, Path.GetFileName(source)));\n                await Task.Run(() =&gt; { mover.Copy(); });\n\n                mover.OnProgressChanged += percentage =&gt;\n                {\n                    MoveProgress.Value = percentage;\n                    InputButtonText.Text = percentage.ToString();\n                };\n\n                mover.OnComplete += () =&gt; { File.Delete(source); };\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-2019"], "comments": [{"owner": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1570036495, "post_id": 58206158, "comment_id": 102790632, "body": "I&#39;m not entirely sure what you&#39;re asking for. You can definitely automate intellisense actions but you&#39;re gonna have to roll your own. I know right when you change the name of a property, you get a brief chance to accept visual studio&#39;s suggestion to refactor your propagate the name change. If you change a name, you can immediately hit Ctrl-. (period) to see intellisense suggestions for refactoring. <a href=\"https://docs.microsoft.com/en-us/visualstudio/ide/reference/rename?view=vs-2019\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/ide/reference/&hellip;</a>"}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1570036739, "post_id": 58206158, "comment_id": 102790745, "body": "Some of the code fixes have, in the preview window, also an option to apply this to the whole document or even project"}, {"owner": {"reputation": 1, "user_id": 9045370, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3lVo8q_qVw/AAAAAAAAAAI/AAAAAAAAB28/EWhKsOUemKk/photo.jpg?sz=128", "display_name": "Jeffrey Huang", "link": "https://stackoverflow.com/users/9045370/jeffrey-huang"}, "reply_to_user": {"reputation": 938, "user_id": 4380513, "user_type": "registered", "profile_image": "https://graph.facebook.com/553865196/picture?type=large", "display_name": "Zakk Diaz", "link": "https://stackoverflow.com/users/4380513/zakk-diaz"}, "edited": false, "score": 0, "creation_date": 1570090891, "post_id": 58206158, "comment_id": 102806382, "body": "@ZakkDiaz yes when I hit Ctrl + . there is an option to &#39;Fix Naming Violation&#39; (to capitalise the class property name), but only for that property. Refactoring options only work for everything with the same name. What I want to do is to capitalise all property names of the same document which all have different names. This is because when i go to Edit -&gt; Past Special -&gt; Paste as JSON classes for a large JSON object, sometimes there are more than a hundred property names. Hopefully that makes more sense."}, {"owner": {"reputation": 1, "user_id": 9045370, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3lVo8q_qVw/AAAAAAAAAAI/AAAAAAAAB28/EWhKsOUemKk/photo.jpg?sz=128", "display_name": "Jeffrey Huang", "link": "https://stackoverflow.com/users/9045370/jeffrey-huang"}, "reply_to_user": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1570091075, "post_id": 58206158, "comment_id": 102806475, "body": "@HansKe\ufb06ing I tried preview changes just now but there doesn&#39;t seem to be an option to target the whole document for &#39;Fix Naming Violation&#39; unfortunately :("}], "owner": {"reputation": 1, "user_id": 9045370, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k3lVo8q_qVw/AAAAAAAAAAI/AAAAAAAAB28/EWhKsOUemKk/photo.jpg?sz=128", "display_name": "Jeffrey Huang", "link": "https://stackoverflow.com/users/9045370/jeffrey-huang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570091235, "creation_date": 1570036110, "last_edit_date": 1570091235, "question_id": 58206158, "link": "https://stackoverflow.com/questions/58206158/is-it-possible-to-apply-a-vs2019-suggestion-for-an-entire-document", "title": "Is it possible to apply a VS2019 suggestion for an entire document", "body": "<p>Is there a way to enact a Visual Studio suggestion (such as 'Fix Naming Violation') for an entire document or project? EDIT 2: I would like to do so for all class property names, which are all different in spelling.</p>\n\n<p>When creating c# models for a json model that is known, you can use Paste Special to get the basic layout. However, since json is commonly camel case, the property names get pasted in the same way. The 'Fix Naming Violation' suggestion shows for each property, but I cannot seem to find a way to do so more globally.</p>\n\n<p>I know you can change the naming violation rules, but was still curious to know if this is possible so as to follow C# convention.</p>\n\n<p>I would post a screenshot but I don't have enough reputation.</p>\n\n<p>EDIT 1:\nFrom:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public string classProperty1 { get; set; }\npublic string classProperty2 { get; set; }\npublic string classProperty3 { get; set; }\n</code></pre>\n\n<p>To</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public string ClassProperty1 { get; set; }\npublic string ClassProperty2 { get; set; }\npublic string ClassProperty3 { get; set; }\n</code></pre>\n"}, {"tags": ["c#", "winforms", "events"], "answers": [{"comments": [{"owner": {"reputation": 1405, "user_id": 860134, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/k9TVR.png?s=128&g=1", "display_name": "KJSR", "link": "https://stackoverflow.com/users/860134/kjsr"}, "edited": false, "score": 0, "creation_date": 1570036508, "post_id": 58206207, "comment_id": 102790635, "body": "Bravo!! that makes absolute sense. Thank you :) That solved my issue."}], "tags": [], "owner": {"reputation": 339, "user_id": 8636736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b47e91bc3f3c72ca16f7def7be5e6678?s=128&d=identicon&r=PG&f=1", "display_name": "danielm", "link": "https://stackoverflow.com/users/8636736/danielm"}, "is_accepted": true, "score": 1, "last_activity_date": 1570036310, "creation_date": 1570036310, "answer_id": 58206207, "question_id": 58206122, "link": "https://stackoverflow.com/questions/58206122/form-closed-event-not-triggered-in-parent-form/58206207#58206207", "title": "Form closed event not triggered in parent form", "body": "<p>ShowDialog() will block execution of code in the calling method until the new form is closed. So you are opening and closing frm2 before you've ever even assigned the EventHandler. Switch your two lines around like so and you should be good to go:</p>\n\n<pre><code>frm2.FormClosed += Frm2OnFormClosed;\nfrm2.ShowDialog();\n</code></pre>\n"}], "owner": {"reputation": 1405, "user_id": 860134, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/k9TVR.png?s=128&g=1", "display_name": "KJSR", "link": "https://stackoverflow.com/users/860134/kjsr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 58206207, "answer_count": 1, "score": 0, "last_activity_date": 1570036668, "creation_date": 1570035924, "last_edit_date": 1570036668, "question_id": 58206122, "link": "https://stackoverflow.com/questions/58206122/form-closed-event-not-triggered-in-parent-form", "title": "Form closed event not triggered in parent form", "body": "<p>I am having a bit of a head scratch moment at the moment.</p>\n\n<p>I have 2 <code>Forms</code> one being a Parent form and other being the child form. </p>\n\n<p>Inside the Parent form am trying to detect the <code>FormClosed</code> event which I have subscribed to a event inside the Parent form to handle some behaviour. </p>\n\n<p>However the <code>FormClosed</code> event never gets subscribed or triggered when I close the child Form? I am not really sure what am doing wrong? I have even tried <code>FormClosing</code> and nothing gets triggered?</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        using (var frm2 = new Form2())\n        {\n            frm2.ShowDialog();\n            frm2.FormClosed += Frm2OnFormClosed;\n        }\n    }\n\n    private void Frm2OnFormClosed(object sender, FormClosedEventArgs e)\n    {\n        // Implement further behaviour handling.\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "inheritance", "fileinfo", "sealed"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1570035975, "post_id": 58206108, "comment_id": 102790400, "body": "Can you explain the problem you had with extension methods?"}, {"owner": {"reputation": 141, "user_id": 3997629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ea74b8cc145111e79c0ffe9e4ac3399?s=128&d=identicon&r=PG&f=1", "display_name": "Mytzenka", "link": "https://stackoverflow.com/users/3997629/mytzenka"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1570081493, "post_id": 58206108, "comment_id": 102802589, "body": "With extension methods I would call them multiple times, thus running the same code multiple times. Whereas if I have a class I can do all I need to do and set the custom properties only once in the constructor, which seems more efficient."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1570105768, "post_id": 58206108, "comment_id": 102814093, "body": "Makes sense, if it&#39;s happening enough that there&#39;s noticeable overhead. Incidentally, there&#39;s a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.path.getfilenamewithoutextension?view=netframework-4.8\" rel=\"nofollow noreferrer\"><code>Path.GetFilenameWithoutExtension()</code> method</a>, which will be safer and likely faster than what you&#39;ve got there. In answer to (what I think is) the meat of your question: What you&#39;re doing looks to me like a sensible way to trade memory for cycles, but when you&#39;re optimizing, profile everything to be sure you&#39;re attacking the real problem and doing so effectively."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 3997629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ea74b8cc145111e79c0ffe9e4ac3399?s=128&d=identicon&r=PG&f=1", "display_name": "Mytzenka", "link": "https://stackoverflow.com/users/3997629/mytzenka"}, "edited": false, "score": 0, "creation_date": 1570159248, "post_id": 58206835, "comment_id": 102833460, "body": "Thank you for your help! I think I understand the decorator pattern now but I&#39;m not sure yet why I should use this over the solution I put above.  With the decorator I would make one or more new classes with the functionality I want to add and then chain them in the instantiating of FileInfo right?  So for example: <code>FileInfo fileInfo = new FileInfo().ExtensionClass()</code>"}], "tags": [], "owner": {"reputation": 1441, "user_id": 2701156, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8179192056c0d1900fffcd4b760535a4?s=128&d=identicon&r=PG", "display_name": "AminSojoudi", "link": "https://stackoverflow.com/users/2701156/aminsojoudi"}, "is_accepted": false, "score": 2, "last_activity_date": 1570038902, "creation_date": 1570038902, "answer_id": 58206835, "question_id": 58206108, "link": "https://stackoverflow.com/questions/58206108/best-workaround-for-not-being-able-to-inherit-a-sealed-class/58206835#58206835", "title": "Best workaround for not being able to inherit a sealed class?", "body": "<p>You have done it almost right, The solution to your problem is exactly the use of <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\"><code>decorator pattern</code></a>.</p>\n\n<blockquote>\n  <p>The decorator pattern is a design pattern that allows the behavior to be\n  added to an individual object, either statically or dynamically,\n  without affecting the behavior of other objects from the same class.</p>\n</blockquote>\n\n<p>Check these posts for more details:</p>\n\n<p>1- <a href=\"https://www.codeproject.com/Articles/479635/UnderstandingplusandplusImplementingplusDecoratorp\" rel=\"nofollow noreferrer\">UnderstandingplusandplusImplementingplusDecoratorp</a></p>\n\n<p>2- <a href=\"http://dillonbuchanan.com/programming/benefiting-with-the-decorator-pattern/\" rel=\"nofollow noreferrer\">benefiting-with-the-decorator-pattern</a></p>\n"}], "owner": {"reputation": 141, "user_id": 3997629, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9ea74b8cc145111e79c0ffe9e4ac3399?s=128&d=identicon&r=PG&f=1", "display_name": "Mytzenka", "link": "https://stackoverflow.com/users/3997629/mytzenka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1570039601, "answer_count": 1, "score": -1, "last_activity_date": 1570039711, "creation_date": 1570035844, "question_id": 58206108, "link": "https://stackoverflow.com/questions/58206108/best-workaround-for-not-being-able-to-inherit-a-sealed-class", "closed_reason": "Duplicate", "title": "Best workaround for not being able to inherit a sealed class?", "body": "<p>I am making a program that processes thousands of files. For each file I create a FileInfo instance, but I am missing some methods and properties that I need.</p>\n\n<p>I wanted to make my own custom FileInfo class by inherting from FileInfo, but that class is sealed so I can't. </p>\n\n<p>I considered making extension methods for FileInfo, but that seems ugly and it requires me to run the same code multiple times while processing.\nSo instead I came up with a custom class that 'wraps' the FileInfo class.</p>\n\n<p>Here's a part of it:</p>\n\n<pre><code>class MyFileInfo\n{\n    FileInfo _fileInfo;\n\n    // wrapper of existing property\n    public string Name { get { return _fileInfo.Name; } }\n\n    // custom property\n    public string NameWithoutExtension { get; private set; }\n\n    // custom property\n    public string Increment { get; private set; }\n\n    public MyFileInfo(string filePath)\n    {\n        _fileInfo = new FileInfo(filePath);\n\n        NameWithoutExtension = GetNameWithoutExtension();\n        Increment = GetIncrement();\n    }\n\n    private string GetNameWithoutExtension()\n    {\n        return _fileInfo.Name.Replace(_fileInfo.Extension, string.Empty);\n    }\n\n    private string GetIncrement()\n    {\n        return Regex.Match(NameWithoutExtension, @\" #?\\d{1,4}$\").Value;\n    }\n}\n</code></pre>\n\n<p>Now my question is: is this the best way to do this? How else could one work around not being able to inherit a sealed class?</p>\n"}, {"tags": ["java", "c#"], "comments": [{"owner": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 3, "creation_date": 1570035931, "post_id": 58206093, "comment_id": 102790379, "body": "<code>var invoice = new Object() { String code = &quot;01&quot;, otherThings = &quot;etc&quot;;}</code> Works, but it&#39;s a bad style. (Or is it?)"}, {"owner": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 0, "creation_date": 1570036113, "post_id": 58206093, "comment_id": 102790471, "body": "I hope we get such a feature with records, maybe as anonymous records, that just works. The example above doesn&#39;t implement hashCode, equals and toString. Would be nice through."}, {"owner": {"reputation": 97, "user_id": 11866270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSJ33.jpg?s=128&g=1", "display_name": "ParticleDuality", "link": "https://stackoverflow.com/users/11866270/particleduality"}, "reply_to_user": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 0, "creation_date": 1570036406, "post_id": 58206093, "comment_id": 102790594, "body": "Thanks @JohannesKuhn but when using var I got a <code>Cannot resolve symbol var</code> error, and a <code>; expected</code> at the end of the brackets. I had to put it like: <code>Object invoice = new Object() { String code = &quot;01&quot;, otherThings = &quot;etc&quot;; };</code> Is that correct?"}, {"owner": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 0, "creation_date": 1570036429, "post_id": 58206093, "comment_id": 102790605, "body": "<code>var</code> is a Java 10 feature."}, {"owner": {"reputation": 97, "user_id": 11866270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSJ33.jpg?s=128&g=1", "display_name": "ParticleDuality", "link": "https://stackoverflow.com/users/11866270/particleduality"}, "reply_to_user": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 0, "creation_date": 1570036540, "post_id": 58206093, "comment_id": 102790649, "body": "Actually I downloaded the sdk of Java 10 and change te language level to ten but stll not working :("}, {"owner": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 0, "creation_date": 1570036857, "post_id": 58206093, "comment_id": 102790792, "body": "JDK 10 is already out of date. Use Java 11 or 13."}, {"owner": {"reputation": 97, "user_id": 11866270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSJ33.jpg?s=128&g=1", "display_name": "ParticleDuality", "link": "https://stackoverflow.com/users/11866270/particleduality"}, "reply_to_user": {"reputation": 12819, "user_id": 845414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbe63f77ce3f9656c62b27db4d8583b?s=128&d=identicon&r=PG", "display_name": "Johannes Kuhn", "link": "https://stackoverflow.com/users/845414/johannes-kuhn"}, "edited": false, "score": 0, "creation_date": 1570037438, "post_id": 58206093, "comment_id": 102791055, "body": "Same result with Java 11."}, {"owner": {"reputation": 10842, "user_id": 2164365, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/RKSgV.png?s=128&g=1", "display_name": "Abra", "link": "https://stackoverflow.com/users/2164365/abra"}, "edited": false, "score": 0, "creation_date": 1570039066, "post_id": 58206093, "comment_id": 102791771, "body": "Please post your java code so people can help you with it."}, {"owner": {"reputation": 27610, "user_id": 85421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKvXH.gif?s=128&g=1", "display_name": "user85421", "link": "https://stackoverflow.com/users/85421/user85421"}, "edited": false, "score": 0, "creation_date": 1570044007, "post_id": 58206093, "comment_id": 102793973, "body": "&quot;not working&quot; is not very informative (code snippet works fine with <code>jshell</code>; if compiling, must go inside a method that goes inside a class and be ended by a <code>;</code>) {{but not very usable, no access to fields/methods from outside the instance}}"}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1570045031, "post_id": 58206093, "comment_id": 102794424, "body": "Note that <code>var</code> is for <i>local variables only</i> and will not work for class fields or method parameters."}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 13629479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjsxqyERxRKOTZukisEcXkHy-o8ms12HEHbJydftA=k-s128", "display_name": "Tecto", "link": "https://stackoverflow.com/users/13629479/tecto"}, "is_accepted": false, "score": 1, "last_activity_date": 1590605227, "creation_date": 1590605227, "answer_id": 62050656, "question_id": 58206093, "link": "https://stackoverflow.com/questions/58206093/what-is-the-equivalent-of-a-c-object-variable-in-java/62050656#62050656", "title": "What is the equivalent of a C# object variable in Java?", "body": "<p>You can write it like that: </p>\n\n<pre><code>Invoice i = new Invoice(){...};\n</code></pre>\n\n<p>But thats not Clean Code.</p>\n\n<p>just write a constructor with all properties like:</p>\n\n<pre><code>public invoice(String code, String otherThings)\n{\n     this.code = code;\n     this.otherThings = otherThings;\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>Invoice i = new Invoice(\"asdfasdf\", \"asdfasdf\");\n\nOject[] invoice = new Object[5];\ninvoice[0] = (Object)i;\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 11866270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSJ33.jpg?s=128&g=1", "display_name": "ParticleDuality", "link": "https://stackoverflow.com/users/11866270/particleduality"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1590605227, "creation_date": 1570035767, "question_id": 58206093, "link": "https://stackoverflow.com/questions/58206093/what-is-the-equivalent-of-a-c-object-variable-in-java", "title": "What is the equivalent of a C# object variable in Java?", "body": "<p>I have this C# code:</p>\n\n<pre><code>var invoice = new {\n       code = \"01\",\n       otherThings = \"etc\",\n       ...\n  }\n</code></pre>\n\n<p>What would be the equivalent of this in Java?</p>\n\n<p>I tried creating a: <code>Object[] invoice =  new Object[]{}</code> but don't know how to fill the object.</p>\n\n<p>I hope I was clear enough, thanks.</p>\n"}, {"tags": ["c#", "encoding", "windows-10", "quotation-marks"], "comments": [{"owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "edited": false, "score": 2, "creation_date": 1570035936, "post_id": 58206079, "comment_id": 102790382, "body": "No way that message comes from the line of code you posted - all the code does is set a string variable. My guess is that you&#39;re then writing this string variable to a text file called <code>runme.bat</code> or similar and then running it, and DOS is choking on the byte order mark caused by c# writing UTF8 by default. The Notepad++ conversion of the file to ASCII should have resolved that, so I&#39;m slightly confused unless something went wrong with that. Share more code please, or change your code that writes the bat file to use ASCII encoding:)"}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 1, "creation_date": 1570036853, "post_id": 58206079, "comment_id": 102790791, "body": "In case it wasn&#39;t clear from Caius&#39; comment, this issue has nothing to do with quotation marks. You need to show us how that <code>CommandString</code> variable is actually used within the code, and the code surrounding that."}], "owner": {"reputation": 1, "user_id": 12154603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aacd9156c5e96af6db3050ec60adf27?s=128&d=identicon&r=PG&f=1", "display_name": "F.Z.", "link": "https://stackoverflow.com/users/12154603/f-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570035694, "creation_date": 1570035694, "question_id": 58206079, "link": "https://stackoverflow.com/questions/58206079/exectuable-compiled-with-c-replaces-quotation-marks-with-strange-characters", "title": "Exectuable compiled with C# replaces quotation marks with strange characters (\ufffd\ufffd\ufffd) when run in Windows 10", "body": "<p>I have a bit of a strange problem. I've been using an application in Windows 7 for many years, which was  written in C# using VS 2005. I recently updated to Windows 10 and now the application has stopped working. I get the following error in command prompt:</p>\n\n<pre><code>'\ufffd\ufffd\ufffdbarnacles' is not recognized as an internal or external command\n</code></pre>\n\n<p>After looking around, the issue seems to come from this line in the code:</p>\n\n<pre><code>string CommandString = \"barnacles-c special_barn1 \";\n</code></pre>\n\n<p>Which happens to be the first instance of quotation marks in the code. What I've tried so far:</p>\n\n<ul>\n<li>Adding an @ symbol at the start of the string,</li>\n<li>Replacing <em>barnacles-c special_barn1</em> with something else</li>\n<li>Replacing \"barnacles-c special_barn1 \" with a character array defined\nhigher up using {'','',''} etc</li>\n<li>Changing the encoding of the files in Notepad++ from UTF-8 to ANSI</li>\n<li>Converting the solution to VS2012</li>\n</ul>\n\n<p>The application seems to work on everyone else's computer that has been upgraded to Win10. The only difference is that I have a slightly newer version. I'm wondering if it might have something to do with my language or regional settings somehow. Other than that I'm stumped.</p>\n"}, {"tags": ["c#", ".net-core", "fluentscheduler"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1570037273, "post_id": 58206038, "comment_id": 102790976, "body": "<a href=\"https://github.com/fluentscheduler/FluentScheduler/blob/master/Library/JobManager.cs#L240\" rel=\"nofollow noreferrer\">Source code</a> shows a <code>JobManager.RunningSchedules()</code> that returns <i>Collection of the currently running schedules</i>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1570037356, "post_id": 58206038, "comment_id": 102791013, "body": "There is also the option to get the desired schedule and check its status"}], "answers": [{"tags": [], "owner": {"reputation": 1578, "user_id": 7542937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lxVRL.jpg?s=128&g=1", "display_name": "Aleksej_Shherbak", "link": "https://stackoverflow.com/users/7542937/aleksej-shherbak"}, "is_accepted": false, "score": 0, "last_activity_date": 1570037961, "creation_date": 1570037961, "answer_id": 58206583, "question_id": 58206038, "link": "https://stackoverflow.com/questions/58206038/how-to-check-is-my-job-started-or-stopped-for-fluentscheduler-net/58206583#58206583", "title": "How to check is my job started or stopped for FluentScheduler .NET", "body": "<p>Maybe this is not very elegant way but I have solved it with the following way. </p>\n\n<p>In my controller: </p>\n\n<pre><code>public IActionResult StopSender()\n{\n    JobManager.RemoveAllJobs();\n\n    return RedirectToAction(\"Index\");\n}\n\npublic IActionResult StartSender()\n{\n    var registry = new Registry();\n    registry.Schedule&lt;SendPushesJob&gt;().ToRunNow().AndEvery(60).Seconds();\n    JobManager.Initialize(registry);\n\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>In the view:</p>\n\n<pre><code>&lt;span&gt;\n    @if (JobManager.AllSchedules.Any())\n    {\n        &lt;strong class=\"text-success\"&gt;Scheduler is working!&lt;/strong&gt;   \n    }\n    else\n    {\n        &lt;strong&gt;Scheduler is stopped&lt;/strong&gt;   \n    }\n&lt;/span&gt;\n</code></pre>\n\n<p>I think you understand that I have only one job in my project. </p>\n"}], "owner": {"reputation": 1578, "user_id": 7542937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lxVRL.jpg?s=128&g=1", "display_name": "Aleksej_Shherbak", "link": "https://stackoverflow.com/users/7542937/aleksej-shherbak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570037961, "creation_date": 1570035509, "last_edit_date": 1570036984, "question_id": 58206038, "link": "https://stackoverflow.com/questions/58206038/how-to-check-is-my-job-started-or-stopped-for-fluentscheduler-net", "title": "How to check is my job started or stopped for FluentScheduler .NET", "body": "<p>How to check if job running for <a href=\"https://github.com/fluentscheduler/FluentScheduler\" rel=\"nofollow noreferrer\">FluentScheduler</a> .NET. I have the following code in the <code>Startup.cs</code> class for initializing my job: </p>\n\n<pre><code>var registry = new Registry();\nregistry.Schedule&lt;SendPushesJob&gt;().ToRunNow().AndEvery(60).Seconds();\nJobManager.Initialize(registry);\n</code></pre>\n\n<p>and the following code in my controller: </p>\n\n<pre><code>public IActionResult StopSender()\n{\n    JobManager.Stop();\n\n    return RedirectToAction(\"Index\");\n}\n\npublic IActionResult StartSender()\n{\n    JobManager.Start();\n\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>I would like to show on the view is my job started or stopped. How I can do this? I can't see the suitable method. </p>\n"}, {"tags": ["c#", "console", "user-experience"], "comments": [{"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 0, "creation_date": 1570036018, "post_id": 58206008, "comment_id": 102790420, "body": "Note that you can replace the lengthy if-chain by a switch statement <code>switch (choice) { case &quot;1&quot;: ...; break; case &quot;2&quot;: ...; break; case &quot;3&quot;: ...; break; case &quot;4&quot; when second == 0: ...; break; case &quot;4&quot;: ...; break; }</code>"}, {"owner": {"reputation": 6114, "user_id": 3070060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a936bdd7a67a345d312281305d5adde?s=128&d=identicon&r=PG&f=1", "display_name": "PaulF", "link": "https://stackoverflow.com/users/3070060/paulf"}, "edited": false, "score": 1, "creation_date": 1570036148, "post_id": 58206008, "comment_id": 102790482, "body": "Note that because you did not use <i>&quot;else if (choice == &quot;4&quot;)&quot;</i> then if someone does enter 0 as the second number - you will print the message telling them not to divide by zero - but then do exactly that."}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "edited": false, "score": 1, "creation_date": 1570036504, "post_id": 58206008, "comment_id": 102790634, "body": "Except for <code>choice == &quot;1&quot;</code>, there should be an <code>else if</code> everywhere, unless a <code>switch</code> statement is used."}], "answers": [{"comments": [{"owner": {"reputation": 6114, "user_id": 3070060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a936bdd7a67a345d312281305d5adde?s=128&d=identicon&r=PG&f=1", "display_name": "PaulF", "link": "https://stackoverflow.com/users/3070060/paulf"}, "edited": false, "score": 3, "creation_date": 1570036433, "post_id": 58206049, "comment_id": 102790606, "body": "In that instance the  check for <i>&quot;(chc2 == &quot;1&quot;)&quot;</i> is not really needed as if the entered value is not 1 or 2, the loop will return to the top anyway."}], "tags": [], "owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "is_accepted": true, "score": 3, "last_activity_date": 1570035553, "creation_date": 1570035553, "answer_id": 58206049, "question_id": 58206008, "link": "https://stackoverflow.com/questions/58206008/how-do-i-redesign-this-code-to-avoid-goto/58206049#58206049", "title": "How do I redesign this code to avoid goto?", "body": "<p>Use loops. Here's one common way:</p>\n\n<pre><code>while (true) {\n    // do some stuff\n    Console.WriteLine(\"Next one? \\n1 - Yes \\n2 - No\");\n    string chc2 = Console.ReadLine();\n    if (chc2 == \"1\")\n    {\n        continue; // means go back to the top of the loop\n    }\n    if  (chc2 == \"2\")\n    {\n        Console.WriteLine(\"Bye bye\");\n        Console.ReadKey();                \n        break; // means break out of the loop\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": false, "score": 1, "last_activity_date": 1570044866, "creation_date": 1570044866, "answer_id": 58208251, "question_id": 58206008, "link": "https://stackoverflow.com/questions/58206008/how-do-i-redesign-this-code-to-avoid-goto/58208251#58208251", "title": "How do I redesign this code to avoid goto?", "body": "<p>Here is your code refactored and UX improved:</p>\n\n<pre><code>  string userInput;\n  do\n  {\n    Console.WriteLine(\"Enter first number:\");\n    double operandFirst = double.Parse(Console.ReadLine());\n    Console.WriteLine(\"Enter second number:\");\n    double operandSecond = double.Parse(Console.ReadLine());\n    double? result = null;\n    bool isValid = true;\n    do\n    {\n      Console.WriteLine();\n      Console.WriteLine(\"Select the operation you want to perform:\");\n      Console.WriteLine(\"1 - Addition\");\n      Console.WriteLine(\"2 - Subtraction\");\n      Console.WriteLine(\"3 - Multiplication\");\n      Console.WriteLine(\"4 - Division\");\n      userInput = Console.ReadLine();\n      switch ( userInput )\n      {\n        case \"1\":\n          result = operandFirst + operandSecond;\n          break;\n        case \"2\":\n          result = operandFirst - operandSecond;\n          break;\n        case \"3\":\n          result = operandFirst * operandSecond;\n          break;\n        case \"4\":\n          if ( operandSecond == 0 )\n            Console.WriteLine(\"Can't divide by zero.\");\n          else\n            result = operandFirst / operandSecond;\n          break;\n        default:\n          Console.WriteLine(\"Unknown selected operation.\");\n          isValid = false;\n          break;\n      }\n    }\n    while ( !isValid );\n    if ( result.HasValue )\n      Console.WriteLine(\"Result = \" + result);\n    Console.WriteLine();\n    Console.WriteLine(\"Retry?\");\n    Console.WriteLine(\"1 - Yes\");\n    Console.WriteLine(\"2 - No\");\n    userInput = Console.ReadLine();\n    Console.WriteLine();\n  }\n  while ( userInput != \"2\" );\n  Console.WriteLine(\"Bye bye.\");\n  Console.WriteLine(\"Press a key to exit.\");\n  Console.ReadKey();\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11438146, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a1DSwLlE8Yc/AAAAAAAAAAI/AAAAAAAACjA/bihvziPcrAQ/photo.jpg?sz=128", "display_name": "Szymon Piasecki", "link": "https://stackoverflow.com/users/11438146/szymon-piasecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58206049, "answer_count": 2, "score": -3, "last_activity_date": 1570052992, "creation_date": 1570035350, "last_edit_date": 1570052992, "question_id": 58206008, "link": "https://stackoverflow.com/questions/58206008/how-do-i-redesign-this-code-to-avoid-goto", "title": "How do I redesign this code to avoid goto?", "body": "<p>Well, I have this problem because I started my journey with C# and I wrote a console calculator, but I used <code>goto</code> in it and I heard to not use it, but I have no clue what other instruction to use to make it work just how I want it to. I paste my code (it's not long) here, so maybe you can look at it and give me some tips. Thanks!</p>\n\n<pre><code>base:\n        Console.WriteLine(\"First number\");\n        double first = double.Parse(Console.ReadLine());\n        Console.WriteLine(\"Second number\");\n        double second = double.Parse(Console.ReadLine());\n\n        Console.WriteLine(\"What operation do you want to perform? \\n1 - addition \\n2 - subtraction \\n3 - multiplication \\n4 - division\");\n        string choice = Console.ReadLine();\n        if (choice == \"1\")\n        {\n            Console.WriteLine(first + second);\n            Console.ReadLine();\n        }\n        if (choice == \"2\")\n        {\n            Console.WriteLine(first - second);\n            Console.ReadLine();\n        }\n        if (choice == \"3\")\n        {\n            Console.WriteLine(first * second);\n            Console.ReadLine();\n        }\n\n        else if (choice == \"4\" &amp;&amp; second == 0)\n        {             \n            Console.WriteLine(\" Do not divide by zero\");                \n        }\n        if (choice == \"4\")\n        {\n            Console.WriteLine(first / second);\n            Console.ReadLine();\n        }\n\n        Console.WriteLine(\"Next one? \\n1 - Yes \\n2 - No\");\n        string chc2 = Console.ReadLine();\n        if (chc2 == \"1\")\n        {\n            goto base;\n        }\n        if  (chc2 == \"2\")\n        {\n            Console.WriteLine(\"Bye bye\");\n            Console.ReadKey();                \n\n        }\n</code></pre>\n"}, {"tags": ["c#", "datetime", "asp.net-core-2.2"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570035606, "post_id": 58205947, "comment_id": 102790221, "body": "What is the zero for in the format?  The zero is for the index number of the parameter.  Where is the parameter?"}, {"owner": {"reputation": 2342, "user_id": 1080633, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RieF7.jpg?s=128&g=1", "display_name": "fonZ", "link": "https://stackoverflow.com/users/1080633/fonz"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570039022, "post_id": 58205947, "comment_id": 102791753, "body": "@silentw How is this a duplicate? The question you refer to as giving the answer is only talking about a HTML tag. In my case it&#39;s a asp.net core 2.2 form in a cshtml file. The answers given mostly involve javascript while this is not needed here. I already get a time picker, without javascript. The problem is that it displays AM/PM time, not 24h time while the format given clearly says otherwise. This answer <a href=\"https://stackoverflow.com/questions/47700287/how-to-format-date-time-number-in-asp-net-core-2-0-razor-tag-helpers?rq=1\" title=\"how to format date time number in asp net core 2 0 razor tag helpers\">stackoverflow.com/questions/47700287/&hellip;</a> suggests that this should work, but it doesn&#39;t."}, {"owner": {"reputation": 2342, "user_id": 1080633, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RieF7.jpg?s=128&g=1", "display_name": "fonZ", "link": "https://stackoverflow.com/users/1080633/fonz"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570039252, "post_id": 58205947, "comment_id": 102791861, "body": "@jdweng I&#39;m not following ..."}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 1, "creation_date": 1570039810, "post_id": 58205947, "comment_id": 102792098, "body": "This is probably due to your culture settings/datetime preferences in Windows.  It worked for me, displaying time in <code>HH:mm</code> format. Then I changed my system preference to <code>hh:mm tt</code> ie <code>11:00 PM</code> and it displayed the way you describe. EDIT: I&#39;m using chrome"}, {"owner": {"reputation": 2342, "user_id": 1080633, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RieF7.jpg?s=128&g=1", "display_name": "fonZ", "link": "https://stackoverflow.com/users/1080633/fonz"}, "reply_to_user": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 0, "creation_date": 1570040707, "post_id": 58205947, "comment_id": 102792506, "body": "@haldo wow great man, thanks! I would not have thought about that. Changed the regional settings and it magically worked."}], "owner": {"reputation": 2342, "user_id": 1080633, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RieF7.jpg?s=128&g=1", "display_name": "fonZ", "link": "https://stackoverflow.com/users/1080633/fonz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "closed_date": 1570037492, "answer_count": 0, "score": 1, "last_activity_date": 1570036880, "creation_date": 1570035084, "last_edit_date": 1570036880, "question_id": 58205947, "link": "https://stackoverflow.com/questions/58205947/24h-time-format", "closed_reason": "Duplicate", "title": "24H Time format", "body": "<p>I have the following code in my model:</p>\n\n<pre><code>[DisplayFormat(DataFormatString = \"{0:HH:mm}\", ApplyFormatInEditMode = true)]\n[DataType(DataType.Time)]\npublic DateTime Start { get; set; }\n</code></pre>\n\n<p>And in my cshtml form:</p>\n\n<pre><code>&lt;input asp-for=\"Start\" class=\"form-control\" asp-format=\"{0:HH:mm}\" /&gt;\n</code></pre>\n\n<p>In Chrome and Edge the input displays <strong>11:00 PM</strong> instead of <strong>23:00</strong>. I expect that HH means 00-23, at least as far as I understood.</p>\n\n<p>This is what Chrome tells me if I put a wrong format, e.g. {0:something}. </p>\n\n<blockquote>\n  <p>The specified value \"12:00 AM\" does not conform to the required format.  The format is \"HH:mm\", \n      <code>\"HH:mm:ss\"</code> or <code>\"HH:mm:ss.SSS\"</code> where HH is 00-23, mm is 00-59, ss is 00-59, and SSS is 000-999.</p>\n</blockquote>\n\n<p>I'm not sure where I'm going wrong. How can I get 24h notation?</p>\n"}, {"tags": ["c#", "datetime", "type-conversion"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 2, "creation_date": 1570035146, "post_id": 58205925, "comment_id": 102790004, "body": "use only one d for day and one h for hour.  When you use one it will accept either one or two digits.  When you use two it will only accept two."}, {"owner": {"reputation": 4441, "user_id": 1159056, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/df2e8f63d4017908895b90d5d5052ed6?s=128&d=identicon&r=PG", "display_name": "silentw", "link": "https://stackoverflow.com/users/1159056/silentw"}, "edited": false, "score": 0, "creation_date": 1570035163, "post_id": 58205925, "comment_id": 102790016, "body": "You are using the double digit format on the day and hour."}, {"owner": {"reputation": 1088, "user_id": 2183775, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sIMGC.jpg?s=128&g=1", "display_name": "Mitul&#225;t b&#225;ti", "link": "https://stackoverflow.com/users/2183775/mitul%c3%a1t-b%c3%a1ti"}, "edited": false, "score": 2, "creation_date": 1570035459, "post_id": 58205925, "comment_id": 102790163, "body": "You can&#39;t parse this because &quot;UTC&quot; is not recognized as a valid parameter."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1570035679, "post_id": 58205925, "comment_id": 102790253, "body": "To echo Mitulat - you&#39;ll need to either strip off the UTC or convert it to a time zone (e.g. <code>&quot;+00:00&quot;</code>)"}, {"owner": {"reputation": 8019, "user_id": 9665021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlcMo.png?s=128&g=1", "display_name": "haldo", "link": "https://stackoverflow.com/users/9665021/haldo"}, "edited": false, "score": 1, "creation_date": 1570042273, "post_id": 58205925, "comment_id": 102793226, "body": "<code>&quot;MM&#47;d&#47;yy h:mm:ss tt UTC&quot;</code> or <code>&quot;MM&#47;d&#47;yy h:mm:ss tt &#39;UTC&#39;&quot;</code> will parse as long as UTC is always in the string"}], "answers": [{"comments": [{"owner": {"reputation": 44402, "user_id": 20471, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/35b5e9e9ccf3bfe5ff8d22b64a5234d3?s=128&d=identicon&r=PG", "display_name": "Joe Phillips", "link": "https://stackoverflow.com/users/20471/joe-phillips"}, "edited": false, "score": 0, "creation_date": 1570036062, "post_id": 58206067, "comment_id": 102790445, "body": "Z can probably be parsed"}], "tags": [], "owner": {"reputation": 1088, "user_id": 2183775, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sIMGC.jpg?s=128&g=1", "display_name": "Mitul&#225;t b&#225;ti", "link": "https://stackoverflow.com/users/2183775/mitul%c3%a1t-b%c3%a1ti"}, "is_accepted": false, "score": 1, "last_activity_date": 1570035638, "creation_date": 1570035638, "answer_id": 58206067, "question_id": 58205925, "link": "https://stackoverflow.com/questions/58205925/convert-string-to-datetime-e-g-10-1-19-41938-am-utc/58206067#58206067", "title": "Convert String To Datetime e.g. &quot;10/1/19 4:19:38 AM UTC&quot;", "body": "<p>\"UTC\" is something that can't be parsed. You should use e.g. \"+02:00\" as a time zone indicator.</p>\n\n<p>Remove the \"UTC\" from the end, after that go with this format:</p>\n\n<pre><code>\"M/d/yy h:m:s tt\".\n</code></pre>\n\n<p>Or change \"UTC\" to \"+02:00\" and use this format:</p>\n\n<pre><code>\"M/d/yy h:m:s tt K\"\n</code></pre>\n"}], "owner": {"reputation": 768, "user_id": 168589, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/57b86bd55f16d57ef9f886e6e9a224e5?s=128&d=identicon&r=PG", "display_name": "Tim Bassett", "link": "https://stackoverflow.com/users/168589/tim-bassett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1570039422, "answer_count": 1, "score": -2, "last_activity_date": 1570114001, "creation_date": 1570035008, "last_edit_date": 1570114001, "question_id": 58205925, "link": "https://stackoverflow.com/questions/58205925/convert-string-to-datetime-e-g-10-1-19-41938-am-utc", "closed_reason": "Duplicate", "title": "Convert String To Datetime e.g. &quot;10/1/19 4:19:38 AM UTC&quot;", "body": "<p>I need to convert this string to DateTime: <code>\"10/1/19 4:19:38 AM UTC\"</code></p>\n\n<p>I have tried the below and get various errors. </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>CultureInfo provider = CultureInfo.InvariantCulture;\nDateTime.ParseExact(value.ToString(), \"MM/dd/yy hh:mm:ss tt KKK\", provider);\nDateTime.ParseExact(value.ToString(), \"MM/dd/yy hh:mm:ss t K\", provider)\n</code></pre>\n\n<p>this is different from <a href=\"https://stackoverflow.com/questions/241789/parse-datetime-with-time-zone-of-form-pst-cest-utc-etc\">Parse DateTime with time zone of form PST/CEST/UTC/etc</a> as it is parsing an alpha month name</p>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm", "expander"], "answers": [{"tags": [], "owner": {"reputation": 4675, "user_id": 5086631, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IKrb6.png?s=128&g=1", "display_name": "Keith Stein", "link": "https://stackoverflow.com/users/5086631/keith-stein"}, "is_accepted": false, "score": 0, "last_activity_date": 1570719324, "creation_date": 1570719324, "answer_id": 58325787, "question_id": 58205881, "link": "https://stackoverflow.com/questions/58205881/how-to-set-the-expander-to-center-to-the-left/58325787#58325787", "title": "How to set the Expander to center to the left", "body": "<p>To align the content of a <code>Control</code> (in this case the <code>Expander</code>) use the <code>HorizontalContentAlignment</code> and <code>VerticalContentAlignment</code> properties. See the <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wpf/controls/expander-overview#using-the-alignment-properties\" rel=\"nofollow noreferrer\">bottom section of the Expander documentation on msdn</a>.</p>\n\n<p>You may also need to set the <code>HorizontalAlignment</code> property of the containing <code>StackPanels</code> (either the one inside the <code>Expander</code> or the one inside your shift control).</p>\n"}], "owner": {"reputation": 1, "user_id": 12154928, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Dexter Grif", "link": "https://stackoverflow.com/users/12154928/dexter-grif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570719324, "creation_date": 1570034839, "last_edit_date": 1570036679, "question_id": 58205881, "link": "https://stackoverflow.com/questions/58205881/how-to-set-the-expander-to-center-to-the-left", "title": "How to set the Expander to center to the left", "body": "<p>Ok So I have an expander that needs to expand down and that works fine however it aligns the content to the right like so: <a href=\"https://imgur.com/a/MVt75jK\" rel=\"nofollow noreferrer\">display of the expander</a> I would prefer that it ether aligns to the center or to the left. </p>\n\n<p><a href=\"https://i.stack.imgur.com/TvFrK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TvFrK.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried changing the <code>ExpandDirection</code> property but that just changes what direction the expander opens.</p>\n\n<p>Here is the code for the expander:</p>\n\n<pre><code>&lt;Expander x:Name=\"shifts\" Margin=\"0,0,5,5\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" ExpandDirection=\"Down\" AllowDrop=\"False\"&gt;\n                                &lt;ScrollViewer CanContentScroll=\"True\" VerticalScrollBarVisibility=\"Auto\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"&gt;\n                                    &lt;Border BorderBrush=\"Gainsboro\" BorderThickness=\"1\"&gt;\n                                        &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                                            &lt;local:ShiftControl/&gt;\n                                        &lt;/StackPanel&gt;\n                                    &lt;/Border&gt;\n                                &lt;/ScrollViewer&gt;\n                            &lt;/Expander&gt;\n</code></pre>\n\n<p>and here is the code for the shift control</p>\n\n<pre><code>&lt;DataTemplate&gt;\n                        &lt;StackPanel Orientation = \"Horizontal\"&gt;\n                            &lt;TextBox x:Name=\"ShiftName\" HorizontalAlignment=\"Left\" Height=\"23\" TextWrapping=\"Wrap\" Text=\"{Binding Path=ShiftName,Mode=TwoWay}\" VerticalAlignment=\"Top\" Width=\"90\" IsEnabled=\"False\"/&gt;\n                            &lt;TextBox x:Name=\"JobType\" HorizontalAlignment=\"Left\" Height=\"23\" Margin=\"0,0,5,5\" TextWrapping=\"Wrap\" Text=\"{Binding Path=JobType,Mode=TwoWay}\" VerticalAlignment=\"Top\" Width=\"61\" IsEnabled=\"False\"/&gt;\n                            &lt;mah:TimePicker x:Name=\"Clockout\" Height=\"23\" Width=\"95\" Margin=\"0,0,5,5\" SelectedTimeFormat=\"Short\" IsEnabled=\"False\"  SelectedTime=\"{Binding Path= ShiftStartTime, Mode=TwoWay}\"/&gt;\n                            &lt;mah:TimePicker x:Name=\"Clockin\" Height=\"23\" Width=\"95\" Margin=\"0,0,5,5\" SelectedTimeFormat=\"Short\" IsEnabled=\"False\" SelectedTime=\"{Binding Path= ShiftEndTime, Mode=TwoWay}\"/&gt;\n                            &lt;TextBox x:Name=\"notes\" HorizontalAlignment=\"Left\" Height=\"23\" Margin=\"0,0,5,5\" TextWrapping=\"Wrap\" Text=\"Notes\" VerticalAlignment=\"Top\" Width=\"89\"/&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DataTemplate&gt;\n</code></pre>\n\n<p>I am looking for a way to align the content to either the center or the left </p>\n\n<p>any help is appreciated.</p>\n"}, {"tags": ["c#", "interface", "delegates", "abstract"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1570039249, "post_id": 58205779, "comment_id": 102791859, "body": "Your question doesn&#39;t make sense at the moment. The interface implementation is for code <i>outside</i> the class to call. Why would you ever have a method inside the class trying to use the interface, never mind doing so in a conditionally-implemented way?"}, {"owner": {"reputation": 7737, "user_id": 316760, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b445657dd2a3b943c22a3ecd6bb092b2?s=128&d=identicon&r=PG", "display_name": "Vimes", "link": "https://stackoverflow.com/users/316760/vimes"}, "edited": false, "score": 0, "creation_date": 1570048036, "post_id": 58205779, "comment_id": 102795670, "body": "The original question was very clear. Unfortunately, you can&#39;t achieve what you want that way. You must implement the method directly on the class (not nested in another method). Then you could put a switch or if/else inside that uses the value from Choose(), if you store it in a private field."}], "answers": [{"tags": [], "owner": {"reputation": 875, "user_id": 2196124, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RHBt9.png?s=128&g=1", "display_name": "zdimension", "link": "https://stackoverflow.com/users/2196124/zdimension"}, "is_accepted": false, "score": -2, "last_activity_date": 1570034863, "creation_date": 1570034863, "answer_id": 58205888, "question_id": 58205779, "link": "https://stackoverflow.com/questions/58205779/c-implement-abstract-or-interface-method-inside-of-another-method/58205888#58205888", "title": "C# - Implement abstract or interface method inside of another method", "body": "<p>If what you are trying to do is change the behavior of the implementation of <code>Effect</code> depending on the parameter passed to <code>Choose</code>, then you will have to use a state field to store that and read it in <code>Effect</code>, like this</p>\n\n<pre><code>public class Imple : choices    \n{    \n    private int effectNum = 1; // set the default effect here\n\n    public void Choose(int index)    \n    {    \n        effectNum = index;   \n    }\n\n    public void Effect()\n    {\n        switch (effectNum)\n        {\n            case 1: // implement the different effects here\n                break;\n            case 2:\n                break;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8493, "user_id": 12031933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pq25W.png?s=128&g=1", "display_name": "Olivier Rogier", "link": "https://stackoverflow.com/users/12031933/olivier-rogier"}, "is_accepted": true, "score": 2, "last_activity_date": 1570047816, "last_edit_date": 1570047816, "creation_date": 1570046557, "answer_id": 58208607, "question_id": 58205779, "link": "https://stackoverflow.com/questions/58205779/c-implement-abstract-or-interface-method-inside-of-another-method/58208607#58208607", "title": "C# - Implement abstract or interface method inside of another method", "body": "<p>What you want to do is delegating. </p>\n\n<p>So in the class implementation, you will create two private or protected methods to implement the effect.</p>\n\n<p>Then when you call the <code>Choose</code> method it sets the delegate reference field you create too to point to the desired method.</p>\n\n<p>And now your <code>Effect</code> method calls the delegate reference if not null (initialized).</p>\n\n<pre><code>static void Test()\n{\n  var instance = new Imple();\n  instance.Choose(2);\n  instance.Effect();\n}\n\npublic interface choices\n{\n  void Effect();\n}\n\npublic class Imple : choices\n{\n  private Action SelectedEffect;\n\n  public void Effect()\n  {\n    if ( SelectedEffect != null ) SelectedEffect();\n  }\n\n  private void Effect1()\n  {\n    Console.WriteLine(\"Effect1 called.\");\n  }\n\n  private void Effect2()\n  {\n    Console.WriteLine(\"Effect2 called.\");\n  }\n\n  public void Choose(int index)\n  {\n    switch ( index )\n    {\n      case 1:\n        SelectedEffect = Effect1;\n        break;\n      case 2:\n        SelectedEffect = Effect2;\n        break;\n      default:\n        throw new NotImplementedException(\"Effect version n\u00b0\" + index);\n    }\n  }\n\n}\n</code></pre>\n\n<p><code>Effect</code> can point to any method from any class:</p>\n\n<pre><code>  case 1:\n    SelectedEffect = SomeReference1.SomeMethod;\n    break;\n  case 2:\n    SelectedEffect = SomeReference2.SomeMethod;\n    break;\n</code></pre>\n\n<p>You can replace <code>Action</code> by any method signature to match parameters and any returning type.</p>\n"}], "owner": {"reputation": 33, "user_id": 12154958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7768b80780cf33ab312d41b0f85ea5?s=128&d=identicon&r=PG&f=1", "display_name": "papariaoloulis", "link": "https://stackoverflow.com/users/12154958/papariaoloulis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 58208607, "answer_count": 2, "score": 2, "last_activity_date": 1570087321, "creation_date": 1570034415, "last_edit_date": 1570087321, "question_id": 58205779, "link": "https://stackoverflow.com/questions/58205779/c-implement-abstract-or-interface-method-inside-of-another-method", "title": "C# - Implement abstract or interface method inside of another method", "body": "<p>I am trying to implement an abstract or interface method inside of another method based on a switch case. Depending on the index given, I would like to implement a different method.</p>\n\n<p>Code</p>\n\n<pre><code>public interface choices    \n{    \n    void Effect ();    \n}\n\npublic class Imple : choices    \n{    \n    public void Choose(int index)    \n    {    \n        if(index == 1)    \n        {    \n            void Effect()    \n            {    \n            // implementation here\n\n\n            }    \n            else if(index == 2)\n            // etc.\n\n        }    \n    }\n}\n</code></pre>\n\n<p>Can it be done by overriding an abstract method?\nThank you.</p>\n\n<p>--- EDIT ---</p>\n\n<p>I understand that the code and explanation provided above is unclear, so I will try to explain better.</p>\n\n<p>I am creating a Unity game, however the problem I have has to do with interfaces and c# method implementation and that is why I did not ask the Unity Forum. For this game, I have weapons that have different properties (stats like damage and intelligence, hands occupied, etc.) that work fine. </p>\n\n<p>Item Class (base class)</p>\n\n<pre><code>public class Item\n{\n    // stats and getters / setters\n}\n</code></pre>\n\n<p>Weapon Class</p>\n\n<pre><code>public class Weapon : Item\n{\n    public void Attack()\n    {\n        // attack enemies and reduce their health\n        // I want the Effect method to activate when attacking, \n        // if the method has been implementd\n    }\n}\n</code></pre>\n\n<p>I would like to be able to create different methods on run time that are able to execute effects, like for example dealing more damage when hitting an enemy. However, I would like to implement these methods on run time based on an index that corresponds to an effect. The reason is that weapons are stored in a json file, and when parsing it this index will help identify which effect a weapon has. So, if the index is 1, the implementation should allow the weapon to deal the extra damage, but if it is 2, it will have a different effect. For this, I have created a OnHit class and a IOnHit interface like this:</p>\n\n<pre><code>public class OnHit : IOnHit\n{\n    public void Effect()\n    {\n        // empty\n    }\n}\n\n\npublic interface IOnHit\n{\n    void Effect();\n}\n</code></pre>\n\n<p>I am looking for a way to make that happen dynamically. One way I thought of doing this was to have a static class with all effects and then passing the index there and continuing. However, that would be problematic for the game as it would have to loop through a switch case every time the player attacks (or 2, if the player has 2 weapons). So, I am looking for a way to have an interface or an abstract class with abstract methods that can be implemented once, and then called whenever the effects of the weapon happens. My idea was to create an instance of the OnHit class inside the weapon object and link the IOnHit interface there. Then, to implement the code inside it like this:</p>\n\n<pre><code>public class Weapon : Item\n{\n    OnHit oh = new OnHit();\n    IOnHit ioh = oh;\n    public void Attack()\n    {\n        // previous attack method\n        if(ioh.Effect is implemented)\n            ioh.Effect();\n    }\n\n    public void SetIndex(int index)\n    {\n        switch{\n            case 1:\n                ioh.Effect()\n                {\n                    // implementation of the effect\n                }\n            break;\n\n            case 2:\n                ioh.Effect()\n                {\n                    // implementation of different effect\n                }\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>where the index parameter is the id of the effect, drawn from the parsed json.</p>\n\n<p>Thank you again.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor", "razor-pages", "razor-class-library"], "answers": [{"tags": [], "owner": {"reputation": 1254, "user_id": 112636, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fce74c4a824369164652d1d8a26b4852?s=128&d=identicon&r=PG", "display_name": "tobias", "link": "https://stackoverflow.com/users/112636/tobias"}, "is_accepted": false, "score": 0, "last_activity_date": 1575811995, "creation_date": 1575811995, "answer_id": 59235909, "question_id": 58205775, "link": "https://stackoverflow.com/questions/58205775/reference-directly-a-razor-class-library-assembly/59235909#59235909", "title": "Reference directly a Razor Class Library assembly", "body": "<p>Put below code on Startup.cs</p>\n\n<pre><code>var assemblies = new string[] { \"APP.Plugins.Test\" };\n\n        services\n           .AddMvc()\n           .ConfigureApplicationPartManager(apm =&gt;\n           {\n\n               foreach (var assemblyFile in assemblies)\n               {\n\n                   //main assembly\n                   var assembly = Assembly.Load(assemblyFile);\n                   apm.ApplicationParts.Add(new AssemblyPart(assembly));\n\n                   //view assembly\n                   var assemblyView = Assembly.Load(assemblyFile+\".Views\");\n                   apm.ApplicationParts.Add(new CompiledRazorAssemblyPart(assemblyView));                     \n               }\n           });\n</code></pre>\n"}], "owner": {"reputation": 36762, "user_id": 869621, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ab9817b53b7e7b0e735528bc9c2372?s=128&d=identicon&r=PG", "display_name": "Kevin Gosse", "link": "https://stackoverflow.com/users/869621/kevin-gosse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1575811995, "creation_date": 1570034410, "question_id": 58205775, "link": "https://stackoverflow.com/questions/58205775/reference-directly-a-razor-class-library-assembly", "title": "Reference directly a Razor Class Library assembly", "body": "<p>I'm working on a web application where pages need to be populated from other projects. I was hoping to use a Razor Class Library (RCL) for that. \nThe documentation states that <a href=\"https://docs.microsoft.com/en-us/aspnet/core/razor-pages/ui-class?view=aspnetcore-3.0&amp;tabs=visual-studio#reference-rcl-content\" rel=\"nofollow noreferrer\">a RCL can be referenced only as a project reference or a nuget package</a>. I was hoping it would just be a shortcut to make sure developers went the recommended way. Unfortunately, if I directly reference the two generated assemblies from my RCL project (<code>MyProject.dll</code> and <code>MyProject.Views.dll</code>), it doesn't work. It works only if I add a project reference to the RCL project.</p>\n\n<p>The company I work for has a custom build pipeline, and for reasons outside of my control I can only directly reference assemblies.</p>\n\n<p>I've spent some time comparing the output of the compilation when using direct references and project references, but I couldn't find a difference. <strong>Does anybody know why direct references don't work for RCL?</strong> If I understand what the difference is, I should be able to work my way from there.</p>\n\n<p>As a bonus, is somebody aware of a workaround? Creating a <code>CompiledRazorAssemblyPart</code> works (as described in <a href=\"https://stackoverflow.com/questions/50762385/loading-razor-class-libraries-as-plugins/50763775#50763775\">Loading Razor Class Libraries as plugins</a>), but I'd rather not have to manually search for the assemblies.</p>\n"}, {"tags": ["c#", "sql-server", "smo"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1570034528, "post_id": 58205771, "comment_id": 102789720, "body": "I&#39;ve seen that happen a lot.  Do not backup which causes permission to change.  Instead use Deattach and Atttach where permission do not change.  You will need an admin to fix the permissions."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11380812"}, "is_accepted": false, "score": 1, "last_activity_date": 1570041802, "creation_date": 1570041802, "answer_id": 58207547, "question_id": 58205771, "link": "https://stackoverflow.com/questions/58205771/i-want-to-restore-a-sql-server-database-using-c-code/58207547#58207547", "title": "I want to restore a SQL Server database using C# code", "body": "<p>You have two problems </p>\n\n<p>The first one the credential provided by your connection string does not have enough rights to accomplish the task of putting the database offline. </p>\n\n<p>The second one is that you trying to select MDF/LDF files from your client PC-a and the file system on the server-side does not know or has no permission to access that folder. </p>\n\n<p>So, my answer is that you need to try something completely different. </p>\n\n<p>Try using SMO. There is an article on the internet that gently introduces readers to SMO. </p>\n\n<p>The article points to the solution on GitHub which contains everything that you need. </p>\n\n<p>It means a set of automatized procedures written in .NET ( C# ) for backup, restore and much more. </p>\n\n<p>So, try this one <a href=\"https://www.red-gate.com/simple-talk/dotnet/c-programming/programming-sql-server-sql-server-management-objects-framework/\" rel=\"nofollow noreferrer\">Programming SQL Server with SQL Server Management Objects Framework</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9422015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9de6dd6627da2daf1342262126ab7c83?s=128&d=identicon&r=PG", "display_name": "Faheem Ullah", "link": "https://stackoverflow.com/users/9422015/faheem-ullah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570041802, "creation_date": 1570034392, "last_edit_date": 1570034485, "question_id": 58205771, "link": "https://stackoverflow.com/questions/58205771/i-want-to-restore-a-sql-server-database-using-c-code", "title": "I want to restore a SQL Server database using C# code", "body": "<p>I want to select path of restore then select my database backup file and restore it by clicking a button in Visual Studio 2019.</p>\n\n<p>I have some code below which I already have written, but I get an error.</p>\n\n<pre><code>string connection = ConfigurationManager.ConnectionStrings[\"dbx\"].ConnectionString;\n\nSqlConnection con = new SqlConnection(connection);\ncon.Open();\n\nString sqlquery = \"Use Master ALTER DATABASE databasename SET OFFLINE WITH ROLLBACK IMMEDIATE RESTORE DATABASE FHMTailorDB FROM DISK ='\" + RestoreTextBox.Text + \"' ALTER DATABASE databasename SET ONLINE WITH ROLLBACK IMMEDIATE\";\n\nSqlCommand cmd = new SqlCommand(sqlquery, con);\ncmd.ExecuteNonQuery();\n\ncon.Close();\ncon.Dispose();\n\nlblError.Text = \"Database Restore successfully\";\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: 'User does not have permission to alter database 'databasename', the database does not exist, or the database is not in a state that allows access checks.</p>\n  \n  <p>ALTER DATABASE statement failed. </p>\n  \n  <p>Directory lookup for the file \"F:\\FHMTailorManager\\FHMTailorDB.mdf\" failed with the operating system error 2(The system cannot find the file specified.).</p>\n  \n  <p>File 'FHMTailorDB' cannot be restored to 'F:\\FHMTailorManager\\FHMTailorDB.mdf'. Use WITH MOVE to identify a valid location for the file.</p>\n  \n  <p>Directory lookup for the file \"F:\\FHMTailorManager\\FHMTailorDB_log.ldf\" failed with the operating system error 2(The system cannot find the file specified.).</p>\n  \n  <p>File 'FHMTailorDB_log' cannot be restored to 'F:\\FHMTailorManager\\FHMTailorDB_log.ldf'. Use WITH MOVE to identify a valid location for the file.\n  Problems were identified while planning for the RESTORE statement. Previous messages provide details.</p>\n  \n  <p>RESTORE DATABASE is terminating abnormally.</p>\n  \n  <p>User does not have permission to alter database 'databasename', the database does not exist, or the database is not in a state that allows access checks.</p>\n  \n  <p>ALTER DATABASE statement failed.</p>\n  \n  <p>Changed database context to 'master'.'</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "google-calendar-api"], "answers": [{"tags": [], "owner": {"reputation": 19106, "user_id": 11599789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1l1AT.jpg?s=128&g=1", "display_name": "ziganotschka", "link": "https://stackoverflow.com/users/11599789/ziganotschka"}, "is_accepted": false, "score": 1, "last_activity_date": 1570446956, "creation_date": 1570446956, "answer_id": 58268481, "question_id": 58205743, "link": "https://stackoverflow.com/questions/58205743/google-calendar-api-403-calendar-usage-limits-exceeded-using-service-account/58268481#58268481", "title": "Google Calendar API: 403 Calendar Usage Limits Exceeded Using Service Account", "body": "<h2>This could be a bug</h2>\n\n<p>Currently, many people are experiencing a similar issue and there is already a <a href=\"https://issuetracker.google.com/141704931\" rel=\"nofollow noreferrer\">filed bug report for this issue</a> on Public Issue tracker.</p>\n\n<p>There are many <a href=\"https://support.google.com/a/answer/2905486?hl=en\" rel=\"nofollow noreferrer\">possible reasons</a> for <code>Calendar usage limits exceeded</code>, but if you are sure that you are not exceeding any of them, it is possible that the existing bug is the reason for your issue. In this case, I suggest you to give a \"star\" to the bug report to increase its visibility and hope that it will be fixed soon.</p>\n"}], "owner": {"reputation": 11, "user_id": 12154842, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_XZdXV7Flo4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcmmwbG94FBz20lk7te_G1dj-Ss1A/photo.jpg?sz=128", "display_name": "Noe Balli", "link": "https://stackoverflow.com/users/12154842/noe-balli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1578405754, "creation_date": 1570034270, "question_id": 58205743, "link": "https://stackoverflow.com/questions/58205743/google-calendar-api-403-calendar-usage-limits-exceeded-using-service-account", "title": "Google Calendar API: 403 Calendar Usage Limits Exceeded Using Service Account", "body": "<p>The entire Google facing side of the application is written in .NET. </p>\n\n<p>I am trying to use a service account created by an admin account to create events on a resource. I am able to create events and specify any parameter except for attendees.</p>\n\n<p>A couple notes:</p>\n\n<ul>\n<li>We have a g suite license and are well within our quota.</li>\n<li>The service account has write access to the calendar.</li>\n<li>I have tried only adding attendees within my own domain and this does not fix the problem.</li>\n<li>I have tried not sending email notifications and get the same response.</li>\n<li>All events are being added to the same calendar.</li>\n<li>Requests with no attendees work completely fine.</li>\n<li>I've seen this page: <a href=\"https://support.google.com/a/answer/2905486?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/a/answer/2905486?hl=en</a> and assumed that I just needed to let my requests refresh. However, after waiting out the weekend I came back and still got the error message.</li>\n<li>When the message persisted I created a new project in the google developer console with a new service account. This project was also made using a different email (this email belonged to an admin) under the same domain. The first request on the project resulted in the same error. \n\n<ul>\n<li>The original project made ~500 requests over the course of 3 days during testing. Most of these requests were made in a javascript application. I was able to add attendees in these events. I eventually switched the requests to the backend with a service account and have yet to be able to add attendees since then.</li>\n</ul></li>\n</ul>\n\n<p>This is the code I am using to generate the Event. Get Attendees just returns a list of EventAttendees for each email in a list.</p>\n\n<pre><code>var attendees = GetAttendees(request.Emails);\n\nvar googleEvent = new Event()\n{\n    Summary = request.Title,\n    Location = request.Location,\n    Description = request.Description,\n    Start = new EventDateTime()\n    {\n        DateTime = request.MeetingDate,\n        TimeZone = \"America/Chicago\"\n    },\n    End = new EventDateTime()\n    {\n        DateTime = request.EndTime,\n        TimeZone = \"America/Chicago\"\n    },\n    Attendees = attendees\n};\n</code></pre>\n\n<p>Executing any request with attendees results in the following response:</p>\n\n<pre><code>{\n  \"error\": \"Google.Apis.Requests.RequestError\\r\\nCalendar usage limits exceeded. [403]\\r\\nErrors [\\r\\n\\tMessage[Calendar usage limits exceeded.] Location[ - ] Reason[quotaExceeded] Domain[usageLimits]\\r\\n]\\r\\n\",\n  \"exception\": {\n    \"ServiceName\": \"calendar\",\n    \"Error\": {\n      \"Errors\": [\n        {\n          \"Domain\": \"usageLimits\",\n          \"Reason\": \"quotaExceeded\",\n          \"Message\": \"Calendar usage limits exceeded.\",\n          \"LocationType\": null,\n          \"Location\": null\n        }\n      ],\n      \"Code\": 403,\n      \"Message\": \"Calendar usage limits exceeded.\"\n    },\n    \"HttpStatusCode\": 403,\n    \"Message\": \"Google.Apis.Requests.RequestError\\r\\nCalendar usage limits exceeded. [403]\\r\\nErrors [\\r\\n\\tMessage[Calendar usage limits exceeded.] Location[ - ] Reason[quotaExceeded] Domain[usageLimits]\\r\\n]\\r\\n\",\n    \"Data\": {},\n    \"InnerException\": null,\n    \"StackTrace\": \" ...\"\n  },\n  \"type\": \"Google.GoogleApiException\"\n}\n</code></pre>\n"}, {"tags": ["c#", "dynamics-gp"], "comments": [{"owner": {"reputation": 4454, "user_id": 1426106, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/67b5bab68445cf71df9b77cef2fc3ec8?s=128&d=identicon&r=PG", "display_name": "ilansch", "link": "https://stackoverflow.com/users/1426106/ilansch"}, "edited": false, "score": 0, "creation_date": 1570033701, "post_id": 58205583, "comment_id": 102789334, "body": "Your connection string is invalid, remove &quot; &quot;from RST"}, {"owner": {"reputation": 2756, "user_id": 1246356, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7d476d83649961e573ff2000383d8f9?s=128&d=identicon&r=PG", "display_name": "nairware", "link": "https://stackoverflow.com/users/1246356/nairware"}, "reply_to_user": {"reputation": 4454, "user_id": 1426106, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/67b5bab68445cf71df9b77cef2fc3ec8?s=128&d=identicon&r=PG", "display_name": "ilansch", "link": "https://stackoverflow.com/users/1426106/ilansch"}, "edited": false, "score": 0, "creation_date": 1570034953, "post_id": 58205583, "comment_id": 102789917, "body": "I updated the code regarding the connection string for better clarity.  However, it was already working before, and it is working now.  I have tested by inputting valid and invalid database names.  I have tested the <code>GPConnection</code> by inputting valid and invalid keys and credentials.  I can confirm that the <code>SqlConnection</code> and the <code>GPConnection</code> are both working."}, {"owner": {"reputation": 4454, "user_id": 1426106, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/67b5bab68445cf71df9b77cef2fc3ec8?s=128&d=identicon&r=PG", "display_name": "ilansch", "link": "https://stackoverflow.com/users/1426106/ilansch"}, "edited": false, "score": 0, "creation_date": 1570075959, "post_id": 58205583, "comment_id": 102801343, "body": "What is line 11 at C:\\Users\\administrator.ROCKSOLID\\source\\repos\\gp_test\\gp_tes&zwnj;&#8203;t\\Program.cs:line 11. You recieve null, is it a call to their api? All your params are correct?"}, {"owner": {"reputation": 2756, "user_id": 1246356, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7d476d83649961e573ff2000383d8f9?s=128&d=identicon&r=PG", "display_name": "nairware", "link": "https://stackoverflow.com/users/1246356/nairware"}, "reply_to_user": {"reputation": 4454, "user_id": 1426106, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/67b5bab68445cf71df9b77cef2fc3ec8?s=128&d=identicon&r=PG", "display_name": "ilansch", "link": "https://stackoverflow.com/users/1426106/ilansch"}, "edited": false, "score": 0, "creation_date": 1570115941, "post_id": 58205583, "comment_id": 102819926, "body": "@ilansch I revised and provided the complete C# code.  The exception being thrown is on line 14, which is the <code>Invoke()</code> call."}, {"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1571666137, "post_id": 58205583, "comment_id": 103306255, "body": "I don&#39;t think your assertion about dex being the only way to interact with passwords. Maybe try <a href=\"https://www.interdynartis.com/blog/the-fastest-way-to-reset-all-dynamics-gp-user-passwords\" rel=\"nofollow noreferrer\">this post</a>"}, {"owner": {"reputation": 2756, "user_id": 1246356, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7d476d83649961e573ff2000383d8f9?s=128&d=identicon&r=PG", "display_name": "nairware", "link": "https://stackoverflow.com/users/1246356/nairware"}, "reply_to_user": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1571674946, "post_id": 58205583, "comment_id": 103310947, "body": "@JacobH Then prove me wrong.  The link you provided is a Great Plains macro solution, which is not a solution to the problem as stated."}, {"owner": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1571679233, "post_id": 58205583, "comment_id": 103312909, "body": "I will admit I definitely skimmed over the part about not using a GP Macro. Have you tried forcibly changing them in SQL? I don&#39;t have a test system in front of me, unfortunately."}, {"owner": {"reputation": 2756, "user_id": 1246356, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7d476d83649961e573ff2000383d8f9?s=128&d=identicon&r=PG", "display_name": "nairware", "link": "https://stackoverflow.com/users/1246356/nairware"}, "reply_to_user": {"reputation": 2334, "user_id": 7948962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b64557f8a617effccaf4426f16e9035?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob H", "link": "https://stackoverflow.com/users/7948962/jacob-h"}, "edited": false, "score": 0, "creation_date": 1571755911, "post_id": 58205583, "comment_id": 103342064, "body": "@JacobH Won&#39;t work.  See the second sentence of the link you provided: <i>&quot;However, when GP creates the matching login on your SQL server, it actually hashes the password using the server name in GP\u2019s ODBC connection.&quot;</i>"}], "owner": {"reputation": 2756, "user_id": 1246356, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d7d476d83649961e573ff2000383d8f9?s=128&d=identicon&r=PG", "display_name": "nairware", "link": "https://stackoverflow.com/users/1246356/nairware"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570116106, "creation_date": 1570033600, "last_edit_date": 1570116106, "question_id": 58205583, "link": "https://stackoverflow.com/questions/58205583/how-to-execute-a-dexterity-procedure-programmatically", "title": "How to Execute a Dexterity Procedure Programmatically", "body": "<p><strong>How can I execute a Dexterity procedure programmatically?</strong></p>\n\n<p><strong>Goal:</strong></p>\n\n<p>I want to reset a user password within Great Plains 2018 programmatically.  For our purposes, programmatically does NOT refer to the following:</p>\n\n<ul>\n<li>Clicking buttons in a user interface manually, particularly after\nlaunching Dynamics.exe</li>\n<li>Running a Great Plains 2018 macro</li>\n</ul>\n\n<p><strong>Background:</strong></p>\n\n<ul>\n<li>The only possible supported solution for what I am trying to achieve I believe must rely on <a href=\"https://en.wikipedia.org/wiki/Dexterity_programming_language\" rel=\"nofollow noreferrer\">Dexterity</a>.  I have no idea how to execute a Dexterity procedure programmatically, so this might be impossible.</li>\n<li>I have a Dexterity script (Dynamics procedure) defined which is very simple\u2014it resets a GP user password via <code>Login_AlterLogin()</code>.  It has no parameters and is based on the examples provided in <code>Dex.chm</code> help file.</li>\n<li><p>To deploy and use this Dexterity script I have done the following:</p>\n\n<ol>\n<li>Created a dictionary (<code>dev.dic</code>)</li>\n<li>Created and compiled the Dexterity script within my editable dictionary (<code>dev.dic</code>)</li>\n<li>Created a CNK file (<code>dev.cnk</code>)</li>\n<li>Launched GP and performed unchunking</li>\n<li>Generated a DLL using <code>Dag.exe</code> (<code>Application.Dev.dll</code>)</li>\n<li>Added the assembly into my Visual Studio project (<code>Application.Dev</code> assembly added to a C# console app)</li>\n<li>Attempted to <code>Invoke()</code> the procedure (<code>Dexterity.Applications.Dev.Procedures.Dev.Invoke();</code>).</li>\n</ol></li>\n<li><p>My C# app attempts to make a <code>GPConnection</code> before invoking the procedure, as shown below. I have validated that my <code>GPConnection</code> is successfully connecting (<code>gpConn.ReturnCode</code> = 1).</p></li>\n</ul>\n\n<p><strong>Code (Dexterity):</strong></p>\n\n<p>This is an example Dexterity script taken from the Dex.chm help file:</p>\n\n<p><em>\"The following example shows how a SQL administrator can set the password for a specific login. In this case, the password for the login \u201cSTEVE\u201d is changed to \u201cGreenRoutine5\u201d.\"</em></p>\n\n<pre><code>local integer status;\nlocal long retcode;\nlocal long login_options;\n\n{Retrieve the existing login options}\nstatus = Login_GetLoginSettings(\"STEVE\", login_options); \n\nstatus = Login_AlterLogin(\"RST\", \"STEVE\", login_options, retcode, \"GreenRoutine5\");\n\ncase status\nin [STATUS_SUCCESS]\n    warning \"Login successfully updated.\";\nin [STATUS_MEMORY_ERROR]\n    warning \"Memory error.\";\nin [STATUS_LOGIN_FAILED]\n    warning \"Login failed.\";\nin [STATUS_TOO_MANY_CONNECTIONS]\n    warning \"Too many connections.\";\nin [STATUS_DATASOURCE_REJ]\n    warning \"Datasource rejection.\";\nin [STATUS_UNABLE_TO_CONNECT]\n    warning \"Unable to connect.\";\nin [STATUS_LOGIN_INVALID]\n    warning \"Login invalid.\";\nin [STATUS_INVALID_PERMISSIONS]\n    warning \"Invalid permissions.\";\nin [STATUS_NOT_LOGGED_IN]\n    warning \"Not logged in.\";\nin [STATUS_LOGIN_PASSWORD_SIMPLE]\n    warning \"Password is too simple.\";\nin [STATUS_LOGIN_PASSWORD_SHORT]\n    warning \"Password is too short.\";\nin [STATUS_LOGIN_PASSWORD_LONG]\n    warning \"Password is too long.\";\nin [STATUS_LOGIN_PASSWORD_HISTORY]\n    warning \"Password violates password history.\";\nend case;\n</code></pre>\n\n<p><strong>Code (C#):</strong></p>\n\n<pre><code>using Microsoft.Dexterity;\nusing System.Data.SqlClient;\n\nclass Program {\n    static void Main(string[] args) {\n        SqlConnection sqlConn = new SqlConnection();\n        sqlConn.ConnectionString = \"Data Source=DEV1;Initial Catalog=RST;\";\n\n        int resp = GPConnection.Startup();\n        GPConnection gpConn = new GPConnection();\n        gpConn.Init(\"CompanyName\", \"1234_special_keys_for_vstools_5678\");\n        gpConn.Connect(sqlConn, \"DEV1\", \"sa\", \"Secret_pwd678\");\n\n        Microsoft.Dexterity.Applications.Dev.Procedures.Dev.Invoke(); //exc thrown here\n        resp = GPConnection.Shutdown();\n    }\n}\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<blockquote>\n  <p>System.TypeInitializationException   HResult=0x80131534   Message=The\n  type initializer for 'Microsoft.Dexterity.Applications.root' threw an\n  exception.   Source=Application.Dev   StackTrace:    at\n  Microsoft.Dexterity.Applications.DevDictionary.DevProcedure.get_WrappedScript()\n  at\n  Microsoft.Dexterity.Applications.DevDictionary.DevProcedure.Invoke()<br>\n  at Program.Main(String[] args) in\n  C:\\Users\\administrator.ROCKSOLID\\source\\repos\\gp_test\\gp_test\\Program.cs:line\n  14</p>\n  \n  <p>Inner Exception 1: NullReferenceException: Object reference not set to\n  an instance of an object.</p>\n  \n  <p>StackTrace    \"   at\n  Microsoft.Dexterity.Bridge.AppDispatchProxy.get_LaunchFileName()\\r\\n<br>\n  at Microsoft.Dexterity.Bridge.DictionaryRoot..ctor(Int32 productId,\n  Boolean isFormsDictionary)\\r\\n   at\n  Microsoft.Dexterity.Applications.root..cctor()\"   string</p>\n</blockquote>\n"}, {"tags": ["c#", "image-processing"], "answers": [{"tags": [], "owner": {"reputation": 7694, "user_id": 754060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97264d5415228e3e7b2b3bc9cef85dcc?s=128&d=identicon&r=PG", "display_name": "nguyenq", "link": "https://stackoverflow.com/users/754060/nguyenq"}, "is_accepted": false, "score": 0, "last_activity_date": 1570059157, "last_edit_date": 1570059157, "creation_date": 1570058609, "answer_id": 58210515, "question_id": 58205513, "link": "https://stackoverflow.com/questions/58205513/about-analysing-the-photo-with-tesseract/58210515#58210515", "title": "About analysing the photo with tesseract", "body": "<p>Try PSM 10: Treat the image as a single character.</p>\n\n<p><a href=\"https://github.com/tesseract-ocr/tesseract/blob/master/doc/tesseract.1.asc\" rel=\"nofollow noreferrer\">https://github.com/tesseract-ocr/tesseract/blob/master/doc/tesseract.1.asc</a></p>\n"}], "owner": {"reputation": 11, "user_id": 12154910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de07a750943478856c341d3f08fe7904?s=128&d=identicon&r=PG&f=1", "display_name": "alps", "link": "https://stackoverflow.com/users/12154910/alps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570096071, "creation_date": 1570033304, "last_edit_date": 1570096071, "question_id": 58205513, "link": "https://stackoverflow.com/questions/58205513/about-analysing-the-photo-with-tesseract", "title": "About analysing the photo with tesseract", "body": "<p>I wrote this code for analyzing the numbers included in picture. It does not give any error while starting but it can not read the numbers. When I start program, it shows an empty <code>MessageBox</code>.</p>\n\n<p>I want to read pictures like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bT3ID.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bT3ID.png\" alt=\"number image\"></a></p>\n\n<p>The code:</p>\n\n<pre><code>private string FotoAnaliz()\n{\n    FileStream fs = new FileStream(\"D:\\\\program_goruntusu.jpg\", FileMode.OpenOrCreate);\n    //string fotopath = @\"D:\\\\program_goruntusu.jpg\";\n    Bitmap images = new Bitmap(fs);\n    using (var engine = new TesseractEngine(@\"./tessdata\", \"eng\"))\n    {\n        engine.SetVariable(\"tessedit_char_whitelist\", \"0123456789\");\n        // have to load Pix via a bitmap since Pix doesn't support loading a stream.\n        using (var image = new Bitmap(images))\n        {\n            using (var pix = PixConverter.ToPix(image))\n            {\n                using (var page = engine.Process(pix))\n                {\n                    say\u0131 = page.GetText();\n                    MessageBox.Show(say\u0131);\n                    fs.Close();\n                }\n            }\n        }\n    }\n    return say\u0131;\n}\n</code></pre>\n"}, {"tags": ["c#", "oledb"], "comments": [{"owner": {"reputation": 828, "user_id": 7667946, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f9fc29466bc93772bc7e90fd2f6d4b1e?s=128&d=identicon&r=PG&f=1", "display_name": "kristech", "link": "https://stackoverflow.com/users/7667946/kristech"}, "edited": false, "score": 0, "creation_date": 1570033266, "post_id": 58205409, "comment_id": 102789105, "body": "Are you concerned about the blank rows? It seems that you inserted blank rows at some point. If you highlight all the blank rows, delete and try to insert again, i would think that would fix the issue."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1570034288, "post_id": 58205409, "comment_id": 102789618, "body": "You must of deleted rows for this to occur.  The insert is writing to the end of the &quot;Used Area&quot; in Excel. When you delete a row of excel the used area does not shrink."}, {"owner": {"reputation": 6114, "user_id": 3070060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a936bdd7a67a345d312281305d5adde?s=128&d=identicon&r=PG&f=1", "display_name": "PaulF", "link": "https://stackoverflow.com/users/3070060/paulf"}, "edited": false, "score": 0, "creation_date": 1570034585, "post_id": 58205409, "comment_id": 102789743, "body": "Similar to <a href=\"https://stackoverflow.com/questions/7023140/how-to-remove-empty-rows-from-datatable\">How to remove empty rows from DataTable</a>"}], "owner": {"reputation": 45, "user_id": 10318887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d20ce030aa00f8cd7db1d008de7b1ff?s=128&d=identicon&r=PG", "display_name": "caneraltuner", "link": "https://stackoverflow.com/users/10318887/caneraltuner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570043740, "creation_date": 1570032908, "last_edit_date": 1570043740, "question_id": 58205409, "link": "https://stackoverflow.com/questions/58205409/i-cant-insert-my-data-where-i-want-in-excel", "title": "I can&#39;t insert my data where I want in Excel", "body": "<p>I can insert my data to Excel well, but I have a problem.</p>\n\n<p>Here is a <a href=\"http://resimag.com/p1/e9c056dbd58.png\" rel=\"nofollow noreferrer\">screenshot to illustrate</a>.</p>\n\n<p>I want to see my inserted data just below the last inserted data, but it shows up further down, in the screenshot as shown with a black circle.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>string connectionString = \"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=\" + excelfilepath + \";Extended Properties=\\\"Excel 12.0;ReadOnly=False;HDR=Yes;\\\"\";\n\nOleDbConnection connection = new OleDbConnection(connectionString);\nconnection.Open();\n\nOleDbCommand command = new OleDbCommand(\"insert into [EVDS$] ([Tarih], [USD], [EUR]) values('\" + DateTime.Now.ToShortDateString() + \"','\" + textBox3.Text + \"','\" + textBox4.Text + \"')\", connection);\n\ncommand.ExecuteNonQuery();\nconnection.Close();\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "model-view-controller", "model", "model-view"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1570033159, "post_id": 58205405, "comment_id": 102789039, "body": "I see no code, no picture, and no JSON. Please post code and data as text, <a href=\"https://idownvotedbecau.se/imageofcode\" rel=\"nofollow noreferrer\">not as pictures</a>."}, {"owner": {"reputation": 11, "user_id": 12154556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bfc84ea7de6f1dbe97610b0b2b2156?s=128&d=identicon&r=PG&f=1", "display_name": "Josh G", "link": "https://stackoverflow.com/users/12154556/josh-g"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1570034363, "post_id": 58205405, "comment_id": 102789656, "body": "Sorry this is my first time posting.  Thank you for the quick response.  I added some code and pictures."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12154556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bfc84ea7de6f1dbe97610b0b2b2156?s=128&d=identicon&r=PG&f=1", "display_name": "Josh G", "link": "https://stackoverflow.com/users/12154556/josh-g"}, "edited": false, "score": 0, "creation_date": 1570109206, "post_id": 58215789, "comment_id": 102816145, "body": "I made the changes you suggested (see in original post).  Now I am getting the data back from the first level of the Json.  I am getting the values from pick_ticket_number and success in a grid.  How can I get to the next level.  When I tried changing the model to RateResponse instead of RootObject I get the column headings I am looking for (Scac, Service, Service_Human, Estimated_Ship_days, etc)  but they are all blank."}, {"owner": {"reputation": 1, "user_id": 12157491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f629d445a58bd6679913c45ceecfcd03?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Galiya", "link": "https://stackoverflow.com/users/12157491/tushar-galiya"}, "reply_to_user": {"reputation": 11, "user_id": 12154556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bfc84ea7de6f1dbe97610b0b2b2156?s=128&d=identicon&r=PG&f=1", "display_name": "Josh G", "link": "https://stackoverflow.com/users/12154556/josh-g"}, "edited": false, "score": 0, "creation_date": 1570165588, "post_id": 58215789, "comment_id": 102834660, "body": "You can get expected values with :  @foreach (var item in Model) { \tvar x = item.rate_response; \tforeach(var item2 in x) \t{  \t\tstring scac = item2.scac; \t\tstring service_human = item2.service_human; \t} }"}], "tags": [], "owner": {"reputation": 1, "user_id": 12157491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f629d445a58bd6679913c45ceecfcd03?s=128&d=identicon&r=PG&f=1", "display_name": "Tushar Galiya", "link": "https://stackoverflow.com/users/12157491/tushar-galiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1570093608, "creation_date": 1570093608, "answer_id": 58215789, "question_id": 58205405, "link": "https://stackoverflow.com/questions/58205405/issues-showing-deserialized-json-in-gridview/58215789#58215789", "title": "Issues showing Deserialized Json in Gridview", "body": "<p>Please check below code :</p>\n\n<pre><code>public class RateResponse\n{\n    public string scac { get; set; }\n    public string service { get; set; }\n    public string service_human { get; set; }\n    public string carrier { get; set; }\n    public string carrier_human { get; set; }\n    public int estimated_transit_days { get; set; }\n    public string cost { get; set; }\n}\n\npublic class RateResponseError\n{\n    public string carrier { get; set; }\n    public string message { get; set; }\n}\n\npublic class RootObject\n{\n    public bool success { get; set; }\n    public List&lt;RateResponse&gt; rate_response { get; set; }\n    public List&lt;RateResponseError&gt; rate_response_errors { get; set; }\n    public string pick_ticket_number { get; set; }\n    public string bol_number { get; set; }\n}\n</code></pre>\n\n<p>Deserialize Object :</p>\n\n<pre><code>var x = JsonConvert.DeserializeObject&lt;RootObject&gt;(jsonString);\n</code></pre>\n\n<p>JsonString :</p>\n\n<pre><code>[{\n\"success\": true,\n\"rate_response\": [\n{\n\"scac\": \"DAFG\",\n\"service\": \"dayton_ltl\",\n\"service_human\": \"Dayton Freight\",\n\"carrier\": \"dayton\",\n\"carrier_human\": \"Dayton\",\n\"estimated_transit_days\": 1,\n\"cost\": \"$145.53\"\n},\n{\n\"service\": \"FEDEX_EXPRESS_SAVER\",\n\"service_human\": \"FedEx Express Saver\",\n\"carrier\": \"fedex\",\n\"carrier_human\": \"Fedex Parcel\",\n\"estimated_transit_days\": 3,\n\"cost\": \"$179.78\"\n}],\n\"rate_response_errors\": [\n{\n\"carrier\": \"BCP Transportation\",\n\"message\": \"No Mileage Detected\"\n}\n],\n\"pick_ticket_number\": \"99999\",\n\"bol_number\": \"4861521889418148\"\n}\n]\n</code></pre>\n\n<p>.CSHTML page</p>\n\n<pre><code>You can use foreach loop for create table as per your requirement\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12154556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1bfc84ea7de6f1dbe97610b0b2b2156?s=128&d=identicon&r=PG&f=1", "display_name": "Josh G", "link": "https://stackoverflow.com/users/12154556/josh-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570108985, "creation_date": 1570032895, "last_edit_date": 1570108985, "question_id": 58205405, "link": "https://stackoverflow.com/questions/58205405/issues-showing-deserialized-json-in-gridview", "title": "Issues showing Deserialized Json in Gridview", "body": "<p>This is my first time posting here and I have tried searching, but I can't get any of the suggested resolutions to work for me.  </p>\n\n<p>I am trying to take the Json response from an api call and display it in a web grid view.  Currently my grid only displays the first part of the json.  See picture.  I am not sure if its because my view isn't correct or if it is because of my deserialization.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yZcWN.jpg\" rel=\"nofollow noreferrer\">New Response</a></p>\n\n<p>I want it to display each rate from the carrier in the response json below:</p>\n\n<p>[<code>\n   {\n</code>\"success\": true,<code>\n</code>\"rate_response\": [<code>\n</code>{<code>\n</code>\"scac\": \"DAFG\",<code>\n</code>\"service\": \"dayton_ltl\",<code>\n</code>\"service_human\": \"Dayton Freight\",<code>\n</code>\"carrier\": \"dayton\",<code>\n</code>\"carrier_human\": \"Dayton\",<code>\n</code>\"estimated_transit_days\": 1,<code>\n</code>\"cost\": \"$145.53\"<code>\n</code>},<code>\n</code>{<code>\n</code>\"service\": \"FEDEX_EXPRESS_SAVER\",<code>\n</code>\"service_human\": \"FedEx Express Saver\",<code>\n</code>\"carrier\": \"fedex\",<code>\n</code>\"carrier_human\": \"Fedex Parcel\",<code>\n</code>\"estimated_transit_days\": 3,<code>\n</code>\"cost\": \"$179.78\"<code>\n</code>},<code>\n</code>],<code>\n</code>\"rate_response_errors\": [<code>\n</code>{<code>\n</code>\"carrier\": \"BCP Transportation\",<code>\n</code>\"message\": \"No Mileage Detected\"<code>\n</code>}<code>\n</code>],<code>\n</code>\"pick_ticket_number\": \"99999\",<code>\n</code>\"bol_number\": \"4861521889418148\"<code>\n</code>}<code>\n</code>]`</p>\n\n<p>Current Controller</p>\n\n<pre><code>var result = JsonConvert.DeserializeObject&lt;List&lt;RootObject&gt;&gt;(jsonString);\nreturn View(\"GridView\", result);\n</code></pre>\n\n<p>ShipResponse class:</p>\n\n<pre><code>public class RateResponse\n{\n\n    [JsonProperty(\"scac\")]\n    public string scac { get; set; }\n\n    [JsonProperty(\"service\")]\n    public string service { get; set; }\n\n    [JsonProperty(\"service_human\")]\n    public string service_human { get; set; }\n\n    [JsonProperty(\"carrier\")]\n    public string carrier { get; set; }\n\n    [JsonProperty(\"carrier_human\")]\n    public string carrier_human { get; set; }\n\n    [JsonProperty(\"estimated_transit_days\")]\n    public int estimated_transit_days { get; set; }\n\n    [JsonProperty(\"cost\")]\n    public string cost { get; set; }\n}\n\npublic class RateResponseError\n{\n\n    [JsonProperty(\"carrier\")]\n    public string carrier { get; set; }\n\n    [JsonProperty(\"message\")]\n    public string message { get; set; }\n}\n\npublic class RootObject\n{\n\n    [JsonProperty(\"success\")]\n    public bool success { get; set; }\n\n    [JsonProperty(\"rate_response\")]\n    public IList&lt;RateResponse&gt; rate_response { get; set; }\n\n    [JsonProperty(\"rate_response_errors\")]\n    public IList&lt;RateResponseError&gt; rate_response_errors { get; set; }\n\n    [JsonProperty(\"pick_ticket_number\")]\n    public string pick_ticket_number { get; set; }\n}\n\n\n}\n</code></pre>\n\n<p>GridView.cshtml:</p>\n\n<pre><code>@model List&lt;P21.Rules.Visual.Areas.SwanleapQuote.Models.RootObject&gt;\n     @{\n       ViewBag.Title = \"GridView\";\n       Layout = \"~/Views/Shared/_VisualRuleLayout.cshtml\";\n}\n&lt;div&gt;\n\n   &lt;hr /&gt;\n&lt;/div&gt;\n\n @foreach (var item in Model)\n{ \n&lt;div class=\"form-horizontal\"&gt;\n    &lt;form&gt;\n        &lt;h3&gt;Rates&lt;/h3&gt;\n        @{\n            var grid = new WebGrid(Model, canPage: true, canSort: true, rowsPerPage: 2);\n            grid.Pager(WebGridPagerModes.NextPrevious);\n\n         }\n\n        &lt;div&gt;\n            @grid.GetHtml(htmlAttributes: new\n {\n   id = \"grid\",\n   @class = \"table table-bordered table-striped table-condensed\"\n },\n        emptyRowCellValue: \"No Records Found\",\n        headerStyle: \"grid-header\")\n        &lt;/div&gt;\n\n        &lt;button class=\"btn btn-warning pull-right\" type=\"submit\"&gt;Return   &lt;i class=\"glyphicon glyphicon-arrow-right\"&gt;&lt;/i&gt;&lt;/button&gt;\n    &lt;/form&gt;\n\n    &lt;/div&gt;\n</code></pre>\n\n<p>My current result only shows:</p>\n\n<blockquote>\n  <p>Success  ,      rate_response  ,     rate_response_errors   ,   pick_ticket_number</p>\n</blockquote>\n\n<p>I would like it to show me:</p>\n\n<blockquote>\n  <p>service_human,   estimated_transit_days,  Cost</p>\n</blockquote>\n"}, {"tags": ["c#", ".net", "visual-studio", "winforms", "task-parallel-library"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1570033574, "post_id": 58205361, "comment_id": 102789268, "body": "That&#39;s normal, blocking an STA thread is illegal.  The CLR has a workaround for it and allows Windows messages to be dispatched anyway.  More about that in <a href=\"https://stackoverflow.com/questions/4540244/how-is-this-possible-onpaint-processed-while-in-waitone\">this Q+A</a>."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1570039147, "post_id": 58205361, "comment_id": 102791812, "body": "As Hans notes, the Windows threading model includes a facility for dispatching certain kinds of messages under certain kinds of waiting scenarios. The Q&amp;A he refers to answers your question exactly, as it&#39;s the same basic issue. Yet one more reason to not try to access <code>Result</code> on an uncompleted <code>Task</code> in the UI thread (frankly, re-entrancy is the least of your worries...deadlock is the much more common outcome)"}, {"owner": {"reputation": 3192, "user_id": 4247453, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7a1c7a7acd5e7be626b72746196af107?s=128&d=identicon&r=PG&f=1", "display_name": "relatively_random", "link": "https://stackoverflow.com/users/4247453/relatively-random"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1570048742, "post_id": 58205361, "comment_id": 102795905, "body": "@PeterDuniho The class I used can&#39;t deadlock unless used in a really abusive way (by writing blocking query expressions). It&#39;s an non-ideal solution, but it&#39;s at least a solution that doesn&#39;t hold surprises. This, however, is a whole different can of worms that goes against both the principle of least astonishment and the fail-fast principle. It breaks the most basic promise a blocking call can make: that the thread will be blocked. And it&#39;s not a widely known issue, AFAIK. Reading on concurrency in C#, I&#39;ve never even seen this mentioned as a side-note."}], "owner": {"reputation": 3192, "user_id": 4247453, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7a1c7a7acd5e7be626b72746196af107?s=128&d=identicon&r=PG&f=1", "display_name": "relatively_random", "link": "https://stackoverflow.com/users/4247453/relatively-random"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1570039056, "answer_count": 0, "score": 0, "last_activity_date": 1570032698, "creation_date": 1570032698, "question_id": 58205361, "link": "https://stackoverflow.com/questions/58205361/how-can-a-ui-callback-possibly-be-executed-from-within-a-task-result-call", "closed_reason": "Duplicate", "title": "How can a UI callback possibly be executed from within a Task.Result call?", "body": "<p>While debugging with Visual Studio 2017, I happened to take a look at the full stack trace and noticed something very strange:</p>\n\n<p><em>A callback from Windows Forms seems to have been executed on top of a <code>Task.Result</code> call.</em></p>\n\n<p>How is this possible? <code>Task.Result</code> should synchronously wait and not allow anything else to execute on it, right? Did I run into a bug or am I making a wrong assumption about something?</p>\n\n<p>At first I thought it was a glitch with the stack trace, but I added some code to actually check and it does happen:</p>\n\n<pre><code>// Field declared in class:\n[ThreadStatic]\nprivate static bool waitingForResult;\n\n\nif (waitingForResult)\n    throw new InvalidOperationException(\"I don't even???\"); // This actually throws!\nwaitingForResult = true;\ntry\n{\n    return task.Result;\n}\nfinally\n{\n    waitingForResult = false;\n}\n</code></pre>\n\n<p>The issue only seems to happen if I put a breakpoint a bit before the <code>.Result</code>. And I'm using .Net 4.7.1.</p>\n\n<p>Here's the original stack trace:</p>\n\n<pre><code>Here we hit the surprising breakpoint (or an exception or whatever).\n\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.LoadBlock(int blockIndex) Line 285 C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.GetBlock(int blockIndex) Line 228  C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.GetItem(int index) Line 212    C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.this[int].get(int index) Line 37   C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.System.Collections.IList.get_Item(int index) Line 328  C#\nSystem.Windows.Forms.dll!System.Windows.Forms.CurrencyManager.this[int].get(int index)  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.DataGridViewDataConnection.GetError(int rowIndex)    Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridViewRow.GetErrorText(int rowIndex)    Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridViewRow.Paint(System.Drawing.Graphics graphics, System.Drawing.Rectangle clipBounds, System.Drawing.Rectangle rowBounds, int rowIndex, System.Windows.Forms.DataGridViewElementStates rowState, bool isFirstDisplayedRow, bool isLastVisibleRow)  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.PaintRows(System.Drawing.Graphics g, System.Drawing.Rectangle boundingRect, System.Drawing.Rectangle clipRect, bool singleHorizontalBorderAdded) Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.PaintGrid(System.Drawing.Graphics g, System.Drawing.Rectangle gridBounds, System.Drawing.Rectangle clipRect, bool singleVerticalBorderAdded, bool singleHorizontalBorderAdded)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.OnPaint(System.Windows.Forms.PaintEventArgs e)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.PaintWithErrorHandling(System.Windows.Forms.PaintEventArgs e, short layer)    Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.WmPaint(ref System.Windows.Forms.Message m)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.WndProc(ref System.Windows.Forms.Message m)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.NativeWindow.Callback(System.IntPtr hWnd, int msg, System.IntPtr wparam, System.IntPtr lparam)    Unknown\n[Native to Managed Transition]  \n[Managed to Native Transition]  \nmscorlib.dll!System.Threading.ManualResetEventSlim.Wait(int millisecondsTimeout, System.Threading.CancellationToken cancellationToken)  Unknown\nmscorlib.dll!System.Threading.Tasks.Task.SpinThenBlockingWait(int millisecondsTimeout, System.Threading.CancellationToken cancellationToken)    Unknown\nmscorlib.dll!System.Threading.Tasks.Task.InternalWait(int millisecondsTimeout, System.Threading.CancellationToken cancellationToken)    Unknown\nmscorlib.dll!System.Threading.Tasks.Task&lt;int&gt;.GetResultCore(bool waitCompletionNotification)    Unknown\n\nHere Task.Result is called.\n\nSomeLibrary.dll!SomeNamespace.DatabaseSchedulerBindingList&lt;SomeNamespace.DatabaseContext, SomeNamespace.Result&gt;.RunQuery&lt;int&gt;(SomeNamespace.Result lastKnownItem, bool reverse, System.Func&lt;System.Linq.IQueryable&lt;SomeNamespace.Result&gt;, int&gt; queryTransformation) Line 64 C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.RunQuery(SomeNamespace.Result lastKnownItem, bool reverse, System.Action&lt;System.Linq.IQueryable&lt;SomeNamespace.Result&gt;&gt; queryAction) Line 186   C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.LoadBlock(int blockIndex) Line 289 C#\n\nHere the first breakpoint needs to be hit.\n\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.GetBlock(int blockIndex) Line 228  C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.GetItem(int index) Line 212    C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.this[int].get(int index) Line 37   C#\nSomeLibrary.dll!SomeNamespace.QueryBindingList&lt;SomeNamespace.Result&gt;.System.Collections.IList.get_Item(int index) Line 328  C#\nSystem.Windows.Forms.dll!System.Windows.Forms.CurrencyManager.this[int].get(int index)  Unknown\nSomeApp.exe!SomeNamespace.ResultsView.GetImageToDisplay() Line 363  C#\nSomeApp.exe!SomeNamespace.ResultsView.ResultDataGridView_SelectionChanged(object sender, System.EventArgs e) Line 353   C#\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.OnSelectionChanged(System.EventArgs e)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.FlushSelectionChanged()  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.ClearSelection() Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.CurrentCell.set(System.Windows.Forms.DataGridViewCell value) Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.OnClearingRows() Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridViewRowCollection.ClearInternal(bool recreateNewRow)  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.RefreshColumnsAndRows()  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.DataGridViewDataConnection.ProcessListChanged(System.ComponentModel.ListChangedEventArgs e)  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.DataGridView.DataGridViewDataConnection.currencyManager_ListChanged(object sender, System.ComponentModel.ListChangedEventArgs e)  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.CurrencyManager.OnListChanged(System.ComponentModel.ListChangedEventArgs e)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.CurrencyManager.List_ListChanged(object sender, System.ComponentModel.ListChangedEventArgs e) Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.BindingSource.OnListChanged(System.ComponentModel.ListChangedEventArgs e) Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.BindingSource.ResetBindings(bool metadataChanged) Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.BindingSource.SetList(System.Collections.IList list, bool metaDataChanged, bool applySortAndFilter)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.BindingSource.DataSource.set(object value)    Unknown\nSomeApp.exe!SomeNamespace.ResultsView.ResultCollection.set(System.Collections.Generic.IList&lt;SomeNamespace.Result&gt; value) Line 130   C#\nSomeApp.exe!SomeNamespace.ResultsView.RefreshResults() Line 331 C#\nSomeApp.exe!SomeNamespace.ResultsView.RefreshButton_Click(object sender, System.EventArgs e) Line 315   C#\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.OnClick(System.EventArgs e)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Button.OnClick(System.EventArgs e)    Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Button.OnMouseUp(System.Windows.Forms.MouseEventArgs mevent)  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.WmMouseUp(ref System.Windows.Forms.Message m, System.Windows.Forms.MouseButtons button, int clicks)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Control.WndProc(ref System.Windows.Forms.Message m)   Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.ButtonBase.WndProc(ref System.Windows.Forms.Message m)    Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Button.WndProc(ref System.Windows.Forms.Message m)    Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.NativeWindow.Callback(System.IntPtr hWnd, int msg, System.IntPtr wparam, System.IntPtr lparam)    Unknown\n[Native to Managed Transition]  \n[Managed to Native Transition]  \nSystem.Windows.Forms.dll!System.Windows.Forms.Application.ComponentManager.System.Windows.Forms.UnsafeNativeMethods.IMsoComponentManager.FPushMessageLoop(System.IntPtr dwComponentID, int reason, int pvLoopData)  Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Application.ThreadContext.RunMessageLoopInner(int reason, System.Windows.Forms.ApplicationContext context)    Unknown\nSystem.Windows.Forms.dll!System.Windows.Forms.Application.ThreadContext.RunMessageLoop(int reason, System.Windows.Forms.ApplicationContext context) Unknown\nSomeApp.exe!SomeNamespace.Program.Main() Line 50    C#\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 2628, "user_id": 2495728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgl4n.jpg?s=128&g=1", "display_name": "Jonathan Alfaro", "link": "https://stackoverflow.com/users/2495728/jonathan-alfaro"}, "edited": false, "score": 0, "creation_date": 1570044951, "post_id": 58205280, "comment_id": 102794395, "body": "how are you deploying to linux?"}, {"owner": {"reputation": 335, "user_id": 1412514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c68c163d8e01d8a9848a5364f507d?s=128&d=identicon&r=PG", "display_name": "remcolam", "link": "https://stackoverflow.com/users/1412514/remcolam"}, "reply_to_user": {"reputation": 2628, "user_id": 2495728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgl4n.jpg?s=128&g=1", "display_name": "Jonathan Alfaro", "link": "https://stackoverflow.com/users/2495728/jonathan-alfaro"}, "edited": false, "score": 0, "creation_date": 1570047112, "post_id": 58205280, "comment_id": 102795354, "body": "@Darkonekt I&#39;ve updated the original post to include the apache + kestrel configuration. We publish to a local folder. Then we copy to the server from that folder using ftp over ssh."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 1412514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c68c163d8e01d8a9848a5364f507d?s=128&d=identicon&r=PG", "display_name": "remcolam", "link": "https://stackoverflow.com/users/1412514/remcolam"}, "edited": false, "score": 0, "creation_date": 1570079873, "post_id": 58209062, "comment_id": 102802122, "body": "We are building on windows, deploying to linux. After building there are no resx files anymore, there are folder in the deploy folder, named as the cultures, generated by .the .net build process, containing the resource satellite assemblies. Since these are generated by .net itself, I don&#39;t think it&#39;s a casing issue"}, {"owner": {"reputation": 335, "user_id": 1412514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c68c163d8e01d8a9848a5364f507d?s=128&d=identicon&r=PG", "display_name": "remcolam", "link": "https://stackoverflow.com/users/1412514/remcolam"}, "edited": false, "score": 0, "creation_date": 1570082073, "post_id": 58209062, "comment_id": 102802770, "body": "Just in case, I just updated the original post again, adding the contents for the resource folders with their permissions"}], "tags": [], "owner": {"reputation": 1605, "user_id": 1775693, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/BDM85.png?s=128&g=1", "display_name": "xargs", "link": "https://stackoverflow.com/users/1775693/xargs"}, "is_accepted": false, "score": 1, "last_activity_date": 1570048836, "creation_date": 1570048836, "answer_id": 58209062, "question_id": 58205280, "link": "https://stackoverflow.com/questions/58205280/asp-net-core-2-2-project-on-linux-not-finding-satelite-resources/58209062#58209062", "title": "ASP.NET Core 2.2 project on linux not finding satelite resources", "body": "<p>Have a look at the file names of your resource files.</p>\n\n<p>Linux is case sensitive and therefore:\nResource.NL.resx, Resource.DE.resx, Resource.FR.resx are not the same as \nResource.nl.resx, Resource.de.resx, Resource.fr.resx</p>\n\n<p>This could be the problem so please take a look at the files. Go to your folder where you have your resource files and check the exact names. If that is the case you can change this part of the code:</p>\n\n<pre><code>options.AddSupportedUICultures(\"nl\", \"de\", \"fr\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 1412514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c68c163d8e01d8a9848a5364f507d?s=128&d=identicon&r=PG", "display_name": "remcolam", "link": "https://stackoverflow.com/users/1412514/remcolam"}, "is_accepted": true, "score": 2, "last_activity_date": 1570098899, "last_edit_date": 1570098899, "creation_date": 1570097965, "answer_id": 58217056, "question_id": 58205280, "link": "https://stackoverflow.com/questions/58205280/asp-net-core-2-2-project-on-linux-not-finding-satelite-resources/58217056#58217056", "title": "ASP.NET Core 2.2 project on linux not finding satelite resources", "body": "<p>So the issue is that the culture name is nl, so .net looks for a folder called nl.</p>\n\n<p>But the resources were called resource.NL.resx... the compiler doesn't interpret this, but literally takes this part of the resource name and creates the resource folder for it, with the same casing.</p>\n\n<p>So the solution was indeed renaming the files to resource.nl.resx, which results in nl (lowercase) as a folder for the localized resources.</p>\n"}], "owner": {"reputation": 335, "user_id": 1412514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c68c163d8e01d8a9848a5364f507d?s=128&d=identicon&r=PG", "display_name": "remcolam", "link": "https://stackoverflow.com/users/1412514/remcolam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 1, "accepted_answer_id": 58217056, "answer_count": 2, "score": 1, "last_activity_date": 1570098899, "creation_date": 1570032378, "last_edit_date": 1570080293, "question_id": 58205280, "link": "https://stackoverflow.com/questions/58205280/asp-net-core-2-2-project-on-linux-not-finding-satelite-resources", "title": "ASP.NET Core 2.2 project on linux not finding satelite resources", "body": "<p>We've created an ASP.NET Core MVC project. Instead of using the new <code>Microsoft.AspNetCore.Localization</code> structure, we used the familiar old school embedded resources. We created a default <code>.resx</code> (with a designer class behind it), plus localized <code>.resx</code> files. So we have <code>Resource.resx</code> + <code>Resource.Designer.cs</code>, <code>Resource.NL.resx</code>, <code>Resource.DE.resx</code>, <code>Resource.FR.resx</code>, etc etc</p>\n\n<p>Now, during development on Windows, and when hosting in IIS, all is fine. But when we are trying to host on linux (proxying in apache), the resources are not found. Only the default/invariant resource is returned. </p>\n\n<p>Unfortunately, Google didn't give me any solutions:</p>\n\n<p>Just to give some code... our <code>ConfigureServices</code> in startup.cs:</p>\n\n<pre><code>    public void ConfigureServices(IServiceCollection services)\n    {\n        services.Configure&lt;RequestLocalizationOptions&gt;(options =&gt;\n        {\n            options.DefaultRequestCulture = new Microsoft.AspNetCore.Localization.RequestCulture(\"nl\");\n            options.SupportedCultures = System.Globalization.CultureInfo.GetCultures(System.Globalization.CultureTypes.AllCultures);\n            options.AddSupportedUICultures(\"nl\", \"de\", \"fr\");\n        });\n\n        services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_2);\n\n        services.AddHttpContextAccessor();\n    }\n</code></pre>\n\n<p>The Configure:</p>\n\n<pre><code>    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        app.UseForwardedHeaders();\n\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n        else\n        {\n            // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.\n            app.UseHsts();\n        }\n\n        app.UseHttpsRedirection();\n        app.UseStaticFiles();\n        app.UseRequestLocalization();\n        app.UseMiddleware&lt;ViewLocalizationMiddleware&gt;();\n\n        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller=Scan}/{action=Index}/{id?}\");\n        });            \n    }\n</code></pre>\n\n<p>And in case anyone is interested, here is the ViewLocalizationMiddleware:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\n\nnamespace ConsumerWebsite.Business\n{\n    public class ViewLocalizationMiddleware\n    {\n        private readonly Microsoft.AspNetCore.Http.RequestDelegate _next;\n\n        public ViewLocalizationMiddleware(Microsoft.AspNetCore.Http.RequestDelegate next)\n        {\n            _next = next;\n        }\n\n        public async System.Threading.Tasks.Task Invoke(Microsoft.AspNetCore.Http.HttpContext context)\n        {\n            var requestCulture = context.Features.Get&lt;Microsoft.AspNetCore.Localization.IRequestCultureFeature&gt;();\n\n            if (requestCulture != null)\n            {\n                System.Globalization.CultureInfo.CurrentCulture = requestCulture.RequestCulture.Culture;\n                System.Globalization.CultureInfo.CurrentUICulture = requestCulture.RequestCulture.UICulture;\n            }\n\n            await _next.Invoke(context);\n        }\n    }\n}\n</code></pre>\n\n<p>So we copy to the server using ftp over ssh. We've done a <code>chmod -R ugo+rwx</code> on the folder with the files, just to make sure anyone could access everything, but still no luck.</p>\n\n<p>Apache config for the application</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n        ServerName some.domain.com\n        Redirect permanent / https://some.domain.com/\n        RewriteEngine On\n        RewriteCond %{HTTPS} off\n        RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}?%{QUERY_STRING}\n#        Header unset Server\n#        Header add Server \"TLS web server\"\n&lt;/VirtualHost&gt;\n\n&lt;IfModule mod_ssl.c&gt;\n&lt;VirtualHost *:443&gt;\n    ProxyPreserveHost On\n    ProxyPass / http://127.0.0.1:5012/\n    ProxyPassReverse / http://127.0.0.1:5012/\n    ServerName some.domain.com\nInclude /etc/letsencrypt/options-ssl-apache.conf\nSSLCertificateFile /etc/letsencrypt/live/some.domain.com/cert.pem\nSSLCertificateKeyFile /etc/letsencrypt/live/some.domain.com/privkey.pem\nSSLCertificateChainFile /etc/letsencrypt/live/some.domain.com/chain.pem\n&lt;/VirtualHost&gt;\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Kestrel configuration:</p>\n\n<pre><code>[Unit]\nDescription=Our ASP.Core 2.2 application\n\n[Service]\nWorkingDirectory=/home/websitehome/\nExecStart=/usr/bin/dotnet \"/home/websitehome/website.dll\"\nRestart=always\n# Restart service after 10 seconds if dotnet service crashes\nRestartSec=10\nSyslogIdentifier=messages\nUser=apache\nEnvironment=ASPNETCORE_ENVIRONMENT=Acceptance\nEnvironment=ConnectionStrings__Master=SERVER=127.0.0.1;DATABASE=database;UID=uid;PWD=password;SslMode=none;\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n\n<p>More info, here's the resource folder + attributes:</p>\n\n<pre><code>drwxrwxr-x   2 remco    remco       4096 Oct  2 22:14 NL\n</code></pre>\n\n<p>And the contents:</p>\n\n<pre><code>-rw-rw-r-- 1 remco    remco    6144 Oct  2 22:14 Base.resources.dll\n-rw-rw-r-- 1 remco    remco    5120 Oct  2 22:14 Website.resources.dll\n-rw-rw-r-- 1 remco    remco    6144 Oct  2 22:14 APIAccess.resources.dll\n</code></pre>\n\n<p>Does anyone have any suggestions to why on Linux the localized resources are not found?</p>\n\n<p>Remco</p>\n"}, {"tags": ["c#", ".net", "windows-services"], "comments": [{"owner": {"reputation": 590, "user_id": 984159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9c4813aa40e3c6e3ea3d5cebdc2c03e?s=128&d=identicon&r=PG", "display_name": "AlphaOmega", "link": "https://stackoverflow.com/users/984159/alphaomega"}, "edited": false, "score": 0, "creation_date": 1570032876, "post_id": 58205261, "comment_id": 102788922, "body": "Probably your service is started as &quot;Local System account&quot; with checkbox &quot;Allow service to interact with desktop&quot;."}, {"owner": {"reputation": 85, "user_id": 10209404, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--BOS8IKdM3Q/AAAAAAAAAAI/AAAAAAAAQHI/TtL6e3LzRX8/photo.jpg?sz=128", "display_name": "RanJS", "link": "https://stackoverflow.com/users/10209404/ranjs"}, "reply_to_user": {"reputation": 590, "user_id": 984159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9c4813aa40e3c6e3ea3d5cebdc2c03e?s=128&d=identicon&r=PG", "display_name": "AlphaOmega", "link": "https://stackoverflow.com/users/984159/alphaomega"}, "edited": false, "score": 0, "creation_date": 1570033266, "post_id": 58205261, "comment_id": 102789106, "body": "yes my  service is started as &quot;Local System account&quot;"}, {"owner": {"reputation": 2393, "user_id": 3116731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fqjdb.jpg?s=128&g=1", "display_name": "Se&#241;or CMasMas", "link": "https://stackoverflow.com/users/3116731/se%c3%b1or-cmasmas"}, "edited": false, "score": 0, "creation_date": 1570046375, "post_id": 58205261, "comment_id": 102795045, "body": "There is a reason that &quot;Allow service to interact with desktop&quot; is no longer allowed.  This is exactly what you are trying to do.  Perhaps you could use the task scheduler to accomplish this in a better way?"}], "owner": {"reputation": 85, "user_id": 10209404, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--BOS8IKdM3Q/AAAAAAAAAAI/AAAAAAAAQHI/TtL6e3LzRX8/photo.jpg?sz=128", "display_name": "RanJS", "link": "https://stackoverflow.com/users/10209404/ranjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570039552, "creation_date": 1570032306, "last_edit_date": 1570039552, "question_id": 58205261, "link": "https://stackoverflow.com/questions/58205261/c-launch-program-with-no-user-logged-in", "title": "C# Launch program with no user logged in", "body": "<p>I have a service that start an app to capture screen but when user logs off that program is terminated, do I need that my service restart my app on lock screen.</p>\n\n<p>A bit of my code </p>\n\n<pre><code>        protected override void OnStart(string[] args)\n        {\n\n            this.timer = new System.Timers.Timer(4000);\n            this.timer.AutoReset = true;\n            this.timer.Elapsed += new System.Timers.ElapsedEventHandler(this.timer_Elapsed);\n            this.timer.Start();\n            this.EventLog.WriteEntry(\"Timer set\");\n            MyLog.WriteLog(\"Timer set\");\n        }\n\n        private void timer_Elapsed(object sender, System.Timers.ElapsedEventArgs e)\n        {\n            this.EventLog.WriteEntry(\"Calling notepad\");\n            MyLog.WriteLog(\"Tick tock motherf*ck*\");                \n            try\n            {\n                ProcessExtensions.StartProcessAsCurrentUser(\"notepad.exe\")\n            } catch (Exception ex)\n            {\n                MyLog.WriteLog(ex.Message);\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "lucene", "umbraco"], "comments": [{"owner": {"reputation": 4167, "user_id": 1242383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwjEO.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1242383/tim"}, "edited": false, "score": 0, "creation_date": 1570100658, "post_id": 58205197, "comment_id": 102811550, "body": "Which version of Umbraco are you using? Do you have any custom indexing events that run on the site?"}, {"owner": {"reputation": 1, "user_id": 12154810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057a70383ec11cae7577814c8c272fe4?s=128&d=identicon&r=PG&f=1", "display_name": "OscarNuWar", "link": "https://stackoverflow.com/users/12154810/oscarnuwar"}, "reply_to_user": {"reputation": 4167, "user_id": 1242383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwjEO.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1242383/tim"}, "edited": false, "score": 0, "creation_date": 1570118265, "post_id": 58205197, "comment_id": 102821120, "body": "I&#39;m using Umbraco version 7.12.3 assembly: 1.0.6837.12334"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12154810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057a70383ec11cae7577814c8c272fe4?s=128&d=identicon&r=PG&f=1", "display_name": "OscarNuWar", "link": "https://stackoverflow.com/users/12154810/oscarnuwar"}, "edited": false, "score": 0, "creation_date": 1572013048, "post_id": 58236391, "comment_id": 103439587, "body": "I have game some time to see if it crashed. The month hasn&#39;t passed, but also there hasn&#39;t been any crashes since then. For now I think we are golden. Thanks!"}, {"owner": {"reputation": 1, "user_id": 12154810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057a70383ec11cae7577814c8c272fe4?s=128&d=identicon&r=PG&f=1", "display_name": "OscarNuWar", "link": "https://stackoverflow.com/users/12154810/oscarnuwar"}, "edited": false, "score": 0, "creation_date": 1572293016, "post_id": 58236391, "comment_id": 103507936, "body": "Sorry to bother, but the page simply started to blew up. Now the error is based on a &quot;The index ExternalIndexer is rebuilding due to being unreadable/corrupt Lucene.Net.Index.CorruptIndexException: doc counts differ for segment _2xy: fieldsReader shows 1 but segmentInfo shows 2&quot;. Heard this one before?"}, {"owner": {"reputation": 1103, "user_id": 744610, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/48b31280d12823250847057437d334bd?s=128&d=identicon&r=PG", "display_name": "KristianMedK", "link": "https://stackoverflow.com/users/744610/kristianmedk"}, "reply_to_user": {"reputation": 1, "user_id": 12154810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057a70383ec11cae7577814c8c272fe4?s=128&d=identicon&r=PG&f=1", "display_name": "OscarNuWar", "link": "https://stackoverflow.com/users/12154810/oscarnuwar"}, "edited": false, "score": 0, "creation_date": 1572335189, "post_id": 58236391, "comment_id": 103517756, "body": "Afraid not, never had that error before. I&#39;d suggest posting this to the our.umbraco.com forum. And if they can provide an answer, add it as your own answer to this question too."}], "tags": [], "owner": {"reputation": 1103, "user_id": 744610, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/48b31280d12823250847057437d334bd?s=128&d=identicon&r=PG", "display_name": "KristianMedK", "link": "https://stackoverflow.com/users/744610/kristianmedk"}, "is_accepted": false, "score": 1, "last_activity_date": 1570191897, "creation_date": 1570191897, "answer_id": 58236391, "question_id": 58205197, "link": "https://stackoverflow.com/questions/58205197/umbraco-system-exception-lucene-net-index-corruptindexexception/58236391#58236391", "title": "Umbraco - System.Exception: Lucene.Net.Index.CorruptIndexException", "body": "<p>I had a similar problem long ago, where my Umbraco solution running in Azure halted, at seemingly random times, and I had to restart the app service.</p>\n\n<p>I'm running Umbraco 8, so i'm not sure the same thing will work for you, but in my case, adding 2 keys to appsettings in web.config solved it. </p>\n\n<pre><code>    &lt;add key=\"Umbraco.Core.LocalTempStorage\" value=\"EnvironmentTemp\" /&gt;\n    &lt;add key=\"Umbraco.Examine.LuceneDirectoryFactory\" value=\"Examine.LuceneEngine.Directories.SyncTempEnvDirectoryFactory, Examine\" /&gt;\n</code></pre>\n\n<p>With any luck, it'll work for you too. </p>\n"}], "owner": {"reputation": 1, "user_id": 12154810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057a70383ec11cae7577814c8c272fe4?s=128&d=identicon&r=PG&f=1", "display_name": "OscarNuWar", "link": "https://stackoverflow.com/users/12154810/oscarnuwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1570191897, "creation_date": 1570032021, "question_id": 58205197, "link": "https://stackoverflow.com/questions/58205197/umbraco-system-exception-lucene-net-index-corruptindexexception", "title": "Umbraco - System.Exception: Lucene.Net.Index.CorruptIndexException", "body": "<p>An Umbraco Azure Application that I have been administrating randomly throws a \"Corrupt Index Exception\" that can be resolved by rebooting the page, but we are required to avoid this.</p>\n\n<p>I'm having a problem with the Lucene, having a \"CorruptIndexException\". I have been searching (and actually seen someone asked the same thing, but it was in 2013 and nobody responded) but got nothing.</p>\n\n<p>The problem seems to be at random, the Umbraco Azure application just crashes and we have to reboot the page again. We would love to avoid rebooting the page each time this error comes up.</p>\n\n<p>It's there any way or information on a solution on this Corrupt Index Exception?</p>\n\n<p>Trace Log (parcial):</p>\n\n<pre><code>System.Exception: Exception while creating a value. ---&gt; Lucene.Net.Index.CorruptIndexException: doc counts differ for segment _3s8: fieldsReader shows 1 but segmentInfo shows 4\n   at Lucene.Net.Index.SegmentInfos.FindSegmentsFile.Run(IndexCommit commit)\n   at Lucene.Net.Index.DirectoryReader.DoReopenNoWriter(Boolean openReadOnly, IndexCommit commit)\n   at Lucene.Net.Index.DirectoryReader.DoReopen(Boolean openReadOnly, IndexCommit commit)\n   at Lucene.Net.Index.DirectoryReader.Reopen()\n   at Examine.LuceneEngine.Providers.LuceneSearcher.ReaderReopener.MaybeReopen()\n   at Examine.LuceneEngine.Providers.LuceneSearcher.ReaderReopener.ScheduleReopen()\n   at Examine.LuceneEngine.Providers.LuceneSearcher.ValidateSearcher()\n   at Examine.LuceneEngine.Providers.LuceneSearcher.GetSearchFields()\n   at UmbracoExamine.UmbracoExamineSearcher.GetSearchFields()\n   at Examine.LuceneEngine.Providers.BaseLuceneSearcher.CreateSearchCriteria(String type, BooleanOperation defaultOperation)\n   at UmbracoExamine.UmbracoExamineSearcher.CreateSearchCriteria(String type, BooleanOperation defaultOperation)\n   at Examine.LuceneEngine.Providers.BaseLuceneSearcher.CreateSearchCriteria(String type)\n   at Umbraco.Web.PublishedCache.XmlPublishedCache.PublishedMediaCache.GetUmbracoMediaCacheValues(Int32 id)\n   at Umbraco.Web.PublishedCache.XmlPublishedCache.PublishedMediaCache.&lt;&gt;c__DisplayClass38_0.&lt;GetCacheValues&gt;b__0()\n   at Umbraco.Core.Cache.DictionaryCacheProviderBase.&lt;&gt;c__DisplayClass10_0.&lt;GetSafeLazy&gt;b__0()```\n   --- End of inner exception stack trace ---\n</code></pre>\n"}, {"tags": ["c#", "logging", "thread-safety", "file-writing"], "comments": [{"owner": {"reputation": 356, "user_id": 1623971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea4116f01880015f8b59bf70de76b152?s=128&d=identicon&r=PG", "display_name": "Democrats", "link": "https://stackoverflow.com/users/1623971/democrats"}, "edited": false, "score": 1, "creation_date": 1570032069, "post_id": 58205158, "comment_id": 102788554, "body": "could you not wait until a certain point in time (future) to write the logged file? If so then storing the log message and time would allow you to write the log message always in the correct order regardless of anything"}, {"owner": {"reputation": 356, "user_id": 1623971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea4116f01880015f8b59bf70de76b152?s=128&d=identicon&r=PG", "display_name": "Democrats", "link": "https://stackoverflow.com/users/1623971/democrats"}, "edited": false, "score": 2, "creation_date": 1570032175, "post_id": 58205158, "comment_id": 102788611, "body": "Anyway, since it is IO and you are locking the Streamwriter the moment it unlocks it might be released to a different Task."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 2, "creation_date": 1570032420, "post_id": 58205158, "comment_id": 102788707, "body": "You only  need to create the lock once.  You are constantly recreating the lock with :  new ReaderWriterLockSlim() which is defeating the purpose."}, {"owner": {"reputation": 1597, "user_id": 2480598, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/acb89dfa4b7ce335ed089e5f6d8ffa13?s=128&d=identicon&r=PG&f=1", "display_name": "pfinferno", "link": "https://stackoverflow.com/users/2480598/pfinferno"}, "reply_to_user": {"reputation": 356, "user_id": 1623971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea4116f01880015f8b59bf70de76b152?s=128&d=identicon&r=PG", "display_name": "Democrats", "link": "https://stackoverflow.com/users/1623971/democrats"}, "edited": false, "score": 0, "creation_date": 1570033331, "post_id": 58205158, "comment_id": 102789143, "body": "@Democrats The users like to check the log at random points while running the app."}, {"owner": {"reputation": 356, "user_id": 1623971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea4116f01880015f8b59bf70de76b152?s=128&d=identicon&r=PG", "display_name": "Democrats", "link": "https://stackoverflow.com/users/1623971/democrats"}, "edited": false, "score": 0, "creation_date": 1570194607, "post_id": 58205158, "comment_id": 102847003, "body": "ok, another solution would be to add the log messages with the entry time and sort them once you have a chance (possibly the moment when a user opens the log file)"}, {"owner": {"reputation": 356, "user_id": 1623971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea4116f01880015f8b59bf70de76b152?s=128&d=identicon&r=PG", "display_name": "Democrats", "link": "https://stackoverflow.com/users/1623971/democrats"}, "edited": false, "score": 0, "creation_date": 1570194668, "post_id": 58205158, "comment_id": 102847034, "body": "Depends on your design really. But make sure to do a lot of stress testing."}], "answers": [{"tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": false, "score": 0, "last_activity_date": 1570114224, "creation_date": 1570114224, "answer_id": 58221676, "question_id": 58205158, "link": "https://stackoverflow.com/questions/58205158/logger-is-writing-to-file-out-of-order/58221676#58221676", "title": "Logger is writing to file out of order", "body": "<p>Include ThreadId Field in your logging template. If there's a user interface where your user is checking the logs then you can highlight the logs with different formatting for each ThreadId to identify when the thread was doing it's work while main thread was suspended.</p>\n"}], "owner": {"reputation": 1597, "user_id": 2480598, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/acb89dfa4b7ce335ed089e5f6d8ffa13?s=128&d=identicon&r=PG&f=1", "display_name": "pfinferno", "link": "https://stackoverflow.com/users/2480598/pfinferno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570114224, "creation_date": 1570031882, "last_edit_date": 1570034555, "question_id": 58205158, "link": "https://stackoverflow.com/questions/58205158/logger-is-writing-to-file-out-of-order", "title": "Logger is writing to file out of order", "body": "<p>I have a logging system which is composed of two static classes. The first class does a simple check of a bool to determine if it should log to a file, and then creates a new Task which calls another static class's method to actually write to a file.</p>\n\n<p>This has worked except when I open up the log file, the lines appear to be written out of order for a lot of them. I'm guessing this is related to the <code>Task</code>. </p>\n\n<p>My main goal is to not block the GUI thread while logging and for it to be quick.</p>\n\n<p>Here's the relative code in my first class:</p>\n\n<pre><code>private static readonly string exePath = Path.GetDirectoryName(System.Reflection.Assembly.GetEntryAssembly()?.Location) + \"\\\\\" + \"AppLog\" + DateTime.Now.ToString(\"dd-M-yyyy--HH-mm-ss\") + \".txt\";\npublic static bool doWrite= true; //on by default\n\npublic static void Log(string msgToLog)\n{\n    if (!doWriteToFile)\n    {\n        return;\n    }\n\n    Task.Run(() =&gt; { LogMessage(msgToLog); } );\n}\n\nprivate static void LogMessage(string msgToLog)\n{\n    FileWriter.WriteToFileThreadSafe(exePath, msgToLog);\n}\n</code></pre>\n\n<p>And here's my <code>FileWriter</code> class:</p>\n\n<pre><code>public static class FileWriter\n{\n    private static readonly ReaderWriterLockSlim ReadWriteLock = new ReaderWriterLockSlim();\n\n    public static void WriteToFileThreadSafe(string filePath, string text)\n    {\n        // Set Status to Locked\n        ReadWriteLock.EnterWriteLock();\n        try\n        {\n            // Append text to the file\n            using (StreamWriter sw = File.AppendText(filePath))\n            {\n                sw.WriteLine(text);\n            }\n        }\n        finally\n        {\n            // Release lock\n            ReadWriteLock.ExitWriteLock();\n        }\n    }\n}\n</code></pre>\n\n<p>More info:</p>\n\n<p>There are certain functions that, when called, the user wants logged no matter what. Sometimes these functions are called thousands of times in a few seconds.</p>\n"}]