[{"tags": ["c#", "mysql", "sql", "asp.net"], "comments": [{"owner": {"reputation": 9342, "user_id": 646382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab24c0e23c30888c23e2d4fe9991cf2b?s=128&d=identicon&r=PG", "display_name": "jonsca", "link": "https://stackoverflow.com/users/646382/jonsca"}, "edited": false, "score": 0, "creation_date": 1523491879, "post_id": 49786032, "comment_id": 86587611, "body": "In general, keeping images in your database is a bad idea.  Use something like Azure blob storage."}], "answers": [{"tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": false, "score": 0, "last_activity_date": 1523492339, "last_edit_date": 1523492339, "creation_date": 1523491854, "answer_id": 49786104, "question_id": 49786032, "link": "https://stackoverflow.com/questions/49786032/pulling-img-from-database-in-asp-net-c/49786104#49786104", "title": "Pulling img from database in asp.net c#", "body": "<p>The first quesion is how you store the Image in the DB. There are 2 major schools of thought, with a 3rd way that tries to combine both. I refer you to this Atricle on the diffenrences:\n<a href=\"https://www.simple-talk.com/sql/learn-sql-server/an-introduction-to-sql-server-filestream/\" rel=\"nofollow noreferrer\">https://www.simple-talk.com/sql/learn-sql-server/an-introduction-to-sql-server-filestream/</a>\nof course I have no idea if MySQL supports anything like Filestream, but at large Filestream is just the \"in table\" approach.</p>\n\n<p>If you go the \"store as file in the FileSystem\", it becomes rather easy: You just make certain the HTML server exposes the Images as files.</p>\n\n<p>If you use the \"store in table\" approach (inlcuding Filestream), what you need is something like the HTTP File Handlers. They allow you to intercept a request for a image and answering it however you like - inlcuding by querying the Database and building a answer from it: <a href=\"https://msdn.microsoft.com/en-us/library/bb398986.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/bb398986.aspx</a></p>\n"}], "owner": {"reputation": 29, "user_id": 9633276, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-okJb145Zk0g/AAAAAAAAAAI/AAAAAAAAAH0/38ur_YMRQJM/photo.jpg?sz=128", "display_name": "Who Dis", "link": "https://stackoverflow.com/users/9633276/who-dis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1523512246, "answer_count": 1, "score": 0, "last_activity_date": 1523492339, "creation_date": 1523491176, "question_id": 49786032, "link": "https://stackoverflow.com/questions/49786032/pulling-img-from-database-in-asp-net-c", "closed_reason": "Duplicate", "title": "Pulling img from database in asp.net c#", "body": "<p>I am working on a school project where we are building a website for a real-world small business. My problem is that I do not know how to pull an image that will be stored in my database to display on the website its self. All the work I have done regarding database connections involves linking drop-down lists to images that were stored in a folder in our web app where we only stored the link to the image in the database. Any help would be appreciated!</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 1, "last_activity_date": 1523490999, "creation_date": 1523490999, "answer_id": 49786004, "question_id": 49785962, "link": "https://stackoverflow.com/questions/49785962/bind-readonly-variable-to-variable-inside-class-c/49786004#49786004", "title": "Bind readonly variable to variable inside class C#", "body": "<p>In C# 6.0 syntax:</p>\n\n<pre><code>Int32 Count =&gt; Contents.Count;\n</code></pre>\n\n<p>In C# 5.0 and older syntax:</p>\n\n<pre><code>Int32 Count\n{\n    get { return Contents.Count; }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 5457674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TspRg.jpg?s=128&g=1", "display_name": "Hydrotronics", "link": "https://stackoverflow.com/users/5457674/hydrotronics"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 49786004, "answer_count": 1, "score": -1, "last_activity_date": 1523490999, "creation_date": 1523490604, "question_id": 49785962, "link": "https://stackoverflow.com/questions/49785962/bind-readonly-variable-to-variable-inside-class-c", "title": "Bind readonly variable to variable inside class C#", "body": "<p>I'm currently trying to write myself a little utility library for creating graphics on windows forms. In this, I would like to create a class by the name of \"Menu\".</p>\n\n<p>I would like Menu to contain a value called \"Count\" which holds the number of entries in the menu, which I would like to be read only and mirror the value of another value called \"Contents.Count\". While I could just type Contents.Count, I would still like to find out how to do this and whether it's recommended to do this or if there's a better way of doing it.</p>\n\n<p>I have tried using get and set, but apart from that I am completely stumped in how to take this on. I know how to create a basic read only variable, and how to set its initial value with the constructor, yet not how to mirror a value with it.</p>\n\n<p>My current, non functional attempt:</p>\n\n<pre><code>readonly int Count;\nstatic List&lt;Delegate&gt; Contents \n{ \n  get { return Contents; }\n  set \n  {\n    Contents = value;\n    Count = Contents.Count;\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "linq", "join", "lambda", "where"], "comments": [{"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 0, "creation_date": 1523490481, "post_id": 49785914, "comment_id": 86587281, "body": "You might be getting syntax errors because <code>class</code> is a keyword."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1523492994, "post_id": 49785914, "comment_id": 86587849, "body": "<code>as I keep getting syntax errors.</code> What are the syntax errors?"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1523499259, "post_id": 49785914, "comment_id": 86589135, "body": "Using keywords is bad practice but if you really must do it then precede it with the @ symbol <code>@class</code>.  However; I suggest using a different name in your code that makes sense; i.e. <code>payClass</code> possibly."}], "answers": [{"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1523490705, "creation_date": 1523490705, "answer_id": 49785979, "question_id": 49785914, "link": "https://stackoverflow.com/questions/49785914/linq-lambda-query-with-join-and-where-not-in/49785979#49785979", "title": "LINQ Lambda query with JOIN and WHERE &#39;not in&#39;", "body": "<p>Something like this might work (making assumptions on which properties are available):</p>\n\n<pre><code>var unpaidClasses = db.CLASS.Where(cls =&gt; \n    cls.StudentID == studentID \n    &amp;&amp; !db.PAYMENT.Any(pmt =&gt; \n        pmt.StudentID == studenID \n        &amp;&amp; pmt.ClassID = cls.ClassID));\n</code></pre>\n\n<p>That should give you an <code>IQueryable&lt;CLASS&gt;</code> for anything without any matching payment records, assuming that payments are also associated with students.</p>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1523490760, "creation_date": 1523490760, "answer_id": 49785986, "question_id": 49785914, "link": "https://stackoverflow.com/questions/49785914/linq-lambda-query-with-join-and-where-not-in/49785986#49785986", "title": "LINQ Lambda query with JOIN and WHERE &#39;not in&#39;", "body": "<p>Here are a few pointers to help you resolve the issue independently:</p>\n\n<ul>\n<li><code>class</code> is a reserved word. Do not use it to name variables. Use <code>cls</code> or some other valid identifier instead.</li>\n<li>You need left <code>Join</code>, because you are looking for classes where the payment record is missing. <a href=\"https://stackoverflow.com/a/584840/335858\">Here is how it is done using fluent syntax</a>; note <code>DefaultIfEmpty()</code> call.</li>\n<li><code>Where</code> condition should check that <code>PAYMENT</code> is <code>null</code>.</li>\n<li>Do not use all-caps for property names (<code>Class</code> instead of <code>CLASS</code>, <code>Payment</code> instead of <code>PAYMENT</code>). See <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/naming-guidelines\" rel=\"nofollow noreferrer\">Microsoft Naming Guidelines</a>.</li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 9633239, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Susan Farrar", "link": "https://stackoverflow.com/users/9633239/susan-farrar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523490760, "creation_date": 1523490168, "question_id": 49785914, "link": "https://stackoverflow.com/questions/49785914/linq-lambda-query-with-join-and-where-not-in", "title": "LINQ Lambda query with JOIN and WHERE &#39;not in&#39;", "body": "<p>I am trying to create a Lambda query of my database searching for students that have taken classes but have not paid for their classes.  I am passing in a StudentID (datatype string) and searching the CLASS and PAYMENT tables looking for COUNT of the records in the CLASS table that do NOT have a matching record in the PAYMENT table. </p>\n\n<p>CLASS table has a StudentID field and a ClassID field (datatype GUID)\nPAYMENT table has a ClassID field (datatype GUID).</p>\n\n<p>My new to LINQ and Lambda and haven't gotten very far as I keep getting syntax errors.  Help would be sincerely appreciated.</p>\n\n<pre><code>int unPaidClasses =\n                db.CLASS\n                .Join(db.PAYMENT,\n                class =&gt; class.ClassID,\n                pay =&gt; pay.ClassId,\n                (class, pay) =&gt; new { CLASS = class, PAYMENT = payment })\n                .Where(x =&gt;\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "active-directory"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523490135, "post_id": 49785894, "comment_id": 86587202, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3929561/how-to-get-active-directory-attributes-not-represented-by-the-userprincipal-clas\">How to get Active Directory Attributes not represented by the UserPrincipal class</a>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523490267, "post_id": 49785894, "comment_id": 86587231, "body": "Also: <a href=\"https://stackoverflow.com/questions/19492883/get-an-extension-attribute-from-ad\" title=\"get an extension attribute from ad\">stackoverflow.com/questions/19492883/&hellip;</a>"}, {"owner": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523492762, "post_id": 49785894, "comment_id": 86587810, "body": "These are putting me in the right direction, but I&#39;m still not able to get the Title property inside of the foreach loop. I can see it outside, by doing &quot;userPrincipal.Title&quot;, but that isn&#39;t helping me if I can&#39;t put it into the List&lt;ADUser&gt; for later iteration."}], "answers": [{"comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1523493185, "post_id": 49786209, "comment_id": 86587884, "body": "I guess you&#39;ll never expect more than 1000 results when you&#39;re searching by username :) It just threw me off since you&#39;re returning a list. It&#39;s a good thing to know anyway."}, {"owner": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523494443, "post_id": 49786209, "comment_id": 86588114, "body": "I&#39;m getting an error: &quot;ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection. Parameter name: index&quot; when I try to run that code on both exact usernames as well as partial.. I&#39;m thinking it may be related to the &quot;new []&quot; ?"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523494714, "post_id": 49786209, "comment_id": 86588179, "body": "I&#39;m not getting any exception. Which line is throwing the exception for you?"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523494823, "post_id": 49786209, "comment_id": 86588197, "body": "If you want it to work for partial usernames too, you have to add a <code>*</code> to the filter: <code>$&quot;(&amp;(objectClass=user)(objectCategory=person)(sAMAccountName&zwnj;&#8203;={username}*))&quot;</code>"}, {"owner": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523494859, "post_id": 49786209, "comment_id": 86588206, "body": "Line 35 of ADUser.cs, the &quot;users.Add( new ADUser&quot; line."}, {"owner": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523495214, "post_id": 49786209, "comment_id": 86588267, "body": "I figured it out, I assumed the question mark in [&quot;title&quot;]?[0] meant it was able to be nullable, but I&#39;m getting the error because one account has no Title field populated. How can I make it able to be null?"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523495365, "post_id": 49786209, "comment_id": 86588310, "body": "Right, sorry. You have to add a check using <code>.Properties.Contains()</code>. I&#39;ve updated my code."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523495644, "post_id": 49786209, "comment_id": 86588367, "body": "That&#39;s the kind of stuff the <code>AccountManagement</code> namespace protects you from :) but at a cost..."}, {"owner": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523495861, "post_id": 49786209, "comment_id": 86588413, "body": "Thanks so much for the help, it&#39;s exactly what I needed. I&#39;ve seriously been fighting trying to get this working all day."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "edited": false, "score": 0, "creation_date": 1523496011, "post_id": 49786209, "comment_id": 86588449, "body": "No problem. I&#39;ve been there! :)"}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": true, "score": 1, "last_activity_date": 1523495341, "last_edit_date": 1523495341, "creation_date": 1523492769, "answer_id": 49786209, "question_id": 49785894, "link": "https://stackoverflow.com/questions/49785894/system-directoryservices-accountmanagement-and-returning-an-ienumerable-of-activ/49786209#49786209", "title": "System.DirectoryServices.AccountManagement and returning an IEnumerable of Active Directory user", "body": "<p>The short answer is that you can do this:</p>\n\n<pre><code>        foreach (var user in principalSearcher.FindAll())\n        {\n            var userDe = (DirectoryEntry) user.GetUnderlyingObject();\n            users.Add(new ADUser\n            {\n                SamAccountName = user.SamAccountName,\n                DisplayName = user.DisplayName,\n                Title = userDe.Properties[\"title\"]?.Value.ToString()\n            });\n        }\n</code></pre>\n\n<p>This is part of the reason I never use the <code>AccountManagement</code> namespace anymore. It uses <code>DirectoryEntry</code> in the background and hides its complexity to make the basic things easier for you, but you still have to revert to using <code>DirectoryEntry</code> directly for some things. And it actually performs slower than using <code>DirectoryEntry</code>/<code>DirectorySearcher</code> directly.</p>\n\n<p>Here's an example of how you can do the same thing via <code>DirectorySearcher</code>. It is a little more complicated, but I bet you'll find it performs faster:</p>\n\n<pre><code>public class ADUser\n{\n    public string SamAccountName { get; set; }\n    public string DisplayName { get; set; }\n    public string Title { get; set; }\n\n    public IEnumerable&lt;ADUser&gt; Get(string username)\n    {\n        var users = new List&lt;ADUser&gt;();\n\n        var search = new DirectorySearcher(\n            new DirectoryEntry(\"LDAP://domain.com\"),\n            $\"(&amp;(objectClass=user)(objectCategory=person)(sAMAccountName={username}))\",\n            new [] { \"sAMAccountName\", \"displayName\", \"title\" } //The attributes you want to see\n        ) {\n            PageSize = 1000 //If you're expecting more than 1000 results, you need this otherwise you'll only get the first 1000 and it'll stop\n        };\n\n        using (var results = search.FindAll()) {\n            foreach (SearchResult result in results)\n            {\n                users.Add(new ADUser\n                {\n                    SamAccountName = result.Properties.Contains(\"sAMAccountName\") ? result.Properties[\"sAMAccountName\"][0].ToString() : null,\n                    DisplayName = result.Properties.Contains(\"displayName\") ? result.Properties[\"displayName\"][0].ToString() : null,\n                    Title = result.Properties.Contains(\"title\") ? result.Properties[\"title\"][0].ToString() : null\n                });\n            }\n        }\n        return users;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8760001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c82230f6ecafc45a0a1f2b95c0d0bf5?s=128&d=identicon&r=PG&f=1", "display_name": "jsbzoh6", "link": "https://stackoverflow.com/users/8760001/jsbzoh6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 49786209, "answer_count": 1, "score": 1, "last_activity_date": 1523495341, "creation_date": 1523490007, "question_id": 49785894, "link": "https://stackoverflow.com/questions/49785894/system-directoryservices-accountmanagement-and-returning-an-ienumerable-of-activ", "title": "System.DirectoryServices.AccountManagement and returning an IEnumerable of Active Directory user", "body": "<p>I'm trying to query Active Directory and return an IEnumerable but with properties like Title and EmailAddress, which aren't shown doing PrincipalSearcher.Findll(). If I use PrincipalSearcher.FindOne(), it has much more properties (still not Title, though) so I'm trying to figure out what I'm doing differently or how to get the info I need out. I've worn out Google trying to find more info and it seems like UserPrincipal.GetUnderlyingObject() might be the ticket but I'm not understanding how to involve that into a foreach loop in order to populate it into the List.</p>\n\n<pre><code>    public class ADUser\n    {\n        public string SamAccountName { get; set; }\n        public string DisplayName { get; set; }\n        public string Title { get; set; }\n\n        public IEnumerable&lt;ADUser&gt; Get(string username)\n        {\n            var users = new List&lt;ADUser&gt;();\n\n            var principalContext = new PrincipalContext(ContextType.Domain, \"domain.com\");\n            var userPrincipal = new UserPrincipal(principalContext)\n            {\n                SamAccountName = username\n            };\n\n            var principalSearcher = new PrincipalSearcher(userPrincipal);\n\n            foreach (var user in principalSearcher.FindAll())\n            {\n                users.Add(new ADUser\n                {\n                    SamAccountName = user.SamAccountName,\n                    DisplayName = user.DisplayName,\n                    //Title = user.Title //Won't work, no Title property\n                });\n            }\n\n            return users;\n        }\n    }\n</code></pre>\n\n<p>This works but only returns a fraction of the properties .FindOne() does, but if I do FindOne(), I won't be able to search for partial usernames, such as \"jsm\" returning \"John Smith\" and \"James Smoth\".</p>\n"}, {"tags": ["c#", "regex", "linq"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1523491124, "post_id": 49785893, "comment_id": 86587436, "body": "Try <code>Regex.IsMatch(x, &quot;^[A-Z]+-[A-Z]+-[A-Z]+[0-9]+-[A-Z]+[0-9]+$&quot;)</code>. BTW, what type is <code>Store</code>?"}, {"owner": {"reputation": 125, "user_id": 9393608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a5a714e3b73abd62e02c16cb0b237d?s=128&d=identicon&r=PG&f=1", "display_name": "HJain", "link": "https://stackoverflow.com/users/9393608/hjain"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1523492240, "post_id": 49785893, "comment_id": 86587695, "body": "Hey @WiktorStribi\u017cew.. Thank you so much.. it resolved my problem like I never had it... Wow!! Thank you so much :) Store is of type string..."}], "answers": [{"tags": [], "owner": {"reputation": 125, "user_id": 9393608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a5a714e3b73abd62e02c16cb0b237d?s=128&d=identicon&r=PG&f=1", "display_name": "HJain", "link": "https://stackoverflow.com/users/9393608/hjain"}, "is_accepted": false, "score": 0, "last_activity_date": 1523498803, "creation_date": 1523498803, "answer_id": 49786885, "question_id": 49785893, "link": "https://stackoverflow.com/questions/49785893/how-to-completely-discard-the-occurrence-of-a-string-not-matching-the-regex-patt/49786885#49786885", "title": "How to completely discard the occurrence of a string not matching the regex pattern?", "body": "<p>It was a very easy solution to it but somehow I was missing it...\nI did the below to resolve the issue:</p>\n\n<pre><code>Store = a.Type == \"Machines\" &amp;&amp; a.Power == \"on\" &amp;&amp; \n       string.Join(\",\", a.Info.Disk.Select(b =&gt; b.Store).\n       Where(x =&gt; Regex.Match(x, \"[A-Z]+-[A-Z]+-T[0-9]-[A-Z]+[0-9]\"))) != \"\" ?\n       \"Do your stuff\" : null\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1523515336, "creation_date": 1523515336, "answer_id": 49789689, "question_id": 49785893, "link": "https://stackoverflow.com/questions/49785893/how-to-completely-discard-the-occurrence-of-a-string-not-matching-the-regex-patt/49789689#49789689", "title": "How to completely discard the occurrence of a string not matching the regex pattern?", "body": "<p>You need to use</p>\n\n<pre><code>Regex.IsMatch(x, \"^[A-Z]+-[A-Z]+-[A-Z]+[0-9]+-[A-Z]+[0-9]+$\")\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/qo8CkC/1\" rel=\"nofollow noreferrer\"><strong>how this regex works</strong></a>.</p>\n\n<p><strong>Details</strong></p>\n\n<ul>\n<li><code>^</code> - start of the string</li>\n<li><code>[A-Z]+</code> - 1+ ASCII uppercase letters</li>\n<li><code>-</code> - a hypehn</li>\n<li><code>[A-Z]+-</code>  -  - 1+ ASCII uppercase letters and a hyphen</li>\n<li><code>[A-Z]+[0-9]+-</code> - 1+ ASCII uppercase letters, 1+ ASCII digits and then a hyphen</li>\n<li><code>[A-Z]+[0-9]+</code> - 1+ ASCII uppercase letters, 1+ ASCII digits</li>\n<li><code>$</code> - end of string.</li>\n</ul>\n\n<p>Code: </p>\n\n<pre><code>Store = a.Type == \"Machines\" ? \n    string.Join(\",\", \n        a.Info.Disk\n           .Select(b =&gt; b.Store)\n           .Where(x =&gt; Regex.IsMatch(x, \"^[A-Z]+-[A-Z]+-[A-Z]+[0-9]+-[A-Z]+[0-9]+$\"))\n    ) \n    : null;\n</code></pre>\n\n<p>If the match is expected anywhere inside a longer string, remove <code>^</code> and <code>$</code> anchors.</p>\n"}], "owner": {"reputation": 125, "user_id": 9393608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a5a714e3b73abd62e02c16cb0b237d?s=128&d=identicon&r=PG&f=1", "display_name": "HJain", "link": "https://stackoverflow.com/users/9393608/hjain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 49789689, "answer_count": 2, "score": 0, "last_activity_date": 1523515336, "creation_date": 1523490006, "last_edit_date": 1523490800, "question_id": 49785893, "link": "https://stackoverflow.com/questions/49785893/how-to-completely-discard-the-occurrence-of-a-string-not-matching-the-regex-patt", "title": "How to completely discard the occurrence of a string not matching the regex pattern?", "body": "<p>I am implementing a regex pattern to a list of strings. Example of such a string is:<code>\"MNT-PUT-Y0-HAS90\"</code>. There are other UNWANTED strings as well, like: <code>\"MNT-PUT-HAS90\"</code>.</p>\n\n<p>When I execute the below code, I get \"\" for the unwanted one, which I guess how Regex works. And, I get <code>\"MNT-PUT-Y0-HAS90\"</code> for the wanted one.</p>\n\n<p>The question is: How can I completely ignore the occurrence of MNT-PUT-HAS90. I want to retrieve results for string - <code>\"MNT-PUT-Y0-HAS90\"</code> only.</p>\n\n<p>I have implemented the below code for this:</p>\n\n<pre><code>Store = a.Type == \"Machines\" ? \nstring.Join(\",\", a.Info.Disk.Select(b =&gt; b.Store).\nSelect(x =&gt; Regex.Match(x, \"[A-Z]+-[A-Z]+-T[0-9]-[A-Z]+[0-9]\"))) : null\n</code></pre>\n\n<p>I tried changing the code to the below, but it shows me an error: <code>\"Cannot convert lambda expression to the intended delegate type because some of the return types in the block are not implicitly convertible to the delegate return type\"</code></p>\n\n<pre><code>Store = a.Type == \"Machines\" ? \n    string.Join(\",\", a.Info.Disk.Select(b =&gt; b.Store).\n    Where(x =&gt; Regex.Match(x, \"[A-Z]+-[A-Z]+-T[0-9]-[A-Z]+[0-9]\")).ToString()) : null\n</code></pre>\n\n<p><strong>EDIT:</strong>\nJust tried this:</p>\n\n<pre><code>Store = a.Type == \"Machines\" ? \n        string.Join(\",\", a.Info.Disk.Select(b =&gt; b.Store).\n        Where(x =&gt; Regex.IsMatch(x, \"[A-Z]+-[A-Z]+-T[0-9]-[A-Z]+[0-9]\")).ToList()) : null\n</code></pre>\n\n<p>I get no error but do not get the desired output either.</p>\n"}, {"tags": ["c#", ".net", "azure", "netty"], "answers": [{"tags": [], "owner": {"reputation": 15921, "user_id": 1542723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a969ba62fc77da0a20654caffbe234?s=128&d=identicon&r=PG", "display_name": "Ferrybig", "link": "https://stackoverflow.com/users/1542723/ferrybig"}, "is_accepted": false, "score": 0, "last_activity_date": 1523552843, "creation_date": 1523552843, "answer_id": 49802337, "question_id": 49785863, "link": "https://stackoverflow.com/questions/49785863/netty-second-batch-of-data-sent-includes-the-first/49802337#49802337", "title": ".NETTY: Second batch of data sent includes the first?", "body": "<p>This problem is happening because <code>ToString(Encoding)</code>, while showing the contents, doesn't consume any input bytes.</p>\n\n<p>Why is this? This because the usual use case of the \"to string\" function isn't in spaces where actual read bytes matter, because it basically reads all bytes every time, even when 2 \"packets\" have received.</p>\n\n<p>The actual use case of a toString would be inside a handler where the framing of the packets into proper chunks has already been done.</p>\n\n<p>What you probably want is a <a href=\"https://github.com/Azure/DotNetty/blob/dev/src/DotNetty.Codecs/DelimiterBasedFrameDecoder.cs\" rel=\"nofollow noreferrer\"><code>DelimiterBasedFrameDecoder</code></a> that splits up your incoming stream into packets seperated by newlines or null bytes, then using a <a href=\"https://github.com/Azure/DotNetty/blob/dev/src/DotNetty.Transport/Channels/ChannelHandlerAdapter.cs\" rel=\"nofollow noreferrer\">ChannelHandlerAdapter</a>, where you decode the packets to JSON.</p>\n"}], "owner": {"reputation": 11, "user_id": 9633247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa75d561c7a04961985a0c85116402a8?s=128&d=identicon&r=PG&f=1", "display_name": "sad", "link": "https://stackoverflow.com/users/9633247/sad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1523552843, "creation_date": 1523489716, "question_id": 49785863, "link": "https://stackoverflow.com/questions/49785863/netty-second-batch-of-data-sent-includes-the-first", "title": ".NETTY: Second batch of data sent includes the first?", "body": "<p>I've noticed that when I run the decoder for dotnetty it includes the previous data. I'm not sure why, but the first packet (data) goes through fine, the second bit of data the client sends for some reason includes both parts of data, the previous processed data.</p>\n\n<p>I've checked the client and the client doesn't send them both, the server just receives them both, I feel like this is something that DotNetty is doing?</p>\n\n<pre><code>internal class JsonToPacketDecoder : ByteToMessageDecoder\n{\n    protected override void Decode(IChannelHandlerContext context, IByteBuffer input, List&lt;object&gt; output)\n    {\n        Console.WriteLine(\"Decoding: \" + input.ToString(Encoding.UTF8) + \" \\n\");\n        output.Add(new IncomingPacket(JObject.Parse(input.ToString(Encoding.UTF8)).ToFlatDictionary()));\n    }\n}\n</code></pre>\n\n<p>It seems <code>input.ToString(Encoding.UTF8)</code> includes both?</p>\n"}, {"tags": ["c#", "list", "linq"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 3, "creation_date": 1523489587, "post_id": 49785837, "comment_id": 86587091, "body": "Please post your  entire <i>actual</i> code."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 2, "creation_date": 1523489643, "post_id": 49785837, "comment_id": 86587106, "body": "That result can come as the result of sorting <i>numerals</i> (strings).  Show the code which gives that result using integers"}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1523490563, "post_id": 49785837, "comment_id": 86587298, "body": "Pending the question being updated with a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> that actually compiles, possible duplicate of <a href=\"https://stackoverflow.com/questions/40942428/linq-orderby-or-sort-does-not-order-correctly-for-integer-string-list\">LINQ OrderBy or Sort does not order correctly for integer string list?</a>."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1523492947, "post_id": 49785837, "comment_id": 86587842, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40942428/linq-orderby-or-sort-does-not-order-correctly-for-integer-string-list\">LINQ OrderBy or Sort does not order correctly for integer string list?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 4, "last_activity_date": 1523490595, "last_edit_date": 1523490595, "creation_date": 1523490255, "answer_id": 49785924, "question_id": 49785837, "link": "https://stackoverflow.com/questions/49785837/linq-orderby-orderbydescending-not-working-when-theres-more-than-2-digits-c/49785924#49785924", "title": "Linq orderby OrderByDescending not working when there&#39;s more than 2 digits c#", "body": "<p>Based on your sorting results, it appears that you're actually sorting a <code>List&lt;string&gt;</code>, not a <code>List&lt;int&gt;</code>. </p>\n\n<p>If you're sure all the elements in the list are valid integers, you can use <code>int.Parse</code> to convert them on the fly in your <code>OrderByDescending</code> clause: </p>\n\n<pre><code>var numbers = new List&lt;string&gt; {\"20\", \"84\", \"102\", \"94\", \"205\", \"33\"};\n\nConsole.WriteLine(string.Join(\", \", numbers.OrderByDescending(int.Parse)));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/h4ewS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h4ewS.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 9, "user_id": 9356542, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159922419340623/picture?type=large", "display_name": "Nor Alexanian", "link": "https://stackoverflow.com/users/9356542/nor-alexanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1523490595, "creation_date": 1523489506, "last_edit_date": 1523489569, "question_id": 49785837, "link": "https://stackoverflow.com/questions/49785837/linq-orderby-orderbydescending-not-working-when-theres-more-than-2-digits-c", "title": "Linq orderby OrderByDescending not working when there&#39;s more than 2 digits c#", "body": "<p>I am using OrderByDescending and it works great, except that when I add numbers that are more than 3 digits they get messed up. for example:</p>\n\n<pre><code>List&lt;int&gt; = {20, 84, 102, 94, 205, 33}\n</code></pre>\n\n<p>it will order it like this:</p>\n\n<pre><code>94, 84, 33, 205, 20, 102\n</code></pre>\n\n<p>It's as if there were decimals instead of whole numbers. How can I fix this issue? and make it descend from greatest value to least value</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework"], "comments": [{"owner": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "edited": false, "score": 0, "creation_date": 1523492349, "post_id": 49785797, "comment_id": 86587721, "body": "Launched from where?  Visual studio?  If so check your project properties."}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "reply_to_user": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "edited": false, "score": 0, "creation_date": 1523492949, "post_id": 49785797, "comment_id": 86587843, "body": "It&#39;s launched when I run Visual Studio. My configurations files all say <code>localhost:5000</code> This used to work. I changed my <code>program</code> property in launch.json to point at net2.0 path and that&#39;s when it stopped."}, {"owner": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "edited": false, "score": 0, "creation_date": 1523493125, "post_id": 49785797, "comment_id": 86587874, "body": "That would be good information to include in your question, along with the contents of that file."}], "answers": [{"comments": [{"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1523497342, "post_id": 49786380, "comment_id": 86588734, "body": "Thanks, but it looks like the launch.json equivalent doesn&#39;t have that option."}, {"owner": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "reply_to_user": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1523498693, "post_id": 49786380, "comment_id": 86589028, "body": "You said you were using Visual Studio?"}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "edited": false, "score": 0, "creation_date": 1523499391, "post_id": 49786380, "comment_id": 86589158, "body": "I fixed it, but it looks like it might be due to a db migration. I undid my migration and it looks like the browser tries to open with the right port. But once i migrate my db it stops."}], "tags": [], "owner": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "is_accepted": false, "score": 1, "last_activity_date": 1523494662, "last_edit_date": 1523494662, "creation_date": 1523494193, "answer_id": 49786380, "question_id": 49785797, "link": "https://stackoverflow.com/questions/49785797/why-is-host-run-just-opening-localhost/49786380#49786380", "title": "Why is host.run() just opening localhost", "body": "<p>For Visual Studio in launchSettings.json use \"launchUrl\": \"<a href=\"http://localhost:5000\" rel=\"nofollow noreferrer\">http://localhost:5000</a>\".</p>\n\n<p>Launch.json is for Visual Studio Code.</p>\n\n<p><a href=\"https://www.google.com/amp/s/andrewlock.net/how-to-set-the-hosting-environment-in-asp-net-core/amp/\" rel=\"nofollow noreferrer\">https://www.google.com/amp/s/andrewlock.net/how-to-set-the-hosting-environment-in-asp-net-core/amp/</a></p>\n"}], "owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523499349, "creation_date": 1523489080, "last_edit_date": 1523499349, "question_id": 49785797, "link": "https://stackoverflow.com/questions/49785797/why-is-host-run-just-opening-localhost", "title": "Why is host.run() just opening localhost", "body": "<p>In the kestrel part of my BuildWebHost, I can verify that the url is set to <a href=\"https://localhost/5000\" rel=\"nofollow noreferrer\">https://localhost/5000</a>. However, when host.run() is called, only <code>https://localhost</code> is launched for some reason. </p>\n\n<p>`</p>\n\n<pre><code>.UseKestrel(options =&gt;\n                {\n                    X509Certificate2 certificate = null;\n                    if (!string.IsNullOrEmpty(certFileName) &amp;&amp; !string.IsNullOrEmpty(certPassword))\n                    {\n                        certificate = new X509Certificate2(certFileName, certPassword);\n                        url = \"https://localhost:5000\";\n                    }\n\n                    options.Listen(IPAddress.Loopback, 5000, listenOptions =&gt;\n                    {\n                        if (certificate != null)\n                        {\n                            listenOptions.UseHttps(certificate);\n                        }\n                    });\n                })\n</code></pre>\n\n<p>`</p>\n\n<p>Additional Information:\nIt's launched when I run Visual Studio Code. My configurations files all say localhost:5000 This used to work. I changed my program property in launch.json to point at net2.0 path and that's when it stopped.</p>\n\n<p>launch.json contents:\n`</p>\n\n<pre><code>{\n            \"name\": \".NET Core Launch (web)\",\n            \"type\": \"coreclr\",\n            \"request\": \"launch\",\n            \"preLaunchTask\": \"build\",\n            // If you have changed target frameworks, make sure to update the program path.\n            // \"program\": \"${workspaceFolder}/bin/Debug/netcoreapp1.1/TennisFolderAPI.dll\",\n            \"program\": \"${workspaceFolder}/bin/Debug/netcoreapp2.0/TennisFolderAPI.dll\",\n            \"args\": [],\n            \"cwd\": \"${workspaceFolder}\",\n            \"stopAtEntry\": false,\n            \"internalConsoleOptions\": \"openOnSessionStart\",\n            \"launchBrowser\": {\n                \"enabled\": true,\n                \"args\": \"${auto-detect-url}\",\n                \"windows\": {\n                    \"command\": \"cmd.exe\",\n                    \"args\": \"/C start ${auto-detect-url}\"\n                },\n                \"osx\": {\n                    \"command\": \"open\"\n                },\n                \"linux\": {\n                    \"command\": \"xdg-open\"\n                }\n            },\n            \"env\": {\n                \"ASPNETCORE_ENVIRONMENT\": \"Development\"\n            },\n            \"sourceFileMap\": {\n                \"/Views\": \"${workspaceFolder}/Views\"\n            },\n            \"requireExactSource\": false,\n        },\n        {\n            \"name\": \".NET Core Attach\",\n            \"type\": \"coreclr\",\n            \"request\": \"attach\",\n            \"processId\": \"${command:pickProcess}\"\n        }\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["c#", "wpf", "xaml", "data-binding", "attached-properties"], "comments": [{"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1523499786, "post_id": 49785779, "comment_id": 86589227, "body": "What are you trying to accomplish? Do you want to provide an attached ColorAnimation, where you then go back an reconfigure the start and end colors? Do you want to provide start and end colors to a hard coded ColorAnimation? This is quite confusing but I kind of feel like I see what you&#39;re trying to accomplish; just not lol. Please update the question with requirements, step by step and if no one else helps I can definitely assist."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1523516249, "post_id": 49785779, "comment_id": 86594718, "body": "A problem here is that you&#39;re using a single ColorAnimation instance for all elements where the ColorAnimation property is supposed to be set. Your &quot;read only&quot; attached property with a value initialized by dependency property metadata won&#39;t work for more than one UI element at a time."}, {"owner": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1523547486, "post_id": 49785779, "comment_id": 86616015, "body": "@MichaelPuckettII See edit. I hope that makes this more clear."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1523553803, "post_id": 49785779, "comment_id": 86619697, "body": "@Will So let me make sure I&#39;m on the same page... If and only if you use the attachable StartColor / EndColor properties then you&#39;re control will render an attached default ColorAnimation that also correlates to those start / end colors?"}, {"owner": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1523560833, "post_id": 49785779, "comment_id": 86623304, "body": "@MichaelPuckettII Yes, correct."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 0, "creation_date": 1524022469, "post_id": 49785779, "comment_id": 86797135, "body": "Hey, I know it&#39;s been a minute and I&#39;m sure you&#39;ve solved this.. If not I can write the code and show you by example... But I&#39;m thinking and why not just provide a ColorAnimation attachable property?  Then you just attach a full color animation to an object and run it however you&#39;re choosing to run it. I see you&#39;re saying you don&#39;t want that in the question but why is confusing me. I can&#39;t understand a use case to avoid it."}, {"owner": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "reply_to_user": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 1, "creation_date": 1524060365, "post_id": 49785779, "comment_id": 86818984, "body": "@MichaelPuckettII Thanks but I got it figured out. I couldn&#39;t use a dependencyproperty to source an animation because doing so put the animation in a &quot;read-only&quot; state, so trying to update the animation resulted in an error. As for why, I&#39;m working with an animation that is a bit more complex than a simple color animation. Anyway, the issue has been resolved. Thanks though."}], "owner": {"reputation": 3010, "user_id": 1165477, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/443a6b8cdd45673a2ed50c5423a04eea?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1165477/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523547405, "creation_date": 1523488979, "last_edit_date": 1523547405, "question_id": 49785779, "link": "https://stackoverflow.com/questions/49785779/how-can-i-bind-attached-properties-to-attached-properties-in-code", "title": "How can I bind attached properties to attached properties in code?", "body": "<p>In compliance with the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete and Verifiable Example</a> requirements: </p>\n\n<pre><code>public class Attachable {\n    protected static readonly DependencyProperty\n        ColorAnimationProperty = DependencyProperty.RegisterAttached(\n            \"ColorAnimation\", typeof( ColorAnimation ),\n            typeof( Attachable ), new PropertyMetadata( new ColorAnimation ) );\n\n    public static readonly DependencyProperty\n        StartColorProperty = DependencyProperty.RegisterAttached(\n            \"StartColor\", typeof( Color ), typeof( Attachable ),\n            new PropertyMetadata( Colors.White ) ),\n        EndColorProperty = DependencyProperty.RegisterAttached(\n            \"EndColor\", typeof( Color ), typeof( Attachable ),\n            new PropertyMetadata( Colors.Black ) );\n\n    public static Color GetStartColor( FrameworkElement source ) =&gt;\n        ( Color )( source.GetValue( StartColorProperty ) );\n    public static void SetStartColor( FrameworkElement target, object value ) =&gt;\n        target.SetValue( StartColorProperty, value );\n    public static Color GetEndColor( FrameworkElement source ) =&gt;\n        ( Color )( source.GetValue( EndColorProperty ) );\n    public static void SetEndColor( FrameworkElement target, object value ) =&gt;\n        target.SetValue( EndColorProperty, value );\n\n    protected static ColorAnimation GetColorAnimation( FrameworkElement source ) =&gt;\n        source.GetValue( ColorAnimationProperty ) as ColorAnimation;\n}\n</code></pre>\n\n<p>Use in XAML: </p>\n\n<pre><code>&lt;Window\n    x:Class=\"MCVE.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:l=\"clr-namespace:MCVE\"\n    xmlns:lib=\"clr-namespace:System;assembly=mscorlib\"\n    mc:Ignorable=\"d\" Title=\"MainWindow\" Height=\"450\" Width=\"800\"\n    l:Attachable.StartColor=\"White\" l:Attachable.EndColor=\"Black\" /&gt;\n</code></pre>\n\n<p>I want the windows attached <code>StartColor</code> and <code>EndColor</code> properties to serve as the source for the Start and End values of its own attached <code>ColorAnimation</code> value automatically, without having to specify in XAML by assigning a new <code>ColorAnimation</code> to the <code>ColorAnimation</code> property and setting up the bindings.</p>\n\n<p>I know that I could write in a couple <code>DependencyPropertyChangedEventHandler</code> methods to assign the new values to the animation when the property changes, but that feels somewhat clunky and awkward to me, and I was hoping there was a different way of doing that.</p>\n\n<h2>Edit 1</h2>\n\n<p>To clarify my purpose, what I want is for a read-only <code>ColorAnimation</code> to be made available for each instance of the <code>FrameworkElement</code> that will use that <code>FrameworkElement</code>s attached <code>StartColor</code> and <code>EndColor</code> property values for its own <code>From</code> and <code>To</code> values, respectively. So, I would NOT want each control to have to define its own attached <code>ColorAnimation</code>, but rather, have each individual control that makes use of this have its own <code>ColorAnimation</code> by default, and only that one <code>ColorAnimation</code>.</p>\n"}, {"tags": ["c#", "string", "split"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9633193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9625abe7fd93c4195059f7d93a7e5dab?s=128&d=identicon&r=PG&f=1", "display_name": "Anandln", "link": "https://stackoverflow.com/users/9633193/anandln"}, "edited": false, "score": 0, "creation_date": 1523493725, "post_id": 49786137, "comment_id": 86587970, "body": "hello, thanks a lot for your time.  but  I&#39;m sorry for some reasons, it wouldn&#39;t display the values in the text boxes at all."}, {"owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "reply_to_user": {"reputation": 13, "user_id": 9633193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9625abe7fd93c4195059f7d93a7e5dab?s=128&d=identicon&r=PG&f=1", "display_name": "Anandln", "link": "https://stackoverflow.com/users/9633193/anandln"}, "edited": false, "score": 0, "creation_date": 1523532406, "post_id": 49786137, "comment_id": 86604848, "body": "Well, when I put it into a WInForms application with three textboxes, my code displays what it should display. Is your problem that you can&#39;t display any text in multiple textboxes?"}, {"owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "reply_to_user": {"reputation": 13, "user_id": 9633193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9625abe7fd93c4195059f7d93a7e5dab?s=128&d=identicon&r=PG&f=1", "display_name": "Anandln", "link": "https://stackoverflow.com/users/9633193/anandln"}, "edited": false, "score": 0, "creation_date": 1523534992, "post_id": 49786137, "comment_id": 86606566, "body": "I added a full demo example to assist anybody else coming along.  Of course I wasn&#39;t going to read the serial port in a demo because there would be no data on mine :) . If my response helped you solve this, please upvote and/or choose it as the correct answer.  Good Luck!"}], "tags": [], "owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "is_accepted": true, "score": 0, "last_activity_date": 1523534825, "last_edit_date": 1523534825, "creation_date": 1523492158, "answer_id": 49786137, "question_id": 49785714, "link": "https://stackoverflow.com/questions/49785714/splitting-serialport-data-into-different-textboxes-c/49786137#49786137", "title": "splitting serialport data into different textboxes C#", "body": "<p>If I have understood correctly, you receive data from an external device and you wish to split apart a string that contains multiple numeric data elements delimited by single characters, so you can display the results to different textboxes. </p>\n\n<p>This is a typical problem to be solved by people who receive data from an embedded system and need to learn how to handle it on a host PC, but are new to programming in C#.  </p>\n\n<p>There are many different ways to do this. Since you say you can receive and display the entire string in a single textbox, I will focus only on how to split it apart and display the parts in three different richTextBoxes.</p>\n\n<p>For a c# beginner, <code>string.split</code> and <code>substring</code> are pretty straightforward ways to break apart a string. Here is one simple example using string.split.</p>\n\n<p>I made a complete example for you: you can see below that it works. First I created a form containing three rich textboxes called rt1, rt2, and rt3, along with an input textbox called tbInput and a button called btnSplit.</p>\n\n<p>Then in the designer I double-clicked on the button to add an event handler for btnInput_click and added the code below to that handler. That's it!</p>\n\n<p><a href=\"https://i.stack.imgur.com/QRHqC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QRHqC.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>private void btnSplit_Click(object sender, EventArgs e)\n{\n    string blah = tbInput.Text;\n    tbInput.Clear();\n    var lst = blah.ToUpper().Split('E').ToList();\n    foreach (var item in lst)\n        if (item.Trim().StartsWith(\"S\"))\n            rt1.AppendText($\"Steps: {item.Remove(0, 1)} \\n\");\n        else if (item.Trim().StartsWith(\"T\"))\n            rt2.AppendText($\"Temperature: {item.Remove(0, 1)} \\n\");\n        else if (item.Trim().StartsWith(\"P\"))\n            rt3.AppendText($\"Pulse: {item.Remove(0, 1)} \\n\");\n}\n</code></pre>\n\n<p>The code converts the input to upper case, splits the string on the letter \"E\" and assigns the results to a list, so given the starting string containing three \"E\"s, you will now have a list containing three strings:</p>\n\n<pre><code>item01 == S111\nitem02 == T98.6\nitem03 == P70\n</code></pre>\n\n<p>I then trim leading and trailing white space and assign the result to one of three RichTextBoxes based on the leading character. I use <code>item.Remove(0,1)</code> to remove the leading character before appending the result to the textbox. I use interpolation to embed the result in a string of my choosing.</p>\n\n<p>I should probably point out that unless you are running this code on a thread other than the UI thread, you do not need to use an Action delegate and you do not need to Invoke anything. If you're on the main thread, just append the text to the textbox. </p>\n\n<p>If you <em>are</em> planning to make a cross-thread call to a control running on the UI, an <code>Action&lt;&gt;</code> delegate is not the right way to do this. If that's what you're trying to do, look at <code>MethodInvoker()</code>. However, I strongly recommend that you not try to use multiple threads until you are quite advanced as a programmer and have read several books on the subject. They certainly are not needed for a simple project like this one :)</p>\n\n<p>Does this help?</p>\n"}, {"comments": [{"owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "edited": false, "score": 0, "creation_date": 1523583526, "post_id": 49786390, "comment_id": 86631049, "body": "Glad you got it sorted. If you got an answer to your question, don&#39;t forget to come back and mark it as the answer."}], "tags": [], "owner": {"reputation": 13, "user_id": 9633193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9625abe7fd93c4195059f7d93a7e5dab?s=128&d=identicon&r=PG&f=1", "display_name": "Anandln", "link": "https://stackoverflow.com/users/9633193/anandln"}, "is_accepted": false, "score": 0, "last_activity_date": 1523494266, "creation_date": 1523494266, "answer_id": 49786390, "question_id": 49785714, "link": "https://stackoverflow.com/questions/49785714/splitting-serialport-data-into-different-textboxes-c/49786390#49786390", "title": "splitting serialport data into different textboxes C#", "body": "<p>@craig.Feied </p>\n\n<p>this was the part which I altered. \nthanks again for your help.</p>\n\n<pre><code>    private void DataReceivedHandler(object sender, SerialDataReceivedEventArgs e)\n    {\n        SerialPort serialPort1 = (SerialPort)sender;\n\n                var rt1 = new RichTextBox();\n                var rt2 = new RichTextBox();\n                var rt3 = new RichTextBox();\n                string blah = serialPort1.ReadLine();\n\n                var lst = blah.Split('E').ToList();\n                foreach (var item in lst)\n                    if (item.Trim().StartsWith(\"S\"))\n                        rt1.AppendText($\"Steps: {item.Remove(0, 1)} \\n\");\n                    else if (item.Trim().StartsWith(\"T\"))\n                        rt2.AppendText($\"Temperature: {item.Remove(0, 1)} \\n\");\n                    else if (item.Trim().StartsWith(\"P\"))\n                        rt3.AppendText($\"Pulse: {item.Remove(0, 1)} \\n\");\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9633193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9625abe7fd93c4195059f7d93a7e5dab?s=128&d=identicon&r=PG&f=1", "display_name": "Anandln", "link": "https://stackoverflow.com/users/9633193/anandln"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 649, "favorite_count": 0, "accepted_answer_id": 49786137, "answer_count": 2, "score": 1, "last_activity_date": 1523534825, "creation_date": 1523488554, "last_edit_date": 1523489817, "question_id": 49785714, "link": "https://stackoverflow.com/questions/49785714/splitting-serialport-data-into-different-textboxes-c", "title": "splitting serialport data into different textboxes C#", "body": "<p>I'm new to c#. </p>\n\n<p>I'm using the Nucleo board to send data through a serial port into my GUI. The data consists of pulse rate, number of steps and body temperature. </p>\n\n<p>My code here works completely fine to display all the data into a <strong>single</strong> textbox, <strong>but I want to display each value in different textboxes</strong>. </p>\n\n<p>This is what the incoming data looks like </p>\n\n<pre><code>S0E // where \"S\" is for steps and \"E\" is for the end \nP5E  //  where \"P\" is for pulse rate and \"E\" is for the end \nT22.5E //  where \"T\" is for body temp. and \"E\" is for the end \n</code></pre>\n\n<p>Here is the code I am using:  </p>\n\n<pre><code>  private void showbtn_Click(object sender, EventArgs e)    //Showbtn click\n    {\n        text.Clear();   //clears the text in the textbox\n        bool foundUser = false;   // sets the boolean foundUser to false\n        int userindex = 0; // sets interger to zero\n        for (int i = 0; i &lt; userlist.Count; i++)   \n        {\n            if (userlist[i].name.Equals(Nametb.Text))  // if the user entered name equals to the name in the list\n            {\n                foundUser = true;\n                userindex = i;\n            }\n        }\n        if (foundUser == true)\n        {\n            string userText;     // the following lines of code displays the user details in the textbox\n            userText = \"name :\" + userlist[userindex].name + \"user :\" + Environment.NewLine + \"age:\" + userlist[userindex].age +\n                Environment.NewLine + \" gender:\" + userlist[userindex].gender + Environment.NewLine + \"height:\" + userlist[userindex].height + \n                Environment.NewLine + \"weight:\" + userlist[userindex].weight + Environment.NewLine + \"BMI :\" + userlist[userindex].bmI;\n            text.Text = userText;\n        }\n        else\n        {\n            text.Text = \"no user found\";  // if the user not found displays as \"no user Found\"\n        }\n\n        t = comboBox1.Text.ToString();\n\n        sErial(t);\n    }\n\n        private void button2_Click(object sender, EventArgs e)   // searches for available com ports\n    {\n        string[] ports = SerialPort.GetPortNames();\n        foreach (string port in ports)\n        {\n            comboBox1.Items.Add(port);   // adds them to the combo box\n        }\n    }\n    string t;   \n    private SerialPort SerialPort1;\n\n\n    void sErial(string Port_name)\n    {\n        SerialPort1 = new SerialPort(Port_name, 9600, Parity.None, 8, StopBits.One);    //serial port properties\n        SerialPort1.DataReceived += new SerialDataReceivedEventHandler(DataReceivedHandler);   \n        SerialPort1.Open();   //opens serial port\n    }\n\n    private void DataReceivedHandler(object sender, SerialDataReceivedEventArgs e)\n    {\n        SerialPort serialPort1 = (SerialPort)sender;\n\n        string w = serialPort1.ReadLine();   // assigns the data from the serial port to a string\n\n\n        if (w != String.Empty)\n        {\n            if (abort == false)\n            {\n\n                Invoke(new Action(() =&gt; rt1.AppendText(w)));   // displays the data in a textbox\n            }\n        }\n\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "dataset"], "answers": [{"tags": [], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "is_accepted": true, "score": 1, "last_activity_date": 1523491298, "creation_date": 1523491298, "answer_id": 49786048, "question_id": 49785646, "link": "https://stackoverflow.com/questions/49785646/accessing-dataset-returned-from-my-dal/49786048#49786048", "title": "Accessing DataSet Returned from my DAL", "body": "<p>At a quick glance the following errors stand out.</p>\n\n<ol>\n<li><p>Your <code>dal</code> variable isn't declared instance, since you didn't define static you need to provide a new operator to create an instance.</p></li>\n<li><p>You call <code>ds</code> but don't have it defined in your gopher class, thus it doesn't exists or have a definition.</p></li>\n<li><p>Your data access layer class method returns a data set, but you instantiate without storing the returned value.  Example:</p>\n\n<p>var set = new DataAccessLayer().RunSQLServerStoredProcedure(...);</p></li>\n</ol>\n\n<p>The variable <code>set</code> will now hold your returned data set from the method, you also define your data access layer.  </p>\n"}], "owner": {"reputation": 65, "user_id": 2932408, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8e9a0e91881e0191722c4ce50b1846c8?s=128&d=identicon&r=PG&f=1", "display_name": "user2932408", "link": "https://stackoverflow.com/users/2932408/user2932408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "accepted_answer_id": 49786048, "answer_count": 1, "score": 0, "last_activity_date": 1523491298, "creation_date": 1523488120, "question_id": 49785646, "link": "https://stackoverflow.com/questions/49785646/accessing-dataset-returned-from-my-dal", "title": "Accessing DataSet Returned from my DAL", "body": "<p>I am attempting to use ASP.Net and generate a Database Access Layer for re-usability.  I am using the below to pass a stored procedure name to my DAL and execute the stored procedure, then return the results as a dataset.</p>\n\n<p>However, in the calling class, I am getting the error</p>\n\n<blockquote>\n  <p>the name ds does not exist in the current context</p>\n</blockquote>\n\n<p>What should I alter so that I can access the returned dataset in my calling class?</p>\n\n<pre><code>class DatabaseAccessLayer\n{\n    public DataSet RunSQLServerStoredProcedure(string uspName)\n    {\n        using (SqlConnection con = new SqlConnection(essToUse))\n        {\n            SqlCommand sqlComm = new SqlCommand(uspName, con);\n            sqlComm.CommandType = CommandType.StoredProcedure;\n\n            SqlDataAdapter da = new SqlDataAdapter();\n            da.SelectCommand = sqlComm;\n\n            DataSet ds = new DataSet();\n            da.Fill(ds);\n            return ds;\n        }\n    }\n}\n\nclass Gopher\n{\n    DatabaseAccessLayer dal;\n\n    public void PopulateHootersStores()\n    {\n        DataRow dr;\n        dal.RunSQLServerStoredProcedure(\"ReturnStoredProc\");\n\n        DataTable dt = ds.Tables[0];\n\n        dr = dt.NewRow();\n        dr.ItemArray = new object[] { 0, \"--Select A Store--\" };\n        dt.Rows.InsertAt(dr, 0);\n\n        //Adding in All option\n        dr = dt.NewRow();\n        dr.ItemArray = new object[] { 1, \"All\" };\n        dt.Rows.InsertAt(dr, 1);\n\n        cboTest.ValueMember = \"StoreNumber\";\n\n        cboTest.DisplayMember = \"StoreName\";\n        cboTest.DataSource = dt;\n\n        con.Close();\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "regex", "winforms", "amq"], "comments": [{"owner": {"reputation": 3857, "user_id": 6395388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1211707342181814/picture?type=large", "display_name": "Derek Brown", "link": "https://stackoverflow.com/users/6395388/derek-brown"}, "edited": false, "score": 1, "creation_date": 1523488486, "post_id": 49785552, "comment_id": 86586810, "body": "Welcome to Stack Overflow! You seem to be asking for someone to write some code for you. Stack Overflow is a question and answer site, not a code-writing service. Please <a href=\"http://stackoverflow.com/help/how-to-ask\">see here</a> to learn how to write effective questions."}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 9028053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/455095178a4287fdfeb15b4887e4f937?s=128&d=identicon&r=PG&f=1", "display_name": "peter s", "link": "https://stackoverflow.com/users/9028053/peter-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1524231296, "last_edit_date": 1524231296, "creation_date": 1524229152, "answer_id": 49942247, "question_id": 49785552, "link": "https://stackoverflow.com/questions/49785552/regex-expression-to-extract-data-between-braces-and-load-into-amq/49942247#49942247", "title": "Regex Expression to extract data between braces and load into AMQ", "body": "<pre><code>if ((stream = File.OpenFile()) != null)\n{\n    using (StreamReader reader = new StreamReader(stream))\n    {\n        string patternstart = Regex.Escape(\"[[\");\n        string patternend = Regex.Escape(\"]]\");\n        string pattern = patternstart + @\"(.*?)\" + patternend;\n        var tempdata = reader.ReadToEnd();\n        str = Regex.Matches(tempdata, pattern).Cast&lt;Match&gt;().Select(m =&gt; m.Groups[1].Value).ToList();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9028053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/455095178a4287fdfeb15b4887e4f937?s=128&d=identicon&r=PG&f=1", "display_name": "peter s", "link": "https://stackoverflow.com/users/9028053/peter-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -6, "last_activity_date": 1524231296, "creation_date": 1523487436, "question_id": 49785552, "link": "https://stackoverflow.com/questions/49785552/regex-expression-to-extract-data-between-braces-and-load-into-amq", "title": "Regex Expression to extract data between braces and load into AMQ", "body": "<p>I'm developing a WinForm, C#. I have a data in a log file. I have loaded that data into a textbox. I got stuck while writing regex expression, I want to filter data between \"[[\" and \"]]\" present in a text box. I have this type of braces multiple times. and I want to load this data into the server using AMQ separately.</p>\n"}, {"tags": ["c#", "data-structures"], "answers": [{"tags": [], "owner": {"reputation": 708, "user_id": 6540292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfac93d8c8c2c645ca2d70f2328e260?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Fischer", "link": "https://stackoverflow.com/users/6540292/ray-fischer"}, "is_accepted": true, "score": 3, "last_activity_date": 1523487324, "creation_date": 1523487324, "answer_id": 49785526, "question_id": 49785455, "link": "https://stackoverflow.com/questions/49785455/c-implicit-variable-how-would-it-be-stored-if-not-initialized/49785526#49785526", "title": "C# implicit variable how would it be stored if not initialized", "body": "<p>'var a;' isn't legal because it doesn't indicate a type, so the compiler will reject it.<br>\nIf you declare 'int a' and use it without initializing then the compiler will give also you an error.</p>\n\n<p>So the answer is \"you can't get there from here\".  Variables must given a type, explicitly or implied from the assigned value, and must have been given a value before being read.</p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 9096642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd660df02021e976de93abfc8a546aa4?s=128&d=identicon&r=PG&f=1", "display_name": "sbsd", "link": "https://stackoverflow.com/users/9096642/sbsd"}, "is_accepted": false, "score": 1, "last_activity_date": 1523496338, "creation_date": 1523496338, "answer_id": 49786610, "question_id": 49785455, "link": "https://stackoverflow.com/questions/49785455/c-implicit-variable-how-would-it-be-stored-if-not-initialized/49786610#49786610", "title": "C# implicit variable how would it be stored if not initialized", "body": "<p>Just a heads up - your question was </p>\n\n<blockquote>\n  <p>What happens/what data structure would C# <strong>explicit</strong> variable be stored if not initialized</p>\n</blockquote>\n\n<p>However the documentation you're looking at is for <strong>implicit</strong> variables - which <em>have</em> to be initialized else the code won't compile.</p>\n"}], "owner": {"reputation": 541, "user_id": 3822038, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/edb32f7a768bcafce4b72dbcf5dacd5a?s=128&d=identicon&r=PG&f=1", "display_name": "echo", "link": "https://stackoverflow.com/users/3822038/echo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 49785526, "answer_count": 2, "score": 0, "last_activity_date": 1523654571, "creation_date": 1523486827, "last_edit_date": 1523654571, "question_id": 49785455, "link": "https://stackoverflow.com/questions/49785455/c-implicit-variable-how-would-it-be-stored-if-not-initialized", "title": "C# implicit variable how would it be stored if not initialized", "body": "<p>I get asked what happens/what data structure would C# implicit variable be stored if not initialized?\nlike var a; \nand we never use var after that</p>\n\n<p>But I could not find the answer online or searching the documentation \n<a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/implicitly-typed-local-variables</a></p>\n\n<p>So I think it is mean to be a trick question where as var has to be = to same thing for the complier to decide what it is?</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 1090, "user_id": 7396598, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/4b5d7500a00bd4aa5a9be5f61b032dfa?s=128&d=identicon&r=PG", "display_name": "user7396598", "link": "https://stackoverflow.com/users/7396598/user7396598"}, "edited": false, "score": 0, "creation_date": 1523490777, "post_id": 49785448, "comment_id": 86587357, "body": "Reflection is expensive, relative to other operations, you could either explicitly choose the elements you want to loop through, this is nice for programmers coming after you to see exactly what is happening but less useful if your object is still evolving and will have more collection elements, or you could put all the collections into a parent collection in order to avoid the reflection call.  But good job on locating an answer for yourself."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523493222, "post_id": 49785448, "comment_id": 86587890, "body": "Did you mean to define <code>jazz</code>,<code>dining</code>, etc. as properties? They are currently defined as public fields (considered a <a href=\"https://softwareengineering.stackexchange.com/questions/161303/is-it-bad-practice-to-use-public-fields\">bad practice</a>)."}], "answers": [{"comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523490452, "post_id": 49785622, "comment_id": 86587274, "body": "Are you sure that works? I think it will always return an empty set, since <code>GetProperties()</code> returns an array of type <code>PropertyInfo[]</code>."}], "tags": [], "owner": {"reputation": 31, "user_id": 9633133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438ad6fbf31c7fa87b110c27e1399161?s=128&d=identicon&r=PG&f=1", "display_name": "Maarten G", "link": "https://stackoverflow.com/users/9633133/maarten-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1523487955, "creation_date": 1523487955, "answer_id": 49785622, "question_id": 49785448, "link": "https://stackoverflow.com/questions/49785448/loop-through-an-object-that-contains-both-ienumerable-and-variables/49785622#49785622", "title": "Loop through an object that contains both IEnumerable and variables", "body": "<p>I found the solution myself.</p>\n\n<p>I had to use</p>\n\n<pre><code>Model.GetType().GetProperties().OfType&lt;IEnumerable&lt;object&gt;&gt;()\n</code></pre>\n\n<p>in order to filter out all the IEnumerable within the class.</p>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 1, "last_activity_date": 1523490327, "creation_date": 1523490327, "answer_id": 49785935, "question_id": 49785448, "link": "https://stackoverflow.com/questions/49785448/loop-through-an-object-that-contains-both-ienumerable-and-variables/49785935#49785935", "title": "Loop through an object that contains both IEnumerable and variables", "body": "<p>You need to <a href=\"https://stackoverflow.com/questions/3723934/using-propertyinfo-to-find-out-the-property-type\">filter the properties by their <code>PropertyType</code></a> and check to see if it is a type that implements an interface whose type definition is <code>IEnumerable&lt;&gt;</code>. Here's how to do it with LINQ:</p>\n\n<pre><code>Model.GetType().GetProperties().Where( p =&gt;\n    p.PropertyType.GetInterfaces().Any( i =&gt;\n        i.IsGenericType &amp;&amp;\n        i.GetGenericTypeDefinition() == typeof(IEnumerable&lt;&gt;)\n    )\n);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9633133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/438ad6fbf31c7fa87b110c27e1399161?s=128&d=identicon&r=PG&f=1", "display_name": "Maarten G", "link": "https://stackoverflow.com/users/9633133/maarten-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1523490327, "creation_date": 1523486768, "question_id": 49785448, "link": "https://stackoverflow.com/questions/49785448/loop-through-an-object-that-contains-both-ienumerable-and-variables", "title": "Loop through an object that contains both IEnumerable and variables", "body": "<p>I'm currently working in ASP.NET with C# and ran into some problems.</p>\n\n<p>I have the following class:</p>\n\n<pre><code>public class AvailableTicket\n{\n    public IEnumerable&lt;Jazz&gt; jazz;\n    public IEnumerable&lt;Dining&gt; dining;\n    public IEnumerable&lt;Walking&gt; walking;\n    public IEnumerable&lt;Talking&gt; talking;\n\n    public IEnumerable&lt;Ticket&gt; tickets;\n\n    public int amountToOrder;\n    public string Option;\n}\n</code></pre>\n\n<p>In the view, I'd like to loop through the IEnumerables in the class.\nI've looked up GetType().GetProperties but I'm stuck here.</p>\n\n<p>What do I use in the foreach to only select the IEnumerable in the object?</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asynchronous", ".net-core"], "comments": [{"owner": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "edited": false, "score": 0, "creation_date": 1523490631, "post_id": 49785447, "comment_id": 86587318, "body": "Since your method returns boolean, you can return <code>return post.PostLikes.Any(pl =&gt; pl.UserId == userId);</code>"}, {"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "reply_to_user": {"reputation": 3419, "user_id": 3715778, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ecfe74090d7f2a9ba912f65ae33f83be?s=128&d=identicon&r=PG&f=1", "display_name": "koryakinp", "link": "https://stackoverflow.com/users/3715778/koryakinp"}, "edited": false, "score": 0, "creation_date": 1523490876, "post_id": 49785447, "comment_id": 86587378, "body": "@koryakinp, could you explain? actually that line should not be the problem (as I think)."}, {"owner": {"reputation": 786, "user_id": 7324631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09c0ec157fc12c51ddef687a838c3a2?s=128&d=identicon&r=PG&f=1", "display_name": "H.Mikhaeljan", "link": "https://stackoverflow.com/users/7324631/h-mikhaeljan"}, "edited": false, "score": 0, "creation_date": 1523491702, "post_id": 49785447, "comment_id": 86587569, "body": "@MohammedNoureldin hope this <a href=\"https://stackoverflow.com/questions/35011656/async-await-in-linq-select\">link</a> comes in handy. Maybe im overlooking but I dont see any errors. You could just incase split the select tasks to a seperate var and after call the WhenAll. eventough it should not matter but maybe it reacts different. I will delete my post sorry I misunderstood your question before"}, {"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "reply_to_user": {"reputation": 786, "user_id": 7324631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f09c0ec157fc12c51ddef687a838c3a2?s=128&d=identicon&r=PG&f=1", "display_name": "H.Mikhaeljan", "link": "https://stackoverflow.com/users/7324631/h-mikhaeljan"}, "edited": false, "score": 0, "creation_date": 1523491880, "post_id": 49785447, "comment_id": 86587613, "body": "@H.Mikhaeljan, could you suggest the editing in an answer?"}, {"owner": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 0, "creation_date": 1523493059, "post_id": 49785447, "comment_id": 86587862, "body": "Can&#39;t you simply create one database query that already returns all neccessary data (<i>Post</i>s and <i>PostLikes</i>) together? It should be simple <code>join</code> of  <i>Posts</i>, <i>Users</i> and <i>PostLikes</i> tables. Issuing new database query for each post is performance killer and async code cannot make it much better."}, {"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "reply_to_user": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 0, "creation_date": 1523495947, "post_id": 49785447, "comment_id": 86588431, "body": "@\u0147uf that can&#39;t be performance issue, processor can absolutely handle more than 2 queries per second. However, could you please show me in an answer your suggestion?"}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 0, "creation_date": 1523497255, "post_id": 49785447, "comment_id": 86588709, "body": "Have you tested the performance of your queries individually? Also, is your repository designed to handle multiple requests at once, or does it process them synchronously and in order?"}, {"owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "edited": false, "score": 0, "creation_date": 1523497609, "post_id": 49785447, "comment_id": 86588798, "body": "It looks like your database is slow when attempting to handle 30 queries all at once 3 times over, and that it happens to be returning all of the results at the same time."}, {"owner": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 1, "creation_date": 1523504270, "post_id": 49785447, "comment_id": 86590179, "body": "@MohammedNoureldin: I did not suggest that it is a performance issue. Instead I wanted to indicate that it actually might be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378\">XY problem</a>. Instead writing complicated async code that is querying <i>PostLikes</i> for individual <i>Post</i>s (which is terribly inefficient), you can completely avoid your problem by gathering all data in one single query (if possible). Not only such solution should use database more efficiently, it should also be simpler to write such code."}, {"owner": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 1, "creation_date": 1523504281, "post_id": 49785447, "comment_id": 86590183, "body": "If you are using <i>entity framework</i>, you don&#39;t event need to &#39;join&#39; tables yourself, EF will do it automatically with query like this: <code>from Post p in dbContext.Posts where p.UserId == userId select new PostViewModel() { PostContent = p.Content, IsLiked = p.PostLikes.Any(v =&gt; v.UserId == UserId), ... }</code>"}, {"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "reply_to_user": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 0, "creation_date": 1523551391, "post_id": 49785447, "comment_id": 86618379, "body": "@\u0147uf, thank you, it is actually about understanding the exact problem, not only finding a workaround for it. I could not till now understand what the problem is and why is it happening."}, {"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "reply_to_user": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 0, "creation_date": 1523555885, "post_id": 49785447, "comment_id": 86620744, "body": "@\u0147uf To be honest, I am not sure that your explanation is correct, I still think that calling <code>async</code> lambda in any function will not await for every single one of them, but will return a task of it which should continue working in the background. If I am wrong please give me any possible solution for the problem?"}, {"owner": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 0, "creation_date": 1523610050, "post_id": 49785447, "comment_id": 86640544, "body": "@MohammedNoureldin: I understand that you asked the question to educate yourself and are not looking for an workaroud, that&#39;t why I wrote it as a comment, not an answer. It is correct that several async queries should be able to run at once in the background. But issuing potentially hundreds of queries at once is not a good idea (database would not be able to process them at once anyway) and it&#39;s likely that some lower layer (EF, ADO.NET provider or network connection manager) will limit number of concurrent queries."}, {"owner": {"reputation": 5518, "user_id": 1286670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53d9519573d751bb058f420f1119960?s=128&d=identicon&r=PG", "display_name": "\u0147uf", "link": "https://stackoverflow.com/users/1286670/%c5%87uf"}, "edited": false, "score": 0, "creation_date": 1523610066, "post_id": 49785447, "comment_id": 86640556, "body": "And no matter how successffull you will be in fixig your async code, you will never get even close to the performance of single query. Not only one query can be performed by database much more efficiently than bunch of (simple) queries, but it also avoids many webserver-&gt;database-&gt;webserver round-trips (each adding latency) and will scale much better as number of posts will start to grow further. So i believe it is something you should consider in realword scenario. BTW IIRC Entity Framework doesn&#39;t support concurrent querries on a single DbContext-are you sure you don&#39;t use it in such a way?"}], "answers": [{"comments": [{"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "edited": false, "score": 0, "creation_date": 1523580689, "post_id": 49786580, "comment_id": 86630400, "body": "Could you take a look at the Update 2 in my question?"}], "tags": [], "owner": {"reputation": 16898, "user_id": 696056, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0f1yI.jpg?s=128&g=1", "display_name": "cwharris", "link": "https://stackoverflow.com/users/696056/cwharris"}, "is_accepted": false, "score": 0, "last_activity_date": 1523496084, "creation_date": 1523496084, "answer_id": 49786580, "question_id": 49785447, "link": "https://stackoverflow.com/questions/49785447/why-doesnt-async-execution-work-in-select/49786580#49786580", "title": "Why doesn&#39;t async execution work in `select`?", "body": "<p>The deductions you've made are not necessarily true.</p>\n\n<p>If these methods were firing in a non-asynchronous fashion, you would see all of the logs from one method invocation reach the console before the next method invocation's console logs. You would see the pattern <code>123123123</code> instead of <code>111222333</code>. What you are seeing is that the three <code>awaits</code> seem to synchronize <em>after</em> some asynchronous batching occurs. Thus it appears that the operations are made in stages. But why?</p>\n\n<p>There are a couple reasons this might happen. Firstly, the scheduler may be scheduling all of your tasks to the same thread, causing each task to be queued and then processed when the previous execution flow is complete. Since <code>Task.WhenAll</code> is awaited <em>outside of the <code>Select</code> loop</em>, all synchronous portions of your async methods are executed before any one <code>Task</code> is <code>awaited</code>, therefore causing all of the \"first\" log invocations to be called <em>immediately following the invocation of that method.</em></p>\n\n<p>So then what's the deal with the others syncing up later? The same thing is happening. Once all of your methods hit their first <code>await</code>, the execution flow is yielded to whatever code invoked that method. In this case, that is your <code>Select</code> statement. Behind the scenes, however, all of those async operations are processing. This creates a race condition.</p>\n\n<p>Shouldn't there be some chance of the third log of some methods being called before the second log of another method, due to varying request/response times? Most of the time, yes. Except you've introduced a sort of \"delay\" in to the equation, making the race condition more predictable. <code>Console</code> logging is actually quite slow, and is also synchronous. This causes all of your methods to block at the logging line until the previous logs have completed. But blocking, by itself, may not be enough to make all of those log calls sync up in pretty little batches. There may be another factor at play.</p>\n\n<p>It would appear that you are querying a database. Since this is an IO operation, it takes considerably longer to complete than other operations (including console logging, probably). This means that, although the queries aren't synchronous, they will in all likelihood receive a response <em>after</em> all of the queries/requests have already been sent, and therefore after the second log line from each method has already executed. The remaining log lines are processed eventually, and therefore fall in to the last batch.</p>\n\n<p>Your code is being processed asynchronously. It just doesn't look quite how you might expect. Async doesn't mean random order. It just means some code flow is paused until a later condition is met, allowing other code to be processed in the mean time. If the conditions happen to sync up, then so does your code flow.</p>\n"}, {"comments": [{"owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "edited": false, "score": 0, "creation_date": 1523623401, "post_id": 49816431, "comment_id": 86649007, "body": "It cannot be the degree of parallelism, I can notice that 3 <code>post</code>s takes longer than 1 <code>post</code>. Can&#39;t it handle 3 parallel queries? That can&#39;t be true"}], "tags": [], "owner": {"reputation": 301, "user_id": 6391337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ed4199d1a64671cc2caac27f64ae9e9?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Alonzov", "link": "https://stackoverflow.com/users/6391337/andrey-alonzov"}, "is_accepted": false, "score": 0, "last_activity_date": 1523620550, "creation_date": 1523620550, "answer_id": 49816431, "question_id": 49785447, "link": "https://stackoverflow.com/questions/49785447/why-doesnt-async-execution-work-in-select/49816431#49816431", "title": "Why doesn&#39;t async execution work in `select`?", "body": "<p>Actually async execution works, but it doesn't work as you expect. <code>Select</code> statement starts tasks for all posts and then they all work concurrently that leads you to performance problems you.</p>\n\n<p>The best approach to achieve expected behavior is to reduce the degree of parallelism. There are no build-in tools to do that so I can offer 2 workarounds:</p>\n\n<ol>\n<li><p>Use <a href=\"https://www.nuget.org/packages/Microsoft.Tpl.Dataflow\" rel=\"nofollow noreferrer\">TPL DataFlow</a> library. It is developed by Microsoft but not very popular. You can easily find enough examples though.</p></li>\n<li><p>Manage parallel tasks by yourself with <code>SemaphoreSlim</code>. It would look like this:</p>\n\n<pre><code>semaphore = new SemaphoreSlim(degreeOfParallelism);\ncts = new CancellationTokenSource();\nvar postVMs = await Task.WhenAll(\nposts.Select(async p =&gt; \n{\n    await semaphore.WaitAsync(cts.Token).ConfigureAwait(false);\n    cts.Token.ThrowIfCancellationRequested();\n    new PostViewModel\n    {\n        PostId = p.Id,\n        PostContent = p.Content,\n        PostTitle = p.Title,\n        WriterAvatarUri = fileService.GetFileUri(p.Writer.Profile.AvatarId, Url),\n        WriterFullName = p.Writer.Profile.FullName,\n        WriterId = p.WriterId,\n        Liked = await postService.IsPostLikedByUserAsync(p.Id, UserId),// TODO this takes too long!!!!\n    }\n    semaphore.Release();\n}));\n</code></pre></li>\n</ol>\n\n<p>And don't forget to use .ConfigureAwait(false) whenever it's possible.</p>\n"}], "owner": {"reputation": 9213, "user_id": 1988508, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/X8yzA.jpg?s=128&g=1", "display_name": "Mohammed Noureldin", "link": "https://stackoverflow.com/users/1988508/mohammed-noureldin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523620550, "creation_date": 1523486758, "last_edit_date": 1523616876, "question_id": 49785447, "link": "https://stackoverflow.com/questions/49785447/why-doesnt-async-execution-work-in-select", "title": "Why doesn&#39;t async execution work in `select`?", "body": "<p>I am calling this action (ASP.Net Core 2.0) over AJAX:</p>\n\n<pre><code>[HttpGet]\npublic async Task&lt;IActionResult&gt; GetPostsOfUser(Guid userId, Guid? categoryId)\n{\n    var posts = await postService.GetPostsOfUserAsync(userId, categoryId);\n\n    var postVMs = await Task.WhenAll(\n        posts.Select(async p =&gt; new PostViewModel\n        {\n            PostId = p.Id,\n            PostContent = p.Content,\n            PostTitle = p.Title,\n            WriterAvatarUri = fileService.GetFileUri(p.Writer.Profile.AvatarId, Url),\n            WriterFullName = p.Writer.Profile.FullName,\n            WriterId = p.WriterId,\n            Liked = await postService.IsPostLikedByUserAsync(p.Id, UserId),// TODO this takes too long!!!!\n        }));\n\n    return Json(postVMs);\n}\n</code></pre>\n\n<p>But it took too long to response (20 seconds!!!) in case I have many <code>post</code> objects in <code>posts</code> \n array (e.g. 30 posts).<br>\nThat is caused because of this line <code>await postService.IsPostLikedByUserAsync</code>.</p>\n\n<p>Digging into the source code of this function:</p>\n\n<pre><code>public async Task&lt;bool&gt; IsPostLikedByUserAsync(Guid postId, Guid userId)\n{\n    logger.LogDebug(\"Place 0 passed!\");\n\n    var user = await dbContext.Users\n        .SingleOrDefaultAsync(u =&gt; u.Id == userId);\n\n    logger.LogDebug(\"Place 1 passed!\");\n\n    var post = await dbContext.Posts\n        .SingleOrDefaultAsync(u =&gt; u.Id == postId);\n\n    logger.LogDebug(\"Place 2 passed!\");\n\n    if (user == null || post == null)\n        return false;\n\n    return post.PostLikes.SingleOrDefault(pl =&gt; pl.UserId == userId) != null;\n}\n</code></pre>\n\n<p>The investigations showed, after some seconds, <strong>ALL</strong> \"Place 1 passed!\" logging methods are executed together for every <code>post</code> object. In other words, it seems that every post <code>await</code>s until the previous post finishes executing this part:</p>\n\n<pre><code> var user = await dbContext.Users\n        .Include(u =&gt; u.PostLikes)\n        .SingleOrDefaultAsync(u =&gt; u.Id == userId);\n</code></pre>\n\n<p>And then -when every post finishes that part- the place 1 of log is executed for all <code>post</code> objects.</p>\n\n<p>The same happens for logging place 2, every single post seems to await for the previous post to finish executing <code>var post = await dbContext.Pos...</code>, and then the function can go further to execute log place 2 (after few seconds from log 1, ALL log 2 appear together).</p>\n\n<p>That means I have <strong>no asynchronous execution here</strong>. Could some one help me to understand and solve this problem?</p>\n\n<h1>UPDATE:</h1>\n\n<p>Changing the code a bit to look like this:</p>\n\n<pre><code>    /// &lt;summary&gt;\n    /// Returns all post of a user in a specific category.\n    /// If the category is null, then all of that user posts will be returned from all categories\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"userId\"&gt;&lt;/param&gt;\n    /// &lt;param name=\"categoryId\"&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    [Authorize]\n    [HttpGet]\n    public async Task&lt;IActionResult&gt; GetPostsOfUser(Guid userId, Guid? categoryId)\n    {\n        var posts = await postService.GetPostsOfUserAsync(userId, categoryId);\n        var i = 0;\n        var j = 0;\n        var postVMs = await Task.WhenAll(\n            posts.Select(async p =&gt;\n            {\n                logger.LogDebug(\"DEBUG NUMBER HERE BEFORE RETURN: {0}\", i++);\n                var isLiked = await postService.IsPostLikedByUserAsync(p.Id, UserId);// TODO this takes too long!!!!\n                logger.LogDebug(\"DEBUG NUMBER HERE AFTER RETURN: {0}\", j++);\n                return new PostViewModel\n                {\n                    PostId = p.Id,\n                    PostContent = p.Content,\n                    PostTitle = p.Title,\n                    WriterAvatarUri = fileService.GetFileUri(p.Writer.Profile.AvatarId, Url),\n                    WriterFullName = p.Writer.Profile.FullName,\n                    WriterId = p.WriterId,\n                    Liked = isLiked,\n                };\n            }));\n\n        return Json(postVMs);\n    }\n</code></pre>\n\n<p>That shows, that this line \"DEBUG NUMBER HERE AFTER RETURN\" is printed for ALL <code>select</code> methods together, that means that ALL <code>select</code> methods waits for each other before going further, how can I prevent that?</p>\n\n<h1>UPDATE 2</h1>\n\n<p>Substituting the previous <code>IsPostLikedByUserAsync</code>method, with the following one:</p>\n\n<pre><code>public async Task&lt;bool&gt; IsPostLikedByUserAsync(Guid postId, Guid userId)\n{\n    await Task.Delay(1000);\n}\n</code></pre>\n\n<p>Showed no problem in async running, I had to wait only 1 second, not 1 x 30.\nThat means it is something specific to EF.</p>\n\n<p>Why does the problem happen ONLY with entity framework (with the original function)? I notice the problem even with only 3 <code>post</code> objects! Any new ideas?</p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 7159, "user_id": 1251127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w1M26.jpg?s=128&g=1", "display_name": "ESG", "link": "https://stackoverflow.com/users/1251127/esg"}, "edited": false, "score": 1, "creation_date": 1523490964, "post_id": 49785431, "comment_id": 86587399, "body": "You should make your life easier and use parameters instead of string concatenation. Not only will it escape and quote things properly for you, il will prevent potential SQL injections."}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 0, "creation_date": 1523507969, "post_id": 49785431, "comment_id": 86591223, "body": "Nitpicking: you are <i>not</i> connecting to SSMS - this is just a GUI frontend tool. What you&#39;re connecting to is <b>SQL Server</b> (the database engine)"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1523508167, "post_id": 49785431, "comment_id": 86591284, "body": "Does Little Bobby Tables go to this school?  <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "edited": false, "score": 2, "creation_date": 1523499008, "post_id": 49785534, "comment_id": 86589084, "body": "While this could potentially be the answer to male the code function as expected, it\u2019s very bad practice to use string concatenation for constructing a SQL query."}, {"owner": {"reputation": 179, "user_id": 8353607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2d00488d03ed6c950563fdfd743ae48?s=128&d=identicon&r=PG&f=1", "display_name": "Saliou673", "link": "https://stackoverflow.com/users/8353607/saliou673"}, "reply_to_user": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "edited": false, "score": 0, "creation_date": 1523662249, "post_id": 49785534, "comment_id": 86668370, "body": "use a SqlParameter to do it as : string loadMainInfo = &quot;SELECT * FROM Main_Information WHERE Username = @paramName&quot;&#39;;   SqlParameter param1 = new SqlParameter ()  ; param1.ParameterName=&quot;@paramName&quot; param1.SqlDbType= SqlDbType.Varchar; param1.Value=  Globals.username; cmd.Parameters.Add(param1);"}, {"owner": {"reputation": 1259, "user_id": 5203905, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JCVgxdTepjU/AAAAAAAAAAI/AAAAAAAAAEU/qA9OPdvzaF0/photo.jpg?sz=128", "display_name": "Shane Ray", "link": "https://stackoverflow.com/users/5203905/shane-ray"}, "edited": false, "score": 0, "creation_date": 1523670936, "post_id": 49785534, "comment_id": 86669851, "body": "You should make that your answer."}], "tags": [], "owner": {"reputation": 179, "user_id": 8353607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2d00488d03ed6c950563fdfd743ae48?s=128&d=identicon&r=PG&f=1", "display_name": "Saliou673", "link": "https://stackoverflow.com/users/8353607/saliou673"}, "is_accepted": false, "score": 0, "last_activity_date": 1523487354, "creation_date": 1523487354, "answer_id": 49785534, "question_id": 49785431, "link": "https://stackoverflow.com/questions/49785431/cant-seem-to-get-a-datareader-to-work-in-c-sql-server/49785534#49785534", "title": "Can&#39;t seem to get a DataReader to work in C# / SQL Server", "body": "<p>You have make a wrong query, add the quote as this</p>\n\n<pre><code>string loadMainInfo = \"SELECT * FROM Main_Information WHERE Username = '\" + Globals.username + \"'\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 9631542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OEl6W.jpg?s=128&g=1", "display_name": "Fraser", "link": "https://stackoverflow.com/users/9631542/fraser"}, "is_accepted": false, "score": 0, "last_activity_date": 1523487489, "creation_date": 1523487489, "answer_id": 49785560, "question_id": 49785431, "link": "https://stackoverflow.com/questions/49785431/cant-seem-to-get-a-datareader-to-work-in-c-sql-server/49785560#49785560", "title": "Can&#39;t seem to get a DataReader to work in C# / SQL Server", "body": "<p>You could use String.Format</p>\n\n<pre><code>string loadMainInfo = String.Format(\u201cSELECT * FROM Main_Information WHERE Username = {0}\" ,Globals.username);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 9096642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd660df02021e976de93abfc8a546aa4?s=128&d=identicon&r=PG&f=1", "display_name": "sbsd", "link": "https://stackoverflow.com/users/9096642/sbsd"}, "is_accepted": false, "score": 0, "last_activity_date": 1523495621, "creation_date": 1523495621, "answer_id": 49786530, "question_id": 49785431, "link": "https://stackoverflow.com/questions/49785431/cant-seem-to-get-a-datareader-to-work-in-c-sql-server/49786530#49786530", "title": "Can&#39;t seem to get a DataReader to work in C# / SQL Server", "body": "<p>It looks like <code>Globals.username</code> may not have a value when you're referencing it for your query string, as the SQL error you're getting occurs when there is nothing following the <code>=</code> in the query.</p>\n\n<p>I'd suggest using the debugger to look at the value of <code>loadMainInfo</code> just after its been set (or otherwise add the line <code>MessageBox.Show(loadMainInfo);</code> below).</p>\n\n<p>Does the query string include the username value you expect?</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 8353607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2d00488d03ed6c950563fdfd743ae48?s=128&d=identicon&r=PG&f=1", "display_name": "Saliou673", "link": "https://stackoverflow.com/users/8353607/saliou673"}, "is_accepted": false, "score": 1, "last_activity_date": 1523708427, "creation_date": 1523708427, "answer_id": 49831377, "question_id": 49785431, "link": "https://stackoverflow.com/questions/49785431/cant-seem-to-get-a-datareader-to-work-in-c-sql-server/49831377#49831377", "title": "Can&#39;t seem to get a DataReader to work in C# / SQL Server", "body": "<p>use a SqlParameter to do it as : </p>\n\n<pre><code>string loadMainInfo = \"SELECT * FROM Main_Information WHERE Username = @paramName\"'; \nSqlParameter param1 = new SqlParameter () ; \nparam1.ParameterName=\"@paramName\";\nparam1.SqlDbType= SqlDbType.Varchar;\nparam1.Value= Globals.username;\ncmd.Parameters.Add(param1);\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 7064895, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y5P4WbczI5w/AAAAAAAAAAI/AAAAAAAAAE4/SLuE8QPm2Eo/photo.jpg?sz=128", "display_name": "tryingtotryhard", "link": "https://stackoverflow.com/users/7064895/tryingtotryhard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1523708427, "creation_date": 1523486672, "last_edit_date": 1523507940, "question_id": 49785431, "link": "https://stackoverflow.com/questions/49785431/cant-seem-to-get-a-datareader-to-work-in-c-sql-server", "title": "Can&#39;t seem to get a DataReader to work in C# / SQL Server", "body": "<p>I have this code:</p>\n\n<pre><code>string strConnect = \"Server=DESKTOP-2Q73COU\\\\SQLEXPRESS;Database=LoginApp;Trusted_Connection=True;\";\nSqlConnection conn = new SqlConnection(strConnect);\nconn.Open();\n\nMessageBox.Show(\"Connected to SSMS.\");\n\nstring loadMainInfo = \"SELECT * FROM Main_Information WHERE Username = \" + Globals.username;\n\nSqlCommand cmd = new SqlCommand(loadMainInfo, conn);\n\nSqlDataReader dr = cmd.ExecuteReader();\n\nif (dr.Read())\n{\n    lblStanding.Text = (dr[\"Standing\"].ToString());\n    lblName.Text = (dr[\"First Name\"].ToString()) + \" \" + (dr[\"Last Name\"].ToString());\n    lblTotalHours.Text = (dr[\"Total_hours\"].ToString());\n    lblType.Text = (dr[\"Degree_type\"].ToString());\n    lblDegree.Text = (dr[\"Degree\"].ToString());\n    lblCurrentHours.Text = (dr[\"Current_hours\"].ToString());\n}\n</code></pre>\n\n<p>Specifically this line:</p>\n\n<pre><code>string loadMainInfo = \"SELECT * FROM Main_Information WHERE Username = \" + Globals.username;\n</code></pre>\n\n<p>If I replace the end of that line with:</p>\n\n<pre><code>Username = testuser\"\n</code></pre>\n\n<p>The code will work fine and all labels below will be populated with the corresponding info from the tables where Username = testuser. However, if the user logs in with their username and the code is using the original line, I get this error:</p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: 'Incorrect syntax near '='.'</p>\n</blockquote>\n\n<p>Any help?</p>\n"}, {"tags": ["c#", ".net", "asp.net-core", "asp.net-core-mvc", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1523488906, "post_id": 49785334, "comment_id": 86586893, "body": "You&#39;re not actually posting any form data.  The form will contain a <code>__RequestVerificationToken</code> field that is used verify the request."}, {"owner": {"reputation": 556, "user_id": 2027404, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/56d5ec9b3e908fa8e2b33e604f334284?s=128&d=identicon&r=PG", "display_name": "Kyanite", "link": "https://stackoverflow.com/users/2027404/kyanite"}, "reply_to_user": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1523489346, "post_id": 49785334, "comment_id": 86587025, "body": "I\u2019m not wanting to post form data, as the other Stack Overflow link I referred to specified that the steps taken also function for an API and can be utilised for a SPA. Or do you mean adding a parameter to my post endpoint would provide the so called \u201cform data\u201d?"}], "answers": [{"comments": [{"owner": {"reputation": 535, "user_id": 6345010, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd958668d54bdd4277866fd997704a81?s=128&d=identicon&r=PG", "display_name": "managerger", "link": "https://stackoverflow.com/users/6345010/managerger"}, "edited": false, "score": 0, "creation_date": 1532024738, "post_id": 49803225, "comment_id": 89830095, "body": "Sir, could you clarify what action has been taken by you to beat the issue? I&#39;ve got the same problem."}], "tags": [], "owner": {"reputation": 556, "user_id": 2027404, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/56d5ec9b3e908fa8e2b33e604f334284?s=128&d=identicon&r=PG", "display_name": "Kyanite", "link": "https://stackoverflow.com/users/2027404/kyanite"}, "is_accepted": true, "score": 1, "last_activity_date": 1523556208, "creation_date": 1523556208, "answer_id": 49803225, "question_id": 49785334, "link": "https://stackoverflow.com/questions/49785334/autovalidateantiforgerytoken-always-causing-400-bad-request-to-return/49803225#49803225", "title": "AutoValidateAntiforgeryToken always causing 400 Bad Request to return", "body": "<p>Problem solved.</p>\n\n<p>Ensure to use the IAntiforgery.GetAndStoreTokens(HttpContext) Method to not only give you your XSRF token but also most importantly store the AspNetCore.Antiforgery token that .NET Core expects by default using this form of authentication.</p>\n\n<p>I was using IAntiforgery.GetTokens(HttpContext) only as in the linked stack overflow post above and while it was allowing me to fetch my XSRF token and append it to my header, I was missing the antiforgery cookie.</p>\n"}], "owner": {"reputation": 556, "user_id": 2027404, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/56d5ec9b3e908fa8e2b33e604f334284?s=128&d=identicon&r=PG", "display_name": "Kyanite", "link": "https://stackoverflow.com/users/2027404/kyanite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 920, "favorite_count": 0, "accepted_answer_id": 49803225, "answer_count": 1, "score": 0, "last_activity_date": 1523556208, "creation_date": 1523485937, "question_id": 49785334, "link": "https://stackoverflow.com/questions/49785334/autovalidateantiforgerytoken-always-causing-400-bad-request-to-return", "title": "AutoValidateAntiforgeryToken always causing 400 Bad Request to return", "body": "<p>I'm looking to utilise an XSRF token with my .NET Core 2 API.\nI'm using a Vue.Js front-end.</p>\n\n<p>I have the back-end configured correctly as instructed here:\n<a href=\"https://stackoverflow.com/a/44035774/2027404\">https://stackoverflow.com/a/44035774/2027404</a></p>\n\n<p>Once logging in, I create a cookie called \"XSRF-TOKEN\" and I've written an interceptor in Vue to mimic what AngularJS does, it looks for the cookie and appends the XSRF token with header \"X-XSRF-TOKEN\" to the controller route that is protected by an [AutoValidateAntiforgeryToken]\nattribute.</p>\n\n<p>Below is an example trace of a Post request that is made after the cookie is persisted and login is completed:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>POST /api/auth/Test HTTP/1.1\r\nHost: localhost:5000\r\nConnection: keep-alive\r\nContent-Length: 0\r\nOrigin: http://localhost:5000\r\nX-XSRF-TOKEN: CfDJ8Ku5qKiYnPBCmHLFQRR3pGmv482utwpDs1AssvvtQ1yf2eGgasNE4DOTdxivPLqv5e4TGuG800elYMFyJqTC7bzOfnY0HVCUD-Dw0pn-bkBZeN2GjBBvqMJ79Vcwun4khLe9qlzxyBTB0W1XEu_OJq0\r\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.167 Safari/537.36\r\nContent-Type: application/json;charset=utf-8\r\nAccept: application/json, text/plain, */*\r\nX-Requested-With: XMLHttpRequest\r\nReferer: http://localhost:5000/\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: en-GB,en-US;q=0.9,en;q=0.8\r\nCookie: XSRF-TOKEN=CfDJ8Ku5qKiYnPBCmHLFQRR3pGmv482utwpDs1AssvvtQ1yf2eGgasNE4DOTdxivPLqv5e4TGuG800elYMFyJqTC7bzOfnY0HVCUD-Dw0pn-bkBZeN2GjBBvqMJ79Vcwun4khLe9qlzxyBTB0W1XEu_OJq0</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So the point really is to prove that not only is my cookie sent but I am including the header which is expected by my Startup.cs.</p>\n\n<pre><code>        public void ConfigureServices(IServiceCollection services) {\n        services.AddAuthentication(JwtBearerDefaults.AuthenticationScheme)\n            .AddJwtBearer(options =&gt; {\n                options.TokenValidationParameters = new TokenValidationParameters {\n                ValidateIssuer = true,\n                ValidIssuer = Configuration[\"JWT:Issuer\"],\n\n                ValidateAudience = true,\n                ValidAudience = Configuration[\"JWT:Audience\"],\n\n                ValidateIssuerSigningKey = true,\n\n                IssuerSigningKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(Configuration[\"JWT:SecretKey\"])),\n\n                ValidateLifetime = true\n                };\n            });\n\n        services.AddAntiforgery(options =&gt; options.HeaderName = \"X-XSRF-TOKEN\");\n        services.AddMvc();\n}\n</code></pre>\n\n<p>My controller method is then as follows:</p>\n\n<pre><code>        [HttpPost (\"[action]\")]\n    //[Authorize]\n    [AutoValidateAntiforgeryToken]\n    public IActionResult Test () {\n        return Ok (\"Working fine!\");\n    }]\n</code></pre>\n\n<p>I'm definitely not doing anything stupid like pointing at the wrong route. If I disable AVAT and use Authorize instead with JWT (I'm aiming to eventually utilise both JWT &amp; XSRF together to go with the double cookie method for security), I can get a 200 response providing I provide a valid Authentication Bearer token in my request header...</p>\n\n<p>Any ideas as to why this out of the bag functionality isn't playing ball? Always returning 400...</p>\n\n<p>I could show more source code but the proof is in the pudding within the request trace... all the data that should be required, is there.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "iis", "asp.net-core", "windows-authentication", "razor-pages"], "comments": [{"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1523486746, "post_id": 49785330, "comment_id": 86586318, "body": "Please take a minute and read <a href=\"https://stackoverflow.com/help/tagging\">What are tags</a> and how to use them and why you should avoid stuffing the title with tags. It won&#39;t make your question get answered any faster."}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1523487341, "post_id": 49785330, "comment_id": 86586500, "body": "User name should be passed from controller to view if I were you."}, {"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1523514613, "post_id": 49785330, "comment_id": 86593813, "body": "<code>app.UseAuthentication()</code> should come before <code>app.UseMvc()</code>."}, {"owner": {"reputation": 147, "user_id": 7147234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fe1d3dcdbbc0030ba986636d03ff42?s=128&d=identicon&r=PG&f=1", "display_name": "ogg130", "link": "https://stackoverflow.com/users/7147234/ogg130"}, "reply_to_user": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1523546933, "post_id": 49785330, "comment_id": 86615661, "body": "@Tseng Thanks. Will not tag titles anymore."}, {"owner": {"reputation": 147, "user_id": 7147234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fe1d3dcdbbc0030ba986636d03ff42?s=128&d=identicon&r=PG&f=1", "display_name": "ogg130", "link": "https://stackoverflow.com/users/7147234/ogg130"}, "reply_to_user": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1523546965, "post_id": 49785330, "comment_id": 86615679, "body": "@Brad Gave it a go, and it didn&#39;t work. There&#39;s probably a reason why you suggested to move it there however, so i&#39;m keeping it there! Thanks :D"}], "owner": {"reputation": 147, "user_id": 7147234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57fe1d3dcdbbc0030ba986636d03ff42?s=128&d=identicon&r=PG&f=1", "display_name": "ogg130", "link": "https://stackoverflow.com/users/7147234/ogg130"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523486647, "creation_date": 1523485928, "last_edit_date": 1523486647, "question_id": 49785330, "link": "https://stackoverflow.com/questions/49785330/user-identity-name-is-empty-in-layout-chstml-windows-auth-appears-to-not-wor", "title": "@User.Identity.Name is empty in _Layout.chstml / Windows Auth appears to not work when hosted in IIS", "body": "<p>Using a very basic dotnetcore2 ef razor pages app, when I am on my development machine, @User.Identity.Name in _Layout.cshmtl works without issue. When I put that code up on my server using IIS, @User.Identity.Name refuses to be anything but empty despite my best attempts.</p>\n\n<p>I've spent hours searching online and trying everything I can find and cant get over this problem. </p>\n\n<p>These things that seem to work for everyone else...</p>\n\n<ul>\n<li>Make sure IIS has Windows auth enabled and anon auth disabled </li>\n<li>Make sure the app properties has Windows auth enabled and anon auth\ndisabled</li>\n<li>Make sure the forwardWindowsAuthToken=\"true\" property is set in web.config </li>\n<li>Register IIS Authentication service:services.AddAuthentication(IISDefaults.AuthenticationScheme); to startup.cs</li>\n</ul>\n\n<p>...and yet @User.Identity.Name is always empty for me in _Layout.chsmtl when up on the server using IIS.</p>\n\n<p>Here are the contents of my web.config file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;system.webServer&gt;\n    &lt;handlers&gt;\n      &lt;add name=\"aspNetCore\" path=\"*\" verb=\"*\" modules=\"AspNetCoreModule\" resourceType=\"Unspecified\" /&gt;\n    &lt;/handlers&gt;\n    &lt;aspNetCore processPath=\"%LAUNCHER_PATH%\" arguments=\"%LAUNCHER_ARGS%\" stdoutLogEnabled=\"true\" stdoutLogFile=\"f:\\wwwroot\\App\\stdout.log\" forwardWindowsAuthToken=\"true\" /&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>... the contents of my Layout.cshtml file:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n    &lt;title&gt;@ViewData[\"Title\"] - Title goes here&lt;/title&gt;\n\n    &lt;environment include=\"Development\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/lib/bootstrap/dist/css/bootstrap.css\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/css/site.css\" /&gt;\n    &lt;/environment&gt;\n    &lt;environment exclude=\"Development\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/css/bootstrap.min.css\"\n              asp-fallback-href=\"~/lib/bootstrap/dist/css/bootstrap.min.css\"\n              asp-fallback-test-class=\"sr-only\" asp-fallback-test-property=\"position\" asp-fallback-test-value=\"absolute\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/css/site.min.css\" asp-append-version=\"true\" /&gt;\n        &lt;link rel=\"stylesheet\" href=\"~/css/site.css\" /&gt;\n    &lt;/environment&gt;\n&lt;/head&gt;\n&lt;body&gt;\n     &lt;nav class=\"navbar navbar-inverse navbar-fixed-top navbar\"&gt;\n        &lt;div class=\"container\"&gt;\n           &lt;div class=\"row\"&gt;\n            &lt;div class=\"navbar-header col-md-1\"&gt;\n                &lt;div class=\"dropdown\"&gt;\n                    &lt;button type=\"button\" class=\"settingsbutton\" data-toggle=\"dropdown\"&gt;\n                        &lt;span class=\"glyphicon glyphicon-menu-hamburger\"&gt;&lt;/span&gt;\n                    &lt;/button&gt;\n                    &lt;ul class=\"dropdown-menu\"&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;&lt;span class=\"glyphicon glyphicon-user\"&gt;&lt;/span&gt; Change User Settings&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a href=\"#\"&gt;&lt;span class=\"glyphicon glyphicon-globe\"&gt;&lt;/span&gt; Contact Admin&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a asp-page=\"Create\"&gt;&lt;span class=\"glyphicon glyphicon-cog\"&gt;&lt;/span&gt; Create New Records&lt;/a&gt;&lt;/li&gt;\n                        &lt;li&gt;&lt;a asp-controller=\"Request\" asp-action=\"Index\"&gt;&lt;span class=\"glyphicon glyphicon-arrow-left\"&gt;&lt;/span&gt; Return to Queue&lt;/a&gt;&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-md-6\"&gt;\n                  &lt;p class=\"headertext\"&gt;Header&lt;/p&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"col-md-5\"&gt;\n                &lt;p class=\"nav adsusertext navbar-right\"&gt;&lt;span class=\"glyphicon glyphicon-user\"&gt;&lt;/span&gt; @User.Identity.Name&lt;/p&gt;\n            &lt;/div&gt;\n  &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/nav&gt;\n    &lt;div class=\"container body-content\"&gt;\n        @RenderBody()\n        &lt;hr /&gt;\n        &lt;footer&gt;\n            &lt;p&gt;footer&lt;/p&gt;\n        &lt;/footer&gt;\n    &lt;/div&gt;\n\n    &lt;environment include=\"Development\"&gt;\n        &lt;script src=\"~/lib/jquery/dist/jquery.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"~/lib/bootstrap/dist/js/bootstrap.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"~/js/site.js\" asp-append-version=\"true\"&gt;&lt;/script&gt;\n    &lt;/environment&gt;\n    &lt;environment exclude=\"Development\"&gt;\n        &lt;script src=\"https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.0.min.js\"\n                asp-fallback-src=\"~/lib/jquery/dist/jquery.min.js\"\n                asp-fallback-test=\"window.jQuery\"\n                crossorigin=\"anonymous\"\n                integrity=\"sha384-K+ctZQ+LL8q6tP7I94W+qzQsfRV2a+AfHIi9k8z8l9ggpc8X+Ytst4yBo/hH+8Fk\"&gt;\n        &lt;/script&gt;\n        &lt;script src=\"https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.7/bootstrap.min.js\"\n                asp-fallback-src=\"~/lib/bootstrap/dist/js/bootstrap.min.js\"\n                asp-fallback-test=\"window.jQuery &amp;&amp; window.jQuery.fn &amp;&amp; window.jQuery.fn.modal\"\n                crossorigin=\"anonymous\"\n                integrity=\"sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa\"&gt;\n        &lt;/script&gt;\n        &lt;script src=\"~/js/site.min.js\" asp-append-version=\"true\"&gt;&lt;/script&gt;\n    &lt;/environment&gt;\n    @RenderSection(\"Scripts\", required: false)\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>...the contents of my Startup.cs file:</p>\n\n<pre><code>using Microsoft.AspNetCore.Builder;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.DependencyInjection;\nusing Microsoft.AspNetCore.Server.IISIntegration;\nusing Foo.Models;\nusing Microsoft.EntityFrameworkCore;\nusing Microsoft.AspNetCore.Identity;\nusing Foo.Pages.Request;\n\nnamespace Foo\n{\n    public class Startup\n    {\n\n        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n\n        }\n\n        public IConfiguration Configuration { get; }\n\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n\n            //Register MVC using /Pages/Request razor page as the default start folder\n            services.AddMvc()\n              .AddRazorPagesOptions(options =&gt;\n              {\n                  options.RootDirectory = \"/Pages/Request\";\n              });;\n\n            //Register the dbcontext\n            services.AddDbContext&lt;dbContext&gt;(options =&gt;\n            options.UseSqlServer(Configuration.GetConnectionString(\"db\"), b =&gt; b.UseRowNumberForPaging()));\n\n            //Register IIS authentication services\n            services.AddAuthentication(IISDefaults.AuthenticationScheme);\n\n        }\n\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n        {\n\n\n            if (env.IsDevelopment())\n            {\n                app.UseDeveloperExceptionPage();\n            }\n            else\n            {\n                app.UseExceptionHandler(\"/Error\");\n            }\n\n            app.UseStaticFiles();\n\n            app.UseMvc();\n\n            app.UseAuthentication();\n\n            }\n    }\n}\n</code></pre>\n\n<p>...and the contents of my Program.cs if it matters:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore;\nusing Microsoft.AspNetCore.Hosting;\nusing Microsoft.Extensions.Configuration;\nusing Microsoft.Extensions.Logging;\nusing Microsoft.AspNetCore.Server.HttpSys;\nusing Microsoft.Extensions.DependencyInjection;\nusing Foo.Models;\nusing Novell.Directory.Ldap;\n\n\nnamespace Foo\n{\n\n    public class Program\n    {\n\n        public static void Main(string[] args)\n        {\n            var host = BuildWebHost(args);\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 host.Run();\n        }\n\n        public static IWebHost BuildWebHost(string[] args) =&gt;\n            WebHost.CreateDefaultBuilder(args)\n                .UseKestrel()\n                .UseIISIntegration() \n                .UseStartup&lt;Startup&gt;()\n                .Build();\n    }\n\n}\n</code></pre>\n\n<p>This is driving me nuts and if anyone has any ideas they would be much appreciated!!!!</p>\n"}, {"tags": ["c#", "xamarin"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1523487833, "post_id": 49785284, "comment_id": 86586636, "body": "an ObservableCollection only raises events when items are added or removed from the collection.  It does not do anything when a property of an item changes.  For that, each item in the list (ie, Menu) needs to implement INPC"}, {"owner": {"reputation": 23, "user_id": 2890149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10f911b073affb524b9e3a82528f6603?s=128&d=identicon&r=PG&f=1", "display_name": "user2890149", "link": "https://stackoverflow.com/users/2890149/user2890149"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1523535592, "post_id": 49785284, "comment_id": 86606972, "body": "Thanks @Jason that worked."}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 9628867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b196fd60bf1f7fd76d145892793dab07?s=128&d=identicon&r=PG&f=1", "display_name": "Bikash", "link": "https://stackoverflow.com/users/9628867/bikash"}, "is_accepted": false, "score": 3, "last_activity_date": 1523594199, "creation_date": 1523594199, "answer_id": 49809376, "question_id": 49785284, "link": "https://stackoverflow.com/questions/49785284/my-listview-is-not-updating-when-the-observable-list-updates/49809376#49809376", "title": "My listview is not updating when the observable list updates", "body": "<p>You just need to assign the BindingContext</p>\n\n<pre><code>public ListViewPage1()\n{\n\n    InitializeComponent();\n    allItems = new List&lt;Menu&gt;{inserted data};\n    items = new MenuList(allItems);\n   // MyListView.ItemsSource = items.Items;\nthis.BindingContext =items ;\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 2890149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10f911b073affb524b9e3a82528f6603?s=128&d=identicon&r=PG&f=1", "display_name": "user2890149", "link": "https://stackoverflow.com/users/2890149/user2890149"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1523594199, "creation_date": 1523485626, "question_id": 49785284, "link": "https://stackoverflow.com/questions/49785284/my-listview-is-not-updating-when-the-observable-list-updates", "title": "My listview is not updating when the observable list updates", "body": "<p>I'm working on a basic app and the listview is not updating when I change it, the following is the base class and the observable list </p>\n\n<pre><code>    public class Menu\n{\n    public Menu(string itemname, string itemdescrip, string cost, string allergens)\n    {\n        ItemName = itemname;\n        ItemDescription = itemdescrip;\n        ItemCost = cost;\n        ItemAmount = 0;\n        ItemAllergens = allergens;\n    }\n\n    public string ItemName { get; set; }\n    public string ItemCost { get; set; }\n    public string ItemDescription { get; set; }\n    public int ItemAmount { get; set; }\n    public string ItemAllergens { get; set; }\n\n}\n\npublic class MenuList : INotifyPropertyChanged\n{\n    public event PropertyChangedEventHandler PropertyChanged;\n    public ObservableCollection&lt;Menu&gt; _items;\n\n    public ObservableCollection&lt;Menu&gt; Items\n    {\n        get { return _items; }\n        set { _items = value; OnPropertyChanged(\"Items\"); }\n    }\n\n    protected virtual void OnPropertyChanged(string propertyName)\n    {\n        if (PropertyChanged == null)\n            return;\n        PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n    }\n\n    public MenuList(List&lt;Menu&gt; itemList)\n    {\n        Items = new ObservableCollection&lt;Menu&gt;();\n        foreach (Menu itm in itemList)\n        {\n            Items.Add(itm);\n        }\n    }\n}\n</code></pre>\n\n<p>Then the listviewpage class </p>\n\n<pre><code>public List&lt;Menu&gt; allItems;\n    MenuList items;\n\n    public ListViewPage1()\n    {\n\n        InitializeComponent();\n        allItems = new List&lt;Menu&gt;{inserted data};\n        items = new MenuList(allItems);\n        MyListView.ItemsSource = items.Items;\n    }\n\n    private void Button_Clicked_Pos(object sender, EventArgs e)\n    {\n        //Increase Amount\n        var item = (Xamarin.Forms.Button)sender;\n        items.Items[1].ItemAmount += 1;\n    }\n</code></pre>\n\n<p>And then finally the xaml of the listview </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;                          \n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n         xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n         x:Class=\"App1.ListViewPage1\"&gt;\n&lt;ListView x:Name=\"MyListView\"\n        ItemsSource=\"{Binding Items}\"\n        ItemTapped=\"Handle_ItemTapped\"\n        CachingStrategy=\"RecycleElement\"&gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;ViewCell&gt;\n                &lt;ViewCell.View&gt;\n                    &lt;Grid x:Name=\"Item\"&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=\"2*\"/&gt;\n                            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n                            &lt;ColumnDefinition Width=\"*\"/&gt;\n                            &lt;ColumnDefinition Width=\"Auto\"/&gt;\n                            &lt;ColumnDefinition Width=\"*\"/&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;Label WidthRequest=\"15\" Text=\"{Binding ItemName}\" Margin=\"1,1,1,1\" HorizontalOptions=\"Fill\" VerticalOptions=\"Center\"&gt;&lt;/Label&gt;\n                        &lt;Label Grid.Column=\"1\" Text=\"{Binding ItemCost}\" HorizontalOptions=\"Fill\" VerticalOptions=\"Center\"&gt;&lt;/Label&gt;\n                        &lt;Button Grid.Column=\"2\" Text=\"-\" FontSize=\"Large\" Clicked=\"Button_Clicked_Neg\" CommandParameter=\"{Binding ItemAmount}\"&gt;&lt;/Button&gt;\n                        &lt;Label x:Name=\"lblAmount\" Text=\"{Binding ItemAmount}\" Grid.Column=\"3\" FontSize=\"Large\" HorizontalOptions=\"Center\" VerticalOptions=\"Center\"&gt;&lt;/Label&gt;\n                        &lt;Button Grid.Column=\"4\" Text=\"+\" FontSize=\"Large\" Clicked=\"Button_Clicked_Pos\" CommandParameter=\"{Binding ItemAmount}\"&gt;&lt;/Button&gt;\n                    &lt;/Grid&gt;\n                &lt;/ViewCell.View&gt;\n            &lt;/ViewCell&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p></p>\n\n<p>Any help would be much appriciated. I've been struggling with this for a while, the list updates, I've tested that, but the command paramater does not change at all. </p>\n\n<p>Is it better to have the observable list or should I rather look for a way to reset the page? </p>\n"}, {"tags": ["c#", "azure", "entity-framework-core", "azure-functions"], "answers": [{"tags": [], "owner": {"reputation": 4927, "user_id": 600559, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3e0e77210a1cf60175dadabe6955e6d0?s=128&d=identicon&r=PG", "display_name": "Morten Frederiksen", "link": "https://stackoverflow.com/users/600559/morten-frederiksen"}, "is_accepted": true, "score": 4, "last_activity_date": 1523631954, "creation_date": 1523631954, "answer_id": 49820056, "question_id": 49785180, "link": "https://stackoverflow.com/questions/49785180/unable-to-load-entity-framework-core-into-c-azure-function/49820056#49820056", "title": "Unable to load Entity Framework Core into C# azure function", "body": "<p>Workaround: For <code>Microsoft.EntityFrameworkCore</code> roll back to version 2.0.1. Don't know if it is a known EFCore issue, but rolling back to 2.0.1 helped med with the exact same issue.</p>\n"}], "owner": {"reputation": 1996, "user_id": 2226079, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wVg9M.jpg?s=128&g=1", "display_name": "Maximo Dominguez", "link": "https://stackoverflow.com/users/2226079/maximo-dominguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 1, "accepted_answer_id": 49820056, "answer_count": 1, "score": 5, "last_activity_date": 1523635401, "creation_date": 1523484942, "last_edit_date": 1523635401, "question_id": 49785180, "link": "https://stackoverflow.com/questions/49785180/unable-to-load-entity-framework-core-into-c-azure-function", "title": "Unable to load Entity Framework Core into C# azure function", "body": "<p>I already opened an <a href=\"https://github.com/Azure/azure-functions-host/issues/2658\" rel=\"noreferrer\">issue</a> in <a href=\"https://github.com/Azure/azure-functions-host/\" rel=\"noreferrer\"><code>Azure/azure-functions-host</code></a> and I have a <a href=\"https://github.com/mamodom/AzureFunctionEFErrorRepro\" rel=\"noreferrer\">repo</a> with the repro steps, but I'm posting this here in case there is something inherently wrong with what I'm doing, or someone has already stumbled open this issue.</p>\n\n<p><strong>My goal</strong>: I want to run in an azure function some code that lives in a class library in an existing visual studio solution.</p>\n\n<p>This code happens to use entity framework core in order to read and write to a SQL Server database.</p>\n\n<p>While trying to isolate the issues I was facing, I ended up with the following scenario:</p>\n\n<p>Repro steps:</p>\n\n<ol>\n<li><p>In Visual Studio: File > New > Project > Azure Functions</p></li>\n<li><p>Select <code>Azure Functions v2 Preview (.NET Core)</code></p></li>\n<li><p>Select <code>Http trigger</code></p></li>\n<li><p>Select <code>Storage Emulator</code></p></li>\n<li><p>Select Access rights <code>Function</code></p></li>\n<li><p>Install using nuget <code>Microsoft.EntityFrameworkCore</code> version <code>2.0.2</code></p></li>\n<li><p>Add an invocation to anything from the <code>EFCore</code> package</p>\n\n<p>In my case I added the following line: </p>\n\n<pre><code>log.Info(typeof(DbContext).AssemblyQualifiedName);\n</code></pre></li>\n<li><p>Ensure the azure storage emulator is running</p></li>\n<li><p>Run the function from visual studio (<code>F5</code>)</p></li>\n<li><p>Hit the url printed in the console</p></li>\n</ol>\n\n<p><strong>Expected behavior</strong>: along with the default behavior of the example <code>Http trigger</code> function I expect to see the following line printed with each invocation:</p>\n\n<pre><code>Microsoft.EntityFrameworkCore.DbContext, Microsoft.EntityFrameworkCore, Version=2.0.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60\n</code></pre>\n\n<p><strong>Actual behavior</strong>: the app throws an exception at runtime and outputs the following</p>\n\n<blockquote>\n  <p>[11-Apr-18 6:33:59 AM] Executing 'Function1' (Reason='This function was programmatically called via the host APIs.', Id=6faabfd8-eb96-4d71-906c-940028a7978a)<br>\n  [11-Apr-18 6:33:59 AM] Executed 'Function1' (Failed, Id=6faabfd8-eb96-4d71-906c-940028a7978a)<br>\n  [11-Apr-18 6:33:59 AM] System.Private.CoreLib: Exception while executing function: Function1. FunctionApp1: Could not load file or assembly 'Microsoft.EntityFrameworkCore, Version=2.0.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'. Could not find or load a specific file. (Exception from HRESULT: 0x80131621). System.Private.CoreLib: Could not load file or assembly 'Microsoft.EntityFrameworkCore, Version=2.0.2.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.</p>\n</blockquote>\n\n<p>Current conjecture: while researching this issue I found something that might be related: </p>\n\n<p>The Azure functions runtime already has a set of packages available, one of those being <code>Newtonsoft.Json</code> in a specific version. In the case a newer version of <code>Newtonsoft.Json</code> is referenced from the project a similar behavior is observed.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/47351068/could-not-load-file-or-assembly-newtonsoft-json-version-10-0-0-0-culture-neut\">Here</a>'s a StackOverflow question. \n<a href=\"https://github.com/Azure/azure-functions-host/issues/2529#issuecomment-373182486\" rel=\"noreferrer\">Here</a>'s a github issue </p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 3, "creation_date": 1523484378, "post_id": 49785059, "comment_id": 86585598, "body": "This feels like a XY Problem - <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a> . <b>Why</b> do you want this?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1523484781, "post_id": 49785059, "comment_id": 86585725, "body": "Can you talk us through why you can&#39;t use <code>HashSet</code> using <code>ReferenceEqualityComparer</code>? <a href=\"https://stackoverflow.com/questions/1890058/iequalitycomparert-that-uses-referenceequals\" title=\"iequalitycomparert that uses referenceequals\">stackoverflow.com/questions/1890058/&hellip;</a>"}, {"owner": {"reputation": 451, "user_id": 6828765, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9076a033d487e81eb8a5db8935117714?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/6828765/anonymous"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1523485352, "post_id": 49785059, "comment_id": 86585913, "body": "@mjwills I didn&#39;t know HashSets could accept IEqualityComparers. Thanks for the quick solution."}], "answers": [{"comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1523485407, "post_id": 49785207, "comment_id": 86585930, "body": "&quot;The RuntimeHelpers.GetHashCode method always calls the Object.GetHashCode&quot;, so how is different from the standard HashSet ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 1, "creation_date": 1523485640, "post_id": 49785207, "comment_id": 86586001, "body": "@HenkHolterman That&#39;s exactly how it&#39;s different. Given e.g. a string, it will call the <code>Object.GetHashCode</code> method, meaning non-virtually, <i>not</i> the <code>String.GetHashCode</code> implementation that a virtual call to <code>GetHashCode</code> would result in."}, {"owner": {"reputation": 451, "user_id": 6828765, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9076a033d487e81eb8a5db8935117714?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/6828765/anonymous"}, "edited": false, "score": 0, "creation_date": 1523485753, "post_id": 49785207, "comment_id": 86586032, "body": "This is exactly what I need, thanks!"}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1523485828, "post_id": 49785207, "comment_id": 86586061, "body": "@hvd - ok, fair point. Still an XY question though. Under what circumstance will this be better? For <code>HashSet&lt;string&gt;</code> for example?"}], "tags": [], "owner": {"reputation": 23502, "user_id": 175070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d7266ccba60891b8e94000b6d0004e1?s=128&d=identicon&r=PG", "display_name": "Mike Strobel", "link": "https://stackoverflow.com/users/175070/mike-strobel"}, "is_accepted": true, "score": 2, "last_activity_date": 1523485127, "creation_date": 1523485127, "answer_id": 49785207, "question_id": 49785059, "link": "https://stackoverflow.com/questions/49785059/c-referencesett/49785207#49785207", "title": "C# ReferenceSet&lt;T&gt;", "body": "<p>The standard <code>HashSet&lt;T&gt;</code> allows you to provide a custom comparer, and that comparer is responsible for hashing and performing equality checks on set elements.  Give it an identity comparer, and you'll get the functionality you describe.</p>\n\n<pre><code>public sealed class IdentityComparer&lt;T&gt; : IEqualityComparer&lt;T&gt;\n    where T : class\n{\n    public bool Equals(T x, T y)\n    {\n        return ReferenceEquals(x, y);\n    }\n\n    public int GetHashCode(T obj)\n    {\n        return System.Runtime.CompilerServices.RuntimeHelpers.GetHashCode(obj);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 6828765, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9076a033d487e81eb8a5db8935117714?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/6828765/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "closed_date": 1523485912, "accepted_answer_id": 49785207, "answer_count": 1, "score": 0, "last_activity_date": 1523485688, "creation_date": 1523484194, "question_id": 49785059, "link": "https://stackoverflow.com/questions/49785059/c-referencesett", "closed_reason": "Duplicate", "title": "C# ReferenceSet&lt;T&gt;", "body": "<p>I need a \"Reference Set,\" that is, a set that is pretty much a Hash Set but uses it's object's references rather than their hash codes. Where can I find such a class, or how can I implement one? For clarification, I don't care if it works internally like a hash set using references, I just want it to behave like it from the outside. I'd rather not use external libraries, but links to the source code of libraries that have such a set would be welcome (so I can use that to figure out how to implement one myself).</p>\n"}, {"tags": ["c#", "asp.net", "exception-handling"], "answers": [{"tags": [], "owner": {"reputation": 607, "user_id": 6869507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47de3ffc0a9dfdef69bf98fea974db?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Powolozki", "link": "https://stackoverflow.com/users/6869507/alexander-powolozki"}, "is_accepted": false, "score": 0, "last_activity_date": 1523484634, "creation_date": 1523484634, "answer_id": 49785125, "question_id": 49785009, "link": "https://stackoverflow.com/questions/49785009/logging-exception-with-custom-properties/49785125#49785125", "title": "Logging exception with custom properties", "body": "<p>The purpose of serializatin is e.g. the transport of an object from one system to an other ( e.g. between clirnt and server) where you continue to use the transported object. \nIn your case you simply dump the exception to a sink and it's up to you to define how it is represented as a text by defining te exception message or overriding the ToString() method.</p>\n"}], "owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523484634, "creation_date": 1523483811, "question_id": 49785009, "link": "https://stackoverflow.com/questions/49785009/logging-exception-with-custom-properties", "title": "Logging exception with custom properties", "body": "<p>I have created a customer exception with custom properties based on <a href=\"https://stackoverflow.com/questions/94488/what-is-the-correct-way-to-make-a-custom-net-exception-serializable\">SO POST</a>.<br>\nHowever when i log the exception, it is not getting serialized.\nIf i put debugger, then <code>GetObjectData</code> method and <code>SerializableExceptionWithCustomProperties(SerializationInfo info, StreamingContext context)</code> constructor does not get invoked and the logger only logs message and stack trace but not my custom properties</p>\n\n<p>However, I added <code>ToString()</code> method in exception and it is getting hit when i log the exception, and now i can construct the string including my custom properties and return it.  </p>\n\n<p>So what's the use of adding <code>Serializable</code> attribute and <code>GetObjectData</code> method and <code>SerializableExceptionWithCustomProperties(SerializationInfo info, StreamingContext context)</code> constructor?</p>\n\n<p>I am using Serilog for logging</p>\n\n<pre><code>[Serializable]\n// Important: This attribute is NOT inherited from Exception, and MUST be specified \n// otherwise serialization will fail with a SerializationException stating that\n// \"Type X in Assembly Y is not marked as serializable.\"\npublic class SerializableExceptionWithCustomProperties : Exception\n{\n    private readonly string resourceName;        \n\n    public SerializableExceptionWithCustomProperties()\n    {\n    }\n\n    public SerializableExceptionWithCustomProperties(string message)\n        : base(message)\n    {\n    }\n\n    public SerializableExceptionWithCustomProperties(string message, Exception innerException)\n        : base(message, innerException)\n    {\n    }\n\n    public SerializableExceptionWithCustomProperties(string message, string resourceName)\n        : base(message)\n    {\n        this.resourceName = resourceName;           \n    }\n\n    public SerializableExceptionWithCustomProperties(string message, string resourceName, Exception innerException)\n        : base(message, innerException)\n    {\n        this.resourceName = resourceName;            \n    }\n\n    public string ResourceName\n    {\n        get { return this.resourceName; }\n    }\n\n    [SecurityPermissionAttribute(SecurityAction.Demand, SerializationFormatter = true)]\n    // Constructor should be protected for unsealed classes, private for sealed classes.\n    // (The Serializer invokes this constructor through reflection, so it can be private)\n    protected SerializableExceptionWithCustomProperties(SerializationInfo info, StreamingContext context)\n        : base(info, context)\n    {\n        this.resourceName = info.GetString(\"ResourceName\");\n    }               \n\n    [SecurityPermissionAttribute(SecurityAction.Demand, SerializationFormatter = true)]\n    public override void GetObjectData(SerializationInfo info, StreamingContext context)\n    {\n       // Serialize data for our base classes.  base will verify info != null.\n        base.GetObjectData(info, context);\n\n        info.AddValue(\"ResourceName\", this.ResourceName);   \n    }\n\n    public override string ToString()\n    {\n        return base.ToString() + Environment.NewLine + \"ResourceName: \" + this.ResourceName;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc", "iis", "razor"], "answers": [{"tags": [], "owner": {"reputation": 3882, "user_id": 9561918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kphC.jpg?s=128&g=1", "display_name": "Hikarunomemory", "link": "https://stackoverflow.com/users/9561918/hikarunomemory"}, "is_accepted": false, "score": 1, "last_activity_date": 1523491184, "creation_date": 1523491184, "answer_id": 49786034, "question_id": 49784970, "link": "https://stackoverflow.com/questions/49784970/asp-net-403-error-when-adding-new-razor-cshtml-file-type/49786034#49786034", "title": "ASP.Net 403 error when adding new razor .cshtml file type", "body": "<p>In my case, I have to change <code>&lt;modules&gt;</code> to <br><code>&lt;modules runAllManagedModulesForAllRequests=\"true\"&gt;</code></p>\n\n<pre><code>&lt;system.webServer&gt;\n    ...\n    &lt;modules&gt; =&gt; &lt;modules runAllManagedModulesForAllRequests=\"true\"&gt;\n    ...\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p>This Web.config is at the root directory, not the one in <em>Views</em> directory.</p>\n\n<p>But still, without IIS settings and Web.Config details, it's hard to tell what would cause this issue.</p>\n"}], "owner": {"reputation": 2697, "user_id": 3174123, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/JQalB.png?s=128&g=1", "display_name": "Rice", "link": "https://stackoverflow.com/users/3174123/rice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523491184, "creation_date": 1523483574, "question_id": 49784970, "link": "https://stackoverflow.com/questions/49784970/asp-net-403-error-when-adding-new-razor-cshtml-file-type", "title": "ASP.Net 403 error when adding new razor .cshtml file type", "body": "<p>I am working in an environment in which are views are requested via a JQuery viewLoader GET request. I'm trying to port all .html to Razor (.cshtml) and I consistently get 403 errors from the client side when I change the extension on the src property to .cshtml. Note I am doing this because if I keep the request as .html I get a 404 (I thought the cshtml would serve itself as html?) :</p>\n\n<pre><code>var cartContainerScript = &lt;script id='CartContainerTemplate' type='text/html' src='./Views/Home/Carts/ED.cshtml' &gt;&lt;/script&gt;\n\n$(\"body\").append(cartContainerScript);\ncartTemplate = $(\"script[id=\" + 'CartContainerTemplate' + \"]\");\n\n   cartContainer.viewloader({\n        logLevel: \"debug\",\n        scripts: cartTemplate,\n        success: function (resolution) {\n               //Do good stuff\n        },\n        error: function (failedResolution) {\n            // 403 occurs @ jquery-1.8.3.min.js:2 -&gt; GET http://application.company.com/Views/Home/Carts/ED.cshtml 403 (Forbidden)\n        }\n    });\n</code></pre>\n\n<p>I tried adding a *.cshtml entry in the last line of the below HTTP routing in my Views/Web.config file with no luck:</p>\n\n<pre><code>&lt;httpHandlers&gt;\n  &lt;add path=\"*.aspx;*.ascx\" verb=\"*\" type=\"System.Web.HttpNotFoundHandler\"/&gt;\n  &lt;remove path=\"*.view.html\" verb=\"*\"  /&gt;\n  &lt;remove path=\"Carts\\*.html\" verb=\"*\"  /&gt;\n  &lt;remove path=\"Carts\\*.cshtml\" verb=\"*\"  /&gt;\n&lt;/httpHandlers&gt;\n</code></pre>\n\n<p>Is there anyway to serve up the Razor files as html after compilation? Perhaps I am missing something in my web.config?</p>\n\n<p>Thanks for looking!</p>\n"}, {"tags": ["c#", "ibm-mq"], "comments": [{"owner": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "edited": false, "score": 0, "creation_date": 1523547177, "post_id": 49784900, "comment_id": 86615822, "body": "If the application that put the messages on the queue has not issued a commit then your application cannot retrieve them.  Yes, the queue depth will be greater than zero but the messages are unavailable."}, {"owner": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "reply_to_user": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "edited": false, "score": 0, "creation_date": 1523575373, "post_id": 49784900, "comment_id": 86629266, "body": "But after Consumer restarts, it can see messages. It contradicts to the explanation that messages have not been committed by Producers? Please explain."}, {"owner": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "reply_to_user": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "edited": false, "score": 0, "creation_date": 1523575522, "post_id": 49784900, "comment_id": 86629306, "body": "Sorry for the confusion. I updated my post. Please check."}], "owner": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523656528, "creation_date": 1523483142, "last_edit_date": 1523656528, "question_id": 49784900, "link": "https://stackoverflow.com/questions/49784900/queue-consumer-suddenly-returns-no-message-even-messages-in-the-queue", "title": "Queue consumer suddenly returns NO message even messages in the queue", "body": "<p><strong>UPDATE 2</strong></p>\n\n<p>Scenario below:</p>\n\n<p>1 Consumer is reading messages from queue successfully,</p>\n\n<p>2 For some reason, Consumer returns no message even when lots of messages are in the queue. This lasts a few hours on some occasions, where Producers can continue sending messages.</p>\n\n<p>Existing remaining messages in the queue are en-queued by more than one commit by Producers. The number of messages can be from one to a few hundreds.</p>\n\n<p>This issue happens occasionally, and once it happens, Consumer always returns no message until after the app is restarted.</p>\n\n<p>The code below is simplified, which is ran by one thread from thread pool threads at a time in point.</p>\n\n<pre><code>thread entry\n    Open(ConnectionMode.Read); \nloop when it is not cancelled\n        var message = GetMessage();           \n        queueManager.Commit();     \nLoop end\n\n        queue.Close();           \n        queueManager.Disconnect();\nthread exit    \n\n      public string GetMessage()\n        {\n            const int MaxMessageSizeInBytes = 8000;\n            const int ReadTimeoutInMilliseconds = 3000;\n\n            message = new MQMessage { Format = MQC.MQFMT_STRING };\n            var mqMessageOptions = new MQGetMessageOptions\n            {\n                WaitInterval = ReadTimeoutInMilliseconds,\n                Options = MQC.MQGMO_WAIT | MQC.MQGMO_FAIL_IF_QUIESCING\n                | MQC.MQGMO_SYNCPOINT  //use syncpoint for consumer acknowledgment\n            };\n\n            var content = message.ReadString(message.MessageLength);\n            message.ClearMessage();\n\n            return content;\n        }\n\n        public IMessage Get()\n        {\n            var mqMessage = new MQMessage { Format = MQC.MQFMT_STRING };\n            var mqMessageOptions = new MQGetMessageOptions\n            {\n                WaitInterval = ReadTimeoutInMilliseconds,\n                Options = MQC.MQGMO_WAIT | MQC.MQGMO_FAIL_IF_QUIESCING | MQC.MQGMO_SYNCPOINT\n            };\n\n            Connection.MqQueue.Get(mqMessage, mqMessageOptions, MaxMessageSizeInBytes);\n\n            return mqMessage.MapToMessage();\n        }\n\n\n        public void Open(connectionMode connectionMode)\n        {\n            var connectionSettings = new Hashtable\n            {\n                {MQC.TRANSPORT_PROPERTY, MQC.TRANSPORT_MQSERIES_MANAGED },\n                {MQC.CONNECT_OPTIONS_PROPERTY, MQC.MQCNO_RECONNECT }\n            };\n\n            int openOptions = 0;\n\n            switch (connectionMode)\n            {\n                case connectionMode.Read:\n                    openOptions = MQC.MQOO_INPUT_SHARED + MQC.MQOO_FAIL_IF_QUIESCING;\n                    break;\n                case connectionMode.Write:\n                    openOptions = MQC.MQOO_OUTPUT + MQC.MQOO_FAIL_IF_QUIESCING;\n                    break;\n            }\n\n\n            MqQueueManager = new MQQueueManager(_queueManagerName, connectionSettings);\n            MqQueue = MqQueueManager.AccessQueue(_queueName, openOptions);\n        }\n</code></pre>\n\n<p>MQ Server V8 on Windows</p>\n\n<p>.NET Client: 8.0.0.5</p>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "asp.net-identity"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523483517, "post_id": 49784890, "comment_id": 86585333, "body": "You may have to post some code of your role manager and application role."}, {"owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523483683, "post_id": 49784890, "comment_id": 86585396, "body": "@RonBeyer Thanks Ron, I added code of both the ApplicationRole and ApplicationUser as those were the two things I changed when migrating to .NET 2.0"}], "answers": [{"tags": [], "owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "is_accepted": false, "score": 0, "last_activity_date": 1523487135, "creation_date": 1523487135, "answer_id": 49785499, "question_id": 49784890, "link": "https://stackoverflow.com/questions/49784890/rolemanager-roleexistsasync-throws-discriminator-exception/49785499#49785499", "title": "RoleManager.RoleExistsAsync() throws discriminator exception", "body": "<p>It turns out, I had to do a migration for this to work. My question from:\n<a href=\"https://stackoverflow.com/questions/49783303/net-iconfiguration-returns-null-for-a-property\">.NET IConfiguration returns null for a property</a></p>\n\n<p>and</p>\n\n<p><a href=\"https://stackoverflow.com/questions/49762438/specify-only-one-index-with-fluent-api\">Specify only one index with fluent api</a></p>\n\n<p>is what lead to this. I still don't know why I get extraneous items from my 2nd question though.</p>\n"}], "owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523487135, "creation_date": 1523483065, "last_edit_date": 1523484418, "question_id": 49784890, "link": "https://stackoverflow.com/questions/49784890/rolemanager-roleexistsasync-throws-discriminator-exception", "title": "RoleManager.RoleExistsAsync() throws discriminator exception", "body": "<p>My roleManager is of type <code>RoleManager&lt;ApplicationRole&gt;</code> where <code>ApplicationRole</code> extends <code>IdentityRole</code>. For some reason, when I call <code>roleManager.RoleExistsAsync(role)</code>, I get an exception:</p>\n\n<blockquote>\n  <p>Invalid column name 'Discriminator'.\\nInvalid column name\n  'Discriminator'.\"</p>\n</blockquote>\n\n<p>I found another post that said this is due to some sort of db inheritance. I'm assuming this is because my ApplicationRole extends IdentityRole, but I'm not exactly sure why. </p>\n\n<p>In startup.cs I also do: <code>services.AddIdentity&lt;ApplicationUser, IdentityRole&gt;</code></p>\n\n<p>ApplicationRole:\n`</p>\n\n<pre><code>public class ApplicationRole : IdentityRole\n    {\n        // public virtual ICollection&lt;ApplicationUser&gt; Users { get; } = new List&lt;ApplicationUser&gt;();\n\n        public ApplicationRole(){}\n        public ApplicationRole(string roleName) : base(roleName) {}\n        public virtual ICollection&lt;IdentityUserRole&lt;string&gt;&gt; Users { get; set; }\n\n        public virtual ICollection&lt;IdentityRoleClaim&lt;string&gt;&gt; Claims { get; set; }\n    }\n</code></pre>\n\n<p>`</p>\n\n<p>ApplicationUser\n`</p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n    {\n        [InverseProperty(\"User\")]\n        public virtual Player Player { get; set; }\n\n        public List&lt;ApplicationUserClubs&gt; Clubs { get; set; }\n        public int? CustomerProfileId { get; set; }\n        /// &lt;summary&gt;\n        /// Navigation property for the roles this user belongs to.\n        /// &lt;/summary&gt;\n        public virtual ICollection&lt;IdentityUserRole&lt;string&gt;&gt; Roles { get; } = new List&lt;IdentityUserRole&lt;string&gt;&gt;();\n\n        /// &lt;summary&gt;\n        /// Navigation property for the claims this user possesses.\n        /// &lt;/summary&gt;\n        public virtual ICollection&lt;IdentityUserClaim&lt;string&gt;&gt; Claims { get; } = new List&lt;IdentityUserClaim&lt;string&gt;&gt;();\n\n        /// &lt;summary&gt;\n        /// Navigation property for this users login accounts.\n        /// &lt;/summary&gt;\n        public virtual ICollection&lt;IdentityUserLogin&lt;string&gt;&gt; Logins { get; } = new List&lt;IdentityUserLogin&lt;string&gt;&gt;();\n    }\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["c#", "ibm-mq"], "comments": [{"owner": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "reply_to_user": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1523487922, "post_id": 49784842, "comment_id": 86586654, "body": "That is completely different issue!"}, {"owner": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "edited": false, "score": 0, "creation_date": 1523488113, "post_id": 49784842, "comment_id": 86586709, "body": "Plus, there is NO answer to the question. Please check again."}], "answers": [{"comments": [{"owner": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "edited": false, "score": 0, "creation_date": 1523563530, "post_id": 49800715, "comment_id": 86624794, "body": "I right click the queue manager from MQ Explorer, and click Disconnect. No crashes which I will remove. Disconnect does not mean the queue manager disconnected? I can Stop Command Server too, which might mean something else too."}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "reply_to_user": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "edited": false, "score": 0, "creation_date": 1523574041, "post_id": 49800715, "comment_id": 86628879, "body": "@Pingpong I am not sure since I do not use MQ Explorer but believe that is just telling MQ Explorer to disconnect from the queue manager, the queue manager will still be running.  If you go to a command line on the server with the queue manger (windows or unix) and run the command <code>dspmq</code> it should show you the queue manager names defined and current status such as &quot;Running&quot;."}, {"owner": {"reputation": 8737, "user_id": 7264620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbebce2451f4d9f7abdebb6b2db7b618?s=128&d=identicon&r=PG&f=1", "display_name": "JoshMc", "link": "https://stackoverflow.com/users/7264620/joshmc"}, "edited": false, "score": 0, "creation_date": 1523574245, "post_id": 49800715, "comment_id": 86628936, "body": "Roger, if you are running MQ Server v7.0.1 or higher and and MQ Client at the same level by default there is bidirectional heart beating of the SVRCONN channel.  The timeout is either 2xHBINT if the HBINT &lt; 60, or HBINT+60 if he HBINT &gt;= 60.  The default HBINT is 300, so you can expect a TIMEOUT of 360 seconds (6 minutes) with default settings.  We set this much lower so timeout happens in a more reasonable time, I  have found HBINT 15 to be a good number, then timeout is in 30 seconds."}, {"owner": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "reply_to_user": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "edited": false, "score": 0, "creation_date": 1523584711, "post_id": 49800715, "comment_id": 86631320, "body": "@Pingpong Disconnecting from MQ Explorer has no bearing on your application or any other application connected to the queue manager.  You need to either unplug the network cable from the server where your application is running or kill your application."}], "tags": [], "owner": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "is_accepted": false, "score": 0, "last_activity_date": 1523547672, "creation_date": 1523547672, "answer_id": 49800715, "question_id": 49784842, "link": "https://stackoverflow.com/questions/49784842/consumer-messages-lost-even-commit-and-syncpoint-is-used-when-queue-manager-is/49800715#49800715", "title": "Consumer: Messages lost even commit and syncpoint is used when queue manager is disconnected", "body": "<blockquote>\n  <p>2 before commit it, queue manager disconnect or crashes</p>\n</blockquote>\n\n<p>Please describe how you simulated this.  Did you just pull the network cable from the client server/PC/laptop?  How long did you wait?  The default TCP timeout is 2 hours.  The queue manager won't know that the client is gone until the TCP timeout period expires.  After that, the queue manager should make the message available again.</p>\n"}], "owner": {"reputation": 6374, "user_id": 665335, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/f55f2a5ab31b088c1fea75647d5e7d89?s=128&d=identicon&r=PG", "display_name": "Pingpong", "link": "https://stackoverflow.com/users/665335/pingpong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523547672, "creation_date": 1523482762, "last_edit_date": 1523487992, "question_id": 49784842, "link": "https://stackoverflow.com/questions/49784842/consumer-messages-lost-even-commit-and-syncpoint-is-used-when-queue-manager-is", "title": "Consumer: Messages lost even commit and syncpoint is used when queue manager is disconnected", "body": "<p>Messages get lost in this scenario:</p>\n\n<p>1 Consumers read messages off the queue, and </p>\n\n<p>2 before commit it, queue manager disconnect or crashes</p>\n\n<p>3 the message is no longer in the queue.</p>\n\n<p>Should't Commit throw exception in situation like this? Because client might crash before calling Commit. </p>\n\n<p>What is the correct way to implement it?</p>\n\n<pre><code> Open(ConnectionMode.Read);\n    var message = GetMessage();\n\n     //process other works when queue manager is disconnected\n\n    queueManager.Commit(); //this still runs successfully                \n    queue.Close();           \n    queueManager.Disconnect();\n\n\n  public string GetMessage()\n    {\n        const int MaxMessageSizeInBytes = 8000;\n        const int ReadTimeoutInMilliseconds = 3000;\n\n        message = new MQMessage { Format = MQC.MQFMT_STRING };\n        var mqMessageOptions = new MQGetMessageOptions\n        {\n            WaitInterval = ReadTimeoutInMilliseconds,\n            Options = MQC.MQGMO_WAIT | MQC.MQGMO_FAIL_IF_QUIESCING\n            | MQC.MQGMO_SYNCPOINT  //use syncpoint for consumer acknowledgment\n        };\n\n        var content = message.ReadString(message.MessageLength);\n        message.ClearMessage();\n\n        return content;\n    }\n\n    public IMessage Get()\n    {\n        var mqMessage = new MQMessage { Format = MQC.MQFMT_STRING };\n        var mqMessageOptions = new MQGetMessageOptions\n        {\n            WaitInterval = ReadTimeoutInMilliseconds,\n            Options = MQC.MQGMO_WAIT | MQC.MQGMO_FAIL_IF_QUIESCING | MQC.MQGMO_SYNCPOINT\n        };\n\n        Connection.MqQueue.Get(mqMessage, mqMessageOptions, MaxMessageSizeInBytes);\n\n        return mqMessage.MapToMessage();\n    }\n\n\n    public void Open(connectionMode connectionMode)\n    {\n        var connectionSettings = new Hashtable\n        {\n            {MQC.TRANSPORT_PROPERTY, MQC.TRANSPORT_MQSERIES_MANAGED },\n            {MQC.CONNECT_OPTIONS_PROPERTY, MQC.MQCNO_RECONNECT }\n        };\n\n        int openOptions = 0;\n\n        switch (connectionMode)\n        {\n            case connectionMode.Read:\n                openOptions = MQC.MQOO_INPUT_SHARED + MQC.MQOO_FAIL_IF_QUIESCING;\n                break;\n            case connectionMode.Write:\n                openOptions = MQC.MQOO_OUTPUT + MQC.MQOO_FAIL_IF_QUIESCING;\n                break;\n        }\n\n\n        MqQueueManager = new MQQueueManager(_queueManagerName, connectionSettings);\n        MqQueue = MqQueueManager.AccessQueue(_queueName, openOptions);\n    }\n</code></pre>\n\n<p>MQ Server V8 on Windows</p>\n\n<p>.NET Client: 8.0.0.5</p>\n"}, {"tags": ["c#", "moq"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1523482869, "post_id": 49784781, "comment_id": 86585107, "body": "Typically what you&#39;d do is create a mock or stub of whatever the property type is and then return that."}, {"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "edited": false, "score": 0, "creation_date": 1523482895, "post_id": 49784781, "comment_id": 86585116, "body": "Could you provide an example of the class you have? By the look of it, you might have to mock the inner class first and then the mock the outer class and provider the inner Mock for the mocked Property..."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 3, "creation_date": 1523482983, "post_id": 49784781, "comment_id": 86585157, "body": "It would be awesome if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1523484406, "post_id": 49785029, "comment_id": 86585613, "body": "I think the idea is that <code>TheProperty</code> is a type that has a <code>IEnumerable&lt;MyType&gt; GetTheValues</code> method."}, {"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1523491707, "post_id": 49785029, "comment_id": 86587570, "body": "@juharr I just wanted to show how to mock and return. That knowledge can now be used to mock and return <code>TheProperty</code> also. But yes you are correct."}], "tags": [], "owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1523483978, "creation_date": 1523483978, "answer_id": 49785029, "question_id": 49784781, "link": "https://stackoverflow.com/questions/49784781/mocking-a-method-on-a-property/49785029#49785029", "title": "Mocking a method on a property", "body": "<p>Imagine you have this:</p>\n\n<pre><code>public interface IA\n{\n    IEnumerable&lt;MyType&gt; TheProperty { get; set; }\n}\n\npublic class MyType {}\n</code></pre>\n\n<p>Then here is how to mock it so when <code>TheProperty</code> is called, it returns and <code>IEnumerable.Empty&lt;MyType&gt;</code>:</p>\n\n<pre><code>[TestMethod]\npublic void SomeTest()\n{\n    /* Arrange */\n    var iAMock = new Mock&lt;IA&gt;();\n    iAMock.Setup(x =&gt; x.TheProperty).Returns(Enumerable.Empty&lt;MyType&gt;());\n\n    /* Act */\n\n    /* Assert */\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 2, "last_activity_date": 1523492945, "creation_date": 1523492945, "answer_id": 49786224, "question_id": 49784781, "link": "https://stackoverflow.com/questions/49784781/mocking-a-method-on-a-property/49786224#49786224", "title": "Mocking a method on a property", "body": "<p>For the purposes of demonstrating that the functionality exists assuming</p>\n\n<pre><code>public interface IFoo {\n    IBar TheProperty { get; set; }\n}\n\npublic interface IBar {\n    IEnumerable&lt;MyType&gt; GetTheValues();\n}\n\npublic class MyType { }\n</code></pre>\n\n<p>Moq allows for auto mocking hierarchies otherwise known as recursive mocks</p>\n\n<pre><code>[TestClass]\npublic class RecursiveMocksTests {\n    [TestMethod]\n    public void Foo_Should_Recursive_Mock() {\n        //Arrange\n        IEnumerable&lt;MyType&gt; expected = Enumerable.Empty&lt;MyType&gt;();\n        var mock = new Mock&lt;IFoo&gt;();\n        // auto-mocking hierarchies (a.k.a. recursive mocks)\n        mock.Setup(_ =&gt; _.TheProperty.GetTheValues()).Returns(expected);\n\n        var mockedObject = mock.Object;\n\n        //Act\n        IEnumerable&lt;MyType&gt; actual = mockedObject.TheProperty.GetTheValues();\n\n        //Assert\n        actual.Should().BeEquivalentTo(expected);\n    }\n}\n</code></pre>\n\n<p>Note that at no point was <code>IBar</code> ever initialized or configured. The framework will auto mock that interface because of the setup shown above.</p>\n\n<p>If however, more functionality is needed from an <code>IBar</code>, then a proper mock should be done and configured accordingly. There is also nothing stopping the use of configuring multiple <code>IBar</code> members via the <code>IFoo</code> mock.</p>\n\n<p>Reference <a href=\"https://github.com/Moq/moq4/wiki/Quickstart#properties\" rel=\"nofollow noreferrer\">Moq Quickstart: Properties</a></p>\n"}], "owner": {"reputation": 421, "user_id": 124014, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c74f3ded70bf91409fe45ed61cb02ec9?s=128&d=identicon&r=PG", "display_name": "torhu", "link": "https://stackoverflow.com/users/124014/torhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1523492945, "creation_date": 1523482437, "question_id": 49784781, "link": "https://stackoverflow.com/questions/49784781/mocking-a-method-on-a-property", "title": "Mocking a method on a property", "body": "<p>I need to set the return value for a method returned by a property, basically I need to set what this does:</p>\n\n<pre><code>mockedObject.TheProperty.GetTheValues()\n</code></pre>\n\n<p>I just need it to return <code>Enumerable.Empty&lt;MyType&gt;</code>.</p>\n"}, {"tags": ["c#", "asp.net-core-2.0", "asp.net-core-webapi"], "answers": [{"comments": [{"owner": {"reputation": 3095, "user_id": 3545438, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a7e318fc7a4e748e9be04ea7b03341e7?s=128&d=identicon&r=PG", "display_name": "Matthew Flynn", "link": "https://stackoverflow.com/users/3545438/matthew-flynn"}, "edited": false, "score": 0, "creation_date": 1523518093, "post_id": 49785957, "comment_id": 86595732, "body": "I&#39;ve tired both combinations you listed above and neither work? I added the trailing / to avoid IIS thinking the endpoint was a file (but I have tried with and without and it is still causing a 4040 error) Any other ideas?"}], "tags": [], "owner": {"reputation": 2013, "user_id": 2597991, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xjGSJ.jpg?s=128&g=1", "display_name": "sree", "link": "https://stackoverflow.com/users/2597991/sree"}, "is_accepted": false, "score": 0, "last_activity_date": 1523490575, "creation_date": 1523490575, "answer_id": 49785957, "question_id": 49784679, "link": "https://stackoverflow.com/questions/49784679/webapi-2-0-endpoint-not-being-hit-with-decimal-and-int/49785957#49785957", "title": "WebApi 2.0 Endpoint not being hit with decimal and int", "body": "<p>Either you have to use HTTP GET like </p>\n\n<p><a href=\"http://localhost:59405/api/trader/find?category=3&amp;latitude=41.14271100000001&amp;longitude=-8.611171499999955\" rel=\"nofollow noreferrer\">http://localhost:59405/api/trader/find?category=3&amp;latitude=41.14271100000001&amp;longitude=-8.611171499999955</a></p>\n\n<p>or try changing the endpoint url to </p>\n\n<pre><code>[Route(\"/find/{category=category:int}/{latitude=latitude:decimal}/{longitude=longitude:decimal}/\")]\n</code></pre>\n"}], "owner": {"reputation": 3095, "user_id": 3545438, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/a7e318fc7a4e748e9be04ea7b03341e7?s=128&d=identicon&r=PG", "display_name": "Matthew Flynn", "link": "https://stackoverflow.com/users/3545438/matthew-flynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523490575, "creation_date": 1523481812, "last_edit_date": 1523489520, "question_id": 49784679, "link": "https://stackoverflow.com/questions/49784679/webapi-2-0-endpoint-not-being-hit-with-decimal-and-int", "title": "WebApi 2.0 Endpoint not being hit with decimal and int", "body": "<p>I have the following Asp.Net Core 2.0 Web API controller:</p>\n\n<pre><code>[Route(\"api/[controller]\")]\npublic class TraderController : Controller\n{\n}\n</code></pre>\n\n<p>and the following endpoint:</p>\n\n<pre><code>[HttpGet]\n[ProducesResponseType(typeof(IList&lt;Trader&gt;), 200)]\n[Route(\"/find/{category:int}/{latitude:decimal}/{longitude:decimal}/\")]\npublic IActionResult FindTraders(int category, decimal latitude, decimal longitude)\n{ \n\n}\n</code></pre>\n\n<p>However when I use an <code>HTTP GET</code> I am getting a <code>404</code> error:</p>\n\n<pre><code>http://localhost:59405/api/trader/find/3/41.14271100000001/-8.611171499999955/\n</code></pre>\n\n<p>Can anyone tell me what I am doing wrong here? There are other endpoints being hitting, just not this one. Could it be to do with the decimals in the route? </p>\n"}, {"tags": ["c#", "wpf", "contextmenu", "listboxitem"], "answers": [{"tags": [], "owner": {"reputation": 732, "user_id": 6641300, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/9b14b1e30b33d5cfd2e7d7df59fabc67?s=128&d=identicon&r=PG", "display_name": "David Bentley", "link": "https://stackoverflow.com/users/6641300/david-bentley"}, "is_accepted": false, "score": 0, "last_activity_date": 1523549608, "last_edit_date": 1523549608, "creation_date": 1523549243, "answer_id": 49801245, "question_id": 49784654, "link": "https://stackoverflow.com/questions/49784654/c-wpf-listbox-context-menu-command-not-working/49801245#49801245", "title": "C# WPF Listbox Context Menu Command not working", "body": "<p>So, I solved this by not solving this and instead used a work around. </p>\n\n<p>Essentially the issue comes from this:</p>\n\n<blockquote>\n  <p>System.Windows.Data Error: 4 : Cannot find source for binding with\n  reference</p>\n</blockquote>\n\n<p>I found that Context Menus are not part of the Visual Tree (not happy about that) and hence cannot access those elements in the same fashion.</p>\n\n<p>I am not a fan of using Reflection so the ElementSpy method is off the table for me along with. I tried to directly set a <code>Click=\"some_function\"</code> and that also surprisingly DID not work.</p>\n\n<p>I instead just wrapped my entire <code>ListBox</code> in a <code>Grid</code> and used the following. Not really MVVM, but I could care less at this point with how much wasted time I put into finding a solid and reliable solution.</p>\n\n<p><strong>XAML:</strong></p>\n\n<pre><code>            &lt;Grid.ContextMenu&gt;\n                &lt;ContextMenu&gt;\n                    &lt;MenuItem Header=\"Menu Item Text\" Foreground=\"Black\" FontFamily=\"Segoe UI\" FontSize=\"14\" FontWeight=\"Bold\"\n                              Click=\"menu_item_function\"/&gt;\n                    &lt;Separator/&gt;\n            &lt;/Grid.ContextMenu&gt;\n</code></pre>\n\n<p><strong>Code Behind:</strong></p>\n\n<pre><code>    private void menu_item_function(object sender, RoutedEventArgs e)\n    {\n        // Get the viewmodel from the DataContext\n        MainWindowViewModel viewmodel = DataContext as MainWindowViewModel;\n\n        // Call command from viewmodel     \n        if ((viewmodel != null) &amp;&amp; (viewmodel.View_Model_Function.CanExecute(this)))\n        {\n            viewmodel.View_Model_Function.Execute(this);\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 732, "user_id": 6641300, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/9b14b1e30b33d5cfd2e7d7df59fabc67?s=128&d=identicon&r=PG", "display_name": "David Bentley", "link": "https://stackoverflow.com/users/6641300/david-bentley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523549608, "creation_date": 1523481658, "question_id": 49784654, "link": "https://stackoverflow.com/questions/49784654/c-wpf-listbox-context-menu-command-not-working", "title": "C# WPF Listbox Context Menu Command not working", "body": "<p>Currently I am trying to add a context menu to a <code>ListBox</code> that uses an item template. I am able to get the context menu items added, but when I try to bind the commands, nothing happens.</p>\n\n<p>The Main_Window has a data context set. Here is the XAML for the <code>ListBox</code>. I use a similar Binding style as part of a button in the <code>ListView.ItemTemplate</code> so I would assume this would work, but sadly it is not. What am I missing here? (Only important part of the code is here)</p>\n\n<pre><code>        &lt;ListBox x:Name=\"company_buttons_listbox\"\n                 ItemsSource=\"{Binding Buttons_Binding}\"\n                 SelectedIndex=\"{Binding Selected_Index, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}\"&gt;\n\n            &lt;ListBox.Resources&gt;\n                &lt;Style TargetType=\"{x:Type ListBoxItem}\"&gt;\n                    &lt;Setter Property=\"ContextMenu\"&gt;\n                        &lt;Setter.Value&gt;\n                            &lt;ContextMenu&gt;\n                                &lt;MenuItem Header=\"Update Frazer Server Link\" Foreground=\"Black\" FontFamily=\"Segoe UI\" FontSize=\"14\" FontWeight=\"Bold\"\n                                          CommandParameter=\"{Binding RelativeSource={RelativeSource AncestorType=Window}}\"\n                                          Command=\"{Binding ElementName=Main_Window, Path=DataContext.Testing}\"/&gt;\n                            &lt;/ContextMenu&gt;\n                        &lt;/Setter.Value&gt;\n                    &lt;/Setter&gt;\n                    &lt;Style.Resources&gt;\n                        &lt;SolidColorBrush x:Key=\"{x:Static SystemColors.HighlightBrushKey}\" Color=\"LightSteelBlue\" Opacity=\"0.5\"/&gt;\n                        &lt;SolidColorBrush x:Key=\"{x:Static SystemColors.ControlBrushKey}\" Color=\"LightSteelBlue\" Opacity=\"0.5\"/&gt;\n                    &lt;/Style.Resources&gt;\n                &lt;/Style&gt;\n                &lt;Style TargetType=\"{x:Type ListBox}\"&gt;\n                    &lt;Setter Property=\"KeyboardNavigation.TabNavigation\" Value=\"Continue\"/&gt;\n                &lt;/Style&gt;\n            &lt;/ListBox.Resources&gt;\n\n            &lt;ListBox.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;StackPanel Margin=\"-2,0,-2,0\"&gt;\n\n                        &lt;Button CommandParameter=\"{Binding}\"\n                                Command=\"{Binding ElementName=Main_Window, Path=DataContext.Open_Link}\"&gt;\n                        &lt;/Button&gt;\n\n                        &lt;Label VerticalContentAlignment=\"Top\"\n                               Margin=\"5,0,5,0\" Height=\"19\" Padding=\"0\"\n                               Foreground=\"White\" FontFamily=\"Segoe UI\" FontSize=\"12\" FontWeight=\"Bold\"\n                               Content=\"{Binding ItemText}\"/&gt;\n\n                    &lt;/StackPanel&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListBox.ItemTemplate&gt;\n        &lt;/ListBox&gt;\n</code></pre>\n"}, {"tags": ["c#", "excel", "office-interop", "excel-interop"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1523482230, "post_id": 49784560, "comment_id": 86584848, "body": "Why not ask op of answer 1? He is active on SO and might help you better.."}, {"owner": {"reputation": 841, "user_id": 2524543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebd4b7235800bfe247f9f3b8c0893a0?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2524543/michael"}, "edited": false, "score": 0, "creation_date": 1523482526, "post_id": 49784560, "comment_id": 86584960, "body": "did you try <code>object[,] objectArray = worksheet.get_Range($&quot;A1:{cols}{rows}&quot;).Value2;</code> ?"}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "reply_to_user": {"reputation": 841, "user_id": 2524543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bebd4b7235800bfe247f9f3b8c0893a0?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2524543/michael"}, "edited": false, "score": 0, "creation_date": 1523482678, "post_id": 49784560, "comment_id": 86585019, "body": "@Michael I think some of the cells are Formula, not all Value2....How do I do it without having to specify in advance that they are all Value2"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1523482953, "post_id": 49784560, "comment_id": 86585142, "body": "<code>But I don&#39;t understand the first two lines of code of the first post.</code> You would be best to include all of the relevant code in <b>this</b> post - people are less likely to click links and read content from elsewhere. Each question should be as standalone as possible."}, {"owner": {"reputation": 114165, "user_id": 13087, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/260e2731006271646d36705a95c4db48?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/13087/joe"}, "edited": false, "score": 0, "creation_date": 1523529535, "post_id": 49784560, "comment_id": 86602969, "body": "Try <code>cSheet.get_Range(&quot;A1:C4&quot;).Formula</code>.  AFAIK this will return an array of strings which may be a formula or a cell value"}], "answers": [{"comments": [{"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1523541721, "post_id": 49786767, "comment_id": 86611770, "body": "ok thanks for replying, this approach works however what I was really looking for is UsedRange.Value[XlRangeValueDataType.xlRangeValueDefault], see the answer I added."}], "tags": [], "owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "is_accepted": false, "score": 1, "last_activity_date": 1523528818, "last_edit_date": 1523528818, "creation_date": 1523497861, "answer_id": 49786767, "question_id": 49784560, "link": "https://stackoverflow.com/questions/49784560/how-to-copy-contents-of-excel-usedrange-into-an-array-for-faster-reading/49786767#49786767", "title": "How to copy contents of Excel UsedRange into an array for faster reading?", "body": "<p>The whole point is to do the Excel operation in one step and then use the .Net <code>object[,]</code>. Eg:</p>\n\n<pre><code>object[,] objectArray = new object[rows,cols];\n</code></pre>\n\n<blockquote>\n  <p>I don't know what to do next.</p>\n</blockquote>\n\n<pre><code>object[,] objectArray = shtName.get_Range(\"A1:Z100\").Value2;\n\nfor (int row = 0; row &lt; objectArray.GetLength(0); row++)\n{\n    for (int col = 0; col &lt; objectArray.GetLength(1); col++)\n    {\n        Debug.WriteLine(objectArray[row,col].ToString());\n    }\n}\n</code></pre>\n\n<p><sub>ps I haven't tested this, very busy today</sub></p>\n\n<p>Each time you call Excel there is an underlying RPC call that gets marshalled. </p>\n\n<p>This will help as well: <a href=\"https://stackoverflow.com/a/13983731/495455\">https://stackoverflow.com/a/13983731/495455</a></p>\n"}, {"tags": [], "owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "is_accepted": true, "score": 1, "last_activity_date": 1523541509, "creation_date": 1523541509, "answer_id": 49798555, "question_id": 49784560, "link": "https://stackoverflow.com/questions/49784560/how-to-copy-contents-of-excel-usedrange-into-an-array-for-faster-reading/49798555#49798555", "title": "How to copy contents of Excel UsedRange into an array for faster reading?", "body": "<p>I could not specify the range as cell values as in the other solutions for example</p>\n\n<pre><code>shtName.get_Range(\"A1:Z100\")\n</code></pre>\n\n<p>So what I was missing was a way to specify the used range without entering cell range as above, and I found the answer from this example</p>\n\n<p><a href=\"https://www.dotnetperls.com/excel-vbnet\" rel=\"nofollow noreferrer\">https://www.dotnetperls.com/excel-vbnet</a></p>\n\n<pre><code>        Range UsedRange = worksheet.UsedRange;\n\n        object[,] objectArray = (object[,])UsedRange.Value[XlRangeValueDataType.xlRangeValueDefault];\n\n        for (int row = 2; row &lt; objectArray.GetUpperBound(0); row++)\n        {\n             string str1= (objectArray[row, 1] == null) ? string.Empty : objectArray[row, 1].ToString();\n\n             string str2= (objectArray[row, 2] == null) ? string.Empty : objectArray[row, 2].ToString();\n\n             //...etc\n        }\n</code></pre>\n"}], "owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 0, "accepted_answer_id": 49798555, "answer_count": 2, "score": 1, "last_activity_date": 1523541509, "creation_date": 1523481188, "last_edit_date": 1523483254, "question_id": 49784560, "link": "https://stackoverflow.com/questions/49784560/how-to-copy-contents-of-excel-usedrange-into-an-array-for-faster-reading", "title": "How to copy contents of Excel UsedRange into an array for faster reading?", "body": "<p>I'm trying to improve the performance of an application that is reading cells from an Excel worksheet row by row.  I found this solution </p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/a/25842904/1462656\">https://stackoverflow.com/a/25842904/1462656</a></p>\n  \n  <p>You want to do it in one operation:  </p>\n</blockquote>\n\n<pre><code>object[,] objectArray = cSheet.get_Range(\"A1:C4\").Value2; \ndataRange.Value2 = objectArray;\n</code></pre>\n\n<p>Is it assuming all the cells are of type Value2?.  </p>\n\n<p>In general I would like to know how to get the contents of the UsedRange into a local array for faster access (instead of keep going back and forth through the interop).  But I don't know in advance the size, but I know in advance the cell types on each column.  They are a combination of Value2 and Formula.  </p>\n\n<p>My code so far</p>\n\n<pre><code>        Application application = new Application();\n        application.Workbooks.Open(file);\n        Workbook workbook = application.Workbooks.get_Item(1);\n        Worksheet worksheet = workbook.Worksheets.get_Item(1);\n\n        Range UsedRange = worksheet.UsedRange;\n        int rows = UsedRange.Rows.Count;\n        int cols = UsedRange.Columns.Count;\n\n        object[,] objectArray = new object[rows,cols];\n</code></pre>\n\n<p>I don't know what to do next.</p>\n\n<p>I was going to do this</p>\n\n<pre><code>objectArray = (object[,])UsedRange.Range[?,?];\n</code></pre>\n\n<p>But I don't know the syntax to specify the Range using the columns count and rows count I found above.  </p>\n\n<p>Originally I had a for loop like this which was extremely slow</p>\n\n<pre><code>for (int rowIndex = 2; rowIndex &lt; UsedRange.Rows.Count; rowIndex++){\n\n    string str1= UsedRange.Rows.Cells[rowIndex, 0 + 1].Value2.ToString();\n    string str2= UsedRange.Rows.Cells[rowIndex, 1 + 1].Formula as string;\n\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1523481000, "post_id": 49784480, "comment_id": 86584418, "body": "have you used the debugger..? perhaps you need to call a Refresh method on the UI if one exist or something similar to <code>Application.DoEvents()</code>"}, {"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1523481144, "post_id": 49784480, "comment_id": 86584457, "body": "&quot;Like it&quot; but not it.  <code>Application.DoEvents()</code> just might be <a href=\"https://blog.codinghorror.com/is-doevents-evil/\" rel=\"nofollow noreferrer\">the devil</a>."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1523481806, "post_id": 49784480, "comment_id": 86584690, "body": "try setting the <code>countText.text = string.Empty;</code>  prior to setting the new value for countText and winText"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523481963, "post_id": 49784480, "comment_id": 86584750, "body": "Won&#39;t appear, or won&#39;t disappear? The title and body of your question are contradictory."}, {"owner": {"reputation": 1505, "user_id": 1151716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22d190d8739ffa8752db70a0a1f54a5c?s=128&d=identicon&r=PG", "display_name": "ZayedUpal", "link": "https://stackoverflow.com/users/1151716/zayedupal"}, "edited": false, "score": 0, "creation_date": 1523508859, "post_id": 49784480, "comment_id": 86591484, "body": "Is putting a Debug.Log inside the if (other.gameObject.CompareTag(&quot;Pick Up&quot;)) statement shows up?"}], "owner": {"reputation": 9, "user_id": 9632820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VZBDWCWVGrg/AAAAAAAAAAI/AAAAAAAAAIE/sjWtVNe7zb0/photo.jpg?sz=128", "display_name": "Brandon Murray", "link": "https://stackoverflow.com/users/9632820/brandon-murray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523480873, "creation_date": 1523480873, "question_id": 49784480, "link": "https://stackoverflow.com/questions/49784480/win-text-will-not-disappear", "title": "win text will not disappear", "body": "<p>I'm creating a tilting maze game in Unity where you have to tilt a ball to a specific point in the maze. Now the following code I've made is supposed to trigger a \"You Win!\" text when the ball interacts with a block in the maze. The problem is, the text won't appear at all. Please analyze it, a tell me any possible solutions to my problem.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class NewBehaviourScript : MonoBehaviour {\n\n\n\npublic Text countText;\npublic Text winText;\n\nprivate Rigidbody rb;\nprivate int count;\n\n\n\nvoid Start ()\n{\n    rb = GetComponent&lt;Rigidbody&gt;();\n    count = 0;\n    countText.text = \"Count: \" + count.ToString();\n    winText.text = \"\";\n}\n\nvoid OnTriggerEnter(Collider other)\n{\n    if (other.gameObject.CompareTag(\"Pick Up\"))\n    {\n        other.gameObject.SetActive(false);\n        count = count + 1;\n        SetCountText();\n\n\n    }\n}\n\nvoid SetCountText()\n\n{ \n    countText.text = \"Count: \" + count.ToString();\n\n    if (count &gt;= 1)\n\n        winText.text = \"You Win!\";\n}\n</code></pre>\n"}, {"tags": ["c#", "graphics", "fonts", "bitmap", "drawing"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1523481662, "post_id": 49784460, "comment_id": 86584641, "body": "Why didn&#39;t you ggogle this before asking here? (You are required to do so, i.e. show research effort!) -  Many links would have lead to the reason: Locking a bitmap is a slow process. So you need to lock the bitmap once and do all the work on it in that state. <b>Using GetPixel and also SetPixel implies that each and every time you lock the bitmap.</b> Instead of locking a 100x100 bitmap 20,000 times do it once. So: Look up Lockbits! - OTOH 16x9 is so tiny it won&#39;t get slow unless you really draw a big lot of characters.."}], "answers": [{"comments": [{"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1523754615, "post_id": 49785187, "comment_id": 86690464, "body": "if you use <code>Marshal.Copy</code> to copy the byte array in and out, the code doesn&#39;t even need to be unsafe."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "reply_to_user": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1523754815, "post_id": 49785187, "comment_id": 86690483, "body": "@Nyerguds yeah this is correct and good point, but lockbits is already pinned, using unsafe just saves moving and pinning the array again for pointer access i.e there is no additional overhead"}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1523809886, "post_id": 49785187, "comment_id": 86703095, "body": "Well, I have built up quite a suite for editing indexed images, and they all just work with byte arrays. Easy for manipulation."}], "tags": [], "owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "is_accepted": true, "score": 1, "last_activity_date": 1523485813, "last_edit_date": 1523485813, "creation_date": 1523484980, "answer_id": 49785187, "question_id": 49784460, "link": "https://stackoverflow.com/questions/49784460/optimizing-a-bitmap-character-drawing-algorithm-in-c/49785187#49785187", "title": "Optimizing a bitmap character drawing algorithm in C#", "body": "<p>I'm not really sure what characters mean, however.</p>\n\n<ul>\n<li><code>GetPixel</code> internally calls <code>LockBits</code> to pin the memory</li>\n<li>Ergo Its best to use <code>LockBits</code> once and be done with it</li>\n<li>Always call <code>UnlockBits</code></li>\n<li>Direct pointer access using <code>unsafe</code> can give you a small amount of performance as well</li>\n<li>Also (in this case) your <code>for</code> loops can be optimized (code wise) to include your other indexes. </li>\n</ul>\n\n<p><strong>Exmaple</strong></p>\n\n<pre><code>protected unsafe void DoStuff(string path)\n{\n\n   ...\n\n   using (var b = new Bitmap(path))\n   {\n      var r = new Rectangle(Point.Empty, b.Size);\n      var data = b.LockBits(r, ImageLockMode.ReadOnly, PixelFormat.Format32bppPArgb); \n      var p = (int*)data.Scan0;\n\n      try\n      {\n         for (int i = 0; i &lt; 16; i++, Y++)\n            for (int j = 0, X = 0; j &lt; 9; j++, X++)\n               *(p + X + Y * r.Width) = character[i][j] == 1 ? BG : FG;\n      }\n      finally\n      {\n         b.UnlockBits(data);\n      }\n   }\n}\n</code></pre>\n\n<hr>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.drawing.bitmap.lockbits(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Bitmap.LockBits</code></a></p>\n\n<blockquote>\n  <p>Locks a Bitmap into system memory.</p>\n</blockquote>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.drawing.bitmap.unlockbits(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Bitmap.UnlockBits</code></a></p>\n\n<blockquote>\n  <p>Unlocks this Bitmap from system memory.</p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/unsafe\" rel=\"nofollow noreferrer\"><code>unsafe</code></a></p>\n\n<blockquote>\n  <p>The unsafe keyword denotes an unsafe context, which is required for\n  any operation involving pointers.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>Further reading</strong></p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/unsafe-code-pointers/index\" rel=\"nofollow noreferrer\">Unsafe Code and Pointers</a> </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.drawing.bitmap.getpixel(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Bitmap.GetPixel</a></p>\n\n<p><a href=\"https://mfranc.com/programming/operacje-na-bitmapkach-net-1/\" rel=\"nofollow noreferrer\">LockBits vs Get Pixel Set Pixel - Performance</a></p>\n"}], "owner": {"reputation": 85, "user_id": 7494527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76c2e8331765da742feeb8b3eac44e7d?s=128&d=identicon&r=PG&f=1", "display_name": "JP_99", "link": "https://stackoverflow.com/users/7494527/jp-99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 49785187, "answer_count": 1, "score": 0, "last_activity_date": 1523485813, "creation_date": 1523480757, "question_id": 49784460, "link": "https://stackoverflow.com/questions/49784460/optimizing-a-bitmap-character-drawing-algorithm-in-c", "title": "Optimizing a bitmap character drawing algorithm in C#", "body": "<p>Is there any way to optimize this:\nA character is stored in a \"matrix\" of bytes, dimensions 9x16, for the sake of the example, let's call it <code>character</code>.\nThe bytes can be values either <code>1</code> or <code>0</code> , meaning draw foreground and draw background respectively.\nThe <code>X</code> and <code>Y</code> variables are integers, representing X and Y coordinates used for the <code>SetPixel()</code> function. <code>BG</code> and <code>FG</code> represent background and foreground colors respectively, both type of <code>Color</code>.</p>\n\n<p>The drawing part of the algorithm itself looks like this:</p>\n\n<pre><code>for(int i=0;i&lt;16;i++)\n{\n    for(int j=0;j&lt;9;j++)\n    {\n        if(character[i][j] == 1)\n        {\n            SetPixel(X,Y,BG);\n        }\n        else\n        {\n            SetPixel(X,Y,FG);\n        }\n        X++;\n    }\n    X=0;\n    Y++;\n}\n</code></pre>\n\n<p>Later on, X incremented by 9 and Y is set back to 0. \nThe problem with this algorithm is , when it's called for drawing a string (many characters sequentially), it's extremely slow.</p>\n"}, {"tags": ["c#", "output"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1523480442, "post_id": 49784354, "comment_id": 86584189, "body": "There are 3 <code>for</code> loops, the second one is redundant and should be removed."}], "answers": [{"tags": [], "owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "is_accepted": false, "score": 1, "last_activity_date": 1523480370, "creation_date": 1523480370, "answer_id": 49784382, "question_id": 49784354, "link": "https://stackoverflow.com/questions/49784354/c-incorrect-output/49784382#49784382", "title": "C# incorrect output", "body": "<p>You have  nested loop over student, once again.</p>\n\n<pre><code> for (int ask = 1; ask &lt;= students; ask++) //why this loop ?\n {\n    ..\n    for (int x = 1; x &lt;= 5; x++)  // 2 x 5 = 10\n    {\n       .... //ask for mark 10 times\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 957, "user_id": 3277813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b3b4a2ac530ee2f68419e3f58bec01?s=128&d=identicon&r=PG&f=1", "display_name": "trix", "link": "https://stackoverflow.com/users/3277813/trix"}, "is_accepted": false, "score": 0, "last_activity_date": 1523481373, "creation_date": 1523481373, "answer_id": 49784599, "question_id": 49784354, "link": "https://stackoverflow.com/questions/49784354/c-incorrect-output/49784599#49784599", "title": "C# incorrect output", "body": "<p>You had an extra for loop in there that simply needed to be removed. Also, I'm assuming you're wanting to get the sum and average for each student entered. To do that, you'll need to include that functionality at the bottom of your first for loop. Check out this refactored code:</p>\n\n<pre><code> int total = 0;\n int gt50Count = 0;\n\n Console.WriteLine(\"How many students are there?\");\n int students = int.Parse(Console.ReadLine());\n\n for (int y = 1; y &lt;= students; y++)\n {\n     Console.WriteLine(\"Enter student name\");\n     string name = Console.ReadLine();\n\n     for (int x = 1; x &lt;= 5; x++)\n     {\n         Console.WriteLine(\"Enter your mark\");\n         int mark = int.Parse(Console.ReadLine());\n\n         if (mark &gt; 100 || mark &lt; 0)\n         {\n             Console.WriteLine(\"Invalid mark,Enter your mark again\");\n\n             int newmark = int.Parse(Console.ReadLine());\n             mark = newmark;\n         }\n         total += mark;\n\n         if (mark &gt;= 50)\n         {\n             gt50Count++;\n         }\n     }\n\n     Console.WriteLine(\"sum = \" + total);\n\n     double average = (total / 5) * 1.00;\n     Console.WriteLine(\"average = \" + average);\n\n     Console.WriteLine(\"Greather or equal to 50 count = \" + gt50Count);\n     Console.ReadLine();\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9606471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kelly Kolesky", "link": "https://stackoverflow.com/users/9606471/kelly-kolesky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1523481373, "creation_date": 1523480238, "question_id": 49784354, "link": "https://stackoverflow.com/questions/49784354/c-incorrect-output", "title": "C# incorrect output", "body": "<p>This is my code, its purpose it to enter number of students, then ask each student for their name and each student enters 5 marks... My problem is that when I run the code, for example, if I enter 2 students , it asks for their name but then asks for their mark 10 times instead of 5. So it is outputting the total times to enter the mark instead of the 5 for each student, how do I fix this?</p>\n\n<pre><code>        int total = 0;\n        int gt50Count = 0;\n\n\n\n        Console.WriteLine(\"How many students are there?\");\n        int students = int.Parse(Console.ReadLine());\n\n        for (int y = 1; y &lt;= students; y++)\n        {\n            Console.WriteLine(\"Enter student name\");\n            string name = Console.ReadLine();\n\n\n            for (int ask = 1; ask &lt;= students; ask++)\n            {\n\n\n                for (int x = 1; x &lt;= 5; x++)\n                {\n                    Console.WriteLine(\"Enter your mark\");\n                    int mark = int.Parse(Console.ReadLine());\n\n                    if (mark &gt; 100 || mark &lt; 0)\n                    {\n                        Console.WriteLine(\"Invalid mark,Enter your mark again\");\n\n                        int newmark = int.Parse(Console.ReadLine());\n                        mark = newmark;\n                    }\n                    total += mark;\n\n                    if (mark &gt;= 50)\n                    {\n                        gt50Count++;\n                    }\n                }\n            }\n\n\n\n        }\n        Console.WriteLine(\"sum = \" + total);\n\n        double average = (total / 5) * 1.00;\n        Console.WriteLine(\"average = \" + average);\n\n        Console.WriteLine(\"Greather or equal to 50 count = \" + gt50Count);\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "xml", "xaml", "uwp", "win-universal-app"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1523478883, "post_id": 49784018, "comment_id": 86583496, "body": "\u201cIt gets an error saying...\u201d Don&#39;t paraphrase error messages, copy the error message into your question."}, {"owner": {"reputation": 79, "user_id": 5753857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07cb44df08aeef4789cf6b6c79b8b6b6?s=128&d=identicon&r=PG&f=1", "display_name": "ScottS", "link": "https://stackoverflow.com/users/5753857/scotts"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1523480316, "post_id": 49784018, "comment_id": 86584121, "body": "Cancel this as I need to do this project in WPF."}, {"owner": {"reputation": 3529, "user_id": 7199329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7dJtr.png?s=128&g=1", "display_name": "Breeze Liu - MSFT", "link": "https://stackoverflow.com/users/7199329/breeze-liu-msft"}, "edited": false, "score": 0, "creation_date": 1523601950, "post_id": 49784018, "comment_id": 86636182, "body": "@ScottS Do you mean you want to implement this function in wpf but not UWP?"}], "answers": [{"tags": [], "owner": {"reputation": 432, "user_id": 4347542, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/48aaf00bcabda92bf65b738774f202e4?s=128&d=identicon&r=PG&f=1", "display_name": "thezapper", "link": "https://stackoverflow.com/users/4347542/thezapper"}, "is_accepted": false, "score": 2, "last_activity_date": 1523480885, "creation_date": 1523480885, "answer_id": 49784482, "question_id": 49784018, "link": "https://stackoverflow.com/questions/49784018/unable-to-read-xml-file/49784482#49784482", "title": "Unable to read XML file", "body": "<ol>\n<li><p>you could check this site: <a href=\"https://docs.microsoft.com/en-us/uwp/api/Windows.Data.Xml.Dom.XmlDocument\" rel=\"nofollow noreferrer\">UWP XmlDocument</a></p></li>\n<li><p>In UWP you can't access files accept from your application folder without filepicker. In a future Update you'll get some more possibilities, but for now - no</p></li>\n<li><p>Try to make a method:</p>\n\n<pre><code>public async Task LoadXML(string file)\n{\n   await Task.Run(() =&gt; { XDocument xml = XDocument.Load(file); });\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 79, "user_id": 5753857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07cb44df08aeef4789cf6b6c79b8b6b6?s=128&d=identicon&r=PG&f=1", "display_name": "ScottS", "link": "https://stackoverflow.com/users/5753857/scotts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523480885, "creation_date": 1523478635, "last_edit_date": 1523478894, "question_id": 49784018, "link": "https://stackoverflow.com/questions/49784018/unable-to-read-xml-file", "title": "Unable to read XML file", "body": "<p>I am new to UWP and can't get my XAML page to read an XML file.  I want to take the entries in the XML file and load them into a dropdown.  I have not set the dropdown up in my XAML page yet, but am just trying to read in an XML file.  When I get to the C# method (Page_Loaded) it gets an error saying I can't do a .Load command in the UI thread and it needs to be moved to Task.Run.  Here is my XAML...</p>\n\n<pre><code>&lt;Page\n    x:Class=\"TestProject.MainPage\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"using:TestProject\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"d\" Loaded=\"Page_Loaded\"&gt;\n&lt;/Page&gt;  \n</code></pre>\n\n<p>Here is my code behind...</p>\n\n<pre><code>using System.Xml.Linq;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\n\nnamespace TestProject\n{\n    public sealed partial class MainPage : Page\n    {\n        public MainPage()\n        {\n            this.InitializeComponent();\n        }\n\n        private void Page_Loaded(object sender, RoutedEventArgs e)\n        {\n            XDocument file = XDocument.Load(@\"C:\\AvailableTestsXMLFile.txt\");             \n\n        }       \n    }\n}\n</code></pre>\n\n<p>// Any help would be appreciated!</p>\n\n<p>// here is the exact error...Synchronous operations should not be performed on the UI thread.  Consider wrapping this method in Task.Run.</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1523492424, "post_id": 49783994, "comment_id": 86587734, "body": "Well, given what&#39;s in the picture, it looks like a User Control that includes a WebBrowser control, a ToolStrip with some command buttons that are probably used to give access to some of the webBrowser document ExecCommand. It also probably uses the Microsoft Internet Controls (SHDocVw) or MSHTML or both to help with more advanced procedure (having direct access to the Interfaces (IHTMLDocument2 - IHTMLDocument6 etc.) and the Activex Object (Internet Explorer). There are also a couple of menus."}, {"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1523501843, "post_id": 49783994, "comment_id": 86589731, "body": "The whole article is about creating such control. Read it."}], "owner": {"reputation": 171, "user_id": 9383865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76dfc887b1e5c6385c7f986979b1839?s=128&d=identicon&r=PG&f=1", "display_name": "climivin", "link": "https://stackoverflow.com/users/9383865/climivin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523478539, "creation_date": 1523478539, "question_id": 49783994, "link": "https://stackoverflow.com/questions/49783994/how-to-create-a-liveswitch-textcontrol-editor-object-c", "title": "How to create a LiveSwitch.TextControl.Editor object? - C #", "body": "<p>I study the project \"A Windows Forms based text with HTML output\" - <a href=\"https://www.codeproject.com/Articles/15559/A-Windows-Forms-based-text--with-HTML-output\" rel=\"nofollow noreferrer\">link</a>  </p>\n\n<p>In this project there is an object \"LiveSwitch.TextControl.Editor\".  </p>\n\n<p>How such object is created?<br>\n<a href=\"https://i.stack.imgur.com/Q3CJN.jpg\" rel=\"nofollow noreferrer\">Picture 1</a></p>\n"}, {"tags": ["c#", "asynchronous", "timeout", "ping"], "comments": [{"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1523478617, "post_id": 49783860, "comment_id": 86583369, "body": "Is your code too slow because you are checking one computer at a time? Why not do a parallel foreach if not? If that&#39;s still not the case make your own ping class that doesn&#39;t try reattempts and return false on a short tcp connect timeout."}, {"owner": {"reputation": 2697, "user_id": 2823597, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000535458763/picture?type=large", "display_name": "Ji Ra", "link": "https://stackoverflow.com/users/2823597/ji-ra"}, "edited": false, "score": 1, "creation_date": 1523480562, "post_id": 49783860, "comment_id": 86584248, "body": "look at this: <a href=\"https://stackoverflow.com/questions/49069381/why-ping-timeout-is-not-working-correctly?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"why ping timeout is not working correctly\">stackoverflow.com/questions/49069381/&hellip;</a>"}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1523486178, "post_id": 49783860, "comment_id": 86586160, "body": "how many computers are you pinging"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1523488369, "post_id": 49783860, "comment_id": 86586768, "body": "Computer name needs DNS to be revolved to IP address. You should cache the DNS result if you do want to speed it up. Learn DNS and ICMP protocols if you didn\u2019t yet."}, {"owner": {"reputation": 708, "user_id": 6540292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dfac93d8c8c2c645ca2d70f2328e260?s=128&d=identicon&r=PG&f=1", "display_name": "Ray Fischer", "link": "https://stackoverflow.com/users/6540292/ray-fischer"}, "edited": false, "score": 0, "creation_date": 1523488882, "post_id": 49783860, "comment_id": 86586888, "body": "You need a better definition for &quot;online&quot;.  Ping may work for one IP address but not another depending on firewall settings.  It may work for a system name but not its address depending on the DNS servers.  It may not work at all while HTTP does work, again depending on firewall settings.  I suggest checking for something more specific like access to a specific site"}, {"owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "edited": false, "score": 0, "creation_date": 1523511555, "post_id": 49783860, "comment_id": 86592410, "body": "Is command line ping any faster for <i>the same computername</i> when C# Ping is slow? I suspect your problem has absolutely nothing to do with C# Ping, and everything with IP/ICMP ping."}], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 10756362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hsQWL.jpg?s=128&g=1", "display_name": "Rui Caramalho", "link": "https://stackoverflow.com/users/10756362/rui-caramalho"}, "is_accepted": false, "score": 1, "last_activity_date": 1576255576, "creation_date": 1576255576, "answer_id": 59326683, "question_id": 49783860, "link": "https://stackoverflow.com/questions/49783860/c-ping-is-not-fast-enough/59326683#59326683", "title": "C# Ping is not fast enough", "body": "<p>If you pretended to Ping a list of Computers you can use <code>Parallel</code> or use async <code>Task</code>.</p>\n\n<p>I tested both methods bellow with the same 77 IPs. Used variable <code>sec = 3</code>.  </p>\n\n<ul>\n<li>Tasks toke 00:00:02.7146249  </li>\n<li>Parallel toke 00:00:05.9941404  </li>\n</ul>\n\n<p>To use the methods</p>\n\n<pre><code>Dictionary&lt;string, bool&gt; pingsReturn = await Network.PingListAsync(dictionary,3);\n</code></pre>\n\n<p>I can give you the 2 examples:</p>\n\n<h2>Task</h2>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static async Task&lt;Dictionary&lt;string, bool&gt;&gt; PingListAsync(Dictionary&lt;string, bool&gt; HostList, int sec = 3)\n        {\n\n            // Create a buffer of 32 bytes of data to be transmitted.\n            string data = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\";\n            byte[] buffer = Encoding.ASCII.GetBytes(data);\n            // set a quick TTL\n            PingOptions options = new PingOptions(20, true);\n\n            // internal support Task to handle Ping Exceptions like \"host not found\"\n            async Task&lt;KeyValuePair&lt;string, bool&gt;&gt; PingHost(string host)\n            {\n                try\n                {\n                    var pingresult = await Task.Run(() =&gt; new Ping().SendPingAsync(host, sec * 1000, buffer, options));\n                    //t.Wait();\n                    if (pingresult.Status == IPStatus.Success)\n                        return new KeyValuePair&lt;string, bool&gt;(host, true);\n                    else\n                        return new KeyValuePair&lt;string, bool&gt;(host, false);\n\n                }\n                catch\n                {\n                    return new KeyValuePair&lt;string, bool&gt;(host, false);\n                }\n\n            }\n\n            //Using Tasks &gt;&gt;\n            var watch = new Stopwatch();\n            watch.Start();\n            var tasksb = HostList.Select(HostName =&gt; PingHost(HostName.Key.ToString()));\n\n            var pinglist = await Task.WhenAll(tasksb);\n\n\n            foreach (var pingreply in pinglist)\n            {\n                HostList[pingreply.Key] = pingreply.Value;\n            }\n\n            watch.Stop();\n            Log.Debug(\"PingList (Tasks) Time elapsed: \" + watch.Elapsed);\n            //Using Tasks &lt;&lt;\n\n\n\n            return HostList;\n\n        }\n</code></pre>\n\n<h2>Parallel</h2>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static async Task&lt;Dictionary&lt;string, bool&gt;&gt; PingListAsync(Dictionary&lt;string, bool&gt; HostList, int sec = 3)\n        {\n\n            // Create a buffer of 32 bytes of data to be transmitted.\n            string data = \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\";\n            byte[] buffer = Encoding.ASCII.GetBytes(data);\n            // set a quick TTL\n            PingOptions options = new PingOptions(20, true);\n\n            //Using Parallel &gt;&gt;\n            watch = new Stopwatch();\n            watch.Start();\n\n            // avoid exception \"Collection was modified; enumeration operation may not execute.\"\n            // we need new dictionary and add values\n            Dictionary&lt;string, bool&gt; dictionary = new Dictionary&lt;string, bool&gt;();\n            Parallel.ForEach(HostList.Keys, (currHost) =&gt;\n            {\n\n                try\n                {\n                    var pingReply = new Ping().Send(currHost, sec * 1000, buffer, options);\n                    if (pingReply.Status == IPStatus.Success)\n                        dictionary.Add(currHost, true);\n                    else\n                        dictionary.Add(currHost, false);\n                }\n                catch\n                {\n                    // handle Ping Exceptions like \"host not found\"\n                    dictionary.Add(currHost, false);\n                }\n\n\n            });\n            watch.Stop();\n            Log.Debug(\"PingList (Parallel) Time elapsed: \" + watch.Elapsed);\n            //Using Parallel &lt;&lt;\n\n            return dictionary;\n\n        }\n</code></pre>\n\n<p>PS - I know this is an old question, but is still valid.</p>\n"}], "owner": {"reputation": 11, "user_id": 7673715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77a45989df817b4cb6e1a662949cf5d8?s=128&d=identicon&r=PG&f=1", "display_name": "PoKenius", "link": "https://stackoverflow.com/users/7673715/pokenius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576255576, "creation_date": 1523477969, "question_id": 49783860, "link": "https://stackoverflow.com/questions/49783860/c-ping-is-not-fast-enough", "title": "C# Ping is not fast enough", "body": "<p>I am trying to make a scan wether the pc is online or offline.\nBut my current code is way to slow to scan with a good performance as if an computer is offline there is a delay of 3 to 5 seconds.\nI even added the timeout parameter set as 500 but it still takes more than 3 seconds if a computer is offline.</p>\n\n<pre><code>public bool PingComputer(string computername)\n    {\n        bool check = false;\n        Ping ping = new Ping();\n        try\n        {\n            PingReply reply = ping.Send(computername, 500);\n            check = reply.Status == IPStatus.Success;\n        }\n        catch (PingException)\n        {\n\n        }\n        return check;\n    }\n</code></pre>\n\n<p>I also already read about asynchron pings but i could\u00b4nt find a suitable solution yet that simply returns true if computer is online or false if it is offline.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm", "inotifypropertychanged"], "comments": [{"owner": {"reputation": 474, "user_id": 2708640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5c6416aaa06968aede29ceb999ceca3?s=128&d=identicon&r=PG&f=1", "display_name": "Muster Station", "link": "https://stackoverflow.com/users/2708640/muster-station"}, "edited": false, "score": 0, "creation_date": 1523478306, "post_id": 49783836, "comment_id": 86583204, "body": "What happens when you switch the TextBlock with a TextBox. I have learned that Bindings in TextBlocks don&#39;t always behave as you want. If that does solve the update issue, you can attempt to use a restyled TextBox. If that doesn&#39;t work, you can try a TextBox and manually update the source binding/trigger."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9145305"}, "reply_to_user": {"reputation": 474, "user_id": 2708640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5c6416aaa06968aede29ceb999ceca3?s=128&d=identicon&r=PG&f=1", "display_name": "Muster Station", "link": "https://stackoverflow.com/users/2708640/muster-station"}, "edited": false, "score": 0, "creation_date": 1523481686, "post_id": 49783836, "comment_id": 86584654, "body": "Could you show a working example? I\u2019d appreciate it."}, {"owner": {"reputation": 716, "user_id": 5379582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQPLu.jpg?s=128&g=1", "display_name": "dktaylor", "link": "https://stackoverflow.com/users/5379582/dktaylor"}, "edited": false, "score": 0, "creation_date": 1524017963, "post_id": 49783836, "comment_id": 86796154, "body": "Could you show a little more context in your model? Where is the Parent property coming from?"}], "owner": {"user_type": "does_not_exist", "display_name": "user9145305"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523477889, "creation_date": 1523477889, "question_id": 49783836, "link": "https://stackoverflow.com/questions/49783836/how-to-use-a-toggle-button-to-set-the-value-of-a-textblock-using-property-change", "title": "How to use a toggle button to set the value of a TextBlock using Property Changed?", "body": "<p>I am having trouble setting the value of a TextBlock based on a Boolean expression.</p>\n\n<p>I have this property in my Team class:</p>\n\n<pre><code>private Enums.YesOrNo yesOrNoOperator;\npublic Enums.YesOrNo YesOrNoOperator\n{\n get\n {\n   return this.yesOrNoOperator;\n }\n set\n {\n   this.yesOrNoOperator = value;\n   OnPropertyChanged(\"YesOrNoOperator\");\n  }\n }\n\n\nprivate bool isYesOperator = false;\npublic bool IsYesOperator\n{\n  get\n  {\n    return this.isYesOperator;\n  }\n  set\n  {\n    this.isYesOperator = value;\n    OnPropertyChanged(\"IsYesOperator\");\n   }\n }\n</code></pre>\n\n<p>So this is set to false as default. So, Ideally, I want to display 'Yes' if this property is set to true and 'No' if not. </p>\n\n<p>The problem is, this String configuration will be referenced in another spot and I can't effectively raise a Property Changed event. I am using an ENUM to store the values of the 'YES' or 'NO' values.</p>\n\n<pre><code>&lt;TextBlock Style=\"{StaticResource TextBlockBaseStyling}\" VerticalAlignment=\"Center\" Text=\"{Binding YesOrNoOperator, UpdateSourceTrigger=PropertyChanged}\"/&gt;\n                                            &lt;ToggleButton Style=\"{StaticResource ToggleViewSwitch}\"\n                                            Visibility=\"{Binding IsToggleVisible, UpdateSourceTrigger=PropertyChanged}\"\n                                            IsChecked=\"{Binding IsYesOperator, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}\"/&gt;\n                                        &lt;/Grid&gt;\n                                    &lt;/Grid&gt;\n                                    &lt;ItemsPresenter x:Name=\"ItemsHost\" Grid.ColumnSpan=\"2\" Grid.Column=\"1\" Grid.Row=\"1\"/&gt;\n                                &lt;/Grid&gt;\n                            &lt;/Border&gt;\n                        &lt;/Grid&gt;\n                        &lt;TextBlock Style=\"{StaticResource TextBlockBaseStyling}\"\n                                   Text=\"{Binding Parent.YesOrNoOperator, UpdateSourceTrigger=PropertyChanged}\"\n                                   Visibility=\"{Binding IsOperatorVisible, Converter={StaticResource BooleanConverter}, UpdateSourceTrigger=PropertyChanged}\"\n                                   VerticalAlignment=\"Center\" HorizontalAlignment=\"Center\" Margin=\"0, 10, 0, 0\"/&gt;\n</code></pre>\n\n<p>So here, both Parent.YesOrNoOperator and YesOrNoOperator are technically the same property. </p>\n\n<p>What I would like is for when you toggle the button, both of these properties are set to 'Yes' or 'No'. Hope that makes sense.</p>\n"}, {"tags": ["c#", "string", "type-conversion", "double"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 6, "creation_date": 1523477922, "post_id": 49783823, "comment_id": 86583002, "body": "<a href=\"https://msdn.microsoft.com/en-us/library/9s9ak971(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Convert.ToDouble(string, IFormatProvider)</code></a>"}, {"owner": {"reputation": 7, "user_id": 7196543, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-no_aj14aTIw/AAAAAAAAAAI/AAAAAAAABRE/PYNZqoAdRaw/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434 \u041e\u0433\u043e", "link": "https://stackoverflow.com/users/7196543/%d0%92%d0%bb%d0%b0%d0%b4-%d0%9e%d0%b3%d0%be"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523478324, "post_id": 49783823, "comment_id": 86583210, "body": "I know it, what provider should I use? CultureInfo doesnt help me"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523479174, "post_id": 49783823, "comment_id": 86583623, "body": "The MSDN article I linked shows how to set up the number format info with a complete example at the bottom."}], "answers": [{"comments": [{"owner": {"reputation": 1285, "user_id": 810328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/98951d6303cf432496217feebec6359f?s=128&d=identicon&r=PG", "display_name": "vcRobe", "link": "https://stackoverflow.com/users/810328/vcrobe"}, "edited": false, "score": 1, "creation_date": 1523481649, "post_id": 49784448, "comment_id": 86584639, "body": "it doesn&#39;t work with comma as decimal separator. The <i>InvariantCulture</i> <b>always</b> uses the dot as decimal separator so it will fail with this number (23,45)."}], "tags": [], "owner": {"reputation": 412, "user_id": 6752566, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/87c00e7d4910a3b34e7c25a37c492a0d?s=128&d=identicon&r=PG&f=1", "display_name": "S. Koshelnyk", "link": "https://stackoverflow.com/users/6752566/s-koshelnyk"}, "is_accepted": false, "score": -1, "last_activity_date": 1523480708, "creation_date": 1523480708, "answer_id": 49784448, "question_id": 49783823, "link": "https://stackoverflow.com/questions/49783823/convert-string-with-commas-and-dots-to-double/49784448#49784448", "title": "Convert string with commas and dots to double", "body": "<p><code>var result = Convert.ToDouble(\"23.45\", (CultureInfo.InvariantCulture))</code> worked for me in different language settings</p>\n"}], "owner": {"reputation": 7, "user_id": 7196543, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-no_aj14aTIw/AAAAAAAAAAI/AAAAAAAABRE/PYNZqoAdRaw/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434 \u041e\u0433\u043e", "link": "https://stackoverflow.com/users/7196543/%d0%92%d0%bb%d0%b0%d0%b4-%d0%9e%d0%b3%d0%be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1523480708, "creation_date": 1523477849, "question_id": 49783823, "link": "https://stackoverflow.com/questions/49783823/convert-string-with-commas-and-dots-to-double", "title": "Convert string with commas and dots to double", "body": "<p>Server returns string in format \"123.123\". I need to convert it to Double. But in some cultures double is in format \"123,123\". (Diff is in dot and comma.)</p>\n\n<p>What is the best way to solve this problem? At the end I want to see this code working:</p>\n\n<pre><code>var s1 = \"123.123\";\nvar s2 = \"123,123\";\n\nvar d1 = Convert.ToDouble(s1);\nvar d2 = Convert.ToDouble(s2);\n\nif(d1 == d2)\n{\n    //Problem is solved\n}\n</code></pre>\n"}, {"tags": ["c#", "monogame", "touchscreen"], "comments": [{"owner": {"reputation": 1352, "user_id": 2735344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d369895803df5664eb8669ae12980ff3?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/2735344/steven"}, "edited": false, "score": 0, "creation_date": 1523514046, "post_id": 49783807, "comment_id": 86593524, "body": "Could you be more specific which screens worked correctly?"}, {"owner": {"reputation": 81, "user_id": 3747590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002994169911/picture?type=large", "display_name": "Kisiel665", "link": "https://stackoverflow.com/users/3747590/kisiel665"}, "reply_to_user": {"reputation": 1352, "user_id": 2735344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d369895803df5664eb8669ae12980ff3?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/2735344/steven"}, "edited": false, "score": 0, "creation_date": 1523526490, "post_id": 49783807, "comment_id": 86600944, "body": "iiyama PROLITE T1931SAW-B1 works fine"}], "owner": {"reputation": 81, "user_id": 3747590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100002994169911/picture?type=large", "display_name": "Kisiel665", "link": "https://stackoverflow.com/users/3747590/kisiel665"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523477793, "creation_date": 1523477793, "question_id": 49783807, "link": "https://stackoverflow.com/questions/49783807/touch-in-monogame-does-not-work-on-some-screens", "title": "Touch in monogame does not work on some screens", "body": "<p>I'm writting simulation in Monogame and I have problem with touch detect on some touch screens. I need support mouse and touch screens so I used <code>Mouse.GetState()</code> to detect when left button is pressed. It is works with mouse and with some touch screens but some touch screens doesn't work correct. </p>\n\n<p>For example Elotouch screen doesn't work. When I touch them Monogame can't detect correct state (I expect <code>LeftButton.Pressed</code>). Tapping is sometimes detected after few attempts. This screen has driver with some preferences and touching is detected only with mouse simulation config (other configs doesn't work). Screen can alert all touches by sound and when I use this option sound is play correctly on every touch. </p>\n\n<p>I tried use <code>TouchPanel.GetState()</code> too but collection is always empty. </p>\n\n<p>I tested simulation with few screens and some screens works correct. Has someone problems like that? Any ideas?</p>\n\n<p>P.S. Monogame in 3.6 version. Screen and graphic card installed and updated. Tested on several computers (Win8 and Win10).</p>\n"}, {"tags": ["c#", "speech-recognition", "text-to-speech", "microsoft-speech-api", "phoneme"], "comments": [{"owner": {"reputation": 13278, "user_id": 175201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30939d10bcf2e56b47c6a3d85c2e92b?s=128&d=identicon&r=PG", "display_name": "Eric Brown", "link": "https://stackoverflow.com/users/175201/eric-brown"}, "edited": false, "score": 0, "creation_date": 1544831968, "post_id": 49783718, "comment_id": 94428254, "body": "Does it work if you specify the pronunciation via SSML?  Also, try using a langID of 0 (zero), as that uses a different phoneme to ID converter."}, {"owner": {"reputation": 127, "user_id": 9559499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMjou.png?s=128&g=1", "display_name": "Exergist", "link": "https://stackoverflow.com/users/9559499/exergist"}, "reply_to_user": {"reputation": 13278, "user_id": 175201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30939d10bcf2e56b47c6a3d85c2e92b?s=128&d=identicon&r=PG", "display_name": "Eric Brown", "link": "https://stackoverflow.com/users/175201/eric-brown"}, "edited": false, "score": 0, "creation_date": 1544848795, "post_id": 49783718, "comment_id": 94430569, "body": "Thanks for checking this out Eric! I actually did a bunch of testing in VS today and in fact it DOES work as described. Looking back I&#39;m not sure what caused the problem, but I still need to integrate this with the rest of my project. The primary and/or secondary stress marker should go at the end of a syllable (after the last phoneme of a syllable). One thing I thought was odd though was that I could have two primary stressors, two secondary stressors, or a mix of both and all the pronunciation variations would sound the same. I&#39;ll update this post with my new findings in the next few days."}, {"owner": {"reputation": 127, "user_id": 9559499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMjou.png?s=128&g=1", "display_name": "Exergist", "link": "https://stackoverflow.com/users/9559499/exergist"}, "reply_to_user": {"reputation": 13278, "user_id": 175201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30939d10bcf2e56b47c6a3d85c2e92b?s=128&d=identicon&r=PG", "display_name": "Eric Brown", "link": "https://stackoverflow.com/users/175201/eric-brown"}, "edited": false, "score": 0, "creation_date": 1558466152, "post_id": 49783718, "comment_id": 99108526, "body": "As an extension of this @EricBrown I&#39;ve posted a new question (hopefully the last for my project). Maybe when you have time you could check it out: <a href=\"https://stackoverflow.com/questions/56245050/how-to-get-speech-recognition-to-detect-sapi-emphasis-markers\" title=\"how to get speech recognition to detect sapi emphasis markers\">stackoverflow.com/questions/56245050/&hellip;</a>"}, {"owner": {"reputation": 127, "user_id": 9559499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMjou.png?s=128&g=1", "display_name": "Exergist", "link": "https://stackoverflow.com/users/9559499/exergist"}, "reply_to_user": {"reputation": 13278, "user_id": 175201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30939d10bcf2e56b47c6a3d85c2e92b?s=128&d=identicon&r=PG", "display_name": "Eric Brown", "link": "https://stackoverflow.com/users/175201/eric-brown"}, "edited": false, "score": 0, "creation_date": 1559243773, "post_id": 49783718, "comment_id": 99368826, "body": "@EricBrown in the example shown above does anything need to happen with the <code>lex</code> object for proper disposal? Perhaps set it to null? Or is it okay to let it go out of scope?"}, {"owner": {"reputation": 13278, "user_id": 175201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30939d10bcf2e56b47c6a3d85c2e92b?s=128&d=identicon&r=PG", "display_name": "Eric Brown", "link": "https://stackoverflow.com/users/175201/eric-brown"}, "edited": false, "score": 0, "creation_date": 1559334006, "post_id": 49783718, "comment_id": 99400923, "body": "Setting it to null is probably preferable; it&#39;s a COM interface, so either one will work.  Do you absolutely have to know when the object is finalized?  If so, you&#39;ll probably have to look at Marshal.FinalReleaseComObject, but I wouldn&#39;t do that unless you absolutely have to."}, {"owner": {"reputation": 127, "user_id": 9559499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMjou.png?s=128&g=1", "display_name": "Exergist", "link": "https://stackoverflow.com/users/9559499/exergist"}, "reply_to_user": {"reputation": 13278, "user_id": 175201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30939d10bcf2e56b47c6a3d85c2e92b?s=128&d=identicon&r=PG", "display_name": "Eric Brown", "link": "https://stackoverflow.com/users/175201/eric-brown"}, "edited": false, "score": 0, "creation_date": 1559336820, "post_id": 49783718, "comment_id": 99401839, "body": "I&#39;m sniffing around all my code for any leaks, and I didn&#39;t know if I needed to dispose of SAPI 5.4-related COM stuff. I didn&#39;t know if there was a managed/unmanaged gray area with the SAPI stuff."}, {"owner": {"reputation": 127, "user_id": 9559499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMjou.png?s=128&g=1", "display_name": "Exergist", "link": "https://stackoverflow.com/users/9559499/exergist"}, "reply_to_user": {"reputation": 13278, "user_id": 175201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d30939d10bcf2e56b47c6a3d85c2e92b?s=128&d=identicon&r=PG", "display_name": "Eric Brown", "link": "https://stackoverflow.com/users/175201/eric-brown"}, "edited": false, "score": 0, "creation_date": 1559854769, "post_id": 49783718, "comment_id": 99560168, "body": "@EricBrown I use the above SAPI objects as part of a form. Would you suggest I follow this post (<a href=\"https://stackoverflow.com/a/20074069/9559499\">stackoverflow.com/a/20074069/9559499</a>) and implement a finalizer?"}], "owner": {"reputation": 127, "user_id": 9559499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMjou.png?s=128&g=1", "display_name": "Exergist", "link": "https://stackoverflow.com/users/9559499/exergist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1544817009, "creation_date": 1523477420, "last_edit_date": 1544817009, "question_id": 49783718, "link": "https://stackoverflow.com/questions/49783718/sapi-symbol-usage-for-speech-dictionary-input", "title": "SAPI Symbol Usage for Speech Dictionary Input", "body": "<p>I've been doing some work to add words and pronunciations to the Windows speech dictionary via the <a href=\"https://msdn.microsoft.com/en-us/library/ee125566%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">SpLexicon Interface</a> of SAPI 5.4 (which I think is the only way to do it) via the <a href=\"https://msdn.microsoft.com/en-us/library/ee125560(v=vs.85).aspx\" rel=\"nofollow noreferrer\">AddPronunciation</a> function, or in my case:</p>\n\n<pre><code>// Initialize SpLexicon instance\nSpLexicon lex = new SpLexicon();\n\n// Specify the word to add to the speech dictionary\nstring myWord = \"father\";\n\n// Set the language ID (US English)\nint langid = new System.Globalization.CultureInfo(\"en-US\").LCID;\n\n// Specify the word's part of speech\nSpeechPartOfSpeech mySpeechPart = SpeechPartOfSpeech.SPSNoun;\n\n// Specify the word's pronunciation in SAPI phone symbols\nstring myPronunciation = \"f aa dh er\";\n\n// Call actual speech API method for adding word data to the speech dictionary\nlex.AddPronunciation(myWord, langid, mySpeechPart, myPronunciation);\n</code></pre>\n\n<p>I'm referencing the <a href=\"https://msdn.microsoft.com/en-us/library/jj127450.aspx\" rel=\"nofollow noreferrer\">American English Phoneme Table</a> for determining what SAPI symbols to use. I've noticed though that using the emphasis markers \"1\" or \"2\" as well as the syllable marker \"-\" doesn't seem to affect the TTS pronunciation. <strong>Are these modifier symbols only used for XML input, or am I possibly doing something wrong?</strong></p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 3, "creation_date": 1523477290, "post_id": 49783618, "comment_id": 86582682, "body": "instead of <code>cmd.Parameters.Clear();</code> why not just reset the value? also, you do <code>cmd.Parameters.AddWithValue(&quot;@Username&quot;,...</code> and then you clear it"}, {"owner": {"reputation": 17462, "user_id": 97964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6Nrh5.jpg?s=128&g=1", "display_name": "jocull", "link": "https://stackoverflow.com/users/97964/jocull"}, "edited": false, "score": 0, "creation_date": 1523477344, "post_id": 49783618, "comment_id": 86582715, "body": "Your query contains two distinct insert statements - I feel like these should be executed separately? That could be the issue."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "reply_to_user": {"reputation": 17462, "user_id": 97964, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6Nrh5.jpg?s=128&g=1", "display_name": "jocull", "link": "https://stackoverflow.com/users/97964/jocull"}, "edited": false, "score": 0, "creation_date": 1523477551, "post_id": 49783618, "comment_id": 86582823, "body": "@jocull not really. He can do it. In fact, may be just collect parameters into one big bulk, instead of separate execution of separate inserts. This way, only one trip to DB. Depends, how big is the total load"}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 1, "creation_date": 1523478947, "post_id": 49783618, "comment_id": 86583520, "body": "<code>SqlCommand</code> and <code>SqlConnection</code> are both disposable so should both be in a <code>using</code> block. The Dispose of the connection (as it exits the using block) handles the Close, so you don&#39;t need to. I&#39;d suggest taking a look at <a href=\"https://blogs.msmvps.com/jcoehoorn/blog/2014/05/12/can-we-stop-using-addwithvalue-already/\" rel=\"nofollow noreferrer\">Can we stop using AddWithValue</a>."}, {"owner": {"reputation": 2160, "user_id": 314895, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d965777cb8e44c6d4a5a878b184d8155?s=128&d=identicon&r=PG&f=1", "display_name": "Black Light", "link": "https://stackoverflow.com/users/314895/black-light"}, "edited": false, "score": 1, "creation_date": 1523479667, "post_id": 49783618, "comment_id": 86583846, "body": "Clearing the parameters collection will clear your username (set before the loop). Did you mean that ?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1523480840, "post_id": 49783618, "comment_id": 86584350, "body": "A likely cause is that the value for <code>@ID</code> is <code>null</code> and you are not setting the value to be used to <code>System.DBNull.Value</code> and doing this the SqlCommand will ignore that parameter entirely. To fix it check if the value is null and if it is pass <code>System.DBNull.Value</code> instead to the value of the parameter. Also be sure you specify the appropriate SqlDbType in your parameter <b>and</b> pass the values in the type they are expected so if <code>Stock_Take_Item.ItemID</code> is <code>Int</code> then you should also use an <code>int</code> in your c# value and <b>not a string from a text box</b>."}, {"owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "edited": false, "score": 0, "creation_date": 1523543132, "post_id": 49783618, "comment_id": 86612767, "body": "hey, check my answer. It will put you on the <b>right</b> path"}], "answers": [{"tags": [], "owner": {"reputation": 14660, "user_id": 1704458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/14Imh.jpg?s=128&g=1", "display_name": "T.S.", "link": "https://stackoverflow.com/users/1704458/t-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1523480114, "last_edit_date": 1523480114, "creation_date": 1523479795, "answer_id": 49784241, "question_id": 49783618, "link": "https://stackoverflow.com/questions/49783618/system-data-sqlclient-sqlexception-must-declare-the-scalar-variable-id/49784241#49784241", "title": "System.Data.SqlClient.SqlException: &#39;Must declare the scalar variable &quot;@ID&quot;.&#39;", "body": "<p>I would do things in bulk - it will cut on number of trips to database</p>\n\n<pre><code>protected void btnSubmit_Click(object sender, EventArgs e)\n{\n\n    var counter = 0;\n    var query = @\"insert into Stock_Take_Item\n                  (ItemID, BarQuantity, StorageQuantity)\n                  values\n              ({1}, {2}, {3});\n               insert into Stock_Take\n               (Username, StockDate) \n               values\n               ({0}, GetDate());\";\n\n    var paramList = new List&lt;SqlParameter&gt;();\n    var sqlBulk = new StringBuilder(10000);\n    var p0 = \"@0\";\n    var maxRows = 100;\n    var currRow = 0;\n    var totalRows = 0;\n\n    foreach (GridViewRow row in gvStockTake.Rows)\n    {\n        Label ID = row.FindControl(\"itemId\") as Label;\n        TextBox BAR = row.FindControl(\"txtBar\") as TextBox;\n        TextBox STORAGE = row.FindControl(\"txtStorage\") as TextBox;\n\n        currRow++;        \n        totalRows++;\n\n        if (counter == 0)\n        {\n            paramList.Add(new SqlParameter(, Session[\"username\"].ToString()));            \n        }\n        var p1 = \"@\" + ++counter;\n        var p2 = \"@\" + ++counter;\n        var p3 = \"@\" + ++counter;\n\n        paramList.AddRange(new[]{\n            new SqlParameter(p1, Convert.ToInt32(Id.Text),\n            new SqlParameter(p2, Convert.ToInt32(BAR.Text),\n            new SqlParameter(p3, Convert.ToInt32(STORAGE.Text)\n            });\n\n        sqlBulk.AppendFormat(query, p0, p1, p2, p3);\n\n        if (currRow == maxRows || totalRows == gvStockTake.Rows)\n        {\n            using (var con = new SqlConnection(connectionString))\n            {\n                using (var cmd = new SqlCommand(sqlBulk.ToString(), con))\n                {\n                    cmd.Parameters.AddRange(paramList);\n                    con.Open();\n                    cmd.ExecuteNonQuery();\n                }\n            }\n            currRow = 0;\n            counter = 0;\n            paramList.Clear();\n            sqlBulk.Length = 0;\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Disclaimer:</strong> Not tested.</p>\n"}], "owner": {"reputation": 37, "user_id": 9592145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/250cbb78d1a2989b8e792fdc8f9d962c?s=128&d=identicon&r=PG&f=1", "display_name": "randomnamegenerator12", "link": "https://stackoverflow.com/users/9592145/randomnamegenerator12"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1460, "favorite_count": 1, "closed_date": 1523481106, "answer_count": 1, "score": -4, "last_activity_date": 1523480114, "creation_date": 1523477080, "last_edit_date": 1523478578, "question_id": 49783618, "link": "https://stackoverflow.com/questions/49783618/system-data-sqlclient-sqlexception-must-declare-the-scalar-variable-id", "closed_reason": "Duplicate", "title": "System.Data.SqlClient.SqlException: &#39;Must declare the scalar variable &quot;@ID&quot;.&#39;", "body": "<p>I keep getting the error message </p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException: 'Must declare the scalar variable \"@ID\".' - </p>\n</blockquote>\n\n<p>I have a gridview that captures what the user inputs into texts boxes and submits them to the database on a click of a button. When the user clicks the button I am also trying to store the current user logged in, into a database table. Can someone help me as to why this message keeps occurring? </p>\n\n<p>Here is the C# code for my button click event </p>\n\n<pre><code>protected void btnSubmit_Click(object sender, EventArgs e)\n{\n    string query = \"insert into Stock_Take_Item(ItemID, BarQuantity, StorageQuantity) values(@ID, @BAR, @STORAGE); insert into Stock_Take(Username, StockDate)\" +\n            \" values(@Username, GetDate())\";\n\n    SqlConnection con = new SqlConnection(connectionString);\n\n    SqlCommand cmd = new SqlCommand(query, con);\n    con.Open();\n\n    cmd.Parameters.AddWithValue(\"@Username\", Session[\"username\"].ToString());\n\n    foreach (GridViewRow row in gvStockTake.Rows)\n    {\n        Label ID = row.FindControl(\"itemId\") as Label;\n        TextBox BAR = row.FindControl(\"txtBar\") as TextBox;\n        TextBox STORAGE = row.FindControl(\"txtStorage\") as TextBox;\n\n        cmd.Parameters.Clear();\n\n        cmd.Parameters.Add(\"@ID\", SqlDbType.VarChar).Value = ID.Text;\n        cmd.Parameters.Add(\"@BAR\", SqlDbType.Int).Value = BAR.Text;\n        cmd.Parameters.Add(\"@STORAGE\", SqlDbType.Int).Value = STORAGE.Text;\n\n        cmd.ExecuteNonQuery(); //query execution\n    }\n\n    con.Close();\n    Response.Write(\"Successfully inserted stock take items.\");\n}\n</code></pre>\n\n<p>And here is the code to my Log in C# code </p>\n\n<pre><code>protected void btnLogin_Click(object sender, EventArgs e)\n{\n    using (SqlConnection sqlCon = new SqlConnection(@\"Data Source=(local)\\;Initial Catalog=SmallBatch;Integrated Security=True;\"))\n    {\n        sqlCon.Open();\n\n        string query = \"SELECT COUNT(1) FROM Site WHERE Username=@username AND Password=@password\";\n\n        SqlCommand sqlCmd = new SqlCommand(query, sqlCon);\n\n        sqlCmd.Parameters.AddWithValue(\"@username\", txtUsername.Text.Trim());\n        sqlCmd.Parameters.AddWithValue(\"@password\", txtPassword.Text.Trim());\n\n        int count = Convert.ToInt32(sqlCmd.ExecuteScalar());\n\n        if (count == 1)\n        {\n            Session[\"username\"] = txtUsername.Text.Trim();\n            Response.Redirect(\"Dashboard.aspx\");\n        }\n        else \n        { \n            lblErrorMessage.Visible = true; \n        }\n    }\n}\n</code></pre>\n\n<p>I am still new to ASP.NET and C#, so any recommendations are more than appreciated! </p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 4140, "user_id": 2590375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LeuSa.png?s=128&g=1", "display_name": "nilsK", "link": "https://stackoverflow.com/users/2590375/nilsk"}, "edited": false, "score": 0, "creation_date": 1523477080, "post_id": 49783527, "comment_id": 86582566, "body": "<a href=\"https://msdn.microsoft.com/de-de/library/57a79xd0(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn-docs</a> aren&#39;t that aweful anymore ;) String.Join(String, String[]) You need to use your List/Array/Collection as second param."}], "answers": [{"tags": [], "owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "is_accepted": false, "score": 3, "last_activity_date": 1523476814, "creation_date": 1523476814, "answer_id": 49783559, "question_id": 49783527, "link": "https://stackoverflow.com/questions/49783527/using-comma-to-separate-list-values-in-razor/49783559#49783559", "title": "Using comma to separate List values in Razor", "body": "<p>It is very hard to tell based off of your question as you provide no real insight into what your model looks like. My guess is that this is what you are looking for though</p>\n\n<pre><code>string.Join(\",\", Model.apiAgent.languages)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "edited": false, "score": 0, "creation_date": 1523477270, "post_id": 49783564, "comment_id": 86582669, "body": "without the loop? when I use this, this will print: Mvc.Models.AgentModels.api_Agent+Language,Mvc.Models.AgentMo&zwnj;&#8203;dels.api_Agent+Langu&zwnj;&#8203;age;"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "reply_to_user": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "edited": false, "score": 0, "creation_date": 1523477791, "post_id": 49783564, "comment_id": 86582931, "body": "I see, you need to get the <code>language</code> property of each element in the <code>languages</code> list. Is that right? Edited my naswer."}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 5, "last_activity_date": 1523477734, "last_edit_date": 1523477734, "creation_date": 1523476826, "answer_id": 49783564, "question_id": 49783527, "link": "https://stackoverflow.com/questions/49783527/using-comma-to-separate-list-values-in-razor/49783564#49783564", "title": "Using comma to separate List values in Razor", "body": "<p>If you're joining everything into one string, you don't need the loop. Just use</p>\n\n<pre><code>@(string.Join(\",\", Model.apiAgent.languages));\n</code></pre>\n\n<p>If the elements contained in <code>languages</code> aren't the strings you want, you may need to tease out the property you want with <a href=\"https://msdn.microsoft.com/en-us/library/system.linq.enumerable.select(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Select</code></a>. For example, if each element has a <code>language</code> property that you want to output, you can use:</p>\n\n<pre><code>@(string.Join(\",\", Model.apiAgent.languages.Select( l =&gt; l.language )));\n</code></pre>\n"}], "owner": {"reputation": 444, "user_id": 7926795, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1cb25845af383769732b7afd4a4f0222?s=128&d=identicon&r=PG", "display_name": "nik", "link": "https://stackoverflow.com/users/7926795/nik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 49783564, "answer_count": 2, "score": -3, "last_activity_date": 1523477734, "creation_date": 1523476679, "last_edit_date": 1523477096, "question_id": 49783527, "link": "https://stackoverflow.com/questions/49783527/using-comma-to-separate-list-values-in-razor", "title": "Using comma to separate List values in Razor", "body": "<p>I try to separate a list in Razor by <code>\",\"</code> but I don't want the <code>\",\"</code> at the end. I try to use <code>String.join</code> but nothing is happening. </p>\n\n<p>This is my code:</p>\n\n<pre><code>@foreach (Language language in Model.apiAgent.languages)\n{   \n    @(string.Join(\",\", language.language));\n}\n</code></pre>\n\n<p>it is still shows as </p>\n\n<blockquote>\n  <p>EnglishSpanish</p>\n</blockquote>\n"}, {"tags": ["c#", "encryption", "registry"], "comments": [{"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1523852327, "post_id": 49783482, "comment_id": 86713726, "body": "Please elaborate on why calling an API is no longer an option. Saying that you don&#39;t want to call an API makes it sound like you are looking for a non-programming solution, which means that it belongs on SuperUser."}, {"owner": {"reputation": 135, "user_id": 4892633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10200534673485714/picture?type=large", "display_name": "Lee Hopkins", "link": "https://stackoverflow.com/users/4892633/lee-hopkins"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1523961913, "post_id": 49783482, "comment_id": 86767392, "body": "I have read that the advapi32 is no longer available in C# as it was in VB6. I have an app that reads some encrypted Reg values: connection string, User name, PW....."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1523972637, "post_id": 49783482, "comment_id": 86775202, "body": "advapi32 is still around."}, {"owner": {"reputation": 135, "user_id": 4892633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10200534673485714/picture?type=large", "display_name": "Lee Hopkins", "link": "https://stackoverflow.com/users/4892633/lee-hopkins"}, "reply_to_user": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1524061873, "post_id": 49783482, "comment_id": 86820131, "body": "pinvoke, never used it but it is the only thing i have found to allow the use of advapi32"}], "owner": {"reputation": 135, "user_id": 4892633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10200534673485714/picture?type=large", "display_name": "Lee Hopkins", "link": "https://stackoverflow.com/users/4892633/lee-hopkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523476549, "creation_date": 1523476549, "question_id": 49783482, "link": "https://stackoverflow.com/questions/49783482/how-to-read-encrypted-values-from-the-registry", "title": "how to read encrypted values from the registry", "body": "<p>The old method was using an API call.(advapi32.dll). However that is no longer an option. does anyone have an idea how to read encrypted values from the Registry?</p>\n"}, {"tags": ["c#", "smtp"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523476641, "post_id": 49783412, "comment_id": 86582335, "body": "<code>smtp:username</code> - why does your email and password look like this ?"}, {"owner": {"reputation": 510, "user_id": 1953927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9071d7e75afb93b8649c01adf391b05b?s=128&d=identicon&r=PG", "display_name": "Jiping", "link": "https://stackoverflow.com/users/1953927/jiping"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523566810, "post_id": 49783412, "comment_id": 86626341, "body": "&quot;smtp:username&quot; is the configuration key name for username. I actually tried hard code username and password in the code, got same error."}, {"owner": {"reputation": 510, "user_id": 1953927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9071d7e75afb93b8649c01adf391b05b?s=128&d=identicon&r=PG", "display_name": "Jiping", "link": "https://stackoverflow.com/users/1953927/jiping"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523566938, "post_id": 49783412, "comment_id": 86626401, "body": "I can send mail out using my personal email account (username) and password, but when I use another email account ( support@mycompany.com ) and password, I caught error."}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523567387, "post_id": 49783412, "comment_id": 86626581, "body": "if you use custom domain/email host/sever , make sure to change the client address and port accordingly :)"}], "owner": {"reputation": 510, "user_id": 1953927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9071d7e75afb93b8649c01adf391b05b?s=128&d=identicon&r=PG", "display_name": "Jiping", "link": "https://stackoverflow.com/users/1953927/jiping"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523476256, "creation_date": 1523476256, "question_id": 49783412, "link": "https://stackoverflow.com/questions/49783412/office-365-smtp-sending-mails-failed-for-some-account", "title": "Office 365 SMTP sending mails failed for some account", "body": "<p>I tried 2 Office 365 accounts for SMTP mail sending. One is ok, the other one failed. I am pretty sure the account name and passwords are right.</p>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p>Message = \"The SMTP server requires a secure connection or the client\n  was not authenticated. The server response was: 5.7.57 SMTP; Client\n  was not authenticated to send anonymous mail during MAIL FROM\n  [DM3PR11CA0008.namprd11.prod.outlook.com]\"</p>\n</blockquote>\n\n<p>C# code:</p>\n\n<pre><code>    int port = 587;\n    int.TryParse(configuration[\"smtp:port\"], out port);\n    string host = configuration[\"smtp:server\"] ?? \"smtp.office365.com\";\n\n    SmtpClient client = new SmtpClient(host, port);\n    client.EnableSsl = true;\n    client.DeliveryMethod = SmtpDeliveryMethod.Network;\n    //client.UseDefaultCredentials = false;\n    client.Credentials = new NetworkCredential(configuration[\"smtp:username\"], configuration[\"smtp:password\"]);\n\n        await client.SendMailAsync(mailMessage);\n</code></pre>\n"}, {"tags": ["c#", "linq", "c#-4.0", "entity-framework-6"], "comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 1, "creation_date": 1523476520, "post_id": 49783400, "comment_id": 86582254, "body": "try combining all criteria into one where clause, chained with the &amp;&amp; operator. the third and fourth, <code>item.supplierNumber == item.supplierNumber</code> are probably by mistake."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 2, "creation_date": 1523476530, "post_id": 49783400, "comment_id": 86582261, "body": "Try to set context.Configuration.UseDatabaseNullSemantics to true."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1523476585, "post_id": 49783400, "comment_id": 86582301, "body": "FYI, those last two clauses will always be <code>true</code> or throw a <code>NullReferenceException</code>"}, {"owner": {"reputation": 6035, "user_id": 237109, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/eaa8d828dadadec5ddf8b2277d267d72?s=128&d=identicon&r=PG", "display_name": "Micah Armantrout", "link": "https://stackoverflow.com/users/237109/micah-armantrout"}, "edited": false, "score": 0, "creation_date": 1523476593, "post_id": 49783400, "comment_id": 86582305, "body": "I put it in one where clause and chained with &amp;&amp; and it does the same"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 2, "creation_date": 1523476741, "post_id": 49783400, "comment_id": 86582392, "body": "You are not doing anything wrong, LINQ generates expressions that handle all possible cases, and since LINQ / C# currently defaults to any object possibly being <code>null</code> and <code>null</code> = <code>null</code> is false in SQL but true in C#, it has to add the extra test to handle that case. Perhaps when C# has non-nullability they can improve LINQ to not test for that and confusing users instead."}, {"owner": {"reputation": 6035, "user_id": 237109, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/eaa8d828dadadec5ddf8b2277d267d72?s=128&d=identicon&r=PG", "display_name": "Micah Armantrout", "link": "https://stackoverflow.com/users/237109/micah-armantrout"}, "edited": false, "score": 0, "creation_date": 1523476771, "post_id": 49783400, "comment_id": 86582415, "body": "I think my mistake is item.supplierNumber == item.supplierNumber"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1523476831, "post_id": 49783400, "comment_id": 86582447, "body": "As @RufusL says, also <code>item.OpcoID == item.OpcoID</code> will be trivially true."}], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 5, "last_activity_date": 1523476758, "last_edit_date": 1523476758, "creation_date": 1523476638, "answer_id": 49783510, "question_id": 49783400, "link": "https://stackoverflow.com/questions/49783400/linq-multiple-where-clause-with-no-or/49783510#49783510", "title": "Linq multiple where clause with no or", "body": "<p>Unless the value you're comparing with is null, it'll be fine. Notice the bracketing:</p>\n\n<pre><code>(\n ([Extent1].[Division] = @p__linq__0) OR\n (([Extent1].[Division] IS NULL) AND (@p__linq__0 IS NULL))\n)\n</code></pre>\n\n<p>Basically it's ensuring that null values are compared as they are in C#, where <code>x == y</code> will evaluate to true if both <code>x</code> and <code>y</code> are null references. In SQL, that <em>wouldn't</em> evaluate to true, because null values aren't considered to be equal.</p>\n\n<p>LINQ aims to emulate the C# code you write, which is why it's checking for nullity like this... but if the value you pass in isn't null, it won't match anything with a null <code>Division</code> value.</p>\n\n<p>As Evk says, if you're using Entity Framework, you can use the <a href=\"https://msdn.microsoft.com/en-us/library/system.data.entity.infrastructure.dbcontextconfiguration.usedatabasenullsemantics(v=vs.113).aspx\" rel=\"nofollow noreferrer\"><code>UseDatabaseNullSemantics</code></a> property in your configuration to avoid this:</p>\n\n<blockquote>\n  <p>Gets or sets a value indicating whether database null semantics are exhibited when comparing two operands, both of which are potentially nullable. The default value is false. For example (operand1 == operand2) will be translated as: (operand1 = operand2) if UseDatabaseNullSemantics is true, respectively (((operand1 = operand2) AND (NOT (operand1 IS NULL OR operand2 IS NULL))) OR ((operand1 IS NULL) AND (operand2 IS NULL))) if UseDatabaseNullSemantics is false.</p>\n</blockquote>\n"}], "owner": {"reputation": 6035, "user_id": 237109, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/eaa8d828dadadec5ddf8b2277d267d72?s=128&d=identicon&r=PG", "display_name": "Micah Armantrout", "link": "https://stackoverflow.com/users/237109/micah-armantrout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "closed_date": 1523494554, "accepted_answer_id": 49783510, "answer_count": 1, "score": 0, "last_activity_date": 1523494724, "creation_date": 1523476217, "last_edit_date": 1523476568, "question_id": 49783400, "link": "https://stackoverflow.com/questions/49783400/linq-multiple-where-clause-with-no-or", "closed_reason": "Duplicate", "title": "Linq multiple where clause with no or", "body": "<p>I am trying to do a multiple where clause in linq that looks like the following:</p>\n\n<pre><code>.Where(x =&gt; x.Division == item.Division)\n.Where( x =&gt; x.ProductID == item.ProductID)\n.Where( x =&gt; item.supplierNumber == item.supplierNumber)\n.Where(x =&gt; item.OpcoID == item.OpcoID);\n</code></pre>\n\n<p>when I spit out the SQL it looks like this</p>\n\n<pre><code>WHERE  ( ( [extent1].[Division] = @p__linq__0 ) \n      OR ( ( [extent1].[Division] IS NULL ) \n           AND ( @p__linq__0 IS NULL ) ) ) \n   AND ( ( [extent1].[ProductID] = @p__linq__1 ) \n          OR ( ( [extent1].[ProductID] IS NULL ) \n               AND ( @p__linq__1 IS NULL ) ) ) \n   AND ( ( @p__linq__2 = @p__linq__3 ) \n          OR ( ( @p__linq__2 IS NULL ) \n               AND ( @p__linq__3 IS NULL ) ) ) \n   AND ( ( @p__linq__4 = @p__linq__5 ) \n          OR ( ( @p__linq__4 IS NULL ) \n               AND ( @p__linq__5 IS NULL ) ) ) \n</code></pre>\n\n<p>notice the</p>\n\n<pre><code>[Extent1].[Division] = @p__linq__0) OR (([Extent1].[Division] IS NULL)\n</code></pre>\n\n<p>I don't want it to include the or I just want it to be </p>\n\n<pre><code>where Division = @p_Linq_0 and [Extent1].[ProductID] = @p_Linq_1 \n</code></pre>\n\n<p>What am I doing wrong ?</p>\n"}, {"tags": ["c#", "dictionary"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 1, "creation_date": 1523476243, "post_id": 49783355, "comment_id": 86582106, "body": "Last, First, Next have no meaning with a Dictionary - the order is not defined"}, {"owner": {"reputation": 1303, "user_id": 3228992, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/yZ633.jpg?s=128&g=1", "display_name": "user3228992", "link": "https://stackoverflow.com/users/3228992/user3228992"}, "reply_to_user": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "edited": false, "score": 0, "creation_date": 1523476609, "post_id": 49783355, "comment_id": 86582313, "body": "@GrantWinney I way to go would be to put all items with Keys where Key not is &quot;MyKey_&quot; into one new list (lisrNo1) and  Key == &quot;MyKey_&quot; in a new list (listNo2), then delete 2 from listNo2 thenput the remaing to  listNo1. But no idea how to do that"}, {"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 1, "creation_date": 1523476843, "post_id": 49783355, "comment_id": 86582453, "body": "Look around in <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.specialized?view=netframework-4.7.1\" rel=\"nofollow noreferrer\">Collections.Specialized</a>, ListDictionary and OrderedDictionary seem to be worth a check."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523477156, "post_id": 49783355, "comment_id": 86582611, "body": "You just want to delete two of the <code>MyKey_</code> ones? Which two doesn&#39;t matter?"}], "answers": [{"tags": [], "owner": {"reputation": 60839, "user_id": 301857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r4KmT.jpg?s=128&g=1", "display_name": "Grant Winney", "link": "https://stackoverflow.com/users/301857/grant-winney"}, "is_accepted": false, "score": 1, "last_activity_date": 1523478490, "last_edit_date": 1523478490, "creation_date": 1523477180, "answer_id": 49783652, "question_id": 49783355, "link": "https://stackoverflow.com/questions/49783355/c-remove-last-n-elements-from-dictionary/49783652#49783652", "title": "c# - Remove last n elements from Dictionary", "body": "<p>This should do what you're trying to do (according to what you posted in your comment).</p>\n\n<p><em>(edit: It looks like you replaced your comment, now I'm not sure you're going for alphabetical...)</em></p>\n\n<pre><code>var myDict = new Dictionary&lt;string, string&gt;();    \n\nmyDict.Add(\"SomeKey1\", \"SomeValue\");\nmyDict.Add(\"SomeKey2\", \"SomeValue\");\nmyDict.Add(\"MyKey_B\" + Guid.NewGuid(), \"SomeValue\");\nmyDict.Add(\"MyKey_A\" + Guid.NewGuid(), \"SomeValue\");\nmyDict.Add(\"MyKey_C\" + Guid.NewGuid(), \"SomeValue\");\n\nvar pairsToRemove = myDict.Where(x =&gt; x.Key.StartsWith(\"MyKey_\"))\n                          .OrderByDescending(x =&gt; x.Key)\n                          .Take(2);\n\nforeach (var pair in pairsToRemove)\n{\n    myDict.Remove(pair.Key);\n}\n\nforeach (var pair in myDict)\n{\n    Console.WriteLine(pair);\n}\n</code></pre>\n\n<p>Output: <em>(MyKey_B and MyKey_C are removed)</em></p>\n\n<pre><code>[SomeKey1, SomeValue]\n[SomeKey2, SomeValue]\n[MyKey_Ad6c3a25d-5d8c-44e4-9651-39164c0496fc, SomeValue]\n</code></pre>\n\n<p>I like what tevemadar mentioned about the <code>OrderedDictionary</code>... I'm not sure it'll work for what you're trying to do, but it's worth a look.</p>\n"}, {"tags": [], "owner": {"reputation": 533, "user_id": 3778937, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yYBgB.png?s=128&g=1", "display_name": "JackMini36", "link": "https://stackoverflow.com/users/3778937/jackmini36"}, "is_accepted": false, "score": 1, "last_activity_date": 1523477182, "creation_date": 1523477182, "answer_id": 49783653, "question_id": 49783355, "link": "https://stackoverflow.com/questions/49783355/c-remove-last-n-elements-from-dictionary/49783653#49783653", "title": "c# - Remove last n elements from Dictionary", "body": "<p>Not sure what you mean 'last', since this is a dictionary (there is no order), but this code will remove the last 2 in the order they were encountered in the loop.   </p>\n\n<pre><code>List&lt;string&gt; toRemove = new List&lt;string&gt;();  \nforeach(KeyValuePair pair in myDict.Reverse())\n{\n     if(pair.key.StartsWith(\"MyKey_\"))\n     {\n           toRemove.Add(pair.key);\n           toRemoveCount--;\n     }\n\n     if(toRemove.Count == 2)\n     {\n           break;\n     }\n}\n\nforeach(string str in toRemove)\n{\n      myDict.Remove(str);\n}\n</code></pre>\n"}], "owner": {"reputation": 1303, "user_id": 3228992, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/yZ633.jpg?s=128&g=1", "display_name": "user3228992", "link": "https://stackoverflow.com/users/3228992/user3228992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1523478490, "creation_date": 1523476036, "last_edit_date": 1523477302, "question_id": 49783355, "link": "https://stackoverflow.com/questions/49783355/c-remove-last-n-elements-from-dictionary", "title": "c# - Remove last n elements from Dictionary", "body": "<p>How do I remove the last 2 keyValuePairs from a Dictionary of string, string where the key starts with \"MyKey_\" ?</p>\n\n<pre><code>var myDict = new Dictionary&lt;string, string&gt;();    \n\nmyDict.Add(\"SomeKey1\", \"SomeValue\");\nmyDict.Add(\"SomeKey2\", \"SomeValue\");\nmyDict.Add(\"MyKey_\" + Guid.NewGuid(), \"SomeValue\");\nmyDict.Add(\"MyKey_\" + Guid.NewGuid(), \"SomeValue\");\nmyDict.Add(\"MyKey_\" + Guid.NewGuid(), \"SomeValue\");\n</code></pre>\n\n<p>EDIT:</p>\n\n<pre><code>var noGwInternal = myDict.Where(o =&gt; !o.Key.StartsWith(\"MyKey_\")).ToDictionary(o =&gt; o.Key, o =&gt; o.Value);\nvar gwInternal = myDict.Where(o =&gt; o.Key.StartsWith(\"MyKey_\")).ToDictionary(o =&gt; o.Key, o =&gt; o.Value);\n</code></pre>\n\n<p>How to move forward from here? Need to remove 2 of the items from gwInternal and then put noGwInternal + gwInternal into a new Dictionary together</p>\n"}, {"tags": ["c#", "asp.net", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "is_accepted": false, "score": 0, "last_activity_date": 1523477326, "creation_date": 1523477326, "answer_id": 49783684, "question_id": 49783303, "link": "https://stackoverflow.com/questions/49783303/net-iconfiguration-returns-null-for-a-property/49783684#49783684", "title": ".NET IConfiguration returns null for a property", "body": "<p>It looks like if I do:\n<code>\n var c = config.Build();\n</code>\nAnd use <code>c</code> instead of <code>hostConf</code> it works.</p>\n\n<p>I'm not sure why though since I thought the hostContext would contain the Configuration already. If anyone knows why or a cleaner way, I'm all ears.</p>\n"}], "owner": {"reputation": 811, "user_id": 6728767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/099acef55736b0ac237f5c726a4a237c?s=128&d=identicon&r=PG&f=1", "display_name": "user6728767", "link": "https://stackoverflow.com/users/6728767/user6728767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523477326, "creation_date": 1523475847, "question_id": 49783303, "link": "https://stackoverflow.com/questions/49783303/net-iconfiguration-returns-null-for-a-property", "title": ".NET IConfiguration returns null for a property", "body": "<p>My breakpoints were out of sync so I had to change my launch.json's <code>program</code> property to point at the new folder that .NET2.0.0 creates.</p>\n\n<p>Now when my app tries to get a property from the app.Development.json file it ends up being null:</p>\n\n<p>`</p>\n\n<pre><code>    .ConfigureAppConfiguration((hostContext, config) =&gt;\n                    {\n                        // delete all default configuration providers\n                        hostCtx = hostContext;\n                        var hostConf = hostContext.Configuration;\n                        var env = hostContext.HostingEnvironment;\n                        config.Sources.Clear();\n                        config.SetBasePath(env.ContentRootPath);\n                        config.AddJsonFile(\"appsettings.json\", optional: false, reloadOnChange: true)\n                              .AddJsonFile($\"appsettings.{env.EnvironmentName}.json\", optional: true)\n                              .AddEnvironmentVariables();\n// these both are null                        \n                        certFileName = hostConf[\"AppConfiguration:CertFileName\"];\n                        certPassword = hostConf[\"AppConfiguration:CertPassword\"];\n                    })\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["c#", "uwp-xaml", "openweathermap"], "comments": [{"owner": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 4, "creation_date": 1523475792, "post_id": 49783264, "comment_id": 86581842, "body": "That&#39;s not an int - it&#39;s a float or a double. you can read up on the <a href=\"https://www.tutorialspoint.com/csharp/csharp_data_types.htm\" rel=\"nofollow noreferrer\">Datatypes</a> there"}, {"owner": {"reputation": 23, "user_id": 9632541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HSARsu6QFPU/AAAAAAAAAAI/AAAAAAAAADM/0G8XNKywgsI/photo.jpg?sz=128", "display_name": "Kevin Moran", "link": "https://stackoverflow.com/users/9632541/kevin-moran"}, "reply_to_user": {"reputation": 5818, "user_id": 978558, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d023acf70b927cb813b48631195e346e?s=128&d=identicon&r=PG", "display_name": "fredrik", "link": "https://stackoverflow.com/users/978558/fredrik"}, "edited": false, "score": 0, "creation_date": 1523477094, "post_id": 49783264, "comment_id": 86582573, "body": "Thank you. Changing the .cs ints to doubles fixed it."}], "answers": [{"tags": [], "owner": {"reputation": 2160, "user_id": 314895, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d965777cb8e44c6d4a5a878b184d8155?s=128&d=identicon&r=PG&f=1", "display_name": "Black Light", "link": "https://stackoverflow.com/users/314895/black-light"}, "is_accepted": false, "score": 0, "last_activity_date": 1523477354, "creation_date": 1523477354, "answer_id": 49783695, "question_id": 49783264, "link": "https://stackoverflow.com/questions/49783264/error-the-value-5-94-cannot-be-parsed-as-the-type-int32/49783695#49783695", "title": "Error: The value &#39;-5.94&#39; cannot be parsed as the type &#39;Int32&#39;.&#39;", "body": "<p>You need to have a look at the raw json that's coming back from the web call. You're trying to deserialise the response as a \"RootObject1\", and that has a \"cnt\" property which is defined as an Int32 (int).</p>\n"}], "owner": {"reputation": 23, "user_id": 9632541, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HSARsu6QFPU/AAAAAAAAAAI/AAAAAAAAADM/0G8XNKywgsI/photo.jpg?sz=128", "display_name": "Kevin Moran", "link": "https://stackoverflow.com/users/9632541/kevin-moran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1393, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1523477354, "creation_date": 1523475720, "last_edit_date": 1523475812, "question_id": 49783264, "link": "https://stackoverflow.com/questions/49783264/error-the-value-5-94-cannot-be-parsed-as-the-type-int32", "title": "Error: The value &#39;-5.94&#39; cannot be parsed as the type &#39;Int32&#39;.&#39;", "body": "<p>Issue when trying to run weather app. Trying to get 5 day forecast from openweathermap url <a href=\"http://samples.openweathermap.org/data/2.5/forecast?lat=7.0744&amp;lon=79.8919&amp;appid=a7cae8ecfab2535dec05a83525f5ac7a\" rel=\"nofollow noreferrer\">http://samples.openweathermap.org/data/2.5/forecast?lat=7.0744&amp;lon=79.8919&amp;appid=a7cae8ecfab2535dec05a83525f5ac7a</a>\nBut everytime it  trys to parse the json I get the error.</p>\n\n<blockquote>\n  <p>System.Runtime.Serialization.SerializationException\n    HResult=0x80131500\n    Message=There was an error deserializing the object of type WeatherApp.RootObject1. The value '-3.23' cannot be parsed as the type 'Int32'.\n    Source=System.Private.DataContractSerialization\n    StackTrace:\n     at System.Runtime.Serialization.XmlObjectSerializer.ReadObjectHandleExceptions(XmlReaderDelegator reader, Boolean verifyObjectName, DataContractResolver dataContractResolver)\n     at System.Runtime.Serialization.Json.DataContractJsonSerializerImpl.ReadObject(XmlDictionaryReader reader)\n     at System.Runtime.Serialization.Json.DataContractJsonSerializerImpl.ReadObject(Stream stream)\n     at System.Runtime.Serialization.Json.DataContractJsonSerializer.ReadObject(Stream stream)\n     at WeatherApp.ForecastWeatherMapProxy.d__0.MoveNext() in C:\\Users\\KMora\\source\\repos\\WeatherApp\\WeatherApp\\ForecastWeatherMapProxy.cs:line 23\n     at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\n     at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n     at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\n     at WeatherApp.MainPage.d__6.MoveNext() in C:\\Users\\KMora\\source\\repos\\WeatherApp\\WeatherApp\\MainPage.xaml.cs:line 67</p>\n  \n  <h1>Inner Exception 1:</h1>\n  \n  <p>XmlException: The value '-3.23' cannot be parsed as the type 'Int32'.</p>\n  \n  <h1>Inner Exception 2:</h1>\n  \n  <p>OverflowException: Value was either too large or too small for an Int32.</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>using System;\r\nusing System.Collections.Generic;\r\nusing System.IO;\r\nusing System.Linq;\r\nusing System.Net.Http;\r\nusing System.Runtime.Serialization;\r\nusing System.Runtime.Serialization.Json;\r\nusing System.Text;\r\nusing System.Threading.Tasks;\r\n\r\nnamespace WeatherApp\r\n{\r\n    public class ForecastWeatherMapProxy\r\n    {\r\n        public async static Task&lt;RootObject1&gt; GetWeather1(double lat, double lon)\r\n        {\r\n            var http = new HttpClient();\r\n            var url = String.Format(\"http://api.openweathermap.org/data/2.5/forecast?lat={0}&amp;lon={1}&amp;units=metric&amp;appid=5bfe62f124a556092c27cad0f9752109\", lat, lon);\r\n            var response = await http.GetAsync(url);\r\n            var result = await response.Content.ReadAsStringAsync();\r\n            var serializer = new DataContractJsonSerializer(typeof(RootObject1));\r\n            var ms = new MemoryStream(Encoding.UTF8.GetBytes(result));\r\n            var data = (RootObject1)serializer.ReadObject(ms);\r\n            return data;\r\n        }\r\n    }\r\n\r\n    [DataContract]\r\n    public class Main1\r\n    {\r\n        [DataMember]\r\n        public double temp { get; set; }\r\n        [DataMember]\r\n        public double temp_min { get; set; }\r\n        [DataMember]\r\n        public double temp_max { get; set; }\r\n        [DataMember]\r\n        public double pressure { get; set; }\r\n        [DataMember]\r\n        public double sea_level { get; set; }\r\n        [DataMember]\r\n        public double grnd_level { get; set; }\r\n        [DataMember]\r\n        public int humidity { get; set; }\r\n        [DataMember]\r\n        public int temp_kf { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class Weather1\r\n    {\r\n        [DataMember]\r\n        public int id { get; set; }\r\n        [DataMember]\r\n        public string main { get; set; }\r\n        [DataMember]\r\n        public string description { get; set; }\r\n        [DataMember]\r\n        public string icon { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class Clouds1\r\n    {\r\n        [DataMember]\r\n        public int all { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class Wind1\r\n    {\r\n        [DataMember]\r\n        public double speed { get; set; }\r\n        [DataMember]\r\n        public double deg { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class Rain1\r\n       {\r\n\r\n       }\r\n    [DataContract]\r\n    public class Sys1\r\n    {\r\n        [DataMember]\r\n        public string pod { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class List1\r\n    {\r\n        [DataMember]\r\n        public int dt { get; set; }\r\n        [DataMember]\r\n        public Main1 main { get; set; }\r\n        [DataMember]\r\n        public List&lt;Weather1&gt; weather { get; set; }\r\n        [DataMember]\r\n        public Clouds1 clouds { get; set; }\r\n        [DataMember]\r\n        public Wind1 wind { get; set; }\r\n        [DataMember]\r\n        public Rain1 rain { get; set; }\r\n        [DataMember]\r\n        public Sys1 sys { get; set; }\r\n        [DataMember]\r\n        public string dt_txt { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class Coord1\r\n    {\r\n        [DataMember]\r\n        public double lat { get; set; }\r\n        [DataMember]\r\n        public double lon { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class City1\r\n    {\r\n        [DataMember]\r\n        public int id { get; set; }\r\n        [DataMember]\r\n        public string name { get; set; }\r\n        [DataMember]\r\n        public Coord1 coord { get; set; }\r\n        [DataMember]\r\n        public string country { get; set; }\r\n    }\r\n    [DataContract]\r\n    public class RootObject1\r\n    {\r\n        [DataMember]\r\n        public string cod { get; set; }\r\n        [DataMember]\r\n        public double message { get; set; }\r\n        [DataMember]\r\n        public int cnt { get; set; }\r\n        [DataMember]\r\n        public List&lt;List1&gt; list { get; set; }\r\n        [DataMember]\r\n        public City1 city { get; set; }\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is where I call it from xaml.cs </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>using System;\r\nusing System.Collections.Generic;\r\nusing System.Collections.ObjectModel;\r\nusing System.IO;\r\nusing System.Linq;\r\nusing System.Runtime.InteropServices.WindowsRuntime;\r\nusing Windows.Foundation;\r\nusing Windows.Foundation.Collections;\r\nusing Windows.UI.Xaml;\r\nusing Windows.UI.Xaml.Controls;\r\nusing Windows.UI.Xaml.Controls.Primitives;\r\nusing Windows.UI.Xaml.Data;\r\nusing Windows.UI.Xaml.Input;\r\nusing Windows.UI.Xaml.Media;\r\nusing Windows.UI.Xaml.Media.Imaging;\r\nusing Windows.UI.Xaml.Navigation;\r\n\r\n// The Blank Page item template is documented at https://go.microsoft.com/fwlink/?LinkId=402352&amp;clcid=0x409\r\n\r\nnamespace WeatherApp\r\n{\r\n    /// &lt;summary&gt;\r\n    /// An empty page that can be used on its own or navigated to within a Frame.\r\n    /// &lt;/summary&gt;\r\n    public sealed partial class MainPage : Page\r\n    {\r\n        public MainPage()\r\n        {\r\n            this.InitializeComponent();\r\n            collection = new ObservableCollection&lt;List1&gt;();\r\n            this.DataContext = this;\r\n        }\r\n      \r\n        private async void Page_Loaded(object sender, RoutedEventArgs e)\r\n        {\r\n            try\r\n            {\r\n                var position = await LocationManger.GetPostion();\r\n\r\n                RootObject myWeather = await OpenWeatherMapProxy.GetWeather(\r\n                    position.Coordinate.Latitude,\r\n                    position.Coordinate.Longitude);\r\n                string icon = String.Format(\"ms-appx:///Assets/Weather/{0}.png\", myWeather.weather[0].icon);\r\n                ResultImage.Source = new BitmapImage(new Uri(icon, UriKind.Absolute));\r\n\r\n                TempResultTextBlock.Text = \"Temperature: \" + ((int)myWeather.main.temp).ToString()+ \"\u00b0C\";\r\n                DescrptionResultTextBlock.Text = \"Condition: \" + myWeather.weather[0].description;\r\n                LocationResultTextBlock.Text = \"Location: \" + myWeather.name;\r\n\r\n               \r\n             \r\n\r\n            }\r\n            catch  \r\n            {\r\n                LocationResultTextBlock.Text = \"Error to get Location. Please allow access to location services \" ;\r\n\r\n            }\r\n            \r\n        }\r\n        public ObservableCollection&lt;List1&gt; collection { get; set; }\r\n        private async void Button_Click(object sender, RoutedEventArgs e)\r\n        {\r\n            \r\n                var position = await LocationManger.GetPostion();\r\n\r\n                RootObject1 myWeatherForecast = await ForecastWeatherMapProxy.GetWeather1(position.Coordinate.Latitude,\r\n                    position.Coordinate.Longitude);\r\n       \r\n                for (int i = 0; i &lt; 5; i++)\r\n                {\r\n                    collection.Add(myWeatherForecast.list[i]);\r\n                }\r\n\r\n                ForecastGridView.ItemsSource = collection;\r\n            \r\n          \r\n        }\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any advice as to the issue would be greatly appreciated. </p>\n"}, {"tags": ["c#", "asp.net-core-2.0", "serilog"], "answers": [{"tags": [], "owner": {"reputation": 1427, "user_id": 3646201, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/128c55921b80da89fd68d5cfe7232eea?s=128&d=identicon&r=PG&f=1", "display_name": "Farzad", "link": "https://stackoverflow.com/users/3646201/farzad"}, "is_accepted": false, "score": 0, "last_activity_date": 1523576592, "creation_date": 1523576592, "answer_id": 49807340, "question_id": 49783238, "link": "https://stackoverflow.com/questions/49783238/serilog-azure-table-storage-and-context-properties/49807340#49807340", "title": "Serilog Azure Table Storage and context properties", "body": "<p>I figured out why I wasn't seeing my property: I need to call <code>Enrich.FromLogContext()</code> and the property shows up in the Azure Table Storage.</p>\n\n<p>I tried so hard to see how we can specify the <code>propertyColumns</code> in <code>appsettings.json</code> (or environment variables for that matter), but no luck ... :(</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6804890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/879b6c29207f7fd60c1f176081a95ea6?s=128&d=identicon&r=PG&f=1", "display_name": "Jorne Dumon", "link": "https://stackoverflow.com/users/6804890/jorne-dumon"}, "is_accepted": false, "score": 0, "last_activity_date": 1532679050, "creation_date": 1532679050, "answer_id": 51553621, "question_id": 49783238, "link": "https://stackoverflow.com/questions/49783238/serilog-azure-table-storage-and-context-properties/51553621#51553621", "title": "Serilog Azure Table Storage and context properties", "body": "<p>I got it working like:</p>\n\n<pre><code>{\n  \"Serilog\": {\n    \"Using\": [ \"Serilog.Sinks.Async\", \"Serilog.Sinks.AzureTableStorage\" ],\n    \"WriteTo\": [\n      {\n                \"Name\": \"Async\",\n                \"Args\": {\n                  \"configure\": [\n                    {\n                      \"Name\": \"AzureTableStorageWithProperties\",\n                      \"Args\": {\n                        \"connectionString\": \"UseDevelopmentStorage=true\",\n                        \"storageTableName\": \"LogTable\",\n                        \"propertyColumns\": [ \"CameraId\" ]\n                      }\n                    }\n\n                  ]\n                }\n              }\n            ],          \n    \"Enrich\": [ \"FromLogContext\" ]\n  }\n}\n</code></pre>\n\n<p>For the Async bit use: Serilog.Sinks.Async.</p>\n\n<p>Also don't forget to call Log.CloseAndFlush() at application shutdown ;-)</p>\n"}], "owner": {"reputation": 1427, "user_id": 3646201, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/128c55921b80da89fd68d5cfe7232eea?s=128&d=identicon&r=PG&f=1", "display_name": "Farzad", "link": "https://stackoverflow.com/users/3646201/farzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 839, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1532679050, "creation_date": 1523475630, "question_id": 49783238, "link": "https://stackoverflow.com/questions/49783238/serilog-azure-table-storage-and-context-properties", "title": "Serilog Azure Table Storage and context properties", "body": "<p>I'm trying to use <code>AzureTableStorageWithProperties</code> in <a href=\"https://github.com/serilog/serilog-sinks-azuretablestorage\" rel=\"nofollow noreferrer\">Serilog.Sinks.AzureTableStorage</a>, and I have a property that's attached to the context; something like this:</p>\n\n<pre><code>using (LogContext.PushProperty(\"CameraId\", camera.Id)\n{\n  /* ... */\n}\n</code></pre>\n\n<p>So, I was wondering how I can configure the logger to consider this property and create a column for it when it's present on the context.</p>\n\n<p>I tried this, but it doesn't seem to be working:</p>\n\n<pre><code>Log.Logger = new LoggerConfiguration()\n  .ReadFrom.Configuration(configuration)\n  .WriteTo.AzureTableStorageWithProperties(\n    \"my-connection-string\",\n    storageTableName: \"mytable\",\n    propertyColumns: new[] { \"CameraId\" })\n  .CreateLogger();\n</code></pre>\n\n<p>Also, as you may have noticed, I'm using <a href=\"https://github.com/serilog/serilog-settings-configuration\" rel=\"nofollow noreferrer\">Serilog.Settings.Configuration</a>, so I was hoping you can tell me how I can put it into my <code>appsettings.json</code> too.</p>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", "asp.net", ".net", "authentication", "membership"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523475531, "post_id": 49783150, "comment_id": 86581697, "body": "Why not make a link to the standalone staging application and forget about any problem? You&#39;d then only need to protect that link and the app as usual"}, {"owner": {"reputation": 20958, "user_id": 665557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/10b31574b457051a4f033e149a10da81?s=128&d=identicon&r=PG", "display_name": "cdub", "link": "https://stackoverflow.com/users/665557/cdub"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523475643, "post_id": 49783150, "comment_id": 86581742, "body": "what do you mean?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523475743, "post_id": 49783150, "comment_id": 86581805, "body": "Create two applications in IIS: production and staging. Create a database for each of them. Instead of encapsulating the site, just make a link to it."}, {"owner": {"reputation": 20958, "user_id": 665557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/10b31574b457051a4f033e149a10da81?s=128&d=identicon&r=PG", "display_name": "cdub", "link": "https://stackoverflow.com/users/665557/cdub"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523475839, "post_id": 49783150, "comment_id": 86581872, "body": "The linked site needs to be locked down by the first login? Is there a good way to protect that in IIS and only allow users to enter it if they logged in? btw thanks for your help :)"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523475969, "post_id": 49783150, "comment_id": 86581938, "body": "The second site would have its own login, unless you are willing to implement some kind of SSO. Otherwise, if your users don&#39;t mind having to login twice, just put Membership on both of the sites and put only trusted people in the second one"}, {"owner": {"reputation": 20958, "user_id": 665557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/10b31574b457051a4f033e149a10da81?s=128&d=identicon&r=PG", "display_name": "cdub", "link": "https://stackoverflow.com/users/665557/cdub"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523476128, "post_id": 49783150, "comment_id": 86582038, "body": "How do I protect the second site and put only trusted users there. the second site is has some none password protected parts too"}, {"owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "edited": false, "score": 0, "creation_date": 1523483347, "post_id": 49783150, "comment_id": 86585286, "body": "Read about Multitenancy software architecture"}], "owner": {"reputation": 20958, "user_id": 665557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/10b31574b457051a4f033e149a10da81?s=128&d=identicon&r=PG", "display_name": "cdub", "link": "https://stackoverflow.com/users/665557/cdub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523475296, "creation_date": 1523475296, "question_id": 49783150, "link": "https://stackoverflow.com/questions/49783150/using-net-authentication-for-whole-site-and-internal-sites", "title": "Using .NET Authentication for whole site and internal sites", "body": "<p>I have a site that has certain areas that are password protected with .NET membership.  I need to make a staging site that encapsulates the whole site in another password protected area controlled by admins.</p>\n\n<p>Can I use 2 membership databases in one application?</p>\n\n<p>Is there a better way to do this?</p>\n\n<p>I am using web forms still and forms authentication.</p>\n"}, {"tags": ["c#", "powershell", "hjson"], "comments": [{"owner": {"reputation": 1371, "user_id": 5229138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d790a473cbb5bc80aaaea5e30d98f2e?s=128&d=identicon&r=PG", "display_name": "Persistent13", "link": "https://stackoverflow.com/users/5229138/persistent13"}, "edited": false, "score": 0, "creation_date": 1523483350, "post_id": 49783149, "comment_id": 86585287, "body": "Try chaining your method calls. <code>$jsonTempData = [Hjson.HjsonValue]::Load(&quot;$scriptRoot\\test.hjson&quot;).Qo()</code>"}, {"owner": {"reputation": 566, "user_id": 1561522, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1615ddcb56c2aa7ac30c25b4fac23032?s=128&d=identicon&r=PG", "display_name": "ALIENQuake", "link": "https://stackoverflow.com/users/1561522/alienquake"}, "reply_to_user": {"reputation": 1371, "user_id": 5229138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d790a473cbb5bc80aaaea5e30d98f2e?s=128&d=identicon&r=PG", "display_name": "Persistent13", "link": "https://stackoverflow.com/users/5229138/persistent13"}, "edited": false, "score": 0, "creation_date": 1523548193, "post_id": 49783149, "comment_id": 86616492, "body": "It won&#39;t work for Powershell."}, {"owner": {"reputation": 466, "user_id": 1524794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc2c3567516749bf35f08300cc48aa9?s=128&d=identicon&r=PG", "display_name": "HerbM", "link": "https://stackoverflow.com/users/1524794/herbm"}, "edited": false, "score": 0, "creation_date": 1523561996, "post_id": 49783149, "comment_id": 86623926, "body": "So with the values missing in initial import variable $jsonTempData the problem likely is in the C# or possibly in your Load call but I&#39;d bet on something lower level."}], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 1561522, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1615ddcb56c2aa7ac30c25b4fac23032?s=128&d=identicon&r=PG", "display_name": "ALIENQuake", "link": "https://stackoverflow.com/users/1561522/alienquake"}, "edited": false, "score": 0, "creation_date": 1523568172, "post_id": 49806000, "comment_id": 86626928, "body": "Fantastic investigation! Thank you very much! I will just convert HJSON to JSON and save all the trouble. Rewriting c# code to work better/outofthebox with PS is beyound my skils"}], "tags": [], "owner": {"reputation": 3312, "user_id": 1930135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81a8ea736e2650eb0e1d78f9fb04d5a1?s=128&d=identicon&r=PG", "display_name": "Patrick Meinecke", "link": "https://stackoverflow.com/users/1930135/patrick-meinecke"}, "is_accepted": true, "score": 1, "last_activity_date": 1523567759, "creation_date": 1523567759, "answer_id": 49806000, "question_id": 49783149, "link": "https://stackoverflow.com/questions/49783149/hjson-c-library-for-powershell/49806000#49806000", "title": "HJSON C# library for PowerShell", "body": "<p>The library is just written in a way that doesn't work great with how PowerShell displays data it doesn't have format information for.</p>\n\n<h2>Why</h2>\n\n<ul>\n<li><p><code>JsonValue</code> (the type emitted by <code>Hjson.Load</code>) is more or less a dictionary of <code>string</code> to <code>JsonPrimitive</code> (or more <code>JsonValue</code> for nesting).</p></li>\n<li><p>The reason you don't see any values when you output the variable is because PowerShell by default just converts objects to a string.  The <code>JsonValue</code> to string conversion is just an empty string, so it appears like a null value, but it's a full object.</p></li>\n<li><p>The reason it throws the <code>InvalidOperationException</code> referencing enumeration is because PowerShell tries to enumerate anything that implements <code>IEnumerable</code>.  But, <code>JsonPrimitive</code> will throw when you try to enumerate it if the real value of the object isn't an array.</p></li>\n</ul>\n\n<h2>Solution</h2>\n\n<h3>Individual values</h3>\n\n<p>If you want to get an individual value, you can call the <code>JsonPrimitive.ToValue</code> method.  This will convert the <code>JsonPrimitive</code> to the equivalent .NET type.</p>\n\n<pre><code>$jsonObject = [Hjson.HjsonValue]::Load(\"myFile.hjson\")\n$jsonObject['MyKey'].ToValue()\n</code></pre>\n\n<p>The problem with this is it will only work on keys you know are primitives. That means to do a full conversion to a normal displayable type you would have to enumerate the <code>JsonValue</code>, check if it's a <code>JsonPrimitive</code> or <code>JsonObject</code>, then either call <code>ToValue</code> or recurse into the nested object.</p>\n\n<h3>Full conversion</h3>\n\n<p>A simpler approach might be to just convert it to json as PowerShell is a lot better at handling that</p>\n\n<pre><code>$jsonObject = [Hjson.HjsonValue]::Load(\"myFile.hjson\")\n$stringWriter = [System.IO.StringWriter]::new()\n$jsonObject.Save($stringWriter, [Hjson.Stringify]::Plain)\n$hjsonAsPSObject = $stringWriter.GetStringBuilder().ToString() | ConvertFrom-Json\n</code></pre>\n\n<p>The <code>Save</code> method takes a path, a stream, or a <code>TextWriter</code>.  The <code>StringWriter</code> object is just an easy way to get a string from something that accepts a <code>TextWriter</code>.</p>\n\n<h2>How to tell?</h2>\n\n<p>If you're ever faced with an object that you think should have a value but displays like it doesn't have a value, there's a solid chance it just doesn't display right in PowerShell.  In this scenario, the easiest way you could have tested would be trying some of these:</p>\n\n<pre><code># Shows you the objects type, or if it really is $null it will throw\n$jsonObject['jsonKey'].GetType()\n\n# This will tell you the properties and methods available on an object\n# but in this case it would throw due to the enumeration funk.\n$jsonObject['jsonKey'] | Get-Member\n\n# This gets around the enumeration issue.  Because there's no pipeline,\n# Get-Member gives you the members for the type before enumeration.\nGet-Member -InputObject ($jsonObject['jsonKey'])\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 1561522, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1615ddcb56c2aa7ac30c25b4fac23032?s=128&d=identicon&r=PG", "display_name": "ALIENQuake", "link": "https://stackoverflow.com/users/1561522/alienquake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 1, "accepted_answer_id": 49806000, "answer_count": 1, "score": 1, "last_activity_date": 1615553563, "creation_date": 1523475289, "last_edit_date": 1615553563, "question_id": 49783149, "link": "https://stackoverflow.com/questions/49783149/hjson-c-library-for-powershell", "title": "HJSON C# library for PowerShell", "body": "<p>I'm trying to use HJSON C# library for PowerShell: <a href=\"https://github.com/hjson/hjson-cs\" rel=\"nofollow noreferrer\">https://github.com/hjson/hjson-cs</a>\nI've successfully compiled the dll, put it into a folder and added the type via standard procedure:</p>\n<pre><code>#LOAD\n$scriptRoot = Split-Path $script:psEditor.GetEditorContext().CurrentFile.Path\n\n$FilePath = ( Get-Item .\\Hjson.dll ).FullName\n[System.Reflection.Assembly]::LoadFrom(&quot;$FilePath&quot;)\n\n[Hjson.IJsonReader]::new()\n\n[Hjson.hjson]::Load(&quot;$scriptRoot\\test.hjson&quot;)\n</code></pre>\n<p>I'm trying to follow examples to get the basics:<br />\nRead method: <a href=\"https://github.com/hjson/hjson-cs#read\" rel=\"nofollow noreferrer\">https://github.com/hjson/hjson-cs#read</a></p>\n<pre><code># var jsonObject = HjsonValue.Load(filePath).Qo();\n\n$jsonTempData = [Hjson.HjsonValue]::Load(&quot;$scriptRoot\\test.hjson&quot;)\n$jsonObject = [Hjson.JsonUtil]::Qo($jsonTempData)\n$jsonObject\n</code></pre>\n<p>but the output is missing values:</p>\n<pre><code>PS D:\\OneDrive\\PS-HJSON&gt; $jsonObject\n\nKey       Value\n---       -----\nhello\ntext\nquote\notherwise\nabc-123\ncommas\nbut\ntrailing\nmultiline\nnumber\nnegative\nyes\nno\nnull\narray\narray2\n\n\nPS D:\\OneDrive\\PS-HJSON&gt;\n</code></pre>\n<p>So I can't see values. Why it doesn't work like JSON objects?</p>\n<p>And when I try to iterate through keys:</p>\n<pre><code>foreach ( $item in $jsonObject) {\n    $item.Key, $item.Value\n}\n</code></pre>\n<p>I got this:</p>\n<blockquote>\n<p>The following exception occurred while trying to enumerate the\ncollection: &quot;The operation is invalid due to the current state of the\nobject. &quot;</p>\n</blockquote>\n<p>I'm sure I'm missing something, but I don't know c# enough to know what to do.</p>\n"}, {"tags": ["c#", "css"], "comments": [{"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523475376, "post_id": 49783144, "comment_id": 86581627, "body": "c# or css ?????"}, {"owner": {"reputation": 232, "user_id": 2796515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cca163ebbc0729f1a55adef143de46e2?s=128&d=identicon&r=PG&f=1", "display_name": "user2796515", "link": "https://stackoverflow.com/users/2796515/user2796515"}, "edited": false, "score": 0, "creation_date": 1523475733, "post_id": 49783144, "comment_id": 86581797, "body": "add margin-left: if they are horizontal and margin-top: if they are vertical."}, {"owner": {"reputation": 557, "user_id": 9231706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocW3d.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/9231706/james"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523475735, "post_id": 49783144, "comment_id": 86581801, "body": "@zackraiyan im using c# to generate the list and css to style it... i think"}, {"owner": {"reputation": 557, "user_id": 9231706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocW3d.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/9231706/james"}, "reply_to_user": {"reputation": 232, "user_id": 2796515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cca163ebbc0729f1a55adef143de46e2?s=128&d=identicon&r=PG&f=1", "display_name": "user2796515", "link": "https://stackoverflow.com/users/2796515/user2796515"}, "edited": false, "score": 0, "creation_date": 1523475777, "post_id": 49783144, "comment_id": 86581831, "body": "@user2796515 to which css class?"}, {"owner": {"reputation": 232, "user_id": 2796515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cca163ebbc0729f1a55adef143de46e2?s=128&d=identicon&r=PG&f=1", "display_name": "user2796515", "link": "https://stackoverflow.com/users/2796515/user2796515"}, "edited": false, "score": 0, "creation_date": 1523475802, "post_id": 49783144, "comment_id": 86581848, "body": "@Viktor the li class"}, {"owner": {"reputation": 557, "user_id": 9231706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocW3d.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/9231706/james"}, "reply_to_user": {"reputation": 232, "user_id": 2796515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cca163ebbc0729f1a55adef143de46e2?s=128&d=identicon&r=PG&f=1", "display_name": "user2796515", "link": "https://stackoverflow.com/users/2796515/user2796515"}, "edited": false, "score": 0, "creation_date": 1523476703, "post_id": 49783144, "comment_id": 86582368, "body": "@user2796515 absolute treat cheers"}, {"owner": {"reputation": 232, "user_id": 2796515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cca163ebbc0729f1a55adef143de46e2?s=128&d=identicon&r=PG&f=1", "display_name": "user2796515", "link": "https://stackoverflow.com/users/2796515/user2796515"}, "edited": false, "score": 0, "creation_date": 1523476941, "post_id": 49783144, "comment_id": 86582495, "body": "@Viktor Great! I added it as an answer if it was helpful.  Good luck with your project"}], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 9231706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocW3d.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/9231706/james"}, "edited": false, "score": 0, "creation_date": 1523476574, "post_id": 49783305, "comment_id": 86582293, "body": "This seems to only create a border when 2 list items meet , theres no border on the items on the outside of the list"}, {"owner": {"reputation": 1038, "user_id": 1490860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3c7a6a8924eae8b1b40027dd2be2e2?s=128&d=identicon&r=PG", "display_name": "Mattia Astorino", "link": "https://stackoverflow.com/users/1490860/mattia-astorino"}, "reply_to_user": {"reputation": 557, "user_id": 9231706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocW3d.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/9231706/james"}, "edited": false, "score": 1, "creation_date": 1523476878, "post_id": 49783305, "comment_id": 86582466, "body": "If you want just to add a space replace border-left with any margin"}, {"owner": {"reputation": 557, "user_id": 9231706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocW3d.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/9231706/james"}, "edited": false, "score": 0, "creation_date": 1523477405, "post_id": 49783305, "comment_id": 86582751, "body": "Yeah did the trick, thanks for letting me know about the consec selector, will keep it mind for another time"}], "tags": [], "owner": {"reputation": 1038, "user_id": 1490860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a3c7a6a8924eae8b1b40027dd2be2e2?s=128&d=identicon&r=PG", "display_name": "Mattia Astorino", "link": "https://stackoverflow.com/users/1490860/mattia-astorino"}, "is_accepted": false, "score": 1, "last_activity_date": 1523794226, "last_edit_date": 1523794226, "creation_date": 1523475858, "answer_id": 49783305, "question_id": 49783144, "link": "https://stackoverflow.com/questions/49783144/border-around-list-items-with-space/49783305#49783305", "title": "Border around list items with space", "body": "<p>Remove the border from all li and then use the consecutive selector by adding this:</p>\n\n<pre><code>.ListView li + li {\n    border-left: 1px solid green;\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 232, "user_id": 2796515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cca163ebbc0729f1a55adef143de46e2?s=128&d=identicon&r=PG&f=1", "display_name": "user2796515", "link": "https://stackoverflow.com/users/2796515/user2796515"}, "is_accepted": true, "score": 1, "last_activity_date": 1523476894, "creation_date": 1523476894, "answer_id": 49783580, "question_id": 49783144, "link": "https://stackoverflow.com/questions/49783144/border-around-list-items-with-space/49783580#49783580", "title": "Border around list items with space", "body": "<p>add margin-left: if they are horizontal and margin-top: if they are vertical. </p>\n\n<p>For example </p>\n\n<pre><code>.ListView li{\nfloat:left;\nborder:1px solid green;\npadding:15px;\nmargin-top: 5px;\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 557, "user_id": 9231706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ocW3d.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/9231706/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1544, "favorite_count": 0, "accepted_answer_id": 49783580, "answer_count": 2, "score": 1, "last_activity_date": 1523794226, "creation_date": 1523475247, "question_id": 49783144, "link": "https://stackoverflow.com/questions/49783144/border-around-list-items-with-space", "title": "Border around list items with space", "body": "<p>Hi guys ive got a list of information which are generated from a database, in total I have 3 items in my database, at the moment this code generates the list with each item having a border - The problem at the moment is that the border overlaps , so in the inside of the item list , the border is thicker than the outside. </p>\n\n<p>How can I make it so there is spacing between each item in the list, but they retain their border?</p>\n\n<p>Cheers!</p>\n\n<pre><code>&lt;div id=\"SearchResults\"&gt;\n    &lt;ul class=\"ListView\"&gt;\n\n        @foreach (var item in Model)\n        {\n            &lt;li&gt;\n\n                @Html.DisplayFor(modelItem =&gt; item.Name)&lt;br /&gt;\n                @Html.DisplayFor(modelItem =&gt; item.Email)&lt;br /&gt;\n                @Html.DisplayFor(modelItem =&gt; item.PostCode)&lt;br /&gt;\n                @Html.DisplayFor(modelItem =&gt; item.GroupID)&lt;br /&gt;\n                @Html.DisplayFor(modelItem =&gt; item.Biography)&lt;br /&gt;\n                @Html.DisplayFor(modelItem =&gt; item.ResearcherID)&lt;br /&gt;\n                @Html.DisplayFor(modelItem =&gt; item.KeySkills)&lt;br /&gt;\n                @Html.DisplayFor(modelItem =&gt; item.Phone)&lt;br /&gt;\n\n\n            &lt;/li&gt;\n        }\n\n    &lt;/ul&gt;\n\n&lt;/div&gt;\n\n.ListView{\n\n    list-style:none;\n    width:100%;    \n}\n\n\n\n.ListView li{\n    float:left;\n    border:1px solid green;\n    padding:15px;\n\n}\n</code></pre>\n"}, {"tags": ["c#", "naudio"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1523475107, "post_id": 49783091, "comment_id": 86581477, "body": "The task action isn&#39;t <code>async</code> so there really isn&#39;t anything to await."}, {"owner": {"reputation": 181, "user_id": 9122944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CLfDl.gif?s=128&g=1", "display_name": "Epistaxis", "link": "https://stackoverflow.com/users/9122944/epistaxis"}, "edited": false, "score": 0, "creation_date": 1523475168, "post_id": 49783091, "comment_id": 86581515, "body": "catch it and find out why... try/finally...."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523475694, "post_id": 49783091, "comment_id": 86581778, "body": "Please tag the tech you are using that includes the <code>WaveOut</code> class you are using. Is it NAudio?"}, {"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1523475819, "post_id": 49783091, "comment_id": 86581858, "body": "also <code>async void</code> is bad practice except the event handler"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523476032, "post_id": 49783091, "comment_id": 86581982, "body": "@RonBeyer The <code>Task.Run</code> does not have to have an async action to await; that&#39;s for awaiting internally of the task. <code>Task.Run</code> will grab a new thread, from the thread pool, and run <code>waveOut.Play();</code> in that thread. It will <code>await</code> that task as it is. The problem is <code>waveOut.Play();</code> doesn&#39;t return after the play is complete but makes the call and returns immediately. He will have to wait until the playing is complete which is usually handled via an event triggered."}, {"owner": {"reputation": 116, "user_id": 9613418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc4b50d22a56dbe68c94fa8685543c3?s=128&d=identicon&r=PG&f=1", "display_name": "Rodnik", "link": "https://stackoverflow.com/users/9613418/rodnik"}, "edited": false, "score": 0, "creation_date": 1523476927, "post_id": 49783091, "comment_id": 86582487, "body": "Yes it is NAudio correct."}], "answers": [{"tags": [], "owner": {"reputation": 15800, "user_id": 1274314, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gSYsp.jpg?s=128&g=1", "display_name": "TypeIA", "link": "https://stackoverflow.com/users/1274314/typeia"}, "is_accepted": true, "score": 6, "last_activity_date": 1523475307, "creation_date": 1523475307, "answer_id": 49783154, "question_id": 49783091, "link": "https://stackoverflow.com/questions/49783091/await-task-run-isnt-working-inside-void/49783154#49783154", "title": "await Task.Run isn&#39;t working inside void?", "body": "<p>The problem is that <code>WaveOut.Play()</code> returns immediately. Straight from the <a href=\"https://github.com/naudio/NAudio/wiki/Playing-an-Audio-File\" rel=\"noreferrer\">NAudio documentation</a> (emphasis mine):</p>\n\n<blockquote>\n  <p>Starting playback</p>\n  \n  <p>Now we're ready to begin playback, and we can do so by simply calling Play on our output device. <strong>It's important to note that this is not a blocking call. It just begins playback.</strong> If you want to be notified when playback ends, we'll discuss how to do that shortly.</p>\n\n<pre><code>waveOut.Play();\n</code></pre>\n</blockquote>\n\n<p>Thus, your <code>Task</code> is completing immediately without waiting for the clip to be played. The NAudio documentation continues:</p>\n\n<blockquote>\n  <p>Stopping playback</p>\n  \n  <p>By default, the output device (WaveOutEvent in our case) will keep playing until we reach the end of the input stream we passed into Init. This is indicated when the IWaveProvider.Read method returns 0. Assuming you passed in an Mp3FileReader or another file reader, then your file will eventually reach the end.</p>\n  \n  <p>You can get notification that playback has finished by subscribing to the PlaybackStopped event. This event will also be able to tell you if playback has stopped due to an error with the soundcard. For example, if your device is a USB headset and you unplug it midway through playing, then you will see one of these errors.</p>\n\n<pre><code>waveOut.PlaybackStopped += OnPlaybackStopped;\n</code></pre>\n  \n  <p>You can of course request that playback stops at any time by calling Stop. Note that playback may not actually have stopped when this method exits. You've simply requested that playback stops, and it normally happens very quickly. But only when you get the PlaybackStopped event can you be sure it has completely stopped.</p>\n\n<pre><code>waveOut.Stop();\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 9613418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc4b50d22a56dbe68c94fa8685543c3?s=128&d=identicon&r=PG&f=1", "display_name": "Rodnik", "link": "https://stackoverflow.com/users/9613418/rodnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1523478252, "creation_date": 1523478252, "answer_id": 49783923, "question_id": 49783091, "link": "https://stackoverflow.com/questions/49783091/await-task-run-isnt-working-inside-void/49783923#49783923", "title": "await Task.Run isn&#39;t working inside void?", "body": "<p>I solved the problem with TypelA help. He provided valueable information for me to figure out what needed to be done. This is the final result compared to the code in my original question.</p>\n\n<pre><code>        public void PlayAudio(object sender, GenericEventArgs&lt;Stream&gt; args)\n    {\n        fileName = $\"{ Guid.NewGuid() }.wav\";\n        using (var file = File.OpenWrite(Path.Combine(Directory.GetCurrentDirectory(), fileName)))\n        {\n            args.EventData.CopyTo(file);\n            file.Flush();\n        }\n        waveOut = new WaveOut();\n        reader = new WaveFileReader(fileName);\n        waveOut.Init(reader);\n        waveOut.PlaybackStopped += OnPlayStopped;\n        waveOut.Play();\n    }\n\n    private async void OnPlayStopped(object sender, StoppedEventArgs e)\n    {\n        Console.WriteLine(\"Done\");\n        await Task.Run(() =&gt;\n        {\n            reader.Dispose();\n            waveOut.Dispose();\n            File.Delete(fileName);\n        });\n    }\n</code></pre>\n"}], "owner": {"reputation": 116, "user_id": 9613418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc4b50d22a56dbe68c94fa8685543c3?s=128&d=identicon&r=PG&f=1", "display_name": "Rodnik", "link": "https://stackoverflow.com/users/9613418/rodnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 49783154, "answer_count": 2, "score": -2, "last_activity_date": 1523478252, "creation_date": 1523475007, "last_edit_date": 1523477872, "question_id": 49783091, "link": "https://stackoverflow.com/questions/49783091/await-task-run-isnt-working-inside-void", "title": "await Task.Run isn&#39;t working inside void?", "body": "<p>I am trying to run a \"await Task.Run\" on my waveOut.play(). The reason is why i want to do this is because i need to delete the file right after waveOut.play() is finished. However, i can not delete something which is already in use, that is why i need to use await task.run but it seems like it isn't working this time. This may be a duplicate but i cant find any reason to why the program isnt waiting for it to finish.</p>\n\n<pre><code>    public async void PlayAudio(object sender, GenericEventArgs&lt;Stream&gt; args)\n    {\n        fileName = $\"{ Guid.NewGuid() }.wav\";\n        using (var file = File.OpenWrite(Path.Combine(Directory.GetCurrentDirectory(), fileName)))\n        {\n            args.EventData.CopyTo(file);\n            file.Flush();\n        }\n        WaveOut waveOut = new WaveOut();\n        WaveFileReader reader = new WaveFileReader(fileName);\n        waveOut.Init(reader);\n        try\n        {\n            await Task.Run(() =&gt;\n            {\n                waveOut.Play();\n            });\n\n        }\n        finally\n        {\n            File.Delete(fileName);\n        }\n\n    }\n</code></pre>\n\n<p>The program finds the file by string name and plays it. The await task.run isn't working here. It jumps straight down to the finally block.</p>\n"}, {"tags": ["c#", "json", "dictionary", "json.net", "yamldotnet"], "answers": [{"comments": [{"owner": {"reputation": 2050, "user_id": 544716, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b61ce5b0ed3e836e330e0b8afd2f45e0?s=128&d=identicon&r=PG", "display_name": "guyl", "link": "https://stackoverflow.com/users/544716/guyl"}, "edited": false, "score": 0, "creation_date": 1523475775, "post_id": 49783205, "comment_id": 86581828, "body": "You are correct, this is not the ideal dictionary json representation yet it is possible to do. many articles are talking about it this is why i used JsonArrayAttribute on the derived class.  <a href=\"https://stackoverflow.com/questions/43676125/json-array-to-c-sharp-dictionary/43676283\" title=\"json array to c sharp dictionary\">stackoverflow.com/questions/43676125/&hellip;</a>"}, {"owner": {"reputation": 1824, "user_id": 700390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9bc884e43cc60081c7beb05987f762?s=128&d=identicon&r=PG", "display_name": "user700390", "link": "https://stackoverflow.com/users/700390/user700390"}, "reply_to_user": {"reputation": 2050, "user_id": 544716, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b61ce5b0ed3e836e330e0b8afd2f45e0?s=128&d=identicon&r=PG", "display_name": "guyl", "link": "https://stackoverflow.com/users/544716/guyl"}, "edited": false, "score": 0, "creation_date": 1523479296, "post_id": 49783205, "comment_id": 86583681, "body": "please see the updated answer, you should be able to de-serialize this way but your code to process the data may be a little more cludgy as a result."}, {"owner": {"reputation": 2050, "user_id": 544716, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b61ce5b0ed3e836e330e0b8afd2f45e0?s=128&d=identicon&r=PG", "display_name": "guyl", "link": "https://stackoverflow.com/users/544716/guyl"}, "edited": false, "score": 0, "creation_date": 1523511066, "post_id": 49783205, "comment_id": 86592208, "body": "Thank you :) but this is the solution i am  trying to avoid."}], "tags": [], "owner": {"reputation": 1824, "user_id": 700390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9bc884e43cc60081c7beb05987f762?s=128&d=identicon&r=PG", "display_name": "user700390", "link": "https://stackoverflow.com/users/700390/user700390"}, "is_accepted": false, "score": 2, "last_activity_date": 1523479263, "last_edit_date": 1523479263, "creation_date": 1523475529, "answer_id": 49783205, "question_id": 49783076, "link": "https://stackoverflow.com/questions/49783076/unable-to-serialize-json-to-dictionary/49783205#49783205", "title": "Unable to Serialize JSON to Dictionary", "body": "<p>I think your JSON which you are attempting to de-serialize is not conforming to your class definition.  Try changing the way you are generating the JSON.</p>\n\n<p>For a dictionary-type structure, I would expect to see curly braces <code>{</code> instead of <code>[</code> to begin the structure, e.g.:</p>\n\n<pre><code>{\n \"some_element\": \"1\",\n \"should_be_dic_element\": {\n  {\n   \"a\": \"1\"\n  },\n  {\n   \"b\": \"2\"\n  }\n }\n}\n</code></pre>\n\n<p>If you want to deserialize the existing JSON unchanged, try using your class definition to specify a list of dictionaries as such:</p>\n\n<pre><code> public class SomeClass\n {\n    [JsonProperty(PropertyName = \"some_element\")]\n    public string SomeProperty { get; set; }\n\n    [JsonProperty(PropertyName = \"should_be_dic_element\")]\n    public List&lt;Dictionary&lt;string, string&gt;&gt; Dictionary { get; set; }\n }\n</code></pre>\n"}], "owner": {"reputation": 2050, "user_id": 544716, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b61ce5b0ed3e836e330e0b8afd2f45e0?s=128&d=identicon&r=PG", "display_name": "guyl", "link": "https://stackoverflow.com/users/544716/guyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1523479263, "creation_date": 1523474969, "question_id": 49783076, "link": "https://stackoverflow.com/questions/49783076/unable-to-serialize-json-to-dictionary", "title": "Unable to Serialize JSON to Dictionary", "body": "<p>I have an issue with JSON serialization into a class with a dictionary property.<br>\nThe whole process is a bit more complex, as an input i have a YAML file that i convert into a json using <code>YamlDotNet</code> and <code>NewtonSoft</code> <a href=\"https://stackoverflow.com/questions/30364884/how-to-convert-yaml-to-json\">like so</a>   </p>\n\n<p>This is an example of the Yaml and the JSON output   </p>\n\n<pre><code>some_element: '1'\nshould_be_dic_element:\n - a: '1'\n - b: '2'\n\n{\n \"some_element\": \"1\",\n \"should_be_dic_element\": [\n  {\n   \"a\": \"1\"\n  },\n  {\n   \"b\": \"2\"\n  }\n ]\n}\n</code></pre>\n\n<p>And the class  </p>\n\n<pre><code> public class SomeClass\n {\n    [JsonProperty(PropertyName = \"some_element\")]\n    public string SomeProperty { get; set; }\n\n    [JsonProperty(PropertyName = \"should_be_dic_element\")]\n    public Dictionary&lt;string, string&gt; Dictionary { get; set; }\n }\n</code></pre>\n\n<p>I know the issue with Array dictionary so this are all the things I've tried.</p>\n\n<p>Using Dictionary i get the following  </p>\n\n<blockquote>\n  <p>error Cannot deserialize the current JSON array (e.g. [1,2,3]) into type 'System.Collections.Generic.Dictionary`2[System.String,System.String]' because the type requires a JSON object (e.g. {\"name\":\"value\"}) to deserialize correctly.\n  To fix this error either change the JSON to a JSON object (e.g. {\"name\":\"value\"}) or change the deserialized type to an array or a type that implements a collection interface (e.g. ICollection, IList) like List that can be deserialized from a JSON array. JsonArrayAttribute can also be added to the type to force it to deserialize from a JSON array</p>\n</blockquote>\n\n<p>Using a new class from Dictionary like so   </p>\n\n<pre><code>[JsonArray]\nclass X : Dictionary&lt;string, string&gt; { }\n</code></pre>\n\n<blockquote>\n  <p>error Value cannot be null.\n  Parameter name: key</p>\n</blockquote>\n\n<p>Using <code>KeyValuePair&lt;string, string&gt;[]</code> / <code>List&lt;KeyValuePair&lt;string, string&gt;&gt;</code> the outcome is the amount of elements but with null values.</p>\n\n<p>Any suggestions please ?</p>\n"}, {"tags": ["c#", "entity-framework", ".net-core", ".net-standard-2.0", ".net-4.6.1"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1523506714, "post_id": 49783052, "comment_id": 86590833, "body": "Did you switch to package reference instead of <code>packages.config</code>?"}, {"owner": {"reputation": 2566, "user_id": 659246, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/VZANh.jpg?s=128&g=1", "display_name": "GoldBishop", "link": "https://stackoverflow.com/users/659246/goldbishop"}, "edited": false, "score": 0, "creation_date": 1523965755, "post_id": 49783052, "comment_id": 86770085, "body": "Have you verified that the MySQL library is compliant with working with the Core or 4.6.1 library"}], "owner": {"reputation": 33, "user_id": 3061663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41261e22d869a6ab11a19b007048f24a?s=128&d=identicon&r=PG&f=1", "display_name": "XRJPK", "link": "https://stackoverflow.com/users/3061663/xrjpk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523474863, "creation_date": 1523474863, "question_id": 49783052, "link": "https://stackoverflow.com/questions/49783052/using-a-net-core-entity-framework-with-net-4-6-1", "title": "Using a .net core entity framework with .net 4.6.1", "body": "<p>i was wondering if it is possible to seperate the database and entity framework to a new .net-core project? </p>\n\n<p>i have a simple Solution like this </p>\n\n<p>Project <strong>database.core</strong> (.net standard 2.0) </p>\n\n<p>Project <strong>database.tester.net461</strong> (.net Framework 4.6.1)</p>\n\n<p>The main <em>Program.cs</em> of project database.tester.net461</p>\n\n<pre><code>using System;\nusing static System.Console;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nusing database.core;\n\nnamespace database.tester.net461\n{\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Console.WriteLine(\"Hello World!\");\n        ListUsers(\"SomeCoolUser\");\n    }\n\n    static void ListUsers(string username)\n    {\n        using (var db = new C2Crayfire())\n        {\n            WriteLine(\"--------------------------------------------\");\n            WriteLine(\"| UserID | UserGUID | Username | RecoveryMail\");\n            WriteLine(\"---------------------------------------------------\");\n\n            crayfire_User singleuser = db.crayfire_user.Where(u =&gt; u.Username.Equals(username)).First();\n            WriteLine($\"| { singleuser.ToString()} | { singleuser.UserGUID} | { singleuser.Username} | { singleuser.RecoveryMail}  | \");\n\n            WriteLine(\"---------------------------------------------------\");\n            Console.ReadLine();\n        }\n\n    }\n}\n}\n</code></pre>\n\n<p>No im struggeling using the database.core in the console project. \nWhen i start the programm hey says the following error </p>\n\n<blockquote>\n  <p>System.TypeLoadException: \"The method \"ApplyServices\" in type \"MySql.Data.EntityFrameworkCore.Infraestructure.MySQLOptionsExtension\" of Assembly \"MySql.Data.EntityFrameworkCore, Version=6.10.6.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d\" has no implementation.\"</p>\n</blockquote>\n\n<p>If you need any further informations just ask. </p>\n\n<p>Greetings XRJPK</p>\n\n<p>For information the code of the <strong>database.core</strong> project</p>\n\n<pre><code>using System.ComponentModel.DataAnnotations;\n\nnamespace database.core\n{\npublic class crayfire_User\n{\n    // these properties map to columns in the database\n    [Required]   \n    [Key]\n    public int UserID { get; set; }\n\n    public string UserGUID { get; set; }\n\n    public string Username { get; set; }\n\n    public string RecoveryMail { get; set; }\n\n    public string Password { get; set; }\n\n    public string Salt { get; set; }\n\n    public crayfire_User()\n    {\n\n    }\n}\n}\n</code></pre>\n\n<p>The C2Crayfire  Class</p>\n\n<pre><code>using System;\nusing Microsoft.EntityFrameworkCore;\nusing MySql.Data.EntityFrameworkCore;\n\nnamespace database.core\n{\n// this manages the connection to the database\npublic class C2Crayfire : DbContext\n{\n    public DbSet&lt;crayfire_User&gt; crayfire_user { get; set; }\n\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        optionsBuilder.UseMySQL(\"server = &lt;servername&gt;; user id = &lt;userid&gt;; password = &lt;password&gt;; database = &lt;database&gt;\");\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1523474947, "post_id": 49783035, "comment_id": 86581396, "body": "You have to include the namespaces for that to work.  That or do queries on the <code>LocalName</code>.  <a href=\"https://stackoverflow.com/questions/2340411/use-linq-to-xml-with-xml-namespaces\" title=\"use linq to xml with xml namespaces\">stackoverflow.com/questions/2340411/&hellip;</a>"}, {"owner": {"reputation": 1123, "user_id": 421237, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c1a0c63633db7f7665256f6911e8e76?s=128&d=identicon&r=PG", "display_name": "MindGame", "link": "https://stackoverflow.com/users/421237/mindgame"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1523476431, "post_id": 49783035, "comment_id": 86582208, "body": "How do you include the namespace?"}, {"owner": {"reputation": 4897, "user_id": 4573839, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-wLBU0P4GoTk/AAAAAAAAAAI/AAAAAAAAAPM/8Xy7C9d-XoU/photo.jpg?sz=128", "display_name": "yu yang Jian", "link": "https://stackoverflow.com/users/4573839/yu-yang-jian"}, "edited": false, "score": 0, "creation_date": 1523481052, "post_id": 49783035, "comment_id": 86584432, "body": "Maybe this help <a href=\"https://stackoverflow.com/questions/30279306/read-from-xml-files-with-or-without-a-namespace-using-xmldocument\" title=\"read from xml files with or without a namespace using xmldocument\">stackoverflow.com/questions/30279306/&hellip;</a> ,  and in my experience <code>XElement</code> and <code>XPath</code> is also good way to read xml"}], "answers": [{"tags": [], "owner": {"reputation": 1123, "user_id": 421237, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c1a0c63633db7f7665256f6911e8e76?s=128&d=identicon&r=PG", "display_name": "MindGame", "link": "https://stackoverflow.com/users/421237/mindgame"}, "is_accepted": true, "score": 0, "last_activity_date": 1523480171, "creation_date": 1523480171, "answer_id": 49784333, "question_id": 49783035, "link": "https://stackoverflow.com/questions/49783035/get-values-from-xml-document/49784333#49784333", "title": "Get values from XML Document", "body": "<p>The namespace was the issue.<br>\nvar doc= XDocument.Load(stream);\nXNamespace ns_e = \"<a href=\"http://www.w3.org/2001/04/xmlenc#\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/04/xmlenc#</a>\";</p>\n\n<p>var encrypKeys = doc.Root.Descendants(ns_e + \"CipherValue\").ToList();</p>\n"}], "owner": {"reputation": 1123, "user_id": 421237, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c1a0c63633db7f7665256f6911e8e76?s=128&d=identicon&r=PG", "display_name": "MindGame", "link": "https://stackoverflow.com/users/421237/mindgame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 49784333, "answer_count": 1, "score": 0, "last_activity_date": 1523480171, "creation_date": 1523474738, "question_id": 49783035, "link": "https://stackoverflow.com/questions/49783035/get-values-from-xml-document", "title": "Get values from XML Document", "body": "<p>So lets say I have this XML document:</p>\n\n<pre><code>&lt;s:Envelope \n        xmlns:s=\"http://www.w3.org/2003/05/soap-envelope\" \n        xmlns:u=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n        &lt;s:Header&gt;\n            &lt;VsDebuggerCausalityData \n                xmlns=\"http://schemas.microsoft.com/vstudio/diagnostics/servicemodelsink\"&gt;uIDPo4tYpt6X40FEk+VSAe5mc8MAAAAAP497cBuXfk+uFIOY80O0iuLtIW56q7hLktgVYPhbnHMACQAA\n            &lt;/VsDebuggerCausalityData&gt;\n            &lt;o:Security s:mustUnderstand=\"1\" \n                xmlns:o=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"&gt;\n                &lt;o:BinarySecurityToken u:Id=\"uuid-10490fb0-8ee0-4a4c-a8db-77242c9a3b7f-2\" ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\" EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\"&gt;MIIF+TCCBOGgAwIBAgIQIWv3OdE866kXP/....t&lt;/o:BinarySecurityToken&gt;\n                &lt;e:EncryptedKey Id=\"_0\" \n                    xmlns:e=\"http://www.w3.org/2001/04/xmlenc#\"&gt;\n                    &lt;e:EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#rsa-oaep-mgf1p\"&gt;\n                        &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" \n                            xmlns=\"http://www.w3.org/2000/09/xmldsig#\" /&gt;\n                    &lt;/e:EncryptionMethod&gt;\n                    &lt;KeyInfo \n                        xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n                        &lt;o:SecurityTokenReference&gt;\n                            &lt;o:KeyIdentifier ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509SubjectKeyIdentifier\" EncodingType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\"&gt;j0ZKFBmTz3Kj0cQ82rq63MYAR+0=&lt;/o:KeyIdentifier&gt;\n                        &lt;/o:SecurityTokenReference&gt;\n                    &lt;/KeyInfo&gt;\n                    &lt;e:CipherData&gt;\n                        &lt;e:CipherValue&gt;ANCElFZ5v....==&lt;/e:CipherValue&gt;\n                    &lt;/e:CipherData&gt;\n                    &lt;e:ReferenceList&gt;\n                        &lt;e:DataReference URI=\"#_2\" /&gt;\n                    &lt;/e:ReferenceList&gt;\n                &lt;/e:EncryptedKey&gt;\n                &lt;Signature \n                    xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n                    &lt;SignedInfo&gt;\n                        &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                        &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt;\n                        &lt;Reference URI=\"#_1\"&gt;\n                            &lt;Transforms&gt;\n                                &lt;Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt;\n                            &lt;/Transforms&gt;\n                            &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt;\n                            &lt;DigestValue&gt;akiomlPdi6j1h6r9NDqmh9G1GD0=&lt;/DigestValue&gt;\n                        &lt;/Reference&gt;\n                    &lt;/SignedInfo&gt;\n                    &lt;SignatureValue&gt;LIjqWD/BXsoA0XNR7hv...==&lt;/SignatureValue&gt;\n                    &lt;KeyInfo&gt;\n                        &lt;o:SecurityTokenReference&gt;\n                            &lt;o:Reference ValueType=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3\" URI=\"#uuid-10490fb0-8ee0-4a4c-a8db-77242c9a3b7f-2\" /&gt;\n                        &lt;/o:SecurityTokenReference&gt;\n                    &lt;/KeyInfo&gt;\n                &lt;/Signature&gt;\n            &lt;/o:Security&gt;\n        &lt;/s:Header&gt;\n        &lt;s:Body u:Id=\"_1\"&gt;\n            &lt;e:EncryptedData Id=\"_2\" Type=\"http://www.w3.org/2001/04/xmlenc#Content\" \n                xmlns:e=\"http://www.w3.org/2001/04/xmlenc#\"&gt;\n                &lt;e:EncryptionMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#aes128-cbc\" /&gt;\n                &lt;e:CipherData&gt;\n                    &lt;e:CipherValue&gt;3kESnJnhc8K.....&lt;/e:CipherValue&gt;\n                &lt;/e:CipherData&gt;\n            &lt;/e:EncryptedData&gt;\n        &lt;/s:Body&gt;\n    &lt;/s:Envelope&gt;\n</code></pre>\n\n<p>I want to pragmatically get two values</p>\n\n<p>1)  Header > Security > EncryptedKey > CipherData > CipherValue. So it would be ANCElFZ5v....==</p>\n\n<p>2)  Body > EncryptedData > CipherData > CipherValue. So it would be 3kESnJnhc8K.....</p>\n\n<p>I have been trying XML to LINQ but can't seem to figure it out.  </p>\n\n<p>I have been trying various thing like.  But it seems to be not working. Meaning I don't get any values.</p>\n\n<pre><code>XDocument file = XDocument.Load(stream);\nvar keyEnc = file.Root.Elements(\"Header\").Elements(\"Security\").Elements(\"EncryptedKey\").Elements(\"CipherData\").Elements(\"CipherValue\").ToList();\n</code></pre>\n"}, {"tags": ["c#", "json", "asp.net-core"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1523475034, "post_id": 49783018, "comment_id": 86581435, "body": "Does <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_StringEscapeHandling.htm\" rel=\"nofollow noreferrer\"><code>StringEscapeHandling.EscapeHtml</code></a> not work?  It seems as though it should.  In fact, it does seem to work the way you want in a standalone console app: <a href=\"https://dotnetfiddle.net/OAXsQe\" rel=\"nofollow noreferrer\">dotnetfiddle.net/OAXsQe</a>.  What are you seeing instead?"}, {"owner": {"reputation": 2658, "user_id": 209696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BrFON.jpg?s=128&g=1", "display_name": "John81", "link": "https://stackoverflow.com/users/209696/john81"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1523475301, "post_id": 49783018, "comment_id": 86581580, "body": "I thought so too but it is not.  Description says HTML (&lt;, &gt;, &amp;, &#39;, &quot;) and control characters (e.g. newline) are escaped."}, {"owner": {"reputation": 2658, "user_id": 209696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BrFON.jpg?s=128&g=1", "display_name": "John81", "link": "https://stackoverflow.com/users/209696/john81"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1523475718, "post_id": 49783018, "comment_id": 86581789, "body": "The fiddle is not how am I returning JSON.  I updated the answer to indicate I am not using SerializeObject."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1523475904, "post_id": 49783018, "comment_id": 86581903, "body": "That&#39;s interesting.  What about other options?  Is <code>NullValueHandling = NullValueHandling.Ignore</code> being respected correctly?  What if you modify some other setting with an obvious impact, e.g by setting <code>options.ContractResolver = new DefaultContractResolver { NamingStrategy = new SnakeCaseNamingStrategy() },</code> -- does that work?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1523477420, "post_id": 49783018, "comment_id": 86582763, "body": "Well, either that specific option is being ignored, or somehow all options are being ignored -- but I can&#39;t see from the <a href=\"https://github.com/aspnet/Mvc/blob/dev/src/Microsoft.AspNetCore.Mvc.Formatters.Json/JsonOutputFormatter.cs\" rel=\"nofollow noreferrer\">reference source</a> where that might be happening.  Can you try adding <code>EscapingStringConverter</code> from <a href=\"https://dotnetfiddle.net/JOqmcs\" rel=\"nofollow noreferrer\">dotnetfiddle.net/JOqmcs</a> to <code>options.Converters</code> to see if that fixes your problem?"}, {"owner": {"reputation": 2658, "user_id": 209696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BrFON.jpg?s=128&g=1", "display_name": "John81", "link": "https://stackoverflow.com/users/209696/john81"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1523482230, "post_id": 49783018, "comment_id": 86584849, "body": "NullVauleHandling.Ignore and SnakeCaseNamingStrategy work.  Strange that StringEscapeHandling.EscapeHtml is not working."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1523482317, "post_id": 49783018, "comment_id": 86584882, "body": "Strange indeed.  What about <code>EscapingStringConverter</code> from the fiddle <a href=\"https://dotnetfiddle.net/JOqmcs\" rel=\"nofollow noreferrer\">dotnetfiddle.net/JOqmcs</a>?"}, {"owner": {"reputation": 2658, "user_id": 209696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BrFON.jpg?s=128&g=1", "display_name": "John81", "link": "https://stackoverflow.com/users/209696/john81"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1523483257, "post_id": 49783018, "comment_id": 86585253, "body": "I realized what&#39;s happening.  I just started using FireFox and it&#39;s default representation of JSON pretties up the display including translating escape characters.  Looking at the Raw Data view in FireFox shows it correctly.  EscapingStringConverter from your fiddle and StringEscapeHandling.EscapeHtml both work fine.  Aggghh!  Sorry for wasting your time but I really appreciate the help!!!"}], "owner": {"reputation": 2658, "user_id": 209696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/BrFON.jpg?s=128&g=1", "display_name": "John81", "link": "https://stackoverflow.com/users/209696/john81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1523475573, "creation_date": 1523474667, "last_edit_date": 1523475573, "question_id": 49783018, "link": "https://stackoverflow.com/questions/49783018/encode-ampersand-in-json-output-in-asp-net-core-webapi-end-point", "title": "Encode Ampersand in JSON output in ASP.NET Core WebAPI End Point", "body": "<p>I am looking for a way to encode all amersands in JSON returned from an end point in my ASP.NET Core 2.0 Web API project.  I want to encode all amersands as \"\\u0026\".  Currently my JSON is showing \"&amp;\" in the output like this.</p>\n\n<pre><code>{\"status\":\"3 &amp; 1\",...\n</code></pre>\n\n<p>But I want it to appear like this.</p>\n\n<pre><code>{\"status\":\"3 \\u0026 1\",...\n</code></pre>\n\n<p>Is there an option for this?</p>\n\n<p>My current JsonOptions options are....</p>\n\n<pre><code>            services.AddMvc()\n            .AddXmlSerializerFormatters()\n            .AddJsonOptions(options =&gt; options.SerializerSettings.NullValueHandling = NullValueHandling.Ignore)\n            .AddJsonOptions(options =&gt; options.SerializerSettings.StringEscapeHandling = StringEscapeHandling.EscapeHtml));\n</code></pre>\n\n<p>I am letting .NET handle the JSON serialization and I am not specifically encoding the output.  My end point looks like this.</p>\n\n<pre><code>[Produces(\"application/json\")]\npublic async Task&lt;StatSheet&gt; Index()\n{\n   var statSheet = new StatSheet();\n   ... &lt;processing to fill the entity here&gt;\n   return statSheet\n}\n</code></pre>\n"}, {"tags": ["c#", "task-parallel-library", "tpl-dataflow"], "comments": [{"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "reply_to_user": {"reputation": 181, "user_id": 9122944, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CLfDl.gif?s=128&g=1", "display_name": "Epistaxis", "link": "https://stackoverflow.com/users/9122944/epistaxis"}, "edited": false, "score": 2, "creation_date": 1523474736, "post_id": 49782942, "comment_id": 86581272, "body": "I am asking the community if it is possible to change these values :) I have updated the post accordingly."}, {"owner": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 0, "creation_date": 1523474754, "post_id": 49782942, "comment_id": 86581283, "body": "The only possible way is to use reflection and dig deep into the internals of a block. Really there&#39;s no good way and it&#39;s not recommended."}, {"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "reply_to_user": {"reputation": 6095, "user_id": 7339946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23485b61c5f33b4e4e67999df7988858?s=128&d=identicon&r=PG", "display_name": "JSteward", "link": "https://stackoverflow.com/users/7339946/jsteward"}, "edited": false, "score": 2, "creation_date": 1523474900, "post_id": 49782942, "comment_id": 86581374, "body": "@JSteward Changing parameters through Reflection is definitely something I would not do :)"}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1523476117, "post_id": 49782942, "comment_id": 86582026, "body": "@Kzrystof but what about changing the parameters through reflection of an actively running parallel processing job?  That&#39;s gotta be totally fine, right?"}, {"owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "reply_to_user": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 0, "creation_date": 1523478699, "post_id": 49782942, "comment_id": 86583413, "body": "@Jonesopolis I do not want to bypass Microsoft&#39;s encapsulation of these classes."}, {"owner": {"reputation": 767, "user_id": 3365813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c117e3196b103ec79bd8b7cafc073171?s=128&d=identicon&r=PG", "display_name": "Jana Sattainathan", "link": "https://stackoverflow.com/users/3365813/jana-sattainathan"}, "edited": false, "score": 0, "creation_date": 1576258046, "post_id": 49782942, "comment_id": 104853742, "body": "As a workaround, (only works to increase parallelism), if there was a Buffer block in between the Transform and Action blocks, an additional Action block with the difference in degree of parallelism required could be added, right?"}], "answers": [{"tags": [], "owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "is_accepted": true, "score": 3, "last_activity_date": 1523655019, "last_edit_date": 1523655019, "creation_date": 1523647083, "answer_id": 49823782, "question_id": 49782942, "link": "https://stackoverflow.com/questions/49782942/how-to-change-the-maxdegreeofparallelism-of-an-existing-tpl-block/49823782#49823782", "title": "How to change the MaxDegreeOfParallelism of an existing TPL block?", "body": "<p>According to the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.dataflow.executiondataflowblockoptions\" rel=\"nofollow noreferrer\">MSDN</a>:</p>\n\n<blockquote>\n  <p>Dataflow block capture the state of the options <strong>at their construction</strong>. Subsequent changes to the provided <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.dataflow.executiondataflowblockoptions\" rel=\"nofollow noreferrer\">ExecutionDataflowBlockOptions</a> instance <strong>should not affect the behavior of a dataflow block</strong>.</p>\n</blockquote>\n\n<p>So, answering your question,</p>\n\n<blockquote>\n  <p>I would like to alter the <code>MaxDegreeOfParallelism</code> of the transform block instance.</p>\n</blockquote>\n\n<p>It's not intended for existing block to change it's options. You either should create new one or create a new pipeline, or adjust this setting from the beginning to achieve maximum profit.</p>\n"}, {"tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": false, "score": 0, "last_activity_date": 1592199544, "last_edit_date": 1592199544, "creation_date": 1592168361, "answer_id": 62378152, "question_id": 49782942, "link": "https://stackoverflow.com/questions/49782942/how-to-change-the-maxdegreeofparallelism-of-an-existing-tpl-block/62378152#62378152", "title": "How to change the MaxDegreeOfParallelism of an existing TPL block?", "body": "<p>I made an attempt to solve this problem by using an interchangeable <code>TransformBlock</code>, sandwiched between two <code>BufferBlock</code>s. Every time the <code>MaxDegreeOfParallelism</code> is changed, the old <code>TransformBlock</code> is detached, marked as completed, awaited for its completion, and then a new <code>TransformBlock</code> is attached in its place. This solution has two drawbacks:</p>\n\n<ol>\n<li><p>The degree of parallelism is gradually dropping to zero during the intermittent phase of replacing the middle block.</p></li>\n<li><p>The <code>BoundedCapacity</code> of the middle block must be set equal to <code>MaxDegreeOfParallelism</code>, which may affect performance for very granular workloads.</p></li>\n</ol>\n\n<p>Here is the <code>CreateVariableDopPropagator</code> method, and its companion <code>VariableDopExecutionDataflowBlockOptions</code> class:</p>\n\n<pre><code>public class VariableDopExecutionDataflowBlockOptions : ExecutionDataflowBlockOptions\n{\n    private readonly object _locker = new object();\n\n    public event EventHandler MaxDegreeOfParallelismChanged;\n\n    /// &lt;summary&gt;Gets the maximum number of messages that may be processed by the\n    /// block concurrently.&lt;/summary&gt;\n    public new int MaxDegreeOfParallelism\n    {\n        get { lock (_locker) return base.MaxDegreeOfParallelism; }\n        set\n        {\n            bool changed;\n            lock (_locker)\n            {\n                changed = value != base.MaxDegreeOfParallelism;\n                base.MaxDegreeOfParallelism = value;\n            }\n            if (changed) MaxDegreeOfParallelismChanged?.Invoke(this, EventArgs.Empty);\n        }\n    }\n}\n\npublic static IPropagatorBlock&lt;TInput, TOutput&gt;\n    CreateVariableDopPropagator&lt;TInput, TOutput&gt;(\n    Func&lt;TInput, Task&lt;TOutput&gt;&gt; transform,\n    VariableDopExecutionDataflowBlockOptions dataflowBlockOptions)\n{\n    if (transform == null) throw new ArgumentNullException(nameof(transform));\n    if (dataflowBlockOptions == null)\n        throw new ArgumentNullException(nameof(dataflowBlockOptions));\n\n    var optionsCopy = new ExecutionDataflowBlockOptions()\n    {\n        BoundedCapacity = dataflowBlockOptions.BoundedCapacity,\n        CancellationToken = dataflowBlockOptions.CancellationToken,\n        EnsureOrdered = dataflowBlockOptions.EnsureOrdered,\n        MaxDegreeOfParallelism = dataflowBlockOptions.MaxDegreeOfParallelism,\n        MaxMessagesPerTask = dataflowBlockOptions.MaxMessagesPerTask,\n        NameFormat = dataflowBlockOptions.NameFormat,\n        SingleProducerConstrained = dataflowBlockOptions.SingleProducerConstrained,\n        TaskScheduler = dataflowBlockOptions.TaskScheduler,\n    };\n\n    var locker = new object();\n    var input = new BufferBlock&lt;TInput&gt;(optionsCopy);\n    var output = new BufferBlock&lt;TOutput&gt;(optionsCopy);\n    PropagateFailure(output, input);\n\n    var propagateCompletion = new DataflowLinkOptions() { PropagateCompletion = true };\n    TransformBlock&lt;TInput, TOutput&gt; middle;\n    IDisposable link1 = null;\n    IDisposable link2 = null;\n    CreateMiddleBlock();\n\n    dataflowBlockOptions.MaxDegreeOfParallelismChanged += OnMaxDopChanged;\n    OnCompletion(output, () =&gt;\n    {\n        dataflowBlockOptions.MaxDegreeOfParallelismChanged -= OnMaxDopChanged;\n    }, null);\n\n    return DataflowBlock.Encapsulate(input, output);\n\n    void CreateMiddleBlock()\n    {\n        IDataflowBlock localMiddle;\n        lock (locker)\n        {\n            link1?.Dispose();\n            link2?.Dispose();\n            var maxDop = dataflowBlockOptions.MaxDegreeOfParallelism;\n            optionsCopy.MaxDegreeOfParallelism = maxDop;\n            optionsCopy.BoundedCapacity = maxDop;\n            middle = new TransformBlock&lt;TInput, TOutput&gt;(transform, optionsCopy);\n            link1 = input.LinkTo(middle, propagateCompletion);\n            link2 = middle.LinkTo(output, propagateCompletion);\n            localMiddle = middle;\n        }\n        PropagateFailure(localMiddle, input); // Non disposable link, but it doesn't\n        // matter because the completion of the middle must be awaited anyway.\n    }\n\n    void OnMaxDopChanged(object sender, EventArgs e)\n    {\n        // Detach the middle block if it's not already detached\n        IDataflowBlock localMiddle;\n        lock (locker)\n        {\n            if (link1 == null) return;\n            link1.Dispose();\n            link2.Dispose();\n            link1 = null;\n            link2 = middle.LinkTo(output); // Without completion propagation\n            localMiddle = middle;\n        }\n        localMiddle.Complete();\n        OnCompletion(localMiddle, () =&gt; CreateMiddleBlock(), output);\n    }\n\n    async void PropagateFailure(IDataflowBlock block1, IDataflowBlock block2)\n    {\n        try { await block1.Completion.ConfigureAwait(false); }\n        catch (Exception ex) { if (!block1.Completion.IsCanceled) block2.Fault(ex); }\n    }\n\n    async void OnCompletion(IDataflowBlock block, Action action, IDataflowBlock onError)\n    {\n        try { await block.Completion.ConfigureAwait(false); }\n        catch { } // Ignore\n        finally\n        {\n            try { action(); }\n            catch (Exception ex) { if (onError != null) onError.Fault(ex); else throw; }\n        }\n    }\n}\n\n// Overload with synchronous delegate\npublic static IPropagatorBlock&lt;TInput, TOutput&gt;\n    CreateVariableDopPropagator&lt;TInput, TOutput&gt;(\n    Func&lt;TInput, TOutput&gt; transform,\n    VariableDopExecutionDataflowBlockOptions dataflowBlockOptions)\n{\n    return CreateVariableDopPropagator&lt;TInput, TOutput&gt;(\n        item =&gt; Task.FromResult(transform(item)), dataflowBlockOptions);\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>private VariableDopExecutionDataflowBlockOptions _options;\nprivate IPropagatorBlock&lt;string, bool&gt; _urlChecker;\nprivate HttpClient _client = new HttpClient();\n\npublic Form1()\n{\n    InitializeComponent();\n    _options = new VariableDopExecutionDataflowBlockOptions();\n    _urlChecker = CreateVariableDopPropagator&lt;string, bool&gt;(async (url) =&gt;\n    {\n        return (await _client.GetAsync(url)).IsSuccessStatusCode;\n    }, _options);\n}\n\nprivate void ListBox1_SelectedValueChanged(object sender, EventArgs e)\n{\n    _options.MaxDegreeOfParallelism = (int)ListBox1.SelectedValue;\n}\n</code></pre>\n"}], "owner": {"reputation": 5331, "user_id": 4256749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2lpRO.png?s=128&g=1", "display_name": "Kzrystof", "link": "https://stackoverflow.com/users/4256749/kzrystof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 49823782, "answer_count": 2, "score": 2, "last_activity_date": 1592199544, "creation_date": 1523474322, "last_edit_date": 1523647101, "question_id": 49782942, "link": "https://stackoverflow.com/questions/49782942/how-to-change-the-maxdegreeofparallelism-of-an-existing-tpl-block", "title": "How to change the MaxDegreeOfParallelism of an existing TPL block?", "body": "<p>I have created a small pipeline with the TPL Dataflow. It is composed of a <code>TransformBlock</code> linked to an <code>ActionBlock</code>. Here is how the setup looks like:</p>\n\n<pre><code>var transformBlock = new TransformBlock&lt;int, string&gt;(async num=&gt;\n{\n    //  Do stuff.\n    return num.ToString();\n}, new ExecutionDataflowBlockOptions\n{\n    MaxDegreeOfParallelism = Environment.ProcessorCount,\n});\n\nvar actionBlock = new ActionBlock&lt;string&gt;(text=&gt;\n{\n    Console.WriteLine(text);\n});\n\ntransformBlock.LinkTo(actionBlock, new DataflowLinkOptions\n{\n    PropagateCompletion = true\n});\n</code></pre>\n\n<p>I would like to alter the <code>MaxDegreeOfParallelism</code> of the transform block instance. I haven't found a way to do so since there are no public property allowing me to change it. Is there a way to do so?</p>\n"}, {"tags": ["c#", "jquery", "asp.net", "bootstrap-modal"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1523474664, "post_id": 49782914, "comment_id": 86581230, "body": "Do you need to run <code>$(&quot;#ddlArea&quot;).change()</code> on <code>document.ready</code>? Perhaps the control does not exist in the DOM when you try to bind the <code>onchange</code> event?"}], "answers": [{"comments": [{"owner": {"reputation": 1745, "user_id": 1210350, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/krY4V.jpg?s=128&g=1", "display_name": "NoBullMan", "link": "https://stackoverflow.com/users/1210350/nobullman"}, "edited": false, "score": 0, "creation_date": 1523479257, "post_id": 49783335, "comment_id": 86583658, "body": "This is what I originally had. I added &quot;debugger&quot; to trace it and it would be hit on page load and then get stuck. The modal is to pop up when Edit link on data table row is clicked. I open the modal from code behind after populating it initially. So even with these changes, when I change the Area nothing happens. I updated the code based on your suggestion."}, {"owner": {"reputation": 1745, "user_id": 1210350, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/krY4V.jpg?s=128&g=1", "display_name": "NoBullMan", "link": "https://stackoverflow.com/users/1210350/nobullman"}, "edited": false, "score": 0, "creation_date": 1523551542, "post_id": 49783335, "comment_id": 86618490, "body": "I updated the question, partially based on Rahul&#39;s answer, and added what solved the issue. I used the second part of Rahul&#39;s answer (using $(documeny).on(...))"}], "tags": [], "owner": {"reputation": 1529, "user_id": 7744195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dOMANlNAPgw/AAAAAAAAAAI/AAAAAAAAAbI/6nVl5_L9JBg/photo.jpg?sz=128", "display_name": "RAHUL S R", "link": "https://stackoverflow.com/users/7744195/rahul-s-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1523475966, "creation_date": 1523475966, "answer_id": 49783335, "question_id": 49782914, "link": "https://stackoverflow.com/questions/49782914/dorpdownlist-onchange-in-bootstrap-modal-not-working/49783335#49783335", "title": "Dorpdownlist onchange in bootstrap modal not working", "body": "<p>your script is the issue try this</p>\n\n<pre><code>    &lt;script&gt;\n       $(function(){\n        $(\"#ddlArea\").on('change',function () {\n            var areaID = this.value;\n            populateDistrictDDL(areaID);\n        });\n\n        function populateDistrictDDL(areaID) {debugger\n            $.ajax({\n                type: \"POST\",\n                url: '&lt;%= ResolveUrl(\"services/mpoo.asmx/GetDistrictsByAreaID\") %&gt;',\n                data: areaID,\n                contentType: \"application/json; charset=utf-8\",\n                dataType: \"json\",\n                success: function (msg) {debugger\n                    $(\"#ddlDistrict\").empty().append($(\"&lt;option&gt;&lt;/option&gt;\").val(\"-1\").html(\"Select District\"));\n                    $.each(msg.d, function () {\n                        $(\"#ddlDistrict\").append($(\"&lt;option&gt;&lt;/option&gt;\").val(this['Value']).html(this['Text']));\n                    });\n                },\n                error: function (xhr) {debugger\n                    alert(xhr.responseText);\n                }\n             });\n         };\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>and alsoe you can do like tis whch is more preferd </p>\n\n<pre><code>$(document).on('change','#ddArea',function(){\n//your code\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6749377, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDpkLemKFde3G7ccSkVw5L82J_IUXDNNGYcuWeukg=k-s128", "display_name": "RUBEN", "link": "https://stackoverflow.com/users/6749377/ruben"}, "is_accepted": false, "score": 0, "last_activity_date": 1594138995, "creation_date": 1594138995, "answer_id": 62779731, "question_id": 49782914, "link": "https://stackoverflow.com/questions/49782914/dorpdownlist-onchange-in-bootstrap-modal-not-working/62779731#62779731", "title": "Dorpdownlist onchange in bootstrap modal not working", "body": "<p>The simplieast way to do so is that</p>\n<p>$('#editModal').on('shown.bs.modal', function () {</p>\n<pre><code>        $(document).on(&quot;change&quot;, &quot;#ddArea&quot;, function (e) {\n\n            var yourvar = this.value;\n\n        });\n</code></pre>\n"}], "owner": {"reputation": 1745, "user_id": 1210350, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/krY4V.jpg?s=128&g=1", "display_name": "NoBullMan", "link": "https://stackoverflow.com/users/1210350/nobullman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2226, "favorite_count": 0, "accepted_answer_id": 49783335, "answer_count": 2, "score": 0, "last_activity_date": 1594138995, "creation_date": 1523474215, "last_edit_date": 1523551875, "question_id": 49782914, "link": "https://stackoverflow.com/questions/49782914/dorpdownlist-onchange-in-bootstrap-modal-not-working", "title": "Dorpdownlist onchange in bootstrap modal not working", "body": "<p>I have a web form (.Net, C#) that has a jQuery data table. Each row has an \"Edit\" link that when clicked opens a Bootstrap modal and populates the controls. I have two drop downs in this modal: Area and District, where District is populated based on selected value of Area. To avoid modal closing on postback when Area is changed, I am trying to make ajax call to populate the District drop down. </p>\n\n<p>Somehow, my onchange function does not get called. Also, i am not sure if entire setup is correct (apparently, not!)</p>\n\n<p>This is what I have (watered down version):</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;asp:UpdatePanel ID=\"upAddEditModal\" runat=\"server\" ChildrenAsTriggers=\"true\" UpdateMode=\"Conditional\"&gt;\n    &lt;ContentTemplate&gt;\n        &lt;div class=\"modal fade\" id=\"editModal\" role=\"dialog\" aria-labelledby=\"editLabel\" aria-hidden=\"true\"&gt;\n            &lt;div class=\"modal-dialog modal-lg fade in ui-draggable\"&gt;\n                &lt;div class=\"modal-content\"&gt;                    \n                    &lt;div class=\"modal-header ui-draggable-handle\"&gt;\n                        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;\u00d7&lt;/button&gt;\n                        &lt;h4 class=\"modal-title\"&gt;&lt;span id=\"spnEditHeader\"&gt;&lt;/span&gt;&lt;/h4&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"modal-body\"&gt; \n                        &lt;div class=\"row\"&gt;               \n                            &lt;div class=\"col-sm-4\"&gt;\n                                &lt;div class=\"form-group\"&gt;\n                                    &lt;label for=\"ddlArea\"&gt;Area&lt;/label&gt;\n                                    &lt;asp:DropDownList runat=\"server\" \n                                        ID=\"ddlArea\" \n                                        ClientIDMode=\"Static\" \n                                        CssClass=\"form-control\" \n                                        DataTextField=\"AreaName\" \n                                        DataValueField=\"AreaID\" \n                                        AppendDataBoundItems=\"true\"&gt;\n                                        &lt;asp:ListItem Text=\"Select Area\" Value=\"-1\" /&gt;\n                                    &lt;/asp:DropDownList&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"col-sm-4\"&gt;\n                                &lt;div class=\"form-group\"&gt;\n                                    &lt;label for=\"ddlDistrict\"&gt;District&lt;/label&gt;\n                                    &lt;asp:DropDownList runat=\"server\" \n                                        ID=\"ddlDistrict\" \n                                        Enabled=\"false\" \n                                        ClientIDMode=\"Static\" \n                                        CssClass=\"form-control\" \n                                        DataTextField=\"DistrictName\" \n                                        DataValueField=\"DistrictID\" \n                                        AppendDataBoundItems=\"true\"&gt;\n                                        &lt;asp:ListItem Text=\"Select District\" Value=\"-1\" /&gt;\n                                    &lt;/asp:DropDownList&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/ContentTemplate&gt;\n&lt;/asp:UpdatePanel&gt;\n\n&lt;script&gt;\n    $(function () {debugger\n    $(\"#ddlArea\").change(function () {\n        var areaID = this.value;\n        populateDistrictDDL(areaID);\n    });\n\n    function populateDistrictDDL(areaID) {debugger\n        $.ajax({\n            type: \"POST\",\n            url: '&lt;%= ResolveUrl(\"services/mpoo.asmx/GetDistrictsByAreaID\") %&gt;',\n            data: areaID,\n            contentType: \"application/json; charset=utf-8\",\n            dataType: \"json\",\n            success: function (msg) {debugger\n                $(\"#ddlDistrict\").empty().append($(\"&lt;option&gt;&lt;/option&gt;\").val(\"-1\").html(\"Select District\"));\n                $.each(msg.d, function () {\n                    $(\"#ddlDistrict\").append($(\"&lt;option&gt;&lt;/option&gt;\").val(this['Value']).html(this['Text']));\n                });\n            },\n            error: function (xhr) {debugger\n                alert(xhr.responseText);\n            }\n         });\n     };\n    };\n&lt;/script&gt;\n\n[WebMethod]\n[ScriptMethod(UseHttpGet = false, ResponseFormat = ResponseFormat.Json)]\n\npublic string GetDistrictsByAreaID(string AreaID)\n{\n    string JSONresult = string.Empty;\n\n    if (string.IsNullOrEmpty(AreaID))\n        return JSONresult;\n\n    DataTable dt = BLL.GetDistrictsByAreaID(int.Parse(AreaID));\n    JSONresult = JsonConvert.SerializeObject(dt);\n    return JSONresult;\n}\n</code></pre>\n\n<p><strong>Solution</strong>: </p>\n\n<p>Following changes are what made the issue to go away. It is partially based on Rahul's suggestion, which I marked as answer.</p>\n\n<pre><code>$(document).on('change', '#ddlArea', function () {\n    var areaID = this.value;\n    populateDistrictDDL(areaID);\n});\n\nfunction populateDistrictDDL(areaID) {\n    $.ajax({\n        type: \"POST\",\n        dataType: \"json\",\n        contentType: \"application/json; charset=utf-8\",\n        url: '&lt;%= ResolveUrl(\"services/mpoo.asmx/GetDistrictsByAreaID\") %&gt;',\n        cache: false,\n        data: JSON.stringify({ \"AreaID\": areaID }), &lt;-- this was changed\n    }).done(function (result) {\n        $(\"#ddlDistrict\").empty().append($(\"&lt;option&gt;&lt;/option&gt;\").val(\"-1\").html(\"Select District\"));\n        jResult = JSON.parse(result.d); &lt;-- this was added\n        $.each(jResult, function (val, txt) {\n            $(\"#ddlDistrict\").append($(\"&lt;option&gt;&lt;/option&gt;\").val(null == txt.DistrictID ? '-1' : txt.DistrictID).html(txt.DistrictName)); &lt;-- this was changed\n        });\n    }).fail(function (jqXHR, textStatus, errorThrown) {\n        var errMsg = textStatus + ' - ' + errorThrown + '... Status: ' + jqXHR.status + \",  ResponseText: \" + jqXHR.responseText;\n    });\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "dependency-injection", "inversion-of-control", "ioc-container"], "comments": [{"owner": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "edited": false, "score": 0, "creation_date": 1523473852, "post_id": 49782697, "comment_id": 86580817, "body": "Maybe some code could turn your scenario cleaner to the community"}, {"owner": {"reputation": 1187, "user_id": 9393635, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a956540dcbaa39914322d6a5e442125?s=128&d=identicon&r=PG&f=1", "display_name": "user9393635", "link": "https://stackoverflow.com/users/9393635/user9393635"}, "reply_to_user": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "edited": false, "score": 0, "creation_date": 1523477689, "post_id": 49782697, "comment_id": 86582880, "body": "@RicardoPontual - I added a dotnetfiddle with sample code to my original post"}], "owner": {"reputation": 1187, "user_id": 9393635, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2a956540dcbaa39914322d6a5e442125?s=128&d=identicon&r=PG&f=1", "display_name": "user9393635", "link": "https://stackoverflow.com/users/9393635/user9393635"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523477656, "creation_date": 1523473481, "last_edit_date": 1523477656, "question_id": 49782697, "link": "https://stackoverflow.com/questions/49782697/how-can-i-structure-an-association-relationship-for-di", "title": "how can I structure an association relationship for di?", "body": "<p>I have a UserRepository and GroupRepository. The UserRepository has a GetUsers(includeGroups) method. The GroupsRepository has a GetGroups(includeUsers) method. Therefore the UserRepository uses the GroupsRepository and the GroupsRepository uses the UserRepository. My application uses MEF for DI but for now I'm just instantiating dependency member variables from the constructors. </p>\n\n<p>The scenario described in the first paragraph above is returning a StackOverflowException b/c each repo keeps instantiating the other.  What are some common design patterns for managing this type relationship scenario?</p>\n\n<p>Sample code here:  <a href=\"https://dotnetfiddle.net/Z03rHw\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/Z03rHw</a></p>\n"}, {"tags": ["c#", "unity3d", "targeting"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9540087"}, "edited": false, "score": 0, "creation_date": 1523485925, "post_id": 49782738, "comment_id": 86586084, "body": "Thanks. Also, how will I detect when target is reached? do I add a function called <code>public void TargetReached()</code>?"}, {"owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "edited": false, "score": 0, "creation_date": 1523486811, "post_id": 49782738, "comment_id": 86586346, "body": "you already have the <code>distance</code> between the transform and your target. pick a value for how close you need to be."}], "tags": [], "owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "is_accepted": false, "score": 0, "last_activity_date": 1523486901, "last_edit_date": 1523486901, "creation_date": 1523473640, "answer_id": 49782738, "question_id": 49782686, "link": "https://stackoverflow.com/questions/49782686/disabling-a-script-once-target-location-is-reached/49782738#49782738", "title": "Disabling a script once target location is reached?", "body": "<p>You need to obtain the gameobject that has the script, get the script on that gameobject, and disable.</p>\n\n<pre><code>if (distance &lt; 1f) // or some distance\n{\n    Gameobject mygo = GameObject.Find(\"GameManager\"); // or some other method to get gameobject.\n    mygo.GetComponent&lt;casting&gt;().enabled = false;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9540087"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558545624, "creation_date": 1523473438, "last_edit_date": 1558545624, "question_id": 49782686, "link": "https://stackoverflow.com/questions/49782686/disabling-a-script-once-target-location-is-reached", "title": "Disabling a script once target location is reached?", "body": "<p>How can I have my enemy disable a script once it reaches target player? I want to reference this script called casting under my GameManager in my code and disable it but I'm unsure how to write the function for when target location is reached.</p>\n\n<pre><code>public float lookRadius = 40f;\n\nTransform target;\nUnityEngine.AI.NavMeshAgent agent;\n\nRigidbody theRigidBody;\n\nvoid Start()\n{\n    target = PlayerManager.instance.player.transform;\n    agent = GetComponent&lt;UnityEngine.AI.NavMeshAgent&gt;();\n}\n\nvoid Update()\n{\n    float distance = Vector3.Distance (target.position, transform.position);\n    if (distance &lt;= lookRadius)\n    {\n        agent.SetDestination (target.position);\n\n        if (distance &lt;= agent.stoppingDistance)\n        {\n            FaceTarget ();\n        }\n    }\n}\n\nvoid FaceTarget()\n{\n    Vector3 direction = (target.position - transform.position).normalized;\n    Quaternion lookRotation = Quaternion.LookRotation (new Vector3 (direction.x, 0, direction.z));\n    transform.rotation = Quaternion.Slerp (transform.rotation, lookRotation, Time.deltaTime * 5f);\n}\n\n\n// Use this for initialization\npublic void OnObjectSpawn ()\n{\n    //myRender = GetComponent&lt;Renderer&gt; ();\n    theRigidBody = GetComponent&lt;Rigidbody&gt;();\n}\n\nvoid OnDrawGizmosSelected()\n{\n    Gizmos.color = Color.red;\n    Gizmos.DrawWireSphere (transform.position, lookRadius);\n}\n</code></pre>\n"}, {"tags": ["c#", "textbox", "listbox", "tryparse"], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 6566463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jh12y.jpg?s=128&g=1", "display_name": "Sinil", "link": "https://stackoverflow.com/users/6566463/sinil"}, "is_accepted": false, "score": 0, "last_activity_date": 1523474596, "creation_date": 1523474596, "answer_id": 49782998, "question_id": 49782676, "link": "https://stackoverflow.com/questions/49782676/update-listbox-output-with-a-textbox/49782998#49782998", "title": "Update listbox output with a textbox", "body": "<p>You could use</p>\n\n<pre><code>else if (!qtySoldTextBox.Text == decimal.TryParse(qtySoldTextBox.Text))\n</code></pre>\n\n<p>on your first else if, and then </p>\n\n<pre><code>else if (qtySoldTextBox.Text == decimal.TryParse(qtySoldTextBox.Text))\n</code></pre>\n\n<p>on the second one.\nThe first hits true if it doesn't parse. You can update the quantity if you get true the second time.\nThen just update your messages to reflect what happened.</p>\n"}], "owner": {"reputation": 3, "user_id": 9610673, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyBR7.jpg?s=128&g=1", "display_name": "wake", "link": "https://stackoverflow.com/users/9610673/wake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523474596, "creation_date": 1523473391, "question_id": 49782676, "link": "https://stackoverflow.com/questions/49782676/update-listbox-output-with-a-textbox", "title": "Update listbox output with a textbox", "body": "<p>I'm trying to update a listbox output of a .csv file using a textbox + button. I'm supposed to use TryParse for updating the \"quantity\" of a selected item in the listbox. I'm not really sure how to implement the TryParse and update the \"quantity\" value in the listbox.</p>\n\n<p>This is currently what I have coded for the button:</p>\n\n<pre><code>decimal value1;\n    private void updateSoldQtyButton_Click(object sender, EventArgs e)\n    {\n        if (this.outputListBox.SelectedIndex == -1) //checks if an item in the listbox has been selected\n        {\n            MessageBox.Show(\"Please selected an inventory item to increment sold qty\");\n        } else if (qtySoldTextBox.Text == \"\")\n        {\n            MessageBox.Show(\"Please input a numerical value in the corresponding text box\");\n        } else if (!decimal.TryParse(qtySoldTextBox.Text, out value1))\n        {\n\n        }\n    }\n</code></pre>\n\n<p>Here's how the .csv is being loaded into the listbox:</p>\n\n<pre><code>private void InvLoad(Inventory InventoryItems) //method\n    {\n        OpenFileDialog file = new OpenFileDialog();\n        if (file.ShowDialog() == DialogResult.OK)\n        {\n            try //try catch\n            {\n                List&lt;Inventory&gt; InventoryList = new List&lt;Inventory&gt;();\n                StreamReader ipFile = File.OpenText(\"inventory_ip.csv\"); //input file is the csv\n                outputListBox.Items.Clear(); //clear listbox\n                ipFile.ReadLine(); //skips the first line\n                while (!ipFile.EndOfStream)\n                {\n                    string[] items; //tokenize\n                    string itemz = ipFile.ReadLine();\n                    items = itemz.Split(','); //, splits the text into columns\n                    Inventory InvList = new Inventory();\n                    //fields\n                    InvList.ID = items[0];\n                    InvList.ItemName = items[1];\n                    InvList.StartingQty = int.Parse(items[2]);\n                    InvList.MinRestockQty = int.Parse(items[3]);\n                    InvList.SoldQty = int.Parse(items[4]);\n                    InvList.RestockedQty = int.Parse(items[5]);\n                    InvList.UnitPrice = decimal.Parse(items[6]);\n                    //formatted string\n                    string invOp = InvList.ID.PadRight(12, ' ') + \n                            InvList.ItemName.PadRight(23, ' ') + \n                            InvList.StartingQty.ToString().PadRight(10, ' ') + \n                            InvList.MinRestockQty.ToString().PadRight(10, ' ') + \n                            InvList.SoldQty.ToString().PadRight(10, ' ') + \n                            InvList.RestockedQty.ToString().PadRight(10, ' ') + \n                            InvList.UnitPrice.ToString(\"c\").PadRight(10, ' ');\n                    InventoryList.Add(InvList);\n                    outputListBox.Items.Add(invOp); //output string invOP to listbox\n                }\n            } catch (Exception ex)\n            {\n                MessageBox.Show(ex.Message); //exception msg\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "itext"], "comments": [{"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 0, "creation_date": 1523515213, "post_id": 49782657, "comment_id": 86594114, "body": "iText 5.5.x can easily create accessible documents if you allow iText to create the layout (that is: if you use <code>document.add(table);</code>) but you decided to take care of the layout yourself (you write to the <code>PdfContentByte</code>). That makes it extremely difficult to introduce accessibility. Actually: we decided that it was so difficult that we decided to rewrite iText from scratch with iText 7 as result. So the real question is: why are you using iText 5 instead of iText 7?"}, {"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 0, "creation_date": 1523515450, "post_id": 49782657, "comment_id": 86594254, "body": "The architecture of iText 5 dates from 2000. PDF/UA (the accessibility standard) dates from 2012. When the iText 5 architecture was created (by me), I had no idea that I would ever have to support accessibiliy (nor Tagged PDF for that matter) and when the need arose, accessibilty was bolted onto the old architecture. That worked, but we regretted some architectural choices made in the past. We hesitated to rewrite iText from scratch because it was a huge investment, but in the end we decided that it was needed, so we spent a lot of time and money on that project."}, {"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 0, "creation_date": 1523515705, "post_id": 49782657, "comment_id": 86594398, "body": "These are things you should consider when using iText. If you are not paying for your use of iText, know that a lot of money went into building a better product. Please don&#39;t complain saying &quot;but I already spent a lot of time on iText 5!&quot; We have spent more time and money on iText 7. Also be aware that both iText 5 and iText 7 are licensed as AGPL software, which means that there are some restrictions. If you intend to use iText in a closed source project, you&#39;ll have to purchase a commercial license. That is how we fund our development. I hope you understand."}], "owner": {"reputation": 1074, "user_id": 1391692, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea5f6478c5ec3457dd552d8888e5be65?s=128&d=identicon&r=PG", "display_name": "De Vonte", "link": "https://stackoverflow.com/users/1391692/de-vonte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523473316, "creation_date": 1523473316, "question_id": 49782657, "link": "https://stackoverflow.com/questions/49782657/resolve-accessbility-issues-in-itextsharp", "title": "Resolve accessbility issues in ITextSharp", "body": "<p>How to create tables using iText which are as per accessibility guidelines?</p>\n\n<p>I have certain tables created using iText 5 in c# and I have the following accessibility issues to address in them.</p>\n\n<pre><code>TR must be a child of Table, THead, TBody, or TFoot\n</code></pre>\n\n<p>The code that I am using:</p>\n\n<pre><code>table.writeSelectedRows(0,-1,omit,omit,writer.directContent);\n</code></pre>\n\n<p>When I do this it generates a tr tag and not a a table.\nI have already tried the solution below but no luck.</p>\n\n<pre><code>PdfContentByte canvas = writer.getDirectContent();\ncanvas.beginMarkedContentSequence(PdfName.ARTIFACT);\ntable.writeSelectedRows(0, -1, 36, 30, canvas);\ncanvas.endMarkedContentSequence();\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net"], "comments": [{"owner": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 2, "creation_date": 1523472032, "post_id": 49782282, "comment_id": 86579873, "body": "what have you tried so far, and where are you stuck?"}, {"owner": {"reputation": 261, "user_id": 9598407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3bd4cf7477a39b7311f6c87d90077f?s=128&d=identicon&r=PG&f=1", "display_name": "Erbez", "link": "https://stackoverflow.com/users/9598407/erbez"}, "reply_to_user": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1523472916, "post_id": 49782282, "comment_id": 86580358, "body": "I will upload what i have tried in a moment. What I&#39;m asking is to update the label when i change text instead of pushing a calculate button"}, {"owner": {"reputation": 261, "user_id": 9598407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3bd4cf7477a39b7311f6c87d90077f?s=128&d=identicon&r=PG&f=1", "display_name": "Erbez", "link": "https://stackoverflow.com/users/9598407/erbez"}, "reply_to_user": {"reputation": 1223, "user_id": 2366842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db1f21d133e897903c931feb815012b?s=128&d=identicon&r=PG", "display_name": "user2366842", "link": "https://stackoverflow.com/users/2366842/user2366842"}, "edited": false, "score": 0, "creation_date": 1523473184, "post_id": 49782282, "comment_id": 86580489, "body": "@user2366842 updated"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1523481305, "post_id": 49782282, "comment_id": 86584509, "body": "Good update to your question. Can you explain what the <code>Calculate()</code> function isn&#39;t doing that you expect it should be doing? Or what error it&#39;s giving?"}, {"owner": {"reputation": 261, "user_id": 9598407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3bd4cf7477a39b7311f6c87d90077f?s=128&d=identicon&r=PG&f=1", "display_name": "Erbez", "link": "https://stackoverflow.com/users/9598407/erbez"}, "reply_to_user": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1523548654, "post_id": 49782282, "comment_id": 86616820, "body": "@PaulHicks Thank you, the function works fine if I click the button but i want the calculate function to be called when the user changes the number in input 1, 2 or 3 instead of clicking the button."}], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 4814985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/da49c6940b546beef0d041c461ecb990?s=128&d=identicon&r=PG&f=1", "display_name": "Cleaven", "link": "https://stackoverflow.com/users/4814985/cleaven"}, "is_accepted": true, "score": 1, "last_activity_date": 1523548789, "creation_date": 1523548789, "answer_id": 49801109, "question_id": 49782282, "link": "https://stackoverflow.com/questions/49782282/adding-input-fields-together-and-displaying-in-a-label/49801109#49801109", "title": "Adding input fields together and displaying in a label", "body": "<p>You need to use the <code>onchange</code>event in your input fields properties.</p>\n\n<p>You can then point your <code>onchange</code>event to your calculate method.</p>\n\n<p>Also, add default values of \"0\" in your input fields so that it will always have a value to add and this will prevent errors.</p>\n\n<pre><code>&lt;input type=\"number\" name=\"fnum\" size=\"35\" id=\"first\" onchange=\"Calculate();\" value=\"0\"/&gt;\n+ Second Number:\n&lt;input type=\"number\" name=\"snum\" size=\"35\" id=\"second\" onchange=\"Calculate();\" value=\"0\"/&gt;\n+ Third Number:\n&lt;input type=\"number\" name=\"lom\" size=\"35\" id=\"third\" onchange=\"Calculate();\" value=\"0\"/&gt;\n&lt;br /&gt;\nAnswer:\n&lt;input type=\"text\" name=\"ans\" size=\"35\" id=\"ans\" /&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>&lt;script lang=\"javascript\"&gt;\n    function Calculate() {\n        if (document.getElementById('first')) {\n            var first = document.getElementById('first').value;\n        }\n        else {\n            var first = 0;\n        }\n        if (document.getElementById('second'))\n        {\n            var second = document.getElementById('second').value; \n        }\n        else\n        {\n            var second = 0; \n        }\n        if (document.getElementById('third'))\n        {\n            var third = document.getElementById('third').value; \n        }\n        else\n        {\n            var third = 0; \n        }        \n        document.getElementById('ans').value = parseInt(first) + parseInt(second) + parseInt(third);\n        document.form1.submit();\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 261, "user_id": 9598407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3bd4cf7477a39b7311f6c87d90077f?s=128&d=identicon&r=PG&f=1", "display_name": "Erbez", "link": "https://stackoverflow.com/users/9598407/erbez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 49801109, "answer_count": 1, "score": 1, "last_activity_date": 1523548789, "creation_date": 1523471922, "last_edit_date": 1523473172, "question_id": 49782282, "link": "https://stackoverflow.com/questions/49782282/adding-input-fields-together-and-displaying-in-a-label", "title": "Adding input fields together and displaying in a label", "body": "<p>I'm writing a program to add tests, exams, practicals, assignments to  a module.</p>\n\n<p>With regards to the course weighting I was wondering if you could dynamically change the value of the total weighting when a user enters a weighting per task.</p>\n\n<p>Like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sd0wK.png\" rel=\"nofollow noreferrer\">Problem</a></p>\n\n<p>The inputs in the red rectangle should be added up and displayed in the blue rectangles label.\nIn turn, the blue rectangle should be added up and displayed in the green rectangles label.</p>\n\n<p>Any help will be appreciated please</p>\n\n<p>I have tried this so far:</p>\n\n<pre><code>&lt;form name=\"Calcultor\" Method=\"Get\" id='form1'&gt;First Number:\n&lt;input type=\"text\" name=\"fnum\" size=\"35\" id=\"first\"&gt;\n+ Second Number:\n&lt;input type=\"text\" name=\"snum\" size=\"35\" id=\"sec\"&gt;\n+ Third Number:\n&lt;input type=\"text\" name=\"lom\" size=\"35\" id=\"third3\"&gt;\n&lt;br&gt;\n&lt;br&gt;Answer:\n&lt;input type=\"text\" name=\"ans\" size=\"35\" id=\"ans\" /&gt;\n&lt;button type=\"button\" onclick=\"Calculate();\"&gt;Calculate&lt;/button&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;script lang=\"javascript\"&gt;\nfunction Calculate() {\n    var first = document.getElementById('first').value;\n    if(document.getElementById('sec'))\n    {\n        var last = document.getElementById('sec').value; \n    }\n    else\n    {\n        var last = 0; \n    }\n    if(document.getElementById('third'))\n    {\n        var third = document.getElementById('third').value; \n    }\n    else\n    {\n        var third = 0; \n    }        \n    document.getElementById('ans').value = parseInt(first) + parseInt(last) + parseInt(third);\n    document.form1.submit();\n}\n</code></pre>\n\n<p></p>\n\n<p><a href=\"https://jsfiddle.net/www1fxjb/9/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/www1fxjb/9/</a></p>\n\n<p>What I am asking is to change the label as soon as the numbers change in the input fields.</p>\n"}, {"tags": ["c#", "unity3d", "exception"], "answers": [{"tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1523472468, "creation_date": 1523472468, "answer_id": 49782445, "question_id": 49782186, "link": "https://stackoverflow.com/questions/49782186/addressing-transform-child-out-of-bounds-exception/49782445#49782445", "title": "Addressing &#39;Transform child out of bounds&#39; exception", "body": "<p>You are getting this because the GameObject passed to the <code>OnTriggerEnter2D</code> function <code>col.transform</code> doesn't have a child. You can fix that by checking if <code>col.transform.childCount &gt; 0</code> before calling <code>col.transform.GetChild(0)</code>.</p>\n\n<pre><code>void OnTriggerEnter2D(Collider2D col)\n{\n    if (col.gameObject.activeSelf == true)\n    {\n        if (col.transform.childCount &gt; 0 &amp;&amp; col.transform.GetChild(0) != null)\n        {\n            col.transform.GetChild(0).gameObject.SetActive(true);\n        }\n        else\n        {\n            Debug.Log(\"No child\");\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>If you are 100% sure that this Object has a child then there is another GameObject that is being detected that doesn't have a child. You must filter this GameObject out by <em>tag</em> or <em>layer</em> before calling <code>col.transform.GetChild(0)</code>. Create a tag named \"Ball\" set the Objects you want to detect to this tag. Make sure that the this \"Ball\" object has a child. The code below should check for that tag and should get ride of that error. </p>\n\n<pre><code>void OnTriggerEnter2D(Collider2D col)\n{\n    if (col.CompareTag(\"Ball\"))\n    {\n        if (col.gameObject.activeSelf == true)\n        {\n            if (col.transform.GetChild(0) != null)\n            {\n                col.transform.GetChild(0).gameObject.SetActive(true);\n            }\n            else\n            {\n                Debug.Log(\"No child\");\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9632283, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qaARIeGjcfo/AAAAAAAAAAI/AAAAAAAAAA4/ttfjCGBkTVw/photo.jpg?sz=128", "display_name": "Roy", "link": "https://stackoverflow.com/users/9632283/roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523479802, "creation_date": 1523471528, "last_edit_date": 1523479802, "question_id": 49782186, "link": "https://stackoverflow.com/questions/49782186/addressing-transform-child-out-of-bounds-exception", "title": "Addressing &#39;Transform child out of bounds&#39; exception", "body": "<p>I'm going to set the child <code>GameObject</code>'s <code>SetActive</code> to true when the parent <code>GameObject</code> is triggered.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CwhLc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CwhLc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Like this picture, <code>BallIndigo1</code> is the parent <code>GameoOject</code> and <code>x</code> is the child <code>GameObject</code> which is in <code>SetActive(false)</code>.</p>\n\n<p>and I wrote code like this:</p>\n\n<pre><code>void OnTriggerEnter2D(Collider2D col)\n{\n    if (col.gameObject.activeSelf == true)\n    {\n        if (col.transform.GetChild(0) != null)\n        {\n            col.transform.GetChild(0).gameObject.SetActive(true);\n        }\n        else\n        {\n            Debug.Log(\"No child\");\n        }\n    }\n}\n</code></pre>\n\n<p>But the result says:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QcKop.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QcKop.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't know why this happened and how to fix it.</p>\n"}, {"tags": ["c#", "unit-testing", "mocking"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1523472486, "post_id": 49782080, "comment_id": 86580124, "body": "Without doing some kind of code-weaving using Rosyln or Cecil, I&#39;m not so sure that this is a simple task."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1523473080, "post_id": 49782080, "comment_id": 86580437, "body": "Typically you&#39;d change it to pass in a Factory to create the <code>ClassB</code> for you and mock both the factory and the returned value, but if you cannot change the code then you&#39;re pretty much left with not mocking it (which is not necessarily a bad thing depending on what it does) or as Ron mentioned doing some complicated stuff.  And honestly is adding complexity to code just to mock something out for unit tests worth it?  The answer is not always &quot;Yes&quot;."}, {"owner": {"reputation": 91, "user_id": 1672020, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/de7aa4c46dccd24c75e8df0b0b6980b1?s=128&d=identicon&r=PG", "display_name": "Dave Matney", "link": "https://stackoverflow.com/users/1672020/dave-matney"}, "edited": false, "score": 0, "creation_date": 1523478240, "post_id": 49782080, "comment_id": 86583174, "body": "Thanks, guys.  After some refactoring, and removing the using statement entirely, I was able to get the method to be testable.  :)"}], "owner": {"reputation": 91, "user_id": 1672020, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/de7aa4c46dccd24c75e8df0b0b6980b1?s=128&d=identicon&r=PG", "display_name": "Dave Matney", "link": "https://stackoverflow.com/users/1672020/dave-matney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523472187, "creation_date": 1523471124, "last_edit_date": 1523472187, "question_id": 49782080, "link": "https://stackoverflow.com/questions/49782080/how-to-mock-object-inside-using-statement-inside-static-class", "title": "How to mock object inside using statement, inside static class?", "body": "<pre><code>public static class ClassA\n{\n     public static void MethodA()\n     {\n          using(var classB = new ClassB())\n          {\n               classB.DoSomething();\n          }\n     }\n}\n</code></pre>\n\n<p>I have been tasked with refactoring some really old unit tests that hit the DB, and really don't need to... Also, I've been asked to avoid touching the tested code if at all possible.  In one of them, I have the above situation...</p>\n\n<p>How can I mock (or replace outright, such as <code>type.GetField(\"classB\").SetValue</code> ) either classB or ClassB?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "mongodb", "unit-testing", "nsubstitute"], "comments": [{"owner": {"reputation": 8768, "user_id": 906, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1390df8051dd4455a02939d2ec3c6d55?s=128&d=identicon&r=PG", "display_name": "David Tchepak", "link": "https://stackoverflow.com/users/906/david-tchepak"}, "edited": false, "score": 1, "creation_date": 1523490580, "post_id": 49782050, "comment_id": 86587306, "body": "Can you please post the signature of <code>IFindFluent.FirstOrDefaultAsync</code>? Or is it an extension method?"}, {"owner": {"reputation": 101, "user_id": 3310010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eda65eeef591451e85d81f264df94d7?s=128&d=identicon&r=PG", "display_name": "strongwind", "link": "https://stackoverflow.com/users/3310010/strongwind"}, "reply_to_user": {"reputation": 8768, "user_id": 906, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1390df8051dd4455a02939d2ec3c6d55?s=128&d=identicon&r=PG", "display_name": "David Tchepak", "link": "https://stackoverflow.com/users/906/david-tchepak"}, "edited": false, "score": 0, "creation_date": 1523539132, "post_id": 49782050, "comment_id": 86609771, "body": "As CodeFuller noted on answer below, it is an extension method. Did not know that I could not mock it directly."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 3310010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eda65eeef591451e85d81f264df94d7?s=128&d=identicon&r=PG", "display_name": "strongwind", "link": "https://stackoverflow.com/users/3310010/strongwind"}, "edited": false, "score": 0, "creation_date": 1523539044, "post_id": 49789536, "comment_id": 86609700, "body": "An awesome explanation and a really complete answer. Thank you so much!"}, {"owner": {"reputation": 8768, "user_id": 906, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1390df8051dd4455a02939d2ec3c6d55?s=128&d=identicon&r=PG", "display_name": "David Tchepak", "link": "https://stackoverflow.com/users/906/david-tchepak"}, "edited": false, "score": 0, "creation_date": 1523577248, "post_id": 49789536, "comment_id": 86629680, "body": "This is an excellent answer, but I think it is also worth mentioning the risk of this approach -- this test will be very brittle if any of the extension implementations change (unless this is what we&#39;re trying to test for?). It might be worth wrapping this function behind a testable interface the author has full control over and can be confident mocking, and then test the actual implementation in a more realistic scenario (i.e. with no mocking)."}], "tags": [], "owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "is_accepted": true, "score": 5, "last_activity_date": 1523514769, "creation_date": 1523514769, "answer_id": 49789536, "question_id": 49782050, "link": "https://stackoverflow.com/questions/49782050/nsubstitute-mocking-mongo-ifindfluent-does-not-work/49789536#49789536", "title": "NSubstitute mocking Mongo IFindFluent does not work", "body": "<p><code>FirstOrDefaultAsync</code> is an extension method for <code>IFindFluent&lt;TDocument, TProjection&gt;</code>. Unfortunately, NSubstitute <a href=\"https://stackoverflow.com/questions/28693698/nsubstitute-mock-extension-method\">does not support</a> mocking of extension methods.</p>\n\n<p>However it does not mean you can't develop proper UT in this case. Extension methods for interfaces eventually call some method(s) of those interfaces. So the common workaround for this problem is to check what interface methods are actually called and mock them, instead of mocking whole extension method.</p>\n\n<p><code>IFindFluentExtensions.FirstOrDefaultAsync()</code> is <a href=\"https://github.com/mongodb/mongo-csharp-driver/blob/master/src/MongoDB.Driver/IFindFluentExtensions.cs\" rel=\"noreferrer\">defined as</a>:</p>\n\n<pre><code>public static Task&lt;TProjection&gt; FirstOrDefaultAsync&lt;TDocument, TProjection&gt;(this IFindFluent&lt;TDocument, TProjection&gt; find, CancellationToken cancellationToken = default(CancellationToken))\n{\n    Ensure.IsNotNull(find, nameof(find));\n\n    return IAsyncCursorSourceExtensions.FirstOrDefaultAsync(find.Limit(1), cancellationToken);\n}\n</code></pre>\n\n<p>Now you see that you should mock <code>IFindFluent&lt;TDocument, TProjection&gt;.Limit(int? limit)</code> method and dig into <code>IAsyncCursorSourceExtensions.FirstOrDefaultAsync()</code> extension method.</p>\n\n<p><code>IAsyncCursorSourceExtensions.FirstOrDefaultAsync</code> is <a href=\"https://github.com/mongodb/mongo-csharp-driver/blob/master/src/MongoDB.Driver.Core/IAsyncCursorSource.cs\" rel=\"noreferrer\">defined as</a>:</p>\n\n<pre><code>public static async Task&lt;TDocument&gt; FirstOrDefaultAsync&lt;TDocument&gt;(this IAsyncCursorSource&lt;TDocument&gt; source, CancellationToken cancellationToken = default(CancellationToken))\n{\n    using (var cursor = await source.ToCursorAsync(cancellationToken).ConfigureAwait(false))\n    {\n        return await cursor.FirstOrDefaultAsync(cancellationToken).ConfigureAwait(false);\n    }\n}\n</code></pre>\n\n<p>So you need to mock <code>IAsyncCursorSource&lt;TDocument&gt;.ToCursorAsync()</code> and check <code>IAsyncCursorExtensions.FirstOrDefaultAsync()</code> extension method.</p>\n\n<p><code>IAsyncCursorExtensions.FirstOrDefaultAsync()</code> is <a href=\"https://github.com/mongodb/mongo-csharp-driver/blob/master/src/MongoDB.Driver.Core/IAsyncCursor.cs\" rel=\"noreferrer\">defined as</a>:</p>\n\n<pre><code>public static async Task&lt;TDocument&gt; FirstOrDefaultAsync&lt;TDocument&gt;(this IAsyncCursor&lt;TDocument&gt; cursor, CancellationToken cancellationToken = default(CancellationToken))\n{\n    using (cursor)\n    {\n        var batch = await GetFirstBatchAsync(cursor, cancellationToken).ConfigureAwait(false);\n        return batch.FirstOrDefault();\n    }\n}\n</code></pre>\n\n<p>So the last method to analyze is <code>IAsyncCursorExtensions.GetFirstBatchAsync()</code>, which is <a href=\"https://github.com/mongodb/mongo-csharp-driver/blob/master/src/MongoDB.Driver.Core/IAsyncCursor.cs\" rel=\"noreferrer\">defined as</a>:</p>\n\n<pre><code>private static async Task&lt;IEnumerable&lt;TDocument&gt;&gt; GetFirstBatchAsync&lt;TDocument&gt;(IAsyncCursor&lt;TDocument&gt; cursor, CancellationToken cancellationToken)\n{\n    if (await cursor.MoveNextAsync(cancellationToken).ConfigureAwait(false))\n    {\n        return cursor.Current;\n    }\n    else\n    {\n        return Enumerable.Empty&lt;TDocument&gt;();\n    }\n}\n</code></pre>\n\n<p>Here we see that we should also mock <code>IAsyncCursor.MoveNextAsync()</code> and <code>IAsyncCursor.Current</code>.</p>\n\n<p>Here is the test method that mocks all discovered calls:</p>\n\n<pre><code>[Fact]\npublic void TestMethod()\n{\n    var cursorMock = Substitute.For&lt;IAsyncCursor&lt;string&gt;&gt;();\n    cursorMock.MoveNextAsync().Returns(Task.FromResult(true), Task.FromResult(false));\n    cursorMock.Current.Returns(new[] { \"asd\" });\n\n    var ff = Substitute.For&lt;IFindFluent&lt;string, string&gt;&gt;();\n    ff.ToCursorAsync().Returns(Task.FromResult(cursorMock));\n    ff.Limit(1).Returns(ff);\n\n    var result = ff.FirstOrDefaultAsync().Result;\n    Assert.AreEqual(\"asd\", result);\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 3310010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4eda65eeef591451e85d81f264df94d7?s=128&d=identicon&r=PG", "display_name": "strongwind", "link": "https://stackoverflow.com/users/3310010/strongwind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1412, "favorite_count": 1, "accepted_answer_id": 49789536, "answer_count": 1, "score": 1, "last_activity_date": 1523514769, "creation_date": 1523471021, "question_id": 49782050, "link": "https://stackoverflow.com/questions/49782050/nsubstitute-mocking-mongo-ifindfluent-does-not-work", "title": "NSubstitute mocking Mongo IFindFluent does not work", "body": "<p>I was doing dome unit tests around my repository, until I got a strange error. Searched around to see if I was not making known mistakes, I could simplify it and notice that I am getting the same error.\nLooks like I cannot mock IFindFluent interface properly, and I would like to know what I am doing wrong. This test:</p>\n\n<pre><code>    [Fact]\n    public void Test()\n    {\n        var ff = Substitute.For&lt;IFindFluent&lt;string, string&gt;&gt;();\n        ff.FirstOrDefaultAsync().Returns(\"asd\");\n    }\n</code></pre>\n\n<p>is returning this error message:</p>\n\n<blockquote>\n  <p>NSubstitute.Exceptions.CouldNotSetReturnDueToTypeMismatchException :\n  Can not return value of type Task`1 for IDisposable.Dispose (expected\n  type Void).</p>\n  \n  <p>Make sure you called Returns() after calling your substitute (for\n  example: mySub.SomeMethod().Returns(value)), and that you are not\n  configuring other substitutes within Returns() (for example, avoid\n  this: mySub.SomeMethod().Returns(ConfigOtherSub())).</p>\n  \n  <p>If you substituted for a class rather than an interface, check that\n  the call to your substitute was on a virtual/abstract member. Return\n  values cannot be configured for non-virtual/non-abstract members.</p>\n  \n  <p>Correct use:\n      mySub.SomeMethod().Returns(returnValue);</p>\n  \n  <p>Potentially problematic use:\n      mySub.SomeMethod().Returns(ConfigOtherSub()); Instead try:\n      var returnValue = ConfigOtherSub();\n      mySub.SomeMethod().Returns(returnValue);</p>\n  \n  <p>at\n  NSubstitute.Core.ConfigureCall.CheckResultIsCompatibleWithCall(IReturn\n  valueToReturn, ICallSpecification spec)    at\n  NSubstitute.Core.ConfigureCall.SetResultForLastCall(IReturn\n  valueToReturn, MatchArgs matchArgs)    at\n  NSubstitute.Core.SubstitutionContext.LastCallShouldReturn(IReturn\n  value, MatchArgs matchArgs)    at\n  CorporateActions.Tests.Persistence.RepositoryTests.Test()</p>\n</blockquote>\n\n<p>I've searched around, but most common mistakes about it does not fit with this simple implementation. Any thoughts why does this not work?</p>\n"}, {"tags": ["c#", "inheritance", "recursion"], "answers": [{"comments": [{"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1523472501, "post_id": 49782444, "comment_id": 86580135, "body": "Ahh, I see what hes going for. Deleting my answer"}], "tags": [], "owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "is_accepted": false, "score": 3, "last_activity_date": 1523472824, "last_edit_date": 1523472824, "creation_date": 1523472466, "answer_id": 49782444, "question_id": 49782044, "link": "https://stackoverflow.com/questions/49782044/how-to-recursively-assign-a-property/49782444#49782444", "title": "How to recursively assign a property?", "body": "<p>You might be looking for something like:</p>\n\n<pre><code>private void AssignParentGroup(Group groupElement, Group parentGroup)\n{\n    // the groupElement has always a ParentGroup property. assign it.\n    groupElement.ParentGroup = parentGroup;\n\n    // if the class is a GroupB, then is has subGroups. Pass the groupElement as parent.\n    if(groupElement is GroupB groupB)\n        foreach(var subGroup in groupB.Groups)\n            AssignParentGroup(subGroup, groupElement);\n}\n</code></pre>\n\n<hr>\n\n<p>Call it like:</p>\n\n<pre><code>AssignParentGroup(someGroup, null);\n</code></pre>\n\n<p>Or make the <code>parentGroup</code> parameter default <code>null</code> for the first call:</p>\n\n<pre><code>private void AssignParentGroup(Group groupElement, Group parentGroup = null)\n</code></pre>\n\n<p>You can extend this code, and check what to do when it is a <code>LeafA</code> class</p>\n"}, {"tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": false, "score": 0, "last_activity_date": 1523472786, "creation_date": 1523472786, "answer_id": 49782528, "question_id": 49782044, "link": "https://stackoverflow.com/questions/49782044/how-to-recursively-assign-a-property/49782528#49782528", "title": "How to recursively assign a property?", "body": "<p>I would solve this problem by implementing the Visitor pattern.</p>\n\n<p>First, I'd add the accept method to my abstract class.</p>\n\n<pre><code>public abstract class Group\n{\n    public Group ParentGroup { get; set; }\n    public abstract void Accept(GroupVisitor visitor);\n}\n</code></pre>\n\n<p>I'd implement the boilerplate for derived classes.</p>\n\n<pre><code>public class LeafA : Group {\n    public override void Accept(GroupVisitor visitor){\n        visitor.Visit(this);\n    }\n}\npublic class GroupB : Group\n{\n    public List&lt;Group&gt; Groups {get;set;}\n    public override void Accept(GroupVisitor visitor) {\n        visitor.Visit(this);\n    }\n}\n</code></pre>\n\n<p>Then implement the group visitor like so:</p>\n\n<pre><code>public class GroupVisitor {\n    private Group _parent;\n    public GroupVisitor(Group parent) {\n        _parent = parent;\n    }\n\n    public void Visit(LeafA leaf) {\n        leaf.ParentGroup = _parent;\n    }\n\n    public void Visit(GroupB group) {\n        group.ParentGroup = _parent;\n        var visitor = new GroupVisitor(group);\n        foreach (var item in group.Groups)\n            item.Accept(visitor);\n\n    }\n}\n</code></pre>\n\n<p>As a result, we can assign the parents to a group hierarchy like so:</p>\n\n<pre><code>var visitor = new GroupVisitor(someGroup.ParentGroup);\nsomeGroup.Accept(visitor);\n</code></pre>\n\n<p>This will handle both the assignment of parents to LeafA as well as GroupB.</p>\n"}], "owner": {"reputation": 75, "user_id": 9443229, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcf379ac36508f8e7554c54f507372be?s=128&d=identicon&r=PG&f=1", "display_name": "JetsYanks08", "link": "https://stackoverflow.com/users/9443229/jetsyanks08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523472824, "creation_date": 1523470982, "question_id": 49782044, "link": "https://stackoverflow.com/questions/49782044/how-to-recursively-assign-a-property", "title": "How to recursively assign a property?", "body": "<p>I have a base, abstract class here:</p>\n\n<pre><code>public abstract class Group\n{  \n  public ParentGroup { get; set; }\n}\n</code></pre>\n\n<p>I have two classes that derive from Group</p>\n\n<pre><code>public class LeafA : Group\npublic class GroupB : Group\n</code></pre>\n\n<p>So both of these classes have access to the ParentGroup property.</p>\n\n<p>I am trying to recursively assign the ParentGroup property for each of these derived classes. The caveat is GroupB has a List component that can hold elements of type Group. </p>\n\n<pre><code>public List&lt;Group&gt; Groups { get; set; }\n</code></pre>\n\n<p>This is the method I am trying to recursively assign the ParentGroup</p>\n\n<pre><code>private void AssignParentGroup(GroupB GroupElement)\n{\n  foreach (Group component in GroupElement.Groups)\n  {\n    if (component is GroupB)\n     {\n       // Recursive call here\n      }\n    }\n  }\n</code></pre>\n\n<p>This is just an example but if my GroupB GroupElement has two elements in the Groups: 1 is GroupB and the other LeafA. GroupB can hold x amount of Groups, so I would like to recursively go through all of these SubGroups and assign the ParentGroup. The ParentGroup would be something like -></p>\n\n<pre><code>GroupB -&gt; Groups -&gt; {Group1, Group2} (ParentGroup = GroupB)\n</code></pre>\n\n<p>Hope this was clear. Please let me know if I can explain.</p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1523472553, "post_id": 49781998, "comment_id": 86580162, "body": "Why do you have spaces, why do you have a list.  You should readjust your Json.  Also, you should use <code>.</code> notation vs brackets to access the object data."}, {"owner": {"reputation": 13, "user_id": 9632247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639f924e90492ac3de07c4e55595366?s=128&d=identicon&r=PG&f=1", "display_name": "Bautistf", "link": "https://stackoverflow.com/users/9632247/bautistf"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1523473535, "post_id": 49781998, "comment_id": 86580664, "body": "Alpha Vantage spits out the JSON so thats why there&#39;s spaces. Idt I can use dot notation because theres spaces."}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1523473600, "post_id": 49781998, "comment_id": 86580694, "body": "If you look closer I bet your spaces are converted into underscores."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9632247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639f924e90492ac3de07c4e55595366?s=128&d=identicon&r=PG&f=1", "display_name": "Bautistf", "link": "https://stackoverflow.com/users/9632247/bautistf"}, "edited": false, "score": 0, "creation_date": 1524507906, "post_id": 49782611, "comment_id": 86991492, "body": "And would I have to do that for each property name?"}, {"owner": {"reputation": 1785, "user_id": 3803452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gGn8F.jpg?s=128&g=1", "display_name": "Kyle B", "link": "https://stackoverflow.com/users/3803452/kyle-b"}, "reply_to_user": {"reputation": 13, "user_id": 9632247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639f924e90492ac3de07c4e55595366?s=128&d=identicon&r=PG&f=1", "display_name": "Bautistf", "link": "https://stackoverflow.com/users/9632247/bautistf"}, "edited": false, "score": 0, "creation_date": 1524508681, "post_id": 49782611, "comment_id": 86991894, "body": "@Bautistf, do you want to read-only from the API or send data back as well?"}, {"owner": {"reputation": 13, "user_id": 9632247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639f924e90492ac3de07c4e55595366?s=128&d=identicon&r=PG&f=1", "display_name": "Bautistf", "link": "https://stackoverflow.com/users/9632247/bautistf"}, "edited": false, "score": 0, "creation_date": 1524509913, "post_id": 49782611, "comment_id": 86992516, "body": "I want to be able to get the exchange rate, convert that to a double then and multiply it with another value"}, {"owner": {"reputation": 1785, "user_id": 3803452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gGn8F.jpg?s=128&g=1", "display_name": "Kyle B", "link": "https://stackoverflow.com/users/3803452/kyle-b"}, "reply_to_user": {"reputation": 13, "user_id": 9632247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639f924e90492ac3de07c4e55595366?s=128&d=identicon&r=PG&f=1", "display_name": "Bautistf", "link": "https://stackoverflow.com/users/9632247/bautistf"}, "edited": false, "score": 0, "creation_date": 1524580027, "post_id": 49782611, "comment_id": 87024681, "body": "@Bautistf, I added another option that will work more dynamically so you don&#39;t have to put [JsonProperty(..)] everywhere.  This solution would be more difficult if you had to send data back to the API but you could make it work."}, {"owner": {"reputation": 13, "user_id": 9632247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639f924e90492ac3de07c4e55595366?s=128&d=identicon&r=PG&f=1", "display_name": "Bautistf", "link": "https://stackoverflow.com/users/9632247/bautistf"}, "edited": false, "score": 0, "creation_date": 1524596311, "post_id": 49782611, "comment_id": 87034552, "body": "would you be able to explain to me the theory behind the code? I am having trouble wrapping my head around it."}], "tags": [], "owner": {"reputation": 1785, "user_id": 3803452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gGn8F.jpg?s=128&g=1", "display_name": "Kyle B", "link": "https://stackoverflow.com/users/3803452/kyle-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1524606401, "last_edit_date": 1524606401, "creation_date": 1523473129, "answer_id": 49782611, "question_id": 49781998, "link": "https://stackoverflow.com/questions/49781998/json-parsing-and-error-in-c/49782611#49782611", "title": "JSON Parsing and Error in C#", "body": "<p>Try creating an object to serialize to and <strong>use the JsonProperty attribute to map the json properties to the C# properties</strong>:</p>\n\n<pre><code>public class RealtimeCurrencyExchangeRate \n{\n  [JsonProperty(\"1. From_Currency Code\")]\n  public string CurrencyCode { get; set; }\n}\n</code></pre>\n\n<p>Then use the correct type when deserializing.</p>\n\n<pre><code>var obj = JsonConvert.DeserializeObject&lt;RealtimeCurrencyExchangeRate &gt;(json);\n</code></pre>\n\n<p>References:</p>\n\n<p>Spaces handling: <a href=\"https://stackoverflow.com/questions/23183238/deserializing-json-when-fieldnames-contain-spaces\">Deserializing JSON when fieldnames contain spaces</a></p>\n\n<p>DeserializeObject: <a href=\"https://www.newtonsoft.com/json/help/html/DeserializeObject.htm\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com/json/help/html/DeserializeObject.htm</a></p>\n\n<hr>\n\n<p>Or, if you want to dynamically read the properties, you can <strong>create a custom contract resolver</strong>:</p>\n\n<pre><code>public class AlphaVantageApiContractResolver : DefaultContractResolver\n{\n    protected override string ResolvePropertyName(string propertyName)\n    {\n        // derive the C#property name from the JSON property name\n        var cSharpPropertyName = propertyName; \n        // Remove all periods from the C#property name \n        cSharpPropertyName = cSharpPropertyName.Replace(\".\", \"\");\n        // replace all spaces with underscores\n        cSharpPropertyName = cSharpPropertyName .Replace(\" \", \"_\");\n\n        // The value you return should map to the exact C# property name in your class so you need to create classes to map to.\n        return cSharpPropertyName; \n    }\n}\n</code></pre>\n\n<p>and use this while deserializing:</p>\n\n<pre><code>var jsonSettings = new JsonSerializerSettings();\njsonSettings.ContractResolver = new AlphaVantageApiContractResolver();\n\nvar obj = JsonConvert.DeserializeObject&lt;MyClass&gt;(json, jsonSettings);\n</code></pre>\n\n<p><a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Serialization_DefaultContractResolver.htm#\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Serialization_DefaultContractResolver.htm#</a>!</p>\n\n<p>You will still have to create classes that map to the objects but now you don't have to worry about the JsonProperty attribute on every property.  Just remember to remove periods and replace spaces with underscores in your C# property names.  You will also have to write some code to remove numbers at the beginning of property names because this isn't allowed in C#.</p>\n\n<hr>\n\n<p>If you can't pre-define your classes, you will need to deserialize anonymous objects and work with that.</p>\n"}, {"comments": [{"owner": {"reputation": 1785, "user_id": 3803452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gGn8F.jpg?s=128&g=1", "display_name": "Kyle B", "link": "https://stackoverflow.com/users/3803452/kyle-b"}, "edited": false, "score": 0, "creation_date": 1523532827, "post_id": 49782708, "comment_id": 86605105, "body": "I don&#39;t think he has any control over that API"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "reply_to_user": {"reputation": 1785, "user_id": 3803452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gGn8F.jpg?s=128&g=1", "display_name": "Kyle B", "link": "https://stackoverflow.com/users/3803452/kyle-b"}, "edited": false, "score": 0, "creation_date": 1523546289, "post_id": 49782708, "comment_id": 86615195, "body": "That is a bummer, cause it is horrible"}], "tags": [], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "is_accepted": false, "score": 0, "last_activity_date": 1523473524, "creation_date": 1523473524, "answer_id": 49782708, "question_id": 49781998, "link": "https://stackoverflow.com/questions/49781998/json-parsing-and-error-in-c/49782708#49782708", "title": "JSON Parsing and Error in C#", "body": "<p>Your issue more than likely stems from your JSON.  Though your JSON is valid, you violate a couple of principals which may be affecting the binder.</p>\n\n<ol>\n<li>You have spaces for your property name, which are often translated into underscores.</li>\n<li>You have a period in your property name, this also may interfere with the dot notation.</li>\n</ol>\n\n<p>You could do the approach recommended by Kyle to bind.  If you would like to use dynamic, then you could fix the above, then do the following syntax.</p>\n\n<pre><code>dynamic json = JsonConvert.Deserialize&lt;object&gt;(...);\nvar value = json.realTimeCurrencyExchangeRate.fromCurrencyCode;\n</code></pre>\n\n<p>The C# binder doesn't like a period when you utilize dot notation and spaces, when they're translated with underscores.  So you could use your space, but the translation may be different.  You would need to look closer at your object.</p>\n"}], "owner": {"reputation": 13, "user_id": 9632247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639f924e90492ac3de07c4e55595366?s=128&d=identicon&r=PG&f=1", "display_name": "Bautistf", "link": "https://stackoverflow.com/users/9632247/bautistf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 49782611, "answer_count": 2, "score": 1, "last_activity_date": 1524606401, "creation_date": 1523470825, "last_edit_date": 1523470909, "question_id": 49781998, "link": "https://stackoverflow.com/questions/49781998/json-parsing-and-error-in-c", "title": "JSON Parsing and Error in C#", "body": "<p>I am having trouble parsing a JSON from the Alpha Vantage API. The output of the JSON is as follows</p>\n\n<pre><code>{\n\"Realtime Currency Exchange Rate\": {\n    \"1. From_Currency Code\": \"BTC\",\n    \"2. From_Currency Name\": \"Bitcoin\",\n    \"3. To_Currency Code\": \"CNY\",\n    \"4. To_Currency Name\": \"Chinese Yuan\",\n    \"5. Exchange Rate\": \"43211.50782620\",\n    \"6. Last Refreshed\": \"2018-04-11 17:48:12\",\n    \"7. Time Zone\": \"UTC\"\n   }\n}\n</code></pre>\n\n<p>I am parsing it like this</p>\n\n<pre><code>using (var wc = new System.Net.WebClient())\n            json = wc.DownloadString(link);\n            dynamic stuff = JsonConvert.DeserializeObject(json);\n            string test = stuff[\"Realtime Currency Exchange Rate\"][\"5. Exchange Rate\"];\n</code></pre>\n\n<p>However when I run the code, I am getting this error</p>\n\n<pre><code>Microsoft.CSharp.RuntimeBinder.RuntimeBinderException: 'Cannot perform runtime binding on a null reference'\n</code></pre>\n\n<p>Anyone have any idea? If I print the value in a textbox, the value shows up but afterwards it shows that error. I am coding in c#</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "system.reactive", "rx.net"], "answers": [{"tags": [], "owner": {"reputation": 1229, "user_id": 1183514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oO0Xu.jpg?s=128&g=1", "display_name": "boran", "link": "https://stackoverflow.com/users/1183514/boran"}, "is_accepted": false, "score": 2, "last_activity_date": 1523480182, "creation_date": 1523480182, "answer_id": 49784335, "question_id": 49781960, "link": "https://stackoverflow.com/questions/49781960/switch-from-up-to-date-historical-data-observable-to-live-data-observable-withou/49784335#49784335", "title": "Switch from up-to-date historical data observable to live data observable without duplicates", "body": "<p>Ordering a real time stream by a value without buffering/windowing is not possible. You need to explicitly buffer the merged streams (<code>Observable.Merge</code>)  using <code>Observable.Buffer</code>/<code>Observable.Window</code> operators and then you can use <code>Enumerable.SortBy</code>to sort by timestamp.</p>\n\n<p>Here is the relevant issue in the rxnet github page: <a href=\"https://github.com/Reactive-Extensions/Rx.NET/issues/122\" rel=\"nofollow noreferrer\">https://github.com/Reactive-Extensions/Rx.NET/issues/122</a> . </p>\n\n<p>There is a <code>Observable.Distinct</code> operator but be careful using it on long running /high throughput streams as it stores the hashes of the values to detect duplicates. </p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 996512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20cbb2e48f4236d77434900bee5b840?s=128&d=identicon&r=PG", "display_name": "arbitrary", "link": "https://stackoverflow.com/users/996512/arbitrary"}, "is_accepted": false, "score": 0, "last_activity_date": 1524643938, "creation_date": 1524643938, "answer_id": 50017180, "question_id": 49781960, "link": "https://stackoverflow.com/questions/49781960/switch-from-up-to-date-historical-data-observable-to-live-data-observable-withou/50017180#50017180", "title": "Switch from up-to-date historical data observable to live data observable without duplicates", "body": "<p>My working solution:</p>\n\n<p>Subscribe to websocket</p>\n\n<p>Retrieve all data so far over REST</p>\n\n<p>If anything has arrived over websocket, get the timestamp of the first item and remove this and anything later from the REST results</p>\n\n<p>Combine the two streams like this:</p>\n\n<pre><code>        combinedObservable = truncatedRestData.ToObservable().Concat(socketObservable);\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 996512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f20cbb2e48f4236d77434900bee5b840?s=128&d=identicon&r=PG", "display_name": "arbitrary", "link": "https://stackoverflow.com/users/996512/arbitrary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1524643938, "creation_date": 1523470671, "last_edit_date": 1523472286, "question_id": 49781960, "link": "https://stackoverflow.com/questions/49781960/switch-from-up-to-date-historical-data-observable-to-live-data-observable-withou", "title": "Switch from up-to-date historical data observable to live data observable without duplicates", "body": "<p>An application (Saver) receives live data over a websocket from a remote server and stores it in a database. It exposes a REST endpoint to clients that returns all data stored in the database so far.</p>\n\n<p>A client application subscribes to live data on the remote server's websocket on start up. It then makes the request to Saver's REST endpoint, and receives all data so far.</p>\n\n<p>Both data sources are exposed as <code>IObservable&lt;AType&gt;</code> in the client application.</p>\n\n<p><code>AType</code> includes a Timestamp property.</p>\n\n<p>How can I combine these two Observables so that they are sequential (by timestamp) without duplicates?</p>\n\n<p>Update: duplicates are not possible within either one of the data sources/Observables, but are possible when they are combined, since the websocket is subscribed to before the REST endpoint is called. They are subscribed to in that order to avoid loss of data.</p>\n"}, {"tags": ["c#", ".net", "embedded-resource"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1523470821, "post_id": 49781946, "comment_id": 86579296, "body": "I&#39;m betting the easiest way would be to modify the csproj file on-the-fly and use the compiler."}, {"owner": {"reputation": 1308, "user_id": 1633848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0Pc0c.jpg?s=128&g=1", "display_name": "millinon", "link": "https://stackoverflow.com/users/1633848/millinon"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1523471038, "post_id": 49781946, "comment_id": 86579393, "body": "If I edit the csproj to include resources, will that automatically add them to the resource manifest, so that they can be enumerated at runtime? That&#39;s not a bad solution, if so..."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1523471047, "post_id": 49781946, "comment_id": 86579398, "body": "It is not impossible, but recommended install locations and anti-malware being anti will give you a headache that nobody needs.  It just quickly stops making sense to distinguish a file that has an embedded resource that has to be created at runtime from the plain resource trivially been stored in a file.  Use System.CodeDom if you want to do this anyway."}, {"owner": {"reputation": 1273, "user_id": 2287427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b12dacf80e8ab397c3fdcd4f0d49c32d?s=128&d=identicon&r=PG", "display_name": "Dave S", "link": "https://stackoverflow.com/users/2287427/dave-s"}, "edited": false, "score": 0, "creation_date": 1523471452, "post_id": 49781946, "comment_id": 86579594, "body": "Does it really need to be embedded?  We use server scripts to build and code-sign self-extracting archives that include an application plus dynamically customized additional files.  For PHP we use OSSLSignCode, for Tomcat we use some Java code-signing package (I don&#39;t know which one)."}], "answers": [{"comments": [{"owner": {"reputation": 1308, "user_id": 1633848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0Pc0c.jpg?s=128&g=1", "display_name": "millinon", "link": "https://stackoverflow.com/users/1633848/millinon"}, "edited": false, "score": 0, "creation_date": 1523472123, "post_id": 49782205, "comment_id": 86579923, "body": "I was hoping to avoid invoking a compiler to build the customized executable, but otherwise this is a great solution. Thank you!"}], "tags": [], "owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "is_accepted": true, "score": 1, "last_activity_date": 1523471582, "creation_date": 1523471582, "answer_id": 49782205, "question_id": 49781946, "link": "https://stackoverflow.com/questions/49781946/programmatically-embed-resource-in-net-assembly/49782205#49782205", "title": "Programmatically Embed Resource in .NET Assembly", "body": "<p>Say you have a project called <code>Resources.csproj</code>.</p>\n\n<p>You could copy resources into a specific directory (e.g. Content).</p>\n\n<pre><code>Project directory structure\n----------------------------\nProperties\n  AssemblyInfo.cs\nContent\n  Item1.png\n  Item2.png\n</code></pre>\n\n<p>You could then dynamically update your csproj file using <code>XDocument</code> or similar to include your content as embedded resources.</p>\n\n<pre><code>&lt;Project&gt;\n  &lt;ItemGroup&gt;\n    &lt;EmbeddedResource Include=\"Content\\Item1.png\" /&gt;\n    &lt;EmbeddedResource Include=\"Content\\Item2.png\" /&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>You could then compile the project however you like.</p>\n\n<pre><code>msbuild Resources.sln\n</code></pre>\n\n<p>Your resources should then be available in the output assembly. The advantage is that this approach avoids the overhead of dealing with <code>CodeDom</code>.</p>\n"}], "owner": {"reputation": 1308, "user_id": 1633848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0Pc0c.jpg?s=128&g=1", "display_name": "millinon", "link": "https://stackoverflow.com/users/1633848/millinon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "accepted_answer_id": 49782205, "answer_count": 1, "score": 3, "last_activity_date": 1523471582, "creation_date": 1523470634, "question_id": 49781946, "link": "https://stackoverflow.com/questions/49781946/programmatically-embed-resource-in-net-assembly", "title": "Programmatically Embed Resource in .NET Assembly", "body": "<p>I am trying to produce generic .NET executables that can be customized by changing the embedded resources. Ideally, I would like to be able to do this with a compiled executable, but it would also be acceptable to use some sort of intermediate representation. The key is that I need to be able to do this with a program, not manually.</p>\n\n<p>Consider a C# program that looks something like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>namespace MyProgram {\n    public class Program {\n        public static void Main(string[] args)\n        {\n            using(var stream = Assembly.GetExecutingAssembly().GetManifestResourceStream(\"MyProgram.Resources.foo\"))\n            {\n                // ignore stream == null\n                DoStuff(stream);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This will work as expected when some resource is embedded and named \"foo\". However, what I am trying to accomplish is building the program without the resource embedded, and then 'post-processing' the program to embed the resource. In fact, it would be even better if it's possible to both embed a new resource with an arbitrary name and add it to the resource manifest, so that at runtime the program can read the embedded resources and act on them.</p>\n\n<p>Is there a way to programmatically embed new resources into a compiled .NET executable?</p>\n"}, {"tags": ["c#", ".net"], "answers": [{"tags": [], "owner": {"reputation": 489, "user_id": 909954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mxL2O.jpg?s=128&g=1", "display_name": "Ovan Crone", "link": "https://stackoverflow.com/users/909954/ovan-crone"}, "is_accepted": false, "score": 0, "last_activity_date": 1523470622, "creation_date": 1523470622, "answer_id": 49781942, "question_id": 49781941, "link": "https://stackoverflow.com/questions/49781941/how-can-i-validate-a-restate-schematic-that-i-accept-from-my-api/49781942#49781942", "title": "How can I validate a REstate Schematic that I accept from my API?", "body": "<p>You can pretty easily add an extension method that will cleanly validate the Schematic using <code>System.ComponentModel.DataAnnotations.Validator</code> and can <code>out</code> the results on failure.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static class SchematicValidatorExtensions\n{\n    public static bool TryValidate&lt;TState, TInput&gt;(\n        this Schematic&lt;TState, TInput&gt; schematic, \n        out ICollection&lt;ValidationResult&gt; results)\n    {\n        var context = new ValidationContext(schematic, serviceProvider: null, items: null);\n        results = new List&lt;ValidationResult&gt;();\n        return Validator.TryValidateObject(\n            schematic, context, results,\n            validateAllProperties: true\n        );\n    }\n}\n</code></pre>\n\n<p>You can then validate it by calling it on the Schematic.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var isValid = schematic.TryValidate(out var results);\n</code></pre>\n"}], "owner": {"reputation": 489, "user_id": 909954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mxL2O.jpg?s=128&g=1", "display_name": "Ovan Crone", "link": "https://stackoverflow.com/users/909954/ovan-crone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 9, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523478192, "creation_date": 1523470622, "last_edit_date": 1523478192, "question_id": 49781941, "link": "https://stackoverflow.com/questions/49781941/how-can-i-validate-a-restate-schematic-that-i-accept-from-my-api", "title": "How can I validate a REstate Schematic that I accept from my API?", "body": "<p>I am building a REST API around REstate for a work-internal project and I want to validate the data the client sends is a valid Schematic without adding complex validation logic to my API overall. </p>\n\n<p>Is there any quick way for me to do this check in my controller action?</p>\n"}, {"tags": ["c#", "asynchronous", "file-io", "async-await"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1523475374, "post_id": 49781934, "comment_id": 86581625, "body": "Stream has CopyTo (and CopyToAsync) methods which you should use instead of reimplementing them yourself."}, {"owner": {"reputation": 1511, "user_id": 2739697, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sHtAv.jpg?s=128&g=1", "display_name": "Jophy job", "link": "https://stackoverflow.com/users/2739697/jophy-job"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1523501148, "post_id": 49781934, "comment_id": 86589567, "body": "@Evk i can&#39;t use Stream.CopyToAsync , the above code also have Bandwidth throttling in it. Is Stream.CopyToAsync Support throttling ?"}], "owner": {"reputation": 1511, "user_id": 2739697, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/sHtAv.jpg?s=128&g=1", "display_name": "Jophy job", "link": "https://stackoverflow.com/users/2739697/jophy-job"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1523524992, "creation_date": 1523470602, "last_edit_date": 1523501210, "question_id": 49781934, "link": "https://stackoverflow.com/questions/49781934/in-filestream-readasync-we-still-have-to-use-split-logic", "title": "In FileStream.ReadAsync we still have to use split logic?", "body": "<p>My Current Project download manger tool have code like this(For downloading large files from file share, on shcedule) :</p>\n\n<pre><code>using (var destinationFileStream = new FileStream(sourceFilename, FileMode.OpenOrCreate, FileAccess.Write))\n{\n   using (var file = new FileStream(filename, FileMode.Open, FileAccess.Read, FileShare.Read, buffer.Length, false))\n   {\n     while (true)\n      {\n        if (file.Read(buffer, 0, buffer.Length) &lt;= 0)\n              break;\n         destinationFileStream.Write(buffer, 0, buffer.Length);\n         .... \n         ... Bandwidth throttling Code \n         ....\n       }\n   }\n  }\n</code></pre>\n\n<p>if i convert this to <strong>FileStream.ReadAsync</strong> code , still i have to use split file to buffer size logic and download or <strong>this is handled internally by .net ?</strong></p>\n"}, {"tags": ["c#", "vb.net", "ssis"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1523470673, "post_id": 49781914, "comment_id": 86579215, "body": "The dtsx file is XML; you can parse it with <code>XDocument</code>."}], "answers": [{"comments": [{"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1523476353, "post_id": 49782294, "comment_id": 86582166, "body": "Thanks billinkc!  I ended up changing the extension to XML, then double-clicked the file, and got everything I needed right there.  Just had to hunt and peck a bit for the specific names of objects that I needed.  There seems to be tons and tons and tons of other stuff going on in the background.  Maybe when I have time someday, I&#39;ll take a closer look at it."}], "tags": [], "owner": {"reputation": 54384, "user_id": 181965, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/87b30982fd95ba3e646522b1ced1f8cb?s=128&d=identicon&r=PG", "display_name": "billinkc", "link": "https://stackoverflow.com/users/181965/billinkc"}, "is_accepted": true, "score": 1, "last_activity_date": 1523471948, "creation_date": 1523471948, "answer_id": 49782294, "question_id": 49781914, "link": "https://stackoverflow.com/questions/49781914/is-there-a-way-to-list-details-of-all-objects-in-a-ssis-package/49782294#49782294", "title": "Is there a way to list details of all objects in a SSIS package?", "body": "<p>PragmaticWorks sells a tool BIDocumenter that produces a help file describing the package. </p>\n\n<p>BimlStudio can be used to reverse engineer a package and distill it down to the basic elements (as Biml). Biml is a far terser syntax than the core XML that defines the DTSX pacakge</p>\n\n<p>BIDSHelper used to have functionality to identify non-default properties but nothing to the level I think you're looking for.</p>\n\n<p>Otherwise, you're looking at custom code using the SSIS object model to instantiate the package and potentially project (ispac) depending on version and deployment model and then iterate through each task and container and tease out the attributes you are interested in. \nIt gets uglier in the Data Flow as you're working with COM objects there. \nAnd then finally, you <em>get</em> to factor in things like Expressions. My Database Connection Manager may have a connection string pointing at DevServer at rest. However, there might be an expression defined that changes the connection string to ProdServer. And it might not be a direct relationship. There might be a Variable assigned to an Expression on the ConnectionString property. And that Variable might have an expression set based on the variables ServerName and DatabaseName. Etc, etc, etc.</p>\n\n<p>I last tried this 2009ish. Maybe things are better/easier but I doubt it. </p>\n\n<p>For me and my time/money, I'd reach for Biml as they've solved the hard parts. The evaluation copy of Biml Studio will get you ... I think 5 reverse engineerings and if you email them, they might send you a beta copy of the new version - the documentation features in there are pretty sweet.</p>\n"}], "owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 1, "accepted_answer_id": 49782294, "answer_count": 1, "score": 1, "last_activity_date": 1523471948, "creation_date": 1523470508, "question_id": 49781914, "link": "https://stackoverflow.com/questions/49781914/is-there-a-way-to-list-details-of-all-objects-in-a-ssis-package", "title": "Is there a way to list details of all objects in a SSIS package?", "body": "<p>I have a whole bunch of Sequence Containers, each of which contains a whole bunch of objects such as Data Flow tasks, Execute SQL Tasks, etc.  I am trying to get some kind of inventory of everything in the whole SSIS package.  Is there a way to list all the details, specifically of Data Flows (i.e., OLE DB Data Source, OLE DB Data Destination, etc.).  I can use C#, VB.NET, SSIS...if this is even possible.  Or, perhaps some other tool, language, etc.  Thanks!!</p>\n"}, {"tags": ["c#", "directx"], "comments": [{"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1523470448, "post_id": 49781884, "comment_id": 86579101, "body": "Have you tried to compile your program for 32 bits only instead of Any CPU?"}, {"owner": {"reputation": 73, "user_id": 3082261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/dx7LJ.jpg?s=128&g=1", "display_name": "Magobin", "link": "https://stackoverflow.com/users/3082261/magobin"}, "reply_to_user": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "edited": false, "score": 0, "creation_date": 1523513119, "post_id": 49781884, "comment_id": 86593064, "body": "yess...but without success.Basically I have class to capture sound from device audio...without directx now I can&#39;t find any device. This class use Microsoft.Directx.DirectSound"}], "answers": [{"comments": [{"owner": {"reputation": 239, "user_id": 256232, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/89b168b54e58a78ac503ce6ac4d9cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Flopdong", "link": "https://stackoverflow.com/users/256232/flopdong"}, "edited": false, "score": 0, "creation_date": 1530220167, "post_id": 49805102, "comment_id": 89170710, "body": "If I shouldn&#39;t be using DirectSound, what should I use instead? I am trying to make a WinForm that plays sound files with basic play/pause functionality.   I originally intended to use System.Media.SoundPlayer, but it doesn&#39;t have pause/resume functionality. Everything I have found on the subject suggests using DirectSound instead, but here you are saying that DirectSound is old and outdated. If SharpDX is also outdated, what do you suggest as an alternative?"}, {"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "reply_to_user": {"reputation": 239, "user_id": 256232, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/89b168b54e58a78ac503ce6ac4d9cd91?s=128&d=identicon&r=PG&f=1", "display_name": "Flopdong", "link": "https://stackoverflow.com/users/256232/flopdong"}, "edited": false, "score": 0, "creation_date": 1530245763, "post_id": 49805102, "comment_id": 89176364, "body": "DirectSound itself is pretty ancient, but SharpDX is a modern wrapper for most of the DirectX APIs so that&#39;s at least a better option than legacy Managed DirectX. XAudio2 is a better option for real-time mixing and DSP, but I&#39;m not sure your sound requirements are really that complex..."}, {"owner": {"reputation": 4290, "user_id": 311314, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9098882126e0907a9df39856ef1b5bfa?s=128&d=identicon&r=PG", "display_name": "Nathan Ernst", "link": "https://stackoverflow.com/users/311314/nathan-ernst"}, "edited": false, "score": 0, "creation_date": 1612068993, "post_id": 49805102, "comment_id": 116649019, "body": "As of 1/30/2021, the SlimDX link in the answer results in an HTTP 403 error."}, {"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1612149287, "post_id": 49805102, "comment_id": 116667729, "body": "Updated links for blog and github archives for slimdx/sharpdx"}], "tags": [], "owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "is_accepted": true, "score": 0, "last_activity_date": 1612149199, "last_edit_date": 1612149199, "creation_date": 1523563835, "answer_id": 49805102, "question_id": 49781884, "link": "https://stackoverflow.com/questions/49781884/microsoft-directx-sound-on-visual-studio-2017/49805102#49805102", "title": "Microsoft DirectX Sound on Visual Studio 2017", "body": "<p><code>Microsoft.DirectX.DirectSound</code> is part of the legacy Managed DirectX 1.1 assemblies. They only supported for the .NET 1.1 and .NET 2.0 Runtimes and not the modern .NET 4.x Runtime. You also as you note have to force the use of <code>/platform:x86</code>.</p>\n<p>Your best option is to use <a href=\"https://github.com/SlimDX/slimdx\" rel=\"nofollow noreferrer\">SlimDX</a> which is intended as a drop-in replacement for the Managed DirectX 1.1 assemblies including x64 support. A more modern solution is <a href=\"https://github.com/sharpdx/SharpDX\" rel=\"nofollow noreferrer\">SharpDX</a>, but of course you probably shouldn't be using DirectSound in a new app anyhow.</p>\n<p>See <a href=\"https://walbourn.github.io/directx-and-net/\" rel=\"nofollow noreferrer\">DirectX and .NET</a></p>\n<blockquote>\n<p>The other thing to keep in mind is that the legacy DirectX Managed DirectX 1.1 assemblies are only installed by the legacy DirectX SDK or the deprecated DirectX End-User Runtime Redistribution Package on systems with the .NET 2.0/3.x Runtime enabled. See <a href=\"https://walbourn.github.io/not-so-direct-setup/\" rel=\"nofollow noreferrer\">Not So DirectSetup</a> and <a href=\"https://walbourn.github.io/dxsetup-update/\" rel=\"nofollow noreferrer\">DXSETUP Update</a>.</p>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 3082261, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/dx7LJ.jpg?s=128&g=1", "display_name": "Magobin", "link": "https://stackoverflow.com/users/3082261/magobin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1631, "favorite_count": 0, "accepted_answer_id": 49805102, "answer_count": 1, "score": 1, "last_activity_date": 1612149199, "creation_date": 1523470346, "last_edit_date": 1523470744, "question_id": 49781884, "link": "https://stackoverflow.com/questions/49781884/microsoft-directx-sound-on-visual-studio-2017", "title": "Microsoft DirectX Sound on Visual Studio 2017", "body": "<p>I have an old program made with Visual C# 2010. Now I would to use it again so I tried to compile on Visual 2017 Community but it launch an Exception on MicrosoftDirectSound. I understood that it's because is on 32bit so I would ask you if there is any workaround to implement that directx or alternatively what I have to use in the new scenario. I tried with \"corflags\" too, but it returns a warning about strong named signed.</p>\n\n<pre><code>System.BadImageFormatException: ... is not a valid Win32 application. (Exception from HRESULT: 0x800700C1)\n</code></pre>\n"}, {"tags": ["c#", ".net", "json"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523470538, "post_id": 49781860, "comment_id": 86579154, "body": "What is the <code>input</code>?"}, {"owner": {"reputation": 75, "user_id": 9602030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb05478f4cbd7c3b5afbc7e171d9a9e3?s=128&d=identicon&r=PG&f=1", "display_name": "seegal", "link": "https://stackoverflow.com/users/9602030/seegal"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523471063, "post_id": 49781860, "comment_id": 86579406, "body": "The input is valid JSON. Here is the content: <a href=\"https://ghostbin.com/paste/v3xtd\" rel=\"nofollow noreferrer\">ghostbin.com/paste/v3xtd</a>"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1523475521, "post_id": 49781860, "comment_id": 86581693, "body": "That error just means json net read full object from your string, but then found something more after closing brace (something more can be another json object for example)."}], "owner": {"reputation": 75, "user_id": 9602030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb05478f4cbd7c3b5afbc7e171d9a9e3?s=128&d=identicon&r=PG&f=1", "display_name": "seegal", "link": "https://stackoverflow.com/users/9602030/seegal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 635, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523470250, "creation_date": 1523470250, "question_id": 49781860, "link": "https://stackoverflow.com/questions/49781860/additional-text-encountered-after-finished-reading-json-content", "title": "Additional text encountered after finished reading JSON content", "body": "<p>So I was running the code below</p>\n\n<pre><code>JObject.Parse(input.ToString(Encoding.UTF8)).ToFlatDictionary())\n</code></pre>\n\n<p>And ran into this error message</p>\n\n<blockquote>\n  <p>Additional text encountered after finished reading JSON content</p>\n</blockquote>\n\n<p>What does this mean? Other questions say I have to surround my JSON with []'s both ends but do I do this when sending it or? I'm a little confused. I basically send JSON between my client&amp;server.</p>\n\n<pre><code>internal class JsonToPacketDecoder : ByteToMessageDecoder\n{\n    protected override void Decode(IChannelHandlerContext context, IByteBuffer input, List&lt;object&gt; output)\n    {\n        output.Add(new IncomingPacket(JObject.Parse(input.ToString(Encoding.UTF8)).ToFlatDictionary()));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "jquery", "ajax", "asp.net-mvc-5", "asp.net-ajax"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1523491176, "post_id": 49781854, "comment_id": 86587459, "body": "You need a separate hidden input in your view for the <code>ID</code> property, and in the autocomplete <code>select</code> event, you set  the value of that input (refer <a href=\"https://stackoverflow.com/questions/49122409/autocomplete-function-in-the-main-view-in-mvc/49123126#49123126\">this answer</a> for an example"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7331910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b2355a67647680a6c002b483308f00?s=128&d=identicon&r=PG&f=1", "display_name": "Asul", "link": "https://stackoverflow.com/users/7331910/asul"}, "edited": false, "score": 0, "creation_date": 1523540763, "post_id": 49793745, "comment_id": 86611059, "body": "i&#39;ve tried your option, fixed 1 typo from &quot;Remetente&quot; to &quot;remetente&quot;, but still doesn&#39;t work and i cant figure this out haha. Also i put id=&quot;hiddenlocais&quot;... It still return item.ID on #locais and #hiddenlocais doesn&#39;t assume a value. In any case, your answer is pretty helpfull at least now i know where to begin. Thanks :D"}, {"owner": {"reputation": 29, "user_id": 7331910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b2355a67647680a6c002b483308f00?s=128&d=identicon&r=PG&f=1", "display_name": "Asul", "link": "https://stackoverflow.com/users/7331910/asul"}, "edited": false, "score": 0, "creation_date": 1523560612, "post_id": 49793745, "comment_id": 86623203, "body": "Unfortunately no, it worked just as it was, when i select the item, the textbox show me the id number, and Hiddenlocais does not assume any value."}, {"owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "reply_to_user": {"reputation": 29, "user_id": 7331910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b2355a67647680a6c002b483308f00?s=128&d=identicon&r=PG&f=1", "display_name": "Asul", "link": "https://stackoverflow.com/users/7331910/asul"}, "edited": false, "score": 0, "creation_date": 1523560959, "post_id": 49793745, "comment_id": 86623373, "body": "did you debug. in select .. what the value is coming for ui.item.ID? $(valueControlId).val(ui.item.ID);"}], "tags": [], "owner": {"reputation": 1476, "user_id": 9405863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40cdcd740f2f6f607a21a66697131155?s=128&d=identicon&r=PG&f=1", "display_name": "user9405863", "link": "https://stackoverflow.com/users/9405863/user9405863"}, "is_accepted": true, "score": 0, "last_activity_date": 1523527532, "creation_date": 1523527532, "answer_id": 49793745, "question_id": 49781854, "link": "https://stackoverflow.com/questions/49781854/autocomplete-ajax-asp-net-mvc-display-text/49793745#49793745", "title": "Autocomplete Ajax asp.net MVC, Display text", "body": "<p>You can do with the help of <code>'select'</code> \ntry below approach</p>\n\n<p>Your view </p>\n\n<pre><code>@Html.TextBox(\"LocalidadeID\",\"\", htmlAttributes: new { @class = \"form-control\", @id=\"locais\"})\n@Html.Hidden(\"hiddenlocais\")\n</code></pre>\n\n<p>In your jquery define  common function that takes both hidden and text box id as parameters</p>\n\n<p>JQuery:</p>\n\n<pre><code>function WireUpAutoComplete(displayControlId, valueControlId)\n {\n  $(displayControlId).autocomplete({\n    source: function (request, response) {\n            $.ajax({\n                url: '@Url.Action(\"CreateF\")',\n                datatype: \"json\",\n                data: {\n                    s_localidade: request.term\n                },\n                 select: function (event, ui) {\n                      $(displayControlId).val(ui.item.Remetente);\n                      $(valueControlId).val(ui.item.ID);\n                    return false;\n               },  \n                success: function (data) {\n                    response($.map(data, function (item) {\n                        return {\n                            label: item.remetente,\n                            value: item.ID,\n                        }\n                    }))\n                }\n            })\n        },\n    });\n\n  }\n</code></pre>\n\n<p>In <code>document ready</code> call above  function</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n  WireUpAutoComplete(\"#locais\", \"#hiddenlocais\");\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>hope this solve your problem. i haven't tested. let me know if you face any problems</p>\n"}], "owner": {"reputation": 29, "user_id": 7331910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b2355a67647680a6c002b483308f00?s=128&d=identicon&r=PG&f=1", "display_name": "Asul", "link": "https://stackoverflow.com/users/7331910/asul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 49793745, "answer_count": 1, "score": 0, "last_activity_date": 1523529038, "creation_date": 1523470216, "last_edit_date": 1523529038, "question_id": 49781854, "link": "https://stackoverflow.com/questions/49781854/autocomplete-ajax-asp-net-mvc-display-text", "title": "Autocomplete Ajax asp.net MVC, Display text", "body": "<p>I am using Jquery with <code>Ajax</code> <code>AutoComplete</code> to return some data, but I'm kind of stuck with the display text.\nThis is what I have:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function () {\n    $(\"#locais\").autocomplete({\n    source: function (request, response) {\n            $.ajax({\n                url: '@Url.Action(\"CreateF\")',\n                datatype: \"json\",\n                data: {\n\n                    s_localidade: request.term\n                },\n                success: function (data) {\n                    response($.map(data, function (item) {\n                        return {\n                            label: item.remetente,\n                            value: item.ID,\n                        }\n                    }))\n                }\n            })\n        },\n    });\n});\n</code></pre>\n\n<p>And on controller:</p>\n\n<pre><code>   public JsonResult CreateF(string s_localidade)\n    {\n        var tblOficiosExpedidos = db.tblOficiosExpedidos.Include(t =&gt; t.tblLocalidades);\n        var local = (from r in db.tblLocalidades\n                     where r.Remetente.Contains(s_localidade.ToUpper())\n                     select new { remetente = r.Remetente + \" - \" + r.Cidade, ID = r.LocalidadeID }).ToList();\n         return Json(local, JsonRequestBehavior.AllowGet);\n\n    }\n</code></pre>\n\n<p>On View:</p>\n\n<pre><code>@Html.TextBox(\"LocalidadeID\",\"\", htmlAttributes: new { @class = \"form-control\", @id=\"locais\"})\n</code></pre>\n\n<p>It does work, but when i select an item, the text of the text box becomes the key number from my table. Is there a way to when i select something, the text keep as item.remetente but saves the number of item.ID into table?</p>\n"}, {"tags": ["c#", "unity3d", "delegates", "scene"], "comments": [{"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1523470192, "post_id": 49781810, "comment_id": 86578980, "body": "Is the script  enabled? Also, is the GameObject this script is attached to active?"}, {"owner": {"reputation": 1160, "user_id": 2037258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ceaa395c54337c7821f06ce1b7622644?s=128&d=identicon&r=PG", "display_name": "greyBow", "link": "https://stackoverflow.com/users/2037258/greybow"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1523470285, "post_id": 49781810, "comment_id": 86579020, "body": "@Programmer, I\u2019m getting \u201cOnEnabled Called.\u201d In my console when I run it."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 1, "creation_date": 1523470457, "post_id": 49781810, "comment_id": 86579106, "body": "What&#39;s your Unity&#39;s version? I tested this and it worked fine. Can you put <code>SceneManagement.SceneManager.sceneLoaded += OnSceneLoaded;</code> in the <code>Awake</code> function and see if it works or not."}, {"owner": {"reputation": 1160, "user_id": 2037258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ceaa395c54337c7821f06ce1b7622644?s=128&d=identicon&r=PG", "display_name": "greyBow", "link": "https://stackoverflow.com/users/2037258/greybow"}, "reply_to_user": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1523471727, "post_id": 49781810, "comment_id": 86579718, "body": "I\u2019m on Unity 2017.3.1, I tried it in the Awake function and it still doesn\u2019t work."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1523474040, "post_id": 49781810, "comment_id": 86580917, "body": "Assuming you are right about this, I suspect bug. File for a bug report. Before doing so, I suggest you restart both Unity and Visual Studio then see if that fixes this issue."}], "answers": [{"comments": [{"owner": {"reputation": 1674, "user_id": 12179584, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LEA69.png?s=128&g=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/12179584/anna"}, "edited": false, "score": 0, "creation_date": 1572218339, "post_id": 58584078, "comment_id": 103482558, "body": "It can&#39;t be an answer without explanation and if you are not sure. Please edit it, or mode to comments"}], "tags": [], "owner": {"reputation": 21, "user_id": 6124363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8UzrJ.gif?s=128&g=1", "display_name": "stickske", "link": "https://stackoverflow.com/users/6124363/stickske"}, "is_accepted": false, "score": 1, "last_activity_date": 1572217134, "creation_date": 1572217134, "answer_id": 58584078, "question_id": 49781810, "link": "https://stackoverflow.com/questions/49781810/onsceneloaded-not-getting-called-on-scene-start/58584078#58584078", "title": "OnSceneLoaded not getting called on scene start", "body": "<p>I had the same problem.\nFixed it by not using the Awake function in my GameManager. Not sure why this worked.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9041416, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n6C9oActEZk/AAAAAAAAAAI/AAAAAAAAAa0/rG_Z-5tEP40/photo.jpg?sz=128", "display_name": "Nathaniel Berrios", "link": "https://stackoverflow.com/users/9041416/nathaniel-berrios"}, "is_accepted": false, "score": 0, "last_activity_date": 1601010739, "creation_date": 1601010739, "answer_id": 64058184, "question_id": 49781810, "link": "https://stackoverflow.com/questions/49781810/onsceneloaded-not-getting-called-on-scene-start/64058184#64058184", "title": "OnSceneLoaded not getting called on scene start", "body": "<p>I got it working by using the following;</p>\n<p>UnityEngine.SceneManagement.SceneManager.sceneLoaded += OnSceneLoaded;</p>\n<p>With or without awake method.. it looks like we have to add UnityEngine.SceneManagement again.</p>\n"}], "owner": {"reputation": 1160, "user_id": 2037258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ceaa395c54337c7821f06ce1b7622644?s=128&d=identicon&r=PG", "display_name": "greyBow", "link": "https://stackoverflow.com/users/2037258/greybow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2502, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1601010739, "creation_date": 1523470042, "question_id": 49781810, "link": "https://stackoverflow.com/questions/49781810/onsceneloaded-not-getting-called-on-scene-start", "title": "OnSceneLoaded not getting called on scene start", "body": "<p>I'm having trouble understanding why <code>SceneManager.sceneLoaded += OnSceneLoaded;</code> isn't getting called while OnEnable is getting called. Am I doing somthing incorrectly? I'm testing it by looking for a return coming from <code>Debug.Log(\"Current scene index is: \" + scene.buildIndex.ToString());</code> in the console, but it's not. Any help would be appreciated! Thank you.</p>\n\n<pre><code>// called first\n    void OnEnable()\n    {\n        Debug.Log(\"OnEnable called\");\n        SceneManager.sceneLoaded += OnSceneLoaded;\n    }\n\n    // called second\n    void OnSceneLoaded(Scene scene, LoadSceneMode mode)\n    {\n        Debug.Log(\"Current scene index is: \" + scene.buildIndex.ToString());\n\n        switch (scene.buildIndex)\n        {\n            case 1: // Starting Scene\n                StartingSceneIn();\n                break;\n\n            case 2: // Selection Scene\n                SelectionSceneIn();\n                break;\n\n            case 3: // Coloring Scene\n                ColoringSceneIn();\n                break;\n\n            case 4: // Preview Scene\n                StartCoroutine(PreviewSceneIn());\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    // called when the game is terminated\n    void OnDisable()\n    {\n        Debug.Log(\"OnDisable\");\n        SceneManager.sceneLoaded -= OnSceneLoaded;\n    }\n</code></pre>\n"}, {"tags": ["c#", "html-agility-pack"], "comments": [{"owner": {"reputation": 1864, "user_id": 5218497, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/df0e3cc7cbf99fc602719192ae81d21f?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath", "link": "https://stackoverflow.com/users/5218497/sharath"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1523471268, "post_id": 49781747, "comment_id": 86579503, "body": "@Daniel its not a null issue and the link which you have shared is related to null exception but in my case thats not the issue since I have specifically said for 1 particular website it isn&#39;t working"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1523471303, "post_id": 49781747, "comment_id": 86579514, "body": "i see that error in your console."}, {"owner": {"reputation": 1864, "user_id": 5218497, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/df0e3cc7cbf99fc602719192ae81d21f?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath", "link": "https://stackoverflow.com/users/5218497/sharath"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1523471523, "post_id": 49781747, "comment_id": 86579634, "body": "its an exception being thrown when <code>LoadFromWebAsync</code> is called. Same code gets the result for other website links but the link which I have posted doesn&#39;t work"}, {"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1523508714, "post_id": 49781747, "comment_id": 86591438, "body": "@Sharath Don&#39;t waste your time with HtmlAgilityPack, it&#39;s old and broken - use <a href=\"https://www.nuget.org/packages/anglesharp/\" rel=\"nofollow noreferrer\">AngleSharp</a> instead. As a bonus, AngleSharp has no problem scraping that page. :)"}, {"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1523508755, "post_id": 49781747, "comment_id": 86591452, "body": "@DanielA.White The NullRef is being thrown by HtmlAgilityPack, not the code posted. So the issue is a bug in HAP."}, {"owner": {"reputation": 1864, "user_id": 5218497, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/df0e3cc7cbf99fc602719192ae81d21f?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath", "link": "https://stackoverflow.com/users/5218497/sharath"}, "edited": false, "score": 1, "creation_date": 1523535328, "post_id": 49781747, "comment_id": 86606799, "body": "@LanKemp 70% of code already written using HAP and need to check it if its a bug from HAP"}, {"owner": {"reputation": 23854, "user_id": 70345, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/aV45a.jpg?s=128&g=1", "display_name": "Ian Kemp", "link": "https://stackoverflow.com/users/70345/ian-kemp"}, "edited": false, "score": 0, "creation_date": 1523625224, "post_id": 49781747, "comment_id": 86650178, "body": "@Sharath Since it&#39;s a bug in HAP and you&#39;ve already <a href=\"https://github.com/zzzprojects/html-agility-pack/issues/171\" rel=\"nofollow noreferrer\">submitted an issue to them</a>, maybe add that as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 1864, "user_id": 5218497, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/df0e3cc7cbf99fc602719192ae81d21f?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath", "link": "https://stackoverflow.com/users/5218497/sharath"}, "is_accepted": true, "score": 1, "last_activity_date": 1523631776, "creation_date": 1523631776, "answer_id": 49820005, "question_id": 49781747, "link": "https://stackoverflow.com/questions/49781747/error-downloading-html-using-htmlagilitypack-library-in-c/49820005#49820005", "title": "Error downloading Html using HtmlAgilityPack Library in C#", "body": "<p>An issue is created here <a href=\"https://github.com/zzzprojects/html-agility-pack/issues/171\" rel=\"nofollow noreferrer\">Link</a></p>\n\n<p>Below code works as mentioned in the github link.</p>\n\n<pre><code>HtmlAgilityPack.HtmlDocument doc = null;\nstring url = \"your_link\";\n\nHtmlWeb web = new HtmlAgilityPack.HtmlWeb();\ndoc = web.Load(url);\nvar html = doc.DocumentNode.OuterHtml;\n</code></pre>\n"}], "owner": {"reputation": 1864, "user_id": 5218497, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/df0e3cc7cbf99fc602719192ae81d21f?s=128&d=identicon&r=PG&f=1", "display_name": "Sharath", "link": "https://stackoverflow.com/users/5218497/sharath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "accepted_answer_id": 49820005, "answer_count": 1, "score": 1, "last_activity_date": 1523631776, "creation_date": 1523469816, "last_edit_date": 1523507920, "question_id": 49781747, "link": "https://stackoverflow.com/questions/49781747/error-downloading-html-using-htmlagilitypack-library-in-c", "title": "Error downloading Html using HtmlAgilityPack Library in C#", "body": "<p>Trying to scrape this <a href=\"https://www.finedininglovers.com/recipes/appetizer/vegan-dishes-white-asparagus/\" rel=\"nofollow noreferrer\">Website</a> but unable to do it.. </p>\n\n<p>It throws an exception with the message has <code>Error downloading Html</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/9zq7o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9zq7o.png\" alt=\"enter image description here\"></a></p>\n\n<p>C# Code</p>\n\n<pre><code>    async public static Task&lt;HtmlDocument&gt; GetDocument()\n    {\n        HtmlDocument doc = null;\n        string url = \"https://www.finedininglovers.com/recipes/appetizer/vegan-dishes-white-asparagus/\";\n        try\n        {\n            HtmlWeb web = new HtmlWeb();\n            doc = await web.LoadFromWebAsync(url);\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.Message);\n            Console.WriteLine(ex.StackTrace);\n        }\n        return doc;\n    }\n</code></pre>\n\n<p>Tried setting <code>Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.0.7) Gecko/2009021910 Firefox/3.0.7</code> as the UserAgent but still not working</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1523469726, "post_id": 49781695, "comment_id": 86578734, "body": "where do you want to open it?"}, {"owner": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523469886, "post_id": 49781695, "comment_id": 86578812, "body": "I hope <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/89abc30c-32c9-420a-8f39-a2d3f8425a78/fill-text-boxes-from-a-web-pages-using-a-windows-c-app?forum=csharpgeneral\" rel=\"nofollow noreferrer\">this</a> will solve your issue :)"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1523470594, "post_id": 49781695, "comment_id": 86579177, "body": "@DanielA.White in the user&#39;s browser"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "reply_to_user": {"reputation": 3967, "user_id": 8949476, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/54d34b1abb6c973aa0be45f5e953b405?s=128&d=identicon&r=PG&f=1", "display_name": "Aousaf rashid", "link": "https://stackoverflow.com/users/8949476/aousaf-rashid"}, "edited": false, "score": 0, "creation_date": 1523470811, "post_id": 49781695, "comment_id": 86579287, "body": "@zackraiyan i know i could post but i need to open the browser for the user, when he clicks on a button and fill in the data i got from him, then he could fill in the rest of the form himself."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1523486504, "post_id": 49782810, "comment_id": 86586255, "body": "will you be more specific please because i have worked with mvc, web api&#39;s and ... but i can&#39;t find what i am looking for"}], "tags": [], "owner": {"reputation": 1014, "user_id": 902769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kVgqH.png?s=128&g=1", "display_name": "Ricker Silva", "link": "https://stackoverflow.com/users/902769/ricker-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1523473852, "creation_date": 1523473852, "answer_id": 49782810, "question_id": 49781695, "link": "https://stackoverflow.com/questions/49781695/opening-a-web-page-then-filling-in-part-of-the-form-on-that-page/49782810#49782810", "title": "Opening a Web page then filling in part of the form on that page", "body": "<p>Yes it is possible.</p>\n\n<p>Whatever design you are using, the solution is the same. Wherever you have the data to fill the form, make sure to pass it through the web page you are opening. Then, one in many options is using javascript to fill the form with the data.</p>\n\n<p>Using c#, I suggest you check <a href=\"https://docs.microsoft.com/en-us/aspnet/core/tutorials/first-mvc-app/start-mvc?view=aspnetcore-2.1&amp;tabs=aspnetcore2x\" rel=\"nofollow noreferrer\">this</a></p>\n"}], "owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1523473852, "creation_date": 1523469615, "question_id": 49781695, "link": "https://stackoverflow.com/questions/49781695/opening-a-web-page-then-filling-in-part-of-the-form-on-that-page", "title": "Opening a Web page then filling in part of the form on that page", "body": "<p>I need to open a Web Page and then fill in part of the form on that page with the data i got from my user (like name and phone number) then let them fill in the rest of the form, without using selenium !!?</p>\n\n<p>Is this possible at all and if so, how could i achieve this in C# !!? </p>\n"}, {"tags": ["c#", "oauth-2.0", "jwt", "identityserver4", "openid-connect"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1523475758, "post_id": 49781664, "comment_id": 86581819, "body": "And why do you use tokens in the first place? Mobile apps with cookie problems, multiple api endpoints which look at token for permission checks instead of database (for perfomance), something else?"}, {"owner": {"reputation": 4124, "user_id": 2828480, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/30ce285bfd170cf3834d9591fab207e0?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/2828480/konrad"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1523482851, "post_id": 49781664, "comment_id": 86585097, "body": "Yeah performance, native apps, can be used across different domains easily. I think tokens are more often used for Web APIs nowadays."}], "answers": [{"comments": [{"owner": {"reputation": 4124, "user_id": 2828480, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/30ce285bfd170cf3834d9591fab207e0?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/2828480/konrad"}, "edited": false, "score": 0, "creation_date": 1523521704, "post_id": 49790781, "comment_id": 86597724, "body": "If I use ASP.NET Core Identity to store user data, does it mean I should have a separate context for that in entity framework?"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "reply_to_user": {"reputation": 4124, "user_id": 2828480, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/30ce285bfd170cf3834d9591fab207e0?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/2828480/konrad"}, "edited": false, "score": 1, "creation_date": 1523531983, "post_id": 49790781, "comment_id": 86604570, "body": "You have two types of information: Identity and Business. The identity provider has access to the identity model and the resource (web api) to the business model. If you spit these, you&#39;ll need seperate contexts. If you need to show the username in a report, you&#39;ll have to create a user table in the business context where you can store the information. It then becomes business information. This may seem redundant, but it is not. The information has a different meaning / purpose. You can use UserId (just the value, not as database relation) to link the current user to the business user."}], "tags": [], "owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "is_accepted": true, "score": 4, "last_activity_date": 1523519205, "creation_date": 1523519205, "answer_id": 49790781, "question_id": 49781664, "link": "https://stackoverflow.com/questions/49781664/issuing-jwt-token-myself-versus-using-identityserver4oidc-for-web-api/49790781#49790781", "title": "Issuing JWT token myself versus using IdentityServer4(OIDC) for Web API", "body": "<p>In any case you will implement OAuth2. Think of Oidc as an extension of OAuth2. The most important thing to keep in mind is <em>seperation of concerns</em>.</p>\n\n<p>Forget Oidc, Identity Server 4 is all about authentication: \"who is the user\"? Consider Google login. When a user logs in for the first time, the application doesn't know the user, it only knows that Google does.</p>\n\n<p>Authorization takes place on a different level and isn't really a concern of IdentityServer. For that you could take a look at <a href=\"https://leastprivilege.com/2018/01/17/announcing-policyserver/\" rel=\"nofollow noreferrer\">PolicyServer</a>.</p>\n\n<p>So you'll need to keep the user database seperated from the application database. This doesn't mean you need another database, just don't mix contexts. If you have a relation from the \"business context\" to e.g. the user table in the \"Identity context\" then you are going to have a problem eventually.</p>\n\n<p>In your setup your web api is both the <em>resource</em> and the <em>identity provider</em>. This means that every new web api you create has to be implemented as both resource and identity provider. For maintainability you could create a seperate web api that acts as an identity provider, while the web api is a resource only. You can implement something like that as long as all apps can read the token.</p>\n\n<p>The same counts for the front. Why should the front have anything to do with the user? All it needs to do is pass the token in order to get the user authorized. In case of IdentityServer, the app contacts it to verify the user and receives a token. It knows nothing about credentials. This is more secure. The client app can be compromised. The credentials can be intercepted.</p>\n\n<p>Having single apps with a specific concern makes things more maintainable. And it is quite easy to add a new resource without having to code when you use IdentityServer. Just add the configuration. It also allows you to add other flows in the future that are not needed at this time. And as a side note, the consent screen is optional.</p>\n\n<p>The bonus is that you can implement SSO, where in your setup that could be harder, if not impossible.</p>\n\n<p>So you don't have to use IdentityServer, nor Oidc. Your setup may be just fine. But if you build something, keep seperation of concerns in mind.</p>\n"}], "owner": {"reputation": 4124, "user_id": 2828480, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/30ce285bfd170cf3834d9591fab207e0?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/2828480/konrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2222, "favorite_count": 2, "accepted_answer_id": 49790781, "answer_count": 1, "score": 7, "last_activity_date": 1523519205, "creation_date": 1523469485, "last_edit_date": 1523471259, "question_id": 49781664, "link": "https://stackoverflow.com/questions/49781664/issuing-jwt-token-myself-versus-using-identityserver4oidc-for-web-api", "title": "Issuing JWT token myself versus using IdentityServer4(OIDC) for Web API", "body": "<p><a href=\"https://identityserver4.readthedocs.io/en/release/intro/support.html\" rel=\"noreferrer\">https://identityserver4.readthedocs.io/en/release/intro/support.html</a></p>\n\n<p>I currently issue tokens myself in my web api with <code>JwtSecurityToken</code> and I use standard ASP.NET Core middleware calling <code>AddJwtBearer</code> to verify the tokens. It works fine.</p>\n\n<p>What advantage will give me using OpenID Connect (through IdentityServer4) over the approach described above? How to answer myself question \"Do I need OpenID Connect?\"</p>\n\n<p>From my basic understanding about OpenID Connect, it is used to allow third parties to access your API. But I make API for myself and not for third parties and I don't know why should I favor IdentityServer/OpenIddict over my simple approach.</p>\n\n<p>I read that if I want Single sign-on I should use this, but JWTs itself aren't bound to any specific domain and I can use single sign-on with just pure JWTs(they're self-contained)</p>\n\n<p>I understand it implements some kind of standard for issuing tokens. (protocol). It might be good if I ever wish to expose some API to third parties. But for internal APIs? Is it worth using it?</p>\n\n<p>This is my current auth flow (from <a href=\"https://jonhilton.net/2017/10/11/secure-your-asp.net-core-2.0-api-part-1---issuing-a-jwt/\" rel=\"noreferrer\">https://jonhilton.net/2017/10/11/secure-your-asp.net-core-2.0-api-part-1---issuing-a-jwt/</a>)\n<a href=\"https://i.stack.imgur.com/f2ZhM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/f2ZhM.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I really want to implement to secure my Web API:</p>\n\n<ul>\n<li>Login</li>\n<li>Logout (invalidate token?)</li>\n<li>No consent screen (want to have API only for myself), auth happens in the background in my native desktop, mobile, web app (no redirection)</li>\n<li>Remember me feature (refresh tokens?)</li>\n</ul>\n\n<p>Could someone clear out the fuzzy picture of OIDC/OAuth2 for me? i.e. give me some disadvantages going my own way (implementing my own flow) and advantages of using OIDC in place of my own flow. </p>\n\n<p>What will it save me from doing later on (on the client-side for example), and what will not. And most particularly, is it good to start every project using standard flows like OIDC? Will it somehow benefit me in the future?</p>\n"}, {"tags": ["c#", "unity3d", "decorator"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1523469827, "post_id": 49781658, "comment_id": 86578795, "body": "Your <code>ComponentDecorator</code> is all wrong - Most notably, you&#39;ve had to use <code>new</code> in order to re-add an abstract version of <code>Description</code>. The compiler was warning you that adding <code>new</code> would cause the problem you&#39;ve reported here."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1523469859, "post_id": 49781658, "comment_id": 86578804, "body": "<code>new</code> doesn&#39;t concatenate objects, it creates new ones and replaces the existing one."}, {"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1523470178, "post_id": 49781658, "comment_id": 86578970, "body": "You&#39;d have to decorate twice in your example as well. IMHO the decorator pattern may not be the best solution for the task you provide."}], "answers": [{"comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1523471686, "post_id": 49782143, "comment_id": 86579703, "body": "Please don&#39;t post code-only answers without some explanation about what you changed and how it works."}], "tags": [], "owner": {"reputation": 1458, "user_id": 6223950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wDB1T.png?s=128&g=1", "display_name": "Adem Catamak", "link": "https://stackoverflow.com/users/6223950/adem-catamak"}, "is_accepted": false, "score": 0, "last_activity_date": 1523471350, "creation_date": 1523471350, "answer_id": 49782143, "question_id": 49781658, "link": "https://stackoverflow.com/questions/49781658/decorator-design-pattern-not-extending-object-behavior/49782143#49782143", "title": "Decorator Design Pattern - Not extending object behavior", "body": "<p>Your implemantation has missing points. <a href=\"http://www.dofactory.com/net/decorator-design-pattern\" rel=\"nofollow noreferrer\">http://www.dofactory.com/net/decorator-design-pattern</a> has same good explanation and UML diagram. I implement your case like that: </p>\n\n<pre><code>public abstract class ComputerParts\n{\n    public abstract string Description();\n}\n\npublic class Computer : ComputerParts\n{\n    public Computer()\n        {\n        }\n\n    public override string Description()\n        {\n            return \"Computer\";\n        }\n}\n\npublic abstract class ComponentDecorator : ComputerParts\n{\n    public abstract void ExtraMethod();\n}\n\npublic class Disk : ComponentDecorator\n{\n    ComputerParts computerParts;\n\n    public Disk(ComputerParts c)\n        {\n            this.computerParts = c;\n        }\n\n    public override string Description()\n        {\n            return computerParts.Description() + \" and a Disk\";\n        }\n\n    public override void ExtraMethod()\n        {\n            throw new NotImplementedException();\n        }\n}\n\npublic class Monitor : ComponentDecorator\n{\n    ComputerParts computerParts;\n\n    public Monitor(ComputerParts c)\n        {\n            this.computerParts = c;\n        }\n\n    public override string Description()\n        {\n            return computerParts.Description() + \" and a Monitor\";\n        }\n\n    public override void ExtraMethod()\n        {\n            throw new NotImplementedException();\n        }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9631935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e8bbe1b95c905eed659922671e6d35?s=128&d=identicon&r=PG&f=1", "display_name": "JustinD", "link": "https://stackoverflow.com/users/9631935/justind"}, "edited": false, "score": 0, "creation_date": 1523504685, "post_id": 49782339, "comment_id": 86590301, "body": "So to clarify, If I am not implementing any specific method then I could actually remove the <code>ComponentDecorator</code> class altogether and just have <code>Monitor</code> and <code>Disk</code> inherit from <code>Computer</code>.  Otherwise, creating an abstract class <code>Device</code> would require that I instantiate my computer like:  <code>Device computer = new Computer();</code>  as opposed to just <code>Computer computer = new Computer();</code>  Isn&#39;t <code>Device</code> serving as an abstract decorator class in your example? Perhaps I am confusing myself more."}, {"owner": {"reputation": 1611, "user_id": 9479548, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9fY9RKVC9PQ/AAAAAAAAAAI/AAAAAAAAHwU/_i0YU7CsCMs/photo.jpg?sz=128", "display_name": "Pervez Alam", "link": "https://stackoverflow.com/users/9479548/pervez-alam"}, "reply_to_user": {"reputation": 13, "user_id": 9631935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e8bbe1b95c905eed659922671e6d35?s=128&d=identicon&r=PG&f=1", "display_name": "JustinD", "link": "https://stackoverflow.com/users/9631935/justind"}, "edited": false, "score": 0, "creation_date": 1523515442, "post_id": 49782339, "comment_id": 86594246, "body": "Yes, you are correct. In the above example, you can remove the <code>Device</code> class and make the <code>Description()</code> method of <code>Computer</code> class as <code>virtual</code> and inherit the <code>Monitor</code> and <code>Disk</code> classes from <code>Computer</code> class. You can tweak a design pattern as per your requirement."}], "tags": [], "owner": {"reputation": 1611, "user_id": 9479548, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9fY9RKVC9PQ/AAAAAAAAAAI/AAAAAAAAHwU/_i0YU7CsCMs/photo.jpg?sz=128", "display_name": "Pervez Alam", "link": "https://stackoverflow.com/users/9479548/pervez-alam"}, "is_accepted": true, "score": 2, "last_activity_date": 1523472459, "last_edit_date": 1523472459, "creation_date": 1523472124, "answer_id": 49782339, "question_id": 49781658, "link": "https://stackoverflow.com/questions/49781658/decorator-design-pattern-not-extending-object-behavior/49782339#49782339", "title": "Decorator Design Pattern - Not extending object behavior", "body": "<p>You can implement a decorator by having both the class you are decorating and the decorator class have the same abstraction (interface or abstract class). The below code shows using the abstract class. The Device class I added here, is the abstraction for both the decorator class and the decorating class. </p>\n\n<pre><code>public abstract class Device\n{\n    public abstract string Description();\n}\n\n\npublic class Computer : Device\n{\n    public Computer() { }\n\n    public override string Description()\n    {\n        return \"Computer\";\n    }\n}\n\n\npublic class Monitor : Device\n{\n    Device device;\n    public Monitor(Device c)\n    {            this.device = c;\n    }\n\n    public override string Description()\n    {\n        return device.Description() + \" and a Monitor\";\n    }\n\n}\n\npublic class Disk : Device\n{\n    Device device;\n\n    public Disk(Device c)\n    {\n        this.device = c;\n    }\n\n    public override string Description()\n    {\n        return device.Description() + \" and a Disk\";\n    }\n}\n</code></pre>\n\n<p>You don't need an abstraction of the decorator class unless you want all your decorators to implement any specific method.</p>\n"}], "owner": {"reputation": 13, "user_id": 9631935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28e8bbe1b95c905eed659922671e6d35?s=128&d=identicon&r=PG&f=1", "display_name": "JustinD", "link": "https://stackoverflow.com/users/9631935/justind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 49782339, "answer_count": 2, "score": 1, "last_activity_date": 1523477285, "creation_date": 1523469471, "question_id": 49781658, "link": "https://stackoverflow.com/questions/49781658/decorator-design-pattern-not-extending-object-behavior", "title": "Decorator Design Pattern - Not extending object behavior", "body": "<p>I am learning more about design patterns and I am trying to implement the Decorator pattern. I want to extend a computer object to add a string to the end of a description for each new component. This is Unity/C# adaptation from a java example in the Design Patterns For Dummies book.</p>\n\n<pre><code>public class Computer {\n    public Computer(){}\n\n    public string Description(){\n        return \"Computer\";\n    }\n}\n</code></pre>\n\n<p>This is the decorator component that each component will inherit from:</p>\n\n<pre><code>public abstract class ComponentDecorator : Computer {\n    new public abstract string Description();\n}\n</code></pre>\n\n<p>Here are two component classes Monitor and Disk that can decorate the computer class.</p>\n\n<pre><code>public class Monitor : ComponentDecorator {\n    Computer computer;\n\n    public Monitor(Computer c){\n        this.computer = c;\n    }\n\n    public override string Description(){\n        return computer.Description () + \" and a Monitor\";\n    }\n\n}\n\npublic class Disk : ComponentDecorator {\n    Computer computer;\n\n    public Disk(Computer c){\n        this.computer = c;\n    }\n\n    public override string Description(){\n        return computer.Description () + \" and a Disk\";\n    }\n}\n</code></pre>\n\n<p>Below is the Start method: </p>\n\n<pre><code>   void Start(){\n\n        Computer computer = new Computer ();\n\n        computer = new Disk (computer);\n        computer = new Monitor (computer);\n\n        print(\"You have a \" + computer.Description () + \".\");\n    }\n</code></pre>\n\n<p>My Expected output is : \"You have a Computer and a Monitor and a Disk.\"</p>\n\n<p>The Actual output is : \"You have a Computer.\"</p>\n\n<p>Shouldn't computer now be calling the description method as if it were the Monitor description method? How could this be modified to get the expected output?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "azure", "azure-application-insights"], "comments": [{"owner": {"reputation": 2264, "user_id": 2624380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b9e838d784b102f6b5e981ee8a47a94?s=128&d=identicon&r=PG", "display_name": "cijothomas", "link": "https://stackoverflow.com/users/2624380/cijothomas"}, "edited": false, "score": 0, "creation_date": 1523474704, "post_id": 49781611, "comment_id": 86581251, "body": "Are you using .net core application? For .net core apps perf-counters are not supported."}, {"owner": {"reputation": 119, "user_id": 4264614, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-807dUBPPcd4/AAAAAAAAAAI/AAAAAAAAAEU/8pBXx2-d8es/photo.jpg?sz=128", "display_name": "Jigar Sangoi", "link": "https://stackoverflow.com/users/4264614/jigar-sangoi"}, "reply_to_user": {"reputation": 2264, "user_id": 2624380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b9e838d784b102f6b5e981ee8a47a94?s=128&d=identicon&r=PG", "display_name": "cijothomas", "link": "https://stackoverflow.com/users/2624380/cijothomas"}, "edited": false, "score": 0, "creation_date": 1523509562, "post_id": 49781611, "comment_id": 86591686, "body": "Application is based on .NET Framework 4.5.2"}, {"owner": {"reputation": 2264, "user_id": 2624380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b9e838d784b102f6b5e981ee8a47a94?s=128&d=identicon&r=PG", "display_name": "cijothomas", "link": "https://stackoverflow.com/users/2624380/cijothomas"}, "edited": false, "score": 0, "creation_date": 1523560817, "post_id": 49781611, "comment_id": 86623296, "body": "Ok then there are some issues with the performance counter collection module. The application insights SDK would report these errors. Can you search in your Traces for any messages starting with &quot;AI:&quot; . Also can you verify that the application has access to read performance counters? (<a href=\"https://support.microsoft.com/en-us/help/969639/error-message-when-you-try-to-access-the-performance-monitor-perfmon-e\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/help/969639/&hellip;</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 665, "user_id": 343836, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8750962f7afd792adafc60dd4e59de9?s=128&d=identicon&r=PG&f=1", "display_name": "KJN", "link": "https://stackoverflow.com/users/343836/kjn"}, "edited": false, "score": 0, "creation_date": 1613732259, "post_id": 63936828, "comment_id": 117172753, "body": "This worked for me. However instead of adding Everyone, I added the user that has been  specified in the relevant App Pool and then reset iis. Immediately CPU, Requests etc started appearing."}], "tags": [], "owner": {"reputation": 2078, "user_id": 3122378, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/97677628666ee64f04bf6f56bd11020c?s=128&d=identicon&r=PG", "display_name": "Ben Croughs", "link": "https://stackoverflow.com/users/3122378/ben-croughs"}, "is_accepted": false, "score": 2, "last_activity_date": 1603881496, "last_edit_date": 1603881496, "creation_date": 1600341212, "answer_id": 63936828, "question_id": 49781611, "link": "https://stackoverflow.com/questions/49781611/unable-to-get-process-cpu-in-azure-application-insight/63936828#63936828", "title": "Unable to get Process CPU in Azure application insight", "body": "<p>we had a sort a like issue, the problem was that the user from the application pool did not have access to PerfMon</p>\n<p>so the first solution was this on our dev servers: add everyone to the &quot;Performance Monitor Services&quot; on our dev server, and the the CPU and committed memory became visible in AI</p>\n<p><a href=\"https://i.stack.imgur.com/SCEgK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SCEgK.png\" alt=\"enter image description here\" /></a></p>\n<p>i know giving everyone is not that correct, but we will look into it further, a better approach is to use the IIS_APPPool user</p>\n<p>We ended up doing this during deploy step in our ymal</p>\n<pre><code> - powershell: |\n      try {\n          Add-LocalGroupMember -Group &quot;Performance Monitor Users&quot; -Member &quot;IIS AppPool\\${{ parameters.WebsiteName }}&quot; -ErrorAction Stop\n      } catch [Microsoft.PowerShell.Commands.MemberExistsException] {\n          Write-Warning &quot;$member already in $group&quot;\n      }\n    displayName: &quot;\ud83e\uddb8\u200d\u2642\ufe0f Add IIS User to Performance Monitor Users&quot; \n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 4264614, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-807dUBPPcd4/AAAAAAAAAAI/AAAAAAAAAEU/8pBXx2-d8es/photo.jpg?sz=128", "display_name": "Jigar Sangoi", "link": "https://stackoverflow.com/users/4264614/jigar-sangoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 630, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1603881496, "creation_date": 1523469324, "last_edit_date": 1523509604, "question_id": 49781611, "link": "https://stackoverflow.com/questions/49781611/unable-to-get-process-cpu-in-azure-application-insight", "title": "Unable to get Process CPU in Azure application insight", "body": "<p>I installed application azure insight in my .net mvc application(On VPS server) by following this \n<a href=\"https://docs.microsoft.com/en-us/azure/application-insights/app-insights-asp-net\" rel=\"nofollow noreferrer\">configuration</a>\nBut I am having issue with some counters like process CPU, Total CPU% etc.</p>\n\n<p>While monitoring application in Live stream I can see request rate, request duration and request failure but committed memory and CPU% are empty</p>\n\n<p>Same with processor time &amp; process CPU in metrics explorer\n<a href=\"https://i.stack.imgur.com/IelBZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IelBZ.png\" alt=\"metric explorer\"></a></p>\n\n<p>please suggest if I done wrong while configuration.</p>\n"}, {"tags": ["c#", "wpf", "iis", "asp.net-web-api"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 1, "creation_date": 1523469439, "post_id": 49781596, "comment_id": 86578565, "body": "I don&#39;t see anything obvious with the code. It&#39;s more likely a constraint of the network (switches, adapters, bandwidth), and we&#39;re not in a position to assist with that."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1523469512, "post_id": 49781596, "comment_id": 86578611, "body": "Your question doesn&#39;t state where you think the bottleneck is. Do you think it&#39;s slow on the server or slow on the client? Have you performed profiling or other testing and tried using other clients and servers to try to spot any difference?"}, {"owner": {"reputation": 419, "user_id": 1403598, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d6f6dea087976c3e0de24d98c0ba2065?s=128&d=identicon&r=PG", "display_name": "user1403598", "link": "https://stackoverflow.com/users/1403598/user1403598"}, "edited": false, "score": 0, "creation_date": 1523469632, "post_id": 49781596, "comment_id": 86578679, "body": "Its on the same machine, its a development box"}, {"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1523505212, "post_id": 49781596, "comment_id": 86590439, "body": "Your dev box is then transferring data between the disk and CPU for both operations in opposite directions. There are a number of potential hardware bottlenecks at play, and it&#39;s not surprising."}], "owner": {"reputation": 419, "user_id": 1403598, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d6f6dea087976c3e0de24d98c0ba2065?s=128&d=identicon&r=PG", "display_name": "user1403598", "link": "https://stackoverflow.com/users/1403598/user1403598"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523469729, "creation_date": 1523469256, "last_edit_date": 1523469729, "question_id": 49781596, "link": "https://stackoverflow.com/questions/49781596/web-api-fast-download-for-huge-files-in-c", "title": "Web APi Fast download for huge files in c#", "body": "<p>Good evening,</p>\n\n<p>I am trying to improve the performance in getting files from a web api in a c# .net application. The c# application is using high CPU usage plus it dosnt seem to be very quick a 1GB file locally is taking around 40 secs. The machine is running high speed NVMe SSD so i dont believe its down to hardware.</p>\n\n<p>Note the below is being tested on the same machine. We are experiencing slow speed in prod but that could be due to network or other issue. Therefore i just want to check if there are efficiencies to made in the code base. </p>\n\n<p>The WPF application code for downloading is:</p>\n\n<pre><code>  public async Task Test()\n    {\n        AppModel.StartTime = DateTime.Now;\n        var sourceFile = HttpUtility.UrlEncode(\"e820e6d8-4544-4f17-84e3-61e90ccd7e24.zip\");\n        var url = $\"api/UploadDownload\";\n\n        using (var client = new HttpClient())\n        {\n            client.BaseAddress = new Uri(AppModel.BaseUrl);\n\n            client.DefaultRequestHeaders.Authorization =\n                new AuthenticationHeaderValue(\"Bearer\", AppModel.Token);\n\n            using (var response = await client.GetAsync(url, HttpCompletionOption.ResponseHeadersRead))\n            using (var streamToReadFrom = await response.Content.ReadAsStreamAsync())\n            {\n                var fileToWriteTo = Path.GetTempFileName();\n                using (Stream streamToWriteTo = File.Open(fileToWriteTo, FileMode.Create))\n                {\n                    await streamToReadFrom.CopyToAsync(streamToWriteTo);\n                }\n\n                AppModel.EndTime = DateTime.Now;\n                var difference = AppModel.EndTime - AppModel.StartTime;\n                var totalSeconds = (int) Math.Round( difference.TotalSeconds);\n                AppModel.TotalSeconds = totalSeconds;\n\n                var fileInfo = new FileInfo(fileToWriteTo);\n                AppModel.TotalMbDownload = ConvertBytesToMegabytes(fileInfo.Length);\n                var averageSpeed = AppModel.TotalMbDownload / totalSeconds;\n                AppModel.Speed = averageSpeed;\n\n                File.Delete(fileToWriteTo);\n            }\n        }\n    }\n</code></pre>\n\n<p>The api code is as follows:</p>\n\n<pre><code>   [HttpGet]\n    [System.Web.Http.Authorize]\n    public HttpResponseMessage GetSingleFile()\n    {\n        var dh = new DirectoryHelper();\n        var sourceDir = \"\";\n\n        // var filepath = ConfigurationManager.AppSettings[\"UploadDownloadLocation\"] + \"\\\\\" + fileName;\n\n\n        HttpResponseMessage result = null;\n        var filepath = sourceDir + fileName;\n        var localFilePath = filepath;\n\n        if (!File.Exists(localFilePath))\n        {\n            result = Request.CreateResponse(HttpStatusCode.Gone);\n        }\n        else\n        {\n            // Serve the file to the client\n            result = Request.CreateResponse(HttpStatusCode.OK);\n            result.Content = new StreamContent(new FileStream(localFilePath, FileMode.Open, FileAccess.Read));\n            result.Content.Headers.ContentDisposition =\n                new System.Net.Http.Headers.ContentDispositionHeaderValue(\"attachment\")\n                {\n                    FileName = \"test.zip\"\n                };\n        }\n\n        return result;\n    }\n</code></pre>\n\n<p>Any suggestions would be really helpful, not sure if there are better ways to increase performance.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "asp.net-core", "ef-code-first", "entity-framework-core", "aspnetboilerplate"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1604177158, "post_id": 49781548, "comment_id": 114269060, "body": "All code in this question obscures what actually happens in Entity Framework. And in the end it turns into a completely different question."}], "answers": [{"tags": [], "owner": {"reputation": 486, "user_id": 3178169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30eeaeceab760d03b9a9f20dfa6f8851?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Raboud", "link": "https://stackoverflow.com/users/3178169/robert-raboud"}, "is_accepted": true, "score": 9, "last_activity_date": 1523650570, "creation_date": 1523650570, "answer_id": 49824525, "question_id": 49781548, "link": "https://stackoverflow.com/questions/49781548/database-operation-expected-to-affect-1-rows-but-actually-affected-0-rows/49824525#49824525", "title": "Database operation expected to affect 1 row(s) but actually affected 0 row(s)", "body": "<p>Make sure in your repository function InsertAsync you are not calling AddAsync unless your are using the Microsoft.EntityFrameworkCore.Metadata.SqlServerValueGenerationStrategy.SequenceHiLo generator. AS NOTED IN the Docs. <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.entityframeworkcore.dbset-1.addasync?view=efcore-2.0\" rel=\"noreferrer\">AddAsync</a></p>\n"}, {"comments": [{"owner": {"reputation": 506, "user_id": 2076238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4187dab0e323e8cd6cbb2e47485eac1b?s=128&d=identicon&r=PG", "display_name": "zappa", "link": "https://stackoverflow.com/users/2076238/zappa"}, "edited": false, "score": 0, "creation_date": 1586249616, "post_id": 53011378, "comment_id": 108052234, "body": "Why does this fix the problem though?"}, {"owner": {"reputation": 506, "user_id": 2076238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4187dab0e323e8cd6cbb2e47485eac1b?s=128&d=identicon&r=PG", "display_name": "zappa", "link": "https://stackoverflow.com/users/2076238/zappa"}, "edited": false, "score": 0, "creation_date": 1586253797, "post_id": 53011378, "comment_id": 108054388, "body": "I found that this did look like i&#39;d fixed the problem from my UI but upon inspection of the database i hadn&#39;t actually written the data there.    The cause for me turned out to be that i was explicitly setting the Id on an object which i then tried to add (insert) to the database but the object&#39;s model had a self generating Id anyway:          ([Key]         [DatabaseGenerated(DatabaseGeneratedOption.Identity)]         public Guid Id { get; set; })  So EF was thinking &#39;they&#39;ve given me an Id so this must be an update not an insert&#39;, hence the error."}], "tags": [], "owner": {"reputation": 37, "user_id": 702963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2776552d995ef72e57d8cd7baebee5ee?s=128&d=identicon&r=PG", "display_name": "pmichelbrink", "link": "https://stackoverflow.com/users/702963/pmichelbrink"}, "is_accepted": false, "score": -1, "last_activity_date": 1540565715, "creation_date": 1540565715, "answer_id": 53011378, "question_id": 49781548, "link": "https://stackoverflow.com/questions/49781548/database-operation-expected-to-affect-1-rows-but-actually-affected-0-rows/53011378#53011378", "title": "Database operation expected to affect 1 row(s) but actually affected 0 row(s)", "body": "<p>I ran into this same problem with a SQLite database, but with updates instead of inserts. Calling SaveChangesAsync instead of SaveChanges was the solution.</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 2463841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dlb0O.jpg?s=128&g=1", "display_name": "SVPopov", "link": "https://stackoverflow.com/users/2463841/svpopov"}, "is_accepted": false, "score": 9, "last_activity_date": 1553757919, "last_edit_date": 1553757919, "creation_date": 1553756591, "answer_id": 55391863, "question_id": 49781548, "link": "https://stackoverflow.com/questions/49781548/database-operation-expected-to-affect-1-rows-but-actually-affected-0-rows/55391863#55391863", "title": "Database operation expected to affect 1 row(s) but actually affected 0 row(s)", "body": "<p>I had a similar problem. I used EF Core. I was helped by the following change for my code.</p>\n\n<pre><code>context.Entry(user).State = EntityState.Added; // added row\nthis.context.Users.Add(user);\nthis.context.SaveChanges();\n</code></pre>\n\n<p><strong>UPD:</strong> Sorry, problem has been solved by adding a Identity attribute for User.Id</p>\n\n<pre><code>    [DatabaseGenerated(DatabaseGeneratedOption.Identity)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1673, "user_id": 5941852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af57451cad68d1403a9c3909fe0b3888?s=128&d=identicon&r=PG&f=1", "display_name": "VahidShir", "link": "https://stackoverflow.com/users/5941852/vahidshir"}, "is_accepted": false, "score": 1, "last_activity_date": 1572449978, "creation_date": 1572449978, "answer_id": 58628975, "question_id": 49781548, "link": "https://stackoverflow.com/questions/49781548/database-operation-expected-to-affect-1-rows-but-actually-affected-0-rows/58628975#58628975", "title": "Database operation expected to affect 1 row(s) but actually affected 0 row(s)", "body": "<p>For my case, the problem caused when I tried to pass to <em>Update()</em> method an entity that didn't exist in database.</p>\n"}, {"tags": [], "owner": {"reputation": 5204, "user_id": 1683466, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/0JtGE.jpg?s=128&g=1", "display_name": "Vasil Valchev", "link": "https://stackoverflow.com/users/1683466/vasil-valchev"}, "is_accepted": false, "score": 0, "last_activity_date": 1590395541, "creation_date": 1590395541, "answer_id": 61998637, "question_id": 49781548, "link": "https://stackoverflow.com/questions/49781548/database-operation-expected-to-affect-1-rows-but-actually-affected-0-rows/61998637#61998637", "title": "Database operation expected to affect 1 row(s) but actually affected 0 row(s)", "body": "<p>Also you can check if your table have PK (primary key) identity option enabled.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jz3G5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jz3G5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 356, "user_id": 5367706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/948eda5ac7794f4af89e2cd311b084f8?s=128&d=identicon&r=PG&f=1", "display_name": "Razor23 Donetsk", "link": "https://stackoverflow.com/users/5367706/razor23-donetsk"}, "is_accepted": false, "score": 0, "last_activity_date": 1604173898, "creation_date": 1604173898, "answer_id": 64625805, "question_id": 49781548, "link": "https://stackoverflow.com/questions/49781548/database-operation-expected-to-affect-1-rows-but-actually-affected-0-rows/64625805#64625805", "title": "Database operation expected to affect 1 row(s) but actually affected 0 row(s)", "body": "<p>Make sure the generated SQL-query can actually reach the targeted row.\nIn my case the query looked like this:</p>\n<pre><code>UPDATE [Users] SET .....\nWHERE [Id] = @p34 AND [ConcurrencyStamp] = null;\n</code></pre>\n<p>but 'ConcurrencyStamp' contained a not-null value so there was nothing to update.</p>\n"}], "owner": {"reputation": 12422, "user_id": 6527049, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/smnwW.jpg?s=128&g=1", "display_name": "vivek nuna", "link": "https://stackoverflow.com/users/6527049/vivek-nuna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27628, "favorite_count": 0, "accepted_answer_id": 49824525, "answer_count": 6, "score": 9, "last_activity_date": 1604173898, "creation_date": 1523469064, "last_edit_date": 1523519112, "question_id": 49781548, "link": "https://stackoverflow.com/questions/49781548/database-operation-expected-to-affect-1-rows-but-actually-affected-0-rows", "title": "Database operation expected to affect 1 row(s) but actually affected 0 row(s)", "body": "<p>I'm trying to insert records in two tables, but getting the exception. Could you please help me to resolve the issue.</p>\n\n<p>First I tried the below code.</p>\n\n<pre><code>await _testRepository.InsertAsync(test);\nawait _xyzRepository.InsertAsync(xyz);\n</code></pre>\n\n<p>Then I tried this code, But nothing is working for me.</p>\n\n<pre><code>try\n{\n   var test = new Test();\n\n   using (var uow = _unitOfWorkManager.Begin(TransactionScopeOption.RequiresNew))\n   {\n      int? tenantId = _unitOfWorkManager.Current.GetTenantId();\n      using (_unitOfWorkManager.Current.SetTenantId(tenantId))\n      {\n         await _testRepository.InsertAsync(test);\n\n         var xyz = new XYZ();\n         await _xyzRepository.InsertAsync(xyz);\n         await _unitOfWorkManager.Current.SaveChangesAsync();\n         await uow.CompleteAsync();\n      }\n   }\n}\ncatch (Exception ex)\n{\n   throw new UserFriendlyException(ex.Message);\n}\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<p><strong>Message:</strong></p>\n\n<blockquote>\n  <p>Database operation expected to affect 1 row(s) but actually affected 0\n  row(s). Data may have been modified or deleted since entities were\n  loaded. See <a href=\"http://go.microsoft.com/fwlink/?LinkId=527962\" rel=\"noreferrer\">http://go.microsoft.com/fwlink/?LinkId=527962</a> for\n  information on understanding and handling optimistic concurrency\n  exceptions.</p>\n</blockquote>\n\n<p><strong>stack trace:</strong> </p>\n\n<blockquote>\n  <p>at\n  Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyException(Int32\n  commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected) at\n  Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.d__4.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.d__2.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.d__32.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.d__10.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.d__7`2.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.d__61.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.d__59.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.EntityFrameworkCore.DbContext.d__48.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Abp.EntityFrameworkCore.AbpDbContext.d__49.MoveNext()\n  in\n  D:\\Github\\aspnetboilerplate\\src\\Abp.EntityFrameworkCore\\EntityFrameworkCore\\AbpDbContext.cs:line\n  214</p>\n  \n  <p>INFO 2018-04-11 13:59:53,439 [3 ]\n  ore.Mvc.Internal.ControllerActionInvoker - Executing action method\n  MyCompany.MyProject.AdditionalMasterData.Tests.TestsAppService.CreateOrEdit\n  (MyCompany.MyProject.Application) with arguments ([CreateOrEditTestDto\n  ]) - ModelState is Valid WARN 2018-04-11 14:01:48,396 [4 ]\n  Mvc.ExceptionHandling.AbpExceptionFilter - Database operation expected\n  to affect 1 row(s) but actually affected 0 row(s). Data may have been\n  modified or deleted since entities were loaded. See\n  <a href=\"http://go.microsoft.com/fwlink/?LinkId=527962\" rel=\"noreferrer\">http://go.microsoft.com/fwlink/?LinkId=527962</a> for information on\n  understanding and handling optimistic concurrency exceptions.\n  Abp.UI.UserFriendlyException: Database operation expected to affect 1\n  row(s) but actually affected 0 row(s). Data may have been modified or\n  deleted since entities were loaded. See\n  <a href=\"http://go.microsoft.com/fwlink/?LinkId=527962\" rel=\"noreferrer\">http://go.microsoft.com/fwlink/?LinkId=527962</a> for information on\n  understanding and handling optimistic concurrency exceptions. at\n  MyCompany.MyProject.AdditionalMasterData.Tests.TestsAppService.d__7.MoveNext()\n  in\n  C:\\Repo\\MyProjectVenues\\aspnet-core\\src\\MyCompany.MyProject.Application\\AdditionalMasterData\\Tests\\TestsAppService.cs:line\n  205\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  MyCompany.MyProject.AdditionalMasterData.Tests.TestsAppService.d__6.MoveNext()\n  in\n  C:\\Repo\\MyProjectVenues\\aspnet-core\\src\\MyCompany.MyProject.Application\\AdditionalMasterData\\Tests\\TestsAppService.cs:line\n  170\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.d__12.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.d__10.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext\n  context) at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State&amp;\n  next, Scope&amp; scope, Object&amp; state, Boolean&amp; isCompleted) at\n  Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.d__14.MoveNext()\n  --- End of stack trace from previous location where exception was thrown --- at\n  System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() at\n  System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task\n  task) at\n  Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.d__23.MoveNext()</p>\n</blockquote>\n\n<p><strong>Update</strong></p>\n\n<p>I have got the root cause of the issue.</p>\n\n<p>So basically I have an insert trigger on Entity2 and When I have commented the query inside this trigger and then its working fine.</p>\n\n<p>There are approximately 10 queries in this trigger and it's very hard to know which one is causing the problem. So could you please let me know how to debug this trigger?</p>\n"}, {"tags": ["c#", "rest", "odata"], "answers": [{"tags": [], "owner": {"reputation": 1076, "user_id": 1354966, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d567d978b039511d35fb156adf75ecf4?s=128&d=identicon&r=PG", "display_name": "Cubatown", "link": "https://stackoverflow.com/users/1354966/cubatown"}, "is_accepted": false, "score": 0, "last_activity_date": 1523470779, "creation_date": 1523470779, "answer_id": 49781986, "question_id": 49781543, "link": "https://stackoverflow.com/questions/49781543/cannot-find-http-resource-on-odata-rest-api/49781986#49781986", "title": "Cannot find HTTP resource on OData REST API", "body": "<p>Make sure that your WebApiConfig.cs file has the following: </p>\n\n<pre><code>config.MapODataServiceRoute(\n            routeName: \"ODataRoute\",\n            routePrefix: null,\n            model: builder.GetEdmModel(),\n            defaultHandler: HttpClientFactory.CreatePipeline(innerHandler: new HttpControllerDispatcher(config),\n            handlers: new[] { new ODataNullValueMessageHandler() }));\n</code></pre>\n\n<p>This will allow your route to be <a href=\"http://localhost:51578/Managers\" rel=\"nofollow noreferrer\">http://localhost:51578/Managers</a> since we set \"routePrefix\" to null. If route prefix had something else like \"v4\" your url would look like <a href=\"http://localhost:51578/v4/Managers\" rel=\"nofollow noreferrer\">http://localhost:51578/v4/Managers</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 8865316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8455bfb431b9a950098eb5d7a60224a4?s=128&d=identicon&r=PG&f=1", "display_name": "jomanrones", "link": "https://stackoverflow.com/users/8865316/jomanrones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523470779, "creation_date": 1523469039, "question_id": 49781543, "link": "https://stackoverflow.com/questions/49781543/cannot-find-http-resource-on-odata-rest-api", "title": "Cannot find HTTP resource on OData REST API", "body": "<p>Hi I have an OData API that I'm trying to run locally but whenever it is being run I cannot load any of the resources.  When I run the API, I get this screen with the information on the entities.\n<a href=\"https://i.stack.imgur.com/UWhLB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Whenever I try to navigate to one using a URL such as <a href=\"http://localhost:51578/Managers\" rel=\"nofollow noreferrer\">http://localhost:51578/Managers</a>, I get an error saying No HTTP resource was found that matches the request URI '<a href=\"http://localhost:51578/Managers\" rel=\"nofollow noreferrer\">http://localhost:51578/Managers</a>'.  Here is the code I have for the Manager Controller.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public class ManagerController : ODataController\r\n    {\r\n        DatabaseContext db = new DatabaseContext();\r\n        private bool ManagerExists(Guid key)\r\n        {\r\n            return db.Managers.Any(p =&gt; p.Id == key);\r\n        }\r\n\r\n        protected override void Dispose(bool disposing)\r\n        {\r\n            db.Dispose();\r\n            base.Dispose(disposing);\r\n        }\r\n\r\n        [EnableQuery]\r\n        public SingleResult&lt;Manager&gt; Get([FromODataUri] Guid key)\r\n        {\r\n            IQueryable&lt;Manager&gt; result = db.Managers.Where(p =&gt; p.Id == key);\r\n            return SingleResult.Create(result);\r\n        }\r\n\r\n        [HttpPost]\r\n        public async Task&lt;IHttpActionResult&gt; Post(Manager manager)\r\n        {\r\n            if (!ModelState.IsValid)\r\n            {\r\n                return BadRequest(ModelState);\r\n            }\r\n            db.Managers.Add(manager);\r\n            await db.SaveChangesAsync();\r\n            return Created(manager);\r\n        }\r\n\r\n        [HttpPatch]\r\n        public async Task&lt;IHttpActionResult&gt; Patch([FromODataUri] Guid key, Delta&lt;Manager&gt; manager)\r\n        {\r\n            if (!ModelState.IsValid)\r\n            {\r\n                return BadRequest(ModelState);\r\n            }\r\n            var entity = await db.Managers.FindAsync(key);\r\n            if (entity == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n            manager.Patch(entity);\r\n            try\r\n            {\r\n                await db.SaveChangesAsync();\r\n            }\r\n            catch (DbUpdateConcurrencyException)\r\n            {\r\n                if (!ManagerExists(key))\r\n                {\r\n                    return NotFound();\r\n                }\r\n                else\r\n                {\r\n                    throw;\r\n                }\r\n            }\r\n            return Updated(entity);\r\n        }\r\n\r\n        [HttpPut]\r\n        public async Task&lt;IHttpActionResult&gt; Put([FromODataUri] Guid key, Manager update)\r\n        {\r\n            if (!ModelState.IsValid)\r\n            {\r\n                return BadRequest(ModelState);\r\n            }\r\n            if (key != update.Id)\r\n            {\r\n                return BadRequest();\r\n            }\r\n            db.Entry(update).State = EntityState.Modified;\r\n            try\r\n            {\r\n                await db.SaveChangesAsync();\r\n            }\r\n            catch (DbUpdateConcurrencyException)\r\n            {\r\n                if (!ManagerExists(key))\r\n                {\r\n                    return NotFound();\r\n                }\r\n                else\r\n                {\r\n                    throw;\r\n                }\r\n            }\r\n            return Updated(update);\r\n        }\r\n\r\n        [HttpDelete]\r\n        public async Task&lt;IHttpActionResult&gt; Delete([FromODataUri] Guid key)\r\n        {\r\n            var manager = await db.Managers.FindAsync(key);\r\n            if (manager == null)\r\n            {\r\n                return NotFound();\r\n            }\r\n            db.Managers.Remove(manager);\r\n            await db.SaveChangesAsync();\r\n            return StatusCode(HttpStatusCode.NoContent);\r\n        }\r\n\r\n\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["c#", "wpf", "containers", "overlapping", "panels"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1523470482, "post_id": 49781518, "comment_id": 86579118, "body": "All of them, if you allow negative margins. Why are you asking?"}, {"owner": {"reputation": 279, "user_id": 926837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ab97c162b4bfc95bf3a5d29080c924f9?s=128&d=identicon&r=PG", "display_name": "Relok", "link": "https://stackoverflow.com/users/926837/relok"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1523471429, "post_id": 49781518, "comment_id": 86579584, "body": "I want a numeric Texblock over a Rectangle Element and be perfectly centered above it, it&#39;s a counter over a Rounded Rectangle element. Rectangle element and a group of other elements are inside a DockPanel, now I have to add just this new element exactly above the Rectangle and centered above it."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1523472288, "post_id": 49781518, "comment_id": 86580014, "body": "Putting two elements in the same column and row of a Grid would of course also work."}], "answers": [{"comments": [{"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1523472405, "post_id": 49782314, "comment_id": 86580067, "body": "You realise there are some severe limitations to that positioning you&#39;re doing there?"}, {"owner": {"reputation": 279, "user_id": 926837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ab97c162b4bfc95bf3a5d29080c924f9?s=128&d=identicon&r=PG", "display_name": "Relok", "link": "https://stackoverflow.com/users/926837/relok"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1523472686, "post_id": 49782314, "comment_id": 86580250, "body": "Yes, for istance that the margin depends on the size of previous rectangle, and so I should bind to that size, is one thing I want to try to fix, If I don&#39;t declare x:Name (which maybe is not a good idea since those are multiple rectangles from a collection inside the DataTemplate of an ItemsControl element) for previous Rectangle control I&#39;ve not yet found the correct expression to bind to previous declared item inside that DockPanel, can you suggest how to do that with only XAML ?"}, {"owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1523474901, "post_id": 49782314, "comment_id": 86581376, "body": "Why are you using a dockpanel? I think a grid would be my inclination. Then put rectangle and textblock in same &quot;cell&quot; and use alignment."}, {"owner": {"reputation": 279, "user_id": 926837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ab97c162b4bfc95bf3a5d29080c924f9?s=128&d=identicon&r=PG", "display_name": "Relok", "link": "https://stackoverflow.com/users/926837/relok"}, "reply_to_user": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "edited": false, "score": 0, "creation_date": 1523478369, "post_id": 49782314, "comment_id": 86583240, "body": "I will try that."}], "tags": [], "owner": {"reputation": 279, "user_id": 926837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ab97c162b4bfc95bf3a5d29080c924f9?s=128&d=identicon&r=PG", "display_name": "Relok", "link": "https://stackoverflow.com/users/926837/relok"}, "is_accepted": false, "score": 0, "last_activity_date": 1523473039, "last_edit_date": 1523473039, "creation_date": 1523472033, "answer_id": 49782314, "question_id": 49781518, "link": "https://stackoverflow.com/questions/49781518/what-panels-and-containers-allow-overlapping-of-ui-elements/49782314#49782314", "title": "What panels and containers allow Overlapping of UI elements", "body": "<p>Ok I was able to do this with Clemens support:</p>\n\n<pre><code>&lt;TextBlock TextWrapping=\"Wrap\" Text=\"16\"\n                                   Margin=\"-32,0,0,0\" Height=\"16\"\n                                   HorizontalAlignment=\"Center\" /&gt;\n</code></pre>\n\n<p>--Answering to another question my XAML for whole control looks like this:</p>\n\n<pre><code>&lt;ItemsControl ItemsSource=\"{Binding (local:MainWindow.CurrentPaletteSet)}\" Width=\"400\" Margin=\"665,67,14,-67\"&gt;\n            &lt;ItemsControl.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;DockPanel HorizontalAlignment=\"Left\" Height=\"32\" LastChildFill=\"False\" Margin=\"10,0,0,10\"\n                               VerticalAlignment=\"Top\"&gt;\n                        &lt;Rectangle Fill=\"{Binding (extensions:PaletteColor.FillBrush)}\" Height=\"32\" RadiusY=\"4\"\n                                   RadiusX=\"4\"\n                                   Stroke=\"#FF000000\" Width=\"32\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"\n                                   MouseLeftButtonUp=\"TargetColorClick\"\n                                   ToolTip=\"{Binding (extensions:PaletteColor.Name)}\" /&gt;\n                        &lt;TextBlock TextWrapping=\"Wrap\" Text=\"16\"\n                                   Margin=\"-32,0,0,0\" Height=\"16\"\n                                   HorizontalAlignment=\"Center\" /&gt;\n                        &lt;TextBlock TextWrapping=\"Wrap\" Text=\"{Binding (extensions:PaletteColor.FullRgbString)}\"\n                                   Margin=\"5,0,0,0\" Height=\"16\"\n                                   HorizontalAlignment=\"Left\" DockPanel.Dock=\"Top\" /&gt;\n                        &lt;TextBlock TextWrapping=\"Wrap\" Text=\"{Binding (extensions:PaletteColor.FullHslString)}\"\n                                   Margin=\"5,0,0,0\"\n                                   Height=\"16\" HorizontalAlignment=\"Left\" DockPanel.Dock=\"Top\" MinWidth=\"121\" /&gt;\n                    &lt;/DockPanel&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ItemsControl.ItemTemplate&gt;\n            &lt;ItemsControl.ItemsPanel&gt;\n                &lt;ItemsPanelTemplate&gt;\n                    &lt;WrapPanel /&gt;\n                &lt;/ItemsPanelTemplate&gt;\n            &lt;/ItemsControl.ItemsPanel&gt;&lt;/ItemsControl&gt;\n</code></pre>\n"}], "owner": {"reputation": 279, "user_id": 926837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ab97c162b4bfc95bf3a5d29080c924f9?s=128&d=identicon&r=PG", "display_name": "Relok", "link": "https://stackoverflow.com/users/926837/relok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1523473039, "creation_date": 1523468961, "last_edit_date": 1523471626, "question_id": 49781518, "link": "https://stackoverflow.com/questions/49781518/what-panels-and-containers-allow-overlapping-of-ui-elements", "title": "What panels and containers allow Overlapping of UI elements", "body": "<p>What are the panels and containers that allow overlapping with varying z-index ? (escluding Canvas)</p>\n\n<p>--Since I was asked for details this is part of the code:</p>\n\n<pre><code> &lt;DockPanel HorizontalAlignment=\"Left\" Height=\"32\" LastChildFill=\"False\" Margin=\"10,0,0,10\"\n                               VerticalAlignment=\"Top\"&gt;\n                        &lt;Rectangle Fill=\"{Binding (extensions:PaletteColor.FillBrush)}\" Height=\"32\" RadiusY=\"4\"\n                                   RadiusX=\"4\"\n                                   Stroke=\"#FF000000\" Width=\"32\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\"\n                                   MouseLeftButtonUp=\"TargetColorClick\"\n                                   ToolTip=\"{Binding (extensions:PaletteColor.Name)}\" /&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1670, "user_id": 3953989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d0b1034785f9803774157b0963662eb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3953989", "link": "https://stackoverflow.com/users/3953989/user3953989"}, "reply_to_user": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523469208, "post_id": 49781467, "comment_id": 86578445, "body": "@ManfredRadlwimmer Sorry, code updated"}, {"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 1, "creation_date": 1523469382, "post_id": 49781467, "comment_id": 86578538, "body": "If this is part of the same project as your previous question about async TCP communication, I highly recomment <b>not</b> using the BinaryFormatter. You can find this warning in <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/serialization/binary-serialization\" rel=\"nofollow noreferrer\">the documentation</a>: <i>&quot;Binary serialization can be dangerous. Never deserialize data from an untrusted source and never round-trip serialized data to systems not under your control.&quot;</i>"}, {"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 1, "creation_date": 1523469477, "post_id": 49781467, "comment_id": 86578592, "body": "As for the actual question. As far as I know, the BinaryFormatter should know which type was serialized (I think the type name is even included in the serialized data). Your deserialization method should already return a <code>TestMessage</code>, you just need to check if it is one, e.g. with <code>if(message is TestMessage)</code>."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523469599, "post_id": 49781467, "comment_id": 86578656, "body": "Do you know, from the caller side, if it is a <code>Message</code> or derived <code>Message</code>?"}, {"owner": {"reputation": 1670, "user_id": 3953989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d0b1034785f9803774157b0963662eb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3953989", "link": "https://stackoverflow.com/users/3953989/user3953989"}, "reply_to_user": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523469717, "post_id": 49781467, "comment_id": 86578730, "body": "@ManfredRadlwimmer Thanks for that article. Wasn&#39;t aware but I guess it should be pretty obvious the security risks for it. It&#39;ll only be used in a closed environment but good knowledge to have."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1523470383, "post_id": 49781467, "comment_id": 86579067, "body": "Are the serialization methods part of the <code>Message</code> class?"}, {"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1523470511, "post_id": 49781467, "comment_id": 86579134, "body": "@JuanR <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/serialization/binary-serialization\" rel=\"nofollow noreferrer\">No</a>"}, {"owner": {"reputation": 1670, "user_id": 3953989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d0b1034785f9803774157b0963662eb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3953989", "link": "https://stackoverflow.com/users/3953989/user3953989"}, "reply_to_user": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 1, "creation_date": 1523473071, "post_id": 49781467, "comment_id": 86580433, "body": "@ManfredRadlwimmer You are correct again. My problem was actually due to not marking my class as Serializable, I just didn&#39;t see the correct exception because of problems with my async exception handling. If you&#39;d like to make an answer I&#39;ll mark it as correct. Thank you again"}, {"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 1, "creation_date": 1523476085, "post_id": 49781467, "comment_id": 86582009, "body": "@user3953989 This would be a good opportunity for a self-answer, which is perfectly acceptable on StackOverflow. Just make sure to include all details that lead you to find that mistake so it might be helpful for other users too. Feel free to @ me when you do so I can upvote it."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 1, "creation_date": 1523485501, "post_id": 49781467, "comment_id": 86585956, "body": "@user3953989: For future reference, if you encounter an exception, please note that in your post and provide the exception stack if possible so we can better help you."}], "answers": [{"comments": [{"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523469915, "post_id": 49781759, "comment_id": 86578833, "body": "This is completely wrong and misleading. (The last sentence anyways)"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523469978, "post_id": 49781759, "comment_id": 86578863, "body": "@ManfredRadlwimmer: I can rephrase it a little but if you are going to criticize the answer, please be kind enough to explain your rationale."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523469995, "post_id": 49781759, "comment_id": 86578872, "body": "I will augment with a sample to illustrate."}, {"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523470077, "post_id": 49781759, "comment_id": 86578912, "body": "All messages are going to be types derived of <code>Message</code> so the <code>as Message</code> is the sensible thing to do. Changing the return type to object will not be helpful in any way and does not solve <i>any</i> problems. The only thing missing (as I&#39;ve already mentioned in the comments) is a check what kind of message it actually is."}, {"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523470149, "post_id": 49781759, "comment_id": 86578950, "body": "What bothers me most about your explanation is the last sentence <i>&quot;Return type object from your method to get the actual type back.&quot;</i> which is completely false."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523470295, "post_id": 49781759, "comment_id": 86579026, "body": "@ManfredRadlwimmer: Thank you. I rephrased my answer as it was indeed misleading."}, {"owner": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523470384, "post_id": 49781759, "comment_id": 86579068, "body": "Still not really a full answer, but at least it&#39;s not wrong anymore (downvote removed)"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 12394, "user_id": 3214843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/44vdp.png?s=128&g=1", "display_name": "Manfred Radlwimmer", "link": "https://stackoverflow.com/users/3214843/manfred-radlwimmer"}, "edited": false, "score": 0, "creation_date": 1523470943, "post_id": 49781759, "comment_id": 86579349, "body": "@ManfredRadlwimmer: I added some more stuff, including an alternative using generics. Thanks for removing the downvote."}], "tags": [], "owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "is_accepted": false, "score": 1, "last_activity_date": 1523470885, "last_edit_date": 1523470885, "creation_date": 1523469865, "answer_id": 49781759, "question_id": 49781467, "link": "https://stackoverflow.com/questions/49781467/deserialize-derived-type-when-base-class-is-passed-in-as-param/49781759#49781759", "title": "Deserialize derived type when base class is passed in as param", "body": "<p>The serialized version contains information about the type. When you deserialize the byte array, the object will be of the original type.</p>\n\n<p>You can verify this by debugging your code.</p>\n\n<p>You should be able to cast it back to the original type once you get the result of the call to <code>DeserializeMessage</code>, provided you know what it is.</p>\n\n<p>Alternatively, you can modify your method to use generics:</p>\n\n<pre><code>public T DeserializeMessage&lt;T&gt;(byte[] data) where T:Message\n{\n    using (MemoryStream ms = new MemoryStream(data))\n    {\n        return (T)new BinaryFormatter().Deserialize(ms);\n    }\n}\n</code></pre>\n\n<p>Then call it like this:</p>\n\n<pre><code>var message = DeserializeMessage&lt;TestMessage&gt;(bytes);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1670, "user_id": 3953989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d0b1034785f9803774157b0963662eb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3953989", "link": "https://stackoverflow.com/users/3953989/user3953989"}, "is_accepted": true, "score": 0, "last_activity_date": 1523552974, "creation_date": 1523552974, "answer_id": 49802376, "question_id": 49781467, "link": "https://stackoverflow.com/questions/49781467/deserialize-derived-type-when-base-class-is-passed-in-as-param/49802376#49802376", "title": "Deserialize derived type when base class is passed in as param", "body": "<p>My problem was actually because I did not add <code>[Serializable]</code> to my <code>TestMessage</code> class. I was not seeing the exception because I was doing this work in an <code>async void</code> method which the caller can't catch the exception.</p>\n\n<p>As @Manfred Radlwimmer and @JuanR pointed out deserialization will happen correctly as is.</p>\n"}], "owner": {"reputation": 1670, "user_id": 3953989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d0b1034785f9803774157b0963662eb3?s=128&d=identicon&r=PG&f=1", "display_name": "user3953989", "link": "https://stackoverflow.com/users/3953989/user3953989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 49802376, "answer_count": 2, "score": 0, "last_activity_date": 1523552974, "creation_date": 1523468756, "last_edit_date": 1523469195, "question_id": 49781467, "link": "https://stackoverflow.com/questions/49781467/deserialize-derived-type-when-base-class-is-passed-in-as-param", "title": "Deserialize derived type when base class is passed in as param", "body": "<p>I have a set of methods to serialize/deserialize my custom Message class.</p>\n\n<p>This works fine for <code>Message</code> but not for derived classes like <code>TestMessage</code> since the deserializer obviously has no idea about the data and returns only what we tell it to.</p>\n\n<pre><code>public class Message \n{\n    public string Name {get; set; }\n}\n\npublic class TestMessage : Message\n{\n    public string OtherString {get; set; }\n}\n\npublic byte[] SerializeMessage(Message message)\n{\n    using (MemoryStream fs = new MemoryStream())\n    {\n        new BinaryFormatter().Serialize(fs, message);\n        return fs.ToArray();\n    }\n}\npublic Message DeserializeMessage(byte[] data)\n{\n    using (MemoryStream ms = new MemoryStream(data))\n    {\n        return new BinaryFormatter().Deserialize(ms) as Message;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "ssis", "dts"], "comments": [{"owner": {"reputation": 3604, "user_id": 152118, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/b70g1.jpg?s=128&g=1", "display_name": "Tarzan", "link": "https://stackoverflow.com/users/152118/tarzan"}, "edited": false, "score": 0, "creation_date": 1523476844, "post_id": 49781457, "comment_id": 86582454, "body": "Which line gives you the error?"}, {"owner": {"reputation": 11, "user_id": 9593244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed41ca144bd051afc861bf2050f24d0?s=128&d=identicon&r=PG&f=1", "display_name": "Stevo", "link": "https://stackoverflow.com/users/9593244/stevo"}, "reply_to_user": {"reputation": 3604, "user_id": 152118, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/b70g1.jpg?s=128&g=1", "display_name": "Tarzan", "link": "https://stackoverflow.com/users/152118/tarzan"}, "edited": false, "score": 0, "creation_date": 1523478936, "post_id": 49781457, "comment_id": 86583516, "body": "Richard&#39;s suggestion was that instantiating the variable in a separate task would force it to be a list but it doesn&#39;t work for me even though this doesn&#39;t throw an error - Dts.Variables[&quot;User::pkg_FileList&quot;].Value = new List&lt;String&gt;();"}, {"owner": {"reputation": 11, "user_id": 9593244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed41ca144bd051afc861bf2050f24d0?s=128&d=identicon&r=PG&f=1", "display_name": "Stevo", "link": "https://stackoverflow.com/users/9593244/stevo"}, "reply_to_user": {"reputation": 3604, "user_id": 152118, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/b70g1.jpg?s=128&g=1", "display_name": "Tarzan", "link": "https://stackoverflow.com/users/152118/tarzan"}, "edited": false, "score": 0, "creation_date": 1523479077, "post_id": 49781457, "comment_id": 86583578, "body": "What I am trying now is this (extract into a table) but I get an error when trying to &quot;fill&quot; the table object.                  OleDbDataAdapter A = new OleDbDataAdapter();             DataTable dt = new DataTable();             A.Fill(dt, Dts.Variables[&quot;User::pkg_FileList&quot;].Value); //Error             List&lt;string&gt; myValues = new List&lt;string&gt;();"}, {"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1523552652, "post_id": 49781457, "comment_id": 86619072, "body": "What type is the <code>User::FileNamesList</code> variable? If you aren&#39;t sure, just throw an error in the script <code>throw new Exception(Dts.Variables[&quot;User::FileNamesList&quot;].GetType().Nam&zwnj;&#8203;e)</code> - this will get you the type name - maybe it&#39;s just a string array and not a list object? There&#39;s no cast to <code>List&lt;String&gt;</code> from <code>string[]</code> but you can <code>var list = new List&lt;string&gt;(); list.AddRange(stringArray);</code>"}, {"owner": {"reputation": 3604, "user_id": 152118, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/b70g1.jpg?s=128&g=1", "display_name": "Tarzan", "link": "https://stackoverflow.com/users/152118/tarzan"}, "edited": false, "score": 0, "creation_date": 1523561046, "post_id": 49781457, "comment_id": 86623424, "body": "Can you capture Dts.Variables[&quot;User::pkg_FileList&quot;].Value as a string? If so, what is the string&#39;s value?"}, {"owner": {"reputation": 11, "user_id": 9593244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed41ca144bd051afc861bf2050f24d0?s=128&d=identicon&r=PG&f=1", "display_name": "Stevo", "link": "https://stackoverflow.com/users/9593244/stevo"}, "edited": false, "score": 0, "creation_date": 1523627984, "post_id": 49781457, "comment_id": 86652173, "body": "Dts.Variables[&quot;User::FileNamesList&quot;].GetType().Name --returns &quot;Variable&quot;"}, {"owner": {"reputation": 11, "user_id": 9593244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed41ca144bd051afc861bf2050f24d0?s=128&d=identicon&r=PG&f=1", "display_name": "Stevo", "link": "https://stackoverflow.com/users/9593244/stevo"}, "edited": false, "score": 0, "creation_date": 1523628059, "post_id": 49781457, "comment_id": 86652224, "body": "Dts.Variables[&quot;User::FileNamesList&quot;].Value.ToString() -- returns &quot;System.Object[]&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1523552559, "post_id": 49802183, "comment_id": 86619031, "body": "If the OP has already tried a cast here: <code>myList = myVariable as List&lt;String&gt;;</code> why would this explicit cast work any different?"}, {"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "reply_to_user": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1523552755, "post_id": 49802183, "comment_id": 86619122, "body": "I do not remember why but I had similar issue using the var instead of Object.  I think it may be because the SSIS variable type is an object.  I can not remember exactly why though"}, {"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1523562150, "post_id": 49802183, "comment_id": 86624017, "body": "Yeah but using <code>var</code> just tells the compiler to infer the variable type, it will just be whatever type the object that&#39;s assigned to it is. In this case probably <code>Object</code> since you can stuff whatever type you want inside the package variables."}, {"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "reply_to_user": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1523562419, "post_id": 49802183, "comment_id": 86624155, "body": "True, but I remember having some issue doing that inside SSIS (it worked fine not in SSIS, but when I moved it to SSIS I had to update to the above)"}, {"owner": {"reputation": 11, "user_id": 9593244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed41ca144bd051afc861bf2050f24d0?s=128&d=identicon&r=PG&f=1", "display_name": "Stevo", "link": "https://stackoverflow.com/users/9593244/stevo"}, "edited": false, "score": 0, "creation_date": 1523628270, "post_id": 49802183, "comment_id": 86652379, "body": "The preceding Cozy Roc task which gets the File Name List requires that it writes into a System.Object variable or it won&#39;t work. The way I understand is that System.Object is a very complex and general object and it can store anything including an array of tables so there should be some way to cast it using a logic like &quot;Get the first array in System.Object and then loop through that to get each individual value&quot; and build a list that way."}], "tags": [], "owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "is_accepted": false, "score": 1, "last_activity_date": 1523552229, "creation_date": 1523552229, "answer_id": 49802183, "question_id": 49781457, "link": "https://stackoverflow.com/questions/49781457/convert-package-variable-of-type-system-object-to-a-liststring-with-ssis-c-sc/49802183#49802183", "title": "Convert package variable of type System.Object to a List&lt;String&gt; with SSIS C# Script", "body": "<p>IN SSIS you have to grab the variable into an object variable, then convert to list like this:</p>\n\n<pre><code>Object ObjFileNamesList= Dts.Variables[\"User::FileNamesList\"].Value;\nList&lt;string&gt; lstFileNamesList = (List&lt;string&gt;)ObjFileNamesList;\n\n// then do your list logic here\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9593244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed41ca144bd051afc861bf2050f24d0?s=128&d=identicon&r=PG&f=1", "display_name": "Stevo", "link": "https://stackoverflow.com/users/9593244/stevo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2232, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1523552229, "creation_date": 1523468700, "last_edit_date": 1523479237, "question_id": 49781457, "link": "https://stackoverflow.com/questions/49781457/convert-package-variable-of-type-system-object-to-a-liststring-with-ssis-c-sc", "title": "Convert package variable of type System.Object to a List&lt;String&gt; with SSIS C# Script", "body": "<p>my question is simple yet the headache I get from it is quite serious. In a SSIS package, how can I convert a System.Object package variable at run time  into a list of strings with a C# script so I can then select the Max value from this list and assign back to another package variable. </p>\n\n<p>(Details:)\nIn SSIS i have a preceding Cozy Roc task which gets the list of file names from a remote SFTP directory and saves it into a local (package) variable \"FilesNamesList\" of type System.Object. What I would like to do with a C# script task is to parse this object variable into a list so I can then select the Max Value/File Name and assign it to another package variable \"LastFileName\" of type string. I will then use this second variable to download only the file with this name thru SFTP. Here is the non_working code.</p>\n\n<pre><code>    String myString;\n    List&lt;String&gt; myList;\n    var myVariable = Dts.Variables[\"User::FileNamesList\"];\n    myList = myVariable as List&lt;String&gt;; //Main Challenge\n    myString = myList.Max();\n    Dts.Variables.[\"User::LastFileName\"] = myString;\n</code></pre>\n\n<p>Second option I am trying with is to extract into a table object but I still get an error trying to fill the table:   </p>\n\n<pre><code>    OleDbDataAdapter A = new OleDbDataAdapter();\n    DataTable dt = new DataTable();\n    A.Fill(dt, Dts.Variables[\"User::pkg_FileList\"].Value); //Error\n    List&lt;string&gt; myValues = new List&lt;string&gt;();\n</code></pre>\n"}, {"tags": ["c#", "winapi", "uwp", "toast"], "comments": [{"owner": {"reputation": 545, "user_id": 3024122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5ce250b24329a2744a67d894e43648fe?s=128&d=identicon&r=PG&f=1", "display_name": "v.chjen", "link": "https://stackoverflow.com/users/3024122/v-chjen"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1523469078, "post_id": 49781367, "comment_id": 86578381, "body": "Could you share a reference to that information please?"}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 2, "creation_date": 1523502773, "post_id": 49781367, "comment_id": 86589921, "body": "I have no idea how this question was marked as &#39;Too Broad```.  That&#39;s just stupid.  It&#39;s a very specific question, can you detect if another app throws a toast notification? I don&#39;t know the answer but I&#39;m curious and if you can get this question any &quot;less broad&quot; then go for it. The powers that be on this site seriously need limited to some people.  This is ridiculously abused. The question is short, simple, and to the point, and IMO a very valid question. Profiles for the SOF powers that be marking it too broad also have no experience in UWP."}], "answers": [{"comments": [{"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "edited": false, "score": 0, "creation_date": 1523479416, "post_id": 49781770, "comment_id": 86583733, "body": "Why was this down voted? At least state why it is the wrong solution when you down vote :("}, {"owner": {"reputation": 887, "user_id": 1454643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a66is.jpg?s=128&g=1", "display_name": "Andrew Leader", "link": "https://stackoverflow.com/users/1454643/andrew-leader"}, "edited": false, "score": 4, "creation_date": 1523499004, "post_id": 49781770, "comment_id": 86589082, "body": "No clue why people downvoted it. This is the correct answer (I&#39;m the owner of the Win10 notification features)."}, {"owner": {"reputation": 5874, "user_id": 3930378, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zBZC4.jpg?s=128&g=1", "display_name": "Michael Puckett II", "link": "https://stackoverflow.com/users/3930378/michael-puckett-ii"}, "edited": false, "score": 2, "creation_date": 1523503086, "post_id": 49781770, "comment_id": 86589964, "body": "I like the answer, was curious myself, and I&#39;m discouraged as to why the question and answer was down voted as well as why it was marked <code>too broad</code>. Some of the people with power on this site are abusing it. This is frustrating.  Thank you for the question up top and thank you for the answer here."}, {"owner": {"reputation": 857, "user_id": 2355176, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/AHxE2.jpg?s=128&g=1", "display_name": "Zain Ul Abidin", "link": "https://stackoverflow.com/users/2355176/zain-ul-abidin"}, "edited": false, "score": 2, "creation_date": 1609927219, "post_id": 49781770, "comment_id": 115971297, "body": "i am replying on the comment after two years i know it&#39;s too late but i am writing this comment just to tell you that, your solution is perfect and working and to motivate you and tell you that you wasn&#39;t wrong. Cheers . .Happy new year by the way"}, {"owner": {"reputation": 1762, "user_id": 1757529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wyx9s.png?s=128&g=1", "display_name": "Dave Smits", "link": "https://stackoverflow.com/users/1757529/dave-smits"}, "edited": false, "score": 0, "creation_date": 1610023668, "post_id": 49781770, "comment_id": 116005306, "body": "haha thanks :) appreciated. Happy new year"}], "tags": [], "owner": {"reputation": 1762, "user_id": 1757529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wyx9s.png?s=128&g=1", "display_name": "Dave Smits", "link": "https://stackoverflow.com/users/1757529/dave-smits"}, "is_accepted": false, "score": 9, "last_activity_date": 1523469909, "creation_date": 1523469909, "answer_id": 49781770, "question_id": 49781367, "link": "https://stackoverflow.com/questions/49781367/how-do-i-capture-toast-notifications-send-from-other-processes-in-windows-10/49781770#49781770", "title": "How do I capture toast notifications send from other processes in Windows 10?", "body": "<p>you can listen to all notifications happening on windows via a notification listener: <a href=\"https://docs.microsoft.com/en-us/windows/uwp/design/shell/tiles-and-notifications/notification-listener\" rel=\"noreferrer\">https://docs.microsoft.com/en-us/windows/uwp/design/shell/tiles-and-notifications/notification-listener</a></p>\n"}], "owner": {"reputation": 545, "user_id": 3024122, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5ce250b24329a2744a67d894e43648fe?s=128&d=identicon&r=PG&f=1", "display_name": "v.chjen", "link": "https://stackoverflow.com/users/3024122/v-chjen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1926, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1608452841, "creation_date": 1523468368, "last_edit_date": 1608406181, "question_id": 49781367, "link": "https://stackoverflow.com/questions/49781367/how-do-i-capture-toast-notifications-send-from-other-processes-in-windows-10", "title": "How do I capture toast notifications send from other processes in Windows 10?", "body": "<p>Is there a way to detect toast notifications being shown by other apps in Windows 10?</p>\n"}, {"tags": ["c#", "uwp"], "answers": [{"tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": false, "score": 6, "last_activity_date": 1523502606, "creation_date": 1523502606, "answer_id": 49787357, "question_id": 49781228, "link": "https://stackoverflow.com/questions/49781228/open-a-folder-in-file-explorer-from-a-uwp-c-app/49787357#49787357", "title": "Open a folder in File Explorer from a UWP C# app", "body": "<p>For <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.system.launcher.launchuriasync\" rel=\"noreferrer\"><code>LaunchUriAsync</code></a>, you cannot use this method to launch a URI in the local zone. For example, apps cannot use the <strong>file:///</strong> protocol to access files on the local computer. Instead, you must use the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage\" rel=\"noreferrer\"><code>Storage APIs</code></a> to access files.</p>\n\n<p>If you want to open files or folders, you could use picker. For more, you could refer <a href=\"https://docs.microsoft.com/en-us/windows/uwp/files/quickstart-using-file-and-folder-pickers\" rel=\"noreferrer\">Open files and folders with a picker</a>.</p>\n\n<blockquote>\n  <p>I understand it's an access/permission issue with LaunchFolderAsync</p>\n</blockquote>\n\n<p><a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.system.launcher.launchfolderasync\" rel=\"noreferrer\"><code>LaunchFolderAsync(IStorageFolder)</code></a> method is use to<br>\nlaunche File Explorer and displays the contents of the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.knownfolders\" rel=\"noreferrer\"><strong>specified</strong></a> folder.</p>\n"}], "owner": {"reputation": 675, "user_id": 308032, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/47c569a435c43a5940eddbfb3523c311?s=128&d=identicon&r=PG", "display_name": "Carlo Mendoza", "link": "https://stackoverflow.com/users/308032/carlo-mendoza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1523502606, "creation_date": 1523467870, "question_id": 49781228, "link": "https://stackoverflow.com/questions/49781228/open-a-folder-in-file-explorer-from-a-uwp-c-app", "title": "Open a folder in File Explorer from a UWP C# app", "body": "<p>I'd like to open a folder like <code>C:\\myprojects\\project1</code> in File Explorer from a UWP C# app.</p>\n\n<p>I've looked at methods under <code>Windows.System.Launcher</code> like <code>LaunchFolderAsync</code> and <code>LaunchUriAsync</code>, but they don't work.</p>\n\n<p>I understand it's an access/permission issue with <code>LaunchFolderAsync</code> but don't understand why launching (<code>LaunchUriAsync</code>) an URI like <code>file://C:\\myprojects\\project1</code> is also not working.</p>\n"}, {"tags": ["c#", "tcp", "timeout", "tcpclient", "networkstream"], "comments": [{"owner": {"reputation": 564, "user_id": 8292526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6KMb.jpg?s=128&g=1", "display_name": "EggBender", "link": "https://stackoverflow.com/users/8292526/eggbender"}, "edited": false, "score": 0, "creation_date": 1523468499, "post_id": 49781221, "comment_id": 86578071, "body": "Note in MSDN that NetworkStream.Flush() does nothing yet. Reserved for future use."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1523468623, "post_id": 49781221, "comment_id": 86578137, "body": "What is the actual <code>IOException</code>? You are assuming timeout, however that isn&#39;t always the case, you need to look at the underlying <code>SocketException</code> to find the cause."}, {"owner": {"reputation": 564, "user_id": 8292526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6KMb.jpg?s=128&g=1", "display_name": "EggBender", "link": "https://stackoverflow.com/users/8292526/eggbender"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523468725, "post_id": 49781221, "comment_id": 86578199, "body": "Ok I will add that and test run it again."}, {"owner": {"reputation": 564, "user_id": 8292526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6KMb.jpg?s=128&g=1", "display_name": "EggBender", "link": "https://stackoverflow.com/users/8292526/eggbender"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523469301, "post_id": 49781221, "comment_id": 86578493, "body": "I printed the exception, hresult and exception code now. I edited my question and added it."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1523470112, "post_id": 49781221, "comment_id": 86578936, "body": "Next step is to open up a network profiler like Wireshark to see why the connection is being closed."}, {"owner": {"reputation": 564, "user_id": 8292526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6KMb.jpg?s=128&g=1", "display_name": "EggBender", "link": "https://stackoverflow.com/users/8292526/eggbender"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523470357, "post_id": 49781221, "comment_id": 86579054, "body": "Ok I will install it and take a look. If you or any others might know or have a clue of what&#39;s causing this please comment or answer. Thanks."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1523477909, "post_id": 49781221, "comment_id": 86582992, "body": "You&#39;ll surely have to fix the fundamental bugs to get ahead, you can never ignore the return value of Read().  Sending &quot;messages&quot; across tcp always requires a protocol.  A simple one is transmitting the message length first so the receiver knows how often to call Read()."}, {"owner": {"reputation": 564, "user_id": 8292526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6KMb.jpg?s=128&g=1", "display_name": "EggBender", "link": "https://stackoverflow.com/users/8292526/eggbender"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523501083, "post_id": 49781221, "comment_id": 86589550, "body": "@RonBeyer how so I check this in Wireshark? I am not familiar with this program."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523501304, "post_id": 49781221, "comment_id": 86589604, "body": "A tutorial on wireshark really isn&#39;t on topic here. You need to filter out the traffic in a capture to your ip/port and find the packet where the client disconnects/stops responding and look for errors."}, {"owner": {"reputation": 564, "user_id": 8292526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6KMb.jpg?s=128&g=1", "display_name": "EggBender", "link": "https://stackoverflow.com/users/8292526/eggbender"}, "edited": false, "score": 0, "creation_date": 1523502096, "post_id": 49781221, "comment_id": 86589791, "body": "Ok thanks. Will try."}], "owner": {"reputation": 564, "user_id": 8292526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M6KMb.jpg?s=128&g=1", "display_name": "EggBender", "link": "https://stackoverflow.com/users/8292526/eggbender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 944, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1523469218, "creation_date": 1523467838, "last_edit_date": 1523469218, "question_id": 49781221, "link": "https://stackoverflow.com/questions/49781221/networkstream-write-gets-stuck-what-should-i-do-after-write-timeout", "title": "NetworkStream.Write gets stuck. What should I do after Write timeout?", "body": "<p>I'm trying to send files from a TCPClient to a TCPListener with a 1000 byte buffer. The TCPClient is in one application \"server\" and the TCPListener is in another application \"client\". Both are running on localhost now when testing.\nMy problem is that the NetworkStream.Write method gets stuck (see the screenshots and code). I don't know why. After Googling I suspect that the socket buffers get full. So I set a WriteTimeout to 3000 ms to handle the problem. But I can't find a flush method that works in case full buffers is the problem. What should I do?</p>\n\n<p>The server code (the one that gets stuck in NetworkStream.Write):</p>\n\n<pre><code>private void fetchThreadMethod(Object commandArgs)\n    {\n        byte[] buffer = new byte[1000];\n        byte[] comMessage = new byte[35];\n        IPEndPoint localEP = new IPEndPoint(localIP,1304);\n        TcpClient client = new TcpClient(localEP);\n        client.Connect(localIP,1305);\n        Thread.Sleep(1000);\n        Console.WriteLine(\"SERVER: Connected to client.\");\n        NetworkStream nStream = client.GetStream();\n        client.NoDelay = true;\n        client.Client.NoDelay = true;\n        nStream.WriteTimeout = 3000;\n        FileCollector fCollector = new FileCollector();\n        String currUserVar = Environment.GetEnvironmentVariable(\"USERPROFILE\");\n        fCollector.startFileCollector(currUserVar + \"\\\\\" + commandArgs);\n        List&lt;FileNode&gt; collectedFiles = fCollector.getCollectedFiles();\n        ulong byteCount = 0;\n        FileStream fStream = null;\n\n        foreach (FileNode fNode in collectedFiles)\n        {\n            String filePath = fNode.getFileName();\n            try\n            {\n                fStream = new FileStream(filePath, FileMode.Open, FileAccess.Read);\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(\"SERVER: Exception when opening file \" + filePath + \" with a FileStream.\");\n                continue;\n            }\n\n            FileInfo fInfo = new FileInfo(fNode.getFileName());\n            String fileHeaderStr = null;\n            String fileName = fNode.getFileName().Split('\\\\').Last();\n            ulong fileSize = (ulong) fInfo.Length;\n            fileHeaderStr = \"FHEAD\" + fileName + \"FNAME\" + fileSize.ToString() + \"FSIZE\";\n            byte[] fileHeaderStrBytes = Encoding.ASCII.GetBytes(fileHeaderStr);\n            byte[] fileHeader = new byte[400];\n            for(int i = 0; i &lt; fileHeaderStrBytes.Length; i++)\n                fileHeader[i] = fileHeaderStrBytes[i];\n\n            ulong sentBytesCount = 0;\n            String comStr = String.Empty;\n            byte readByte = 0;\n            int readByteInt = 0;\n            while(sentBytesCount &lt; fileSize)\n            {\n                Console.WriteLine(\"SERVER: Waiting for CLIENT_READY.\");\n                while (!comStr.Equals(\"CLIENT_READY\"))\n                {\n                    nStream.Read(comMessage, 0, 35);\n                    comStr = Encoding.ASCII.GetString(comMessage).Split(new String[] { \"ENDC\" }, StringSplitOptions.None)[0];\n                }\n                Console.WriteLine(\"SERVER: Received CLIENT_READY.\");\n                if (sentBytesCount == 0)\n                {\n                    for (int j = 0; j &lt; 400; j++)\n                        buffer[j] = fileHeader[j];\n                    for(int k = 400; k &lt; 1000; k++)\n                    {\n                        readByteInt = fStream.ReadByte();\n                        if (readByteInt != -1)\n                        {\n                            readByte = Convert.ToByte(readByteInt);\n                            buffer[k] = readByte;\n                            sentBytesCount++;\n                        }\n                        else{\n                            buffer[k] = 0;\n                        }\n                    }\n                }\n                else\n                {\n                    for(int l = 0; l &lt; 1000; l++)\n                    {\n                        readByteInt = fStream.ReadByte();\n                        if (readByteInt != -1)\n                        {\n                            readByte = Convert.ToByte(readByteInt);\n                            buffer[l] = readByte;\n                            sentBytesCount++;\n                        }\n                        else\n                        {\n                            buffer[l] = 0;\n                        }\n                    }\n                }\n                try\n                {\n                    Console.WriteLine(\"SERVER: Writing to network stream...\");\n                    // Gets stuck here! Timeout set to 3000 ms. Throws cought IOException.\n                    nStream.Write(buffer, 0, 1000);\n                    Console.WriteLine(\"SERVER: Wrote to network stream.\");\n                }catch(IOException ioe)\n                {\n                    Console.WriteLine(\"SERVER: Network stream write timed out.\");\n                    // ??? What should I do here? ???\n                }\n            }\n            Console.WriteLine(\"SERVER: File sent:\" + fileName);\n        }\n        Console.WriteLine(\"SERVER: All accessible files downloaded from \" + (String) commandArgs);\n    }\n</code></pre>\n\n<p>Client code, the one receiving the files waiting for the stuck server:</p>\n\n<pre><code>private void fetchFilesThreadMethod()\n    {\n        IPEndPoint localEP = new IPEndPoint(localIP, 1305);\n        TcpListener listener = new TcpListener(localEP);\n        listener.Start();\n        TcpClient client = listener.AcceptTcpClient();\n        NetworkStream nStream = client.GetStream();\n        byte[] buffer = new byte[1000];\n        byte[] comMessage = new byte[35];\n        byte[] comMessageBytes = Encoding.ASCII.GetBytes(\"CLIENT_READYENDC\");\n        for (int i = 0; i &lt; comMessageBytes.Length; i++)\n            comMessage[i] = comMessageBytes[i];\n\n        ulong bytesRecCount = 0;\n        ulong fileSize = 0;\n        ulong bytesLeft = 0;\n        String fileName = null;\n        while (true)\n        {\n            nStream.Write(comMessage, 0, 35);\n            Console.WriteLine(\"CLIENT: Sent CLIENT_READY.\");\n            nStream.Read(buffer, 0, 1000);\n            byte[] headerBytes = new byte[400];\n            for (int j = 0; j &lt; 400; j++)\n                headerBytes[j] = buffer[j];\n            String headerStr = Encoding.ASCII.GetString(headerBytes);\n            if (headerStr.Contains(\"FHEAD\") || headerStr.Contains(\"FNAME\") || headerStr.Contains(\"FSIZE\"))\n            {\n                byte[] fileCont = new byte[600];\n                for (int k = 400; k &lt; 1000; k++)\n                    fileCont[k-400] = buffer[k];\n                fileName = headerStr.Split(new String[] { \"FNAME\" }, StringSplitOptions.None)[0];\n                fileName = fileName.Split(new String[] { \"FHEAD\" }, StringSplitOptions.None).Last();\n                String fileSizeStr = headerStr.Split(new String[] {\"FSIZE\"},StringSplitOptions.None)[0];\n                fileSizeStr = fileSizeStr.Split(new String[] { \"FNAME\" }, StringSplitOptions.None).Last();\n                fileSize = Convert.ToUInt64(fileSizeStr);\n                String dirPath = Environment.GetEnvironmentVariable(\"USERPROFILE\") + \"\\\\documents\\\\conquer_client_fetches\";\n                if (!Directory.Exists(dirPath))\n                    Directory.CreateDirectory(dirPath);\n                String filePath = dirPath + \"\\\\\" + fileName;\n                fStream = new FileStream(filePath,FileMode.Append,FileAccess.Write);\n\n                if(fileSize &lt; 600)\n                {\n                    fStream.Write(fileCont,0,(int) fileSize);\n                    bytesRecCount = fileSize;\n                    bytesLeft = fileSize - bytesRecCount;\n                }\n                else\n                {\n                    fStream.Write(fileCont, 0, 600);\n                    bytesRecCount = 600;\n                    bytesLeft = fileSize - bytesRecCount;\n                }\n            }\n            else\n            {\n                if(bytesLeft &lt; 1000)\n                {\n                    fStream.Write(buffer,0,(int) bytesLeft);\n                    bytesRecCount += bytesLeft;\n                    bytesLeft = fileSize - bytesRecCount;\n                }else\n                {\n                    fStream.Write(buffer,0,1000);\n                    bytesRecCount += 1000;\n                    bytesLeft = fileSize - bytesRecCount;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vn7ds.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vn7ds.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/TfM1p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TfM1p.png\" alt=\"enter image description here\"></a></p>\n\n<p>I get the following exception:</p>\n\n<pre><code>  System.IO.IOException: Unable to write data to the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond. ---&gt; System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond\n   at System.Net.Sockets.Socket.Send(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)\n   at System.Net.Sockets.NetworkStream.Write(Byte[] buffer, Int32 offset, Int32 size)\n   --- End of inner exception stack trace ---\n   at System.Net.Sockets.NetworkStream.Write(Byte[] buffer, Int32 offset, Int32 size)\n   at Conquer_server.Conquer_server.fetchThreadMethod(Object commandArgs) in C:\\Users\\tobb9\\source\\repos\\Conquer_server\\Conquer_server\\Conquer_server.cs:line 241\n-2146232800\nUnable to write data to the transport connection: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.\n</code></pre>\n"}, {"tags": ["c#", ".net", "vb.net"], "comments": [{"owner": {"reputation": 9028, "user_id": 341762, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9e40ea650664809cb82a148b8d86939?s=128&d=identicon&r=PG", "display_name": "NoAlias", "link": "https://stackoverflow.com/users/341762/noalias"}, "edited": false, "score": 0, "creation_date": 1523467463, "post_id": 49781104, "comment_id": 86577551, "body": "var Content = new Dictionary&lt;string, System.Text.StringBuilder&gt;"}, {"owner": {"reputation": 5977, "user_id": 37769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4fac3adb8df38ebd7d9b03e0378a2730?s=128&d=identicon&r=PG", "display_name": "FastAl", "link": "https://stackoverflow.com/users/37769/fastal"}, "reply_to_user": {"reputation": 9028, "user_id": 341762, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9e40ea650664809cb82a148b8d86939?s=128&d=identicon&r=PG", "display_name": "NoAlias", "link": "https://stackoverflow.com/users/341762/noalias"}, "edited": false, "score": 1, "creation_date": 1523467534, "post_id": 49781104, "comment_id": 86577582, "body": "@NoAlias - that only works in a method. What to do for Fields / Member-variables of the class itself?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1523467659, "post_id": 49781104, "comment_id": 86577659, "body": "<a href=\"https://blogs.msdn.microsoft.com/ericlippert/2009/01/26/why-no-var-on-fields/\" rel=\"nofollow noreferrer\">Eric Lippert: Why no var on fields?</a>"}, {"owner": {"reputation": 11316, "user_id": 4551041, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dGGsC.jpg?s=128&g=1", "display_name": "H. Pauwelyn", "link": "https://stackoverflow.com/users/4551041/h-pauwelyn"}, "edited": false, "score": 1, "creation_date": 1523467750, "post_id": 49781104, "comment_id": 86577700, "body": "You don&#39;t have a shoter way in C#. Only inside methods you could use <code>var</code> like NoAlias said. Just accept it.\ud83d\ude1e"}, {"owner": {"reputation": 5977, "user_id": 37769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4fac3adb8df38ebd7d9b03e0378a2730?s=128&d=identicon&r=PG", "display_name": "FastAl", "link": "https://stackoverflow.com/users/37769/fastal"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523469002, "post_id": 49781104, "comment_id": 86578338, "body": "@Ron Beyer - that article makes complete sense. It is also why VB.Net doesn&#39;t allow Dim id = <i>type inferable expr</i> (which is eq to c# var id = <i>type inferable expr</i>). But vb&#39;s Dim id <b>AS</b> <i>type inferable expr</i> doesn&#39;t do all the smarts eric is talking about. It just takes the type returned by the contructor, an easy thing to figure out. (Dim .. AS .. doesn&#39;t allow anything fancier e.g., any old expression like inference, but rather just a constructor)"}, {"owner": {"reputation": 5977, "user_id": 37769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4fac3adb8df38ebd7d9b03e0378a2730?s=128&d=identicon&r=PG", "display_name": "FastAl", "link": "https://stackoverflow.com/users/37769/fastal"}, "reply_to_user": {"reputation": 11316, "user_id": 4551041, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/dGGsC.jpg?s=128&g=1", "display_name": "H. Pauwelyn", "link": "https://stackoverflow.com/users/4551041/h-pauwelyn"}, "edited": false, "score": 1, "creation_date": 1523469137, "post_id": 49781104, "comment_id": 86578411, "body": "@H.Pauwelyn ... I will probably have to accept it, and that&#39;s OK. Really it&#39;s a little deal, I&#39;m not volunteering to change it :-)"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1523469167, "post_id": 49781104, "comment_id": 86578425, "body": "@FastAl In the edge case you are talking about, you are right, it isn&#39;t any kind of complicated matter. But there are other cases that it wouldn&#39;t work, like a <code>var</code> referencing a <code>var</code> of another class, and on and on. Since they can&#39;t resolve <i>every</i> case, they don&#39;t allow <i>any</i> case."}], "answers": [{"comments": [{"owner": {"reputation": 5977, "user_id": 37769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4fac3adb8df38ebd7d9b03e0378a2730?s=128&d=identicon&r=PG", "display_name": "FastAl", "link": "https://stackoverflow.com/users/37769/fastal"}, "edited": false, "score": 0, "creation_date": 1523480972, "post_id": 49783918, "comment_id": 86584405, "body": "That&#39;s a start, I hadn&#39;t thought of that."}], "tags": [], "owner": {"reputation": 2160, "user_id": 314895, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d965777cb8e44c6d4a5a878b184d8155?s=128&d=identicon&r=PG&f=1", "display_name": "Black Light", "link": "https://stackoverflow.com/users/314895/black-light"}, "is_accepted": false, "score": 2, "last_activity_date": 1523478228, "creation_date": 1523478228, "answer_id": 49783918, "question_id": 49781104, "link": "https://stackoverflow.com/questions/49781104/declare-member-variable-and-initialize-without-repeating-type/49783918#49783918", "title": "Declare member variable and initialize without repeating type", "body": "<p>You can't without repeating the type, but you could use an alias (created with a \"using\" statement) if the type is complex.</p>\n"}, {"comments": [{"owner": {"reputation": 5977, "user_id": 37769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4fac3adb8df38ebd7d9b03e0378a2730?s=128&d=identicon&r=PG", "display_name": "FastAl", "link": "https://stackoverflow.com/users/37769/fastal"}, "edited": false, "score": 0, "creation_date": 1607368091, "post_id": 64921001, "comment_id": 115245546, "body": "YES!! such a little thing, it would seem. But I love it so much :-)"}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 1, "last_activity_date": 1605825042, "creation_date": 1605825042, "answer_id": 64921001, "question_id": 49781104, "link": "https://stackoverflow.com/questions/49781104/declare-member-variable-and-initialize-without-repeating-type/64921001#64921001", "title": "Declare member variable and initialize without repeating type", "body": "<p>And now, in C# 9.0, we have target-typed <code>new</code> expressions to implement what @EricLippert suggested.</p>\n<pre><code>Dictionary&lt;string, System.Text.StringBuilder&gt; Content = new();\n</code></pre>\n"}], "owner": {"reputation": 5977, "user_id": 37769, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4fac3adb8df38ebd7d9b03e0378a2730?s=128&d=identicon&r=PG", "display_name": "FastAl", "link": "https://stackoverflow.com/users/37769/fastal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1605825042, "creation_date": 1523467381, "last_edit_date": 1523483053, "question_id": 49781104, "link": "https://stackoverflow.com/questions/49781104/declare-member-variable-and-initialize-without-repeating-type", "title": "Declare member variable and initialize without repeating type", "body": "<p>In C# I can do this in a method:</p>\n\n<pre><code>var Content = new Dictionary&lt;string, System.Text.StringBuilder&gt;();\n</code></pre>\n\n<p>and in VB.Net I can do this in a method:</p>\n\n<pre><code>Dim Content = new Dictionary(of string, System.Text.StringBuilder)\n</code></pre>\n\n<p>However in VB I can also do this outside of a method when defining a field/member variable (note, in this case, VB is not inferring the type, it's getting it explicitly, this was in VB.Net prior to 'option infer'):</p>\n\n<pre><code>Dim Content AS new Dictionary(of string, System.Text.StringBuilder)\n</code></pre>\n\n<p>In C# it seems like I have to do it like this:</p>\n\n<pre><code>Dictionary&lt;string, System.Text.StringBuilder&gt; Content = new Dictionary&lt;string, System.Text.StringBuilder&gt;();\n</code></pre>\n\n<p>Notice I am having to repeat the type twice. </p>\n\n<p>This is a simple example, for more complex cases it does get at least a bit annoying.</p>\n\n<p>I can't believe something is more compact in VB; am I missing something here? How to I declare a member variable and initialize without repeating the type?</p>\n\n<h3>edit</h3>\n\n<p>From the Eric Lippert document mentioned in comments by Ron: \"... <em>If our goal is to remove the redundancy, I would therefore prefer to remove it the other way. Make this legal: private static readonly Dictionary niceNames =   new()...  That is, state the type unambiguously in the declaration and then have the \"new\" operator be smart about figuring out what type it is constructing based on what type it is being assigned to</em> ...\"<br>\nSo there is an idea floated by Eric himself about how it could be done - really this is all that VB does.  (very good catch on finding that document, by the way Ron)</p>\n"}, {"tags": ["c#", "unit-testing"], "comments": [{"owner": {"reputation": 2154, "user_id": 2312075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2VYN.jpg?s=128&g=1", "display_name": "saarrrr", "link": "https://stackoverflow.com/users/2312075/saarrrr"}, "edited": false, "score": 0, "creation_date": 1523467534, "post_id": 49781092, "comment_id": 86577583, "body": "First of all, see this post: <a href=\"https://codereview.stackexchange.com/questions/69950/single-instance-of-reusable-httpclient\" title=\"single instance of reusable httpclient\">codereview.stackexchange.com/questions/69950/&hellip;</a> regarding creating a new HttpClient all the time.  Second, you could abstract the HttpClient work into an interface, then inject that interface into the controller, that way you&#39;d be able to mock it up for testing."}], "answers": [{"tags": [], "owner": {"reputation": 2154, "user_id": 2312075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g2VYN.jpg?s=128&g=1", "display_name": "saarrrr", "link": "https://stackoverflow.com/users/2312075/saarrrr"}, "is_accepted": true, "score": 2, "last_activity_date": 1523468802, "last_edit_date": 1523468802, "creation_date": 1523468398, "answer_id": 49781371, "question_id": 49781092, "link": "https://stackoverflow.com/questions/49781092/unit-testing-a-controller-that-makes-http-requests-using-httpclient/49781371#49781371", "title": "Unit testing a Controller that makes Http requests using HttpClient", "body": "<p>Extract your http work into an interface and inject an implementation of that interface into your controller.</p>\n\n<pre><code>public interface INetworkService {\n  Task&lt;List&lt;MyObject&gt;&gt; GetThingsAsync(string api);\n}\n\npublic class HttpNetworkService : INetworkService {\n  private readonly HttpClient Client;\n  public HttpNetworkService(HttpClient client) {\n    Client = client;\n  }\n\n  public Task&lt;List&lt;MyObject&gt;&gt; GetThingsAsync(string api) {\n    var json = await Client.GetStringAsync(api);\n    return JsonConvert.DeserializeObject&lt;List&lt;MyObject&gt;&gt;(json);\n  }\n}\n\npublic class TestNetworkService : INetworkService {\n  public Task&lt;List&lt;MyObject&gt;&gt; GetThingsAsync(string api) {\n    return Task.FromResult(new List&lt;MyObject&gt; { /*build out your mock result here*/ });\n  }\n}\n\npublic class MyController : Controller {\n  private readonly INetworkService NetworkService;\n  public MyController(INetworkService svc) {\n    NetworkService = svc;\n  }\n\n  public async Task&lt;ActionResult&gt; Index() {\n    ViewBag.Title = \"Home Page\";\n    var tasks = await NetworkService.GetThingsAsync(ConfigurationManager.AppSettings[\"MyCustomAPI\"]);\n    return View(tasks);\n  }\n}\n</code></pre>\n\n<p>Now when you test you can sub in a test version of the INetworkService that doesn't actually perform any networked IO.  Additionally, as mentioned in the comment, you should share a single HttpClient instead of creating new ones all the time, that client could be injected into the real INetworkedService implementation.</p>\n"}], "owner": {"reputation": 281, "user_id": 4808318, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/10153261795403656/picture?type=large", "display_name": "Emiliano Rodriguez", "link": "https://stackoverflow.com/users/4808318/emiliano-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 49781371, "answer_count": 1, "score": 3, "last_activity_date": 1523468802, "creation_date": 1523467318, "question_id": 49781092, "link": "https://stackoverflow.com/questions/49781092/unit-testing-a-controller-that-makes-http-requests-using-httpclient", "title": "Unit testing a Controller that makes Http requests using HttpClient", "body": "<p>I need to write unit tests (and most importantly, i'm being asked to get code coverage) for this controller.</p>\n\n<pre><code>public class MyController : Controller\n{\n    public async Task&lt;ActionResult&gt; Index()\n    {\n        ViewBag.Title = \"Home Page\";\n        var httpClient = new HttpClient();\n        var json = await httpClient.GetStringAsync(ConfigurationManager.AppSettings[\"MyCustomAPI\"]);\n        var tasks = JsonConvert.DeserializeObject&lt;List&lt;MyObject&gt;&gt;(json);\n        return View(tasks);\n    }\n}\n</code></pre>\n\n<p>I've been reading ideas for two days about this but i can't wrap my head around it.</p>\n\n<p>I've been considering injecting the HttpClient like this:</p>\n\n<pre><code>    private readonly HttpClient _httpClient;\n\n    public TasksController(HttpClient httpClient)\n    {\n        _httpClient = httpClient;\n    }\n</code></pre>\n\n<p>But it's probably not a good idea to pass an HttpClient in the controller constructor.</p>\n\n<p>Then i've been following <a href=\"https://www.meziantou.net/2017/09/28/mocking-an-httpclient-using-an-httpclienthandler\" rel=\"nofollow noreferrer\">this</a> guide that uses FakeItEasy but i couldn't adapt this solution to my requirements.</p>\n\n<p>How should i proceed for testing this?</p>\n"}, {"tags": ["c#", "html", "css", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1523467285, "post_id": 49780972, "comment_id": 86577445, "body": "Why aren&#39;t you using the Razor Html helper to render your input? <code>@Html.TextBoxFor(m =&gt; m.first_name)</code> Also, are you using the jquery unobtrusive validation library?"}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1523467461, "post_id": 49780972, "comment_id": 86577550, "body": "It&#39;s my first time trying out MVC. (Still learning...) I started without razor because it made more sense to me at that time... I&#39;m not using unobtrusive jquery validation library @zgood"}, {"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 1, "creation_date": 1523467833, "post_id": 49780972, "comment_id": 86577728, "body": "Ok I see. Well if you have <code>@model userInfo</code> at the top of your View you can pass your model back to your view (<code>return View(user);</code>) after it fails validation. It will contain all the field values so you don&#39;t have to set them in the ViewBag. Also rendering out the input using the Razor Html helper will add all the attributes to your input needed for client side validation from the attributes you define in your ViewModel (<code>[Required]</code>, etc)"}, {"owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "reply_to_user": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1523468497, "post_id": 49780972, "comment_id": 86578069, "body": "Hey, thanks for the advice. I applied that and got the border I was looking for and didn&#39;t have to put the viewbag in the value area. @zgood"}], "owner": {"reputation": 2111, "user_id": 4767245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c23b01ed37481415f3dd18b405ad74d9?s=128&d=identicon&r=PG&f=1", "display_name": "taji01", "link": "https://stackoverflow.com/users/4767245/taji01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523466898, "creation_date": 1523466898, "question_id": 49780972, "link": "https://stackoverflow.com/questions/49780972/input-and-textarea-change-background-when-validation-doesnt-pass", "title": "Input and TextArea change background when validation doesn&#39;t pass", "body": "<p>I've got required input fields on my form. If the user submits the form and doesn't fill out the input field they receive a validation error. </p>\n\n<p><strong>Goal</strong>\nI want the fields background to change to red when ModelState is not Valid. How can I achieve that?</p>\n\n<p><strong>I've tried adding this in my CSS file</strong> - but when I submit the form I noticed that the class input-validation-error is not added to my input or textarea I have in my form. </p>\n\n<pre><code>.input-validation-error {\n    border: 1px solid #ff0000 !important;\n    background-color: #FF0000;\n}\n</code></pre>\n\n<p><strong>Models</strong></p>\n\n<pre><code>public class userInfo\n{\n    [Required]\n    [Display(Name = \"first Name\")]\n    public string first_name { get; set; }\n}\n</code></pre>\n\n<p><strong>Views</strong></p>\n\n<pre><code>@if (!ViewData.ModelState.IsValid)\n{\n    @Html.ValidationSummary(false, \"\", new { @class = \"text-danger\" })      \n}\n\n&lt;input class=\"lbl-info\" id=\"first_name\" type=\"text\" name=\"first_name\" value=\"@ViewBag.first_name\"/&gt;\n</code></pre>\n\n<p><strong>Controllers</strong></p>\n\n<pre><code>[HttpPost]\npublic ActionResult Index(User user)\n{\n    ...\n\n    if (!ModelState.IsValid)\n    {\n        ViewBag.first_name = user.first_name;\n    }   \n\n    return ...\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 607, "user_id": 6869507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47de3ffc0a9dfdef69bf98fea974db?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Powolozki", "link": "https://stackoverflow.com/users/6869507/alexander-powolozki"}, "edited": false, "score": 1, "creation_date": 1523466963, "post_id": 49780916, "comment_id": 86577286, "body": "This kind of data retrival should be possible if you would use ado.net directly, without entity framework."}, {"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 1, "creation_date": 1523467036, "post_id": 49780916, "comment_id": 86577321, "body": "The problem with a DataTable is that all rows must be read. Using a SqlConnection/SqlCommand is better for that. Read row for row with a SqlReader"}, {"owner": {"reputation": 135, "user_id": 5424830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/etSft.jpg?s=128&g=1", "display_name": "Akaize", "link": "https://stackoverflow.com/users/5424830/akaize"}, "edited": false, "score": 0, "creation_date": 1523467093, "post_id": 49780916, "comment_id": 86577352, "body": "I know, but this is an old project, I can&#39;t change it now, it&#39;s too many things, and possible problems. But thanks for the reply."}, {"owner": {"reputation": 135, "user_id": 5424830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/etSft.jpg?s=128&g=1", "display_name": "Akaize", "link": "https://stackoverflow.com/users/5424830/akaize"}, "edited": false, "score": 0, "creation_date": 1523467271, "post_id": 49780916, "comment_id": 86577435, "body": "I&#39;m using SqlDataAdapter and filtering the results, I think the DataTable is not a problem now. But thanks, I&#39;ll give it a try.  PS: I need all the columns, the tables are small, but with too many rows."}, {"owner": {"reputation": 1529, "user_id": 7744195, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dOMANlNAPgw/AAAAAAAAAAI/AAAAAAAAAbI/6nVl5_L9JBg/photo.jpg?sz=128", "display_name": "RAHUL S R", "link": "https://stackoverflow.com/users/7744195/rahul-s-r"}, "reply_to_user": {"reputation": 607, "user_id": 6869507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f47de3ffc0a9dfdef69bf98fea974db?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Powolozki", "link": "https://stackoverflow.com/users/6869507/alexander-powolozki"}, "edited": false, "score": 1, "creation_date": 1523476676, "post_id": 49780916, "comment_id": 86582353, "body": "datareader would have been far easier as @AlexanderPowolozki said you migt just needed to call Reader.NextResult() thats all"}], "owner": {"reputation": 135, "user_id": 5424830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/etSft.jpg?s=128&g=1", "display_name": "Akaize", "link": "https://stackoverflow.com/users/5424830/akaize"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1523466699, "creation_date": 1523466699, "question_id": 49780916, "link": "https://stackoverflow.com/questions/49780916/is-there-a-way-to-return-multiple-result-sets-from-a-single-select-with-joins", "title": "Is there a way to return multiple result sets from a single select with joins?", "body": "<p>I'm using SQL SERVER and I want something like this:</p>\n\n<pre><code>begin\n declare @A, @B\n\n select A.* into @A, B.* into @B from tableA as A left join tableB as B on \n A.id = B.id_A\n\n select distinct * from A\n select distinct * from B\nend\n</code></pre>\n\n<p>Note: The sintax I'm using in the example is wrong, I know, it's just because I can't declare a varible of a existing table type to store the results, and I don't know if it's possible to do something to return that kind of result using cursor or something.</p>\n\n<p>I'll be thankfull of any advice.</p>\n\n<p>Note2: I'm trying to use the result in a DataSet, get each table inside, and use this function here to cast it in multiple List for each result (The EF already mapped all the tables).</p>\n\n<pre><code>public static class Helper\n{\n    private static readonly IDictionary&lt;Type, ICollection&lt;PropertyInfo&gt;&gt; _Properties =\n        new Dictionary&lt;Type, ICollection&lt;PropertyInfo&gt;&gt;();\n\n    public static List&lt;T&gt; DataTableToList&lt;T&gt;(this DataTable table) where T : class, new()\n    {\n        try\n        {\n            List&lt;T&gt; list = new List&lt;T&gt;();\n\n            foreach (DataRow row in table.Rows)\n            {\n                T obj = new T();\n\n                foreach (var prop in obj.GetType().GetProperties())\n                {\n                    if (table.Columns.Contains(prop.Name))\n                    {\n                        if (!row.IsNull(prop.Name))\n                        {\n                            prop.SetValue(obj, row[prop.Name]);\n                        }\n                    }\n                }\n\n                list.Add(obj);\n            }\n\n            return list;\n        }\n        catch\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>This is a try to fix performance issues without need to change all the code.</p>\n\n<p>Thank you again.</p>\n"}, {"tags": ["c#", "for-loop", "timer"], "comments": [{"owner": {"reputation": 1459, "user_id": 2054603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/avdC3.jpg?s=128&g=1", "display_name": "Sailesh Babu Doppalapudi", "link": "https://stackoverflow.com/users/2054603/sailesh-babu-doppalapudi"}, "edited": false, "score": 0, "creation_date": 1523466744, "post_id": 49780880, "comment_id": 86577157, "body": "You can use Thread.Sleep((interval / 30) * 1000);"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523466778, "post_id": 49780880, "comment_id": 86577175, "body": "<code>weights</code> is a local variable. It can&#39;t be updated from outside <code>Main()</code> (unless it is <a href=\"https://www.simplethread.com/c-closures-explained/\" rel=\"nofollow noreferrer\">closed</a>). You might consider declaring it outside of <code>Main</code> so that it becomes a member variable."}, {"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1523466819, "post_id": 49780880, "comment_id": 86577200, "body": "I see you&#39;re using a big loop for <code>inti</code>. The <code>inti</code> variable isn&#39;t used at all. What if you move the code in the loop to the timer and create a field inti which you increment in the timer. Like John said, the weights should be a field"}, {"owner": {"reputation": 23, "user_id": 9631823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycepf.jpg?s=128&g=1", "display_name": "Aaa", "link": "https://stackoverflow.com/users/9631823/aaa"}, "reply_to_user": {"reputation": 1459, "user_id": 2054603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/avdC3.jpg?s=128&g=1", "display_name": "Sailesh Babu Doppalapudi", "link": "https://stackoverflow.com/users/2054603/sailesh-babu-doppalapudi"}, "edited": false, "score": 0, "creation_date": 1523467091, "post_id": 49780880, "comment_id": 86577350, "body": "@SaileshChowdaryDoppalapudi unfortunately i can&#39;t use sleep because this will eventually go into unity when fixed. thanks for the answer though, question amended!"}, {"owner": {"reputation": 23, "user_id": 9631823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycepf.jpg?s=128&g=1", "display_name": "Aaa", "link": "https://stackoverflow.com/users/9631823/aaa"}, "reply_to_user": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1523467154, "post_id": 49780880, "comment_id": 86577379, "body": "@J.vanLangen don&#39;t I need <code>inti</code> just to have the for loop cycle through?"}, {"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1523467460, "post_id": 49780880, "comment_id": 86577548, "body": "@Alec if you want some delay between iteration, you could use the timer for the &#39;iteration&#39;. It only should repeat the inner code of the inti loop."}, {"owner": {"reputation": 23, "user_id": 9631823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycepf.jpg?s=128&g=1", "display_name": "Aaa", "link": "https://stackoverflow.com/users/9631823/aaa"}, "reply_to_user": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523467617, "post_id": 49780880, "comment_id": 86577631, "body": "@JohnWu I dont really want/need to keep <code>weights</code> though. I just want the for the smaller for loop to produce a value for <code>weight</code>, apply it to <code>trashperint</code>, and then it can be disposed of once <code>trashperint</code> has been added to <code>trashlevel</code> and the loop big loop starts again."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1523473194, "post_id": 49780880, "comment_id": 86580494, "body": "Note that there are many problems with your existing code. In particular, the <code>new Random</code> needs to be called outside the loop, and preferably a static member of the class. You almost never want to make more than one Random per thread in C#."}], "answers": [{"comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523472060, "post_id": 49781588, "comment_id": 86579892, "body": "I agree 100% this is almost always the right pattern. But this is the <code>Main</code> method of a console program, there&#39;s no synchronization context, and there&#39;s nothing else, async or otherwise, going on in the program. Isn&#39;t this maybe one of the few cases where a <code>Sleep()</code> call is actually the right answer?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523472201, "post_id": 49781588, "comment_id": 86579962, "body": "@JohnWu: The OP addressed that in a comment: &quot;unfortunately i can&#39;t use sleep because this will eventually go into unity when fixed.&quot;"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1523472224, "post_id": 49781588, "comment_id": 86579980, "body": "@JohnWu: This is one of the reasons why it is a bad idea to prototype GUI code in a console app.  But to answer your question, yes, if you genuinely have a single-threaded console app and you genuinely need to introduce a delay, then sleeping might be appropriate. Certainly more appropriate than busy-waiting. :-)"}, {"owner": {"reputation": 23, "user_id": 9631823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycepf.jpg?s=128&g=1", "display_name": "Aaa", "link": "https://stackoverflow.com/users/9631823/aaa"}, "edited": false, "score": 0, "creation_date": 1523472710, "post_id": 49781588, "comment_id": 86580260, "body": "@EricLippert using the timer as a loop has done the trick, thanks! I hadn&#39;t thought about it like that, so thanks for the hint."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 4, "last_activity_date": 1523472261, "last_edit_date": 1523472261, "creation_date": 1523469222, "answer_id": 49781588, "question_id": 49780880, "link": "https://stackoverflow.com/questions/49780880/beginner-trying-to-implement-a-timer-in-a-for-loop-c/49781588#49781588", "title": "beginner trying to implement a timer in a for loop c#", "body": "<blockquote>\n  <p>All I really want to do is as soon as the compiler goes into the for loop, tell it to wait 'x' ticks, then continue. Thread.Sleep isn't an option because this is to go in unity, so would interrupt other things.</p>\n</blockquote>\n\n<p>Solution 1: Don't write a loop at all. <strong>The timer already is logically a loop</strong>. </p>\n\n<ul>\n<li>Write a method that is the \"body\" of the \"loop\".</li>\n<li>\"Starting the loop\" is activating a timer where the body method is the event handler and the timer fires every n milliseconds</li>\n<li>\"Terminating the loop\" is deactivating the timer.</li>\n</ul>\n\n<p>Solution 2: Write a loop, don't use a timer.</p>\n\n<p>Make the method <code>async</code> and then <code>await Task.Delay(whatever);</code> to <em>asynchronously</em> wait for your delay.  Your method will suspend when it hits the await, and resume at some point after the delay task is complete.</p>\n\n<p>The latter is probably the better solution in that the code more closely resembles your description of it.</p>\n\n<p>I don't know enough about Unity to say which is the better solution in their framework.</p>\n"}], "owner": {"reputation": 23, "user_id": 9631823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycepf.jpg?s=128&g=1", "display_name": "Aaa", "link": "https://stackoverflow.com/users/9631823/aaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 49781588, "answer_count": 1, "score": 0, "last_activity_date": 1523472261, "creation_date": 1523466513, "last_edit_date": 1523467000, "question_id": 49780880, "link": "https://stackoverflow.com/questions/49780880/beginner-trying-to-implement-a-timer-in-a-for-loop-c", "title": "beginner trying to implement a timer in a for loop c#", "body": "<p>I'm very new to c# and coding in general and am having some problems implementing a timer in a for loop. Basically, the bit of code below is trying to create a number representative of trash output by an island at set intervals, with each output weighted based on island population to be a bit less predictable. it then adds the generated trash figure to a total. The problem I'm having is that the way tutorials use the Timer class means creating an <code>'Intervaltimer_Elapsed(object sender, ElapsedEventArgs e)'</code> function outside of <code>Main()</code> and I can't work out how to then add whatever is generated by this back to the <code>weights[]</code> array in the <code>Main()</code>.  All I really want to do is as soon as the compiler goes into the for loop, tell it to wait 'x' ticks, then continue. Thread.Sleep isn't an option because this is to go in unity, so would interrupt other things. apologies if the code below is a bit gory!</p>\n\n<pre><code>{\nclass Program\n{\n    public static double trashperstan8 = 600 * 3.21;\n    public static int population = 1000;\n    public static double trashperpersperday = 1;\n    public static double interval = 60;\n    public static double intperday = 1440 / interval;\n    public static double trashperint = population * trashperpersperday * (interval / 1440);\n    public static int weightnum = population / 200;\n\n    static void Main(string[] args)\n    {\n        double Trashlevel = new double();\n        double stand8sfilled = new double();\n        Timer intervaltimer = new Timer((interval / 30) * 1000);\n        Console.WriteLine(weightnum);\n\n        for (int inti = 0; inti &lt; intperday; inti++)\n        {\n            /* at this point, I want to basically tell the code: each time you go \n               through the for loop, wait for x number of ticks then do the method */\n\n            Console.WriteLine(inti);\n\n            double[] weights = new double[weightnum];\n\n            Random rand = new Random();\n\n            for (int i = 0; i &lt; weightnum; i++)\n            {\n                double weightcontrib = rand.NextDouble();\n\n                weights[i] = weightcontrib;\n                Console.WriteLine(\"{0}: {1}\", Array.IndexOf(weights, weightcontrib), weightcontrib);\n            }\n\n            double finalweight = 2 * (weights.Sum() / weightnum);\n            Console.WriteLine(\"final weight \" + finalweight);\n\n            double weightedtpi = trashperint * finalweight;\n\n            Trashlevel = Trashlevel + weightedtpi;\n\n            stand8sfilled = stand8sfilled + (weightedtpi / trashperstan8);\n        }\n        Console.WriteLine(\"trash level \" + Trashlevel);\n        Console.WriteLine(\"stand8s filled \" + stand8sfilled);\n    }\n\n    private static void Intervaltimer_Elapsed(object sender, ElapsedEventArgs e)\n    {\n    }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "async-await"], "answers": [{"comments": [{"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1523470460, "post_id": 49781002, "comment_id": 86579107, "body": "In the controller action method, <code>AFTER</code> the service call <code>_service.GetData(...)</code> i am checking HttpContext twice, 1&gt; in the action method 2&gt;in the mapper. If the HttpContext is expected to be null in the mapper ( as you mentioned) then it should be null in action method as well (but in the action method HttpContext is not null and then it becomes NULL in the mapper.)."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1523470584, "post_id": 49781002, "comment_id": 86579173, "body": "@LP13 One thing is the <code>Controller.HttpContext</code> property, which is populated when the controller is created. Another thing is the <code>HttpContext.Current</code> static property, which is the same as <code>Controller.HttpContext</code> before a context switch"}, {"owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 0, "creation_date": 1523471923, "post_id": 49781002, "comment_id": 86579814, "body": "but shouldn&#39;t HttpContext.Current get populated after the async call is done?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "edited": false, "score": 1, "creation_date": 1523471960, "post_id": 49781002, "comment_id": 86579833, "body": "@LP13 Nope, because that runs on another thread where it wasn&#39;t populated. This is basically why <code>HttpContext.Current</code> was an extremely bad idea and doesn&#39;t exist on ASP.NET Core"}], "tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": false, "score": 7, "last_activity_date": 1523466999, "creation_date": 1523466999, "answer_id": 49781002, "question_id": 49780873, "link": "https://stackoverflow.com/questions/49780873/configureawaitfalse-not-making-httpcontext-null-as-expected/49781002#49781002", "title": "ConfigureAwait(false) not making HttpContext NULL as expected", "body": "<p>You have it backwards. <code>HttpContext.Current</code> will be null <em>after</em> the context switch, not before.</p>\n\n<p>So:</p>\n\n<pre><code>// ACTUAL: HttpContext is NOT NULL, WHY?\nif(HttpContext.Current == null)\n{\n    throw new ArgumentNullException(\"context\");\n}\n</code></pre>\n\n<p>No, it is <em>expected</em> to be not <code>null</code> since there hasn't been any <code>await</code> so far (the parent <code>await</code> does not apply).</p>\n\n<pre><code>// EXPECTED:  HttpContext should NOT NULL here since async call is already done.\n// ACTUAL: HttpContext is NULL here. WHY?\nif (HttpContext.Current == null)\n</code></pre>\n\n<p>The switch happened after this line</p>\n\n<pre><code>var response = await client.GetAsync(\"http://url\").ConfigureAwait(false);\n</code></pre>\n\n<p>So it is expected for it to be <code>null</code>.</p>\n"}], "owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1523467022, "creation_date": 1523466484, "last_edit_date": 1523467022, "question_id": 49780873, "link": "https://stackoverflow.com/questions/49780873/configureawaitfalse-not-making-httpcontext-null-as-expected", "title": "ConfigureAwait(false) not making HttpContext NULL as expected", "body": "<p>When using <code>async/await</code>, to avoid deadlocks, it is recommended to use <code>ConfigureAwait(false)</code> to all the way down to the last layer. I understand that using <code>ConfigureAwait(false)</code> will also make the current HttpContext null. <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">Article</a>   </p>\n\n<p>Below is the sample code just to understand why <code>ConfigureAwait(false)</code> is not making HttpContext NULL when expected, and making it NULL when it is NOT expected.</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>public class MyController : Controller\n{\n    private readonly MyService _service = new MyService();\n    private readonly MyMapper _mapper = new MyMapper();        \n\n\n    public async Task&lt;ActionResult&gt; DoSomething()\n    {\n        var data = await _service.GetData().ConfigureAwait(false);\n\n        // EXPECTED: Below, HttpContext should NOT NULL\n        // ACTUAL: HttpContext is NOT NULL as expected\n        if (HttpContext == null)\n        {\n            throw new ArgumentNullException(\"context\");\n        }\n\n        var model = _mapper.Map(data);\n\n        return View(model);\n    }\n}\n</code></pre>\n\n<p><strong>A Service that makes async call to datasource to GetData</strong></p>\n\n<pre><code>public class MyService\n{\n    public async Task&lt;string&gt; GetData()\n    {\n        // EXPECTED: HttpContext should be NULL here since we are calling \n        //this method from the Controller with ConfigureAwait(false)     \n\n        // ACTUAL: HttpContext is NOT NULL, WHY?\n        if(HttpContext.Current == null)\n        {\n            throw new ArgumentNullException(\"context\");\n        }\n\n        using (var client = new HttpClient())\n        {\n            var response = await client.GetAsync(\"http://url\").ConfigureAwait(false);\n            response.EnsureSuccessStatusCode();\n            return await response.Content.ReadAsStringAsync().ConfigureAwait(false);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>A mapper class maps the data to model</strong></p>\n\n<pre><code>public class MyMapper\n{\n    public MyModel Map(string data)\n    {\n        // EXPECTED:  HttpContext should NOT NULL here since async call is already done.\n        // ACTUAL: HttpContext is NULL here. WHY?\n        if (HttpContext.Current == null)\n        {\n            throw new ArgumentNullException(\"context\");\n        };\n\n        return new MyModel()\n        {\n            Message = data\n        };\n    }\n}\n</code></pre>\n\n<p>The HttpContext is expected to be NULL inside <code>MyService</code> and expected to be NOT NULL inside <code>MyMapper</code>, but that is not the case. Please see my inline comments inside <code>MyService</code> and <code>MyMapper</code></p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 4723, "user_id": 3061857, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/m8l4z.jpg?s=128&g=1", "display_name": "nbokmans", "link": "https://stackoverflow.com/users/3061857/nbokmans"}, "edited": false, "score": 1, "creation_date": 1523466841, "post_id": 49780766, "comment_id": 86577215, "body": "Could you please elaborate what kind of c# application you are making? As in, which framework will you be using? WinForms, WPF, etc."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9631826"}, "reply_to_user": {"reputation": 4723, "user_id": 3061857, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/m8l4z.jpg?s=128&g=1", "display_name": "nbokmans", "link": "https://stackoverflow.com/users/3061857/nbokmans"}, "edited": false, "score": 0, "creation_date": 1524058614, "post_id": 49780766, "comment_id": 86817698, "body": "im using in WinForms"}], "answers": [{"tags": [], "owner": {"reputation": 2000, "user_id": 9443618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hx2BI.jpg?s=128&g=1", "display_name": "H&#233;ctor Manuel Mart&#237;nez Dur&#225;n", "link": "https://stackoverflow.com/users/9443618/h%c3%a9ctor-manuel-mart%c3%adnez-dur%c3%a1n"}, "is_accepted": false, "score": 1, "last_activity_date": 1523467319, "last_edit_date": 1523467319, "creation_date": 1523467011, "answer_id": 49781006, "question_id": 49780766, "link": "https://stackoverflow.com/questions/49780766/display-a-message-when-a-document-is-being-printed/49781006#49781006", "title": "Display a message when a document is being printed", "body": "<blockquote>\n  <p>You say you searched on Google but you did not find anything</p>\n</blockquote>\n\n<p>But the truth is that the documentation is there, you just have to search correctly </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.drawing.printing.printdocument.print%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\"><code>PrintDocument.Print Method()</code></a></p>\n\n<blockquote>\n  <p>The following code is illustrative, it does not intend to do your work, but to guide you in what you want to do</p>\n</blockquote>\n\n<pre><code> using System.Drawing.Printing; //For PrintDocument\n using System.Windows.Forms //For MessageBox\n\n public class PrintingExample \n {\n    private void pd_PrintPage(object sender, PrintPageEventArgs ev) \n    {\n        MessageBox.Show(\"Printing\");\n    }\n\n    public static void Main(string[] args) \n    {\n       PrintDocument pd = new PrintDocument(); \n       pd.PrintPage += new PrintPageEventHandler(pd_PrintPage);\n       //Print the document.\n       pd.Print(); \n    }\n }\n</code></pre>\n\n<blockquote>\n  <p>As you see, you need to use the <code>PrintPage</code> event of <code>PrintDocument</code>, which is executed when you give the print order</p>\n</blockquote>\n\n<pre><code>pd.PrintPage += new PrintPageEventHandler(pd_PrintPage);\n</code></pre>\n\n<blockquote>\n  <p>This, in turn, calls the <code>pd_PrintPage()</code> method, which in turn displays the message</p>\n</blockquote>\n\n<pre><code>private void pd_PrintPage(object sender, PrintPageEventArgs ev) \n{\n    MessageBox.Show(\"Printing\");\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9631826"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1562101161, "creation_date": 1523466093, "last_edit_date": 1562101161, "question_id": 49780766, "link": "https://stackoverflow.com/questions/49780766/display-a-message-when-a-document-is-being-printed", "title": "Display a message when a document is being printed", "body": "<p>I'm new to C# and my mentor wanted me to do a program that would show a message stating that a document is being printed.</p>\n\n<p>I already tried searching the internet and found nothing.</p>\n\n<p>If you know anything, please help me.</p>\n"}, {"tags": ["c#", "winforms", "keypress", "keydown"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1523466863, "post_id": 49780715, "comment_id": 86577224, "body": "Wouldn&#39;t this be a duplicate: <a href=\"https://stackoverflow.com/q/6290967/719186\">Stop the &#39;Ding&#39; when pressing Enter</a>"}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1523467046, "post_id": 49780715, "comment_id": 86577330, "body": "@LarsTech No, as <code>Keys.Enter</code> is a single key, which works with <code>KeyDown</code>-Event as the example shows. <code>SHIFT+G</code> is captured through <code>KeyPress</code>-Event, which lacks the <code>e.SuppressKeyPress</code>-Property."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1523469386, "post_id": 49780715, "comment_id": 86578541, "body": "I don&#39;t get the problem.  If the user presses a key that you are not happy with it then it goes Ding.  If you never want to hear the dingaling then always set e.Handled = true for non-numeric characters.  SuppressKeyPress is irrelevant, the KeyPress event was already raised.  KeyDown is not a good idea on a foreign keyboard layout."}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1523470340, "post_id": 49780715, "comment_id": 86579048, "body": "@HansPassant Yes, but in this case - on the <code>numericupdown</code> i&#39;m happy with valid letters such as <code>m, k, G,T...</code> cause they should be send to another control for convinience - So I don&#39;t want a &quot;Bing&quot;. <code>Handled=true</code> (Google it!) Does not remove the BING for <code>numericupdown</code> fields. (Bug or feature?) Only <code>e.SuppressKeyPress</code> does."}], "answers": [{"tags": [], "owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "is_accepted": true, "score": 3, "last_activity_date": 1523704169, "last_edit_date": 1523704169, "creation_date": 1523467749, "answer_id": 49781202, "question_id": 49780715, "link": "https://stackoverflow.com/questions/49780715/suppress-key-bing-with-keypressevent/49781202#49781202", "title": "Suppress Key &quot;Bing&quot; with KeyPressEvent?", "body": "<p>Figured out a way: </p>\n\n<p>When Using <code>KeyDown</code>-Event, you can use <code>e.Modifiers</code> to check, if another key is down'd at the same time. </p>\n\n<p>I dunno why, but for the <code>KeyDown</code>-Event <code>e.KeyValue</code> as well as <code>e.KeyCode</code> always return the CAPITAL version of the key. </p>\n\n<p>So, I modified the handler to convert every char to lower-case, and only convert it to upper-Case if <code>SHIFT</code> is pressed at the same time: </p>\n\n<p>Works - no \"BING\" (for valid SI-Prefixes). :-) </p>\n\n<pre><code>private void numericUpDown1_KeyDown(object sender, KeyEventArgs e)\n    {\n        KeysConverter kc = new KeysConverter();\n        char c = char.ToLower(kc.ConvertToString(e.KeyValue)[0]); \n        if (char.IsLetter(c))\n        {\n            //Caps? \n            if (e.Modifiers == Keys.Shift)\n            {\n                c = char.ToUpper(c);\n            }\n\n            //Check, if its valid for si prefixes.\n            if (this.siSelector1.TrySelect(c))\n            {\n                e.Handled = true;\n                e.SuppressKeyPress = true;\n            }\n        }\n    }\n</code></pre>\n\n<hr>\n\n<p>The above solution does not apply for <code>\u00b5</code> (CTRL+ALT+m or ALT GR+m)</p>\n\n<hr>\n\n<p>Update: This is not 100%, but I didn't get it by now: </p>\n\n<ul>\n<li>IF the ALT-Key is pressed, The Char-Code always reports a \"M\".</li>\n</ul>\n\n<hr>\n\n<p>Update 2:</p>\n\n<hr>\n\n<p>So, I had to exclude the \"m\" from beeing matched with <code>char.isLetter()</code> (if <code>alt</code> is pressed) and finally add another check. </p>\n\n<p>I found, that comparing <code>e.KeyValue==77</code> worked as expected, while comparing <code>c=='m'</code> didn't... (then <code>\u00b5</code> was inserted into the <code>numericupdown</code>, which it shouldn't)</p>\n\n<p><code>if (ctrl &amp;&amp; alt &amp;&amp; c=='m')</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ytq5Q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ytq5Q.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><code>if (ctrl &amp;&amp; alt &amp;&amp; e.KeyValue==77)</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/sE7uh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sE7uh.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Dunno why - Ideas?</p>\n\n<pre><code>private void numericUpDown1_KeyDown(object sender, KeyEventArgs e)\n    {\n        KeysConverter kc = new KeysConverter();\n        char c = char.ToLower(kc.ConvertToString(e.KeyValue)[0]);\n\n        Boolean ctrl = e.Control;\n        Boolean alt = e.Alt;\n        Boolean shift = e.Shift;\n        int keyPadStart = (int)Keys.NumPad0;\n        int keyPadEnd = (int)Keys.NumPad9;\n\n        if (e.KeyValue &gt;= keyPadStart &amp;&amp; e.KeyValue &lt;= keyPadEnd)\n        {\n            //send to numeric updown. \n            return;\n        }\n\n        if (char.IsLetter(c) &amp;&amp; !alt)\n        {\n            if (shift) c = char.ToUpper(c);\n\n            //Check, if its valid for si prefixes.\n            if (this.siSelector1.TrySelect(c))\n            {\n                e.Handled = true;\n                e.SuppressKeyPress = true;\n            }\n        }\n\n        //not working: if (ctrl &amp;&amp; alt &amp;&amp; c=='m')\n        if (ctrl &amp;&amp; alt &amp;&amp; e.KeyValue==77)\n        {\n            //Check, if its valid for si prefixes.\n            if (this.siSelector1.TrySelect('\u00b5'))\n            {\n                e.Handled = true;\n                e.SuppressKeyPress = true;\n            }\n\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 49781202, "answer_count": 1, "score": 3, "last_activity_date": 1523704169, "creation_date": 1523465904, "last_edit_date": 1523466642, "question_id": 49780715, "link": "https://stackoverflow.com/questions/49780715/suppress-key-bing-with-keypressevent", "title": "Suppress Key &quot;Bing&quot; with KeyPressEvent?", "body": "<p>Within our application, there is a usercontrol, which allows to enter a number (inside a <code>numericupdown</code>) followed by a <code>combobox</code> which allows to select the SI-Prefix (<code>[p, n, \u00b5, m, -, k, M, G, T]</code> small to big)</p>\n\n<p>Now, for easier usage, I thought it would be nice to capture the <code>KeyPress</code>-Event on the <code>numericUpDown</code> and set the <code>combobox</code> accordingly. (If <code>m</code> is pressed, select <code>mili (m)</code>, if <code>G</code> is pressed, select <code>Giga (G)</code>)</p>\n\n<p>This works flawless with the following handler / selector: </p>\n\n<pre><code> private void numericUpDown1_KeyPress(object sender, KeyPressEventArgs e)\n    {\n        if (char.IsLetter(e.KeyChar))\n        {\n            //Check, if its valid for si prefixes. \n            if (this.siSelector1.TrySelect(e.KeyChar)\n            {\n                e.Handled = true;\n            }\n        }\n    }\n</code></pre>\n\n<p>Where <code>TrySelect</code> does nothing but the following: </p>\n\n<pre><code>public Boolean TrySelect(Char chr)\n    {\n        var entry = this.comboBox_siPrefix.Items.Cast&lt;KeyValuePair&lt;String,Double&gt;&gt;().Where(e =&gt; e.Key.Contains(\"(\" + chr + \")\")).FirstOrDefault();\n\n        if (!entry.Equals(new KeyValuePair&lt;String, Double&gt;()))\n        {\n            this.comboBox_siPrefix.SelectedItem = entry;\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n\n<p>That's fine, but everytime the user hears a \"BING\" whenever a non-numeric Key is pressed on the <code>numericupdown</code>.</p>\n\n<p>I read about <code>e.SuppressKeyPress</code>, which unfortunately isn't available with <code>KeyPressEventArgs</code> - it's only available for <code>KeyEventArgs</code>.</p>\n\n<p>So, trying the whole thing with the <code>KeyDown</code>-Event works. (No \"BING\") - but I wasn't able to capture capital keys, as every <code>KeyDown</code> will fire the Event immediately... </p>\n\n<pre><code> private void numericUpDown1_KeyDown(object sender, KeyEventArgs e)\n    {\n        KeysConverter kc = new KeysConverter();\n        if (char.IsLetter(kc.ConvertToString(e.KeyCode)[0]))\n        {\n            //Check, if its valid for si prefixes. \n            if (this.siSelector1.TrySelect(kc.ConvertToString(e.KeyCode)[0]))\n            {\n                e.Handled = true;\n                e.SuppressKeyPress = true;\n            }\n        }\n    }\n</code></pre>\n\n<p>Any Ideas? </p>\n"}]