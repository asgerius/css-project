[{"tags": ["c#", "serialization"], "comments": [{"owner": {"reputation": 853, "user_id": 1884803, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ov2Uq.jpg?s=128&g=1", "display_name": "Cory-G", "link": "https://stackoverflow.com/users/1884803/cory-g"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1560988271, "post_id": 56677262, "comment_id": 99921379, "body": "Sorry, to clarify, the print statement in the setter is displayed, so I know it&#39;s getting in there."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1560988772, "post_id": 56677262, "comment_id": 99921481, "body": "I don&#39;t understand the question / problem."}], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 1884803, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ov2Uq.jpg?s=128&g=1", "display_name": "Cory-G", "link": "https://stackoverflow.com/users/1884803/cory-g"}, "edited": false, "score": 0, "creation_date": 1560988490, "post_id": 56677292, "comment_id": 99921420, "body": "Ah, dang... Well, that works, but that really just means I failed to replicate the real issue in a simple way. Back to the broken code... it&#39;s been a long day..."}], "tags": [], "owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "is_accepted": true, "score": 1, "last_activity_date": 1560988253, "creation_date": 1560988253, "answer_id": 56677292, "question_id": 56677262, "link": "https://stackoverflow.com/questions/56677262/serializing-didnt-show-value/56677292#56677292", "title": "Serializing didn&#39;t show value", "body": "<p>in Class <code>B</code>:\n<code>public A a {get; set;} = new A();</code>\nIn order to serialize, variables must be public.</p>\n\n<p><a href=\"https://dotnetfiddle.net/B4YVHU\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/B4YVHU</a></p>\n"}], "owner": {"reputation": 853, "user_id": 1884803, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/ov2Uq.jpg?s=128&g=1", "display_name": "Cory-G", "link": "https://stackoverflow.com/users/1884803/cory-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 56677292, "answer_count": 1, "score": -1, "last_activity_date": 1560989294, "creation_date": 1560987881, "last_edit_date": 1560989294, "question_id": 56677262, "link": "https://stackoverflow.com/questions/56677262/serializing-didnt-show-value", "title": "Serializing didn&#39;t show value", "body": "<p>EDIT: My attempt to create a simple sample was a failure. I thought I had replicated the issue with my real code, but it was really just a value not set to public, so my serialization was failing.</p>\n\n<p>Original Post:</p>\n\n<p>I have a class with a value to be set on it (A below.) Another class has an A in it and a setter for A's value (B below.) I have a bunch of B's in a list and a series of foreach's and casts. On the inside of it all, I call the setter, but the result of all of this is a list where the setter appears to have never been called. What's going wrong here and how do I get the new value to take?</p>\n\n<p>I was able to recreate the problem in a more simple set of code.</p>\n\n<p>Here's a fiddle: <a href=\"https://dotnetfiddle.net/B4YVHU\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/B4YVHU</a></p>\n\n<p>Alternatively, here's the code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing Newtonsoft.Json;\n\nnamespace ConsoleApplication28\n{\n    class A\n    {\n        public string value = null;\n    }\n\n    class B\n    {\n        private A a = new A();\n\n        public void SetAValue(string s)\n        {\n            Console.WriteLine($\"Value is set to: {s}\");\n            a.value = s;\n        }\n    }\n\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            object list = new List&lt;B&gt; { new B(), new B() };\n\n            if ( list is IEnumerable&lt;object&gt; enumerable)\n            {\n                foreach (var value in enumerable)\n                {\n                    if (value is B a)\n                    {\n                        a.SetAValue(\"blooop\");\n                    }\n                }\n            }\n\n            Console.WriteLine(Serialization.SerializeJson(list));\n        }\n    }\n\n    // You can ignore this. It's just to more easily display the object result\n    class Serialization\n    {\n        private static JsonSerializer _serializer;\n\n        static Serialization()\n        {\n            _serializer = new JsonSerializer();\n        }\n\n        public static string SerializeJson&lt;T&gt;( T value )\n        {\n            string jsonString;\n            using ( var stringWriter = new StringWriter() )\n            using ( var writer = new JsonTextWriter( stringWriter ) )\n            {\n                _serializer.Serialize(writer, value);\n                jsonString = stringWriter.ToString();\n            }\n            return jsonString;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1560991265, "post_id": 56677253, "comment_id": 99921910, "body": "What is the value of <code>CopyPrefab.Length</code>? <code>Prefab.Length</code>? <i>Both when the exception occurs.</i>"}], "answers": [{"tags": [], "owner": {"reputation": 778, "user_id": 11666391, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MP4xeWwe3UY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzodOndRLVZTTsHfxE4wYA-10kGw/mo/photo.jpg?sz=128", "display_name": "S\u0131dd\u0131k A&#231;\u0131l", "link": "https://stackoverflow.com/users/11666391/s%c4%b1dd%c4%b1k-a%c3%a7%c4%b1l"}, "is_accepted": false, "score": 3, "last_activity_date": 1560988133, "creation_date": 1560988133, "answer_id": 56677282, "question_id": 56677253, "link": "https://stackoverflow.com/questions/56677253/index-was-outside-the-bounds-of-an-array-for-gameobject-array-initialize/56677282#56677282", "title": "&quot;Index was outside the bounds of an array&quot; for GameObject array initialize", "body": "<p>How do you know the exact number of objects in your GameObject[]? Do not hardcode your loop end condition to i &lt; 10. Instead you should either loop using a foreach-loop or use Array's Length property.</p>\n\n<p><a href=\"https://www.programiz.com/csharp-programming/foreach-loop\" rel=\"nofollow noreferrer\">Looping in C#</a></p>\n"}, {"tags": [], "owner": {"reputation": 1325, "user_id": 4139780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A3v6x.gif?s=128&g=1", "display_name": "TimChang", "link": "https://stackoverflow.com/users/4139780/timchang"}, "is_accepted": false, "score": 0, "last_activity_date": 1561002438, "creation_date": 1561002438, "answer_id": 56678693, "question_id": 56677253, "link": "https://stackoverflow.com/questions/56677253/index-was-outside-the-bounds-of-an-array-for-gameobject-array-initialize/56678693#56678693", "title": "&quot;Index was outside the bounds of an array&quot; for GameObject array initialize", "body": "<pre><code>public GameObject[] Prefab;\npublic GameObject[] CopyPrefab;\nCopyPrefab = new GameObject[Prefab.Length];\nfor (int i = 0; i &lt; Prefab.Length; i++)\n{\n    CopyPrefab[i] = Instantiate(Prefab[i]) as GameObject;\n}\n</code></pre>\n\n<p>First , make sure two array length is same , if CopyPrefab.Length = 10 ,\nyou just can use CopyPrefab[0...9] , Can't use CopyPrefab[-1] or CopyPrefab[10] ... \"It Out of Range\"</p>\n"}], "owner": {"reputation": 7, "user_id": 11673143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9589affa773ae53e6773ca95cd98e9?s=128&d=identicon&r=PG&f=1", "display_name": "BloopBop", "link": "https://stackoverflow.com/users/11673143/bloopbop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2492, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1561002438, "creation_date": 1560987804, "question_id": 56677253, "link": "https://stackoverflow.com/questions/56677253/index-was-outside-the-bounds-of-an-array-for-gameobject-array-initialize", "title": "&quot;Index was outside the bounds of an array&quot; for GameObject array initialize", "body": "<p>does anyone know why this Is giving an error about the index being out of bounds for the gameobject arrays?</p>\n\n<pre><code>public GameObject[] Prefab;\npublic GameObject[] CopyPrefab;\n\nfor (int i = 0; i &lt; 10; i++)\n{\n    CopyPrefab[i] = Instantiate(Prefab[i]) as GameObject;\n}\n</code></pre>\n\n<p>error: <code>IndexOutOfRangeExCeption: Index was outside the bounds of the array.</code></p>\n\n<p>I tried <code>CopyPrefab[i-1] = Instantiate(Prefab[i-1]) as GameObject;</code> and <code>CopyPrefab[i] = Instantiate(Prefab[0]) as GameObject;</code> . i don't get what i am doing wrong please</p>\n"}, {"tags": ["c#", ".net", "mono", "appdomain"], "comments": [{"owner": {"reputation": 14422, "user_id": 544947, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/125e1b6d250e0529d33d3822c3787b07?s=128&d=identicon&r=PG", "display_name": "knocte", "link": "https://stackoverflow.com/users/544947/knocte"}, "edited": false, "score": 0, "creation_date": 1562049463, "post_id": 56677249, "comment_id": 100244038, "body": "the error is giving you a very good hint, did you place the Plugin.dll file in the same folder where the exe is, or in the current directory?"}, {"owner": {"reputation": 93, "user_id": 2703239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4vBTa.png?s=128&g=1", "display_name": "NorbiPeti", "link": "https://stackoverflow.com/users/2703239/norbipeti"}, "reply_to_user": {"reputation": 14422, "user_id": 544947, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/125e1b6d250e0529d33d3822c3787b07?s=128&d=identicon&r=PG", "display_name": "knocte", "link": "https://stackoverflow.com/users/544947/knocte"}, "edited": false, "score": 0, "creation_date": 1562062042, "post_id": 56677249, "comment_id": 100250432, "body": "@knocte I have loaded the plugin already at that point manually and I don&#39;t want it to get loaded outside the app domain since then I can&#39;t reload it."}, {"owner": {"reputation": 14422, "user_id": 544947, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/125e1b6d250e0529d33d3822c3787b07?s=128&d=identicon&r=PG", "display_name": "knocte", "link": "https://stackoverflow.com/users/544947/knocte"}, "edited": false, "score": 1, "creation_date": 1562070363, "post_id": 56677249, "comment_id": 100254799, "body": "not sure i understand; anyway you should know that AppDomains are deprecated technology already because they&#39;re not supported in .NETCore AFAIK; you should just use MEF"}], "owner": {"reputation": 93, "user_id": 2703239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4vBTa.png?s=128&g=1", "display_name": "NorbiPeti", "link": "https://stackoverflow.com/users/2703239/norbipeti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560987771, "creation_date": 1560987771, "question_id": 56677249, "link": "https://stackoverflow.com/questions/56677249/how-to-call-arbitrary-method-from-another-appdomain", "title": "How to call arbitrary method from another AppDomain", "body": "<p>I'm making a plugin manager, which interfaces with third-party code. I would like the plugins to be reloadable at runtime and also access the third-party code (in the default AppDomain) from the plugins.</p>\n\n<p>I tried to use AppDomains, but I haven't found a way to call <em>any</em> method without having to wrap each available method/object.</p>\n\n<p>I've looked at a couple of questions, and for example, <a href=\"https://stackoverflow.com/a/48648246/2703239\">this answer</a>, the links in it and <a href=\"https://stackoverflow.com/a/18714459/2703239\">this answer</a> gave some insight on how cross-AppDomain communication works.</p>\n\n<p>I have successfully created a proxy class for a single method to be called in the default AppDomain thanks to the second answer, but this would require me to add one for each possible method call that would be called from a plugin.</p>\n\n<p>I also tried to use the code with Action as the passed type, to allow the plugin to pass some code to be executed in the default AppDomain, but it failed with various errors. Here's my last attempt.</p>\n\n<p>Main application:</p>\n\n<pre><code>[Serializable]\npublic sealed class DelegateWrapper&lt;T1&gt;\n{\n    private Action&lt;T1&gt; _someDelegate;\n\n    public Action&lt;T1&gt; SomeDelegate\n    {\n        get\n        {\n            return _someDelegate;\n        }\n        set\n        {\n            if (value == null)\n                _someDelegate = null;\n            else\n                _someDelegate = new myDelegateWrapper(value).Invoke;\n        }\n    }\n\n    private sealed class myDelegateWrapper : MarshalByRefObject\n    {\n        public void Invoke(T1 input)\n        {\n            _delegate(input);\n        }\n\n        private Action&lt;T1&gt; _delegate;\n\n        public myDelegateWrapper(Action&lt;T1&gt; dlgt)\n        {\n            _delegate = dlgt;\n        }\n    }\n}\n\n\n[Serializable]\npublic sealed class P\n{\n    public Action Action { get; }\n\n    public P(Action action)\n    {\n        this.Action = action;\n    }\n}\n\nprivate static readonly DelegateWrapper&lt;P&gt; PerformWrapper=new DelegateWrapper&lt;P&gt;();\n\npublic static void Init()\n{\n    PerformWrapper.SomeDelegate = p =&gt; p.Action();\n}\n</code></pre>\n\n<p>Inside the new AppDomain, the Perform method is calling perform.SomeDelegate.</p>\n\n<p>Plugin (also executing in the new AppDomain):</p>\n\n<pre><code>Perform(new P(() =&gt;\n{\n    //Third-party code\n}));\n</code></pre>\n\n<p>This results in an exception saying that it cannot find the plugin's assembly I loaded manually in the plugin AppDomain. I assume it's trying to load it in the default domain as well. Is there a way to get around it?</p>\n\n<pre><code>System.Reflection.TargetInvocationException: Exception has been thrown by the target of an invocation. ---&gt; System.IO.FileNotFoundException: Could not load file or assembly 'Plugin, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' or one of its dependencies\n</code></pre>\n\n<p>Full stack trace here: <a href=\"https://pastebin.com/xZV7bXeV\" rel=\"nofollow noreferrer\">https://pastebin.com/xZV7bXeV</a></p>\n"}, {"tags": ["c#", "winforms", "gdi+"], "comments": [{"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1560987756, "post_id": 56677221, "comment_id": 99921285, "body": "What line does it throw an exception on? Did you step through with a debugger?"}, {"owner": {"reputation": 24042, "user_id": 422289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e5f72d9050f96c79a80795e1dd10b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Tavares", "link": "https://stackoverflow.com/users/422289/chris-tavares"}, "edited": false, "score": 0, "creation_date": 1560987797, "post_id": 56677221, "comment_id": 99921300, "body": "Which versions of .NET/C#/Windows are you running this on?"}, {"owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "edited": false, "score": 0, "creation_date": 1560987821, "post_id": 56677221, "comment_id": 99921306, "body": "Should have said that, will edit... throws on complete.Save(&quot;filename&quot;); and yes I have, no idea what is causing it as no info given other than GDI+ error"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1560987933, "post_id": 56677221, "comment_id": 99921321, "body": "If you have no files, your height is zero.  You should check for that."}, {"owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "edited": false, "score": 0, "creation_date": 1560987950, "post_id": 56677221, "comment_id": 99921324, "body": "checked that, not issue."}, {"owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "edited": false, "score": 0, "creation_date": 1560987991, "post_id": 56677221, "comment_id": 99921331, "body": ".NET is version 4.6.1"}, {"owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "edited": false, "score": 0, "creation_date": 1560988094, "post_id": 56677221, "comment_id": 99921352, "body": "The image it is trying to save is 647 wide by 75468 high"}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "edited": false, "score": 1, "creation_date": 1560988471, "post_id": 56677221, "comment_id": 99921416, "body": "You&#39;re probably running into GDI+ limitations at that size.   See <a href=\"https://stackoverflow.com/questions/29175585/what-is-the-maximum-resolution-of-c-sharp-net-bitmap\">this thread</a> for more details..."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1560988481, "post_id": 56677221, "comment_id": 99921419, "body": "<a href=\"https://stackoverflow.com/a/29176435/7444103\">What is the maximum resolution of C# .NET Bitmap?</a>"}, {"owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "edited": false, "score": 0, "creation_date": 1560988882, "post_id": 56677221, "comment_id": 99921499, "body": "Ok I&#39;ll try removing some of the font images and make it smaller, therefore making it within the supposed limits."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1560989165, "post_id": 56677221, "comment_id": 99921545, "body": "Btw, the description of what this process is for doesn&#39;t match the code&#39;s ops."}, {"owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "edited": false, "score": 0, "creation_date": 1560989321, "post_id": 56677221, "comment_id": 99921571, "body": "I didn&#39;t post the entire code because it wasn&#39;t necessary. The error lay within this part of the code only (it&#39;s in it&#39;s own method and separate from the other image creation code)"}], "answers": [{"comments": [{"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "edited": false, "score": 0, "creation_date": 1560989600, "post_id": 56677390, "comment_id": 99921615, "body": "Glad you have a solution.  Be sure to upvote one or more of the answers in the linked question."}], "tags": [], "owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "is_accepted": false, "score": 0, "last_activity_date": 1560989214, "creation_date": 1560989214, "answer_id": 56677390, "question_id": 56677221, "link": "https://stackoverflow.com/questions/56677221/totally-stumpted-system-runtime-interopservices-externalexception-a-generic/56677390#56677390", "title": "Totally stumpted - System.Runtime.InteropServices.ExternalException: &#39;A generic error occurred in GDI+.&#39;", "body": "<p>Turns out it was due to excessive height... I couldn't see it. Thank you for all that commented and helped me out.</p>\n"}], "owner": {"reputation": 133, "user_id": 596822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/74d17fcddf0a9531c6ded3dc0bd40a94?s=128&d=identicon&r=PG", "display_name": "mikelomaxxx14", "link": "https://stackoverflow.com/users/596822/mikelomaxxx14"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560989214, "creation_date": 1560987573, "last_edit_date": 1560987892, "question_id": 56677221, "link": "https://stackoverflow.com/questions/56677221/totally-stumpted-system-runtime-interopservices-externalexception-a-generic", "title": "Totally stumpted - System.Runtime.InteropServices.ExternalException: &#39;A generic error occurred in GDI+.&#39;", "body": "<p>I've written a quick winform app that can take some entered text, generate images based on all the system fonts and then consolidate those images into a single image to give examples of the fonts. For ease, I've separated the two functions, one to generate the images and another to consolidate them so I can remove fonts I don't want in the single image. It was all working yesterday, but now when it comes to saving the consolidated image (\"complete.save(\"consolidated.png\");) it gives the useless GDI+ error. I've checked paths and access, all are fine and correct. Nothing is locking the image, so I'm totally at a loss as what is causing this. Any ideas? Code below</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\n\n        List&lt;string&gt; files = FileSystemUtilities.ListFiles(\"fonts\");\n\n        int height = 0;\n        int width = 0;\n\n        Bitmap test = new Bitmap(1000, 1000);\n        Graphics gTest = Graphics.FromImage(test);\n\n        Font font = new Font(\"Arial\", 128);\n\n        int numWidth = 0;\n\n        int count = 1;\n\n        foreach (var file in files)\n        {\n            sb.AppendFormat(\"{0}\\r\", FileSystemUtilities.GetFileName(file).Replace(\".png\", string.Empty));\n\n            Bitmap bitmap = new Bitmap(file);\n\n            height = height + bitmap.Height + 10;\n\n            if (width &lt; bitmap.Width)\n            {\n                width = bitmap.Width;\n            }\n\n            SizeF numSize = gTest.MeasureString(Convert.ToString(count), font);\n\n            if (numWidth &lt; numSize.Width)\n            {\n                numWidth = Convert.ToInt32(numSize.Width + 1);\n            }\n\n            bitmap.Dispose();\n\n            count++;\n        }\n\n        test.Dispose();\n        gTest.Dispose();\n\n        numWidth = numWidth + 10;\n        count = 1;\n        Bitmap complete = new Bitmap(width + numWidth, height);\n        Graphics g = Graphics.FromImage(complete);\n\n        g.FillRectangle(Brushes.White, 0, 0, complete.Width, complete.Height);\n\n        int y = 0;\n        foreach (var file in files)\n        {\n            Bitmap bitmap = new Bitmap(file);\n\n            g.DrawString(Convert.ToString(count) + \".\", font, Brushes.Black, 0, y);\n\n            g.DrawImage(bitmap, numWidth, y);\n\n            y = y + bitmap.Height + 10;\n\n            bitmap.Dispose();\n\n            count++;\n        }\n\n        string filename = \"consolidated.png\";\n\n        if (File.Exists(filename))\n        {\n            File.Delete(filename);\n        }\n\n        g.Dispose();\n        complete.Save(\"consolidated.png\");\n        complete.Dispose();\n\n        TextFileUtilities.WriteTextFile(\"consolidated.txt\", sb.ToString());\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core", "seeding"], "comments": [{"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1560987980, "post_id": 56677148, "comment_id": 99921329, "body": "Why not use the <code>SqlServerObjectExplorer</code> and enter the missing guid directly?"}, {"owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "reply_to_user": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1560988517, "post_id": 56677148, "comment_id": 99921424, "body": "@Tim during coding stage, database has to be deleted and recreated each time models are changed, so it is more convenient to seed data by code."}, {"owner": {"reputation": 2042, "user_id": 4856958, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/u77I8.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/4856958/tim"}, "edited": false, "score": 0, "creation_date": 1560988712, "post_id": 56677148, "comment_id": 99921461, "body": "In that case, shouldn&#39;t you update <code>MyDbContext</code>? There&#39;s several approaches in the docs here: <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/data-seeding\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/modeling/data-seeding</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "edited": false, "score": 0, "creation_date": 1560991041, "post_id": 56677392, "comment_id": 99921879, "body": "Yes, you&#39;re right I missed to pass the registered context to SeedTest(), thanks."}], "tags": [], "owner": {"reputation": 3813, "user_id": 5588197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206610955445736/picture?type=large", "display_name": "Jan Paolo Go", "link": "https://stackoverflow.com/users/5588197/jan-paolo-go"}, "is_accepted": true, "score": 3, "last_activity_date": 1560989258, "creation_date": 1560989258, "answer_id": 56677392, "question_id": 56677148, "link": "https://stackoverflow.com/questions/56677148/asp-net-core-how-to-seed-data-object-reference-not-set-to-an-instance-of-an/56677392#56677392", "title": "Asp.Net Core - How to seed data - Object reference not set to an instance of an object", "body": "<p><code>new SeedTest()</code> does not initialize its <code>_context</code> field. You could use DI on your <code>DatabaseInitializer</code> to instantiate a <code>SeedTest</code> with a <code>MyDbContext</code>.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public class DatabaseInitializer : IDatabaseInitializer\n{\n    private readonly MyDbContext _context;\n\n    public DatabaseInitializer(MyDbContext context)\n    {\n        _context = context;\n    }\n\n    public async Task SeedAsync()\n    {\n        SeedTest _seedTest = new SeedTest(_context);\n        await _seedTest.SeedTest();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "edited": false, "score": 0, "creation_date": 1560989617, "post_id": 56677410, "comment_id": 99921619, "body": "DbContext is just a mistake, please consider it as MyDbContext, please let me update the question."}, {"owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "edited": false, "score": 0, "creation_date": 1560990175, "post_id": 56677410, "comment_id": 99921712, "body": "Does _seedTest includes SeedTest ? Please check the typo &quot;SpeedTest&quot; also please correct await _seedTest.SeedTest();"}, {"owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "edited": false, "score": 0, "creation_date": 1560991551, "post_id": 56677410, "comment_id": 99921944, "body": "There is no need to add services.AddTransient&lt;SeedTest&gt;(); in startup.cs, initializing SeedTest with the field _context was enough to seed data."}], "tags": [], "owner": {"reputation": 28, "user_id": 7776162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zB0oM.jpg?s=128&g=1", "display_name": "Bowb", "link": "https://stackoverflow.com/users/7776162/bowb"}, "is_accepted": false, "score": 1, "last_activity_date": 1561000752, "last_edit_date": 1561000752, "creation_date": 1560989398, "answer_id": 56677410, "question_id": 56677148, "link": "https://stackoverflow.com/questions/56677148/asp-net-core-how-to-seed-data-object-reference-not-set-to-an-instance-of-an/56677410#56677410", "title": "Asp.Net Core - How to seed data - Object reference not set to an instance of an object", "body": "<p>You are explicitly newing an instance of SeedTest in DatabaseInitialize, while the instance of DatabaseInitialize is being created by the dependency injection service. Register the SeedTest class in the services with the correct scope and let the dependency injection do its thing.</p>\n\n<p>In ConfigureServices add something like</p>\n\n<pre><code>services.AddTransient&lt;SeedTest&gt;();\n</code></pre>\n\n<p>Modify DatabaseInitializer</p>\n\n<pre><code>public class DatabaseInitializer : IDatabaseInitializer{\n     private readonly SeedTest _seedTest;\n     public DatabaseInitializer(SeedTest seedTest) \n     {\n          _seedTest = seedTest;\n     }\n\n     public async Task SeedAsync()\n     {\n         await _seedTest.SeedTest();\n     }\n}\n</code></pre>\n\n<p>Remove the parameterless SeedTest constructor and make sure the MyDbContext type registered is what is passed in the other constructor as you have both MyDbContext and DbContext.</p>\n"}, {"tags": [], "owner": {"reputation": 468, "user_id": 3025714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53c905fb7ff3e901e2d78dc2ace108e?s=128&d=identicon&r=PG&f=1", "display_name": "Mofaggol Hoshen", "link": "https://stackoverflow.com/users/3025714/mofaggol-hoshen"}, "is_accepted": false, "score": 0, "last_activity_date": 1560994808, "creation_date": 1560994808, "answer_id": 56677923, "question_id": 56677148, "link": "https://stackoverflow.com/questions/56677148/asp-net-core-how-to-seed-data-object-reference-not-set-to-an-instance-of-an/56677923#56677923", "title": "Asp.Net Core - How to seed data - Object reference not set to an instance of an object", "body": "<p>You can try this, i have used .net core 2.2 for this sample - </p>\n\n<p>MyDbContext.cs</p>\n\n<pre><code>public class MyDbContext : DbContext\n    {\n        public MyDbContext(DbContextOptions&lt;MyDbContext&gt; options) : base(options)\n        {\n            Database.EnsureCreated();\n        }\n\n        public DbSet&lt;Values&gt; Values { get; set; }\n    }\n</code></pre>\n\n<p>SeedTest.cs</p>\n\n<pre><code>public class SeedTest\n    {\n        private readonly MyDbContext _context;\n\n        public SeedTest(MyDbContext context)\n        {\n            _context = context;\n        }\n\n        public async Task SeedTest1()\n        {\n            Values value1 = new Values\n            {\n                Id = Guid.Parse(\"AFE1052A-A694-48AF-AA77-56D2D945DE31\"),\n                ValueName = \"value 1\",\n                Created = DateTime.Now\n            };\n\n            _context.Values.Add(value1);\n\n            var value  = await _context.SaveChangesAsync();\n        }\n\n        public SeedTest()\n        {\n        }\n    }\n</code></pre>\n\n<p>Service </p>\n\n<pre><code>public interface IDatabaseInitializer\n    {\n        Task SeedAsync();\n    }\n\n    public class DatabaseInitializer : IDatabaseInitializer\n    {\n        private readonly MyDbContext _cotext;\n\n       // Inject DbContext \n        public DatabaseInitializer(MyDbContext dbContext)\n        {\n            _cotext = dbContext;\n        }\n        public async Task SeedAsync()\n        {\n            // Object with contructor which having DbContext parameter\n            SeedTest _seedTest = new SeedTest(_cotext);\n            await _seedTest.SeedTest1();\n        }\n    }\n</code></pre>\n\n<p>startup.cs</p>\n\n<pre><code> services.AddTransient&lt;IDatabaseInitializer, DatabaseInitializer&gt;();\n services.AddDbContext&lt;MyDbContext&gt;(option=&gt; option.UseSqlServer(\"Data Source=localhost;Initial Catalog=StackOverFlow1;Integrated Security=True\"));\n</code></pre>\n\n<p>program.cs</p>\n\n<pre><code>public class Program\n    {\n        public static void Main(string[] args)\n        {\n            var host = CreateWebHostBuilder(args).Build();\n\n            using (var scope = host.Services.CreateScope())\n            {\n                var services = scope.ServiceProvider;\n                try\n                {\n                    var databaseInitializer = services.GetRequiredService&lt;IDatabaseInitializer&gt;();\n                    databaseInitializer.SeedAsync().Wait();\n                }\n                catch (Exception ex)\n                {\n                }\n            }\n            host.Run();\n        }\n\n        public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt;\n            WebHost.CreateDefaultBuilder(args)\n                .UseStartup&lt;Startup&gt;();\n    }\n</code></pre>\n\n<p>You can read more about <a href=\"https://docs.microsoft.com/en-us/aspnet/core/data/ef-mvc/intro?view=aspnetcore-2.2#initialize-db-with-test-data\" rel=\"nofollow noreferrer\">seed data</a>. </p>\n"}], "owner": {"reputation": 4849, "user_id": 1299388, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/fPo0R.jpg?s=128&g=1", "display_name": "Sami-L", "link": "https://stackoverflow.com/users/1299388/sami-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1513, "favorite_count": 0, "accepted_answer_id": 56677392, "answer_count": 3, "score": 0, "last_activity_date": 1561000752, "creation_date": 1560986893, "last_edit_date": 1560989725, "question_id": 56677148, "link": "https://stackoverflow.com/questions/56677148/asp-net-core-how-to-seed-data-object-reference-not-set-to-an-instance-of-an", "title": "Asp.Net Core - How to seed data - Object reference not set to an instance of an object", "body": "<p>After converted all my tables to start using Guid type in identity columns, I failed to seed data, so I simplified a lot the code to localize the error, and ended with a seeding class as follows:</p>\n\n<pre><code>public class SeedTest\n{\n    private readonly MyDbContext _context;\n\n    public SeedTest(MyDbContext context)\n    {\n        _context = context;\n    }\n\n    public async Task SeedTest()\n    {\n        Values value1 = new Values\n        {\n            Id = Guid.Parse(\"29c48913-1b5c-47b8-g144-08d6d2273deb\"),\n            ValueName = \"value 1\",\n            Created = DateTime.Now\n        };\n\n        _context.Values.Add(value1);\n\n        await _context.SaveChangesAsync();\n    }\n\n    public SeedTest()\n    {\n    }\n}\n</code></pre>\n\n<p>This class is called from another one:</p>\n\n<pre><code>public interface IDatabaseInitializer\n{\n    Task SeedAsync();\n}\n\npublic class DatabaseInitializer : IDatabaseInitializer\n{\n    public async Task SeedAsync()\n    {\n            SeedTest _seedTest = new SeedTest();\n            await _seedTest.SeedTest();\n    }\n}\n</code></pre>\n\n<p>which is called from startup.cs</p>\n\n<pre><code>    public class Startup\n    {\n        public IConfiguration Configuration { get; }\n        private readonly IHostingEnvironment _hostingEnvironment;\n\n        public Startup(IConfiguration configuration, IHostingEnvironment env)\n        {\n            Configuration = configuration;\n            _hostingEnvironment = env;\n        }\n\n        public void ConfigureServices(IServiceCollection services)\n        {\n            ...\n            services.AddMyDbContext&lt;MyDbContext&gt;(options =&gt;\n                options.UseSqlServer(\"ConnectionStrings:MyCn\"));\n            ...\n            // DB Seeding\n            services.AddTransient&lt;IDatabaseInitializer, DatabaseInitializer&gt;();\n            ...\n            ...\n     }\n</code></pre>\n\n<p>And here is how it is triggered from program.cs</p>\n\n<pre><code>public class Program\n{\n\n    public static void Main(string[] args)\n    {\n        var host = BuildWebHost(args);\n\n        using (var scope = host.Services.CreateScope())\n        {\n            var services = scope.ServiceProvider;\n            try\n            {\n                var databaseInitializer = services.GetRequiredService&lt;IDatabaseInitializer&gt;();\n                databaseInitializer.SeedAsync().Wait();\n            }\n            catch (Exception ex)\n            {\n                var logger = services.GetRequiredService&lt;ILogger&lt;Program&gt;&gt;();\n                logger.LogCritical(LoggingEvents.INIT_DATABASE, ex, LoggingEvents.INIT_DATABASE.Name);\n            }\n        }\n\n        host.Run();\n    }\n\n    public static IWebHost BuildWebHost(string[] args) =&gt;\n                WebHost.CreateDefaultBuilder(args)\n                    .UseStartup&lt;Startup&gt;()\n                    .Build();\n}\n</code></pre>\n\n<p>Unfortunately this implementation didn't seed any data in the database, the unique error I could find is in the logs files, and it says:</p>\n\n<blockquote>\n  <p>System.NullReferenceException: Object reference not set to an instance\n  of an object. and it points to the last line of SeedTest class.</p>\n</blockquote>\n\n<p>So what am I doing wrong ?</p>\n"}, {"tags": ["c#", "loops", "class", "properties"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1560987330, "post_id": 56677147, "comment_id": 99921196, "body": "The keyword here is &quot;reflection&quot;. There are plenty of tutorials/guides out there that teach the basics of reflection. There should also be questions+answers here on StackOverflow that demonstrate how to set a property through reflection using a given property name string."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1560987370, "post_id": 56677147, "comment_id": 99921206, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11824362/c-sharp-get-and-set-property-by-variable-name\">C# get and set property by variable name</a>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560987638, "post_id": 56677147, "comment_id": 99921270, "body": "I don&#39;t think <code>string[] arr = strArr.Split(&#39;:&#39;);</code> will compile...<code>strArr</code> is an array, not a <code>string</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1560988167, "last_edit_date": 1560988167, "creation_date": 1560987841, "answer_id": 56677258, "question_id": 56677147, "link": "https://stackoverflow.com/questions/56677147/dynamically-changing-other-class-properties-with-a-loop/56677258#56677258", "title": "Dynamically changing other class properties with a loop", "body": "<p>You can use the <code>GetProperty</code> method of the type of <code>instance</code> to find a property whose name matches the string, and then call <code>SetValue</code> on that property to set the value on the instance. </p>\n\n<p>If the property <code>name</code> isn't found, <code>GetProperty</code> will return <code>null</code>, so I used the <code>?.</code> operator to guard against that.</p>\n\n<p>Also, there was a typo in your original sample - you were calling <code>Split</code> on <code>strArr</code> (the array) instead of <code>strArr[i]</code> (the string).</p>\n\n<pre><code>XClass instance = new XClass();\n\nfor (int i = 0; i &lt; strArr.Length; i++)\n{\n    var parts = strArr[i].Split(':');\n    if (parts.Length &lt; 2) continue;\n\n    var propName = parts[0];\n    var propValue = parts[1];\n\n    instance.GetType().GetProperty(propName)?.SetValue(instance, propValue);\n}\n</code></pre>\n\n<p>Note that this code will work as is for the sample you provided, but <code>propValue</code> must be of the correct type (<code>string</code> in this case) for it to work. So additional error handling should be added to make this work more generically.</p>\n"}], "owner": {"reputation": 91, "user_id": 10404277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/017d4040b65d0e566caab0d8cde76f27?s=128&d=identicon&r=PG&f=1", "display_name": "hames", "link": "https://stackoverflow.com/users/10404277/hames"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1053, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560988167, "creation_date": 1560986893, "question_id": 56677147, "link": "https://stackoverflow.com/questions/56677147/dynamically-changing-other-class-properties-with-a-loop", "title": "Dynamically changing other class properties with a loop", "body": "<p>Let's say <code>strArr</code> is an array of strings. In a loop I split each of them, so I can get <strong>key</strong> and <strong>value</strong>. All I want to do is to find a property in <code>XClass</code> which is equal as <strong>key</strong> and set it to <strong>value</strong>. </p>\n\n<p>If <code>strArr</code> element does not contain proper <strong>key</strong> (like 'propertyThree' in the example), property in <code>XClass</code> shouldn't be changed (so it becomes null).</p>\n\n<p>Example code:</p>\n\n<pre><code>string[] strArr = new string[] {\n    \"propertyOne:valueOne\",\n    \"propertyTwo:valueTwo\"\n}\n\nclass XClass {\n    public string propertyOne {get; set;}\n    public string propertyTwo {get; set;}\n    public string propertyThree {get; set;}\n}\n\n-----\nXClass instance = new XClass();\n\nfor (int i = 0; i &lt; strArr.Length; i++) {\n    string[] arr = strArr.Split(':');\n    string key = arr[0];\n    string value = arr[1];\n\n    instance.key = value;\n}\n\n// Later on...\n\nExampleMethod(instance); // instance's properties\n</code></pre>\n\n<p>This causes error, because <code>XClass</code> does not have property called <code>key</code>. That's obvious, but I don't know how to fix it.</p>\n"}, {"tags": ["c#", "faunadb"], "comments": [{"owner": {"reputation": 83, "user_id": 11673080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace5c8fd6c41b43fbb02bb5ed97ed730?s=128&d=identicon&r=PG&f=1", "display_name": "MToTheA", "link": "https://stackoverflow.com/users/11673080/mtothea"}, "edited": false, "score": 1, "creation_date": 1560987914, "post_id": 56677105, "comment_id": 99921318, "body": "@TheGeneral I&#39;m open to suggestions around this. I wouldn&#39;t use multiple databases if I was working with an RDBMS or even some other NoSql databases. FaunaDB seems to make the child databases much easier to work (it&#39;s data) although the management concerns still exist. Should also point out that, security isn&#39;t the only reason for using child databases. An example alternative reason might be to aggregate resource usage per tenant. How does your client id approach work?"}], "answers": [{"tags": [], "owner": {"reputation": 1315, "user_id": 2619501, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5a2e73ec1d18119524fc602c747b0dfe?s=128&d=identicon&r=PG", "display_name": "benjumanji", "link": "https://stackoverflow.com/users/2619501/benjumanji"}, "is_accepted": true, "score": 6, "last_activity_date": 1560999141, "last_edit_date": 1560999141, "creation_date": 1560987570, "answer_id": 56677219, "question_id": 56677105, "link": "https://stackoverflow.com/questions/56677105/how-to-query-not-list-child-databases-by-data-properties/56677219#56677219", "title": "How To Query (Not List) Child Databases By Data Properties", "body": "<p>Like other objects in FaunaDB, databases can be created with arbitrary user data, i.e <code>CreateDatabase({name: \"bob\", data:{prop: \"cool\"}})</code>. This user data can also be indexed just like anything else. An example shell session:</p>\n\n<pre><code>myDb&gt; Get(Index(\"by_prop\"))\n{ ref: Index(\"by_prop\"),\n  ts: 1560970634960000,\n  active: true,\n  partitions: 1,\n  name: 'by_prop',\n  source: Databases(),\n  terms: [ { field: [ 'data', 'prop' ] } ] }\nmyDb&gt; Get(Database(\"bob\"))\n{ ref: Database(\"bob\"),\n  ts: 1560970374730000,\n  name: 'bob',\n  data: { prop: 'cool' } }\nmyDb&gt; Paginate(Match(Index(\"by_prop\"), \"cool\"))\n{ data: [ Database(\"bob\") ] }\n</code></pre>\n\n<p>Using an index that has terms over <code>data.prop</code>, I can match the database I am interested in. The choice of term / value is arbitrary and can be whatever makes sense for your application.  </p>\n"}], "owner": {"reputation": 83, "user_id": 11673080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace5c8fd6c41b43fbb02bb5ed97ed730?s=128&d=identicon&r=PG&f=1", "display_name": "MToTheA", "link": "https://stackoverflow.com/users/11673080/mtothea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "accepted_answer_id": 56677219, "answer_count": 1, "score": 6, "last_activity_date": 1560999141, "creation_date": 1560986537, "question_id": 56677105, "link": "https://stackoverflow.com/questions/56677105/how-to-query-not-list-child-databases-by-data-properties", "title": "How To Query (Not List) Child Databases By Data Properties", "body": "<p>Is there a way to query child databases by data properties i.e. via index? In multitenancy scenarios we can end up with a ton of child databases and it would be really nice to be able to query them e.g. (child dbs on this version, child dbs that are pending closure etc)</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "dllimport"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1560985835, "post_id": 56676984, "comment_id": 99920889, "body": "Is the DLL a 32-bit (x86) or 64-bit (x64) DLL? You will have to build your C# specifically as a 32-bit or 64-bit program (&quot;platform target&quot; in the project build settings), matching the DLL. (If you have both a 32-bit and 64-bit version of the DLL, there are ways to dynamically let your C# program load the correct DLL based on whether the C# program is executed by the .NET runtime as 32-bit or 64-bit process, but lets keep it simple for now...)"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1560986061, "post_id": 56676984, "comment_id": 99920928, "body": "Also check with your friend on what dependencies that DLL has. If they can&#39;t answer - stop using that code and write your own."}, {"owner": {"reputation": 1, "user_id": 11672956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B7EnuwnVc5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd85JgK5L7jtwxcF1CYPhkRnJCGCg/mo/photo.jpg?sz=128", "display_name": "M. Turkuzan", "link": "https://stackoverflow.com/users/11672956/m-turkuzan"}, "edited": false, "score": 0, "creation_date": 1560987878, "post_id": 56676984, "comment_id": 99921314, "body": "I changed (&quot;platform target&quot; in the project build settings) to 32-bit(dll is 32-bit) (it used to be any cpu). still can&#39;t solve the problem."}, {"owner": {"reputation": 1, "user_id": 11672956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B7EnuwnVc5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd85JgK5L7jtwxcF1CYPhkRnJCGCg/mo/photo.jpg?sz=128", "display_name": "M. Turkuzan", "link": "https://stackoverflow.com/users/11672956/m-turkuzan"}, "edited": false, "score": 0, "creation_date": 1560988393, "post_id": 56676984, "comment_id": 99921402, "body": "I have added all dependencies of the dll also. this app is working fine at another pc but still it is not working on that specific pc. error is same system.io.filenotfoundexception: could not load file or assembly"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1561005321, "post_id": 56676984, "comment_id": 99924290, "body": "You have not successfully resolved the dependencies"}, {"owner": {"reputation": 1, "user_id": 11672956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B7EnuwnVc5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd85JgK5L7jtwxcF1CYPhkRnJCGCg/mo/photo.jpg?sz=128", "display_name": "M. Turkuzan", "link": "https://stackoverflow.com/users/11672956/m-turkuzan"}, "edited": false, "score": 0, "creation_date": 1561049982, "post_id": 56676984, "comment_id": 99946902, "body": "I think it is related with the .netframework version or maybe c++ runtime library. Because I installed visual studio to the pc than the app is working now. I am going to learn the exact reason sooner hopefully."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11672956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B7EnuwnVc5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd85JgK5L7jtwxcF1CYPhkRnJCGCg/mo/photo.jpg?sz=128", "display_name": "M. Turkuzan", "link": "https://stackoverflow.com/users/11672956/m-turkuzan"}, "is_accepted": false, "score": 0, "last_activity_date": 1561054368, "creation_date": 1561054368, "answer_id": 56691717, "question_id": 56676984, "link": "https://stackoverflow.com/questions/56676984/a-dll-cant-be-found-although-it-is-in-the-same-folder/56691717#56691717", "title": "A dll can&#39;t be found although it is in the same folder", "body": "<p>I solved the issue in two different ways (both ways worked fine):\n1- I installed vs 2017 on the host pc. The app worked good and the error disappeared.\n2- I go to the xx_Win32.dll file project (c++), rebuilt it with \"use MFC in a static library\" option. it works now on any pc.</p>\n\n<p>thank you for your valuable comments.</p>\n"}], "owner": {"reputation": 1, "user_id": 11672956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-B7EnuwnVc5U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd85JgK5L7jtwxcF1CYPhkRnJCGCg/mo/photo.jpg?sz=128", "display_name": "M. Turkuzan", "link": "https://stackoverflow.com/users/11672956/m-turkuzan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1561054368, "creation_date": 1560985557, "last_edit_date": 1560986910, "question_id": 56676984, "link": "https://stackoverflow.com/questions/56676984/a-dll-cant-be-found-although-it-is-in-the-same-folder", "title": "A dll can&#39;t be found although it is in the same folder", "body": "<p>my c# app is working fine in win10.  I moved it into another computer which is also win10. but it is not working now. an error pops up:</p>\n\n<blockquote>\n  <p>xx_win32.dll can't be loaded.</p>\n</blockquote>\n\n<p>I am sure that all the files are in the same folder.</p>\n\n<p>xx_win32.dll is prepared in c++ by my friend, I use DllImport in my code and it works fine in my computer. What might be the problem?</p>\n\n<p>I put xx_win32.dll in also system32 folder.\nI checked the current directory and it is as expected (in the same folder with all the files)</p>\n\n<pre><code>public const string DLL_NAME = \"xx_Win32.dll\"; \n\n[DllImport(DLL_NAME, CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Unicode)]\npublic static extern int xxDll_GetSize();\n</code></pre>\n\n<blockquote>\n  <p>system.io.filenotfoundexception: could not load file or assembly</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "azure", "signalr", "signalr-backplane"], "answers": [{"comments": [{"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1614924036, "post_id": 56691143, "comment_id": 117538824, "body": "wanting to do something similar, trying to understand how this would work... if you had two containers..... running the frontend code, do you perhaps know. how does it manage clients between multiple containers? or instances running"}], "tags": [], "owner": {"reputation": 2573, "user_id": 11002318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85756b18c616fc16b00e34c03afc6575?s=128&d=identicon&r=PG&f=1", "display_name": "SamaraSoucy", "link": "https://stackoverflow.com/users/11002318/samarasoucy"}, "is_accepted": true, "score": 0, "last_activity_date": 1561051716, "creation_date": 1561051716, "answer_id": 56691143, "question_id": 56676982, "link": "https://stackoverflow.com/questions/56676982/asp-net-azure-signalr-service-on-a-distributed-system/56691143#56691143", "title": "Asp.net Azure SignalR service on a distributed system", "body": "<p>You can actually accomplish this without the service using just your existing webapp. The key is to create an endpoint that your Windows service to call that is linked to your hub.</p>\n\n<p>So if I create a simple SingalR hub in .Net 4.x:</p>\n\n<pre><code>public class NotificationHub : Hub\n{\n    public void Send(string message)\n    {\n        Clients.All.addNewMessageToPage(name, message);\n    }\n}\n</code></pre>\n\n<p>I can access it in a WebApi controller:</p>\n\n<pre><code>public class NotificationController : ApiController\n{\n    IHubContext context;\n\n    public NotificationController()\n    {\n        context = GlobalHost.ConnectionManager.GetHubContext&lt;NotificationHub&gt;();\n    }\n\n    public HttpResponseMessage Get(string message)\n    {\n        object[] args = { message };\n        context.Clients.All.Send(\"Send\", args) ;\n\n        return Request.CreateResponse(HttpStatusCode.OK);\n    }\n}\n</code></pre>\n\n<p>Using a REST endpoint is going to be simplest in frameworks like MVC and WebApi, but it is possible to add a messaging service in between like Service Bus if you need to do more than simply return a message to the clients.</p>\n"}], "owner": {"reputation": 43, "user_id": 3261018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d223ba7181b459c51b64218d552ee8e5?s=128&d=identicon&r=PG&f=1", "display_name": "user3261018", "link": "https://stackoverflow.com/users/3261018/user3261018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "accepted_answer_id": 56691143, "answer_count": 1, "score": 1, "last_activity_date": 1561051716, "creation_date": 1560985548, "question_id": 56676982, "link": "https://stackoverflow.com/questions/56676982/asp-net-azure-signalr-service-on-a-distributed-system", "title": "Asp.net Azure SignalR service on a distributed system", "body": "<p>I have a web app running on Asp.net 4.7.2. This app contains a few REST endpoints that are queried and then delegate work off to a windows service that sits on another machine.</p>\n\n<p>When the work on this service is complete, I want to use SignalR to send a message to the client to indicate that the work is done. Because this service is on another machine, this is proving quite tricky.</p>\n\n<p>I have tried using an Azure SignalR Service as an abstracted level above this. My intention was to use the REST capabilities to call this Azure service, have it run code from a Hub (which I have currently defined and created in the web app) and then broadcast a message to the clients.</p>\n\n<p>At the moment, I am not sure if this is possible. The notes say that the REST provision is only available in the asp.net CORE version of the library. I have made calls to the endpoint and received an accepted response, but no luck.</p>\n\n<p>My question is, then, how do I get the following architecture working under my conditions? If I cannot, what other suggestions do you have?</p>\n\n<p>Machine 1:</p>\n\n<ul>\n<li><p>Windows service running bespoke code that takes an unpredictable length of time</p></li>\n<li><p>When code completes, send message to SignalR hub via azure service</p></li>\n</ul>\n\n<p>Machine 2:</p>\n\n<ul>\n<li>Webapp containing the SignalR hub definitions and client logic.</li>\n</ul>\n"}, {"tags": ["c#", ".net-core", "visual-studio-code", "compiler-options"], "answers": [{"comments": [{"owner": {"reputation": 863, "user_id": 4644486, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0fR5U.jpg?s=128&g=1", "display_name": "fsinisi90", "link": "https://stackoverflow.com/users/4644486/fsinisi90"}, "edited": false, "score": 0, "creation_date": 1595447691, "post_id": 56683054, "comment_id": 111481732, "body": "That&#39;s useful to set the options for the <code>dotnet</code> command, but I don&#39;t see how you can set compiler flags with those. In fact, typing <code>dotnet build --help</code> in the console will print a list of all the options and there&#39;s nothing related to the compiler flags."}], "tags": [], "owner": {"reputation": 1458, "user_id": 1143474, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/658cb18baae29af044e384d5e4224a24?s=128&d=identicon&r=PG", "display_name": "Jamie Taylor", "link": "https://stackoverflow.com/users/1143474/jamie-taylor"}, "is_accepted": false, "score": 1, "last_activity_date": 1561023339, "creation_date": 1561023339, "answer_id": 56683054, "question_id": 56676976, "link": "https://stackoverflow.com/questions/56676976/how-to-set-compiler-options-in-vs-code-and-or-net-core/56683054#56683054", "title": "How to set compiler options in VS Code and/or .NET Core?", "body": "<p>When you open your project/solution with VS Code, it will create a directory called <code>.vscode</code>, within it there will be a <code>tasks.json</code> file</p>\n\n<p>(this directory and file are created the first time that you hit F5 within VS Code)</p>\n\n<p>Taking a look at this file, you'll that it takes a format similar to the following:</p>\n\n<pre><code>{\n    \"version\": \"2.0.0\",\n    \"tasks\": [\n        {\n            \"label\": \"build\",\n            \"command\": \"dotnet\",\n            \"type\": \"process\",\n            \"args\": [\n                \"build\",\n                \"${workspaceFolder}/project.csproj\"\n            ],\n            \"problemMatcher\": \"$tsc\"\n        }\n    ]\n}\n</code></pre>\n\n<p>(you may have more task entries)</p>\n\n<p>You can add individual arguments to each task by adding a string to its <code>args</code> array. In the above example I am calling the CLI command <code>dotnet</code> and passing it the arguments <code>build</code> and <code>${workspaceFolder}/project.csproj</code></p>\n"}, {"comments": [{"owner": {"reputation": 11121, "user_id": 12958, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f1bb6e5c84ee4cbf4790d08b4515e62c?s=128&d=identicon&r=PG", "display_name": "justin.m.chase", "link": "https://stackoverflow.com/users/12958/justin-m-chase"}, "edited": false, "score": 0, "creation_date": 1605808825, "post_id": 64813172, "comment_id": 114772586, "body": "This took a while to find but this is how you can conditionally turn on <code>-p:TreatWarningsAsErrors=true</code> also"}], "tags": [], "owner": {"reputation": 728, "user_id": 3174125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463fee0051342f9fafc175742e64e0c1?s=128&d=identicon&r=PG", "display_name": "gregsonian", "link": "https://stackoverflow.com/users/3174125/gregsonian"}, "is_accepted": false, "score": 2, "last_activity_date": 1605222584, "creation_date": 1605222584, "answer_id": 64813172, "question_id": 56676976, "link": "https://stackoverflow.com/questions/56676976/how-to-set-compiler-options-in-vs-code-and-or-net-core/64813172#64813172", "title": "How to set compiler options in VS Code and/or .NET Core?", "body": "<p>Most (all?) compiler options have a corresponding build argument. You can pass build arguments to <code>dotnet build</code> using the <code>-p:</code> (or <code>/p:</code>) flag before the argument you intend to add. You then use a <code>name=value</code> structure for the argument name and corresponding value.</p>\n<p>From the documentation for the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/compiler-options/checked-compiler-option#to-set-this-compiler-option-in-the-visual-studio-development-environment\" rel=\"nofollow noreferrer\">-checked compiler option</a>, the corresponding build argument is <a href=\"https://docs.microsoft.com/en-us/dotnet/api/vslangproj80.csharpprojectconfigurationproperties3.checkforoverflowunderflow\" rel=\"nofollow noreferrer\">CheckForOverflowUnderflow</a>.</p>\n<p>Below is a sample in PowerShell using the <code>dotnet build</code> argument <code>CheckForOverflowUnderflow</code>, the build equivalent of the <code>-checked</code> compiler option.</p>\n<pre><code>PS C:\\Users\\me\\source\\repos\\Solution\\Solution.Models&gt; dotnet build -p:CheckForOverflowUnderflow=true .\\Solution.Models.csproj\nMicrosoft (R) Build Engine version 16.7.0+7fb82e5b2 for .NET\nCopyright (C) Microsoft Corporation. All rights reserved.\n\n  Determining projects to restore...\n  All projects are up-to-date for restore.\n  Solution.Models -&gt; C:\\Users\\me\\source\\repos\\Solution\\Solution.Models\\bin\\Debug\\netstandard2.0\\Solution.Models.dll\n\nBuild succeeded.\n    0 Warning(s)\n    0 Error(s)\n\nTime Elapsed 00:00:01.18\nPS C:\\Users\\me\\source\\repos\\Solution\\Solution.Models&gt;\n</code></pre>\n"}], "owner": {"reputation": 84, "user_id": 9391458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51a07f1706bc0186e1c742185cc7a78b?s=128&d=identicon&r=PG&f=1", "display_name": "R. Cannon", "link": "https://stackoverflow.com/users/9391458/r-cannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 2, "answer_count": 2, "score": 1, "last_activity_date": 1605222584, "creation_date": 1560985469, "question_id": 56676976, "link": "https://stackoverflow.com/questions/56676976/how-to-set-compiler-options-in-vs-code-and-or-net-core", "title": "How to set compiler options in VS Code and/or .NET Core?", "body": "<p>I'm trying to set the -checked compiler option for a C# library project written over .NET Core, using VS Code as the IDE.  How can I do this?</p>\n"}, {"tags": ["c#", "asp.net-core", "serilog"], "answers": [{"comments": [{"owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "edited": false, "score": 0, "creation_date": 1561034876, "post_id": 56678703, "comment_id": 99938134, "body": "Forgot to mention that the Logs table is in the same database as the rest of the tables, and I&#39;m using the same connection string for the main app as for the logging. Everything else works fine, so I don&#39;t think it&#39;s a permissions problem. As for the code you suggested, where will that log? I only have FTP access to the server, will I be able to see this output? Thanks"}, {"owner": {"reputation": 1547, "user_id": 4321097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73ec5b7a910b8bc9589ecae6cce4f6d7?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Taleck", "link": "https://stackoverflow.com/users/4321097/christopher-taleck"}, "reply_to_user": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "edited": false, "score": 0, "creation_date": 1561133456, "post_id": 56678703, "comment_id": 99977367, "body": "With only FTP access, I recommend changing the SelfLog to write to a local text file and then access the log file."}, {"owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "edited": false, "score": 0, "creation_date": 1561133691, "post_id": 56678703, "comment_id": 99977473, "body": "I originally wrote a text file, but couldn&#39;t download it as it was locked. I then found I could log to a database, and preferred that option, as much for the superior ability to filter the data. I would still like to do that. I just can&#39;t work out why I can access the database for everything else, but Serilog fails."}], "tags": [], "owner": {"reputation": 1547, "user_id": 4321097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73ec5b7a910b8bc9589ecae6cce4f6d7?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Taleck", "link": "https://stackoverflow.com/users/4321097/christopher-taleck"}, "is_accepted": false, "score": 1, "last_activity_date": 1561002488, "creation_date": 1561002488, "answer_id": 56678703, "question_id": 56676912, "link": "https://stackoverflow.com/questions/56676912/serilog-sql-server-nothing-written-to-the-log-when-in-release-works-fine-in-d/56678703#56678703", "title": "Serilog SQL Server - Nothing written to the log when in release, works fine in development", "body": "<p>Check the permissions on the production server and make sure the connected user has the proper permissions. </p>\n\n<p>Also, Serilog does not report logging problems by default. Add <code>SelfLog.Enable()</code> if you want to enable diagnostics.</p>\n\n<pre><code>Serilog.Debugging.SelfLog.Enable(msg =&gt; Debug.WriteLine(msg));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "edited": false, "score": 0, "creation_date": 1561480536, "post_id": 56757788, "comment_id": 100074495, "body": "Thanks for that, simple but elusive!"}], "tags": [], "owner": {"reputation": 733, "user_id": 6270590, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HJDyncz7x1A/AAAAAAAAAAI/AAAAAAAD5LQ/G2hYxZn_pDg/photo.jpg?sz=128", "display_name": "Grigory Zhadko", "link": "https://stackoverflow.com/users/6270590/grigory-zhadko"}, "is_accepted": true, "score": 1, "last_activity_date": 1561477695, "creation_date": 1561477695, "answer_id": 56757788, "question_id": 56676912, "link": "https://stackoverflow.com/questions/56676912/serilog-sql-server-nothing-written-to-the-log-when-in-release-works-fine-in-d/56757788#56757788", "title": "Serilog SQL Server - Nothing written to the log when in release, works fine in development", "body": "<p>Make sure that you use [dbo] schema in your database. If you have a different schema, update your configuration like this:</p>\n\n<pre><code>\"Name\": \"MSSqlServer\",\n\"Args\": {\n      \"connectionString\": \"Your connection string\",\n      \"schemaName\": \"your schema name\",\n      \"tableName\": \"Logs\"\n }\n</code></pre>\n"}], "owner": {"reputation": 5827, "user_id": 706346, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rmF54.jpg?s=128&g=1", "display_name": "Avrohom Yisroel", "link": "https://stackoverflow.com/users/706346/avrohom-yisroel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 56757788, "answer_count": 2, "score": 0, "last_activity_date": 1561477695, "creation_date": 1560985071, "last_edit_date": 1561035050, "question_id": 56676912, "link": "https://stackoverflow.com/questions/56676912/serilog-sql-server-nothing-written-to-the-log-when-in-release-works-fine-in-d", "title": "Serilog SQL Server - Nothing written to the log when in release, works fine in development", "body": "<p>I'm new to Serilog, and trying to configure logging to SQL Server. My <code>Program.cs</code> looks like this...</p>\n\n<pre><code>using Microsoft.AspNetCore;\nusing Microsoft.AspNetCore.Hosting;\nusing Serilog;\n\nnamespace MyWeb {\n  public class Program {\n    public static void Main(string[] args) =&gt;\n      CreateWebHostBuilder(args).Build().Run();\n\n    public static IWebHostBuilder CreateWebHostBuilder(string[] args) =&gt;\n      WebHost.CreateDefaultBuilder(args)\n        .UseSerilog((context, config) =&gt; {\n          config.ReadFrom.Configuration(context.Configuration);\n        })\n        .UseStartup&lt;Startup&gt;();\n  }\n}\n</code></pre>\n\n<p>...and the Serilog section of appSettings.json looks like this...</p>\n\n<pre><code>\"Serilog\": {\n    \"MinimumLevel\": {\n      \"Default\": \"Information\",\n      \"Override\": {\n        \"Microsoft\": \"Error\",\n        \"System\": \"Error\"\n      }\n    },\n    \"WriteTo\": [\n      {\n        \"Name\": \"MSSqlServer\",\n        \"Args\": {\n          \"connectionString\": \"myconnstr\",\n          \"tableName\": \"Logs\"\n        }\n      }\n    ]\n  },\n</code></pre>\n\n<p>The section in appSettings.Development.json looks like this...</p>\n\n<pre><code>  \"Serilog\": {\n    \"MinimumLevel\": {\n      \"Default\": \"Debug\",\n      \"Override\": {\n        \"Microsoft\": \"Fatal\",\n        \"System\": \"Fatal\"\n      }\n    },\n    \"WriteTo\": [\n      {\n        \"Name\": \"Debug\"\n      },\n      {\n        \"Name\": \"MSSqlServer\",\n        \"Args\": {\n          \"connectionString\": \"Data Source=.;Initial Catalog=MyWebDb;Trusted_Connection=True;MultipleActiveResultSets=true\",\n          \"tableName\": \"Logs\"\n        }\n      }\n    ]\n  }\n</code></pre>\n\n<p>I manually created the <code>Logs</code> table with this SQL...</p>\n\n<pre><code>CREATE TABLE [Logs] (\n   [Id] int IDENTITY(1,1) NOT NULL,\n   [Message] nvarchar(max) NULL,\n   [MessageTemplate] nvarchar(max) NULL,\n   [Level] nvarchar(128) NULL,\n   [TimeStamp] datetimeoffset(7) NOT NULL,  \n   [Exception] nvarchar(max) NULL,\n   [Properties] xml NULL,\n   [LogEvent] nvarchar(max) NULL\n   CONSTRAINT [PK_Log] PRIMARY KEY CLUSTERED ([Id] ASC) \n) \n</code></pre>\n\n<p>When I run the web site in VS with the above settings, logging works fine. If I change the connection string in appSettings.Development.json to the production connection string, then run in VS, everything seems to work fine, no exceptions reported, but nothing is written to the Logs table on the production database.</p>\n\n<p>I tried copying the code from <a href=\"https://stackoverflow.com/questions/56092759/no-errors-logged-for-serilog-sql-server-sink-logging\">this SO answer</a>, and tried the advice in <a href=\"https://stackoverflow.com/questions/52953060/serilog-mssql-sink-doesnt-write-logs-to-database/52960592#52960592\">this SO answer</a>, but the result was always the same. When I use the local connection string it works fine, if I use the production one, nothing is logged.</p>\n\n<p>I'm using the same connection string for Serilog as I use for the rest of the site, and all other database access works fine, so it doesn't look like a permissions problem.</p>\n\n<p>Anyone any ideas what I'm doing wrong? Thanks</p>\n\n<p>I'm using ASP.NET Core 2.2 and Serilog versions as follows...</p>\n\n<ul>\n<li>Serilog.AspNetCore Version 2.1.1</li>\n<li>Serilog.Settings.Configuration Version 3.1.0</li>\n<li>Serilog.Sinks.File Version 4.0.0</li>\n<li>Serilog.Sinks.MSSqlServer Version 5.1.2</li>\n</ul>\n"}, {"tags": ["javascript", "c#", "css", "asp.net-mvc", "web-applications"], "comments": [{"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560986215, "post_id": 56676868, "comment_id": 99920966, "body": "This is not supposed to cause this error but just a double check: Are the file included in the project? toggle the <code>Show All Files</code> at the top of your solution explorer and make sure these file were included in the project."}, {"owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "reply_to_user": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560986833, "post_id": 56676868, "comment_id": 99921071, "body": "@Bosco Just double checked, all files were included in the project. They are showing up in the solution explorer. Does not have that yellow icon next to the files"}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560987284, "post_id": 56676868, "comment_id": 99921181, "body": "can you show the bundle referencing the <code>Content</code> directory"}, {"owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "reply_to_user": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560988887, "post_id": 56676868, "comment_id": 99921500, "body": "@Bosco I updated original post. I should clarify this is also affecting the Scripts fodler"}, {"owner": {"reputation": 4379, "user_id": 3557266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9LSd.jpg?s=128&g=1", "display_name": "Ashiquzzaman", "link": "https://stackoverflow.com/users/3557266/ashiquzzaman"}, "edited": false, "score": 0, "creation_date": 1561003898, "post_id": 56676868, "comment_id": 99924037, "body": "@Degausser Use *.js file rather than *.min.js. also  *.css file rather than *.min.css."}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1561008447, "post_id": 56676868, "comment_id": 99925080, "body": "Looking at all you have tried, I can only give more suggestions. Try pulling the code from the repository to somewhere like the Desktop or someother location like the logged-in user&#39;s director. I know you must have checked the git repository with the browser for the files, and as you said the files are there physically, can you open the files and try doing an edit, probably add a character and remove it back, then save the file."}, {"owner": {"reputation": 418, "user_id": 2093481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88829293f200212af52ee70765273a0e?s=128&d=identicon&r=PG", "display_name": "Jaggan_j", "link": "https://stackoverflow.com/users/2093481/jaggan-j"}, "edited": false, "score": 0, "creation_date": 1561128178, "post_id": 56676868, "comment_id": 99974635, "body": "Use Debugger tab in IE-&gt; Inspect Element and see which Content and Script files are being loaded and from which location."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "edited": false, "score": 0, "creation_date": 1561038204, "post_id": 56680197, "comment_id": 99940140, "body": "I just checked, and there is a .csproj in the vault and locally on the computer affected. Has all the links to the files"}], "tags": [], "owner": {"reputation": 21, "user_id": 6133538, "user_type": "registered", "profile_image": "https://graph.facebook.com/1655152765/picture?type=large", "display_name": "Abdul Muheet Shaikh", "link": "https://stackoverflow.com/users/6133538/abdul-muheet-shaikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561012145, "creation_date": 1561012145, "answer_id": 56680197, "question_id": 56676868, "link": "https://stackoverflow.com/questions/56676868/cant-get-any-files-in-the-content-script-folder-to-load-in-c-asp-net-mvc-app/56680197#56680197", "title": "Can&#39;t get any files in the Content &amp; Script folder to load in C# ASP.NET MVC application in VS", "body": "<p>You'll need to commit/push <em>.csproj</em> file as well, this file has link to all your files in the project.</p>\n"}], "owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3908, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561012145, "creation_date": 1560984705, "last_edit_date": 1560988857, "question_id": 56676868, "link": "https://stackoverflow.com/questions/56676868/cant-get-any-files-in-the-content-script-folder-to-load-in-c-asp-net-mvc-app", "title": "Can&#39;t get any files in the Content &amp; Script folder to load in C# ASP.NET MVC application in VS", "body": "<p>Having some problems here with a web application that was checked into a code repository.</p>\n\n<p>Basically, this application in particular will not display any images, .js, or .css which are all located in the Content &amp; Script folders. Only the raw HTML shows while running. This occurs specifically after doing a fresh pull from our code repository and running locally through Visual Studio. When you inspect the files in the console when its running, all the files are completely empty. The console is also giving a ERROR 500 error file not found (IIRC) The files are definitely in the project locally and they are showing in the Solution Explorer. </p>\n\n<p>I am the only one who actively works on development for this application and I don't run into these problems with my machine.  When you pull from the code repository on another computer, the problems start.  However, no other applications with an extremely similar architecture have this problem after pulling fresh for the repository. I tried creating brand new web applications with exact same settings and files on the computers affected and they loaded perfectly.</p>\n\n<p>The link to the file looks normal too, it matches with the production server which works.</p>\n\n<p>The application is using bundles and most of the bundles look like this:</p>\n\n<pre><code>bundles.Add(new ScriptBundle(\"~/bundles/bootstrap\").Include(\n                      \"~/Scripts/bootstrap.min.js\",\n                       \"~/Scripts/bootstrap-datepicker.min.js\",                       \n                       \"~/Scripts/bootstrap-timepicker.js\",\n                       \"~/Scripts/bootstrap-confirmation.js\",\n                       \"~/Scripts/respond.js\",\n                       \"~/Scripts/bootstrap-select.min.js\"));`\n\n        bundles.Add(new StyleBundle(\"~/Content/css\").Include(                \n                  \"~/Content/bootstrap.min.css\",\n                  \"~/Content/bootstrap-datepicker.min.css\",\n                  \"~/Content/bootstrap-timepicker.css\",\n                  \"~/Content/bootstrap-sortable.css\",\n                  \"~/Content/site.css\",\n                  \"~/Content/bootstrap-select.min.css\"));\n</code></pre>\n\n<p>Things I have tried:</p>\n\n<ul>\n<li>Adding the .js and .css files in _Layout.cshtml page manually instead\nof with bundle.  </li>\n<li>Replacing all the normal files with .min.js or .min.css and vice\nversa</li>\n<li>Changing authentication methods for access</li>\n<li>Changing permissions on Content Folder</li>\n<li>Recreating virtual directory</li>\n<li>Using Visual Studio 2017 and 2019</li>\n</ul>\n\n<p>I am stumped, anyone have any suggestions or recommendations? I can answer any questions that arise.</p>\n"}, {"tags": ["c#", "selenium", "findby", "page-factory"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11672623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634fdee52b9fa3839f00519ab696915a?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11672623/emmanuel"}, "edited": false, "score": 0, "creation_date": 1561132583, "post_id": 56677033, "comment_id": 99976942, "body": "Thanks @Dazed for your replied. I think it could solve my problem, but following your approach, how can I do when the same IWebElement is refered by ID in one page, and by CssSselector un the other? Exampe:  <code>[FindsBy(How = How.CssSelector, Using = &quot;.dp-button&quot;)]  public IWebElement SubmitButton [FindsBy(How = How.Id, Using = &quot;login-btn&quot;)]  public IWebElement SubmitButton</code>"}, {"owner": {"reputation": 13, "user_id": 11672623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634fdee52b9fa3839f00519ab696915a?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11672623/emmanuel"}, "edited": false, "score": 0, "creation_date": 1561234050, "post_id": 56677033, "comment_id": 99998998, "body": "Could it be something like that? [FindsBy(How = How.CssSelector | How.Id, Using = &quot;.dp-button | login-btn&quot;)]  I really appreciate if someone can help me :)"}, {"owner": {"reputation": 1358, "user_id": 3820556, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a7b8a78218a9fcce7916d1ac4ff62406?s=128&d=identicon&r=PG&f=1", "display_name": "Dazed", "link": "https://stackoverflow.com/users/3820556/dazed"}, "reply_to_user": {"reputation": 13, "user_id": 11672623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634fdee52b9fa3839f00519ab696915a?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11672623/emmanuel"}, "edited": false, "score": 0, "creation_date": 1561264343, "post_id": 56677033, "comment_id": 100002846, "body": "why the need for two different locators though? XPath or CSS can find both."}], "tags": [], "owner": {"reputation": 1358, "user_id": 3820556, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a7b8a78218a9fcce7916d1ac4ff62406?s=128&d=identicon&r=PG&f=1", "display_name": "Dazed", "link": "https://stackoverflow.com/users/3820556/dazed"}, "is_accepted": true, "score": 0, "last_activity_date": 1560986483, "last_edit_date": 1560986483, "creation_date": 1560985927, "answer_id": 56677033, "question_id": 56676744, "link": "https://stackoverflow.com/questions/56676744/how-to-define-a-findby-annotation-in-a-subclass-using-pagefactory/56677033#56677033", "title": "How to define a @findBy annotation in a subclass, using PageFactory?", "body": "<p>How about using an or operator? If the login is the same for both, this would just send the value to whichever locator is on the page. </p>\n\n<pre><code> [FindsBy(How = How.Id, Using = \"user | UserName\")]\n</code></pre>\n\n<p>or XPath </p>\n\n<pre><code> [FindsBy(How = How.XPath, Using = \"//input[@id='user'] | //input[@id='UserName']\")]  \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11672623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634fdee52b9fa3839f00519ab696915a?s=128&d=identicon&r=PG&f=1", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/11672623/emmanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 56677033, "answer_count": 1, "score": 1, "last_activity_date": 1561132363, "creation_date": 1560983730, "last_edit_date": 1560984094, "question_id": 56676744, "link": "https://stackoverflow.com/questions/56676744/how-to-define-a-findby-annotation-in-a-subclass-using-pagefactory", "title": "How to define a @findBy annotation in a subclass, using PageFactory?", "body": "<p>I work in an automation project with Selenium and C #.\nI use the Page Object pattern to define each of the pages (with their locators), and then define the tests separately in a Test class.\nI have a Page class that is the base class of the pages, where I call:\nPageFactory.InitElements (webDriver, this);</p>\n\n<p>and define the common methods for all the pages.\nThen each page inherits from Page, and the corresponding elements are defined using @FindBy annotations:</p>\n\n<pre><code>[FindsBy (How = How.Id, Using = \"UserName\")]\npublic IWebElement UserName {get; set; }\n\n[FindsBy(How = How.Id, Using = \"UserPass\")]\npublic IWebElement Password { get; set; }\n\n[FindsBy(How = How.Id, Using = \"login-btn\")]\npublic IWebElement SubmitButton { get; set; }\n</code></pre>\n\n<p>A new login page was added, and I have to keep both (new and old login) and be able to run the tests with both pages.\nBoth pages have the <strong>same elements (not the locators)</strong>, and they must be able to <strong>respond to the same methods</strong> such as: login (user, pass)\nThe idea would be to define a hierarchy of classes: BaseLogin (inherited from Page), LoginPage and NewLoginPage (both inherit from BaseLogin), where in BaseLogin you can define the elements (IWebElement) and the common methods.\nThen in each subclass associate / relate each element with the corresponding locator.</p>\n\n<p><strong>This is to avoid repeating the code that allows me to interact with the page, on each of the pages.</strong></p>\n\n<pre><code>public class BaseLoginPage : Page\n{\n protected IWebElement UserName { get; set; }\n protected IWebElement Password { get; set; }\n protected IWebElement SubmitButton { get; set; }\n}\n    // BaseLogin just define the IWebElement without assign a specific locator.\n</code></pre>\n\n<p><strong>How can I associate/relate the element \"IWebElement UserName\" with its corresponding locator?</strong></p>\n\n<pre><code>[FindsBy(How = How.Id, Using = \"UserName\")]   --&gt; in LoginPage Class\n[FindsBy(How = How.Id, Using = \"user\")]       --&gt; in NewLoginPage Class\n</code></pre>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1560985539, "post_id": 56676716, "comment_id": 99920823, "body": "Curious though, how come you did not use entity framework or dapper like suggested in the good answer provided by Greg."}, {"owner": {"reputation": 2952, "user_id": 123213, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/2499627fdcc5c7e1965e239964ed2094?s=128&d=identicon&r=PG", "display_name": "SidC", "link": "https://stackoverflow.com/users/123213/sidc"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1560986052, "post_id": 56676716, "comment_id": 99920926, "body": "I hadn&#39;t heard of Dapper and am looking at it now.  Updated my question to include the EF Core approach that threw Null Reference Exception."}], "answers": [{"tags": [], "owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "is_accepted": true, "score": 3, "last_activity_date": 1560984217, "creation_date": 1560984217, "answer_id": 56676816, "question_id": 56676716, "link": "https://stackoverflow.com/questions/56676716/how-to-send-database-table-contents-to-api/56676816#56676816", "title": "How to Send Database Table Contents to API?", "body": "<p>You appear to have two distinct issues:</p>\n\n<ol>\n<li>You <code>.ToString()</code> a null value, which causes null reference exception. </li>\n<li>An ordinal is likely out of bounds, a column does not match the numeric value provided causing it to be out of bounds.</li>\n</ol>\n\n<p>Check for <code>DBNull.Value</code> otherwise bullet point one will occur.\nMy assumption would be that you start with one, while index's are zero based.  So the first column would start at zero not one.</p>\n\n<p>You should lookup Dapper or some built in utilities for <code>SqlDataReader</code> to leverage cleaner code calls to build your object.  Dapper would condense the code by simply doing:</p>\n\n<pre><code>IEnumerable&lt;Sample&gt; GetSamples() =&gt; dbConnection.Query&lt;Sample&gt;(...);\n</code></pre>\n\n<p>As long as the column name matches the property name, it'll populate.  Based on the entity provided it looks pretty simple, but checkout the documentation.  </p>\n\n<p>Also you should wrap command in <code>using</code> statement like, that way you do not have someone accidentally call a <code>command.Dispose()</code> in the middle of your connection block on accident:</p>\n\n<pre><code>using(var connection = new SqlConnection(...))\nusing(var command = new SqlCommand(..., ...))\n{\n     connection.Open();\n     ...\n     using(var reader = command.ExecuteReader())\n         while(reader.Read())\n         {\n\n         }\n}\n</code></pre>\n"}], "owner": {"reputation": 2952, "user_id": 123213, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/2499627fdcc5c7e1965e239964ed2094?s=128&d=identicon&r=PG", "display_name": "SidC", "link": "https://stackoverflow.com/users/123213/sidc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 56676816, "answer_count": 1, "score": 2, "last_activity_date": 1560985993, "creation_date": 1560983565, "last_edit_date": 1560985993, "question_id": 56676716, "link": "https://stackoverflow.com/questions/56676716/how-to-send-database-table-contents-to-api", "title": "How to Send Database Table Contents to API?", "body": "<p>I have records in a SQL Server database table that need to be transmitted to a payment processing API.  Only table records where Transmitted = 0 are to be sent to the API.  I found <a href=\"https://stackoverflow.com/q/20940979/123213\">this question</a> which helps me to understand the error at hand.</p>\n\n<p>I want to read the records from my database table into a C# class, parse into JSON, and send via API call.  I've tried using Entity Framework Core but receive Null Reference exception when I called the stored procedure and add the results to my model class as follows:</p>\n\n<pre><code>        public async Task&lt;IEnumerator&lt;Onboarding&gt;&gt; GetOnboardingList()\n    {\n        try\n        {\n            using (var context = new SOBOContext())\n            {\n                var ob = await context.Onboarding\n                    //.Where(o =&gt; o.Transmitted == false)\n                    .FromSql(\"Execute GetUnsentOnboardingRecords_sp\")\n                    .ToListAsync();\n                Console.WriteLine(ob.ToArray());\n            }\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.Message);\n        }\n\n        return new OnboardingList().GetEnumerator();\n    }\n</code></pre>\n\n<p>When attempting to use Entity Framework Core, I created the <code>OnboardingList</code> class as below:</p>\n\n<pre><code>public class OnboardingList : IEnumerable&lt;Onboarding&gt;\n{\n    private readonly List&lt;Onboarding&gt; _onboarding;\n\n    public IEnumerator&lt;Onboarding&gt; GetEnumerator()\n    {\n\n        return _onboarding?.GetEnumerator();\n    }        \n\n    IEnumerator IEnumerable.GetEnumerator()\n    {\n        return _onboarding.GetEnumerator();\n    }\n}\n</code></pre>\n\n<p>I then reverted to SqlDataReader that calls the stored procedure.  The method, in part, is as follows:</p>\n\n<pre><code>var listOnboardingModel = new List&lt;Onboarding&gt;();\n        try\n        {\n            using (SqlConnection connection = new SqlConnection(builder.ConnectionString))\n            {\n                SqlCommand cmd = new SqlCommand(\"GetUnsentOnboardingRecords_sp\", connection)\n                {\n                    CommandType = CommandType.StoredProcedure\n                };\n                connection.Open();\n\n                using (var reader = cmd.ExecuteReader())\n                {\n                    while (reader.Read())\n                    {\n                        listOnboardingModel.Add(new Onboarding\n                        {\n                            OnboardingId = reader[1] as int? ?? 0,\n                            UserId = reader[2] as int?,\n                            UserName = reader[3].ToString(),\n                            FirstName = reader[4].ToString(),\n                            MiddleInitial = reader[5].ToString(),\n                            Lastname = reader[6].ToString(),\n                            DateOfBirth = reader[7].ToString(),\n                            Ssn = reader[8].ToString(),\n                            Email = reader[9].ToString(),\n                            Address1Line1 = reader[10].ToString(),\n                            Address1Line2 = reader[11].ToString(),\n                            Address1ApartmentNumber = reader[12].ToString(),\n                            Address1City = reader[13].ToString(),\n                            Address1State = reader[14].ToString(),\n                            Address1ZipCode = reader[15].ToString(),\n                            Address1Country = reader[16].ToString(),\n                            DayPhone = reader[17].ToString(),\n                            EveningPhone = reader[18].ToString(),\n                            PhonePin = reader[19].ToString(),\n                            MerchantSourceIp = reader[20].ToString(),\n                            ThreatMetrixPolicy = reader[21].ToString(),\n                            SessionId = reader[22].ToString(),\n                            BankAccount1CountryCode = reader[23].ToString(),\n                            BankAccount1Name = reader[24].ToString(),\n                            BankAccount1Description = reader[25].ToString(),\n                            BankAccount1Number = reader[26].ToString(),\n                            BankAccount1OwnershipType = reader[27].ToString(),\n                            BankAccount1Type = reader[28].ToString(),\n                            BankAccount1BankName = reader[29].ToString(),\n                            BankAccount1RoutingNumber = reader[30].ToString(),\n                            BankAccount2CountryCode = reader[31].ToString(),\n                            BankAccount2Name = reader[32].ToString(),\n                            BankAccount2Number = reader[33].ToString(),\n                            BankAccount2OwnershipType = reader[34].ToString(),\n                            BankAccount2Type = reader[35].ToString(),\n                            BankAccount2BankName = reader[36].ToString(),\n                            BankAccount2Description = reader[37].ToString(),\n                            BankAccount2RoutingNumber = reader[38].ToString(),\n                            AuthSginerFirstName = reader[39].ToString(),\n                            AuthSignerLastName = reader[40].ToString(),\n                            AuthSignerTitle = reader[41].ToString(),\n                            AverageTicket = reader[42] as int? ?? 0,\n                            BusinessLegalName = reader[43].ToString(),\n                            BusinessApartmentNumber = reader[44].ToString(),\n                            BusinessAddressLine1 = reader[45].ToString(),\n                            BusinessAddressLine2 = reader[46].ToString(),\n                            BusinessCity = reader[47].ToString(),\n                            BusinessState = reader[48].ToString(),\n                            BusinessZipCode = reader[49].ToString(),\n                            BusinessCountry = reader[50].ToString(),\n                            BusinessDescription = reader[51].ToString(),\n                            DoingBusinessAs = reader[52].ToString(),\n                            Ein = reader[53].ToString(),\n                            HighestTicket = reader[54] as int? ?? 0,\n                            MerchantCategoryCode = reader[55].ToString(),\n                            MonthlyBankCardVolume = reader[56] as int? ?? 0,\n                            OwnerFirstName = reader[57].ToString(),\n                            OwnerLastName = reader[58].ToString(),\n                            OwnerSsn = reader[59].ToString(),\n                            OwnerDob = reader[60].ToString(),\n                            OwnerApartmentNumber = reader[61].ToString(),\n                            OwnerAddress = reader[62].ToString(),\n                            OwnerAddress2 = reader[63].ToString(),\n                            OwnerCity = reader[64].ToString(),\n                            OwnerRegion = reader[65].ToString(),\n                            OwnerZipCode = reader[66].ToString(),\n                            OwnerCountry = reader[67].ToString(),\n                            OwnerTitle = reader[68].ToString(),\n                            OwnerPercentage = reader[69].ToString(),\n                            BusinessUrl = reader[70].ToString(),\n                            CreditCardNumber = reader[71].ToString(),\n                            ExpirationDate = reader[72].ToString(),\n                            NameOnCard = reader[73].ToString(),\n                            PaymentMethodId = reader[74].ToString(),\n                            PaymentBankAccountNumber = reader[75].ToString(),\n                            PaymentBankRoutingNumber = reader[76].ToString(),\n                            PaymentBankAccountType = reader[77].ToString(),\n                            Transmitted = reader[78] as bool?,\n                            TransmitDate = reader[79].ToString(),\n                            InternationalId = reader[80].ToString(),\n                            DriversLicenseVersion = reader[81].ToString(),\n                            DocumentType = reader[82].ToString(),\n                            DocumentExpDate = reader[83].ToString(),\n                            DocumentIssuingState = reader[84].ToString(),\n                            MedicareReferenceNumber = reader[85].ToString(),\n                            MedicareCardColor = reader[86].ToString(),\n                            PaymentBankAccountName = reader[87].ToString(),\n                            PaymentBankAccountDescription = reader[88].ToString(),\n                            PaymentBankCountryCode = reader[89].ToString(),\n                            PaymentBankName = reader[90].ToString(),\n                            PaymentBankOwnershipType = reader[91].ToString()\n                        });\n                    }\n\n                }\n\n                connection.Close();\n\n            }\n            Console.WriteLine(listOnboardingModel);\n\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.Message);\n        }\n        return listOnboardingModel;\n</code></pre>\n\n<p>When I run the console application, I receive the Error <code>Exception thrown: 'System.IndexOutOfRangeException' in System.Data.SqlClient.dll\nIndex was outside the bounds of the array.</code></p>\n\n<p>How do I prevent the above out of range exception and also ensure that all qualifying records from my database table are included for transmission?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 3, "creation_date": 1560983106, "post_id": 56676607, "comment_id": 99920313, "body": "Might want to talk to a mod about helping you scrub that IP address <i>from the history</i> if it&#39;s real."}, {"owner": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "edited": false, "score": 2, "creation_date": 1560983276, "post_id": 56676607, "comment_id": 99920355, "body": "Aside: starting a boolean variable name with <code>not</code> or <code>isNot</code>, or anything for that matter where it&#39;s to be considered false, will get reeeaaaally confusing for you later on; just as tip"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1560986666, "post_id": 56676607, "comment_id": 99921040, "body": "Enthusiastic side note: The problem in your program logic is actually an excellent opportunity to learn and practice <a href=\"https://docs.microsoft.com/en-gb/visualstudio/debugger/navigating-through-code-with-the-debugger\" rel=\"nofollow noreferrer\">Visual Studio&#39;s awesome step debugger</a> and <a href=\"https://docs.microsoft.com/en-gb/visualstudio/debugger/autos-and-locals-windows\" rel=\"nofollow noreferrer\">observe the state of your program variables</a>"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 11656987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1DE8BLIPMQ8/AAAAAAAAAAI/AAAAAAAAACo/YhUedjvWLd0/photo.jpg?sz=128", "display_name": "Deagan Muir", "link": "https://stackoverflow.com/users/11656987/deagan-muir"}, "edited": false, "score": 0, "creation_date": 1560983424, "post_id": 56676680, "comment_id": 99920385, "body": "How would i make it to where for example username = $loggedinusername and then make it check for $loggedinusername if vip = 1 then open new form"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "reply_to_user": {"reputation": 93, "user_id": 11656987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1DE8BLIPMQ8/AAAAAAAAAAI/AAAAAAAAACo/YhUedjvWLd0/photo.jpg?sz=128", "display_name": "Deagan Muir", "link": "https://stackoverflow.com/users/11656987/deagan-muir"}, "edited": false, "score": 1, "creation_date": 1560983543, "post_id": 56676680, "comment_id": 99920411, "body": "Your code doesn&#39;t show how you&#39;re handling current user&#39;s credentials, so I can&#39;t tell you how to do this. Essentially, in the <code>users</code> list, look up the current user, then check the VIP status of the user."}], "tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 0, "last_activity_date": 1560983320, "creation_date": 1560983320, "answer_id": 56676680, "question_id": 56676607, "link": "https://stackoverflow.com/questions/56676607/c-why-does-it-give-everyone-vip/56676680#56676680", "title": "C# - Why does it give everyone vip?", "body": "<p>The code is doing what you're telling it to do.</p>\n\n<p>In your <code>GetUsers()</code> method you get a list of users. Then you iterate through the items, and <code>if (u.VIP == 1)</code> then you open up a window. Assuming there are multiple records with <code>VIP == 1</code>, it would of course open a window multiple times.</p>\n\n<p>If you want to do that only when current user has VIP permission, you probably want to look up current user credentials in the acquired user list (assuming that it is found there), and if indeed the user has VIP permissions then open the new window.</p>\n"}], "owner": {"reputation": 93, "user_id": 11656987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1DE8BLIPMQ8/AAAAAAAAAAI/AAAAAAAAACo/YhUedjvWLd0/photo.jpg?sz=128", "display_name": "Deagan Muir", "link": "https://stackoverflow.com/users/11656987/deagan-muir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1560983424, "creation_date": 1560982734, "last_edit_date": 1560983424, "question_id": 56676607, "link": "https://stackoverflow.com/questions/56676607/c-why-does-it-give-everyone-vip", "title": "C# - Why does it give everyone vip?", "body": "<p>I am making a project and i thought i had everything working. i am trying to make it to where if the user has vip (or if vip is equal to 1) it will open a new form. the problem though is that when one person has vip then everyone does (or if vip is equal to 1 for one person)</p>\n\n<p>I have tried a lot of things. and nothing has worked so far.</p>\n\n<p>Here is the button code:</p>\n\n<pre><code>private void MaterialFlatButton4_Click(object sender, EventArgs e)\n{\n    List&lt;User&gt; users = User.GetUsers();\n    bool NotVip = true;\n\n    foreach (User u in users)\n    {\n        ListViewItem item = new ListViewItem(new string[] { u.Id.ToString(), u.Username, u.Password, u.VIP.ToString() });\n        item.Tag = u;\n        if (u.VIP == 1)\n        {\n            NotVip = false;\n\n            MessageBox.Show(\"Nothing in here works yet\", \"&lt;3\", MessageBoxButtons.OK);\n            this.Hide();\n            Form3 f3 = new Form3();\n            f3.ShowDialog();\n        }\n    }\n    if (NotVip == true)\n    {\n        //Failed to login.\n        MessageBox.Show(\"You do not have vip.\\n\\nPlease purchase and then try again\", \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n    }\n}\n</code></pre>\n\n<p>Here is the User.cs code</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing MySql.Data.MySqlClient;\n\nnamespace ch\n{\n    class User\n    {\n        //database stuff\n        private const String SERVER = \"localhost\";\n        private const String DATABASE = \"project\";\n        private const String UID = \"root\";\n        private const String PASSWORD = \"********\";\n        private static MySqlConnection dbConn;\n\n        // User class stuff\n        public int Id { get; private set; }\n\n        public String Username { get; private set; }\n\n        public String Password { get; private set; }\n\n        public int VIP { get; private set; }\n\n\n\n        private User(int id, String u, String p, int v)\n        {\n            Id = id;\n            Username = u;\n            Password = p;\n            VIP = v;\n        }\n\n        public static void InitializeDB()\n        {\n            MySqlConnectionStringBuilder builder = new MySqlConnectionStringBuilder();\n            builder.Server = SERVER;\n            builder.UserID = UID;\n            builder.Password = PASSWORD;\n            builder.Database = DATABASE;\n\n            string connString = builder.ToString();\n\n            builder = null;\n\n            Console.WriteLine(connString);\n\n            dbConn = new MySqlConnection(connString);\n\n            Application.ApplicationExit += (sender, args) =&gt; {\n                if (dbConn != null)\n                {\n                    dbConn.Dispose();\n                    dbConn = null;\n                }\n            };\n        }\n\n        public static List&lt;User&gt; GetUsers()\n        {\n            List&lt;User&gt; users = new List&lt;User&gt;();\n\n            String query = \"SELECT * FROM accounts\";\n\n            MySqlCommand cmd = new MySqlCommand(query, dbConn);\n\n            dbConn.Open();\n\n            MySqlDataReader reader = cmd.ExecuteReader();\n\n            while (reader.Read())\n            {\n                int id = (int)reader[\"id\"];\n                String username = reader[\"username\"].ToString();\n                String password = reader[\"password\"].ToString();\n                int v = (int)reader[\"vip\"];\n\n\n                User u = new User(id, username, password, v);\n\n                users.Add(u);\n            }\n\n            reader.Close();\n\n            dbConn.Close();\n\n            return users;\n        }\n    }\n}\n</code></pre>\n\n<p>I expected a new form to open ONLY IF the logged in user has vip (and not open it for everyone if one user has vip)</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 242, "user_id": 10553106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af823ff0a0b44b4743b354a464c39d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Hunter", "link": "https://stackoverflow.com/users/10553106/tim-hunter"}, "edited": false, "score": 0, "creation_date": 1560985413, "post_id": 56676606, "comment_id": 99920797, "body": "The code looks correct. Are the values maybe not what you expect? Can you do some Debug logs on the player position values and the clamp values?"}, {"owner": {"reputation": 242, "user_id": 10553106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af823ff0a0b44b4743b354a464c39d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Hunter", "link": "https://stackoverflow.com/users/10553106/tim-hunter"}, "edited": false, "score": 0, "creation_date": 1560986817, "post_id": 56676606, "comment_id": 99921067, "body": "Also, minor improvement suggestion... instead of finding the player object in Start, it&#39;s more performant to have a public Transform variable for a target which you can then drag your player into through the inspector to make it the target. Then you can maybe added some smooth following if that&#39;s an effect you want by using a <a href=\"https://docs.unity3d.com/ScriptReference/Vector3.SmoothDamp.html\" rel=\"nofollow noreferrer\">Vector3.SmoothDamp</a> function."}, {"owner": {"reputation": 17, "user_id": 11456161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec039cec4c8d86da2ef167be5e05d678?s=128&d=identicon&r=PG&f=1", "display_name": "NewBieProgrammer", "link": "https://stackoverflow.com/users/11456161/newbieprogrammer"}, "reply_to_user": {"reputation": 242, "user_id": 10553106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af823ff0a0b44b4743b354a464c39d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Hunter", "link": "https://stackoverflow.com/users/10553106/tim-hunter"}, "edited": false, "score": 1, "creation_date": 1561060125, "post_id": 56676606, "comment_id": 99951149, "body": "@Tim Hunter thanks i will change the camera to transform, what is strange is the fact that the code looks ok.I will try to put the debug logs to see if something wrong is happening."}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 11456161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec039cec4c8d86da2ef167be5e05d678?s=128&d=identicon&r=PG&f=1", "display_name": "NewBieProgrammer", "link": "https://stackoverflow.com/users/11456161/newbieprogrammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1561060107, "creation_date": 1561060107, "answer_id": 56692958, "question_id": 56676606, "link": "https://stackoverflow.com/questions/56676606/cant-adjust-the-camera-position/56692958#56692958", "title": "Can&#39;t Adjust the camera position", "body": "<p>@Tim Hunter thanks i will change the camera to transform, what is strange is the fact that the code looks ok.I will try to put the debug logs to see if something wrong is happening.</p>\n"}], "owner": {"reputation": 17, "user_id": 11456161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec039cec4c8d86da2ef167be5e05d678?s=128&d=identicon&r=PG&f=1", "display_name": "NewBieProgrammer", "link": "https://stackoverflow.com/users/11456161/newbieprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561060107, "creation_date": 1560982709, "question_id": 56676606, "link": "https://stackoverflow.com/questions/56676606/cant-adjust-the-camera-position", "title": "Can&#39;t Adjust the camera position", "body": "<p>I can't change the camera position in my game, the camera back to it's original position, I think its something wrong with my code, but i have no idea what is causing it.\nHere's my Camera code:</p>\n\n<pre><code>private GameObject player;\n    public float xMin;\n    public float xMax;\n    public float yMin;\n    public float yMax;\n    // Start is called before the first frame update\n    void Start()\n    {\n        player = GameObject.FindWithTag(\"player\");\n\n\n    }\n\n    // Update is called once per frame\n    void LateUpdate()\n    {\n        float x = Mathf.Clamp(player.transform.position.x, xMin, xMax);\n        float y = Mathf.Clamp(player.transform.position.y, yMin, yMax);\n        gameObject.transform.position = new Vector3(x, y, gameObject.transform.position.z);\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "oracle", "entity-framework-core"], "comments": [{"owner": {"reputation": 3813, "user_id": 5588197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206610955445736/picture?type=large", "display_name": "Jan Paolo Go", "link": "https://stackoverflow.com/users/5588197/jan-paolo-go"}, "edited": false, "score": 1, "creation_date": 1560986601, "post_id": 56676483, "comment_id": 99921033, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38183021/how-to-automatically-populate-createddate-and-modifieddate\">How to automatically populate CreatedDate and ModifiedDate?</a>"}, {"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "reply_to_user": {"reputation": 3813, "user_id": 5588197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206610955445736/picture?type=large", "display_name": "Jan Paolo Go", "link": "https://stackoverflow.com/users/5588197/jan-paolo-go"}, "edited": false, "score": 0, "creation_date": 1561195061, "post_id": 56676483, "comment_id": 99990712, "body": "Thanks, <code>HasDefaultValueSql</code> is the way to go, it&#39;s very hidden inside that question thread (some kind of later update for EF Core)."}], "answers": [{"comments": [{"owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "edited": false, "score": 0, "creation_date": 1561194986, "post_id": 56678070, "comment_id": 99990697, "body": "actually I had found the <code>.HasDefaultValueSql</code> from a comment to my question before. Also please note that I&#39;m using Oracle, so the sql will be something different than &quot;GETUTCDATE()&quot;, I had to use <code>sys_extract_utc(systimestamp)</code> instead."}], "tags": [], "owner": {"reputation": 468, "user_id": 3025714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d53c905fb7ff3e901e2d78dc2ace108e?s=128&d=identicon&r=PG&f=1", "display_name": "Mofaggol Hoshen", "link": "https://stackoverflow.com/users/3025714/mofaggol-hoshen"}, "is_accepted": true, "score": 0, "last_activity_date": 1560996431, "creation_date": 1560996431, "answer_id": 56678070, "question_id": 56676483, "link": "https://stackoverflow.com/questions/56676483/oracle-ef-core-how-to-configure-a-datetime-column-to-be-auto-generated/56678070#56678070", "title": "Oracle EF Core - how to configure a datetime column to be auto-generated?", "body": "<p>Try this -</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n   {\n          modelBuilder.Entity&lt;Item&gt;()\n               .Property(b =&gt; b.CreatedDateUtc)\n               .HasDefaultValueSql(\"GETUTCDATE()\");\n    }\n</code></pre>\n"}], "owner": {"reputation": 3536, "user_id": 733163, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/KlDPn.jpg?s=128&g=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/733163/hopeless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 56678070, "answer_count": 1, "score": 0, "last_activity_date": 1560996431, "creation_date": 1560981861, "question_id": 56676483, "link": "https://stackoverflow.com/questions/56676483/oracle-ef-core-how-to-configure-a-datetime-column-to-be-auto-generated", "title": "Oracle EF Core - how to configure a datetime column to be auto-generated?", "body": "<p>Firstly this is just a simple feature that is supported by at least EF Core for SQL Server, but for Oracle (the provider implemented by Oracle), I'm not so sure if it's supported.</p>\n\n<p>Simply I have an entity class like this:</p>\n\n<pre><code>public class Item {\n    public int Id {get;set;}\n    public DateTime CreatedDateUtc {get;set;}\n}\n</code></pre>\n\n<p>The problem is how to configure the EF core to auto-generate database's date to <code>CreatedDateUtc</code> each time inserting without having to set that value on client side?</p>\n\n<p>Here's what I've tried:</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n   modelBuilder.Entity&lt;Item&gt;()\n               .Property(e =&gt; e.CreatedDateUtc)\n               .ValueGeneratedOnAdd();                 \n}\n</code></pre>\n\n<p>But after running <code>add-migration</code>, the generated class is just empty like this:</p>\n\n<pre><code>protected override void Up(MigrationBuilder migrationBuilder)\n{\n\n}\n\nprotected override void Down(MigrationBuilder migrationBuilder)\n{\n\n}\n</code></pre>\n\n<p>So actually it does nothing with that configuration (not supported?).\nAlso the first thing is to generate a datetime value, the second important thing is to generate a <strong><em>UTC</em></strong> datetime value. I believe in the feasibility for the first requirement whereas the second seems to be unfeasible at least with Oracle EF Core? (nuget name: <code>Oracle.EntityFrameworkCore</code>).</p>\n\n<p>If you have some solution to achieve the first requirement, please share it anyway even if the second requirement is impossible. At least we need some work-around then. Thank you.</p>\n"}, {"tags": ["c#", "sql", "linq"], "comments": [{"owner": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "edited": false, "score": 0, "creation_date": 1560981516, "post_id": 56676415, "comment_id": 99919906, "body": "what&#39;s the problem? what issues are you getting right now with this code?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560981642, "post_id": 56676415, "comment_id": 99919939, "body": "Why are you trying to <code>Int32.Parse</code> an <code>AreaId</code> if it&#39;s already an <code>int</code>?"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1560981743, "post_id": 56676415, "comment_id": 99919964, "body": "You should have that <code>Select</code> before the <code>FirstOrDefault</code>.  Or just <code>FirstOrDefault()?.AreaId ?? 0</code>."}, {"owner": {"reputation": 583, "user_id": 1867161, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1719f4acb78e6d9c7c9f40067dc8ec7c?s=128&d=identicon&r=PG", "display_name": "ichachan", "link": "https://stackoverflow.com/users/1867161/ichachan"}, "reply_to_user": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "edited": false, "score": 0, "creation_date": 1560981858, "post_id": 56676415, "comment_id": 99919997, "body": "@jPhizzle you are correct I&#39;m missing Address1 on bDrivingCursor. Address1 is actually type String"}, {"owner": {"reputation": 583, "user_id": 1867161, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1719f4acb78e6d9c7c9f40067dc8ec7c?s=128&d=identicon&r=PG", "display_name": "ichachan", "link": "https://stackoverflow.com/users/1867161/ichachan"}, "edited": false, "score": 0, "creation_date": 1560981895, "post_id": 56676415, "comment_id": 99920008, "body": "The error that I got is cannot convert from Int to String."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1560981939, "post_id": 56676415, "comment_id": 99920027, "body": "That&#39;s because you&#39;re selecting an <code>int</code> and trying to pass it to <code>Int32.Parse</code>, which expects a <code>string</code>."}, {"owner": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560981996, "post_id": 56676415, "comment_id": 99920044, "body": "I second @RufusL&#39;s observation"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1560982005, "post_id": 56676415, "comment_id": 99920048, "body": "<code>int areaId = b.FirstOrDefault(s =&gt; s.Address1 == temp.Address1)?.AreaId ?? 0;</code>"}], "owner": {"reputation": 583, "user_id": 1867161, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/1719f4acb78e6d9c7c9f40067dc8ec7c?s=128&d=identicon&r=PG", "display_name": "ichachan", "link": "https://stackoverflow.com/users/1867161/ichachan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560981740, "creation_date": 1560981372, "last_edit_date": 1560981740, "question_id": 56676415, "link": "https://stackoverflow.com/questions/56676415/how-to-select-specific-column-using-linq-with-certain-condition", "title": "How to select specific column using Linq with certain condition", "body": "<p>I'm executing two stored procedures and comparing results. Each stored procs results are defined in its own class.</p>\n\n<p>The question is how to I select specific field 'AreaId' with the defined filter?</p>\n\n<pre><code>var a = new List&lt;aDrivingCursor&gt;();\n//execute stored proc 1\nsp.Execute(out aDrivingCursor);\n\nvar b = new List&lt;bDrivingCursor&gt;();\n//execute stored proc 2\nsp2.Execute(out bDrivingCursor);\n\nforeach (var temp in aDrivingCursor)\n{\n    int areaId = 0                       \n    if (b.Any(s =&gt; s.Address1 == temp.Address1))\n    {\n        //This is where I'm having problem with\n        areaId = Int32.Parse(b\n            .Where(s =&gt; s.Address1 == a.Address1)\n            .FirstOrDefault()\n            .Select(o =&gt; o.AreaId));    \n    }\n}\n</code></pre>\n\n<p>Here is my classes:</p>\n\n<pre><code>class aDrivingCursor\n{\n    public String Address1 { get; set; }\n}\n\nclass bDrivingCursor\n{\n    public int AreaId { get; set; }\n\n    public String Address1 {get; set;}\n}\n</code></pre>\n"}, {"tags": ["c#", "firebase", "unity3d", "firebase-storage"], "answers": [{"tags": [], "owner": {"reputation": 8919, "user_id": 1159604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZNjba.png?s=128&g=1", "display_name": "Foggzie", "link": "https://stackoverflow.com/users/1159604/foggzie"}, "is_accepted": true, "score": 2, "last_activity_date": 1560984777, "creation_date": 1560984777, "answer_id": 56676878, "question_id": 56676298, "link": "https://stackoverflow.com/questions/56676298/how-do-you-immediately-cancel-a-firebase-storage-upload-task/56676878#56676878", "title": "How do you immediately cancel a firebase storage upload task?", "body": "<p>The <code>PutBytesAsync()</code> method returns a <code>System.Task&lt;T&gt;</code> and they natively support cancelation.  I'd suggest reading the <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/parallel-programming/task-cancellation\" rel=\"nofollow noreferrer\">Task Cancellation Documentation</a> as there are some caveats:</p>\n\n<blockquote>\n  <p>A successful cancellation involves the requesting code calling the\n  <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.cancellationtokensource.cancel?view=netframework-4.8\" rel=\"nofollow noreferrer\">CancellationTokenSource.Cancel</a> method, and the user delegate\n  terminating the operation in a timely manner. You can terminate the\n  operation by using one of these options:</p>\n  \n  <ul>\n  <li><p>By simply returning from the delegate. In many scenarios this is\n  sufficient; however, a task instance that is canceled in this way\n  transitions to the TaskStatus.RanToCompletion state, not to the\n  TaskStatus.Canceled state.</p></li>\n  <li><p>By throwing a OperationCanceledException and passing it the token on\n  which cancellation was requested. The preferred way to do this is to\n  use the ThrowIfCancellationRequested method. A task that is canceled\n  in this way transitions to the Canceled state, which the calling code\n  can use to verify that the task responded to its cancellation request.</p></li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 135, "user_id": 3757196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g02uM.png?s=128&g=1", "display_name": "CrashTestDummy", "link": "https://stackoverflow.com/users/3757196/crashtestdummy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "accepted_answer_id": 56676878, "answer_count": 1, "score": 1, "last_activity_date": 1560989531, "creation_date": 1560980672, "last_edit_date": 1560989531, "question_id": 56676298, "link": "https://stackoverflow.com/questions/56676298/how-do-you-immediately-cancel-a-firebase-storage-upload-task", "title": "How do you immediately cancel a firebase storage upload task?", "body": "<p>The problem is that I want to know how to immediately cancel a FirebaseStorage UploadTask.</p>\n\n<p>I have read <a href=\"https://firebase.google.com/docs/storage/unity/upload-files\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/storage/unity/upload-files</a> but it doesn't have any examples on how to cancel the UploadTask.</p>\n\n<pre><code>// Data in memory\nvar custom_bytes = new byte[] { ... };\n\n// Create a reference to the file you want to upload\nFirebase.Storage.StorageReference rivers_ref = storage_ref.Child(\"images/rivers.jpg\");\n\n// Upload the file to the path \"images/rivers.jpg\"\nrivers_ref.PutBytesAsync(custom_bytes)\n  .ContinueWith ((Task&lt;StorageMetadata&gt; task) =&gt; {\n    if (task.IsFaulted || task.IsCanceled) {\n        Debug.Log(task.Exception.ToString());\n        // Uh-oh, an error occurred!\n    } else {\n        // Metadata contains file metadata such as size, content-type, and download URL.\n        Firebase.Storage.StorageMetadata metadata = task.Result;\n        string download_url = metadata.DownloadUrl.ToString();\n        Debug.Log(\"Finished uploading...\");\n        Debug.Log(\"download url = \" + download_url);\n    }\n});\n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1560983290, "post_id": 56676295, "comment_id": 99920358, "body": "What exactly do you want as result? That&#39;s not clear. Are the lines always as you show, starting with a dash (-), then numbers?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": false, "score": 1, "last_activity_date": 1561005240, "last_edit_date": 1592644375, "creation_date": 1561002665, "answer_id": 56678728, "question_id": 56676295, "link": "https://stackoverflow.com/questions/56676295/capture-line-fragment-from-below-txt/56678728#56678728", "title": "capture line fragment from below txt", "body": "<p>This is a bit difficult, while your attempt looks great. My guess is that we might want to capture <code>UF</code> and <code> Vl.Moeda</code> and associated values, which we might be able to do so, maybe with this expression:</p>\n<pre><code>\\b([A-Z]{2})\\b\\s{2,}.*\\s{2,}(.+)\n</code></pre>\n<p>where we'd include a <code>\\s{2,}</code> to fail other similar texts and then capture our desired outputs in <code>([A-Z]{2})</code> and <code>(.+)</code>.</p>\n<h3><a href=\"https://regex101.com/r/GlR6j6/1/\" rel=\"nofollow noreferrer\">Demo</a></h3>\n<h3>Test</h3>\n<pre><code>using System;\nusing System.Text.RegularExpressions;\n\npublic class Example\n{\n    public static void Main()\n    {\n        string pattern = @&quot;\\b([A-Z]{2})\\b\\s{2,}.*\\s{2,}(.+)&quot;;\n        string input = @&quot;DADOS DO FABRICANTE\n* CNPJ/CPF           UF    Quantidade Peso L\u00edquido(kg)   Vl.Moeda\n- 99.999.999/9999-99 MN    4,00000    212,00000          250.400,00\nObs:\n- 99.999.999/9999-99 AB    4,00000    212,00000          250.400,00000\nObs:\n- 99.999.999/9999-99 XZ    4,00000    212,00000          250.400,00000\nObs:&quot;;\n        RegexOptions options = RegexOptions.Multiline;\n        \n        foreach (Match m in Regex.Matches(input, pattern, options))\n        {\n            Console.WriteLine(&quot;'{0}' found at index {1}.&quot;, m.Value, m.Index);\n        }\n    }\n}\n</code></pre>\n<h3>RegEx Circuit</h3>\n<p><a href=\"https://jex.im/regulex/#!flags=&amp;re=%5E(a%7Cb)*%3F%24\" rel=\"nofollow noreferrer\">jex.im</a> visualizes regular expressions:</p>\n<p><a href=\"https://i.stack.imgur.com/TKGzU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TKGzU.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 157, "user_id": 2639036, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/BE6rY.png?s=128&g=1", "display_name": "Effectlab Cria&#231;&#227;o de Sistemas", "link": "https://stackoverflow.com/users/2639036/effectlab-cria%c3%a7%c3%a3o-de-sistemas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561005240, "creation_date": 1560980666, "question_id": 56676295, "link": "https://stackoverflow.com/questions/56676295/capture-line-fragment-from-below-txt", "title": "capture line fragment from below txt", "body": "<p>I'm try to reading and get specific values from table in txt with regex from a  PDF that was copied.</p>\n\n<p>Eg:</p>\n\n<pre><code>DADOS DO FABRICANTE\n* CNPJ/CPF           UF    Quantidade Peso L\u00edquido(kg)   Vl.Moeda\n- 99.999.999/9999-99 MN    4,00000    212,00000          250.400,00\nObs:\n</code></pre>\n\n<p>In the text above I would to get the value from UF that is MN and other of course like Vl.Moeda</p>\n\n<p>I try this regex but not working very well:</p>\n\n<pre><code>[*\\n\\r\\s*]UF\\s *.*[^\\w]\n</code></pre>\n"}, {"tags": ["c#", "compare", "logical-operators"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1560980920, "post_id": 56676279, "comment_id": 99919751, "body": "You&#39;re going to have to do a whole lot of branching. First you&#39;ll have to figure out how to get the value of <code>Field</code>. Then you can <code>switch</code> on the <code>Operation</code> and use the corresponding logic to check the value of <code>Field</code> against <code>Value</code>. You could also try using <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.expressions.expression?view=netframework-4.8\" rel=\"nofollow noreferrer\">LINQ expressions</a> for this if they fit your scenario."}, {"owner": {"reputation": 4765, "user_id": 487291, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bdcca15155be237d5faf68ddc18cb33b?s=128&d=identicon&r=PG", "display_name": "mko", "link": "https://stackoverflow.com/users/487291/mko"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1560982139, "post_id": 56676279, "comment_id": 99920074, "body": "I have found this article <a href=\"https://mobiusstraits.com/2015/08/12/expression-trees/\" rel=\"nofollow noreferrer\">mobiusstraits.com/2015/08/12/expression-trees</a>"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1560982178, "post_id": 56676279, "comment_id": 99920081, "body": "I would favor some Enum rather than strings.  Failing that, perhaps some sort of vocabulary that can be parsed (which doesnt rule out a role fpor enums)"}], "answers": [{"tags": [], "owner": {"reputation": 794, "user_id": 1378507, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55e0e0ec37cf6ec66012adeb22a0c59c?s=128&d=identicon&r=PG", "display_name": "Washington A. Ramos", "link": "https://stackoverflow.com/users/1378507/washington-a-ramos"}, "is_accepted": true, "score": 3, "last_activity_date": 1560982241, "creation_date": 1560982241, "answer_id": 56676542, "question_id": 56676279, "link": "https://stackoverflow.com/questions/56676279/programatically-check-if-values-match-predefined-rules-in-c/56676542#56676542", "title": "Programatically check if values match predefined rules in c#", "body": "<p>I'm quite sure this is not the most elegant way of doing it, but you could use a <code>List&lt;Func&lt;Order, bool&gt;&gt;</code> which would be your ruleset, add rules to the list and for each order, loop through the ruleset and test if it passes all rules. Here's a sample:</p>\n\n<pre><code>    public static void Main(string[] args) {\n\n        var orders = new List&lt;Order&gt;();\n        var ruleset1 = new List&lt;Func&lt;Order, bool&gt;&gt;();\n        var ruleset2 = new List&lt;Func&lt;Order, bool&gt;&gt;();\n\n        AddRules(ruleset1);\n        AddRules2(ruleset2);\n        AddOrders(orders);\n\n        foreach (var order in orders) {\n            bool passed = true;\n            foreach (var rule in ruleset1) {\n                if (!(rule.Invoke(order))) {\n                    passed = false;\n                    Console.WriteLine(\"Order with Id \" + order.Id + \" did not pass ruleset 1\");\n                    break;\n                }\n            }\n            if (passed) Console.WriteLine(\"Order with Id \" + order.Id + \" passed ruleset 1\");\n            passed = true;\n            foreach (var rule in ruleset2) {\n                if (!(rule.Invoke(order))) {\n                    passed = false;\n                    Console.WriteLine(\"Order with Id \" + order.Id + \" did not pass ruleset 2\");\n                    break;\n                }\n            }\n            if (passed) Console.WriteLine(\"Order with Id \" + order.Id + \" passed ruleset 2\");\n        }\n    }\n\n    // Just a few orders for testing\n    private static void AddOrders(List&lt;Order&gt; orders) {\n        orders.Add(new Order() { Id = 0, ClientName = \"Joe\", Status = Order.OrderStatus.Confirmed });\n        orders.Add(new Order() { Id = 1, ClientName = \"Mary\", Status = Order.OrderStatus.Confirmed });\n        orders.Add(new Order() { Id = 2, ClientName = \"June\", Status = Order.OrderStatus.Confirmed });\n        orders.Add(new Order() { Id = 3, ClientName = \"Joe\", Status = Order.OrderStatus.Unconfirmed });\n        orders.Add(new Order() { Id = 4, ClientName = \"Lisa\", Status = Order.OrderStatus.Unconfirmed });\n    }\n\n    // Rules in ruleset 1 checks if the user is called Joe and the order status is Confirmed\n    private static void AddRules(List&lt;Func&lt;Order, bool&gt;&gt; ruleset1) {\n        ruleset1.Add((order) =&gt; {\n            return order.ClientName == \"Joe\";\n        });\n        ruleset1.Add((order) =&gt; {\n            return order.Status == Order.OrderStatus.Confirmed;\n        });\n    }\n\n    // Rules in ruleset 2 checks if the order status is Confirmed\n    private static void AddRules2(List&lt;Func&lt;Order, bool&gt;&gt; ruleset2) {\n        ruleset2.Add((order) =&gt; {\n            return order.Status == Order.OrderStatus.Confirmed;\n        });\n    }\n\n    public class Order {\n\n        public int Id { get; set; }\n        public string ClientName { get; set; }\n        public OrderStatus Status { get; set; }\n\n        public enum OrderStatus { Confirmed, Unconfirmed }\n\n    }\n</code></pre>\n\n<p>Other than that, you could also use LINQ, as suggested by <a href=\"https://stackoverflow.com/users/1141432/itsme86\">@itsme86</a>:</p>\n\n<pre><code>    public static void Main(string[] args) {\n\n        var orders = new List&lt;Order&gt;();\n\n        AddOrders(orders);\n\n        var confirmed = orders.Where(s =&gt; s.Status == Order.OrderStatus.Confirmed);\n\n        foreach (var order in confirmed) {\n            Console.WriteLine(\"Order with Id \" + order.Id + \" is confirmed\");\n        }\n    }\n\n    // Just a few orders for testing\n    private static void AddOrders(List&lt;Order&gt; orders) {\n        orders.Add(new Order() { Id = 0, ClientName = \"Joe\", Status = Order.OrderStatus.Confirmed });\n        orders.Add(new Order() { Id = 1, ClientName = \"Mary\", Status = Order.OrderStatus.Confirmed });\n        orders.Add(new Order() { Id = 2, ClientName = \"June\", Status = Order.OrderStatus.Confirmed });\n        orders.Add(new Order() { Id = 3, ClientName = \"Joe\", Status = Order.OrderStatus.Unconfirmed });\n        orders.Add(new Order() { Id = 4, ClientName = \"Lisa\", Status = Order.OrderStatus.Unconfirmed });\n    }\n\n    public class Order {\n\n        public int Id { get; set; }\n        public string ClientName { get; set; }\n        public OrderStatus Status { get; set; }\n\n        public enum OrderStatus { Confirmed, Unconfirmed }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 4765, "user_id": 487291, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bdcca15155be237d5faf68ddc18cb33b?s=128&d=identicon&r=PG", "display_name": "mko", "link": "https://stackoverflow.com/users/487291/mko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 56676542, "answer_count": 1, "score": 0, "last_activity_date": 1560982241, "creation_date": 1560980587, "question_id": 56676279, "link": "https://stackoverflow.com/questions/56676279/programatically-check-if-values-match-predefined-rules-in-c", "title": "Programatically check if values match predefined rules in c#", "body": "<p>I have stored a list of rules using Condition class as explained below. My goal is to check these rules against real values.</p>\n\n<p>For example</p>\n\n<pre><code>public class Condition\n{\npublic string Field {get;set;}\npublic string Operation {get;set;}\npublic string Value {get;set;}\n}\n</code></pre>\n\n<p>for example</p>\n\n<pre><code>new Condition(\"order_status\", \"is\", \"confirmed\")\n</code></pre>\n\n<p>How can i check if the property Status of Order instance actually matches provided condition?</p>\n\n<pre><code>public class Order\n{\npublic string Status {get;set;}\n}\n</code></pre>\n\n<p>I would love to provide you what I have tried, but I really dont have a solid idea how to get started on this one.</p>\n\n<pre><code>public class OrderConditionComparator\n{\npublic void Compare(Order order, Condition condition)\n{\n    ...\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "c#-8.0", "switch-expression"], "comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1561025453, "post_id": 56676260, "comment_id": 99933015, "body": "What <i>do</i> you want to accomplish? Switch expressions aren&#39;t switch statements and fall through is explicitly forbidden. <code>when</code> is far more powerfull than fall-through anyway. You can use <code>Contains</code> with an array of values if you want."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1561025585, "post_id": 56676260, "comment_id": 99933097, "body": "Instead of using 3 or 4 or 11 case statements you can use a <i>single</i> <code>var x when listOfValues.Contains(x)</code> and handle as many cases as you want"}, {"owner": {"reputation": 1030, "user_id": 8372338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a83HG.png?s=128&g=1", "display_name": "huzle", "link": "https://stackoverflow.com/users/8372338/huzle"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 2, "creation_date": 1561026356, "post_id": 56676260, "comment_id": 99933569, "body": "I am not trying to fall-through over cases here. Like shown in the first code-block of my question case 1,2 and 3 execute the exact same right-arm code. And for the purpose of this question I have taken a very very simple example here. Imagine case 1,2,3 would evaluate very different and complex stuff like pattern matching with &#39;when&#39; etc.."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1561026678, "post_id": 56676260, "comment_id": 99933756, "body": "the first code block <i>falls through</i> cases. That&#39;s what <code>case 1:     case 2:</code> do - they are cases with empty blocks that fall through to the next"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1561026743, "post_id": 56676260, "comment_id": 99933789, "body": "As for complex stuff, <code>when</code> can handle far more complex cases than simple fall through. The simple fall through can only handle equality checks against a hard-coded value. Pattern matching and <code>when</code> are the same in switch expressions. In fact, it&#39;s switch <i>statements</i> that cause problems with pattern matching. If you check functional languages <a href=\"https://fsharpforfunandprofit.com/posts/match-expression/\" rel=\"nofollow noreferrer\">like F#</a> you&#39;ll see that the primary use case (often the <i>only</i> one) is pattern matching expressions."}, {"owner": {"reputation": 1030, "user_id": 8372338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a83HG.png?s=128&g=1", "display_name": "huzle", "link": "https://stackoverflow.com/users/8372338/huzle"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1561027502, "post_id": 56676260, "comment_id": 99934195, "body": "With fall through I have meant none-empty bodies on the cases."}, {"owner": {"reputation": 1030, "user_id": 8372338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a83HG.png?s=128&g=1", "display_name": "huzle", "link": "https://stackoverflow.com/users/8372338/huzle"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1561027575, "post_id": 56676260, "comment_id": 99934233, "body": "So I think the proper way to go for my question is to use a expression in the &#39;when&#39; clause."}], "answers": [{"comments": [{"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1561025549, "post_id": 56676866, "comment_id": 99933079, "body": "Fall through is explicitly forbidden. The <code>when</code> clause is far more powerful than fall through anyway. Instead of writing 3 or 10 <code>case</code> statements you can use a single <code>var x when listOfValues.Contains(x)</code>"}, {"owner": {"reputation": 1030, "user_id": 8372338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a83HG.png?s=128&g=1", "display_name": "huzle", "link": "https://stackoverflow.com/users/8372338/huzle"}, "edited": false, "score": 0, "creation_date": 1561027916, "post_id": 56676866, "comment_id": 99934399, "body": "So I think the proper way to go for my question is to use a expression in the &#39;when&#39; clause. So I am marking your answer as the correct cause it fits the requirement. Especially the first code block is formatted to have kind of one case per line."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1576273234, "post_id": 56676866, "comment_id": 104859591, "body": "@PanagiotisKanavos I just learned that while Fall Through is forbidden, this is not Fall Through. This is multiple matching, wich is allowed and compiles: <a href=\"https://sharplab.io/#v2:EYLgxg9gTgpgtADwGwBYA+ABATARgLABQGAzAATakDCpA3oaQ+WRjgAykDKAlgF4wAUwAJ4AXGKWABKeozoFGC0gGcA7lxFgAFqUHT5ihnIMGwAQyXjWIGccZmLpHNf22DGAOykAREoC2pgBsArwBuG1cAExgAM1MAVwCRZ1djD29gLgBzUPCFAF9wgpdSQjygA=\" rel=\"nofollow noreferrer\">sharplab.io/&hellip;</a>"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576484317, "post_id": 56676866, "comment_id": 104900514, "body": "@Christopher what you link to is fall-through in switch <i>statements</i>. The question asked how to do the same with switch expressions, which isn&#39;t allowed."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 2, "creation_date": 1576509553, "post_id": 56676866, "comment_id": 104913107, "body": "@PanagiotisKanavos Except it is <b>not</b> fallthrough, wich was my point. &quot;Only one switch section in a switch statement executes. C# doesn&#39;t allow execution to continue from one switch section to the next. Because of this, the following code generates a compiler error, CS0163: &quot;Control cannot fall through from one case label (&lt;case label&gt;) to another.&quot;&quot; - <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/switch\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a> | This was multi-matching by multiple labels. Rather then a comma seperate list like in Python."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1576509630, "post_id": 56676866, "comment_id": 104913156, "body": "@PanagiotisKanavos What might confuse you is that a lot of Langauge <i>implemented</i> Multiple Mathcing via Fall Through. But in C# those are as different as delegates and integers. Or interfaces and classes."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1576515090, "post_id": 56676866, "comment_id": 104915962, "body": "@Christopher Are you arguing that I should re-phrase &quot;fall through&quot; to something else? I referred to the use of multiple <code>case</code> statements in a <code>switch</code> section as &quot;fall through&quot; (as is @PanagiotisKanavos ), but would be happy to use a different term if that&#39;s confusing."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1576519476, "post_id": 56676866, "comment_id": 104917983, "body": "@RufusL I am hoenestly not sure waht the proper term even is. All I do know for certain is that it is not fallthrough. I actually thought that myself, as I had memorized it being implemented via Falltrhough in my early Native C++ days. But the guy that corrected me was right: It is not fallthrough. It can not be fallthrough. It is something else. And I am unsure if the when clause is just a subset for pattern matching or a 3rd way altogether."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1576519931, "post_id": 56676866, "comment_id": 104918163, "body": "Fair enough. I removed the term and just replaced it with multiple words. :)"}, {"owner": {"reputation": 1207, "user_id": 7912486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KW8ASicNUX8/AAAAAAAAAAI/AAAAAAAAEUw/a1u4b8HPUU4/photo.jpg?sz=128", "display_name": "Ryan Sparks", "link": "https://stackoverflow.com/users/7912486/ryan-sparks"}, "edited": false, "score": 0, "creation_date": 1591950647, "post_id": 56676866, "comment_id": 110254589, "body": "Looks like they&#39;ll be tidying this up a bit with C# 9&#39;s <a href=\"https://devblogs.microsoft.com/dotnet/welcome-to-c-9-0/#logical-patterns\" rel=\"nofollow noreferrer\">improved pattern matching</a>."}, {"owner": {"reputation": 61, "user_id": 6002288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c93b0418dee637fa56eb8b7f890a8676?s=128&d=identicon&r=PG&f=1", "display_name": "Sz. Moncz", "link": "https://stackoverflow.com/users/6002288/sz-moncz"}, "edited": false, "score": 0, "creation_date": 1608302568, "post_id": 56676866, "comment_id": 115549298, "body": "The compiled result is very similar regardless of the used syntax <a href=\"https://shorturl.at/gzCO5\" rel=\"nofollow noreferrer\">shorturl.at/gzCO5</a>"}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 100, "last_activity_date": 1576519996, "last_edit_date": 1576519996, "creation_date": 1560984690, "answer_id": 56676866, "question_id": 56676260, "link": "https://stackoverflow.com/questions/56676260/c-8-switch-expression-with-multiple-cases-with-same-result/56676866#56676866", "title": "C# 8 switch expression with multiple cases with same result", "body": "<p>I got around to installing it, but I have not found a way to specify multiple, separate case labels for a single switch section with the new syntax.</p>\n\n<p>However, you can create a new variable that captures the value and then use a condition to represent the cases that should have the same result:</p>\n\n<pre><code>var resultText = switchValue switch\n{\n    var x when\n        x == 1 ||\n        x == 2 ||\n        x == 3 =&gt; \"one to three\",\n    4 =&gt; \"four\",\n    5 =&gt; \"five\",\n    _ =&gt; \"unknown\",\n};\n</code></pre>\n\n<p>This is actually more concise if you have many cases to test, because you can test a range of values in one line:</p>\n\n<pre><code>var resultText = switchValue switch\n{\n    var x when x &gt; 0 &amp;&amp; x &lt; 4 =&gt; \"one to three\",\n    4 =&gt; \"four\",\n    5 =&gt; \"five\",\n    _ =&gt; \"unknown\",\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4885, "user_id": 723645, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/29430ff84370d3d80aa9bc546fd5639d?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/723645/ben"}, "edited": false, "score": 4, "creation_date": 1573635621, "post_id": 58470897, "comment_id": 103942181, "body": "I know it&#39;s only an example, but it could be cleaned up a bit by directly returning from the cases rather than setting <code>tmp</code>. That way you can omit the <code>break</code>s too."}, {"owner": {"reputation": 507, "user_id": 735952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f0df9bec617c2bf56b3923520e9257?s=128&d=identicon&r=PG", "display_name": "sfkleach", "link": "https://stackoverflow.com/users/735952/sfkleach"}, "reply_to_user": {"reputation": 4885, "user_id": 723645, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/29430ff84370d3d80aa9bc546fd5639d?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/723645/ben"}, "edited": false, "score": 2, "creation_date": 1578398488, "post_id": 58470897, "comment_id": 105418044, "body": "@Ben&#39;s comment is fair and, all things being equal, my own style too. But I have elected not to change my response because there was actually no return in the original post &amp; I wanted to have the computation and the return cleanly separated, so the refactoring was clearer."}, {"owner": {"reputation": 4331, "user_id": 1946412, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/70fc1752ed75fa968107bbaa500cfe8a?s=128&d=identicon&r=PG", "display_name": "julealgon", "link": "https://stackoverflow.com/users/1946412/julealgon"}, "edited": false, "score": 0, "creation_date": 1580259571, "post_id": 58470897, "comment_id": 106036753, "body": "Since you are not using the matched variables, I&#39;d recommend updating your switch statement example to use the discard pattern for the cases: <code>case Type1 _:</code>, <code>case Type2 _:</code> etc."}, {"owner": {"reputation": 507, "user_id": 735952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f0df9bec617c2bf56b3923520e9257?s=128&d=identicon&r=PG", "display_name": "sfkleach", "link": "https://stackoverflow.com/users/735952/sfkleach"}, "reply_to_user": {"reputation": 4331, "user_id": 1946412, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/70fc1752ed75fa968107bbaa500cfe8a?s=128&d=identicon&r=PG", "display_name": "julealgon", "link": "https://stackoverflow.com/users/1946412/julealgon"}, "edited": false, "score": 0, "creation_date": 1580374766, "post_id": 58470897, "comment_id": 106078708, "body": "@julealgon yes using discards is better style. In this case I was using the variable names because ResultA, ResultB, ResultC are intended to be placeholders for expressions that might reference t1, t2 ... t5. I have added a comment to make that clearer."}], "tags": [], "owner": {"reputation": 507, "user_id": 735952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66f0df9bec617c2bf56b3923520e9257?s=128&d=identicon&r=PG", "display_name": "sfkleach", "link": "https://stackoverflow.com/users/735952/sfkleach"}, "is_accepted": false, "score": 15, "last_activity_date": 1580374941, "last_edit_date": 1580374941, "creation_date": 1571556449, "answer_id": 58470897, "question_id": 56676260, "link": "https://stackoverflow.com/questions/56676260/c-8-switch-expression-with-multiple-cases-with-same-result/58470897#58470897", "title": "C# 8 switch expression with multiple cases with same result", "body": "<p>Sadly, this appears to be a shortcoming in the switch-expression syntax, relative to the switch-statement syntax. As other posters have suggested, the rather clumsy <code>var</code> syntax is your only real option. </p>\n\n<p>So you might have been hoping you could write:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>switchValue switch {\n    Type1 t1:\n    Type2 t2:\n    Type3 t3 =&gt; ResultA, // where the ResultX variables are placeholders for expressions.\n    Type4 t4 =&gt; ResultB,\n    Type5 t5 =&gt; ResultC\n};\n</code></pre>\n\n<p>Instead you will need to write the rather awkward code below, with typename sprayed about:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>switchValue switch {\n    var x when x is Type1 || x is Type2 || x is Type 3 =&gt; ResultA,\n    Type4 t4 =&gt; ResultB,\n    Type5 t5 =&gt; ResultC\n};\n</code></pre>\n\n<p>In such a simple example, you can probably live with this awkwardness. But more complicated example are much less liveable with. In fact my examples are actually a simplification of an example drawn from our own code base, where I was hoping to convert a switch-statement, with roughly six outcomes but over a dozen type-cases, into a switch-expression. And the result was clearly less readable than the switch-statement.</p>\n\n<p>My view is that if the switch-expression needs shared outcomes and is more than a few lines long, then you are better off sticking to a switch-statement. Boo! It's more verbose but probably a kindness to your teammates.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>ResultType tmp;\nswitch (switchValue) {\n    case Type1 t1:\n    case Type2 t2:\n    case Type3 t3:\n        tmp = ResultA;\n        break;\n    case Type4 t4:\n        tmp = ResultB;\n        break;\n    case Type5 t5:\n        tmp = ResultC;\n        break;\n};\nreturn tmp;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 2134707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d27c9a274f9f7c4e87a5ba0f63d249f1?s=128&d=identicon&r=PG", "display_name": "pcchan", "link": "https://stackoverflow.com/users/2134707/pcchan"}, "is_accepted": false, "score": 0, "last_activity_date": 1578454774, "last_edit_date": 1578454774, "creation_date": 1578451591, "answer_id": 59638756, "question_id": 56676260, "link": "https://stackoverflow.com/questions/56676260/c-8-switch-expression-with-multiple-cases-with-same-result/59638756#59638756", "title": "C# 8 switch expression with multiple cases with same result", "body": "<p>If your switch type is a flag enum</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[System.Flags]\npublic enum Values \n{\n    One = 1, \n    Two = 2, \n    Three = 4,\n    Four = 8,\n    OneToThree = One | Two | Three\n}\n\nvar resultText = switchValue switch\n{\n    var x when Values.OneToThree.HasFlag(x) =&gt; \"one to three\",\n    Values.Four =&gt; \"4\",\n    _ =&gt; \"unknown\",\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113291, "user_id": 234, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3a9ff49a9e689dcbfc8242f05180cc31?s=128&d=identicon&r=PG", "display_name": "Orion Edwards", "link": "https://stackoverflow.com/users/234/orion-edwards"}, "edited": false, "score": 3, "creation_date": 1595891409, "post_id": 61774164, "comment_id": 111625888, "body": "It also allocates a new temporary Int Array which will cause GC pressure if this is inside a loop, and is about 100x slower than the 1 || 2 - but this probably doesn&#39;t matter for most code"}], "tags": [], "owner": {"reputation": 10104, "user_id": 111794, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c209be384649abcc5a4bf8babb132572?s=128&d=identicon&r=PG", "display_name": "Zev Spitz", "link": "https://stackoverflow.com/users/111794/zev-spitz"}, "is_accepted": false, "score": 45, "last_activity_date": 1605229528, "last_edit_date": 1605229528, "creation_date": 1589371435, "answer_id": 61774164, "question_id": 56676260, "link": "https://stackoverflow.com/questions/56676260/c-8-switch-expression-with-multiple-cases-with-same-result/61774164#61774164", "title": "C# 8 switch expression with multiple cases with same result", "body": "<p>C# 9 supports the following:</p>\n<pre><code>var switchValue = 3;\nvar resultText = switchValue switch\n{\n    1 or 2 or 3 =&gt; &quot;one, two, or three&quot;,\n    4 =&gt; &quot;four&quot;,\n    5 =&gt; &quot;five&quot;,\n    _ =&gt; &quot;unknown&quot;,\n};\n</code></pre>\n<p>Alternatively:</p>\n<pre><code>var switchValue = 3;\nvar resultText = switchValue switch\n{\n    &gt;= 1 and &lt;= 3 =&gt; &quot;one, two, or three&quot;,\n    4 =&gt; &quot;four&quot;,\n    5 =&gt; &quot;five&quot;,\n    _ =&gt; &quot;unknown&quot;,\n};\n</code></pre>\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-9#pattern-matching-enhancements\" rel=\"noreferrer\">Source</a></p>\n<hr />\n<p>For older versions of C#, I use the following extension method:</p>\n<pre><code>public static bool In&lt;T&gt;(this T val, params T[] vals) =&gt; vals.Contains(val);\n</code></pre>\n<p>like this:</p>\n<pre><code>var switchValue = 3;\nvar resultText = switchValue switch\n{\n    var x when x.In(1, 2, 3) =&gt; &quot;one, two, or three&quot;,\n    4 =&gt; &quot;four&quot;,\n    5 =&gt; &quot;five&quot;,\n    _ =&gt; &quot;unknown&quot;,\n};\n</code></pre>\n<p>It's a little more concise than <code>when x == 1 || x == 2 || x == 3</code> and has a more natural ordering than <code>when new [] {1, 2, 3}.Contains(x)</code>.</p>\n"}], "owner": {"reputation": 1030, "user_id": 8372338, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a83HG.png?s=128&g=1", "display_name": "huzle", "link": "https://stackoverflow.com/users/8372338/huzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22688, "favorite_count": 8, "accepted_answer_id": 56676866, "answer_count": 4, "score": 101, "last_activity_date": 1606350847, "creation_date": 1560980457, "last_edit_date": 1606350847, "question_id": 56676260, "link": "https://stackoverflow.com/questions/56676260/c-8-switch-expression-with-multiple-cases-with-same-result", "title": "C# 8 switch expression with multiple cases with same result", "body": "<p>How can a switch expression be written to support multiple cases returning the same result?</p>\n<p>With C# prior to version 8, a switch may be written like so:</p>\n<pre><code>var switchValue = 3;\nvar resultText = string.Empty;\nswitch (switchValue)\n{\n    case 1:\n    case 2:\n    case 3:\n        resultText = &quot;one to three&quot;;\n        break;\n    case 4:\n        resultText = &quot;four&quot;;\n        break;\n    case 5:\n        resultText = &quot;five&quot;;\n        break;\n    default:\n        resultText = &quot;unkown&quot;;\n        break;\n}\n</code></pre>\n<p>When I am using the C# version 8, with the expression syntax, it's like so:</p>\n<pre><code>var switchValue = 3;\nvar resultText = switchValue switch\n{\n    1 =&gt; &quot;one to three&quot;,\n    2 =&gt; &quot;one to three&quot;,\n    3 =&gt; &quot;one to three&quot;,\n    4 =&gt; &quot;four&quot;,\n    5 =&gt; &quot;five&quot;,\n    _ =&gt; &quot;unknown&quot;,\n};\n</code></pre>\n<p>So my question is: How to turn the cases 1, 2 and 3 to just one switch-case-arm so the value doesn't need to be repeated?</p>\n<p><strong>Update per suggestion from &quot;<em>Rufus L</em>&quot;:</strong></p>\n<p>For my given example, this works.</p>\n<pre><code>var switchValue = 3;\nvar resultText = switchValue switch\n{\n    var x when (x &gt;= 1 &amp;&amp; x &lt;= 3) =&gt; &quot;one to three&quot;,\n    4 =&gt; &quot;four&quot;,\n    5 =&gt; &quot;five&quot;,\n    _ =&gt; &quot;unknown&quot;,\n};\n</code></pre>\n<p>But it's not exactly what I want to accomplish. This is still only one case (with a filter condition), not multiple cases yielding to the same right-hand result.</p>\n"}, {"tags": ["c#", ".net", "generics", "linq-expressions"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "is_accepted": true, "score": 1, "last_activity_date": 1560984117, "last_edit_date": 1560984117, "creation_date": 1560982385, "answer_id": 56676559, "question_id": 56676237, "link": "https://stackoverflow.com/questions/56676237/no-overload-matches-delegate-action-when-selecting-method-via-an-expression/56676559#56676559", "title": "No Overload matches delegate &#39;Action&#39; when selecting method via an expression", "body": "<p>By specifying <code>x.MethodB</code> you are actually not directly providing a delegate, but rather a so-called <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/expressions#expression-classifications\" rel=\"nofollow noreferrer\">method group</a>. Method groups can be <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/conversions#anonymous-function-conversions\" rel=\"nofollow noreferrer\">implicitly converted to a <strong>given</strong> compatible delegate type</a>.</p>\n\n<p>Thus, the compiler faces the following situation when trying to infer the generic type argument <code>T1</code> of your <code>AddMethod&lt;T1&gt;</code> method. To be able to infer <code>T1</code>, the compiler would need to know the concrete <code>Action&lt;T1&gt;</code> delegate type at hand. But all the compiler is given is a method group, not a <code>Action&lt;double&gt;</code> delegate.</p>\n\n<p>To be able to (implicitly) convert the method group to a delegate, the compiler would need to know a compatible delegate type the method group should be converted to. But the compiler would only be able to know this delegate type if it could infer <code>T1</code>, which again would require it to know the concrete <code>Action&lt;T1&gt;</code> type. Catch-22.</p>\n\n<p>A similar but simpler problem that is illustrating the same underlying issue:</p>\n\n<pre><code>static void SomeMethod&lt;T1&gt;(Action&lt;T1&gt; action) { }\n\nvar sc = new SomeClass();\nSomeMethod(sc.MethodB); // compile error, type argument cannot be inferred\n</code></pre>\n\n<p>Here, too, the compiler will be unable to infer <em>SomeMethod's</em> type parameter <code>T1</code> because it is given a method group and not an <code>Action&lt;T1&gt;</code> delegate. And it can't succeed in converting the method group into a delegate because to determine the actual concrete <code>Action&lt;T1&gt;</code> type for the conversion it would need to have a concrete <code>Action&lt;T1&gt;</code> type to infer <code>T1</code> from.</p>\n\n<p>Below a small (silly and impractical) example to show that the problem is not with the inference of <code>T1</code> itself, but with the lack of a given concrete <code>Action&lt;T1&gt;</code> delegate type from which <code>T1</code> could be inferred. Here, just an <code>Action&lt;double&gt;</code> delegate is given in the lambda expression, which in turn will allow the compiler to infer <code>T1</code>:</p>\n\n<pre><code>var sc = new SomeClass();\nAction&lt;double&gt; d = sc.MethodB;\nbuilder.AddMethod(x =&gt; d);    // Gives no error anymore\n</code></pre>\n\n<p>or, somewhat less silly:</p>\n\n<pre><code>builder.AddMethod(x =&gt; (Action&lt;double&gt;) x.MethodB);    // Gives no error anymore\n</code></pre>\n"}], "owner": {"reputation": 1264, "user_id": 9285560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/llodc.png?s=128&g=1", "display_name": "Haus", "link": "https://stackoverflow.com/users/9285560/haus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "accepted_answer_id": 56676559, "answer_count": 1, "score": 0, "last_activity_date": 1560984117, "creation_date": 1560980351, "question_id": 56676237, "link": "https://stackoverflow.com/questions/56676237/no-overload-matches-delegate-action-when-selecting-method-via-an-expression", "title": "No Overload matches delegate &#39;Action&#39; when selecting method via an expression", "body": "<p>I am trying to create a fluent API that allows selecting class methods. When attempting to select a method with a parameter, I am getting the error:</p>\n\n<p><code>No overload for 'MethodB' matches delegate 'Action'</code>.</p>\n\n<p>It seems like C# isn't automatically determining the right generic method. If I specify the generic type in the call signature, it works, but if omitted, it doesn't. Normally, if I were using this technique to select properties or fields, the generic type would be determined automatically, but I suspect C# (or Visual Studio) is not able to auto-determine the type because it is wrapped inside of an <code>Action&lt;&gt;</code>.</p>\n\n<p><strong>Is there a way I can ensure that calls to this method will not require an explicit generic type to be stated?</strong> If not, I am curious to know why.</p>\n\n<pre><code>public class Program\n{\n\n  public static void Main( string[] args )\n  {\n    var builder = new OperationBuilder&lt;SomeClass&gt;();\n    builder.AddMethod( x =&gt; x.MethodA );\n    builder.AddMethod( x =&gt; x.MethodB ); // Gives error\n    builder.AddMethod&lt;double&gt;( x =&gt; x.MethodB ); // Works correctly\n  }\n\n\n  public class OperationBuilder&lt;T&gt;\n    where T : class\n  {\n    private List&lt;MethodInfo&gt; methods;\n\n    public OperationBuilder()\n    {\n      methods = new List&lt;MethodInfo&gt;();\n    }\n\n    public OperationBuilder&lt;T&gt; AddMethod( MethodInfo method )\n    {\n      methods.Add( method );\n      return this;\n    }\n\n    public OperationBuilder&lt;T&gt; AddMethod( Expression&lt;Func&lt;T, Action&gt;&gt; expression )\n      =&gt; AddMethod( expression.GetMethodInfo() );\n\n    public OperationBuilder&lt;T&gt; AddMethod&lt;T1&gt;( Expression&lt;Func&lt;T, Action&lt;T1&gt;&gt;&gt; expression )\n      =&gt; AddMethod( expression.GetMethodInfo() );\n\n  }\n\n  public class SomeClass\n  {\n\n    public void MethodA()\n    {\n    }\n\n    public void MethodB( double value )\n    {\n    }\n\n  }\n\n}\n\npublic static class ExpressionExtensions\n{\n  public static MethodInfo GetMethodInfo&lt;TClass&gt;(\n    this Expression&lt;Func&lt;TClass, Action&gt;&gt; expression )\n    =&gt; GetMethodInfoInternal( expression );\n\n  public static MethodInfo GetMethodInfo&lt;TClass, T1&gt;(\n    this Expression&lt;Func&lt;TClass, Action&lt;T1&gt;&gt;&gt; expression )\n    =&gt; GetMethodInfoInternal( expression );\n\n  private static MethodInfo GetMethodInfoInternal( LambdaExpression expression )\n  {\n    if( !( expression.Body is UnaryExpression unary ) )\n      throw new ArgumentException(\n        \"Expression is not unary.\",\n        nameof( expression ) );\n\n    if( !( unary.Operand is MethodCallExpression methodCall ) )\n      throw new ArgumentException(\n        \"Expression is not a method call.\",\n        nameof( expression ) );\n\n    if( !( methodCall.Object is ConstantExpression constant )\n      || !( constant.Value is MethodInfo methodInfo ) )\n      throw new ArgumentException(\n        \"Expression does not contain a valid method reference.\",\n        nameof( expression ) );\n\n    return methodInfo;\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", "sql", "sql-server", "tsql"], "comments": [{"owner": {"reputation": 15914, "user_id": 1127428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pSzU4.jpg?s=128&g=1", "display_name": "Dale K", "link": "https://stackoverflow.com/users/1127428/dale-k"}, "edited": false, "score": 0, "creation_date": 1560978843, "post_id": 56675900, "comment_id": 99919068, "body": "I can&#39;t read the value from your first image - maybe post an enlarged version."}, {"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 0, "creation_date": 1560978845, "post_id": 56675900, "comment_id": 99919069, "body": "Seems like you&#39;re using a <code>datetime</code> somewhere. In older versions of SQL Server, a <code>datetime</code> ending in <code>.007</code> would have also shown <code>.007000</code> in a <code>datetime2(6)</code>, but that changed in SQL Server 2014 (if I recall correctly), and now appropriately rounds to 1/300 of a second. (<a href=\"https://dbfiddle.uk/?rdbms=sqlserver_2017&amp;fiddle=452db8c7d554386ac266bf278ece5528\" rel=\"nofollow noreferrer\">db&lt;&gt;fiddle</a> that doesn&#39;t show what I want, as it hides the precission, so you&#39;ll have to copy and paste it out.)"}, {"owner": {"reputation": 15914, "user_id": 1127428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pSzU4.jpg?s=128&g=1", "display_name": "Dale K", "link": "https://stackoverflow.com/users/1127428/dale-k"}, "edited": false, "score": 0, "creation_date": 1560978894, "post_id": 56675900, "comment_id": 99919079, "body": "And what do you mean by merged? What actual SQL are you executing?"}, {"owner": {"reputation": 833, "user_id": 2748517, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/15cedc59254c005c20bde6ffefc7846f?s=128&d=identicon&r=PG&f=1", "display_name": "VR1256", "link": "https://stackoverflow.com/users/2748517/vr1256"}, "edited": false, "score": 0, "creation_date": 1560978989, "post_id": 56675900, "comment_id": 99919116, "body": "I am using sql merge query to merge"}, {"owner": {"reputation": 7159, "user_id": 1251127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/w1M26.jpg?s=128&g=1", "display_name": "ESG", "link": "https://stackoverflow.com/users/1251127/esg"}, "edited": false, "score": 3, "creation_date": 1560979130, "post_id": 56675900, "comment_id": 99919163, "body": "What is the c# code used to insert?"}, {"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 1, "creation_date": 1560979339, "post_id": 56675900, "comment_id": 99919236, "body": "What is the datatype of <code>@CreatedOn</code>?"}, {"owner": {"reputation": 2733, "user_id": 10542581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4f5e56647a1d34f25cb334dc352a049?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/10542581/piotr"}, "edited": false, "score": 0, "creation_date": 1560979362, "post_id": 56675900, "comment_id": 99919248, "body": "In your merge SQL @CreatedOn is an SQL Variable. Please post how it is initialized."}, {"owner": {"reputation": 59343, "user_id": 2029983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0118fb43d1ce086d768e295339cf0ff4?s=128&d=identicon&r=PG", "display_name": "Larnu", "link": "https://stackoverflow.com/users/2029983/larnu"}, "edited": false, "score": 2, "creation_date": 1560980702, "post_id": 56675900, "comment_id": 99919684, "body": "Considering the lack of reply, I feel like the OP has discovered that <code>@CreatedOn</code> is a <code>datetime</code>. :/"}, {"owner": {"reputation": 2092, "user_id": 7926183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cff222c5bfb610f85712e726ee7c5f93?s=128&d=identicon&r=PG&f=1", "display_name": "SMor", "link": "https://stackoverflow.com/users/7926183/smor"}, "edited": false, "score": 0, "creation_date": 1560984387, "post_id": 56675900, "comment_id": 99920579, "body": "Perhaps the discussion <a href=\"https://social.msdn.microsoft.com/Forums/silverlight/en-US/de5dbf3e-8c95-40f4-9e31-b71f1f31983d/change-in-datetime2-implementation-in-sql-server-2016?forum=transactsql\" rel=\"nofollow noreferrer\">here</a> is related. It talks about a change in 2016 regarding increased precision when re-interpreting datetime values as datetime2."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1561006638, "post_id": 56675900, "comment_id": 99924573, "body": "<a href=\"https://stackoverflow.com/questions/56646696/how-to-avoid-loosing-precision-using-implicit-conversion-sqlparameter-with-dat/56646754#56646754\">Yesterday I&#39;ve answered a very much related question to this one, though I&#39;m not convinced it&#39;s a duplicate</a>"}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1561006782, "post_id": 56675900, "comment_id": 99924603, "body": "Also, try changing <code>DateTime2(6)</code> to <code>DateTime2(7)</code>, see if that makes a difference."}, {"owner": {"reputation": 833, "user_id": 2748517, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/15cedc59254c005c20bde6ffefc7846f?s=128&d=identicon&r=PG&f=1", "display_name": "VR1256", "link": "https://stackoverflow.com/users/2748517/vr1256"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1561035866, "post_id": 56675900, "comment_id": 99938759, "body": "@ZoharPeled i am using dapper to insert into SQL server DB and we have Inline query which gets execute using Dapper in C#. The datatype as I mentioned is DateTime in C# which I read it from a different database source(Db2) which is read correctly when I look at the Dto, but when i use inline query to Merge by passing entity values using dapper, after inline query execution the datetime2(6) in SQL server has different value in last 4 digits of nano seconds. However this is problem only with inline query and row by row insert, If I am doing BulkInsert then the dates get inserted correctly."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1561041702, "post_id": 56675900, "comment_id": 99942375, "body": "Well, if you could share the c# code it might help finding a solution."}, {"owner": {"reputation": 833, "user_id": 2748517, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/15cedc59254c005c20bde6ffefc7846f?s=128&d=identicon&r=PG&f=1", "display_name": "VR1256", "link": "https://stackoverflow.com/users/2748517/vr1256"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1561047712, "post_id": 56675900, "comment_id": 99945820, "body": "@ZoharPeled i added C# code :)"}], "owner": {"reputation": 833, "user_id": 2748517, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/15cedc59254c005c20bde6ffefc7846f?s=128&d=identicon&r=PG&f=1", "display_name": "VR1256", "link": "https://stackoverflow.com/users/2748517/vr1256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1568576633, "creation_date": 1560978712, "last_edit_date": 1568576633, "question_id": 56675900, "link": "https://stackoverflow.com/questions/56675900/datetime2-in-sql-server-merging-different-at-the-nanoseconds-precision-from-c", "title": "DateTime2 in SQL Server merging different at the nanoseconds precision from C#", "body": "<p>I am having an issue with <code>DateTime</code> inserting into SQL Server <code>DateTime2(6)</code> data type. I have a variable in C# defined as <code>Datetime</code> :</p>\n\n<pre><code>public DateTime CreatedOn { get; set; }\n</code></pre>\n\n<p>Below is the the date that I am passing to SQL Server:</p>\n\n<p><img src=\"https://user-images.githubusercontent.com/12258728/59800849-9f3fb880-92b5-11e9-866c-c0b6dc22c61c.png\" alt=\"image\"></p>\n\n<p><img src=\"https://user-images.githubusercontent.com/12258728/59800926-cdbd9380-92b5-11e9-8892-e4e071814031.png\" alt=\"image\"></p>\n\n<p>When you notice the ticks on <code>createdon</code> is ending with 786066. But I merged the above <code>datetime</code> to SQL Server and after Update I am getting different nanoseconds:</p>\n\n<p><img src=\"https://user-images.githubusercontent.com/12258728/59800573-f729ef80-92b4-11e9-87cd-d5d1fe724cf1.png\" alt=\"image\"></p>\n\n<p>The last four digits are getting changed. However when I do a Bulk copy on to the table the dates are inserted just fine. But when I merge row by row, the nano seconds are merged incorrectly.</p>\n\n<pre><code>MERGE [dbo].[ItemAttribute] as tgt\nUSING \n    (VALUES(@FK_ItemAttributeGroupCode, @ItemAttributeCode, @Name, @Description, \n            @EffectiveDate, @TerminationDate, @DataType, @DefaultString, \n            @DefaultNumeric, @DefaultDate, @FK_ItemGroupTypeCode, \n            @IsPublishable, @AttributeType, @IsAutoDelete, @IsFacilitySpecific, \n            @CreatedBy, @CreatedOn, @LastUpdatedBy, @LastUpdatedOn)) AS src ([FK_ItemAttributeGroupCode], [ItemAttributeCode], [Name], [Description], [EffectiveDate], [TerminationDate], [DataType], [DefaultString], [DefaultNumeric], [DefaultDate], [FK_ItemGroupTypeCode], [IsPublishable], [AttributeType], [IsAutoDelete], [IsFacilitySpecific], [CreatedBy], [CreatedOn], [LastUpdatedBy], [LastUpdatedOn])\n     ON tgt.[FK_ItemAttributeGroupCode] = @FK_ItemAttributeGroupCode AND tgt.[ItemAttributeCode] = @ItemAttributeCode\n\nWHEN MATCHED AND (EXISTS (SELECT TGT.[Name], TGT.[Description], TGT.[EffectiveDate], TGT.[TerminationDate], TGT.[DataType], TGT.[DefaultString], TGT.[DefaultNumeric], TGT.[DefaultDate], TGT.[FK_ItemGroupTypeCode], TGT.[IsPublishable], TGT.[AttributeType], TGT.[IsAutoDelete], TGT.[IsFacilitySpecific], TGT.[CreatedBy], TGT.[CreatedOn], TGT.[LastUpdatedBy], TGT.[LastUpdatedOn] EXCEPT SELECT @Name, @Description, @EffectiveDate, @TerminationDate, @DataType, @DefaultString, @DefaultNumeric, @DefaultDate, @FK_ItemGroupTypeCode, @IsPublishable, @AttributeType, @IsAutoDelete, @IsFacilitySpecific, @CreatedBy, @CreatedOn, @LastUpdatedBy, @LastUpdatedOn))  \n    THEN\n       UPDATE \n           SET [FK_ItemAttributeGroupCode] = @FK_ItemAttributeGroupCode, [ItemAttributeCode] = @ItemAttributeCode, [Name] = @Name, [Description] = @Description, [EffectiveDate] = @EffectiveDate, [TerminationDate] = @TerminationDate, [DataType] = @DataType, [DefaultString] = @DefaultString, [DefaultNumeric] = @DefaultNumeric, [DefaultDate] = @DefaultDate, [FK_ItemGroupTypeCode] = @FK_ItemGroupTypeCode, [IsPublishable] = @IsPublishable, [AttributeType] = @AttributeType, [IsAutoDelete] = @IsAutoDelete, [IsFacilitySpecific] = @IsFacilitySpecific, [CreatedBy] = @CreatedBy, [CreatedOn] = @CreatedOn, [LastUpdatedBy] = @LastUpdatedBy, [LastUpdatedOn] = @LastUpdatedOn\n\nWHEN NOT MATCHED \n   THEN\n      INSERT([FK_ItemAttributeGroupCode], [ItemAttributeCode], [Name], [Description], [EffectiveDate], [TerminationDate], [DataType], [DefaultString], [DefaultNumeric], [DefaultDate], [FK_ItemGroupTypeCode], [IsPublishable], [AttributeType], [IsAutoDelete], [IsFacilitySpecific], [CreatedBy], [CreatedOn], [LastUpdatedBy], [LastUpdatedOn]) \n      VALUES(@FK_ItemAttributeGroupCode, @ItemAttributeCode, @Name, @Description, @EffectiveDate, @TerminationDate, @DataType, @DefaultString, @DefaultNumeric, @DefaultDate, @FK_ItemGroupTypeCode, @IsPublishable, @AttributeType, @IsAutoDelete, @IsFacilitySpecific, @CreatedBy, @CreatedOn, @LastUpdatedBy, @LastUpdatedOn);\n</code></pre>\n\n<p>We are using SQL Server 2016.</p>\n\n<pre><code>foreach (var entity in entities)\n                {\n                    try\n                    {\n                        await conn.ExecuteAsync(sql, commandType: CommandType.Text, param: entity, commandTimeout: SQLCommandTimeOut);\n                    }\n}\n</code></pre>\n\n<p>The SQL has the above merge query, I am passing entity as parameter and CreatedOn on the entity is DateTime. However instead of looping and inserting into table, if we use BulkCopy of C#, it is inserted properly with the actual DateTime C# has up to nano seconds, but row by row insert last 4 digits of nano seconds are different if you notice above screenshots.</p>\n"}, {"tags": ["c#", "arrays", "boolean", "2d"], "comments": [{"owner": {"reputation": 1083, "user_id": 2226025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6fc6664b026b1f81cb1e3098932f0d7?s=128&d=identicon&r=PG", "display_name": "Nirjhar Vermani", "link": "https://stackoverflow.com/users/2226025/nirjhar-vermani"}, "edited": false, "score": 1, "creation_date": 1560980332, "post_id": 56675879, "comment_id": 99919568, "body": "You cannot just use Console.WriteLine on an array. You will have to look through input with x and y axis and use Console.Write(input[i][j]). Or you can do Console.WriteLine inside the loop when you assign values of true and false."}], "answers": [{"tags": [], "owner": {"reputation": 94, "user_id": 11672875, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4zp62Ca4JOI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reOVv1H6x3coGNADdTv23yiLiQdLQ/mo/photo.jpg?sz=128", "display_name": "Cufox", "link": "https://stackoverflow.com/users/11672875/cufox"}, "is_accepted": true, "score": 1, "last_activity_date": 1560980764, "creation_date": 1560980764, "answer_id": 56676318, "question_id": 56675879, "link": "https://stackoverflow.com/questions/56675879/how-do-i-write-a-2d-field-of-booleans-to-the-console/56676318#56676318", "title": "How do I write a 2D field of booleans to the console?", "body": "<p>your loops aren't working as intended! you basically have unnecessary nesting, the foreach loop is going through the whole string while the 2D array stays on the same index, also whenever an input is given the code goes to the right on the array,instead of going down.\nto fix both of those problems I'd loop through the y values first AND remove the foreach loop:</p>\n\n<pre><code>for (int y = 0; y &lt; b ; y++)\n        {\n            string s = Console.ReadLine();\n\n            for (int x = 0; x &lt; h ; x++)\n            {\n                    char c = s[x];\n\n                    if (c.Equals('.') || c.Equals('!') || c.Equals('+') || c.Equals('?'))\n                    {\n                        input[x, y] = true;\n                    }\n                    else\n                    {\n                        input[x, y] = false;\n                    }\n\n            } \n        }\n</code></pre>\n\n<p><strong>EDIT</strong>: I suggest looping through the array to write out the value, the console will just type out the Object type if you feed it to it directly.</p>\n"}], "owner": {"reputation": 3, "user_id": 11665453, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-lfAaDFrzqVk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reg8xgk9AaPOoHGW5JWDqpd3ggb6w/mo/photo.jpg?sz=128", "display_name": "Nick", "link": "https://stackoverflow.com/users/11665453/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56676318, "answer_count": 1, "score": 0, "last_activity_date": 1560980764, "creation_date": 1560978564, "last_edit_date": 1560979144, "question_id": 56675879, "link": "https://stackoverflow.com/questions/56675879/how-do-i-write-a-2d-field-of-booleans-to-the-console", "title": "How do I write a 2D field of booleans to the console?", "body": "<p>I'm having trouble with this homework assignment. In the assignment we need to calculate the shortest path from A to B using BFS. However, first I want declare a 2D field of booleans in which 'true' is a passable tile and 'false' an impassable. Only the chars: .+?! are passable all others are not.</p>\n\n<p>On the first line I declare the length and width of the plane, represented by integers h and b (ignore m). The length of the field is done correctly, the width however is not. The width should be the amount of chars equal to b.\nThis is what I have so far.</p>\n\n<pre><code>static void Main()\n{\n        int b, h;\n        string m;\n\n        string firstLine = Console.ReadLine();\n        string[] declaration = firstLine.Split(' ');\n        int.TryParse(declaration[0], out b);\n        int.TryParse(declaration[1], out h);\n        m = declaration[2];\n\n        var input = new bool[h,b];\n        for (int i = 0; i &lt; h ; i++)\n        {\n            string s = Console.ReadLine();\n\n            for (int j = 0; j &lt; b ; j++)\n            {\n                foreach( char c in s)\n                {\n\n                    if (c.Equals('.') || c.Equals('!') || c.Equals('+') || c.Equals('?'))\n                    {\n                        input[i, j] = true;\n                    }\n                    else\n                    {\n                        input[i, j] = false;\n                    }\n                }\n            } \n        }\n        Console.WriteLine(input);\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<p>An input example with the desired output:<br>\ninput:<br>\n6 6 L(ignore the L)<br>\nMMMMMM<br>\nM...?M<br>\nM....M<br>\nM+...M<br>\nM...!M<br>\nMMMMMM  </p>\n\n<p>desired output:<br>\nfalse false false false false false<br>\nfalse true true true true false<br>\nfalse true true true true false<br>\nfalse true true true true false<br>\nfalse true true true true false<br>\nfalse false false false false false  </p>\n\n<p>As of now I can still type in as many chars per line as I want and not the desired maximum b.  </p>\n\n<p>Also the console now writes System.Boolean[,]  </p>\n\n<p><strong>What am I doing wrong?</strong>  </p>\n"}, {"tags": ["c#", "permissions", "registry"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1560978359, "post_id": 56675773, "comment_id": 99918891, "body": "Error message? .."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1560978424, "post_id": 56675773, "comment_id": 99918923, "body": "Even without the message, I can make an educated guess.  It&#39;s a new security feature."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560978945, "post_id": 56675773, "comment_id": 99919098, "body": "The original line of code you have works for me. I noticed that you said <i>&quot;we can no longer write to the registry&quot;</i>, yet you have only showed code that reads from the registry. Where are you getting the error?"}, {"owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "edited": false, "score": 0, "creation_date": 1561023704, "post_id": 56675773, "comment_id": 99932026, "body": "Error message is in the text.  now giving the error: &quot;requested registry access is not allowed&quot;.  I am trying to write, however that error doesn&#39;t let me get that far.  It happens as soon as I call OpenSubKey."}], "answers": [{"comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1568329444, "post_id": 56685452, "comment_id": 102249505, "body": "Glad you got it working.  Did you upgrade the OS?  Service Pack?  There might have been a security update that could explain why it no longer works."}], "tags": [], "owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "is_accepted": true, "score": 1, "last_activity_date": 1561031770, "creation_date": 1561031770, "answer_id": 56685452, "question_id": 56675773, "link": "https://stackoverflow.com/questions/56675773/c-registry-write-no-longer-works/56685452#56685452", "title": "C# Registry write no longer works", "body": "<p>I used regedit and gave \"Everyone\" full permissions on the desired registry key.  That worked with a number of the different options listed above.  Fortunately, all the values I read and write are under one key.</p>\n"}], "owner": {"reputation": 681, "user_id": 5056011, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/474ae8471c3ea6be8648d2c48a699633?s=128&d=identicon&r=PG&f=1", "display_name": "Velocedge", "link": "https://stackoverflow.com/users/5056011/velocedge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56685452, "answer_count": 1, "score": 1, "last_activity_date": 1568329372, "creation_date": 1560978052, "last_edit_date": 1568329372, "question_id": 56675773, "link": "https://stackoverflow.com/questions/56675773/c-registry-write-no-longer-works", "title": "C# Registry write no longer works", "body": "<p>We've just noticed that we can no longer write to the registry from an C# http handler (<strong>.ashx</strong>).  I've seen many posts here but think I've exhausted every one. Big difference is that this code <strong>has been operational for years</strong> but is just now giving the error:</p>\n\n<blockquote>\n  <p>\"requested registry access is not allowed\".  </p>\n</blockquote>\n\n<p>What used to work:</p>\n\n<pre><code>regKey = Registry.LocalMachine.OpenSubKey(strPath, \n    RegistryKeyPermissionCheck.ReadWriteSubTree); \n</code></pre>\n\n<p>I've tried many other combinations all with the same result:</p>\n\n<pre><code>RegistryKey regKey = null;\nRegistryRights rights = RegistryRights.FullControl;\nregKey = thisKey.OpenSubKey(strPath, true);\nregKey = thisKey.OpenSubKey(strPath, RegistryKeyPermissionCheck.ReadWriteSubTree);\nregKey = thisKey.OpenSubKey(strPath, RegistryKeyPermissionCheck.ReadWriteSubTree, rights);\n\nif (bit64)\n{\n    regKey = RegistryKey\n        .OpenBaseKey(RegistryHive.LocalMachine, RegistryView.Registry64)\n        .OpenSubKey(strPath, RegistryKeyPermissionCheck.ReadWriteSubTree, rights);\n}\nelse\n{\n    regKey = RegistryKey\n        .OpenBaseKey(RegistryHive.LocalMachine, RegistryView.Registry32)\n        .OpenSubKey(strPath, RegistryKeyPermissionCheck.ReadWriteSubTree);\n}\n\nregKey = thisKey.OpenSubKey(strPath, RegistryKeyPermissionCheck.ReadWriteSubTree);\nregKey = thisKey.OpenSubKey(strPath, RegistryKeyPermissionCheck.ReadWriteSubTree, rights);\n</code></pre>\n\n<p>I've also tried adding an app.config file:</p>\n\n<pre><code>&lt;assembly manifestVersion=\"1.0\" xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n&lt;assemblyIdentity version=\"1.0.0.0\" name=\"MyApplication.app\"/&gt;\n &lt;trustInfo xmlns=\"urn:schemas-microsoft-com:asm.v2\"&gt;\n   &lt;security&gt;\n    &lt;requestedPrivileges xmlns=\"urn:schemas-microsoft-com:asm.v3\"&gt;\n    &lt;/requestedPrivileges&gt;\n    &lt;/security&gt;\n  &lt;/trustInfo&gt;\n&lt;/assembly&gt;\n</code></pre>\n\n<p>All fail as soon as it tries to open the subkey.  I've even set the application pool to use \"Administrator\" just to see if that helps and it doesn't.  What else can I try or what additional information can I provide?</p>\n\n<h2>EDIT #1:</h2>\n\n<p>Keep in mind that this is a <em>web</em> application.  Our desktop programs that use the same code still work fine.  The error is on <code>OpenSubKey</code> and it doesn't go further so no \"write\" code is shown.</p>\n"}, {"tags": ["c#", "memory-leaks", "uwp", "navigation"], "answers": [{"comments": [{"owner": {"reputation": 796, "user_id": 7003797, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/983309655113796/picture?type=large", "display_name": "Muhammad Azeez", "link": "https://stackoverflow.com/users/7003797/muhammad-azeez"}, "edited": false, "score": 0, "creation_date": 1561028126, "post_id": 56679235, "comment_id": 99934511, "body": "Thank you for you time. Do you mean I should call GC.Cllect() on every page or just do that to see if the page is correctly disposed?"}, {"owner": {"reputation": 796, "user_id": 7003797, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/983309655113796/picture?type=large", "display_name": "Muhammad Azeez", "link": "https://stackoverflow.com/users/7003797/muhammad-azeez"}, "edited": false, "score": 0, "creation_date": 1561028493, "post_id": 56679235, "comment_id": 99934686, "body": "I tried it out and indeed, memory consumption increases at a much slower pace, but it still does increase and it doesn&#39;t seem to be reclaimed. I will try it out in other apps to see if it solves the problem. Although I don&#39;t like invoking GC explicitly to be honest."}, {"owner": {"reputation": 3016, "user_id": 881188, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b2e3c4ff2d36944229cb631d47a4cc8c?s=128&d=identicon&r=PG", "display_name": "Juan Pablo Garcia Coello", "link": "https://stackoverflow.com/users/881188/juan-pablo-garcia-coello"}, "reply_to_user": {"reputation": 796, "user_id": 7003797, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/983309655113796/picture?type=large", "display_name": "Muhammad Azeez", "link": "https://stackoverflow.com/users/7003797/muhammad-azeez"}, "edited": false, "score": 0, "creation_date": 1561039703, "post_id": 56679235, "comment_id": 99941070, "body": "Well, for sure it has to be an internal UWP bug, because the page should be unloaded automatically. Might be it is solved in 1903 because I think in 1803 IsNavigationStackEnabled is a new property but looks like it has no effect.  What I usually do is having one instance of one kind of page and just change the viewmodel. Depends a lot of the application environment."}, {"owner": {"reputation": 796, "user_id": 7003797, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/983309655113796/picture?type=large", "display_name": "Muhammad Azeez", "link": "https://stackoverflow.com/users/7003797/muhammad-azeez"}, "edited": false, "score": 0, "creation_date": 1561043942, "post_id": 56679235, "comment_id": 99943708, "body": "Yes IsNavigationStackEnabled is addd in 1809. That shared page instance and switching VMs seems like a pretty good approach."}], "tags": [], "owner": {"reputation": 3016, "user_id": 881188, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/b2e3c4ff2d36944229cb631d47a4cc8c?s=128&d=identicon&r=PG", "display_name": "Juan Pablo Garcia Coello", "link": "https://stackoverflow.com/users/881188/juan-pablo-garcia-coello"}, "is_accepted": false, "score": 1, "last_activity_date": 1561006787, "creation_date": 1561006787, "answer_id": 56679235, "question_id": 56675628, "link": "https://stackoverflow.com/questions/56675628/uwp-navigation-memory-leak/56679235#56679235", "title": "UWP navigation memory leak", "body": "<p>I am using Windows 1803 because I have not the latest 1809 but I think it works the same, </p>\n\n<p>In the code of Page 1:</p>\n\n<pre><code> protected override void OnNavigatedFrom(NavigationEventArgs e)\n    {\n        base.OnNavigatedFrom(e);\n\n        System.GC.Collect();\n    }\n</code></pre>\n\n<p>It is another way to check if the App has to dispose the Pages. and it works.</p>\n"}], "owner": {"reputation": 796, "user_id": 7003797, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/983309655113796/picture?type=large", "display_name": "Muhammad Azeez", "link": "https://stackoverflow.com/users/7003797/muhammad-azeez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561006787, "creation_date": 1560977345, "last_edit_date": 1560978108, "question_id": 56675628, "link": "https://stackoverflow.com/questions/56675628/uwp-navigation-memory-leak", "title": "UWP navigation memory leak", "body": "<p>We have noticed that our UWP apps have memory leaks. I have investigated it and found out that when navigating to new pages, the memory gets higher and doesn't seem to go down by much even when GC runs.</p>\n\n<p>I have put together a small repro that consists of two pages:</p>\n\n<ol>\n<li>MainPage</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Page&gt;\n    &lt;Grid&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"70\" /&gt;\n            &lt;RowDefinition  /&gt;\n        &lt;/Grid.RowDefinitions&gt;\n\n        &lt;Button x:Name=\"navigateButton\" Content=\"Navigate\" HorizontalAlignment=\"Center\"\n                    Click=\"NavigateButton_Click\" /&gt;\n\n        &lt;Frame x:Name=\"mainFrame\" IsNavigationStackEnabled=\"False\"\n               Padding=\"10\" Grid.Row=\"1\" /&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public sealed partial class MainPage : Page\n    {\n        public MainPage()\n        {\n            this.InitializeComponent();\n        }\n\n        private void NavigateButton_Click(object sender, RoutedEventArgs e)\n        {\n            mainFrame.Navigate(typeof(Page1), null, new Windows.UI.Xaml.Media.Animation.DrillInNavigationTransitionInfo());\n        }\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>Page1:</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Page&gt;\n    &lt;VariableSizedWrapGrid ItemWidth=\"100\" ItemHeight=\"60\"&gt;\n        &lt;Button Padding=\"20, 10\" Content=\"Hello!\"/&gt;\n        &lt;Button Padding=\"20, 10\" Content=\"Hello!\"/&gt;\n        &lt;Button Padding=\"20, 10\" Content=\"Hello!\"/&gt;\n        &lt;Button Padding=\"20, 10\" Content=\"Hello!\"/&gt;\n        &lt;Button Padding=\"20, 10\" Content=\"Hello!\"/&gt;\n\n        &lt;!-- And 25 more buttons here --&gt;\n    &lt;/VariableSizedWrapGrid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    public sealed partial class Page1 : Page\n    {\n        public Page1()\n        {\n            this.InitializeComponent();\n        }\n\n        ~Page1()\n        {\n            Debug.WriteLine(\"Page dead :(\");\n        }\n    }\n</code></pre>\n\n<p>The full source code is available on <a href=\"https://github.com/encrypt0r/UwpMemoryLeak\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n\n<p>And you can see <a href=\"https://www.youtube.com/watch?v=elES9hkT9ok\" rel=\"nofollow noreferrer\">a video</a> of the repro.</p>\n\n<p>I have also tried out setting <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.frame.isnavigationstackenabled\" rel=\"nofollow noreferrer\">Frame.IsNavigationStackEnabled</a> to false, it doesn't help.</p>\n\n<p>What am I doing wrong here?</p>\n\n<p><a href=\"https://i.stack.imgur.com/rYC5D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rYC5D.png\" alt=\"An image of memory use after clicking on the Navigate button for a while\"></a></p>\n"}, {"tags": ["c#", "windows-services"], "comments": [{"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1560977262, "post_id": 56675572, "comment_id": 99918478, "body": "Send the close message. It&#39;s possible with the win api, not sure if there is a library around for .net. <a href=\"https://stackoverflow.com/questions/5402158/using-sendmessage-to-send-wm-close-to-another-process#8813732\" title=\"using sendmessage to send wm close to another process%238813732\">stackoverflow.com/questions/5402158/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1560977577, "post_id": 56675572, "comment_id": 99918591, "body": "Why can&#39;t the sub-processes not simply exit after saving the document? What are those sub-processes anyway? Without knowing details of the involved programs it is difficult to say anything else than &quot;<i>kill them sub processes</i>&quot;..."}, {"owner": {"reputation": 3806, "user_id": 7675833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBkWl.jpg?s=128&g=1", "display_name": "Travis Acton", "link": "https://stackoverflow.com/users/7675833/travis-acton"}, "edited": false, "score": 0, "creation_date": 1560977704, "post_id": 56675572, "comment_id": 99918647, "body": "There is a Process.Exited eventhandler in c# where you can wrap up your work before full exit. Have you explored this option?"}, {"owner": {"reputation": 1, "user_id": 11672661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154bbbc122b22f3bca352ebd60bda865?s=128&d=identicon&r=PG&f=1", "display_name": "Hockeymtl", "link": "https://stackoverflow.com/users/11672661/hockeymtl"}, "edited": false, "score": 0, "creation_date": 1560978029, "post_id": 56675572, "comment_id": 99918774, "body": "Elgonzo The main process is starting the sub process how is startung a video recording session. At some point in time later on, the main process need to notify the sub process to stop recording. This has to be done by gracefully closing the sub process (or sending ctrl-c). I am able to achieve this in a console app that is not a windows service. Also, i do not control that sub process, it&#39;s an executable from a 3rd party."}, {"owner": {"reputation": 1, "user_id": 11672661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154bbbc122b22f3bca352ebd60bda865?s=128&d=identicon&r=PG&f=1", "display_name": "Hockeymtl", "link": "https://stackoverflow.com/users/11672661/hockeymtl"}, "edited": false, "score": 0, "creation_date": 1560978148, "post_id": 56675572, "comment_id": 99918820, "body": "Travis acton i do not control the sub process, it&#39;s an executable from a 3rd party."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1560978434, "post_id": 56675572, "comment_id": 99918926, "body": "It&#39;ll be helpful if you show your code so people can get a better understanding of what you mean."}, {"owner": {"reputation": 1, "user_id": 9494461, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Iuya1NZMwRQ/AAAAAAAAAAI/AAAAAAAAfKg/NIgtCYin7vw/photo.jpg?sz=128", "display_name": "Will Hatch", "link": "https://stackoverflow.com/users/9494461/will-hatch"}, "edited": false, "score": 0, "creation_date": 1560982492, "post_id": 56675572, "comment_id": 99920164, "body": "<a href=\"https://stackoverflow.com/a/514801/9494461\">stackoverflow.com/a/514801/9494461</a> This has already been solved, Google is your friend!"}], "owner": {"reputation": 1, "user_id": 11672661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/154bbbc122b22f3bca352ebd60bda865?s=128&d=identicon&r=PG&f=1", "display_name": "Hockeymtl", "link": "https://stackoverflow.com/users/11672661/hockeymtl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560987192, "creation_date": 1560977041, "last_edit_date": 1560987192, "question_id": 56675572, "link": "https://stackoverflow.com/questions/56675572/how-to-gracefully-stop-a-subprocess-of-a-windows-service-in-c", "title": "How to gracefully stop a subprocess of a windows service in C#", "body": "<p>I have a C# Windows service that creates subprocesses. How can I stop those subprocesses gracefully from my Windows service? I have tried lot of ways without success.</p>\n\n<p>The main process is starting the sub process who is starting a video recording session. At some point the main process need to notify the sub process to stop recording. This has to be done by gracefully closing the sub process (or sending ctrl-c). I am able to achieve this in a console app but not a windows service. Also, I do not control that sub process, it's an executable from a 3rd party. </p>\n\n<p>The sub process must close gracefully since it needs to save document, terminate the process is not an option.</p>\n"}, {"tags": ["c#", "elasticsearch", "nest"], "comments": [{"owner": {"reputation": 117216, "user_id": 1831, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6Pq36.jpg?s=128&g=1", "display_name": "Russ Cam", "link": "https://stackoverflow.com/users/1831/russ-cam"}, "edited": false, "score": 0, "creation_date": 1560987783, "post_id": 56675444, "comment_id": 99921296, "body": "What version of NEST are you using, and what version of Elasticsearch are you targeting? Could you please show a <i>small, succinct but complete</i> example of what you&#39;re doing and what you&#39;re seeing?"}, {"owner": {"reputation": 473, "user_id": 2315711, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d31bfde82b25523b2d1fcb785198e23d?s=128&d=identicon&r=PG", "display_name": "Christian A", "link": "https://stackoverflow.com/users/2315711/christian-a"}, "reply_to_user": {"reputation": 117216, "user_id": 1831, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6Pq36.jpg?s=128&g=1", "display_name": "Russ Cam", "link": "https://stackoverflow.com/users/1831/russ-cam"}, "edited": false, "score": 0, "creation_date": 1561020579, "post_id": 56675444, "comment_id": 99930391, "body": "I have added more information. I hope it&#39;s enough"}], "answers": [{"tags": [], "owner": {"reputation": 473, "user_id": 2315711, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d31bfde82b25523b2d1fcb785198e23d?s=128&d=identicon&r=PG", "display_name": "Christian A", "link": "https://stackoverflow.com/users/2315711/christian-a"}, "is_accepted": true, "score": 1, "last_activity_date": 1561027355, "creation_date": 1561027355, "answer_id": 56684264, "question_id": 56675444, "link": "https://stackoverflow.com/questions/56675444/elasticsearch-c-datetime-gets-datetime-default-value/56684264#56684264", "title": "Elasticsearch c# datetime gets datetime default value", "body": "<p>So i just looked over my model again</p>\n\n<pre><code>public DateTime Timestamp { get; }\n</code></pre>\n\n<p>It did not have a setter. Adding one fixed the issue.</p>\n"}], "owner": {"reputation": 473, "user_id": 2315711, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d31bfde82b25523b2d1fcb785198e23d?s=128&d=identicon&r=PG", "display_name": "Christian A", "link": "https://stackoverflow.com/users/2315711/christian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 56684264, "answer_count": 1, "score": 1, "last_activity_date": 1561027355, "creation_date": 1560976346, "last_edit_date": 1561020549, "question_id": 56675444, "link": "https://stackoverflow.com/questions/56675444/elasticsearch-c-datetime-gets-datetime-default-value", "title": "Elasticsearch c# datetime gets datetime default value", "body": "<p>I'm currently facing an issue with my elasticsearch, when i'm trying to fetch data from it.</p>\n\n<p>I have a timestamp value that gets saved like the following:</p>\n\n<pre><code>Timestamp = DateTime.UtcNow;\n</code></pre>\n\n<p>And the Timestamp property is looking like this in my object</p>\n\n<pre><code>public DateTime Timestamp { get; }\n</code></pre>\n\n<p>When using Kibana to look at the data the timestamp has the following value:</p>\n\n<p>timestamp:June 19th 2019, 16:29:24.997</p>\n\n<p>When I try to retrieve the data with the following code:</p>\n\n<pre><code>var searchResponse = await elastic.SearchAsync&lt;SupplierPricelistStatistic&gt;(s =&gt; s\n                .From(0)\n                .Take(2000)\n                .Query(q =&gt; +q\n                    .Match(m =&gt; m\n                        .Field(f =&gt; f.SupplierId)\n                        .Query(id.ToString())\n                    )\n                )\n                .Scroll(\"10m\")\n            ).ConfigureAwait(false);\n</code></pre>\n\n<p>And loop through it like this:</p>\n\n<pre><code>var resultList = new List&lt;SupplierPricelistStatistic&gt;();\n\n        while (searchResponse.Documents.Any())\n        {\n            foreach (var doc in searchResponse.Hits)\n            {\n                resultList.Add(doc.Source);\n            }\n            searchResponse = await elastic.ScrollAsync&lt;SupplierPricelistStatistic&gt;(\"10m\", searchResponse.ScrollId);\n        }\n</code></pre>\n\n<p>All of my timestamps has the following value:</p>\n\n<p>{01-01-0001 00:00:00}</p>\n\n<p>Looking at the mapping for timestamp it looks like the following:</p>\n\n<pre><code> \"timestamp\": {\n          \"type\": \"date\"\n        }\n</code></pre>\n\n<p>I can't figure out why this is happening. Maybe i'm missing some configuration somewhere?</p>\n\n<p>EDIT:</p>\n\n<p>Upon request:</p>\n\n<p>I'm using NEST version 6.6.0 and elasticsearch 6.6.2</p>\n\n<p>Complete method for collecting data:</p>\n\n<pre><code>public async Task &lt;List&lt;SupplierPricelistStatistic&gt;&gt; GetSupplierPricelistStatistic(Guid id, IElasticClient elastic, int year, string month)\n        {\n            var searchResponse = await elastic.SearchAsync&lt;SupplierPricelistStatistic&gt;(s =&gt; s\n                .From(0)\n                .Take(2000)\n                .Query(q =&gt; +q\n                    .Match(m =&gt; m\n                        .Field(f =&gt; f.SupplierId)\n                        .Query(id.ToString())\n                    )\n                )\n                .Scroll(\"10m\")\n            ).ConfigureAwait(false);\n\n        var resultList = new List&lt;SupplierPricelistStatistic&gt;();\n\n        while (searchResponse.Documents.Any())\n        {\n            foreach (var doc in searchResponse.Hits)\n            {\n                var tempSupStat = doc.Source;\n                DateTime dateTime;\n                if (month != \"0\")\n                {\n                    int.TryParse(month, out int intMonth);\n                    dateTime = new DateTime(year, intMonth, DateTime.Now.Day);\n                    if (tempSupStat.Timestamp.Year == dateTime.Year &amp;&amp; tempSupStat.Timestamp.Month == dateTime.Month)\n                    {\n                        resultList.Add(tempSupStat);\n                    }\n                }\n                else\n                {\n                    dateTime = new DateTime(year, DateTime.Now.Month, DateTime.Now.Day);\n                    if (tempSupStat.Timestamp.Year == dateTime.Year)\n                    {\n                        resultList.Add(tempSupStat);\n                    }\n                }\n            }\n            searchResponse = await elastic.ScrollAsync&lt;SupplierPricelistStatistic&gt;(\"10m\", searchResponse.ScrollId);\n        }\n\n        return resultList;\n    }\n</code></pre>\n"}, {"tags": ["c#", "combobox", "sqlconnection", "sqldataadapter"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1560975402, "post_id": 56675215, "comment_id": 99917767, "body": "<code>comboBox3.DisplayMember = &quot;Username&quot;;</code>  You are missing the &quot;n&quot;."}, {"owner": {"reputation": 5, "user_id": 11615473, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hsHFZPtJfmE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcC8aNqWupivlPgUf2iuQ4SJrPhQ/mo/photo.jpg?sz=128", "display_name": "Codepage Cynic", "link": "https://stackoverflow.com/users/11615473/codepage-cynic"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1560975481, "post_id": 56675215, "comment_id": 99917808, "body": "Oh I&#39;m going to see if it works after"}, {"owner": {"reputation": 5, "user_id": 11615473, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hsHFZPtJfmE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcC8aNqWupivlPgUf2iuQ4SJrPhQ/mo/photo.jpg?sz=128", "display_name": "Codepage Cynic", "link": "https://stackoverflow.com/users/11615473/codepage-cynic"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1560975541, "post_id": 56675215, "comment_id": 99917832, "body": "Sadly, there is no difference"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 3, "creation_date": 1560975635, "post_id": 56675215, "comment_id": 99917868, "body": "Well, use the debugger.  Put a stop on that DataSource line and inspect that DataTable when the program stops there."}], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 3905082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3fPmU.jpg?s=128&g=1", "display_name": "\u900d\u9065\u5b50k", "link": "https://stackoverflow.com/users/3905082/%e9%80%8d%e9%81%a5%e5%ad%90k"}, "is_accepted": true, "score": 0, "last_activity_date": 1560994665, "creation_date": 1560994665, "answer_id": 56677910, "question_id": 56675215, "link": "https://stackoverflow.com/questions/56675215/how-do-i-sync-data-from-a-database-to-a-combobox/56677910#56677910", "title": "How do I sync data from a database to a combobox", "body": "<ol>\n<li>Set <code>comboBox3.ValueMember=\"USERNAME\"</code> and <code>comboBox3.DisplayMember=\"USERNAME\"</code> ,  Use \"USERNAME\", not \"Userame\", because your sql is <code>select USERNAME</code></li>\n<li>Check if <code>ds.Tables[\"Username\"].Rows.Count&gt;0</code> </li>\n</ol>\n"}], "owner": {"reputation": 5, "user_id": 11615473, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hsHFZPtJfmE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcC8aNqWupivlPgUf2iuQ4SJrPhQ/mo/photo.jpg?sz=128", "display_name": "Codepage Cynic", "link": "https://stackoverflow.com/users/11615473/codepage-cynic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56677910, "answer_count": 1, "score": 0, "last_activity_date": 1560994665, "creation_date": 1560975300, "last_edit_date": 1560982286, "question_id": 56675215, "link": "https://stackoverflow.com/questions/56675215/how-do-i-sync-data-from-a-database-to-a-combobox", "title": "How do I sync data from a database to a combobox", "body": "<p>I'm creating a form of which I have to show the data from a database into a combo box and I need help to do it, please</p>\n\n<p>I have already tried to download MySql Server, however, it only supports up to Visual Studio 2017 and I have Visual Studio 2019</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using (SqlConnection conn = new SqlConnection(@\"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename=C:\\Code\\C#\\MyFirstUI\\MyFirstUI\\LOGIN.mdf;Integrated Security=True\"))\n{\n    try\n    {\n        string query = \"select USERNAME from LOGIN\";\n        SqlDataAdapter da = new SqlDataAdapter(query, conn);\n        conn.Open();\n        DataSet ds = new DataSet();\n        da.Fill(ds, \"Username\");\n        comboBox3.DisplayMember = \"Userame\";\n        comboBox3.DataSource = ds.Tables[\"Username\"];\n    }\n    catch (Exception ex)\n    {\n        // write exception info to log or anything else\n        MessageBox.Show(ex.Message,\"Error occured!\");\n    }\n}\n</code></pre>\n\n<p>I would have expected the data from the database however, I got an output of nothing</p>\n"}, {"tags": ["c#", "xml", "serialization", "deserialization"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1560975852, "post_id": 56675184, "comment_id": 99917948, "body": "There are mixed signals in this question. Do you just want to serialize <code>DataRow</code> as XML that looks like the XML above? The reason I&#39;m confused is because you mention how you&#39;re <i>loading</i> the XML, but I don&#39;t follow what that has to do with <i>writing</i> the XML. You also mention &quot;serializing&quot; data to the class. Do you mean deserializing? If those details are relevant then they need some explanation so we can understand them. If they&#39;re not relevant and you just want to write the data as XML, then perhaps you could delete the irrelevant parts to avoid confusion."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1560976186, "post_id": 56675184, "comment_id": 99918087, "body": "Do you want to serialize <code>XML</code> to an object or the other way round?"}, {"owner": {"reputation": 1642, "user_id": 1991118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d12dd19c053c9ebe7acb50a6245a1917?s=128&d=identicon&r=PG", "display_name": "mo_maat", "link": "https://stackoverflow.com/users/1991118/mo-maat"}, "reply_to_user": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1560977826, "post_id": 56675184, "comment_id": 99918693, "body": "@ScottHannen I see your confusion.  Yes, I want to serialize <code>DataRow</code> as XML that looks like the XML template. By loading the XML I just meant I was doing that to work on a way to find a solution.  Yes, I mean deserializing data to the class. That was a typo."}], "owner": {"reputation": 1642, "user_id": 1991118, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d12dd19c053c9ebe7acb50a6245a1917?s=128&d=identicon&r=PG", "display_name": "mo_maat", "link": "https://stackoverflow.com/users/1991118/mo-maat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1560977413, "answer_count": 0, "score": 1, "last_activity_date": 1560998382, "creation_date": 1560975145, "last_edit_date": 1560998382, "question_id": 56675184, "link": "https://stackoverflow.com/questions/56675184/deserialize-object-to-complex-xml", "closed_reason": "Duplicate", "title": "Deserialize object to complex XML", "body": "<p>I realize that there is a similar question here: <a href=\"https://stackoverflow.com/questions/10518372/how-to-deserialize-xml-to-object\">How to deserialize xml to object</a></p>\n\n<p>But this is not the same.  In my case the object I am trying to deserialize is not xml, it is a class that represents data I would like to assign to my xml.</p>\n\n<p>I have xml data that looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;grouping&gt;\n   &lt;item&gt;\n      &lt;book&gt;book text&lt;/book&gt;\n      &lt;title&gt;title text&lt;/title&gt;\n      &lt;genre&gt;\n         &lt;subitem&gt;subitem name&lt;/subitem&gt;\n      &lt;/genre&gt;\n   &lt;/item&gt;\n   &lt;part&gt;\n      &lt;name&gt;Doe, John/name&gt;\n      &lt;description&gt;desc text&lt;/description&gt;\n      &lt;detail&gt;detail text&lt;/detail&gt;\n   &lt;/part&gt;\n&lt;/grouping&gt;\n</code></pre>\n\n<p>I have class that looks like this:</p>\n\n<pre><code>public class DataRow{\n   public string book;\n   public string title;\n   public string subitem;\n   public string name;\n   public string description;\n   public string detail;\n}\n</code></pre>\n\n<p>I'm deserializing my data base data to the class so that I have an instance of it such as <code>dr</code>.  I can now do <code>dr.book</code>,<code>dr.title</code>, etc...</p>\n\n<p>How can I deserialize my DataRow class instance (<code>dr</code>) to the XML?   </p>\n"}, {"tags": ["c#", ".net", "wcf-binding", "class-library", "wcf-endpoint"], "answers": [{"comments": [{"owner": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561032594, "post_id": 56682526, "comment_id": 99936770, "body": "Thanks.  That didn&#39;t do anything in my project.  I changed the instantiation of the service client in the BLL to use the name of the endpoint and I got the same error.  Here&#39;s the new code: shipClient = new ShipServiceClient(&quot;NetTcpBinding_IShipService&quot;);"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561368451, "post_id": 56682526, "comment_id": 100026171, "body": "Does the BLL project is your main project or the class library project? if the class library, it won&#39;t work. you have to call the service properly by adding service reference in your main project. Have you tried to call the service in a separate a project(by adding service reference)?"}, {"owner": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561391317, "post_id": 56682526, "comment_id": 100038930, "body": "The class library is in it&#39;s own solution (it&#39;s deployed and I have no access to change it).  The solution I&#39;m working on has a main project and a BLL project.  The service is called from the BLL.  There is a service reference in the BLL."}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561431272, "post_id": 56682526, "comment_id": 100050818, "body": "Then you got the error in your main project when you invoke the method that is defined in the BLL project, Do you? If it does, I suggest we could invoke the service in our main project instead of the BLL project. this is the simplest way to complete this. Alternatively, we could call it in the BLL project and copy the system.ServiceModel section of the BLL project\u2019s config(app.config/web.config) to the main project."}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561431816, "post_id": 56682526, "comment_id": 100050901, "body": "Besides, we could invoke the service by using ChannelFactory, with which we could hardcode the service configuration in the code. It could not cause the configuration confusion."}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561431862, "post_id": 56682526, "comment_id": 100050911, "body": "<a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/feature-details/how-to-use-the-channelfactory\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/wcf/feature-detail&zwnj;&#8203;s/&hellip;</a>"}, {"owner": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561660144, "post_id": 56682526, "comment_id": 100148122, "body": "Thank you for the replies.  I&#39;m not sure what you&#39;re saying.  The error I&#39;m getting is in the main project when I open MainForm.cs in the designer.  I&#39;ve tried copying the ServiceModel section of the BLL project&#39;s config to the main project&#39;s config, but I get the same result.  There seems to be something happening at design time that doesn&#39;t have the correct credentials, but I don&#39;t know how to trace it down."}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561947222, "post_id": 56682526, "comment_id": 100211093, "body": "I mean, we call the service directly in the main project, will this eliminate the exception? First remove the reference to the BLL project, then add a reference to the WCF service in the main project, can this solve the problem?"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "edited": false, "score": 0, "creation_date": 1561947892, "post_id": 56682526, "comment_id": 100211178, "body": "In my opinion, this is VS IDE problem. The designer does not load correctly because of the local cache. so I advise you to call the service by adding service reference in the main project instead of refer to the BLL project. Alternatively, we could also use ChannelFactory directly in the main project to invoke the service. Because its configuration is set up in code."}], "tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": false, "score": 1, "last_activity_date": 1561021353, "creation_date": 1561021353, "answer_id": 56682526, "question_id": 56675167, "link": "https://stackoverflow.com/questions/56675167/why-do-i-get-a-design-time-error-saying-could-not-find-default-endpoint-element/56682526#56682526", "title": "Why do I get a design time error saying &quot;could not find default endpoint element&quot;?", "body": "<p>By default, when we invoke the service by adding service reference in the class library project, there might be something amiss during cooperating with the main project.  The service proxy only uses the main project configuration (<strong>Appconfig</strong>) instead of the previous configuration that is auto-generated in the class library project.  In order to make it work properly, we have to move the ServiceModel section in the class library project into the configuration file recognized by the hosting environment, namely the main project configuration file.<br>\n<a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/deploying-a-wcf-library-project\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/wcf/deploying-a-wcf-library-project</a><br>\nIn your actual scenario, the process of instance a client proxy will try to find the client endpoint, related binding property, etc.  This might come to a trouble. We could use the name of the endpoint to instance the client proxy, provided that the configuration is recognized by the main project.</p>\n\n<blockquote>\n  <p>NetTcpBinding_IShipService</p>\n</blockquote>\n\n<pre><code> ServiceReference1.Service1Client client = new  ServiceReference1.Service1Client(\"NetTcpBinding_IShipService\");\n</code></pre>\n\n<p>Feel free to let me know if there is anything I can help with.</p>\n"}], "owner": {"reputation": 1738, "user_id": 1562998, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/7c99b0e0420642abfe945e8c32cdae7f?s=128&d=identicon&r=PG", "display_name": "boilers222", "link": "https://stackoverflow.com/users/1562998/boilers222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561021353, "creation_date": 1560975048, "question_id": 56675167, "link": "https://stackoverflow.com/questions/56675167/why-do-i-get-a-design-time-error-saying-could-not-find-default-endpoint-element", "title": "Why do I get a design time error saying &quot;could not find default endpoint element&quot;?", "body": "<p>We have a Windows Form, C#, .NET 4.5.1 application that calls a class library also in C# and 4.5.1.  It's worked for years without a problem.  This week when I tried to make a change I've run in to a strange error and a strange work around.  I'd love to know what is going on if someone could explain it.</p>\n\n<p>So the error I'm getting is on the main form.  The error is \"Could not find default endpoint element that references contract 'ShipService.IShipService' in the ServiceModel client confirmation section.  This might be because no configuration file was found in your application, or because no endpoint element matching hihs contract could be found in the client element.\"</p>\n\n<p>I've found multiple links (see <a href=\"https://stackoverflow.com/questions/352654/could-not-find-default-endpoint-element\">here</a>, <a href=\"https://forums.asp.net/t/2031874.aspx?Could%20not%20find%20default%20endpoint%20element%20that%20references%20contract%20in%20the%20ServiceModel%20client%20configuration%20section%20\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/7ac5f2ef-cfd7-406a-a90e-0b43805334ae/could-not-find-default-endpoint-element-that-references-contract-in-the-servicemodel-client?forum=vbgeneral\" rel=\"nofollow noreferrer\">here</a>) that say to make sure the config in your class library matches what's in your main program.  I tried this and was still getting the error.  I didn't find any other suggestions besides \"check your config\".</p>\n\n<p>Here's where it gets odd.  If I delete my local copy and download the code from the master branch, I'm able to run the program with no errors as long as I don't open MainForm.cs.  So, I debugged it and found the error was in the business logic layer in this method:</p>\n\n<pre><code>public void ResetShipService()\n{\n    shipClient = new ShipServiceClient();\n}\n</code></pre>\n\n<p>If I comment out the above, and instead create a new instance of ShipServiceClient instead of calling ResetShipService, everything works fine.  The program runs and I can open MainForm.cs.  I'm just moving it a different place in the same class.  I have no idea why this works or what is going on here.  Can someone explain what's going on and/or give me a better way of fixing this than just commenting out code and moving it somewhere else?</p>\n\n<p>Here's the layout of what's involved:</p>\n\n<pre><code>ShippingService - class library\n- Endpoint is net.tcp://localhost:9000/Shipping\n- I have no access to change this class library\n\nShippingApplication - Windows Form Application\n- Shipping - Main project\n    - MainForm.cs - This is the form that shows the design time error\n    - User controls\n        - ItemsControl.cs - This is a user control in MainForm.cs that calls the business logic layer\n- ShippingBusinessLogicLayer - Business logic layer\n    - ShippingBLL.cs - Calls the ShippingService class library\n</code></pre>\n\n<p>Here's the error I'm getting:\n<a href=\"https://i.stack.imgur.com/9Ap1Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9Ap1Q.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the code in the BLL where the error is coming from:</p>\n\n<pre><code>public class ShipmentBLL\n{\n    private ShipServiceClient shipClient;\n\n    public ShipmentBLL()\n    {\n        ResetShipService();\n    }\n\n    public void ResetShipService()\n    {\n        shipClient = new ShipServiceClient(); // If I comment out this, the design time error goes away\n    }\n\n    private ShipmentDTO processShipment (QuickShipmentDTO QuickShipmentDTO, bool TestShipment = false, bool RelieveInventory = true)\n    {\n        Ship ship = new Ship();\n\n        if (shipClient.InnerChannel.State == System.ServiceModel.CommunicationState.Faulted)\n        {\n            ResetShipService(); \n        }\n\n        ship = shipClient.ProcessShipment(ship, TestShipment);\n    }\n}\n</code></pre>\n\n<p>Here's the code in ItemsControl.cs that creates the instance of the BLL:</p>\n\n<pre><code>public partial class ItemsToShipControl : UserControl\n{\n    public ItemsToShipControl()\n    {\n        InitializeComponent();\n\n        shipmentBLL = new ShipmentBLL();\n    }\n}\n</code></pre>\n\n<p>Here's code from MainForm.cs designer setting up the user control:</p>\n\n<pre><code>this.ItemsToShipPane = new NTSupply.NTShipping.UserControls.ItemsControl();\nthis.Controls.Add(this.ItemsToShipPane);\nprivate UserControls.ItemsControl ItemsToShipPane;\n</code></pre>\n\n<p>Here's service model section of the app.config from the ShippingService:</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n    &lt;bindings&gt;\n        &lt;netTcpBinding&gt;\n            &lt;binding name=\"longTimeoutBinding\" receiveTimeout=\"00:30:00\" sendTimeout=\"00:30:00\"&gt;\n            &lt;/binding&gt;\n        &lt;/netTcpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;services&gt;\n       &lt;service behaviorConfiguration=\"ShippingServiceBehavior\" name=\"NTSupply.Shipping.ShipService\"&gt;\n           &lt;endpoint address=\"net.tcp://localhost:9000/Shipping\" binding=\"netTcpBinding\" bindingConfiguration=\"longTimeoutBinding\"\n      contract=\"NTSupply.Shipping.IShipService\" /&gt;\n           &lt;endpoint address=\"mex\" binding=\"mexTcpBinding\" contract=\"IMetadataExchange\" /&gt;\n           &lt;host&gt;\n               &lt;baseAddresses&gt;\n                  &lt;add baseAddress=\"net.tcp://localhost:9000/Shipping\" /&gt;\n               &lt;/baseAddresses&gt;\n           &lt;/host&gt;\n      &lt;/service&gt;\n    &lt;/services&gt;\n&lt;behaviors&gt;\n  &lt;serviceBehaviors&gt;\n    &lt;behavior name=\"ShippingServiceBehavior\"&gt;\n      &lt;serviceMetadata/&gt;\n      &lt;serviceDebug includeExceptionDetailInFaults=\"True\" /&gt;\n      &lt;dataContractSerializer maxItemsInObjectGraph=\"65536\" /&gt;\n    &lt;/behavior&gt;\n  &lt;/serviceBehaviors&gt;\n    &lt;/behaviors&gt;\n&lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>Here's the app.config from the Shipping project:</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n    &lt;bindings&gt;\n        &lt;netTcpBinding&gt;\n            &lt;binding name=\"NetTcpBinding_IShipService\" sendTimeout=\"00:30:00\" maxBufferSize=\"2147483647\" maxReceivedMessageSize=\"2147483647\" maxBufferPoolSize=\"2147483647\"/&gt;\n         &lt;/netTcpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;client&gt;\n        &lt;endpoint address=\"net.tcp://192.168.1.12:9000/Shipping\" binding=\"netTcpBinding\" bindingConfiguration=\"NetTcpBinding_IShipService\" contract=\"ShipService.IShipService\" name=\"NetTcpBinding_IShipService\"&gt;\n        &lt;/endpoint&gt;\n     &lt;/client&gt;\n&lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>Here's the app.config from the BLL:</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n&lt;bindings&gt;\n  &lt;netTcpBinding&gt;\n    &lt;binding name=\"NetTcpBinding_IShipService\" /&gt;\n  &lt;/netTcpBinding&gt;\n&lt;/bindings&gt;\n&lt;client&gt;\n  &lt;endpoint address=\"net.tcp://localhost:9000/Shipping\" binding=\"netTcpBinding\"\n            bindingConfiguration=\"NetTcpBinding_IShipService\" contract=\"ShipService.IShipService\"\n            name=\"NetTcpBinding_IShipService\"&gt;\n    &lt;identity&gt;\n      &lt;servicePrincipalName value=\"host/NTSUPSHIP.anthonymulinaro.local\" /&gt;\n    &lt;/identity&gt;\n  &lt;/endpoint&gt;\n&lt;/client&gt;\n&lt;/system.serviceModel&gt; \n</code></pre>\n"}, {"tags": ["c#", "entity-framework", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1560975170, "post_id": 56675161, "comment_id": 99917667, "body": "<code>Task&lt;User&gt; GetByCode(string code)</code> is mixing asynchronous calls with <code>.Result</code> which is bad practice. Go async all the way or don&#39;t do it at all. You could easily change that method&#39;s body to <code>return (await Filter(x =&gt; x.code == code)).FirstOrDefault();</code> or remove things like <code>Filter</code> in favor of using the DbSet types or IQueryable types directly which would be my preference. Don&#39;t abstract an abstraction."}, {"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 0, "creation_date": 1560975381, "post_id": 56675161, "comment_id": 99917757, "body": "Would this help? <a href=\"https://stackoverflow.com/questions/50788272/how-to-instantiate-a-dbcontext-in-ef-core/50788386#50788386\" title=\"how to instantiate a dbcontext in ef core\">stackoverflow.com/questions/50788272/&hellip;</a>"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1560975774, "post_id": 56675161, "comment_id": 99917918, "body": "@Igor, DbContext is leaking abstraction (leaking in technical and domain related ways). Having &quot;pure&quot; abstraction will save some headaches. But you are right - OP&#39;s implementation is just an extra (redundant) wrapper around DbContext"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1560976401, "post_id": 56675161, "comment_id": 99918180, "body": "Where exception is thrown, which line of code? Can you show <code>Filter</code> method in <code>UserDetailsRepository</code>? Error message clearly stays, that you are using already disposing object, check where repository returns &quot;not materialized&quot; query."}, {"owner": {"reputation": 10503, "user_id": 9200675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PxESv.jpg?s=128&g=1", "display_name": "pfx", "link": "https://stackoverflow.com/users/9200675/pfx"}, "edited": false, "score": 0, "creation_date": 1560977405, "post_id": 56675161, "comment_id": 99918528, "body": "Can you include the code of <code>Repository&lt;T&gt;</code> in your question?"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1560979281, "post_id": 56675161, "comment_id": 99919213, "body": "Hi and welcome to SO. Can you please post the code for the <code>Filter</code> method?"}, {"owner": {"reputation": 13, "user_id": 3378787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f090e15de4da141cda848f26067a4e?s=128&d=identicon&r=PG&f=1", "display_name": "user3378787", "link": "https://stackoverflow.com/users/3378787/user3378787"}, "edited": false, "score": 0, "creation_date": 1560979496, "post_id": 56675161, "comment_id": 99919299, "body": "Hey thanks, I have now included my Repository&lt;T&gt; and Filter method. Also know that the .Result thing isn&#39;t ideal, without it was giving me a syntax error that I need to address in the future. I did change it to put the result into a var and then returning the var also, but didn&#39;t solve this error unfortunately"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 1, "creation_date": 1560979594, "post_id": 56675161, "comment_id": 99919337, "body": "The one line that catches my eye is: <code>return await Filter(x =&gt; x.UserId == userId);</code>. Consider using <code>ToArray()</code> at the end to materialize the objects."}, {"owner": {"reputation": 13, "user_id": 3378787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f090e15de4da141cda848f26067a4e?s=128&d=identicon&r=PG&f=1", "display_name": "user3378787", "link": "https://stackoverflow.com/users/3378787/user3378787"}, "edited": false, "score": 0, "creation_date": 1560979595, "post_id": 56675161, "comment_id": 99919338, "body": "Also added extra details on the error as well, hopefully helps. thanks"}, {"owner": {"reputation": 13, "user_id": 3378787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f090e15de4da141cda848f26067a4e?s=128&d=identicon&r=PG&f=1", "display_name": "user3378787", "link": "https://stackoverflow.com/users/3378787/user3378787"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1560980071, "post_id": 56675161, "comment_id": 99919479, "body": "@JuanR Thank you, the ToArray() solved it, such a little thing was the cause of the issues! Have also corrected the .Result stuff too, realised I needed to wrap the result in parenthesis thanks to Igor"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1560980182, "post_id": 56675161, "comment_id": 99919505, "body": "@user3378787: Awesome. I posted a more detailed answer."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3378787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f090e15de4da141cda848f26067a4e?s=128&d=identicon&r=PG&f=1", "display_name": "user3378787", "link": "https://stackoverflow.com/users/3378787/user3378787"}, "edited": false, "score": 0, "creation_date": 1560980742, "post_id": 56676195, "comment_id": 99919695, "body": "thank you for the feedback and detail answer/explanation, it&#39;s been very helpful :)"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "reply_to_user": {"reputation": 13, "user_id": 3378787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f090e15de4da141cda848f26067a4e?s=128&d=identicon&r=PG&f=1", "display_name": "user3378787", "link": "https://stackoverflow.com/users/3378787/user3378787"}, "edited": false, "score": 0, "creation_date": 1561038508, "post_id": 56676195, "comment_id": 99940324, "body": "@user3378787: I am glad I was able to help. Don&#39;t forget to accept the answer. :-)"}], "tags": [], "owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "is_accepted": true, "score": 0, "last_activity_date": 1560980171, "creation_date": 1560980171, "answer_id": 56676195, "question_id": 56675161, "link": "https://stackoverflow.com/questions/56675161/issues-with-dbcontext-getting-disposed-after-multiple-calls-to-service/56676195#56676195", "title": "Issues with DbContext getting disposed after multiple calls to service", "body": "<p>I think you may be a victim of delayed execution. The following piece of code creates an instance of of <code>ApiDatabase</code> which in turn creates a new <code>ApiDbContext</code>:</p>\n\n<pre><code>public IApiDatabase Create() //in DatabaseFactory\n{\n    return new ApiDatabase(new ApiDbContext());\n}\n</code></pre>\n\n<p>I detect a code smell here, by the way, as <code>ApiDbContext</code> is disposable so you should be tracking this reference and disposing of it properly.</p>\n\n<p>Anyways, <code>ApiDatabase</code> is disposable since it's wrapped in a <code>using</code> statement, so I think the the context is being disposed after the call to <code>GetByUserId</code>:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;UserDetail&gt;&gt; GetByUserId(int userId)\n{\n    return await Filter(x =&gt; x.UserId == userId);\n}\n</code></pre>\n\n<p>Notice you are returning an enumeration. I think it may not be materialized by the time you use it, hence the error. Add a cast to an array to force materialization:</p>\n\n<pre><code>return await Filter(x =&gt; x.UserId == userId).ToArray();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": false, "score": 0, "last_activity_date": 1560980692, "creation_date": 1560980692, "answer_id": 56676302, "question_id": 56675161, "link": "https://stackoverflow.com/questions/56675161/issues-with-dbcontext-getting-disposed-after-multiple-calls-to-service/56676302#56676302", "title": "Issues with DbContext getting disposed after multiple calls to service", "body": "<p>Your problem is the signature of this method:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;UserDetail&gt;&gt; GetUserDetailsByCode(string code)\n{\n  using (var db = databaseFactory.Create())\n  {\n    return await db.UserDetails.GetByCode(code);\n  }\n}   \n</code></pre>\n\n<p><code>IEnumerable&lt;T&gt;</code> is an enumerable, which are generally lazy-evaluated. In the meantime, the <code>Task&lt;T&gt;</code> is considered complete once the enumerable is <em>defined</em> (not when it is completed). And the context is disposed once that enumerable is <em>defined</em>. You would have the same problem if the code was synchronous.</p>\n\n<p>The fix is to \"reify\" (evaluate) the enumerable before the context is disposed:</p>\n\n<pre><code>public async Task&lt;IReadOnlyCollection&lt;UserDetail&gt;&gt; GetUserDetailsByCode(string code)\n{\n  using (var db = databaseFactory.Create())\n  {\n    return await db.UserDetails.GetByCode(code).ToList();\n  }\n}   \n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 3378787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f090e15de4da141cda848f26067a4e?s=128&d=identicon&r=PG&f=1", "display_name": "user3378787", "link": "https://stackoverflow.com/users/3378787/user3378787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 56676195, "answer_count": 2, "score": 1, "last_activity_date": 1560980692, "creation_date": 1560974993, "last_edit_date": 1560979460, "question_id": 56675161, "link": "https://stackoverflow.com/questions/56675161/issues-with-dbcontext-getting-disposed-after-multiple-calls-to-service", "title": "Issues with DbContext getting disposed after multiple calls to service", "body": "<p>I am working on an API and am having problems with making multiple calls to a service and it's different methods, I have each method creating and using new DBContext (or at least that's the intention), but after the first service call the others complain that the DBContext has been disposed, I was hoping you could point me in the right direction, because as far as I can see I am creating a new context for each of these calls - obviously I am doing something wrong here, any help would be much appreciated.</p>\n\n<p>The actual error I am getting is \"Cannot access a disposed object.\"</p>\n\n<p>I know I can maybe pull the db interaction and context creation code out of the service and into the controller method here (it's a simplified example), but will need to use more services in other parts of the application and have encountered the problem there also, so would like to try and identify what is causing my problem in this example so that I can apply the fix elsewhere.</p>\n\n<p>Here are the simplified classes involved.</p>\n\n<pre><code>public class UserController : Controller\n    {\n        private readonly IUserService userService;\n\n        public UserController(IUserService userService)\n        {\n            this.userService = userService;\n        }\n\n        [HttpPost]\n        [ActionName(\"PostUserDetails\")]\n        public async Task&lt;IActionResult&gt; PostUserDetails([FromBody]UserDetailsContract userDetailsContract)\n        {\n            // this call is fine\n            var user = await userService.GetUserByCode(userDetailsContract.Code);\n\n            if (user == null)\n            {\n                return BadRequest(\"User not found\");\n            }\n\n            // this call fails with the object disposed error \n            var userDetails = await userService.GetUserDetailsByCode(userDetailsContract.Code);\n\n            if (userDetails != null)\n            {\n                return BadRequest(\"UserDetails already exists\");\n            }\n\n            // .. go on to save new entity\n\n            return Ok();\n        }\n    }\n</code></pre>\n\n<pre><code>public class UserService : IUserService\n{\n    private readonly IDatabaseFactory databaseFactory;\n\n    public UserService(IDatabaseFactory databaseFactory)\n    {\n        this.databaseFactory = databaseFactory;\n    }\n\n    public async Task&lt;User&gt; GetUserByCode(string code)\n    {\n        using (var db = databaseFactory.Create())\n        {\n            return await db.Users.GetByCode(code);\n        }\n    }\n\n    public async Task&lt;IEnumerable&lt;UserDetail&gt;&gt; GetUserDetailsByCode(string code)\n    {\n        using (var db = databaseFactory.Create())\n        {\n            return await db.UserDetails.GetByCode(code);\n        }\n    }   \n}\n</code></pre>\n\n<pre><code>public class ApiDbContext : DbContext, IApiDbContext\n{\n    public DbSet&lt;User&gt; Users { get; set; }\n\n    public DbSet&lt;UserDetail&gt; UserDetails { get; set; }\n\n    protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n    {\n        optionsBuilder.UseSqlServer(@\"Server=192.168.1.1;Database=dbname;User Id=user; Password=pwd; MultipleActiveResultSets=True;\");\n    }\n}\n</code></pre>\n\n<pre><code>public class DatabaseFactory : IDatabaseFactory\n{\n    public IApiDatabase Create()\n    {\n        return new ApiDatabase(new ApiDbContext());\n    }\n}\n</code></pre>\n\n<pre><code>public class ApiDatabase : RepositoriesBase, IApiDatabase\n{\n    private IUserRepository userRepository;\n    private IUserDetailsRepository userDetailsRepository;\n\n    public ApiDatabase(ApiDbContext context) : base(context)\n    {\n    }\n\n    public IUserRepository Users =&gt; userRepository ?? (userRepository = new UserRepository(context));\n\n    public IUserDetailsRepository UserExchange =&gt; userDetailsRepository ?? (userDetailsRepository = new UserDetailsRepository(context));\n}\n</code></pre>\n\n<pre><code>public abstract class RepositoriesBase : IRepositories\n{\n    internal readonly ApiDbContext context;\n\n    private bool isDisposing;\n\n    protected RepositoriesBase(ApiDbContext context)\n    {\n    }\n\n    public void Dispose()\n    {\n        if (!isDisposing)\n        {\n            isDisposing = true;\n            context?.Dispose();\n        }\n    }\n\n    public Task SaveChanges() =&gt; context.SaveChangesAsync();\n}\n</code></pre>\n\n<pre><code>\npublic class UserRepository : Repository&lt;User&gt;, IUserRepository\n{\n    public UserRepository(ApiDbContext context) : base(context)\n    {\n    }\n\n    public async Task&lt;User&gt; GetByCode(string code)\n    {\n        return Filter(x =&gt; x.code == code).Result.FirstOrDefault();\n    }\n}\n</code></pre>\n\n<pre><code>public class UserDetailsRepository : Repository&lt;UserDetail&gt;, IUserDetailRepository\n{\n    public UserExchangeRepository(ApiDbContext context) : base(context)\n    {\n    }\n\n    public async Task&lt;IEnumerable&lt;UserDetail&gt;&gt; GetByUserId(int userId)\n    {\n        return await Filter(x =&gt; x.UserId == userId);\n    }\n}\n</code></pre>\n\n<pre><code>public class Repository&lt;T&gt; : IRepository&lt;T&gt; where T : class, IEntity\n{\n    private readonly ApiDbContext context;\n\n    public Repository(ApiDbContext context) =&gt; this.context = context;\n\n    public async Task Add(T entity)\n    {\n        context.Set&lt;T&gt;().Add(entity);\n    }\n\n    public async Task Add(IEnumerable&lt;T&gt; entities)\n    {\n        foreach (var entity in entities)\n        {\n            context.Set&lt;T&gt;().Add(entity);\n        }\n    }\n\n    public async Task Delete(T entity)\n    {\n        context.Set&lt;T&gt;().Remove(entity);\n    }\n\n    public async Task Delete(IEnumerable&lt;T&gt; entities)\n    {\n        foreach (var entity in entities)\n        {\n            context.Set&lt;T&gt;().Remove(entity);\n        }\n    }\n\n    public async Task Delete(int id)\n    {\n        var entityToDelete = context.Set&lt;T&gt;().FirstOrDefault(e =&gt; e.Id == id);\n        if (entityToDelete != null)\n        {\n           context.Set&lt;T&gt;().Remove(entityToDelete);\n        }\n    }\n\n    public async Task Update(T entity)\n    {\n        context.Set&lt;T&gt;().Update(entity);\n    }\n\n    public async Task Edit(T entity)\n    {\n        var editedEntity = context.Set&lt;T&gt;().FirstOrDefault(e =&gt; e.Id == entity.Id);\n        editedEntity = entity;\n    }\n\n    public async Task&lt;IEnumerable&lt;T&gt;&gt; GetAll(Expression&lt;Func&lt;T, bool&gt;&gt; predicate = null)\n    {\n        var query = context.Set&lt;T&gt;().Include(context.GetIncludePaths(typeof(T)));\n\n        if (predicate != null)\n        {\n            query = query.Where(predicate);\n        }\n\n        return await query.ToListAsync();\n    }\n\n    public async Task&lt;T&gt; GetById(int id)\n    {\n        return context.Set&lt;T&gt;().FirstOrDefault(e =&gt; e.Id == id);\n    }\n\n    public async Task&lt;IEnumerable&lt;T&gt;&gt; Filter()\n    {\n        return context.Set&lt;T&gt;();\n    }\n\n    public virtual async Task&lt;IEnumerable&lt;T&gt;&gt; Filter(Func&lt;T, bool&gt; predicate)\n    {\n        return context.Set&lt;T&gt;().Where(predicate);\n    }\n\n    public async Task SaveChanges() =&gt; context.SaveChanges();\n}\n</code></pre>\n\n<p>In my DI config I have DatabaseFactory and UserService defined as singletons.</p>\n\n<blockquote>\n  <p>Error: \"Cannot access a disposed object.\"</p>\n  \n  <p>More error details: \"   at\n  Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()    at\n  Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()<br>\n  at Microsoft.EntityFrameworkCore.DbContext.get_Model()    at\n  Microsoft.EntityFrameworkCore.Internal.InternalDbSet<code>1.get_EntityType()\n  at\n  Microsoft.EntityFrameworkCore.Internal.InternalDbSet</code>1.get_EntityQueryable()\n  at\n  Microsoft.EntityFrameworkCore.Internal.InternalDbSet<code>1.System.Collections.Generic.IEnumerable&lt;TEntity&gt;.GetEnumerator()\n  at System.Linq.Enumerable.WhereEnumerableIterator</code>1.MoveNext()    at\n  System.Linq.Enumerable.Any[TSource](IEnumerable<code>1 source, Func</code>2\n  predicate)    at\n  App.Api.Controllers.UserController.PostUserDetail(UserDetailContract\n  userDetailContract) in\n  D:\\Repositories\\application\\src\\App\\Api\\Controllers\\UserController.cs:line\n  89\"</p>\n</blockquote>\n\n<p>Thank you</p>\n"}, {"tags": ["c#", "asp.net", "integration-testing", "owin"], "comments": [{"owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1560976961, "post_id": 56675136, "comment_id": 99918372, "body": "I thought the <code>WebApiConfig.Register()</code> call in my <code>Startup</code> class took care of that."}], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561641124, "post_id": 56676100, "comment_id": 100138033, "body": "Is this supposed to go inside my Tests project, or my actual API project?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561641198, "post_id": 56676100, "comment_id": 100138087, "body": "In your <code>Startup</code> class"}, {"owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561643293, "post_id": 56676100, "comment_id": 100139529, "body": "After adding that line to my <code>Startup</code> class I tried posting to one of my controllers and got this error from Postman: <code>An error occurred when trying to create a controller of type &#39;Controller&#39;. Make sure that the controller has a parameterless public constructor.</code>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561643462, "post_id": 56676100, "comment_id": 100139635, "body": "That is usually associated with an issue when creating the controller. Are you using DI with your controller?"}, {"owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561643660, "post_id": 56676100, "comment_id": 100139757, "body": "Yeah, I&#39;m using <code>Ninject</code> to inject a <code>IUnitOfWork</code> and <code>IMapper</code> into my controller, for mapping DTOs and writing records to a database."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561643862, "post_id": 56676100, "comment_id": 100139888, "body": "Then most likely one of the dependencies is not being injected correctly, causing the controller to fail when being created. recheck your startup and how you setup your API"}, {"owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561645625, "post_id": 56676100, "comment_id": 100141024, "body": "I&#39;m confused as to why <code>app.UseWebApi(config)</code> would cause some issue with DI, though."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561648525, "post_id": 56676100, "comment_id": 100142817, "body": "Can you show your <code>WebApiConfig.Register</code> and how you setup the http configuration"}, {"owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561650409, "post_id": 56676100, "comment_id": 100143909, "body": "I appended the code for the <code>WebApiConfig.Register</code> method to my question."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561650516, "post_id": 56676100, "comment_id": 100143962, "body": "Not seeing where you are using DI anywhere"}, {"owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561650715, "post_id": 56676100, "comment_id": 100144054, "body": "I have a <code>NinjectWebCommon</code> class that has a <code>Start</code> method which gets executed as soon as the application starts, and that is responsible for binding. Not sure if that would affect anything."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "edited": false, "score": 0, "creation_date": 1561650807, "post_id": 56676100, "comment_id": 100144097, "body": "yes it would affect things since it is not being called in the test. The TestServer know nothing about it. it is most likely using global configuration."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 1, "last_activity_date": 1560979666, "creation_date": 1560979666, "answer_id": 56676100, "question_id": 56675136, "link": "https://stackoverflow.com/questions/56675136/integration-testing-how-to-hit-endpoints-using-microsoft-owin-testing-testserv/56676100#56676100", "title": "Integration Testing - How to hit endpoints using Microsoft.Owin.Testing.TestServer?", "body": "<p>The web API was not configured correctly so the routes are not known to it</p>\n\n<blockquote>\n  <p>If you are self-hosting with OWIN, create a new <code>HttpConfiguration</code> instance. Perform any configuration on this instance, and then pass the instance to the <code>Owin.UseWebApi</code> extension method.</p>\n</blockquote>\n\n<pre><code>public class Startup {\n    public void Configuration(IAppBuilder app) {\n        var config = new System.Web.Http.HttpConfiguration();\n        WebApiConfig.Register(config);\n        app.UseWebApi(config); //&lt;-- THIS WAS MISSING \n    }\n}\n</code></pre>\n\n<p>Reference <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/advanced/configuring-aspnet-web-api#configuring-web-api-with-owin-self-hosting\" rel=\"nofollow noreferrer\">Configuring Web API with OWIN Self-Hosting</a></p>\n"}, {"tags": [], "owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "is_accepted": false, "score": 1, "last_activity_date": 1561656228, "creation_date": 1561656228, "answer_id": 56795980, "question_id": 56675136, "link": "https://stackoverflow.com/questions/56675136/integration-testing-how-to-hit-endpoints-using-microsoft-owin-testing-testserv/56795980#56795980", "title": "Integration Testing - How to hit endpoints using Microsoft.Owin.Testing.TestServer?", "body": "<p>It appears that my Tests project was not aware of all the DI my API was doing at startup, since all the code for that was not contained within my <code>Startup</code>'s <code>Configuration</code> method.</p>\n\n<p>In a older version of my code I had the below two lines in my <code>Configuration</code> method:</p>\n\n<pre><code>app.UseNinjectMiddleware(NinjectWebCommon.CreateKernel);\napp.UseNinjectWebApi(configuration);\n</code></pre>\n\n<p>Back when I deleted these two lines out of the <code>Configuration</code> method I did not understand why they were there. If the dependencies are bound at startup, it would seem that these two lines are just redundant.</p>\n\n<p>While that is true, in the case of referencing this <code>Startup</code> class from my Tests project, I need both of those so my Test project can handle dependencies correctly.</p>\n"}], "owner": {"reputation": 853, "user_id": 2591754, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/137c6516f428331c8fc2d3853f067aa0?s=128&d=identicon&r=PG&f=1", "display_name": "Delfino", "link": "https://stackoverflow.com/users/2591754/delfino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1561656228, "creation_date": 1560974866, "last_edit_date": 1561650231, "question_id": 56675136, "link": "https://stackoverflow.com/questions/56675136/integration-testing-how-to-hit-endpoints-using-microsoft-owin-testing-testserv", "title": "Integration Testing - How to hit endpoints using Microsoft.Owin.Testing.TestServer?", "body": "<p>I have setup a basic Web API project to test writing integration tests, with the below setup</p>\n\n<p>Startup:</p>\n\n<pre><code>using Microsoft.Owin;\nusing Owin;\n\n[assembly: OwinStartup(typeof(WebApiTest.Startup))]\n\nnamespace WebApiTest\n{\n    public class Startup\n    {\n        public void Configuration(IAppBuilder app)\n        {\n            WebApiConfig.Register(new System.Web.Http.HttpConfiguration());\n        }\n    }\n}\n</code></pre>\n\n<p>And the following controller:</p>\n\n<pre><code>using System.Web.Http;\n\nnamespace WebApiTest.Controllers\n{\n    public class TestController : ApiController\n    {\n        public IHttpActionResult Post()\n        {\n            return Ok(\"Hello, world!\");\n        }\n    }\n}\n</code></pre>\n\n<p>For my Tests project I am using <code>NUnit</code> for my testing, and have two classes: an abstract <code>BaseTest</code> class, and a <code>ControllerTests</code> class which contains one test with the intention of sending a web request out to the above <code>TestController</code>'s <code>GET</code> Action method:</p>\n\n<p>BaseTest:</p>\n\n<pre><code>using Microsoft.Owin.Testing;\nusing NUnit.Framework;\nusing System;\nusing System.Net.Http;\n\nnamespace WebApiTest.Tests\n{\n    public abstract class BaseTest : IDisposable\n    {\n        protected const string _url = \"http://localhost/\";\n        protected TestServer _server;\n\n        public void Dispose()\n        {\n            _server.Dispose();\n        }\n\n        [SetUp]\n        public void SetUp()\n        {\n            _server = TestServer.Create&lt;Startup&gt;();\n        }\n\n        protected HttpRequestMessage CreateRequest(string url, string \ncontentType, HttpMethod method)\n        {\n            HttpRequestMessage request = new HttpRequestMessage\n            {\n                RequestUri = new Uri(_url + url),\n                Method = method\n            };\n            request.Headers.Accept.Add(new \nSystem.Net.Http.Headers.MediaTypeWithQualityHeaderValue(contentType));\n            return request;\n        }\n    }\n}\n</code></pre>\n\n<p>ControllerTests:</p>\n\n<pre><code>using FluentAssertions;\nusing NUnit.Framework;\nusing System.Net;\nusing System.Net.Http;\nusing System.Threading.Tasks;\n\nnamespace WebApiTest.Tests\n{\n    [TestFixture]\n    public class ControllerTests : BaseTest\n    {\n        [Test]\n        public async Task Test1()\n        {\n            HttpRequestMessage request = CreateRequest(\"test\", \"application/json\", HttpMethod.Post);\n            HttpResponseMessage response = await _server.HttpClient.SendAsync(request);\n            response.StatusCode.Should().Be(HttpStatusCode.OK);\n        }\n    }\n}\n</code></pre>\n\n<p>The problem I am running into is that I'm not able to reach my endpoint with the call <code>await _server.HttpClient.SendAsync(request);</code> as I always get a <code>404: Not Found</code> response.</p>\n\n<p>I'm not entirely sure what I'm doing wrong, whether it be something that's not being setup property or Api routes that aren't being mapped.</p>\n\n<p><strong>update</strong>: Here is my <code>WebApiConfig.Register()</code> method for reference:</p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n{\n    config.MapHttpAttributeRoutes();\n    config.Routes.MapHttpRoute(\n        name: \"DefaultApi\",\n        routeTemplate: \"api/{controller}/{id}\",\n        defaults: new { id = RouteParameter.Optional }\n    );\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2556, "user_id": 10883465, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E5Lki7kUGF8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY1dMAbpAmyyBJtdSM1p4AdgBm_QQ/mo/photo.jpg?sz=128", "display_name": "Joelius", "link": "https://stackoverflow.com/users/10883465/joelius"}, "edited": false, "score": 0, "creation_date": 1560974888, "post_id": 56675128, "comment_id": 99917548, "body": "Do you want to use the 3 items or do you want them to be gone from your list?"}, {"owner": {"reputation": 1324, "user_id": 7231449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4GZN.jpg?s=128&g=1", "display_name": "acarlstein", "link": "https://stackoverflow.com/users/7231449/acarlstein"}, "edited": false, "score": 1, "creation_date": 1560975100, "post_id": 56675128, "comment_id": 99917634, "body": "I would advice to include some code of what you have tried. It will increase the chances of getting an answer and reduce the chances of having your question flagged and removed."}, {"owner": {"reputation": 17, "user_id": 11672507, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214932593088050/picture?type=large", "display_name": "Giacomo Arminio", "link": "https://stackoverflow.com/users/11672507/giacomo-arminio"}, "edited": false, "score": 0, "creation_date": 1560976967, "post_id": 56675128, "comment_id": 99918375, "body": "Ok thanks. Problem solved. Next time I will include some code"}, {"owner": {"reputation": 2556, "user_id": 10883465, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E5Lki7kUGF8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY1dMAbpAmyyBJtdSM1p4AdgBm_QQ/mo/photo.jpg?sz=128", "display_name": "Joelius", "link": "https://stackoverflow.com/users/10883465/joelius"}, "edited": false, "score": 0, "creation_date": 1561010064, "post_id": 56675128, "comment_id": 99925536, "body": "You should accept the answer that solved your issue, so this question gets marked as solved."}], "answers": [{"tags": [], "owner": {"reputation": 2556, "user_id": 10883465, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E5Lki7kUGF8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcY1dMAbpAmyyBJtdSM1p4AdgBm_QQ/mo/photo.jpg?sz=128", "display_name": "Joelius", "link": "https://stackoverflow.com/users/10883465/joelius"}, "is_accepted": false, "score": 3, "last_activity_date": 1560976248, "last_edit_date": 1560976248, "creation_date": 1560975121, "answer_id": 56675180, "question_id": 56675128, "link": "https://stackoverflow.com/questions/56675128/removing-first-3-items-from-a-list/56675180#56675180", "title": "Removing first 3 Items from a list", "body": "<p>You want to use <code>Take</code> or <code>Skip</code>. As mentioned in the Docs of Skip:  </p>\n\n<blockquote>\n  <p>The Take and Skip methods are functional complements. Given a sequence coll and an integer n, concatenating the results of coll.Take(n) and coll.Skip(n) yields the same sequence as coll.</p>\n</blockquote>\n\n<pre><code>// this will take the first three elements of your list.\nIEnumerable&lt;SomeThing&gt; firstThree = list.Take(3);\n</code></pre>\n\n<pre><code>// this will take all the elements except for the first three (these will be skipped).\nIEnumerable&lt;SomeThing&gt; withoutFirstThree = list.Skip(3);\n</code></pre>\n\n<p>If you want to have a <code>List</code> instead of an <code>IEnumerable</code> you can use <code>.ToList()</code> on the <code>Enumerable</code> you get back.  </p>\n\n<p>You can (and should already have) read about these methods in the docs: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.skip?view=netframework-4.8\" rel=\"nofollow noreferrer\">Skip</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.take?view=netframework-4.8\" rel=\"nofollow noreferrer\">Take</a>.</p>\n\n<pre><code>// to remove the items instead of getting the list without them, you can simply do this:\n// it will remove the first item three times resulting in removing the first three items.\nfor (int i = 0; i &lt; 3; i++)\n{\n    list.RemoveAt(0);\n}\n</code></pre>\n\n<p>As <a href=\"https://stackoverflow.com/a/56675366/10883465\">this</a> and <a href=\"https://stackoverflow.com/a/56675430/10883465\">this</a> answer already suggests, the better way to do this would be with the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.removerange?view=netframework-4.8\" rel=\"nofollow noreferrer\">RemoveRange</a> method.<br>\nGo check out those answers as well.</p>\n"}, {"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 1, "last_activity_date": 1560975976, "creation_date": 1560975976, "answer_id": 56675366, "question_id": 56675128, "link": "https://stackoverflow.com/questions/56675128/removing-first-3-items-from-a-list/56675366#56675366", "title": "Removing first 3 Items from a list", "body": "<p>Just remove first 3 items? </p>\n\n<pre><code>list.RemoveRange(0, 3);\n</code></pre>\n\n<p>Removes 3 items starting at <code>index=0</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 4, "last_activity_date": 1560976269, "creation_date": 1560976269, "answer_id": 56675430, "question_id": 56675128, "link": "https://stackoverflow.com/questions/56675128/removing-first-3-items-from-a-list/56675430#56675430", "title": "Removing first 3 Items from a list", "body": "<p>If you want to safely remove the first three items:</p>\n\n<pre><code>list.RemoveRange(0, Math.Min(3, list.Count));\n</code></pre>\n\n<p>That will remove up to three items, but won't throw an exception if there are fewer than three items in the list. If there are 0, 1, or 2 items in the list it will remove that many.</p>\n"}], "owner": {"reputation": 17, "user_id": 11672507, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214932593088050/picture?type=large", "display_name": "Giacomo Arminio", "link": "https://stackoverflow.com/users/11672507/giacomo-arminio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1560976269, "creation_date": 1560974831, "question_id": 56675128, "link": "https://stackoverflow.com/questions/56675128/removing-first-3-items-from-a-list", "title": "Removing first 3 Items from a list", "body": "<p>How can I remove n items together from a List?</p>\n\n<p>For example in a List of 10 elements I want to remove 3 items together using a for cicle</p>\n"}, {"tags": ["c#", ".net", "cucumber", "specflow", "feature-file"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5130254, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-691Kk1cBQPs/AAAAAAAAAAI/AAAAAAAAAKU/RGTz3vtiKtE/photo.jpg?sz=128", "display_name": "Vishal Mangwani", "link": "https://stackoverflow.com/users/5130254/vishal-mangwani"}, "edited": false, "score": 0, "creation_date": 1561011563, "post_id": 56676657, "comment_id": 99926099, "body": "I am just trying to compare the functioning of the two languages namely C# and Java. Thereby, I have written the same API tests in both Dotnet and Java. Which is why I just want to drive the step definitions from a single feature file for both of them.  Replicating them would be my least preferred option here."}, {"owner": {"reputation": 14662, "user_id": 3092298, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/70530902b2446a5eccb717b2d21506fb?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Burghardt", "link": "https://stackoverflow.com/users/3092298/greg-burghardt"}, "reply_to_user": {"reputation": 23, "user_id": 5130254, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-691Kk1cBQPs/AAAAAAAAAAI/AAAAAAAAAKU/RGTz3vtiKtE/photo.jpg?sz=128", "display_name": "Vishal Mangwani", "link": "https://stackoverflow.com/users/5130254/vishal-mangwani"}, "edited": false, "score": 0, "creation_date": 1561030207, "post_id": 56676657, "comment_id": 99935527, "body": "SpecFlow will only generate the C# code-behind files for feature files referenced in a project. This might sound crazy, but maybe you could create a NuGet package of your feature files. Installing the NuGet package would certainly put references to those files in your project, and then you can use the SpecFlow.exe command in <code>packages&#47;SpecFlow-VERSION&#47;tools</code> to regenerate the code behind files. I&#39;m actually wondering if you could write a &quot;post-install&quot; PowerShell script for the NuGet package that does this automatically."}, {"owner": {"reputation": 14662, "user_id": 3092298, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/70530902b2446a5eccb717b2d21506fb?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Burghardt", "link": "https://stackoverflow.com/users/3092298/greg-burghardt"}, "reply_to_user": {"reputation": 23, "user_id": 5130254, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-691Kk1cBQPs/AAAAAAAAAAI/AAAAAAAAAKU/RGTz3vtiKtE/photo.jpg?sz=128", "display_name": "Vishal Mangwani", "link": "https://stackoverflow.com/users/5130254/vishal-mangwani"}, "edited": false, "score": 1, "creation_date": 1561030242, "post_id": 56676657, "comment_id": 99935539, "body": "Here is an old Google Groups thread about a feature request to regenerate the code behind files in SpecFlow on individual files: <a href=\"https://groups.google.com/forum/#!topic/specflow/CVfBDP9nxdw\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!topic/specflow/CVfBDP9nxdw</a>"}], "tags": [], "owner": {"reputation": 14662, "user_id": 3092298, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/70530902b2446a5eccb717b2d21506fb?s=128&d=identicon&r=PG&f=1", "display_name": "Greg Burghardt", "link": "https://stackoverflow.com/users/3092298/greg-burghardt"}, "is_accepted": false, "score": 0, "last_activity_date": 1560983074, "creation_date": 1560983074, "answer_id": 56676657, "question_id": 56675016, "link": "https://stackoverflow.com/questions/56675016/is-it-possible-to-reference-feature-files-from-external-folders-in-specflow-like/56676657#56676657", "title": "Is it possible to reference feature files from external folders in Specflow like we use glue in Java with Cucumber", "body": "<p>Yes you can, but SpecFlow requires entries in the .csproj file for your test project. It will likely be a manual copy and paste operation in Visual Studio.</p>\n\n<p>Being that you have multiple APIs or applications, I find it hard to believe that the feature files are truly reusable. If they are, how can the other components be justified?</p>\n\n<p>The fact you can reuse feature files now may be coincidence only. I think this is one of the cases where copy and paste might actually prevent headaches later on.</p>\n"}], "owner": {"reputation": 23, "user_id": 5130254, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-691Kk1cBQPs/AAAAAAAAAAI/AAAAAAAAAKU/RGTz3vtiKtE/photo.jpg?sz=128", "display_name": "Vishal Mangwani", "link": "https://stackoverflow.com/users/5130254/vishal-mangwani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560983074, "creation_date": 1560974300, "question_id": 56675016, "link": "https://stackoverflow.com/questions/56675016/is-it-possible-to-reference-feature-files-from-external-folders-in-specflow-like", "title": "Is it possible to reference feature files from external folders in Specflow like we use glue in Java with Cucumber", "body": "<p>I been working on creating tests for API's. I wanted to write tests in both Java and .Net and I started of with Java using Cucumber and Rest Assured Library. Now when I am trying to write the same tests with .Net using Specflow, But I want to reuse the same feature files that the Java Project is using and write step definitions for it.</p>\n\n<p>Is it possible that I can define the location of the feature files for a Specflow project? Something like Glue with Cucumber wherein I can specify my feature files location?</p>\n\n<p>My Project has the following three folders,</p>\n\n<p>JavaTestCases\nFeatureFiles\nDotnetTestCases</p>\n\n<p>Tests in the JavaTestCases are able to refer to the feature files from FeatureFiles folder using glue but I am unable to do so for the DotnetTestCases.</p>\n\n<p>Tried researching for alternatives on Google but seems like I did not find anything as an equivalent of glue in Specflow</p>\n"}, {"tags": ["c#", "vb.net", "sharpdevelop", "code-conversion", "vb.net-to-c#"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1560974327, "post_id": 56675001, "comment_id": 99917326, "body": "Presumably the people to ask would be sharpdevelop tech support, since you seem to have found a bug in their product."}, {"owner": {"reputation": 7658, "user_id": 3195477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PK4P1.jpg?s=128&g=1", "display_name": "StayOnTarget", "link": "https://stackoverflow.com/users/3195477/stayontarget"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1560974379, "post_id": 56675001, "comment_id": 99917343, "body": "@EricLippert Thanks Eric, it wasn&#39;t immediately obvious to me that this was a bug."}, {"owner": {"reputation": 3869, "user_id": 1009546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ef706ed0517098e827bf5da5d64dfb?s=128&d=identicon&r=PG", "display_name": "battlmonstr", "link": "https://stackoverflow.com/users/1009546/battlmonstr"}, "edited": false, "score": 0, "creation_date": 1560974968, "post_id": 56675001, "comment_id": 99917578, "body": "I&#39;d try to adding parentheses around the exponentiation, and run the converter again. Or rewrite it to C# yourself. I think the meaning of this expression is <code>c * x * x</code> where <code>c = -1.0E-5</code> in <a href=\"https://en.wikipedia.org/wiki/Scientific_notation#E_notation\" rel=\"nofollow noreferrer\">E-notation</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1560974974, "post_id": 56675001, "comment_id": 99917580, "body": "My advice would be to work around the bug by changing the code to read <code>-0.00001 * x * x + 0.0004 * x + 8.3463</code>; maybe the problem is that it is getting confused by the <code>^</code> operator, which does not exist in C# as the power operator. (In C#, <code>^</code> is the XOR operator.)"}, {"owner": {"reputation": 10761, "user_id": 2592875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abcf57451cf62e63e8e191421c6709e?s=128&d=identicon&r=PG", "display_name": "TnTinMn", "link": "https://stackoverflow.com/users/2592875/tntinmn"}, "edited": false, "score": 0, "creation_date": 1560975796, "post_id": 56675001, "comment_id": 99917930, "body": "Just a stab in the dark, but is <code>result</code> an explicitly declared variable in the VB source or is the code compiled with <code>Option Explicit Off</code>."}, {"owner": {"reputation": 826, "user_id": 4438429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ddc13cb3128b3ca0a9299a717c1021?s=128&d=identicon&r=PG&f=1", "display_name": "topshot", "link": "https://stackoverflow.com/users/4438429/topshot"}, "edited": false, "score": 1, "creation_date": 1560976354, "post_id": 56675001, "comment_id": 99918160, "body": "<a href=\"http://converter.telerik.com/\" rel=\"nofollow noreferrer\">Telerik&#39;s converter</a> gives this <code>result = -Math.Pow(10, -5) * Math.Pow(x, 2) + 0.0004 * x + 8.3463;</code>"}, {"owner": {"reputation": 7658, "user_id": 3195477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PK4P1.jpg?s=128&g=1", "display_name": "StayOnTarget", "link": "https://stackoverflow.com/users/3195477/stayontarget"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1561117211, "post_id": 56675001, "comment_id": 99968763, "body": "@EricLippert I tried that but it produced the same error, thanks for the idea."}, {"owner": {"reputation": 7658, "user_id": 3195477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PK4P1.jpg?s=128&g=1", "display_name": "StayOnTarget", "link": "https://stackoverflow.com/users/3195477/stayontarget"}, "reply_to_user": {"reputation": 826, "user_id": 4438429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ddc13cb3128b3ca0a9299a717c1021?s=128&d=identicon&r=PG&f=1", "display_name": "topshot", "link": "https://stackoverflow.com/users/4438429/topshot"}, "edited": false, "score": 0, "creation_date": 1561117231, "post_id": 56675001, "comment_id": 99968773, "body": "@topshot thanks, I ended up just converting this line manually and that was pretty similar to what I used."}], "owner": {"reputation": 7658, "user_id": 3195477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/PK4P1.jpg?s=128&g=1", "display_name": "StayOnTarget", "link": "https://stackoverflow.com/users/3195477/stayontarget"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561117303, "creation_date": 1560974238, "last_edit_date": 1561117303, "question_id": 56675001, "link": "https://stackoverflow.com/questions/56675001/converting-vb-to-c-error-invalid-simplenoninvocationexpression", "title": "Converting VB to C# - error &quot;invalid SimpleNonInvocationExpression&quot;?", "body": "<p>I am using SharpDevelop 4.4 to convert some VB.NET to C# code. It produced the following error which I don't understand:</p>\n\n<pre><code>D:\\path\\ClassName.vb is not converted:\nParser found 1 error(s)\n-- line 143 col 22: invalid SimpleNonInvocationExpression\n</code></pre>\n\n<p>The line of code it complains about is:</p>\n\n<pre><code>result = -10 ^ -5 * x ^ 2 + 0.0004 * x + 8.3463\n</code></pre>\n\n<p>where <code>x</code> is a <code>Single</code>. Column 22 is the leading minus sign.</p>\n\n<p>The VB code compiles fine... what does this error message mean?</p>\n\n<hr>\n\n<p>Searching on \"SimpleNonInvocationExpression\" the only things I can find are source code to SharpDevelop or websites which are not in English that I can't read.</p>\n\n<hr>\n\n<p>EDIT: As a workaround I commented the line out, converted the code, and then manually translated the line. This was a fine workaround for a single line, but would be a disaster for many.</p>\n\n<p>The end result (as suggested by @topshot) was:</p>\n\n<pre><code>result = -Math.Pow(10, -5) * Math.Pow(x, 2) + 0.0004 * x + 8.3463;\n</code></pre>\n"}, {"tags": ["c#", "logging", "nunit", "abstraction"], "answers": [{"comments": [{"owner": {"reputation": 738, "user_id": 6891713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZoadT.png?s=128&g=1", "display_name": "eugstman", "link": "https://stackoverflow.com/users/6891713/eugstman"}, "edited": false, "score": 0, "creation_date": 1561006457, "post_id": 56675348, "comment_id": 99924522, "body": "What do you mean with build in logger? I use already log4Net to log to a file. However I do not want to reference log4net directly in my service projects as this limits the use of my services with different logging providers."}], "tags": [], "owner": {"reputation": 1551, "user_id": 2648798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vbzoy.png?s=128&g=1", "display_name": "Robert Perry", "link": "https://stackoverflow.com/users/2648798/robert-perry"}, "is_accepted": false, "score": 0, "last_activity_date": 1560975911, "creation_date": 1560975911, "answer_id": 56675348, "question_id": 56674910, "link": "https://stackoverflow.com/questions/56674910/log-to-multiple-logfiles-with-microsoft-extensions-logging-abstractions/56675348#56675348", "title": "Log to multiple Logfiles with Microsoft.Extensions.Logging.Abstractions", "body": "<p>The built in logger doesnt support file logging (although I think someone has made an extension based on the Azure Provider?) My suggestion is that if you require that level of logging - stick with Log4Net</p>\n"}, {"tags": [], "owner": {"reputation": 738, "user_id": 6891713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZoadT.png?s=128&g=1", "display_name": "eugstman", "link": "https://stackoverflow.com/users/6891713/eugstman"}, "is_accepted": true, "score": 2, "last_activity_date": 1561108238, "creation_date": 1561108238, "answer_id": 56700291, "question_id": 56674910, "link": "https://stackoverflow.com/questions/56674910/log-to-multiple-logfiles-with-microsoft-extensions-logging-abstractions/56700291#56700291", "title": "Log to multiple Logfiles with Microsoft.Extensions.Logging.Abstractions", "body": "<p>Finally I found a solution which satisfies my needs.\nI will share it in case someone else wants to do the same.</p>\n\n<p>As I alread supposed there is a possibility to achieve this with logging in a scope.\nThe scope properties have to be set in order that they can be used to log to a different file.</p>\n\n<p>For convenience I wrote an extension method:</p>\n\n<pre><code>private const string PropertyKey = \"ServiceLogger\";\nprivate const string ValueSuffix = \"ServiceLogger\";\n\npublic static void ServiceLog&lt;TCategoryName&gt;(this ILogger&lt;TCategoryName&gt; logger, LogLevel level, string message)\n{\n    using (logger.BeginScope(new[] { new KeyValuePair&lt;string, object&gt;(PropertyKey, $\"{typeof(TCategoryName).Name}{ValueSuffix}\") }))\n    {\n        logger.Log(level, message);\n    }\n}\n</code></pre>\n\n<p>And now in the service I can use:</p>\n\n<pre><code>public void MyService(ILogger&lt;MyService&gt; logger)\n{\n   // application log file\n   logger.Log(LogLevel.Information, $\"application log info\");\n   // service log file\n   logger.ServiceLog(LogLevel.Information, $\"service log info\");\n}\n</code></pre>\n\n<p>In order that this works the log4net config has to be adjusted as I want to log to a different file if the key is set. Therfore I added a new appender whith a filter for Property Key=ServiceLogger and value=MyServiceServiceLogger.</p>\n\n<p>Note if this logs should only be in one logfile we have to set an ignore filter on the general appender for the Property Key=ServiceLogger and value containing ServiceLogger.</p>\n\n<p>Example config:</p>\n\n<pre><code>&lt;log4net&gt;\n  &lt;root&gt;\n    &lt;level value=\"ALL\" /&gt;\n    &lt;appender-ref ref=\"console\" /&gt;\n    &lt;appender-ref ref=\"app_logger\" /&gt;\n    &lt;appender-ref ref=\"service_myservice_logger\" /&gt;\n  &lt;/root&gt;\n  &lt;appender name=\"console\" type=\"log4net.Appender.ConsoleAppender\"&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%2thread] %-5level %.50logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=\"app_logger\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n    &lt;file value=\"logs/application.log\" /&gt;\n    &lt;appendToFile value=\"true\" /&gt;\n    &lt;rollingStyle value=\"Date\" /&gt;\n    &lt;datePattern value=\"-yyyyMMdd\" /&gt;\n    &lt;maxSizeRollBackups value=\"5\" /&gt;\n    &lt;maximumFileSize value=\"5MB\" /&gt;\n    &lt;preserveLogFileNameExtension value=\"true\" /&gt;\n    &lt;staticLogFileName value=\"false\" /&gt;\n    &lt;filter type=\"log4net.Filter.PropertyFilter\"&gt;\n      &lt;key value=\"ServiceLogger\" /&gt;\n      &lt;regexToMatch value=\"ServiceLogger\" /&gt;\n      &lt;acceptOnMatch value=\"false\" /&gt;\n    &lt;/filter&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%2thread] %-5level %.50logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=\"service_myservice_logger\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n    &lt;file value=\"logs/my_service.log\" /&gt;\n    &lt;appendToFile value=\"true\" /&gt;\n    &lt;rollingStyle value=\"Date\" /&gt;\n    &lt;datePattern value=\"-yyyyMMdd\" /&gt;\n    &lt;maxSizeRollBackups value=\"5\" /&gt;\n    &lt;maximumFileSize value=\"5MB\" /&gt;\n    &lt;preserveLogFileNameExtension value=\"true\" /&gt;\n    &lt;staticLogFileName value=\"false\" /&gt;\n    &lt;filter type=\"log4net.Filter.PropertyFilter\"&gt;\n      &lt;Key value=\"ServiceLogger\" /&gt;\n      &lt;StringToMatch value=\"MyServiceServiceLogger\" /&gt;\n    &lt;/filter&gt;\n    &lt;filter type=\"log4net.Filter.DenyAllFilter\" /&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%2thread] %-5level %.50logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n&lt;/log4net&gt;\n</code></pre>\n"}], "owner": {"reputation": 738, "user_id": 6891713, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZoadT.png?s=128&g=1", "display_name": "eugstman", "link": "https://stackoverflow.com/users/6891713/eugstman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1267, "favorite_count": 0, "accepted_answer_id": 56700291, "answer_count": 2, "score": 1, "last_activity_date": 1561108238, "creation_date": 1560973815, "last_edit_date": 1561006345, "question_id": 56674910, "link": "https://stackoverflow.com/questions/56674910/log-to-multiple-logfiles-with-microsoft-extensions-logging-abstractions", "title": "Log to multiple Logfiles with Microsoft.Extensions.Logging.Abstractions", "body": "<p>I would like to log to different log files depending on the iformation.</p>\n\n<p>The application log file should contain general information about the application or service behavior and exceptions.</p>\n\n<p>Inside a service I would like to log to the application logfile and for stuff which is not suitable for the general logfile to a service logfile. An example for a service logfile could be the communication of a serial port. </p>\n\n<p>I have a .net core application where I initialize the Log4Net Logger:</p>\n\n<pre><code>public void Configure(..., ILoggerFactory loggerFactory, ...)\n{\n    ...\n    loggerFactory.AddLog4Net();\n    ...\n}\n</code></pre>\n\n<p>My log4net.config for the application log looks like this:</p>\n\n<pre><code> &lt;log4net&gt;\n  &lt;root&gt;\n    &lt;level value=\"ALL\" /&gt;\n    &lt;appender-ref ref=\"console\" /&gt;\n    &lt;appender-ref ref=\"file\" /&gt;\n  &lt;/root&gt;\n  &lt;appender name=\"console\" type=\"log4net.Appender.ConsoleAppender\"&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date %level %logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n  &lt;appender name=\"file\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n    &lt;file value=\"logs/application.log\" /&gt;\n    &lt;appendToFile value=\"true\" /&gt;\n    &lt;rollingStyle value=\"Date\" /&gt;\n  &lt;datePattern value=\"-yyyyMMdd\" /&gt;\n    &lt;maxSizeRollBackups value=\"5\" /&gt;\n    &lt;maximumFileSize value=\"5MB\" /&gt;\n  &lt;preserveLogFileNameExtension value=\"true\" /&gt;\n    &lt;staticLogFileName value=\"false\" /&gt;\n    &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n      &lt;conversionPattern value=\"%date [%thread] %level %logger - %message%newline\" /&gt;\n    &lt;/layout&gt;\n  &lt;/appender&gt;\n &lt;/log4net&gt;\n</code></pre>\n\n<p>I use dependency injection to use the logger in services which are implemented in .net standard 2.0 projects. These projects have a reference to the Microsoft.Extensions.Logging.Abstractions nuget package.\n<a href=\"https://github.com/aspnet/Extensions/tree/master/src/Logging/Logging.Abstractions/src\" rel=\"nofollow noreferrer\">https://github.com/aspnet/Extensions/tree/master/src/Logging/Logging.Abstractions/src</a></p>\n\n<p>Example Service</p>\n\n<pre><code>public void MyService(ILogger&lt;MyService&gt; logger)\n{\n   logger.Log(LogLevel.Information, $\"application log info\");\n   // How to log to the service log file?\n   // logger.LogServiceLog(LogLevel.Information, $\"service log info\")\n}\n</code></pre>\n\n<p>I know that i can configure log4net to log to different log files depending on the namespace. However I want to be able to use both log files.</p>\n\n<p>Is there a way to achieve this with Microsoft.Extensions.Logging.Abstractions?</p>\n\n<p>Can I log a scope to a different log file?</p>\n\n<pre><code>using (_logger.BeginScope(\"Service Scope\"))\n{\n    _logger.LogInformation(\"Service info\");\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5964438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvdWe.jpg?s=128&g=1", "display_name": "Marek Legris", "link": "https://stackoverflow.com/users/5964438/marek-legris"}, "edited": false, "score": 0, "creation_date": 1560977119, "post_id": 56675452, "comment_id": 99918426, "body": "You could gain some efficiency by leaving the coroutine itself unchanged and call StartCoroutine on GetKeyDown() and StopCoroutine on GetKeyUp()"}, {"owner": {"reputation": 1728, "user_id": 8331815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14851208419c4973d3a75f344780abf?s=128&d=identicon&r=PG&f=1", "display_name": "SourceOverflow", "link": "https://stackoverflow.com/users/8331815/sourceoverflow"}, "reply_to_user": {"reputation": 111, "user_id": 5964438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvdWe.jpg?s=128&g=1", "display_name": "Marek Legris", "link": "https://stackoverflow.com/users/5964438/marek-legris"}, "edited": false, "score": 0, "creation_date": 1560977596, "post_id": 56675452, "comment_id": 99918598, "body": "@MarekLegris Maybe, but all you&#39;re doing is changing two boolean checks (<code>GetKey</code> and <code>!running</code>) for two others (KeyUp and KeyDown), so the performance would basically only be a method call vs. Starting and Stopping a Coroutine. So, while it might be faster, it might also not be (I&#39;d need some benchmarks for that; Unless I&#39;m really missing something) and I think the code is better readable like this, and I&#39;d take that over a small performance boost."}, {"owner": {"reputation": 111, "user_id": 5964438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvdWe.jpg?s=128&g=1", "display_name": "Marek Legris", "link": "https://stackoverflow.com/users/5964438/marek-legris"}, "edited": false, "score": 0, "creation_date": 1560977699, "post_id": 56675452, "comment_id": 99918643, "body": "Rating of Readability is personal preference and I respect that, just wanted to give my take on it."}], "tags": [], "owner": {"reputation": 1728, "user_id": 8331815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14851208419c4973d3a75f344780abf?s=128&d=identicon&r=PG&f=1", "display_name": "SourceOverflow", "link": "https://stackoverflow.com/users/8331815/sourceoverflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1560976384, "creation_date": 1560976384, "answer_id": 56675452, "question_id": 56674851, "link": "https://stackoverflow.com/questions/56674851/unable-to-get-coroutine-to-start-and-stop-when-button-is-down/56675452#56675452", "title": "Unable to get coroutine to start and stop when button is down", "body": "<p>Okay, there are multiple reasons why it doesn't work:</p>\n\n<p>For one <code>running</code> is never set to <code>false</code>. Once your player pressed <code>w</code> once, it will stay <code>true</code>.\nInstead write </p>\n\n<pre><code>if (Input.GetKey(\"w\"))\n  running = true;\nelse\n  running = false;\n</code></pre>\n\n<p>Additionally you start and stop your Coroutine multiple times.\nInstead you should either check, whether the running status either changed or you should just check <code>running</code> in your coroutine.\nIt could then look like this:</p>\n\n<pre><code>void Start() {\n  running = false;\n  audioPlayCoroutine = AudioPlay();\n  StartCoroutine(audioPlayCoroutine);\n}\n\nvoid Update() {\n  if (Input.GetKey(\"w\"))\n    running = true;\n  else\n    running = false;\n}\n\nIEnumerator AudioPlay()\n{\n  while (true) {\n    if(!running)\n      yield return new WaitForSeconds(0);\n\n    int ran = Random.Range(0, 4);  \n\n    steps[ran].Play();\n\n    // if you want it to play continuously, you can use the clip length for\n    //   the sleep. This way it will start playing the next clip right after \n    //   this one is done. If you don't want that, go with your code\n    yield return new WaitForSeconds(steps[ran].clip.length);\n  }\n}\n</code></pre>\n\n<p>If your clip is actually 2 seconds long, you might also want to interrupt it from playing once your user stops pressing the button.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8019080"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560976384, "creation_date": 1560973611, "question_id": 56674851, "link": "https://stackoverflow.com/questions/56674851/unable-to-get-coroutine-to-start-and-stop-when-button-is-down", "title": "Unable to get coroutine to start and stop when button is down", "body": "<p>I am working on the walking sounds for my game, I am wanting it to play a sound and then wait and play the next. As it is walking I only want it to do this when w is pressed. I have been trying to use an Enumerator to do so but I am having issues where it will not start the function.</p>\n\n<pre><code>  private IEnumerator audioPlayCoroutine;\n\npublic AudioSource[] steps;\npublic AudioSource[] cabinSteps;\n\nprivate bool running;\n\nvoid Start()\n{\n    running = false;\n\n    audioPlayCoroutine = AudioPlay();\n}\nvoid Update()\n{\n    if (Input.GetKey(\"w\"))\n    {\n        if (running == false)\n        {\n            running = true;\n        }\n    }\n\n    if (running == true)\n    {\n        StartCoroutine(audioPlayCoroutine);\n    }\n\n    else if (running == false)\n    {\n        StopCoroutine(audioPlayCoroutine);\n    }\n\n}\nIEnumerator AudioPlay()\n{\n    int ran = Random.Range(0, 4);        \n\n    steps[ran].Play();\n\n    yield return new WaitForSeconds(2);\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 242, "user_id": 10553106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af823ff0a0b44b4743b354a464c39d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Hunter", "link": "https://stackoverflow.com/users/10553106/tim-hunter"}, "edited": false, "score": 0, "creation_date": 1560973986, "post_id": 56674798, "comment_id": 99917195, "body": "Ah, right. You may need to tell the script to look at the gameObject first. Try adding <code>gameObject.transform</code> and <code>gameObject.GetComponent</code> to your script."}, {"owner": {"reputation": 111, "user_id": 5964438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hvdWe.jpg?s=128&g=1", "display_name": "Marek Legris", "link": "https://stackoverflow.com/users/5964438/marek-legris"}, "edited": false, "score": 0, "creation_date": 1560977339, "post_id": 56674798, "comment_id": 99918504, "body": "That mustn\u2019t be necessary, usually that code would work just fine.."}], "answers": [{"tags": [], "owner": {"reputation": 2083, "user_id": 9638051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699e59e6a363089ae0059a22a8279a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Immorality", "link": "https://stackoverflow.com/users/9638051/immorality"}, "is_accepted": true, "score": 1, "last_activity_date": 1560983195, "creation_date": 1560983195, "answer_id": 56676668, "question_id": 56674798, "link": "https://stackoverflow.com/questions/56674798/i-am-getting-an-error-when-using-c-in-a-2d-unity-game-saying-that-5-of-my-name/56676668#56676668", "title": "I am getting an error when using C# in a 2D Unity game, saying that 5 of my names &quot;does not exist in the current context&quot;", "body": "<p>First of all, I recommend to put any enum definition into a separate file.</p>\n\n<p>Your error is coming from the fact that you are defining an enum inside your class and placing a <code>semicolon</code> after the definition. Removing the semicolon probably resolves your error. However as I said I recommend to put the entire enum into a seperate file. If you don't want that, I'd recommend putting the enum outside your class definition. That way it is still usable in other scripts.</p>\n\n<p>E.g</p>\n\n<pre><code>public enum MoveType\n{\n    platformer, \n    topdown\n}\n</code></pre>\n\n<p>Also try to steer clear from naming any class or enum 'type' , since Type is an existing class and easily leads to confusion and/or errors. </p>\n"}], "owner": {"reputation": 3, "user_id": 11222214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6787d56b7dbb5dfb0242666cfffecd29?s=128&d=identicon&r=PG&f=1", "display_name": "caldisney07", "link": "https://stackoverflow.com/users/11222214/caldisney07"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1392, "favorite_count": 0, "accepted_answer_id": 56676668, "answer_count": 1, "score": -2, "last_activity_date": 1560983195, "creation_date": 1560973349, "question_id": 56674798, "link": "https://stackoverflow.com/questions/56674798/i-am-getting-an-error-when-using-c-in-a-2d-unity-game-saying-that-5-of-my-name", "title": "I am getting an error when using C# in a 2D Unity game, saying that 5 of my names &quot;does not exist in the current context&quot;", "body": "<p>I am getting an error when using C# in a 2D Unity game, saying that 5 of my names \"does not exist in the current context\".</p>\n\n<p>I have tried changing the code, and finding ways online, but nothing works.</p>\n\n<p>My code is:</p>\n\n<pre><code>using UnityEngine;\n\npublic class MovementManager : MonoBehaviour\n{\npublic enum type { platformer, topDown };\n    public type moveType;\n    public float moveSpeed, jumpHeight;\n    public bool onGround = false;\n    private type platformer;\n\n    // Use this for initialization\n    void Start()\n    {\n\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        if (Input.GetAxisRaw(\"Horizontal\") &gt; 0)\n        {\n            transform.Translate(Vector2.right * Time.deltaTime * moveSpeed);\n        }\n        else if (Input.GetAxisRaw(\"Horizontal\") &lt; 0)\n        {\n            transform.Translate(Vector2.left * Time.deltaTime * moveSpeed);\n        }\n\n        if (moveType == type.platformer &amp;&amp; Input.GetAxisRaw(\"Vertical\") &gt; 0 &amp;&amp; onGround)\n        {\n            GetComponent&lt;Rigidbody2D&gt;().AddForce(Vector2.up * jumpHeight, ForceMode2D.Impulse);\n        }\n\n        if (moveType == type.topDown &amp;&amp; Input.GetAxisRaw(\"Vertical\") &gt; 0)\n        {\n            transform.Translate(Vector2.up * Time.deltaTime * moveSpeed);\n        }\n        if (moveType == type.topDown &amp;&amp; Input.GetAxisRaw(\"Vertical\") &lt; 0)\n        {\n            transform.Translate(Vector2.down * Time.deltaTime * moveSpeed);\n        }\n    }\n\n    private void OnCollisionEnter2D (Collision2D obj)\n    {\n        if (obj.gameObject.tag == \"ground\")\n        {\n            onGround = true;\n        }\n    }\n    private void OnCollisionExit2D(Collision2D obj)\n    {\n        if (obj.gameObject.tag == \"ground\")\n        {\n            onGround = false;\n        }\n    }\n}\n\n</code></pre>\n\n<p>I get 5 errors. 4 of them look the same, but they're not. (Check the numbers in brackets.) They are:</p>\n\n<p>\"Assets/Scripts/MovementManager.cs(24,13): error CS0103: The name `transform' does not exist in the current context\"</p>\n\n<p>\"Assets/Scripts/MovementManager.cs(28,13): error CS0103: The name `transform' does not exist in the current context\"</p>\n\n<p>\"Assets/Scripts/MovementManager.cs(33,13): error CS0103: The name `GetComponent' does not exist in the current context\"</p>\n\n<p>\"Assets/Scripts/MovementManager.cs(38,13): error CS0103: The name `transform' does not exist in the current context\"</p>\n\n<p>\"Assets/Scripts/MovementManager.cs(42,13): error CS0103: The name `transform' does not exist in the current context\"</p>\n"}, {"tags": ["c#", "nlog"], "comments": [{"owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "edited": false, "score": 0, "creation_date": 1561044816, "post_id": 56674727, "comment_id": 99944246, "body": "Updated my answer about remembering to correct <code>{gdc}</code> to <code>${gdc}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "is_accepted": false, "score": 1, "last_activity_date": 1570474452, "last_edit_date": 1570474452, "creation_date": 1560975180, "answer_id": 56675195, "question_id": 56674727, "link": "https://stackoverflow.com/questions/56674727/nlog-layout-renderers-dont-seem-to-work-in-configuration/56675195#56675195", "title": "NLog layout renderers don&#39;t seem to work in configuration", "body": "<p>Works as intended. FileName-property is a NLog Layout. Means it can resolve its value dynamically depending on LogEvent. When looking at the FileName-property using the debugger then you are not providing a LogEvent.</p>\n\n<p>Try doing this in a debug-watch (Remember to correct <code>{gdc}</code> to <code>${gdc}</code>)</p>\n\n<pre><code>fileTarget.FileName.Render(NLog.LogEventInfo.CreateNullEvent());\n</code></pre>\n\n<p>NLog Layout engine allows you to capture all kind of context-information, without adding it to the actual LogEvent. But can also extract <a href=\"https://github.com/NLog/NLog/wiki/Context\" rel=\"nofollow noreferrer\">context from the LogEvent</a>.</p>\n\n<p>See also <a href=\"https://nlog-project.org/config/?tab=layout-renderers\" rel=\"nofollow noreferrer\">https://nlog-project.org/config/?tab=layout-renderers</a> and <a href=\"https://nlog-project.org/config/?tab=layouts\" rel=\"nofollow noreferrer\">https://nlog-project.org/config/?tab=layouts</a></p>\n\n<p>But <code>${gdc}</code> is intended for global-variables and not for embedding layout-renderers. Instead you could configure like this:</p>\n\n<pre><code>&lt;target name=\"logfile\" xsi:type=\"File\" fileName=\"${gdc:item=logDirectory}/nlog-all-${shortdate}.txt\" ... /&gt;\n</code></pre>\n\n<p>And assign the GDC variable like this:</p>\n\n<pre><code>GlobalDiagnosticsContext.Set(\"logDirectory\", @\"c:\\\\Temp\");\n</code></pre>\n\n<p>If you absolutely need layout-renderer logic embedded in the value, then you should consider using <a href=\"https://github.com/NLog/NLog/wiki/Var-Layout-Renderer\" rel=\"nofollow noreferrer\">${var}</a> instead of <code>${gdc}</code>.</p>\n"}], "owner": {"reputation": 311, "user_id": 2811506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TBoOj.jpg?s=128&g=1", "display_name": "David Braverman", "link": "https://stackoverflow.com/users/2811506/david-braverman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570474452, "creation_date": 1560973019, "last_edit_date": 1561035534, "question_id": 56674727, "link": "https://stackoverflow.com/questions/56674727/nlog-layout-renderers-dont-seem-to-work-in-configuration", "title": "NLog layout renderers don&#39;t seem to work in configuration", "body": "<p>Using ASP.NET v4.7.2, in <code>nlog.config</code> I have this target:</p>\n\n<pre><code>&lt;target name=\"logfile\" xsi:type=\"File\" fileName=\"{gdc:item=logFileName}\" layout=\"${longdate}|${event-properties:item=EventId_Id}|${uppercase:${level}}|${logger}|${message} ${exception:format=tostring}\"/&gt;\n</code></pre>\n\n<p>In <code>Global.asax.cs:Application_Start</code> I have this:</p>\n\n<pre><code>GlobalDiagnosticsContext.Set(\"logFileName\", @\"c:\\\\Temp\\\\nlog-all-${shortdate}.txt\");\n</code></pre>\n\n<p>And just for good measure:</p>\n\n<pre><code>LogManager.Configuration = LogManager.Configuration.Reload();\n</code></pre>\n\n<p>Putting a breakpoint on the line immediately following, and digging into the <code>LogManager.Configuration</code> properties, I find that the <code>File</code> log target has this for its <code>FileName</code> property:</p>\n\n<pre><code>FileName=\"{gdc:item=logFileName}\"\n</code></pre>\n\n<p>When I write to the logger, it creates a file in the application root called--you guessed it--<code>{gdc:item=logFileName}</code>.</p>\n\n<p>In the Command window, at a breakpoint immediately following the GDC set, I executed the null log action recommended by Mr Kristensen in his answer:</p>\n\n<pre><code>((NLog.Targets.FileTarget)LogManager.Configuration.AllTargets[1]).FileName.Render(NLog.LogEventInfo.CreateNullEvent())\n</code></pre>\n\n<p>The result was <code>{gdc:item=logFileName}</code></p>\n\n<p>In other words, it looks like the GDC layout renderer isn't working.</p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["c#", ".net-core", "ftp"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 4, "creation_date": 1560973216, "post_id": 56674709, "comment_id": 99916865, "body": "Why are you using only a 2KB buffer? That was suitable 20 years ago, when computers didn&#39;t have more than 640KB of RAM installed."}, {"owner": {"reputation": 9555, "user_id": 657477, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/afa39e2f34d09e8e6efe2757ec45071b?s=128&d=identicon&r=PG", "display_name": "Guerrilla", "link": "https://stackoverflow.com/users/657477/guerrilla"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1560973337, "post_id": 56674709, "comment_id": 99916924, "body": "Could you give me an idea of how I should scale buffer to ram?  I took this from an example and wasn&#39;t sure how it would effect things so didn&#39;t change it"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1560973531, "post_id": 56674709, "comment_id": 99916995, "body": "I would double it, test it, double it, test it, etc. until you find an optimal size for your environment (stop when you stop seeing noticeable improvements but do not go into the hundreds of megabytes either)"}, {"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 1, "creation_date": 1560973955, "post_id": 56674709, "comment_id": 99917187, "body": "Or do not even use any explicit buffer. Use <code>CopyTo</code> method or even <code>WebClient.DownloadFile</code> and let the framework do it for you: <a href=\"https://stackoverflow.com/q/44606028/850848#44608535\">stackoverflow.com/q/44606028/850848#44608535</a>"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "reply_to_user": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1560974066, "post_id": 56674709, "comment_id": 99917226, "body": "What @MartinPrikryl said. If you insist on doing it yourself, start by increasing it to 16384. Change <code>int bufferSize = 16384;</code>. While you&#39;re changing that, get rid of the other 2048 and change <code>new byte[2048]</code> to <code>new byte[bufferSize];</code> That increases from a 2K buffer to a 16K buffer. You can see if that helps. If it does, try doubling it again to 32768. Repeat until it either stops working or you stop noticing a speed increase."}], "owner": {"reputation": 9555, "user_id": 657477, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/afa39e2f34d09e8e6efe2757ec45071b?s=128&d=identicon&r=PG", "display_name": "Guerrilla", "link": "https://stackoverflow.com/users/657477/guerrilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1560972918, "creation_date": 1560972918, "question_id": 56674709, "link": "https://stackoverflow.com/questions/56674709/ftp-downloading-slow", "title": "FTP Downloading slow", "body": "<p>I am downloading a file from FTP using this code:</p>\n\n<pre><code>FtpWebRequest request = (FtpWebRequest)WebRequest.Create(downloadPath);\nrequest.UsePassive = false;\nrequest.Method = WebRequestMethods.Ftp.DownloadFile;\nrequest.Credentials = new NetworkCredential(_ftpUser, _ftpPass);\nusing (var response = (FtpWebResponse)request.GetResponse())\nusing (var responseStream = response.GetResponseStream())\nusing (var writer = new FileStream(savePath, FileMode.Create))\n{\n\n    long length = response.ContentLength;\n    int bufferSize = 2048;\n    int readCount;\n    byte[] buffer = new byte[2048];\n\n    readCount = responseStream.Read(buffer, 0, bufferSize);\n    while (readCount &gt; 0)\n    {\n        writer.Write(buffer, 0, readCount);\n        readCount = responseStream.Read(buffer, 0, bufferSize);\n    }\n\n}\n</code></pre>\n\n<p>It works but the file is large and when I download the file with Filezilla client it is much much faster.</p>\n\n<p>Is this to do with the buffer size?  What ways can I make this faster?</p>\n"}, {"tags": ["c#", ".net", "xml", "wcf", "datacontract"], "comments": [{"owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "edited": false, "score": 0, "creation_date": 1560976625, "post_id": 56674593, "comment_id": 99918253, "body": "Here&#39;s the documentation on how to call a WCF service. It&#39;s probably easiest to start with the section on <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/accessing-services-using-a-wcf-client#add-service-reference-in-visual-studio\" rel=\"nofollow noreferrer\">Add Service Reference in Visual Studio</a>."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1561006971, "post_id": 56674593, "comment_id": 99924645, "body": "I don&#39;t understand why you can&#39;t do this considering you are already using data contracts and have a working WCF setup.  The rest I would have thought be easy"}], "owner": {"reputation": 1, "user_id": 11665865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29a694e79e9ab7f26fa759b561101c0?s=128&d=identicon&r=PG&f=1", "display_name": "bki124", "link": "https://stackoverflow.com/users/11665865/bki124"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560972353, "creation_date": 1560972353, "question_id": 56674593, "link": "https://stackoverflow.com/questions/56674593/how-do-i-send-a-request-to-the-application-layer-for-a-specific-file-keep-in-mi", "title": "How do I send a request to the application layer for a specific file (keep in mind we are using WCF and data contracts)?", "body": "<p>We are using WCF and Data contracts - I am not understanding how to send a request to the application layer for a specific set of data. I want to get data for a file, but I can't get it. It is not http or Webrequest either. Please help.</p>\n\n<p>I have tried Webrequest and many other options and there is nothing online to help. We are using an N-tier architecture and I am trying to figure out how to send requests to the application layer from the UI so that I can get the data sent back to me.</p>\n\n<pre><code> // generate summary of the Project Selected, if it is index 0 (CNS 41) retrieve file from application layer\n        // otherwise, retrieve the file for CJ74\n        private void btnGenerateSummary_Click(object sender, RibbonControlEventArgs e)\n        {\n            if(PMDropDown.SelectedItemIndex == 0)\n            {\n                //send request to application layer for CNS41\n                SapFileInfo request = new SapFileInfo();\n                SapFileInfo response = request.getResponse();\n\n            }\n            else\n            {\n                //send request to application layer for CJ74\n            }\n        }\n</code></pre>\n\n<p>I want to get a response from the application layer with the data from the database, which I will write into a file that will go into excel and I will format it using open XML 2.5.</p>\n"}, {"tags": ["c#", "asp.net", "excel", "telerik", "radgrid"], "comments": [{"owner": {"reputation": 584, "user_id": 10336429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fffef303f0dd6cbeddf412b13ad7c9d?s=128&d=identicon&r=PG", "display_name": "KevinLamb", "link": "https://stackoverflow.com/users/10336429/kevinlamb"}, "edited": false, "score": 0, "creation_date": 1560976735, "post_id": 56674489, "comment_id": 99918299, "body": "What version of telerik are you using? (Deleted my answer since it was not correct)"}, {"owner": {"reputation": 23, "user_id": 4930610, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-Z0aeuKSCBDc/AAAAAAAAAAI/AAAAAAAAADQ/wJVUiscQSxU/photo.jpg?sz=128", "display_name": "Jean Fredrik Leirtr&#248;", "link": "https://stackoverflow.com/users/4930610/jean-fredrik-leirtr%c3%b8"}, "reply_to_user": {"reputation": 584, "user_id": 10336429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fffef303f0dd6cbeddf412b13ad7c9d?s=128&d=identicon&r=PG", "display_name": "KevinLamb", "link": "https://stackoverflow.com/users/10336429/kevinlamb"}, "edited": false, "score": 0, "creation_date": 1561010099, "post_id": 56674489, "comment_id": 99925546, "body": "I&#39;m not enterery sure the Telerik.Web.UI.dll file says it&#39;s version 2018.3.910.45"}, {"owner": {"reputation": 584, "user_id": 10336429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fffef303f0dd6cbeddf412b13ad7c9d?s=128&d=identicon&r=PG", "display_name": "KevinLamb", "link": "https://stackoverflow.com/users/10336429/kevinlamb"}, "edited": false, "score": 0, "creation_date": 1561040412, "post_id": 56674489, "comment_id": 99941545, "body": "odd... your library should have the <code>GenerateXlsxOutput()</code> method then and shouldn&#39;t complain about it."}, {"owner": {"reputation": 23, "user_id": 4930610, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-Z0aeuKSCBDc/AAAAAAAAAAI/AAAAAAAAADQ/wJVUiscQSxU/photo.jpg?sz=128", "display_name": "Jean Fredrik Leirtr&#248;", "link": "https://stackoverflow.com/users/4930610/jean-fredrik-leirtr%c3%b8"}, "reply_to_user": {"reputation": 584, "user_id": 10336429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fffef303f0dd6cbeddf412b13ad7c9d?s=128&d=identicon&r=PG", "display_name": "KevinLamb", "link": "https://stackoverflow.com/users/10336429/kevinlamb"}, "edited": false, "score": 0, "creation_date": 1561106211, "post_id": 56674489, "comment_id": 99963454, "body": "I made a new fresh webproject and I get the same error there"}, {"owner": {"reputation": 584, "user_id": 10336429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fffef303f0dd6cbeddf412b13ad7c9d?s=128&d=identicon&r=PG", "display_name": "KevinLamb", "link": "https://stackoverflow.com/users/10336429/kevinlamb"}, "edited": false, "score": 0, "creation_date": 1561137915, "post_id": 56674489, "comment_id": 99979199, "body": "If you can, try updating your ASP.NET AJAX <code>.dll</code> files from Telerik"}], "owner": {"reputation": 23, "user_id": 4930610, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-Z0aeuKSCBDc/AAAAAAAAAAI/AAAAAAAAADQ/wJVUiscQSxU/photo.jpg?sz=128", "display_name": "Jean Fredrik Leirtr&#248;", "link": "https://stackoverflow.com/users/4930610/jean-fredrik-leirtr%c3%b8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1561051345, "creation_date": 1560971897, "last_edit_date": 1561051345, "question_id": 56674489, "link": "https://stackoverflow.com/questions/56674489/how-to-export-multiple-radgrids-to-excel", "title": "How to export multiple radgrids to excel", "body": "<p>I have a web application that fills several RadGrids with data. \nI want to export them all into one excel file with multiple sheets.</p>\n\n<p>I found a <a href=\"https://demos.telerik.com/aspnet-ajax/grid/examples/functionality/exporting/excel-export-multiple-grids/defaultcs.aspx?product=grid\" rel=\"nofollow noreferrer\">demo</a> on telerik's site that does exactly what I wish to do.</p>\n\n<p>However, I get a build error saying that <code>GridTableView</code> does not contain a definition of <code>GenerateXlsxOutput</code>.</p>\n\n<p>I've been looking around but I can't really find any good information about it.</p>\n\n<p>Here's a <a href=\"http://prntscr.com/o429jq\" rel=\"nofollow noreferrer\">printscreen</a> of the error I get.</p>\n\n<p>The libraries I'm using</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Data.SqlClient;\nusing System.Globalization;\nusing System.Linq;\nusing System.Text;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing Telerik.Web.Spreadsheet;\nusing Telerik.Web.UI;\nusing Telerik.Windows.Documents.Spreadsheet.FormatProviders.OpenXml.Xlsx;\nusing xi = Telerik.Web.UI.ExportInfrastructure;\nusing Telerik.Windows.Documents.Spreadsheet.Model;\nusing System.IO;\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "sqldatareader"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "Sinisa Janjetovic"}, "reply_to_user": {"reputation": 16538, "user_id": 1227152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4hr5l.jpg?s=128&g=1", "display_name": "mustaccio", "link": "https://stackoverflow.com/users/1227152/mustaccio"}, "edited": false, "score": 0, "creation_date": 1560972989, "post_id": 56676798, "comment_id": 99920514, "body": "I can not read data from SQL Server table if it finds row in which some fields have null value"}, {"owner": {"reputation": 16538, "user_id": 1227152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4hr5l.jpg?s=128&g=1", "display_name": "mustaccio", "link": "https://stackoverflow.com/users/1227152/mustaccio"}, "edited": false, "score": 0, "creation_date": 1560973393, "post_id": 56676798, "comment_id": 99920515, "body": "Still not good enough. What do you mean by &quot;cannot read&quot;? If you get an error, show the error. If you get unexpected results, explain what  they are and what you expect instead."}, {"owner": {"user_type": "does_not_exist", "display_name": "Sinisa Janjetovic"}, "edited": false, "score": 0, "creation_date": 1560973693, "post_id": 56676798, "comment_id": 99920519, "body": "When I start program, I am getting error message &quot;System.FormatException: &#39;Input string was not in a correct format.&#39;&quot; on Second method. Is it more clear now. I have data in SQL table but some fields have null value and when I start program I get this message"}, {"owner": {"user_type": "does_not_exist", "display_name": "Sinisa Janjetovic"}, "edited": false, "score": 0, "creation_date": 1560974646, "post_id": 56676798, "comment_id": 99920512, "body": "It doesn&#39;t help much. I don&#39;t need to test if some rows have empty value, but I need to force SqlDataReader to properly read those rows without stacking application"}, {"owner": {"reputation": 3300, "user_id": 1595565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ebca8a075ffe087b9f19b40f1df09e5?s=128&d=identicon&r=PG", "display_name": "Hannah Vernon", "link": "https://stackoverflow.com/users/1595565/hannah-vernon"}, "edited": false, "score": 0, "creation_date": 1560974924, "post_id": 56676798, "comment_id": 99920521, "body": "Add a COALESCE around the column names in the DataReader query."}, {"owner": {"user_type": "does_not_exist", "display_name": "Sinisa Janjetovic"}, "edited": false, "score": 0, "creation_date": 1560975140, "post_id": 56676798, "comment_id": 99920522, "body": "Please, can you use my code and show me exactly how should it look like. Thank you in advance, I am beginner in C# and SQL and I really need help"}, {"owner": {"user_type": "does_not_exist", "display_name": "Sinisa Janjetovic"}, "edited": false, "score": 0, "creation_date": 1560976283, "post_id": 56676798, "comment_id": 99920523, "body": "coalesce is not solution. I want that SQLDataReader read all values from row and if it finds some column null, replace it with &quot;&quot; of 0. I don&#39;t want to change array structure"}, {"owner": {"reputation": 10691, "user_id": 861565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6yfIc.png?s=128&g=1", "display_name": "Josh Darnell", "link": "https://stackoverflow.com/users/861565/josh-darnell"}, "edited": false, "score": 2, "creation_date": 1560988380, "post_id": 56676798, "comment_id": 99921401, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/762861/how-to-check-if-a-datareader-is-null-or-empty\">how to check if a datareader is null or empty</a>"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1313521200, "open_beta_date": 1294686000, "closed_beta_date": 1294081200, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/dba/Img/apple-touch-icon@2.png", "twitter_account": "StackDBAs", "favicon_url": "https://cdn.sstatic.net/Sites/dba/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/dba/Img/apple-touch-icon.png", "audience": "database professionals who wish to improve their database skills and learn from others in the community", "site_url": "https://dba.stackexchange.com", "api_site_parameter": "dba", "logo_url": "https://cdn.sstatic.net/Sites/dba/Img/logo.png", "name": "Database Administrators", "site_type": "main_site"}, "on_date": 1560984078, "question_id": 240964}, "owner": {"user_type": "does_not_exist", "display_name": "Sinisa Janjetovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561050857, "creation_date": 1560971854, "last_edit_date": 1561050857, "question_id": 56676798, "link": "https://stackoverflow.com/questions/56676798/sqldatareader-issue-with-reading-null-values", "title": "SQLDataReader issue with reading null values", "body": "<p>I am having problem with SQLDataReader when it comes into situation that I have one row of data, and one or tho columns (fields) have null value.</p>\n\n<p>Can anybody help with this? Null values are related to string, float and datetime datatype.</p>\n\n<p>First method is:</p>\n\n<pre><code>public class SpajanjeCollection:ObservableCollection&lt;Spajanje&gt;\n{\n    public static SpajanjeCollection GetAllSpajanjes() \n    {\n        SpajanjeCollection spajanjes = new SpajanjeCollection();  \n        Spajanje spajanje = null;  \n\n        using (SqlConnection conn = new SqlConnection())  \n        {\n            conn.ConnectionString = ConfigurationManager.ConnectionStrings[\"ConnString\"].ToString();    \n            conn.Open();    \n\n            SqlCommand command = new SqlCommand(\"SELECT Ponude.IdPonude, Ponude.SifraProizvoda, Proizvodi.Naziv, Proizvodi.Opis, Proizvodi.PocetnaCijena, Ponude.PocetakAukcije, Users.UserName, Ponude.PonudjenaCijena, Ponude.ZavrsetakAukcije, Ponude.Status FROM  Ponude LEFT OUTER JOIN Users ON Ponude.Kupac = Users.UserName INNER JOIN Proizvodi ON Ponude.SifraProizvoda = Proizvodi.Id\", conn);\n\n            using (SqlDataReader reader = command.ExecuteReader())\n            {\n                while (reader.Read())   \n                {\n                    spajanje = Spajanje.GetSpajanjeFromResultSet(reader);\n                    spajanjes.Add(spajanje);    \n                }\n            }\n        }\n        return spajanjes;   \n    }\n}\n</code></pre>\n\n<p>Second method for data reading is:</p>\n\n<pre><code>    public static Spajanje GetSpajanjeFromResultSet(SqlDataReader reader) \n    {\n        Spajanje spajanje = new Spajanje(Convert.ToInt16(reader[\"IdPonude\"]), Convert.ToInt16(reader[\"SifraProizvoda\"]), Convert.ToString(reader[\"Naziv\"]), Convert.ToString(reader[\"Opis\"]), float.Parse(reader[\"PocetnaCijena\"].ToString()), (DateTime?)reader[\"PocetakAukcije\"], Convert.ToString(reader[\"UserName\"]), float.Parse(reader[\"PonudjenaCijena\"].ToString()), (DateTime?)reader[\"ZavrsetakAukcije\"], Convert.ToString(reader[\"Status\"]));\n\n        return spajanje;    \n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 2, "creation_date": 1560971520, "post_id": 56674324, "comment_id": 99916153, "body": "Note that you have to add an assembly reference of the assembly providing this type to your project. The documentation you referred to tells you which assembly that is (it&#39;s right there at the top of the documentation page)."}, {"owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "edited": false, "score": 0, "creation_date": 1560971623, "post_id": 56674324, "comment_id": 99916207, "body": "Thanks, clearly I&#39;ve no idea about <code>.NET</code>."}], "answers": [{"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 0, "last_activity_date": 1561037680, "creation_date": 1561037680, "answer_id": 56687189, "question_id": 56674324, "link": "https://stackoverflow.com/questions/56674324/why-i-cant-use-the-keyedbytypecollection-class/56687189#56687189", "title": "Why I can&#39;t use the KeyedByTypeCollection class?", "body": "<p>If you look in the <a href=\"https://docs.microsoft.com/en-US/dotnet/api/system.collections.generic.keyedbytypecollection-1?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs</a>, the assemblies in which the type is defined are listed. </p>\n\n<p>If you target the .NET Framework, you should add a reference to <code>System.ServiceModel.dll</code> from your WPF application. You do this by selecting it under Project->Add Reference->Assemblies->Framework in Visual Studio.</p>\n"}], "owner": {"reputation": 2854, "user_id": 9164071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGIdi.jpg?s=128&g=1", "display_name": "Themelis", "link": "https://stackoverflow.com/users/9164071/themelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 56687189, "answer_count": 1, "score": 0, "last_activity_date": 1561037680, "creation_date": 1560971147, "question_id": 56674324, "link": "https://stackoverflow.com/questions/56674324/why-i-cant-use-the-keyedbytypecollection-class", "title": "Why I can&#39;t use the KeyedByTypeCollection class?", "body": "<p>I want to use the <code>System.Collections.Generic.KeyedByTypeCollection</code> (<a href=\"https://docs.microsoft.com/en-US/dotnet/api/system.collections.generic.keyedbytypecollection-1?redirectedfrom=MSDN&amp;view=netframework-4.7.2\" rel=\"nofollow noreferrer\">ref</a>) in a WPF application but I get \nthe </p>\n\n<blockquote>\n  <p>the type or namespace name does not exist are you missing an assembly\n  reference</p>\n</blockquote>\n\n<p>error, even if my class is using the <code>System.Collections.Generic</code> namespace. </p>\n\n<p>Why is that happening?</p>\n"}, {"tags": ["c#", "entity-framework", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "edited": false, "score": 0, "creation_date": 1560972546, "post_id": 56674220, "comment_id": 99916597, "body": "Your tables are not normalized, and thus your <code>Include</code> will not work in EF Core. I would highly recommend you change your models so that they are."}, {"owner": {"reputation": 1976, "user_id": 8877860, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/526748fe28a53e1f2227b4c2d35d2624?s=128&d=identicon&r=PG&f=1", "display_name": "topcool", "link": "https://stackoverflow.com/users/8877860/topcool"}, "reply_to_user": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "edited": false, "score": 0, "creation_date": 1560972788, "post_id": 56674220, "comment_id": 99916683, "body": "@chakeda Thank you. I think I should change the structure of the tables"}, {"owner": {"reputation": 3803, "user_id": 3678363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/791fd83021ea9bed3c6e3f4d3551e185?s=128&d=identicon&r=PG&f=1", "display_name": "Reyan Chougle", "link": "https://stackoverflow.com/users/3678363/reyan-chougle"}, "edited": false, "score": 0, "creation_date": 1561009758, "post_id": 56674220, "comment_id": 99925432, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49593482/entity-framework-core-2-0-1-eager-loading-on-all-nested-related-entities\">Entity Framework Core 2.0.1 Eager Loading on all nested related entities</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1222, "user_id": 4378740, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/v0PC9.jpg?s=128&g=1", "display_name": "chakeda", "link": "https://stackoverflow.com/users/4378740/chakeda"}, "is_accepted": false, "score": 0, "last_activity_date": 1560973199, "creation_date": 1560973199, "answer_id": 56674766, "question_id": 56674220, "link": "https://stackoverflow.com/questions/56674220/asp-net-core-how-to-loading-related-data-in-viewmodel-entity-framework/56674766#56674766", "title": "Asp.net core how to loading related data in viewmodel Entity Framework", "body": "<p>Normalize your tables, following the <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/relational/fk-constraints\" rel=\"nofollow noreferrer\">Microsoft Docs</a>:</p>\n\n<p><strong>Question</strong>:</p>\n\n<pre><code>public class Question\n{\n    [Key]\n    public int questionID { get; set; }\n    public string questionTitle { get; set; }\n\n    public int GroupID { get; set; }\n    [ForeignKey(\"Group_ID\")]\n    public virtual Group Group { get; set; }\n}\n</code></pre>\n\n<p><strong>Group</strong>:</p>\n\n<pre><code>public class Group\n{\n    [Key]\n    public int GroupID { get; set; }\n    public string GroupName { get; set; }\n\n    public virtual List&lt;Question&gt; questions { get; set; }\n}\n</code></pre>\n\n<p>At this point you can query the records like so:</p>\n\n<pre><code>db.Question.Include(q =&gt; q.Group)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1561009563, "creation_date": 1561009563, "answer_id": 56679653, "question_id": 56674220, "link": "https://stackoverflow.com/questions/56674220/asp-net-core-how-to-loading-related-data-in-viewmodel-entity-framework/56679653#56679653", "title": "Asp.net core how to loading related data in viewmodel Entity Framework", "body": "<p>You could not use <code>Include</code> here for a viewModel directly.I advice that you could use <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/relationships#many-to-many\" rel=\"nofollow noreferrer\">many-to-many relationship</a> for your Question and Group models.</p>\n\n<p>Models:</p>\n\n<pre><code>public class Question\n{\n    [Key]\n    public int questionID { get; set; }\n    public string questionTitle { get; set; }\n\n    public List&lt;QuestionGroup&gt; QuestionGroups { get; set; }\n    //public List&lt;Group&gt; Groups { get; set; }\n    //public string GroupID { get; set; }\n}\npublic class Group\n{\n    [Key]\n    public int GroupID { get; set; }\n    public string GroupName { get; set; }\n\n    public List&lt;QuestionGroup&gt; QuestionGroups { get; set; }\n}\n\npublic class QuestionGroup\n{\n    public int QuestionId { get; set; }\n    public Question Question { get; set; }\n\n    public int GroupId { get; set; }\n    public Group Group { get; set; }\n}\n\npublic class GetQuestionViewModel\n{\n    public int questionID { get; set; }\n    public string questionTitle { get; set; }\n    public ICollection&lt;Group&gt; QuestionGroups { get; set; }\n}\n</code></pre>\n\n<p>DbContext;</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;QuestionGroup&gt;()\n       .HasKey(t =&gt; new { t.QuestionId, t.GroupId });\n\n        modelBuilder.Entity&lt;QuestionGroup&gt;()\n            .HasOne(qg =&gt; qg.Question)\n            .WithMany(q =&gt; q.QuestionGroups)\n            .HasForeignKey(qg =&gt; qg.QuestionId);\n\n        modelBuilder.Entity&lt;QuestionGroup&gt;()\n            .HasOne(qg=&gt;qg.Group)\n            .WithMany(g =&gt; g.QuestionGroups)\n            .HasForeignKey(qg =&gt; qg.GroupId);\n   }\n</code></pre>\n\n<p>EF Core query;</p>\n\n<pre><code>var questionQuery = (from a in _context.QuestionTbl.Include(q =&gt; q.QuestionGroups)\n                             select new GetQuestionViewModel()\n                             {\n                                 questionID = a.questionID,\n                                 questionTitle = a.questionTitle,\n                                 QuestionGroups = a.QuestionGroups.Select(qg =&gt; qg.Group).ToList()\n\n                             })\n                         .ToList();\n</code></pre>\n"}], "owner": {"reputation": 1976, "user_id": 8877860, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/526748fe28a53e1f2227b4c2d35d2624?s=128&d=identicon&r=PG&f=1", "display_name": "topcool", "link": "https://stackoverflow.com/users/8877860/topcool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 56679653, "answer_count": 2, "score": 1, "last_activity_date": 1561009563, "creation_date": 1560970710, "question_id": 56674220, "link": "https://stackoverflow.com/questions/56674220/asp-net-core-how-to-loading-related-data-in-viewmodel-entity-framework", "title": "Asp.net core how to loading related data in viewmodel Entity Framework", "body": "<p>I am working on a <code>Asp.net core 2.2</code> project and have a problem about loading related data in ViewModel.</p>\n\n<p>First of all i have a table named <code>QuestionTbl</code> :</p>\n\n<pre><code>public class Question\n{\n    [Key]\n    public int questionID { get; set; }\n    public string questionTitle { get; set; }\n    public string GroupID { get; set; }\n}\n</code></pre>\n\n<p>As you see i have a <code>string</code> property called <code>GroupID</code> in <code>Question</code> table that shows groups of each question.</p>\n\n<p><strong>For Example</strong></p>\n\n<pre><code>1 row in questionTbl\n---------\nquestionID = 1\nquestionTitle = 'What is Your Name ?'\nGroupID = '3,4,5'\n</code></pre>\n\n<p>In the example above question with <code>ID = 1</code> is in 3 groups <code>(3 and 4 and 5)</code>.</p>\n\n<p>And <code>GroupTbl</code> :</p>\n\n<pre><code>public class Group\n{\n    [Key]\n    public int GroupID { get; set; }\n    public string GroupName { get; set; }\n}\n</code></pre>\n\n<p>Now i want to show list of question with related groups.</p>\n\n<p>I have a <code>ViewModel</code> like this :</p>\n\n<pre><code>public class GetQuestionViewModel\n{\n    public int questionID { get; set; }\n    public string questionTitle { get; set; }\n    public ICollection&lt;Group&gt; QuestionGroups { get; set; }\n}\n</code></pre>\n\n<p>And my entity framework query :</p>\n\n<pre><code>var questionQuery = (from a in _db.QuestionTbl\n                             select new GetQuestionViewModel()\n                             {\n                                 questionID = a.questionID,\n                                 questionTitle = a.questionTitle\n                             })\n                             .Include(q =&gt; q.QuestionGroups)\n                             .ToList();\n</code></pre>\n\n<p>I want to have a list contains questions and groups of each question. But <code>QuestionGroups</code> returns null in my query. I also read <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/related-data\" rel=\"nofollow noreferrer\">this</a> link but it did not help me.</p>\n"}, {"tags": ["c#", "asp.net", "checkbox", "updatepanel", "postback"], "answers": [{"tags": [], "owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "is_accepted": false, "score": 0, "last_activity_date": 1561021707, "creation_date": 1561021707, "answer_id": 56682612, "question_id": 56674058, "link": "https://stackoverflow.com/questions/56674058/dynamically-created-table-loses-rows-on-postback/56682612#56682612", "title": "Dynamically-created table loses rows on postback", "body": "<p>try: only build on the first load, not on postbacks.</p>\n\n<pre><code>if(!Page.IsPostBack)\n{\n    // build reports table.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 3950824, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09cf1c07531bc0d8def836663b8451f8?s=128&d=identicon&r=PG&f=1", "display_name": "toadfromgrove", "link": "https://stackoverflow.com/users/3950824/toadfromgrove"}, "is_accepted": true, "score": 0, "last_activity_date": 1561124130, "creation_date": 1561124130, "answer_id": 56704535, "question_id": 56674058, "link": "https://stackoverflow.com/questions/56674058/dynamically-created-table-loses-rows-on-postback/56704535#56704535", "title": "Dynamically-created table loses rows on postback", "body": "<p>I ended up solving it with jQuery</p>\n"}], "owner": {"reputation": 73, "user_id": 3950824, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/09cf1c07531bc0d8def836663b8451f8?s=128&d=identicon&r=PG&f=1", "display_name": "toadfromgrove", "link": "https://stackoverflow.com/users/3950824/toadfromgrove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 56704535, "answer_count": 2, "score": 0, "last_activity_date": 1561124130, "creation_date": 1560970012, "question_id": 56674058, "link": "https://stackoverflow.com/questions/56674058/dynamically-created-table-loses-rows-on-postback", "title": "Dynamically-created table loses rows on postback", "body": "<p>I have a table with just a TableHeaderRow made up of 5 columns (cells). The first cell/column has a checkbox that I want to be a \"check all\" for the dynamically created rows in the code-behind.</p>\n\n<p>Table:</p>\n\n<pre><code>&lt;asp:Table runat=\"server\" ID=\"tblReports\" CssClass=\"table table-condensed table-bordered\"&gt;\n                    &lt;asp:TableHeaderRow&gt;\n                        &lt;asp:TableHeaderCell CssClass=\"text-center\"&gt;\n                            &lt;asp:UpdatePanel runat=\"server\" ID=\"updatePanelCheckAllReports\" ChildrenAsTriggers=\"true\"&gt;\n                                &lt;ContentTemplate&gt;\n                                    &lt;asp:CheckBox runat=\"server\" ID=\"cbCheckAllReports\" OnCheckedChanged=\"cb_CheckedChanged\" AutoPostBack=\"true\" /&gt;\n                                &lt;/ContentTemplate&gt;\n                            &lt;/asp:UpdatePanel&gt;\n                        &lt;/asp:TableHeaderCell&gt;\n                        &lt;asp:TableHeaderCell&gt;\n                        &lt;/asp:TableHeaderCell&gt;\n                        &lt;asp:TableHeaderCell CssClass=\"text-center\"&gt;\n                                &lt;h4&gt;Reports&lt;/h4&gt;\n                        &lt;/asp:TableHeaderCell&gt;\n                        &lt;asp:TableHeaderCell CssClass=\"text-center\"&gt;\n                                &lt;h5&gt;Oldest&lt;br /&gt;ONLINE&lt;br /&gt;ArchiveDate&lt;/h5&gt;\n                        &lt;/asp:TableHeaderCell&gt;\n                        &lt;asp:TableHeaderCell CssClass=\"text-center\"&gt;\n                                &lt;h5&gt;Newest&lt;br /&gt;OFFLINE&lt;br /&gt;ArchiveDate&lt;/h5&gt;\n                        &lt;/asp:TableHeaderCell&gt;\n                    &lt;/asp:TableHeaderRow&gt;\n                &lt;/asp:Table&gt;\n</code></pre>\n\n<p>Build_Reports_Table:</p>\n\n<pre><code>using (DBContext dc = new DBContext())\n            {\n                List&lt;string&gt; reports = dc.Database.SqlQuery&lt;string&gt;(\"SELECT name FROM sys.tables WHERE name like 'report%history' ORDER BY name\").ToList();\n\n                foreach (string report in reports)\n                {\n                    TableRow tableRow = new TableRow();\n                    TableCell tableCellCheckBox = new TableCell();\n                    TableCell tableCellLabel = new TableCell();\n                    CheckBox checkBox = new CheckBox();\n                    Label label = new Label();\n                    checkBox.ID = \"cb\" + report;\n                    tableCellCheckBox.Controls.Add(checkBox);\n                    label.Text = report;\n                    tableCellLabel.Controls.Add(label);\n                    tableRow.Cells.Add(new TableCell());\n                    tableRow.Cells.Add(tableCellCheckBox);\n                    tableRow.Cells.Add(tableCellLabel);\n                    tableRow.Cells.Add(new TableCell());\n                    tableRow.Cells.Add(new TableCell());\n                    tblReports.Rows.Add(tableRow);\n                }\n            }\n</code></pre>\n\n<p>cb_CheckedChanged method:</p>\n\n<pre><code>CheckBox checkBox = (CheckBox)sender;\n            if (checkBox.ID == \"cbCheckAllReports\")\n            {\n                if (checkBox.Checked)\n                {\n                    foreach (TableRow tableRow in tblReports.Rows)\n                    {\n                        if (!(tableRow is TableHeaderRow) &amp;&amp; !(tableRow is TableFooterRow))\n                        {\n                            CheckBox cbReport = (CheckBox)tableRow.Cells[1].Controls[1];\n                            cbReport.Checked = true;\n                        }\n                    }\n                }\n                else\n                {\n                    foreach (TableRow tableRow in tblReports.Rows)\n                    {\n                        if (!(tableRow is TableHeaderRow) &amp;&amp; !(tableRow is TableFooterRow))\n                        {\n                            CheckBox cbReport = (CheckBox)tableRow.Cells[1].Controls[1];\n                            cbReport.Checked = false;\n                        }\n                    }\n                }\n            }\n</code></pre>\n\n<p>The table builds fine after Build_Reports_Table is ran in the Page_Load.</p>\n\n<p>The problem is, for <code>cb_CheckedChanged</code> to trigger the \"check all\" checkbox has to have <code>AutoPostBack = true</code>. With that set, when the page posts back the table loses all those dynamically added rows and all the table has is the static TableHeaderRow.</p>\n\n<p>I've tried putting an UpdatePanel around the table, that didn't work. So then I put the UpdatePanel around the Checkbox control and that didn't work. Both times when I debugged the <code>cb_CheckedChanged</code> function tblReports.Rows only had the static TableHeaderRow row.</p>\n\n<p><strong>Update</strong></p>\n\n<p>There is a ScriptManager on the master page</p>\n"}, {"tags": ["c#", "asp.net", "pdf", "webforms", "convertapi"], "comments": [{"owner": {"reputation": 15357, "user_id": 281014, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c001df5d31b9aa5ebea6d09351876556?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/281014/tomas"}, "edited": false, "score": 0, "creation_date": 1560974455, "post_id": 56674052, "comment_id": 99917375, "body": "What programming language do you use?"}, {"owner": {"reputation": 3844, "user_id": 562424, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ngAre.jpg?s=128&g=1", "display_name": "Karthik Ganesan", "link": "https://stackoverflow.com/users/562424/karthik-ganesan"}, "reply_to_user": {"reputation": 15357, "user_id": 281014, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c001df5d31b9aa5ebea6d09351876556?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/281014/tomas"}, "edited": false, "score": 0, "creation_date": 1560974785, "post_id": 56674052, "comment_id": 99917512, "body": "its a C#  web application, for some reason the sample that they have provided (console application) seems to work fine, but it won&#39;t work on my web application"}, {"owner": {"reputation": 15357, "user_id": 281014, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c001df5d31b9aa5ebea6d09351876556?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/281014/tomas"}, "edited": false, "score": 0, "creation_date": 1561016637, "post_id": 56674052, "comment_id": 99928357, "body": "What web application do you use? ASP.NET Web Forms?"}, {"owner": {"reputation": 3844, "user_id": 562424, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ngAre.jpg?s=128&g=1", "display_name": "Karthik Ganesan", "link": "https://stackoverflow.com/users/562424/karthik-ganesan"}, "reply_to_user": {"reputation": 15357, "user_id": 281014, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c001df5d31b9aa5ebea6d09351876556?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/281014/tomas"}, "edited": false, "score": 0, "creation_date": 1561036440, "post_id": 56674052, "comment_id": 99939114, "body": "@Tomas yes its web forms"}], "answers": [{"tags": [], "owner": {"reputation": 15357, "user_id": 281014, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c001df5d31b9aa5ebea6d09351876556?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/281014/tomas"}, "is_accepted": true, "score": 1, "last_activity_date": 1561038360, "creation_date": 1561038360, "answer_id": 56687401, "question_id": 56674052, "link": "https://stackoverflow.com/questions/56674052/convert-files-and-merge-using-convertapi/56687401#56687401", "title": "Convert files and merge using ConvertAPI", "body": "<p>The problem lies in Asynchronous handling in ASP.NET Web Forms. I am posting a working solution on how to handle async methods in ASP.NET Web Forms. </p>\n\n<p>First, make your Web Form asynchronous by putting <code>Async=true</code> like this</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" CodeBehind=\"Default.aspx.cs\" Inherits=\"Default\" Async=\"true\" %&gt;\n</code></pre>\n\n<p>Next, you need to register the async method using <code>RegisterAsyncTask</code> and only after that execute the async method itself.</p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e)\n    {\n        RegisterAsyncTask(new PageAsyncTask(ConvertAsync));\n    }\n\n    public async Task ConvertAsync()\n    {\n        var convertApi = new ConvertApi(\"&lt;secret&gt;\");\n        var convertApiResponse = await convertApi.ConvertAsync(\"docx\", \"pdf\", new ConvertApiFileParam(@\"C:\\TestFiles\\test3.docx\"));\n        convertApiResponse.SaveFiles(@\"C:\\TestFiles\");\n    }\n</code></pre>\n"}], "owner": {"reputation": 3844, "user_id": 562424, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ngAre.jpg?s=128&g=1", "display_name": "Karthik Ganesan", "link": "https://stackoverflow.com/users/562424/karthik-ganesan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 56687401, "answer_count": 1, "score": 0, "last_activity_date": 1561038360, "creation_date": 1560969980, "last_edit_date": 1561036802, "question_id": 56674052, "link": "https://stackoverflow.com/questions/56674052/convert-files-and-merge-using-convertapi", "title": "Convert files and merge using ConvertAPI", "body": "<p>I am trying to convert my doc and png files to PDF and merge them using ConvertAPI,\nWhenever I try to run the code snippet provided on their site it just doesn't return any file result.</p>\n\n<p>The online stats on my page shows it has been converted \n<a href=\"https://i.stack.imgur.com/9p2JV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9p2JV.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the code I am using</p>\n\n<pre><code>var convertApi = new ConvertApi(\"&lt;my secret key&gt;\");\nconvertApi.ConvertAsync(fileFormatFrom, \"pdf\",\n    new ConvertApiFileParam(FileToConvert)\n).Result.SaveFiles(MyOutputFolder);\n</code></pre>\n\n<p>I was able to get the conversion then done using WebClient's UploadFile function, but I am not sure how to achieve Merge using the same.</p>\n\n<p>Any help will be appreciated.</p>\n"}, {"tags": ["c#", "wpf", "scichart"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2191259"}, "edited": false, "score": 0, "creation_date": 1560970179, "post_id": 56674048, "comment_id": 99915564, "body": "Well, as soon as I posted I saw my mistake.  The minimum and maximum values are backward in the DoubleRange.  That fixed it."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2191259"}, "is_accepted": true, "score": 0, "last_activity_date": 1560970418, "creation_date": 1560970418, "answer_id": 56674157, "question_id": 56674048, "link": "https://stackoverflow.com/questions/56674048/how-to-set-a-fixed-visiblerange-for-the-yaxis/56674157#56674157", "title": "How to set a fixed VisibleRange for the YAxis?", "body": "<p>I was using the constructor for DoubleRange incorrectly, minimum is first, maximum is second.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2191259"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 56674157, "answer_count": 1, "score": 0, "last_activity_date": 1560970418, "creation_date": 1560969968, "question_id": 56674048, "link": "https://stackoverflow.com/questions/56674048/how-to-set-a-fixed-visiblerange-for-the-yaxis", "title": "How to set a fixed VisibleRange for the YAxis?", "body": "<p>I'm attempting to implement a SciChart without AutoRange on the YAxis.  However, it seems to be completely ignoring my range entirely.</p>\n\n<p>I've tried setting my YAxis to a NumericAxisViewModel with a fixed DoubleRange of -5000 to 5000, but it always shows a range of 0 to 10.  While stepping through the debugger I can clearly see that the NumericAxis is accepting my DoubleRange but when the chart finally renders, it's 0 to 10 only.  This YAxis is later being added to an Observable collection called YAxes which is being bound in XAML.</p>\n\n<p>Axis construction</p>\n\n<pre><code>            this.YAxis = new NumericAxisViewModel\n            {\n                AxisAlignment = AxisAlignment.Left,\n                DrawMajorGridLines = false,\n                DrawMinorGridLines = false,\n                DrawMajorBands = false,\n                VisibleRange = new DoubleRange(5000, -5000),\n                Visibility = Visibility.Visible,\n                Id = channel.Id.ToString(),\n            };\n</code></pre>\n\n<p>Higher view model is collecting the data</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>            foreach (IDataChannelViewModel d in this.Channels)\n            {\n                this.YAxes.Add(d.YAxis);\n                this.RenderableSeries.Add(d.RenderableSeries);\n                d.FifoCapacity = this.BufferSize;\n            }\n</code></pre>\n\n<p>And the XAML is binding it.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;sc:SciChartSurface x:Name=\"ChartSurface\" Grid.Row=\"2\" Grid.ColumnSpan=\"4\" RenderableSeries=\"{sc:SeriesBinding RenderableSeries}\" YAxes=\"{sc:AxesBinding YAxes}\" Visibility=\"Hidden\"&gt;\n            &lt;sc:SciChartSurface.XAxis&gt;\n                &lt;sc:NumericAxis Name=\"XAxisControl\" VisibleRange=\"{Binding SelectedRange}\" DrawMajorGridLines=\"True\" DrawMinorTicks=\"True\"/&gt;\n            &lt;/sc:SciChartSurface.XAxis&gt;\n        &lt;/sc:SciChartSurface&gt;\n\n        &lt;sc:SciChartSurface x:Name=\"OverviewSurface\"\n                            Background=\"White\"\n                            Grid.Row=\"2\"\n                            Grid.ColumnSpan=\"4\"\n                            Loaded=\"OnOverviewSurfaceLoaded\"\n                            RenderableSeries=\"{Binding ElementName=ChartSurface, Path=RenderableSeries}\"\n                            YAxes=\"{sc:AxesBinding YAxes}\"&gt;\n            &lt;sc:SciChartSurface.XAxis&gt;\n                &lt;sc:NumericAxis AutoRange=\"Always\" DrawMajorGridLines=\"False\" DrawMinorGridLines=\"False\" DrawMajorBands=\"False\" Visibility=\"Collapsed\"/&gt;\n            &lt;/sc:SciChartSurface.XAxis&gt;\n        &lt;/sc:SciChartSurface&gt;\n</code></pre>\n\n<p>I need to get it to a fixed range of 5000 to -5000.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 242, "user_id": 10553106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af823ff0a0b44b4743b354a464c39d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Hunter", "link": "https://stackoverflow.com/users/10553106/tim-hunter"}, "edited": false, "score": 0, "creation_date": 1560970415, "post_id": 56674038, "comment_id": 99915666, "body": "Bit of a side track question from me, but if you only plan to have the code run once why don&#39;t you have it executed inside a Start or Awake function so it&#39;s only ran once upon creation of the gameobject the script is attached to?"}, {"owner": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "edited": false, "score": 0, "creation_date": 1560970703, "post_id": 56674038, "comment_id": 99915788, "body": "Would you please post a screenshot of your console?"}, {"owner": {"reputation": 13, "user_id": 11668365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a66b55bbf03eb58148809da3bbdf74d?s=128&d=identicon&r=PG&f=1", "display_name": "rashapou", "link": "https://stackoverflow.com/users/11668365/rashapou"}, "reply_to_user": {"reputation": 4148, "user_id": 10209883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zd3hk.png?s=128&g=1", "display_name": "Alex Myers", "link": "https://stackoverflow.com/users/10209883/alex-myers"}, "edited": false, "score": 1, "creation_date": 1560971410, "post_id": 56674038, "comment_id": 99916097, "body": "@AlexMyers <i>considers deleting thread in shame</i> i had a search in the textbox. I&#39;m going to bed."}, {"owner": {"reputation": 13, "user_id": 11668365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a66b55bbf03eb58148809da3bbdf74d?s=128&d=identicon&r=PG&f=1", "display_name": "rashapou", "link": "https://stackoverflow.com/users/11668365/rashapou"}, "reply_to_user": {"reputation": 242, "user_id": 10553106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af823ff0a0b44b4743b354a464c39d8b?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Hunter", "link": "https://stackoverflow.com/users/10553106/tim-hunter"}, "edited": false, "score": 1, "creation_date": 1560971412, "post_id": 56674038, "comment_id": 99916100, "body": "@TimHunter Thank you. This inspired me now to separate code accordingly. I did not think to do that before your input."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560973098, "post_id": 56674038, "comment_id": 99916812, "body": "It would be helpful if you edited the question to reflect the actual problem. As it stands, this question isn&#39;t very useful to future readers."}, {"owner": {"reputation": 13, "user_id": 11668365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a66b55bbf03eb58148809da3bbdf74d?s=128&d=identicon&r=PG&f=1", "display_name": "rashapou", "link": "https://stackoverflow.com/users/11668365/rashapou"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560973325, "post_id": 56674038, "comment_id": 99916919, "body": "Done, good tip! @RufusL"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 5012634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558262e9aad10122aa623893ae5836b8?s=128&d=identicon&r=PG&f=1", "display_name": "Frost2779", "link": "https://stackoverflow.com/users/5012634/frost2779"}, "is_accepted": true, "score": 1, "last_activity_date": 1560971337, "creation_date": 1560971337, "answer_id": 56674372, "question_id": 56674038, "link": "https://stackoverflow.com/questions/56674038/why-doesnt-debug-log-work-in-this-for-loop/56674372#56674372", "title": "Why doesn&#39;t Debug.Log work in this for loop?", "body": "<p>Based on the description of your question I will assume that you are creating a script for Unity from here on out. Take a look at <a href=\"https://answers.unity.com/questions/757659/console-not-outputting-from-debuglog.html\" rel=\"nofollow noreferrer\">this</a>. It offers two solutions that would be worth a try, mainly the second one as it is as simple as a check to make sure you have Debug output enabled for the console.</p>\n"}], "owner": {"reputation": 13, "user_id": 11668365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a66b55bbf03eb58148809da3bbdf74d?s=128&d=identicon&r=PG&f=1", "display_name": "rashapou", "link": "https://stackoverflow.com/users/11668365/rashapou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 56674372, "answer_count": 1, "score": 0, "last_activity_date": 1567008220, "creation_date": 1560969921, "last_edit_date": 1567008220, "question_id": 56674038, "link": "https://stackoverflow.com/questions/56674038/why-doesnt-debug-log-work-in-this-for-loop", "title": "Why doesn&#39;t Debug.Log work in this for loop?", "body": "<p>Here is what I have. This DrawPoints() method is called in an Update() method, meaning it is called repeatedly if it doesn't have extra conditions if I understand correctly. So basically I'm trying to make the for loop only run once by putting the outside <code>if (iTrack == 0)</code> check on it.</p>\n\n<p>What is weird is that the Debug.Log commands will not run at all (the text <code>\"Here  1\"</code> or <code>\"Here2\"</code> never show up in Console), BUT the other code inside like <code>var lerpedPosition</code> and <code>whatToSpawnClone</code> run.</p>\n\n<p>Why don't the Debug Log commands work? Is there something obviously wrong I'm doing with this code? This is very confusing.</p>\n\n<pre><code>int iTrack = 0;\nint matricesNumber = 2;\n\npublic void DrawPoints()\n{\n    int startIndex = 0;\n    int endIndex = mesh.vertexCount;\n\n    float t = Mathf.Clamp((Time.time % 2f) / 2f, 0f, 1f);\n\n    if (iTrack == 0) { \n        if (matricesNumber == 2)\n        {\n            for (int i = startIndex; i &lt; endIndex; i++)\n            {\n                Debug.Log(\"Here 1\");\n\n                var lerpedPosition = Vector3.Lerp(matrices1[i].position, matrices2[i].position, t);\n                whatToSpawnClone = Instantiate(whatToSpawnPrefab, lerpedPosition, matrices2[i].rotation) as GameObject;\n\n                if (i == (endIndex - 1))\n                {\n                    Debug.Log(\"Here 2\");\n                    iTrack = 1;\n                }\n            }           \n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "entity-framework", "api", "core"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11671717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2aw68.jpg?s=128&g=1", "display_name": "Machine", "link": "https://stackoverflow.com/users/11671717/machine"}, "edited": false, "score": 0, "creation_date": 1560972142, "post_id": 56674309, "comment_id": 99916428, "body": "Wow that is awesome, it said I should avoid to say thank you but - THANK YOU!!!!! This is incredibly understandable thanks to your presentation.   It feels like this is something &quot;basic&quot; for Entity Framework but I have totally missed it. Thank you again and have a good evening. I will read that link. :)"}], "tags": [], "owner": {"reputation": 3813, "user_id": 5588197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206610955445736/picture?type=large", "display_name": "Jan Paolo Go", "link": "https://stackoverflow.com/users/5588197/jan-paolo-go"}, "is_accepted": true, "score": 0, "last_activity_date": 1560971090, "creation_date": 1560971090, "answer_id": 56674309, "question_id": 56674025, "link": "https://stackoverflow.com/questions/56674025/my-class-objects-disappears-when-doing-the-next-request-to-my-api-inmemorydb/56674309#56674309", "title": "My class-objects disappears when doing the next request to my API (InMemoryDb)", "body": "<p>You need to load <code>Todo.TodoItems</code> from the database.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>[HttpGet]\npublic async Task&lt;ActionResult&lt;List&lt;Todo&gt;&gt;&gt; GetTodo()\n{\n    return await _context.Todos.Include(t =&gt; t.TodoItems).ToListAsync();\n}\n</code></pre>\n\n<p>Above code uses Eager Loading, <code>Include(t =&gt; t.TodoItems)</code>, but there are different ways to <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/related-data\" rel=\"nofollow noreferrer\">load related data</a> using EF Core.</p>\n\n<p>The reason there's a <code>TodoItem</code> the first time is because it was just added to the <code>TodoContext</code> so it is still loaded on that particular <code>TodoContext</code> instance.</p>\n"}], "owner": {"reputation": 3, "user_id": 11671717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2aw68.jpg?s=128&g=1", "display_name": "Machine", "link": "https://stackoverflow.com/users/11671717/machine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56674309, "answer_count": 1, "score": 0, "last_activity_date": 1560972488, "creation_date": 1560969836, "last_edit_date": 1560972488, "question_id": 56674025, "link": "https://stackoverflow.com/questions/56674025/my-class-objects-disappears-when-doing-the-next-request-to-my-api-inmemorydb", "title": "My class-objects disappears when doing the next request to my API (InMemoryDb)", "body": "<p>I have followed <a href=\"https://docs.microsoft.com/en-us/aspnet/core/tutorials/first-web-api?view=aspnetcore-2.2&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">this tutorial</a> while creating an API and come across an issue I struggle to solve: </p>\n\n<p>I have two model-classes: Todo and TodoItem. </p>\n\n<p>I have put an ICollection of TodoItems inside the Todo-class.</p>\n\n<p>When I am to return the Todo's from an API GET request, it works the first time but as soon as a second request is sent, the TodoItem collection is overwritten and declared once more through the constructor of Todo.</p>\n\n<ul>\n<li>Tried some annotations (ForeignKey).</li>\n<li>Adding a list of TodoItemIds inside Todo\n(TodoItemIds type = new class with Id and the TodoItemId).</li>\n<li>Storing Todo and TodoId inside of TodoItem.</li>\n<li>Tried to add some code to OnModelcreating() in TodoContext (modelBuilder.Entity&lt;>()...).</li>\n</ul>\n\n<p>Here is the controller code, I don't know how to paste it in nicely...:</p>\n\n<p><strong>TodoController</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public TodoController(TodoContext context){\n    _context = context;\n\n    if (_context.TodoItems.Count() == 0)\n    {\n        // Create a new TodoItem if collection is empty,\n        // which means you can't delete all TodoItems.\n        _context.Todos.Add(new Todo(new TodoItem(\"Walk the dog\")));\n        _context.SaveChanges();\n    }\n}\n\n// GET: api/Todo\n[HttpGet]\npublic async Task&lt;ActionResult&lt;List&lt;Todo&gt;&gt;&gt; GetTodo()\n{\n    return await _context.Todos.ToListAsync();\n}\n</code></pre>\n\n<p><strong>TodoContext</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n{\n    modelBuilder.Entity&lt;Todo&gt;()\n        .HasMany(t =&gt; t.TodoItems);\n\n    base.OnModelCreating(modelBuilder);\n}\n\n</code></pre>\n\n<p><strong>First Get-Request-Response</strong></p>\n\n<pre><code>[\n    {\n        \"id\": \"34bfd453-8f06-4733-a4b6-1fb209327a8d\",\n        \"todoItems\": [\n            {\n                \"id\": 1,\n                \"name\": \"Walk the dog\",\n                \"isComplete\": false,\n                \"todoId\": \"34bfd453-8f06-4733-a4b6-1fb209327a8d\"\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p><strong>Second Get-Request-Response</strong></p>\n\n<pre><code> [\n     {\n        \"id\": \"34bfd453-8f06-4733-a4b6-1fb209327a8d\",\n        \"todoItems\": []\n     }\n ]\n</code></pre>\n\n<p>The todoItems-list should not disappear.</p>\n"}, {"tags": ["c#", "asp.net", "webclient"], "comments": [{"owner": {"reputation": 959, "user_id": 1684254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ERork.jpg?s=128&g=1", "display_name": "Akin Okegbile", "link": "https://stackoverflow.com/users/1684254/akin-okegbile"}, "edited": false, "score": 0, "creation_date": 1560970147, "post_id": 56673999, "comment_id": 99915549, "body": "I&#39;d troubleshoot the connectivity layer of the client to the API."}, {"owner": {"reputation": 1968, "user_id": 2854993, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/903782651787352046ec13f62893eeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris B", "link": "https://stackoverflow.com/users/2854993/chris-b"}, "edited": false, "score": 0, "creation_date": 1560970199, "post_id": 56673999, "comment_id": 99915573, "body": "Hi cmoe. Have you tried Googling the error message? I found this SO post: <a href=\"https://stackoverflow.com/questions/17693353/a-connection-attempt-failed-because-the-connected-party-did-not-properly-respon\" title=\"a connection attempt failed because the connected party did not properly respon\">stackoverflow.com/questions/17693353/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 11671875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79401624fd8adf9f719b27daed53e0ff?s=128&d=identicon&r=PG&f=1", "display_name": "cmoe", "link": "https://stackoverflow.com/users/11671875/cmoe"}, "edited": false, "score": 0, "creation_date": 1560970630, "post_id": 56673999, "comment_id": 99915751, "body": "Hi Chris, I&#39;ve seen that link. That is what my last paragraph highlights."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1560972591, "post_id": 56673999, "comment_id": 99916610, "body": "<code>the api call works perfectly in console app and Postman.</code> Fiddler is a good tool for seeing the differences between different calls."}], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 11671875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79401624fd8adf9f719b27daed53e0ff?s=128&d=identicon&r=PG&f=1", "display_name": "cmoe", "link": "https://stackoverflow.com/users/11671875/cmoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1561407862, "creation_date": 1561407862, "answer_id": 56743498, "question_id": 56673999, "link": "https://stackoverflow.com/questions/56673999/unable-to-interact-with-an-api-in-web-app-but-it-works-in-console-app/56743498#56743498", "title": "Unable to interact with an API in web app but it works in console app", "body": "<p>Just to mention that after trying the above code in my home network and it worked, I pinpointed the problem to be a proxy issue. Removing the below from my code</p>\n\n<pre><code> IWebProxy wp = WebRequest.DefaultWebProxy;\n    wp.Credentials = CredentialCache.DefaultCredentials;\n    webClient.Proxy = wp;\n</code></pre>\n\n<p>and explicitly adding the below to web.config fixed it. I don't know why web app doesn't pickup the default proxy from code but console app does. Any explanation for this behavior will be appreciated. </p>\n\n<pre><code>&lt;system.net&gt;\n    &lt;defaultProxy&gt;\n      &lt;proxy usesystemdefault=\"False\" proxyaddress=\"http://proxy.MYCOMPANY.com:8080\" bypassonlocal=\"True\" /&gt;\n    &lt;/defaultProxy&gt;\n  &lt;/system.net&gt;\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11671875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79401624fd8adf9f719b27daed53e0ff?s=128&d=identicon&r=PG&f=1", "display_name": "cmoe", "link": "https://stackoverflow.com/users/11671875/cmoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 56743498, "answer_count": 1, "score": 0, "last_activity_date": 1561407862, "creation_date": 1560969737, "question_id": 56673999, "link": "https://stackoverflow.com/questions/56673999/unable-to-interact-with-an-api-in-web-app-but-it-works-in-console-app", "title": "Unable to interact with an API in web app but it works in console app", "body": "<p>I'm migrating my existing console app to a web app. I'm making an api call in the controller. The below code works perfectly in console app. But in web app,i get exception at\n<code>var result = webClient.DownloadString(sourceUrl);</code>\nwith the message <code>\"unable to connect to remote server\"</code> and the inner exception says <code>{\"A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond}System.Exception {System.Net.Sockets.SocketException}</code></p>\n\n<p>I have tried to pass the url as uri object, edited web.config file to include default credentials, servicepointmanager etc. I have also tried to make it asynchronous using async and await. I really do not know what is going on. I'm behind a corporate proxy but the api call works perfectly in console app and Postman. </p>\n\n<pre><code>using System.Collections.Generic;\nusing System.Linq;\nusing System.Net;\nusing System.Net.Http;\nusing System.Net.Http.Headers;\nusing System.Web.Http;\n\nnamespace webApp.Controllers\n{\n    public class DataController : ApiController\n    {\n        private string sourceUrl=\"http://api.openweathermap.org/data/2.5/weather?zip=94040,us&amp;appid=YOURID\";\n        [Route(\"\")]\n        public void GetAlldata()\n        {\n            var dataCall = DownloadData(sourceUrl);\n\n        }\n\n\n        private string DownloadData(string url)\n        {\n            try\n            {\n                ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls12;\n                var webClient = new WebClient();\n                IWebProxy wp = WebRequest.DefaultWebProxy;\n                wp.Credentials = CredentialCache.DefaultCredentials;\n                webClient.Proxy = wp;\n                var result = webClient.DownloadString(sourceUrl);\n\n                return result;\n            }\n            catch (Exception ex)\n            {\n                return ex.Message;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sonarqube"], "owner": {"reputation": 192, "user_id": 425542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i99zK.png?s=128&g=1", "display_name": "Rafael Costa", "link": "https://stackoverflow.com/users/425542/rafael-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560969657, "creation_date": 1560969657, "question_id": 56673974, "link": "https://stackoverflow.com/questions/56673974/how-can-i-look-at-modules-using-sonarqube-7-7", "title": "How can I look at modules using SonarQube 7.7?", "body": "<p>I've been previously using SonarQube 6.7 but got it now upgraded to version 7.7.</p>\n\n<p>As stated in <a href=\"https://www.sonarqube.org/sonarqube-7-6/\" rel=\"nofollow noreferrer\">SonarQube 7.6 release notes</a>: </p>\n\n<blockquote>\n  <p>Tracking code quality is as easy as following your project structure.\n  <strong>SonarQube 7.6 drops the concept of modules and keeps things simple\n  with your file directory layout.</strong> With the refreshed Measures Page it\u2019s\n  easier than ever to discover quality issues.</p>\n</blockquote>\n\n<p>The problem is that with the change for directory layout, it's no longer possible to drill down to details of specific modules of my application. Being technically responsible for a large system (over 300K lines) with distributed development teams, looking at the details of each component was particularly important to see their evolution and follow up with the teams responsible for each of those modules, but I cannot find a good way to do it anymore.</p>\n\n<p>I'm not only talking about the UI here, but also about the Web API that I use to generate reports. For example, using <code>&amp;qualifiers=BRC</code> in the query string to retrieve sub-projects is no longer returning anything.</p>\n\n<p>So, any way to obtain the old behaviour? A plugin perhaps?</p>\n"}, {"tags": ["c#", "vb.net", "winforms", "paint"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1560976545, "post_id": 56673924, "comment_id": 99918227, "body": "Move your code to the <code>Paint</code> event."}, {"owner": {"reputation": 11, "user_id": 11671991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50ef5b40973b6e74b20a1d1e5eb67cd?s=128&d=identicon&r=PG&f=1", "display_name": "Stuffi", "link": "https://stackoverflow.com/users/11671991/stuffi"}, "reply_to_user": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1561042739, "post_id": 56673924, "comment_id": 99942964, "body": "The paint-function side effect is just one of many problems. All I want is just to use WS_EX_COMPOSITED excluding some of the child controls."}, {"owner": {"reputation": 1310, "user_id": 6900564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1c30677f0cf2283bd779513701c7e9c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff R.", "link": "https://stackoverflow.com/users/6900564/jeff-r"}, "edited": false, "score": 0, "creation_date": 1561058142, "post_id": 56673924, "comment_id": 99950302, "body": "keep in mind when using WM_EX_COMPOSITED that child controls will be painted from back to front. Also, use the controls Graphics context, don&#39;t create your own, AND be sure to release it when done [as stated by the master... <a href=\"https://devblogs.microsoft.com/oldnewthing/20171018-00/?p=97245]\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/oldnewthing/20171018-00/?p=97245]</a>"}], "owner": {"reputation": 11, "user_id": 11671991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50ef5b40973b6e74b20a1d1e5eb67cd?s=128&d=identicon&r=PG&f=1", "display_name": "Stuffi", "link": "https://stackoverflow.com/users/11671991/stuffi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560969434, "creation_date": 1560969434, "question_id": 56673924, "link": "https://stackoverflow.com/questions/56673924/ws-ex-composited-prevents-paint", "title": "WS_EX_COMPOSITED prevents Paint", "body": "<p>I'm developing a C# Winforms Application. The GUIs are partly really huge (over 200 controls per form). Until recently I had big problems with flickering. I got the problem under control by using WS_EX_COMPOSITED on the main panel:</p>\n\n<pre><code>public class MainPanel : Panel {\n\n        protected override CreateParams CreateParams {\n            get {\n                CreateParams cp = base.CreateParams;\n                cp.ExStyle |= 0x02000000; // WS_EX_COMPOSITED\n                return cp;\n            }\n        }\n...\n\n</code></pre>\n\n<p>Unfortunately, applying WS_EX_COMPOSITED has some side effects. One issue is, that drawing on controls no longer seems to work. The following code works only, if WS_EX_COMPOSITED is not used: </p>\n\n<pre><code>Graphics gr = myControl.CreateGraphics();\ngr.DrawLine(new Pen(Color.Red, 10), 0,0 , 1000, 100);\n\n</code></pre>\n\n<p>I would prefer still to use WS_EX_COMPOSITED, with the exception of the controls on which I draw.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 14110, "user_id": 2416958, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/w8lZr.png?s=128&g=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/2416958/stefan"}, "edited": false, "score": 3, "creation_date": 1560969836, "post_id": 56673923, "comment_id": 99915395, "body": "Have a look at this: <a href=\"https://stackoverflow.com/questions/14646052/how-to-determine-a-404-response-status-when-using-the-httpclient-getasync\" title=\"how to determine a 404 response status when using the httpclient getasync\">stackoverflow.com/questions/14646052/&hellip;</a>"}, {"owner": {"reputation": 1968, "user_id": 2854993, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/903782651787352046ec13f62893eeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris B", "link": "https://stackoverflow.com/users/2854993/chris-b"}, "edited": false, "score": 0, "creation_date": 1560970415, "post_id": 56673923, "comment_id": 99915665, "body": "I&#39;d recommend using <code>HttpClient</code> over <code>WebClient</code>"}], "owner": {"reputation": 241, "user_id": 401284, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b45357be2a8eda53e09c3fc2af772d9c?s=128&d=identicon&r=PG", "display_name": "Chris Lukic", "link": "https://stackoverflow.com/users/401284/chris-lukic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560973992, "creation_date": 1560969432, "last_edit_date": 1560973992, "question_id": 56673923, "link": "https://stackoverflow.com/questions/56673923/is-it-possible-to-check-if-a-file-at-a-url-exists-without-throwing-an-exception", "title": "Is it possible to check if a file at a url exists without throwing an exception?", "body": "<p>I would like to use C# to check if a file exists at a specified url without triggering and catching a 404 error as in the code below. </p>\n\n<pre><code>bool urlExists = true;\ntry {\n    using (var webClient = new WebClient()) {\n        byte[] data = webClient.DownloadData(myUrl);                                \n    }\n}\ncatch (WebException) {\n    urlExists = false;\n}\n\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "powershell"], "answers": [{"tags": [], "owner": {"reputation": 1968, "user_id": 2854993, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/903782651787352046ec13f62893eeb3?s=128&d=identicon&r=PG&f=1", "display_name": "Chris B", "link": "https://stackoverflow.com/users/2854993/chris-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1560970603, "creation_date": 1560970603, "answer_id": 56674195, "question_id": 56673918, "link": "https://stackoverflow.com/questions/56673918/call-post-request-call-using-c-convert-powershell-code-to-csharp-code/56674195#56674195", "title": "Call POST request call using C#. Convert PowerShell code to CSharp code", "body": "<p>Use <code>HttpClient</code>:</p>\n\n<pre><code>// HttpClient is intended to be instantiated once per application, rather than per-use. See Remarks.\nstatic readonly HttpClient client = new HttpClient();\n\nstatic async Task Main()\n{\n  // Call asynchronous network methods in a try/catch block to handle exceptions\n  try   \n  {\n     HttpResponseMessage response = await client.PostAsync(\"https://s16events.azure-automation.net/webhooks?token=sdnfgknsdkfglkshnklsdfhgoihohsndfgndfgknkkdfg\", new StringContent(requestBody));\n\n     response.EnsureSuccessStatusCode();\n\n     string responseBody = await response.Content.ReadAsStringAsync();\n\n     Console.WriteLine(responseBody);\n  }  \n  catch(HttpRequestException e)\n  {\n     Console.WriteLine(\"\\nException Caught!\");  \n     Console.WriteLine(\"Message :{0} \",e.Message);\n  }\n}\n</code></pre>\n\n<p>Example adapted from <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netframework-4.8\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/api/system.net.http.httpclient?view=netframework-4.8</a></p>\n"}], "owner": {"reputation": 17, "user_id": 10902625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ff57e8abb1c30f16d3dec97034b4c1e?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/10902625/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1560970603, "creation_date": 1560969381, "question_id": 56673918, "link": "https://stackoverflow.com/questions/56673918/call-post-request-call-using-c-convert-powershell-code-to-csharp-code", "title": "Call POST request call using C#. Convert PowerShell code to CSharp code", "body": "<p>How can I convert this one line PowerShell code to C# code</p>\n\n<p>Invoke-RestMethod -Method Post -Uri '<a href=\"https://s16events.azure-automation.net/webhooks?token=sdnfgknsdkfglkshnklsdfhgoihohsndfgndfgknkkdfg\" rel=\"nofollow noreferrer\">https://s16events.azure-automation.net/webhooks?token=sdnfgknsdkfglkshnklsdfhgoihohsndfgndfgknkkdfg</a>'</p>\n\n<p>I'm using Visual Studio to do this</p>\n\n<p>Please let me know</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "access-token", "encode", "unauthorized", "tobase64string"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561061085, "post_id": 56693062, "comment_id": 99951527, "body": "how do I add it into the request?"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561061112, "post_id": 56693062, "comment_id": 99951537, "body": "I already get my access token in post but how do I add that token into my get request?"}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561061304, "post_id": 56693062, "comment_id": 99951616, "body": "@fay Updated answer"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561061415, "post_id": 56693062, "comment_id": 99951665, "body": "should i add that to the post or get ? and exactly where do I put this?"}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561061524, "post_id": 56693062, "comment_id": 99951703, "body": "@fay You can add this anywhere you already have your HttpClient created. JUst set the headers. This should be done for all secure API requests for all types GET, POST, PUT etc."}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561061747, "post_id": 56693062, "comment_id": 99951792, "body": "if you look I edited your answer I did that and error on http &amp; access_ token"}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561061953, "post_id": 56693062, "comment_id": 99951859, "body": "@fay where is your access_token defined? Where is it set?"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561062151, "post_id": 56693062, "comment_id": 99951936, "body": "its defined in the - string result"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561062189, "post_id": 56693062, "comment_id": 99951954, "body": "the post method is that what your talking about ?"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561062219, "post_id": 56693062, "comment_id": 99951965, "body": "yaar nahi samaij mein aara hai? i dont know what to do"}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561062438, "post_id": 56693062, "comment_id": 99952059, "body": "@fay If you are getting the access token in the result, then that token must be saved And pass that token with every HTTP request afterwards by adding that in the authorization headers."}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561062532, "post_id": 56693062, "comment_id": 99952088, "body": "so how do I make it universal for it to be passed everywhere ?"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561062542, "post_id": 56693062, "comment_id": 99952092, "body": "let me try something one second"}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561062796, "post_id": 56693062, "comment_id": 99952189, "body": "@fay You save the access token in a variable accessible throughout your app. Then every time you make an HTTP request, you add the access token using authorization header. Best bet is to make a common method to make all your HTTP requests."}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561063114, "post_id": 56693062, "comment_id": 99952333, "body": "@fay You do not need to set authorization header for your current request. The current request uses your client secret and other details to return the access token. Now all your next HTTP requests should add the authorization header and set Bearer acess token."}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561063220, "post_id": 56693062, "comment_id": 99952369, "body": "so should I make result in the top for the post?"}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561063307, "post_id": 56693062, "comment_id": 99952403, "body": "@fay I guess you need to first brush up your basics regarding programming, how HTTP calls work, how bearer token authentication works."}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561063418, "post_id": 56693062, "comment_id": 99952449, "body": "I know I am a weak but I am almost close can I show you what i have now"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561063561, "post_id": 56693062, "comment_id": 99952496, "body": "I think i am very close I have edited your answer its still not finished but very close I made result universal also so  I can keep using it"}, {"owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "reply_to_user": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561064041, "post_id": 56693062, "comment_id": 99952680, "body": "@fay  new AuthenticationHeaderValue(result + &quot;Bearer&quot;); It should be (&quot;Bearer &quot; + result). Second thing, how are you accessing the result variable. That is already out of scope. Its not about being weak, its about trying to achieve something without research. You cant just copy paste code without knowing all the concepts and expect it to work fine."}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561064311, "post_id": 56693062, "comment_id": 99952778, "body": "but I put result all the way in the top so it should have been out of scope now, but I guess it still is as i just tried it, how should I bring it in scope? Yes man Im just still learning things"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561064416, "post_id": 56693062, "comment_id": 99952822, "body": "by the way my access token is in revise to what your showing me look: {&quot;access_token&quot;:&quot;IYM7etnLv35L1NsqLV3WssxDfjbd&quot;,&quot;token_type&quot;:&zwnj;&#8203;&quot;Bearer&quot;}"}, {"owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "edited": false, "score": 0, "creation_date": 1561064455, "post_id": 56693062, "comment_id": 99952835, "body": "It gives me error when I switch it your way not sure way"}], "tags": [], "owner": {"reputation": 1574, "user_id": 1766922, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3e69f09db046949ac3f77240c289f855?s=128&d=identicon&r=PG", "display_name": "Shahzad", "link": "https://stackoverflow.com/users/1766922/shahzad"}, "is_accepted": false, "score": 0, "last_activity_date": 1561062361, "last_edit_date": 1561062361, "creation_date": 1561060689, "answer_id": 56693062, "question_id": 56673911, "link": "https://stackoverflow.com/questions/56673911/tobase64string-not-encoding-my-access-token-resulting-to-401-unauthorized/56693062#56693062", "title": "TObase64String not encoding my Access token , resulting to 401 unauthorized", "body": "<p>You need to add authorization header into the request. You need to set <strong>Authorization</strong> header to <strong>Bearer [acces_token]</strong></p>\n\n<pre><code>httpClient.DefaultRequestHeaders.Authorization =\n       new AuthenticationHeaderValue(\"Bearer \"+ access_token);\n</code></pre>\n\n<p>Notice there is a space after <strong>Bearer</strong> word.</p>\n\n<p>This value <strong>new AuthenticationHeaderValue(\"Bearer \"+ access_token)</strong> should be something like <strong>new AuthenticationHeaderValue(\"Bearer asadasda23qdaddfs45345\")</strong> where <strong>asadasda23qdaddfs45345</strong> is your access token you received.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "is_accepted": true, "score": 0, "last_activity_date": 1561488614, "creation_date": 1561488614, "answer_id": 56760337, "question_id": 56673911, "link": "https://stackoverflow.com/questions/56673911/tobase64string-not-encoding-my-access-token-resulting-to-401-unauthorized/56760337#56760337", "title": "TObase64String not encoding my Access token , resulting to 401 unauthorized", "body": "<p>When your Acesstoken comes back with extra data for example: \"<strong>{\\\"access_token\\\":\\\"uKW7HeksFXz5QE1sF6Kjmfda5Fxi\\\",\\\"token_type\\\":\\\"Bearer\\\"}\\r\\n\"</strong>\nthen use 'substring' to just chuck it down to the accesstoken code for example should look like this ->  '<strong>uKW7HeksFXz5QE1sF6Kjmfda5Fxi</strong>'</p>\n\n<p>how?  Accesstoken.Substring(x , x ); (x= some number your subtracting from string)</p>\n\n<p>then put it in your DefaultRequestHeaders </p>\n\n<pre><code>  public async Task&lt;string&gt; Get(string Accesstoken)\n\n            {\n                 string res = \"\";\n                 using (var client = new HttpClient())\n                {\n                    Accesstoken = Accesstoken.Substring(17, 28);\n                    client.BaseAddress = new Uri(\"https://api.elliemae.com/\");\n                   //client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/x-www-form-urlencoded\"));\n                    client.DefaultRequestHeaders.Add(\"Authorization\", \"Bearer \" + Accesstoken);\n                    var response = client.GetAsync(\"encompass/v1/loans/ea7c29a6-ee08-4816-99d2-fbcc7d15731d\").Result;\n                    using (HttpContent content = response.Content)\n                    {\n                        // ... Read the string.\n                        Task&lt;string&gt; result = content.ReadAsStringAsync();\n                        res = result.Result;\n                    }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8333728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51983b97697ea8716c1ef21a961ba363?s=128&d=identicon&r=PG&f=1", "display_name": "fay", "link": "https://stackoverflow.com/users/8333728/fay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 56760337, "answer_count": 2, "score": -1, "last_activity_date": 1561488614, "creation_date": 1560969329, "last_edit_date": 1561147331, "question_id": 56673911, "link": "https://stackoverflow.com/questions/56673911/tobase64string-not-encoding-my-access-token-resulting-to-401-unauthorized", "title": "TObase64String not encoding my Access token , resulting to 401 unauthorized", "body": "<p>The problem is the String 'resulted' in the ToBase64string is converting as it look like while debugging, but then when I use resulted after encoding it, seems like in the 'var response =' where I want to use 'resulted' after encode, it does not encode based in debug mode. why? Am I missing something </p>\n\n<pre><code>   [HttpGet, Route(\"values/get\")]\n        public async Task&lt;string&gt; Get(string resulted)\n        {\n            //resulted.Remove(0, 17);\n             string res = \"\";\n             using (var client = new HttpClient())\n            {\n                // HTTP POST\n\n                client.BaseAddress = new Uri(\"https://api.elliemae.com/\");\n                client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n                client.DefaultRequestHeaders.Add(\"Authorization\", \"Bearer \" + Convert.ToBase64String(System.Text.ASCIIEncoding.ASCII.GetBytes(resulted)));\n                var response = client.GetAsync(\"/encompass/v1/loans/{ea7c29a6-ee08-4816-99d2-fbcc7d15731d}?Authorization=Bearer \"+resulted+\"&amp;Content-Type=application/json\").Result;\n                using (HttpContent content = response.Content)\n                {\n                    // ... Read the string.\n                    Task&lt;string&gt; result = content.ReadAsStringAsync();\n                    res = result.Result;\n                }\n            }\n            return res;\n        }\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "entity-framework", ".net-core", "entity-framework-core"], "owner": {"reputation": 31, "user_id": 11672225, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LiwCsIQl7xg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd62NgRqQcV9VW4HHec5foJ1HDESg/mo/photo.jpg?sz=128", "display_name": "Joe Morgan", "link": "https://stackoverflow.com/users/11672225/joe-morgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 2, "answer_count": 0, "score": 3, "last_activity_date": 1560969287, "creation_date": 1560969287, "question_id": 56673907, "link": "https://stackoverflow.com/questions/56673907/net-core-automatically-review-unoptimized-entity-framework-queries", "title": "Net Core Automatically Review Unoptimized Entity Framework Queries", "body": "<p>We have a team of application developers creating Entity framework queries. Most of the time, Entity Framework Core prepare good queries; however sometimes they become unoptimized and long.</p>\n\n<p>Is there a method to automatically detect unoptimized Entity Framework Linq queries in the code? Typically what we do, is run we run all our EF repository and services in Integration tests, then manually review the SQL DMV for unoptimized queries.</p>\n\n<p>Is there a framework or better methodology setup to automatically conduct this in Visual Studio or other tool?</p>\n"}, {"tags": ["c#", "console-application"], "comments": [{"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1560969441, "post_id": 56673875, "comment_id": 99915207, "body": "&quot;one of the dices need to have a higher probability of outputting low numbers while the other dice need to have a higher probability of outputting higher numbers&quot; Can you define that more formally? Do you mean one dice has a probability of x of rolling 4, 5 or 6, while the other one has a probability of y of rolling a 1, 2, or 3, where x and y are both greater than 0.5?"}, {"owner": {"reputation": 85, "user_id": 1845777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cb50678a0dc68c75def4c85a3f8e2ed?s=128&d=identicon&r=PG", "display_name": "user1845777", "link": "https://stackoverflow.com/users/1845777/user1845777"}, "reply_to_user": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "edited": false, "score": 0, "creation_date": 1560969656, "post_id": 56673875, "comment_id": 99915306, "body": "Hello, thanks for the quick response, basically I need 1 die to have a higher chance of rolling 1, 2 ,3 and therefore also a lower chance of rolling 4,5,6 And then the other die to have a higher chance of rolling 4,5,6 and lower chance of rolling 1,2,3  And then for some way to allow the user to adjust the likelyhood of rolling either low or high numbers, thats at least how I understand the assignment.  And yeah, basically what you wrote is correct I think."}], "answers": [{"tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": false, "score": 0, "last_activity_date": 1560970029, "creation_date": 1560970029, "answer_id": 56674067, "question_id": 56673875, "link": "https://stackoverflow.com/questions/56673875/finding-the-sum-and-adding-a-probability-scale/56674067#56674067", "title": "Finding the sum and adding a probability scale", "body": "<p>One way to do this is to add a property called <code>ChanceOfRollingSmallNumber</code> into your <code>Dice</code> class:</p>\n\n<pre><code>public int ChanceOfRollingSmallNumber { get; set; } = 50;\n</code></pre>\n\n<p>When rolling the dice, generate a random number between 0 and 99. If the number is less than the <code>ChanceOfRollingSmallNumber</code>, then generate a small random number, otherwise generate a large random number:</p>\n\n<pre><code>if (rng.Next(100) &lt; ChanceOfRollingSmallNumber) {\n    NumberOfDice = rng.Next(1, 4);\n} else {\n    NumberOfDice = rng.Next(4, 7);\n}\n</code></pre>\n\n<p>For the dice that has a high probability of rolling a small number, just set <code>ChanceOfRollingSmallNumber</code> to something big. For the dice that has a high probably of rolling a big number, just set it to something small. For the fair dices, just set it to 50.</p>\n\n<p>If you want even finer tuning, you could make <code>ChanceOfRollingSmallNumber</code> range from 0 to 1000, or something even bigger than that.</p>\n"}, {"tags": [], "owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "is_accepted": false, "score": 0, "last_activity_date": 1560970078, "creation_date": 1560970078, "answer_id": 56674081, "question_id": 56673875, "link": "https://stackoverflow.com/questions/56673875/finding-the-sum-and-adding-a-probability-scale/56674081#56674081", "title": "Finding the sum and adding a probability scale", "body": "<p>I think what you're looking for is a weighted random number generator.</p>\n\n<p>So I think you should be able to adopt this solution for your need.</p>\n\n<p>First, a weight class to define your weights. This would be what you'd use for your sides of the dice.</p>\n\n<pre><code>public class WeightUnit\n{\n    public string Name = string.Empty;\n    public int Weight = 0;\n\n    public WeightUnit(string n, int w)\n    {\n        this.Name = n;\n        this.Weight = w;\n    }\n}\n</code></pre>\n\n<p>Then this method will return a weighted random number:</p>\n\n<pre><code>public static WeightUnit GetRandom(List&lt;WeightUnit&gt; weights)\n{\n    var totalWeight = weights.Sum(x =&gt; x.Weight);\n    int randomNumber = _rnd.Next(0, totalWeight);\n\n    WeightUnit selected = null;\n    foreach (WeightUnit unit in weights)\n    {\n        if (randomNumber &lt; unit.Weight)\n        {\n            selected = unit;\n            break;\n        }\n\n        randomNumber = randomNumber - unit.Weight;\n    }\n\n    return selected;\n}\n</code></pre>\n\n<p>And here's a main program to verify:</p>\n\n<pre><code>private static Random _rnd = new Random();\n\nstatic void Main()\n{\n    List&lt;WeightUnit&gt; weights = new List&lt;WeightUnit&gt;\n    {\n        new WeightUnit(\"1\", 20),\n        new WeightUnit(\"2\", 20),\n        new WeightUnit(\"3\", 20),\n        new WeightUnit(\"4\", 10),\n        new WeightUnit(\"5\", 10),\n        new WeightUnit(\"6\", 10)\n    };\n\n    Dictionary&lt;string, int&gt; result = new Dictionary&lt;string, int&gt;();\n\n    WeightUnit selected = null;\n\n    for (int i = 0; i &lt; 1000; i++)\n    {\n        selected = GetRandom(weights);\n        if (selected != null)\n        {\n            if (result.ContainsKey(selected.Name))\n            {\n                result[selected.Name] = result[selected.Name] + 1;\n            }\n            else\n            {\n                result.Add(selected.Name, 1);\n            }\n        }\n    }\n\n\n    Console.WriteLine(\"1\\t\\t\" + result[\"1\"]);\n    Console.WriteLine(\"2\\t\\t\" + result[\"2\"]);\n    Console.WriteLine(\"3\\t\\t\" + result[\"3\"]);\n    Console.WriteLine(\"4\\t\\t\" + result[\"4\"]);\n    Console.WriteLine(\"5\\t\\t\" + result[\"5\"]);\n    Console.WriteLine(\"6\\t\\t\" + result[\"6\"]);\n    Console.ReadLine();\n}\n</code></pre>\n\n<p>As you can see, I've assigned twice the weightage for numbers 1,2, and 3, and over 1,000 iterations they're selected twice as many times compared to 4, 5, and 5. So when you're making your list you can assign the weightage you want.</p>\n\n<p><a href=\"https://i.stack.imgur.com/j7xcS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j7xcS.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1560974613, "post_id": 56674310, "comment_id": 99917441, "body": "Though this technique can work, there are a few problems with it. First, since you&#39;re using doubles, there are some rare cases where doubles that you think add up to 1.0 do not, and that can then lead in very rare cases to a value not being picked from the list. I&#39;m sure you can see how to tweak the implementation so that if you get to round 6, you automatically produce the right result. Alternatively, do the math in integers: 1000, 1200, 1800, and so on, and then generate a random integer from 0 to the sum."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1560974807, "post_id": 56674310, "comment_id": 99917522, "body": "Second, on average this does three or four loops per roll, which is almost certainly just fine. But it is interesting to think about what happens if you have a 100-sided or 1000-sided die; then you end up doing on average possibly hundreds of loops per roll. To solve this problem you can do some precomputation to build a distribution that samples <i>two</i> random numbers and does only one comparison, no matter how many sides the die has. See part 8 of my recent series on &quot;fixing random&quot; for a description of the algorithm."}, {"owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1561037570, "post_id": 56674310, "comment_id": 99939773, "body": "For the case where the doubles do not add up to 1.0 I proposed the line <code>double p = rng.NextDouble() * loadedDice.Sum();</code>. This should also produce the same rounding errors as in the running sum calculation. If it is still a problem just add a constant to the last probability (after having calculated the sum for the <code>p</code> calculation). The algorithm you described in <a href=\"https://ericlippert.com/2019/02/26/fixing-random-part-8/\" rel=\"nofollow noreferrer\">Fixing Random, part 8</a> is very interesting indeed. It could easily be adapted to doubles and would not have this rounding problem."}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": false, "score": 1, "last_activity_date": 1561058194, "last_edit_date": 1561058194, "creation_date": 1560971094, "answer_id": 56674310, "question_id": 56673875, "link": "https://stackoverflow.com/questions/56673875/finding-the-sum-and-adding-a-probability-scale/56674310#56674310", "title": "Finding the sum and adding a probability scale", "body": "<p>You can create an array of probabilities for each face of the dice.</p>\n\n<pre><code>var loadedDice = new double[] { 0.1, 0.12, 0.18, 0.2, 0.21, 0.19 };\n</code></pre>\n\n<p>Now you generate a random number between 0.0 and 1.0 and calculate a running sum of these probabilities, until the sum is greater or equal to the random number.</p>\n\n<pre><code>// Play the dice\ndouble p = rng.NextDouble() * loadedDice.Sum();\n\ndouble sum = 0.0;\nfor (int i = 0; i &lt; 6; i++) {\n    sum += loadedDice[i];\n    if (sum &gt;= p) {\n        Console.Write($\"The number is {i + 1}\");\n        break;\n    }\n}\n</code></pre>\n\n<p>We add one, because the indexes start at 0.</p>\n\n<hr>\n\n<p>Example:</p>\n\n<p>The <code>x</code>s in this image represent the running sum. The distances between them correspond to the probabilities  in the array. If say we get a random number of 0.27239827 (<code>p</code> in the image), then the running sum becomes greater than <code>p</code> for index = 2. We rolled number 3.</p>\n\n<pre><code>     x     x p      x         x          x        x\n+----+----+----+----+----+----+----+----+----+----+\n0   0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9  1.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 3, "last_activity_date": 1560973679, "creation_date": 1560973679, "answer_id": 56674863, "question_id": 56673875, "link": "https://stackoverflow.com/questions/56673875/finding-the-sum-and-adding-a-probability-scale/56674863#56674863", "title": "Finding the sum and adding a probability scale", "body": "<p>I have recently written a 40-part blog series on how to more elegantly build randomness into C# programs. Your problem is covered in part 9:</p>\n\n<p><a href=\"https://ericlippert.com/2019/02/28/fixing-random-part-9/\" rel=\"nofollow noreferrer\">https://ericlippert.com/2019/02/28/fixing-random-part-9/</a></p>\n\n<p>In short: create a <em>non uniform weighted distribution object</em> to represent the distribution. You can implement it efficiently with the <em>alias method</em>. You then <em>sample</em> from that distribution to roll your die.</p>\n\n<p>You can then create a game distribution by summing the results of various die distributions, and sample from it.</p>\n\n<p>I suggest that you read the entire series; you will learn a lot from it. It begins here:</p>\n\n<p><a href=\"https://ericlippert.com/2019/01/31/fixing-random-part-1/\" rel=\"nofollow noreferrer\">https://ericlippert.com/2019/01/31/fixing-random-part-1/</a></p>\n\n<p>You can find the source code for the implementation of the alias method here:</p>\n\n<p><a href=\"https://github.com/ericlippert/probability/tree/episode09\" rel=\"nofollow noreferrer\">https://github.com/ericlippert/probability/tree/episode09</a></p>\n"}], "owner": {"reputation": 85, "user_id": 1845777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cb50678a0dc68c75def4c85a3f8e2ed?s=128&d=identicon&r=PG", "display_name": "user1845777", "link": "https://stackoverflow.com/users/1845777/user1845777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1561321335, "creation_date": 1560969205, "last_edit_date": 1561321335, "question_id": 56673875, "link": "https://stackoverflow.com/questions/56673875/finding-the-sum-and-adding-a-probability-scale", "title": "Finding the sum and adding a probability scale", "body": "<p>I am working on an assignment where I need to create a fully functioning Yahtzee program. I am now done with the initial task, and have a fully functioning Yahtzee application, so I can roll the dice and I can hold values etc.\nBut the problem I am facing right now is that I need to add 2 special dies to the mix, one of the dies need to have a higher probability of outputting low numbers while the other die need to have a higher probability of outputting higher numbers, also I need to provide a way for the user to adjust the probability on these dies within the console window.</p>\n\n<p>So basically I was looking around on the internet and it seemed like, if I hardcoded it with an array, where I basically put more low numbers than high numbers, it does work, but that is very messy, and also doesn't fix the issue and also makes the task of allowing the user to adjust the probability very silly.</p>\n\n<p>Long time since I've used the site, apologize if this is a bit sloppy.</p>\n\n<pre><code>class Dice\n{\n    public static readonly Random rng = new Random();\n\n        public int NumberOfDice { get; private set; }\n\n        public Dice()\n        {\n            NumberOfDice = rng.Next(1, 7);\n        }\n\n        public void Reroll()\n        {\n            NumberOfDice = rng.Next(1, 7);\n        }\n    }\n\n    public bool FirstRound { get; private set; } = true;\n\n    public readonly Dice[] Dices =\n    {\n        new Dice(),\n        new Dice(),\n        new Dice(),\n        new Dice(),\n        new Dice(),\n\n    public void KeepDices(int[] toReroll)\n    {\n        for (int i = 0; i &lt; Dices.Length; i++)\n        {\n            bool numFound = false;\n\n            foreach (int roll in toReroll)\n            {\n                if (Dices[i].NumberOfDice == roll)\n                {\n                    numFound = true;\n                }\n            }\n\n            if (numFound)\n            {\n                continue;\n            }\n            else\n            {\n                Dices[i].Reroll();\n            }\n        }\n\n        ShowDices();\n    }\n\n    public void ShowDices()\n    {\n        Console.WriteLine();\n\n        foreach (Dice dice in Dices)\n        {\n            Console.Write(\"[{0}] \", dice.NumberOfDice);\n            FirstRound = false;\n        }\n\n        Console.WriteLine();\n        Console.WriteLine();\n    }\n\n    public void RerollAll()\n    {\n        foreach (Dice dice in Dices)\n        {\n            dice.Reroll();\n        }\n\n        ShowDices();\n    }\n}\n</code></pre>\n\n<p>As I said the program runs fine, it works, but just need to somehow add a way to tie two of the dices to probability.</p>\n"}, {"tags": ["c#", "reflection"], "answers": [{"comments": [{"owner": {"reputation": 4210, "user_id": 478319, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0cc0c0b848464b2bdc6a6b03b1c387c8?s=128&d=identicon&r=PG", "display_name": "cost", "link": "https://stackoverflow.com/users/478319/cost"}, "edited": false, "score": 0, "creation_date": 1560977671, "post_id": 56675653, "comment_id": 99918632, "body": "DemoContainer is just representative, there&#39;s lots of classes that contain Demo properties, it&#39;s not all within one class (1500+ classes). As for the solution you listed at the end, I mentioned at the end of my question that was already my backup plan: <code>I suspect I&#39;ll end up passing the attribute data as a string to the constructor, but I wanted to make sure there wasn&#39;t something else I could do to make this lookup work.</code>"}, {"owner": {"reputation": 4210, "user_id": 478319, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0cc0c0b848464b2bdc6a6b03b1c387c8?s=128&d=identicon&r=PG", "display_name": "cost", "link": "https://stackoverflow.com/users/478319/cost"}, "edited": false, "score": 0, "creation_date": 1560977842, "post_id": 56675653, "comment_id": 99918698, "body": "I updated my question to be more specific about this."}], "tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 0, "last_activity_date": 1560977442, "creation_date": 1560977442, "answer_id": 56675653, "question_id": 56673873, "link": "https://stackoverflow.com/questions/56673873/get-an-attribute-for-a-class-containing-a-property-with-a-lazy-initializtion/56675653#56675653", "title": "Get an attribute for a class containing a property with a Lazy initializtion", "body": "<p>When you call <code>DemoContainer.Demo</code>, it returns an instance of <code>Demo</code> that doesn't \"know\" where it came from. Nothing references back to the <code>DemoContainer</code> class, which means you can't access the attribute of that class.</p>\n\n<p>Although the instance of <code>Demo</code> doesn't know where it came from, you know where it came from because you're calling it. So at whatever point you're calling <code>DemoContainer.Demo</code>, you could also read the attribute from <code>DemoContainer</code>:</p>\n\n<pre><code>var someAttribute = typeof(DemoContainer).GetCustomAttribute(typeof(SomeAttributeAttribute))\n    as SomeAttributeAttribute;\nvar attributeValue = someAttribute?.AttributeValue;\n</code></pre>\n\n<p>But if that's how you want to use whatever that value is, this would be much easier:</p>\n\n<pre><code>public static class DemoContainer\n{\n    public const string Details = \"Here are details\";\n    public static Demo Things { get; } = new Demo();\n}\n</code></pre>\n\n<p>In other words, why read it from an attribute at all?</p>\n\n<p>But even better, if you want the originator of the object to somehow include information in the object, you can just do that through the object's constructor.</p>\n\n<pre><code>public static class DemoContainer\n{\n    public static Demo Things { get; } = new Demo(\"Here are details\");\n}\n</code></pre>\n\n<p>That seems like the most intuitive way to get the desired result.</p>\n"}], "owner": {"reputation": 4210, "user_id": 478319, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0cc0c0b848464b2bdc6a6b03b1c387c8?s=128&d=identicon&r=PG", "display_name": "cost", "link": "https://stackoverflow.com/users/478319/cost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560978361, "creation_date": 1560969198, "last_edit_date": 1560978361, "question_id": 56673873, "link": "https://stackoverflow.com/questions/56673873/get-an-attribute-for-a-class-containing-a-property-with-a-lazy-initializtion", "title": "Get an attribute for a class containing a property with a Lazy initializtion", "body": "<p>I don't think what I'm trying to do is possible. I have a property that is lazy initialized. Within the constructor I want to get the value of an attribute on the class that contains the property. I have a minimal example below.</p>\n\n<pre><code>public class Demo\n{\n    private Lazy&lt;InternalDemo&gt; data;\n\n    public Demo(*stuff*)\n    {\n        data = new Lazy&lt;InternalDemo&gt;(*stuff*);\n    }\n\n    public string GetDetails()\n    {\n        return data.Value.Details;\n    }\n\n    private class InternalDemo\n    {\n        public string Details { get; set; }\n        public InternalDemo()\n        {\n            //Details = SomeAttribute.Text\n        }\n    }\n}\n\n[SomeAttribute(\"Here are details\")]\npublic static class DemoContainer\n{\n    public static Demo Things { get; } = new Demo();\n}\n\n[SomeAttribute(\"Here are more details\")]\npublic static class DemoContainer2\n{\n    public static Demo2 Things { get; } = new Demo();\n}\n\n//Value is referenced via \nDemoContainer.Demo.GetDetails() //\"Here are details\"\nDemoContainer2.Demo2.GetDetails() //\"Here are more details\"\n//etc\n</code></pre>\n\n<p>The <code>DemoContainer</code> class is just an example, there are lots of classes containing <code>Demo</code> properties so the type with the attribute is not a constant. The property names are also not guaranteed to be unique throughout the application.</p>\n\n<p>When this is not <code>Lazy</code>, I can use reflection to walk the stack until it finds the class with <code>SomeAttribute</code> defined, however with <code>Lazy</code>, <code>DemoContainer</code> isn't part of the stack. </p>\n\n<p>I know that I could pass in the type of <code>DemoContainer</code>, or ever the value of <code>SomeAttribute</code> to the <code>Demo</code> constructor, but the purpose of this attribute was to avoid having to do so. The properties are static because they're part of a caching mechanism, but I didn't want to initialize them until they're actually used. </p>\n\n<p>Also, I don't want to add reflection outside of the <code>Lazy</code> because there are lots of these static properties and I don't want a large overhead on initial load. I've already tested this.</p>\n\n<p>I suspect I'll end up passing the attribute data as a string to the constructor, but I wanted to make sure there wasn't something else I could do to make this lookup work. It doesn't matter if it's an inefficient way to do it, either, since it will only run on first use.</p>\n"}, {"tags": ["c#", ".net", "datetime"], "comments": [{"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1560969285, "post_id": 56673864, "comment_id": 99915118, "body": "The <code>Date</code> property is of type <code>DateTime</code>.  It has to include <i>some</i> time information."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560969308, "post_id": 56673864, "comment_id": 99915129, "body": "A <code>DateTime</code> struct always has a time component, and the <code>Date</code> property returns a <code>DateTime</code> with a default time value of all zeros (midnight). Just ignore the time if you only care about the date. If the time portion is showing up in the UI somewhere, that&#39;s due to a formatting issue. See <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/standard-date-and-time-format-strings\" rel=\"nofollow noreferrer\">Standard date and time format strings</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/base-types/cust%5Dom-date-and-time-format-strings\" rel=\"nofollow noreferrer\">Custom date and time format strings</a>"}, {"owner": {"reputation": 90882, "user_id": 447156, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/8348bcf40f55bc5818651824369caff1?s=128&d=identicon&r=PG", "display_name": "Soner G&#246;n&#252;l", "link": "https://stackoverflow.com/users/447156/soner-g%c3%b6n%c3%bcl"}, "edited": false, "score": 0, "creation_date": 1560969447, "post_id": 56673864, "comment_id": 99915211, "body": "Those are different <i>textual</i> representations of the same <code>DateTime</code> instances."}, {"owner": {"reputation": 787, "user_id": 10365411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBLzd.jpg?s=128&g=1", "display_name": "Hawkzey", "link": "https://stackoverflow.com/users/10365411/hawkzey"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560969738, "post_id": 56673864, "comment_id": 99915349, "body": "@RufusL I have changed it so travelDate is now a string, and i need to get just the date part and not the time, as the api im calling does not allow for the time section.However it still gives me the time?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1560969917, "post_id": 56673864, "comment_id": 99915440, "body": "If you have a string representation of a <code>DateTime</code> and you want to get just the <code>Date</code> part as a string, you can use a combination of <code>DateTime.Parse</code> to convert the string back to a <code>DateTime</code> struct, and then use string formatting from the links in my comment above to format that as a string without the time portion. For example: <code>var dateString = DateTime.Parse(dateTimeString).ToShortDateString();</code>"}], "owner": {"reputation": 787, "user_id": 10365411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBLzd.jpg?s=128&g=1", "display_name": "Hawkzey", "link": "https://stackoverflow.com/users/10365411/hawkzey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1560969410, "answer_count": 0, "score": 0, "last_activity_date": 1560969163, "creation_date": 1560969163, "question_id": 56673864, "link": "https://stackoverflow.com/questions/56673864/datetime-still-brings-back-time-when-i-do-date", "closed_reason": "Duplicate", "title": "DateTime still brings back time when i do .Date?", "body": "<pre><code>var travelDate = model.TravelDate.Value.AddHours(12).ToUniversalTime().Date;\nvar travelDate2 = travelDate.Date;\n</code></pre>\n\n<p>Why is Date still coming back as {6/20/2019 12:00:00 AM} and not {6/20/2019}.\nIs there a way for me to just get the date?</p>\n"}, {"tags": ["c#", "azure", "azure-storage-blobs"], "comments": [{"owner": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "edited": false, "score": 0, "creation_date": 1560969204, "post_id": 56673773, "comment_id": 99915073, "body": "I asked and answered because there was no answer to this already on this site."}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1560973570, "post_id": 56673773, "comment_id": 99917014, "body": "There are, in fact, several questions (and related answers) to this, on the site."}, {"owner": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1560981101, "post_id": 56673773, "comment_id": 99919796, "body": "None that do this exactly. Some are very specific. This does one thing. Gets all the Uris in the container and searches the entire folder/name structure."}], "answers": [{"comments": [{"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 2, "creation_date": 1560973629, "post_id": 56673848, "comment_id": 99917038, "body": "Your solution is recursively looking at directories in a container. But... you should know that there are only two levels to the hierarchy: container, and object. There are no subdirectories, and no need to search recursively. Anything that looks like a subdirectory is in the name alone: just names with directory slashes."}, {"owner": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1560981026, "post_id": 56673848, "comment_id": 99919777, "body": "Thank you David. I know that. This solution will return all the blob uris in the container regardless of name structure."}, {"owner": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 0, "creation_date": 1561010383, "post_id": 56673848, "comment_id": 99925640, "body": "Right - what I&#39;m saying, though, is that you can get the same results without doing any of that. You need to specify a flat blob listing. Such as <a href=\"https://stackoverflow.com/a/43945874/272109\">this answer</a> describes."}], "tags": [], "owner": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "is_accepted": true, "score": 0, "last_activity_date": 1561384819, "last_edit_date": 1561384819, "creation_date": 1560969111, "answer_id": 56673848, "question_id": 56673773, "link": "https://stackoverflow.com/questions/56673773/get-all-blob-uris-from-azure-container-and-sub-directories/56673848#56673848", "title": "Get all blob Uris from Azure container and sub-directories", "body": "<p>Updated, Thanks you David Makogon for pointing me to the \"useFlatBlobListing:true\" flag.\nI have updated this answer and I am aware it may be flagged as a duplicate. \nThis will return all blob Uris in the container.</p>\n\n<pre><code> public List&lt;string&gt; GetAllBlobUrisInContainer(string containerName, string blobNamePrefix = \"\")\n    {\n        List&lt;string&gt; uriList = new List&lt;string&gt;();\n        var container = GetBlobContainer(containerName);\n        var blobList = container.ListBlobs(useFlatBlobListing: true);\n        foreach (var cloudBlockBlob in blobList)\n        {\n            uriList.Add(cloudBlockBlob.Uri.ToString());\n        }\n\n        return uriList;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "edited": false, "score": 0, "creation_date": 1561134162, "post_id": 56677951, "comment_id": 99977678, "body": "I&#39;m not sure that will return all the Uris in the container. One has to actively insert the directory path which is what my code is designed to prevent."}, {"owner": {"reputation": 5379, "user_id": 2995449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d86c0a1ca294dcdf8a4156c997c43f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaoxing Lu", "link": "https://stackoverflow.com/users/2995449/zhaoxing-lu"}, "reply_to_user": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "edited": false, "score": 0, "creation_date": 1561225337, "post_id": 56677951, "comment_id": 99997149, "body": "Please forget about <b>directory</b> since there isn&#39;t such a layer in Azure Blob Storage service at all. I was using <code>blobNamePrefix</code> instead in code above to prevent confusion."}, {"owner": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "edited": false, "score": 0, "creation_date": 1561384192, "post_id": 56677951, "comment_id": 100034724, "body": "Zhaoxing, I tested your answer and I see you failed to understand what my code did. Obviously its easier to get the first layer like this example. This will return all the blobs at the base directory, or without slashes in the name. My code will identify all the virtual directories and return all the Uris of all the blobs. Sorry Zhaoxing, this answer is redundant."}], "tags": [], "owner": {"reputation": 5379, "user_id": 2995449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5d86c0a1ca294dcdf8a4156c997c43f?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaoxing Lu", "link": "https://stackoverflow.com/users/2995449/zhaoxing-lu"}, "is_accepted": false, "score": -1, "last_activity_date": 1561225087, "last_edit_date": 1561225087, "creation_date": 1560995145, "answer_id": 56677951, "question_id": 56673773, "link": "https://stackoverflow.com/questions/56673773/get-all-blob-uris-from-azure-container-and-sub-directories/56677951#56677951", "title": "Get all blob Uris from Azure container and sub-directories", "body": "<p>Your code is redundant actually. There is no need to list directories in a blob container at first, since there are only two levels in Azure Blob Storage: containers and blobs, directory is just a virtual concept which doesn't really exist in the service side.</p>\n\n<p>Below is the simplified code:</p>\n\n<pre><code>public List&lt;string&gt; GetBlobUris(string containerName, string blobNamePrefix = \"\")\n{\n    List&lt;string&gt; uriList = new List&lt;string&gt;();\n    var container = GetBlobContainer(containerName);\n    List&lt;CloudBlockBlob&gt; cloudBlockBlobs = GetBlobs(containerName, blobNamePrefix);\n    foreach (var cloudBlockBlob in cloudBlockBlobs)\n    {\n        uriList.Add(cloudBlockBlob.Uri.ToString());\n    }\n\n    return uriList;\n}\n\npublic List&lt;CloudBlockBlob&gt; GetBlobs(string containerName, string blobNamePrefix = \"\")\n{\n    var container = GetBlobContainer(containerName);\n    return container.ListBlobs().OfType&lt;CloudBlockBlob&gt;().Where(b =&gt; b.Name.StartsWith(blobNamePrefix)).ToList();\n}\n</code></pre>\n"}], "owner": {"reputation": 866, "user_id": 2384810, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d79b632f892a2b4aba155f0e64b25dc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Hogan", "link": "https://stackoverflow.com/users/2384810/john-hogan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 56673848, "answer_count": 2, "score": 1, "last_activity_date": 1561384819, "creation_date": 1560968762, "question_id": 56673773, "link": "https://stackoverflow.com/questions/56673773/get-all-blob-uris-from-azure-container-and-sub-directories", "title": "Get all blob Uris from Azure container and sub-directories", "body": "<p>How can I get a list of all of the blob Uris from the entire azure blob storage container in C#?</p>\n"}, {"tags": ["c#", "lazy-loading", "ef-core-2.1"], "comments": [{"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1560967865, "post_id": 56673507, "comment_id": 99914485, "body": "You are returning null when there is no AddressHistory, but you never check for that scenario in use."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1560967868, "post_id": 56673507, "comment_id": 99914487, "body": "Have you debugged to see if <code>AddressHistory</code> contains any elements?  Plus, <code>LastOrDefault()</code> returns a null if there are no elements.  Basically, <b>you gotta use your debugger</b>"}, {"owner": {"reputation": 4204, "user_id": 392957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6282692873bfc333c11978e79cef723a?s=128&d=identicon&r=PG", "display_name": "Tony Abrams", "link": "https://stackoverflow.com/users/392957/tony-abrams"}, "edited": false, "score": 0, "creation_date": 1560968216, "post_id": 56673507, "comment_id": 99914634, "body": "dbContext.MyEntity.Include(&quot;AddressHistory&quot;).Where(e =&gt; e.Address.Street == &quot;some stuff&quot;);"}, {"owner": {"reputation": 1703, "user_id": 2156154, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d794845dbb0ca154f586595dad6ca000?s=128&d=identicon&r=PG&f=1", "display_name": "Robouste", "link": "https://stackoverflow.com/users/2156154/robouste"}, "reply_to_user": {"reputation": 4204, "user_id": 392957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6282692873bfc333c11978e79cef723a?s=128&d=identicon&r=PG", "display_name": "Tony Abrams", "link": "https://stackoverflow.com/users/392957/tony-abrams"}, "edited": false, "score": 0, "creation_date": 1560970600, "post_id": 56673507, "comment_id": 99915739, "body": "@TonyAbrams doing an include is not lazyloading anymore To the others, AdressHistory is not empty, obviously"}, {"owner": {"reputation": 1703, "user_id": 2156154, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d794845dbb0ca154f586595dad6ca000?s=128&d=identicon&r=PG&f=1", "display_name": "Robouste", "link": "https://stackoverflow.com/users/2156154/robouste"}, "edited": false, "score": 0, "creation_date": 1560970840, "post_id": 56673507, "comment_id": 99915847, "body": "I edited the question to provide more info"}], "answers": [{"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 6, "last_activity_date": 1560974728, "creation_date": 1560974728, "answer_id": 56675105, "question_id": 56673507, "link": "https://stackoverflow.com/questions/56673507/entity-framework-core-lazy-loading-not-working-for-getters/56675105#56675105", "title": "Entity Framework Core - Lazy Loading not working for Getters", "body": "<p>You are right, it doesn't work. And I don't think it ever will. </p>\n\n<p>EF Core currently has problems with <a href=\"https://docs.microsoft.com/en-us/ef/core/querying/client-eval#client-evaluation\" rel=\"noreferrer\">client evaluation</a> of navigation properties (both lazy or eager loaded). This is one of the reasons client evaluation <a href=\"https://docs.microsoft.com/en-us/ef/core/what-is-new/ef-core-3.0/breaking-changes#linq-queries-are-no-longer-evaluated-on-the-client\" rel=\"noreferrer\">will be removed</a> in the next EF Core major version (3.0). And queries using such expressions will simply throw exceptions similar to EF6.</p>\n\n<p>With all that in mind, don't use such \"helper\" properties in LINQ to Entities queries. I know this is good from OOP and reusability view, but LINQ query translation does not play well with encapsulation because it's based on knowledge and needs to see the code (expression) behind everything not part of the model mapping to the database.</p>\n\n<p>You already know the working solution, simply use it. Or take a look at <a href=\"https://docs.microsoft.com/en-us/ef/core/extensions/\" rel=\"noreferrer\">3rd party extensions</a> like <a href=\"https://docs.microsoft.com/en-us/ef/core/extensions/#neinlinqentityframeworkcore\" rel=\"noreferrer\">NeinLinq.EntityFrameworkCore</a> which try to address the reusability problem.</p>\n"}], "owner": {"reputation": 1703, "user_id": 2156154, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d794845dbb0ca154f586595dad6ca000?s=128&d=identicon&r=PG&f=1", "display_name": "Robouste", "link": "https://stackoverflow.com/users/2156154/robouste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "accepted_answer_id": 56675105, "answer_count": 1, "score": 1, "last_activity_date": 1560974728, "creation_date": 1560967552, "last_edit_date": 1560972078, "question_id": 56673507, "link": "https://stackoverflow.com/questions/56673507/entity-framework-core-lazy-loading-not-working-for-getters", "title": "Entity Framework Core - Lazy Loading not working for Getters", "body": "<p>Let's assume this scenario</p>\n\n<p>Entity</p>\n\n<pre><code>public virtual List&lt;Address&gt; AddressHistory { get; set; }\n\npublic Address Address\n{\n    get\n    {\n        if (AddressHistory.Any())\n        {\n            return AddressHistory.OrderByDescending(x =&gt; x.CreationDate).FirstOrDefault();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>When requesting an address based on a condition, like this :</p>\n\n<pre><code>dbContext.MyEntity.Where(e =&gt; e.Address.Street == \"some stuff\");\n</code></pre>\n\n<p>I get a null reference exception.</p>\n\n<p>Why ? Is there a way to make it work ?</p>\n\n<p>EDIT: for those who think Address might be empty, it works when doing that :</p>\n\n<pre><code>dbContext.MyEntity.Where(e =&gt; e.AddressHistory.OrderByDescending(x =&gt; x.CreationDate).FirstOrDefault().Street == \"some stuff\");\n</code></pre>\n\n<p>EDIT: To the guy who marked it as duplicate, I don't think you understand the issue here. Please remove the marking. </p>\n\n<p>So, to sum up :</p>\n\n<p>If I use the getter => null exception, because the children (AdressHistory) is not lazy loaded. \nIf I use the code inside the getters directly in the efcore expression, it works.</p>\n\n<p>Which means using a getter doesn't work in EFCore.</p>\n"}, {"tags": ["c#", "asynchronous", "asp.net-web-api"], "comments": [{"owner": {"reputation": 6742, "user_id": 2170171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/720d44a94ec8d20e08d49f2ebf825170?s=128&d=identicon&r=PG", "display_name": "Lanorkin", "link": "https://stackoverflow.com/users/2170171/lanorkin"}, "edited": false, "score": 0, "creation_date": 1560967957, "post_id": 56673495, "comment_id": 99914528, "body": "<code>async</code> doesn&#39;t mean &quot;in parallel&quot;. The only real purpose of <code>async</code> is not to burn CPU while waiting for external resources (network, disk etc). Sending mail can be async in a way &quot;I don&#39;t to burn my CPU while waiting for SMTP server to respond&quot;, but that doesn&#39;t matter in your task &quot;queue email sending and return&quot; - and that is, you need some kind of a queue here (background thread, thread pool, separate planner in database - whatever satisfy your needs / load etc)."}, {"owner": {"reputation": 19, "user_id": 10691380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QE0D3.png?s=128&g=1", "display_name": "Guilherme Jacob", "link": "https://stackoverflow.com/users/10691380/guilherme-jacob"}, "reply_to_user": {"reputation": 6742, "user_id": 2170171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/720d44a94ec8d20e08d49f2ebf825170?s=128&d=identicon&r=PG", "display_name": "Lanorkin", "link": "https://stackoverflow.com/users/2170171/lanorkin"}, "edited": false, "score": 0, "creation_date": 1560968226, "post_id": 56673495, "comment_id": 99914640, "body": "I see, thank you for clarifying. So basically i would instanciate a new thread      Thread t1 = new Thread(new ThreadStart(Email.send(mailData)));  Start the process      t1.Start();  And then return the response      return Ok(&quot;Your email was sent!&quot;);"}, {"owner": {"reputation": 6742, "user_id": 2170171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/720d44a94ec8d20e08d49f2ebf825170?s=128&d=identicon&r=PG", "display_name": "Lanorkin", "link": "https://stackoverflow.com/users/2170171/lanorkin"}, "edited": false, "score": 0, "creation_date": 1560968739, "post_id": 56673495, "comment_id": 99914854, "body": "It can be a bit trickier in a way that ASP.Net in certain situations might abort child threads of a finished requests, so you might need to research &quot;how to start thread in asp.net in a safe way&quot;, maybe consider using ThreadPool / Task / static Thread etc. It all depends on how important sending email per se, of course"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 1, "creation_date": 1560972619, "post_id": 56673495, "comment_id": 99916623, "body": "Have you considered using <a href=\"https://devblogs.microsoft.com/aspnet/queuebackgroundworkitem-to-reliably-schedule-and-run-background-processes-in-asp-net/\" rel=\"nofollow noreferrer\">QueueBackgroundWorkerItem</a>?  It was designed for this purpose."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 10691380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QE0D3.png?s=128&g=1", "display_name": "Guilherme Jacob", "link": "https://stackoverflow.com/users/10691380/guilherme-jacob"}, "edited": false, "score": 0, "creation_date": 1560974688, "post_id": 56674598, "comment_id": 99917475, "body": "I understood the idea of separating the web layer from the actual service layer, its the same principle of &quot;a method should do one thing and be good at it. I am just not sure which &quot;technologies&quot; i need to use to implement such thing, but i guess i need to figured it out myself so i can learn. Anyways, thank you for opening my mind in this subject."}, {"owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "reply_to_user": {"reputation": 19, "user_id": 10691380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QE0D3.png?s=128&g=1", "display_name": "Guilherme Jacob", "link": "https://stackoverflow.com/users/10691380/guilherme-jacob"}, "edited": false, "score": 0, "creation_date": 1560975113, "post_id": 56674598, "comment_id": 99917641, "body": "there are many choices to do so. In the .net world you can use asp.net core for the web layer, rabbitmq to implement a queue (use a library such as mass transit to do so, avoid using the raw rabbitmq api) and a .net core console application for the service layer"}], "tags": [], "owner": {"reputation": 3326, "user_id": 4331637, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2ce26e46b92a501954c36cf2e486d42c?s=128&d=identicon&r=PG&f=1", "display_name": "Enrico Massone", "link": "https://stackoverflow.com/users/4331637/enrico-massone"}, "is_accepted": true, "score": 2, "last_activity_date": 1560973927, "last_edit_date": 1560973927, "creation_date": 1560972371, "answer_id": 56674598, "question_id": 56673495, "link": "https://stackoverflow.com/questions/56673495/how-to-speed-up-api-controller-response-using-asynchronous-code-to-run-another-t/56674598#56674598", "title": "How to speed up Api Controller Response using asynchronous code to run another task when a request is received?", "body": "<p>You should decouple the web layer of your application from the actual service layer.<br>\nThis is usually done by using queues. </p>\n\n<p>The idea is that you have a web layer whose responsibility is getting user requests for some kind of work to be done, in your case the actual work is sending an email. The web service implementing the web layer of your app should expose an endpoint that a user can call in order to request that an email is sent. The web service endpoint should validate the content of the user request based on business rules that depends on your requirements. </p>\n\n<p>If the user request is a valid one you will then enqueue the request in a dedicated queue and, then, you return a 202 accepted status code response (notice that you don't have to actually send the email before replying to the HTTP request, you just have to be sure that the user request has been successfully enqueued).</p>\n\n<p>If, otherwise, the user request is not valid based on your validation rules you will return a 422 unprocessable entity status code, so that the user understands that its request is not valid. </p>\n\n<p>The enqueued requests are, in the meantime, processed by one or more worker services which are separate applications (they are completely decoupled from the web server) whose responsibility is implementing the actual work to send the emails. </p>\n\n<p>You can decide to use different technologies for the web server and the backend services, they just have to agree on the format of the messages enqueued by the web server and dequeued by the backend services. There are many ways to do so.</p>\n\n<p>Notice that this kind of architecture is a bit more complicated than having just the web service, but it has many advantages. There is a clear separation of the concern and each piece of the infrastructure is able to scale well because it does only one thing and there isn't any shared resource contended by the different parts of your system (well, the queue is actually contended but there are very good technologies to help you implementing a queue the right way, like a service bus for example).</p>\n\n<p>Another important thing to notice is that using async code in the web service layer <strong>is not</strong> a way to replying quicker to the single user, but instead is a technique useful to <strong>better scale the web server itself</strong>. Threads are important resources and are used by a web server to reply to incoming HTTP requests. When you perform IO tasks you should never block a thread letting it idle waiting for the IO task to complete. You should, instead, use an async api so that your thread starts the async task (for instance enqueuing a new request to send an email) and it is immediately returned to the thread pool, so that it can be used to reply to another incoming HTTP request (or doing other useful stuff) while the IO operation is being performed in the meantime by the operating system. </p>\n\n<p>Think to this analogy (this was originally written by Jon Skeet). Imagine that you are at home and you want to eat a pizza. You decide to call your favourite restaurant and to order a pizza (in this analogy you are the thread and getting a pizza at home is the IO task). </p>\n\n<p>Do you think is more efficient to order the pizza and then do other useful things while the pizza is traveling from the restaurant to your home, or sitting in front of the door waiting for the pizza and doing nothing in the meantime ? Well, if you are a web server you are very busy and for sure you have a lot of important things to do (read <strong>service incoming HTTP requests</strong>) while the pizza is traveling to your home.  </p>\n"}], "owner": {"reputation": 19, "user_id": 10691380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QE0D3.png?s=128&g=1", "display_name": "Guilherme Jacob", "link": "https://stackoverflow.com/users/10691380/guilherme-jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 56674598, "answer_count": 1, "score": 0, "last_activity_date": 1561032059, "creation_date": 1560967498, "last_edit_date": 1561032059, "question_id": 56673495, "link": "https://stackoverflow.com/questions/56673495/how-to-speed-up-api-controller-response-using-asynchronous-code-to-run-another-t", "title": "How to speed up Api Controller Response using asynchronous code to run another task when a request is received?", "body": "<p>In my api controller, I have a method called \"SendMail\" that receives a post with a json body that looks like this:</p>\n\n<pre><code>{\n    \"MailTo\": \"abcdefg@hijklmn.opqrst\",\n    \"Subject\": \"This is the subject\",\n    \"Body\": \"This is the body\"\n}\n</code></pre>\n\n<p>When a request is received, the method \"SendMail\" validates the data and if it is correct, the mail is sent.</p>\n\n<pre><code>[HttpPost]\npublic IHttpActionResult SendMail([FromBody] MailData mailData)\n    {\n        if(ValidateMailData(mailData) == true)\n        {\n             Email.send(mailData);\n             return Ok(\"Your email was sent!\");\n        }\n\n        return BadRequest(\"Some error\");\n    }\n</code></pre>\n\n<p>The problem is that the caller will only receive a response from the api when the mail is sent (and is taking to long), but I would like to only validate the data, return the response to the caller and then send the mail asynchronously (it's not important to the caller if the mail was actually sent or not, and if the data is validated correctly, it will be sent). This code is just an example, but illustrates precisely the problem that I am facing.</p>\n"}, {"tags": ["c#", "treeview", "progress-bar"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1560966674, "post_id": 56673192, "comment_id": 99913932, "body": "You would have to do this in a background thread in order to not lock the gui.  For a proper progress, you would have to know how many nodes are being added, otherwise, you would have to pick the marquee style.  In a BackgroundWorker, you would have a ReportProgress event where you would call the code to update the progress bar.  Generally, your ReportProgress call would be inside your loop."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1560967653, "post_id": 56673192, "comment_id": 99914397, "body": "You are executing one SQL query per node. You could probably optimize greatly the performance by fetching all data from <code>subparentnod</code> in a single query, and selecting the subset for each node using the LINQ <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.tolookup\" rel=\"nofollow noreferrer\"><code>ToLookup</code></a> method (or using the old way of defining a <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/dataset-datatable-dataview/adding-datarelations\" rel=\"nofollow noreferrer\"><code>DataRelation</code></a> between the DataTables)."}, {"owner": {"reputation": 131, "user_id": 3553967, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f0T4D.jpg?s=128&g=1", "display_name": "SDG69", "link": "https://stackoverflow.com/users/3553967/sdg69"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1560968108, "post_id": 56673192, "comment_id": 99914589, "body": "@Theodor Zoulias thanks but now there is no time for optimization cause I&#39;m C# beginner. maybe after performing the Progress-bar."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1560968442, "post_id": 56673192, "comment_id": 99914727, "body": "@LarsTech this cannot be done in a background thread, at least not easily, because the bulk of the work involves populating a UI element (the TreeView)."}, {"owner": {"reputation": 131, "user_id": 3553967, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f0T4D.jpg?s=128&g=1", "display_name": "SDG69", "link": "https://stackoverflow.com/users/3553967/sdg69"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1560968445, "post_id": 56673192, "comment_id": 99914729, "body": "@LarsTech thanks. BackgroundWorker is completely new to me at this time. actually i&#39;ve done my needs with void.System.Action for other treeView subnode child Form but this Form page has other story."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1560969108, "post_id": 56673192, "comment_id": 99915030, "body": "@TheodorZoulias I&#39;ll just disagree with you there.  The user wants a progress bar which means <i>something</i> is a long running operation here.  Adding nodes to the TreeView is not the time consuming part."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1560969204, "post_id": 56673192, "comment_id": 99915074, "body": "<i>Adding nodes to the TreeView is not the time consuming part.</i> Maybe yes, maybe no. Adding thousands of nodes <i>_directly to the tree</i> (instead of preparing them before adding the root nodes) does take a long time."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1560969474, "post_id": 56673192, "comment_id": 99915226, "body": "@TaW Then we get into the &quot;does the user really need millions of nodes&quot; argument.  Personally, I have a love/hate relationship with TreeViews.  As a developer, love them, as a gui component for the general public: way too cumbersome."}, {"owner": {"reputation": 131, "user_id": 3553967, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f0T4D.jpg?s=128&g=1", "display_name": "SDG69", "link": "https://stackoverflow.com/users/3553967/sdg69"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1560969607, "post_id": 56673192, "comment_id": 99915285, "body": "@TaW TreeView placed at 1st Form to open and there isn&#39;t anything before it. Maybe prgressbar cover that prepation."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1560969636, "post_id": 56673192, "comment_id": 99915295, "body": "@LarsTech assuming that you are right, and updating the UI is not the time consuming part, there is still the problem that multiple SQL queries and UI updates are intermingled together, and the OP does not want to refactor his code."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1560969760, "post_id": 56673192, "comment_id": 99915360, "body": "@TheodorZoulias Which is the problem.  The OP thinks a progress bar can just be added without any issues, but to make it work properly, refactoring is required.  And I agree with you, this would be much easier with a single database call."}, {"owner": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "edited": false, "score": 0, "creation_date": 1560970461, "post_id": 56673192, "comment_id": 99915680, "body": "If you&#39;ve already solved the problem of displaying a <code>ProgressBar</code> with <code>frmWaitForm</code> then I&#39;m not sure what the problem is? Why can&#39;t you reuse that?"}, {"owner": {"reputation": 131, "user_id": 3553967, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f0T4D.jpg?s=128&g=1", "display_name": "SDG69", "link": "https://stackoverflow.com/users/3553967/sdg69"}, "reply_to_user": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "edited": false, "score": 0, "creation_date": 1560970729, "post_id": 56673192, "comment_id": 99915802, "body": "@Joshua Robinson displaying Progressbar with System.Action in subNode TreeView. But i need Progressbar for TreeView."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1561030008, "post_id": 56673192, "comment_id": 99935416, "body": "@LarsTech it could be done in the UI thread by calling <code>MainTreeView.SuspendLayout()</code> at the start and <code>MainTreeView.ResumeLayout()</code> at the end, and calling <code>Application.DoEvents()</code> after each update of the progress bar to allow the repainting of the window. It is dirty as heck though."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 0, "creation_date": 1561041467, "post_id": 56673192, "comment_id": 99942245, "body": "@TheodorZoulias I think you meant <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.treeview.beginupdate?view=netframework-4.8\" rel=\"nofollow noreferrer\">BeginUpdate</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.treeview.endupdate?view=netframework-4.8\" rel=\"nofollow noreferrer\">EndUpdate</a>.  And yes, stay away from DoEvents."}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1561042252, "post_id": 56673192, "comment_id": 99942684, "body": "@LarsTech you are right, <code>BeginUpdate</code> and <code>EndUpdate</code> are the correct methods to prevent controls like <code>ListBox</code> and <code>TreeView</code> from redrawing repeatedly. <code>SuspendLayout</code> and <code>ResumeLayout</code> are for container controls. \ud83d\ude03"}], "owner": {"reputation": 131, "user_id": 3553967, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/f0T4D.jpg?s=128&g=1", "display_name": "SDG69", "link": "https://stackoverflow.com/users/3553967/sdg69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560969953, "creation_date": 1560965996, "last_edit_date": 1560969953, "question_id": 56673192, "link": "https://stackoverflow.com/questions/56673192/create-progressbar-while-populating-a-treeview", "title": "Create ProgressBar while populating a TreeView", "body": "<p>I need to create a simple Progressbar while the TreeView loading itself from database and because its online-databse it takes some times to display the Form which contains this TreeView. </p>\n\n<p>This is what i have done but don't know how/where to put \"progressbar.PerformStep()\" or happy to know how to do it.</p>\n\n<pre><code>private void FormMain_Load(object sender, EventArgs e)\n{\n    String myConnectionString = \"server=...\";\n    try\n    {\n        conn = new MySqlConnection(myConnectionString);\n        String Sequel = \"SELECT ...\";\n        MySqlDataAdapter da = new MySqlDataAdapter(Sequel, conn);\n        DataTable dt = new DataTable();\n\n        conn.Open();\n        da.Fill(dt);\n\n        foreach (DataRow dr in dt.Rows)\n        {\n            parentNode = MainTreeView.Nodes.Add(dr[\"NODNAME\"].ToString());\n            parentNode.Tag = ...;\n\n            PopulateTreeView(Convert.ToInt32(dr[\"PARVAL\"].ToString()), parentNode);\n        }\n    }\n    catch (MySqlException ex)\n    {\n        MessageBox.Show(ex.Message);\n    }\n}\n\nprivate void PopulateTreeView(int parentId, TreeNode parentNode)\n{\n    String Seqchildc = \"SELECT PARVAL, SUBNODNAME, SUBNODVAL FROM subparentnod WHERE PARVAL=\" + parentId + \"\";\n    MySqlDataAdapter daChild = new MySqlDataAdapter(Seqchildc, conn);\n\n    DataTable dtChild = new DataTable();\n    daChild.Fill(dtChild);\n\n    TreeNode childNode;\n    foreach (DataRow dr in dtChild.Rows)\n    {\n        if (parentNode == null)\n        {\n            childNode = MainTreeView.Nodes.Add(dr[\"SUBNODNAME\"].ToString());\n            childNode.Tag = dr[\"SUBNODNAME\"].ToString();\n        }\n        else\n        {\n            childNode = parentNode.Nodes.Add(dr[\"SUBNODNAME\"].ToString());\n            childNode.Tag = dr[\"SUBNODNAME\"].ToString();\n        }\n        PopulateTreeView(Convert.ToInt32(dr[\"SUBNODVAL\"].ToString()), childNode);\n    }\n}\n</code></pre>\n\n<p>Here is what i've done with other Form and using Progress-bar and Action.</p>\n\n<pre><code>public partial class frmWaitForm : Form\n{\n    public Action Worker\n    {\n        get;\n        set;\n    }\n\n    public frmWaitForm(Action worker)\n    {\n        InitializeComponent();\n\n        if (worker == null)\n            throw new ArgumentNullException();\n        Worker = worker;\n    }\n\n    protected override void OnLoad(EventArgs e)\n    {\n        base.OnLoad(e);\n        Task.Factory.StartNew(Worker).ContinueWith(t =&gt; { this.Close(); }, \n            TaskScheduler.FromCurrentSynchronizationContext());\n    }\n\n    private void frmWaitForm_Load(object sender, EventArgs e)\n    {\n        this.ControlBox = false;\n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>using (frmWaitForm mFrmWaitForm = new frmWaitForm(RetriveDataFromDatabase))\n            {\n                mFrmWaitForm.ShowDialog(this);\n            }\n\nvoid RetriveDataFromDatabase()\n        {\n            MySqlConnection conn;\n            MySqlCommand cmd;\n         ...\n\n\n        }\n</code></pre>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1560965676, "post_id": 56673101, "comment_id": 99913475, "body": "Show your code/what you have tried."}, {"owner": {"reputation": 1, "user_id": 11423996, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161757886590603/picture?type=large", "display_name": "Samiha Kaiser", "link": "https://stackoverflow.com/users/11423996/samiha-kaiser"}, "reply_to_user": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1560966291, "post_id": 56673101, "comment_id": 99913753, "body": "@williamXifaras I have updated my question with my code any help is appreciated."}, {"owner": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "edited": false, "score": 0, "creation_date": 1560968943, "post_id": 56673101, "comment_id": 99914956, "body": "when you say &#39;it doesn&#39;t seem to work&#39;, what exactly is happening at the moment?  does the page crash? does the page do nothing and stare at you?"}, {"owner": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "edited": false, "score": 0, "creation_date": 1560969156, "post_id": 56673101, "comment_id": 99915049, "body": "also, you might have to remap the properties, because SportingItemID and HealthItemID (even though they&#39;re both ints) entity framework is going to have a problem with the property names of those models&#39; going into the database"}], "owner": {"reputation": 1, "user_id": 11423996, "user_type": "registered", "profile_image": "https://graph.facebook.com/10161757886590603/picture?type=large", "display_name": "Samiha Kaiser", "link": "https://stackoverflow.com/users/11423996/samiha-kaiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560974221, "creation_date": 1560965519, "last_edit_date": 1560974221, "question_id": 56673101, "link": "https://stackoverflow.com/questions/56673101/how-to-move-row-from-one-table-to-another-with-no-fk-connection", "title": "How to move row from one table to another with no FK connection", "body": "<p>I am doing Entity Framework and I have a database where there is no connection between the two tables. My form has two datagridviews each showing the contents of those tables on load. I also have two buttons. When I select any cell (which selects the entire row) on the sport table and click copy, it moves the data to the health table and removes it from the sport one. The second button does vice versa. What do you think is wrong?</p>\n\n<p>I have tried delete and add and there seems to be a validation error. How can I fix this?</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    SportsAreUsEntities mySports = new SportsAreUsEntities();\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        RefreshGrids();\n    }\n\n    private void RefreshGrids()\n    {\n        var allSport = from eachSport in mySports.SportingItems                          \n                       orderby eachSport.SportingItemID ascending\n                       select new\n                       {\n                           eachSport.SportingItemID,\n                           eachSport.Name,\n                           eachSport.Description,\n                           eachSport.QuantityOnHand\n                       };\n\n        dataGridSport.DataSource = allSport.ToList();\n\n        var allHealth = from eachHealth in mySports.HealthItems\n                        orderby eachHealth.HealthItemID ascending\n                        select new\n                        {\n                            eachHealth.HealthItemID,\n                            eachHealth.Name,\n                            eachHealth.Description,\n                            eachHealth.QuantityOnHand\n                        };\n\n        dataGridHealth.DataSource = allHealth.ToList();\n    }\n\n    private void moveToHealth_Click(object sender, EventArgs e)\n    {\n        //Retrieve selected row and id\n        var selectedRow = dataGridSport.CurrentRow;\n        int selectedID = (int)selectedRow.Cells[\"SportingItemID\"].Value;\n        var data2 = new HealthItem();\n\n\n        var rowToDelete =        (from row in mySports.SportingItems\n                                  where row.SportingItemID == selectedID\n                                  select row).Single();\n\n        var rowToAdd = (from row in mySports.SportingItems\n                           where row.SportingItemID == selectedID\n                           select row).Single();\n        mySports.SportingItems.Remove(rowToDelete);  //Mark for deletion   \n        mySports.HealthItems.Add(data2);\n        mySports.SaveChanges();\n        RefreshGrids();\n\n\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "entity-framework"], "comments": [{"owner": {"reputation": 3813, "user_id": 5588197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206610955445736/picture?type=large", "display_name": "Jan Paolo Go", "link": "https://stackoverflow.com/users/5588197/jan-paolo-go"}, "edited": false, "score": 2, "creation_date": 1560965516, "post_id": 56672927, "comment_id": 99913399, "body": "Are you calling <code>DbContext.SaveChanges</code> somewhere? That needs to be called to actually save to your database."}, {"owner": {"reputation": 3, "user_id": 10665757, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tK5uY-EvdKk/AAAAAAAAAAI/AAAAAAAABFA/ZtQ-K7Og_7o/photo.jpg?sz=128", "display_name": "Josias99", "link": "https://stackoverflow.com/users/10665757/josias99"}, "reply_to_user": {"reputation": 3813, "user_id": 5588197, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10206610955445736/picture?type=large", "display_name": "Jan Paolo Go", "link": "https://stackoverflow.com/users/5588197/jan-paolo-go"}, "edited": false, "score": 0, "creation_date": 1560976261, "post_id": 56672927, "comment_id": 99918123, "body": "Yeah, i do call that when the window&#39;s closes"}], "owner": {"reputation": 3, "user_id": 10665757, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tK5uY-EvdKk/AAAAAAAAAAI/AAAAAAAABFA/ZtQ-K7Og_7o/photo.jpg?sz=128", "display_name": "Josias99", "link": "https://stackoverflow.com/users/10665757/josias99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560965514, "creation_date": 1560964749, "last_edit_date": 1560965514, "question_id": 56672927, "link": "https://stackoverflow.com/questions/56672927/wpf-datagrid-not-updating-changes-when-bound", "title": "WPF datagrid not updating changes when bound", "body": "<p>I have a datagrid that's loaded when a combobox selection is changed, using the item directly from the combobox (it's bound to an object inside an entity framework context). But when I edit/add/remove on the datagrid and try to save the changes, it doesn't do anything, so I was wondering how would I fix that</p>\n\n<pre><code>public class ProgramControl: DbContext\n{\n    public DbSet&lt;Asignaturas&gt; Asigns { get; set; }\n\n    public DbSet&lt;Alumno&gt; Alumnos { get; set; }\n\n    public DbSet&lt;Profesor&gt; Profes { get; set; }\n\n    public DbSet&lt;Aula&gt; Aulas { get; set; }\n\n    public DbSet&lt;Curso&gt; Cursos { get; set; }\n    public DbSet&lt;Calificacion&gt; Califications { get; set; }\n\n    public ProgramControl()\n    {\n    }\n}\n\npublic class Asignaturas\n{\n    [Key]\n    public string Asign { get; set; }\n    public List&lt;string&gt; correlativas = new List&lt;string&gt;();\n    public List&lt;Alumno&gt; inscriptos = new List&lt;Alumno&gt;();\n}\n</code></pre>\n\n\n\n<pre><code>private void AlumnosPorMateria_Click(object sender, RoutedEventArgs e)\n{\n    legajoAlumno.Visibility = Visibility.Collapsed;\n    elegirCursoTexto.Visibility = Visibility.Visible;\n    elegirAsig.Visibility = Visibility.Visible;\n    elegirCursoTexto.Text = \"Elija la materia de la que desea ver los alumnos\";\n    var dset = db.Asigns;\n    DbSet&lt;Asignaturas&gt; qry = dset;\n    qry.Load();\n\n    elegirAsig.ItemsSource = dset.Local.ToBindingList();\n    alumnosGrid.Visibility = Visibility.Collapsed;\n    confirmButton.Visibility = Visibility.Collapsed;\n    cursoBox.Visibility = Visibility.Collapsed;\n    confirmButton.Content = \"Confirmar\";\n}\n\nprivate void ElegirCurso_SelectionChanged(object sender, \n    SelectionChangedEventArgs e)\n{\n    Asignaturas asig =(Asignaturas)elegirAsig.SelectedItem;\n    db.Asigns.Load();\n    var dset = db.Asigns;\n    DbSet&lt;Asignaturas&gt; qry = dset;\n    qry.Load();\n    foreach (var item in dset)\n    {\n        if (item.Asign.Equals(asig.Asign))\n        {\n            asig = item;\n        }\n    }\n\n    alumnosGrid.Visibility = Visibility.Visible;\n    alumnosGrid.ItemsSource = asig.inscriptos;\n\n    confirmButton.Visibility = Visibility.Visible;\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "azure", "azure-devops"], "comments": [{"owner": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1560965639, "post_id": 56672761, "comment_id": 99913454, "body": "This doesn&#39;t fix your issue, but that library is no longer under development. I would avoid it. What do you need it for?"}, {"owner": {"reputation": 23460, "user_id": 7409220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bhmli.jpg?s=128&g=1", "display_name": "Shayki Abramczyk", "link": "https://stackoverflow.com/users/7409220/shayki-abramczyk"}, "edited": false, "score": 0, "creation_date": 1560965686, "post_id": 56672761, "comment_id": 99913479, "body": "Can you check in nuget restore logs if the dll&#39;s been downloaded?"}, {"owner": {"reputation": 3509, "user_id": 850307, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/5TstS.jpg?s=128&g=1", "display_name": "TechGuy", "link": "https://stackoverflow.com/users/850307/techguy"}, "reply_to_user": {"reputation": 4769, "user_id": 688357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3626fc691f53efdb3245996a0509c8?s=128&d=identicon&r=PG&f=1", "display_name": "William Xifaras", "link": "https://stackoverflow.com/users/688357/william-xifaras"}, "edited": false, "score": 0, "creation_date": 1560965830, "post_id": 56672761, "comment_id": 99913544, "body": "@WilliamXifaras I have connect my db using Enerprise library.So how to avoid it ?"}, {"owner": {"reputation": 3509, "user_id": 850307, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/5TstS.jpg?s=128&g=1", "display_name": "TechGuy", "link": "https://stackoverflow.com/users/850307/techguy"}, "reply_to_user": {"reputation": 23460, "user_id": 7409220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bhmli.jpg?s=128&g=1", "display_name": "Shayki Abramczyk", "link": "https://stackoverflow.com/users/7409220/shayki-abramczyk"}, "edited": false, "score": 0, "creation_date": 1560966210, "post_id": 56672761, "comment_id": 99913722, "body": "@ShaykiAbramczyk where&#39;s that logs ?"}, {"owner": {"reputation": 23460, "user_id": 7409220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bhmli.jpg?s=128&g=1", "display_name": "Shayki Abramczyk", "link": "https://stackoverflow.com/users/7409220/shayki-abramczyk"}, "edited": false, "score": 0, "creation_date": 1560966329, "post_id": 56672761, "comment_id": 99913775, "body": "In the build summary"}, {"owner": {"reputation": 3509, "user_id": 850307, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/5TstS.jpg?s=128&g=1", "display_name": "TechGuy", "link": "https://stackoverflow.com/users/850307/techguy"}, "reply_to_user": {"reputation": 23460, "user_id": 7409220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bhmli.jpg?s=128&g=1", "display_name": "Shayki Abramczyk", "link": "https://stackoverflow.com/users/7409220/shayki-abramczyk"}, "edited": false, "score": 0, "creation_date": 1560966520, "post_id": 56672761, "comment_id": 99913878, "body": "@ShaykiAbramczyk  oops! it&#39;s not there here is that <a href=\"https://pastebin.com/fuAfYhrN\" rel=\"nofollow noreferrer\">pastebin.com/fuAfYhrN</a>"}, {"owner": {"reputation": 23460, "user_id": 7409220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bhmli.jpg?s=128&g=1", "display_name": "Shayki Abramczyk", "link": "https://stackoverflow.com/users/7409220/shayki-abramczyk"}, "edited": false, "score": 0, "creation_date": 1560967210, "post_id": 56672761, "comment_id": 99914207, "body": "@TechGuy Can you share your <code>package.config</code> file?"}], "answers": [{"tags": [], "owner": {"reputation": 51483, "user_id": 7460777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/938b7ee32587b28c8634edec4a0f90c2?s=128&d=identicon&r=PG&f=1", "display_name": "Leo Liu-MSFT", "link": "https://stackoverflow.com/users/7460777/leo-liu-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1561010736, "creation_date": 1561010736, "answer_id": 56679904, "question_id": 56672761, "link": "https://stackoverflow.com/questions/56672761/microsoft-enterprise-library-not-recognize-in-azure-devops/56679904#56679904", "title": "Microsoft Enterprise Library not recognize in Azure DevOps", "body": "<blockquote>\n  <p>Microsoft Enterprise Library not recognize in Azure DevOps</p>\n</blockquote>\n\n<p>According to the nuget restore log you provided in your comment:</p>\n\n<pre><code>Restoring NuGet package bootstrap.3.0.0.\nRestoring NuGet package Antlr.3.4.1.9004.\nRestoring NuGet package jQuery.1.10.2.\nRestoring NuGet package AutoMapper.8.0.0.\nRestoring NuGet package jQuery.Validation.1.11.1.\nRestoring NuGet package Microsoft.ApplicationInsights.2.2.0.\nRestoring NuGet package Microsoft.ApplicationInsights.Agent.Intercept.2.0.6.\nRestoring NuGet package Microsoft.ApplicationInsights.DependencyCollector.2.2.0.\nRestoring NuGet package Microsoft.ApplicationInsights.PerfCounterCollector.2.2.0.\nRestoring NuGet package Microsoft.ApplicationInsights.Web.2.2.0.\nRestoring NuGet package Microsoft.ApplicationInsights.WindowsServer.2.2.0.\nRestoring NuGet package Microsoft.ApplicationInsights.WindowsServer.TelemetryChannel.2.2.0.\nRestoring NuGet package Microsoft.AspNet.Mvc.5.2.3.\nRestoring NuGet package Microsoft.AspNet.Razor.3.2.3.\nRestoring NuGet package Microsoft.AspNet.Web.Optimization.1.1.3.\nRestoring NuGet package Microsoft.AspNet.WebApi.5.2.3.\n</code></pre>\n\n<p>We could to know there is no any nuget package about package <code>Microsoft.Practices.EnterpriseLibrary</code>, like package <code>Microsoft.Practices.EnterpriseLibrary.Data.dll</code> in nuget restore list.</p>\n\n<p>So, first, please check your <code>package.config</code> file if it include any nuget package about <code>Microsoft.Practices.EnterpriseLibrary</code>. </p>\n\n<p>Then make sure you can build successfully on your local, then nsure that the local code is synchronized with the code on the server.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 3509, "user_id": 850307, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/5TstS.jpg?s=128&g=1", "display_name": "TechGuy", "link": "https://stackoverflow.com/users/850307/techguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561010736, "creation_date": 1560963982, "last_edit_date": 1560965384, "question_id": 56672761, "link": "https://stackoverflow.com/questions/56672761/microsoft-enterprise-library-not-recognize-in-azure-devops", "title": "Microsoft Enterprise Library not recognize in Azure DevOps", "body": "<p>I have a web app and it uses <code>asp.net mvc</code> and data access using <code>Enterprise Library</code>. Project is working fine. But i have setup <code>VSTS DevOps</code>. Then it build that and show the error</p>\n\n<blockquote>\n  <blockquote>\n    <p>Error CS0234: The type or namespace name 'Data' does not exist in the namespace 'Microsoft.Practices.EnterpriseLibrary' (are you missing an assembly reference?)</p>\n  </blockquote>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/iWYQu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iWYQu.jpg\" alt=\"enter image description here\"></a></p>\n\n<h2>MyCode</h2>\n\n<pre><code>using NewsHub.Domain;\nusing Microsoft.Practices.EnterpriseLibrary.Data;\nusing System;\nusing System.Collections.Generic;\nusing System.Data;\nusing System.Data.Common;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\n\nnamespace NewsHub.Data\n{\n    public class FeedbackRepository : IFeedbackRepository\n    {\n        Database db;\n        DbCommand cmd;\n        DbCommand cxd;\n        DbConnection con;\n        DbTransaction transaction;\n\n        public FeedbackRepository()\n        {\n            DatabaseProviderFactory factory = new DatabaseProviderFactory();\n            db = factory.Create(\"NewsHubConString\");\n            con = db.CreateConnection();\n        }\n\n        public List&lt;FeedbackDTO&gt; GetAllFeedbacks()\n        {\n            List&lt;FeedbackDTO&gt; _feedback = new List&lt;FeedbackDTO&gt;();\n            try\n            {\n                con.Open();    \n                // Some code goes here    \n            }\n            catch (Exception ex)\n            {    \n                throw;\n            }\n\n            return _feedback;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "web-applications"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11671824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb4eb61f6e91f8436b9a089cf2b584c?s=128&d=identicon&r=PG&f=1", "display_name": "spmx", "link": "https://stackoverflow.com/users/11671824/spmx"}, "is_accepted": false, "score": 0, "last_activity_date": 1561137425, "creation_date": 1561137425, "answer_id": 56707909, "question_id": 56672727, "link": "https://stackoverflow.com/questions/56672727/parser-error-message-could-not-load-type-myapplication-default/56707909#56707909", "title": "Parser Error Message: Could not load type &#39;MyApplication.Default&#39;", "body": "<p>The problem was in my bin folder, which I had to remove from my folder to put in root</p>\n"}], "owner": {"reputation": 1, "user_id": 11671824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb4eb61f6e91f8436b9a089cf2b584c?s=128&d=identicon&r=PG&f=1", "display_name": "spmx", "link": "https://stackoverflow.com/users/11671824/spmx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561137425, "creation_date": 1560963860, "question_id": 56672727, "link": "https://stackoverflow.com/questions/56672727/parser-error-message-could-not-load-type-myapplication-default", "title": "Parser Error Message: Could not load type &#39;MyApplication.Default&#39;", "body": "<p>sorry for my bad English. \nI am developing a Web Application, all well in Localhost, but when uploading it to the server I get the following error: 'Could not load type' MyApplication.Default '. I have already read through here that changing the \"CodeBehind\" by the \"CodeFile\" is solved. But in my case, I change it and I get the following error: 'The file' /MyApplication/Default.aspx.cs 'does not exist.' I tried to upload the whole project without publishing it, that is, without creating the dlls, but then I get another type of errors that should not appear. Also, if my project is a web application I do not understand that I have to upload it as a site. Is there any other solution that is not to change CodeBehind by CodeFile or even if it has to be changed someone knows why then it throws me the second error? Thank you.</p>\n"}, {"tags": ["c#", "pdf"], "comments": [{"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 1, "creation_date": 1560964314, "post_id": 56672715, "comment_id": 99912862, "body": "Double check the value of <code>path</code> in the debugger - it will not be the same as your hardcoded value (<code>Path.Combine()</code> helps prevent missing slashes) &amp; please add the exact exception you encounter."}, {"owner": {"reputation": 15, "user_id": 10778021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e8f07a12a5822a1098a991c3d729bf?s=128&d=identicon&r=PG&f=1", "display_name": "E Singh", "link": "https://stackoverflow.com/users/10778021/e-singh"}, "reply_to_user": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 0, "creation_date": 1561391733, "post_id": 56672715, "comment_id": 100039158, "body": "Already crossed checked this out.  I tried with @tempPath even, to make sure I am not missing out anything.  Expected Result: , due to ArgumentNullException: Value cannot be null. Parameter name: crossTable"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10778021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e8f07a12a5822a1098a991c3d729bf?s=128&d=identicon&r=PG&f=1", "display_name": "E Singh", "link": "https://stackoverflow.com/users/10778021/e-singh"}, "edited": false, "score": 0, "creation_date": 1560978578, "post_id": 56672926, "comment_id": 99918984, "body": "Already tried this out. However getting same issue.  Expected Result: , due to ArgumentNullException: Value cannot be null. Parameter name: crossTable  However, thanks for the suggestion."}, {"owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "reply_to_user": {"reputation": 15, "user_id": 10778021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e8f07a12a5822a1098a991c3d729bf?s=128&d=identicon&r=PG&f=1", "display_name": "E Singh", "link": "https://stackoverflow.com/users/10778021/e-singh"}, "edited": false, "score": 0, "creation_date": 1560983529, "post_id": 56672926, "comment_id": 99920407, "body": "A quick search brings up lots of people getting errors, and then being told to download a hotfix or patch...but then that only works for the PAID version.  I&#39;d try a different library."}, {"owner": {"reputation": 15, "user_id": 10778021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e8f07a12a5822a1098a991c3d729bf?s=128&d=identicon&r=PG&f=1", "display_name": "E Singh", "link": "https://stackoverflow.com/users/10778021/e-singh"}, "edited": false, "score": 0, "creation_date": 1561390383, "post_id": 56672926, "comment_id": 100038442, "body": "I have complete code written in Spire.PDF. Quite difficult to port to other library. Well thanks for the feedback.  If any one has any idea about free C# library for PDF, with which I can check if the permission (&quot;EditContent&quot;) is enabled for or not."}], "tags": [], "owner": {"reputation": 32963, "user_id": 2330053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UKKyC.jpg?s=128&g=1", "display_name": "Idle_Mind", "link": "https://stackoverflow.com/users/2330053/idle-mind"}, "is_accepted": false, "score": 0, "last_activity_date": 1560964745, "creation_date": 1560964745, "answer_id": 56672926, "question_id": 56672715, "link": "https://stackoverflow.com/questions/56672715/issue-when-using-variable-name-in-opening-pdf-using-spire-pdf/56672926#56672926", "title": "Issue when using variable name in opening PDF (using Spire.Pdf)", "body": "<p>Use <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.path.combine?view=netframework-4.8\" rel=\"nofollow noreferrer\">Path.Combine()</a> to make sure you have the correct number of slashes in all the right places:</p>\n\n<pre><code>string path = System.IO.Path.Combine(tempPath, fileName + \".pdf\");\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10778021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66e8f07a12a5822a1098a991c3d729bf?s=128&d=identicon&r=PG&f=1", "display_name": "E Singh", "link": "https://stackoverflow.com/users/10778021/e-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560964745, "creation_date": 1560963834, "question_id": 56672715, "link": "https://stackoverflow.com/questions/56672715/issue-when-using-variable-name-in-opening-pdf-using-spire-pdf", "title": "Issue when using variable name in opening PDF (using Spire.Pdf)", "body": "<p>I need to check a permission (\"EditContent\") if it is enabled for the PDF on a path or not. I am using Spire.Pdf, when I try to call LoadFromFile with a variable name in argument it throws and error. However, if I am giving a hardcoded value it accepts and do the needful.</p>\n\n<pre><code>using Spire.Pdf;\n\npublic void PermissionOfPDF()\n{\n    string path = tempPath + fileName + \".pdf\";\n    PdfDocument pdfDocument = new PdfDocument();\n    Console.Write(\"\\n Trying to load the PDF...\\n\");\n    pdfDocument.LoadFromFile(path);\n    Console.Write(\"\\n Loaded the PDF...\\n\");\n}\n</code></pre>\n\n<p>If i use hard coded path instead of pdfDocument.LoadFromFile(path), it opens and check for a particular permission.</p>\n\n<p>I am not sure if would it be due to any coding issue or Spire has this issue.</p>\n\n<p><strong>Any guidance would be greatly appreciated.</strong></p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 4239, "user_id": 468910, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/91bbd39970a633c0a32af35b3136ad5e?s=128&d=identicon&r=PG", "display_name": "Bernoulli IT", "link": "https://stackoverflow.com/users/468910/bernoulli-it"}, "edited": false, "score": 1, "creation_date": 1560963712, "post_id": 56672645, "comment_id": 99912591, "body": "Can you post your iterative code please? Maybe it is not possible without iteration. And don&#39;t forget that behind the scenes LINQ also uses iteration where needed ;)"}, {"owner": {"reputation": 17635, "user_id": 57883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9f4a12b955cb61fcf67b031040f7da51?s=128&d=identicon&r=PG", "display_name": "Maslow", "link": "https://stackoverflow.com/users/57883/maslow"}, "edited": false, "score": 1, "creation_date": 1560963788, "post_id": 56672645, "comment_id": 99912613, "body": "your example data isn&#39;t clear, requested volume of 100 -&gt; 10, doesn&#39;t match up with sample data <code>{10, 1000}</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1560963865, "post_id": 56672645, "comment_id": 99912649, "body": "I updated the sample with something that compiles, but can you please post this: <i>&quot;I have implemented that in C#&quot;</i>"}, {"owner": {"reputation": 4239, "user_id": 468910, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/91bbd39970a633c0a32af35b3136ad5e?s=128&d=identicon&r=PG", "display_name": "Bernoulli IT", "link": "https://stackoverflow.com/users/468910/bernoulli-it"}, "edited": false, "score": 0, "creation_date": 1560963902, "post_id": 56672645, "comment_id": 99912669, "body": "That&#39;s because 100 &lt; 1000 and the price is 10. When requested volume is 1200 the price would be (1000*10 + 200*15) / 1200 I suppose."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "reply_to_user": {"reputation": 17635, "user_id": 57883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9f4a12b955cb61fcf67b031040f7da51?s=128&d=identicon&r=PG", "display_name": "Maslow", "link": "https://stackoverflow.com/users/57883/maslow"}, "edited": false, "score": 0, "creation_date": 1560963918, "post_id": 56672645, "comment_id": 99912677, "body": "@Maslow: yes, I need a volume of 100, it&#39;s covered by the 1000 available at the price of 10"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1560972072, "post_id": 56672645, "comment_id": 99916402, "body": "@Thomas it sounds like you just need to pull records with a takewhile"}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1560972240, "post_id": 56672645, "comment_id": 99916481, "body": "so it would be exactly like the C# code, just with takewhile instead of the foreach, right? I&#39;m looking to see if linq can be pushed to do this kind of things :)"}, {"owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "edited": false, "score": 0, "creation_date": 1560972394, "post_id": 56672645, "comment_id": 99916538, "body": "@Thomas you say &quot;yes, I need a volume of 100, it&#39;s covered by the 1000 available at the price of 10&quot;, but it&#39;s also covered by the <code>Available</code> volume 500 -&gt; at price 15, do you take the lowest price?"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "edited": false, "score": 0, "creation_date": 1560972445, "post_id": 56672645, "comment_id": 99916559, "body": "@mshwf it appears you give out the items at the best price avaialble"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1560972517, "post_id": 56672645, "comment_id": 99916583, "body": "@Thomas the only issue with take while is I&#39;m not sure if the expression will be able to translate a closure because you will need to update the taken variable"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1560973087, "post_id": 56672645, "comment_id": 99916806, "body": "@Thomas please update you&#39;re question to reflect that you want this from the DB, it will be more clearer to user and again a lot more attention"}, {"owner": {"reputation": 674, "user_id": 3385804, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002937312554/picture?type=large", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3385804/ammar"}, "edited": false, "score": 0, "creation_date": 1560974482, "post_id": 56672645, "comment_id": 99917389, "body": "You can&#39;t execute such a query in DB using linq. If you&#39;re expecting large amount of data then you can get records as batches, process each batch as a collection of records and get another batch ..etc. until you get a result, you can use linq <code>TakeWhile</code> function on those batches to build the final result."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1560974810, "post_id": 56672645, "comment_id": 99917523, "body": "@johnny 5, I updated the question a little while back with a clarification at the bottom"}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "reply_to_user": {"reputation": 674, "user_id": 3385804, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002937312554/picture?type=large", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3385804/ammar"}, "edited": false, "score": 0, "creation_date": 1560974866, "post_id": 56672645, "comment_id": 99917543, "body": "@Ammar so the 2 options are full scan of the data if I want to use linq or takewhile if I want to just pull what\u2019s needed, right?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1560979110, "post_id": 56672645, "comment_id": 99919158, "body": "<code>TakeWhile</code> doesn&#39;t work on the database, so you would still have to pull all the data. The only solution involves calculating the running total on the DB side, which can&#39;t be done efficiently in LINQ. How much data might be in your database? With about 9,000 rows, any condition on the running field ends up taking 5.5 seconds whether you do it on the database or pull the data when computing the running field on the database server."}], "answers": [{"comments": [{"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 1, "creation_date": 1560965215, "post_id": 56672893, "comment_id": 99913277, "body": "that wouldn&#39;t work because it requires two passes over the data; I&#39;m trying to use linq with the db iterator to only pull as much as required (we&#39;re talking about a large amount of data changing very quickly)"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1560971864, "post_id": 56672893, "comment_id": 99916305, "body": "@Thomas in your example its clear you&#39;re pulling from a list, if you&#39;re trying to use DB iterator you should have displayed that in your original question"}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1560971941, "post_id": 56672893, "comment_id": 99916343, "body": "@johnny5: that&#39;s the goal, I would like to pull from the DB iterator in order to not pull the whole data. The C# code is just to illustrate the algorithm."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "reply_to_user": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1561549793, "post_id": 56672893, "comment_id": 100099658, "body": "@Thomas - This is still a single pass over the data. Why do you think it is two?"}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1561571713, "post_id": 56672893, "comment_id": 100112263, "body": "After looking at it again, i think you were right: i was concerned that you needed a pass to make the enumerable and one to do the calculations but the result is computed with the enumerable so yes, you are right and it should be a single pass"}], "tags": [], "owner": {"reputation": 94, "user_id": 9431310, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FSQJVZcWm8E/AAAAAAAAAAI/AAAAAAAAAAA/zks85M1SlKs/photo.jpg?sz=128", "display_name": "ericpat", "link": "https://stackoverflow.com/users/9431310/ericpat"}, "is_accepted": false, "score": 0, "last_activity_date": 1560966411, "last_edit_date": 1560966411, "creation_date": 1560964567, "answer_id": 56672893, "question_id": 56672645, "link": "https://stackoverflow.com/questions/56672645/how-can-i-use-c-linq-to-calculate-weighted-averages/56672893#56672893", "title": "How can I use C#/LINQ to calculate weighted averages", "body": "<p>You could do something to generate the items' prices as a sequence. e.g.</p>\n\n<pre><code>public class A\n{\n    public int Price;\n    public int Available;\n    public IEnumerable&lt;int&gt; Inv =&gt; Enumerable.Repeat(Price, Available);\n}\n\nvar avg1 = items.SelectMany(i =&gt; i.Inv).Take(100).Average(); // 10\nvar avg2 = items.SelectMany(i =&gt; i.Inv).Take(1200).Average(); // 10.8333333333333\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4239, "user_id": 468910, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/91bbd39970a633c0a32af35b3136ad5e?s=128&d=identicon&r=PG", "display_name": "Bernoulli IT", "link": "https://stackoverflow.com/users/468910/bernoulli-it"}, "is_accepted": false, "score": 0, "last_activity_date": 1560965076, "creation_date": 1560965076, "answer_id": 56673003, "question_id": 56672645, "link": "https://stackoverflow.com/questions/56672645/how-can-i-use-c-linq-to-calculate-weighted-averages/56673003#56673003", "title": "How can I use C#/LINQ to calculate weighted averages", "body": "<p>This is working as well (although not a one-liner):</p>\n\n<pre><code>private static decimal CalculateWeighedAverage(List&lt;A&gt; amountsAndPrices, int requestedVolume)\n{\n    int originalRequestedVolume = requestedVolume;\n\n    return (decimal)amountsAndPrices.Sum(amountAndPrice =&gt;\n    {\n        int partialResult = Math.Min(amountAndPrice.Available, requestedVolume) * amountAndPrice.Price;\n\n        requestedVolume = Math.Max(requestedVolume - amountAndPrice.Available, 0);\n\n        return partialResult;\n    }) / originalRequestedVolume;\n}\n</code></pre>\n\n<p>Take the sum of price * available as long as the requested volume is bigger than 0 and subtracting the amount of every item in the list in each \"sum iteration\". Finally divide by the original requested volume.</p>\n"}, {"comments": [{"owner": {"reputation": 674, "user_id": 3385804, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002937312554/picture?type=large", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3385804/ammar"}, "edited": false, "score": 0, "creation_date": 1561041005, "post_id": 56677159, "comment_id": 99941946, "body": "Is <code>aggregate</code> function supported to work with SQL databases?"}, {"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "reply_to_user": {"reputation": 674, "user_id": 3385804, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002937312554/picture?type=large", "display_name": "Ammar", "link": "https://stackoverflow.com/users/3385804/ammar"}, "edited": false, "score": 0, "creation_date": 1561042821, "post_id": 56677159, "comment_id": 99943018, "body": "@Ammar I don&#39;t know that. But I guess that it will be hard for such complex logic to be expressed efficiently in SQL."}], "tags": [], "owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "is_accepted": true, "score": 3, "last_activity_date": 1561022223, "last_edit_date": 1561022223, "creation_date": 1560986975, "answer_id": 56677159, "question_id": 56672645, "link": "https://stackoverflow.com/questions/56672645/how-can-i-use-c-linq-to-calculate-weighted-averages/56677159#56677159", "title": "How can I use C#/LINQ to calculate weighted averages", "body": "<p>This is probably the most Linqy you can get. It uses the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.aggregate\" rel=\"nofollow noreferrer\"><code>Aggregate</code></a> method, and specifically the most complex of the three overloaded versions of <code>Aggregate</code>, that accepts three arguments. The first argument is the seed, and it is initialized with a zeroed <code>ValueTuple&lt;long, decimal&gt;</code>. The second argument is the accumulator function, with the logic to combine the seed and the current element into a new seed. The third argument takes the final accumulated values and projects them to the desirable average.</p>\n\n<pre><code>public static decimal PriceAtVolume(IEnumerable&lt;A&gt; data, long requestedVolume)\n{\n    return data.Aggregate(\n        (Volume: 0L, Price: 0M), // Seed\n        (sum, item) =&gt; // Accumulator function\n        {\n            if (sum.Volume == requestedVolume)\n                return sum; // Goal reached, quick return\n\n            if (item.Available &lt; requestedVolume - sum.Volume)\n                return // Consume all of it\n                (\n                    sum.Volume + item.Available,\n                    sum.Price + item.Price * item.Available\n                );\n\n            return // Consume part of it (and we are done)\n            (\n                requestedVolume,\n                sum.Price + item.Price * (requestedVolume - sum.Volume)\n            );\n        },\n        sum =&gt; sum.Volume == 0M ? 0M : sum.Price / sum.Volume // Result selector\n    );\n}\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> I changed the return type from double to decimal, because a <a href=\"https://stackoverflow.com/a/1165788/11178549\">decimal is the preferred type for currency values</a>.</p>\n\n<p>Btw in case that this function is called very often with the same data, and the list of data is huge, it could be optimized by storing the accumulated summaries in a <code>List&lt;(long, decimal)&gt;</code>, and applying <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.list-1.binarysearch\" rel=\"nofollow noreferrer\"><code>BinarySearch</code></a> to quickly find the desirable entry. It becomes complex though, and I don't expect that the prerequisites for the optimization will come up very often.</p>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1561053119, "creation_date": 1561053119, "answer_id": 56691439, "question_id": 56672645, "link": "https://stackoverflow.com/questions/56672645/how-can-i-use-c-linq-to-calculate-weighted-averages/56691439#56691439", "title": "How can I use C#/LINQ to calculate weighted averages", "body": "<p>I think the best you can do with LINQ is minimize the running total computation done on the server and compute most of it on the client, but minimize the amount downloaded from the server.</p>\n\n<p>I assume the <code>items</code> are already projected down to the two minimum columns (<code>Price</code>, <code>Availability</code>). If not, a <code>Select</code> can be added before pulling the data from the database into <code>orderedItems</code>.</p>\n\n<pre><code>// find price of last item needed; worst case there won't be one\nvar lastPriceItem = items.Select(i =&gt; new { i.Price, RT = items.Where(it =&gt; it.Price &lt;= i.Price).Sum(it =&gt; it.Available) }).FirstOrDefault(irt =&gt; irt.RT &gt; origReqVol);\n\n// bring over items below that price\nvar orderedItems = items.OrderBy(i =&gt; i.Price).Where(i =&gt; i.Price &lt;= lastPriceItem.Price).ToList();\n// compute running total on client\nvar rtItems = orderedItems.Select(i =&gt; new {\n    Item = i,\n    RT = orderedItems.Where(i2 =&gt; i2.Price &lt;= i.Price).Sum(i2 =&gt; i2.Available)\n});\n\n// computer average price\nvar reqVol = origReqVol;\nvar ans = rtItems.Select(irt =&gt; new { Price = irt.Item.Price, Quantity = Math.Min((reqVol -= irt.Item.Available)+irt.Item.Available, irt.Item.Available) })\n                     .Sum(pq =&gt; pq.Price * pq.Quantity) / (double)origReqVol;\n</code></pre>\n"}], "owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 0, "accepted_answer_id": 56677159, "answer_count": 4, "score": 3, "last_activity_date": 1561053119, "creation_date": 1560963516, "last_edit_date": 1561022037, "question_id": 56672645, "link": "https://stackoverflow.com/questions/56672645/how-can-i-use-c-linq-to-calculate-weighted-averages", "title": "How can I use C#/LINQ to calculate weighted averages", "body": "<p>This is to process stock data; the data is in this format:</p>\n\n<pre><code>public class A\n{\n    public int Price;\n    public int Available;\n}\n</code></pre>\n\n<p>let's take this data for example:</p>\n\n<pre><code>var items = new List&lt;A&gt;\n{\n    new A { Price = 10, Available = 1000 },\n    new A { Price = 15, Available = 500 },\n    new A { Price = 20, Available = 2000 },\n};\n</code></pre>\n\n<p>my query returns the average price for a specific volume, so for example:</p>\n\n<ul>\n<li><p>if I have a requested volume of 100, my average price is 10</p></li>\n<li><p>if I have a requested volume of 1200, I take the first 1000 at a price of 10, then the next 200 at a price of 15\netc</p></li>\n</ul>\n\n<p>I have implemented that in C#, but I am trying to find if this could be done with LINQ directly with the database iterator.</p>\n\n<p>I get data that is already sorted by price, but I don't see how to solve this without iteration.</p>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>this is the code:</p>\n\n<pre><code>public static double PriceAtVolume(IEnumerable&lt;A&gt; Data, long Volume)\n{\n    var PriceSum = 0.0;\n    var VolumeSum = 0L;\n\n    foreach (var D in Data)\n    {\n        if (D.Volume &lt; Volume)\n        {\n            PriceSum += D.Price * D.Volume;\n            VolumeSum += D.Volume;\n            Volume -= D.Volume;\n        }\n        else\n        {\n            PriceSum += D.Price * Volume;\n            VolumeSum += Volume;\n            Volume = 0;\n        }\n\n        if (Volume == 0) break;\n    }\n\n    return PriceSum / VolumeSum;\n}\n</code></pre>\n\n<p>and the test code:</p>\n\n<pre><code>var a = new List&lt;A&gt;\n{\n    new A { Price = 10, Volume = 1000 },\n    new A { Price = 15, Volume = 500 },\n    new A { Price = 20, Volume = 2000 }\n};\n\nvar P0 = PriceAtVolume(a, 100);\nvar P1 = PriceAtVolume(a, 1200);\n</code></pre>\n\n<p>Clarification:</p>\n\n<p>Above I said I'd like to move it to LINQ to use the database iterator, so I'd like to avoid scanning the entire data and stop iterating when the answer is calculated. The data is already sorted by price in the database.</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1560963695, "post_id": 56672639, "comment_id": 99912585, "body": "Just one random suggestion: Use a (bool) flag that is being set by your code when it is going to alter the TextBox content. The TextChanged event handler would then check the state of the flag (and would also need to reset the flag again). There might be other ways of doing it, but it would entirely depend on the logic/control flow of your program..."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1560963944, "post_id": 56672639, "comment_id": 99912688, "body": "Since that event fires <i>every single time a key is pressed</i> reconsider whether it is the ideal event for the job"}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 2, "creation_date": 1560964128, "post_id": 56672639, "comment_id": 99912771, "body": "I would say the most straight-forward way would be to use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.textboxbase.modified\" rel=\"nofollow noreferrer\"><code>Modified</code> property</a> as shown in <a href=\"https://stackoverflow.com/a/46412620/4934172\">this answer</a>."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1560964375, "post_id": 56672639, "comment_id": 99912894, "body": "@AhmedAbdelhameed I forgot about that Modified property."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1560964022, "post_id": 56672760, "comment_id": 99912728, "body": "You forgot to reset the <i>byCode</i> flag in the event handler..."}], "tags": [], "owner": {"reputation": 1844, "user_id": 10858631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3bda6220c2c94bad630f8299e5e8af?s=128&d=identicon&r=PG&f=1", "display_name": "Mikev", "link": "https://stackoverflow.com/users/10858631/mikev"}, "is_accepted": true, "score": 0, "last_activity_date": 1560964038, "last_edit_date": 1560964038, "creation_date": 1560963980, "answer_id": 56672760, "question_id": 56672639, "link": "https://stackoverflow.com/questions/56672639/checking-if-a-textchanged-event-in-c-was-triggered-by-the-code-or-by-the-user/56672760#56672760", "title": "Checking if a TextChanged event in C# was triggered by the code or by the user", "body": "<p>Well following the comment of @elgonzo, you basically have to do that:</p>\n\n<pre><code>bool byCode;    \n\nprivate void TextBox_TextChanged(object sender, EventArgs e)\n{\n    if(byCode == true)\n    {\n         //textbox was changed by the code...\n    }\n    else\n    {\n         //textbox was changed by the user...\n    }\n}\n\nprivate void Button_Click(object sender, EventArgs e)\n{\n    byCode = true; \n    textBox.Text = \"hello world\";\n    byCode = false;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17635, "user_id": 57883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9f4a12b955cb61fcf67b031040f7da51?s=128&d=identicon&r=PG", "display_name": "Maslow", "link": "https://stackoverflow.com/users/57883/maslow"}, "is_accepted": false, "score": 0, "last_activity_date": 1560964013, "creation_date": 1560964013, "answer_id": 56672768, "question_id": 56672639, "link": "https://stackoverflow.com/questions/56672639/checking-if-a-textchanged-event-in-c-was-triggered-by-the-code-or-by-the-user/56672768#56672768", "title": "Checking if a TextChanged event in C# was triggered by the code or by the user", "body": "<pre><code>bool automationLatch;\nprivate void Button_Click(object sender, EventArgs e)\n{\n    automationLatch = true;\n    textBox.Text = \"hello world\";\n    automationLatch = false;\n    /* the TextBox_TextChanged function is fired */\n}\nprivate void TextBox_TextChanged(object sender, EventArgs e)\n{\n    if(!automationLatch){\n    /* some code here that must be run if the user edits the box, but not if the code edits the box */\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7068749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwdOs.png?s=128&g=1", "display_name": "HydroSnow", "link": "https://stackoverflow.com/users/7068749/hydrosnow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "closed_date": 1560964344, "accepted_answer_id": 56672760, "answer_count": 2, "score": 0, "last_activity_date": 1560964038, "creation_date": 1560963495, "question_id": 56672639, "link": "https://stackoverflow.com/questions/56672639/checking-if-a-textchanged-event-in-c-was-triggered-by-the-code-or-by-the-user", "closed_reason": "Duplicate", "title": "Checking if a TextChanged event in C# was triggered by the code or by the user", "body": "<p>I'm creating a new application and I need to edit a TextBox with code at runtime. However, there is a TextChanged event handler which is triggered when the code edits the box. How can i detect if the box has been edited by the user or by the code?</p>\n\n<pre><code>private void TextBox_TextChanged(object sender, EventArgs e)\n{\n    /* some code here that must be run if the user edits the box, but not if the code edits the box */\n}\n\nprivate void Button_Click(object sender, EventArgs e)\n{\n    textBox.Text = \"hello world\";\n    /* the TextBox_TextChanged function is fired */\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 17635, "user_id": 57883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9f4a12b955cb61fcf67b031040f7da51?s=128&d=identicon&r=PG", "display_name": "Maslow", "link": "https://stackoverflow.com/users/57883/maslow"}, "is_accepted": false, "score": 0, "last_activity_date": 1560964259, "creation_date": 1560964259, "answer_id": 56672822, "question_id": 56672636, "link": "https://stackoverflow.com/questions/56672636/is-there-a-way-to-execute-undo-and-redo-processes-in-a-wpf-window-for-every-cont/56672822#56672822", "title": "Is there a way to execute Undo and Redo processes in a WPF window for every containing controls (not just focused control)", "body": "<p>If you lock your effects under a <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">command pattern</a> you can handle the undo/redo events yourself. As long as the wpf controls involved are bound to the data that is done/undone/redone. That makes it possible.</p>\n\n<p>see <a href=\"https://stackoverflow.com/questions/12884703/undo-redo-implementation-for-multiple-variables\">Undo/Redo Implementation For Multiple Variables</a></p>\n"}, {"tags": [], "owner": {"reputation": 8584, "user_id": 426185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed64e54f32c14d0f11e4e91009703322?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/426185/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1561033269, "creation_date": 1561033269, "answer_id": 56685892, "question_id": 56672636, "link": "https://stackoverflow.com/questions/56672636/is-there-a-way-to-execute-undo-and-redo-processes-in-a-wpf-window-for-every-cont/56685892#56685892", "title": "Is there a way to execute Undo and Redo processes in a WPF window for every containing controls (not just focused control)", "body": "<p>You could use the brute force approach.</p>\n\n<p>Assuming you're using MVVM ( if you're not then you should learn and use it ).</p>\n\n<p>Handle propertchanged in the viewmodel(s) and persist before and after by serialising the entire viewmodel to a collection of viewmodels. One for each state. You then iterate backwards through that collection to go back and forwards to re-apply. </p>\n\n<p>This is relatively easy to implement but the downside is the potential to lose changes between redo.</p>\n\n<p>You could improve on that by adding a bit more sophistication. Retaining a property name, old and new value per propertychange.</p>\n"}], "owner": {"reputation": 13, "user_id": 3160983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7edfd6321c20ff778d46c5109c328e?s=128&d=identicon&r=PG&f=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3160983/milad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561033269, "creation_date": 1560963467, "question_id": 56672636, "link": "https://stackoverflow.com/questions/56672636/is-there-a-way-to-execute-undo-and-redo-processes-in-a-wpf-window-for-every-cont", "title": "Is there a way to execute Undo and Redo processes in a WPF window for every containing controls (not just focused control)", "body": "<p>I have a report part in my WPF application which contains some different WPF Pages. I need my report pages to be edittable by user. Each report page contains different Textbox and RichTextBox controls.</p>\n\n<p>Whenever some control's value is changed, if I press ctrl+z and ctrl+y on my keyboard, Undo and Redo will happen only if the control is focused.</p>\n\n<p>Is there any way to extend the functionality of these key combinations to execute Undo and Redo process on all of existing controls in the page without needing to focus on them?</p>\n"}, {"tags": ["c#", "sql-server", "tsql", "ssis", "etl"], "answers": [{"tags": [], "owner": {"reputation": 13770, "user_id": 3652345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vbyrB.png?s=128&g=1", "display_name": "mkRabbani", "link": "https://stackoverflow.com/users/3652345/mkrabbani"}, "is_accepted": false, "score": 0, "last_activity_date": 1560965289, "creation_date": 1560965289, "answer_id": 56673046, "question_id": 56672576, "link": "https://stackoverflow.com/questions/56672576/pivoting-row-values-in-one-column-based-on-values-in-two-other-columns/56673046#56673046", "title": "Pivoting row values in one column based on values in two other columns", "body": "<p>You can try this following script to get your desired output-</p>\n\n<pre><code>SELECT \nCASE WHEN A.ID IS NULL THEN B.ID ELSE A.ID END AS ID,\nCASE WHEN A.USERID IS NULL THEN B.USERID ELSE A.USERID END AS USERID,\nA.[ATTRIBUTE VALUE] ENTITLEMENT,\nB.[ATTRIBUTE VALUE] PERMISSION \nFROM\n(\n    SELECT *,ROW_NUMBER() OVER(PARTITION BY USERID ORDER BY USERID) RN1 FROM your_table\n    WHERE ATTRIBUTE = 'Entitlement'\n)A\nFULL OUTER JOIN\n(\n    SELECT *,ROW_NUMBER() OVER(PARTITION BY USERID ORDER BY USERID) RN2 FROM your_table\n    WHERE ATTRIBUTE = 'Permission'\n)B\nON A.RN1 = B.RN2 AND A.USERID = B.USERID\nORDER BY 2\n</code></pre>\n\n<p>Output is-</p>\n\n<pre><code>ID      USERID  ENTITLEMENT PERMISSION \n00001   15      80          90\n00001   15      81          91\n00001   15      NULL            92\n00001   16      82          93\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 11204556, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lC3O4QXo1VQ/AAAAAAAAAAI/AAAAAAAAt4o/m51l8EaqigQ/photo.jpg?sz=128", "display_name": "indika ranaweera", "link": "https://stackoverflow.com/users/11204556/indika-ranaweera"}, "is_accepted": true, "score": 1, "last_activity_date": 1561036475, "creation_date": 1561036475, "answer_id": 56686796, "question_id": 56672576, "link": "https://stackoverflow.com/questions/56672576/pivoting-row-values-in-one-column-based-on-values-in-two-other-columns/56686796#56686796", "title": "Pivoting row values in one column based on values in two other columns", "body": "<p>You could use the following with use of DENSE_RANK</p>\n\n<pre><code>SELECT \n      CASE WHEN A.ID IS NULL THEN B.ID ELSE A.ID END AS ID,\n      CASE WHEN A.USERID IS NULL THEN B.USERID ELSE A.USERID END AS USERID,\n      A.[ATTRIBUTEVALUE] ENTITLEMENT,\n      B.[ATTRIBUTEVALUE] PERMISSION \nFROM\n    (\n      SELECT *,\n      DENSE_RANK() over (partition by  ATTRIBUTE order by  ATTRIBUTEVALUE)  RN1 \n      FROM  &lt;&lt;yourtable&gt;&gt;\n      WHERE ATTRIBUTE = 'Entitlement'\n     )A\nFULL OUTER JOIN\n     (\n      SELECT *,\n      DENSE_RANK() over (partition by  ATTRIBUTE order by  ATTRIBUTEVALUE)  RN2 \n      FROM &lt;&lt;yourtable&gt;&gt;\n      WHERE ATTRIBUTE = 'Permission'\n      )B  ON A.RN1 = B.RN2\nORDER BY 2,3\n</code></pre>\n\n<p>output look like as follows</p>\n\n<pre><code> ID         USERID      ENTITLEMENT PERMISSION\n ---------- ----------- ----------- -----------\n 00001      15          80          90\n 00001      15          81          91\n 00001      16          NULL        93\n 00001      16          82          92\n</code></pre>\n\n<p>unfortunately the how you want the data to look would not be supported by PIVOT. because you want to show multiple rows for a same id and user.</p>\n"}], "owner": {"reputation": 67, "user_id": 11234048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12d3e1c2461a6cc53444d7a0780d54c5?s=128&d=identicon&r=PG&f=1", "display_name": "ManMadeNova", "link": "https://stackoverflow.com/users/11234048/manmadenova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 56686796, "answer_count": 2, "score": 1, "last_activity_date": 1561036475, "creation_date": 1560963262, "last_edit_date": 1560975623, "question_id": 56672576, "link": "https://stackoverflow.com/questions/56672576/pivoting-row-values-in-one-column-based-on-values-in-two-other-columns", "title": "Pivoting row values in one column based on values in two other columns", "body": "<p>To expand upon <a href=\"https://stackoverflow.com/questions/56530451/filtering-data-values-in-one-column-based-on-another-column-and-then-inserting-v\">my last question</a> regarding a SQL query or C# code that can pivot or transpose values in one column into distinct columns based on data from another column:</p>\n\n<p>Upon further inspection of the data I need a script or query that can convert row values in one column into distinct columns based on values in two other columns.</p>\n\n<p>So for example, here is my current data table:</p>\n\n<pre><code>ID      USERID     ATTRIBUTE       ATTRIBUTE VALUE \n00001   15         Entitlement       80\n00001   15         Entitlement       81\n00001   15         Permission        90\n00001   15         Permission        91\n00001   15         Permission        92\n00001   16         Entitlement       82\n00001   16         Permission        93\n</code></pre>\n\n<p>I would need the output table to look like:</p>\n\n<pre><code>ID      USERID        ENTITLEMENT     PERMISSION \n00001   15               80           90\n00001   15               81           91\n00001   15                            92\n00001   16               82           93 \n</code></pre>\n\n<p>Where the values in the ENTITLEMENT and PERMISSION column are grouped by USERID.</p>\n\n<p>I understand there will be Null values in either new columns when the row count between them doesn't match, and that's ok, as long as each new column contains all the row values and correspond with the correct USERID.</p>\n\n<p>Pivoting the data using T-SQL, i.e.</p>\n\n<pre><code>select ID, USERID, ENTITLEMENT, PERMISSION from dbo.Test_Table\npivot (Max(ATTRIBUTE VALUE) for Attribute IN ([ENTITLEMENT], [PERMISSION])) as PivotTable\norder by ID asc\n</code></pre>\n\n<p>...doesn't return all values due to the MAX aggregate.</p>\n\n<p>The C# code in the previous answer works fine, but, again, only considers ATTRIBUTE VALUE column.</p>\n\n<p>Once again, any help with this task is appreciated. C# is not my forte.</p>\n"}, {"tags": ["c#", "session", "cookies", "model-view-controller", "session-cookies"], "comments": [{"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560963607, "post_id": 56672556, "comment_id": 99912541, "body": "In order to share session state, You&#39;ll need to use a shared SQL server DB to store the session state in, Everything else should just work then. There&#39;s plenty of solutions to load balance like this without implementing it at application level though - But they too would require a shared session DB"}, {"owner": {"reputation": 1628, "user_id": 1243271, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/43a91a9e1f4bb211ee09671482b361f0?s=128&d=identicon&r=PG", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1243271/gautam"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560964339, "post_id": 56672556, "comment_id": 99912871, "body": "Can we do anything apart from this? I cannot change my Session state to SQL"}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560964729, "post_id": 56672556, "comment_id": 99913062, "body": "I&#39;ts going to be very hard and hacky without a shared session database. That doesn&#39;t need to be SQL server, but it&#39;ll require some sort of shared storage. The SQL server implementation is the only one I know off the top of my head that&#39;ll do that, but I&#39;d bet there&#39;s other implementation for Redis / Mongo ect you could look at"}], "owner": {"reputation": 1628, "user_id": 1243271, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/43a91a9e1f4bb211ee09671482b361f0?s=128&d=identicon&r=PG", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1243271/gautam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560963185, "creation_date": 1560963185, "question_id": 56672556, "link": "https://stackoverflow.com/questions/56672556/c-mvc-redirect-action-to-same-action-in-new-server-or-new-url-with-session-co", "title": "C# MVC redirect action to same action in new Server or new URL with session &amp; cookies information", "body": "<p>I have a situation where I need to redirect an action called on one server to another server.</p>\n\n<p>I have 2 servers running the same code with different urls.\nThe purpose of having additional url is to direct the heavy traffic on other server.\nNow I got a call to my controller on server A and I want to redirect it to the same action on Server B.</p>\n\n<p>I am trying something like the following:</p>\n\n<pre><code>public ActionResult MethodName(long id)\n        {\n            if (redirect)\n            {\n                return Redirect(https://ServerB/Controller/MethodName/\" + id.ToString());\n\n            }\n}\n</code></pre>\n\n<p>The issue here is that when the request lands on Server B, it lands with its own session variable that does not match with the original request's and so it fails there.\nAlso, I am using the session using cookies.</p>\n\n<p>I tried using the HttpWebRequest and adding all the cookies in the Cookie container object, but that also did not work.</p>\n\n<p>Can anyone please help me here and put me in the right direction.</p>\n\n<p>I'll provide more information if required.</p>\n"}, {"tags": ["c#", "hybridizer"], "answers": [{"tags": [], "owner": {"reputation": 4311, "user_id": 1669370, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/E2t7h.jpg?s=128&g=1", "display_name": "Regis Portalez", "link": "https://stackoverflow.com/users/1669370/regis-portalez"}, "is_accepted": true, "score": 0, "last_activity_date": 1561019092, "creation_date": 1561019092, "answer_id": 56681916, "question_id": 56672537, "link": "https://stackoverflow.com/questions/56672537/what-is-wrong-with-the-following-hybridizer-code-using-residentarraygeneric/56681916#56681916", "title": "What is wrong with the following Hybridizer code using ResidentArrayGeneric?", "body": "<p>nothing is wrong with your code. It's a plain hybridizer bug (in the cuda interface). </p>\n\n<p>I logged an issue into Altimesh <a href=\"https://github.com/altimesh/hybridizer-basic-samples/issues/84\" rel=\"nofollow noreferrer\">github</a>. </p>\n\n<p>float2 type (which is an internal driver type) has no constructor taking float as argument. You can have a look at the <a href=\"https://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#vector-types\" rel=\"nofollow noreferrer\">CUDA documentation</a>. </p>\n\n<p>Therefore the C# constructor float2::float2(x, y) should not be exposed.</p>\n\n<p>We will expose the function <code>make_float2</code> with next release. </p>\n\n<p>In the meantime, you can do it yourself with the following code : </p>\n\n<pre><code>[IntrinsicFunction(\"make_float2\")]\npublic static float2 make_float2(float x, float y)\n{\n    return new float2(x, y);\n}\n\n[Kernel]\nprivate static void ExtractLoop(FloatResidentArray im,\n                           ResidentArrayGeneric&lt;float2&gt; res,\n                           int size, int yPos, int xPos)\n{\n    Parallel2D.For(0, size, 0, size, (y, x) =&gt;\n    {\n        int i = x + y * size;\n        int j = x + xPos + (y + yPos) * size;\n        float2 tmp = make_float2(im[j], 0f);\n        res[i] = tmp;\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 11658290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/508fc68efda6bc4535b8f4b75e67d286?s=128&d=identicon&r=PG&f=1", "display_name": "drG_Bristol", "link": "https://stackoverflow.com/users/11658290/drg-bristol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 56681916, "answer_count": 1, "score": 1, "last_activity_date": 1561019092, "creation_date": 1560963113, "last_edit_date": 1560986819, "question_id": 56672537, "link": "https://stackoverflow.com/questions/56672537/what-is-wrong-with-the-following-hybridizer-code-using-residentarraygeneric", "title": "What is wrong with the following Hybridizer code using ResidentArrayGeneric?", "body": "<p>The following code extracts a square selection from an (image) array of floats and places it in an array of float2. Both the float2 and original arrays are 1D arrays that represent successive rows in the image. The original float value is placed in the x field and the y field is set to zero.\nThe code below is failing to compile using Hybridizer and I have no idea why.\nOne of the errors is:-</p>\n\n<blockquote>\n  <p>'no suitable constructor exists to convert from \"float\" to \"float2\" '\n  line 32</p>\n</blockquote>\n\n<p>which is the line for the closing bracket of the kernel.\n I am not directly converting from float to float2 so i am confused!</p>\n\n<p>Does anyone one have any idea what is wrong?</p>\n\n<pre><code>using Hybridizer.Runtime.CUDAImports;\nusing System;\n\nnamespace residentarraytest\n{\n\n    class Program\n    {\n        [EntryPoint]\n        private static void ExtractArea(FloatResidentArray im,\n                                ResidentArrayGeneric&lt;int&gt; roi,\n                                ResidentArrayGeneric&lt;float2&gt; res)\n        {\n            int cp = roi[2] / 2;\n            int yPos = (1024 - roi[1]) - cp; // Y reversal just because...\n            int xPos = roi[0] - cp;\n            ExtractLoop(im, res, roi[2], yPos, xPos);\n            return;\n        }\n\n        [Kernel]\n        private static void ExtractLoop(FloatResidentArray im,\n                                   ResidentArrayGeneric&lt;float2&gt; res, \n                                   int size, int yPos, int xPos)\n        {\n            Parallel2D.For(0, size, 0, size, (y, x) =&gt;\n            {\n                int i = x + y * size;\n                int j = x + xPos + (y + yPos) * size;\n                float2 tmp = new float2(im[j], 0f);                \n                res[i] = tmp;\n            });\n        }\n\n        static void Main(string[] args)\n        {\n            ResidentArrayGeneric&lt;int&gt; roi = new ResidentArrayGeneric&lt;int&gt;(3);\n            roi[0] = 512; roi[1] = 512; roi[2] = 256;\n            FloatResidentArray im = new FloatResidentArray(1024 * 1024);\n            // im is filled with data here;\n\n            ResidentArrayGeneric&lt;float2&gt; res = \n                new ResidentArrayGeneric&lt;float2&gt;(roi[2] * roi[2]);\n\n            cudaDeviceProp prop;\n            cuda.GetDeviceProperties(out prop, 0);            \n\n            HybRunner runner = HybRunner.Cuda();\n\n            // create a wrapper object to call GPU methods instead of C#\n            dynamic wrapped = runner.Wrap(new Program());\n\n            roi.RefreshDevice();\n            im.RefreshDevice();\n            res.RefreshDevice();\n            wrapped.ExtractArea(im, roi, res);\n\n            // program continues\n            Console.Out.WriteLine(\"DONE\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "parsing", "text", "split"], "comments": [{"owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "edited": false, "score": 1, "creation_date": 1560963034, "post_id": 56672473, "comment_id": 99912305, "body": "You split string once, the answer is to split your strings again."}, {"owner": {"reputation": 408521, "user_id": 284240, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/01d6005ebf89c14de87a62add488aaad?s=128&d=identicon&r=PG", "display_name": "Tim Schmelter", "link": "https://stackoverflow.com/users/284240/tim-schmelter"}, "edited": false, "score": 4, "creation_date": 1560963148, "post_id": 56672473, "comment_id": 99912356, "body": "Who has created this text file format? You can kick him"}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 11320024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jWO4.jpg?s=128&g=1", "display_name": "AP.", "link": "https://stackoverflow.com/users/11320024/ap"}, "is_accepted": false, "score": 0, "last_activity_date": 1560963282, "creation_date": 1560963282, "answer_id": 56672583, "question_id": 56672473, "link": "https://stackoverflow.com/questions/56672473/how-to-access-individual-strings-within-a-split-text-file/56672583#56672583", "title": "How to access individual strings within a split text file", "body": "<p>try this\nvar FlowlineSections = text.Split('*')[1].Split(vbTab); </p>\n"}, {"tags": [], "owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "is_accepted": false, "score": 0, "last_activity_date": 1560963303, "creation_date": 1560963303, "answer_id": 56672595, "question_id": 56672473, "link": "https://stackoverflow.com/questions/56672473/how-to-access-individual-strings-within-a-split-text-file/56672595#56672595", "title": "How to access individual strings within a split text file", "body": "<p>After your first split, your first string should be something like:</p>\n\n<p><code>Name\\tCountry\\nJohn\\tUSA\\nJack\\tRussia\\nJim\\tUSA</code></p>\n\n<p>So you'll need to split it by <code>\\n</code> to get each individual lines, and then for each line (skipping the first line if you don't care about the headers) you'll need to split it by <code>\\t</code>. How you handle those results are up to you. You could turn it into a list of string lists, a dictionary, or populate some object type you create.</p>\n"}, {"tags": [], "owner": {"reputation": 17635, "user_id": 57883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/9f4a12b955cb61fcf67b031040f7da51?s=128&d=identicon&r=PG", "display_name": "Maslow", "link": "https://stackoverflow.com/users/57883/maslow"}, "is_accepted": true, "score": 0, "last_activity_date": 1560963611, "creation_date": 1560963611, "answer_id": 56672660, "question_id": 56672473, "link": "https://stackoverflow.com/questions/56672473/how-to-access-individual-strings-within-a-split-text-file/56672660#56672660", "title": "How to access individual strings within a split text file", "body": "<p>so one way to do it would be </p>\n\n<pre><code>var secondsplitter = new [] {\"\\r\\n\",\"\\n\",\"\\r\"};\n@\"*\n\nName  Country  \nJohn  USA\n\nJack  Russia\n\nJim   USA\n\n*\n\nName  Country\n\nRoss  NZ\n\nMoss  UK\"\n    .Split('*')\n    .Where(x =&gt; !String.IsNullOrWhiteSpace(x))\n    .Select(x =&gt; x.Split(secondsplitter,StringSplitOptions.RemoveEmptyEntries))\n</code></pre>\n\n<p>which gives</p>\n\n<p><a href=\"https://i.stack.imgur.com/lUSGZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lUSGZ.png\" alt=\"Output\"></a></p>\n"}], "owner": {"reputation": 253, "user_id": 11397513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed38438a53e4614454a8bf36fed30097?s=128&d=identicon&r=PG&f=1", "display_name": "CodeMaster", "link": "https://stackoverflow.com/users/11397513/codemaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 56672660, "answer_count": 3, "score": 0, "last_activity_date": 1560963611, "creation_date": 1560962847, "last_edit_date": 1560963085, "question_id": 56672473, "link": "https://stackoverflow.com/questions/56672473/how-to-access-individual-strings-within-a-split-text-file", "title": "How to access individual strings within a split text file", "body": "<p>I need a way to access column values (delimited by \\t) from a section of a text file.</p>\n\n<p>The text file has sections separated by \"*\". I could find those sections using the simple below code.</p>\n\n<pre><code> var text = File.ReadAllText(\"PIP_geometries.csv\");\n\n var FlowlineSections = text.Split('*');\n</code></pre>\n\n<p>Within each section, there are 3 columns with headers and some rows of data. I want to get to these values.</p>\n\n<p>For example:</p>\n\n<pre><code>*\n\nName  Country  \nJohn  USA\n\nJack  Russia\n\nJim   USA\n\n*\n\nName  Country\n\nRoss  NZ\n\nMoss  UK\n</code></pre>\n\n<p>In the code behind, the entire section after splitting looks like a single string. How do I get \"USA\" for \"JIM\"</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560964373, "post_id": 56672441, "comment_id": 99912890, "body": "There&#39;s probably have something logged in the ModelState property of the Controller?"}, {"owner": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560964811, "post_id": 56672441, "comment_id": 99913095, "body": "Sorry didnt get you ?"}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560965032, "post_id": 56672441, "comment_id": 99913183, "body": "Sorry for the broken sentence! If that&#39;s a WebAPI / MVC controller, you&#39;ll have a ModelState property there, That will usually log some error when the model is null - <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.mvc.controller.modelstate?view=aspnet-mvc-5.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560965145, "post_id": 56672441, "comment_id": 99913249, "body": "Its WEBAPI. I tried to debug the ModelState and it shows     Count: 1     IsReadOnly: false     IsValid: false     Keys: Count = 1     Values: Count = 1     Results View: Expanding the Results View will enumerate the IEnumerable"}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560965240, "post_id": 56672441, "comment_id": 99913286, "body": "Yeah, the 1 item in that list will be your error message - Expand the enumerable in the debug view and you&#39;ll see it"}, {"owner": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560973254, "post_id": 56672441, "comment_id": 99916883, "body": "This is the error message Invalid property identifier character: [. Path &#39;ManagerStrategyId&#39;, line 4, position 1."}, {"owner": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560973906, "post_id": 56672441, "comment_id": 99917165, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/195216/discussion-between-tom-and-sam\">continue this discussion in chat</a>."}, {"owner": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "reply_to_user": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560974453, "post_id": 56672441, "comment_id": 99917373, "body": "The JSON seems to be invalid when putting it in the JSON formatter tool . Not sure what the problem is"}], "answers": [{"comments": [{"owner": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "edited": false, "score": 0, "creation_date": 1560975747, "post_id": 56675096, "comment_id": 99917908, "body": "Looks good except the DocumentDate is coming null. Its DateTime field in the model"}, {"owner": {"reputation": 529, "user_id": 4731319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a1f36e03f1c886899d84773345981b3?s=128&d=identicon&r=PG&f=1", "display_name": "gpro", "link": "https://stackoverflow.com/users/4731319/gpro"}, "reply_to_user": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "edited": false, "score": 0, "creation_date": 1560977733, "post_id": 56675096, "comment_id": 99918662, "body": "@Tom I assume the DateTime should be the  ISO 8601 standard: &quot;2012-03-19T07:22Z&quot; format. I have updated the answer with the ISO format."}], "tags": [], "owner": {"reputation": 529, "user_id": 4731319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a1f36e03f1c886899d84773345981b3?s=128&d=identicon&r=PG&f=1", "display_name": "gpro", "link": "https://stackoverflow.com/users/4731319/gpro"}, "is_accepted": true, "score": 0, "last_activity_date": 1560977951, "last_edit_date": 1560977951, "creation_date": 1560974677, "answer_id": 56675096, "question_id": 56672441, "link": "https://stackoverflow.com/questions/56672441/model-is-null-when-the-endpoint-is-hit-via-postman/56675096#56675096", "title": "Model is null when the endpoint is hit via postman", "body": "<p>Your JSON is missing the key for the list and also the list syntax seems incorrect. Try the following:</p>\n\n<pre><code>{\n\"ManagerStrategyId\":5508,\n\"DocumentUploadCreateDetailsViewModel\":[\n  {\n     \"Name\":\"x2\",\n     \"DocumentTypeId\":2,\n     \"DocumentDate\":\"2010-04-15\",\n     \"DocumentContent\":[\n        71,\n        107,\n        98\n     ]\n  },\n  {\n     \"Name\":\"x3\",\n     \"DocumentTypeId\":3,\n     \"DocumentDate\":\"2010-04-15\",\n     \"DocumentContent\":[\n        71,\n        107,\n        98\n     ]\n  },\n  {\n     \"Name\":\"x4\",\n     \"DocumentTypeId\":4,\n     \"DocumentDate\":\"2010-04-15\",\n     \"DocumentContent\":[\n        71,\n        107,\n        98\n     ]\n  }\n]\n}\n</code></pre>\n"}], "owner": {"reputation": 5775, "user_id": 4607841, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71cd701f6826481858ee299f68f3205a?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/4607841/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56675096, "answer_count": 1, "score": 1, "last_activity_date": 1560977951, "creation_date": 1560962738, "question_id": 56672441, "link": "https://stackoverflow.com/questions/56672441/model-is-null-when-the-endpoint-is-hit-via-postman", "title": "Model is null when the endpoint is hit via postman", "body": "<p>It seems like the data that I am passing through postman isnt matching the model that is in the controller method.\nI am implementing web api endpoint in .Net application to handle saving of muliple File uploads at the same time. The user could select multiple files and for each file he could select the document type and date. There are two tables (parent and child) that the records are inserted into\nThe parent table in my example is DOCUMENT table and child records are stored in the MANAGERSTRATEGY_DOCUMENT table. Is there anything wrong with my JSON structure</p>\n\n<p>Viewmodel</p>\n\n<pre><code> public class DocumentUploadCreateViewModel\n    {\n        public int ManagerStrategyId { get; set; }\n        public List&lt;DocumentUploadCreateDetailsViewModel&gt; DocumentUploadCreateDetailsViewModel = new List&lt;DocumentUploadCreateDetailsViewModel&gt;();\n    }\n\n\n public class DocumentUploadCreateDetailsViewModel\n    {\n        public string Name { get; set; }\n        public int DocumentTypeId { get; set; }\n        public DateTime? DocumentDate { get; set; }\n        public byte[] DocumentContent { get; set; }\n\n    }\n</code></pre>\n\n<p>Controller code</p>\n\n<pre><code>[HttpPost]\n        [SkipTokenAuthorization]\n        [Route(\"api/documentupload/create\")]\n        public IHttpActionResult Create(DocumentUploadCreateViewModel model)\n        {\n            var mgrStrategyDocument = new MANAGERSTRATEGY_DOCUMENT();\n        var mgrDocumentService = GetService&lt;DOCUMENT&gt;();\n        var mgrStrategyDocumentService = GetService&lt;MANAGERSTRATEGY_DOCUMENT&gt;();\n\n        if (model != null)\n        {\n            foreach (var obj in model.DocumentUploadCreateDetailsViewModel)\n            {\n                var mgrDocument = new DOCUMENT\n                {\n                    DOCUMENT_TYPE_ID = obj.DocumentTypeId,\n                    DOCUMENT_DATE = obj.DocumentDate,\n                    NAME = obj.Name\n                };\n                mgrDocument = mgrDocumentService.Create(mgrDocument);\n\n\n                var mangerStrategyDocumentService = GetService&lt;MANAGERSTRATEGY_DOCUMENT&gt;();\n                var mgrStrategyDocument1 = new MANAGERSTRATEGY_DOCUMENT()\n                {\n                    DOCUMENT_ID = mgrDocument.ID,\n                    MANAGERSTRATEGY_ID = model.ManagerStrategyId\n\n                };\n                mgrStrategyDocument = mgrStrategyDocumentService.Create(mgrStrategyDocument1);\n            }\n\n        }\n        return Ok(mgrStrategyDocument);\n\n    }\n    }\n</code></pre>\n\n<p>Postman </p>\n\n<pre><code>http://localhost:56888/api/documentupload/create\n\n\nJSON\n\n    {\n    \"ManagerStrategyId\" : 5508,\n\n    [\n        \"Name\" : \"x2\",\n        \"DocumentTypeId\" : 2,\n        \"DocumentDate\" : \"15/04/2010\",\n        \"DocumentContent\" : [71,107,98]\n    ],\n\n        [\n        \"Name\" : \"x3\",\n        \"DocumentTypeId\" : 3,\n        \"DocumentDate\" : \"15/04/2010\",\n        \"DocumentContent\" : [71,107,98]\n    ],\n\n        [\n        \"Name\" : \"x4\",\n        \"DocumentTypeId\" : 4,\n        \"DocumentDate\" : \"15/04/2010\",\n        \"DocumentContent\" : [71,107,98]\n    ]\n}\n</code></pre>\n"}, {"tags": ["c#", "web-services", "asynchronous", "async-await", "servicestack"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1561030809, "post_id": 56672363, "comment_id": 99935798, "body": "The magic here all comes from <code>GetBookingAsync()</code>. And that should also <code>await</code> something and so on."}, {"owner": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "reply_to_user": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1561030949, "post_id": 56672363, "comment_id": 99935869, "body": "Yes, the async await thing must be used throughout, from start to finish, where finish is where the code hands it off to an async method that in turn hands it off to the OS."}], "answers": [{"comments": [{"owner": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "edited": false, "score": 0, "creation_date": 1560964122, "post_id": 56672465, "comment_id": 99912770, "body": "So my code above is correct, returning <code>Task&lt;TheResponse&gt;</code> and making it <code>async</code> is all thats needed then..."}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "edited": false, "score": 0, "creation_date": 1561001725, "post_id": 56672465, "comment_id": 99923657, "body": "@Ted FYI It just needs to return a <code>Task</code> or <code>Task&lt;T&gt;</code> instance (e.g. can also return an <code>object</code> that&#39;s a <code>Task</code>), also doesn&#39;t matter if it has <code>async</code> or not. So return method signature doesn&#39;t matter, just needs to return a <code>Task</code> instance."}, {"owner": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "edited": false, "score": 0, "creation_date": 1561018717, "post_id": 56672465, "comment_id": 99929443, "body": "Doesnt matter if has <code>async</code>? Do you care to elaborate on this? That sounds like you&#39;re not using the async/await (TAP) model in .NET?"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "edited": false, "score": 1, "creation_date": 1561019310, "post_id": 56672465, "comment_id": 99929741, "body": "@Ted returning a <code>Task</code> (i.e. C#&#39;s wrapper around a future result) makes a method async, the <code>async</code> keyword is just C# compiler syntactic sugar that compiles a state machine to wrap code blocks after await into the Task&#39;s continuation to give the illusion that async is sequential code so it&#39;s easier for devs to read/write, but it&#39;s no more async/non-blocking than manually constructing and returning the <code>Task</code> value (i.e. what was needed before C# had async/await and what the C# compiler does behind the scenes)."}], "tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": true, "score": 2, "last_activity_date": 1560962818, "creation_date": 1560962818, "answer_id": 56672465, "question_id": 56672363, "link": "https://stackoverflow.com/questions/56672363/servicestack-async-await-service-handlers/56672465#56672465", "title": "ServiceStack: async/await service handlers", "body": "<p>Yes just returning a Task will make your Services Async and non-blocking in ServiceStack.</p>\n"}], "owner": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56672465, "answer_count": 1, "score": 2, "last_activity_date": 1560962818, "creation_date": 1560962430, "question_id": 56672363, "link": "https://stackoverflow.com/questions/56672363/servicestack-async-await-service-handlers", "title": "ServiceStack: async/await service handlers", "body": "<p>I have read a few SO questions that touches in this question, even though many of them are several years old:</p>\n\n<p><strong>How do you write a Service handler in ServiceStack API so that it becomes async/await?</strong></p>\n\n<p>There are no docs on docs.servicestack.net that mentions async/await at all, I just find some community forum posts. I <em>think</em> that the only thing you need to do, to change this non-async method:</p>\n\n<pre><code>public GetBookingResponse Get(GetBooking getBooking)\n{\n    Booking booking = _objectGetter.GetBooking(getBooking.Id);\n    return new GetBookingResponse(booking);\n}\n</code></pre>\n\n<p>to an async method, is this:</p>\n\n<pre><code>public async Task&lt;GetBookingResponse&gt; Get(GetBooking getBooking)\n{\n    Booking booking = await _objectGetter.GetBookingAsync(getBooking.Id);\n    return new GetBookingResponse(booking);\n}\n</code></pre>\n\n<p>and by doing this, the async/await model will magically be leveraged through the call stack?</p>\n\n<p>Mythz? =)</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 1, "creation_date": 1560962485, "post_id": 56672353, "comment_id": 99912076, "body": "How are we supposed to tell you what is wrong with your code (beyond a general answer) without seeing any code?"}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 1, "creation_date": 1560962636, "post_id": 56672353, "comment_id": 99912136, "body": "Welcome to SO. With what you&#39;ve posted all we can say is that an exception occurred in <code>maddox.game.world.Strategy.OnEventGame()</code> and that&#39;s all. Please take a look at this <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> and post a proper question. You should post your code, and point to the exact place where you get the error."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 2, "creation_date": 1560962665, "post_id": 56672353, "comment_id": 99912148, "body": "Simply by looking at your error, it&#39;s obvious that you&#39;re adding something to a collection at an index that doesn&#39;t exist."}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 7814818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1ebe8b7264a32d84b66b23236ce63e?s=128&d=identicon&r=PG&f=1", "display_name": "Ezayex", "link": "https://stackoverflow.com/users/7814818/ezayex"}, "is_accepted": false, "score": -1, "last_activity_date": 1560962835, "creation_date": 1560962835, "answer_id": 56672467, "question_id": 56672353, "link": "https://stackoverflow.com/questions/56672353/c-coding-error-in-stack-can-anyone-look-inot-this/56672467#56672467", "title": "c# coding error in stack can anyone look inot this", "body": "<p>You got an ArgumentOutOfRangeException. Probably you would like to iterate through a collection and the index which you use is negative or higher than the size of the collection as you can read it in the error message. Double check the size of your collection and your index value and next time please add some code to your question.</p>\n"}], "owner": {"reputation": 1, "user_id": 11671727, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156539933192123/picture?type=large", "display_name": "Harry King", "link": "https://stackoverflow.com/users/11671727/harry-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1560966493, "answer_count": 1, "score": -3, "last_activity_date": 1560962835, "creation_date": 1560962389, "last_edit_date": 1560962493, "question_id": 56672353, "link": "https://stackoverflow.com/questions/56672353/c-coding-error-in-stack-can-anyone-look-inot-this", "closed_reason": "Duplicate", "title": "c# coding error in stack can anyone look inot this", "body": "<p>System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection.\nParameter name: index</p>\n\n<p>Server stack trace:</p>\n\n<pre><code>   at System.ThrowHelper.ThrowArgumentOutOfRangeException(ExceptionArgument argument, ExceptionResource resource)\n   at Mission.SetHeadQuarter(Player player, Int32 menuItemIndex)\n   at Mission.MenuPartRadarOperations(Player player, Int32 id, Int32 menuItemIndex)\n   at maddox.game.ABattle.OnOrderMissionMenuSelected(Player player, Int32 ID, Int32 menuItemIndex)\n   at maddox.game.ABattle.OnEventGame(GameEventId eventId, Object eventArg0, Object eventArg1, Int32 eventArgInt)\n   at maddox.game.world.Strategy.OnEventGame(GameEventId eventId, Object eventArg0, Object eventArg1, Int32 eventArgInt)\n   at System.Runtime.Remoting.Messaging.StackBuilderSink._PrivateProcessMessage(IntPtr md, Object[] args, Object server, Object[]&amp; outArgs)\n   at System.Runtime.Remoting.Messaging.StackBuilderSink.SyncProcessMessage(IMessage msg)\n\nException rethrown at [0]:\n   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage reqMsg, IMessage retMsg)\n   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData&amp; msgData, Int32 type)\n   at maddox.game.IBattle.OnEventGame(GameEventId eventId, Object eventArg0, Object eventArg1, Int32 eventArgInt)\n   at maddox.game.GameDef.eventGame(GameEventId eventId, Object eventArg0, Object eventArg1, Int32 eventArgInt)\n   at y45c1v2ebB$KGoVuDLAOgPveOWCjmls4YNlJvUerFjtA.s$bfu6e1CXdvl0HcORTAHEE(GameEventId , Object , Object , Int32 )\n</code></pre>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 11625230, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IjrPIKHVmVg/AAAAAAAAAAI/AAAAAAAAA28/iIwdIk8bHCc/photo.jpg?sz=128", "display_name": "Andrea Liu", "link": "https://stackoverflow.com/users/11625230/andrea-liu"}, "is_accepted": true, "score": 0, "last_activity_date": 1561373286, "creation_date": 1561373286, "answer_id": 56734972, "question_id": 56672350, "link": "https://stackoverflow.com/questions/56672350/button-doesnt-called-onpointerdown-method/56734972#56734972", "title": "Button doesn&#39;t called OnPointerDown() method", "body": "<p>After doing more tutorial, I have solve this problem. Turn out I must called Event Trigger on my button.\nI also write another script attached to the button where it will be called from Event Trigger and set the boolean input on the sprite.</p>\n\n<p>I elaborate more on <a href=\"https://medium.com/@andrea8787/pacman-for-android-with-unity-573c1b8a28a6\" rel=\"nofollow noreferrer\">my medium post</a>.</p>\n"}], "owner": {"reputation": 73, "user_id": 11625230, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IjrPIKHVmVg/AAAAAAAAAAI/AAAAAAAAA28/iIwdIk8bHCc/photo.jpg?sz=128", "display_name": "Andrea Liu", "link": "https://stackoverflow.com/users/11625230/andrea-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 56734972, "answer_count": 1, "score": 0, "last_activity_date": 1561373286, "creation_date": 1560962372, "last_edit_date": 1560963415, "question_id": 56672350, "link": "https://stackoverflow.com/questions/56672350/button-doesnt-called-onpointerdown-method", "title": "Button doesn&#39;t called OnPointerDown() method", "body": "<p>So I decided to learn Unity by modifying Pacman game <a href=\"https://noobtuts.com/unity/2d-pacman-game\" rel=\"nofollow noreferrer\">tutorial</a> on desktop become Android game. For now, I tried to replace the input key from arrow key to UI button on my sprite script. And then drag the button as to the sprite input field.\n<a href=\"https://i.stack.imgur.com/cTO1x.png\" rel=\"nofollow noreferrer\">here is the input field image on my sprite</a></p>\n\n<p>Bellow code supposed to be execute when I pressed my button. However, the button seems doesnt trigger any method.</p>\n\n<pre><code>if (rightButton.IsInvoking(\"OnPointerDown\")){\n                Debug.Log(\"OnPOinterDOwn() method is called\");\n</code></pre>\n\n<p>Here is the complete code for my sprite :</p>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\nusing UnityEngine.UI;\n\npublic class PacmanMove : MonoBehaviour {\n\n    public float speed = 0.4f;\n    Vector2 dest = Vector2.zero;\n\n    public Button rightButton;\n    public Button leftButton;\n    public Button upButton;\n    public Button downButton;\n\n    // Use this for initialization\n    void Start () {\n        dest = transform.position;\n    }\n\n     //Update is called in fixed time interval\n    void FixedUpdate() {\n        //Move closer to Desstination\n        Vector2 p = Vector2.MoveTowards(transform.position, dest, speed);\n        GetComponent&lt;Rigidbody2D&gt;().MovePosition(p);\n\n        //Check for input if not moving\n        if ((Vector2)transform.position == dest) {\n            if (Input.GetKey(KeyCode.UpArrow) &amp;&amp; valid(Vector2.up))\n                dest = (Vector2)transform.position + Vector2.up;\n            if (Input.GetKey(KeyCode.RightArrow) &amp;&amp; valid(Vector2.right))\n                dest = (Vector2)transform.position + Vector2.right;\n            if (Input.GetKey(KeyCode.DownArrow) &amp;&amp; valid(-Vector2.up))\n                dest = (Vector2)transform.position - Vector2.up;\n            if (Input.GetKey(KeyCode.LeftArrow) &amp;&amp; valid(-Vector2.right))\n                dest = (Vector2)transform.position - Vector2.right;\n\n            //Bellow code supposed to be trigger when my UI button is pressed\n            if (rightButton.IsInvoking(\"OnPointerDown\")){\n                Debug.Log(\"OnPointerMethod() is called\");\n            }\n        }\n\n        // Animation Parameters\n        Vector2 dir = dest - (Vector2)transform.position;\n        GetComponent&lt;Animator&gt;().SetFloat(\"DirX\", dir.x);\n        GetComponent&lt;Animator&gt;().SetFloat(\"DirY\", dir.y);\n    }\n\n    bool valid (Vector2 dir) {\n        //Cast line from 'next to Pac-Man' to 'Pac-man'\n        Vector2 pos = transform.position;\n        RaycastHit2D hit = Physics2D.Linecast(pos + dir, pos);\n        return (hit.collider == GetComponent&lt;Collider2D&gt;());\n    }\n}\n</code></pre>\n\n<p>Could somebody enlighten me what am I missing?</p>\n"}, {"tags": ["c#", "csv", "reporting-services"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1560962318, "post_id": 56672325, "comment_id": 99912017, "body": "Have you considered not using SSRS for this? Why not use a library that&#39;s specifically made for CSV files, such as <a href=\"https://joshclose.github.io/CsvHelper/\" rel=\"nofollow noreferrer\">CsvHelper</a>?"}, {"owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1560962617, "post_id": 56672325, "comment_id": 99912132, "body": "Well, there are lots of other reports that need to be rendered to HTML/PDF/Word/Excel - still, I suppose I could call that library from the catch block, if I knew exactly where all the data was coming from - I&#39;ve got a custom XML report format which is translated into something SSRS can understand somewhere or other in the code, and digging into that might take a while!"}, {"owner": {"reputation": 5995, "user_id": 283895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526z2.png?s=128&g=1", "display_name": "tgolisch", "link": "https://stackoverflow.com/users/283895/tgolisch"}, "edited": false, "score": 0, "creation_date": 1560969326, "post_id": 56672325, "comment_id": 99915141, "body": "Which version of SSRS are you using?"}, {"owner": {"reputation": 5995, "user_id": 283895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/526z2.png?s=128&g=1", "display_name": "tgolisch", "link": "https://stackoverflow.com/users/283895/tgolisch"}, "edited": false, "score": 0, "creation_date": 1560969818, "post_id": 56672325, "comment_id": 99915388, "body": "<code>deviceInfo</code> contains a block of XML. Could you please show that value?"}, {"owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "edited": false, "score": 0, "creation_date": 1560972925, "post_id": 56672325, "comment_id": 99916740, "body": "Which version? I think it&#39;s 10.0.0.0, according to the Object Browser in Visual Studio."}], "owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560973447, "creation_date": 1560962236, "last_edit_date": 1560973447, "question_id": 56672325, "link": "https://stackoverflow.com/questions/56672325/microsoft-reporting-webforms-wont-render-a-report-as-csv", "title": "Microsoft.Reporting.WebForms won&#39;t render a report as CSV", "body": "<p>I have a LocalReport with 400 or so columns that I'm trying to render to Excel, but the version of Microsoft.Reporting.WebForms that I'm using supports only 256 columns. Therefore I'm trying to get it to render as CSV instead in case the Excel export fails:</p>\n\n<pre><code>try\n{\n    // render the report\n    bytes = Report.Render(\n            reportType,\n            deviceInfo,\n            out mimeType,\n            out encoding,\n            out fileNameExtension,\n            out streams,\n            out warnings);\n}\ncatch (LocalProcessingException ex)\n{\n    // fall back on CSV rendering\n    bytes = Report.Render(\n            \"CSV\",\n            deviceInfo,\n            out mimeType,\n            out encoding,\n            out fileNameExtension,\n            out streams,\n            out warnings);\n}\n</code></pre>\n\n<p>However I get an error when I do this:</p>\n\n<blockquote>\n  <p>Specified argument was out of the range of valid values.\n  Parameter name: format</p>\n</blockquote>\n\n<p>So it seems that CSV is an invalid report format - but I thought CSV was supported? How can I get my LocalReport to render as CSV?</p>\n\n<p>Thanks! :)</p>\n\n<p>edit: here is where I set the XML for deviceInfo:</p>\n\n<pre><code>switch (type)\n{\n    // TODO: implement other cases\n    case ReportContentType.HTML:\n        reportType = \"HTML\";\n        break;\n    case ReportContentType.Excel:\n        reportType = \"Excel\";\n        break;\n    case ReportContentType.Word:\n        reportType = \"Word\";\n        break;\n    case ReportContentType.PDF:\n    default:\n        reportType = \"PDF\";\n        break;\n}\n\n//string deviceInfo = \"&lt;DeviceInfo/&gt;\";\nstring deviceInfo = \"&lt;DeviceInfo&gt;\" +\n$\"&lt;OutputFormat&gt;{reportType}&lt;/OutputFormat&gt;\" +\n$\"&lt;PageWidth&gt;{width}in&lt;/PageWidth&gt;\" +\n$\"&lt;PageHeight&gt;{height}in&lt;/PageHeight&gt;\" +\n$\"&lt;MarginTop&gt;{marginTop}in&lt;/MarginTop&gt;\" +\n$\"&lt;MarginLeft&gt;{marginLeft}in&lt;/MarginLeft&gt;\" +\n$\"&lt;MarginRight&gt;{marginRight}in&lt;/MarginRight&gt;\" +\n$\"&lt;MarginBottom&gt;{marginBottom}in&lt;/MarginBottom&gt;\" +\n\"&lt;/DeviceInfo&gt;\";\n</code></pre>\n\n<p>So the reportType would be Excel since that's what the user requested; should I change it to CSV? The others are just numbers of course.</p>\n"}, {"tags": ["c#", "excel", "pivot-table"], "comments": [{"owner": {"reputation": 13, "user_id": 11649358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/544c6e80c607687e7bf57cfb6ddee921?s=128&d=identicon&r=PG&f=1", "display_name": "Frantellie", "link": "https://stackoverflow.com/users/11649358/frantellie"}, "reply_to_user": {"reputation": 3598, "user_id": 10908769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W0XFB.png?s=128&g=1", "display_name": "Asger", "link": "https://stackoverflow.com/users/10908769/asger"}, "edited": false, "score": 0, "creation_date": 1561051770, "post_id": 56672256, "comment_id": 99947688, "body": "Thank you @Asger!  A small modification is needed. VS says pvtTable.DataBodyRange.Rows(pl.Position).Cells is incorrect syntax - Non-invocable method &#39;Range.Rows&#39; cannot be used as a method. Also pl.Position is the position within the PivotRowAxis, which may not be the actual row # in the Excel worksheet. Nonetheless. your answer provided a solution...THANKS!"}, {"owner": {"reputation": 3598, "user_id": 10908769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W0XFB.png?s=128&g=1", "display_name": "Asger", "link": "https://stackoverflow.com/users/10908769/asger"}, "edited": false, "score": 0, "creation_date": 1561052394, "post_id": 56672256, "comment_id": 99947970, "body": "Thanks, I clarified my answer concerning <code>PivotLine.Position</code>, which represents the row number of the <code>DataBodyRange</code> (and is never equal to the Excel row number)."}, {"owner": {"reputation": 3598, "user_id": 10908769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W0XFB.png?s=128&g=1", "display_name": "Asger", "link": "https://stackoverflow.com/users/10908769/asger"}, "edited": false, "score": 0, "creation_date": 1561053171, "post_id": 56672256, "comment_id": 99948283, "body": "Concerning the error: Would <code>pvtTable.DataBodyRange.Rows[pl.Position].Cells</code> be working?"}, {"owner": {"reputation": 13, "user_id": 11649358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/544c6e80c607687e7bf57cfb6ddee921?s=128&d=identicon&r=PG&f=1", "display_name": "Frantellie", "link": "https://stackoverflow.com/users/11649358/frantellie"}, "reply_to_user": {"reputation": 3598, "user_id": 10908769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W0XFB.png?s=128&g=1", "display_name": "Asger", "link": "https://stackoverflow.com/users/10908769/asger"}, "edited": false, "score": 0, "creation_date": 1561054962, "post_id": 56672256, "comment_id": 99949022, "body": "Yes, the two changes pl.Position and [...] makes your answer 100% PERFECT! Thanks again...you are the best!"}], "answers": [{"tags": [], "owner": {"reputation": 3598, "user_id": 10908769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W0XFB.png?s=128&g=1", "display_name": "Asger", "link": "https://stackoverflow.com/users/10908769/asger"}, "is_accepted": true, "score": 0, "last_activity_date": 1561053304, "last_edit_date": 1561053304, "creation_date": 1560965199, "answer_id": 56673028, "question_id": 56672256, "link": "https://stackoverflow.com/questions/56672256/how-to-determine-if-a-cell-in-pivottable-databodyrange-is-a-total/56673028#56673028", "title": "How to determine if a cell in PivotTable.DataBodyRange is a &quot;total&quot;", "body": "<p>You need this:</p>\n\n<ul>\n<li>Loop over the rows by looping over <code>PivotTable.PivotRowAxis.PivotLines</code></li>\n<li>Each <code>PivotLine.Position</code> is equivalent the row number <em>within</em> the <code>PivotTable.DataBodyRange</code> (not the Excel row number), starting with 1</li>\n<li>If <code>PivotLine.LineType = xlPivotLineSubtotal</code>, then you are in a desired row</li>\n</ul>\n\n<p>The result might be something like this:</p>\n\n<pre><code>foreach (Excel.PivotLine pl in pvtTable.PivotRowAxis.PivotLines)\n{\n    if (pl.LineType == Excel.XlPivotLineType.xlPivotLineSubtotal)\n    {\n        foreach (Excel.Range cell in pvtTable.DataBodyRange.Rows[pl.Position].Cells){\n            System.Diagnostics.Debug.WriteLine(cell);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11649358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/544c6e80c607687e7bf57cfb6ddee921?s=128&d=identicon&r=PG&f=1", "display_name": "Frantellie", "link": "https://stackoverflow.com/users/11649358/frantellie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 56673028, "answer_count": 1, "score": 1, "last_activity_date": 1561053304, "creation_date": 1560961978, "last_edit_date": 1560968072, "question_id": 56672256, "link": "https://stackoverflow.com/questions/56672256/how-to-determine-if-a-cell-in-pivottable-databodyrange-is-a-total", "title": "How to determine if a cell in PivotTable.DataBodyRange is a &quot;total&quot;", "body": "<p>I create a pivot table in code (C#) with grand totals for columns. How can I determine, if a cell in the <code>PivotTable.DataBodyRange</code> is a total? I loop through the cells like so:</p>\n\n<p><code>foreach (Excel.Range cell in pvtTable.DataBodyRange) {\n        //I need to determine if \"cell\" is a total or not.\n    }</code></p>\n\n<p>See image. The cells that are totals are highlighted in yellow.</p>\n\n<p><img src=\"https://i.stack.imgur.com/IQguL.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "asp.net", "twitter-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11659126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350a9e419c3adf79b97a7fede651cccb?s=128&d=identicon&r=PG&f=1", "display_name": "Arcaanier", "link": "https://stackoverflow.com/users/11659126/arcaanier"}, "edited": false, "score": 0, "creation_date": 1561033195, "post_id": 56673086, "comment_id": 99937134, "body": "Thank you for the point in the right direction. Yes, this was originally a school project, but now I am adding on some final touches for my client. There are a lot of things I notice I could have done a lot better, and it&#39;s really more of a learning experience than anything. The issue is that I didn&#39;t really understand bootstrapping, and the people I asked use bootstrapping for some minor elements in their table formats, which is why you see what I did in the post, but now I understand it a lot more. Thank you for the information."}], "tags": [], "owner": {"reputation": 3806, "user_id": 7675833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBkWl.jpg?s=128&g=1", "display_name": "Travis Acton", "link": "https://stackoverflow.com/users/7675833/travis-acton"}, "is_accepted": true, "score": 0, "last_activity_date": 1560965479, "creation_date": 1560965479, "answer_id": 56673086, "question_id": 56672227, "link": "https://stackoverflow.com/questions/56672227/using-twitter-bootstrap-to-make-website-and-contents-mobile-friendly/56673086#56673086", "title": "Using Twitter Bootstrap to Make Website and Contents Mobile Friendly", "body": "<p>There is no full answer to this question other than to point you in the right direction to help yourself.</p>\n\n<p>Tables should be used to display tabular data. They shouldn't be used for full site layout which is what you are essentially doing. One of the main selling points to bootstrap CSS is that it has already fleshed out flexible building blocks for you to use. I'm assuming this is a school project? Challenge yourself to build the layout without tabular structure using divs and the bootsrap classes (containers, rows, cols). With the current site it looks like you are missing the point of bootstrap all togather.</p>\n\n<p>If you are attempting to eliminate white space, stop stacking containers inside of containers inside of containers. Each one of these elements has their own padding and margin values so every time you do this, you are fighting against yourself even more. </p>\n\n<p>For Example, your first table is full of unnecessary elements that are fighting against what you are trying to do.</p>\n\n<p>You:</p>\n\n<pre><code>&lt;table&gt;\n&lt;tbody&gt;&lt;tr&gt;\n    &lt;td&gt;\n                &lt;div class=\"container\"&gt;\n                    &lt;div class=\"row\"&gt;\n                    &lt;div class=\"jumbotron\"&gt;\n                        &lt;div class=\"container\"&gt;\n                &lt;img class=\"img-responsive col-lg-12 col-md-12 col-sm-12 col-xs-20\" src=\"Images/JoCoGoBanner.png\"&gt;\n                &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;/div&gt;\n            &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;&lt;/table&gt;\n</code></pre>\n\n<p>Clean div with flexible layout using bootstrap:</p>\n\n<pre><code>&lt;div class=\"jumbotron p-0\"&gt;&lt;img class=\"img-responsive col-lg-12 p-0\" src=\"Images/JoCoGoBanner.png\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Break free from tabular layout thinking or you will always be fighting against yourself dealing with flexible layout requirements.</p>\n"}], "owner": {"reputation": 3, "user_id": 11659126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350a9e419c3adf79b97a7fede651cccb?s=128&d=identicon&r=PG&f=1", "display_name": "Arcaanier", "link": "https://stackoverflow.com/users/11659126/arcaanier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 56673086, "answer_count": 1, "score": 0, "last_activity_date": 1560965562, "creation_date": 1560961872, "last_edit_date": 1560965562, "question_id": 56672227, "link": "https://stackoverflow.com/questions/56672227/using-twitter-bootstrap-to-make-website-and-contents-mobile-friendly", "title": "Using Twitter Bootstrap to Make Website and Contents Mobile Friendly", "body": "<p>I am making a website (www.jocogolocal.com), and one of the objectives is to use Twitter bootstrapping to make all contents of the site fit the screen and eliminate as much white space as possible, but I feel like I am stuck because despite my efforts, it is not formatting the way I would like it, and sometimes it would even break the site with how bad / big the content / image banner gets. below is the code of both the master page and the page with the content, View Vendor, any help will be highly appreciated.</p>\n\n<h2>Master page</h2>\n\n<p>\n    </p>\n\n<pre><code>    &lt;asp:Table runat=\"server\"&gt;\n        &lt;asp:TableRow&gt;\n            &lt;asp:TableCell&gt;  \n                &lt;div class=\"container\"&gt;\n                    &lt;div class=\"row\"&gt;\n                    &lt;div class=\"jumbotron\"&gt;\n                        &lt;div class=\"container\"&gt;\n                &lt;asp:Image runat=\"server\" ImageAlign=\"Middle\" ImageUrl=\"~/Images/JoCoGoBanner.png\" class=\"img-responsive col-lg-12 col-md-12 col-sm-12 \"/&gt;\n                &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;/div&gt;\n            &lt;/asp:TableCell&gt;\n            &lt;/asp:TableRow&gt;\n            &lt;/asp:Table&gt;\n    &lt;br /&gt;\n</code></pre>\n\n<h2>View Vendor</h2>\n\n<pre><code>    &lt;ItemTemplate&gt;\n            &lt;tr&gt;\n            &lt;td&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;div class=\"row\"&gt;\n                  &lt;div class=\"col-sm-3 col-xs-12\"&gt;\n                &lt;p&gt;&lt;asp:Label runat=\"server\" ID=\"lblName\" Enabled=\"false\" Font-Bold=\"true\" Font-Size=\"X-Large\" Text='&lt;%# Bind(\"Name\") %&gt;'/&gt;&lt;/p&gt;\n                &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n            &lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["c#", "authentication", "servicestack", "app-config", "anonymous"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1560973403, "post_id": 56674187, "comment_id": 99916948, "body": "I conducted few adhoc test and I think I achieved demanded effect. When I removed attribute <code>[Authenticate(ApplyTo.Get)]</code> from the request class I was able to Try the request and prompt window has not appeared. Is it possible that one time the Authenticate  attribute could be set another time not (depending on the variable). To clarify it would be enough for me to determine the auth before or during starting the windows service."}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1560973561, "post_id": 56674187, "comment_id": 99917009, "body": "@essential If that&#39;s the case the 401 came from ServiceStack, an easy way to bypass Authentication is to <a href=\"https://docs.servicestack.net/debugging#authsecret\" rel=\"nofollow noreferrer\">enable an AuthSecret</a> which will let you make authenticated requests as an Admin using <code>?authsecret=...</code> on the queryString."}, {"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1560973721, "post_id": 56674187, "comment_id": 99917070, "body": "while you answered I was edited the comment above. thanks I will read that."}, {"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561025771, "post_id": 56674187, "comment_id": 99933216, "body": "I added <code>SetConfig(new HostConfig { AdminAuthSecret = &quot;secretz&quot; });</code> However prompt window still appearing. Could you please provide step by step how to achieve that based on the above code?"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561027163, "post_id": 56674187, "comment_id": 99934022, "body": "@essential There are no steps, adding <code>?authsecret=secretz</code> to the queryString should let you call an <code>[Authenticate]</code> protected Services for normal ServiceStack Auth Providers, but Windows Auth can enforce their own Authentication before the Request reaches ServiceStack. Note <code>BasicAuthProvider</code> is for HTTP Basic Auth, here&#39;s an example of an <a href=\"https://github.com/ServiceStack/ServiceStack/blob/master/src/ServiceStack/Auth/AspNetWindowsAuthProvider.cs\" rel=\"nofollow noreferrer\">ASP.NET Windows Auth Provider</a> implementation."}, {"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561027948, "post_id": 56674187, "comment_id": 99934420, "body": "But in the doc, there is info that I can use this without adding the string: <i>You can use Config.AdminAuthSecret to specify a special string to give you admin access without having to login by adding ?authsecret=xxx to the query string, e.g:</i> <code>SetConfig(new HostConfig { AdminAuthSecret = &quot;secretz&quot; });</code>"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561028139, "post_id": 56674187, "comment_id": 99934522, "body": "@essential  you need to configure an authsecret in order to be able to use it, it\u2019s not a substitute for not providing an authsecret, it\u2019s to allow it."}, {"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561028816, "post_id": 56674187, "comment_id": 99934846, "body": "could you provide any example?"}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561029159, "post_id": 56674187, "comment_id": 99935011, "body": "@essential There&#39;s nothing more to it than adding <code>?authsecret=...</code> to the queryString. The <a href=\"https://github.com/NetCoreTemplates/mvcauth\" rel=\"nofollow noreferrer\">mvcauth</a> and <a href=\"https://github.com/NetCoreTemplates/mvcidentity\" rel=\"nofollow noreferrer\">mvcidentity</a> project templates have examples of calling protected Services using the configured AdminAuthSecret."}, {"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561032546, "post_id": 56674187, "comment_id": 99936740, "body": "I checked that when I change the attribute in Request: from <code>[Authenticate(ApplyTo.Get)]</code> to <code>[Authenticate(ApplyTo.None)]</code> then prompt window does not appear and status is 200. Could we change this attribute at first running of the service or maybe just disable whole authentication at service starting? On QA environment this service currently doesn&#39;t have authentication and I&#39;d like to add possibility to enable AD auth by changing config and restarting service (if required)."}, {"owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "reply_to_user": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561047172, "post_id": 56674187, "comment_id": 99945522, "body": "@essential We\u2019d never do anything as unsafe as temporarily disabling Authentication. No requests are made \u201cwhen starting\u201d, Startup occurs when the App is initialized before any requests are made, when the 1st Request it\u2019s considered \u201cat runtime\u201d. As your custom AuthProvider implementation is an <a href=\"https://docs.servicestack.net/authentication-and-authorization#authentication-per-request-auth-providers\" rel=\"nofollow noreferrer\">IAuthWithRequest</a> you have control in your Authenticate() method whether to authenticate a request at runtime or not, otherwise don\u2019t use the [Authenticate] attr, validate Auth in your own service."}, {"owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "edited": false, "score": 0, "creation_date": 1561057462, "post_id": 56674187, "comment_id": 99950017, "body": "It&#39;s not about security matter right now. It is just about ability of enabling or disabling auth in the config."}], "tags": [], "owner": {"reputation": 134328, "user_id": 85785, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1257196ff88132651f94ac85f662c038?s=128&d=identicon&r=PG", "display_name": "mythz", "link": "https://stackoverflow.com/users/85785/mythz"}, "is_accepted": false, "score": 0, "last_activity_date": 1560970552, "creation_date": 1560970552, "answer_id": 56674187, "question_id": 56672193, "link": "https://stackoverflow.com/questions/56672193/how-to-enable-or-disable-authentication-using-config-parameter-or-variable/56674187#56674187", "title": "How to enable or disable authentication using config parameter or variable?", "body": "<p>As far as I know it isn't possible to disable Windows Authentication in code at runtime as it's triggered by IIS/ASP.NET before the request reaches ServiceStack and your ASP.NET Application.</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "is_accepted": true, "score": 0, "last_activity_date": 1561355248, "last_edit_date": 1561355248, "creation_date": 1561057291, "answer_id": 56692343, "question_id": 56672193, "link": "https://stackoverflow.com/questions/56672193/how-to-enable-or-disable-authentication-using-config-parameter-or-variable/56692343#56692343", "title": "How to enable or disable authentication using config parameter or variable?", "body": "<p>Finally, I found the solution to quickly enable/disable authentication. We can resolve it by adding <strong>Authenticate attributes</strong> dynamically. This can also be easily change to use different auth provider.</p>\n\n<p>So, we can easily determine by this AuthenticateAttribute if Request A, B or C must have enabled authentication or not.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private void SetupPlugins(Container container, ILog log)\n{ ...\n    bool activeDirectoryAuthentication = ToBoolean(GlobalConfiguration.Instance.ActiveDirectoryAuthentication);\n    ApplyTo applyTo = ApplyTo.Get;\n    if (!activeDirectoryAuthentication) applyTo = ApplyTo.None;\n\n    typeof(RequestA).AddAttributes(new AuthenticateAttribute(applyTo));\n    typeof(RequestB).AddAttributes(new AuthenticateAttribute(applyTo));\n    typeof(RequestC).AddAttributes(new AuthenticateAttribute(applyTo));\n    ...\n }\n</code></pre>\n"}], "owner": {"reputation": 349, "user_id": 4865599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4881121f05630d37ff1d3a1bf56d149c?s=128&d=identicon&r=PG&f=1", "display_name": "essential", "link": "https://stackoverflow.com/users/4865599/essential"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "accepted_answer_id": 56692343, "answer_count": 2, "score": 1, "last_activity_date": 1561355248, "creation_date": 1560961726, "last_edit_date": 1560962417, "question_id": 56672193, "link": "https://stackoverflow.com/questions/56672193/how-to-enable-or-disable-authentication-using-config-parameter-or-variable", "title": "How to enable or disable authentication using config parameter or variable?", "body": "<p>I would like to implement a switch in configuration that allows to enable (<code>windowsAuth=true</code>) or disable Windows authentication (<code>windowsAuth=false</code>), so it will be used as anonymous.</p>\n\n<p>How to achieve that in possible easy way or maybe there is something already ready to use?</p>\n\n<p>I tried to set the following to disable. </p>\n\n<pre><code>&lt;system.web&gt;\n    &lt;authentication mode = \"None\" /&gt;\n    &lt;authorization &gt;\n        &lt;allow users=\"*\" /&gt;\n    &lt;/authorization&gt;\n&lt;/system.web&gt;\n</code></pre>\n\n<p>However, the prompt for user/pw window still appears upon I click for Try Request in SwaggerUI.</p>\n\n<p>Below the code </p>\n\n<pre><code>private void SetupPlugins(Container container)\n{\n    container.Register&lt;IDbConnectionFactory&gt;(c =&gt;\n        new OrmLiteConnectionFactory(connString, SqlServerDialect.Provider));\n\n    container.RegisterAs&lt;OrmLiteCacheClient, ICacheClient&gt;();\n\n    container.Resolve&lt;ICacheClient&gt;().InitSchema();\n\n    container.Register&lt;IAuthRepository&gt;(c =&gt;\n        new OrmLiteAuthRepository(c.Resolve&lt;IDbConnectionFactory&gt;()));\n\n    container.Resolve&lt;IAuthRepository&gt;().InitSchema();\n\n    Plugins.Add(new AuthFeature(() =&gt; new AuthUserSession(), \n    new IAuthProvider[] {\n            new AdGroupAuthProvider(container.Resolve&lt;IActiveDirectoryAuthHelper&gt;(),\n            GlobalConfiguration.Instance.AllowedActiveDirectoryGroup)\n        }\n    ));\n}\n\ninternal class AdGroupAuthProvider : BasicAuthProvider\n{\n    private readonly IActiveDirectoryAuthHelper _adLoggingHelper;\n    private readonly string _loggedUserAdGroup;\n\n    public AdGroupAuthProvider(IActiveDirectoryAuthHelper loggingHelper, string loggedUserAdGroup)\n    {\n        _adLoggingHelper = loggingHelper;\n        _loggedUserAdGroup = loggedUserAdGroup;\n    }\n    public override bool Authenticate(IServiceBase loggingServiceBase, string userName, string password)\n    {\n        return _adLoggingHelper.HasUserAssignedGroup(userName, password, _loggedUserAdGroup);\n    }\n}\n\n[Authenticate(ApplyTo.Get)]\n[Route(\"/someRoute\", \"GET\")]\npublic class someRequest { ...}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 4535, "user_id": 59081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c17b54bbea172f608e552f9bf67d4f9?s=128&d=identicon&r=PG", "display_name": "Tanveer Badar", "link": "https://stackoverflow.com/users/59081/tanveer-badar"}, "edited": false, "score": 0, "creation_date": 1560961936, "post_id": 56672163, "comment_id": 99911845, "body": "What does the query plan show/suggest? Might not be related to LINQ/EF at all. At least I can&#39;t see anything immediately wrong with it."}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 1, "creation_date": 1560962186, "post_id": 56672163, "comment_id": 99911961, "body": "Entity Framework is designed to <b>increase</b> programmer&#39;s <b>productivity</b> - it&#39;s never been designed to be faster than raw SQL (and it cannot be - after all, it&#39;s doing a lot more work than a simple T-SQL statement)."}, {"owner": {"reputation": 7275, "user_id": 3329836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc1f21187a572afe47d95587c32ce68f?s=128&d=identicon&r=PG", "display_name": "Jamie Rees", "link": "https://stackoverflow.com/users/3329836/jamie-rees"}, "edited": false, "score": 0, "creation_date": 1560962261, "post_id": 56672163, "comment_id": 99911990, "body": "Also your EF query is including two other data sets and your T-SQL is not."}, {"owner": {"reputation": 1608, "user_id": 3059575, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f423c59edb89ae3fa2e3e4353c8ed47b?s=128&d=identicon&r=PG&f=1", "display_name": "Ya Wang", "link": "https://stackoverflow.com/users/3059575/ya-wang"}, "edited": false, "score": 0, "creation_date": 1560962266, "post_id": 56672163, "comment_id": 99911992, "body": "So this is basically as fast as its going to get for entity here, I am going to have to stored proedure into a select"}, {"owner": {"reputation": 1608, "user_id": 3059575, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f423c59edb89ae3fa2e3e4353c8ed47b?s=128&d=identicon&r=PG&f=1", "display_name": "Ya Wang", "link": "https://stackoverflow.com/users/3059575/ya-wang"}, "reply_to_user": {"reputation": 7275, "user_id": 3329836, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fc1f21187a572afe47d95587c32ce68f?s=128&d=identicon&r=PG", "display_name": "Jamie Rees", "link": "https://stackoverflow.com/users/3329836/jamie-rees"}, "edited": false, "score": 0, "creation_date": 1560962292, "post_id": 56672163, "comment_id": 99912004, "body": "@JamieRees that other include is always null at the moment"}, {"owner": {"reputation": 902, "user_id": 5931460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165619e839040b38685c23e108dad013?s=128&d=identicon&r=PG&f=1", "display_name": "leandro.andrioli", "link": "https://stackoverflow.com/users/5931460/leandro-andrioli"}, "edited": false, "score": 1, "creation_date": 1560962293, "post_id": 56672163, "comment_id": 99912006, "body": "Your EF code will always be slower than pure sql.. that&#39;s the expected behavior"}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 1, "creation_date": 1560962468, "post_id": 56672163, "comment_id": 99912070, "body": "The two queries are quite different. The &#39;Relatives&#39; table isn&#39;t even used in your SQL version ..."}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 1, "creation_date": 1560963039, "post_id": 56672163, "comment_id": 99912307, "body": "You don&#39;t need any Inculde() call - Your query can be evaluated SQL side without it."}], "answers": [{"comments": [{"owner": {"reputation": 4535, "user_id": 59081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c17b54bbea172f608e552f9bf67d4f9?s=128&d=identicon&r=PG", "display_name": "Tanveer Badar", "link": "https://stackoverflow.com/users/59081/tanveer-badar"}, "edited": false, "score": 0, "creation_date": 1560962557, "post_id": 56672367, "comment_id": 99912105, "body": "I must ask, is your application feature complete and fully tested functionally? Why are you bothering with performance if you have bigger fish to fry."}, {"owner": {"reputation": 1608, "user_id": 3059575, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f423c59edb89ae3fa2e3e4353c8ed47b?s=128&d=identicon&r=PG&f=1", "display_name": "Ya Wang", "link": "https://stackoverflow.com/users/3059575/ya-wang"}, "reply_to_user": {"reputation": 4535, "user_id": 59081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c17b54bbea172f608e552f9bf67d4f9?s=128&d=identicon&r=PG", "display_name": "Tanveer Badar", "link": "https://stackoverflow.com/users/59081/tanveer-badar"}, "edited": false, "score": 0, "creation_date": 1560962798, "post_id": 56672367, "comment_id": 99912202, "body": "No this is a new feature. That shows usage of an attribute to help users remove unused attributes. The issue is the count is slow. I may even cache/batch this out later if the stored procedure gets too slow."}, {"owner": {"reputation": 958, "user_id": 627752, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9bec6d9345e8b15d01b60e44ccdad152?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/627752/sam"}, "edited": false, "score": 0, "creation_date": 1560963160, "post_id": 56672367, "comment_id": 99912361, "body": "I&#39;d bet you can get a similar time out of EF with a little effort, assuming that your result set isn&#39;t gigantic. You can log queries using the DbContext.Database.Log callback - maybe try that and see what SQL EF is producing."}, {"owner": {"reputation": 899, "user_id": 1140411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c037257e7ff09fda74d262749fa30ab?s=128&d=identicon&r=PG", "display_name": "MIKE", "link": "https://stackoverflow.com/users/1140411/mike"}, "edited": false, "score": 0, "creation_date": 1560963980, "post_id": 56672367, "comment_id": 99912710, "body": "and so it begins.. my life changed when I got a taste of raw sql performance. I suggest you use dapper and nameof(DomainModel.Variable)/ nameof(Database.Table) to maintain intellisense or you will regret next year when you need to change your models or view references"}], "tags": [], "owner": {"reputation": 1608, "user_id": 3059575, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f423c59edb89ae3fa2e3e4353c8ed47b?s=128&d=identicon&r=PG&f=1", "display_name": "Ya Wang", "link": "https://stackoverflow.com/users/3059575/ya-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1560962448, "creation_date": 1560962448, "answer_id": 56672367, "question_id": 56672163, "link": "https://stackoverflow.com/questions/56672163/entity-framework-core-count-of-include-too-slow-compared-to-t-sql/56672367#56672367", "title": "Entity Framework Core, count of include too slow compared to T-SQL", "body": "<p>Ok, community consensus that entity will not give me the speed I need for this use case. I will switch to a stored procedure into a select for this case.   </p>\n"}], "owner": {"reputation": 1608, "user_id": 3059575, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f423c59edb89ae3fa2e3e4353c8ed47b?s=128&d=identicon&r=PG&f=1", "display_name": "Ya Wang", "link": "https://stackoverflow.com/users/3059575/ya-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560962543, "creation_date": 1560961585, "last_edit_date": 1560962543, "question_id": 56672163, "link": "https://stackoverflow.com/questions/56672163/entity-framework-core-count-of-include-too-slow-compared-to-t-sql", "title": "Entity Framework Core, count of include too slow compared to T-SQL", "body": "<p>edit: Removed other include still same result table size 50k rows on ProductAttributes </p>\n\n<p>I got this code, it's running too slowly compared to my T-SQL statement.</p>\n\n<pre><code>return _context.ProductAttributes\n               .Include(e =&gt; e.ProductProductAttributes)\n               .Select(x =&gt; new GetProductAttributesModel\n                                {\n                                    Attribute = x,\n                                    Count = x.ProductProductAttributes.Count()\n                                })\n               .ToArrayAsync(); \n</code></pre>\n\n<p>Here is the T-SQL statement for comparison:</p>\n\n<pre><code>SELECT * \nFROM Product_Attribute a \nLEFT JOIN \n    (SELECT COUNT(*) AS ctn, AttributeId \n     FROM Product_ProductAttribute \n     GROUP BY AttributeId) d ON d.AttributeId = a.Id \n</code></pre>\n\n<p>How do I get an Entity Framework Core implementation that will be faster or at least similar to the T-SQL statement? </p>\n\n<p>I am hoping that I don't need to do a stored procedure into a select for this... it seems so simple</p>\n"}, {"tags": ["c#", "animation", "xamarin.forms"], "comments": [{"owner": {"reputation": 35, "user_id": 9135467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44620327e7c81f1ee459f19a54023a51?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/9135467/paul"}, "edited": false, "score": 0, "creation_date": 1560963829, "post_id": 56672130, "comment_id": 99912629, "body": "Anyone ? Please i really need some help..."}, {"owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "edited": false, "score": 0, "creation_date": 1560971539, "post_id": 56672130, "comment_id": 99916161, "body": "Well, xamarin doesn&#39;t provide an easy way to accomplish this, you&#39;ll either make a hack in forms, or use custom renderer, do you have an example of this animation?"}, {"owner": {"reputation": 3634, "user_id": 11104068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gueSe.jpg?s=128&g=1", "display_name": "Saamer", "link": "https://stackoverflow.com/users/11104068/saamer"}, "edited": false, "score": 0, "creation_date": 1560972016, "post_id": 56672130, "comment_id": 99916380, "body": "<a href=\"https://stackoverflow.com/questions/13556605/how-to-remove-listviews-add-item-animation\" title=\"how to remove listviews add item animation\">stackoverflow.com/questions/13556605/&hellip;</a> provides the basics of listView Animations, but Phillpotts made his list view animation work open source as you can see <a href=\"https://twitter.com/kphillpotts/status/1136772771218726913\" rel=\"nofollow noreferrer\">twitter.com/kphillpotts/status/1136772771218726913</a>"}, {"owner": {"reputation": 35, "user_id": 9135467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44620327e7c81f1ee459f19a54023a51?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/9135467/paul"}, "edited": false, "score": 0, "creation_date": 1561106418, "post_id": 56672130, "comment_id": 99963538, "body": "thanks guys. i think after i finish my project, im gonna move on to another way to develop mobile apps instead of xamarin..."}], "owner": {"reputation": 35, "user_id": 9135467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44620327e7c81f1ee459f19a54023a51?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/9135467/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560971075, "creation_date": 1560961434, "last_edit_date": 1560971075, "question_id": 56672130, "link": "https://stackoverflow.com/questions/56672130/how-can-i-animate-listviews-item-removal-from-view-model", "title": "How can I animate listview&#39;s item removal from view model?", "body": "<p>How can I create an animation of a <code>ListView</code>'s item removal? I am using view model and it should be from view model (I'm guessing here).</p>\n\n<pre><code>  &lt;ListView ItemsSource=\"{Binding ObjectivosDoDia}\" HorizontalOptions=\"FillAndExpand\" HasUnevenRows=\"True\" SeparatorColor=\"Transparent\" x:Name=\"lista\" Margin=\"0,10,0,0\"&gt;\n                        &lt;ListView.ItemTemplate&gt;\n                            &lt;DataTemplate&gt;\n                                &lt;ViewCell&gt;\n                                    &lt;local:ShadowFrame StartColor=\"{Binding CorInicio}\" EndColor=\"{Binding CorFim}\" HeightRequest=\"75\" Padding=\"0\" HasShadow=\"True\"&gt;\n...\n\n                                            &lt;Image Grid.Row=\"1\" Grid.Column=\"2\" Source=\"{Binding IconeSeleccionado}\"  BackgroundColor=\"Transparent\" HorizontalOptions=\"StartAndExpand\" VerticalOptions=\"CenterAndExpand\"&gt;\n                                                &lt;Image.GestureRecognizers&gt;\n                                                    &lt;TapGestureRecognizer NumberOfTapsRequired=\"1\" Command=\"{Binding BindingContext.MarcarObjectivoCompleto, Source={x:Reference homePage}}\" CommandParameter=\"{Binding .}\"/&gt; \n                                                &lt;/Image.GestureRecognizers&gt;\n                                            &lt;/Image&gt;\n\n                                        &lt;/Grid&gt;\n                                    &lt;/local:ShadowFrame&gt;\n                                &lt;/ViewCell&gt;\n                            &lt;/DataTemplate&gt;\n                        &lt;/ListView.ItemTemplate&gt;\n</code></pre>\n\n<pre><code>        public ICommand MarcarObjectivoCompleto\n        {\n            get\n            {\n                return new Command&lt;Objectivo&gt;((obj) =&gt;\n                {\n                    obj.Cumprido = true;\n                    obj.CorInicio = Color.FromHex(\"#00778F\");\n                    obj.CorFim = Color.FromHex(\"#0B5799\");\n                    obj.IconeSeleccionado = ImageSource.FromFile(\"vistoP.png\");\n                    obj.CorTexto = Color.White;\n                    ObjectivosDoDia.Remove(obj);\n                });\n            }\n        }\n</code></pre>\n\n<p>I want to animate the item being removed from the <code>ListView</code> using fade animation. Can anyone help me?</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 5201135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a3868d7e8ec0b7b67cf59ffa9f03ec2?s=128&d=identicon&r=PG", "display_name": "vollstock", "link": "https://stackoverflow.com/users/5201135/vollstock"}, "is_accepted": false, "score": 0, "last_activity_date": 1591220348, "creation_date": 1591220348, "answer_id": 62183163, "question_id": 56672064, "link": "https://stackoverflow.com/questions/56672064/unity-with-filesystemwatcher/62183163#62183163", "title": "Unity with FileSystemWatcher", "body": "<p>I had a similar problem where I wanted to call a method on change and it wouldn\u2019t be called. I believe this has something to do with events being called outside the Unity run loop?</p>\n\n<p>Anyway for me it helped to set a bool flag on change and call the actual method from within <code>Update()</code>:</p>\n\n<pre><code>using System.IO;\nusing UnityEngine;\n\npublic class MyFileWatcher : MonoBehaviour\n{\n    [SerializeField] private string path;\n    [SerializeField] private string file;\n    private bool changed;\n    private FileSystemWatcher watcher;\n\n\n    private void OnEnable()\n    {\n        if (!File.Exists(Path.Combine(path, file)))\n        {\n            return;\n        }\n\n        watcher = new FileSystemWatcher();\n        watcher.Path = path;\n        watcher.Filter = file;\n\n        // Watch for changes in LastAccess and LastWrite times, and\n        // the renaming of files or directories.\n        watcher.NotifyFilter = NotifyFilters.LastWrite;\n\n        // Add event handlers\n        watcher.Changed += OnChanged;\n\n        // Begin watching\n        watcher.EnableRaisingEvents = true;\n    }\n\n\n    private void OnDisable()\n    {\n        if(watcher != null)\n        {\n            watcher.Changed -= OnChanged;\n            watcher.Dispose();\n        }\n    }\n\n\n    private void Update()\n    {\n        if (changed)\n        {\n            // Do something here\u2026\n            changed = false;\n        }\n    }\n\n\n    private void OnChanged(object source, FileSystemEventArgs e)\n    {\n        changed = true;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6856681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00969d9b3d75de987e469abb231a6199?s=128&d=identicon&r=PG&f=1", "display_name": "Firas S", "link": "https://stackoverflow.com/users/6856681/firas-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1591220348, "creation_date": 1560961115, "question_id": 56672064, "link": "https://stackoverflow.com/questions/56672064/unity-with-filesystemwatcher", "title": "Unity with FileSystemWatcher", "body": "<p>I am trying to set a FileSystemWatcher in unity where I need to change the color of an object when a file is updated.</p>\n\n<p>There is no error on the code, but the result is not taking action. I am able to change the color of the object if I used the void Start(). but I need to run the code only if a change happened in the desired location.</p>\n\n<pre><code>    using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing System.IO;\n\npublic class ObjColorScript : MonoBehaviour\n{\n    public Color myColor;\n    public MeshRenderer myRenderer;\n\n\n    // Start is called before the first frame update\n     void Start()\n    {\n        string path = @\"B:\\\";\n        MonitorDirectory(path);\n\n\n        ///// New Added\n        var fileSystemWatcher = new FileSystemWatcher();\n        fileSystemWatcher.Path = @\"B:\\\";\n        fileSystemWatcher.Changed += FileSystemWatcher_Changed;\n        fileSystemWatcher.EnableRaisingEvents = true;\n    }\n\n\n    ///// New Added\n     void FileSystemWatcher_Changed(object sender, FileSystemEventArgs e)\n    {\n        myRenderer = GetComponent&lt;MeshRenderer&gt;();\n        myRenderer.material.color = Color.green;\n    }\n\n\n\n\n    // Update is called once per frame\n    void Update()\n    {\n        //myRenderer = GetComponent&lt;MeshRenderer&gt;();\n        //myRenderer.material.color = Color.green;\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "epplus"], "comments": [{"owner": {"reputation": 815, "user_id": 2082169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d3779e2bdd8da473b3d269cce3700d84?s=128&d=identicon&r=PG", "display_name": "josephoneill", "link": "https://stackoverflow.com/users/2082169/josephoneill"}, "edited": false, "score": 0, "creation_date": 1560964347, "post_id": 56671948, "comment_id": 99912877, "body": "I managed to find the state located within a non-public member located at <code>worksheet.View.Panes[0].TopNode.NextSibling.OwnerDocument.Do&zwnj;&#8203;cumentElement.InnerX&zwnj;&#8203;ml</code> where obviously 0 is the index. Hopefully I can find a way to utilize this information"}], "answers": [{"comments": [{"owner": {"reputation": 806, "user_id": 696355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CAuoH.png?s=128&g=1", "display_name": "H. de Jonge", "link": "https://stackoverflow.com/users/696355/h-de-jonge"}, "edited": false, "score": 0, "creation_date": 1606990246, "post_id": 56673645, "comment_id": 115133332, "body": "Thanks for sharing. As a sidenote: <code>pane</code> will be <code>null</code> when there are no frozen rows/columns, but that became apparent quite soon."}], "tags": [], "owner": {"reputation": 815, "user_id": 2082169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d3779e2bdd8da473b3d269cce3700d84?s=128&d=identicon&r=PG", "display_name": "josephoneill", "link": "https://stackoverflow.com/users/2082169/josephoneill"}, "is_accepted": true, "score": 3, "last_activity_date": 1560971150, "last_edit_date": 1560971150, "creation_date": 1560968235, "answer_id": 56673645, "question_id": 56671948, "link": "https://stackoverflow.com/questions/56671948/finding-frozen-panes-with-epplus/56673645#56673645", "title": "Finding Frozen Panes with EPPlus", "body": "<p>I found a solution that works for me. The state of the main pane can be found in <code>worksheet.View.TopNode.InnerXml</code>. Furthermore, so can the <code>xSplit</code> and <code>ySplit</code> values.</p>\n\n<p>In order to reach these values:</p>\n\n<pre><code>var field = worksheet.View.GetType().GetProperty(\"TopNode\", BindingFlags.NonPublic | BindingFlags.Instance);\nXmlNode node = (XmlNode) field.GetValue(worksheet.View);\nvar pane = node.SelectSingleNode(\"//*[local-name()='pane']\");\n\nvar state = pane.Attributes?[\"state\"]?.Value;\nvar xSplit= pane.Attributes?[\"xSplit\"]?.Value;\nvar ySplit= pane.Attributes?[\"ySplit\"]?.Value;\n</code></pre>\n\n<p>From there I can check the state of the panel, as well as see the x and y positions of the split.</p>\n"}], "owner": {"reputation": 815, "user_id": 2082169, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d3779e2bdd8da473b3d269cce3700d84?s=128&d=identicon&r=PG", "display_name": "josephoneill", "link": "https://stackoverflow.com/users/2082169/josephoneill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 56673645, "answer_count": 1, "score": 2, "last_activity_date": 1560971150, "creation_date": 1560960616, "question_id": 56671948, "link": "https://stackoverflow.com/questions/56671948/finding-frozen-panes-with-epplus", "title": "Finding Frozen Panes with EPPlus", "body": "<p>Is it possible to find the frozen panes using EPPlus? For example, in the spreadsheet I'm working in, any row above 6 is frozen, and any column before D is frozen. Is there a way I can detect these in the given worksheet? </p>\n\n<p>I know that EPPlus has an options to Freeze panes given the rows and columns. Browsing through the source code, I can see this method is located in ExcelWorksheetView.cs. Furthermore, the line that actually sets the state to frozen is: <code>paneNode.SetAttribute(\"state\", \"frozen\");</code>, where <code>paneNode</code> is an <code>XmlElement</code>.</p>\n\n<p>Given this information, I used Visual Studio's debugger to search through the worksheet in an attempt to find relevant information regarding frozen state, but I have yet to find any information. I also checked if it was recorded within individual cells, but again, no luck.</p>\n\n<p>I'm pretty new to this library and reading Excel files in general, and was hoping somebody more experienced would be able to help me located how exactly I can detect the frozen panes in a given worksheet.</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1560961192, "post_id": 56671898, "comment_id": 99911541, "body": "Is there a particular reason why the many suggestions in that post you linked to didn&#39;t help you? For instance, what is stopping you from trying to create an installer project, exactly?"}, {"owner": {"reputation": 87, "user_id": 5321202, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GoBsTm_2jjY/AAAAAAAAAAI/AAAAAAAAAJU/xgIilvqYGGU/photo.jpg?sz=128", "display_name": "Hardik Patel", "link": "https://stackoverflow.com/users/5321202/hardik-patel"}, "edited": false, "score": 0, "creation_date": 1560961235, "post_id": 56671898, "comment_id": 99911556, "body": "You may create a executable program to set up your site into IIslS and also run the database script and make connections."}, {"owner": {"reputation": 658, "user_id": 567446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/okoeV.jpg?s=128&g=1", "display_name": "Joshua Morgan", "link": "https://stackoverflow.com/users/567446/joshua-morgan"}, "edited": false, "score": 0, "creation_date": 1561139538, "post_id": 56671898, "comment_id": 99979882, "body": "Are you trying to distribute something for developers or end users?"}, {"owner": {"reputation": 176, "user_id": 10135352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ftTHLFSVbXc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ovpvHqAsI0i1zS9CgcMooZF6k14Q/mo/photo.jpg?sz=128", "display_name": "Justin S", "link": "https://stackoverflow.com/users/10135352/justin-s"}, "reply_to_user": {"reputation": 658, "user_id": 567446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/okoeV.jpg?s=128&g=1", "display_name": "Joshua Morgan", "link": "https://stackoverflow.com/users/567446/joshua-morgan"}, "edited": false, "score": 0, "creation_date": 1561144275, "post_id": 56671898, "comment_id": 99981726, "body": "@JoshuaMorgan end users. But its not an actual commercial site. Its just a project I picked up myself to learn"}], "answers": [{"tags": [], "owner": {"reputation": 902, "user_id": 5931460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/165619e839040b38685c23e108dad013?s=128&d=identicon&r=PG&f=1", "display_name": "leandro.andrioli", "link": "https://stackoverflow.com/users/5931460/leandro-andrioli"}, "is_accepted": false, "score": 1, "last_activity_date": 1560961280, "creation_date": 1560961280, "answer_id": 56672090, "question_id": 56671898, "link": "https://stackoverflow.com/questions/56671898/distribute-asp-net-mvc-application/56672090#56672090", "title": "Distribute ASP.NET MVC Application", "body": "<p>As per my understanding you want some way to deploy your website, database, configurations easily on your clients.</p>\n\n<p>There are several ways to do this, but I believe the simplest one is to use the Web Deploy Package in Visual Studio.</p>\n\n<p>Visual studio have One-Click publish options by using those options we can deploy / publish asp.net mvc web application to iis or server directly from visual studio. </p>\n\n<p>We have different type of publish options available and one is the Web Deploy Package. If we select web deploy package method then a .zip package will be created in our local disk folder and you can use this package to deploy using CMD command prompt for example.</p>\n\n<p>You can find a tutorial (step by step) <a href=\"https://www.tutlane.com/tutorial/aspnet-mvc/asp-net-mvc-publish-with-web-deploy-package\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 176, "user_id": 10135352, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ftTHLFSVbXc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ovpvHqAsI0i1zS9CgcMooZF6k14Q/mo/photo.jpg?sz=128", "display_name": "Justin S", "link": "https://stackoverflow.com/users/10135352/justin-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560961280, "creation_date": 1560960414, "question_id": 56671898, "link": "https://stackoverflow.com/questions/56671898/distribute-asp-net-mvc-application", "title": "Distribute ASP.NET MVC Application", "body": "<p>I just finished an ASP.NET MVC Application. Its a basic CRUD application that connects with a MSSQL database. Now I'm looking for ways to distribute this application (possibly MSI or EXE) where a user can just just install the application which sets up </p>\n\n<ol>\n<li>The site in the local IIS.</li>\n<li>Creates the database and tables for the site.</li>\n<li>Creates the necessary connection with the database.</li>\n</ol>\n\n<p>I saw a couple of similar questions but nothing that helped me. If anyone has any insight on the problem. </p>\n\n<p>My wording might not be as clear so this post might make it a bit clear : \n<a href=\"https://stackoverflow.com/questions/5790184/asp-net-mvc-deployment-in-a-form-of-distribution-package\">ASP.NET MVC deployment in a form of distribution package</a></p>\n"}, {"tags": ["c#", "asp.net-mvc", "inversion-of-control", "castle-windsor", "ioc-container"], "answers": [{"comments": [{"owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "edited": false, "score": 0, "creation_date": 1560962175, "post_id": 56672299, "comment_id": 99911949, "body": "Does anyone know a good way to debug CastleWindsor? If someone else creates an answer with a good way to debug CastleWindsor I&#39;ll mark it as the correct one."}, {"owner": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "edited": false, "score": 2, "creation_date": 1561042336, "post_id": 56672299, "comment_id": 99942727, "body": "You mean something like this documentation page? <a href=\"https://github.com/castleproject/Windsor/blob/35ebd6e5a77de289536b3862f366d6cbfad19ecc/docs/debugger-views.md#potential-lifestyle-mismatches\" rel=\"nofollow noreferrer\">github.com/castleproject/Windsor/blob/&hellip;</a>"}, {"owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "reply_to_user": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "edited": false, "score": 1, "creation_date": 1561044613, "post_id": 56672299, "comment_id": 99944136, "body": "This is exactly what I was looking for! Thank you"}, {"owner": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "edited": false, "score": 1, "creation_date": 1561051791, "post_id": 56672299, "comment_id": 99947693, "body": "no worries. The documentation isn&#39;t always easiest to find, sadly"}, {"owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "reply_to_user": {"reputation": 26640, "user_id": 13163, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67f7ed4d56aafb0563abfe2c74697a3d?s=128&d=identicon&r=PG", "display_name": "Krzysztof Kozmic", "link": "https://stackoverflow.com/users/13163/krzysztof-kozmic"}, "edited": false, "score": 0, "creation_date": 1561052326, "post_id": 56672299, "comment_id": 99947943, "body": "@KrzysztofKozmic I just realised you&#39;re the author of CW, thanks so much for your work! Love the product"}], "tags": [], "owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "is_accepted": false, "score": 1, "last_activity_date": 1560962113, "creation_date": 1560962113, "answer_id": 56672299, "question_id": 56671896, "link": "https://stackoverflow.com/questions/56671896/castlewindsor-lifestyleperwebrequest-not-working/56672299#56672299", "title": "CastleWindsor LifestylePerWebRequest not working", "body": "<p>It finally dawned on me what was going on. By default objects in <code>CastleWindsor</code> are <code>Singletons</code>.</p>\n\n<p>My repo/service objects referenced my Owin objects. Because they themselves were <code>Singletons</code> my references behaved like <code>Singletons</code>.</p>\n\n<p>It would be nice if there was a warning somewhere that told you this.</p>\n\n<p>Basically, all objects that reference a object which has <code>LifestylePerWebRequest()</code> must itself obviously implement <code>LifestylePerWebRequest()</code>.</p>\n"}], "owner": {"reputation": 41854, "user_id": 314661, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f79a7c15dc87e561b31bdc568eb13d29?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Gershkovich", "link": "https://stackoverflow.com/users/314661/maxim-gershkovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1560962113, "creation_date": 1560960411, "question_id": 56671896, "link": "https://stackoverflow.com/questions/56671896/castlewindsor-lifestyleperwebrequest-not-working", "title": "CastleWindsor LifestylePerWebRequest not working", "body": "<p>I am using <code>CastleWindsor</code> to do <code>IOC</code> in an ASP.NET 5 application. </p>\n\n<p>I have run into an issue where I can't seem to correctly get <code>LifestylePerWebRequest</code> working in one of my projects.</p>\n\n<p>I have roughly the following code:</p>\n\n<pre><code>container.Register(Classes.FromThisAssembly()\n    .Pick()\n    .If(t =&gt; t.Name.EndsWith(\"Controller\"))\n    .Configure(configurer =&gt; configurer.Named(configurer.Implementation.Name))\n    .LifestylePerWebRequest(),\n\n    Component.For&lt;IAppSettings&gt;().Instance(AppSettings.Instance).LifestyleSingleton(),\n\n    Component.For&lt;IUserRepository&gt;().ImplementedBy&lt;UserRepository&gt;(),\n    Component.For&lt;IUserService&gt;().ImplementedBy&lt;UserService&gt;(),\n    //all my other services/repos\n\n    //and then\n    Component.For&lt;IOwinContext&gt;().ImplementedBy&lt;IOwinContext&gt;()\n                                    .UsingFactoryMethod(o =&gt; HttpContext.Current.GetOwinContext(), true)\n                                    .LifestylePerWebRequest(),\n\n    Component.For&lt;IAuthenticationManager&gt;().ImplementedBy&lt;IAuthenticationManager&gt;()\n                                        //Line below only gets called once (when the first request is made), should be called for each new request...\n                                        .UsingFactoryMethod(o =&gt; o.Resolve&lt;IOwinContext&gt;().Authentication, true) \n                                        .LifestylePerWebRequest()\n\n);\n</code></pre>\n\n<p>As per the name I expect the behaviour of <code>LifestylePerWebRequest()</code> is to invoke the factory method each time that a new request is sent to the server. Yet, my factory methods are only invoked once (when the first request is made).</p>\n\n<p>I have also verified that the CastleWindsor module has been loaded and can see <code>__DynamicModule_Castle.Facilities.AspNet.SystemWeb.PerWebRequestLifestyleModule, Castle.Facilities.AspNet.SystemWeb, Version=5.0.0.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc_aad31f05-1937-4d39-b48f-3b2b7344d750</code></p>\n\n<p>Anyone ever encountered the same problem?</p>\n"}, {"tags": ["c#", "asp.net-core", "nuget"], "answers": [{"comments": [{"owner": {"reputation": 5329, "user_id": 1395758, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/D5fXD.jpg?s=128&g=1", "display_name": "A. Chiesa", "link": "https://stackoverflow.com/users/1395758/a-chiesa"}, "edited": false, "score": 0, "creation_date": 1561015851, "post_id": 56672276, "comment_id": 99928004, "body": "Thanks. In fact, I didn&#39;t think about creating a dummy project just to resolve dependencies on another. It works perfectly."}], "tags": [], "owner": {"reputation": 7498, "user_id": 2843065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f49e2e44f62a578e2685769bebcef8c?s=128&d=identicon&r=PG&f=1", "display_name": "zivkan", "link": "https://stackoverflow.com/users/2843065/zivkan"}, "is_accepted": true, "score": 1, "last_activity_date": 1560962048, "creation_date": 1560962048, "answer_id": 56672276, "question_id": 56671875, "link": "https://stackoverflow.com/questions/56671875/nuget-commandline-extracting-compatible-assemblies-from-package/56672276#56672276", "title": "Nuget commandline - extracting compatible assemblies from package", "body": "<ol>\n<li><code>dotnet new console</code></li>\n<li>Edit the csproj and change the <code>&lt;TargetFramework&gt;</code> to <code>net472</code></li>\n<li><code>dotnet add package Microsoft.AspNetCore</code> (or while editing the csproj add the relevant <code>PackageReference</code>)</li>\n<li><code>dotnet publish</code></li>\n</ol>\n\n<p>The <code>bin\\Debug\\publish</code> directory will contain all the dlls compatible with net472.</p>\n"}], "owner": {"reputation": 5329, "user_id": 1395758, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/D5fXD.jpg?s=128&g=1", "display_name": "A. Chiesa", "link": "https://stackoverflow.com/users/1395758/a-chiesa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 56672276, "answer_count": 1, "score": 0, "last_activity_date": 1560962048, "creation_date": 1560960334, "question_id": 56671875, "link": "https://stackoverflow.com/questions/56671875/nuget-commandline-extracting-compatible-assemblies-from-package", "title": "Nuget commandline - extracting compatible assemblies from package", "body": "<p>I would like to download a list of assemblies as referenced by (as an example) the package <a href=\"https://www.nuget.org/packages/Microsoft.AspNetCore/\" rel=\"nofollow noreferrer\"><code>Microsoft.AspNetCore</code></a>. I want to download them all in order to get a list of all the specific assemblies compatible with NetStandard 2.0.</p>\n\n<p>What I did was to run from the command line in an empty folder the command </p>\n\n<pre><code>nuget install Microsoft.AspNetCore -Version 2.2.0 -DependencyVersion HighestPatch -Framework net472 -OutputDirectory .\\packages\n</code></pre>\n\n<p>I got all the dependant packages in the (newly created) subfolder packages.</p>\n\n<p>Is there an automatic way to extract the dlls from the lib subfolders which are compatible with .Net 4.7.2? Currently inside the packages are present also versions specific to .Net Core.</p>\n\n<p>Like a globbing path smart enough to find the compatible versions.</p>\n\n<p>Usually this is done by Visual Studio, but I need to certify a list of compatible assemblies separately from the Visual Studio project.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 6114, "user_id": 3070060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a936bdd7a67a345d312281305d5adde?s=128&d=identicon&r=PG&f=1", "display_name": "PaulF", "link": "https://stackoverflow.com/users/3070060/paulf"}, "edited": false, "score": 0, "creation_date": 1560960737, "post_id": 56671817, "comment_id": 99911360, "body": "Looking at your code - you do not appear to change the shrink variable - if is true then you set it to true otherwise you set it to false - so nothing gets changed. What are you expecting to happen?"}, {"owner": {"reputation": 894, "user_id": 3512053, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eNnJE.jpg?s=128&g=1", "display_name": "Asyranok", "link": "https://stackoverflow.com/users/3512053/asyranok"}, "edited": false, "score": 0, "creation_date": 1560960998, "post_id": 56671817, "comment_id": 99911457, "body": "Are both of these scripts monobehaviors? Are you certain that &quot;ball&quot; is set to the correct GameObject that you expect in <code>referenceScript = ball.GetComponent&lt;ShrinkBall&gt;();</code>  Does the button script extend iPointerDownEvents interface? Those are important for the above even to be triggered.   Is the object in &quot;Ignore Raycast&quot; layers? That would prevent triggering.   Without seeing the full scripts, it is hard to tell."}, {"owner": {"reputation": 894, "user_id": 3512053, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eNnJE.jpg?s=128&g=1", "display_name": "Asyranok", "link": "https://stackoverflow.com/users/3512053/asyranok"}, "edited": false, "score": 0, "creation_date": 1560961047, "post_id": 56671817, "comment_id": 99911480, "body": "Also, use properties for this: <code>public bool shrink {get;set}</code>"}, {"owner": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "edited": false, "score": 3, "creation_date": 1560961244, "post_id": 56671817, "comment_id": 99911561, "body": "why are you reassigning <code>referenceScript.shrink</code> with <code>true</code> if it&#39;s already <code>true</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "is_accepted": true, "score": 1, "last_activity_date": 1560962035, "creation_date": 1560962035, "answer_id": 56672270, "question_id": 56671817, "link": "https://stackoverflow.com/questions/56671817/how-do-i-change-a-scripts-variable-from-a-different-object/56672270#56672270", "title": "How do I change a scripts variable from a different object?", "body": "<p>You are never changing the <code>shrink</code> value but make it keep the same value it already has...</p>\n\n<p>You probably rather wanted to do</p>\n\n<pre><code>void OnMouseDown()\n{\n    referenceScript.shrink = !referenceScript.shrink;\n}\n</code></pre>\n\n<hr>\n\n<p>Then you shouldn't use <code>SetBool</code> all the time in <code>Update</code> but rather only once you change it.</p>\n\n<p>You could e.g. use a method like</p>\n\n<pre><code>public void ToggleShrink()\n{\n    shrink = !shrink;\n\n    shrinkAnim.SetBool(\"shrink\", shrink);\n}\n</code></pre>\n\n<p>Then you could simply call it from the first script like</p>\n\n<pre><code>private void OnMouseDown()\n{\n    referenceScript.ToggleShrink();\n}\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11671526, "user_type": "registered", "profile_image": "https://graph.facebook.com/1096733773680585/picture?type=large", "display_name": "Spencer Deane", "link": "https://stackoverflow.com/users/11671526/spencer-deane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 56672270, "answer_count": 1, "score": -1, "last_activity_date": 1560962035, "creation_date": 1560960101, "question_id": 56671817, "link": "https://stackoverflow.com/questions/56671817/how-do-i-change-a-scripts-variable-from-a-different-object", "title": "How do I change a scripts variable from a different object?", "body": "<p>In my Unity project I have a shrink button and a ball. When I click the shrink button the ball should play the shrinking animation.</p>\n\n<p>I am trying to change the \"shrink\" variable so the animation will know to play.</p>\n\n<p>Shrink button code:</p>\n\n<pre><code>   private ShrinkBall referenceScript;\n\n   void Start()\n   {\n       referenceScript = ball.GetComponent&lt;ShrinkBall&gt;();\n   }\n\n   void OnMouseDown()\n   {\n       if (referenceScript.shrink == true)\n       {\n           referenceScript.shrink = true;\n       } else\n       {\n           referenceScript.shrink = false;\n       }\n}\n</code></pre>\n\n<p>Ball script:</p>\n\n<pre><code>public bool shrink = false;\n    private Animator shrinkAnim;\n\n    void Start()\n    {\n        shrinkAnim = GetComponent&lt;Animator&gt;();\n    }\n\n    void Update()\n    {\n        if (shrink == false)\n        {\n            shrinkAnim.SetBool(\"shrink\", false);\n        } else\n        {\n            shrinkAnim.SetBool(\"shrink\", true);\n        }\n    }\n</code></pre>\n\n<p>When I click the shrink button, the \"shrink\" variable remains false. I know it's accessing it because it initially told me it was out of scope, so I made it a public variable. </p>\n\n<p>So the animation never plays because shrink doesn't change. Any ideas?</p>\n"}, {"tags": ["c#", "asp.net"], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 4717126, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cf66kMZOEkM/AAAAAAAAAAI/AAAAAAAAAVo/ahktw_gC7s8/photo.jpg?sz=128", "display_name": "Soul Existence", "link": "https://stackoverflow.com/users/4717126/soul-existence"}, "is_accepted": true, "score": 0, "last_activity_date": 1587738572, "creation_date": 1587738572, "answer_id": 61410738, "question_id": 56671803, "link": "https://stackoverflow.com/questions/56671803/stop-alert-box-from-firing-on-every-postback/61410738#61410738", "title": "stop alert box from firing on every postback", "body": "<p>I fixed it by switching from JavaScript to C#: </p>\n\n<p>ASP:</p>\n\n<pre><code>&lt;asp:Button runat=\"server\" id=\"btnCloseAlert\" \n     onclick=\"btnCloseAlert_Click\" Text=\"Ok\" /&gt; \n</code></pre>\n\n<p>CodeBehind in C#:</p>\n\n<pre><code>protected void btnCloseAlert_Click(object sender, EventArgs e) \n{ \n    AlertBox.Visible = false; \n    AlertBoxMessage.InnerText = \"\";\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 4717126, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cf66kMZOEkM/AAAAAAAAAAI/AAAAAAAAAVo/ahktw_gC7s8/photo.jpg?sz=128", "display_name": "Soul Existence", "link": "https://stackoverflow.com/users/4717126/soul-existence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 61410738, "answer_count": 1, "score": 0, "last_activity_date": 1587738728, "creation_date": 1560960065, "last_edit_date": 1587738728, "question_id": 56671803, "link": "https://stackoverflow.com/questions/56671803/stop-alert-box-from-firing-on-every-postback", "title": "stop alert box from firing on every postback", "body": "<p>I have a webform that displays an alert box when a searched for item is not found. the alertbox is all asp side, calling it is c# side in codebehind.</p>\n\n<p>the issue is that after the first time it is called, it calls on every postback of the page. after the click it should not fire again until after another missed search.</p>\n\n<p>i have tried <code>if(!ispostback)</code>, but the initial firing is a postback, so it won't fire at all.\nduring the postback it doesn't even call the c# code again, it just shows the alertbox.</p>\n\n<pre><code>    &lt;style type=\"text/css\"&gt;\n        .alertBox\n        {\n            position: absolute;\n            top: 100px;\n            left: 50%;\n            width: 500px;\n            margin-left: -250px;\n            background-color: #fff;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            box-sizing: border-box;\n            padding: 4px 8px;\n        }\n    &lt;/style&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        function closeAlert(e) {\n            e.preventDefault();\n            this.parentNode.style.display = \"none\";\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form_rooftopSAQPM\" runat=\"server\"&gt;\n    &lt;div runat=\"server\" id=\"AlertBox\" class=\"alertBox\" Visible=\"false\"&gt;\n        &lt;div runat=\"server\" id=\"AlertBoxMessage\"&gt;&lt;/div&gt;\n        &lt;button onclick=\"closeAlert.call(this, event)\"&gt;Ok&lt;/button&gt;\n    &lt;/div&gt;\n...\n</code></pre>\n\n<pre><code>        private void site_Load(string siteNumber)\n        {\n            DataSet ds = retrieveDataFromSQL(\"exec s_RooftopSite \" + siteNumber, \"Couldn't retrieve site information\");\n            if(ds.Tables.Count&gt;0)\n            {\n                //load the fields\n                txtFoo.Text = ds.Tables[0].Rows[0][0].ToString();\n            }\n            else\n            {\n                MessageBoxShow(\"Site not found.\");\n            }\n        }\n\n\nprotected void MessageBoxShow(string message)\n        {\n                this.AlertBoxMessage.InnerText = message;\n                this.AlertBox.Visible = true;\n        }\n\n...\n</code></pre>\n\n<p>how can i set the alertbox to only fire when it is called by the c# code, yet still allow it to pop off on the first call, which is a postback?</p>\n"}, {"tags": ["c#", ".net", "model-view-controller"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11665648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9793ef76b1cecf34d4eb319c217acb7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/11665648/martin"}, "edited": false, "score": 0, "creation_date": 1560964669, "post_id": 56672175, "comment_id": 99913026, "body": "Thank you it worked perfectly, I did not know that find() couldnt be use with a view... !"}, {"owner": {"reputation": 3050, "user_id": 859478, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1444634639/picture?type=large", "display_name": "BattlFrog", "link": "https://stackoverflow.com/users/859478/battlfrog"}, "reply_to_user": {"reputation": 15, "user_id": 11665648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9793ef76b1cecf34d4eb319c217acb7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/11665648/martin"}, "edited": false, "score": 0, "creation_date": 1560966024, "post_id": 56672175, "comment_id": 99913637, "body": "@MartinChantal Happy to help. If you&#39;re all set, please mark as answered."}], "tags": [], "owner": {"reputation": 3050, "user_id": 859478, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1444634639/picture?type=large", "display_name": "BattlFrog", "link": "https://stackoverflow.com/users/859478/battlfrog"}, "is_accepted": true, "score": 0, "last_activity_date": 1560961683, "creation_date": 1560961683, "answer_id": 56672175, "question_id": 56671769, "link": "https://stackoverflow.com/questions/56671769/how-to-fix-this-error-the-number-of-primary-key-values-passed-must-match-numbe/56672175#56672175", "title": "How to fix this error : The number of primary key values passed must match number of primary key values defined on the entity", "body": "<p>A database View does not have a primary key. Find() searches for a primary key, so can not be used to search a View.  Change it to FirstOrDefault():</p>\n\n<pre><code>Graduated_Students graduates = db.Graduated_Students.FirstOrDefault(x =&gt; x.ID == id);\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11665648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9793ef76b1cecf34d4eb319c217acb7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/11665648/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 56672175, "answer_count": 1, "score": 0, "last_activity_date": 1560961683, "creation_date": 1560959946, "question_id": 56671769, "link": "https://stackoverflow.com/questions/56671769/how-to-fix-this-error-the-number-of-primary-key-values-passed-must-match-numbe", "title": "How to fix this error : The number of primary key values passed must match number of primary key values defined on the entity", "body": "<p><a href=\"https://i.stack.imgur.com/1bCk5.jpg\" rel=\"nofollow noreferrer\">The error page</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/o2oTE.jpg\" rel=\"nofollow noreferrer\">The index page</a></p>\n\n<p>I'm trying to Edit an Index in my MVC .net application. It was working perfectly before I changed for a different View in Mysql Server.</p>\n\n<p>I tried to update the model.edmx for the new View which I thought would have worked but it cannot stop showing me this error while trying to edit. I think this is a mapping issue but I cannot find the problem</p>\n\n<p>controller :</p>\n\n<pre><code>    public ActionResult Details(int? id)\n    {\n        if (id == null)\n        {\n            return new HttpStatusCodeResult(HttpStatusCode.BadRequest);\n        }\n        Graduated_Students graduates = db.Graduated_Students.Find(id);\n        if (graduates == null)\n        {\n            return HttpNotFound();\n        }\n        return View(graduates);\n    }\n</code></pre>\n\n<p>Model :</p>\n\n<pre><code>{\n    public int ID { get; set; }\n    public int CohortId { get; set; }\n    public string Name { get; set; }\n    public string FullName { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string ContractStatus { get; set; }\n    public string DepositStatus { get; set; }\n    public string GraduationStatus { get; set; }\n}\n</code></pre>\n\n<p>View :</p>\n\n<pre><code>                    &lt;td&gt;\n                        @Html.ActionLink(Resource.Profile, \"Details\", new { id = item.ID })\n                        @Html.ActionLink(Resource.Edit, \"Edit\", new { id = item.ID })\n                        @Html.ActionLink(Resource.Delete, \"Delete\", new { id = item.ID })\n                    &lt;/td&gt;\n</code></pre>\n"}, {"tags": ["c#", "generics", "xamarin.forms", "custom-renderer"], "comments": [{"owner": {"reputation": 1673, "user_id": 5941852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af57451cad68d1403a9c3909fe0b3888?s=128&d=identicon&r=PG&f=1", "display_name": "VahidShir", "link": "https://stackoverflow.com/users/5941852/vahidshir"}, "edited": false, "score": 0, "creation_date": 1560961137, "post_id": 56671659, "comment_id": 99911511, "body": "How are you using your custom ViewCell in XAML?"}, {"owner": {"reputation": 1673, "user_id": 5941852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af57451cad68d1403a9c3909fe0b3888?s=128&d=identicon&r=PG&f=1", "display_name": "VahidShir", "link": "https://stackoverflow.com/users/5941852/vahidshir"}, "edited": false, "score": 0, "creation_date": 1560961292, "post_id": 56671659, "comment_id": 99911584, "body": "I just tested that but with a generic Label and used <code>typeof(CustomLabel&lt;object&gt;)</code> and it was called successfully."}, {"owner": {"reputation": 17808, "user_id": 426227, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8px4c.png?s=128&g=1", "display_name": "testing", "link": "https://stackoverflow.com/users/426227/testing"}, "reply_to_user": {"reputation": 1673, "user_id": 5941852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af57451cad68d1403a9c3909fe0b3888?s=128&d=identicon&r=PG&f=1", "display_name": "VahidShir", "link": "https://stackoverflow.com/users/5941852/vahidshir"}, "edited": false, "score": 0, "creation_date": 1560961629, "post_id": 56671659, "comment_id": 99911723, "body": "@Vahid: I&#39;m calling it like so <code>ItemTemplate = new DataTemplate(typeof(DialogSelectionItem&lt;Tobject&gt;))</code>. In my case the app seems to be depending on the type. And <code>object</code> is none of my <i>valid</i> types. At least as I see as explanation for the difference in behavior."}], "answers": [{"tags": [], "owner": {"reputation": 17808, "user_id": 426227, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8px4c.png?s=128&g=1", "display_name": "testing", "link": "https://stackoverflow.com/users/426227/testing"}, "is_accepted": true, "score": 1, "last_activity_date": 1560960662, "creation_date": 1560960662, "answer_id": 56671955, "question_id": 56671659, "link": "https://stackoverflow.com/questions/56671659/how-to-create-a-xamarin-forms-custom-renderer-where-the-renderer-base-class-use/56671955#56671955", "title": "How to create a Xamarin.Forms custom renderer, where the renderer base class uses generics?", "body": "<p>OK the solution is posted <a href=\"https://forums.xamarin.com/discussion/comment/132734/#Comment_132734\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>Base class:</strong></p>\n\n<pre><code>public class DialogSelectionItem : ViewCell\n{\n    // nothing\n}\n\npublic class DialogSelectionItem&lt;Tobject&gt; : DialogSelectionItem\n{\n    // do something\n}\n</code></pre>\n\n<p><strong>View renderer:</strong></p>\n\n<pre><code>[assembly: ExportRenderer(typeof(SomeApp.CustomRenderers.DialogSelectionItem), typeof(SomeApp.iOS.CustomRenderers.DialogSelectionItemRenderer))]\nnamespace SomeApp.iOS.CustomRenderers\n{\n    public class DialogSelectionItemRenderer : ViewCellRenderer\n    {\n        // some customizations\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17808, "user_id": 426227, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/8px4c.png?s=128&g=1", "display_name": "testing", "link": "https://stackoverflow.com/users/426227/testing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 56671955, "answer_count": 1, "score": 2, "last_activity_date": 1560960662, "creation_date": 1560959490, "question_id": 56671659, "link": "https://stackoverflow.com/questions/56671659/how-to-create-a-xamarin-forms-custom-renderer-where-the-renderer-base-class-use", "title": "How to create a Xamarin.Forms custom renderer, where the renderer base class uses generics?", "body": "<p>I have a base class, which looks like the following</p>\n\n<pre><code>public class DialogSelectionItem&lt;Tobject&gt; : ViewCell\n</code></pre>\n\n<p>Now I want to attach a custom renderer to it:</p>\n\n<pre><code>[assembly: ExportRenderer(typeof(SomeApp.CustomRenderers.DialogSelectionItem&lt;Tobject&gt;), typeof(SomeApp.iOS.CustomRenderers.DialogSelectionItemRenderer))]\nnamespace SomeApp.iOS.CustomRenderers\n{\n    public class DialogSelectionItemRenderer : ViewCellRenderer\n    {\n        // some customizations\n    }\n}\n</code></pre>\n\n<p>The problem is</p>\n\n<blockquote>\n  <p>The type or namespace name 'Tobject' could not be found (are you missing a using directive or an assembly reference?)</p>\n</blockquote>\n\n<p>I can use <code>object</code> instead, but then the custom renderer is never called.</p>\n\n<p>Is there an option to get the correct type or use the generic? How should I define the <code>ExportRenderer</code>?</p>\n"}, {"tags": ["c#", "vb.net", "file-io", "try-catch", "converters"], "comments": [{"owner": {"reputation": 2739, "user_id": 5844572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rulkh.jpg?s=128&g=1", "display_name": "laancelot", "link": "https://stackoverflow.com/users/5844572/laancelot"}, "edited": false, "score": 1, "creation_date": 1560959886, "post_id": 56671605, "comment_id": 99910950, "body": "Are you aware of this translater tool: <a href=\"http://converter.telerik.com/\" rel=\"nofollow noreferrer\">Telerik&#39;s Code Converter to C# and VB</a> ? It doesn&#39;t support try-catch as is, but it does the job for most of what&#39;s inside the try-catch blocks!"}, {"owner": {"reputation": 478, "user_id": 4687717, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/tBISY.jpg?s=128&g=1", "display_name": "jPhizzle", "link": "https://stackoverflow.com/users/4687717/jphizzle"}, "edited": false, "score": 2, "creation_date": 1560961111, "post_id": 56671605, "comment_id": 99911502, "body": "<code>Application.Log.WriteException</code>... hmmm how about <code>Debug.WriteLine(ex);</code> and then go from there.... whatever else you need to add into that writeline"}], "answers": [{"tags": [], "owner": {"reputation": 1239, "user_id": 4452971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/og0oX.png?s=128&g=1", "display_name": "Castorix", "link": "https://stackoverflow.com/users/4452971/castorix"}, "is_accepted": true, "score": 1, "last_activity_date": 1560963160, "creation_date": 1560963160, "answer_id": 56672550, "question_id": 56671605, "link": "https://stackoverflow.com/questions/56671605/how-to-convert-a-few-lines-of-code-from-vb-net-to-its-c-equivalent/56672550#56672550", "title": "How to convert a few lines of code from vb.net to its c# equivalent", "body": "<blockquote>\n  <p>The next piece of VB.NET is the catch portion of the try-catch\n  clauses.</p>\n  \n  <p>My.Application.Log.WriteException(ex, TraceEventType.Error, \"Could not\n  write record to data file \" + _strActiveFileName + Environment.NewLine\n  + \"Record Data: \" + strRecordText);</p>\n  \n  <p>And for the life of me, cannot find the C#-equivalent for this.</p>\n</blockquote>\n\n<p>This can be converted by (with reference to <em>Microsoft.VisualBasic.dll</em>):</p>\n\n<pre><code> Microsoft.VisualBasic.ApplicationServices.ApplicationBase MyApplication = new Microsoft.VisualBasic.ApplicationServices.ApplicationBase();\n</code></pre>\n\n<p>then :</p>\n\n<pre><code> MyApplication.Log.WriteException(ex, TraceEventType.Error, \"ExportDataToolStripMenuItem_Click\");\n</code></pre>\n\n<p>And you can check the log file with  :</p>\n\n<pre><code>System.Windows.Forms.MessageBox.Show(MyApplication.Log.DefaultFileLogWriter.FullLogFileName);\n</code></pre>\n\n<p>(just tested on Windows 10)</p>\n"}], "owner": {"reputation": 71, "user_id": 5442914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9655dd465128483d18f22670e0d2d170?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Pavlovsky", "link": "https://stackoverflow.com/users/5442914/daniel-pavlovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 56672550, "answer_count": 1, "score": -4, "last_activity_date": 1560968571, "creation_date": 1560959282, "last_edit_date": 1560968571, "question_id": 56671605, "link": "https://stackoverflow.com/questions/56671605/how-to-convert-a-few-lines-of-code-from-vb-net-to-its-c-equivalent", "title": "How to convert a few lines of code from vb.net to its c# equivalent", "body": "<p>I'm tasked with converting some older VB.net code to C#. Been slowly chipping away at the errors -went from about 100, down now to ~10. The first vb.net code that needs to be converted is:</p>\n\n<pre><code>Try\n    My.Computer.FileSystem.CopyFile(strFile, strExportPath + \"\\\" + strFileName(0), FileIO.UIOption.OnlyErrorDialogs, FileIO.UICancelOption.DoNothing)\n    intFilesCopied += 1\n\n    My.Computer.FileSystem.MoveFile(strFile, _strPath + \"Data\\Backup\\\" + strFileName(0), FileIO.UIOption.OnlyErrorDialogs, FileIO.UICancelOption.DoNothing)\n    intFilesMoved += 1\n\nCatch ex As Exception\n    My.Application.Log.WriteException(ex, TraceEventType.Error, \"ExportDataToolStripMenuItem_Click\")\n\nEnd Try\n</code></pre>\n\n<p>My C# attempt is as follows:</p>\n\n<pre><code>try\n{\n    File.Copy(strFile, strExportPath + @\"\\\" + strFileName[0], UIOption.OnlyErrorDialogs,\n    FileIO.UICancelOption.DoNothing);\n    intFilesCopied += 1;\n\n    File.Move(strFile, _strPath + @\"Data\\Backup\\\" + strFileName[0],\n    UIOption.OnlyErrorDialogs, UICancelOption.DoNothing);\n    intFilesMoved += 1;\n}\ncatch (Exception ex)\n{\n    Application.Log.WriteException(ex, TraceEventType.Error, \"ExportDataToolStripMenuItem_Click\");\n}\n</code></pre>\n\n<p>The next piece of VB.NET is the catch portion of the try-catch clauses.</p>\n\n<pre><code>My.Application.Log.WriteException(ex, TraceEventType.Error, \"Could not write record to data file \" + _strActiveFileName + Environment.NewLine + \"Record Data: \" + strRecordText);\n</code></pre>\n\n<p>And for the life of me, cannot find the C#-equivalent for this.</p>\n\n<p>I've tried adding the Microsoft.VisualBasic dll/reference/namespace, but that doesn't work either. Tried to google the C#-equivalent, but couldn't find anything.</p>\n"}, {"tags": ["c#", "automapper"], "comments": [{"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1560960034, "post_id": 56671596, "comment_id": 99911019, "body": "Version of Automapper?"}, {"owner": {"reputation": 183, "user_id": 10811808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQ9w6igFH7U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g9SS7lEVg7Cy902XwHkXTrB6y5lQ/mo/photo.jpg?sz=128", "display_name": "hakanviv", "link": "https://stackoverflow.com/users/10811808/hakanviv"}, "reply_to_user": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1560960083, "post_id": 56671596, "comment_id": 99911036, "body": "@BasilKosovan 8.1.1"}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1560960316, "post_id": 56671596, "comment_id": 99911147, "body": "How do you init mapper object?"}, {"owner": {"reputation": 183, "user_id": 10811808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQ9w6igFH7U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g9SS7lEVg7Cy902XwHkXTrB6y5lQ/mo/photo.jpg?sz=128", "display_name": "hakanviv", "link": "https://stackoverflow.com/users/10811808/hakanviv"}, "reply_to_user": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1560960511, "post_id": 56671596, "comment_id": 99911253, "body": "@BasilKosovan just added that to the last code section in the post. (var mapper = config.CreateMapper();)"}, {"owner": {"reputation": 781, "user_id": 6629020, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U-9xLhDDRnA/AAAAAAAAAAI/AAAAAAAAABc/zVAAcCCKMuk/photo.jpg?sz=128", "display_name": "Basil Kosovan", "link": "https://stackoverflow.com/users/6629020/basil-kosovan"}, "edited": false, "score": 0, "creation_date": 1560961168, "post_id": 56671596, "comment_id": 99911526, "body": "If you want to validate mapping config you can call config.AssertConfigurationIsValid(); Also you need delete .ForSourceMember(src =&gt; src.c2, opt =&gt; opt.DoNotValidate()); if you want see an exception. See screenshot <a href=\"http://prntscr.com/o3z29s\" rel=\"nofollow noreferrer\">prntscr.com/o3z29s</a>"}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1560969724, "post_id": 56671596, "comment_id": 99915342, "body": "AssertConfigurationIsValid says that indeed a4 is not mapped."}, {"owner": {"reputation": 183, "user_id": 10811808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQ9w6igFH7U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g9SS7lEVg7Cy902XwHkXTrB6y5lQ/mo/photo.jpg?sz=128", "display_name": "hakanviv", "link": "https://stackoverflow.com/users/10811808/hakanviv"}, "reply_to_user": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1561011196, "post_id": 56671596, "comment_id": 99925962, "body": "@LucianBargaoanu But it does not throw exception for <code>a4</code> during actual mapping. Whereas if I remove <code>.ForSourceMember(src =&gt; src.c2, opt =&gt; opt.DoNotValidate())</code>, it does throw exception for <code>c2</code>."}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1561013525, "post_id": 56671596, "comment_id": 99926923, "body": "I&#39;ve commented that line and the mapping works. I don&#39;t see anything wrong."}, {"owner": {"reputation": 183, "user_id": 10811808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQ9w6igFH7U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g9SS7lEVg7Cy902XwHkXTrB6y5lQ/mo/photo.jpg?sz=128", "display_name": "hakanviv", "link": "https://stackoverflow.com/users/10811808/hakanviv"}, "reply_to_user": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1561014506, "post_id": 56671596, "comment_id": 99927377, "body": "@LucianBargaoanu Now I tried it again after your comment and you are right, unmapped c2 does not throw an exception either. But why doesn&#39;t it? I am using MemberList.Source in the config."}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1561015000, "post_id": 56671596, "comment_id": 99927594, "body": "Validation happens when calling AssertConfigurationIsValid. At runtime, if the mapping <i>can</i> work, it will. This line was blurred because of maps created at runtime, but that feature is error prone and will be removed."}, {"owner": {"reputation": 183, "user_id": 10811808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQ9w6igFH7U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g9SS7lEVg7Cy902XwHkXTrB6y5lQ/mo/photo.jpg?sz=128", "display_name": "hakanviv", "link": "https://stackoverflow.com/users/10811808/hakanviv"}, "reply_to_user": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1561015216, "post_id": 56671596, "comment_id": 99927703, "body": "@LucianBargaoanu Is there a way to make it throw exception by deafult without the need to call AssertConfigurationIsValid? A configuration property maybe?"}, {"owner": {"reputation": 2267, "user_id": 1811700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8938c81a7f3dd237566b2fc541e1c8a8?s=128&d=identicon&r=PG", "display_name": "Lucian Bargaoanu", "link": "https://stackoverflow.com/users/1811700/lucian-bargaoanu"}, "edited": false, "score": 0, "creation_date": 1561015403, "post_id": 56671596, "comment_id": 99927793, "body": "No, not by default. But I think you could write smth if you wanted. Like on BeforeMap call that code that validates the map. I don&#39;t know how well it would work, but you can give it a shot."}], "owner": {"reputation": 183, "user_id": 10811808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OQ9w6igFH7U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g9SS7lEVg7Cy902XwHkXTrB6y5lQ/mo/photo.jpg?sz=128", "display_name": "hakanviv", "link": "https://stackoverflow.com/users/10811808/hakanviv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1561011398, "creation_date": 1560959254, "last_edit_date": 1561011398, "question_id": 56671596, "link": "https://stackoverflow.com/questions/56671596/memberlist-source-not-throwing-exception-when-it-should", "title": "&quot;MemberList.Source&quot; not throwing exception when it should", "body": "<p>I have the following models:</p>\n\n<pre><code>public class A\n{\n    public int a1;\n    public int a2;\n    public int a3;\n    public int a4;\n    public B b;\n}\n\npublic class B\n{\n    public int b1;\n    public int b2;\n    public C c;\n}\n\npublic class C\n{\n    public int c1;\n    public int c2;\n}\n\npublic class A_DTO\n{\n    public int a1;\n    public int a2;\n    public int a3;\n    public B_DTO b;\n}\n\n\npublic class B_DTO\n{\n    public int b1x;\n    public int b2;\n    public C_DTO c;\n}\n\npublic class C_DTO\n{\n    public int c1;\n}\n</code></pre>\n\n<p>And here are my objectives:</p>\n\n<ol>\n<li>Map each member in source to the member in destination with the same name (including inheritance)</li>\n<li>Create custom map for A.b.b1 --> A_DTO.b.b1x</li>\n<li>Explicitly say that there is no mapping for A.b.c.c2</li>\n<li>If there is an unmapped property in source that is not explicitly mapped AND cannot be mapped based on same name, throw exception</li>\n</ol>\n\n<p>And here is the configuration I am using for that:</p>\n\n<pre><code>        var config = new MapperConfiguration(\n            cfg =&gt; {\n                cfg.CreateMap&lt;A, A_DTO&gt;(MemberList.Source);\n                cfg.CreateMap&lt;B, B_DTO&gt;(MemberList.Source)\n                .ForMember(dest =&gt; dest.b1x, opt =&gt; opt.MapFrom(src =&gt; src.b1));\n                cfg.CreateMap&lt;C, C_DTO&gt;(MemberList.Source)\n                .ForSourceMember(src =&gt; src.c2, opt =&gt; opt.DoNotValidate());\n            }\n        );\n</code></pre>\n\n<p>And here is the test data I used:</p>\n\n<pre><code>        var mapper = config.CreateMapper();\n        A a = new A()\n        {\n            a1 = 1,\n            a2 = 2,\n            a3 = 3,\n            a4 = 10,\n            b = new B\n            {\n                b1 = 4,\n                b2 = 5,\n                c = new C\n                {\n                    c1 = 6,\n                    c2 = 7\n                }\n            }\n        };\n\n        A_DTO aDto = new A_DTO();\n\n        mapper.Map(a, aDto);\n</code></pre>\n\n<p>This meets all the conditions I listed above except the last one because <code>a4</code> does not exist on <code>A_DTO</code> and I still do not get an exception. (Whereas if I remove <code>.ForSourceMember(src =&gt; src.c2, opt =&gt; opt.DoNotValidate())</code>, it does throw exception for <code>c2</code>.)</p>\n"}, {"tags": ["c#", "entity-framework", "azure-webjobs"], "answers": [{"comments": [{"owner": {"reputation": 1866, "user_id": 68746, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RuinL.jpg?s=128&g=1", "display_name": "Joe Ruder", "link": "https://stackoverflow.com/users/68746/joe-ruder"}, "edited": false, "score": 0, "creation_date": 1561364771, "post_id": 56708875, "comment_id": 100024299, "body": "Thank you Ryan -- let me read through that when I can get quiet and focused and I will update this when I can."}], "tags": [], "owner": {"reputation": 1178, "user_id": 10987310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/avLjc.jpg?s=128&g=1", "display_name": "Ryan Hill - MSFT", "link": "https://stackoverflow.com/users/10987310/ryan-hill-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1561142603, "creation_date": 1561142603, "answer_id": 56708875, "question_id": 56671592, "link": "https://stackoverflow.com/questions/56671592/azure-web-job-fails-on-unique-constraint-assuming-due-to-other-thread/56708875#56708875", "title": "azure web job fails on unique constraint - assuming due to other thread", "body": "<p>I'm assuming <code>mobile_Item_Detail</code> has an Id property that represents the identity PK and <code>mstopid</code> is the FK relationship to the parent.  In that case, I would make all the changes the entities collection and then call save changes outside the foreach. This way, the DbContext can handle all the Ids at once because its aware of all changes via ChangeTracker and the save can be executed within in a single db call. You could also wrap the operation within a transaction to easily rollback the changes should an error occur. I would also enclose the operation in a using statement to ensure the connection the data source closed (see <a href=\"https://docs.microsoft.com/en-us/ef/ef6/fundamentals/working-with-dbcontext\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<pre><code>using (var mdbPcs = new mobileEntities ()) //get a new context for the below\n{\n    //now go create all the pcs for this stop.\n    var stopPieces = (from sp in db.Stop_Items where sp.stop_detail_id == stop.Id select sp).ToArray ();\n\n    //get the count of the current pcs for the enxt stop\n    var mobilePcQuery = (from s in mdbPcs.mobile_Item_Detail where s.mobile_stops_id == mstopId select s.Id);\n\n    int mobilePcCount = mobilePcQuery.Count ();\n    if (mobilePcCount != stopPieces.Count ()) //if the piece count is the same already then no need to go through the loop\n    {\n        try \n        {\n            foreach (var item in stopPieces) //step through the items one at a time\n            {\n                int seek = mobilePcQuery.Where(s =&gt; s.unique_scan_code == item.item_detail.unique_scan_code select s.Id).FirstOrDefault ();\n\n                if (seek == 0) //if we do not already have the item create it\n                {\n                    mobile_Item_Detail newItem = new mobile_Item_Detail ();\n                    newItem.item_description = item.item_detail.item_description;\n                    newItem.LOB_item_detail_id = item.item_detail.Id;\n                    newItem.mobile_stops_id = mstopId;\n                    newItem.dt_seq_no = item.item_detail.dt_item_seq_no;\n                    newItem.unique_scan_code = item.item_detail.unique_scan_code;\n\n                    mdbPcs.mobile_Item_Detail.Add (newItem);\n                }\n            }\n\n            mdbPcs.SaveChanges ();\n        } catch (Exception ex) {\n            if (ex.InnerException.InnerException.Message.Contains (\"UNIQUE KEY\")) //WTH -- Why does this keep happening...how do I fix this??!\n            {\n                Console.WriteLine ($\"{DateTime.Now}Unique Contraint {message} {newItem.unique_scan_code} for stop {newItem.mobile_stops_id}\");\n                //item was already created by another thread so continue the foreach loop (I guess?!)\n                continue;\n            }\n            throw;\n        }\n    }\n}\n</code></pre>\n\n<p>Let me know if this helps.</p>\n"}], "owner": {"reputation": 1866, "user_id": 68746, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RuinL.jpg?s=128&g=1", "display_name": "Joe Ruder", "link": "https://stackoverflow.com/users/68746/joe-ruder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56708875, "answer_count": 1, "score": 1, "last_activity_date": 1561142603, "creation_date": 1560959235, "question_id": 56671592, "link": "https://stackoverflow.com/questions/56671592/azure-web-job-fails-on-unique-constraint-assuming-due-to-other-thread", "title": "azure web job fails on unique constraint - assuming due to other thread", "body": "<p>I have code that checks to see if a record exists, if it does not it inserts it.\nThe problem is it fails at times.\nIt is pulling from a message queue.\nI have done everything I can think of but it is somehow creating the record on another 'thread' (I am assuming) sometime after it checks and before it creates the new one.</p>\n\n<p>The error is in the try / catch loop -- this works but I want to know how to avoid it from happening in the first place.\nWhat am I doing wrong, or what could I do better?</p>\n\n<p>The code starts off like this:</p>\n\n<pre><code> public class Functions\n{\n    // This function will get triggered/executed when a new message is written \n    // on an Azure Queue called queue.\n    public static void ProcessQueueMessage([QueueTrigger(\"stops-to-import-to-mobile\")] string message, TextWriter log)\n    {\n</code></pre>\n\n<p>rest of the code here...then the trouble starts</p>\n\n<pre><code> mobileEntities mdbPcs = new mobileEntities(); //get a new context for the below\n\n        //now go create all the pcs for this stop.\n        var stopPieces = (from sp in db.Stop_Items where sp.stop_detail_id == stop.Id select sp).ToArray();\n\n       //get the count of the current pcs for the enxt stop\n       int mobilePcCount = (from s in mdbPcs.mobile_Item_Detail where s.mobile_stops_id == mstopId select s.Id).Count();\n\n        if (mobilePcCount != stopPieces.Count()) //if the piece count is the same already then no need to go through the loop\n        {\n\n            foreach (var item in stopPieces)//step through the items one at a time\n            {\n                int seek = (from s in mdbPcs.mobile_Item_Detail\n                            where s.mobile_stops_id == mstopId &amp;&amp; \n                            s.unique_scan_code == item.item_detail.unique_scan_code\n                            select s.Id).FirstOrDefault();\n\n                if (seek == 0) //if we do not already have the item create it\n                {\n\n                    mobile_Item_Detail newItem = new mobile_Item_Detail();\n                    newItem.item_description = item.item_detail.item_description;\n                    newItem.LOB_item_detail_id = item.item_detail.Id;\n                    newItem.mobile_stops_id = mstopId;\n                    newItem.dt_seq_no = item.item_detail.dt_item_seq_no;\n                    newItem.unique_scan_code = item.item_detail.unique_scan_code;\n\n                    mdbPcs.mobile_Item_Detail.Add(newItem);\n\n                    try\n                    {\n                        mdbPcs.SaveChanges();\n\n                    }\n                    catch (Exception ex)\n                    {\n                        if (ex.InnerException.InnerException.Message.Contains(\"UNIQUE KEY\")) //WTH -- Why does this keep happening...how do I fix this??!\n                        {\n                            Console.WriteLine($\"{DateTime.Now}Unique Contraint {message} {newItem.unique_scan_code} for stop {newItem.mobile_stops_id}\");\n                            //item was already created by another thread so continue the foreach loop (I guess?!)\n                            continue;\n                        }\n                        throw;\n                    }\n                }\n            }\n        }\n</code></pre>\n"}]