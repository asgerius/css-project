[{"tags": ["c#", "entity-framework", "asp.net-core", "asp.net-web-api"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 2, "creation_date": 1565826161, "post_id": 57503254, "comment_id": 101475336, "body": "<code>@queryPara</code> != <code>@queryParameter</code>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1565827453, "post_id": 57503254, "comment_id": 101475558, "body": "Ok. This appears to be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "edited": false, "score": 0, "creation_date": 1565826627, "post_id": 57503311, "comment_id": 101475422, "body": "I get now <code>: &#39;An expression of non-boolean type specified in a context where a condition is expected, near &#39;group&#39;.&#39;</code>"}, {"owner": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "reply_to_user": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "edited": false, "score": 1, "creation_date": 1565828109, "post_id": 57503311, "comment_id": 101475660, "body": "@trx You can&#39;t pass an expression as a parameter. One of the reasons for using parameters is to prevent exactly this. At the moment your resultant SQL is effectively <code>Select prj_number,location from sTable where &#39;r_proj = &#39;&#39;000634&#39;&#39; and sdate = &#39;&#39;2019-07-01&#39;&#39;&#39; group by prj_number,location</code>, which doesn&#39;t make any sense. You should pass <code>r_proj</code> and <code>sdate</code> as separate parameters and reference them in your query as <code>where r_proj = @rproj AND sdate = @sdate</code>."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 25340, "user_id": 3181933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/eQpds.jpg?s=128&g=1", "display_name": "Llama", "link": "https://stackoverflow.com/users/3181933/llama"}, "edited": false, "score": 1, "creation_date": 1565828195, "post_id": 57503311, "comment_id": 101475678, "body": "@John yep realized that as soon as answer was accepted and comment made, but couldn&#39;t delete because of the accept so I can edit."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 2, "last_activity_date": 1565828654, "last_edit_date": 1565828654, "creation_date": 1565826257, "answer_id": 57503311, "question_id": 57503254, "link": "https://stackoverflow.com/questions/57503254/api-returns-must-declare-the-scalar-variable-error/57503311#57503311", "title": "API returns Must declare the scalar variable error", "body": "<pre><code>\"@queryPara\" != \"@queryParameter\"; \n</code></pre>\n\n<p>You pass <code>\"queryPara\"</code> as the name in the parameter</p>\n\n<pre><code>var queryParameter = new SqlParameter(\"queryPara\", queryPara);\n</code></pre>\n\n<p>but use <code>@queryParameter</code> in the statement</p>\n\n<pre><code>\"...where @queryParameter group by...\"\n</code></pre>\n\n<p>The names given to <code>SqlParameter</code> needs to match ones used is statements.</p>\n\n<pre><code>var queryParameter = new SqlParameter(\"queryParameter\", queryPara);\n</code></pre>\n\n<p>But given that you are passing something like </p>\n\n<pre><code>string queryPara = \"r_proj = '000634' and sdate = '2019-07-01'\"\n</code></pre>\n\n<p>into the query, this will give you the following</p>\n\n<blockquote>\n  <p>An expression of non-boolean type specified in a context where a condition is expected</p>\n</blockquote>\n\n<p>because the statement is not being constructed properly.</p>\n\n<p>Consider refactoring the approach used.</p>\n\n<p>Construct a proper parameterized statement to avoid SQL injection attacks</p>\n\n<pre><code>public List&lt;ShipmentDetailByShipDate&gt; GetByQueryFilter(string query, SqlParameter[] parameters = null) {\n    if (parameters != null &amp;&amp; parameters.Length &gt; 0) {        \n        return _context.ShipmentDetailsByShipDate.FromSql&lt;ShipmentDetailByShipDate&gt;(query, parameters).ToList();\n    }\n\n    return return _context.ShipmentDetailsByShipDate.FromSql&lt;ShipmentDetailByShipDate&gt;(query).ToList();\n}\n</code></pre>\n\n<p>and construct your filter accordingly.</p>\n\n<pre><code>public IActionResult GetByQueryFilter() {\n    string query = @\"Select prj_number,location from sTable where r_proj = @r_proj and sdate = @sdate group by prj_number,location\";\n    var parameters = new [] {\n        new SqlParameter(\"r_proj\", \"000634\"),\n        new SqlParameter(\"sdate\", \"2019-07-01\"),\n    }\n    return Ok(_shipmentRepository.GetByQueryFilter(query, parameters));\n}\n</code></pre>\n"}], "owner": {"reputation": 1767, "user_id": 2698249, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3877ca800f0ae02b2aa4a6aa0a5a3e38?s=128&d=identicon&r=PG&f=1", "display_name": "trx", "link": "https://stackoverflow.com/users/2698249/trx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 57503311, "answer_count": 1, "score": 1, "last_activity_date": 1565828654, "creation_date": 1565825574, "question_id": 57503254, "link": "https://stackoverflow.com/questions/57503254/api-returns-must-declare-the-scalar-variable-error", "title": "API returns Must declare the scalar variable error", "body": "<p>I am using the Entity Framework Core and trying to execute the query which has two filter parameters and get the response back. I am calling my API from the Angular Application.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PLvpb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PLvpb.png\" alt=\"enter image description here\"></a></p>\n\n<p>Above both can be passed as a query to the EF Core  or the users might select only one field then accordingly the filter should change </p>\n\n<p>What I am doing is like below</p>\n\n<pre><code>    public List&lt;ShipmentDetailByShipDate&gt; GetByQueryFilter(string queryPara)\n    {\n        var queryParameter = new SqlParameter(\"queryPara\", queryPara);\n        return _context.ShipmentDetailsByShipDate.FromSql&lt;ShipmentDetailByShipDate&gt;(SQueryPara, queryParameter).ToList();\n    }\n</code></pre>\n\n<p>Where the string <code>SQuerPara</code> holds the query </p>\n\n<pre><code>        SQueryPara = @\"Select prj_number,location from sTable where @queryParameter group by prj_number,location\";\n</code></pre>\n\n<p>My Controller method is like</p>\n\n<pre><code>    public IActionResult GetByQueryFilter()\n    {\n        string queryPara = \"r_proj = '000634' and sdate = '2019-07-01'\";\n        return Ok(_shipmentRepository.GetByQueryFilter(queryPara));\n    }\n</code></pre>\n\n<p>For testing purpose I am hardcoding the <code>queryPara</code> with in the Controller. But when I call my API I am getting the error like \n<code>System.Data.SqlClient.SqlException: 'Must declare the scalar variable \"@queryParameter\".'</code></p>\n\n<p>How can I handle this scenario, can this be handled differently?</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1565856203, "post_id": 57503144, "comment_id": 101481151, "body": "<code>it fails to even create</code> could you explain better what exactly doesn&#39;t work? is happening nothing? Are you sure the according methods get called and executed? Any errors/warnings? Where/When is <code>yes</code> set to <code>true</code>? Note that you should use the bool operator <code>&amp;&amp;</code> not the binary <code>&amp;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 4762980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWg7O.png?s=128&g=1", "display_name": "Daniel Linder", "link": "https://stackoverflow.com/users/4762980/daniel-linder"}, "is_accepted": true, "score": 0, "last_activity_date": 1565868502, "creation_date": 1565868502, "answer_id": 57508958, "question_id": 57503144, "link": "https://stackoverflow.com/questions/57503144/mesh-fails-to-create/57508958#57508958", "title": "Mesh fails to create", "body": "<p>I tried and copy your CreateRoad() method and took a quad, cleared the mesh from meshfilter and used that as the roadPRefab and it works. Think it might be as derHugo says; that some portion of your code does not get called.</p>\n"}], "owner": {"reputation": 11, "user_id": 11929555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-04f-Hnj_OZo/AAAAAAAAAAI/AAAAAAAAAKw/5nlc80CcZvk/photo.jpg?sz=128", "display_name": "jufkon", "link": "https://stackoverflow.com/users/11929555/jufkon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 57508958, "answer_count": 1, "score": 0, "last_activity_date": 1565868502, "creation_date": 1565824560, "question_id": 57503144, "link": "https://stackoverflow.com/questions/57503144/mesh-fails-to-create", "title": "Mesh fails to create", "body": "<p>I've been trying to create a road mechanic but when I instantiate a mesh, it fails to even create.</p>\n\n<p>I have a version where it's a mesh created in the script(commented) and it works as intended, but when i switch to the instantiated, the roadStart ray and roadend ray both work. I followed a tutorial by quill18 to get a sense of where to go. But I got to a point where I got so frustrated I just copy and pasted and it still failed to work.</p>\n\n<pre><code>bool ClickLoc(out Vector3 point)\n{\n    Ray ray = Camera.main.ScreenPointToRay(Input.mousePosition);\n    print(ray);\n    RaycastHit hit;\n    if (Physics.Raycast(ray, out hit))\n    {\n        point = hit.point;\n        return true;\n    }\n    point = Vector3.zero;\n    return false;\n}\nvoid CreateRoad(Vector3 roadStart, Vector3 roadEnd)\n{\n    float width = 1;\n    float length = Vector3.Distance(roadStart, roadEnd);\n\n    if (length &lt; .5)\n    {\n        return;\n    }\n\n    GameObject road = (GameObject)Instantiate(prefabRoad);\n   // GameObject road = new GameObject (\"road\", typeof(MeshRenderer),typeof(MeshFilter));\n    road.transform.position = roadStart + new Vector3(0, 0.01f, 0);\n\n    road.transform.rotation = Quaternion.FromToRotation(Vector3.right, roadEnd - roadStart);\n    Debug.Log(road.transform.rotation.eulerAngles);\n\n    Vector3[] vertices = {\n            new Vector3(0,      0, -width/2),\n            new Vector3(1, 0, -width/2),\n            new Vector3(1, 0,  width/2),\n            new Vector3(0,      0,  width/2)\n        };\n\n    int[] triangles = {\n            1, 0, 2,    // triangle 1\n            2, 0, 3     // triangle 2\n        };\n\n\n    Vector2[] uv = {\n            new Vector2(0, 0),\n            new Vector2(1, 0),\n            new Vector2(1, 1),\n            new Vector2(0, 1)\n        };\n\n    Vector3[] normals = {\n            Vector3.up,\n            Vector3.up,\n            Vector3.up,\n            Vector3.up\n        };\n\n    Mesh mesh = new Mesh();\n\n    mesh.vertices = vertices;\n    mesh.triangles = triangles;\n    mesh.uv = uv;\n    mesh.normals = normals;\n\n    MeshFilter mesh_filter = road.GetComponent&lt;MeshFilter&gt;();\n    MeshRenderer mr = road.GetComponent&lt;MeshRenderer&gt;();\n    mesh_filter.mesh = mesh;\n\n\n}\nVector3 roadStart;\nVector3 roadEnd;\nvoid Update()\n{\n\n\n    if (yes == true &amp; Input.GetMouseButtonDown(0) )\n    {\n\n\n        ClickLoc(out roadStart);\n\n    }\n\n\n    if (Input.GetMouseButtonUp(0))\n    {\n        ClickLoc(out roadEnd);\n        print(click);\n        if (roadStart.magnitude != 0)\n        {\n            CreateRoad(roadStart, roadEnd);\n        }\n\n       // if (click == false)\n         //   {\n           //     CreateRoad(roadStart, roadEnd);\n             //   mid = true;\n            //}\n    }\n\n    if (Input.GetMouseButtonUp(1))\n    {\n        click = false;\n    }\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The road created will start at the center of the map and end at my mouse position</p>\n"}, {"tags": ["java", "c#", "android", "unity3d", "midi"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 5561689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VlRDE.png?s=128&g=1", "display_name": "Shachar Oren", "link": "https://stackoverflow.com/users/5561689/shachar-oren"}, "is_accepted": true, "score": 0, "last_activity_date": 1566055194, "creation_date": 1566055194, "answer_id": 57537539, "question_id": 57502815, "link": "https://stackoverflow.com/questions/57502815/no-sound-out-of-an-android-midi-driver-integrated-in-unity3d/57537539#57537539", "title": "No sound out of an android MIDI driver integrated in Unity3d", "body": "<p>After extracting the libmidi.so in the jni/armv7a folder from the .aar, removing the java wrapper and changing the code to the following:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Collections;\nusing System.Collections.Generic;\nusing System.Runtime.InteropServices;\nusing UnityEngine;\n\npublic class MidiDriverDemo : MonoBehaviour\n{\n    public static readonly float CYCLE_TIME_SEC = 1f;\n\n    private float remainingTime;\n\n    private Dictionary&lt;int, byte[]&gt; messages;\n    private int currentMessage;\n\n    [DllImport(\"midi\")]\n    private static extern float midi_init();\n\n    [DllImport(\"midi\")]\n    private static extern float midi_shutdown();\n\n    [DllImport(\"midi\")]\n    private static extern float midi_write(byte[] msg, int length);\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        remainingTime = CYCLE_TIME_SEC;\n        currentMessage = 0;\n        messages = new Dictionary&lt;int, byte[]&gt;() {\n            {  0, new byte[] { 0x90, 48, 100 } },\n            {  1, new byte[] { 0x80, 48, 0 } }\n        };\n\n        midi_init();\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        remainingTime -= Time.deltaTime;\n        if(remainingTime &lt;= 0) {\n            remainingTime = CYCLE_TIME_SEC;\n\n            midi_write(messages[currentMessage], 3);\n\n            currentMessage++;\n            currentMessage %= messages.Count;\n        }\n    }\n}\n</code></pre>\n\n<p>There is finally audio output on the device.</p>\n"}], "owner": {"reputation": 26, "user_id": 5561689, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VlRDE.png?s=128&g=1", "display_name": "Shachar Oren", "link": "https://stackoverflow.com/users/5561689/shachar-oren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 57537539, "answer_count": 1, "score": 0, "last_activity_date": 1566055194, "creation_date": 1565821604, "question_id": 57502815, "link": "https://stackoverflow.com/questions/57502815/no-sound-out-of-an-android-midi-driver-integrated-in-unity3d", "title": "No sound out of an android MIDI driver integrated in Unity3d", "body": "<p>I want to output MIDI audio with Unity3d on android. Using an open source library I think I got it working but no sound is produced by the device, and there are no error messages/logs of any kind.</p>\n\n<p>I am using this library:\n<a href=\"https://github.com/billthefarmer/mididriver\" rel=\"nofollow noreferrer\">https://github.com/billthefarmer/mididriver</a></p>\n\n<p>I have tested the library with the provided gradle project using Android Studio and it's working well.</p>\n\n<p>Unity recognizes the AAR file of this library by dropping it in Assets\\Plugins\\Android. I then added a java class to wrap the method calls,\n and created a small C# MonoBehaviour script to test it. I isolated the code so you can reproduce problem.</p>\n\n<p>To reproduce:</p>\n\n<ol>\n<li>Using Unity3d create a new 3d project.</li>\n<li>Add an empty game object.</li>\n<li>Attach the below C# script to it.</li>\n<li>Create the folders Plugins\\Android within the Assets folder.</li>\n<li>Create a new file with the below java code in it, within the Android folder.</li>\n<li>Add the AAR file of the latest release of the linked library.</li>\n<li>build and load it to an android device.</li>\n</ol>\n\n<h2>C# MonoBehaviour</h2>\n\n<p>Sends a NOTE_ON message and then a NOTE_OFF message a second later, every 2 seconds. The AndroidJavaClass is used to call the library's methods.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class MidiDriverDemo : MonoBehaviour\n{\n    private const string CLASS_PATH = \"com.example.driver.AndroidMidiDriver\";\n\n    public static readonly float CYCLE_TIME_SEC = 1f;\n\n    private float remainingTime;\n\n    private Dictionary&lt;int, int[]&gt; messages;\n    private int currentMessage;\n\n    AndroidJavaClass midiDriver;\n\n    // Start is called before the first frame update\n    void Start()\n    {\n        remainingTime = CYCLE_TIME_SEC;\n        currentMessage = 0;\n        messages = new Dictionary&lt;int, int[]&gt;() {\n            {  0, new int[] { 0x90, 48, 63 } },\n            {  1, new int[] { 0x80, 48, 0 } }\n        };\n\n        midiDriver = new AndroidJavaClass(CLASS_PATH);\n        midiDriver.Call(\"start\");\n    }\n\n    // Update is called once per frame\n    void Update()\n    {\n        remainingTime -= Time.deltaTime;\n        if(remainingTime &lt;= 0) {\n            remainingTime = CYCLE_TIME_SEC;\n\n            midiDriver.Call(\"send\", messages[currentMessage][0],\n                messages[currentMessage][1], messages[currentMessage][2]);\n\n            currentMessage++;\n            currentMessage %= messages.Count;\n        }\n    }\n}\n</code></pre>\n\n<h2>java Wrapper</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.driver;\n\nimport org.billthefarmer.mididriver.MidiDriver;\n\npublic class AndroidMidiDriver {\n\n    private MidiDriver midi;\n\n    public AndroidMidiDriver(){\n        midi = new MidiDriver();\n    }\n\n    public void start(){\n        if (midi != null) {\n            midi.start();\n        }\n    }\n\n    public void stop() {\n        if (midi != null) {\n            midi.stop();\n        }\n    }\n\n    public void send(int command, int noteNumber, int velocity){\n        byte[] msg = new byte[3];\n\n        msg[0] = (byte) command;\n        msg[1] = (byte) noteNumber;\n        msg[2] = (byte) velocity;\n\n        midi.write(msg);\n    }\n}\n</code></pre>\n\n<p>So it compiles perfectly with no warnings and is running on the device but still no sound. The sound level is properly set.</p>\n\n<p>Before I isolated the problem, the call to \"send\" method crashed my app with segmentation fault, so something is working I guess.</p>\n\n<p>So I think the problem is one of:</p>\n\n<ul>\n<li>This is not the correct way to access the AAR.</li>\n<li>I missed some setting in Unity. </li>\n<li>The problem is in the library itself, unlikely because it is working standalone with the provided gradle project.</li>\n</ul>\n\n<p>Any ides/suggestions are welcome.</p>\n"}, {"tags": ["c#", "asp.net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1565821686, "post_id": 57502806, "comment_id": 101474529, "body": "What is the lifetime of your <code>dbContext</code> object? It should be a short-lived object so you shouldn&#39;t run into issues with multiple instances with the same entity identity unless you&#39;re reusing the same <code>dbContext</code> for multiple operations."}, {"owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1565821866, "post_id": 57502806, "comment_id": 101474569, "body": "I am using <code>services.AddDbContext</code>. So I think its default one. One per request. I am updating the PolicyMapping on Post request."}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 1, "creation_date": 1565822074, "post_id": 57502806, "comment_id": 101474601, "body": "&quot;two different entities with the same Id&quot; - that <i>is</i> your error, which seems somewhat obvious; it&#39;s not much of an &quot;identifier&quot; if the value can be duplicated. What is the reasoning for using that value twice?"}, {"owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "edited": false, "score": 0, "creation_date": 1565822430, "post_id": 57502806, "comment_id": 101474668, "body": "Lets you have a Policy with Rule A &amp; Rule B. In a day, for the first 12 hours Rule A will get executed and after that Rule B will get executed. But you can set up the same rule to get executed for both the times. This is part of the requirement."}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1565822832, "post_id": 57502806, "comment_id": 101474752, "body": "So, technically &quot;PolicyA&quot; and &quot;PolicyB&quot; can be the same policy, NOT two distinct policies which happen (if the table allowed it) to have the same Id value?"}, {"owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "reply_to_user": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1565822928, "post_id": 57502806, "comment_id": 101474774, "body": "@TiesonT. That&#39;s right"}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1565824133, "post_id": 57502806, "comment_id": 101474988, "body": "Worth noting, in your &quot;Solution 1&quot;, that <code>dbContext.PolicyMapping.Attach(fromdatabase);</code> is not necessary, since <code>fromdatabase</code> is never in a detached state."}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "reply_to_user": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "edited": false, "score": 0, "creation_date": 1565824212, "post_id": 57502806, "comment_id": 101475004, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/197972/discussion-between-tieson-t-and-shaggy\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "edited": false, "score": 0, "creation_date": 1565882050, "post_id": 57505826, "comment_id": 101491941, "body": "Though I haven&#39;t tried it I am thinking your code will work. The only problem is I have around 20 Entities (With many properties), each tied with one another through the same structure described in the question. This will require a lot of code changes and running the migration scripts again."}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1565851868, "creation_date": 1565851868, "answer_id": 57505826, "question_id": 57502806, "link": "https://stackoverflow.com/questions/57502806/entity-framework-core-update-column-with-foreign-key-reference/57505826#57505826", "title": "Entity Framework Core update column with foreign key reference", "body": "<p>If you just would like to update the Id of the navigation properties, you could add foreign key for them and update it.</p>\n\n<p>1.Model:</p>\n\n<pre><code>public class PolicyMapping\n{\n    [Key]\n    public Guid Id { get; set; }\n\n    public Guid PolicyAId { get; set; }      \n    public Policy PolicyA { get; set; }\n\n    public Guid PolicyBId { get; set; }\n    public Policy PolicyB { get; set; }\n\n    public Guid BankId { get; set; }\n    public Lookup_Bank Bank { get; set; }\n}\n</code></pre>\n\n<p>2.DbContext:</p>\n\n<pre><code>protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        base.OnModelCreating(modelBuilder);\n\n        modelBuilder.Entity&lt;PolicyMapping&gt;()\n            .HasOne(x =&gt; x.PolicyA)\n            .WithOne()\n            .HasForeignKey&lt;PolicyMapping&gt;(p =&gt; p.PolicyAId)\n            .OnDelete(DeleteBehavior.Restrict);\n\n        modelBuilder.Entity&lt;PolicyMapping&gt;()\n            .HasOne(x =&gt; x.PolicyB)\n            .WithOne()\n            .HasForeignKey&lt;PolicyMapping&gt;(p =&gt; p.PolicyBId)\n            .OnDelete(DeleteBehavior.Restrict);\n\n        modelBuilder.Entity&lt;PolicyMapping&gt;()\n            .HasOne(x =&gt; x.Bank)\n            .WithOne()\n            .HasForeignKey&lt;PolicyMapping&gt;(p =&gt; p.BankId)\n            .OnDelete(DeleteBehavior.Restrict);\n\n    }\n</code></pre>\n\n<p>3.Add migrations.</p>\n\n<p>4.Controller:</p>\n\n<pre><code> var policyMapping = new PolicyMapping\n        {\n            Id = new Guid(\"b27fb632-330b-46be-a649-2e2463d58626\"),\n            PolicyAId = new Guid(\"a4f1cf6f-034d-4727-ab8f-49e95b2c9d23\"),\n            PolicyBId = new Guid(\"a4f1cf6f-034d-4727-ab8f-49e95b2c9d23\"),\n            BankId = new Guid(\"98ed2bae-631b-490c-8ddf-3e02232d4231\")\n\n        };\n        dbContext.PolicyMapping.Attach(policyMapping);\n        dbContext.Entry(policyMapping).Property(\"PolicyAId\").IsModified = true;\n        dbContext.Entry(policyMapping).Property(\"PolicyBId\").IsModified = true;\n        dbContext.Entry(policyMapping).Property(\"BankId\").IsModified = true;\n        dbContext.SaveChanges();\n</code></pre>\n\n<p>Then you could retrieve <code>PolicyA</code> or <code>PolicyB</code> from their foreign key <code>PolicyAId</code> or <code>PolicyBId</code></p>\n\n<pre><code>var policyA = dbContext.Policy.FirstOrDefault(x =&gt; x.Id == policyMapping.PolicyAId);\n</code></pre>\n"}], "owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3035, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1565882795, "creation_date": 1565821502, "last_edit_date": 1565882795, "question_id": 57502806, "link": "https://stackoverflow.com/questions/57502806/entity-framework-core-update-column-with-foreign-key-reference", "title": "Entity Framework Core update column with foreign key reference", "body": "<p>This is the simplified version of the table structure I have:</p>\n\n<pre><code>[Table(\"PolicyMapping\")]\npublic class PolicyMapping\n{\n    [Key]\n    public Guid Id { get; set; }\n    public Policy PolicyA { get; set; }\n    public Policy PolicyB { get; set; } \n    public Lookup_Bank Bank { get; set; }       \n}\n\n[Table(\"Policy\")]\npublic class Policy\n{\n    [Key]\n    public Guid Id { get; set; }        \n    public string PolicyNm { get; set; }    \n    public string Description { get; set; } \n}\n\n[Table(\"Lookup_Bank\")]\npublic class Lookup_Bank\n{\n    [Key]\n    public Guid Id { get; set; }        \n    public string Name { get; set; }            \n    public string Code { get; set; }            \n}\n</code></pre>\n\n<p>I am working on the edit screen for policy mapping where you can have the same values for PolicyA and PolicyB attributes.</p>\n\n<p>After using automapper for DTO to the entity, here is my entity object looks like:</p>\n\n<pre><code>var policyMapping = new PolicyMapping\n{\n    Id = \"b27fb632-330b-46be-a649-2e2463d58626\",\n    PolicyA = new Policy\n    {\n        Id = \"a4f1cf6f-034d-4727-ab8f-49e95b2c9d23\",\n        PolicyNm = null,\n        Description = null\n    },\n    PolicyB = new Policy\n    {\n        Id = \"a4f1cf6f-034d-4727-ab8f-49e95b2c9d23\",\n        PolicyNm = null,\n        Description = null\n    },\n    Bank = new Lookup_Bank()\n    {\n        Id = \"98ed2bae-631b-490c-8ddf-3e02232d4231\",\n        Name = null,\n        Code = null\n    }\n}\n</code></pre>\n\n<p>I am mapping only selected id value of dropdown to entity id using automapper. Values are present for <code>Code</code>, <code>Description</code> and other attributes in the database. It's just not getting populated after automapper.</p>\n\n<pre><code>dbContext.PolicyMapping.Attach(policyMapping);\ndbContext.SaveChanges();\n</code></pre>\n\n<p>This is the error, I am getting</p>\n\n<blockquote>\n  <p>The instance of entity type <code>Policy</code> cannot be tracked because another instance with the same key value for {'a4f1cf6f-034d-4727-ab8f-49e95b2c9d23'} is already being tracked.<br>\n  When attaching existing entities, ensure that only one entity instance with a given key value is attached. </p>\n</blockquote>\n\n<p>The reason for the error maybe because I am attaching two different entities with the same Id. I am still not sure how can I make it work in the most efficient way?</p>\n\n<p><strong>Solution 1</strong>: (not efficient)</p>\n\n<pre><code>var fromdatabase = dbContext.PolicyMapping.Include(x =&gt; x.PolicyA)\n        .Include(x =&gt; x.Bank)\n        .Include(x =&gt; x.PolicyB)        \n        .FirstOrDefault(x =&gt; x.Id == policyMapping.Id);\n\nfromdatabase.PolicyA = dbContext.Policy.FirstOrDefault(x =&gt; x.Id == policyMapping.PolicyA.Id);\nfromdatabase.PolicyB = dbContext.Policy.FirstOrDefault(x =&gt; x.Id == policyMapping.PolicyB.Id);\n\ndbContext.PolicyMapping.Attach(fromdatabase);\ndbContext.SaveChanges();\n</code></pre>\n\n<p>This is working. But I would like to avoid a trip to the database just to fetch the entire entity.</p>\n\n<p><strong>Edit: Based on Xing's answer</strong></p>\n\n<p>@Xing, pointed out to change the Model structure by adding navigational properties and some changes in <code>OnModelCreating</code> method. (This method is currently blank in my code)</p>\n\n<p>However, I went through a couple of articles (<a href=\"https://docs.microsoft.com/en-us/ef/core/get-started/aspnetcore/new-db?tabs=visual-studio\" rel=\"nofollow noreferrer\">This</a> &amp; <a href=\"https://www.learnentityframeworkcore.com/walkthroughs/aspnetcore-application\" rel=\"nofollow noreferrer\">This</a>) related to EF Core Code First approach, none of them are saying about navigational properties and all.</p>\n\n<p>I am wondering how they are updating the column in this scenario?</p>\n"}, {"tags": ["c#", "export-to-csv", "csvhelper"], "comments": [{"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 2, "creation_date": 1565821596, "post_id": 57502762, "comment_id": 101474511, "body": "Your expected format doesn&#39;t look like a good candidate for a CSV file to begin with. Typically a CSV file is meant to be data organized into columns, separated by a delimiter like the comma. So ideally each column should have data of one type, and each record (row) should represent a set of data."}, {"owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1565822303, "post_id": 57502762, "comment_id": 101474649, "body": "@Sach, There will be years worth of data coming after the local and Value rows which is 6th row. The information for each BuildingName, TaskName, Point and Data name (Essentially the first 4 rows) give information for the data that is coming in rows after 5th row."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1565822899, "post_id": 57502762, "comment_id": 101474766, "body": "If you have different kinds of data, you should probably look into using a DB. If that&#39;s too much work, at least you should look into using different CSV files to hold that data, and then link them in your program by using some logic. As it is now, your first column seems to have some office name, a temperature reading, and some dates. Seconds column some values, third again the previous data etc. Also what&#39;s the logic behind having 3 <code>Local</code> and 3 <code>Value</code> columns, because the CSV files are read as rows, so you&#39;ll have 3 sets of data in one row. Are they meant to be like that?"}, {"owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1565823180, "post_id": 57502762, "comment_id": 101474818, "body": "@Sach Yes, each Office say Sarah&#39;Office will have its own set to Local and Value columns.. This could be three years of data versus Brian&#39;s Office which could have only two years of data."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1565823684, "post_id": 57502762, "comment_id": 101474914, "body": "OK let me see if I get you correctly, in your code does it mean that <code>BuildingName=ABC</code>, <code>TaskName=Temperature</code> etc, is that correct? Then why not have <code>BuildingName</code>, <code>TaskName</code>, <code>Local</code>, <code>Value</code> etc as your columns? Sure, the names, task etc will repeat, but that&#39;s still way better than having a data format like yours - it&#39;s a disaster waiting to happen down the line."}, {"owner": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1565824117, "post_id": 57502762, "comment_id": 101474986, "body": "If you want to avoid that repetition then you must use a DB."}, {"owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "edited": false, "score": 0, "creation_date": 1565824369, "post_id": 57502762, "comment_id": 101475024, "body": "Customer requirement. Got to stick with the format..  DB? Database?"}, {"owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "reply_to_user": {"reputation": 9311, "user_id": 302248, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b3bc412e2217f6ffc8c78a34ee34e1de?s=128&d=identicon&r=PG", "display_name": "Sach", "link": "https://stackoverflow.com/users/302248/sach"}, "edited": false, "score": 0, "creation_date": 1565891501, "post_id": 57502762, "comment_id": 101496036, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/198002/discussion-between-sarah-and-sach\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "edited": false, "score": 0, "creation_date": 1567107852, "post_id": 57561002, "comment_id": 101875418, "body": "Hi @David, thank you so much. I was able to complete this in somewhat the same way you mentioned about. I did supply the logic for writing the report format. Thank you so very much."}], "tags": [], "owner": {"reputation": 4121, "user_id": 2355006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942d34ce55a65b370285e3c2c7e6da8?s=128&d=identicon&r=PG", "display_name": "David Specht", "link": "https://stackoverflow.com/users/2355006/david-specht"}, "is_accepted": true, "score": 1, "last_activity_date": 1566233658, "creation_date": 1566233658, "answer_id": 57561002, "question_id": 57502762, "link": "https://stackoverflow.com/questions/57502762/csvhelper-dynamic-number-of-columns/57561002#57561002", "title": "CSVHelper Dynamic number of columns", "body": "<p>What you are trying create is not the standard CSV file that CsvHelper was built to create. A CSV file has one row of headers followed by rows of data.  You appear to be creating an Excel report using comma separated values.  CsvHelper can help you write the fields, but you are going to have to supply the logic for writing the report format.  The following is one way that you could do it.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static void Main(string[] args)\n{\n    var points = new List&lt;Point&gt;\n    {\n        new Point\n        {\n            BuildingName = \"ABC Office\",\n            TaskName = \"Temperature\",\n            PointName = \"14\",\n            DataName = \"Temperature: Degrees F\",\n            Results = new List&lt;Result&gt; {\n                new Result { Local = new DateTime(2019, 1,1), Value = 2},\n                new Result { Local = new DateTime(2019, 1, 2), Value = 23}\n            }\n        },\n        new Point\n        {\n            BuildingName = \"Sarah's Office\",\n            TaskName = \"Fan\",\n            PointName = \"33\",\n            DataName = \"0=Stop;1=Run\",\n            Results = new List&lt;Result&gt; {\n                new Result { Local = new DateTime(2019, 1,1), Value = 2},\n                new Result { Local = new DateTime(2019, 1, 2), Value = 23},\n                new Result { Local = new DateTime(2019, 1, 3), Value = 45},\n                new Result { Local = new DateTime(2019, 1, 4), Value = 34},\n                new Result { Local = new DateTime(2019, 1, 5), Value = 36}\n            }\n        },\n        new Point\n        {\n            BuildingName = \"Brian's Office\",\n            TaskName = \"Fan\",\n            PointName = \"35\",\n            DataName = \"Humidity\",\n            Results = new List&lt;Result&gt; {\n                new Result { Local = new DateTime(2019, 1,1), Value = 2},\n                new Result { Local = new DateTime(2019, 1, 2), Value = 23},\n                new Result { Local = new DateTime(2019, 1, 3), Value = 45},\n                new Result { Local = new DateTime(2019, 1, 4), Value = 34},\n                new Result { Local = new DateTime(2019, 1, 5), Value = 36},\n                new Result { Local = new DateTime(2019, 1, 6), Value = 56},\n                new Result { Local = new DateTime(2019, 1, 7), Value = 92}\n            }\n        },\n    };\n\n    using (var writer = new StreamWriter(filePath))\n    using (var csv = new CsvWriter(writer))\n    {\n        // Print buildings\n        foreach (var point in points)\n        {\n            csv.WriteField(point.BuildingName);\n            csv.WriteField(\"\");\n        }\n        csv.NextRecord();\n\n        // Print Tasks\n        foreach (var point in points)\n        {\n            csv.WriteField(point.TaskName);\n            csv.WriteField(\"\");\n        }\n        csv.NextRecord();\n\n        // Print Points\n        foreach (var point in points)\n        {\n            csv.WriteField(point.PointName);\n            csv.WriteField(\"\");\n        }\n        csv.NextRecord();\n\n        // Print DataNames\n        foreach (var point in points)\n        {\n            csv.WriteField(point.DataName);\n            csv.WriteField(\"\");\n        }\n        csv.NextRecord();\n\n        // Print value titles\n        foreach (var point in points)\n        {\n            csv.WriteField(\"Local\");\n            csv.WriteField(\"Value\");\n        }\n        csv.NextRecord();\n\n        var endReached = false;\n        var pointIndex = 0;\n\n        // Print values\n        while (!endReached)\n        {\n            endReached = true;\n            foreach (var point in points)\n            {\n                if (point.Results.Count &gt; pointIndex)\n                {\n                    csv.WriteField(point.Results[pointIndex].Local);\n                    csv.WriteField(point.Results[pointIndex].Value);\n\n                    if (point.Results.Count &gt; pointIndex + 1)\n                    {\n                        endReached = false;\n                    }\n                }\n                else\n                {\n                    csv.WriteField(\"\");\n                    csv.WriteField(\"\");\n                }\n            }\n            csv.NextRecord();\n\n            pointIndex += 1;\n        }\n    }\n}\n\npublic class Point\n{\n    public string BuildingName { get; set; }\n    public string TaskName { get; set; }\n    public string PointName { get; set; }\n    public string DataName { get; set; }\n    public List&lt;Result&gt; Results { get; set; }\n\n}\n\npublic class Result\n{\n    public DateTime Local { get; set; }\n    public int Value { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 929, "user_id": 7817343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jcl9LWPaSC0/AAAAAAAAAAI/AAAAAAAATbw/7Xwpr0AHR-0/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7817343/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "accepted_answer_id": 57561002, "answer_count": 1, "score": -1, "last_activity_date": 1566233658, "creation_date": 1565821206, "last_edit_date": 1565843496, "question_id": 57502762, "link": "https://stackoverflow.com/questions/57502762/csvhelper-dynamic-number-of-columns", "title": "CSVHelper Dynamic number of columns", "body": "<p>I just started working on csvhelper library today and new help with how to add entries in the next column. Say I have three datasets composed of (ABC Office, Sarah's office and Brian's office) These are Building names...For each building I have TaskName, PointName, DataName and then Local and Value data of rows. \nEach building will have 2 columns, There can be 10 or 20 buildings (Dynamic)\nand each building can be 1000's of data rows below local and Value row.</p>\n\n<p>I have the following code</p>\n\n<pre><code>using (var writer = new StreamWriter(filePath))\n                            using (var csv1 = new CsvWriter(writer))\n                            {\n    foreach (var point in this.Points)\n                                    {\n                                       csv1.WriteField(point.BuildingName);\n                                       csv1.WriteField(\" \");\n                                        csv1.NextRecord();\n                                        csv1.WriteField(point.TaskName);\n                                        csv1.WriteField(\" \");\n                                        csv1.NextRecord();\n                                        csv1.WriteField(point.PointName);\n                                        csv1.WriteField(\" \");\n                                        csv1.NextRecord();\n                                        csv1.WriteField(point.DataName);\n                                        csv1.WriteField(\" \");\n                                        csv1.NextRecord();\n                                    }\n}\n</code></pre>\n\n<p>The problem is that it puts all the points information in first column and then ' ' in the second field.</p>\n\n<p>What I need is something like this eventually.\n<a href=\"https://i.stack.imgur.com/xvvyD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xvvyD.png\" alt=\"enter image description here\"></a></p>\n\n<p>After the point information added, I want to be able to append a data set of Local and Value column under each point.</p>\n\n<p>Is this formatting in CSV possible using CSVHelper?</p>\n\n<p>Update:</p>\n\n<p>So far I have gotten this far.. Using String builder added first 5 rows of data.\nNow I need to be able to append a dataset of columns Local and Value under each Office. Is there a way in CSVHeper library that I can specify where to append the dataset.  First 5 rows I am getting like this.</p>\n\n<pre><code>var row1 = new StringBuilder();\n var row2 = new StringBuilder();\nvar row3 = new StringBuilder();\nvar row4 = new StringBuilder();\n\n\n                                    foreach (var point in this.Points)\n                                    {\n                                        row1.Append($\"{ point.BuildingName},,\");\n                                        row2.Append($\"{point.TaskName},,\");\n                                        row3.Append($\"{ point.PointName},,\");\n                                        row4.Append($\"{ point.DataName},,\");\n\n                                    }\n                                    //StreamWriter sw = new StreamWriter(\"filePath\", true);\n                                    using (StreamWriter sw = new StreamWriter(filePath1))\n                                    {\n                                        sw.Write(row1.ToString());\n                                        sw.WriteLine();\n                                        sw.Write(row2.ToString());\n                                        sw.WriteLine();\n                                        sw.Write(row3.ToString());\n                                        sw.WriteLine();\n                                        sw.Write(row4.ToString());\n                                        sw.WriteLine();\n\n                                        sw.Close();\n                                    }\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "game-physics"], "comments": [{"owner": {"reputation": 9866, "user_id": 1895303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9469127561b0c8cf196d81059e799119?s=128&d=identicon&r=PG", "display_name": "Lestat", "link": "https://stackoverflow.com/users/1895303/lestat"}, "edited": false, "score": 0, "creation_date": 1565831644, "post_id": 57502697, "comment_id": 101476200, "body": "yeah definitely you dont need rigidbody for a infinite runner."}, {"owner": {"reputation": 53, "user_id": 11596072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c42cbfb780d310631209d0fa7e7f939?s=128&d=identicon&r=PG&f=1", "display_name": "games247", "link": "https://stackoverflow.com/users/11596072/games247"}, "reply_to_user": {"reputation": 9866, "user_id": 1895303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9469127561b0c8cf196d81059e799119?s=128&d=identicon&r=PG", "display_name": "Lestat", "link": "https://stackoverflow.com/users/1895303/lestat"}, "edited": false, "score": 0, "creation_date": 1565893642, "post_id": 57502697, "comment_id": 101496877, "body": "If I want to make a car drift and hit ramps will I need a rigidbody?"}, {"owner": {"reputation": 9866, "user_id": 1895303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9469127561b0c8cf196d81059e799119?s=128&d=identicon&r=PG", "display_name": "Lestat", "link": "https://stackoverflow.com/users/1895303/lestat"}, "edited": false, "score": 0, "creation_date": 1565895826, "post_id": 57502697, "comment_id": 101497785, "body": "you never really &quot;need&quot; it. Can make it work both ways."}, {"owner": {"reputation": 53, "user_id": 11596072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c42cbfb780d310631209d0fa7e7f939?s=128&d=identicon&r=PG&f=1", "display_name": "games247", "link": "https://stackoverflow.com/users/11596072/games247"}, "reply_to_user": {"reputation": 9866, "user_id": 1895303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9469127561b0c8cf196d81059e799119?s=128&d=identicon&r=PG", "display_name": "Lestat", "link": "https://stackoverflow.com/users/1895303/lestat"}, "edited": false, "score": 0, "creation_date": 1565896095, "post_id": 57502697, "comment_id": 101497893, "body": "I think I want to make the body of the car a rigidbody and the wheels gameobjects, then I need the body of the car to float in space instead of being supported by the wheels. I haven&#39;t found a way to achieve this. This way the car will move using physics but the wheels won&#39;t hit the edge of the ground when it spawns."}, {"owner": {"reputation": 53, "user_id": 11596072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c42cbfb780d310631209d0fa7e7f939?s=128&d=identicon&r=PG&f=1", "display_name": "games247", "link": "https://stackoverflow.com/users/11596072/games247"}, "reply_to_user": {"reputation": 9866, "user_id": 1895303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9469127561b0c8cf196d81059e799119?s=128&d=identicon&r=PG", "display_name": "Lestat", "link": "https://stackoverflow.com/users/1895303/lestat"}, "edited": false, "score": 0, "creation_date": 1565906592, "post_id": 57502697, "comment_id": 101501351, "body": "Adding a rigid body to the car but using game object movement to move it seems to solve the colliding with the ground problem. How do I make the car have awesome wipe out physics?"}], "owner": {"reputation": 53, "user_id": 11596072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c42cbfb780d310631209d0fa7e7f939?s=128&d=identicon&r=PG&f=1", "display_name": "games247", "link": "https://stackoverflow.com/users/11596072/games247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565820731, "creation_date": 1565820731, "question_id": 57502697, "link": "https://stackoverflow.com/questions/57502697/infinite-runner-has-bumps-how-do-i-smooth-it", "title": "Infinite runner has bumps. How do I smooth it?", "body": "<p>I have a script that spawns my ground prefabs infinitely. The only problem is that occasionally there is a \"bump\" for the player to hit at the boundary of a new ground prefab.</p>\n\n<p>It seems like one prefab is slightly higher than the previous one and when the player hits that small bump they go flying. How do I fix this?</p>\n\n<p>I might just make the player a game object instead of a rigidbody and animate it instead of using actual physics.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class GroundManager : MonoBehaviour\n{\n    //oH is object height\n\n    public GameObject[] ground;\n    public GameObject[] obstacles;\n    private Transform playerTransform;\n    private float spawnZ = 0.0f;\n    private float spawnO = 0.0f;\n    public float oH;\n    private float tileLength = 40.0f;\n    private float oLength = 36.0f;\n    private int tilesOnScreen = 8;\n\n\n    void Start()\n    {\n        playerTransform = GameObject.FindGameObjectWithTag(\"Player\").transform;\n\n\n\n        for (int i = 0; i &lt; tilesOnScreen; i++)\n        {\n            SpawnTile();\n            SpawnObstacle();\n        }\n\n\n\n\n    }\n\n    // Player must be tagged \"Player\"\n    void Update()\n    {\n        if (playerTransform.position.z &gt; (spawnZ - tilesOnScreen * tileLength))\n        {\n            SpawnTile();\n            SpawnObstacle();\n        }\n\n    }\n\n    private void SpawnTile(int prefabIndex = -1)\n    {\n        GameObject go;\n        go = Instantiate(ground[0]) as GameObject;\n        go.transform.SetParent(transform);\n        go.transform.position = Vector3.forward * spawnZ;\n        spawnZ += tileLength;\n    }\n\n    private void SpawnObstacle()\n    {\n\n        GameObject go;\n        go = Instantiate(obstacles[Random.Range(0, obstacles.Length)]) as GameObject;\n        go.transform.SetParent(transform);\n        go.transform.position = new Vector3(0, oH, 1 * spawnO);\n        spawnO += oLength;\n    }\n\n\n}\n</code></pre>\n\n<p>This code works to infinitely spawn the ground objects but has the bumps that I described. Just one bump is enough to screw up the whole game.</p>\n"}, {"tags": ["c#", "entity-framework", "linq-to-sql"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1565820719, "post_id": 57502653, "comment_id": 101474304, "body": "I&#39;d suggest bringing back too many rows and then checking them locally might be your best option. Otherwise, writing the code to generate the perfect LINQ may end up being tricky."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1565820723, "post_id": 57502653, "comment_id": 101474306, "body": "That code you wrote won&#39;t contain any items. Do you mean <code>searchterm.Contains()</code> instead?"}, {"owner": {"reputation": 70931, "user_id": 114916, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/566bb1dcfcfe99bc2d3babc14a0417b5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/114916/alex"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1565821047, "post_id": 57502653, "comment_id": 101474384, "body": "@RufusL that was pseudocode since it isn&#39;t material to the question."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1565821209, "post_id": 57502653, "comment_id": 101474431, "body": "Sorry, I meant the pseudocode you wrote won&#39;t contain any items... :)"}, {"owner": {"reputation": 1522, "user_id": 2122217, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/49a4ac24bbb6d7f0ecaa68cfa110cb1c?s=128&d=identicon&r=PG", "display_name": "Gabriel Llorico", "link": "https://stackoverflow.com/users/2122217/gabriel-llorico"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1565830211, "post_id": 57502653, "comment_id": 101475959, "body": "@RufusL, added an answer works on the examples you have given"}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1565822176, "creation_date": 1565822176, "answer_id": 57502897, "question_id": 57502653, "link": "https://stackoverflow.com/questions/57502653/ef-linq-search-across-multiple-fields-using-multiple-values-but-they-all-must-oc/57502897#57502897", "title": "EF LINQ Search across Multiple Fields using Multiple Values but they all must occur at least once", "body": "<p>I don't know how efficient it is, but it seems to me you just need to add a condition for each column that checks to see if <strong><em>any</em></strong> rows contain the search term before using it as a filter.</p>\n\n<p>One way to do that is to get all rows where none of them contain the search term or just those that do contain the search term. I'm really not sure how EF-friendly this would be, but it should return the results you're looking for:</p>\n\n<pre><code>var results = table\n    .Where(row =&gt; !table.Any(r =&gt; searchTerm.Contains(r.Color)) || \n                  searchTerm.Contains(row.Color))\n    .Where(row =&gt; !table.Any(r =&gt; searchTerm.Contains(r.Animal)) || \n                  searchTerm.Contains(row.Animal))\n    .Where(row =&gt; !table.Any(r =&gt; searchTerm.Contains(r.CarBrand)) || \n                  searchTerm.Contains(row.CarBrand));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1565824484, "creation_date": 1565824484, "answer_id": 57503141, "question_id": 57502653, "link": "https://stackoverflow.com/questions/57502653/ef-linq-search-across-multiple-fields-using-multiple-values-but-they-all-must-oc/57503141#57503141", "title": "EF LINQ Search across Multiple Fields using Multiple Values but they all must occur at least once", "body": "<p>How about if you built the LINQ to count the matched <code>searchTerm</code>s?</p>\n\n<pre><code>foreach (string searchterm in searchterms)\n    f = f + ((color.Contains(searchterm) || animal.Contains(searchterm) || car.Contains(searchterm)) ? 1 : 0)\n\nq = f == searchterms.Count\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1522, "user_id": 2122217, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/49a4ac24bbb6d7f0ecaa68cfa110cb1c?s=128&d=identicon&r=PG", "display_name": "Gabriel Llorico", "link": "https://stackoverflow.com/users/2122217/gabriel-llorico"}, "is_accepted": false, "score": 0, "last_activity_date": 1565830172, "last_edit_date": 1565830172, "creation_date": 1565829793, "answer_id": 57503629, "question_id": 57502653, "link": "https://stackoverflow.com/questions/57502653/ef-linq-search-across-multiple-fields-using-multiple-values-but-they-all-must-oc/57503629#57503629", "title": "EF LINQ Search across Multiple Fields using Multiple Values but they all must occur at least once", "body": "<p>though this is a bit dirty and not that dynamic, this will work on the conditions/table structure you have shown.</p>\n\n<p><em>spaces on searches, 3 column look up, should match all conditions</em></p>\n\n<pre><code>var searchTerm = //user input;\n\nvar countSearch = searchTerm.Split().Count(); //splits the search and count how many\n\nvar query = tables.AsQueryable();\n\nif (countSearch == 1) // searchTerm will check any rows\n{\n    query = query.Where(a =&gt; \n                             searchTerm.Contains(a.Color) || \n                             searchTerm.Contains(a.Animal) || \n                             searchTerm.Contains(a.CarBrand));\n            }\nelse if (countSearch == 2) //searchTerm will check at least two combinations on rows\n{\n    query  = query.Where(a =&gt; (searchTerm.Contains(a.Color) &amp;&amp; searchTerm.Contains(a.Animal)) \n                           || (searchTerm.Contains(a.Color) &amp;&amp; searchTerm.Contains(a.CarBrand)) \n                           || (searchTerm.Contains(a.Animal) &amp;&amp; searchTerm.Contains(a.CarBrand)));\n}\nelse if (countSearch == 3) //searchTern will check all rows\n{\n    query = query.Where(a =&gt; \n                             searchTerm.Contains(a.Color) &amp;&amp; \n                             searchTerm.Contains(a.Animal) &amp;&amp; \n                             searchTerm.Contains(a.CarBrand));\n}\n\nvar results = query.ToList();\n\n</code></pre>\n"}], "owner": {"reputation": 70931, "user_id": 114916, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/566bb1dcfcfe99bc2d3babc14a0417b5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/114916/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1565830172, "creation_date": 1565820328, "question_id": 57502653, "link": "https://stackoverflow.com/questions/57502653/ef-linq-search-across-multiple-fields-using-multiple-values-but-they-all-must-oc", "title": "EF LINQ Search across Multiple Fields using Multiple Values but they all must occur at least once", "body": "<p>I want to build a search which allows for multiple individual search keywords that I want to match across multiple fields (each via <em>Contains</em>, or <em>LIKE</em>). I also want to guarantee that each record returned contains <strong>all</strong> of the search keywords, and not just some of them.</p>\n\n<p>Example Table:</p>\n\n<pre><code># | Color  | Animal   | Car Brand\n1 | Orange | Gorilla  | Citroen\n2 | Blue   | Cat      | Skoda\n3 | Red    | Antilope | Ford\n4 | Orange | Cat      | BMW\n5 | Grey   | Antilope | BMW\n6 | Purple | Gorilla  | Lada\n</code></pre>\n\n<p>Example Searches:</p>\n\n<pre><code>\"Orange Gorilla\" returns record 1.\n\"Orange BMW\" returns record 4.\n\"Orange\" returns records 1 and 4.\n\"Cat\" returns records 2 and 4.\n\"Ford Antilope\" returns record 3.\n</code></pre>\n\n<p>If I just perform a regular Contains-OR lookup, like this:</p>\n\n<pre><code>foreach (string searchterm in searchterms)\n   color.Contains(searchterm) || animal.Contains(searchterm) || car.Contains(searchterm)\n</code></pre>\n\n<p>then <code>Orange Gorilla</code> will return records 1, 4 and 6 instead of only record 1 because record 4 also contains \"Orange\" (but not Gorilla) and record 6 also contains \"Gorilla\" (but not Orange).</p>\n\n<p>Thoughts on the most efficient implementation, that is EF/LINQ-to-SQL compatible?</p>\n"}, {"tags": ["c#", "winforms", "async-await"], "comments": [{"owner": {"reputation": 15450, "user_id": 11178549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N3P6o.png?s=128&g=1", "display_name": "Theodor Zoulias", "link": "https://stackoverflow.com/users/11178549/theodor-zoulias"}, "edited": false, "score": 1, "creation_date": 1565960237, "post_id": 57502523, "comment_id": 101516523, "body": "There is too much code in this question. I am sure you could reduce the code to the minimum required to reproduce the problem. Less code = more chances to get a helpful answer."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 1, "creation_date": 1565904738, "post_id": 57502791, "comment_id": 101500845, "body": "Hi Peter,Thank you for your response. We are are trying to implement your suggestion. Meanwhile, can you please let me know what&#39;s missing in order to make my code snippets above MCVE? There are no others classes/forms in the solution (other than Form1 which is an empty form for the purpose of the example."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 0, "creation_date": 1565919758, "post_id": 57502791, "comment_id": 101503773, "body": "Your code example is missing most of the <code>frmSplash</code> code. I can infer the <code>RichTextBox</code>, but you don&#39;t know initialization nor the declaration of the <code>Instance</code> property. I could infer those too, but the more inferences I have to make, the greater the chance there&#39;s something weird in your code that I wind up not taking into account. It&#39;s better if you just put <i>all</i> of the code in your post, and make sure it&#39;s <i>minimal</i>. It&#39;s even best if you can leave out the Designer-generated code and just instantiate any controls directly in the constructor (like the <code>RichTextBox</code>)."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 0, "creation_date": 1565928311, "post_id": 57502791, "comment_id": 101505144, "body": "I had a few spare moments, so I went ahead and made the assumptions I needed to make to put together a complete sample. Please see edit above. Hopefully, my assumptions don&#39;t differ from your actual implementation too much. For what it&#39;s worth, if they do, I&#39;ll encourage you to change your code to be modeled after mine. :)"}, {"owner": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 0, "creation_date": 1565979597, "post_id": 57502791, "comment_id": 101524892, "body": "Hi Peter and thank you so much for the code sample. We did try switching over to application.Run - as you suggested - but the problem is that Form1 won&#39;t start until the SplashScreen is closed. In our scenario we must keep both open. Also, we use two different entry point for historical reasons (the application was migrated from VB6...) and trying to merge the two in the real code might be too much work. So if we can make the threading work properly in the current structure, it would be best :). Thank you, Ken"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 0, "creation_date": 1565980482, "post_id": 57502791, "comment_id": 101525165, "body": "<i>&quot;the problem is that Form1 won&#39;t start until the SplashScreen is closed&quot;</i> -- that is a simple thing to address, but it is (frankly) exactly the kind of missing detail in your question&#39;s code that makes it impossible to provide a code example that <i>exactly</i> meets your needs. Indeed, the code example you posted would not show the <code>Form1</code> until the splash screen is over either. So your statement that you want both forms open at once is a <i>new requirement</i>."}, {"owner": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 0, "creation_date": 1565993406, "post_id": 57502791, "comment_id": 101529191, "body": "Sorry about it. I added explanation of how the two projects/forms interacts"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 1, "creation_date": 1565994686, "post_id": 57502791, "comment_id": 101529444, "body": "@KenSaraf: I&#39;m sure you mean well, but the shifting requirements make your line of question into what I view as a <a href=\"https://meta.stackexchange.com/questions/43478/exit-strategies-for-chameleon-questions\">Chameleon Question</a>. I have answered the basic question you originally posed. ..."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "edited": false, "score": 1, "creation_date": 1565994693, "post_id": 57502791, "comment_id": 101529447, "body": "... My answer provides sufficient detail for you to see how to apply the same approach in a different scenario, such as where you want multiple forms active at once (you can still use the <code>Shown</code> event to trigger initialization). If after making some effort to apply that information you still need help, posting a new question would be in order. Be sure that question includes a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": false, "score": 2, "last_activity_date": 1565928232, "last_edit_date": 1565928232, "creation_date": 1565821403, "answer_id": 57502791, "question_id": 57502523, "link": "https://stackoverflow.com/questions/57502523/async-await-in-multiple-winforms-projects/57502791#57502791", "title": "Async-await in multiple Winforms projects", "body": "<p>Short version: the only thing that ever processes window messages in the code you posted is a call to <code>Application.DoEvents()</code>. But the code likely never gets that far, or if it does, the call happens on the wrong thread.</p>\n\n<p>Longer version:</p>\n\n<p>You didn't include an actual <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I didn't bother to test, but the <code>Progress</code> class relies on a synchronization context to work. Since you haven't called <code>Application.Run()</code>, there's may be no sync context at all. In which case <code>Progress</code> is just going to use the thread pool to invoke whatever handlers subscribed to it.</p>\n\n<p>That would mean that when you call <code>Application.DoEvents()</code>, you're in a thread pool thread, not the thread that owns your splash window.</p>\n\n<p>Windows are owned by threads, and their messages go to that thread's message queue. The <code>Application.DoEvents()</code> method will retrieve messages for the <em>current</em> thread's message queue, but does nothing to process messages for other threads' queues.</p>\n\n<p>In the worst case, there <em>is</em> a sync context for that thread (I can't recall&hellip;it's possible that since the thread is STA, the framework has created one for you), but since you have no message loop, nothing queued to it ever gets dispatched. The progress reports just keep piling up and never processed.</p>\n\n<p>You should abandon <code>Application.DoEvents()</code> altogether. Calling <code>DoEvents()</code> is <em>always</em> a kludge, and there's <em>always</em> a better option.</p>\n\n<p>In this case, use <code>Application.Run()</code> for the first form as well (the splash screen). Create that form and subscribe to its <code>FormShown</code> event so that you know when to call <code>loadObjects()</code>. At the end of that method, close the form, so <code>Application.Run()</code> will return and go on to the next <code>Application.Run()</code> call.</p>\n\n<p>Here is a sample based on the code you did post, with me filling in the details (for both forms, just use the Designer to create a default <code>Form</code> object&hellip;the rest of the initialization is in the user code below).</p>\n\n<p>For the splash screen class, I inferred most of it, and took the rest straight from your code. The only change I made to your code was to remove the call to <code>Application.DoEvents()</code>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>partial class SplashScreen : Form\n{\n    public static SplashScreen Instance { get; } = new SplashScreen();\n\n    private readonly RichTextBox richTextBox1 = new RichTextBox();\n\n    public SplashScreen()\n    {\n        InitializeComponent();\n\n        // \n        // richTextBox1\n        // \n        richTextBox1.Anchor = AnchorStyles.Top | AnchorStyles.Bottom | AnchorStyles.Left | AnchorStyles.Right;\n        richTextBox1.Location = new Point(13, 13);\n        richTextBox1.Name = \"richTextBox1\";\n        richTextBox1.Size = new Size(775, 425);\n        richTextBox1.TabIndex = 0;\n        richTextBox1.Text = \"\";\n        Controls.Add(richTextBox1);\n    }\n\n    public void PrintToSplashWindow(PrintToSplashMessage theMessage)\n    {\n        print_to_window(theMessage.Message, theMessage.MessageColor, theMessage.OnNewLine);\n    }\n\n    public void print_to_window(string strShortMsg, Color lngColor, bool blnOnNewLine)\n    {\n        string strNewLine = String.Empty;\n        if (blnOnNewLine)\n        {\n            if (richTextBox1.Text.Length &gt; 0)\n            {\n                strNewLine = Environment.NewLine;\n            }\n            else\n            {\n                strNewLine = \"\";\n            }\n        }\n        else\n        {\n            strNewLine = \"\";\n        }\n        richTextBox1.SelectionStart = richTextBox1.Text.Length;\n        richTextBox1.SelectionColor = lngColor;\n        richTextBox1.SelectedText = strNewLine + strShortMsg;\n        richTextBox1.SelectionStart = richTextBox1.Text.Length;\n        richTextBox1.ScrollToCaret();\n    }\n}\n</code></pre>\n\n<p>It's not clear to me why you have two different classes, both of which seem to be set up as the entry point for the program. I consolidated those into a single class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>static class Program\n{\n    /// &lt;summary&gt;\n    /// The main entry point for the application.\n    /// &lt;/summary&gt;\n    [STAThread]\n    static void Main()\n    {\n        Application.EnableVisualStyles();\n        Application.SetCompatibleTextRenderingDefault(false);\n        loadObjects();\n        Application.Run(new Form1());\n    }\n\n    public static void loadObjects()\n    {\n        SplashScreen.Instance.Shown += async (sender, e) =&gt;\n        {\n            Progress&lt;PrintToSplashMessage&gt; messageToWindow = new Progress&lt;PrintToSplashMessage&gt;();\n            messageToWindow.ProgressChanged += reportProgress;\n\n            SplashScreen.Instance.print_to_window(\"Starting Services\", Color.Black, true);\n\n            Task&lt;bool&gt; load1Task = load1(messageToWindow);\n            Task&lt;bool&gt; load2Task = load2(messageToWindow);\n            await Task.WhenAll(load1Task, load2Task);\n            SplashScreen.Instance.Close();\n        };\n\n        SplashScreen.Instance.ShowDialog();\n    }\n\n    private static async Task&lt;bool&gt; load2(IProgress&lt;PrintToSplashMessage&gt; progress)\n    {\n        return await Task.Run(() =&gt;\n        {\n            PrintToSplashMessage theMessage = new PrintToSplashMessage(\"Load2, please wait...\", Color.Black, true, false);\n            progress.Report(theMessage);\n            for (int i = 0; i &lt; 10; ++i)\n            {\n                Thread.Sleep(TimeSpan.FromSeconds(1)); // CPU-bound work\n                theMessage.Message = $\"Load2, i = {i}\";\n                progress.Report(theMessage);\n            }\n            return true;\n        });\n    }\n\n    private static async Task&lt;bool&gt; load1(IProgress&lt;PrintToSplashMessage&gt; progress)\n    {\n        return await Task.Run(() =&gt;\n        {\n            PrintToSplashMessage theMessage = new PrintToSplashMessage(\"Load1, please wait...\", Color.Black, true, false);\n            progress.Report(theMessage);\n            for (int i = 0; i &lt; 10; ++i)\n            {\n                Thread.Sleep(TimeSpan.FromSeconds(1)); // CPU-bound work\n                theMessage.Message = $\"Load1, i = {i}\";\n                progress.Report(theMessage);\n            }\n            return true;\n        });\n    }\n\n    private static void reportProgress(object sender, PrintToSplashMessage e)\n    {\n        SplashScreen.Instance.PrintToSplashWindow(e);\n    }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11929385, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157520350842803/picture?type=large", "display_name": "Ken Saraf", "link": "https://stackoverflow.com/users/11929385/ken-saraf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565993343, "creation_date": 1565819506, "last_edit_date": 1565993343, "question_id": 57502523, "link": "https://stackoverflow.com/questions/57502523/async-await-in-multiple-winforms-projects", "title": "Async-await in multiple Winforms projects", "body": "<p>We're trying to get status updates in the UI while the threads are running in the background. The following code is supposed to allow it but in practice we get the updates only once all threads are done and not while they are running. We also don't see significant performance improvement compared to running the task in serial so we might be doing something wrong here </p>\n\n<p>The solution includes two projects with winForm with the first calling the second. WinClient namespace is used for the Winform client. It calls Services.modMain:</p>\n\n<pre><code>namespace WinClient\n{\n    static class Program\n    {\n\n        [STAThread]\n        static void Main()\n        {\n            //call another winform project and wait for it to complete\n            Services.modMain.loadObjects().Wait();\n            //run local form\n            Application.Run(new Form1());\n        }\n    }\n}\n</code></pre>\n\n<p>Service.modMain is where the application is continuously getting data and updating it in memory. When it does, it writes status messages to a splash form which remains open all the time. Once Service.modMain finishes the initial data load, Form1 (empty form in this exampl) should open while splashForm remains open as well</p>\n\n<pre><code>namespace Services\n{\n    public static class modMain\n    {\n        /// &lt;summary&gt;\n        /// The main entry point for the application.\n        /// &lt;/summary&gt;\n        [STAThread]\n        public static void Main()\n        {\n\n        }\n\n        public static async Task loadObjects()\n        {\n            frmSplash.DefInstance.LoadMe();\n\n            Progress&lt;PrintToSplashMessage&gt; messageToWindow = new Progress&lt;PrintToSplashMessage&gt;();\n            messageToWindow.ProgressChanged += reportProgress;\n\n            frmSplash.DefInstance.print_to_window(\"Starting Services\", Color.Black, true);\n\n            Task&lt;bool&gt; load1Task = load1(messageToWindow);\n            Task&lt;bool&gt; load2Task = load2(messageToWindow);\n            await Task.WhenAll(load1Task, load2Task);\n\n        }\n\n        private static async Task&lt;bool&gt; load2(IProgress&lt;PrintToSplashMessage&gt; progress)\n        {\n            return await Task&lt;bool&gt;.Run(() =&gt;\n            {\n                PrintToSplashMessage theMessage = new PrintToSplashMessage(\"Load2, please wait...\", Color.Black, true, false);\n                progress.Report(theMessage);\n                for (int i = 0; i != 100; ++i)\n                {\n                    Thread.Sleep(100); // CPU-bound work\n                }\n                return true;\n            });\n        }\n\n        private static async Task&lt;bool&gt; load1(IProgress&lt;PrintToSplashMessage&gt; progress)\n        {\n            return await Task&lt;bool&gt;.Run(() =&gt;\n            {\n                PrintToSplashMessage theMessage = new PrintToSplashMessage(\"Load1, please wait...\", Color.Black, true, false);\n                progress.Report(theMessage);\n                for (int i = 0; i != 100; ++i)\n                {\n                    Thread.Sleep(100); // CPU-bound work\n                }\n                return true;\n            });\n        }\n\n        private static void reportProgress(object sender, PrintToSplashMessage e)\n        {\n            frmSplash.DefInstance.PrintToSplashWindow(e);\n        }\n    }\n}\n</code></pre>\n\n<p>PrintToSplashWindow is just a utility class to store progress data:</p>\n\n<pre><code>namespace Services\n{\n    public class PrintToSplashMessage\n    {\n        public string Message { get; set; }\n        public Color MessageColor { get; set; }\n        public bool OnNewLine { get; set; }\n        public bool PrintToLog { get; set; }\n\n        public PrintToSplashMessage(String theMessage, Color theMessageColor, bool isOnNewLine, bool needPrintToLog)\n        {\n            Message = theMessage;\n            MessageColor = theMessageColor;\n            OnNewLine = isOnNewLine;\n            PrintToLog = needPrintToLog;\n        }\n    }\n}\n</code></pre>\n\n<p>Finally, here's frmSplash:</p>\n\n<pre><code>namespace Services\n{\n    public partial class frmSplash : Form\n    {\n\n        public frmSplash() :base()\n        {\n            InitializeComponent();\n        }\n\n\n\n        public void PrintToSplashWindow(PrintToSplashMessage theMessage)\n        {\n            print_to_window(theMessage.Message, theMessage.MessageColor, theMessage.OnNewLine);\n        }\n\n        public void print_to_window(string strShortMsg, Color lngColor, bool blnOnNewLine)\n        {\n            string strNewLine = String.Empty;\n            if (blnOnNewLine)\n            {\n                if ( rtbErrorDisplay.Text.Length &gt; 0)\n                {\n                    strNewLine = Environment.NewLine;\n                }\n                else\n                {\n                    strNewLine = \"\";\n                }\n            }\n            else\n            {\n                strNewLine = \"\";\n            }\n            rtbErrorDisplay.SelectionStart = rtbErrorDisplay.Text.Length;\n            rtbErrorDisplay.SelectionColor = lngColor;\n            rtbErrorDisplay.SelectedText = strNewLine + strShortMsg;\n            rtbErrorDisplay.SelectionStart = rtbErrorDisplay.Text.Length;\n            rtbErrorDisplay.ScrollToCaret();\n\n            Application.DoEvents();\n        }\n    }\n}\n</code></pre>\n\n<p>What we expect is that frmSplash would show the progress messages as the tasks are runing in the background. In practice, it only show all at bulk when everything is done.</p>\n"}, {"tags": ["c#", "azure-functions", "webhooks", "dynamics-365"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4462388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701d340f5d7a192a29bb7c2fa8ceb9c4?s=128&d=identicon&r=PG&f=1", "display_name": "alozada", "link": "https://stackoverflow.com/users/4462388/alozada"}, "edited": false, "score": 0, "creation_date": 1565887414, "post_id": 57505316, "comment_id": 101494392, "body": "The function&#39;s runtime is 2. We already have a function.proj as it was described in the posting. We are referring to the right version (2.22.0) which works in other environments. By the way, version 2.28.3 is for the Windows phone."}], "tags": [], "owner": {"reputation": 15383, "user_id": 8557999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e949becd6429559b4ae1e7d124475788?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Cai", "link": "https://stackoverflow.com/users/8557999/joey-cai"}, "is_accepted": false, "score": 0, "last_activity_date": 1565847985, "creation_date": 1565847985, "answer_id": 57505316, "question_id": 57502473, "link": "https://stackoverflow.com/questions/57502473/azure-function-uses-incorrect-dll-version/57505316#57505316", "title": "Azure function uses incorrect DLL version", "body": "<p>The package <a href=\"https://www.nuget.org/packages/Microsoft.CrmSdk.XrmTooling.CoreAssembly/9.0.2.25\" rel=\"nofollow noreferrer\">Microsoft.Xrm.Tooling.Connector</a> is depend on <code>.net framework 4.6.2</code>, while your azure function TargetFramework is <code>netstandard 2.0</code>. So make sure your function's runtime version.</p>\n\n<p>Then upgrade <code>Microsoft.IndentityModel.Client.ActiveDirectory</code> to <strong>2.28.3 version</strong>.</p>\n\n<p>If your function runtime is ~1, create <code>project.json</code> with following content.</p>\n\n<pre><code>{\n  \"frameworks\": {\n    \"net46\":{\n      \"dependencies\": {\n        \"Microsoft.IdentityModel.Clients.ActiveDirectory\": \"2.28.3\"\n      }\n    }\n} \n</code></pre>\n\n<p>If your function runtime is ~2, create function.proj as below.</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n    &lt;PropertyGroup&gt;\n        &lt;TargetFramework&gt;netstandard2.0&lt;/TargetFramework&gt;\n    &lt;/PropertyGroup&gt;\n    &lt;ItemGroup&gt;\n        &lt;PackageReference Include=\"Microsoft.IndentityModel.Client.ActiveDirectory\" Version=\"2.28.3\"/&gt;\n    &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 4462388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701d340f5d7a192a29bb7c2fa8ceb9c4?s=128&d=identicon&r=PG&f=1", "display_name": "alozada", "link": "https://stackoverflow.com/users/4462388/alozada"}, "is_accepted": true, "score": 0, "last_activity_date": 1568322166, "creation_date": 1568322166, "answer_id": 57914458, "question_id": 57502473, "link": "https://stackoverflow.com/questions/57502473/azure-function-uses-incorrect-dll-version/57914458#57914458", "title": "Azure function uses incorrect DLL version", "body": "<p>Just downgrading the runtime to version 1 did the trick.</p>\n"}], "owner": {"reputation": 23, "user_id": 4462388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701d340f5d7a192a29bb7c2fa8ceb9c4?s=128&d=identicon&r=PG&f=1", "display_name": "alozada", "link": "https://stackoverflow.com/users/4462388/alozada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 57914458, "answer_count": 2, "score": 2, "last_activity_date": 1568322166, "creation_date": 1565819209, "question_id": 57502473, "link": "https://stackoverflow.com/questions/57502473/azure-function-uses-incorrect-dll-version", "title": "Azure function uses incorrect DLL version", "body": "<p>I have created an Azure function that is called via webhook from Dynamics 365. A simple scenario to read the remote context object does work; however, a more complex scenario throws an error. Tried to get an instance of the Dynamics service object using CrmServiceClient (Microsoft.Xrm.Tooling.Connector) but it throws an error when this line runs <code>CrmServiceClient client = new CrmServiceClient(crmConnectionString)</code>: </p>\n\n<p><em>\"Could not load type 'Microsoft.IdentityModel.Clients.ActiveDirectory.PromptBehavior' from assembly 'Microsoft.IdentityModel.Clients.ActiveDirectory, Version=3.14.2.11, Culture=neutral, PublicKeyToken=31bf3856ad364e35'\"</em></p>\n\n<p>I have checked the DLLs in the bin directory in Azure and the version for Microsoft.IdentityModel.Clients.ActiveDirectory is 2.22. </p>\n\n<p>Also, I checked the xxx.deps.json file in Azure and it shows the same version:</p>\n\n<pre><code>\"Microsoft.IdentityModel.Clients.ActiveDirectory/2.22.0.0\": {\n        \"runtime\": {\n          \"Microsoft.IdentityModel.Clients.ActiveDirectory.dll\": {\n            \"assemblyVersion\": \"2.22.0.0\",\n            \"fileVersion\": \"2.22.30211.1727\"\n          }\n        }\n</code></pre>\n\n<p>I have searched for version 3.14.2.11 for the mentioned DLL but cannot find it. So I wonder why is Azure loading that version?</p>\n\n<p>Following the advice of some other postings, I have added a file -function.proj- under my function's folder with the idea to downgrade the version of that DLL that Azure loads, here's the content:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n&lt;PropertyGroup&gt;\n&lt;TargetFramework&gt;netstandard2.0&lt;/TargetFramework&gt;\n&lt;/PropertyGroup&gt;\n&lt;ItemGroup&gt;\n&lt;PackageReference Include=\"Microsoft.IdentityModel.Clients.ActiveDirectory\" Version=\"2.22.0\" /&gt;\n&lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>Unfortunately, it hasn't changed the outcome. Has anyone run into the same issue?</p>\n"}, {"tags": ["c#", "linux", "amazon-web-services", "amazon-elastic-beanstalk"], "comments": [{"owner": {"reputation": 2091, "user_id": 8407784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd1jX.jpg?s=128&g=1", "display_name": "Roberto Gon&#231;alves", "link": "https://stackoverflow.com/users/8407784/roberto-gon%c3%a7alves"}, "edited": false, "score": 0, "creation_date": 1565819883, "post_id": 57502446, "comment_id": 101474091, "body": "Hi Ted, have you tried <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html\" rel=\"nofollow noreferrer\">AWS EB CLI</a>? You can do everything with it, as you do in the AWS Console."}, {"owner": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "reply_to_user": {"reputation": 2091, "user_id": 8407784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd1jX.jpg?s=128&g=1", "display_name": "Roberto Gon&#231;alves", "link": "https://stackoverflow.com/users/8407784/roberto-gon%c3%a7alves"}, "edited": false, "score": 0, "creation_date": 1565820566, "post_id": 57502446, "comment_id": 101474270, "body": "Thx... I havent tried it, and reading up on it, it seems a bit crazy to use that. Those commands are many and very long. To figure those out is... I mean, look at this beauty :-) <code>~$ aws elasticbeanstalk create-environment --cname-prefix my-cname --application-name my-app --version-label v1 --environment-name my-env --solution-stack-name &quot;64bit Amazon Linux 2015.03 v2.0.0 running Ruby 2.2 (Passenger Standalone)&quot;</code>"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1565822149, "post_id": 57502446, "comment_id": 101474615, "body": "It&#39;s just a series of options...I would imagine the documentation explains what each one is used for. Most of the text in your example is just an arbitrary description for the environment. If you want to shorten the command then just set <code>--solution-stack-name=&quot;x&quot;</code> instead.... :-)"}, {"owner": {"reputation": 2091, "user_id": 8407784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd1jX.jpg?s=128&g=1", "display_name": "Roberto Gon&#231;alves", "link": "https://stackoverflow.com/users/8407784/roberto-gon%c3%a7alves"}, "edited": false, "score": 1, "creation_date": 1565822226, "post_id": 57502446, "comment_id": 101474633, "body": "Well, I would suggest that you create your environment via AWS Console and use only AWS EB CLI to <b>deploy</b> your application. Can I put the suggestion as the answer for your question?"}, {"owner": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "edited": false, "score": 0, "creation_date": 1565822489, "post_id": 57502446, "comment_id": 101474684, "body": "So, AWS Toolkit doesnt have presets, meaning you need to manually create an environment, and then, afterwards, tell BeanStalk to use that specific environment? You get an unique name for the image, I assume, an AMI? I noted that the AWS Toolkit allowed you to specify an AMI (id nbr I assume)."}, {"owner": {"reputation": 2091, "user_id": 8407784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd1jX.jpg?s=128&g=1", "display_name": "Roberto Gon&#231;alves", "link": "https://stackoverflow.com/users/8407784/roberto-gon%c3%a7alves"}, "edited": false, "score": 0, "creation_date": 1565822832, "post_id": 57502446, "comment_id": 101474751, "body": "Yes, I didn&#39;t have searched deeper on AWS CLI to look for automatic setup of environments, but I think it&#39;s possible. And yes, you get an AMI and then you can specify which one is it."}, {"owner": {"reputation": 2091, "user_id": 8407784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd1jX.jpg?s=128&g=1", "display_name": "Roberto Gon&#231;alves", "link": "https://stackoverflow.com/users/8407784/roberto-gon%c3%a7alves"}, "edited": false, "score": 1, "creation_date": 1565822879, "post_id": 57502446, "comment_id": 101474760, "body": "On my configurations I always use the simplest one: have everything configured and then go to the project folder and use <i>eb deploy</i>"}], "answers": [{"tags": [], "owner": {"reputation": 2091, "user_id": 8407784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd1jX.jpg?s=128&g=1", "display_name": "Roberto Gon&#231;alves", "link": "https://stackoverflow.com/users/8407784/roberto-gon%c3%a7alves"}, "is_accepted": false, "score": 1, "last_activity_date": 1565822898, "creation_date": 1565822898, "answer_id": 57502982, "question_id": 57502446, "link": "https://stackoverflow.com/questions/57502446/how-to-publish-a-net-c-program-to-aws-beanstalk-in-a-linux-environment/57502982#57502982", "title": "How to publish a .NET (C#) program to AWS BeanStalk in a Linux environment?", "body": "<p>In linux environments you can use AWS CLI applications to every AWS Service. In your case you can use <a href=\"https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html\" rel=\"nofollow noreferrer\">AWS EB CLI</a>.</p>\n\n<p><strong>Tip</strong>: Create your default environment on AWS Console and then use only the <em>eb deploy</em> command to deploy your application. It's less painfull, otherwise you can create everything from terminal.</p>\n"}, {"tags": [], "owner": {"reputation": 2474, "user_id": 1721898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7rd9J.jpg?s=128&g=1", "display_name": "Norm Johanson", "link": "https://stackoverflow.com/users/1721898/norm-johanson"}, "is_accepted": false, "score": 3, "last_activity_date": 1565828897, "creation_date": 1565828897, "answer_id": 57503568, "question_id": 57502446, "link": "https://stackoverflow.com/questions/57502446/how-to-publish-a-net-c-program-to-aws-beanstalk-in-a-linux-environment/57503568#57503568", "title": "How to publish a .NET (C#) program to AWS BeanStalk in a Linux environment?", "body": "<p>Currently there is not a Linux .NET Core offering for the Elastic Beanstalk service. The the easiest way to deploy an ASP.NET Core application to Linux from Visual Studio is as a Docker application to AWS Fargate.</p>\n\n<p>In Visual Studio if you right click on the project and select Add -> Docker Support to have Visual Studio generate a Dockerfile then the Publish Container to AWS option will show up.</p>\n\n<p><a href=\"https://i.stack.imgur.com/E9Vyq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E9Vyq.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 18092, "user_id": 178143, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/9rQ1W.jpg?s=128&g=1", "display_name": "Ted", "link": "https://stackoverflow.com/users/178143/ted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1565828897, "creation_date": 1565819010, "question_id": 57502446, "link": "https://stackoverflow.com/questions/57502446/how-to-publish-a-net-c-program-to-aws-beanstalk-in-a-linux-environment", "title": "How to publish a .NET (C#) program to AWS BeanStalk in a Linux environment?", "body": "<p>WHen I use the AWS Toolkit in Visual Studio, I get the option of \"Container type\", but that list only contains Windows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AFrIR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFrIR.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can this be worked around somehow, so I get the full backing of Beanstalk, but I want it running in a Linu environment (.NET core)?</p>\n\n<p>I have googled and looked around here on SO, but frankly, most of the answers are unclear or not exactly what Im looking for.</p>\n"}, {"tags": ["c#", "xml"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565820067, "post_id": 57502370, "comment_id": 101474142, "body": "Okay, we know what you want. Now, <b>what&#39;s your question</b>? Please fix your post so that it includes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, showing what you&#39;ve tried so far, an explanation of what that does, what you want instead, and what <i>specifically</i> you are having trouble figuring out."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1565832051, "post_id": 57502788, "comment_id": 101476260, "body": "When I tried using this everything returned as null."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1565846938, "post_id": 57502788, "comment_id": 101478614, "body": "Either you are reading a different xml file or there are namespaces in the xml that aren&#39;t shown.  I made a change that may work to add a default namespace."}, {"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1565890381, "post_id": 57502788, "comment_id": 101495592, "body": "I got this working perfectly when trying it on a XML file with just the XML code I shared above but I cannot get it working on the actual file. The actual file is 1.3 MB so I wasn&#39;t able to upload it to pastebin. From the error I get it looks like it might be because not every &lt;block&gt; has the &quot;drop&quot; element.  Error: System.NullReferenceException: &#39;Object reference not set to an instance of an object.&#39;  System.Xml.Linq.XContainer.Element(...) returned null."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1565891323, "post_id": 57502788, "comment_id": 101495952, "body": "For huge xml files you need to use XmlReader.  I update my code to include a XmlReader solution.  If the issue is with the actual xml new code will help isolate the row of data where issue is occurring."}, {"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1565893002, "post_id": 57502788, "comment_id": 101496588, "body": "When using the new XmlReader code I get a error on this line &quot;newBlock.count = (int)xBlock.Element(&quot;drop&quot;).Attribute(&quot;count&quot;);&quot; it is returning null."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1565895434, "post_id": 57502788, "comment_id": 101497625, "body": "On first row(s) or in the middle?  Changing type from int to int? will solve issue if it is in middle of file.  Are any blocks missing the drop element?"}, {"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1565919299, "post_id": 57502788, "comment_id": 101503667, "body": "There are some blocks that are missing the drop element. And I&#39;m not sure what you are asking in your first question."}, {"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566153054, "post_id": 57502788, "comment_id": 101557748, "body": "I&#39;m getting an error &#39;Input string was not in a correct format.&#39; on this line  newBlock.count = (int?)drop.Attribute(&quot;count&quot;);"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566170886, "post_id": 57502788, "comment_id": 101560999, "body": "What is the value of the attribute count when the error occurs."}, {"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566172519, "post_id": 57502788, "comment_id": 101561172, "body": "The value is &quot;3,8&quot;. It looks like in a few places in the XML file there are multiple numbers as the value of count."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566204305, "post_id": 57502788, "comment_id": 101568591, "body": "Change int to decimal 2 places.  In the class and in the while loop."}, {"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566236948, "post_id": 57502788, "comment_id": 101585086, "body": "I&#39;m still getting the same error with the same value of count. This is what the 2 lines I believe you wanted me to change look like:      newBlock.count = (decimal?)drop.Attribute(&quot;count&quot;);     public decimal? count { get; set; } Is that what I was supposed to do?"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566243011, "post_id": 57502788, "comment_id": 101587384, "body": "Exactly.  What is the trace stack exception?"}, {"owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566281534, "post_id": 57502788, "comment_id": 101595994, "body": "I&#39;m not quite sure if this is what your looking for but this is the stack trace of the exception I hope that&#39;s what you are asking for:    at System.Number.StringToNumber(String str, NumberStyles options, NumberBuffer&amp; number, NumberFormatInfo info, Boolean parseDecimal)    at System.Number.ParseDecimal(String value, NumberStyles options, NumberFormatInfo numfmt)    at System.Xml.Linq.XAttribute.op_Explicit(XAttribute attribute)    at ConsoleApplication1.Program.Main(String[] args) in C:\\Users\\joshu\\source\\repos\\XML Test\\XML Test\\Program.cs:line 34"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "reply_to_user": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "edited": false, "score": 0, "creation_date": 1566293168, "post_id": 57502788, "comment_id": 101601601, "body": "I didn&#39;t notice the decimal point was a comma (not a period).   So I updated code to accept a comma as a decimal point."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1566293114, "last_edit_date": 1566293114, "creation_date": 1565821378, "answer_id": 57502788, "question_id": 57502370, "link": "https://stackoverflow.com/questions/57502370/how-to-get-the-value-of-a-child-element-in-xml/57502788#57502788", "title": "How to get the value of a child element in xml", "body": "<p>Using Xml Linq :</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Linq;\nusing System.Globalization;\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            CultureInfo culture = (CultureInfo)CultureInfo.InvariantCulture.Clone();\n            culture.NumberFormat.NumberDecimalSeparator = \",\";\n            culture.NumberFormat.NumberGroupSeparator = \".\";\n\n            XmlReader reader = XmlReader.Create(FILENAME);\n            List&lt;Block&gt; blocks = new List&lt;Block&gt;();\n\n            while (!reader.EOF)\n            {\n                if (reader.Name != \"block\")\n                {\n                    reader.ReadToFollowing(\"block\");\n                }\n                if (!reader.EOF)\n                {\n                    Block newBlock = new Block();\n                    blocks.Add(newBlock);\n\n                    XElement xBlock = (XElement)XElement.ReadFrom(reader);\n                    newBlock.name = (string)xBlock.Attribute(\"name\");\n                    XElement drop = xBlock.Element(\"drop\");\n                    if (drop != null)\n                    {\n                        object count = drop.Attribute(\"count\");\n                        newBlock.count = (count == null)? null : (decimal?)decimal.Parse((string)count, culture);\n                    }\n                }\n            }\n        }\n        public class Block\n        {\n            public string name { get; set; }\n            public decimal? count { get; set; }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11929185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806cd64a96157d90db9eed7716dbb371?s=128&d=identicon&r=PG&f=1", "display_name": "Schneemann84", "link": "https://stackoverflow.com/users/11929185/schneemann84"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1566293114, "creation_date": 1565818461, "last_edit_date": 1565830844, "question_id": 57502370, "link": "https://stackoverflow.com/questions/57502370/how-to-get-the-value-of-a-child-element-in-xml", "title": "How to get the value of a child element in xml", "body": "<p>I am trying to edit a existing XML file through C# and need to identify the sections I want (block name=\"treeDeadTree01\" and block name=\"treeDeadTree02\") Then get the value of \"count\" in the child element \"drop\". I have been able to identify the elements (block name=\"treeDeadTree01\" and block name=\"treeDeadTree02\") but cant figure out how to get the value of \"count\" from the element \"drop\" of the specific elements (block name=\"treeDeadTree01\" and block name=\"treeDeadTree02\")</p>\n\n<p>The XML file is a config file from the game 7 Days To Die and I am trying to make a application to more easily edit the configs of the game. After I find the value of \"count\" I am putting it into a DataGridView.</p>\n\n<p>My question is, how after I find the block element I want do I find the value of \"count\" in the \"drop\" child element of the block element?</p>\n\n<p>This is a section of the XML file I am trying to edit</p>\n\n<pre><code>&lt;blocks&gt;\n&lt;block name=\"treeDeadTree01\"&gt;\n    &lt;property name=\"Extends\" value=\"treeMaster\" /&gt;\n    &lt;property name=\"Model\" value=\"Entities/Trees/White_Oak22Prefab\" /&gt;\n    &lt;property name=\"ModelOffset\" value=\"0,-0.3,0\" /&gt;\n    &lt;property name=\"MultiBlockDim\" value=\"1,4,1\" /&gt;\n    &lt;property name=\"BigDecorationRadius\" value=\"4\" /&gt;\n    &lt;property name=\"Collide\" value=\"movement,melee,bullet,arrow,rocket\" /&gt;\n    &lt;drop event=\"Harvest\" name=\"resourceWood\" count=\"515\" tag=\"oreWoodHarvest\" /&gt;\n    &lt;property name=\"ParticleOnDeath\" value=\"treeGib_dead_01\" /&gt;\n    &lt;!-- &lt;drop event=\"Destroy\" name=\"treePlantedMaple1m\" count=\"x\"/&gt; --&gt;\n    &lt;property name=\"SortOrder2\" value=\"0140\" /&gt;\n    &lt;!-- SortTree --&gt;\n &lt;/block&gt;\n&lt;block name=\"treeDeadTree02\"&gt;\n    &lt;!-- almost a shrub --&gt;\n    &lt;property name=\"Extends\" value=\"treeMaster\" /&gt;\n    &lt;property name=\"IsTerrainDecoration\" value=\"true\" /&gt;\n    &lt;property name=\"Model\" value=\"Entities/Trees/Haunted_Shrub_WastelandPrefab\" /&gt;\n    &lt;property name=\"ModelOffset\" value=\"0,-0.3,0\" /&gt;\n    &lt;property name=\"Collide\" value=\"melee,rocket\" /&gt;\n    &lt;!-- no movement effect on Shape=\"ModelTree\" --&gt;\n    &lt;drop event=\"Harvest\" name=\"resourceWood\" count=\"215\" tag=\"oreWoodHarvest\" /&gt;\n    &lt;property name=\"ParticleOnDeath\" value=\"treeGib_dead_02\" /&gt;\n    &lt;!-- &lt;drop event=\"Destroy\" name=\"treePlantedMaple1m\" count=\"x\"/&gt; --&gt;\n    &lt;property name=\"FilterTags\" value=\"foutdoor,ftrees,fshrubbery\" /&gt;\n    &lt;property name=\"SortOrder1\" value=\"a060\" /&gt;\n  &lt;/block&gt;\n&lt;/blocks\n</code></pre>\n\n<p>My current code</p>\n\n<pre><code> string[] GatherRateNames = {\"treeDeadTree01\", \"treeDeadTree02\"};\n\n string XMLBlocksPath = \"F:\\\\SteamLibrary\\\\steamapps\\\\common\\\\7 Days To Die\\\\Data\\\\Config\\\\blocks.xml\";\n\nprivate void makeGatherRatesList()\n        {\n            XmlDocument doc = new XmlDocument();\n            doc.Load(XMLBlocksPath);\n            XmlNodeList aNodes = doc.SelectNodes(\"/blocks/block\");\n            foreach (XmlNode aNode in aNodes)\n            {\n                XmlAttribute idAttribute = aNode.Attributes[\"name\"];\n                if (GatherRateNames.Contains(idAttribute.ToString()))\n                {\n                addItemToList(idAttribute.ToString(),\"Value of count\");\n                }\n            }\n        }\n        private void addItemToList(string itemName, int itemValue)\n        {\n\n        }\n</code></pre>\n\n<p>In the end I want to get the name of the block like \"treeDeadTree01\" then get the value of \"count\" inside the element \"drop\" of that block and put both of those in a DataGridView and be able to edit the value of count through the DataGridView then repeat that with every block I need.</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "is_accepted": true, "score": 1, "last_activity_date": 1565819214, "last_edit_date": 1565819214, "creation_date": 1565818897, "answer_id": 57502431, "question_id": 57502366, "link": "https://stackoverflow.com/questions/57502366/using-callbacks-anonymous-functions-delegates/57502431#57502431", "title": "Using callbacks/anonymous functions/delegates?", "body": "<p>You're right on the with the idea to use delegates.</p>\n\n<p>The <code>RenderLoop()</code> method should look like:</p>\n\n<pre><code>private void RenderLoop(Action&lt;Renderer&gt; doStuff)\n{\n    foreach (Renderer renderer in gameObject.GetComponentsInChildren&lt;Renderer&gt;())\n    {\n        doStuff(renderer);\n    }\n}\n</code></pre>\n\n<p>Then you'd call it from your other methods like (change accordingly):</p>\n\n<pre><code>RenderLoop((renderer) =&gt; renderer.enabled = true);\n</code></pre>\n\n<p>The parentheses around <code>renderer</code> are optional in this case, but required if the delegate has more than one parameter.</p>\n"}], "owner": {"reputation": 1710, "user_id": 10688806, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DFgFRCd759s/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hGTdEfRL1vSSDFEs2sYIJ15SU6Wg/mo/photo.jpg?sz=128", "display_name": "stardust4891", "link": "https://stackoverflow.com/users/10688806/stardust4891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1565820242, "accepted_answer_id": 57502431, "answer_count": 1, "score": -1, "last_activity_date": 1565820286, "creation_date": 1565818438, "question_id": 57502366, "link": "https://stackoverflow.com/questions/57502366/using-callbacks-anonymous-functions-delegates", "closed_reason": "Duplicate", "title": "Using callbacks/anonymous functions/delegates?", "body": "<p>I have the following functions in my class:</p>\n\n<pre><code>public void RenderStylePrefabs()\n{\n    foreach (Renderer renderer in gameObject.GetComponentsInChildren&lt;Renderer&gt;())\n    {\n        if (gameObject.GetComponent&lt;AvatarStyle&gt;().prefabs.ContainsValue(renderer.name))\n        {\n            renderer.enabled = true;\n        }\n    }\n}\n\npublic void UnrenderAllPrefabs()\n{\n    foreach (Renderer renderer in gameObject.GetComponentsInChildren&lt;Renderer&gt;())\n    {\n        renderer.enabled = false;\n    }\n}\n</code></pre>\n\n<p>Notice how they both use the same foreach loop.</p>\n\n<p>How can I turn this into something like:</p>\n\n<pre><code>public void RenderStylePrefabs()\n{\n    RenderLoop({\n        if (gameObject.GetComponent&lt;AvatarStyle&gt;().prefabs.ContainsValue(renderer.name))\n        {\n            renderer.enabled = true;\n        }\n    });\n}\n\npublic void UnrenderAllPrefabs()\n{\n    RenderLoop({\n        renderer.enabled = false;\n    });\n}\n\nprivate void RenderLoop(doStuff)\n{\n    foreach (Renderer renderer in gameObject.GetComponentsInChildren&lt;Renderer&gt;())\n    {\n        doStuff();\n    }\n}\n</code></pre>\n\n<p>I'm not sure exactly how to do this properly. I was reading on delegates and stuff but its kind of confusing to me.</p>\n"}, {"tags": ["c#", "entity-framework-core", "entity-framework-migrations", "rollback"], "comments": [{"owner": {"reputation": 819, "user_id": 1686073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jgOBe.png?s=128&g=1", "display_name": "Wijitha", "link": "https://stackoverflow.com/users/1686073/wijitha"}, "edited": false, "score": 0, "creation_date": 1565848181, "post_id": 57502340, "comment_id": 101478837, "body": "Can you try running update-database Your_Last_Good_Migration, before running remove-migration command?"}, {"owner": {"reputation": 1553, "user_id": 1580548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTIny.jpg?s=128&g=1", "display_name": "ddagsan", "link": "https://stackoverflow.com/users/1580548/ddagsan"}, "reply_to_user": {"reputation": 819, "user_id": 1686073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jgOBe.png?s=128&g=1", "display_name": "Wijitha", "link": "https://stackoverflow.com/users/1686073/wijitha"}, "edited": false, "score": 0, "creation_date": 1565884358, "post_id": 57502340, "comment_id": 101493077, "body": "@Wijitha I did but it didn&#39;t work. X migration already haven&#39;t applied on database so update-database -migration [the-last-good-migration] hasn&#39;t solved my problem."}], "answers": [{"tags": [], "owner": {"reputation": 1553, "user_id": 1580548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTIny.jpg?s=128&g=1", "display_name": "ddagsan", "link": "https://stackoverflow.com/users/1580548/ddagsan"}, "is_accepted": false, "score": 0, "last_activity_date": 1566218134, "last_edit_date": 1566218134, "creation_date": 1566213926, "answer_id": 57555790, "question_id": 57502340, "link": "https://stackoverflow.com/questions/57502340/entity-framework-core-remove-migration-problem/57555790#57555790", "title": "Entity Framework Core remove-migration problem", "body": "<p>I've found a solution. If the migration has a script related <code>HasData</code> function (<code>InsertData()</code>, <code>UpdateData()</code> or <code>DeleteData()</code>, that causes a trouble when you want to run remove-migration. I uncommented those lines and removed the last migration successfully.</p>\n"}], "owner": {"reputation": 1553, "user_id": 1580548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTIny.jpg?s=128&g=1", "display_name": "ddagsan", "link": "https://stackoverflow.com/users/1580548/ddagsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566218134, "creation_date": 1565818261, "question_id": 57502340, "link": "https://stackoverflow.com/questions/57502340/entity-framework-core-remove-migration-problem", "title": "Entity Framework Core remove-migration problem", "body": "<p>I have some changes to rescaffold my tables and create a migration named <code>X</code>. I try to apply X via update-migration but I have an exception about some of default data. My <code>X</code> migration is not in <code>__EFMigrationHistory</code> table because of the exception. However, when I run <code>remove-migration</code> command to remove <code>X</code> migration, dotnet try to run <code>Down</code> function in <code>X</code>. I couldn't understand why this happened. \nI want to use <code>remove-migration</code> because to edit ModelSnapshot.cs file is hard manually.\nIs there anyone who knows the reason?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core-2.2"], "answers": [{"tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 2, "last_activity_date": 1565818475, "creation_date": 1565818475, "answer_id": 57502371, "question_id": 57502276, "link": "https://stackoverflow.com/questions/57502276/how-can-i-call-a-repository-in-startup-cs/57502371#57502371", "title": "How can I call a repository in Startup.cs?", "body": "<p>You can't just inject anything you like in the <code>Startup</code> constructor. There's a few things that are allowed like <code>IConfiguration</code>, <code>IHostingEnvironment</code>, etc. but that's because those services are registered <em>very</em> early in the startup pipeline. Here, you're trying to inject something that you haven't even defined as a service until later. (<code>Startup</code> has to be constructed before <code>ConfigureServices</code> can be called on it.)</p>\n\n<p>It's not clear what your ultimate goal here is (i.e. what you're trying to do with the data). However, generally speaking, you should add code that should be run at startup in <code>Program.cs</code> actually, not <code>Startup.cs</code>. Like:</p>\n\n<pre><code>public static void Main(string[] args)\n{\n    var host = BuildWebHost(args);\n\n    // do something\n\n    host.Run();\n}\n</code></pre>\n\n<p>Once you have the host, you can pull services out of it:</p>\n\n<pre><code>var repo = host.Services.GetRequiredService&lt;IRepository&gt;();\nvar data = repo.GetValue();\n</code></pre>\n\n<p>If you need to do something async, then you'll need to utilize an async Main, and await <code>host.RunAsync()</code>:</p>\n\n<pre><code>public static async Task Main(string[] args)\n{\n    var host = BuildWebHost(args);\n\n    // do something async\n\n    await host.RunAsync();\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 4468657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c15f06dfcba208a5ef082cb282d5cec8?s=128&d=identicon&r=PG&f=1", "display_name": "comp32", "link": "https://stackoverflow.com/users/4468657/comp32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "closed_date": 1565878479, "answer_count": 1, "score": 0, "last_activity_date": 1565818475, "creation_date": 1565817963, "question_id": 57502276, "link": "https://stackoverflow.com/questions/57502276/how-can-i-call-a-repository-in-startup-cs", "closed_reason": "Duplicate", "title": "How can I call a repository in Startup.cs?", "body": "<p>I want to grab a value from the database in my Startup.cs file through a repository. However the service is not able to be resolved.</p>\n\n<p>I understand that I need to create an instance of my repository and then access it. I have seen a similar question asked but I do not want to create a new service: <a href=\"https://stackoverflow.com/questions/48633751/net-core-2-call-repository-method-from-startup\">.NET Core 2 - Call Repository method from Startup</a></p>\n\n<p>In my Startup.cs I have the following:</p>\n\n<pre><code>public Startup(IConfiguration configuration, IRepository repo)\n{\n   Configuration = configuration;\n   Repo = repo;\n}\n\npublic IRepo Repo { get; }\n\npublic void ConfigureServices(IServiceCollection services)\n{\n  services.AddScoped&lt;IRepository, Repository&gt;();\n  var data = Repo.GetValue();\n}\n</code></pre>\n\n<p>When I run this though I am getting an error where it is unable to resolve the service.</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 1734, "user_id": 3785440, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qzmO8.gif?s=128&g=1", "display_name": "Anup Sharma", "link": "https://stackoverflow.com/users/3785440/anup-sharma"}, "edited": false, "score": 0, "creation_date": 1565817677, "post_id": 57502209, "comment_id": 101473450, "body": "Use Async method to process the heavy workload"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1565817727, "post_id": 57502209, "comment_id": 101473463, "body": "Thread.Sleep will stop the thread to sleep.  Not good."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565817871, "post_id": 57502209, "comment_id": 101473505, "body": "I tried processing the 1000 ebols asyncronously.  It cut down on the processing time but maxed the cpu usage to 100% for a minute and a half."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565818030, "post_id": 57502209, "comment_id": 101473543, "body": "Was parallel.for a bad idea?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565818109, "post_id": 57502209, "comment_id": 101473568, "body": "You can&#39;t have it run quickly while also not consuming CPU.  I think your question is too vague to really be answerable, but I can answer in broad terms.  It&#39;s unclear why processing on the server would freeze the web client."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565818226, "post_id": 57502209, "comment_id": 101473605, "body": "the &quot;client&quot; isn&#39;t freezing.  The server is unresponsive to page loads during the processing."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1565818254, "post_id": 57502209, "comment_id": 101473611, "body": "I suggest this sentence be rephrased so it is clearer, then:  <code>The processing is freezing the web browser from being able to do anything else</code>"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1565818604, "post_id": 57502209, "comment_id": 101473724, "body": "Then don&#39;t have your web server process files. It&#39;s not meant to do that. It&#39;s meant to handle HTTP requests. Have that work done in a scalable background processor application (possibly hosted as Windows service, or an Azure Function etc). Then you can spin up as many of those as you need to perform the work, while keeping your web server from becoming overloaded."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565818636, "post_id": 57502209, "comment_id": 101473732, "body": "thanks amy.  That was a typo"}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 1, "creation_date": 1565818788, "post_id": 57502209, "comment_id": 101473777, "body": "Mason I will look into your suggestion.  I have constraints on how far into the weeds i&#39;m allowed to take this stuff and we don&#39;t have an azure anything, but possibly we could offload the processing to our console application that uses the generation."}], "answers": [{"comments": [{"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565818461, "post_id": 57502351, "comment_id": 101473680, "body": "I&#39;m going to try your suggestion.  I think the UI isn&#39;t getting enough results.  I&#39;ve put a lot of effort into multithreading this already but the testers complained it was freezing everything else.  I determined the old generator was already doing that."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1565818750, "post_id": 57502351, "comment_id": 101473765, "body": "You don&#39;t update the GUI from another thread in an ASP.NET app, and you don&#39;t start your own threads in an ASP.NET app."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 1, "creation_date": 1565821263, "post_id": 57502351, "comment_id": 101474447, "body": "just for anyone else reading this, an asp.net app doesn&#39;t have doevents() since that&#39;s specifically in the forms namespace."}], "tags": [], "owner": {"reputation": 5, "user_id": 11929382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7ae4c669f57fd9310b916f4e935f36?s=128&d=identicon&r=PG", "display_name": "This Guy", "link": "https://stackoverflow.com/users/11929382/this-guy"}, "is_accepted": false, "score": -3, "last_activity_date": 1565818304, "creation_date": 1565818304, "answer_id": 57502351, "question_id": 57502209, "link": "https://stackoverflow.com/questions/57502209/c-best-way-to-keep-ui-responsive-during-heavy-workload/57502351#57502351", "title": "C# Best way to keep UI responsive during heavy workload", "body": "<p>Definitely learn how to thread... You can process all those files almost all at once if you rewrite a little bit.. Isn't hard to learn either:</p>\n\n<p><a href=\"https://www.dotnetperls.com/threadstart\" rel=\"nofollow noreferrer\">https://www.dotnetperls.com/threadstart</a></p>\n\n<p>You can also try Application.DoEvents(); in intervals but that is terrible practice.</p>\n\n<p>If you go the threading route here is how you can access the ui from a thread:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/661561/how-do-i-update-the-gui-from-another-thread\">How do I update the GUI from another thread?</a></p>\n\n<p>That is the only complication with threading is that you cannot access the gui thread. </p>\n\n<p>Look into \"Background Worker\" if that is too complicated.</p>\n"}, {"comments": [{"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565818551, "post_id": 57502358, "comment_id": 101473704, "body": "This is all true and I know this but i&#39;m having trouble (evidently) getting it on a different thread.  Does Parallel.For freeze the UI thread?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 1, "creation_date": 1565818575, "post_id": 57502358, "comment_id": 101473710, "body": "The thread calling <code>Parallel.For</code> waits for <code>Parallel.For</code> to complete."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565820347, "post_id": 57502358, "comment_id": 101474218, "body": "ok well i tried this:  I put the function in a async function but i&#39;m having the same exact problem i had before:  The await never finishes.  It&#39;s like it never knows the threads are finished."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565830860, "post_id": 57502358, "comment_id": 101476068, "body": "Ask a new question, John, and post some code. We cannot tell you what you&#39;re doing wrong when we cannot see your code."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565878336, "post_id": 57502358, "comment_id": 101490121, "body": "I&#39;m currently taking your advice and trying to offload the entire function into a different app.  I will let you know how well it works."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "reply_to_user": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565879109, "post_id": 57502358, "comment_id": 101490504, "body": "@JohnLord Please do, I&#39;m interested in how things turn out."}, {"owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "edited": false, "score": 0, "creation_date": 1565992986, "post_id": 57502358, "comment_id": 101529108, "body": "I&#39;m still debugging results, but initial testing is promising.  Even with high cpu usage, the website is still responsive."}], "tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 1, "last_activity_date": 1565818336, "creation_date": 1565818336, "answer_id": 57502358, "question_id": 57502209, "link": "https://stackoverflow.com/questions/57502209/c-best-way-to-keep-ui-responsive-during-heavy-workload/57502358#57502358", "title": "C# Best way to keep UI responsive during heavy workload", "body": "<p>When starting the processing on the web server, generate a \"job ID\" and store it somewhere (such as a database).  Add an endpoint so the client can query the status of the job.  When the processing is complete, the user can use the job ID to get the resulting file(s).  It works like this:</p>\n\n<ul>\n<li>User wants to process files.  They call the <code>start</code> endpoint, which returns a JobId.  </li>\n<li>The server begins processing that job in a non-request thread, or the job is picked up and processed by <em>another server</em> dedicated to that task.  When the thread completes, it updates the job's status accordingly.</li>\n</ul>\n\n<p>Later...</p>\n\n<ul>\n<li>User wants to know the status of their process.  They call the <code>status</code> endpoint using their JobId periodically.  The server replies with some status information to show the user.</li>\n</ul>\n\n<p>Later...</p>\n\n<ul>\n<li>Once the job's status has changed to 'complete', the user can call the <code>result</code> endpoint with their JobId to get the final file(s).</li>\n</ul>\n\n<p>The heavy processing should be done in a non-UI, non-request thread so other users are unaffected.</p>\n\n<p>Using this approach, you can even do the processing on <em>another server entirely</em>.  All the web server is doing is allowing the user to create and query processing jobs.</p>\n"}], "owner": {"reputation": 1225, "user_id": 9008140, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153470332463913/picture?type=large", "display_name": "John Lord", "link": "https://stackoverflow.com/users/9008140/john-lord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 57502358, "answer_count": 2, "score": 0, "last_activity_date": 1565818615, "creation_date": 1565817585, "last_edit_date": 1565818615, "question_id": 57502209, "link": "https://stackoverflow.com/questions/57502209/c-best-way-to-keep-ui-responsive-during-heavy-workload", "title": "C# Best way to keep UI responsive during heavy workload", "body": "<p>Our webserver generates a file on the fly for download.  This takes about two minutes of heavy processing because it's taking 1000 word templates, mail merging them, converting them to pdf, then making a  zip out of those 1000 files.   The processing is freezing the web server from being able to do anything else in the mean time which is a problem since it's hosting 23 subdomains for clients and they noticed it freezing.  </p>\n\n<p>How can i force the UI thread to get some work done?  I've been looking at Thread.Sleep and Thread.Yield but perhaps i'm not implementing them correctly.  I'm very new to the concept of threading.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "owin", "windows-authentication"], "comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565820059, "post_id": 57502199, "comment_id": 101474139, "body": "I understand your problem, but I don&#39;t understand what you mean about SSMS. Are you talking about the SQL server losing access to the domain and you can still authenticate to it with a domain account?"}, {"owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565880634, "post_id": 57502199, "comment_id": 101491248, "body": "I&#39;m talking about Sql Server Management Studio, you can still basically login and access the database even after you&#39;re disconnected to the domain"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565881241, "post_id": 57502199, "comment_id": 101491549, "body": "Right, but in that case the <i>server</i> still has access to the domain. Why would your website be losing access to the domain?"}, {"owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565881354, "post_id": 57502199, "comment_id": 101491607, "body": "Sorry, to be clear, the application has a mobile vs central instances. The mobile instances are installed while connected to the domain but can be used while disconnected to the domain."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "edited": false, "score": 0, "creation_date": 1565886330, "post_id": 57512169, "comment_id": 101493942, "body": "Hi Gabriel! Although this is a very good and detailed answer, we require that both domain and local user be able to login to the web app. Also, we require the user to supply the credentials since it&#39;s not always the user who logged in to windows will be logging in to the app.   We found a possible solution that&#39;s quite simple but we&#39;re still validating it."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "edited": false, "score": 0, "creation_date": 1565887327, "post_id": 57512169, "comment_id": 101494357, "body": "Allowing both domain and local users is not a problem with the solution I proposed. If you want it to always prompt for credentials, then just don&#39;t add it to the Trusted Sites and the browser will ask for credentials."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "edited": false, "score": 0, "creation_date": 1565887379, "post_id": 57512169, "comment_id": 101494376, "body": "If you do find another solution, let me know what it is. I&#39;m curious."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 1, "last_activity_date": 1565883175, "creation_date": 1565883175, "answer_id": 57512169, "question_id": 57502199, "link": "https://stackoverflow.com/questions/57502199/authenticate-domain-user-after-connection-to-domain-is-inaccessible-c/57512169#57512169", "title": "Authenticate domain user after connection to domain is inaccessible C#", "body": "<p>The answer is in how Kerberos (and I believe NTLM is similar) works in that they use <a href=\"https://docs.microsoft.com/en-us/windows/win32/secauthn/session-tickets\" rel=\"nofollow noreferrer\">session tickets</a>. So once authentication is successful against a domain controller, you have a \"ticket\" that proves you authenticated. When you authenticate to anything else that requires Windows authentication, the ticket is sent.</p>\n\n<p>To take advantage of this, you must use the built-in Windows authentication. You cannot take a username and password and try to authenticate them that way.</p>\n\n<p>If everyone who uses your website can use Windows authentication - then you can enable it for your whole site.</p>\n\n<p>If you have a mixed audience - some who have a domain account and some that don't - it's a little trickier, but still doable. I've done it. You can look at the <a href=\"https://github.com/MohammadYounes/Owin-MixedAuth\" rel=\"nofollow noreferrer\">OWIN-MixedAuth</a> project. I haven't used that specifically.</p>\n\n<p>That project seems to use a separate button for the Windows authentication. When I did it, I made it seamless (it tries Windows auth and fails back to a login page). I did that by doing an AJAX request in the background to a page that requires Windows authentication, and if it succeeds, just forward on. If it fails, show the login fields.</p>\n\n<p>All that said, I don't know it will work if the server cannot reach the domain. It will probably work for users who have already authenticated to the site before it lost connection to the domain, or if the site is hosted on the same computer that it is being accessed from. But it might not work if a user it has never seen before tries to login while there is no access to the domain. You will have to test.</p>\n\n<p>But the benefit of using Windows authentication anyway is that you can make the login seamless. As long as the site is in your Trusted Sites (in the Windows Internet Options) then IE and Chrome will automatically send the user's credentials.</p>\n"}], "owner": {"reputation": 353, "user_id": 9448191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Kaizer69", "link": "https://stackoverflow.com/users/9448191/kaizer69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565883175, "creation_date": 1565817531, "question_id": 57502199, "link": "https://stackoverflow.com/questions/57502199/authenticate-domain-user-after-connection-to-domain-is-inaccessible-c", "title": "Authenticate domain user after connection to domain is inaccessible C#", "body": "<p>We have an MVC application that validates windows users by instantiating a principalcontext, locally and for domain users. However, this immediately fails when a connection to the domain cannot be made. Is there a way to leverage the capability of windows to still validate domain credentials when disconnected from the domain? </p>\n\n<p>We see that in SSMS you can also use windows authentication after the server has lost access to the domain. </p>\n\n<p>To be clear, the machine is joined to the domain but does not have access to the domain controller, i.e. a corporate laptop that is taken home. </p>\n\n<p>Thanks for the help in advance.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 2, "creation_date": 1565816775, "post_id": 57501970, "comment_id": 101473181, "body": "For example, yes."}, {"owner": {"reputation": 15044, "user_id": 416574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e6a3e7975350dea41b2cf3fa46c407?s=128&d=identicon&r=PG", "display_name": "pstrjds", "link": "https://stackoverflow.com/users/416574/pstrjds"}, "edited": false, "score": 3, "creation_date": 1565816879, "post_id": 57501970, "comment_id": 101473219, "body": "As a side note from a code style standpoint if you are going to use an underscore prefix for a variable, you generally use that for private member variables and not for a local and method arguments."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565819837, "post_id": 57501970, "comment_id": 101474073, "body": "<i>&quot;how do I return it to the calling instance so I can process it again in my form?&quot;</i> -- why do you need to do that? The calling instance passed it to the class in the first place. They already have the reference. They should just keep the reference. Why do you think anything more is needed? I don&#39;t really understand your question, or if I do, there are so many different ways to address it (including, essentially, doing nothing special) that it&#39;s way too broad. Please be more specific about what you want."}], "answers": [{"tags": [], "owner": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "is_accepted": true, "score": 1, "last_activity_date": 1565817130, "creation_date": 1565817130, "answer_id": 57502126, "question_id": 57501970, "link": "https://stackoverflow.com/questions/57501970/return-an-object-from-a-class-to-a-form/57502126#57502126", "title": "Return an object from a class to a form", "body": "<p><code>List&lt;T&gt;</code> is a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/reference-types\" rel=\"nofollow noreferrer\">Reference Type</a></p>\n\n<blockquote>\n  <p>Variables of reference types store references to their data (objects), while variables of value types directly contain their data. With reference types, two variables can reference the same object; therefore, operations on one variable can affect the object referenced by the other variable.</p>\n</blockquote>\n\n<p>Because <code>ImportEngine.errorObjects</code> references the same list that you pass it you shouldn't have to do anything; whatever you do to <code>ImportEngine.errorObjects</code> will also be done on the list that you passed it since they're both references to the same list. This is provided that you don't assign <code>ImportEngine.errorObjects</code> to a different list during the lifetime of the <code>ImportEngine</code> instance.</p>\n\n<p>But, if you did need to get the list back from <code>ImportEngine</code> then a public property would be one way to do it.</p>\n"}], "owner": {"reputation": 2689, "user_id": 651887, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/7120869b34e0c739502318f4f862c26c?s=128&d=identicon&r=PG", "display_name": "rogue39nin", "link": "https://stackoverflow.com/users/651887/rogue39nin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57502126, "answer_count": 1, "score": -1, "last_activity_date": 1569093553, "creation_date": 1565816374, "last_edit_date": 1565816782, "question_id": 57501970, "link": "https://stackoverflow.com/questions/57501970/return-an-object-from-a-class-to-a-form", "title": "Return an object from a class to a form", "body": "<p>I have this object which I pass to a function call import through a constructor that is no problem to understand.</p>\n\n<pre><code>public class ErrorObject\n{\n    public string DocumentNumber { get; set; }\n    public string SupplierAccountNumber { get; set; }\n    public string AccountNumber { get; set; }\n    public string AccountCostCentre { get; set; }\n    public string AccountDepartment { get; set; }\n    public bool IsInvalidSupplier { get; set; }\n    public bool IsInvalidNominal { get; set; }\n    public string ErrorMessage { get; set; }\n}\n</code></pre>\n\n<p>I have here a sample of how I pass it and reuse I in the class called Import which is called from Program .cs</p>\n\n<pre><code>List&lt;ErrorObject&gt; erorObjects = new List&lt;ErrorObject&gt;();\npublic ImportEngine(List&lt;ErrorObject&gt; _errors)\n{\n    erorObjects = _errors;\n}\n</code></pre>\n\n<p>I call the import engine as such this could be inside  a form load event for example</p>\n\n<pre><code>ImportEngine import = new ImportEngine(erorObjects);\n</code></pre>\n\n<p>Once the <code>ImportEngine</code> class has finished with the object, how do I return it to the calling instance so I can process it again in my form?</p>\n\n<p>Do I simply have the property public and reference it when I return to my calling function?</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565867974, "post_id": 57502412, "comment_id": 101485375, "body": "THis is how it is set up. The thing is that the dialog manager is what calls this popup, and it needs to know if you selected yes or no. Right now it calls the take money script and then just keeps going after the popup takes place and automatically returns a value for not taking money."}], "tags": [], "owner": {"reputation": 93, "user_id": 10496885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7b6886447c4e4bb0f208d06d3f4988e?s=128&d=identicon&r=PG&f=1", "display_name": "Laskio", "link": "https://stackoverflow.com/users/10496885/laskio"}, "is_accepted": false, "score": 0, "last_activity_date": 1565819415, "last_edit_date": 1565819415, "creation_date": 1565818745, "answer_id": 57502412, "question_id": 57501951, "link": "https://stackoverflow.com/questions/57501951/unity-ui-pop-up/57502412#57502412", "title": "Unity UI Pop Up", "body": "<p>Make Two Buttons, Set them to active at the end of AskForTakingMoney(), Make those buttons lead to SaysYes(); and SaysNo();</p>\n\n<p>Edit: Comment if you need clarification. I may not be understanding you clear enough. Do you even have buttons set up? </p>\n"}, {"comments": [{"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565868434, "post_id": 57502498, "comment_id": 101485529, "body": "I tried to do this, but I am not sure when it would respond to the UI button push. The popup is controlled buy the first function and then the 2 functions below are tied to the yes or no buttons. The way its set up now, the response still goes through and pushes a false result."}], "tags": [], "owner": {"reputation": 551, "user_id": 5188428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca59fb65664c8e717139da9fbcd4f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Rishaan Gupta", "link": "https://stackoverflow.com/users/5188428/rishaan-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1565819379, "creation_date": 1565819379, "answer_id": 57502498, "question_id": 57501951, "link": "https://stackoverflow.com/questions/57501951/unity-ui-pop-up/57502498#57502498", "title": "Unity UI Pop Up", "body": "<p>You would either need the function to not care about returning what they clicked, and each frame check (in the update method, or in a coroutine) if the button has been pressed by checking your selectedAnswer variable.</p>\n\n<p>Or you could run some code in a separate thread, and use WaitHandle's, to cause the thread to pause until the button has been pressed.</p>\n\n<p>Example using your code:</p>\n\n<pre><code>using System.Threading;\nusing UnityEngine;\n\npublic class Manager : MonoBehaviour\n{\n    EventWaitHandle handle = new EventWaitHandle(false,EventResetMode.AutoReset);\n    Thread _thread;\n    public void StartThread()\n    {\n        _thread = new Thread(BackgroundThreadFunction);\n        _thread.Start();\n    }\n\n    public void BackgroundThreadFunction()\n    {\n        if (AskForTakingMoney())\n        {\n            //Yes\n        }\n        else\n        {\n            //No\n        }\n    }\n\n    public bool AskForTakingMoney()\n    {\n        takingMoneyBox.SetActive(true);\n        goldText.text = \"Current Gold: \" + GameManager.instance.currentGold.ToString() + \"G\";\n        questionText.text = \"Pay the \" + DialogManager.instance.goldAmount + \"G?\";\n\n        //Wait here until yes or no button pushed\n        handle.WaitOne();\n\n        return saysYes;\n    }\n\n    public void SaysYes()\n    {\n        saysYes = true;\n        selectedAnswer = true;\n        takingMoneyBox.SetActive(false);\n\n        handle.Set();\n    }\n\n    public void SaysNo()\n    {\n        saysYes = false;\n        selectedAnswer = true;\n        takingMoneyBox.SetActive(false);\n\n        handle.Set();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565867862, "post_id": 57506526, "comment_id": 101485339, "body": "This is how it is set up. What happens is my dialog manager calls the taking money script if the character requires money to complete the task. This is what calls the confirm pop up. So set up as you said. I need the script to return a true or false value (unless I am approaching this wrong) to let the dialog manager know to withdraw money or abandon the dialog."}, {"owner": {"reputation": 2083, "user_id": 9638051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699e59e6a363089ae0059a22a8279a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Immorality", "link": "https://stackoverflow.com/users/9638051/immorality"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565870179, "post_id": 57506526, "comment_id": 101486143, "body": "You withdraw the money by adding in your <code>withdraw money code</code> into the <code>SaysYes()</code> method.  Abandoning the dialog should be no more than setting the dialogbox to inactive in your <code>SaysNo()</code> method."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565872782, "post_id": 57506526, "comment_id": 101487243, "body": "This makes sense, but the dialog manager still will need to know if you pushed yes or not before proceeding to the next line of code. Edit- I see what your saying. let me play with some code and see what I come up with."}, {"owner": {"reputation": 2083, "user_id": 9638051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699e59e6a363089ae0059a22a8279a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Immorality", "link": "https://stackoverflow.com/users/9638051/immorality"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565872925, "post_id": 57506526, "comment_id": 101487301, "body": "I have some difficulty understanding your problem statement. Can&#39;t you simply call something like <code>DialogManager.Instance.YesPressed</code> from within the <code>SaysYes()</code> method?"}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565874246, "post_id": 57506526, "comment_id": 101487943, "body": "Ok I think the way you are explaining the flow works, for the most part. What is happening is my DialogManager is controlling the flow of the dialog, When it comes to a string that I have predetermined when the character asks for money, the pop up window comes up in this script. Depending on if the character says Yes or No is going to determine if the dialogue will continue or not. But what I think I am going to try is your code and just have it move to the next line regardless, and pushing the no button will just shut down everything right from the no button."}, {"owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565876055, "post_id": 57506526, "comment_id": 101488925, "body": "Ok this logic is working with some tweaking I did. Thank you very much. I figured it was just the approach I was taking. This works well."}, {"owner": {"reputation": 2083, "user_id": 9638051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699e59e6a363089ae0059a22a8279a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Immorality", "link": "https://stackoverflow.com/users/9638051/immorality"}, "reply_to_user": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "edited": false, "score": 0, "creation_date": 1565876631, "post_id": 57506526, "comment_id": 101489217, "body": "Glad i could help!"}], "tags": [], "owner": {"reputation": 2083, "user_id": 9638051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/699e59e6a363089ae0059a22a8279a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Immorality", "link": "https://stackoverflow.com/users/9638051/immorality"}, "is_accepted": true, "score": 1, "last_activity_date": 1565870301, "last_edit_date": 1565870301, "creation_date": 1565855821, "answer_id": 57506526, "question_id": 57501951, "link": "https://stackoverflow.com/questions/57501951/unity-ui-pop-up/57506526#57506526", "title": "Unity UI Pop Up", "body": "<p>If you want to show a popup, then the popup should be responsible for what happens next. </p>\n\n<p>So your <code>AskForTakingMoney</code> should never return a value. Instead you need to assign the <code>onclick</code> events for the Yes and No button.</p>\n\n<p>Your code should simply be:</p>\n\n<pre><code>public void AskForTakingMoney(){\n        takingMoneyBox.SetActive(true);\n        goldText.text = \"Current Gold: \" + GameManager.instance.currentGold.ToString() + \"G\";\n        questionText.text = \"Pay the \" + DialogManager.instance.goldAmount + \"G?\";\n    }\n\n    public void SaysYes(){           \n        takingMoneyBox.SetActive(false);\n        // Your withdraw money code here.\n    }\n\n     public void SaysNo(){\n        takingMoneyBox.SetActive(false);\n    }\n</code></pre>\n\n<p>Then from within the Editor, click on your Yes Button. \nYou should see an onclick field like the one in the picture. Click on the plus sign, then drag in your MonoBehaviour object which is holding the code with  above functions. \nAfter dragging it in, You should be able to select <code>SaysYes</code> from the dropdown that appears under 'YourScriptName' -> 'SaysYes()'</p>\n\n<p>Do the same for your No Button and you should be all set.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RYkeJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYkeJ.png\" alt=\"OnClick\"></a></p>\n"}], "owner": {"reputation": 827, "user_id": 8569903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc54bffbe2ec4586a540a047b355655?s=128&d=identicon&r=PG&f=1", "display_name": "Bnd10706", "link": "https://stackoverflow.com/users/8569903/bnd10706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 689, "favorite_count": 0, "accepted_answer_id": 57506526, "answer_count": 3, "score": 1, "last_activity_date": 1565870301, "creation_date": 1565816284, "question_id": 57501951, "link": "https://stackoverflow.com/questions/57501951/unity-ui-pop-up", "title": "Unity UI Pop Up", "body": "<p>I am new to Unity, and many of these principals I am just blanking on.</p>\n\n<p>I build a dialogue system and its working great, but I want to make a confirmation box.</p>\n\n<p>I have managed to get the confirmation box to pull up, but I cant seem to figure out how to wait for one of the Yes / No buttons are pushed before the code is returned to the Dialogue manager with the proper bool.</p>\n\n<p>Right now the code pushes on behind the dialogue box. Which is expected.</p>\n\n<p>I tried an enumerator but I must have been doing it wrong because it did not matter.</p>\n\n<p>I just cleaned up the code to try to start from scratch.</p>\n\n<pre><code>public bool AskForTakingMoney(){\n        takingMoneyBox.SetActive(true);\n        goldText.text = \"Current Gold: \" + GameManager.instance.currentGold.ToString() + \"G\";\n        questionText.text = \"Pay the \" + DialogManager.instance.goldAmount + \"G?\";\n        //Wait here until yes or no button pushed\n        return saysYes;\n    }\n    public void SaysYes(){\n        saysYes = true;\n        selectedAnswer = true;\n        takingMoneyBox.SetActive(false);\n    }\n     public void SaysNo(){\n        saysYes = false;\n        selectedAnswer = true;\n        takingMoneyBox.SetActive(false);\n\n    }\n</code></pre>\n\n<p>I really just need the return function to not go back until the yes or no button is pushed.</p>\n\n<p>I am at a complete loss.</p>\n"}, {"tags": ["c#", "mvvm", "caliburn.micro"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 3367392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o45py.jpg?s=128&g=1", "display_name": "aboudirawas", "link": "https://stackoverflow.com/users/3367392/aboudirawas"}, "edited": false, "score": 0, "creation_date": 1565820620, "post_id": 57502379, "comment_id": 101474283, "body": "marked this as the accepted answer because to me this said it all <code>In other words, the View knows about the ViewModel, but that ViewModel does not know anything about the View.</code>"}], "tags": [], "owner": {"reputation": 603, "user_id": 6621736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e6e2e873da54c4da66f507327a8a91?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Marques", "link": "https://stackoverflow.com/users/6621736/daniel-marques"}, "is_accepted": true, "score": 5, "last_activity_date": 1565818504, "creation_date": 1565818504, "answer_id": 57502379, "question_id": 57501934, "link": "https://stackoverflow.com/questions/57501934/what-is-the-difference-between-xaml-cs-and-viewmodels-viewmodel-cs/57502379#57502379", "title": "What is the difference between .xaml.cs and ViewModels/ViewModel.cs?", "body": "<p>Files ending in <code>.xaml.cs</code> are what is called the View's \"code-behind\". Anything inside this file is tightly coupled with the View.</p>\n\n<p>If you want to follow the MVVM pattern, you will code almost all of the interaction of the UI with your Models (example: click of a button change some data or get some data from the database) on the ViewModels (<code>.cs files</code>), which are independent from the Views.</p>\n\n<p>The only link between the View and the ViewModel is that the ViewModel is the <code>DataContext</code> of the View. In other words, the View knows about the ViewModel, but that ViewModel does not know anything about the View. </p>\n\n<p>Event Handlers are not generally used in a MVVM world. You need to use Commands. But that is a whole other question/answer.</p>\n\n<p>The important thing to keep in mind is that MVVM comes to address, mainly, two things: the Separation of Concerns (UI vs UI Logic) and Testability of your software.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "is_accepted": false, "score": 1, "last_activity_date": 1565818670, "creation_date": 1565818670, "answer_id": 57502402, "question_id": 57501934, "link": "https://stackoverflow.com/questions/57501934/what-is-the-difference-between-xaml-cs-and-viewmodels-viewmodel-cs/57502402#57502402", "title": "What is the difference between .xaml.cs and ViewModels/ViewModel.cs?", "body": "<p>I'll start by suggesting that you learn the basics of the UI framework you're using (WPF, etc.) before adding an additional framework on top of it. I've seen that this only makes the learning curve steeper. </p>\n\n<p>With that said, the .xaml.cs file is what is commonly referred to as the <em>code behind</em>. This is the code that \"controls\", so to speak, the UI. You'll note, for example, that these are all \"partial\" classes because there's going to be some auto-generated code when you compile that does view-specific things like bindings, etc.. <strong>The xaml.cs file should be used sparingly and only when you need to know or operate on specifics of the View itself.</strong></p>\n\n<p>With MVVM, you'll often see code behind classes that are almost completely empty, with just a constructor present. The logic in these cases is moved to a \"View Model\" class which provides a link between the View and the Model (take a look at <a href=\"https://stackoverflow.com/questions/667781/what-is-the-difference-between-mvc-and-mvvm\">this SO post</a> for a more thorough description). <strong>You should bind to objects in the View Model, and use it as the data context for your view. It contains all the logic to define how the view effects your model.</strong></p>\n\n<p>So - applying this to event handlers... An event must live in the code-behind, because you can't explicitly bind to one in your VM. You could easily call the function you want by accessing the ViewModel right inside that event handler, and there's nothing particularly egregious about this approach. That said, there is another concept called a Command that will live in the View Model itself; a command, as opposed to an event handler, is a Property, so you can bind to that in your .xaml file using</p>\n\n<pre><code>...Command=\"{Binding FunctionNameHere}\"...\n</code></pre>\n\n<p>It also has nice features like being able to define when the command is valid (so you can disable your button automatically when, for example, the form is missing a required field).</p>\n"}], "owner": {"reputation": 65, "user_id": 3367392, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o45py.jpg?s=128&g=1", "display_name": "aboudirawas", "link": "https://stackoverflow.com/users/3367392/aboudirawas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 1, "accepted_answer_id": 57502379, "answer_count": 2, "score": 1, "last_activity_date": 1565818670, "creation_date": 1565816161, "question_id": 57501934, "link": "https://stackoverflow.com/questions/57501934/what-is-the-difference-between-xaml-cs-and-viewmodels-viewmodel-cs", "title": "What is the difference between .xaml.cs and ViewModels/ViewModel.cs?", "body": "<p>I have been following this tutorial on MVVM pattern using caliburn micro</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=laPFq3Fhs8k\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=laPFq3Fhs8k</a></p>\n\n<p>What is the difference between .xaml.cs and ViewModels/ViewModel.cs ?</p>\n\n<p>I see we put our code for the shellview in ShellViewModel.cs, but when I, for example,  choose an event handler for a Button, visual studio takes me to .xaml.cs and not to the ViewModels/ViewModel.</p>\n\n<p>Do I have to stick to one or each file has a different role/responsibility? ( considering that I want my code to still be following MVVM pattern )</p>\n"}, {"tags": ["c#", "jquery", "html", "asp.net", "razor-pages"], "comments": [{"owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "edited": false, "score": 0, "creation_date": 1565818007, "post_id": 57501929, "comment_id": 101473537, "body": "Where is <code>CreatePortfolio</code> endpoint written?"}, {"owner": {"reputation": 116, "user_id": 11514110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de2c9f54f83220b7166ac0475917a2d0?s=128&d=identicon&r=PG&f=1", "display_name": "Fajar AM", "link": "https://stackoverflow.com/users/11514110/fajar-am"}, "edited": false, "score": 0, "creation_date": 1565852351, "post_id": 57501929, "comment_id": 101479884, "body": "checkout my repo, it provides dynamic selectbox with ajax <a href=\"https://github.com/fajaralmu/organization-management-asp-mvc-webapp/blob/master/OrgWebMvc/Views/Shared/EntityMng.cshtml\" rel=\"nofollow noreferrer\">github.com/fajaralmu/organization-management-asp-mvc-webapp/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 22204, "user_id": 134725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9010d5f80331e9a23a86c93917b5ba?s=128&d=identicon&r=PG", "display_name": "Mike Brind", "link": "https://stackoverflow.com/users/134725/mike-brind"}, "edited": false, "score": 0, "creation_date": 1565858792, "post_id": 57501929, "comment_id": 101482087, "body": "You look to be confusing ASP.NET Core MVC and ASP.NET Core Razor Pages. Your form method points to an MVC controller, but your code behind uses Razor Pages handler methods. Here&#39;s a very simple example: <a href=\"https://www.learnrazorpages.com/razor-pages/ajax/cascading-dropdowns\" rel=\"nofollow noreferrer\">learnrazorpages.com/razor-pages/ajax/cascading-dropdowns</a>. Try to replicate that and understand how it works."}, {"owner": {"reputation": 33, "user_id": 9111383, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vluUQeT9CNw/AAAAAAAAAAI/AAAAAAAAAIk/cjS23jnpwW4/photo.jpg?sz=128", "display_name": "Andy Rivera", "link": "https://stackoverflow.com/users/9111383/andy-rivera"}, "reply_to_user": {"reputation": 22204, "user_id": 134725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9010d5f80331e9a23a86c93917b5ba?s=128&d=identicon&r=PG", "display_name": "Mike Brind", "link": "https://stackoverflow.com/users/134725/mike-brind"}, "edited": false, "score": 0, "creation_date": 1565894468, "post_id": 57501929, "comment_id": 101497228, "body": "Following the demo @MikeBrind provided, I was able to translate the code in the way I needed and the cascade DropDownList works as intended."}, {"owner": {"reputation": 3191, "user_id": 27989, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f3df95fbff015d5c1621bfd966277c1?s=128&d=identicon&r=PG", "display_name": "Brad Patton", "link": "https://stackoverflow.com/users/27989/brad-patton"}, "edited": false, "score": 0, "creation_date": 1565898770, "post_id": 57501929, "comment_id": 101498851, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/46410716/example-ajax-call-back-to-an-asp-net-core-razor-page\">Example AJAX call back to an ASP.NET Core Razor Page</a>"}], "owner": {"reputation": 33, "user_id": 9111383, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vluUQeT9CNw/AAAAAAAAAAI/AAAAAAAAAIk/cjS23jnpwW4/photo.jpg?sz=128", "display_name": "Andy Rivera", "link": "https://stackoverflow.com/users/9111383/andy-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565816137, "creation_date": 1565816137, "question_id": 57501929, "link": "https://stackoverflow.com/questions/57501929/how-to-use-ajax-on-asp-net-mvc-razorpage", "title": "How to use AJAX on ASP.NET MVC RazorPage", "body": "<p>I am trying to create a cascading DropDownList on ASP.NET RazorPage. After doing some research I found the most common way to do the task is utilizing jQuery in my View. Nearly all demos and examples I found online implement a cascading DropDownList in previous ASP.NET versions, more specifically MVC. I tried translating these examples in the context of how I need them but I am having no luck, most likely due to syntax errors and/or other reasons.</p>\n\n<p>I am using ASP.NET Core 2.2</p>\n\n<p>I am having trouble specifically implementing the dynamic function call (GetSubCategory) whenever an item is selected in the first DropDownList which is displaying correctly</p>\n\n<pre><code>&lt;form asp-controller=\"my_dropdown\" asp-action=\"CreatePortfolio\" method=\"post\" class=\"form-horizontal\" role=\"form\"&gt;\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"alert-danger\" asp-validation-summary=\"ModelOnly\"&gt;&lt;/div&gt;\n            &lt;div class=\"col-xs-12 col-sm-6 col-md-6 col-lg-4\"&gt;\n                &lt;label for=\"CategoryName\"&gt;Category&lt;/label&gt;\n                @Html.DropDownList(\"categorylist\",\n                    new SelectList((System.Collections.IEnumerable)ViewData[\"categorylist\"], \"CategoryId\", \"CategoryName\"), \"Select Category\", \"CategoryName\")\n                &lt;label for=\"SubCategoryName\"&gt;Subcategory&lt;/label&gt;\n\n                @section scripts{\n                    &lt;script type=\"text/javascript\"&gt;\n                        //Insert default item \"Select\" in dropdownlist on load\n                        $(document).ready(function () {\n                            var items = \"&lt;option value='0'&gt;Select&lt;/option&gt;\";\n                            $(\"#colorselect\").html(items);\n                        });\n                    &lt;/script&gt;\n                    &lt;script type=\"text/javascript\"&gt;\n                        $(document).ready(function () {\n                            $(\"#CategoryId\").on(\"change\", function () {\n                                $list = $(\"#SubCategory\");\n\n                                $.ajax({\n                                    type: \"GET\",\n                                    url: '/CreatePortfolio',\n                                    data: { id: $(\"#CategoryId\").val() },\n                                    traditional: true,\n                                    success: function (response) {\n                                        $list.empty();\n                                        $.each(result, function (i, item) {\n                                            $list.append('&lt;option value=\"' + item[\"SubCategoryId\"] + '\"&gt; ' + item[\"SubCategoryName\"] + '&lt;/option&gt;');\n                                        });\n                                    },\n                                    error: function () {\n                                        alert(\"Something went wrong\"); // Hide loader icon\n                                    },\n                                });\n                            })\n                        })\n                    &lt;/script&gt;\n\n                }\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n</code></pre>\n\n<p>Code behind the view</p>\n\n<pre><code>        public JsonResult GetSubCategory(int CategoryId)\n        {\n            subcategorylist = _context.GetAllSubCategories(CategoryId);\n            //ViewData[\"subcategorylist\"] = subcategorylist;\n\n            return new JsonResult(subcategorylist);\n        } \n        public void OnGet()\n        {\n            // ----- Getting Data From Database Using Stored Procedure -----\n             categorylist = _context.GetAllCategoires();\n\n            // ----- Assigning categorylist to ViewData[\"categorylist\"] in order to access it in the view -----\n            ViewData[\"categorylist\"] = categorylist;\n        }\n\n\nI want the code to correctly display the SubCategories associated to the Category by CategoryId which is a field in both classes/tables\n</code></pre>\n"}, {"tags": ["c#", "winforms", "zxing", "zxing.net"], "comments": [{"owner": {"reputation": 1966, "user_id": 1293800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/774a908844dc9e30d76e2bf7a038291c?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1293800/michael"}, "edited": false, "score": 0, "creation_date": 1567492525, "post_id": 57501864, "comment_id": 101967696, "body": "I tried the current winforms demo application from the zxing.net project (<a href=\"https://github.com/micjahn/ZXing.Net/tree/master/Clients/WindowsFormsDemo\" rel=\"nofollow noreferrer\">github.com/micjahn/ZXing.Net/tree/master/Clients/&hellip;</a>) with your sample image and it decodes successfully. It is a Code 39. Your code in the method timer1_Tick is ok. If no barcode format is specified zxing tries all supported formats."}, {"owner": {"reputation": 12968, "user_id": 86431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a90d03e6464b450b1fb50aaaf35885b?s=128&d=identicon&r=PG", "display_name": "Eric Brown - Cal", "link": "https://stackoverflow.com/users/86431/eric-brown-cal"}, "reply_to_user": {"reputation": 1966, "user_id": 1293800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/774a908844dc9e30d76e2bf7a038291c?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1293800/michael"}, "edited": false, "score": 0, "creation_date": 1567702902, "post_id": 57501864, "comment_id": 102051573, "body": "Turns out the camera i have it too low a resolution to see the barcode with sufficient clarity"}], "owner": {"reputation": 12968, "user_id": 86431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8a90d03e6464b450b1fb50aaaf35885b?s=128&d=identicon&r=PG", "display_name": "Eric Brown - Cal", "link": "https://stackoverflow.com/users/86431/eric-brown-cal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569618909, "creation_date": 1565815742, "last_edit_date": 1569618909, "question_id": 57501864, "link": "https://stackoverflow.com/questions/57501864/trying-to-make-a-zxing-winforms-sample-decode-more-formats-including-code-39", "title": "Trying to make a Zxing winforms sample decode more formats including code_39", "body": "<p>I'm trying to work with winforms c# samples, as eventually this is going in an existing winforms app.</p>\n\n<p>I found a nice small example for taking input from a video camera and getting a barcode and then decoding it. Works great...</p>\n\n<p>but it doesn't decode the type of barcode we are printing in-house, (i think it's code 39, but i'm not sure so i need a more general answer if possible.)</p>\n\n<p>Here is the code i'm using, as my sample winform, there are several controls used but not declared here.</p>\n\n<pre><code>using System;\n</code></pre>\n\n<p>using System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing AForge.Video;\nusing AForge.Video.DirectShow;\nusing ZXing;</p>\n\n<p>namespace zxingTest\n{\n    public partial class Form1 : Form\n    {\n        FilterInfoCollection filterInfoCollection;\n        VideoCaptureDevice videoCaptureDevice;\n        public Form1()\n        {\n            InitializeComponent();\n        }</p>\n\n<pre><code>    private void button1_Click( object sender, EventArgs e )\n    {\n        videoCaptureDevice = new VideoCaptureDevice( filterInfoCollection[cboCamera.SelectedIndex].MonikerString );\n        videoCaptureDevice.NewFrame += FinalFrame_NewFrame;\n        videoCaptureDevice.Start();\n    }\n\n    private void Form1_Load( object sender, EventArgs e )\n    {\n        filterInfoCollection = new FilterInfoCollection( FilterCategory.VideoInputDevice );\n        foreach ( FilterInfo Device in filterInfoCollection )\n            cboCamera.Items.Add( Device.Name );\n        cboCamera.SelectedIndex = 0;\n        videoCaptureDevice = new VideoCaptureDevice();\n        timer1.Start();\n    }\n\n    private void FinalFrame_NewFrame( object sender, NewFrameEventArgs eventArgs )\n    {\n        pictureBox1.Image = ( Bitmap ) eventArgs.Frame.Clone();\n    }\n\n    private void timer1_Tick( object sender, EventArgs e )\n    {\n        BarcodeReader Reader = new BarcodeReader();\n        //BarDecoder\n\n        if (null != pictureBox1.Image)\n        {\n            Result result = Reader.Decode((Bitmap) pictureBox1.Image);\n            if (result != null)\n            {\n                txtResult.Text = result.ToString();\n            }\n            //Result result = Reader.((Bitmap) pictureBox1.Image);\n            //if ()\n        }\n    }\n\n    private void btnDecode_Click( object sender, EventArgs e )\n    {\n        //timer1.Start();\n    }\n\n    private void Form1_FormClosing( object sender, FormClosingEventArgs e )\n    {\n        if ( videoCaptureDevice.IsRunning == true )\n            videoCaptureDevice.Stop();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>In the timer1_tick method, it decodes a UPC barcode just fine... but ours are ignored.</p>\n\n<p>There are lots of examples for android, etc, but I can't find any for straight windows and  I haven't found decoratively that its identical across implementations.</p>\n\n<p>How do i convert the sample above to process more types, specifically code_93</p>\n\n<p>I found info about using BarDecoder instead of BarReader, but it does not seem to be a declared type</p>\n\n<p>Here is the barcode I'm trying to read</p>\n\n<p><a href=\"https://i.stack.imgur.com/KWLLC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KWLLC.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "tinymce", "tinymce-4"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 2370664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6cd903cc77e046b1f80c6afadbdeba70?s=128&d=identicon&r=PG", "display_name": "user2370664", "link": "https://stackoverflow.com/users/2370664/user2370664"}, "edited": false, "score": 0, "creation_date": 1565820347, "post_id": 57502328, "comment_id": 101474219, "body": "This kind of works.  It defaults to All Files(<i>) though.  Followed by All Supported Types (</i>.jpg, *.png).  I would prefer not to have the all files option be the default"}, {"owner": {"reputation": 11063, "user_id": 1603746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jdPtC.png?s=128&g=1", "display_name": "Michael Fromin", "link": "https://stackoverflow.com/users/1603746/michael-fromin"}, "reply_to_user": {"reputation": 139, "user_id": 2370664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6cd903cc77e046b1f80c6afadbdeba70?s=128&d=identicon&r=PG", "display_name": "user2370664", "link": "https://stackoverflow.com/users/2370664/user2370664"}, "edited": false, "score": 0, "creation_date": 1565832289, "post_id": 57502328, "comment_id": 101476297, "body": "@user2370664 please see the fiddle I created - with the code I suggested I am only allowed to pick jpg and gif files.  Do you get something different?"}], "tags": [], "owner": {"reputation": 11063, "user_id": 1603746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jdPtC.png?s=128&g=1", "display_name": "Michael Fromin", "link": "https://stackoverflow.com/users/1603746/michael-fromin"}, "is_accepted": true, "score": 0, "last_activity_date": 1565877385, "last_edit_date": 1565877385, "creation_date": 1565818207, "answer_id": 57502328, "question_id": 57501830, "link": "https://stackoverflow.com/questions/57501830/tinymce-image-upload-restrict-file-types/57502328#57502328", "title": "TinyMCE image upload. Restrict file types", "body": "<p>The accept attribute allows you to be more specific than <code>image/*</code> but I think your formatting is off.  In an actual image tag you would do this:</p>\n\n<pre><code>&lt;input type=\"file\" name=\"myImage\" accept=\"image/x-png,image/gif,image/jpeg\" /&gt;\n</code></pre>\n\n<p>So try something like:</p>\n\n<pre><code>input.setAttribute('accept', 'image/jpg, image/gif');\n</code></pre>\n\n<p>Here is a TinyMCE Fiddle that shows this in action:</p>\n\n<p><a href=\"http://fiddle.tinymce.com/ROgaab\" rel=\"nofollow noreferrer\">http://fiddle.tinymce.com/ROgaab</a></p>\n\n<p>I did not hook up the file picker to anything so once you pick the file it won't actually do anything but setting that <code>input.setAttribute()</code> as I showed above limits me to picking just those two file types.</p>\n"}], "owner": {"reputation": 139, "user_id": 2370664, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/6cd903cc77e046b1f80c6afadbdeba70?s=128&d=identicon&r=PG", "display_name": "user2370664", "link": "https://stackoverflow.com/users/2370664/user2370664"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 57502328, "answer_count": 1, "score": 0, "last_activity_date": 1567718564, "creation_date": 1565815573, "last_edit_date": 1567718564, "question_id": 57501830, "link": "https://stackoverflow.com/questions/57501830/tinymce-image-upload-restrict-file-types", "title": "TinyMCE image upload. Restrict file types", "body": "<p>I would like the TinyMCE file picker to only allow users to select .png and .jpg file types.  Here is my init:</p>\n\n<pre><code>tinymce.init({\n    selector: '#txtMessage',\n    plugins: [\n      'advlist lists link image charmap print preview hr',//anchor pagebreak autolink\n      'searchreplace wordcount fullscreen',  //visualchars  visualblocks code\n      'insertdatetime save table contextmenu directionality',//media nonbreaking\n      'emoticons paste textcolor colorpicker textpattern imagetools table' \n    ],\n    toolbar1: 'undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image',\n    toolbar2: 'print preview media | forecolor backcolor emoticons | codesample | table',\n    image_advtab: true,\n    relative_urls: false,\n    remove_script_host: false,\n    convert_urls: true,\n    force_br_newlines: false,\n    force_p_newlines: false,\n    forced_root_block: 'p',\n    encoding: \"UTF-8\",\n    automatic_uploads: true,\n    images_upload_url: '@Url.Action(\"Upload\", \"Home\", this.Request.Url.Scheme)',\n    file_picker_callback: function (cb, value, meta) {\n        var input = document.createElement('input');\n        input.setAttribute('type', 'file');\n        input.setAttribute('accept', 'image/*');\n\n        input.onchange = function () {\n            var file = this.files[0];\n            var id = 'blobid' + (new Date()).getTime();\n            var blobCache = tinymce.activeEditor.editorUpload.blobCache;\n            var blobInfo = blobCache.create(id, file);\n            blobCache.add(blobInfo);                \n            cb(blobInfo.blobUri(), { title: file.name });\n        };\n        input.click();\n    }\n});\n</code></pre>\n\n<p>In the <code>file_picker_callback</code> i have tried:</p>\n\n<pre><code>file_picker_callback: function (cb, value, meta) {\n    var input = document.createElement('input');\n    input.setAttribute('type', 'file');\n    input.setAttribute('accept', 'image/*.png, image/*.jpg');\n</code></pre>\n\n<p>This does not work as all file types are available for selection.  Is there a way to restrict the file picker to only allow .png and .jpg files?</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565831281, "post_id": 57501819, "comment_id": 101476144, "body": "How are you sending the files? My guess is that <code>Request.Form.Files</code> is an empty list (not <code>null</code>, but just has no entries). In that case, it would just skip the whole <code>foreach</code> loop and declare success. You can confirm this by setting a breakpoint in your <code>Update()</code> code."}, {"owner": {"reputation": 311, "user_id": 5024957, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-F17HOOlGLeM/AAAAAAAAAAI/AAAAAAAAAPw/F7r9ptDCx9c/photo.jpg?sz=128", "display_name": "Connor Williams", "link": "https://stackoverflow.com/users/5024957/connor-williams"}, "edited": false, "score": 0, "creation_date": 1565831522, "post_id": 57501819, "comment_id": 101476185, "body": "Is the api controller failing or is the angular site failing? You should try and hit the api endpoint using postman and see if it returns an error."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565831995, "post_id": 57501819, "comment_id": 101476252, "body": "@GabrielLuci If <code>Request.Form.Files</code> was empty, it would <code>return BadRequest();</code> (first <code>if</code> block)."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565832138, "post_id": 57501819, "comment_id": 101476279, "body": "Check your Network tab after attempting to upload a file using your Angular form -- you may be seeing errors. Perhaps 500 errors? If so, it means the identity your process is running under may not have permission to your file system to create the folder and files."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565832377, "post_id": 57501819, "comment_id": 101476315, "body": "@HereticMonkey Yeah I guess it would :) Missed that."}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1565853265, "post_id": 57501819, "comment_id": 101480168, "body": "Do you get any error in network tab? Try to enable asp.net core stdout log to check whether there is any error in server side. In addition, try to add log feature to every line to check which line stop your function."}, {"owner": {"reputation": 31, "user_id": 1460940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc5d72707c7579109a900e0a79bb7faa?s=128&d=identicon&r=PG", "display_name": "user1460940", "link": "https://stackoverflow.com/users/1460940/user1460940"}, "edited": false, "score": 0, "creation_date": 1565963848, "post_id": 57501819, "comment_id": 101518364, "body": "This is the answer. When uploaded to remote server, the client tried to send the files to the wron server. Thanks to everyone for your help"}], "owner": {"reputation": 31, "user_id": 1460940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc5d72707c7579109a900e0a79bb7faa?s=128&d=identicon&r=PG", "display_name": "user1460940", "link": "https://stackoverflow.com/users/1460940/user1460940"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565844010, "creation_date": 1565815530, "last_edit_date": 1565844010, "question_id": 57501819, "link": "https://stackoverflow.com/questions/57501819/why-doesnt-this-asp-net-core-code-work-on-remote-host", "title": "Why doesn&#39;t this ASP.NET Core code work on remote host", "body": "<p>I have an Angular web site that works on my local host. When I upload it to a remote host, it fails without an error. Just doesn't save any files.</p>\n\n<p>I have searched the web for an answer. No joy.</p>\n\n<p>This never returns an error on either the local Visual Studio 2019 or the remote.</p>\n\n<p>Found the basic code on Microsoft site. Looked at a lot of angular sites</p>\n\n<pre><code>[Route(\"api/[controller]\")]\n[ApiController]\npublic class UploadController : ControllerBase\n{\n    private IHostingEnvironment env;\n\n    public UploadController(IHostingEnvironment hostingEnvironment)\n    {\n        env = hostingEnvironment;\n    }\n\n    [HttpPost, DisableRequestSizeLimit]\n    public async Task&lt;IActionResult&gt; Upload()\n    {\n        try\n        {\n            var files = Request.Form.Files;\n\n            if (files.Count &lt; 1)\n            {\n                return BadRequest();\n            }\n\n            if (files.Any(f =&gt; f.Length == 0))\n            {\n                return BadRequest();\n            }\n\n            foreach (var file in files)\n            {\n                string folderName = $\"Project_{file.FileName}\";\n                string webRootPath = env.WebRootPath;\n                string newPath = Path.Combine(Startup.documentPath, folderName);\n                if (!Directory.Exists(newPath))\n                {\n                    Directory.CreateDirectory(newPath);\n                }\n\n                if (file.Length &gt; 0)\n                {\n                    string fileName = ContentDispositionHeaderValue.Parse(file.ContentDisposition).Name.Trim('\"');\n                    string fullPath = Path.Combine(newPath, fileName);\n\n                    if (System.IO.File.Exists(fullPath))\n                    {\n                        System.IO.File.Delete(fullPath);\n                    }\n\n                    using (var stream = new FileStream(fullPath, FileMode.Create))\n                    {\n                         await file.CopyToAsync(stream);\n                    }\n                }\n            }\n\n            return Ok(\"All the files are successfully uploaded.\".csConverToJSON());\n        }\n        catch (Exception ex)\n        {\n            return StatusCode(500, ex.Message);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "sharepoint", "csom"], "comments": [{"owner": {"reputation": 343, "user_id": 2027672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d47836e018610bb2777cf19425f0515?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Le", "link": "https://stackoverflow.com/users/2027672/jack-le"}, "edited": false, "score": 0, "creation_date": 1565826002, "post_id": 57501712, "comment_id": 101475310, "body": "Do you set timeout for your <code>ClientContext</code> object ? Have you tried <code>ctx.RequestTimeout = System.Threading.Timeout.Infinite;</code> ?"}, {"owner": {"reputation": 53, "user_id": 9607577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7421172be6935a057831566d85d95fa?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzad Khan", "link": "https://stackoverflow.com/users/9607577/shahzad-khan"}, "reply_to_user": {"reputation": 343, "user_id": 2027672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d47836e018610bb2777cf19425f0515?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Le", "link": "https://stackoverflow.com/users/2027672/jack-le"}, "edited": false, "score": 0, "creation_date": 1565913813, "post_id": 57501712, "comment_id": 101502808, "body": "By setting that it will never timeout than"}, {"owner": {"reputation": 343, "user_id": 2027672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d47836e018610bb2777cf19425f0515?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Le", "link": "https://stackoverflow.com/users/2027672/jack-le"}, "edited": false, "score": 0, "creation_date": 1566008551, "post_id": 57501712, "comment_id": 101531279, "body": "It&#39;s just an example, you can set to any amount you like."}, {"owner": {"reputation": 53, "user_id": 9607577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7421172be6935a057831566d85d95fa?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzad Khan", "link": "https://stackoverflow.com/users/9607577/shahzad-khan"}, "reply_to_user": {"reputation": 343, "user_id": 2027672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d47836e018610bb2777cf19425f0515?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Le", "link": "https://stackoverflow.com/users/2027672/jack-le"}, "edited": false, "score": 0, "creation_date": 1566098280, "post_id": 57501712, "comment_id": 101546853, "body": "I tried by setting timeout to infinite but that doesn\u2019t solve problem. It is actually after executing specific number of queries say 3 and then timeout on every next"}, {"owner": {"reputation": 343, "user_id": 2027672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d47836e018610bb2777cf19425f0515?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Le", "link": "https://stackoverflow.com/users/2027672/jack-le"}, "edited": false, "score": 0, "creation_date": 1566216237, "post_id": 57501712, "comment_id": 101574368, "body": "But you mentioned that it always happen after 1st call to the <code>ExecuteQuery</code>? Have you tried creating a new <code>ClientContext</code> every call instead of reusing ?"}, {"owner": {"reputation": 53, "user_id": 9607577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7421172be6935a057831566d85d95fa?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzad Khan", "link": "https://stackoverflow.com/users/9607577/shahzad-khan"}, "reply_to_user": {"reputation": 343, "user_id": 2027672, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d47836e018610bb2777cf19425f0515?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Le", "link": "https://stackoverflow.com/users/2027672/jack-le"}, "edited": false, "score": 0, "creation_date": 1568422278, "post_id": 57501712, "comment_id": 102280513, "body": "would that be necessary to create a new ClientContex. Would that effect any performance. Is this can be something with size of the fiel"}], "owner": {"reputation": 53, "user_id": 9607577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7421172be6935a057831566d85d95fa?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzad Khan", "link": "https://stackoverflow.com/users/9607577/shahzad-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1850, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565814964, "creation_date": 1565814964, "question_id": 57501712, "link": "https://stackoverflow.com/questions/57501712/how-to-fix-executequery-the-underlying-connection-was-closed", "title": "How to fix ExecuteQuery The underlying connection was closed", "body": "<p>I am working on small application which copies files from one sharepoint library to another library. I am using Microsoft.SharePoint.Client.File.SaveBinaryDirect to copy file over to the other library. After copying file to destination any kind of 1st call to ExecuteQuery() throws exception. </p>\n\n<pre><code>System.Net.WebException: The underlying connection was closed: A connection that was expected to be kept alive was closed by the server.\n   at System.Net.HttpWebRequest.GetResponse()\n   at Microsoft.SharePoint.Client.SPWebRequestExecutor.Execute()\n   at Microsoft.SharePoint.Client.ClientRequest.ExecuteQueryToServer(ChunkStringBuilder sb)\n   at Microsoft.SharePoint.Client.ClientRequest.ExecuteQuery()\n   at Microsoft.SharePoint.Client.ClientRuntimeContext.ExecuteQuery()\n   at Microsoft.SharePoint.Client.ClientContext.ExecuteQuery()\n</code></pre>\n\n<p>After exception the next call to ExecuteQuery() works perfectly. So only issue is with 1st call after copying file to destination.</p>\n\n<p>This error occurs when copying PDF file to destination. It works with other type of documents e.g doc,xls,xml.</p>\n\n<p>These files are copied on destination by creating sub directories and i already tried to refresh the root folders on destination. </p>\n\n<p>I expect after copying file it should be able to run another query like to verify file is exist on destination and update some listitem attributes too, but it throwing an excption on any executequery() call.</p>\n\n<pre><code>public static bool CopyFile(string srcRelitivePath, string destRelitivePath)\n{\n    try\n    {\n        Microsoft.SharePoint.Client.File file = sourceContext.Web.GetFileByServerRelativeUrl(srcRelitivePath);\n        sourceContext.Load(file);\n        sourceContext.ExecuteQuery();\n        FileInformation fileInfo = Microsoft.SharePoint.Client.File.OpenBinaryDirect(sourceContext, file.ServerRelativeUrl);\n        Microsoft.SharePoint.Client.File.SaveBinaryDirect(destinationContext, destRelitivePath, fileInfo.Stream, true);\n        log.Debug(\"Uploaded file size is \" + file.Length);\n        return true;\n    }\n    catch (Exception ex)\n    {\n        log.Debug(ex.Message);\n        return false;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "angular", "asp.net-core", "sql-server-2016"], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 6595602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bMLkl.jpg?s=128&g=1", "display_name": "Ikacho", "link": "https://stackoverflow.com/users/6595602/ikacho"}, "is_accepted": false, "score": 1, "last_activity_date": 1565818452, "creation_date": 1565818452, "answer_id": 57502368, "question_id": 57501684, "link": "https://stackoverflow.com/questions/57501684/cannot-seem-connect-to-sql-server-through-asp-net-core-keeps-returning-a-null/57502368#57502368", "title": "Cannot seem connect to SQL Server through ASP.Net Core (keeps returning a null)", "body": "<p>In asp.net Core you shouldn't use ConfigurationManager to from appsettings.json, that's why you get null. Instead:</p>\n\n<p>In Startup.cs</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    ...\n    // Add the whole configuration object here.\n    services.AddSingleton&lt;IConfiguration&gt;(Configuration);\n}\n</code></pre>\n\n<p>In your controller add a field for the configuration and a parameter for it on a constructor</p>\n\n<pre><code>private readonly IConfiguration configuration;\n\npublic HomeController(IConfiguration config) \n{\n    configuration = config;\n}\n</code></pre>\n\n<p>Now later in your view code you can access it like:</p>\n\n<pre><code>connectionString = configuration.GetConnectionString(\"Local_One\");\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/39083372/how-to-read-connection-string-in-net-core\">Original source</a> </p>\n"}], "owner": {"reputation": 97, "user_id": 11929015, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8PB3ZoqL_4o/AAAAAAAAAAI/AAAAAAAAAIo/kicuobdEaRQ/photo.jpg?sz=128", "display_name": "MrTheBarintokyo", "link": "https://stackoverflow.com/users/11929015/mrthebarintokyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1565844640, "creation_date": 1565814861, "last_edit_date": 1565844640, "question_id": 57501684, "link": "https://stackoverflow.com/questions/57501684/cannot-seem-connect-to-sql-server-through-asp-net-core-keeps-returning-a-null", "title": "Cannot seem connect to SQL Server through ASP.Net Core (keeps returning a null)", "body": "<p>I am trying to connect to my local SQL Server through the Configuration Manager via an n-tier architecture design. In short, I want to query data from my local database, serialize it from a DataSet to a JSON, and have it being read in a JSON format so that I can listen to it from my Angular side.</p>\n\n<p>I tested my n-tier by implementing it in a console app and the result is as it should be, but throwing that exact n-tier into my ASP.NET Core build and it keeps returning</p>\n\n<blockquote>\n  <p>System.Configuration.ConnectionStringSettingsCollection.this[string].get returned null.</p>\n</blockquote>\n\n<p>At first I implemented web.config because I did not know of <code>appsettings.json</code>, but when I tried to call <code>ConnectionString</code> from that json file through a GET, it keeps returning null (can be anything).</p>\n\n<p>At the BLL class, I tried removing the controller inheritance, but then no value gets shown.</p>\n\n<p>I also tried that whole <code>Startup</code> method, but that required too many dependencies.</p>\n\n<p>Folder structure:</p>\n\n<pre><code>Controller -&gt; N-Tier -&gt; DBConn;DAL;BLL;\n</code></pre>\n\n<p>appsettings.json</p>\n\n<pre><code>\"ConnectionStrings\": \n  { \"Local_One\": \"Data source=localhost;Initial Catalog=VAS; User ID=user101; Password=password1;Trusted_Connection=True;MultipleActiveResultSets=true;\" },\n\n\npublic class DBConn\n{\n    public string ConnectionString()\n    {\n        //Also where the error gets caught\n        return ConfigurationManager.ConnectionStrings[\"Local_One\"].ConnectionString;\n    }\n}\n</code></pre>\n\n<p>public class DAL</p>\n\n<pre><code>public class DAL\n{\n    SqlConnection conn = new SqlConnection(new DBConn().ConnectionString());\n    public string query = null;\n    SqlDataAdapter da = new SqlDataAdapter();\n    DataSet ds = new DataSet();\n    int i = 0;\n\n    public DataSet GetAllUserTypes()\n    {\n        if(conn.State == ConnectionState.Closed)\n        {\n            conn.Open();\n        }\n\n        try\n        {\n            query = \"sp_GETUSERTYPES\"; //calls a stored procedure\n            da.SelectCommand = new SqlCommand(query,conn);\n            da.Fill(ds);\n            ds.Tables[0].TableName = \"USER TYPES\";\n            da.Dispose();\n            conn.Close();\n        }\n        catch(SqlException e)\n        {\n        }\n\n        return ds;\n    }\n}\n</code></pre>\n\n<p>public class BLL</p>\n\n<pre><code>[Produces(\"application/json\")]\n[Route(\"api/N-Tier/BLL/[action]\")]//localhost:5000/api/N-Tier/BLL/GetAllUserTypes\npublic class BLL:Controller\n{\n    DAL dal = new DAL();\n\n    public string GetAllUserTypes()\n    {\n        return JsonConvert.SerializeObject(dal.GetAllUserTypes(),Formatting.Indented);//using Newtonsoft.Json;\n    }\n}\n</code></pre>\n\n<p>Expected result (which I got from a Console App.config):</p>\n\n<pre><code>{\n  \"USERS\": [\n    {\n      \"userTypeID\": 1,\n      \"userTypeDescription\": \"Registered_User\"\n    },\n    {\n      \"userTypeID\": 2,\n      \"userTypeDescription\": \"Administrator\"\n    },\n    {\n      \"userTypeID\": 3,\n      \"userTypeDescription\": \"Moderator\"\n    }\n  ]\n}\n</code></pre>\n\n<p>Error message:</p>\n\n<blockquote>\n  <p>System.Configuration.ConnectionStringSettingsCollection.this[string].get returned null.</p>\n</blockquote>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "itemtemplate", "bindable"], "comments": [{"owner": {"reputation": 259, "user_id": 1059614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIILe.png?s=128&g=1", "display_name": "Rajesh Sonar", "link": "https://stackoverflow.com/users/1059614/rajesh-sonar"}, "edited": false, "score": 1, "creation_date": 1565816615, "post_id": 57501426, "comment_id": 101473136, "body": "Fortunately Row, Column, RowSpan and ColumnSpan are bindable properties. So you can use a binding with converter to find out Row, Column and ColumnSpan for a given item."}, {"owner": {"reputation": 97, "user_id": 6566878, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153741915413730/picture?type=large", "display_name": "Herb", "link": "https://stackoverflow.com/users/6566878/herb"}, "reply_to_user": {"reputation": 259, "user_id": 1059614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIILe.png?s=128&g=1", "display_name": "Rajesh Sonar", "link": "https://stackoverflow.com/users/1059614/rajesh-sonar"}, "edited": false, "score": 0, "creation_date": 1565825338, "post_id": 57501426, "comment_id": 101475199, "body": "I know so but how can I do this if my model doesn&#39;t have these column/row properties :( I&#39;m only calling the posts from my json file but I can&#39;t imagine the way to do it"}, {"owner": {"reputation": 1669, "user_id": 1341538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Busrg.jpg?s=128&g=1", "display_name": "Andres Castro", "link": "https://stackoverflow.com/users/1341538/andres-castro"}, "edited": false, "score": 0, "creation_date": 1565880258, "post_id": 57501426, "comment_id": 101491040, "body": "@Herb Can you not add them to your model? Read your json into models and then loop through posts and decide on row/column stuff programatically."}, {"owner": {"reputation": 97, "user_id": 6566878, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153741915413730/picture?type=large", "display_name": "Herb", "link": "https://stackoverflow.com/users/6566878/herb"}, "reply_to_user": {"reputation": 1669, "user_id": 1341538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Busrg.jpg?s=128&g=1", "display_name": "Andres Castro", "link": "https://stackoverflow.com/users/1341538/andres-castro"}, "edited": false, "score": 0, "creation_date": 1565886190, "post_id": 57501426, "comment_id": 101493890, "body": "@AndresCastro Is not that I can&#39;t but another user will be creating the posts and he will have no idea of the row/column order, besides if the list is let&#39;s say re-arranged the blocks will be all around."}], "owner": {"reputation": 97, "user_id": 6566878, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153741915413730/picture?type=large", "display_name": "Herb", "link": "https://stackoverflow.com/users/6566878/herb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 569, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565825454, "creation_date": 1565813574, "last_edit_date": 1565825454, "question_id": 57501426, "link": "https://stackoverflow.com/questions/57501426/change-programmatically-the-rows-and-columns-in-xamarin-forms", "title": "Change programmatically the Rows and Columns in Xamarin Forms", "body": "<p>I'm filling a grid with an observablecollection from my viewmodel but I want to get that grid formatted as follows: \n(Note my model has no row/column information just calls the posts as shown in the code)\n<a href=\"https://i.stack.imgur.com/119g3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/119g3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>My code now looks like this:</p>\n\n<pre><code>&lt;StackLayout BindableLayout.ItemsSource=\"{Binding Posts}\"&gt;\n  &lt;BindableLayout.ItemTemplate&gt;\n     &lt;DataTemplate&gt;\n       &lt;Grid Margin=\"5\" RowSpacing=\"0\" x:Name=\"postsTable\"&gt;\n       &lt;Grid.ColumnDefinitions&gt;\n          &lt;ColumnDefinition Width=\"*\"/&gt;\n          &lt;ColumnDefinition Width=\"*\"/&gt;\n       &lt;/Grid.ColumnDefinitions&gt;\n          &lt;Grid.RowDefinitions&gt;\n             &lt;RowDefinition Height=\"200\"/&gt;\n          &lt;/Grid.RowDefinitions&gt;\n\n  &lt;ImageButton Grid.Row=\"0\" Grid.Column=\"0\" Grid.ColumnSpan=\"1\" Source=\"{Binding postImage}\"  VerticalOptions=\"Fill\" HorizontalOptions=\"Fill\" Aspect=\"AspectFill\" Clicked=\"News1_Clicked\"/&gt;\n  &lt;StackLayout Grid.Row=\"0\" Grid.Column=\"0\" Grid.ColumnSpan=\"1\" VerticalOptions=\"End\" HorizontalOptions=\"Start\" Margin=\"10\"&gt;\n  &lt;Label Text=\"{Binding title}\" FontFamily=\"{StaticResource BoldFont}\" StyleClass=\"titlesqr\"/&gt;\n  &lt;Label Text=\"{Binding subtitle}\" FontFamily=\"{StaticResource NormalFont}\" StyleClass=\"textsqr\"/&gt;\n  &lt;/StackLayout&gt;\n\n      &lt;/Grid&gt;\n   &lt;/DataTemplate&gt;\n&lt;/BindableLayout.ItemTemplate&gt;\n</code></pre>\n\n<p>How can I put the rows / columns /columnspan information to achieve this view?</p>\n"}, {"tags": ["c#", ".net", "csvhelper"], "comments": [{"owner": {"reputation": 1803, "user_id": 3773983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bKc9i.jpg?s=128&g=1", "display_name": "Dave Barnett", "link": "https://stackoverflow.com/users/3773983/dave-barnett"}, "edited": false, "score": 0, "creation_date": 1565813826, "post_id": 57501382, "comment_id": 101472215, "body": "Are you saying that all objects in your records list have a middle name property that is always empty?"}], "answers": [{"tags": [], "owner": {"reputation": 1803, "user_id": 3773983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bKc9i.jpg?s=128&g=1", "display_name": "Dave Barnett", "link": "https://stackoverflow.com/users/3773983/dave-barnett"}, "is_accepted": false, "score": 1, "last_activity_date": 1565815376, "last_edit_date": 1565815376, "creation_date": 1565814137, "answer_id": 57501534, "question_id": 57501382, "link": "https://stackoverflow.com/questions/57501382/csvhealper-how-to-ignore-empty-columns-in-csv/57501534#57501534", "title": "CsvHealper - How to ignore empty columns in csv", "body": "<p>Project records to a list of objects that do not have the middle name property.  Something like this (using linq)</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>   var projectedRecords = records.Select(r =&gt; new PersonDto\n   {\n       FirstName = r.FirstName,\n       LastName = r.LastName,\n       Gender = r.Gender\n    }).ToList();\n</code></pre>\n\n<p>Then pass projectedRecords to the csvWriter. </p>\n"}, {"tags": [], "owner": {"reputation": 4121, "user_id": 2355006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6942d34ce55a65b370285e3c2c7e6da8?s=128&d=identicon&r=PG", "display_name": "David Specht", "link": "https://stackoverflow.com/users/2355006/david-specht"}, "is_accepted": true, "score": 0, "last_activity_date": 1566337442, "creation_date": 1566337442, "answer_id": 57581906, "question_id": 57501382, "link": "https://stackoverflow.com/questions/57501382/csvhealper-how-to-ignore-empty-columns-in-csv/57581906#57581906", "title": "CsvHealper - How to ignore empty columns in csv", "body": "<p>It is possible to use configuration to accomplish this.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static void Main(string[] args)\n{\n    var records = new List&lt;Foo&gt;\n    {\n        new Foo { FirstName = \"FName1\", LastName = \"LName1\", Gender = \"Male\"},\n        new Foo { FirstName = \"FName2\", LastName = \"LName2\", Gender = \"Female\"},\n        new Foo { FirstName = \"FName3\", LastName = \"LName3\"},\n    };\n\n    using (var csv = new CsvWriter(Console.Out))\n    {\n        var map = new FooMap();\n\n        var properties = typeof(Foo).GetProperties();\n\n        foreach (var property in properties)\n        {\n            if(records.All(foo =&gt; property.GetValue(foo) == null))\n            {\n                map.Map(typeof(Foo), property).Ignore();\n            }\n        }\n\n        csv.Configuration.RegisterClassMap(map);\n\n        csv.WriteRecords(records);\n    }\n\n    Console.ReadKey();\n}\n\npublic class Foo\n{\n    public string FirstName { get; set; }\n    public string MiddleName { get; set; }\n    public string LastName { get; set; }\n    public string Gender { get; set; }\n}\n\npublic class FooMap : ClassMap&lt;Foo&gt;\n{\n    public FooMap()\n    {\n        Map(m =&gt; m.FirstName).Name(\"First Name\");\n        Map(m =&gt; m.MiddleName).Name(\"Middle Name\");\n        Map(m =&gt; m.LastName).Name(\"Last Name\");\n        Map(m =&gt; m.Gender);\n    }\n}\n</code></pre>\n\n<p>And if you didn't want to create a separate class map, just replace <code>FooMap</code> with <code>DefaultClassMap&lt;Foo&gt;</code> and use <code>AutoMap</code>.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var map = new DefaultClassMap&lt;Foo&gt;();\nmap.AutoMap();\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11927463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d6b7ff81b578bb139e3e8dfba0f0a9e?s=128&d=identicon&r=PG&f=1", "display_name": "Mhadipor", "link": "https://stackoverflow.com/users/11927463/mhadipor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 57581906, "answer_count": 2, "score": 0, "last_activity_date": 1566337442, "creation_date": 1565813382, "question_id": 57501382, "link": "https://stackoverflow.com/questions/57501382/csvhealper-how-to-ignore-empty-columns-in-csv", "title": "CsvHealper - How to ignore empty columns in csv", "body": "<p>New to csvHelper. I'd like to delete empty columns from csv file. \nI'm using CsvWriter to write the csv row definition class to stream.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>var records = getRecords(); // list of row definition items\nvar stream = new MemoryStream();\nvar writer = new StreamWriter(stream);\nusing (var csv = new CsvWriter(writer))\n{\n    csv.WriteRecords(records);\n    writer.Flush();\n    return stream;\n}\n</code></pre>\n\n<p><strong>Is there any way to make CsvWriter ignore empty columns? maybe configuration?</strong></p>\n\n<pre><code>actual csv: \n\nFirst Name | Middle Name| Last Name |Gender\nFName1     |            | LName1    | Male\nFName2     |            | LName2    | Female\nFName3     |            | LName3    | \n\n\nexpected csv:\n\nFirst Name | Last Name |Gender\nFName1     | LName1    | Male\nFName2     | LName2    | Female\nFName3     | LName3    | \n\n</code></pre>\n"}, {"tags": ["c#", ".net", "dll", "visual-foxpro"], "comments": [{"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1565821554, "post_id": 57501366, "comment_id": 101474504, "body": "Your question is not clear and it doesn&#39;t look like a VFP error. It is saying it is not a valid .Net dll. Are you sure it is not a win32 DLL? And are you trying to use it from VFP or .Net? If from .Net then have a look at <a href=\"https://www.pinvoke.net\" rel=\"nofollow noreferrer\">pinvoke.net</a>"}, {"owner": {"reputation": 318, "user_id": 9220981, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77aaa2a2a5fbb636155f4f143e266e2?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio_aa", "link": "https://stackoverflow.com/users/9220981/ignacio-aa"}, "reply_to_user": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1565822735, "post_id": 57501366, "comment_id": 101474731, "body": "i need know calling manually functional DLL from COM DLL, example: public delegate void MyCallback(); [DllImport(&quot;MYFUNCTIONALDLL.DLL&quot;)] public static extern void MyFunction(MyCallback callback);"}, {"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1565857980, "post_id": 57501366, "comment_id": 101481802, "body": "OK, then have a look at PInvoke.net as I already said."}, {"owner": {"reputation": 318, "user_id": 9220981, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77aaa2a2a5fbb636155f4f143e266e2?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio_aa", "link": "https://stackoverflow.com/users/9220981/ignacio-aa"}, "reply_to_user": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1565962184, "post_id": 57501366, "comment_id": 101517446, "body": "i looked pinvoke.net"}, {"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1565964185, "post_id": 57501366, "comment_id": 101518541, "body": "You are saying COM DLL??? I am afraid it is not clear what you are trying to do. All the images were in Spanish. If you mean you want to use a COM DLL in .Net then did you register it in the first place? Next, did you use Tlbimp to import type info into .Net (you can add COM DLL to your project, VS would use Tlbimp for you). - And your project must target 32 bits (platform x86)."}, {"owner": {"reputation": 318, "user_id": 9220981, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77aaa2a2a5fbb636155f4f143e266e2?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio_aa", "link": "https://stackoverflow.com/users/9220981/ignacio-aa"}, "reply_to_user": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1565964333, "post_id": 57501366, "comment_id": 101518612, "body": "@cetinbasoz im trying comunicate with functional DLL from COM DLL with pinvoke method, i need return any parameter from functional DLL"}, {"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1565964360, "post_id": 57501366, "comment_id": 101518626, "body": "OK I don&#39;t understand what you are saying. Maybe someone can."}, {"owner": {"reputation": 318, "user_id": 9220981, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77aaa2a2a5fbb636155f4f143e266e2?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio_aa", "link": "https://stackoverflow.com/users/9220981/ignacio-aa"}, "reply_to_user": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1566060191, "post_id": 57501366, "comment_id": 101540733, "body": "it&#39;s is OLD Technolgy, im sorry for the confusion coleagues"}, {"owner": {"reputation": 15219, "user_id": 894977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f18198ad9bdf73fa1d90956f7028254?s=128&d=identicon&r=PG", "display_name": "Cetin Basoz", "link": "https://stackoverflow.com/users/894977/cetin-basoz"}, "edited": false, "score": 0, "creation_date": 1566064325, "post_id": 57501366, "comment_id": 101541697, "body": "There is not a problem in the technology, the problem is in your implementation (it doesn&#39;t have anything to do with PInvoke ). I can easily use VFP based COM DLL in C#."}], "answers": [{"tags": [], "owner": {"reputation": 318, "user_id": 9220981, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77aaa2a2a5fbb636155f4f143e266e2?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio_aa", "link": "https://stackoverflow.com/users/9220981/ignacio-aa"}, "is_accepted": false, "score": 0, "last_activity_date": 1565966269, "last_edit_date": 1592644375, "creation_date": 1565815238, "answer_id": 57501765, "question_id": 57501366, "link": "https://stackoverflow.com/questions/57501366/how-to-access-pinvoke-dll-from-dll-com-c-project/57501765#57501765", "title": "How to access PInvoke DLL from DLL COM C# Project&#191;?", "body": "<blockquote>\n<p>PINVOKE.NET</p>\n</blockquote>\n<p>Platform Invoke Tutorial\nPlatform Invocation Services (PInvoke) allows managed code to call unmanaged functions that are implemented in a DLL.</p>\n<p>This tutorial shows you what you need to do to be able to call unmanaged DLL functions from C#. The attributes discussed in the tutorial allow you to call these functions and have data types be marshaled correctly...</p>\n<blockquote>\n<p>Link: <a href=\"https://msdn.microsoft.com/en-us/ie/aa288468(v=vs.94)\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/ie/aa288468(v=vs.94)</a></p>\n<p>Link2: <a href=\"https://msdn.microsoft.com/en-us/ie/system.runtime.interopservices.dllimportattribute(v=vs.94)\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/ie/system.runtime.interopservices.dllimportattribute(v=vs.94)</a></p>\n<p>Link3: <a href=\"http://pinvoke.net\" rel=\"nofollow noreferrer\">http://pinvoke.net</a></p>\n</blockquote>\n"}], "owner": {"reputation": 318, "user_id": 9220981, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d77aaa2a2a5fbb636155f4f143e266e2?s=128&d=identicon&r=PG&f=1", "display_name": "Ignacio_aa", "link": "https://stackoverflow.com/users/9220981/ignacio-aa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565966269, "creation_date": 1565813299, "last_edit_date": 1565965004, "question_id": 57501366, "link": "https://stackoverflow.com/questions/57501366/how-to-access-pinvoke-dll-from-dll-com-c-project", "title": "How to access PInvoke DLL from DLL COM C# Project&#191;?", "body": "<blockquote>\n  <p>need to acces manually functional DLL (C++) with PINVOKE method, i don't how to access to signatures, this functional DLL is make for extern developers. exists another pinvoke method to return all values?</p>\n</blockquote>\n\n<p>Visual Fox Pro 9.0 bug: </p>\n\n<blockquote>\n  <p>This problem is the VFP application isn't accessing the external libraries, libserialport-0.dll and TransbankWrap.dll, from TransbankPosSDK.dll.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/qumN8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qumN8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Example C#</p>\n\n<pre><code>public delegate void MyCallback(); \n[DllImport(\"MYDLL.DLL\")] \npublic static extern void MyFunction(MyCallback callback);\n</code></pre>\n\n<blockquote>\n  <p>is this similar method?, you have another method to access with\n  pinvoke?</p>\n</blockquote>\n"}, {"tags": ["c#", "sql", "design-patterns"], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 5548486, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/58cc8033b4079737f05a0d6ec7ee08f7?s=128&d=identicon&r=PG&f=1", "display_name": "smally", "link": "https://stackoverflow.com/users/5548486/smally"}, "edited": false, "score": 0, "creation_date": 1565946978, "post_id": 57507542, "comment_id": 101510609, "body": "I don&#39;t see this as a solution for me. It may work for my example shown, but I have other queries that use aggregate functions that won&#39;t work how you suggested.  Also is there a performance hit? I assume fetching and displaying 1000 records and getting the DB to do the calculations is better rather than the App"}], "tags": [], "owner": {"reputation": 49, "user_id": 5635365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce7829cf4532b2e3135afe85e2aa3334?s=128&d=identicon&r=PG&f=1", "display_name": "DGi", "link": "https://stackoverflow.com/users/5635365/dgi"}, "is_accepted": false, "score": 0, "last_activity_date": 1565861031, "creation_date": 1565861031, "answer_id": 57507542, "question_id": 57501337, "link": "https://stackoverflow.com/questions/57501337/how-to-design-an-application-to-model-a-query-with-calculated-fields/57507542#57507542", "title": "How to design an application to model a query with calculated fields", "body": "<p>As i dont see these calculated fields in your WHERE clauses i would put these values into get-only Properties and calculate them on demand, if they are only used in some special cases.</p>\n"}], "owner": {"reputation": 403, "user_id": 5548486, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/58cc8033b4079737f05a0d6ec7ee08f7?s=128&d=identicon&r=PG&f=1", "display_name": "smally", "link": "https://stackoverflow.com/users/5548486/smally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566219035, "creation_date": 1565813126, "last_edit_date": 1566219035, "question_id": 57501337, "link": "https://stackoverflow.com/questions/57501337/how-to-design-an-application-to-model-a-query-with-calculated-fields", "title": "How to design an application to model a query with calculated fields", "body": "<p>I'm creating an application to be a user interface for a database.</p>\n\n<p>I am using the Active Record design pattern, therefore I have coded Models to replicate the database Tables.  Everyone of my tables has an associated Model in my application</p>\n\n<p>As an example, here is my TenureHistory table and its Model in my application which stores an employee start date and end date at a company.</p>\n\n<p><a href=\"https://i.stack.imgur.com/w0y1e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w0y1e.png\" alt=\"ERD for TenureHistory\"></a></p>\n\n<pre><code>class TenureHistoryModel : DbConnector\n{\n    public int TenureId { get; set; }           // tenure_id (PK)\n    public EmployeeModel Employee { get; set; } // employee_id (FK)\n    public CompanyModel Company { get; set; }   // company_id (FK)\n    public string PaymentType { get; set; }     // payment_type\n    public DateTime StartDate { get; set; }     // start_date\n    public DateTime? EndDate { get; set; }      // end_date\n\n    public static TenureHistoryModel FindById(int tenureId)\n    {\n        TenureHistoryModel tenure = null;\n\n        DbDataReader dr = ExecuteSQL(\"SELECT * FROM tenure_history WHERE tenure_id = @TenureId\", new Parameter(\"@TenureId\", tenureId));\n\n        if (dr.NextRecord())\n        {\n            tenure = new TenureHistoryModel()\n            {\n                TenureId = dr.GetInt(\"tenure_id\"),\n                PaymentType = dr.GetString(\"payment_type\"),\n                StartDate = dr.GetDateTime(\"start_date\"),\n                EndDate = dr.GetDateTimeN(\"end_date\")\n            };\n            tenure.Employee.EmployeeId = dr.GetInt(\"employee_id\");\n            tenure.Company.CompanyId = dr.GetInt(\"company_id\");\n        }\n\n        dr.Close();\n\n        return tenure;\n    }\n</code></pre>\n\n<p>But sometimes I have SQL select queries that use calculated fields, for example:</p>\n\n<pre><code>-- MS Access SQL\nSELECT \n  employee.employee_id,\n  employee.firstname &amp; \" \" &amp; employee.surname AS full_name,\n  start_date,\n  end_date,\n  IIf(IsNull([end_date]),Date(),[end_date])-[start_date]+1 AS days_length,\n  (IIf(IsNull([end_date]),Date(),[end_date])-[start_date]+1)/365 AS years_length\nFROM\n  employee INNER JOIN tenure_history ON employee.employee_id = tenure_history.employee_id;\n</code></pre>\n\n<hr>\n\n<p>My question is, for queries like the above, in my application should I create another Model for the sole purpose of this one query used in my application.</p>\n\n<p>Or, should I add the DaysLength and YearsLength as properties in my TenureHistoryModel (and FullName in EmployeeModel) that would only ever get used for this particular query.</p>\n\n<p>Or, is there a different/better way</p>\n"}, {"tags": ["c#", "datatable"], "comments": [{"owner": {"reputation": 1, "user_id": 11928999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFLny.jpg?s=128&g=1", "display_name": "Crisonbo", "link": "https://stackoverflow.com/users/11928999/crisonbo"}, "edited": false, "score": 0, "creation_date": 1565813356, "post_id": 57501329, "comment_id": 101472027, "body": "DataTable dt;                  dt.Columns.Remove(&quot;Code&quot;);                  dt.Columns.RemoveAt(columnIndex);  it does not work"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1565814472, "post_id": 57501329, "comment_id": 101472482, "body": "Not all columns can be removed. See the docs in the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.data.datacolumncollection.canremove?view=netframework-4.8\" rel=\"nofollow noreferrer\">CanRemove</a> property"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1565825233, "post_id": 57501329, "comment_id": 101475177, "body": "Don&#39;t create a new <code>DataTable</code> and immediately throw it away; initialize <code>dt</code> to the value you want: <code>DataTable dt = classOne.Getdatatable();</code>. You don&#39;t show any attempt to remove a column..."}], "owner": {"reputation": 1, "user_id": 11928999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NFLny.jpg?s=128&g=1", "display_name": "Crisonbo", "link": "https://stackoverflow.com/users/11928999/crisonbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565828968, "creation_date": 1565813062, "last_edit_date": 1565828968, "question_id": 57501329, "link": "https://stackoverflow.com/questions/57501329/how-to-remove-a-column-by-name-of-a-datatable", "title": "How to remove a column by name of a datatable", "body": "<p>remove a column from the datatable identifying it by name</p>\n\n<pre><code>   DataTable dt;\n   dt.Columns.Remove(\"columnName\");\n   dt.Columns.RemoveAt(columnIndex);\n</code></pre>\n\n<p>it does not work</p>\n\n<pre><code>  DataTable dt = new DataTable();\n  dt= classOne.Getdatatable();\n  dt.TableName = \"TablaDatos\";//columns:  \"Name\" y \"Code\"\n</code></pre>\n\n<p>I hope to remove the \"Code\" column</p>\n"}, {"tags": ["c#", "ienumerable"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 3, "creation_date": 1565813100, "post_id": 57501296, "comment_id": 101471923, "body": "Let me ask you this:  can <code>PaymentMethods</code> be cast back to a <code>List&lt;PaymentMethod&gt;</code> and modified?"}, {"owner": {"reputation": 73, "user_id": 11929057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUSBK.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/11929057/nick"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565813671, "post_id": 57501296, "comment_id": 101472160, "body": "Yeah you are right. Someone could cast the return value of the method back to a List&lt;PaymentMethod&gt; and modify it which could be a potential danger. Thanks for the question, so I had to think about it myself.  I&#39;m kinda new to all that stuff, thus I&#39;m very grateful for the quick response!"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 11929057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUSBK.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/11929057/nick"}, "edited": false, "score": 0, "creation_date": 1565813854, "post_id": 57501361, "comment_id": 101472229, "body": "Thanks for the detailed answer. Amy indicicated the same thing with her post and both of you are right of course!"}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1565814438, "post_id": 57501361, "comment_id": 101472465, "body": "If you want to take a shallow clone of the <code>List&lt;&gt;</code> and then wrap the clone, you can do <code>_paymentMethods.ToList().AsReadOnly();</code>. Then no-one else will have a reference to the underlying collection. Of course, someone could still obtain that reference with reflection, as before."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 0, "creation_date": 1565817078, "post_id": 57501361, "comment_id": 101473281, "body": "@JeppeStigNielsen: Right, or just omit the <code>AsReadOnly</code> and hand out a mutable copy; if the caller mutates the copy, they&#39;re allowed to. But that then means that if you have data that never changes, you still have to make a copy every time you hand it out, which is wasteful."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 73, "user_id": 11929057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUSBK.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/11929057/nick"}, "edited": false, "score": 1, "creation_date": 1565817323, "post_id": 57501361, "comment_id": 101473350, "body": "@Nick: You are welcome. This design consideration factored into the design of LINQ. In LINQ if you have <code>x = from y in z select y;</code> that compiles into <code>x = z.Select(y =&gt; y);</code> which does not have referential identity with <code>z</code>. But <code>x = from y in z where p(y) select y;</code> compiles into <code>x = z.Where(y =&gt; p(y));</code> -- no <code>Select</code> -- because the compiler knows that the redundant <code>Select</code> is not needed in order to ensure that the reference is different!"}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 9, "last_activity_date": 1565813281, "creation_date": 1565813281, "answer_id": 57501361, "question_id": 57501296, "link": "https://stackoverflow.com/questions/57501296/does-asreadonly-make-sense-if-you-cast-it-in-an-ienumerable-eventually/57501361#57501361", "title": "Does AsReadOnly make sense if you cast it in an IEnumerable eventually?", "body": "<blockquote>\n  <p>What is the point of using <code>AsReadOnly</code> if you only need an enumerable?</p>\n</blockquote>\n\n<p>The point is that <code>AsReadOnly</code> ensures that a low-trust hostile or buggy caller cannot cast back to a mutable collection.  </p>\n\n<blockquote>\n  <p>Would <code>AsEnumerable</code> be a better option?</p>\n</blockquote>\n\n<p>No. Try this:</p>\n\n<pre><code>List&lt;int&gt; list = new List&lt;int&gt;{ 10, 20, 30 };\n...\nIEnumerable&lt;int&gt; seq = list.AsEnumerable();\n// Or (IEnumerable&lt;int&gt;)list, or whatever.\n...\nList&lt;int&gt; list2 = (List&lt;int&gt;)seq;\nlist2[0] = 40;\n</code></pre>\n\n<p>And now we have changed <code>list[0]</code>.</p>\n\n<p>But <code>AsReadOnly</code> prevents this, as the read-only wrapper cannot be cast back to <code>List&lt;int&gt;</code>.</p>\n\n<p>Remember, <code>AsEnumerable</code> is just a visually nicer way to write a cast, and casts that are reference conversions are <em>reference conversions</em>.  The reference is not changed and it can be changed back to its actual type!</p>\n\n<p>Of course, a hostile or buggy caller that has full trust can arbitrarily break the safety system, because full trust means <em>full trust</em>. A read only collection maintains a reference to the original collection, and that reference can be retrieved via reflection.</p>\n\n<p>Also, remember that read-only means <em>read-only</em>, not <em>unchanging</em>.  A read-only wrapper around a mutable collection can still be <em>observed</em> to change; you just cannot change it <em>via the read-only wrapper</em>.</p>\n"}], "owner": {"reputation": 73, "user_id": 11929057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUSBK.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/11929057/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 1, "accepted_answer_id": 57501361, "answer_count": 1, "score": 3, "last_activity_date": 1565813715, "creation_date": 1565812940, "last_edit_date": 1565813715, "question_id": 57501296, "link": "https://stackoverflow.com/questions/57501296/does-asreadonly-make-sense-if-you-cast-it-in-an-ienumerable-eventually", "title": "Does AsReadOnly make sense if you cast it in an IEnumerable eventually?", "body": "<p>I saw some code in <a href=\"https://github.com/dotnet-architecture/eShopOnWeb\" rel=\"nofollow noreferrer\">this</a> project that got my attention.</p>\n\n<p>There is a simple method that calls AsReadOnly on a List. Instead of doing something with the ReadOnlyCollection the method returns it immediately and implicitly casts it into an IEnumerable.</p>\n\n<p>What is the point of using AsReadOnly if you only need an Enumerable? </p>\n\n<p>Would  AsEnumerable be a better option?</p>\n\n<pre><code>private List&lt;PaymentMethod&gt; _paymentMethods = new List&lt;PaymentMethod&gt;();\n\npublic IEnumerable&lt;PaymentMethod&gt; PaymentMethods =&gt; \n        _paymentMethods.AsReadOnly();\n</code></pre>\n"}, {"tags": ["c#", "ios", "visual-studio", "xamarin"], "comments": [{"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 1, "creation_date": 1565813608, "post_id": 57501278, "comment_id": 101472139, "body": "You will need to use the Mac directly for local UITests <a href=\"https://docs.microsoft.com/en-us/appcenter/test-cloud/uitest/working-with-ios-simulator?tabs=vswin\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/appcenter/test-cloud/uitest/&hellip;</a>"}, {"owner": {"reputation": 839, "user_id": 173416, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/umpEZ.png?s=128&g=1", "display_name": "klreeher", "link": "https://stackoverflow.com/users/173416/klreeher"}, "reply_to_user": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1565820823, "post_id": 57501278, "comment_id": 101474336, "body": "So, what&#39;s the purpose of Pair to Mac then?  I&#39;ve seen a couple different tutorials referencing using the paired mac as a remote connection in the build config, but I can&#39;t figure out how to actually run the tests on the mac from my windows machine.  (ex: <a href=\"https://www.jimbobbennett.io/ui-testing-your-xamarin-apps/\" rel=\"nofollow noreferrer\">jimbobbennett.io/ui-testing-your-xamarin-apps</a>)"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1565827055, "post_id": 57501278, "comment_id": 101475503, "body": "<code>...what&#39;s the purpose of Pair to Mac then...</code> To compile/debug the iOS project... in that link, he is using Visual Studio for Mac to run the tests."}], "answers": [{"tags": [], "owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "is_accepted": true, "score": 1, "last_activity_date": 1565838715, "creation_date": 1565838715, "answer_id": 57504438, "question_id": 57501278, "link": "https://stackoverflow.com/questions/57501278/visual-studio-pair-to-mac-only-available-in-some-solutions/57504438#57504438", "title": "Visual Studio Pair to Mac only available in some solutions", "body": "<p>To do Xamarin.UITest</p>\n\n<ul>\n<li>For <strong>Android</strong> apps: you can use either Visual studio for Windows or Visual studio for Mac.</li>\n<li>For <strong>iOS</strong> apps: you have to use a Mac, it is not support on Windows so\nfar.</li>\n</ul>\n\n<p>Refer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/53494275/i-would-like-to-connect-my-iphone-to-a-mac-mini-and-remotely-run-tests-on-it-fro/53511413#53511413\">i-would-like-to-connect-my-iphone-to-a-mac-mini-and-remotely-run-tests-on-it-fro</a> </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/appcenter/test-cloud/uitest/working-with-ios-simulator?tabs=vswin\" rel=\"nofollow noreferrer\">uitest</a></p>\n\n<p>There is also a feature request someone opened in Github and you can follow this to get the lasest information: <a href=\"https://github.com/microsoft/appcenter/issues/574\" rel=\"nofollow noreferrer\">Run Xamarin.UITest for iOS locally on Windows via connected Mac's iOS simulator</a></p>\n"}], "owner": {"reputation": 839, "user_id": 173416, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/umpEZ.png?s=128&g=1", "display_name": "klreeher", "link": "https://stackoverflow.com/users/173416/klreeher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57504438, "answer_count": 1, "score": 0, "last_activity_date": 1565838715, "creation_date": 1565812866, "question_id": 57501278, "link": "https://stackoverflow.com/questions/57501278/visual-studio-pair-to-mac-only-available-in-some-solutions", "title": "Visual Studio Pair to Mac only available in some solutions", "body": "<p>I have a Visual Studio project (on windows) with Xamarin UI Tests in it. I'd like to run them against a physical device connected to a Mac that I have access to. \nIn my UI test solution, I don't have access to Pair to Mac. The icon is present in the menu, but clicking on it does nothing. \nHowever, if I open a new ios template solution, or an existing ios templated solution, I can pair and connect to my mac just fine. </p>\n\n<p>Is there some setting I need to set on the solution to be able to use Pair to Mac? I'm on Visual Studio 2019, Windows 10 if it matters.</p>\n"}, {"tags": ["c#", "uwp", "uwp-xaml"], "answers": [{"tags": [], "owner": {"reputation": 5398, "user_id": 11602935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a4e672481f67041c0a2206bbf0cf104?s=128&d=identicon&r=PG&f=1", "display_name": "Faywang - MSFT", "link": "https://stackoverflow.com/users/11602935/faywang-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1565855380, "creation_date": 1565855380, "answer_id": 57506430, "question_id": 57501189, "link": "https://stackoverflow.com/questions/57501189/navigation-view-not-automatically-closing/57506430#57506430", "title": "Navigation View Not automatically closing", "body": "<p>About the first issue,if you want to it close/minimize the menu to the left upon selecting the item,you can add <strong>PaneDisplayMode=\"LeftCompact\"</strong>.In addition,the frame you set should be placed inside the NavigationView. In this case, the expanded sidebar will not be masked by the textBlock.</p>\n\n<pre><code>&lt;NavigationView x:Name=\"nvTopLevelNav\"\n            Loaded=\"nvTopLevelNav_Loaded\"\u200b\n            Margin=\"0,12,0,0\"\u200b\n            SelectionChanged=\"nvTopLevelNav_SelectionChanged\"\u200b\n            ItemInvoked=\"nvTopLevelNav_ItemInvoked\"\u200b\n            IsTabStop=\"False\"\u200b\n            PaneDisplayMode=\"LeftCompact\"\u200b\n           &gt;\n\n    ...\n    &lt;Frame x:Name=\"contentFrame\"  HorizontalAlignment=\"Center\" \n    VerticalAlignment=\"Center\"   Margin=\"50,12,50,50\"/&gt;\u200b\n&lt;/NavigationView&gt;\n</code></pre>\n\n<p>About the second issus, the reason for the error is that you did not add a tag to the NavigationViewItem, but added to the textblock.So when you tried to get item.Tag,it will crash.You can correct like below.</p>\n\n<pre><code>&lt;NavigationViewItem Icon=\"Home\"  x:Name=\"Nav_Home\" Tag=\"Nav_Home\"&gt;\n                    &lt;TextBlock&gt;Home&lt;/TextBlock&gt;\u200b\n&lt;/NavigationViewItem&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11476757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04d8f16ef164ae55741a10ef0e79989?s=128&d=identicon&r=PG&f=1", "display_name": "Davef", "link": "https://stackoverflow.com/users/11476757/davef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 57506430, "answer_count": 1, "score": 1, "last_activity_date": 1565855380, "creation_date": 1565812414, "last_edit_date": 1565844394, "question_id": 57501189, "link": "https://stackoverflow.com/questions/57501189/navigation-view-not-automatically-closing", "title": "Navigation View Not automatically closing", "body": "<p>After abit of back and forth and some good old googling I was able to get the Navigation view to work quiet well (somewhat proud of myself at this point).\nI have 2 Issues (maybe connected) the primary issue is that any time I select a menu item it correctly navigates however it fails to close/minimize the menu to the left upon selecting the item.(see screenshots bellow)\nThe second issue (which I suspect is connected) the line of code that is supposed to automatically select the homepage when opening the app keeps throwing an exception so I removed the line.\nThe would be line is line 40 on Mainpage.xaml.cs and its contents would be:</p>\n\n<pre><code>if (item is NavigationViewItem &amp;&amp; item.Tag.ToString() == \"Home_Page\")\n</code></pre>\n\n<p>What it looks like.\n<a href=\"https://i.imgur.com/a59TATs.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/a59TATs.png</a></p>\n\n<p>I tried to set a variable:</p>\n\n<pre><code>NavView.IsPanelOpen = false;\n</code></pre>\n\n<p>but i cannot find the correct spot to place it</p>\n\n<p>this is the MainPage.xaml</p>\n\n<pre><code>    &lt;Page\n\n   xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n   xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n   xmlns:local=\"using:RussMenu\"\n     xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n           xmlns:mc=\"http://schemas.openxmlformats.org/markup- \n      compatibility/2006\"\n     xmlns:Custom=\"using:Microsoft.Toolkit.Uwp.UI.Controls\"\n    x:Class=\"RussMenu.MainPage\"\n    mc:Ignorable=\"d\"\n     Background=\"{ThemeResource \n        ApplicationPageBackgroundThemeBrush}\"&gt;\n\n     &lt;Grid&gt;\n\n        &lt;NavigationView x:Name=\"nvTopLevelNav\"\n        Loaded=\"nvTopLevelNav_Loaded\"\n        Margin=\"0,12,0,0\"\n        SelectionChanged=\"nvTopLevelNav_SelectionChanged\"\n        ItemInvoked=\"nvTopLevelNav_ItemInvoked\"\n        IsTabStop=\"False\"\n\n       &gt;\n\n    &lt;NavigationView.MenuItems&gt;\n\n        &lt;NavigationViewItem Icon=\"Home\"  x:Name=\"Nav_Home\"&gt;\n            &lt;TextBlock Tag=\"Nav_Home\"&gt;Home&lt;/TextBlock&gt;\n        &lt;/NavigationViewItem&gt;\n\n        &lt;NavigationViewItem Icon=\"SaveLocal\"  \n     x:Name=\"Nav_Submit_COAQC_Results\"&gt;\n            &lt;TextBlock Tag=\"Nav_Submit_COAQC_Results\"&gt;Submit COA/QC \n    Results&lt;/TextBlock&gt;\n        &lt;/NavigationViewItem&gt;\n\n        &lt;NavigationViewItem Icon=\"Trim\"  \n        x:Name=\"Nav_Edit_Test_Results\"&gt;\n            &lt;TextBlock Tag=\"Nav_Edit_Test_Results\"&gt;Edit Test \n      Results&lt;/TextBlock&gt;\n          &lt;/NavigationViewItem&gt;\n\n        &lt;NavigationViewItem Icon=\"ReportHacked\"  \n     x:Name=\"Nav_Create_Claims_Ticket\"&gt;\n              &lt;TextBlock Tag=\"Nav_Create_Claims_Ticket\"&gt;Create Claims \nTicket&lt;/TextBlock&gt;\n        &lt;/NavigationViewItem&gt;\n\n        &lt;NavigationViewItem Icon=\"Message\"  \n    x:Name=\"Nav_Message_Page\"&gt;\n            &lt;TextBlock Tag=\"Nav_Message_Page\"&gt;Contact \n  Leadership&lt;/TextBlock&gt;\n        &lt;/NavigationViewItem&gt;\n\n        &lt;NavigationViewItem Icon=\"Print\"  x:Name=\"Nav_Print_Page\"&gt;\n            &lt;TextBlock Tag=\"Nav_Print_Page\"&gt;Print&lt;/TextBlock&gt;\n        &lt;/NavigationViewItem&gt;\n\n        &lt;NavigationViewItem Icon=\"Help\"  x:Name=\"Nav_about\"&gt;\n            &lt;TextBlock Tag=\"Nav_about\"&gt;About&lt;/TextBlock&gt;\n        &lt;/NavigationViewItem&gt;\n\n\n\n    &lt;Image Source=\"C:     \n    Projects\\Russ\\RussMenu\\RussMenu\\Assets\\Russell-Standard.jpg\"&gt;  \n    &lt;/Image&gt;\n\n\n    &lt;/NavigationView.MenuItems&gt;\n\n        &lt;NavigationView.AutoSuggestBox&gt;\n                   &lt;!-- See AutoSuggestBox documentation for\n                 more info about how to implement search. --&gt;\n            &lt;AutoSuggestBox x:Name=\"NavViewSearchBox\" \n  QueryIcon=\"Find\"/&gt;\n         &lt;/NavigationView.AutoSuggestBox&gt;\n\n     &lt;/NavigationView&gt;\n   &lt;Frame x:Name=\"contentFrame\"  HorizontalAlignment=\"Center\" \n    VerticalAlignment=\"Center\"   Margin=\"50,12,50,50\"/&gt;\n  &lt;/Grid&gt;\n\n\n\n &lt;/Page&gt;\n</code></pre>\n\n<p>MainPage.xaml.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Runtime.InteropServices.WindowsRuntime;\nusing Windows.Foundation;\nusing Windows.Foundation.Collections;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Controls.Primitives;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Input;\nusing Windows.UI.Xaml.Media;\nusing Windows.UI.Xaml.Navigation;\nusing Microsoft.Data.Sqlite;\n\n\n  // The Blank Page item template is documented at \n   https://go.microsoft.com/fwlink/?LinkId=402352&amp;clcid=0x409\n\n  namespace RussMenu\n  {\n/// &lt;summary&gt;\n/// An empty page that can be used on its own or navigated to within a \n  Frame.\n/// &lt;/summary&gt;\npublic sealed partial class MainPage : Page\n{\n    public string PaneDisplayMode { get; private set; }\n\n    public MainPage()\n\n    {\n\n        this.InitializeComponent();\n    }\n    private void nvTopLevelNav_Loaded(object sender, RoutedEventArgs e)\n    {\n        // set the initial SelectedItem\n        foreach (NavigationViewItemBase item in nvTopLevelNav.MenuItems)\n        {\n\n            {\n                nvTopLevelNav.SelectedItem = item;\n                break;\n            }\n        }\n\n    }\n\n    private void nvTopLevelNav_SelectionChanged(NavigationView sender, \n  NavigationViewSelectionChangedEventArgs args)\n    {\n        {\n\n        }\n    }\n\n    private void nvTopLevelNav_ItemInvoked(NavigationView sender, \n   NavigationViewItemInvokedEventArgs args)\n    {\n        if (args.IsSettingsInvoked)\n        {\n            contentFrame.Navigate(typeof(Views.SettingsPage));\n        }\n        else\n        {\n            TextBlock ItemContent = args.InvokedItem as TextBlock;\n            if (ItemContent != null)\n            {\n                switch (ItemContent.Tag)\n                {\n\n                    case \"Nav_Home\":\n                        contentFrame.Navigate(typeof(Views.HomePage));\n                        break;\n\n                    case \"Nav_about\":\n                        contentFrame.Navigate(typeof(Views.About));\n                        break;\n\n                    case \"Nav_Message_Page\":\n\n  contentFrame.Navigate(typeof(Views.Contact_Leadership));\n                        break;\n\n                    case \"Nav_Create_Claims_Ticket\":\n\n  contentFrame.Navigate(typeof(Views.CreateClaimsTicket));\n                        break;\n\n                    case \"Nav_Print_Page\":\n                        contentFrame.Navigate(typeof(Views.PrintPage));\n                        break;\n\n                    case \"Nav_Submit_COAQC_Results\":\n\n  contentFrame.Navigate(typeof(Views.submitresults));\n                        break;\n                    case \"Nav_Edit_Test_Results\":\n\n    contentFrame.Navigate(typeof(Views.EditTestResults));\n                         break;\n                }\n            }\n\n        }\n\n\n           }\n        }\n      }\n</code></pre>\n\n<p>What it should look like.\n <a href=\"https://i.imgur.com/HYUUhlJ.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/HYUUhlJ.png</a></p>\n\n<p>and the Second issue:\n <a href=\"https://i.imgur.com/H00QztL.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/H00QztL.png</a></p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 2105, "user_id": 742058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb82325eb4c16483088ebf1601720e16?s=128&d=identicon&r=PG", "display_name": "SASS_Shooter", "link": "https://stackoverflow.com/users/742058/sass-shooter"}, "edited": false, "score": 0, "creation_date": 1565812944, "post_id": 57501139, "comment_id": 101471863, "body": "In your first query you look for &quot;good post&quot; in the title and in the second one you are looking for &quot;Good&quot; instead of &quot;good&quot; or &quot;good post&quot;.  Why the change?  I&#39;d say the case change returns nothing thus query2 is null."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "edited": false, "score": 0, "creation_date": 1565813167, "post_id": 57501139, "comment_id": 101471950, "body": "&quot;Safe navigation&quot; works only if the query is fully translated and executed as SQL. In your case it sounds like EF Core client evaluation issue."}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1565813430, "post_id": 57501139, "comment_id": 101472052, "body": "In the first, the <code>where</code> is not even evaluated since <code>let</code> produces a null. In the latter, <code>let</code> cannot even be evaluated. The <code>FirstOrDefault</code> returns null so you can consider doing a shorthand null check <code>?</code>  like this: <code>.FirstOrDefault()?.Title</code>"}, {"owner": {"reputation": 497, "user_id": 3261024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/952a930a702f4135fbfea696a578f281?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Feldman", "link": "https://stackoverflow.com/users/3261024/josh-feldman"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1565814196, "post_id": 57501139, "comment_id": 101472364, "body": "@jcruz: is there documentation somewhere that verifies that a where clause is not evaluated when the let variable is null? I haven&#39;t been able to find any concrete documentation related to this."}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1565875301, "post_id": 57501139, "comment_id": 101488468, "body": "@JoshFeldman check the SQL generated from that statement. It should generate a join that in the first case would just not return anything, hence, not get evaluated further by the db engine. On the latter, by using <code>FirstOrDefault</code> EF tries to retrieve the object into memory (.NET) and hence throws an exception when navigating to <code>Title</code>."}], "owner": {"reputation": 497, "user_id": 3261024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/952a930a702f4135fbfea696a578f281?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Feldman", "link": "https://stackoverflow.com/users/3261024/josh-feldman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565812211, "creation_date": 1565812211, "question_id": 57501139, "link": "https://stackoverflow.com/questions/57501139/entity-framework-automatic-safe-navigation", "title": "Entity Framework Automatic Safe Navigation", "body": "<p>Does Entity Framework intelligently and automatically handle safe navigation in certain cases?</p>\n\n<p>Assuming the following EF entities:</p>\n\n<pre><code>public class Blog\n{\n    public int BlogId { get; set; }\n    public string Name { get; set; }\n    public virtual List&lt;Post&gt; Posts { get; set; }\n}\n\npublic class Post\n{\n    public int PostId { get; set; }\n    public string Title { get; set; }\n    public string Content { get; set; }\n    public int BlogId { get; set; }\n}\n</code></pre>\n\n<p>and assuming a clean database state before the following code is run, why does the first query below execute successfully, while the second query throws a NullReferenceException?</p>\n\n<pre><code>Blog blog1 = new Blog\n{\n    Name = \"My Blog1\"\n};\n\nawait _db.Blogs.AddAsync(blog1);\nawait _db.SaveChangesAsync();\n\nvar query1 = from blogs in _db.Blogs.Include(b =&gt; b.Posts)\n            let post = blogs.Posts.OrderByDescending(post =&gt; post.Title).FirstOrDefault()\n            where post.Title == \"good post\"\n            orderby blogs.Name\n            select blogs;\n// This query will execute successfully.\nawait query1.ToListAsync();\n\nvar query2 = from blogs in _db.Blogs.Include(b =&gt; b.Posts)\n            let postTitle = blogs.Posts.OrderByDescending(post =&gt; post.Title).FirstOrDefault().Title\n            where postTitle.Contains(\"Good\")\n            orderby blogs.Name\n            select blogs;\n// NullReferenceException will be thrown as a result of this call.\nawait query2.ToListAsync();\n</code></pre>\n\n<p>In the first query, I would expect the where clause to throw a NullReferenceException since there are no saved Posts, and therefore, the referenced post in the where clause should be null, but this is not the case. What are the rules for how EF handles \"safe navigation\" of properties?</p>\n"}, {"tags": ["c#", "oracle"], "comments": [{"owner": {"reputation": 75434, "user_id": 9097906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmIqt.jpg?s=128&g=1", "display_name": "Littlefoot", "link": "https://stackoverflow.com/users/9097906/littlefoot"}, "edited": false, "score": 3, "creation_date": 1565812498, "post_id": 57501119, "comment_id": 101471703, "body": "I don&#39;t speak C#. However, that sounds as if your <code>update</code> waits for a lock to be released. Check whether previous transactions (which might be <i>holding</i> those rows)  were committed (or rolled back) before running your code."}, {"owner": {"reputation": 163, "user_id": 11704842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1f451d840363c83e3a534724d6a274?s=128&d=identicon&r=PG&f=1", "display_name": "TheGreatZab", "link": "https://stackoverflow.com/users/11704842/thegreatzab"}, "reply_to_user": {"reputation": 75434, "user_id": 9097906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RmIqt.jpg?s=128&g=1", "display_name": "Littlefoot", "link": "https://stackoverflow.com/users/9097906/littlefoot"}, "edited": false, "score": 0, "creation_date": 1565812605, "post_id": 57501119, "comment_id": 101471740, "body": "Something I would have never though about, thank you! It turns out there were in fact locks on the row."}, {"owner": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1565820444, "post_id": 57501119, "comment_id": 101474238, "body": "Are you calling this function multiple times, and finding that it freezes up on the second (or later) call?"}], "owner": {"reputation": 163, "user_id": 11704842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1f451d840363c83e3a534724d6a274?s=128&d=identicon&r=PG&f=1", "display_name": "TheGreatZab", "link": "https://stackoverflow.com/users/11704842/thegreatzab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565812122, "creation_date": 1565812122, "question_id": 57501119, "link": "https://stackoverflow.com/questions/57501119/oracle-update-command-freezing-when-running-it-in-c", "title": "Oracle Update Command Freezing when running it in C#", "body": "<p>I have an update statement that works fine when I run it from SQL Developer. However, when I try to run it in C#, the program will freeze on the line that executes the command and not output anything. I have it defined as follows below: </p>\n\n<pre><code>private static OracleCommand cmd = new OracleCommand();\nprivate static OracleConnection conn = new OracleConnection();\nconn.ConnectionString = Properties.Settings.Default.myconstring;\ncmd.Connection = conn;\n\ncmd.CommandText = \"UPDATE mytable SET PARAM1 = :param1 WHERE PARAM2 = :param2\";\ncmd.CommandType = CommandType.Text;\ncmd.BindByName = true;\ncmd.Parameters.Clear();\ncmd.Parameters.Add(new OracleParameter(\":param1\", OracleDbType.Single)).Value = param1Val;\ncmd.Parameters.Add(new OracleParameter(\":param2\", OracleDbType.Int32)).Value = param2Val;\nconn.Open();\ntry {\n    cmd.ExecuteNonQuery(); //Freezes here\n} catch(Exception e) {\n    MessageBox.Show(e.ToString());\n}\nconn.Close();\n</code></pre>\n\n<p>I have verified my values being put in are correct.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "data-binding", "dependency-properties"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1565812584, "post_id": 57501114, "comment_id": 101471735, "body": "You may have explicitly set the control&#39;s DataContext in its XAML or code behind. That breaks any DataContext based Bindings of the properties of your control. Are there any data binding error messages in the Output Window in Visual Studio when you run the application in the debugger?"}, {"owner": {"reputation": 32, "user_id": 1358307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b87cdf728ad83f1785082474af3f231b?s=128&d=identicon&r=PG", "display_name": "l2rek", "link": "https://stackoverflow.com/users/1358307/l2rek"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1565819060, "post_id": 57501114, "comment_id": 101473858, "body": "thanks! yes i had error messages and a with relative binding to self on the user control (because i needed to feed it different properties on the outside but have just one dependencyproperty for it in the codebehind) I have now added DataContext=&quot;{Binding RelativeSource={RelativeSource FindAncestor,AncestorType=local:uc_item}}&quot; to the usercontrol within. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 32, "user_id": 1358307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b87cdf728ad83f1785082474af3f231b?s=128&d=identicon&r=PG", "display_name": "l2rek", "link": "https://stackoverflow.com/users/1358307/l2rek"}, "is_accepted": false, "score": 0, "last_activity_date": 1565819271, "creation_date": 1565819271, "answer_id": 57502480, "question_id": 57501114, "link": "https://stackoverflow.com/questions/57501114/customcontrol-setting-text-wirks-with-string-but-not-with-binding-default-butt/57502480#57502480", "title": "customcontrol: setting text wirks with string but not with binding; default button instead same binding works", "body": "<p>there was a datacontext set wihtin the custom user control - to feed the controls within via binding with the properties in codebehind. i had to remove it so the proper datacontext could be set on the outside ( where multiple instances use bindings to different properties) and have added a modified version with findancestor to the single controls within: DataContext=\"{Binding RelativeSource={RelativeSource FindAncestor,AncestorType=local:uc_item}}\"</p>\n"}], "owner": {"reputation": 32, "user_id": 1358307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b87cdf728ad83f1785082474af3f231b?s=128&d=identicon&r=PG", "display_name": "l2rek", "link": "https://stackoverflow.com/users/1358307/l2rek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1565845823, "answer_count": 1, "score": 0, "last_activity_date": 1565845859, "creation_date": 1565812104, "question_id": 57501114, "link": "https://stackoverflow.com/questions/57501114/customcontrol-setting-text-wirks-with-string-but-not-with-binding-default-butt", "closed_reason": "Duplicate", "title": "customcontrol: setting text wirks with string but not with binding; default button instead same binding works", "body": "<p>I use a custom control that has a dependencyproperty Title that binds to a label within. \nI can set the Title property in xaml with a string but not with a {Binding title}.\nIf I use a <code>&lt;Button content={Binding title}</code> that works. </p>\n\n<p>I really dont know where to look on this one as i guess string is string ..  ?</p>\n\n<p>WORKS<br>\n<code>&lt;Button Content=\"{Binding title}\" Click=\"Button_Click_2\"&gt;</code></p>\n\n<p>WORKS </p>\n\n<p><code>&lt;PluginInterface:uc_item Title=\"TEST\" OnClick=\"Button_Click_2\"&gt;&lt;/PluginInterface:uc_item&gt;</code></p>\n\n<p>DOES NOT WORK<br>\n<code>&lt;PluginInterface:uc_item Title=\"{Binding title}\"  OnClick=\"Button_Click_2\"&gt;&lt;/PluginInterface:uc_item&gt;</code></p>\n\n<p>THE DEPENDENCY PROPERTY </p>\n\n<pre><code> public string Title\n        {\n            get { return (string)GetValue(TitleProperty); }\n            set\n            {\n\n                SetValue(TitleProperty, value);\n            }\n        }\n        public static readonly DependencyProperty TitleProperty =\n            DependencyProperty.Register(\"Title\", typeof(string), typeof(uc_item),\n        new FrameworkPropertyMetadata(default(string),\n            FrameworkPropertyMetadataOptions.BindsTwoWayByDefault));\n</code></pre>\n\n<p>THIS IS THE CONTAINER FOR THE CONTROLS</p>\n\n<pre><code>\n&lt;ItemsControl Name=\"ic_searchengines\" &gt;\n&lt;ItemsControl.ItemsPanel&gt;\n&lt;ItemsPanelTemplate&gt;\n&lt;StackPanel Orientation=\"Horizontal\"/&gt;\n&lt;/ItemsPanelTemplate&gt;\n&lt;/ItemsControl.ItemsPanel&gt;\n&lt;ItemsControl.ItemTemplate&gt;\n&lt;DataTemplate&gt;\n</code></pre>\n\n<p>IM SETTINGS THE ITEMSSOURCE OF THE ITEMSCONTROL IN ANOTHER CLASS</p>\n\n<pre><code>searchengines = new ObservableCollection&lt;searchengine&gt;();\nmain.ic_searchengines.ItemsSource = searchengines;                                                      \n</code></pre>\n\n<p>the binding in the first example with the button does show the bound text in the content; \nin the second example, setting a string on the cusotm user control shows the text on the usercontrol; \nthird example, binding equivalent to the first button does show blank on the usercontrl.</p>\n\n<p>Thanks! Looking forward</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "nuget", ".net-standard"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565813575, "post_id": 57501065, "comment_id": 101472123, "body": "<code>dxcompiler.dll</code> and <code>dxil.dll</code> are not your own outputs, I assume, and could be used by some other library used by the application that&#39;s using your package (enter DLL hell). In that case, they should be <i>implicit</i> dependencies, meaning that you don&#39;t declare them in your package and instead require the application to reference another package to get them. Granted, it&#39;s not ideal, but it avoids conflicts with other libraries. You could provide that package for now; your assembly would reference <i>the DLLs</i> but your package would not reference the package that provides those DLLs. ..."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565813580, "post_id": 57501065, "comment_id": 101472126, "body": "..This allows the application (and your library) to switch to a canonical package in the future without battling other libraries over where to get those DLLs. You can declare a dependency on the canonical package when one becomes available. I&#39;m not sure if that solves this exact problem, but it solves one I see over the horizon (thus not provided as an answer)."}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565814633, "post_id": 57501065, "comment_id": 101472531, "body": "Hey, thank you for chiming in! That is correct, those two libraries are not produced by me. So, the thing is that those are not actually <i>referenced</i> by the project (if I remove them, it still builds just fine), but instead they&#39;re loaded at runtime to P/Invoke into some APIs they expose (this is done through a 3rd party binding library). At least for now, I&#39;d just like for this first alpha package to work at all. Do you have any clue on why I am getting those other issues, with NuGet dependencies seemingly not being loaded correctly? Thanks again!"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565814956, "post_id": 57501065, "comment_id": 101472655, "body": "Makes sense, and you do have it marked as an &quot;alpha&quot; package so that&#39;s good. Unfortunately, I have no clue at this point, and I dug into the dependencies a bit. It should be catching transitive dependencies. I&#39;d suggest deleting all your <code>obj</code> and <code>bin</code> folders and letting it rebuild <code>project.assets.json</code> for all projects. That usually helps me when the &quot;Dependencies&quot; node has a yellow warning overlay icon even though everything&#39;s right."}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565815379, "post_id": 57501065, "comment_id": 101472796, "body": "I did try to clean everything but got the same result unfortunately. What I don&#39;t get is that if I rename the .nupkg file as .zip and open it, I can see the .nuspec there listing all the dependencies (as expected), so I really have no clue why VS isn&#39;t actually installing them in my test project, when installing my NuGet package :/ Thanks anyway!"}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1565840337, "post_id": 57501065, "comment_id": 101477560, "body": "Can the test project build successfully after you install the ComputeSharp package?"}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "reply_to_user": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1565859179, "post_id": 57501065, "comment_id": 101482214, "body": "Hi @LanceLi-MSFT - yes, the test project builds just fine, as it&#39;s only using classes from the <code>ComputeSharp</code> project. It crashes as soon as <code>ComputeSharp</code> itself tried to use any of the referenced NuGet projects. Also, as a test, I tried merging the 3 projects into a single one (here: <a href=\"https://github.com/Sergio0694/ComputeSharp/tree/feature_repo-restructure\" rel=\"nofollow noreferrer\">github.com/Sergio0694/ComputeSharp/tree/&hellip;</a>), and building a NuGet package directly from VS, and this time all the NuGet dependencies were loaded correctly. I&#39;m not sure why those don&#39;t work if I keep the 3 projects separate, since I&#39;m using <code>-IncludeReferencedProjects</code>. Thanks!"}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1565949992, "post_id": 57501065, "comment_id": 101511952, "body": "I noticed that in your problem above, the test project can&#39;t even see the sharpdx namespace, but it works well in my machine. Have you cleaned the nuget cache and do a clean test?"}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "reply_to_user": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1565955025, "post_id": 57501065, "comment_id": 101514149, "body": "Hi @LanceLi-MSFT - those are indeed working correctly now, I&#39;ve rebuilt the .nuspec file from scratch and double checked all the dependencies, and it looks like they&#39;re now being installed correctly. The remaining issue now is the content file (and parent folders) not being copied to the build output directory. I&#39;ve updated the question with info about this if you&#39;re interested. Thanks again!"}, {"owner": {"reputation": 17879, "user_id": 10910450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aPLn.jpg?s=128&g=1", "display_name": "Lance Li-MSFT", "link": "https://stackoverflow.com/users/10910450/lance-li-msft"}, "edited": false, "score": 0, "creation_date": 1566181373, "post_id": 57501065, "comment_id": 101562328, "body": "Thanks for your details. Vote for your close :)"}], "owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1566043484, "creation_date": 1565811840, "last_edit_date": 1566043484, "question_id": 57501065, "link": "https://stackoverflow.com/questions/57501065/how-to-package-projects-and-used-nuget-packages-files", "title": "How to package projects and used NuGet packages + files?", "body": "<p>I'm working on a <a href=\"https://github.com/Sergio0694/ComputeSharp\" rel=\"nofollow noreferrer\">.NET Standard 2.0 project called <strong>ComputeSharp</strong></a> and I'm having some trouble creating a NuGet package from it. Some info:</p>\n\n<ul>\n<li>The project only targets .NET Standard 2.0</li>\n<li>The project uses 2 referenced projects in the same solution, each using some other NuGet packages. <a href=\"https://i.stack.imgur.com/syBKF.png\" rel=\"nofollow noreferrer\">Here</a> is a screen of my current solution.</li>\n<li><s>One of the project, <code>ComputeSharp.Shaders</code> also references two .dll files, <code>dxcompiler.dll</code> and <code>dxil.dll</code>. These two are referenced by that project with the following snipped in its .csproj file.</s> I made a PR to <a href=\"https://github.com/tgjones/DotNetDxc\" rel=\"nofollow noreferrer\"><code>DotNetDxc</code></a> with the update .dll files, so I'll no longer need to manually bundle the two .dll files into my project. So this is no longer an issue \u2705</li>\n<li>In the folder for the main <code>ComputeSharp</code> project, I also have a .nuspec file with the following structure, which also lists all the NuGet packages used by all 3 projects (note that the path for the <code>*.mustache</code> file goes up one directory because it's inside the <code>ComputeSharp.Shaders</code> project, and not the one from which I'm building the NuGet package, which is just <code>ComputeSharp</code>:</li>\n</ul>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;package &gt;\n  &lt;metadata&gt;\n    &lt;id&gt;ComputeSharp&lt;/id&gt;\n    ...\n    &lt;dependencies&gt;\n      &lt;dependency id=\"SharpDX.Direct3D12\" version=\"4.2.1-beta0-gab36f12303\" /&gt;\n      ...\n    &lt;/dependencies&gt;\n    &lt;contentFiles&gt;\n      &lt;files include=\"..\\ComputeSharp.Shaders\\Renderer\\Templates\\*.mustache\" buildAction=\"None\" copyToOutput=\"true\" /&gt;\n    &lt;/contentFiles&gt;\n  &lt;/metadata&gt;\n&lt;/package&gt;\n</code></pre>\n\n<ul>\n<li>In order to create the NuGet package, I first build <code>ComputeSharp</code> in Release mode, then open a cmd in the folder for that project, and run:</li>\n</ul>\n\n<pre><code>nuget pack ComputeSharp.csproj -Prop Configuration=Release -IncludeReferencedProjects\n</code></pre>\n\n<ul>\n<li>This does create a package that <em>kinda</em> looks ok. It contains the assemblies for all 3 projects, <s>the two .dll files I use</s> and the <code>.mustache</code> content file from the <code>ComputeSharp.Shaders</code> project.</li>\n<li>Once <a href=\"https://www.nuget.org/packages/ComputeSharp/\" rel=\"nofollow noreferrer\">uploaded to NuGet</a> I can see the list of all the dependencies for the package, as you can see <a href=\"https://i.stack.imgur.com/ndmuV.png\" rel=\"nofollow noreferrer\">in this screen</a>. So, that <s><em>looks</em></s> is ok as well.</li>\n</ul>\n\n<blockquote>\n  <p><strong>PROBLEM</strong>: once I create a test project and install the NuGet package, <s>I notice two things: first get <a href=\"https://i.stack.imgur.com/niK0N.png\" rel=\"nofollow noreferrer\">this nice exception</a> when I try to use any APIs, which makes me thing the other NuGet packages haven't been installed correctly at all, and then I can't find any of the APIs from either of those packages (eg. I don't see the <code>SharpDX</code> namespace at all), which makes me thing the previous point is probably correct.</s> I have one last issue: the <code>.mustache</code> file (and relative parent folders) are not created in the build output directory, so I can't load it at runtime. I'm not sure why that is, since I did specify <code>copyToOutputDirectory=\"true\"</code> in the .nuspec file.</p>\n</blockquote>\n\n<p>I might be missing something obvious here, and I did check both the documentation and countless other SO questions on NuGet packages and whatnot, but I really couldn't figure out what I'm doing wrong here. I do have other NuGet packages uploaded, using the same method of including the referenced NuGet packages in the .nuspec file, and they work just fine when installed.</p>\n\n<p>Thank you for your help!</p>\n\n<p><strong>EDIT #1:</strong> the indirect dependencies are now loaded correctly, so the last remaining issue is the content file not being copied to the build output directory (see changes above).</p>\n\n<p><strong>EDIT #2:</strong> closing this as it's too broad in scope, and the first part has been resolved already (.dll files and indirect package references). Opening a follow up question just for the issue about the content files not being copied <a href=\"https://stackoverflow.com/questions/57536112/how-to-setup-a-nuget-package-to-copy-content-files-to-output-build-directory\">here</a>.</p>\n"}, {"tags": ["c#", "delimiter", "delimited-text"], "answers": [{"tags": [], "owner": {"reputation": 1233, "user_id": 6159500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lmIjG.png?s=128&g=1", "display_name": "Iskander Raimbaev", "link": "https://stackoverflow.com/users/6159500/iskander-raimbaev"}, "is_accepted": false, "score": 5, "last_activity_date": 1565812268, "creation_date": 1565812268, "answer_id": 57501158, "question_id": 57501043, "link": "https://stackoverflow.com/questions/57501043/how-to-delimit-strings-in-each-line-of-a-text-file-and-compare-them-to-a-user-in/57501158#57501158", "title": "How to delimit strings in each line of a text file and compare them to a user input", "body": "<p>You can use the following code. Read file and iterate line by line, splitting each line into array of strings by token '|'.</p>\n\n<pre><code>string[] wbslist = File.ReadAllLines(filePath);\nforeach(string line in wbslist)\n{\n    string [] splittedLine = line.Split('|');\n    // I assume you need the second element in the delimited line\n    if(string.Equals(splittedLine[1], TxtWBS.Text, StringComparison.OrdinalIgnoreCase))\n        Console.WriteLine(\"Website found\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "edited": false, "score": 0, "creation_date": 1565812420, "post_id": 57501174, "comment_id": 101471674, "body": "This will return true if <code>TxtWBS.Text</code> is set to <code>&quot;1000&quot;</code>. Or <code>&quot;EL&quot;</code>. Or <code>&quot;|&quot;</code>. It doesn&#39;t consider just the second element in the... record?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "reply_to_user": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "edited": false, "score": 0, "creation_date": 1565812548, "post_id": 57501174, "comment_id": 101471721, "body": "Yes, that&#39;s true, but the OP hasn&#39;t asked about partial input. Let me check something"}], "tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 6, "last_activity_date": 1565814674, "last_edit_date": 1565814674, "creation_date": 1565812347, "answer_id": 57501174, "question_id": 57501043, "link": "https://stackoverflow.com/questions/57501043/how-to-delimit-strings-in-each-line-of-a-text-file-and-compare-them-to-a-user-in/57501174#57501174", "title": "How to delimit strings in each line of a text file and compare them to a user input", "body": "<p>This could be done with a single line in Linq.\nChange your test to:</p>\n\n<pre><code>bool wbsExists = wbslist.Any(x =&gt; x.Contains(TxtWBS.Text));\n</code></pre>\n\n<p>And if you are not sure about the case of the input you can have</p>\n\n<pre><code>bool wbsExists = wbslist.Any(x =&gt; -1 != x.IndexOf(TxtWBS.Text, StringComparison.CurrentCultureIgnoreCase));\n</code></pre>\n\n<p>More, if you want to check an exact match against the second item in the line then</p>\n\n<pre><code>bool wbsExists = wbslist.Select(x =&gt; x.Split('|')[1]).Any(k =&gt; k == TxtWBS.Text);\n</code></pre>\n\n<p>Consider also to change the loading of your text data to </p>\n\n<pre><code>var wbslist = File.ReadLines(filePath);\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.readlines?view=netframework-4.8#System_IO_File_ReadLines_System_String_\" rel=\"nofollow noreferrer\">File.ReadLines</a> doesn't read all the lines in memory immediately but returns an <code>IEnumerable&lt;String&gt;</code> that is more suited in Linq expressions</p>\n"}, {"tags": [], "owner": {"reputation": 2497, "user_id": 11604722, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GA67aL2m6Yc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdzsybeEEYKZhZwTKe-Q9-Y-M4e6A/mo/photo.jpg?sz=128", "display_name": "Joshua Robinson", "link": "https://stackoverflow.com/users/11604722/joshua-robinson"}, "is_accepted": false, "score": 3, "last_activity_date": 1565812350, "creation_date": 1565812350, "answer_id": 57501176, "question_id": 57501043, "link": "https://stackoverflow.com/questions/57501043/how-to-delimit-strings-in-each-line-of-a-text-file-and-compare-them-to-a-user-in/57501176#57501176", "title": "How to delimit strings in each line of a text file and compare them to a user input", "body": "<p>Well, if you're absolutely sure about the format of the file then you can split each line on the delimiter and check the user input against the second element in the resulting array.</p>\n\n<p><code>bool wbsExists = Array.Exists(wbslist, element =&gt; element.Split('|')[1] == TxtWBS.Text);</code></p>\n"}], "owner": {"reputation": 63, "user_id": 5486956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Js0gJ.png?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/5486956/reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1565814674, "creation_date": 1565811735, "question_id": 57501043, "link": "https://stackoverflow.com/questions/57501043/how-to-delimit-strings-in-each-line-of-a-text-file-and-compare-them-to-a-user-in", "title": "How to delimit strings in each line of a text file and compare them to a user input", "body": "<p>My goal is to match the users input into a field with data in a text file. </p>\n\n<pre><code>1000|I-002096.02.02|EL|MISCMI\n1000|I-002097.02.02|EL|ESYEED\n1000|I-002098.02.02|EL|MISCCA\n1000|I-002099.02.02|EL|MISCCA\n1000|I-002100.02.02|EL|MISCCA\n1000|I-002101.02.02|EL|USQUIC00\n1000|I-002102.02.02|EL|MISCMI\n</code></pre>\n\n<p>The portion after the first \"|\" delimiter is what I need to check against the users input.  (users input is stored in TxtWBS.Text in the code below) </p>\n\n<p>This is what I have tried but this only works when each line has nothing to delimit. </p>\n\n<pre><code>string[] wbslist = File.ReadAllLines(filePath);\nbool wbsExists = Array.Exists(wbslist, element =&gt; element == TxtWBS.Text);\n    if (wbsExists)\n       /*leave empty*/;\n    else\n       errMessage += \"This WBS does not exist\" + Environment.NewLine;\n</code></pre>\n\n<p>I expect to be able to check if the users input exists in the text file.</p>\n"}, {"tags": ["c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 937, "user_id": 8447562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xYRil.png?s=128&g=1", "display_name": "Symon", "link": "https://stackoverflow.com/users/8447562/symon"}, "edited": false, "score": 0, "creation_date": 1565811495, "post_id": 57500987, "comment_id": 101471361, "body": "I&#39;d recommend altering it to return the data to a <code>DataTable</code> and then just write the specific columns to console. Although- that may be unnecessary. It&#39;s just how I have done it in the past. If anyone else has a better option, please share"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 3, "creation_date": 1565811509, "post_id": 57500987, "comment_id": 101471366, "body": "Are you having problems or are you just wondering if it can be improved? There&#39;s a <a href=\"https://codereview.stackexchange.com\">code review</a> site if the latter. If the former, what are the problems?"}, {"owner": {"reputation": 447, "user_id": 7537491, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3a894f12045e23a2d623a9387eb630bd?s=128&d=identicon&r=PG&f=1", "display_name": "jackstraw22", "link": "https://stackoverflow.com/users/7537491/jackstraw22"}, "edited": false, "score": 0, "creation_date": 1565812056, "post_id": 57500987, "comment_id": 101471538, "body": "Sorry for not being clearer.  My new boss at work gave this assignment to me as a bonus problem on a skill assessment test but I don&#39;t actually have anything to test it on.  I wrote this from piecing together some of my scripts from my old job.  I&#39;m not sure if the above code would actually work or if anything else was needed."}], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 9268996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950bc3443c2359a29c7a8ac11e54ed50?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/9268996/kevin"}, "edited": false, "score": 0, "creation_date": 1565871971, "post_id": 57501124, "comment_id": 101486887, "body": "He is using a parameterized query. Just looking at this without any testing, I think the query would treat that as a parameter/value for memberid. I don\u2019t think this is susceptible to passing a sub query to do SQL injection. I would expect no results to be returned for an invalid memberid."}, {"owner": {"reputation": 124, "user_id": 7014598, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/400496ea8866814984507cf208f7bda8?s=128&d=identicon&r=PG&f=1", "display_name": "Cody McPheron", "link": "https://stackoverflow.com/users/7014598/cody-mcpheron"}, "reply_to_user": {"reputation": 106, "user_id": 9268996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950bc3443c2359a29c7a8ac11e54ed50?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/9268996/kevin"}, "edited": false, "score": 0, "creation_date": 1565879678, "post_id": 57501124, "comment_id": 101490769, "body": "I just tested it, and you can indeed do SQL Injection here. Semi-colons are big jerks and SQLCmd will just run whatever sql statement you feed it without much question. This is a tame example but someone could just as easily drop the table instead of select from it. I&#39;m using (at) below instead of the actual symbol to prevent notifications.  DECLARE (at)name VARCHAR(64) = &#39;Helen&#39;; SELECT * INTO #testTable FROM table  SELECT firstname, lastname FROM table WHERE firstname = (at)name  SELECT * FROM  #testTable"}], "tags": [], "owner": {"reputation": 124, "user_id": 7014598, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/400496ea8866814984507cf208f7bda8?s=128&d=identicon&r=PG&f=1", "display_name": "Cody McPheron", "link": "https://stackoverflow.com/users/7014598/cody-mcpheron"}, "is_accepted": false, "score": 0, "last_activity_date": 1565812139, "creation_date": 1565812139, "answer_id": 57501124, "question_id": 57500987, "link": "https://stackoverflow.com/questions/57500987/using-c-console-app-to-prompt-user-and-run-sql-query/57501124#57501124", "title": "Using C# console app to prompt user and run SQL query", "body": "<p>I'm not able to tell what the <em>exact</em> issue you are having is and you don't have an error message, so I'm guessing you're wondering if this approached the correct way?</p>\n\n<p>If so, I would recommend that you create a Stored Procedure on SQL Server that accepts @memberId as a parameter and returns the row you need. Otherwise somebody could write a subquery that would be ran by the server where you were just expecting a normal @memberId value.</p>\n\n<p><a href=\"https://csharp-station.com/Tutorial/AdoDotNet/Lesson07\" rel=\"nofollow noreferrer\">https://csharp-station.com/Tutorial/AdoDotNet/Lesson07</a></p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 9268996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/950bc3443c2359a29c7a8ac11e54ed50?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/9268996/kevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1565872840, "last_edit_date": 1565872840, "creation_date": 1565871947, "answer_id": 57509637, "question_id": 57500987, "link": "https://stackoverflow.com/questions/57500987/using-c-console-app-to-prompt-user-and-run-sql-query/57509637#57509637", "title": "Using C# console app to prompt user and run SQL query", "body": "<p>i think you are on the right track. When I use ado.net, I typically put the connection/command in a using statement.  In regard to the datatable comment, it may or may not be beneficial to have it in that form depending on the type of application and how you use it.  If you are just looping through and reading the data and then done with the data, you likely don\u2019t need it in a datatable. One case where you might want it in a datatable is if you were to bind it to a grid in a GUI application.</p>\n"}], "owner": {"reputation": 447, "user_id": 7537491, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3a894f12045e23a2d623a9387eb630bd?s=128&d=identicon&r=PG&f=1", "display_name": "jackstraw22", "link": "https://stackoverflow.com/users/7537491/jackstraw22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565872840, "creation_date": 1565811401, "last_edit_date": 1565812617, "question_id": 57500987, "link": "https://stackoverflow.com/questions/57500987/using-c-console-app-to-prompt-user-and-run-sql-query", "title": "Using C# console app to prompt user and run SQL query", "body": "<p>I'm trying to write my first C# program in about 10 years.  I'm trying to query a SQL Server d/b where the user inputs a memberID and the result returns the user first name, last name and userID.\nCan anyone tell me if I'm on the right track here?  Like I said, it's been a long time since I've done this.</p>\n\n<pre><code>using System;\nusing System.Data.SqlClient;\nusing System.Data.SQL;\n\nstring memberid = Console.ReadLine();\nSqlConnection con;\nSqlDataReader reader;\nConsole.Write(\"Enter memberid: \");\nusing(SQLConnection con = new SqlConnection(Properties.Settings.Default.connectionSQL));\n\nstatic void getmemberids()\n\n  {\n   SQLCommand Command = new SqlCommand(\"select lastname, firstname, userid \n  from table where memberid = @memberid\", con);\n  Command.Parameters.AddWithValue(\"@memberid\", memberid);\n  SQLDataReader.Reader = Command.ExecuteReader():\n\n  {\n\nif(reader.HasRows)\n  {\n    while(reader.Read())\n    {\n      Console.WriteLine[(\"{0}\\t\\t\\t{1}   {2}   {3}\", reader.GetString(0), \nreader.String(1), reader.GetInt32(3));\n    }\n  }\n  else\n  {\n    Console.WriteLine(\"No rows found.\");\n  }\n  reader.Close();\n  }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "arduino", "serial-port"], "comments": [{"owner": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "edited": false, "score": 0, "creation_date": 1565811384, "post_id": 57500926, "comment_id": 101471324, "body": "P.S. I&#39;ve tried using Visual Studio 2017 Community, the same code, and .Net framework 4.7.1 and I still get the same results."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "edited": false, "score": 0, "creation_date": 1565814300, "post_id": 57501397, "comment_id": 101472401, "body": "That returns a string.  I need the binary data (the bytes)."}, {"owner": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "edited": false, "score": 0, "creation_date": 1565814384, "post_id": 57501397, "comment_id": 101472443, "body": "May I ask why you recommend this?"}, {"owner": {"reputation": 20, "user_id": 8386196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMCyA.jpg?s=128&g=1", "display_name": "Taha teber", "link": "https://stackoverflow.com/users/8386196/taha-teber"}, "reply_to_user": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "edited": false, "score": 0, "creation_date": 1565814780, "post_id": 57501397, "comment_id": 101472573, "body": "Take a look at this: <a href=\"https://stackoverflow.com/questions/30545162/how-to-convert-string-to-byte-array\" title=\"how to convert string to byte array\">stackoverflow.com/questions/30545162/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "edited": false, "score": 0, "creation_date": 1565815527, "post_id": 57501397, "comment_id": 101472856, "body": "This is an unnecessary step and will impact performance.  I shouldn&#39;t have to convert a string back into bytes that was unnecessarily converted to a string in the first place."}, {"owner": {"reputation": 3014, "user_id": 5148795, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PC5b4qkB2x8/AAAAAAAAAAI/AAAAAAAABFE/v8lpqfero1M/photo.jpg?sz=128", "display_name": "Haroun Hajem", "link": "https://stackoverflow.com/users/5148795/haroun-hajem"}, "edited": false, "score": 0, "creation_date": 1565890628, "post_id": 57501397, "comment_id": 101495676, "body": "You have a computer running C# and it will slow down because of converting a string to byte. No offense but that&#39;s some crappy computer. Parsing variables is a common procedure in computers"}, {"owner": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "edited": false, "score": 0, "creation_date": 1566170475, "post_id": 57501397, "comment_id": 101560958, "body": "This operation happens many times a second and is very time sensitive.  Every operation must be considered carefully.  It was obvious that this answer was a very generic one that wasn&#39;t given much thought about how it relates to the problem that I&#39;m trying to solve.  I appreciate the attempt at helping, but it wasn&#39;t the answer I was looking for."}], "tags": [], "owner": {"reputation": 20, "user_id": 8386196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMCyA.jpg?s=128&g=1", "display_name": "Taha teber", "link": "https://stackoverflow.com/users/8386196/taha-teber"}, "is_accepted": false, "score": 0, "last_activity_date": 1565813429, "creation_date": 1565813429, "answer_id": 57501397, "question_id": 57500926, "link": "https://stackoverflow.com/questions/57500926/how-do-i-receive-serial-packet-from-arduino-using-c/57501397#57501397", "title": "How do I receive serial packet from Arduino using C#?", "body": "<p>Try SerialPort.ReadExisiting().</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "is_accepted": true, "score": 0, "last_activity_date": 1565816776, "creation_date": 1565816776, "answer_id": 57502065, "question_id": 57500926, "link": "https://stackoverflow.com/questions/57500926/how-do-i-receive-serial-packet-from-arduino-using-c/57502065#57502065", "title": "How do I receive serial packet from Arduino using C#?", "body": "<p>I figured out what was wrong.  The Arduino is using the DTR signal to initiate communication.  All I had to do was set <code>SerialPort.DtrEnable = true</code> before opening the serial port and it worked.  I knew it was something simple! YAY!</p>\n"}], "owner": {"reputation": 1, "user_id": 4429638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e943146d0717861cf2f5d53ef8e11a75?s=128&d=identicon&r=PG&f=1", "display_name": "Shea Riley", "link": "https://stackoverflow.com/users/4429638/shea-riley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 1, "accepted_answer_id": 57502065, "answer_count": 2, "score": 0, "last_activity_date": 1565816776, "creation_date": 1565811053, "question_id": 57500926, "link": "https://stackoverflow.com/questions/57500926/how-do-i-receive-serial-packet-from-arduino-using-c", "title": "How do I receive serial packet from Arduino using C#?", "body": "<p>For some context, I'm trying to create my own high-torque servo.</p>\n\n<p>I've created an Arduino sketch that tracks of the position of a 2-phase rotary encoder, using 2 interrupt pins.  It also tracks the state of 2 limit switches using 2 additional interrupt pins.</p>\n\n<p>This all works fine and I can see data coming back in the Arduino Serial Monitor (I'm using VSCode to actually write the code, but it works the same as the Arduino IDE in respect to the serial monitor.)</p>\n\n<p>However, I'm having trouble writing a C# console app, targeting Windows x64, to receive the serial packets that I'm creating in the Arduino sketch.</p>\n\n<p>I've set breakpoints and added Console.WriteLines, but they never get hit.  I've done a fair amount of searching on the web and tried several different code examples, but to no avail.  It feels like I'm doing everything correctly.  I've done a fair amount of serial programming in the past, using the .Net framework, so I know my way around serial protocols and using the SerialPort class.  However, that was a while ago (several years).</p>\n\n<p>Here is my C# console app code:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.IO.Ports;\n\nnamespace ArduinoSerialTest\n{\n  class Program\n  {\n\n    public const byte PacketStart = 1;\n    public const byte PacketEnd = 4;\n    public const byte PacketSize = 5;\n\n    static void Main(string[] args)\n    {\n\n      bool isStopping = false;\n\n      SerialPort serialPort = new SerialPort();\n      serialPort.PortName = \"COM3\";\n      serialPort.BaudRate = 9600;\n      serialPort.ReadTimeout = 500;\n\n      serialPort.Open();\n\n      try\n      {\n        while (!isStopping)\n        {\n          try\n          {\n            int startByte = serialPort.ReadByte();\n            if (startByte == PacketStart)\n            {\n              byte[] positionState = new byte[] { (byte)serialPort.ReadByte(), (byte)serialPort.ReadByte() };\n              byte limitSwitchState = (byte)serialPort.ReadByte();\n              byte packetEnd = (byte)serialPort.ReadByte();\n\n              // simple verification before we process the data\n              if (packetEnd != PacketEnd)\n              {\n                throw new Exception(\"Invalid packet received.\");\n              }\n\n              short position = BitConverter.ToInt16(positionState, 0);\n\n              Console.WriteLine(\"Position: {0}\", position); // TODO: Remove me\n            }\n          }\n          catch (TimeoutException) { }\n          catch (System.IO.IOException) { }\n        }\n\n      }\n      finally\n      {\n        serialPort.Close();\n      }\n\n    }\n\n  }\n}\n\n</code></pre>\n\n<p>Here is the applicable part of my Arduino sketch:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>void reportStatus() {\n    Serial.write((byte)1); // SOH\n    // position split into 2 bytes\n    Serial.write((byte)lowByte(encoderAccumulator));\n    Serial.write((byte)highByte(encoderAccumulator));\n    // limit switches\n    Serial.write((byte)limitSwitchState);\n    Serial.write((byte)4); // EOT\n}\n</code></pre>\n\n<p>It doesn't ever seem to be receiving the packets; or anything for that matter.  I feel like there's something obvious that I'm overlooking, but I can't put my finger on it.</p>\n\n<p>As for the try/catch, I'm seeing the timeout exceptions in the debugger output console in VSCode.  I also see the IOException sometimes, but only when I forcefully stop the app using Ctrl+C.  I've tried it without the IOException catch, but that didn't reveal anything either.</p>\n"}, {"tags": ["c#", "asp.net", "telerik", "telerik-grid", "radgrid"], "comments": [{"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1565811485, "post_id": 57500913, "comment_id": 101471356, "body": "maybe post code for &quot;AddVehicle&quot;.  Validation for the from will be two-part... one part client-side and one-part server-side, so be careful that you keep those intact.  It&#39;s not clear whether AddVehicle uses the form data or not."}, {"owner": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "reply_to_user": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1565811752, "post_id": 57500913, "comment_id": 101471441, "body": "@pcalkins I added some of the code for the button so you can see. But, it doesn&#39;t even enter the method until I click twice."}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1565813917, "post_id": 57500913, "comment_id": 101472256, "body": "ok, you could have a malformed linkButton tag there.  I don&#39;t think it&#39;s designed to be used like that... (shouldn&#39;t have a closing tag).  You probably just want a standard link if the image is going to be the button."}, {"owner": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "reply_to_user": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1565826908, "post_id": 57500913, "comment_id": 101475474, "body": "@pcalkins I don&#39;t think that&#39;s the problem. I&#39;ve used it like that alot of times. But thanks for the idea! :)"}], "answers": [{"comments": [{"owner": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "edited": false, "score": 1, "creation_date": 1565826861, "post_id": 57502576, "comment_id": 101475466, "body": "thanks! Any workaround so the perception isn&#39;t a double click?"}, {"owner": {"reputation": 1830, "user_id": 516867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c108b8a83309f3808caf38b730be6e65?s=128&d=identicon&r=PG", "display_name": "sh1rts", "link": "https://stackoverflow.com/users/516867/sh1rts"}, "reply_to_user": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "edited": false, "score": 0, "creation_date": 1565846065, "post_id": 57502576, "comment_id": 101478477, "body": "If you can avoid it, don&#39;t put code in TextChanged - collect up the contents of the GridView and save it as a single batch, triggered from your Save button click"}, {"owner": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "edited": false, "score": 0, "creation_date": 1565874858, "post_id": 57502576, "comment_id": 101488264, "body": "That&#39;s a good idea, but unfortunately the workflow doesn&#39;t allow for that. There are 2 grids. The bottom grid has all available items to &quot;add&quot;. The top grid contains what they&#39;ve added and they are allowed to adjust some values. So, I click add in the bottom grid, then they fill in some values in the top grid, but at any time they can click an add button again in the bottom grid without saving first. I don&#39;t want to lose any values they&#39;ve customized. Hope this makes sense. @sh1rts"}, {"owner": {"reputation": 1830, "user_id": 516867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c108b8a83309f3808caf38b730be6e65?s=128&d=identicon&r=PG", "display_name": "sh1rts", "link": "https://stackoverflow.com/users/516867/sh1rts"}, "reply_to_user": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "edited": false, "score": 0, "creation_date": 1565912176, "post_id": 57502576, "comment_id": 101502524, "body": "I&#39;d suggest using jQuery AJAX to post text changed events in your grid to an HttpHandler if you have to have immediate saving of the top grid (the one containing the products and quantities for the order)"}], "tags": [], "owner": {"reputation": 1830, "user_id": 516867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c108b8a83309f3808caf38b730be6e65?s=128&d=identicon&r=PG", "display_name": "sh1rts", "link": "https://stackoverflow.com/users/516867/sh1rts"}, "is_accepted": false, "score": 0, "last_activity_date": 1565819928, "creation_date": 1565819928, "answer_id": 57502576, "question_id": 57500913, "link": "https://stackoverflow.com/questions/57500913/ontextchanged-forcing-me-to-click-button-twice/57502576#57502576", "title": "OnTextChanged forcing me to click button twice", "body": "<p>With <code>AutoPostback</code> set to <code>\"true\"</code>, your textbox is going to fire the <code>TextChanged</code> event as soon as the textbox loses focus - this includes trying to click on a button.</p>\n\n<p>It might look like you're having to click the button twice, but what's actually happening is: -</p>\n\n<ol>\n<li><p>you go to click on a button or set the focus to another control </p></li>\n<li><p>the  default ASP.NET client-side javascript posts the form, and your\ntextbox's TextChanged event fires </p></li>\n<li><p>the page loads again </p></li>\n<li><p>you can now press the Save button (or move the focus to another control) without causing the TextChanged event again</p></li>\n</ol>\n\n<p>You can verify this by attaching a debugger and putting a breakpoint inside your TextChanged event.</p>\n"}], "owner": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565819928, "creation_date": 1565810974, "last_edit_date": 1565811686, "question_id": 57500913, "link": "https://stackoverflow.com/questions/57500913/ontextchanged-forcing-me-to-click-button-twice", "title": "OnTextChanged forcing me to click button twice", "body": "<p>I'm working on an asp.net, c# web app. I have a textbox (with validators) defined as...</p>\n\n<pre><code>      &lt;asp:TextBox ID=\"VehicleAmt\" runat=\"server\" AutoPostBack=\"True\" \n   OnTextChanged=\"VehicleAmt_OnTextChanged\" \n   causesvalidation=\"true\"\n   Width=\"35px\"&gt;&lt;/asp:TextBox&gt;\n  &lt;asp:RegularExpressionValidator ID=\"RegularExpressionValidator1\" runat=\"server\" Font-Size=\"12px\"\n          ControlToValidate=\"VehicleAmt\" ErrorMessage=\"*\" ForeColor=\"#CC3300\"\n          SetFocusOnError=\"True\" ValidationExpression=\"[0-99999]*\" Display=\"Dynamic\"&gt;\n  &lt;/asp:RegularExpressionValidator&gt;\n  &lt;asp:RequiredFieldValidator id=\"RequiredFieldValidatorVehicleAmt\"\n         ControlToValidate=\"VehicleAmt\"\n         Display=\"Dynamic\"\n         ErrorMessage=\"Required\"\n         runat=\"server\"/&gt;\n</code></pre>\n\n<p>Elsewhere on the form I have a telerik RadGrid with the last column being a button. This is defined as...</p>\n\n<pre><code>    &lt;telerik:GridTemplateColumn UniqueName=\"ActionColumn\"&gt;\n &lt;ItemTemplate&gt;\n  &lt;asp:LinkButton Text=\"\" runat=\"server\" ID=\"lnkAddVehicle\" CausesValidation=\"false\" CommandName=\"AddVehicle\"&gt;\n   &lt;img src=\"images/buttons/add.png\"/&gt;\n  &lt;/asp:LinkButton&gt;\n &lt;/ItemTemplate&gt;\n</code></pre>\n\n<p>The VehicleAmt_OnTextChanged method does some db saving. The problem is when I type something in the textbox then click on the add button, I actually have to click on the button TWICE in order for the button code to run. Any ideas why this is happening and how I can enable single click for this?</p>\n\n<p>I did notice that I have a standard asp.net button, and a single click does seem to work for that.</p>\n\n<p>FYI: The code for AddVehicle, in part is this...</p>\n\n<pre><code>    protected void RadGridAvailableItems_ItemCommand(object source, Telerik.Web.UI.GridCommandEventArgs e)\n{\n    if (e.CommandName != \"Sort\" &amp;&amp; e.CommandName != \"Page\" &amp;&amp; e.CommandName != \"ChangePageSize\")\n    {\n        GridDataItem dataItem = e.Item as GridDataItem;\n\n        int VehicleId = Convert.ToInt32(dataItem[\"VehicleId\"].Text);\n\n    switch (e.CommandName)\n        {\n\n            case \"AddVehicle\":\n                :\n                break;              \n        }\n    }\n    rebindGrids();\n\n    panErrorMessages.Visible = false;\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "epplus"], "comments": [{"owner": {"reputation": 13, "user_id": 10392642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ldxSC0u2eOQ/AAAAAAAAAAI/AAAAAAAAADE/z0wTVVNiNyY/photo.jpg?sz=128", "display_name": "Darwin", "link": "https://stackoverflow.com/users/10392642/darwin"}, "edited": false, "score": 0, "creation_date": 1565812113, "post_id": 57500910, "comment_id": 101471557, "body": "the image shown is to indicate what graphic I want to do with EPPLUS in .net but it requires two series and I don&#39;t know how to add 2 series with different graphics in this case (columnClustered, line)"}, {"owner": {"reputation": 12593, "user_id": 1324284, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6bsvn.jpg?s=128&g=1", "display_name": "Ernie S", "link": "https://stackoverflow.com/users/1324284/ernie-s"}, "edited": false, "score": 0, "creation_date": 1565887160, "post_id": 57500910, "comment_id": 101494291, "body": "You need to add chart 2 to chart 1.  See if this helps <a href=\"https://stackoverflow.com/a/28547941/1324284\">stackoverflow.com/a/28547941/1324284</a>"}], "answers": [{"tags": [], "owner": {"reputation": 12593, "user_id": 1324284, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/6bsvn.jpg?s=128&g=1", "display_name": "Ernie S", "link": "https://stackoverflow.com/users/1324284/ernie-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1565951480, "last_edit_date": 1565951480, "creation_date": 1565907321, "answer_id": 57516835, "question_id": 57500910, "link": "https://stackoverflow.com/questions/57500910/how-to-put-two-series-with-different-types-of-charts-inside-a-control-chart-usin/57516835#57516835", "title": "How to put two series with different types of charts inside a control chart using Epplus?", "body": "<p>Here is a proper answer to my comment.  Just need to put <code>myChart2</code> inside of <code>myChart1</code>'s area if that makes sense:</p>\n\n<pre><code>[TestMethod]\npublic void Chart_Two_Series()\n{\n    //https://stackoverflow.com/questions/57500910/how-to-put-two-series-with-different-types-of-charts-inside-a-control-chart-usinvar existingFile = new FileInfo(@\"c:\\temp\\temp.xlsx\");\n    var fileInfo = new FileInfo(@\"c:\\temp\\Chart_Two_Series.xlsx\");\n    if (fileInfo.Exists)\n        fileInfo.Delete();\n\n    using (var pck = new ExcelPackage(fileInfo))\n    {\n        var ws = pck.Workbook.Worksheets.Add(\"Content\");\n\n        //Some data\n        ws.Cells[\"C5\"].Value = \"amarillo\";\n        ws.Cells[\"C6\"].Value = 12;\n        ws.Cells[\"C7\"].Value = 485;\n\n        ws.Cells[\"D5\"].Value = \"rojo\";\n        ws.Cells[\"D6\"].Value = 121;\n        ws.Cells[\"D7\"].Value = 77;\n\n        ws.Cells[\"E5\"].Value = \"verde\";\n        ws.Cells[\"E6\"].Value = 548;\n        ws.Cells[\"E7\"].Value = 44;\n\n        var myChart = ws.Drawings.AddChart(\"chart\", eChartType.ColumnClustered);\n\n        //Define las series para el cuadro\n        var series = myChart.Series.Add(\"C6:E6\", \"C5:E5\");\n        myChart.Border.Fill.Color = System.Drawing.Color.Green;\n        myChart.Title.Text = \"My Chart\";\n        myChart.SetSize(500, 400);\n\n        //Agregar a la 6ta fila y a la 6ta columna\n        myChart.SetPosition(6, 0, 10, 0);\n\n        //Define las series para el cuadro\n        var myChart2 = myChart.PlotArea.ChartTypes.Add(eChartType.Line);\n        var series2 = myChart2.Series.Add(\"C7:E7\", \"C5:E5\");\n\n        ws.Cells[\"A:AZ\"].AutoFitColumns();\n        pck.Save();\n    }\n}\n</code></pre>\n\n<p>Which gives this in the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xm5oE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xm5oE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 10392642, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ldxSC0u2eOQ/AAAAAAAAAAI/AAAAAAAAADE/z0wTVVNiNyY/photo.jpg?sz=128", "display_name": "Darwin", "link": "https://stackoverflow.com/users/10392642/darwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 57516835, "answer_count": 1, "score": 1, "last_activity_date": 1565951480, "creation_date": 1565810962, "last_edit_date": 1565811828, "question_id": 57500910, "link": "https://stackoverflow.com/questions/57500910/how-to-put-two-series-with-different-types-of-charts-inside-a-control-chart-usin", "title": "How to put two series with different types of charts inside a control chart using Epplus?", "body": "<p>I am trying to combine two types of graphs into a single graphical chart using <strong>EPPLUS</strong>, I would appreciate if you could help me</p>\n\n<p>controller.cs</p>\n\n<pre><code>public ActionResult ExportarExcel()\n{    \n    var myChart2 = ws.Drawings.AddChart(\"chart\", eChartType.ColumnClustered);\n\n    /*//Define las series para el cuadro\n    var series = myChart.Series.Add(\"C7: E7\", \"C6: E6\");\n    myChart.Border.Fill.Color = System.Drawing.Color.Green;\n    myChart.Title.Text = \"My Chart\";\n    myChart.SetSize(500, 400);\n\n    //Agregar a la 6ta fila y a la 6ta columna\n    myChart.SetPosition(6, 0, 10, 0);*/\n\n\n\n    //Define las series para el cuadro\n    /*var series = myChart2.Series.Add(\"C7: E7\", \"C6: E6\");\n    myChart2.Border.Fill.Color = System.Drawing.Color.Green;\n    myChart2.Title.Text = \"My Chart\";\n    myChart2.SetSize(500, 400);*/\n\n\n    //Agregar a la 6ta fila y a la 6ta columna\n    myChart2.SetPosition(6, 0, 10, 0);\n\n    ws.Cells[\"A:AZ\"].AutoFitColumns();\n\n\n    MemoryStream memoryStream = new MemoryStream();\n    pkg.SaveAs(memoryStream);\n    memoryStream.Position = 0;\n\n    return new FileStreamResult(memoryStream, \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\") { FileDownloadName = \"Gestion_horas.xlsx\" };\n}\n</code></pre>\n\n<p>Sample of the image that I want to obtain with the data that I bring from my application</p>\n\n<p><img src=\"https://i.stack.imgur.com/Calxh.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1565810097, "post_id": 57500715, "comment_id": 101470865, "body": "Why do you think the loop would defeat the purpose?  The DB call is going to take much much longer than that loop and during that time the thread is free to do other stuff."}, {"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1565810242, "post_id": 57500715, "comment_id": 101470909, "body": "Why isn&#39;t the <code>ReplyObj.Result</code> a dynamic? What about a <code>ReplyObj&lt;T&gt;</code>?"}, {"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1565810376, "post_id": 57500715, "comment_id": 101470969, "body": "The only async on this is <code>ToListAsync</code>. until that will be ran on the current thread. You should run the query using <code>Task.Run()</code> in combination with <code>TaskCompletionSource&lt;TResult&gt;</code>. Probably the are already FromSqlAsync methods or extensions"}, {"owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "reply_to_user": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1565814913, "post_id": 57500715, "comment_id": 101472634, "body": "@JeroenvanLangen Saying &quot;until that will be ran on the current thread&quot; makes it sound like awaiting ToListAsync will somehow spin up a different thread, which is not correct"}, {"owner": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1565829072, "post_id": 57500715, "comment_id": 101475801, "body": "Because I felt like the await should cover the entire function, not just part of it. However that does make sense thank you @juharr - ReplyObj contains a dynamic list &quot;Result&quot;."}, {"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "reply_to_user": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "edited": false, "score": 0, "creation_date": 1565851746, "post_id": 57500715, "comment_id": 101479709, "body": "@chill94 that&#39;s a little nitpicking, but <i><code>which is not correct</code></i> is bluntly."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 1, "creation_date": 1565873264, "post_id": 57500715, "comment_id": 101487498, "body": "@JeroenvanLangen Putting something that is primarily IO bound into <code>Task.Run</code> is mostly pointless, it&#39;s better to use actual async methods for IO and use <code>Task.Run</code> for CPU bound (or IO if there are no async methods available)."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "edited": false, "score": 0, "creation_date": 1565829207, "post_id": 57500884, "comment_id": 101475815, "body": "This is where I was a bit confused, so its like a cycle between calling the function and the await on the Query, well what happens with the foreach loop, does that start blocking the thread?"}, {"owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "reply_to_user": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "edited": false, "score": 0, "creation_date": 1565881858, "post_id": 57500884, "comment_id": 101491846, "body": "Running CPU bound code (ie. processing data in a foreach loop) will not yield control back up the call stack. Does that help? I&#39;d encourage you to keep digging into async/await to make sure you&#39;ve got a solid grasp of what&#39;s going on, as it can definitely be somewhat tricky when you&#39;re first getting started. Though I was criticized for pointing it out above, one of the biggest takeaways I can offer is that it awaiting does not create new threads. It creates a state machine on the current thread, giving it a point at which to resume when the IO bound call completes (on the same thread)."}, {"owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "reply_to_user": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "edited": false, "score": 0, "creation_date": 1565904807, "post_id": 57500884, "comment_id": 101500870, "body": "I realized after re-reading my post that the parenthetical note, &quot;(on the same thread)&quot;, is an incorrect statement. Here&#39;s a link pointing out <a href=\"https://stackoverflow.com/questions/21838651/i-thought-await-continued-on-the-same-thread-as-the-caller-but-it-seems-not-to\">my error</a>."}], "tags": [], "owner": {"reputation": 341, "user_id": 10791800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/329a89acfcae9d7739e524b0ca6ebaa8?s=128&d=identicon&r=PG&f=1", "display_name": "chill94", "link": "https://stackoverflow.com/users/10791800/chill94"}, "is_accepted": false, "score": 1, "last_activity_date": 1565810844, "creation_date": 1565810844, "answer_id": 57500884, "question_id": 57500715, "link": "https://stackoverflow.com/questions/57500715/is-this-function-asynchronous/57500884#57500884", "title": "Is this function Asynchronous?", "body": "<p>To begin, here's a couple of references for async/await in C# that I'd suggest reviewing: </p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">Microsoft Docs</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14455293/how-and-when-to-use-async-and-await\">SO Community Answer</a></li>\n</ul>\n\n<p>The simple (high-level) answer is that awaiting your sql call will return control up the call stack and continue execution. In this case, that means it will go up to:</p>\n\n<pre><code>reply = await GetAssets();\n</code></pre>\n\n<p>Which will in turn return control to whatever function called that, etc. etc..</p>\n\n<p>With that said, if all of your async calls in your call stack are immediately being awaited, then async won't end up buying you anything/changing the flow of control. To say, keep in mind that <a href=\"https://blogs.msdn.microsoft.com/benwilli/2015/09/10/tasks-are-still-not-threads-and-async-is-not-parallel/\" rel=\"nofollow noreferrer\">async != threading</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "edited": false, "score": 0, "creation_date": 1565829023, "post_id": 57501358, "comment_id": 101475794, "body": "Thank you, this is exactly what looks and feels right, the await now covers the entire function. Your right it was redundant thank you for pointing that out, I was really just after the Async functionality."}, {"owner": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "edited": false, "score": 0, "creation_date": 1565830357, "post_id": 57501358, "comment_id": 101475982, "body": "Your code gives me: Cannot implicitly convert type &#39;System.Collections.Generic.List&lt;&lt;anonymous type: int AssetId, string Name, string Description, int PriceDecimals&gt;&gt;&#39; to &#39;System.Collections.Generic.List&lt;dynamic&gt;&#39;  Is there a way to apply the Asset type to the object I&#39;m creating.. or make these two compatible?"}, {"owner": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "edited": false, "score": 0, "creation_date": 1565831549, "post_id": 57501358, "comment_id": 101476187, "body": "I fixed it, here&#39;s the new code:             obj.Result = await _context.Asset.Select(s =&gt; new Asset             {                 AssetId = s.AssetId,                 Name = s.Name,                 Description = s.Description,                 PriceDecimals = s.PriceDecimals             }).Cast&lt;dynamic&gt;().ToListAsync();"}], "tags": [], "owner": {"reputation": 2194, "user_id": 4308286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/cTDez.jpg?s=128&g=1", "display_name": "Jamshaid K.", "link": "https://stackoverflow.com/users/4308286/jamshaid-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1565813272, "creation_date": 1565813272, "answer_id": 57501358, "question_id": 57500715, "link": "https://stackoverflow.com/questions/57500715/is-this-function-asynchronous/57501358#57501358", "title": "Is this function Asynchronous?", "body": "<p>Few things that I want to point out:</p>\n\n<ol>\n<li><p><code>dynamic AssetRecords = await _context.Asset.FromSql(\"SELECT * FROM Asset\").ToListAsync();</code> <br/> When you are using <code>_context.Asset</code> it will return all the Asset rows that you have. Why would you execute another query on the table when the <code>Asset</code> it self is giving all that you need? Hence, to me this is redundant thing.</p></li>\n<li><p>And if you use <code>select</code> method and then get the list <code>asyncronously</code> then you will have eliminated the the foreach loop and it will cost only one <code>await</code> call and query processing. See code sample below:</p>\n\n<pre><code>public async Task&lt;ReplyObj&gt; GetAssets()\n{\n    ReplyObj obj = new ReplyObj();\n    return obj.Result = await _context.Asset.Select(s =&gt; new\n    {\n        AssetId = s.AssetId,\n        Name = s.Name,\n        Description = s.Description,\n        PriceDecimals = s.PriceDecimals\n    }).ToListAsync();\n}\n</code></pre></li>\n</ol>\n\n<p>This could now be your true async method.</p>\n\n<p>PS:\nIf you want to show your code to experts for review, I would suggest joining <a href=\"https://codereview.stackexchange.com/\">StackExchange CodeReview Community</a></p>\n"}], "owner": {"reputation": 39, "user_id": 11928950, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AwmZV5PwKJY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdHVtBUASPIOJV7AHLd9bUrqG10-A/photo.jpg?sz=128", "display_name": "Nick D", "link": "https://stackoverflow.com/users/11928950/nick-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 57501358, "answer_count": 2, "score": 0, "last_activity_date": 1565813272, "creation_date": 1565809992, "last_edit_date": 1565811110, "question_id": 57500715, "link": "https://stackoverflow.com/questions/57500715/is-this-function-asynchronous", "title": "Is this function Asynchronous?", "body": "<p>I'm not sure if this code is Asynchronous. I call this function using await from my main controller and within the function I use await on the LINQ query and .ToListAsync() - but after the query I have the foreach loop which may defeat the purpose of async on the query.</p>\n\n<p>Main Controller Call:</p>\n\n<pre><code>case \"getassets\":\n    reply = await GetAssets();\n    break;\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>public async Task&lt;ReplyObj&gt; GetAssets()\n{\n    ReplyObj obj = new ReplyObj();\n    obj.Result = new List&lt;dynamic&gt;();\n    dynamic AssetRecords = await _context.Asset.FromSql(\"SELECT * FROM Asset\").ToListAsync();\n\n    foreach (var objAsset in AssetRecords)\n    {\n        obj.Result.Add(new Asset() \n        {\n            AssetId = objAsset.AssetId,\n            Name = objAsset.Name,\n            Description = objAsset.Description,\n            PriceDecimals = objAsset.PriceDecimals \n        });\n    }\n\n    obj.Success = true;\n    obj.Message = \"\";\n\n    return obj;        \n}\n</code></pre>\n\n<p>This call will have many requests hitting it, I want to know for sure that its using async correctly. Thank you!</p>\n"}, {"tags": ["c#", "entity-framework-6"], "comments": [{"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1565879364, "post_id": 57500710, "comment_id": 101490618, "body": "The Model Wizard tends to give a lot of issues with multiple models under a single project. I use separate projects for creating EDMX files to avoid issues like this one. Have not found a better solution."}, {"owner": {"reputation": 2105, "user_id": 742058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb82325eb4c16483088ebf1601720e16?s=128&d=identicon&r=PG", "display_name": "SASS_Shooter", "link": "https://stackoverflow.com/users/742058/sass-shooter"}, "reply_to_user": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1565882634, "post_id": 57500710, "comment_id": 101492256, "body": "Well I uninstalled Entity Framework, reinstalled Entity Framework, created two projects and added a model to one of the two projects.  The behaviour remained the same!!  Creates the files and never runs the wizard."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1565882894, "post_id": 57500710, "comment_id": 101492415, "body": "The EDMX wizard and toolkit kinda sucks - for people wanting to use a database-first EF6 approach, I recommend <a href=\"https://github.com/sjh37/EntityFramework-Reverse-POCO-Code-First-Generator\" rel=\"nofollow noreferrer\">github.com/sjh37/&hellip;</a> - it&#39;s faster to run and eliminates the need to constantly tweak EDMX XML whenever you make DB changes."}], "answers": [{"tags": [], "owner": {"reputation": 2105, "user_id": 742058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb82325eb4c16483088ebf1601720e16?s=128&d=identicon&r=PG", "display_name": "SASS_Shooter", "link": "https://stackoverflow.com/users/742058/sass-shooter"}, "is_accepted": true, "score": 0, "last_activity_date": 1565970232, "creation_date": 1565970232, "answer_id": 57527534, "question_id": 57500710, "link": "https://stackoverflow.com/questions/57500710/creating-a-second-edmx-file-never-runs-the-entity-data-model-wizard/57527534#57527534", "title": "Creating a second EDMX file never runs the Entity Data Model Wizard", "body": "<p>When I first created my edmx file I am positive that I selected the EF 6.x DbContext Generator.  Which stopped working for me after that.</p>\n\n<p>What I found to make it consistently work was I have to create a New .. Data .. ADO.NET Entity Data Model and that will generate the POCO I need.  I have not experimented with how well it works with two EDMX files in one project!</p>\n\n<p>But his has me working once again.</p>\n"}], "owner": {"reputation": 2105, "user_id": 742058, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bb82325eb4c16483088ebf1601720e16?s=128&d=identicon&r=PG", "display_name": "SASS_Shooter", "link": "https://stackoverflow.com/users/742058/sass-shooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57527534, "answer_count": 1, "score": 3, "last_activity_date": 1565970232, "creation_date": 1565809973, "last_edit_date": 1565882726, "question_id": 57500710, "link": "https://stackoverflow.com/questions/57500710/creating-a-second-edmx-file-never-runs-the-entity-data-model-wizard", "title": "Creating a second EDMX file never runs the Entity Data Model Wizard", "body": "<p>I am trying to add a second connection in my project, and I went through the steps: got the connection string, confirmed I could access it, planned the location in the solution.</p>\n\n<p>I did an Add .. New .. Data .. Entity Framework 6.x dbContext Generator\nThe hour glass ran for a minute, then it returned to the solution without any information collection and no EDMX record was created.  It created all of the files that would normally go under the edmx file though.  Including the file that has a pointer name back to the edmx file.  </p>\n\n<p>This is in Visual Studio 2015.\nI also removed and reinstalled Entity Framework and tried using EF 5.x instead of 6.x in two separate projects with no EF in the main project.  No change in behaviour.</p>\n\n<p>So does anyone know what could cause this and how to get around it so that I can get this last step completed?</p>\n\n<p>Thanks,\nMichael</p>\n"}, {"tags": ["c#", "asp.net-mvc", "html-lists", "generic-list"], "answers": [{"tags": [], "owner": {"reputation": 167, "user_id": 9824303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf39aea58ea109dd7295f632a42fee74?s=128&d=identicon&r=PG&f=1", "display_name": "SJ10", "link": "https://stackoverflow.com/users/9824303/sj10"}, "is_accepted": true, "score": 1, "last_activity_date": 1565810326, "creation_date": 1565810326, "answer_id": 57500783, "question_id": 57500664, "link": "https://stackoverflow.com/questions/57500664/how-do-i-parse-a-string-with-an-unordered-list-into-a-generic-list-of-strings/57500783#57500783", "title": "How do I parse a string with an unordered list into a generic list of strings?", "body": "<p>You can try this:</p>\n\n<pre><code>List&lt;string&gt; list = new List&lt;string&gt;();\n\nlist = (Regex.Split(YOURSTRING, \"\\r\\n\")).ToList&lt;string&gt;();\n</code></pre>\n\n<p>this should just split by each line.\nIt will split into an array, which is why I use .ToList().</p>\n\n<p>\"\\r\\n\" is used to find the newline character with Regex </p>\n"}], "owner": {"reputation": 111, "user_id": 90740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6763544be4daa2a2dfd1c56deac91cd6?s=128&d=identicon&r=PG", "display_name": "LDWisdom", "link": "https://stackoverflow.com/users/90740/ldwisdom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 57500783, "answer_count": 1, "score": 1, "last_activity_date": 1565810326, "creation_date": 1565809726, "question_id": 57500664, "link": "https://stackoverflow.com/questions/57500664/how-do-i-parse-a-string-with-an-unordered-list-into-a-generic-list-of-strings", "title": "How do I parse a string with an unordered list into a generic list of strings?", "body": "<p>I have an unordered list stored in my SQL table as a string.  I need to display it later in an Excel file but I'm having trouble formatting it correctly.  </p>\n\n<p>I have tried using regular expressions to and I think I'm close, but I'm missing something.</p>\n\n<p>This is my sample input string</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li&gt;Line 1&lt;/li&gt;\n    &lt;li&gt;Line 2&lt;/li&gt;\n    &lt;li&gt;Line 3&lt;/li&gt;\n    &lt;li&gt;Line 4\n        &lt;ul style=\"list-style-type:circle\"&gt;\n            &lt;li&gt;Line 4-1&lt;/li&gt;\n            &lt;li&gt;Line 4-2\n                &lt;ul style=\"list-style-type:square\"&gt;\n                    &lt;li&gt;Line 4-2-1&lt;/li&gt;\n                    &lt;li&gt;Line 4-2-2&lt;/li&gt;\n                    &lt;li&gt;Line 4-2-3&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n            &lt;li&gt;Line 4-3&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li&gt;Line 5&lt;/li&gt;\n    &lt;li&gt;Line 6&lt;/li&gt;\n    &lt;li&gt;Line 7&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>And here is what I've done so far.</p>\n\n<pre><code>            var dt = new DataTable();\n            dt.Columns.Add();\n\nstring inputValue; //unordered list from above\n\n            Regex rgxLI = new Regex(@\"&lt;li&gt;(.*?)&lt;/li&gt;\");\n            Regex rgxCircle = new Regex(@\"&lt;ul style=\\\"\"list-style-type:circle\\\"\"&gt;(.*?)&lt;/ul&gt;\");\n            Regex rgxSquare = new Regex(@\"&lt;ul style=\\\"\"list-style-type:square\\\"\"&gt;(.*?)&lt;/ul&gt;\");\n\n            MatchCollection mcLI = rgxLI.Matches(inputValue);\n            for (var i = 0; i &lt; mcLI.Count; i++)\n            {\n                DataRow dr = dt.NewRow();\n                //string instructionLine = mc[i].Value;\n                if (mcLI[i].Value.Contains(\"&lt;ul style=\\\"list-style-type:circle\\\"&gt;\"))\n                {\n                    MatchCollection mcCircle = rgxCircle.Matches(mcLI[i].Value);\n                    for (var j = 0; j &lt; mcCircle.Count; j++)\n                    {\n                        if (mcLI[j].Value.Contains(\"&lt;ul style=\\\"list-style-type:square\\\"&gt;\"))\n                        {\n                            MatchCollection mcSquare= rgxSquare.Matches(mcLI[j].Value);\n                            dr[0] = System.Net.WebUtility.HtmlDecode(\"&amp;#9642;\" + mcSquare[j].ToString().Replace(\"&lt;li&gt;\", \"\").Replace(\"&lt;/li&gt;\", \"\"));\n                        }\n                        else\n                        {\n                            dr[0] = System.Net.WebUtility.HtmlDecode(\"&amp;#8226;\" + mcCircle[j].ToString().Replace(\"&lt;li&gt;\", \"\").Replace(\"&lt;/li&gt;\", \"\"));\n                        }\n                    }\n\n                }\n                else\n                {\n\n                    dr[0] = System.Net.WebUtility.HtmlDecode(mcLI[i].Value.Replace(\"&lt;li&gt;\", \"\").Replace(\"&lt;/li&gt;\", \"\"));\n\n                }\n                dt.Rows.Add(dr);\n\n            }\n</code></pre>\n\n<p>Not sure if I'm overcomplicating things or just missing some steps.  I was able to get most of the string parsed, but I'm missing the bullet points after 4-1.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 273, "user_id": 3722559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ae714cac6c3fe6897729aca735eaea?s=128&d=identicon&r=PG&f=1", "display_name": "schil227", "link": "https://stackoverflow.com/users/3722559/schil227"}, "edited": false, "score": 0, "creation_date": 1565809599, "post_id": 57500575, "comment_id": 101470684, "body": "Have you considered making a method that takes in your dictionary structure and keys? <code>GetFoo(info, [&quot;gen&quot;, &quot;name&quot;])</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1565809744, "post_id": 57500575, "comment_id": 101470739, "body": "Is there any reason you&#39;re using a nested dictionary instead of a custom class?"}, {"owner": {"reputation": 33, "user_id": 10042719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3ee95a9a2ea89d9dca40ea7ed6042e?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Smaniotto", "link": "https://stackoverflow.com/users/10042719/andr%c3%a9-smaniotto"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1565810708, "post_id": 57500575, "comment_id": 101471089, "body": "@RufusL Because my structure can be much more complex and is always mutable, hardly I gonna have two structure with the same format."}, {"owner": {"reputation": 33, "user_id": 10042719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3ee95a9a2ea89d9dca40ea7ed6042e?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Smaniotto", "link": "https://stackoverflow.com/users/10042719/andr%c3%a9-smaniotto"}, "reply_to_user": {"reputation": 273, "user_id": 3722559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ae714cac6c3fe6897729aca735eaea?s=128&d=identicon&r=PG&f=1", "display_name": "schil227", "link": "https://stackoverflow.com/users/3722559/schil227"}, "edited": false, "score": 0, "creation_date": 1565811186, "post_id": 57500575, "comment_id": 101471267, "body": "@schil227 On my example I am getting the data, but I also need make an attribution, like <code>info[&quot;gen, name&quot;] = &quot;Genebra&quot;</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1565811433, "post_id": 57500575, "comment_id": 101471340, "body": "The general answer is, &quot;no, you can&#39;t do that&quot;."}, {"owner": {"reputation": 273, "user_id": 3722559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50ae714cac6c3fe6897729aca735eaea?s=128&d=identicon&r=PG&f=1", "display_name": "schil227", "link": "https://stackoverflow.com/users/3722559/schil227"}, "edited": false, "score": 0, "creation_date": 1565812773, "post_id": 57500575, "comment_id": 101471803, "body": "are you ultimately trying to basically compose and inject a string (<code>&quot;gen, name&quot;</code>) into the dictionary to get/set values? if that&#39;s the case, your best bet is to create getter/setter methods to alter your info that knows to parse the input string properly, though I suspect there are better ways of doing this."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10042719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3ee95a9a2ea89d9dca40ea7ed6042e?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Smaniotto", "link": "https://stackoverflow.com/users/10042719/andr%c3%a9-smaniotto"}, "edited": false, "score": 0, "creation_date": 1565877925, "post_id": 57502194, "comment_id": 101489895, "body": "I was wishing something more simple, but that must solve. Thanks a lot!"}, {"owner": {"reputation": 238, "user_id": 479604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b971c6af96370a97287c10a4894e5f?s=128&d=identicon&r=PG", "display_name": "Classe", "link": "https://stackoverflow.com/users/479604/classe"}, "reply_to_user": {"reputation": 33, "user_id": 10042719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3ee95a9a2ea89d9dca40ea7ed6042e?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Smaniotto", "link": "https://stackoverflow.com/users/10042719/andr%c3%a9-smaniotto"}, "edited": false, "score": 0, "creation_date": 1565893371, "post_id": 57502194, "comment_id": 101496753, "body": "It did get a bit messy, three of the methods are really just helpers to illustrate usage. It really just boils down to the dictionary recursion which could be simplified to just this: <code>if (!keys.Any()) return current; return current.Contains(keys[0]) &amp;&amp; current[keys[0]] is IDictionary child ? child.FindDictionary(keys.Skip(1).ToArray()) : null;</code>. Pretty much just a matter of preference how to use it in the end :) I do recommend changing it up to better suit your exact need."}], "tags": [], "owner": {"reputation": 238, "user_id": 479604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b971c6af96370a97287c10a4894e5f?s=128&d=identicon&r=PG", "display_name": "Classe", "link": "https://stackoverflow.com/users/479604/classe"}, "is_accepted": true, "score": 1, "last_activity_date": 1565818594, "last_edit_date": 1565818594, "creation_date": 1565817507, "answer_id": 57502194, "question_id": 57500575, "link": "https://stackoverflow.com/questions/57500575/is-there-a-way-to-access-a-nested-dictionary-with-a-concatenated-string-key/57502194#57502194", "title": "Is there a way to access a nested dictionary with a concatenated string key?", "body": "<p>I'm out of square brackets, but I do have some extensions methods if it's of any interest.</p>\n\n<p>They can traverse endlessly and get an object or set a generic value to the end of a key chain of dictionary. The Get() returns an object, but that's easily fixable to a generic type if necessary.</p>\n\n<p>Since the keys are based on params you could throw in a dynamic arrays of keys if you have a very dynamic environment.</p>\n\n<p>Works like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    var exists1 = info.Exists(\"Gen\", \"name\", \"One key too much\"); // false\n    var exists2 = info.Exists(\"Gen\", \"chapters\"); // true\n\n    var value1 = info.Get(\"Gen\", \"name\", \"One key too much\"); // null\n    var value2 = info.Get(\"Gen\", \"chapters\"); // \"50\"\n\n    var valueToSet = \"myNewValue\";\n\n    var successSet1 = info.TrySet(valueToSet, \"Gen\", \"before\", \"One key too much\"); // false\n    var successSet2 = info.TrySet(valueToSet, \"Gen\", \"after\"); // true | \"Gen\" -&gt; \"after\" set to \"myNewValue\"\n\n    var dictionary1 = info.FindSubDictionary(\"Gen\", \"name\", \"One key too much\"); // null\n    var dictionary2 = info.FindSubDictionary(\"Gen\", \"chapters\"); // \"Gen\" sub dictionary\n</code></pre>\n\n<p>I haven't tested it much, nor given much thought into what it should return when, but if you find it useful, it could be something to start to tinker around with.</p>\n\n<p>4 extension methods mostly working together, offering Exists, Get, TrySet and <em>(what should be)</em> an internal one to resolve the dictionary tree.</p>\n\n<p><em>TrySet:</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Tries to set a value to any dictionary found at the end of the params keys, or returns false\n/// &lt;/summary&gt;\npublic static bool TrySet&lt;T&gt;(this System.Collections.IDictionary dictionary, T value, params string[] keys)\n{\n    // Get the deepest sub dictionary, set if available\n    var subDictionary = dictionary.FindSubDictionary(keys);\n    if (subDictionary == null) return false;\n\n    subDictionary[keys.Last()] = value;\n    return true;\n}\n</code></pre>\n\n<p><em>Get:</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Returns a value from the last key, assuming there is a dictionary available for every key but last\n/// &lt;/summary&gt;\npublic static object Get(this System.Collections.IDictionary dictionary, params string[] keys)\n{\n    var subDictionary = dictionary.FindSubDictionary(keys);\n    if (subDictionary == null) return null; // Or throw\n\n    return subDictionary[keys.Last()];\n}\n</code></pre>\n\n<p><em>Exists:</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Returns whether the param list of keys has dictionaries all the way down to the final key\n/// &lt;/summary&gt;\npublic static bool Exists(this System.Collections.IDictionary dictionary, params string[] keys)\n{\n    // If we have no keys, we have traversed all the keys, and should have dictionaries all the way down.\n    // (needs a fix for initial empty key params though)\n    if (keys.Count() == 0) return true;\n\n    // If the dictionary contains the first key in the param list, and the value is another dictionary, \n    // return that dictionary with first key removed (recursing down)\n    if (dictionary.Contains(keys.First()) &amp;&amp; dictionary[keys.First()] is System.Collections.IDictionary subDictionary)\n        return subDictionary.Exists(keys.Skip(1).ToArray());\n\n    // If we didn't have a dictionary, but we have multiple keys left, there are not enough dictionaries for all keys\n    if (keys.Count() &gt; 1) return false; \n\n    // If we get here, we have 1 key, and we have a dictionary, we simply check whether the last value exists,\n    // thus completing our recursion\n    return dictionary.Contains(keys.First());\n}\n</code></pre>\n\n<p><em>FindSubDictionary:</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Returns the possible dictionary that exists for all keys but last. (should eventually be set to private)\n/// &lt;/summary&gt;\npublic static System.Collections.IDictionary FindSubDictionary(this System.Collections.IDictionary dictionary, params string[] keys)\n{\n    // If it doesn't exist, don't bother\n    if (!dictionary.Exists(keys)) return null; // Or throw\n\n    // If we reached end of keys, or got 0 keys, return\n    if (keys.Count() == 0) return null; // Or throw\n\n    // Look in the current dictionary if the first key is another dictionary.\n    return dictionary[keys.First()] is System.Collections.IDictionary subDictionary\n        ? subDictionary.FindSubDictionary(keys.Skip(1).ToArray()) // If it is, follow the subdictionary down after removing the key just used\n        : keys.Count() == 1 // If we only have one key remaining, the last key should be for a value in the current dictionary. \n            ? dictionary // Return the current dictionary as it's the proper last one\n            : null; // (or throw). If we didn't find a dictionary and we have remaining keys, the dictionary tree is invalid\n}\n</code></pre>\n\n<p><em>Edit:</em>\nNoticed you wanted CSV-keys. It should be easy to just construct from above, but I made a quick example using a single csv-key with a bonus optional custom separator.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    var csvResult1 = info.Get(\"Gen, chapters, One key too much\"); // null\n    var csvResult2 = info.Get(\"Gen, chapters\"); // \"50\"\n\n    // With custom separator\n    var csvResult3 = info.Get(\"Gen;chapters;One key too much\", separator: \";\"); \n    var csvResult4 = info.Get(\"Gen; chapters\", separator: \";\"); \n</code></pre>\n\n<p><em>Code:</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>/// &lt;summary&gt;\n/// Returns a value from the last key of a csv string with keys, assuming there is a dictionary available for every key but the last.\n/// &lt;/summary&gt;\npublic static object Get(this System.Collections.IDictionary dictionary, string csvKeys, string separator = \",\")\n{\n    if (String.IsNullOrEmpty(csvKeys)) throw new ArgumentNullException(\"Csv key input parameters is not allowed to be null or empty\", nameof(csvKeys));\n\n    var keys = csvKeys.Split(separator).Select(k =&gt; k.Trim());\n    var subDictionary = dictionary.FindSubDictionary(keys.ToArray());\n    if (subDictionary == null) return null; // Or throw\n\n    return subDictionary[keys.Last()];\n}\n</code></pre>\n\n<p>You better test that last one though, I didn't run it. Should run fine though... I just can't give any guarantees it will :)</p>\n"}], "owner": {"reputation": 33, "user_id": 10042719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e3ee95a9a2ea89d9dca40ea7ed6042e?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#233; Smaniotto", "link": "https://stackoverflow.com/users/10042719/andr%c3%a9-smaniotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "closed_date": 1565818404, "accepted_answer_id": 57502194, "answer_count": 1, "score": -1, "last_activity_date": 1565818594, "creation_date": 1565809284, "question_id": 57500575, "link": "https://stackoverflow.com/questions/57500575/is-there-a-way-to-access-a-nested-dictionary-with-a-concatenated-string-key", "closed_reason": "Duplicate", "title": "Is there a way to access a nested dictionary with a concatenated string key?", "body": "<p>I want a way to access a value in a nested dictionary using the full path for that value as the string keys concatenateds.</p>\n\n<pre><code>public Dictionary&lt;string, object&gt; info =\n    new Dictionary&lt;string, object&gt;\n    {\n        {\n            \"Gen\",\n            new Dictionary&lt;string, string&gt;\n            {\n                {\"name\", \"Genesis\"},\n                {\"chapters\", \"50\"},\n                {\"before\", \"\"},\n                {\"after\", \"Exod\"}\n            }\n        },\n        {\n            \"Exod\",\n            new Dictionary&lt;string, string&gt;\n            {\n                {\"name\", \"Exodus\"},\n                {\"chapters\", \"40\"},\n                {\"before\", \"Gen\"},\n                {\"after\", \"Lev\"}\n            }\n        }\n    };\n\nstring some1 = info[\"gen\"][\"name\"]; // to get \"Genesis\"\nstring some2 = info[\"gen, name\"]; //not work, but i would need some similar\n</code></pre>\n\n<p>Currently, I can just access a nested dictionary throw a lot of brackelets, like on <code>some1</code>, but since I can get the full path as a string (and easy get as a array) I really want a way to do as the <code>some2</code>, making my code more dynamic.</p>\n"}, {"tags": ["c#", "json", "serialization", "polymorphism"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1565813443, "post_id": 57500522, "comment_id": 101472057, "body": "You can use <code>UpcastingContractResolver&lt;Recipe, RecipeShort&gt;</code> from <a href=\"https://stackoverflow.com/a/56468144/3744182\">this answer</a> to <a href=\"https://stackoverflow.com/q/56467203/3744182\">How to exclude properties from JsonConvert.PopulateObject that don&#39;t exist in some base type or interface?</a>.  Demo: <a href=\"https://dotnetfiddle.net/0PcMVQ\" rel=\"nofollow noreferrer\">dotnetfiddle.net/0PcMVQ</a>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1565814215, "post_id": 57500522, "comment_id": 101472370, "body": "<code>JsonConvert.SerializeObject(res, typeof(RecipeShort),null)</code> is useful when you want to add a <code>$type</code> property to the root.  See <a href=\"https://stackoverflow.com/a/28133806/3744182\">Serializing an interface/abstract object using NewtonSoft.JSON</a>."}, {"owner": {"reputation": 99, "user_id": 805510, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bb1e5a1c8d8067a11dd4bdd221f2a992?s=128&d=identicon&r=PG", "display_name": "Tanya", "link": "https://stackoverflow.com/users/805510/tanya"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1565963532, "post_id": 57500522, "comment_id": 101518187, "body": "Thanks a lot! Now I&#39;ve understand better!"}], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 159367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483422d67f9db1fe904360bcc50784fb?s=128&d=identicon&r=PG", "display_name": "Andrey Sidorenko", "link": "https://stackoverflow.com/users/159367/andrey-sidorenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1565810319, "creation_date": 1565810319, "answer_id": 57500781, "question_id": 57500522, "link": "https://stackoverflow.com/questions/57500522/trying-serialize-to-json-only-the-base-class/57500781#57500781", "title": "Trying serialize to json only the base class", "body": "<p>You can probably use IContractResolver, see <a href=\"https://www.newtonsoft.com/json/help/html/ConditionalProperties.htm\" rel=\"nofollow noreferrer\">https://www.newtonsoft.com/json/help/html/ConditionalProperties.htm</a>.</p>\n"}], "owner": {"reputation": 99, "user_id": 805510, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/bb1e5a1c8d8067a11dd4bdd221f2a992?s=128&d=identicon&r=PG", "display_name": "Tanya", "link": "https://stackoverflow.com/users/805510/tanya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "closed_date": 1565813460, "answer_count": 1, "score": 1, "last_activity_date": 1565810319, "creation_date": 1565809004, "question_id": 57500522, "link": "https://stackoverflow.com/questions/57500522/trying-serialize-to-json-only-the-base-class", "closed_reason": "Duplicate", "title": "Trying serialize to json only the base class", "body": "<p>I am trying to save the following data in the Json form. I am using the Newtonsoft.Json library for that. Sometimes I need to serialize only the RecipeShort properties of the Recipe object.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>    [JsonObject(MemberSerialization.OptIn)]\n    public class RecipeShort\n    {\n        [JsonProperty]\n        public string Id { get; set; }\n\n        [JsonProperty]\n        public string Title { get; set; }\n    }\n\n    [JsonObject(MemberSerialization.OptIn)]\n    public class Recipe : RecipeShort\n    {\n        [JsonProperty]\n        private List&lt;Ingredient&gt; ingredients;\n\n        [JsonProperty]\n        public string Method { get; set; }\n    }\n\n            Recipe res = new Recipe\n            {\n                Id = \"123\",\n                Title = \"Text\",\n                Method =\"Text\",\n                Ingredients = ingredients\n            };\n</code></pre>\n\n<p>I've tried several ways but it did not work.</p>\n\n<p>One way:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>string str1 = Newtonsoft.Json.JsonConvert.SerializeObject(res, typeof(RecipeShort),null);\n</code></pre>\n\n<p>Other way:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>RecipeShort temp = (RecipeShort) res;\nstring str1 = Newtonsoft.Json.JsonConvert.SerializeObject((RecipeShort)temp, typeof(RecipeShort),null);\n</code></pre>\n\n<p>The third way:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>string str = Newtonsoft.Json.JsonConvert.SerializeObject(res);\nRecipeShort temp1 = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;RecipeShort&gt;(str);\nstring str1 = Newtonsoft.Json.JsonConvert.SerializeObject(temp1, typeof(RecipeShort),null);\n</code></pre>\n\n<p>First two ways are fully serialize the object. The third fails on attempt to deserialize with NullPointerExeption.  </p>\n\n<p>Is there any elegant way to serialize only the base class without doing it manually?</p>\n"}, {"tags": ["c#", ".net", "regex", "perl", "pcre"], "comments": [{"owner": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1565810156, "post_id": 57500480, "comment_id": 101470884, "body": "The whole line is duplicated? Or just a part of the line? The beginning or the end of the line? Or some arbitrary text in the middle of the line?"}, {"owner": {"reputation": 167, "user_id": 9824303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf39aea58ea109dd7295f632a42fee74?s=128&d=identicon&r=PG&f=1", "display_name": "SJ10", "link": "https://stackoverflow.com/users/9824303/sj10"}, "edited": false, "score": 0, "creation_date": 1565810739, "post_id": 57500480, "comment_id": 101471100, "body": "are you talking about having the line duplicated like this? &gt;line 1 &gt;line 2 &gt;line 2 &gt;line 3?   If so, I have a solution for you."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565810850, "post_id": 57500480, "comment_id": 101471139, "body": "You mean like <code>wasn&#39;t able to find anything wasn&#39;t able to find anything</code> on some lines?"}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "reply_to_user": {"reputation": 110113, "user_id": 168657, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f14e7610fca39322ebbf23530def15f8?s=128&d=identicon&r=PG", "display_name": "mob", "link": "https://stackoverflow.com/users/168657/mob"}, "edited": false, "score": 0, "creation_date": 1565811493, "post_id": 57500480, "comment_id": 101471360, "body": "@mob Just part of the line"}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "reply_to_user": {"reputation": 167, "user_id": 9824303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf39aea58ea109dd7295f632a42fee74?s=128&d=identicon&r=PG&f=1", "display_name": "SJ10", "link": "https://stackoverflow.com/users/9824303/sj10"}, "edited": false, "score": 0, "creation_date": 1565811544, "post_id": 57500480, "comment_id": 101471377, "body": "@SJ10 Not quite, it&#39;s instead like what zdim just described."}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "reply_to_user": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "edited": false, "score": 0, "creation_date": 1565811611, "post_id": 57500480, "comment_id": 101471399, "body": "@zdim Yes, just like that. It might be between some other text. (e.g. It just wasn&#39;t able to find anything wasn&#39;t able to find anything no matter how hard I tried.)  I&#39;ve now included an example in my question, too."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565818996, "post_id": 57501448, "comment_id": 101473842, "body": "Fortunately for my use case, nothing legitimate should get flagged. I modified it slightly to (\\w+\\W+\\w+)(?=\\1) since there&#39;s never going to be a space separating the two. Thanks so much!"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565821726, "post_id": 57501448, "comment_id": 101474538, "body": "@Vopel Great.  But you need those <code>.+</code> (not for space): <code>\\w+\\W+\\w+</code> gets two words, no more -- so <code>\\1</code> that follows directly must be those two words, and so the pattern then matches only two-word repetitions.  The example in my answer would only match <code>C:\\test</code> if you remove <code>.+</code>, not the other one. With <code>.+</code> we allow for more than two words (but not less); so as it is matching characters past two words it is checking whether all that is ahead again. Thus it finds repetitions of any length (like <code>C:\\A\\test</code> repeating)."}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565823489, "post_id": 57501448, "comment_id": 101474875, "body": "Ah, I see. I am having a problem though. This is matching stuff that I was not expecting it to match that span several lines, like this: <a href=\"https://i.imgur.com/qHzUr1a.png\" rel=\"nofollow noreferrer\">i.imgur.com/qHzUr1a.png</a>"}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565903116, "post_id": 57501448, "comment_id": 101500347, "body": "@Vopel I&#39;ve updated the post and so am removing the two comments. In summary: This is rather broad, there&#39;s got to be cases that get flagged which are actually good data. (But it can&#39;t spread over lines, not in Perl.)  (2)  Can you show what your typical files are like?"}, {"owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1565913511, "post_id": 57501448, "comment_id": 101502755, "body": "I&#39;ve adjusted it to where it&#39;s not picking up false positives anymore, thank you. I think you accidentally missed a parentheses mark after &#39;qr/&#39; though."}, {"owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "reply_to_user": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "edited": false, "score": 0, "creation_date": 1566254537, "post_id": 57501448, "comment_id": 101591039, "body": "@Vopel Great -- On a rounded problem like this one can&#39;t have a &quot;general solution&quot; I think; it&#39;s got to be tweaked for particular data/use cases.  ///  Thank you for noting the error and letting me know!  It&#39;s weird how such things manage to slip in ... I always test and check quite a bit, and (try to) make a point of checking the final version too.  fixed"}], "tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": true, "score": 2, "last_activity_date": 1566254241, "last_edit_date": 1566254241, "creation_date": 1565813709, "answer_id": 57501448, "question_id": 57500480, "link": "https://stackoverflow.com/questions/57500480/net-regular-expression-perl-like-for-detecting-text-that-was-pasted-twice-in/57501448#57501448", "title": ".NET Regular Expression (perl-like) for detecting text that was pasted twice in a row", "body": "<p>Can collect text along the string (<code>.+</code> style) followed by a lookahead check for what's been captured up to that point, so what would be a repetition of it, like</p>\n\n<pre><code>/(.+)(?=\\1)/;  # but need more restrictions\n</code></pre>\n\n<p>However, this gets tripped even just on double le<strong>TT</strong>ers, so it needs at least a little more. For example, our pattern can require the text which gets repeated to be at least two words long.</p>\n\n<p>Here is a basic and raw example. Please also see the note on regex at the end.</p>\n\n<pre><code>use warnings;\nuse strict;\nuse feature 'say';\n\nmy @lines = (\n    q(It just wasn't able just wasn't able no matter how hard it tried.),\n    q(This has no repetitions.),\n    q({FolderLoc = \"C:\\testC:\\test\"}),\n);\n\nmy $re_rep = qr/(\\w+\\W+\\w+.+)(?=\\1)/;  # at least two words, and then some\n\nfor (@lines) { \n    if (/$re_rep/) {\n        # Other conditions/filtering on $1 (the capture) ?\n        say $1\n    } \n}\n</code></pre>\n\n<p>This matches at least two words: word (<code>\\w+</code>) + non-word-chars + word + anything. That'll still get some legitimate data, but it's a start that can now be customized to your data. We can tweak the regex and/or further scrutinize our catch inside that <code>if</code> branch.</p>\n\n<p>The pattern doesn't allow for any intervening text (the repetition must follow immediately), what is changed easily if needed; the question is whether then some legitimate repetitions could get flagged.</p>\n\n<p>The program above prints</p>\n\n<pre>\njust wasn't able \nC:\\test\n</pre>\n\n<hr>\n\n<p><strong>Note on regex</strong> &nbsp; This quest, to find repeated text, is much too generic\nas it stands and it will surely pick on someone's good data. It is enough to note that I had to require at least <em>two</em> words (with one word <code>that that</code> is flagged), which is arbitrary and still insufficient.  For one, repeated numbers realistically found in data files (<code>3,3,3,3,3</code>) will be matched as well.  </p>\n\n<p>So this needs further specialization, for what we need to know about data.</p>\n"}], "owner": {"reputation": 81, "user_id": 11777065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba7670e2034179ab97b9f195453bad3f?s=128&d=identicon&r=PG&f=1", "display_name": "Vopel", "link": "https://stackoverflow.com/users/11777065/vopel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 57501448, "answer_count": 1, "score": 0, "last_activity_date": 1566254241, "creation_date": 1565808811, "last_edit_date": 1565811682, "question_id": 57500480, "link": "https://stackoverflow.com/questions/57500480/net-regular-expression-perl-like-for-detecting-text-that-was-pasted-twice-in", "title": ".NET Regular Expression (perl-like) for detecting text that was pasted twice in a row", "body": "<p>I've got a ton of json files that, due to a UI bug with the program that made them, often have text that was accidentally pasted twice in a row (no space separating them).</p>\n\n<p>Example: {FolderLoc = \"C:\\testC:\\test\"}</p>\n\n<p>I'm wondering if it's possible for a regular expression to match this. It would be per-line. If I can do this, I can use <a href=\"http://findandreplace.io/\" rel=\"nofollow noreferrer\">FNR</a>, which is a batch text processing tool that supports .NET RegEx, to get rid of the accidental duplicates.</p>\n\n<p>I regret not having an example of one of my attempts to show, but this is a very unique problem and I wasn't able to find anything on search engines resembling it to even start to base a solution off of.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 30188, "user_id": 3218692, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/4pA4T.jpg?s=128&g=1", "display_name": "Yeldar Kurmangaliyev", "link": "https://stackoverflow.com/users/3218692/yeldar-kurmangaliyev"}, "edited": false, "score": 2, "creation_date": 1565808703, "post_id": 57500347, "comment_id": 101470353, "body": "Yes. <code>var dict = HttpUtility.ParseQueryString(testConfig)</code>."}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 1, "creation_date": 1565809051, "post_id": 57500347, "comment_id": 101470481, "body": "If you are parsing a URL or a URL-encoded tag/value pair list, I <i>strongly</i> recommend you use a proven tool. This problem is harder than it looks. Remember, there are special characters, delimiters, and escape sequences to worry about, and even potential injection threats."}], "answers": [{"tags": [], "owner": {"reputation": 764, "user_id": 11838196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de822c963ace03fc040584456265bea?s=128&d=identicon&r=PG&f=1", "display_name": "srk", "link": "https://stackoverflow.com/users/11838196/srk"}, "is_accepted": true, "score": 1, "last_activity_date": 1565808811, "creation_date": 1565808811, "answer_id": 57500479, "question_id": 57500347, "link": "https://stackoverflow.com/questions/57500347/how-to-split-a-string-for-key-value-pairs-and-save-them-to-a-dictionary/57500479#57500479", "title": "How to split a string for key value pairs and save them to a dictionary?", "body": "<p>It looks like you are trying to split a query string into a dictionary of query parameters. You should be able to use the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.httputility.parsequerystring\" rel=\"nofollow noreferrer\">HttpUtility.ParseQueryString</a> method. Note that this method returns a <code>NameValueCollection</code>. That object will probably work for you, but if you need a <code>Dictionary</code>, you can use a simple <code>for</code> loop to convert the <code>NameValueCollection</code> to a <code>Dictionary</code>.</p>\n\n<p>Also, if you decide for whatever reason to stick with your original code, you can greatly simplify this code:</p>\n\n<pre><code>switch (param[0].ToUpper())\n{\n    case \"TEST1\":\n        dict.Add(\"TEST1\", param[1]);\n        break;\n    case \"TEST2\":\n        dict.Add(\"TEST2\", param[1]);\n        break;\n    case \"TEST3\":\n        dict.Add(\"TEST3\", param[1]);\n        break;\n}\n</code></pre>\n\n<p>You don't need a separate <code>case</code> for each possible value. Instead, you can simply write this:</p>\n\n<pre><code>dict.Add(param[0].ToUpper(), param[1]);\n</code></pre>\n"}], "owner": {"reputation": 2032, "user_id": 638443, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5c78e475cc7da168f8344fb733916647?s=128&d=identicon&r=PG", "display_name": "Jyina", "link": "https://stackoverflow.com/users/638443/jyina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1565810548, "accepted_answer_id": 57500479, "answer_count": 1, "score": 0, "last_activity_date": 1565808811, "creation_date": 1565808124, "question_id": 57500347, "link": "https://stackoverflow.com/questions/57500347/how-to-split-a-string-for-key-value-pairs-and-save-them-to-a-dictionary", "closed_reason": "Duplicate", "title": "How to split a string for key value pairs and save them to a dictionary?", "body": "<p>I have the below code which works fine to split a string and save key value pairs into a dictionary. Is there a more elegant and efficient way to do the same? Thank you!</p>\n\n<pre><code>    private void SplitString()\n    {\n        string testConfig = \"application?test1=value1&amp;test2=value2&amp;test3=value3\";\n\n        var dict = new Dictionary&lt;string, string&gt;();\n\n        if (!string.IsNullOrEmpty(testConfig) &amp;&amp; testConfig.Contains(\"?\"))\n        {\n            string parameters = testConfig.Substring(testConfig.LastIndexOf(\"?\") + 1);\n\n            string[] parameterArray = parameters.Split(new char[] { '&amp;' }, StringSplitOptions.RemoveEmptyEntries);\n\n            if (parameterArray.Length &gt; 0)\n            {\n                foreach (var item in parameterArray)\n                {\n                    string[] param = item.Split(new char[] { '=' });\n\n                    if (param.Length == 2)\n                    {\n                        switch (param[0].ToUpper())\n                        {\n                            case \"TEST1\":\n                                dict.Add(\"TEST1\", param[1]);\n                                break;\n                            case \"TEST2\":\n                                dict.Add(\"TEST2\", param[1]);\n                                break;\n                            case \"TEST3\":\n                                dict.Add(\"TEST3\", param[1]);\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "kerberos", "dotnet-httpclient", "flurl"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9297084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6aa8663fcc53a7b460c893c8a9b4e69?s=128&d=identicon&r=PG&f=1", "display_name": "singer-neu", "link": "https://stackoverflow.com/users/9297084/singer-neu"}, "edited": false, "score": 0, "creation_date": 1565892168, "post_id": 57513608, "comment_id": 101496279, "body": "I think it&#39;s relatively not feasible... With user credentials I can do anything..."}], "tags": [], "owner": {"reputation": 1, "user_id": 11932765, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zP2HNNUes-k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcrKHA_Hgn905dPGRY_b90-ym6trA/photo.jpg?sz=128", "display_name": "nx_qw", "link": "https://stackoverflow.com/users/11932765/nx-qw"}, "is_accepted": false, "score": 0, "last_activity_date": 1565889637, "creation_date": 1565889637, "answer_id": 57513608, "question_id": 57500345, "link": "https://stackoverflow.com/questions/57500345/flurl-in-c-get-407-proxy-authentication-required-error-when-post-via-proxy-in/57513608#57513608", "title": "Flurl in C# get (407) Proxy Authentication Required error when POST via proxy in Windows Domain User environment", "body": "<p>I think you can do this, ask user his Windows credentials, and feed UseDefaultCredentials with their username and password.</p>\n"}], "owner": {"reputation": 15, "user_id": 9297084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6aa8663fcc53a7b460c893c8a9b4e69?s=128&d=identicon&r=PG&f=1", "display_name": "singer-neu", "link": "https://stackoverflow.com/users/9297084/singer-neu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 559, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565889637, "creation_date": 1565808117, "last_edit_date": 1565824301, "question_id": 57500345, "link": "https://stackoverflow.com/questions/57500345/flurl-in-c-get-407-proxy-authentication-required-error-when-post-via-proxy-in", "title": "Flurl in C# get (407) Proxy Authentication Required error when POST via proxy in Windows Domain User environment", "body": "<p>Hi all I am working on a project. how to solve the (407) Proxy Authentication Required error and get through proxy.</p>\n\n<p>The project need to POST some data to server via proxy. The proxy enforce credentials so that the application are required to aware NTLM/Kerberos credentials in Windows Domain User environment.</p>\n\n<p>Applications like Chrome will automatically get the credentials for proxy, and get it through.</p>\n\n<p>My project do well if the proxy server does not enforce credentials, but does not work when enforced.</p>\n\n<p>The code I write here is:</p>\n\n<pre><code>using Flurl.Http;\nusing Flurl.Http.Configuration;\nusing System;\nusing System.Net.Http;\nusing System.Threading;\nusing System.Threading.Tasks;\n\nnamespace HttpPostProxyDemo\n{\n  public class WindowsAuthClientFactory : DefaultHttpClientFactory\n  {\n    public override HttpMessageHandler CreateMessageHandler()\n    {\n      return new HttpClientHandler { UseDefaultCredentials = true };\n    }\n  }\n\n  class Program\n  {\n    static string url = \"https://httpbin.org/status/200\";\n\n    static async Task Main(string[] args)\n    {\n      FlurlHttp.ConfigureClient(\"https://httpbin.org\", cli =&gt;\n          cli.Settings.HttpClientFactory = new WindowsAuthClientFactory());\n      var result = await url.PostJsonAsync(\"\");\n      Console.WriteLine(result.StatusCode.ToString());\n      Thread.Sleep(60000);\n    }\n  }\n}\n</code></pre>\n\n<p>If no proxy or proxy does not enforce credentials, it will print OK, because the app sends 200 to the API, and get OK back.</p>\n\n<p>But under domain user environment, and enforce proxy credentials, it gives me following exceptions:</p>\n\n<pre><code>Unhandled Exception: Flurl.Http.FlurlHttpException: Call failed. An error occurred while sending the request. POST https://httpbin.org/status/200 ---&gt; System.Net.Http.HttpRequestException: An error occurred while sending the request. ---&gt; System.Net.WebException: The remote server returned an error: (407) Proxy Authentication Required.\n   at System.Net.HttpWebRequest.EndGetRequestStream(IAsyncResult asyncResult, TransportContext&amp; context)\n   at System.Net.Http.HttpClientHandler.GetRequestStreamCallback(IAsyncResult ar)\n   --- End of inner exception stack trace ---\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)\n   at Flurl.Http.FlurlRequest.&lt;SendAsync&gt;d__19.MoveNext()\n   --- End of inner exception stack trace ---\n   at Flurl.Http.FlurlRequest.&lt;HandleExceptionAsync&gt;d__23.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)\n   at Flurl.Http.FlurlRequest.&lt;SendAsync&gt;d__19.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()\n   at Flurl.Http.FlurlRequest.&lt;SendAsync&gt;d__19.MoveNext()\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at HttpPostProxyDemo.Program.&lt;Main&gt;d__1.MoveNext() in Z:\\HttpPostProxyDemo\\HttpPostProxyDemo\\Program.cs:line 31\n--- End of stack trace from previous location where exception was thrown ---\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at HttpPostProxyDemo.Program.&lt;Main&gt;(String[] args)\n</code></pre>\n"}, {"tags": ["javascript", "c#", "ajax", "asp.net-mvc"], "comments": [{"owner": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1565808714, "post_id": 57500224, "comment_id": 101470360, "body": "Have you included the necessary Ajax Unobtrusive scripts?"}, {"owner": {"reputation": 3, "user_id": 11919736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-q9APuiu8zTo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfooBDVU2TL3Mw0hRx16ZKmnsvzeQ/photo.jpg?sz=128", "display_name": "Oordeel", "link": "https://stackoverflow.com/users/11919736/oordeel"}, "reply_to_user": {"reputation": 13140, "user_id": 2030565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FWvli.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/2030565/jasen"}, "edited": false, "score": 0, "creation_date": 1565809477, "post_id": 57500224, "comment_id": 101470626, "body": "I haven&#39;t, thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 3466775, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001905541893/picture?type=large", "display_name": "alexiscalingasan", "link": "https://stackoverflow.com/users/3466775/alexiscalingasan"}, "is_accepted": true, "score": 0, "last_activity_date": 1565809383, "creation_date": 1565809383, "answer_id": 57500596, "question_id": 57500224, "link": "https://stackoverflow.com/questions/57500224/ajax-form-redirecting-to-empty-page-instead-of-logging-data/57500596#57500596", "title": "AJAX form redirecting to empty page instead of logging data", "body": "<p>to use ajax beginform you need jquery and jquery-unobtrusive-ajax library. You can install it using nuget, search for \"jQuery unobtrusive ajax\" and then install it. After installing the library add jquery and jquery-unobtrusive-ajax to your layout page.</p>\n\n<pre><code>&lt;script src=\"~/Scripts/jquery.js\"&gt;&lt;/script&gt;    \n&lt;script src=\"~/Scripts/jquery.unobtrusive-ajax.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11919736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-q9APuiu8zTo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfooBDVU2TL3Mw0hRx16ZKmnsvzeQ/photo.jpg?sz=128", "display_name": "Oordeel", "link": "https://stackoverflow.com/users/11919736/oordeel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57500596, "answer_count": 1, "score": 0, "last_activity_date": 1565809383, "creation_date": 1565807490, "last_edit_date": 1565808380, "question_id": 57500224, "link": "https://stackoverflow.com/questions/57500224/ajax-form-redirecting-to-empty-page-instead-of-logging-data", "title": "AJAX form redirecting to empty page instead of logging data", "body": "<p>I'm trying to return a JSON string to my javascript to display it, but instead it redirects the page to a page with the JSON values in it. I'm using this in a partial view.</p>\n\n<p><strong>HTML</strong> (partial view)</p>\n\n<pre><code>@model ProjectName.Model.EmployeeSearchModel\n@using (Ajax.BeginForm(\"EmployeeSearch\", \"Base\", new AjaxOptions { OnSuccess = \"fnAjaxSuccess\", OnFailure = \"fnAjaxFailure\" }))\n{\n    &lt;div&gt;\n        @Html.EditorFor(x=&gt;x.Social, new { @class=\"form-control\" })&lt;br /&gt;\n\n        &lt;input type=\"submit\" id=\"_empSearchSubmitBtn\" value=\"Submit\"/&gt;\n    &lt;/div&gt;\n}\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>function fnAjaxSuccess(data) {\n    console.log(data)\n}\nfunction fnAjaxFailure(error) {\n    alert(\"An error occured: \" + error);\n    console.log(error);\n}\n</code></pre>\n\n<p><strong>Controller Method</strong> (this is in a different controller from the view I'm using it in)</p>\n\n<pre><code>[HttpPost]\npublic JsonResult EmployeeSearch(EmployeeSearchModel model)\n{\n    return Json(\"true\", JsonRequestBehavior.AllowGet);\n}\n</code></pre>\n\n<p>When I click on the submit button it redirects me to a page with:</p>\n\n<pre><code>\"true\"\n</code></pre>\n\n<p>I expect it to be just console.log() on the view I'm in.</p>\n"}, {"tags": ["c#", "events"], "comments": [{"owner": {"reputation": 113, "user_id": 7761816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JEYUZ.jpg?s=128&g=1", "display_name": "Bobbey", "link": "https://stackoverflow.com/users/7761816/bobbey"}, "edited": false, "score": 0, "creation_date": 1565807949, "post_id": 57500214, "comment_id": 101470076, "body": "what about IObservable&lt;ActiveObject&gt; ?"}, {"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1565808421, "post_id": 57500214, "comment_id": 101470250, "body": "If your code is the only code that changes Application.ActiveObject property, you can wrap the Application class into another class to raise an event when ActiveObject property is changed."}, {"owner": {"reputation": 13, "user_id": 6387482, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206148256646720/picture?type=large", "display_name": "Derek", "link": "https://stackoverflow.com/users/6387482/derek"}, "edited": false, "score": 0, "creation_date": 1565814214, "post_id": 57500214, "comment_id": 101472369, "body": "I&#39;ll look into using IObservable on the object. In regard to Mehrzad&#39;s response, my code doesn&#39;t change the property. The property changing is due to operations that are going on in the referenced class. I just need to figure out a way to be notified whenever that property is changed."}], "owner": {"reputation": 13, "user_id": 6387482, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206148256646720/picture?type=large", "display_name": "Derek", "link": "https://stackoverflow.com/users/6387482/derek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565807447, "creation_date": 1565807447, "question_id": 57500214, "link": "https://stackoverflow.com/questions/57500214/can-you-attach-an-event-to-a-property-that-you-cant-modify", "title": "Can you attach an event to a property that you can&#39;t modify?", "body": "<p>I'm trying to have some code run whenever a property on an object is changed, but I don't have direct access to that object as it is from a referenced class.</p>\n\n<p>For example, let's call the class Application and it has a property on it called ActiveObject of type object.</p>\n\n<p>I want to be able to know whenever <strong>Application.ActiveObject</strong> is changed.</p>\n\n<p>I'm thinking I should be able to attach an event to it, but all the examples I've found of events are only for properties that I would create myself, not something that is from a referenced class.</p>\n"}, {"tags": ["c#", ".net-core", "dotnet-httpclient"], "comments": [{"owner": {"reputation": 2399, "user_id": 8000382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QUMud.png?s=128&g=1", "display_name": "Walter Vehoeven", "link": "https://stackoverflow.com/users/8000382/walter-vehoeven"}, "edited": false, "score": 0, "creation_date": 1565807394, "post_id": 57500039, "comment_id": 101469847, "body": "I had a similar issue when my IIS was not supporting the file MIME Type type/ streaming format. Do you have access to the IIS that&#39;s hosting your system?"}, {"owner": {"reputation": 1604, "user_id": 2353336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ba68676256aff6e2d34b8748be1efb6?s=128&d=identicon&r=PG", "display_name": "bcr", "link": "https://stackoverflow.com/users/2353336/bcr"}, "edited": false, "score": 0, "creation_date": 1565807447, "post_id": 57500039, "comment_id": 101469874, "body": "You definitely shouldn&#39;t use <code>.Result</code> on an unawaited task. You could use <code>async&#47;await</code> (or use <code>ContinueWith()</code> if you didn&#39;t want to make your method async), something like <code>rep = await response.Content.ReadAsAsync&lt;ResponseObject&gt;();</code> wrapped in a <code>try&#47;catch</code> which will get any bubbled up errors."}, {"owner": {"reputation": 172, "user_id": 2033992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cac50adfb6c14b3a798d5a136e2e1ea?s=128&d=identicon&r=PG", "display_name": "Slagmoth", "link": "https://stackoverflow.com/users/2033992/slagmoth"}, "reply_to_user": {"reputation": 1604, "user_id": 2353336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ba68676256aff6e2d34b8748be1efb6?s=128&d=identicon&r=PG", "display_name": "bcr", "link": "https://stackoverflow.com/users/2353336/bcr"}, "edited": false, "score": 0, "creation_date": 1565807958, "post_id": 57500039, "comment_id": 101470080, "body": "@bcr Yeah, I forgot to say to ignore the obvious issues like that... I just need it to work first then I can clean it up. I realize there is insufficient error/handling in the sample code I will clean it up when it <i>runs</i>. Thanks."}, {"owner": {"reputation": 172, "user_id": 2033992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cac50adfb6c14b3a798d5a136e2e1ea?s=128&d=identicon&r=PG", "display_name": "Slagmoth", "link": "https://stackoverflow.com/users/2033992/slagmoth"}, "reply_to_user": {"reputation": 2399, "user_id": 8000382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QUMud.png?s=128&g=1", "display_name": "Walter Vehoeven", "link": "https://stackoverflow.com/users/8000382/walter-vehoeven"}, "edited": false, "score": 0, "creation_date": 1565808124, "post_id": 57500039, "comment_id": 101470139, "body": "@ComputerAidedTradingSystems Yes, I just have it local at the moment and it was set to all defaults..."}, {"owner": {"reputation": 1604, "user_id": 2353336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ba68676256aff6e2d34b8748be1efb6?s=128&d=identicon&r=PG", "display_name": "bcr", "link": "https://stackoverflow.com/users/2353336/bcr"}, "edited": false, "score": 0, "creation_date": 1565808191, "post_id": 57500039, "comment_id": 101470164, "body": "Do you know where it&#39;s 500-ing? Do you see a stack trace? One place to look is the Windows Event Viewer."}, {"owner": {"reputation": 2399, "user_id": 8000382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QUMud.png?s=128&g=1", "display_name": "Walter Vehoeven", "link": "https://stackoverflow.com/users/8000382/walter-vehoeven"}, "edited": false, "score": 0, "creation_date": 1565808349, "post_id": 57500039, "comment_id": 101470221, "body": "guessing you&#39;re having an exception do you log the responses on the server, perhaps post the trace?"}, {"owner": {"reputation": 172, "user_id": 2033992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cac50adfb6c14b3a798d5a136e2e1ea?s=128&d=identicon&r=PG", "display_name": "Slagmoth", "link": "https://stackoverflow.com/users/2033992/slagmoth"}, "edited": false, "score": 0, "creation_date": 1565810475, "post_id": 57500039, "comment_id": 101471007, "body": "Actually... my co-worker found this <a href=\"https://stackoverflow.com/questions/50458507/c-sharp-web-api-sending-body-data-in-http-post-rest-client\">post</a>... seems redundant to have to serialize an already serialized jsonobject but that is what did the trick. Maybe one of the mods can mark this as duplicate?"}], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 2033992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cac50adfb6c14b3a798d5a136e2e1ea?s=128&d=identicon&r=PG", "display_name": "Slagmoth", "link": "https://stackoverflow.com/users/2033992/slagmoth"}, "edited": false, "score": 0, "creation_date": 1565810953, "post_id": 57500867, "comment_id": 101471175, "body": "I would definitely love an explanation as to why this would be required."}], "tags": [], "owner": {"reputation": 172, "user_id": 2033992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cac50adfb6c14b3a798d5a136e2e1ea?s=128&d=identicon&r=PG", "display_name": "Slagmoth", "link": "https://stackoverflow.com/users/2033992/slagmoth"}, "is_accepted": true, "score": 0, "last_activity_date": 1570561842, "last_edit_date": 1570561842, "creation_date": 1565810754, "answer_id": 57500867, "question_id": 57500039, "link": "https://stackoverflow.com/questions/57500039/why-is-the-receiving-api-not-getting-content-in-the-parameter/57500867#57500867", "title": "Why is the receiving API not getting content in the parameter?", "body": "<p>The issue seems to be one that I thought would be redundant. The bottom line is that even if you expect a serialized JSON object you need to serialize it <em>again</em>, otherwise when you pass the StringContent via the HttpClient the body contents don't show in the receiving controller's parameter for consumption.</p>\n\n<pre><code>var httpContent = new StringContent(JsonConvert.SerializeObject(report), Encoding.UTF8, \"application/json\");\n</code></pre>\n\n<p>Even though \"report\" is already a string... really weird to me. But that solves it.</p>\n\n<p>Found out that the strings that come into a controller are also wrapped inside another object so .Root seems to be your friend when deserializing. At least I learned something from the experience.</p>\n\n<p>Thank you for all your input. Might want to link this to <a href=\"https://stackoverflow.com/questions/50458507/c-sharp-web-api-sending-body-data-in-http-post-rest-client\">this other question</a>.</p>\n"}], "owner": {"reputation": 172, "user_id": 2033992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cac50adfb6c14b3a798d5a136e2e1ea?s=128&d=identicon&r=PG", "display_name": "Slagmoth", "link": "https://stackoverflow.com/users/2033992/slagmoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 57500867, "answer_count": 1, "score": 0, "last_activity_date": 1570561842, "creation_date": 1565806587, "last_edit_date": 1565985957, "question_id": 57500039, "link": "https://stackoverflow.com/questions/57500039/why-is-the-receiving-api-not-getting-content-in-the-parameter", "title": "Why is the receiving API not getting content in the parameter?", "body": "<p>I am trying to get one API (reports API) to talk to another API (stored procedure runner API) which is a solution we are sort of forced to adopt given that we created the first API in .NET Core 2.2 and the <code>Sap.Data.SQLAnywhere.v4.5</code> drivers only play nice with the .NET 4.7.2 framework. So we segregated them to compensate. All the answers I have seen over the last 4 or 5 hours leads me to believe I am doing this correctly but it still doesn't work.</p>\n\n<p>I can hit the stored procedure runner from Postman with a json/text body just fine and get results from the database. However, when I try to hit this from C# I was first getting <a href=\"https://stackoverflow.com/questions/51960142/unsupported-media-type-with-httpclient-net-core\">Unsupported Media Type</a> which I think I fixed but now I get 500 errors and when debugging through to the stored procedure runner from the reportsAPI I notice that I don't get a parameter passed from the body.</p>\n\n<pre><code>[HttpPost]\n[Route(\"api/Reports/GetStuff\")]\n[ResponseType(typeof(ResponseObject))]\npublic ResponseObject GetStuff([FromBody]string report)\n{\n        var response = new ResponseObject();\n\n        try\n        {\n            response = new ReportService().RunStuff(report);\n        }\n        catch (Exception e)\n        {\n            throw;\n        }\n\n        return response;\n}\n</code></pre>\n\n<p>The above is the SprocRunnerAPI and I get as far as </p>\n\n<pre><code>response = new ReportService().RunStuff(report);\n</code></pre>\n\n<p>before it fails out because it has nothing in \"report\".</p>\n\n<pre><code>public class ApiService\n{\n    public static HttpClient ApiClient { get; set; }\n\n    public static void InitializeClient()\n    {\n        ApiClient = new HttpClient();\n        //ApiClient.BaseAddress = new Uri(\"\");\n        ApiClient.DefaultRequestHeaders.Accept.Clear();\n        ApiClient.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n    }\n}\n</code></pre>\n\n<p>This is where I initialize everything then use it in the following class method:</p>\n\n<pre><code>public ResponseObject RunReportToCSV(string report)\n    {\n        var rep = new ResponseObject();\n        ApiClient.ApiService.InitializeClient();\n        string url = @\"http://localhost/EnterpriseReportRunner/api/reports/GetStuff\";\n\n        var httpContent = new StringContent(report, Encoding.UTF8, \"application/json\");\n\n        //ServicePointManager.Expect100Continue = false; I honestly don't know where this goes... or if it is needed.\n\n        var response = ApiClient.ApiService.ApiClient.PostAsync(url , httpContent).Result;\n\n        if (response.IsSuccessStatusCode)\n        {\n            rep = response.Content.ReadAsAsync&lt;ResponseObject&gt;().Result;\n        }\n        else\n        {\n            throw new Exception(response.ReasonPhrase);\n        }\n\n        return rep;\n}\n</code></pre>\n\n<p>I get as far as </p>\n\n<pre><code>var response = ApiClient.ApiService.ApiClient.PostAsync(url, httpContent).Result;\n</code></pre>\n\n<p>when it calls the aforementioned api method externally and it fails out. I had noticed no differences between the bodies in what I put in C# and what I put in Postman nor did I notice a difference looking through Fiddler on the Headers when making either call. I am seriously confused as to why what appears to be what I have seen everywhere used, that this is not working.</p>\n\n<p>Thank you.</p>\n\n<p>Adding Stack Trace from the SprocRunnerAPI\u2026 this isn't much help because I know exactly why this happens. By this point I expect a JsonSerialized object and I don't have it because it wasn't passed from the first API to the second.</p>\n\n<blockquote>\n  <p>at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)\n     at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)\n     at EnterpriseReportRunner.Service.ReportService.RunStuff(String report) in C:\\Workspace\\Solution.NET\\LOB\\InternalReportsAdminConsole Solution\\EnterpriseReportRunner\\EnterpriseReportRunner\\Service\\ReportService.cs:line 27\n     at EnterpriseReportRunner.Controllers.ReportsController.GetStuff(String report) in C:\\Workspace\\Solution.NET\\LOB\\InternalReportsAdminConsole Solution\\EnterpriseReportRunner\\EnterpriseReportRunner\\Controllers\\ReportsController.cs:line 67</p>\n</blockquote>\n\n<p>To be clear this is the stack from the SprocRunnerAPI not the ReportsAPI that calls it. I am trying to find the body inside the HttpContext to see the difference between the Postman call and the C# call but can't seem to find it, is it really buried in the InputStream?</p>\n"}, {"tags": ["c#", "xml", "soap"], "comments": [{"owner": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "edited": false, "score": 0, "creation_date": 1565813868, "post_id": 57500031, "comment_id": 101472235, "body": "In your <code>Customer</code> class you have a <code>code</code> element, but that wouldn&#39;t map to your XML with the <code>XmlSerializer</code> as it is nested under a <code>details</code> element. Is that a mistake, or do you expect a custom mapping all the way down, not just skipping headers?"}, {"owner": {"reputation": 1471, "user_id": 2084421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bbf0876f023643c89a760b66b51f2663?s=128&d=identicon&r=PG", "display_name": "GrahamJRoy", "link": "https://stackoverflow.com/users/2084421/grahamjroy"}, "reply_to_user": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "edited": false, "score": 0, "creation_date": 1565814277, "post_id": 57500031, "comment_id": 101472391, "body": "Hi. Even if I put another class underneath to have the corrected nested hierarchy this still throws the error as per before. [XmlRoot(&quot;customer&quot;)]     public class Customer{         [XmlElement(&quot;details&quot;)]         public Details Details {  get; set; }     }      public class Details     {         [XmlElement(&quot;code&quot;)]         public string Code { get; set; }     }"}], "answers": [{"comments": [{"owner": {"reputation": 1471, "user_id": 2084421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bbf0876f023643c89a760b66b51f2663?s=128&d=identicon&r=PG", "display_name": "GrahamJRoy", "link": "https://stackoverflow.com/users/2084421/grahamjroy"}, "edited": false, "score": 0, "creation_date": 1565820467, "post_id": 57502387, "comment_id": 101474244, "body": "thanks. I did try going down the route of using XDocument instead but I ran into problems casting that to my object. How can I cast the unwrappedResponse into the object passed in?"}, {"owner": {"reputation": 1471, "user_id": 2084421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bbf0876f023643c89a760b66b51f2663?s=128&d=identicon&r=PG", "display_name": "GrahamJRoy", "link": "https://stackoverflow.com/users/2084421/grahamjroy"}, "edited": false, "score": 0, "creation_date": 1565820554, "post_id": 57502387, "comment_id": 101474265, "body": "I also tried creating a service reference which generated the classes for me but they were still throwing errors. I could see the raw response coming back but the objects were null"}], "tags": [], "owner": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "is_accepted": false, "score": 0, "last_activity_date": 1565818563, "creation_date": 1565818563, "answer_id": 57502387, "question_id": 57500031, "link": "https://stackoverflow.com/questions/57500031/parsing-xml-in-c-from-soap-response-with-header-values/57502387#57502387", "title": "Parsing XML in C# from SOAP response with header values", "body": "<p>If you load the response stream in an XDocument instead of a string you can use LINQ to XML to query the XML. This way you can skip the parent elements and access the customer element(s) and serialize these to object(s). </p>\n\n<pre><code>    XDocument soapResult;\n    using (WebResponse webResponse = webRequest.EndGetResponse(asyncResult))\n    {\n        using (StreamReader rd = new StreamReader(webResponse.GetResponseStream()))\n        {\n            soapResult = XDocument.Load(rd);\n        }\n    }\n\n    //should be modified to your needs\n    var unwrappedResponse = soapResult.Descendants((XNamespace)\"http://schemas.xmlsoap.org/soap/envelope/\" + \"Body\").First().FirstNode; \n</code></pre>\n\n<p>Consuming SOAP webservices is a lot easier if you use a service reference or at least have access to an XSD as you can then generate classes automatically.</p>\n"}], "owner": {"reputation": 1471, "user_id": 2084421, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bbf0876f023643c89a760b66b51f2663?s=128&d=identicon&r=PG", "display_name": "GrahamJRoy", "link": "https://stackoverflow.com/users/2084421/grahamjroy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565818563, "creation_date": 1565806545, "question_id": 57500031, "link": "https://stackoverflow.com/questions/57500031/parsing-xml-in-c-from-soap-response-with-header-values", "title": "Parsing XML in C# from SOAP response with header values", "body": "<p>I have an xml response from a web service that has a bunch of headers I want to ignore. The xml looks like this:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n  &lt;S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;S:Body&gt;\n    &lt;ns2:retrieveCustomerResponse xmlns:ns2=\"http://ws.blah.neeg.com/\"&gt;\n     &lt;customer&gt;\n        &lt;details&gt;\n           &lt;code&gt;1000274&lt;/code&gt;\n             &lt;customerNo&gt;1000274&lt;/customerNo&gt;\n               &lt;customerTypeRef&gt;\n                 &lt;code&gt;C&lt;/code&gt;\n</code></pre>\n\n<p>and i have an object that I want to map this too that looks like this:</p>\n\n<pre><code>[XmlRoot(\"customer\")]\npublic class Customer{\n    [XmlElement(\"code\")]\n    public string Code { get; set; }\n</code></pre>\n\n<p>when I try and cast the xml to the object using this:</p>\n\n<pre><code>public static T CallWebService&lt;T&gt;(string req)\n{\n  ...calls web service and gets a response\n  string soapResult;\n  using (WebResponse webResponse = webRequest.EndGetResponse(asyncResult))\n    {\n      using (StreamReader rd = new StreamReader(webResponse.GetResponseStream()))\n        {\n          soapResult = rd.ReadToEnd();\n        }\n    }\n</code></pre>\n\n<p>but when I try and cast it to the object type that is passed in:</p>\n\n<pre><code>XmlSerializer serializer = new XmlSerializer(typeof(T));\nT returnObject = default(T);\n\ntry\n  {\n    using (TextReader reader = new StringReader(soapResult))\n      {\n        returnObject = (T)serializer.Deserialize(reader);\n      }\n   }\n   catch (Exception ex)\n   {\n     Console.WriteLine(ex);\n   }\n\n   return returnObject;\n</code></pre>\n\n<p>I catch the exception that:</p>\n\n<pre><code>There is an error in XML document (1, 24). ---&gt; System.InvalidOperationException: &lt;Envelope xmlns='http://schemas.xmlsoap.org/soap/envelope/'&gt; was not expected.\n</code></pre>\n\n<p>I thought that annotating the model would match the elements but it looks like it is struggling too parse the xml. Is there any way to ignore the headers and just look for the content that matched the tags?</p>\n\n<p>I don't want to do a straight forward mapping because i want this call to be generic so I can pass any request and a corresponding object I want the response to be mapped to.</p>\n"}, {"tags": ["c#", "asp.net", "telerik", "radgrid"], "answers": [{"comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 1, "creation_date": 1565807541, "post_id": 57500088, "comment_id": 101469915, "body": "DataKeyNames can also help: <a href=\"https://www.telerik.com/forums/get-datakey-from-radgrid\" rel=\"nofollow noreferrer\">telerik.com/forums/get-datakey-from-radgrid</a>"}], "tags": [], "owner": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "is_accepted": false, "score": 0, "last_activity_date": 1565806837, "creation_date": 1565806837, "answer_id": 57500088, "question_id": 57499966, "link": "https://stackoverflow.com/questions/57499966/radgrid-referencing-control-on-same-row-as-textbox-in-itemtemplate/57500088#57500088", "title": "Radgrid: Referencing control on same row as textbox in ItemTemplate", "body": "<p>This is how you do it</p>\n\n<pre><code>GridDataItem dataItem = txt.NamingContainer as GridDataItem;\nint VehicleId = Convert.ToInt32(dataItem[\"VehicleId\"].Text);\n</code></pre>\n\n<p>That's all!</p>\n"}], "owner": {"reputation": 935, "user_id": 4556172, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/db32adbba8ddf4847d3c52d475f45208?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevGuy2", "link": "https://stackoverflow.com/users/4556172/webdevguy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565806837, "creation_date": 1565806237, "question_id": 57499966, "link": "https://stackoverflow.com/questions/57499966/radgrid-referencing-control-on-same-row-as-textbox-in-itemtemplate", "title": "Radgrid: Referencing control on same row as textbox in ItemTemplate", "body": "<p>I am using Telerik Radgrid control in my C#/ASP.NET project. I have a GridTemplateColumn in my RadGrid. In that template column I have a textbox. In the OnTextChanged evetn of that textbox I want to reference the value in the VehicleId column. How can I do that?</p>\n\n<p>The RadGrid, roughly, is setup like this....</p>\n\n<pre><code>  &lt;telerik:RadGrid ID=\"RadGridVehicle\" runat=\"server\"\n       Skin=\"Office2010Silver\" EnableEmbeddedSkins=\"true\" AllowPaging=\"False\" AllowSorting=\"True\"\n       GridLines=\"None\"\n       OnItemCommand=\"RadGridVehicle_ItemCommand\"\n       OnNeedDataSource=\"RadGridVehicle_NeedDataSource\" PageSize=\"50\"\n       OnItemDataBound=\"RadGridVehicle_ItemDataBound\"\n       OnItemCreated=\"RadGridVehicle_ItemCreated\"&gt;\n&lt;HeaderContextMenu EnableTheming=\"True\"&gt;\n  &lt;CollapseAnimation Type=\"OutQuint\" Duration=\"200\"&gt;&lt;/CollapseAnimation&gt;\n&lt;/HeaderContextMenu&gt;\n&lt;MasterTableView AutoGenerateColumns=\"False\" Width=\"100%\"&gt;\n  &lt;RowIndicatorColumn&gt;\n    &lt;HeaderStyle Width=\"20px\"&gt;&lt;/HeaderStyle&gt;\n  &lt;/RowIndicatorColumn&gt;\n  &lt;ExpandCollapseColumn&gt;\n    &lt;HeaderStyle Width=\"20px\"&gt;&lt;/HeaderStyle&gt;\n  &lt;/ExpandCollapseColumn&gt;\n  &lt;Columns&gt;\n    &lt;telerik:GridBoundColumn DataField=\"VehicleId\"\n                 UniqueName=\"VehicleId\" Display=\"True\"&gt;\n    &lt;/telerik:GridBoundColumn&gt;\n\n    &lt;telerik:GridTemplateColumn UniqueName=\"VehicleCostColumn\" HeaderText=\"Vendor Cost\"&gt;\n      &lt;ItemTemplate&gt;\n        &lt;asp:TextBox ID=\"VehicleCostAmt\" AutoPostBack=\"True\" OnTextChanged=\"VehicleCostAmt_OnTextChanged\" runat=\"server\" Width=\"55px\"&gt;&lt;/asp:TextBox&gt;\n      &lt;/ItemTemplate&gt;\n      &lt;HeaderStyle Width=\"90px\"/&gt;\n    &lt;/telerik:GridTemplateColumn&gt;\n</code></pre>\n\n<p>So, as you can see the VehicleCostAmt textbox has an OnTextChanged event. Right now that event is coded as...</p>\n\n<pre><code>protected void ProductCostAmt_OnTextChanged(object sender, EventArgs e)\n{\n    TextBox txt = sender as TextBox;\n    if (txt != null)\n    {\n\n    }\n}\n</code></pre>\n\n<p>I'm able to see txt.Text fine and get the value. I just want to be able to get the VehicleId value on that particular row. How can I do that?</p>\n\n<p>In the past I've done something like this, but it doesn't work in this context...</p>\n\n<pre><code>GridDataItem dataItem = e.Item as GridDataItem;\nint vehicleId = Convert.ToInt32(dataItem[\"VehicleId\"].Text);\n</code></pre>\n\n<p>Any ideas? Thanks!</p>\n"}, {"tags": ["c#", "nunit"], "comments": [{"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1565806580, "post_id": 57499856, "comment_id": 101469498, "body": "As in you want (T1Tests,T2Tests,T3Tests) to run on three threads - each thread running the test cases in serial?"}, {"owner": {"reputation": 46, "user_id": 7179694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c179a8cdd8d3c7ef04b991fbdaac2052?s=128&d=identicon&r=PG&f=1", "display_name": "A.E.", "link": "https://stackoverflow.com/users/7179694/a-e"}, "reply_to_user": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1565807994, "post_id": 57499856, "comment_id": 101470093, "body": "Wai Ha Lee, that is exactly what I am trying to do."}], "answers": [{"tags": [], "owner": {"reputation": 10075, "user_id": 1569967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58379d5103ffb1304afdccb438ce53fb?s=128&d=identicon&r=PG", "display_name": "Charlie", "link": "https://stackoverflow.com/users/1569967/charlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1565811958, "creation_date": 1565811958, "answer_id": 57501082, "question_id": 57499856, "link": "https://stackoverflow.com/questions/57499856/nunit-execute-test-methods-in-parallel-but-not-tests/57501082#57501082", "title": "Nunit execute test methods in parallel but not tests", "body": "<p>Although NUnit creates a test suite for the method, which then holds the individual test cases, there is no way to apply the <code>Parallelizable</code> attribute specifically to that method. It's just something that has not come up before.</p>\n\n<p><code>Parallelizable</code> only applies to test cases and test fixtures, so the only way to make this work would be to place the three methods in three separate (maybe nested?) fixtures.</p>\n"}], "owner": {"reputation": 46, "user_id": 7179694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c179a8cdd8d3c7ef04b991fbdaac2052?s=128&d=identicon&r=PG&f=1", "display_name": "A.E.", "link": "https://stackoverflow.com/users/7179694/a-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565811958, "creation_date": 1565805668, "question_id": 57499856, "link": "https://stackoverflow.com/questions/57499856/nunit-execute-test-methods-in-parallel-but-not-tests", "title": "Nunit execute test methods in parallel but not tests", "body": "<p>I have a class with three methods each with their own \"TestCaseSource\". The goal is to have the three methods run in parallel, but the tests within each method to run concurrently.</p>\n\n<p>I have tried changing the parallelizable setting on both the class and method levels, but the only way I seem to be able to get any parallel execution is with \"ParallelScope.All\", which just runs them all in parallel.</p>\n\n<pre><code>[TestCaseSource(\"T1\")]\n[Parallelizable]\n\npublic void T1Tests(string a, int b)\n{\n//Call methods, do stuff\n}\n\n[TestCaseSource(\"T2\")]\n[Parallelizable]\n\npublic void T2Tests(string a, int b)\n{\n//Call methods, do stuff\n}\n\n[TestCaseSource(\"T3\")]\n[Parallelizable]\n\npublic void T3Tests(string a, int b)\n{\n//Call methods, do stuff\n}\n\npublic static IEnumerable&lt;TestCaseSource&gt; T1()\n{\nreturn BaseT(\"\");\n}\n\npublic static IEnumerable&lt;TestCaseSource&gt; T2()\n{\nreturn BaseT(\"\");\n}\n\npublic static IEnumerable&lt;TestCaseSource&gt; T3()\n{\nreturn BaseT(\"\");\n}\n\npublic static IEnumerable&lt;TestCaseSource&gt; BaseT(string d)\n{\n.....\n}\n</code></pre>\n"}, {"tags": ["c#", "process", "uac"], "comments": [{"owner": {"reputation": 18730, "user_id": 2102693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sD3s8.jpg?s=128&g=1", "display_name": "Bill_Stewart", "link": "https://stackoverflow.com/users/2102693/bill-stewart"}, "edited": false, "score": 0, "creation_date": 1565824656, "post_id": 57499843, "comment_id": 101475083, "body": "Does it happen if you execute the command line pointed to by the <code>lnk</code> file?"}, {"owner": {"reputation": 426, "user_id": 2861913, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/3PJTG.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2861913/daniel"}, "reply_to_user": {"reputation": 18730, "user_id": 2102693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sD3s8.jpg?s=128&g=1", "display_name": "Bill_Stewart", "link": "https://stackoverflow.com/users/2102693/bill-stewart"}, "edited": false, "score": 0, "creation_date": 1565891084, "post_id": 57499843, "comment_id": 101495854, "body": "I checked it now. And yes it also happens"}, {"owner": {"reputation": 18730, "user_id": 2102693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sD3s8.jpg?s=128&g=1", "display_name": "Bill_Stewart", "link": "https://stackoverflow.com/users/2102693/bill-stewart"}, "edited": false, "score": 0, "creation_date": 1565894267, "post_id": 57499843, "comment_id": 101497157, "body": "It would seem your executable is doing something intermittently that is triggering privilege escalation."}, {"owner": {"reputation": 426, "user_id": 2861913, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/3PJTG.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2861913/daniel"}, "reply_to_user": {"reputation": 18730, "user_id": 2102693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sD3s8.jpg?s=128&g=1", "display_name": "Bill_Stewart", "link": "https://stackoverflow.com/users/2102693/bill-stewart"}, "edited": false, "score": 0, "creation_date": 1565897670, "post_id": 57499843, "comment_id": 101498435, "body": "I seems so. Any ideas what could that be?"}, {"owner": {"reputation": 18730, "user_id": 2102693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sD3s8.jpg?s=128&g=1", "display_name": "Bill_Stewart", "link": "https://stackoverflow.com/users/2102693/bill-stewart"}, "edited": false, "score": 1, "creation_date": 1565899250, "post_id": 57499843, "comment_id": 101499043, "body": "Microsoft has &quot;appcompat&quot; (application compatibility) resources and tools that may help you track this down."}, {"owner": {"reputation": 426, "user_id": 2861913, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/3PJTG.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2861913/daniel"}, "reply_to_user": {"reputation": 18730, "user_id": 2102693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sD3s8.jpg?s=128&g=1", "display_name": "Bill_Stewart", "link": "https://stackoverflow.com/users/2102693/bill-stewart"}, "edited": false, "score": 0, "creation_date": 1565939159, "post_id": 57499843, "comment_id": 101507611, "body": "Interesting tools (<a href=\"https://docs.microsoft.com/en-us/windows-hardware/get-started/adk-install\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/windows-hardware/get-started/&hellip;</a>). Didn&#39;t help me for this issue, but definitely useful. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 426, "user_id": 2861913, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/3PJTG.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2861913/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1565894237, "creation_date": 1565894237, "answer_id": 57514525, "question_id": 57499843, "link": "https://stackoverflow.com/questions/57499843/process-start-throws-exception-system-componentmodel-win32exception-the-operat/57514525#57514525", "title": "Process.Start throws exception System.ComponentModel.Win32Exception: &quot;The operation was canceled by the user&quot; the first time it is started after login", "body": "<p>I tried many things and ended up with this:</p>\n\n<pre><code>try\n{\n    Process.Start(Manifest.GetExecutablePath());\n}\ncatch (Win32Exception) // in some cases there happens an exception: \"The operation was canceled by the user\" on the first launch\n{\n    Process.Start(Manifest.GetExecutablePath());\n}\n</code></pre>\n\n<p>I know it's nasty, but the exception reliable appears the first time after login and the second time it works perfectly, therefore i just ignore it one time and try again.</p>\n"}], "owner": {"reputation": 426, "user_id": 2861913, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/3PJTG.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2861913/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 733, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565894237, "creation_date": 1565805579, "question_id": 57499843, "link": "https://stackoverflow.com/questions/57499843/process-start-throws-exception-system-componentmodel-win32exception-the-operat", "title": "Process.Start throws exception System.ComponentModel.Win32Exception: &quot;The operation was canceled by the user&quot; the first time it is started after login", "body": "<p>We have created a deployment solution that checks for updates and starts a shortcut. Now i have a very strange behaviour. When i login to our RDS-Host (Windows Server 2019 Standard - 1809) the first time i start the tool it throws an exception at this line of code:</p>\n\n<pre><code>Process.Start(@\"C:\\Users\\dev.dmendez\\AppData\\Local\\simplDeploy\\packages\\https!!!om-apps.com!csa!om_cs\\furniture\\12.10.2.0008\\OM_CS.lnk\");\n</code></pre>\n\n<p>It throws this exception and the process is not started:</p>\n\n<blockquote>\n  <p>System.ComponentModel.Win32Exception: \"The operation was canceled by the user\"</p>\n</blockquote>\n\n<p>If i run it a second time the exception is not thrown and the process is started normaly. There is no UAC-Dialog poping up (UAC is activated). I've tried to change the target-Shortcut to require administrator-permission. With this setting active i get an UAC-Dialog and if cancel i get the exact same exception-message. It looks like windows somehow tries to start the shortcut as admin and automatically cancels the first time i run it after login.</p>\n\n<p>I also tried Logon/Logout then run the target-shortcut manually before i run the program that also calls the shortcut and... No Exception!</p>\n\n<p>Any ideas why i get this exception the first time i execute this line of code after login.</p>\n"}, {"tags": ["c#", "json", "asp.net-core", "razor-pages", "razor-2"], "answers": [{"comments": [{"owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565807521, "post_id": 57500009, "comment_id": 101469906, "body": "Thanks bcr! I get the &quot;Json&quot; underlined in red in the code behind return: &quot;return Json(new { success = &quot;message text&quot; });&quot; and it says when I mouse over. &quot;The name &#39;Json&#39; does not exist in the current context&quot;. I don&#39;t recognize any of the potential fixes like I normally do. Any ideas? I am very grateful disciple."}, {"owner": {"reputation": 1604, "user_id": 2353336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ba68676256aff6e2d34b8748be1efb6?s=128&d=identicon&r=PG", "display_name": "bcr", "link": "https://stackoverflow.com/users/2353336/bcr"}, "reply_to_user": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565807735, "post_id": 57500009, "comment_id": 101469991, "body": "is <code>OnGet()</code> an API controller method?"}, {"owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565808353, "post_id": 57500009, "comment_id": 101470222, "body": "No, I am using Razor Pages. I was able to add this with no red line: &quot; return new JsonResult(new { success = &quot;message text&quot; });&quot; . . . However, now I get the error: &quot;System.InvalidOperationException: Multiple handlers matched.&quot; I think my JSON OnGet() is conflicting with my Razor Page&#39;s  OnGetAsync(). Both are handlers I guess and it ok&#39;s the first. Maybe I am not calling the correct Json task."}, {"owner": {"reputation": 1604, "user_id": 2353336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ba68676256aff6e2d34b8748be1efb6?s=128&d=identicon&r=PG", "display_name": "bcr", "link": "https://stackoverflow.com/users/2353336/bcr"}, "reply_to_user": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565808397, "post_id": 57500009, "comment_id": 101470243, "body": "Yeah it&#39;s pretty confusing at this point,only seeing part of your code. I assume that error means it&#39;s finding multiple handlers for the same route of <code>&#47;FinalApprovalLetter&#47;</code>"}, {"owner": {"reputation": 22204, "user_id": 134725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb9010d5f80331e9a23a86c93917b5ba?s=128&d=identicon&r=PG", "display_name": "Mike Brind", "link": "https://stackoverflow.com/users/134725/mike-brind"}, "edited": false, "score": 0, "creation_date": 1565808545, "post_id": 57500009, "comment_id": 101470295, "body": "You need a named handler to disambiguate the OnGet methods: <a href=\"https://www.learnrazorpages.com/razor-pages/handler-methods#named-handler-methods\" rel=\"nofollow noreferrer\">learnrazorpages.com/razor-pages/&hellip;</a>"}, {"owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565809723, "post_id": 57500009, "comment_id": 101470730, "body": "Ok, I changed OnGet() to OnPost(), no more &quot;2 handler&quot; error. However, looking in Chrome developer tools because button doesn&#39; fire function updateRows() it says:  &quot;ReferenceError: jQuery is not defined     at FinalApprovalLetter?id=3973:209&quot; and 2nd javacript error: &quot;ReferenceError: updateRow is not defined     at HTMLInputElement.onclick (FinalApprovalLetter?id=3973:52)&quot;  I don&#39;t think my jquery is working, all the libraries and references exist. I tried putting the function in a $document ready:   jQuery(document).ready(function ($) {         $(function updateRow() {"}, {"owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565809887, "post_id": 57500009, "comment_id": 101470789, "body": "@bcr, pretty much what I have posted is all my code. Nothing fancy, just a post or get to already existing page that runs an update query. Heck, I could even avoid the returned status message. Just a call to the code behind where I run an update ADO query. right now I can&#39;t seem to get the button onclick to call the json function in the client code."}, {"owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565810057, "post_id": 57500009, "comment_id": 101470849, "body": "Worse comes to worse I can just call another Razor Page that does the update and then redirects to the current one. That is 2 page loads, kinda clunky, client won&#39;t care but this simple problem I think would be very useful for the community that is just getting used to Razor Pages Core .NET 2.2."}, {"owner": {"reputation": 1604, "user_id": 2353336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ba68676256aff6e2d34b8748be1efb6?s=128&d=identicon&r=PG", "display_name": "bcr", "link": "https://stackoverflow.com/users/2353336/bcr"}, "reply_to_user": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "edited": false, "score": 0, "creation_date": 1565821581, "post_id": 57500009, "comment_id": 101474509, "body": "@JustJohn yeah there\u2019s a scoping problem with the JS. Will update shortly with what may help."}], "tags": [], "owner": {"reputation": 1604, "user_id": 2353336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ba68676256aff6e2d34b8748be1efb6?s=128&d=identicon&r=PG", "display_name": "bcr", "link": "https://stackoverflow.com/users/2353336/bcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1565825121, "last_edit_date": 1565825121, "creation_date": 1565806443, "answer_id": 57500009, "question_id": 57499815, "link": "https://stackoverflow.com/questions/57499815/simple-json-request-to-update-database-row-from-razor-page-and-return-success-fa/57500009#57500009", "title": "Simple JSON request to Update Database row from Razor Page and return success/failure", "body": "<p>Today it's recommended to use the native <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" rel=\"nofollow noreferrer\"><code>JSON.Parse</code></a> method to parse the JSON.</p>\n\n<p>So you could do this in <code>OnGet()</code>, adding whatever other fields to the return object:</p>\n\n<pre><code>public JsonResult OnGet()\n{\n  //DO database row update, insert today's date in FinalApprovalDate field\n  //DETERMINE AND RETURN SUCCESS/FAILURE (records affected)\n  //I HAVE CODE TO DO THIS AND IT WILL WORK \n\n    return JsonResult(new { success = \"message text\" });\n}\n</code></pre>\n\n<p>Then parse the JSON returned and use the value. Make sure that the JQuery library is included whether through a common page or through this page, or this code will error out about JQuery not being included.</p>\n\n<p>The section that defines <code>updateRow</code> needs to have executed before the <code>onclick</code> handler is invoked or there will be an error.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script type=\"text/javascript\"&gt;\n    function updateRow () {\n        $.get('/FinalApprovalLetter/').done(function (data) {\n            var obj = JSON.parse(data);\n            $('#success').append(obj.success);\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 1115, "user_id": 564810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a5ebfc98dc69621291ef7bfc6ffda99?s=128&d=identicon&r=PG", "display_name": "JustJohn", "link": "https://stackoverflow.com/users/564810/justjohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565825121, "creation_date": 1565805420, "question_id": 57499815, "link": "https://stackoverflow.com/questions/57499815/simple-json-request-to-update-database-row-from-razor-page-and-return-success-fa", "title": "Simple JSON request to Update Database row from Razor Page and return success/failure", "body": "<p>I've tried every example I could find but they are all too complex for my simple need. I haven't needed json until now, so I am kinda cross eyed.</p>\n\n<p>I have the need for a button that calls a Razor Page code behind using JSON and updates a field in a database with today's date.\nEssentially, the user wants to print a \"Final Approval Letter\" (this works) but also push a button (for now) that updates the course's field \"FinalApprovalDate\" to Today().</p>\n\n<p>I can do the database update and determine success/failure in a normal Razor Page code behind. But a JSON call with no page reload seems a lot more elegant. It is the JSON that has me stumped. Hopefully my suffering will help someone else in the future. No lists are needed, no classes, just a request and response with most of the action being the database update. (which I have left out for the purpose of focusing on my JSON stupidity).</p>\n\n<hr>\n\n<h2>In Startup.cs right before services.AddMVC()</h2>\n\n<pre><code>services.AddAntiforgery(o =&gt; o.HeaderName = \"XSRF-TOKEN\");\nservices.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_2);\nservices.AddSession();\nservices.AddMemoryCache();\n</code></pre>\n\n<hr>\n\n<h2>At top of FinalApprovalLetter.cshtml</h2>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function updateRow () {\n        $.get('/FinalApprovalLetter/').done(function () {\n\n                $('#success').append([message returned from JsonResult OnGet]);\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<h2>In body of FinalApprovalLetter.cshtml: Button to update database/row</h2>\n\n<pre><code>    &lt;input type=\"button\" class=\"d-print-none\" value=\"Set Final Date For Course (today)\" onclick=\"updateRow\" /&gt;\n   &lt;br /&gt;\n    &lt;label id=\"success\" /&gt;\n</code></pre>\n\n<hr>\n\n<h2>In code behind FinalApprovalLetter.chstml.cs</h2>\n\n<pre><code>public JsonResult OnGet()\n{\n  //DO database row update, insert today's date in FinalApprovalDate field\n  //DETERMINE AND RETURN SUCCESS/FAILURE (records affected)\n  //I HAVE CODE TO DO THIS AND IT WILL WORK \n\n    return new JsonResult(\"[success/failure message\");\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "active-directory"], "comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565805412, "post_id": 57499707, "comment_id": 101469048, "body": "Have you checked the permissions on an account that it couldn&#39;t update and verified that your service account does have permissions to update it?"}, {"owner": {"reputation": 1, "user_id": 11928188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a094b3c6bc10d2f100b9472e18dd4ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Ramy A", "link": "https://stackoverflow.com/users/11928188/ramy-a"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565807801, "post_id": 57499707, "comment_id": 101470016, "body": "The service account has full permissions read/write to all users in the group"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 1, "creation_date": 1565809989, "post_id": 57499707, "comment_id": 101470826, "body": "Are there any Deny rules in the permissions? If you look up the account you are can&#39;t modify in AD Users and Computers, go to the Security tab and click Advanced, you ca use the &quot;Effective Access&quot; tab, select the service account and make sure it can update the <code>title</code> attribute."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565810028, "post_id": 57499707, "comment_id": 101470841, "body": "I&#39;ve never seen AD lie about that. If it says &quot;access denied&quot; it&#39;s because the account you&#39;re using doesn&#39;t have permissions to do what you&#39;re doing."}, {"owner": {"reputation": 632, "user_id": 6826115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a005beebef9c03fc8de8f6b10162d4e?s=128&d=identicon&r=PG&f=1", "display_name": "oldovets", "link": "https://stackoverflow.com/users/6826115/oldovets"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1566083030, "post_id": 57499707, "comment_id": 101545240, "body": "@GabrielLuci In 99% the tool will give you correct results, but there is always 1% where it will calculate them incorrectly. The documentation mentions it and we faced such situation while developing our own permissions tool. The only valid 100% check is to log in under the service account interactively and modify the attribute of the problematic user via aduc"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 632, "user_id": 6826115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a005beebef9c03fc8de8f6b10162d4e?s=128&d=identicon&r=PG&f=1", "display_name": "oldovets", "link": "https://stackoverflow.com/users/6826115/oldovets"}, "edited": false, "score": 0, "creation_date": 1566092415, "post_id": 57499707, "comment_id": 101546289, "body": "@oldovets The &quot;Effective Access&quot; feature you mean? Yeah, I have seen that before... I think when there&#39;s weird overlapping inherited permissions if I remember correctly."}], "owner": {"reputation": 1, "user_id": 11928188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a094b3c6bc10d2f100b9472e18dd4ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Ramy A", "link": "https://stackoverflow.com/users/11928188/ramy-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565806788, "creation_date": 1565804934, "last_edit_date": 1565806788, "question_id": 57499707, "link": "https://stackoverflow.com/questions/57499707/unauthorized-access-exception-when-updating-users-in-active-directory", "title": "Unauthorized access exception when updating users in Active Directory", "body": "<p>I'm creating a project that will update certain attributes of all people in an Active Directory server. When I go to commit changes, I get an unauthorized access exception even though I pass in credentials of a service account to log in as to do the changes. Note, ROOT is the top level directory entry where to start search, with a service account username and password passed into the constructor.</p>\n\n<pre><code>try\n{\n    DirectorySearcher ds = new DirectorySearcher(ROOT);\n    ds.Filter = (\"(&amp;(objectCategory=Person)(employeeID=9999))\");\n    ds.SearchScope = SearchScope.Subtree;\n    SearchResult result1 = ds.FindOne();\n    DirectoryEntry person = result1.GetDirectoryEntry();\n\n    //update AD fields\n    person.Properties[\"title\"].Value = \"Some title\";\n    person.CommitChanges();\n    ROOT.CommitChanges();\n}\n</code></pre>\n\n<p>When <code>person.CommitChanges();</code> is run, the title attribute in Active Directory would be changed. It does so for some other users. But other times it appears as if the service account credentials aren't being used and \"Access Denied\" error is shown.</p>\n"}, {"tags": ["c#", "asp.net-core", "jwt", "jwt-auth"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 246690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ddab1c8db9e9eb387a80d5b9e6be0f7?s=128&d=identicon&r=PG", "display_name": "jtcalhoun", "link": "https://stackoverflow.com/users/246690/jtcalhoun"}, "is_accepted": false, "score": 0, "last_activity_date": 1565821043, "creation_date": 1565821043, "answer_id": 57502746, "question_id": 57499676, "link": "https://stackoverflow.com/questions/57499676/how-can-i-access-jwtbearer-authentication-handler-configuration-in-a-controller/57502746#57502746", "title": "How can I access JwtBearer authentication handler configuration in a controller action?", "body": "<p>Found an answer: ASP.NET registers an <code>IAuthenticationHandlerProvider</code> service that can be used to retrieve an authentication handler by its scheme.</p>\n\n<p>So, after modifying the <code>Startup.cs</code> file to include an authentication scheme for the JWT bearer handler:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// Startup.cs\n// ...\npublic void ConfigureServices(IServiceCollection services)\n{\n    services\n        .AddAuthentication()\n        .AddJwtBearer(\n            authenticationScheme: \"MY_AUTH_SCHEME\", // NEW\n            options =&gt;\n            {\n                options.Authority = \"https://known.authority.url\";\n            });\n}\n// ...\n</code></pre>\n\n<p>Use the authentication handler provider service and its <code>GetHandlerAsync</code> method to get the handler and its options:</p>\n\n<pre><code>// TokenController.cs\n// ...\n[AllowAnonymous]\n[HttpPost]\npublic async Task&lt;IActionResult&gt; ActionAsync()\n{\n    // NEW\n    var provider = HttpContext.RequestServices.GetService&lt;IAuthenticationHandlerProvider&gt;();\n\n    // NEW\n    var handler = await provider.GetHandlerAsync(HttpContext, \"MY_AUTH_SCHEME\") as\n        AuthenticationHandler&lt;JwtBearerOptions&gt;;\n\n    // NEW\n    var jwtBearerOptions = handler.Options;\n\n    using (var stream = new MemoryStream())\n    using (var reader = new StreamReader(stream))\n    {\n        await Request.Body.CopyToAsync(stream);\n        stream.Seek(0, SeekOrigin.Begin);\n\n        var jwt = await reader.ReadToEndAsync();\n\n        // NEW\n        var tokenValidationParameters = jwtBearerOptions.TokenValidationParameters;\n\n        // ...\n    }\n    // ...\n}\n// ...\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 246690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ddab1c8db9e9eb387a80d5b9e6be0f7?s=128&d=identicon&r=PG", "display_name": "jtcalhoun", "link": "https://stackoverflow.com/users/246690/jtcalhoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565821043, "creation_date": 1565804812, "question_id": 57499676, "link": "https://stackoverflow.com/questions/57499676/how-can-i-access-jwtbearer-authentication-handler-configuration-in-a-controller", "title": "How can I access JwtBearer authentication handler configuration in a controller action?", "body": "<p>I have an ASP.NET Core web application configured to use JWT bearer tokens for authentication:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// Setup.cs\n// ...\npublic void ConfigureServices(IServiceCollection services) {\n    services\n        .AddAuthentication()\n        .AddJwtBearer(\n            options =&gt;\n            {\n                options.Authority = \"https://known.authority.url\";\n            });\n}\n// ...\n</code></pre>\n\n<p>The app has a controller action where it can receive JWTs signed using the same key information in the body of a POST request.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// TokenController.cs\n// ...\n[AllowAnonymous]\n[HttpPost]\npublic async Task&lt;IActionResult&gt; ActionAsync()\n{\n    using (var stream = new MemoryStream())\n    using (var reader = new StreamReader(stream))\n    {\n        await Request.Body.CopyToAsync(stream);\n        stream.Seek(0, SeekOrigin.Begin);\n\n        var jwt = await reader.ReadToEndAsync();\n\n        // ...\n    }\n    // ...\n}\n// ...\n</code></pre>\n\n<p>I'd like to validate the JWT received in the controller action using the same validation parameters and signing keys configured in the bearer token authentication handler. (Ideally without duplicating the configuration for the controller action.)</p>\n\n<p>How can I access the authentication handler's <code>JwtBearerOptions</code> <code>Configuration</code> properties in the controller action?</p>\n\n<p>I've confirmed that <code>JwtBearerHandler</code> is a registered service in <code>HttpContext.RequestServices</code>, but its <code>Options</code> property is always <code>null</code>.</p>\n"}, {"tags": ["c#", "batch-file", "cmd"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 1, "creation_date": 1565805926, "post_id": 57499670, "comment_id": 101469240, "body": "Could you provide a <a href=\"https://stackoverflow.com/help/mcve\">&#91;SO&#93;: How to create a Minimal, Reproducible Example (reprex (mcve))</a>?  Also what are your locale settings? Are you sure that in the batch you have spaces (check with a hex editor)?"}, {"owner": {"reputation": 2636, "user_id": 3985011, "user_type": "registered", "profile_image": "https://graph.facebook.com/1706647339/picture?type=large", "display_name": "Ben Personick", "link": "https://stackoverflow.com/users/3985011/ben-personick"}, "edited": false, "score": 0, "creation_date": 1565806717, "post_id": 57499670, "comment_id": 101469554, "body": "What why are you using Start?  Just put this in your CMD Script: <code>C:\\MyTestApp.exe&quot; &#47;SILENT &#47;BOOLAGREEMENT=TRUE &#47;BOOLGAOPTIN=TRUE</code>"}, {"owner": {"reputation": 45, "user_id": 5404697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba6cd710d0f1a7725b7fe0228a27813?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/5404697/jed"}, "edited": false, "score": 0, "creation_date": 1565808072, "post_id": 57499670, "comment_id": 101470112, "body": "wow I feel pretty stupid..thanks to CristiFati I removed what I thought was a space and readded it and it then worked.. have no idea how my spaces got to be not spaces. way to much time wasted on this..thanks"}, {"owner": {"reputation": 45, "user_id": 5404697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba6cd710d0f1a7725b7fe0228a27813?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/5404697/jed"}, "edited": false, "score": 0, "creation_date": 1565863535, "post_id": 57499670, "comment_id": 101483851, "body": "CristiFati, could you post your comment as an answer so I can mark it as answered, since you did in fact solve my problem"}], "answers": [{"tags": [], "owner": {"reputation": 2636, "user_id": 3985011, "user_type": "registered", "profile_image": "https://graph.facebook.com/1706647339/picture?type=large", "display_name": "Ben Personick", "link": "https://stackoverflow.com/users/3985011/ben-personick"}, "is_accepted": false, "score": 0, "last_activity_date": 1565807606, "creation_date": 1565807606, "answer_id": 57500247, "question_id": 57499670, "link": "https://stackoverflow.com/questions/57499670/batch-file-start-appliction-and-pass-multiple-parameters-switches-spaces-to-%c3%a1/57500247#57500247", "title": "Batch file start appliction and pass multiple parameters switches spaces to &#225;", "body": "<p>Start sees all of that as a CMD to Start.</p>\n\n<p>Is there a reason you actually need to use start?  generally, there isn't and you can just call the executable directly.</p>\n\n<h2>eg TestMyApp.cmd</h2>\n\n<pre><code>@(\n  SETLOCAL\n  ECHO OFF\n)\n\nREM Call your Command here with all arguments:\n\"C:\\MyTestApp.exe\" /SILENT /BOOLAGREEMENT=TRUE /BOOLGAOPTIN=TRUE\n</code></pre>\n\n<p>If you sincerely require Start.</p>\n\n<p>Then you should be aware that it treats all of that command as a single string, by nature, which is what you're running into, so you should be calling a new CMD instance explicitly instead in that case:</p>\n\n<pre><code>START \"\" /WAIT CMD /C \"\"C:\\MyTestApp.exe\" /SILENT /BOOLAGREEMENT=TRUE /BOOLGAOPTIN=TRUE\"\n</code></pre>\n\n<p>But that is a lot of extra work to go through if not needed.</p>\n\n<p>Alternatively, you can also just run a CMD instance directly:</p>\n\n<pre><code> CMD /C \"\"C:\\MyTestApp.exe\" /SILENT /BOOLAGREEMENT=TRUE /BOOLGAOPTIN=TRUE\"\n</code></pre>\n\n<p>Or Use CALL:</p>\n\n<p>CALL \"C:\\MyTestApp.exe\" /SILENT /BOOLAGREEMENT=TRUE /BOOLGAOPTIN=TRUE</p>\n"}], "owner": {"reputation": 45, "user_id": 5404697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ba6cd710d0f1a7725b7fe0228a27813?s=128&d=identicon&r=PG&f=1", "display_name": "JED", "link": "https://stackoverflow.com/users/5404697/jed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1565807606, "creation_date": 1565804793, "last_edit_date": 1565807606, "question_id": 57499670, "link": "https://stackoverflow.com/questions/57499670/batch-file-start-appliction-and-pass-multiple-parameters-switches-spaces-to-%c3%a1", "title": "Batch file start appliction and pass multiple parameters switches spaces to &#225;", "body": "<p>I created an c# wpf application that accepts command line parameters. If I open cmd and call the application with multiple parameters, the parameters are passed in correctly. </p>\n\n<p>But if I do that same thing but from a batch file it passes the parameters as one parameter combined together rather then multiple parameters. I had the application output the parameters and it looks like all the spaces (which is what separates each command line parameter) were changed to a weird <code>\u00e1</code> character.\nis there something special I need to do to get the parameters passed correctly?</p>\n\n<p>I have tried resaving the file with ASCII encoding but that didn't change anything.\nI also tried adding this line to the batch file </p>\n\n<pre><code>chcp 1253&gt;NUL\n</code></pre>\n\n<p>that changed it so the <code>\u00e1</code> wasn't there but it still had it was one parameter.\nseems like the spaces are just not getting passed as a space.</p>\n\n<p>here is what my batch file line looks like, each parameter is separated by a space.</p>\n\n<pre><code>start /wait C:\\MyTestApp.exe /SILENT\u00a0/BOOLAGREEMENT=TRUE\u00a0/BOOLGAOPTIN=TRUE\n</code></pre>\n\n<p>--UPDATE--Adding steps to reproduce...</p>\n\n<p>this is just generic code similar to what I did just condensed</p>\n\n<p>create c# wpf app.</p>\n\n<p>in App.xaml.cs override OnStartup</p>\n\n<pre><code>protected override void OnStartup(StartupEventArgs e)\n{\n    base.OnStartup(e);\n    this.ShutdownMode = System.Windows.ShutdownMode.OnMainWindowClose;\n    bool shutdownapp = false;\n    MessageBox.Show(string.Join(\",\", e.Args));\n}\n</code></pre>\n\n<p>build exe.</p>\n\n<p>now launch cmd and cd to the location of the exe. </p>\n\n<pre><code> MyTestApp.exe /param1=test1 /param2=test2\n</code></pre>\n\n<p>you should get a message box that says </p>\n\n<p>/param1=test1,param2=test2</p>\n\n<p>now create a batch file that has something like this...then run it</p>\n\n<p>test.bat</p>\n\n<pre><code>@echo off\nstart /wait c:\\MyTestApp.exe /param1=test1 /param2=test2\n</code></pre>\n\n<p>this time the message box should have this...\n/param1=test1/param2=test2</p>\n"}, {"tags": ["c#", ".net", "wcf"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1565804762, "post_id": 57499619, "comment_id": 101468777, "body": "Do as the error says, send the proper content-type header. Or better, generate a WCF client."}, {"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1565807347, "post_id": 57499619, "comment_id": 101469833, "body": "I can not to generate a client. VS does not see my contracts :("}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565875501, "post_id": 57504501, "comment_id": 101488580, "body": "Thank you for the response. But i have additional question: How can i use basic auth with webHttpBinding ?"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565877890, "post_id": 57504501, "comment_id": 101489862, "body": "We need to set up the client credential type of the webhttpbinding to basic, if necessary, l will post an example."}, {"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565878791, "post_id": 57504501, "comment_id": 101490343, "body": "I added configuration for this. <code>&lt;endpoint address=&quot;CreateUser&quot;                   binding=&quot;webHttpBinding&quot; bindingConfiguration=&quot;WebHttpBinding&quot;                   contract=&quot;Web.Service.Library.Contracts.IUserContract&quot; &#47;&gt;</code> and <code>&lt;webHttpBinding&gt;         &lt;binding name=&quot;WebHttpBinding&quot;&gt;           &lt;security mode=&quot;Transport&quot;&gt;             &lt;transport clientCredentialType=&quot;Basic&quot; &#47;&gt;           &lt;&#47;security&gt;         &lt;&#47;binding&gt;       &lt;&#47;webHttpBinding&gt;</code>"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565879094, "post_id": 57504501, "comment_id": 101490497, "body": "No problem, we also need to bind a certificate to the https address port if the transport security mode is specified."}, {"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565886248, "post_id": 57504501, "comment_id": 101493909, "body": "Oh. So, for using xml/json i need to use webHttpBinding. Then i need to use Basic Authentication. For that i need use https instead http.If I understand correctly please tell me, how can i add https without using iis and asp ? Is there a better and easiest solution?"}, {"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565886580, "post_id": 57504501, "comment_id": 101494042, "body": "It needed for localhost solution only."}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565919181, "post_id": 57504501, "comment_id": 101503644, "body": "We could use Console application to host the service, and use Netsh http command to bind a certificate to a specifical port.  <a href=\"https://docs.microsoft.com/en-us/windows/win32/http/add-sslcert\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/windows/win32/http/add-sslcert</a> netsh http add sslcert ipport=0.0.0.0:8000 certhash=0000000000003ed9cd0c315bbb6dc1c08da5e6 appid={00112233-4455-6677-8899-AABBCCDDEEFF}"}, {"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565948832, "post_id": 57504501, "comment_id": 101511418, "body": "Thank you! I did it but now i have an error on the client side: &quot;The underlying connection was closed: An unexpected error occurred on a receive&quot;. I am trying to fix it."}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565949096, "post_id": 57504501, "comment_id": 101511547, "body": "It may be the client&#39;s distrust of the server certificate that caused the problem. Please note that my browser address bar has a sign of security lock, which means that the client trusts the server certificate. We need to install the certificate in the client LocalCA."}, {"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1565954689, "post_id": 57504501, "comment_id": 101514004, "body": "I imported my cert, than i added this code to client: `                webRequest.ClientCertificates.Add(new X509Certificate(File.ReadAllBytes(@&quot;C:\\App\\crt.pfx&quot;), &quot;password&quot;)); ` But now i have the same error :("}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1566180545, "post_id": 57504501, "comment_id": 101562182, "body": "Have you solved the problem? We needn\u2019t import the certificate on the client-side.  We need to do is installing the certificate on the client-side CA so that the server certificate is trusted by the client-side. Alternatively, we add the below code before sending an HTTP request."}, {"owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1566210518, "post_id": 57504501, "comment_id": 101571599, "body": "Still not solved. My client and service are on localhost machine both. I added the certificate to CA.<a href=\"https://cdn1.imggmi.com/uploads/2019/8/19/917dbe508229ad3b63fe8d6f6283bbe8-full.png\" rel=\"nofollow noreferrer\">cdn1.imggmi.com/uploads/2019/8/19/&hellip;</a>"}, {"owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "reply_to_user": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "edited": false, "score": 0, "creation_date": 1566281983, "post_id": 57504501, "comment_id": 101596151, "body": "Since the topic we are currently discussing has deviated too much from the topic of the post, I suggest that you re-post a new post to discuss how to call the service on the client-side."}], "tags": [], "owner": {"reputation": 6039, "user_id": 10163251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Fwrh.jpg?s=128&g=1", "display_name": "Abraham Qian", "link": "https://stackoverflow.com/users/10163251/abraham-qian"}, "is_accepted": true, "score": 0, "last_activity_date": 1565920373, "last_edit_date": 1565920373, "creation_date": 1565839368, "answer_id": 57504501, "question_id": 57499619, "link": "https://stackoverflow.com/questions/57499619/cannot-process-the-message-because-the-content-type-application-xml-was-not/57504501#57504501", "title": "Cannot process the message because the content type &#39;application / xml&#39; was not the expected type &#39;application / soap + xml; charset = utf-8 &#39;", "body": "<p>When we use wshttpbinding to create WCF service, the service based on the web service speficification, and use Simple Object Access Protocol to communicate. We could check the communication details by using fiddler.<br>\n<a href=\"https://i.stack.imgur.com/5kD4k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5kD4k.png\" alt=\"enter image description here\"></a><br>\nThe content-type is Application/soap+xml instead of the Application/xml, and the request body format based on SOAP envelop.<br>\n<a href=\"https://en.wikipedia.org/wiki/SOAP\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/SOAP</a><br>\nThis kind of web service is called SOAP web service. Ordinarily, we call the service by using the client proxy class.<br></p>\n\n<pre><code>   ServiceReference1.ServiceClient client = new ServiceClient();\n            try\n            {\n                var result = client.GetData();\n                Console.WriteLine(result);\n            }\n            catch (Exception)\n            {\n\n                throw;\n            }\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/wcf/accessing-services-using-a-wcf-client\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/framework/wcf/accessing-services-using-a-wcf-client</a><br>\nThe way you call a service usually applies to Restful-style service.<br>\n<a href=\"https://docs.microsoft.com/en-us/azure/architecture/best-practices/api-design\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/architecture/best-practices/api-design</a><br>\nInstantiate the HttpClient class and custom the request body. Under this circumstance, we should use WebHttpBinding in WCF to create the service. Please refer to my reply.<br>\n<a href=\"https://stackoverflow.com/questions/56873239/how-to-fix-err-aborted-400-bad-request-error-with-jquery-call-to-c-sharp-wcf/56879896#56879896\">How to fix &quot;ERR_ABORTED 400 (Bad Request)&quot; error with Jquery call to C# WCF service?</a><br>\nFeel free to let me know if there is anything I can help with.</p>\n\n<p><strong>Updated.</strong></p>\n\n<pre><code>class Program\n{\n    /// &lt;summary&gt;\n    /// https webhttpbinding.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"args\"&gt;&lt;/param&gt;\n    static void Main(string[] args)\n    {\n        Uri uri = new Uri(\"https://localhost:4386\");\n        WebHttpBinding binding = new WebHttpBinding();\n        binding.Security.Mode = WebHttpSecurityMode.Transport;\n        binding.Security.Transport.ClientCredentialType = HttpClientCredentialType.Basic;\n\n\n        using (WebServiceHost sh = new WebServiceHost(typeof(TestService), uri))\n        {\n            sh.AddServiceEndpoint(typeof(ITestService), binding, \"\");\n            ServiceMetadataBehavior smb;\n            smb = sh.Description.Behaviors.Find&lt;ServiceMetadataBehavior&gt;();\n            if (smb == null)\n            {\n                smb = new ServiceMetadataBehavior()\n                {\n                    //HttpsGetEnabled = true\n                };\n                sh.Description.Behaviors.Add(smb);\n\n            }\n            Binding mexbinding = MetadataExchangeBindings.CreateMexHttpsBinding();\n            sh.AddServiceEndpoint(typeof(IMetadataExchange), mexbinding, \"mex\");\n\n\n            sh.Opened += delegate\n            {\n                Console.WriteLine(\"service is ready\");\n            };\n            sh.Closed += delegate\n            {\n                Console.WriteLine(\"service is closed\");\n            };\n            sh.Open();\n\n            Console.ReadLine();\n\n            sh.Close();\n        }\n    }\n}\n[ServiceContract]\npublic interface ITestService\n{\n    [OperationContract]\n    [WebGet(ResponseFormat =WebMessageFormat.Json)]\n    string GetResult();\n}\n\n[ServiceBehavior]\npublic class TestService : ITestService\n{\n    public string GetResult()\n    {\n        return $\"Hello, busy World. {DateTime.Now.ToShortTimeString()}\";\n    }\n}\n</code></pre>\n\n<p>Bind a certificate to the port(Powershell command).</p>\n\n<pre><code>    netsh http add sslcert ipport=0.0.0.0:4386 certhash=cbc81f77ed01a9784a12483030ccd497f01be71c App\nid='{61466809-CD17-4E31-B87B-E89B003FABFA}'\n</code></pre>\n\n<p>Result.<br>\n<a href=\"https://i.stack.imgur.com/5VhzH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5VhzH.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 3796748, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jZk9TD56zyQ/AAAAAAAAAAI/AAAAAAAAAGg/Mp5D-UoJoEQ/photo.jpg?sz=128", "display_name": "Genome", "link": "https://stackoverflow.com/users/3796748/genome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2683, "favorite_count": 0, "accepted_answer_id": 57504501, "answer_count": 1, "score": 1, "last_activity_date": 1565920373, "creation_date": 1565804589, "last_edit_date": 1565806292, "question_id": 57499619, "link": "https://stackoverflow.com/questions/57499619/cannot-process-the-message-because-the-content-type-application-xml-was-not", "title": "Cannot process the message because the content type &#39;application / xml&#39; was not the expected type &#39;application / soap + xml; charset = utf-8 &#39;", "body": "<blockquote>\n  <p>The remote server returned an error: (415) Cannot process the message because the content type 'application / xml' was not the expected type 'application / soap + xml; charset = utf-8 '</p>\n</blockquote>\n\n<p>I just try to launch my self host. I have 2 endpoints with Basic Authentication. So I had to use wsHttpBinding for that. CreateUser endpoint should use XML format and RemoveUser endpoint - json format.</p>\n\n<p>I attached my selfhost app.config, client main function and contract.</p>\n\n<h3>server app.config</h3>\n\n<pre><code>&lt;services&gt;\n  &lt;service name=\"Web.Service.Core.Services.UserContract\"\n           behaviorConfiguration=\"AuthBehavior\" &gt;\n    &lt;endpoint address=\"CreateUser\"\n              binding=\"wsHttpBinding\"\n              bindingNamespace=\"http://localhost/Auth/\"\n              contract=\"Web.Service.Library.Contracts.IUserContract\" /&gt;\n    &lt;endpoint address=\"RemoveUser\"\n              binding=\"wsHttpBinding\"\n              contract=\"Web.Service.Library.Contracts.IUserContract\" /&gt;\n</code></pre>\n\n<h3>IUserContract.cs</h3>\n\n<pre><code>[ServiceContract(Namespace = \"http://localhost/Auth/\", ProtectionLevel = ProtectionLevel.None)]\n[XmlSerializerFormat]\npublic interface IUserContract\n{\n    [OperationContract]\n    [WebInvoke(Method = \"POST\",\n        UriTemplate = \"Auth/CreateUser\",\n        RequestFormat = WebMessageFormat.Xml,\n        ResponseFormat = WebMessageFormat.Xml,\n        BodyStyle = WebMessageBodyStyle.Wrapped)]\n    Response CreateUser(Stream xml);\n\n    [OperationContract]\n    [WebInvoke(Method = \"POST\",\n        UriTemplate = \"Auth/RemoveUser\",\n        RequestFormat = WebMessageFormat.Json,\n        ResponseFormat = WebMessageFormat.Json,\n        BodyStyle = WebMessageBodyStyle.Wrapped)]\n    Response RemoveUser(Stream stream);\n</code></pre>\n\n<h3>client main()</h3>\n\n<pre><code>var webRequest = (HttpWebRequest) WebRequest.Create(CreateUserUrl);\nwebRequest.Method = \"POST\";\nwebRequest.ContentType = \"application/xml\";\nwebRequest.ContentLength = data.Length;\nvar rqStream = webRequest.GetRequestStream();\nrqStream.Write(data, 0, data.Length);\nrqStream.Close();\nvar webResponse = webRequest.GetResponse();\nvar rsStream = webResponse.GetResponseStream();\nvar responseXml = new StreamReader(rsStream);\nvar s = responseXml.ReadToEnd();\n</code></pre>\n"}, {"tags": ["c#", "json", "asp.net-web-api", "deserialization", "lazy-loading"], "answers": [{"comments": [{"owner": {"reputation": 596, "user_id": 1451988, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MSJzV.jpg?s=128&g=1", "display_name": "Broom", "link": "https://stackoverflow.com/users/1451988/broom"}, "edited": false, "score": 0, "creation_date": 1565809235, "post_id": 57500393, "comment_id": 101470542, "body": "the Lazy value factory doesn&#39;t allow me to pass in my non-static id"}, {"owner": {"reputation": 217, "user_id": 11812222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd89d9a9394067ec537d6e0f54786153?s=128&d=identicon&r=PG&f=1", "display_name": "kevinj", "link": "https://stackoverflow.com/users/11812222/kevinj"}, "reply_to_user": {"reputation": 596, "user_id": 1451988, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MSJzV.jpg?s=128&g=1", "display_name": "Broom", "link": "https://stackoverflow.com/users/1451988/broom"}, "edited": false, "score": 0, "creation_date": 1565812683, "post_id": 57500393, "comment_id": 101471770, "body": "I updated the answer for that as well. Just use a lambda expression. @Broom"}, {"owner": {"reputation": 596, "user_id": 1451988, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MSJzV.jpg?s=128&g=1", "display_name": "Broom", "link": "https://stackoverflow.com/users/1451988/broom"}, "edited": false, "score": 0, "creation_date": 1565812766, "post_id": 57500393, "comment_id": 101471797, "body": "I tried that. The anonymous function can&#39;t be used here. I was able to get it to assign that way in the constructor, however it is already too late by then."}], "tags": [], "owner": {"reputation": 217, "user_id": 11812222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd89d9a9394067ec537d6e0f54786153?s=128&d=identicon&r=PG&f=1", "display_name": "kevinj", "link": "https://stackoverflow.com/users/11812222/kevinj"}, "is_accepted": false, "score": 1, "last_activity_date": 1565812642, "last_edit_date": 1565812642, "creation_date": 1565808342, "answer_id": 57500393, "question_id": 57499617, "link": "https://stackoverflow.com/questions/57499617/web-api-json-deserialization-calls-getters-before-setters/57500393#57500393", "title": "Web API JSON deserialization calls getters before setters", "body": "<p>The problem is that your getter is actually setting the variable, you are just fighting the framework. The get block should just return the value of the _Sections collection. Why not considering in using the Lazy construct introduced in C# 4 ? </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private Lazy&lt;List&lt;MenuSection&gt;&gt; _someVariable = new Lazy&lt;List&lt;MenuSection&gt;&gt;(() =&gt; MenuSection.GetListByMenu(id));\n\npublic string SomeVariable =&gt; _someVariable\n\n</code></pre>\n\n<p>As a side note, I suggest to follow the right naming convention here and have the private member in camel case: _sections.</p>\n"}], "owner": {"reputation": 596, "user_id": 1451988, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/MSJzV.jpg?s=128&g=1", "display_name": "Broom", "link": "https://stackoverflow.com/users/1451988/broom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565812642, "creation_date": 1565804585, "question_id": 57499617, "link": "https://stackoverflow.com/questions/57499617/web-api-json-deserialization-calls-getters-before-setters", "title": "Web API JSON deserialization calls getters before setters", "body": "<p>I have a class called Menu. Menu has a private list variable _Sections and a public list variable sections. I am using the following pattern for lazy loading. This also allows me to retrieve child items when serializing</p>\n\n<pre><code>public class Menu \n{\n    public int Id;\n    private List&lt;MenuSection&gt; _Sections = null;\n    public List&lt;MenuSection&gt; Sections\n    {\n        get\n        {\n            return _Sections ?? (_Sections = MenuSection.GetListByMenu(Id)); //database call\n        }\n        set\n        {\n            _Sections = value;\n        }\n    }\n}\n</code></pre>\n\n<p>I then modify the collection client side and send it back to the API as JSON.</p>\n\n<p>My problem is that the getter for Sections is called before the setter. This means that the collection is refilled from the database and then has my now updated sections appended.</p>\n\n<p>I've created the following work around, but it's ugly and I don't want to have to remember to do it everywhere I want to lazy load.</p>\n\n<pre><code>public class Menu \n{\n    public int Id;\n    private bool deserialized = false;\n\n    [OnDeserializing()]\n    internal void OnDeserializingMethod(StreamingContext context)\n    {\n        DeserializerCalled = true;\n    }\n\n    private List&lt;MenuSection&gt; _Sections = null;\n    public List&lt;MenuSection&gt; Sections\n    {\n        get\n        {\n            return _Sections ?? (_Sections = DeserializerCalled ? new List&lt;&gt;() : MenuSection.GetListByMenu(Id));\n        }\n        set\n        {\n            _Sections = value;\n        }\n    }\n}\n</code></pre>\n\n<p>Am I missing some property attribute or global JSON setting that will resolve this for me?</p>\n"}, {"tags": ["c#", "asp.net-core"], "comments": [{"owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "edited": false, "score": 0, "creation_date": 1565804607, "post_id": 57499525, "comment_id": 101468705, "body": "@Eyal it gives me the same generc 404 error: &quot;The directory or file specified does not exist on the Web server....&quot;"}, {"owner": {"reputation": 1231, "user_id": 741858, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c1224eeb7af90da0b0824b4c8d838ed?s=128&d=identicon&r=PG", "display_name": "Tony Ranieri", "link": "https://stackoverflow.com/users/741858/tony-ranieri"}, "edited": false, "score": 0, "creation_date": 1565812030, "post_id": 57499525, "comment_id": 101471527, "body": "seems like we&#39;re maybe missing a bit of info, do you have any [Route] attributes on the controller? also how are you publishing it to a server? is it running kestrel? iis? any proxy?"}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1565834423, "post_id": 57499525, "comment_id": 101476671, "body": "What do you mean by 404 error with <code>&quot;The directory or file specified does not exist on the Web server....&quot; </code>? Have you enabled custom error handling? Try to comment out the content in <code>GetUserPhoto(int AgentID)</code> and return <code>Ok(&quot;Success&quot;)</code> directly to check whether the route is correctly. Does this issue happen to this specific method or all action? Try to enable <a href=\"https://docs.microsoft.com/en-us/aspnet/core/test/troubleshoot-azure-iis?view=aspnetcore-2.2#aspnet-core-module-stdout-log-iis\" rel=\"nofollow noreferrer\">ASP.NET Core Module stdout log (IIS)</a> and share us the detail result."}, {"owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "reply_to_user": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1565871214, "post_id": 57499525, "comment_id": 101486586, "body": "@TaoZhou I included answers to all the questions in my edits"}, {"owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "reply_to_user": {"reputation": 1231, "user_id": 741858, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/0c1224eeb7af90da0b0824b4c8d838ed?s=128&d=identicon&r=PG", "display_name": "Tony Ranieri", "link": "https://stackoverflow.com/users/741858/tony-ranieri"}, "edited": false, "score": 0, "creation_date": 1565871251, "post_id": 57499525, "comment_id": 101486606, "body": "@TonyRanieri no proxy, I added info to the edited question"}, {"owner": {"reputation": 6783, "user_id": 5935112, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ymenn.jpg?s=128&g=1", "display_name": "Just Shadow", "link": "https://stackoverflow.com/users/5935112/just-shadow"}, "edited": false, "score": 0, "creation_date": 1565871582, "post_id": 57499525, "comment_id": 101486736, "body": "@AnKing, Could you please try using &quot;HandlerController&quot; instead of &quot;Handler&quot;? Like this: &quot;http://.../api/HandlerController/GetUserPhoto?AgentID=XXX&quot;"}, {"owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "reply_to_user": {"reputation": 6783, "user_id": 5935112, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ymenn.jpg?s=128&g=1", "display_name": "Just Shadow", "link": "https://stackoverflow.com/users/5935112/just-shadow"}, "edited": false, "score": 0, "creation_date": 1565872112, "post_id": 57499525, "comment_id": 101486965, "body": "@JustShadow same thing - 404. I have a bunch of other methods like [HttpPost(&quot;[action]&quot;)] that respond on &quot;http://.../api/Handler/&quot; without any issues. So i&#39;m wondering if there can be some sort of IIS filter for get requests?"}], "answers": [{"tags": [], "owner": {"reputation": 2175, "user_id": 210609, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5de956c64904e84474978fad16a14abb?s=128&d=identicon&r=PG", "display_name": "awright18", "link": "https://stackoverflow.com/users/210609/awright18"}, "is_accepted": false, "score": -1, "last_activity_date": 1565871300, "last_edit_date": 1565871300, "creation_date": 1565804784, "answer_id": 57499666, "question_id": 57499525, "link": "https://stackoverflow.com/questions/57499525/asp-net-core-2-1-get-request-not-going-thru/57499666#57499666", "title": "Asp.Net Core 2.1 Get request not going thru", "body": "<p>You might try <code>[HttpGet(\"[controller]/[action]\")]]</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "edited": false, "score": 0, "creation_date": 1565874145, "post_id": 57509886, "comment_id": 101487881, "body": "It does return &quot;Hit!&quot; on server!"}, {"owner": {"reputation": 1259, "user_id": 11272124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c710af17c950504375b53e22c894fedc?s=128&d=identicon&r=PG&f=1", "display_name": "SpiritBob", "link": "https://stackoverflow.com/users/11272124/spiritbob"}, "reply_to_user": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "edited": false, "score": 0, "creation_date": 1565874810, "post_id": 57509886, "comment_id": 101488235, "body": "@AnKing Hmm, I&#39;ve no idea what might be causing this as of now... :/ Make sure you remove the middleware. The version of it you&#39;re now using doesn&#39;t pass control flow to the other middlewares in the request pipeline, effectively rendering your mvc useless. I&#39;ve updated my post with a proper version of it.  Could you post your Startup.cs?"}, {"owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "edited": false, "score": 0, "creation_date": 1565875573, "post_id": 57509886, "comment_id": 101488617, "body": "it did work on a server when i used &quot;[Route(&quot;[action]&quot;)][HttpGet]...&quot; I added startup.cs configure method to my original question, maybe that can shine some light"}, {"owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "edited": false, "score": 2, "creation_date": 1565877552, "post_id": 57509886, "comment_id": 101489688, "body": "It appears the source of the problem was that SPA was working out of relative path on server &quot;<a href=\"http://address/webapp/\" rel=\"nofollow noreferrer\">address/webapp</a>...&quot; but on locan it was working in absolute. this was the issue all the time. I had to replace ui logic to point to the proper place based in environment. Thanks for all the troubleshooting efforts!"}], "tags": [], "owner": {"reputation": 1259, "user_id": 11272124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c710af17c950504375b53e22c894fedc?s=128&d=identicon&r=PG&f=1", "display_name": "SpiritBob", "link": "https://stackoverflow.com/users/11272124/spiritbob"}, "is_accepted": true, "score": 2, "last_activity_date": 1565874578, "last_edit_date": 1565874578, "creation_date": 1565873199, "answer_id": 57509886, "question_id": 57499525, "link": "https://stackoverflow.com/questions/57499525/asp-net-core-2-1-get-request-not-going-thru/57509886#57509886", "title": "Asp.Net Core 2.1 Get request not going thru", "body": "<p>I'm not able to comment, so I'll post a way to debug your problem and to narrow down where it might be coming from - the server, or from ASP.NET Core's routing:</p>\n\n<p>Let's check if your server actually receives any client requests, by adding a simple middleware for the job.</p>\n\n<p>In the Configure method:</p>\n\n<pre><code>app.Use(next =&gt;\n        {\n            return async context =&gt;\n            {\n                if (context.Request.Path.StartsWithSegments(\"/test\"))\n                {\n                    await context.Response.WriteAsync(\"Hit!\");\n                }\n                else\n                {\n                    await next(context);\n                }\n            };\n        });\n</code></pre>\n\n<p>Make sure you add the above code before <code>app.UseMvc</code>, just in case.\nNow when you start your web server with the following code added, try going to <code>&lt;yourserver's ip&gt;:&lt;port&gt;/test</code> with your favorite web browser.</p>\n\n<p>If you see the message <strong>\"Hit!\"</strong> on the page, then your server is working properly and accepting requests. If you don't see anything, then something else is going on, and the source of the problem is almost always the server's configuration, unless you've supplied incorrect ASP.NET Core configuration for it.</p>\n\n<p>It's worth trying to explicitly state the route by using the Route attribute instead of the built-in template for <code>HttpGet</code> if all else fails.</p>\n\n<pre><code>[Route(\"[action]\")]\n[HttpGet]\npublic IActionResult UserPhoto() // removed input here and also changed \n{                                // the name slightly just to make it easier to test\n   return Ok(\"Success\");\n}\n</code></pre>\n"}], "owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 1, "accepted_answer_id": 57509886, "answer_count": 2, "score": 2, "last_activity_date": 1565875478, "creation_date": 1565804156, "last_edit_date": 1565875478, "question_id": 57499525, "link": "https://stackoverflow.com/questions/57499525/asp-net-core-2-1-get-request-not-going-thru", "title": "Asp.Net Core 2.1 Get request not going thru", "body": "<p>I have an issue with the following piece of code that is working properly when i run this on my local machine but fails returning 404 when published on a server. \nAt first I thought it was due to it not being able to get the file(path problem or smth) but it appears to be that when i call this method like </p>\n\n<pre><code>http://.../api/Handler/GetUserPhoto?AgentID=XXX\n</code></pre>\n\n<p>its not even hitting the breakpoint at the beginning of the method. So I assume Get request is not routed properly. But why this only happens on server and where should i look for the source of the problem?</p>\n\n<pre><code>[HttpGet(\"[action]\")]\n    public IActionResult GetUserPhoto(int AgentID)\n    {\n        try\n        {\n            UserPhotoResponseContract response = _Client.GetUserPhotoAsync(AgentID).GetAwaiter().GetResult().Content;\n\n            //if picture not found in db then return predefined default picture\n            if (response.Image.Length &lt; 10) {\n                string filePath = Path.Combine(_hostingEnvironment.ContentRootPath, \"/wwwroot/images\", \"blank_agent_200.png\");\n\n                Microsoft.Extensions.FileProviders.IFileProvider provider = new Microsoft.Extensions.FileProviders.PhysicalFileProvider(_hostingEnvironment.ContentRootPath + \"/wwwroot/images/\");\n                Microsoft.Extensions.FileProviders.IFileInfo fileInfo = provider.GetFileInfo(\"blank_agent_200.png\");\n                var readStream = fileInfo.CreateReadStream();\n\n                return base.File(readStream, \"image/png\", filePath);\n            }\n\n            return base.File(response.Image, System.Drawing.Imaging.ImageFormat.Png), \"image/png\");\n        }\n        catch (Exception)\n        {\n            return new EmptyResult();\n        }\n    }\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>Controller attributes:</p>\n\n<pre><code>[Route(\"api/[controller]\")]\npublic class HandlerController : Controller\n</code></pre>\n\n<p>Solution being published to the IIS server via webdeploy and running Kestrel on IIS.</p>\n\n<p>i set this in web.config:</p>\n\n<pre><code>&lt;aspNetCore processPath=\"dotnet\" arguments=\".\\v10.dll\" stdoutLogEnabled=\"true\" stdoutLogFile=\".\\logs\\stdout\"&gt;\n      &lt;environmentVariables /&gt;\n    &lt;/aspNetCore&gt;\n</code></pre>\n\n<p>but i do not see it creating any log output.</p>\n\n<p>changed method to:</p>\n\n<pre><code>[HttpGet(\"[action]\")]\npublic IActionResult GetUserPhoto(int AgentID)\n{\n    return Ok(\"Success\");\n}\n</code></pre>\n\n<p>And it is doing the same thing, 200 on local but 404 on server.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>IIS log:</p>\n\n<pre><code>2019-08-15 12:28:48 10.54.0.12 GET /api/Handler/GetUserPhoto AgentID=781 80 - 10.53.0.157 Mozilla/5.0+(Windows+NT+10.0;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/76.0.3809.100+Safari/537.36 - 404 0 2 15\n2019-08-15 12:28:49 10.54.0.12 GET /api/Handler/GetUserPhoto AgentID=781 80 - 10.53.0.157 Mozilla/5.0+(Windows+NT+10.0;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/76.0.3809.100+Safari/537.36 - 404 0 2 15\n2019-08-15 12:29:39 10.54.0.12 GET /api/Handler/GetUserPhoto AgentID=781 80 - 10.53.0.157 Mozilla/5.0+(Windows+NT+10.0;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/76.0.3809.100+Safari/537.36 - 404 0 2 15\n2019-08-15 12:29:39 10.54.0.12 GET /api/Handler/GetUserPhoto AgentID=781 80 - 10.53.0.157 Mozilla/5.0+(Windows+NT+10.0;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/76.0.3809.100+Safari/537.36 - 404 0 2 0\n2019-08-15 12:29:40 10.54.0.12 GET /api/Handler/GetUserPhoto AgentID=781 80 - 10.53.0.157 Mozilla/5.0+(Windows+NT+10.0;+Win64;+x64)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Chrome/76.0.3809.100+Safari/537.36 - 404 0 2 31\n</code></pre>\n\n<p><strong>EDIT 3</strong></p>\n\n<p>Startup.cs:</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env, IAntiforgery antiforgery)\n{\n    if (env.IsDevelopment())\n    {\n        app.UseDeveloperExceptionPage();\n    }\n    else\n    {\n        app.UseExceptionHandler(\"/Error\");\n        app.UseHsts();\n    }\n\n    //Middleware for exception filtering\n    app.UseMiddleware(typeof(ErrorHandlingMiddleware));\n\n    app.Use(next =&gt;\n    {\n        return async context =&gt;\n        {\n            if (context.Request.Path.StartsWithSegments(\"/test\"))\n            {\n                await context.Response.WriteAsync(\"Hit!\");\n            }\n            else\n            {\n                await next(context);\n            }\n        };\n    });\n\n    app.UseHttpsRedirection();\n    app.UseStaticFiles();\n    app.UseSpaStaticFiles();\n\n    app.UseMvc(routes =&gt;\n    {\n        routes.MapRoute(\n            name: \"default\",\n            template: \"/{controller}/{action=Index}/{id?}\");\n    });\n\n    //Anti-forgery configuration\n    app.Use(next =&gt; context =&gt;\n    {\n        string path = context.Request.Path.Value;\n\n        var tokens = antiforgery.GetAndStoreTokens(context);\n        context.Response.Cookies.Append(\"XSRF-TOKEN\", tokens.RequestToken, new CookieOptions() { HttpOnly = false });\n        //}\n\n        return next(context);\n    });\n\n    //Middleware to work with headers\n    app.UseMiddleware(typeof(HeadersMiddleware));\n\n    app.UseSpa(spa =&gt;\n    {\n        spa.Options.SourcePath = \"ClientApp\";\n\n        if (env.IsDevelopment())\n        {\n            spa.UseReactDevelopmentServer(npmScript: \"start\");\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["c#", "html", "asp.net-core", "razor", "entity-framework-core"], "comments": [{"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "reply_to_user": {"reputation": 116, "user_id": 8380785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d14b09292578c7bb9ef59f6009a3bbc?s=128&d=identicon&r=PG&f=1", "display_name": "D. Dahlberg", "link": "https://stackoverflow.com/users/8380785/d-dahlberg"}, "edited": false, "score": 0, "creation_date": 1565805293, "post_id": 57499470, "comment_id": 101468996, "body": "No, I haven&#39;t actually, can you post how I would use that?"}, {"owner": {"reputation": 116, "user_id": 8380785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d14b09292578c7bb9ef59f6009a3bbc?s=128&d=identicon&r=PG&f=1", "display_name": "D. Dahlberg", "link": "https://stackoverflow.com/users/8380785/d-dahlberg"}, "edited": false, "score": 0, "creation_date": 1565805587, "post_id": 57499470, "comment_id": 101469113, "body": "You should be using a form instead for that solution to work. The problem is <code>asp-route-groupType=&quot;@Model.GroupType.ToString()&quot;</code>. Your <code>@Model.GroupType.ToString()</code> simply returns the base ToString if not overriden should be Enumerable GroupType / ClassName?"}, {"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "reply_to_user": {"reputation": 116, "user_id": 8380785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d14b09292578c7bb9ef59f6009a3bbc?s=128&d=identicon&r=PG&f=1", "display_name": "D. Dahlberg", "link": "https://stackoverflow.com/users/8380785/d-dahlberg"}, "edited": false, "score": 0, "creation_date": 1565809753, "post_id": 57499470, "comment_id": 101470745, "body": "Oh, it is inside a form, that&#39;s why I thought it had something to do with with my asp-route, because userName does get passed to the controller. I get string 0 for groupType."}, {"owner": {"reputation": 116, "user_id": 8380785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d14b09292578c7bb9ef59f6009a3bbc?s=128&d=identicon&r=PG&f=1", "display_name": "D. Dahlberg", "link": "https://stackoverflow.com/users/8380785/d-dahlberg"}, "edited": false, "score": 0, "creation_date": 1565812019, "post_id": 57499470, "comment_id": 101471521, "body": "Hmm okay.. Try removing your asp-route-grouptype and in your controller set <code>string userName, GroupType GroupType</code> and change your select to something like <code>&lt;select asp-for=&quot;GroupType&quot; asp-items=&quot;Model.Group&quot;&gt;&lt;&#47;select&gt;</code>"}, {"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "reply_to_user": {"reputation": 116, "user_id": 8380785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d14b09292578c7bb9ef59f6009a3bbc?s=128&d=identicon&r=PG&f=1", "display_name": "D. Dahlberg", "link": "https://stackoverflow.com/users/8380785/d-dahlberg"}, "edited": false, "score": 0, "creation_date": 1565818294, "post_id": 57499470, "comment_id": 101473621, "body": "I tried that and no luck, still sends 0. Why would I want to remove asp-route-grouptype? How will it send that value to the controller?"}, {"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "reply_to_user": {"reputation": 116, "user_id": 8380785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d14b09292578c7bb9ef59f6009a3bbc?s=128&d=identicon&r=PG&f=1", "display_name": "D. Dahlberg", "link": "https://stackoverflow.com/users/8380785/d-dahlberg"}, "edited": false, "score": 0, "creation_date": 1565878715, "post_id": 57499470, "comment_id": 101490309, "body": "@D.Dahlberg Looks like I needed the form to submit, I will mark Xing Zou answer as the the way to do it. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "edited": false, "score": 0, "creation_date": 1565878743, "post_id": 57506925, "comment_id": 101490322, "body": "Looks like I needed the form to submit the values, thanks!"}], "tags": [], "owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1565857869, "creation_date": 1565857869, "answer_id": 57506925, "question_id": 57499470, "link": "https://stackoverflow.com/questions/57499470/selectlistitem-dropdown-not-returning-value-to-the-controller/57506925#57506925", "title": "SelectListItem Dropdown not returning value to the controller?", "body": "<p><code>@Model.GroupType.ToString()</code> will not change when you select value and it always equals to the value passed from action</p>\n\n<p>You could use a form that makes a GET and submits the option value</p>\n\n<pre><code>&lt;form asp-action=\"ChangeGroup\" asp-controller=\"Station\" method=\"get\"&gt;\n&lt;strong&gt;@Html.DisplayNameFor(x =&gt; x.GroupType)&lt;/strong&gt;\n@Html.HiddenFor(model =&gt; model.UserName)\n&lt;select asp-for=\"GroupType\"&gt;\n    @foreach (var opt in Model.Group)\n    {\n        &lt;option value=\"@opt.Value\"&gt;@opt.Text&lt;/option&gt;\n    }\n&lt;/select&gt;\n&lt;br /&gt;\n&lt;input type=\"submit\" value=\"Assign Group\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>You could also use the onclick in javascript/jquery event gets the value and submits it:</p>\n\n<pre><code>@Html.HiddenFor(model =&gt; model.UserName)\n&lt;strong&gt;@Html.DisplayNameFor(x =&gt; x.GroupType)&lt;/strong&gt;\n&lt;select id=\"gt\"&gt;\n    @foreach (var opt in Model.Group)\n    {\n        &lt;option value=\"@opt.Value\"&gt;@opt.Text&lt;/option&gt;\n    }\n&lt;/select&gt;\n&lt;br /&gt;\n&lt;a id=\"as\" onclick=\"Assign()\"&gt;Assign Group&lt;/a&gt;\n@section Scripts{\n    &lt;script type=\"text/javascript\"&gt;\n        function Assign() {\n            var userName = $(\"#UserName\").val();\n            var groupType = $(\"#gt option:selected\").val();\n            console.log(userName);\n            $.ajax({\n                url: '/Station/ChangeGroup',\n                type: 'Get',\n                data: {\n                    userName: userName, groupType: groupType\n                },\n                success: function () {\n\n                },\n                complete: function () {\n\n                },\n            });\n        }\n    &lt;/script&gt;\n}\n</code></pre>\n\n<p>Refer to <a href=\"https://stackoverflow.com/questions/45451277/pass-selected-dropdown-value-to-controller-using-a-button\">Pass Selected Dropdown Value to Controller using a Button</a></p>\n"}], "owner": {"reputation": 45, "user_id": 11767309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a027e1375ceee367bbfcaa69e8f2a4d0?s=128&d=identicon&r=PG&f=1", "display_name": "Juan", "link": "https://stackoverflow.com/users/11767309/juan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 57506925, "answer_count": 1, "score": 0, "last_activity_date": 1565857869, "creation_date": 1565803921, "last_edit_date": 1565804989, "question_id": 57499470, "link": "https://stackoverflow.com/questions/57499470/selectlistitem-dropdown-not-returning-value-to-the-controller", "title": "SelectListItem Dropdown not returning value to the controller?", "body": "<p>I have a DropDownList that is not returning value selected to the controller. I am using SelectListItem in my model for the list items and an a GroupType which is part of an enum to store the value. I am using asp-route-groupType to return the value to the controller. Oddly enough this seems to work similarly for other dropdowns but not this one...I am able to send the userName from the model(not part of the dropdown), but not the groupType. I am using ASP.NET Core and the entity framework.</p>\n\n<p>I have tried changing the type of what am putting the asp-route-groupId with no luck.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;strong&gt;@Html.DisplayNameFor(x =&gt; x.GroupType)&lt;/strong&gt;\n&lt;select asp-for=\"GroupType\"&gt;\n@foreach (var opt in Model.Group)\n{\n    &lt;option value=\"@opt.Value\"&gt;@opt.Text&lt;/option&gt;\n}\n&lt;/select&gt;   \n&lt;br /&gt;\n&lt;a asp-action=\"ChangeGroup\" asp-controller=\"Station\" asp-route-userName=\"@Model.UserName\" asp-route-groupType=\"@Model.GroupType.ToString()\"&gt;Assign Group&lt;/a&gt;\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>public IActionResult ChangeGroup(string userName, string groupType)\n{\n    return RedirectToAction(nameof(ViewApp));\n}\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public class AdminViewApplicationViewModel\n{\n    public string UserName { get; set; }\n    public List&lt;SelectListItem&gt; Group { get; set; }\n    public GroupType GroupType { get; set; }\n}\n</code></pre>\n\n<p>This is how I add the values for the select list in a manager:</p>\n\n<pre><code>model.Group = new List&lt;SelectListItem&gt;();\nmodel.Group.Add(new SelectListItem {\n    Text = \"Group1\",\n    Value = GroupType.Group1.ToString()\n});\nmodel.Group.Add(new SelectListItem {\n    Text = \"Group2\",\n    Value = GroupType.Group2.ToString()\n});\n</code></pre>\n\n<p>The controller should return the value selected from the dropdown in parameter described in the above code.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565803893, "post_id": 57499397, "comment_id": 101468418, "body": "Hi @kylebotha, welcome to SO. What does it mean when you say you are &quot;not able to call another method&quot;? Are you seeing an error? Nothing is happening? Have you debugged this? It looks like you are not starting the timer."}, {"owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565804082, "post_id": 57499397, "comment_id": 101468500, "body": "@JuanR On line 11 of the code, the &quot;x&quot; is underlined in red, so i cannot pass input through the timer to the ExecMain method. When I run the program, the timer does start. Sorry i`m unsure of most of the terminology used in C# I only started today, so its difficult to explain what my problem is."}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 1, "creation_date": 1565804466, "post_id": 57499397, "comment_id": 101468630, "body": "Your problem is obvious. You are attempting to execute something every two seconds, but want to read a line from the user to use as the parameter. That doesn&#39;t make sense. If you read a line, you could technically be waiting forever if the user doesn&#39;t type anything. Why do you need it to execute every two seconds?"}, {"owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565804522, "post_id": 57499397, "comment_id": 101468661, "body": "So if i run the code ExecMain(10);    , then it works and inputs the number &quot;10&quot; into the input variable of the ExecMain Method, but i want the user to be able to enter their own variable instead of having the &quot;10&quot; in ExecMain(10);"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565804604, "post_id": 57499397, "comment_id": 101468703, "body": "I think what you want is the user to enter a value and <code>ExecMain</code> to execute, then ask for input again and repeat until the user decides it&#39;s time to end the program?"}, {"owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565804738, "post_id": 57499397, "comment_id": 101468769, "body": "It needs to execute every two seconds because the output that it shows the user is a Christmas tree with ornaments on it and the ornaments need to change position every two seconds as well as color. The ornaments show at random anyways so if i repeat the code every two seconds and clear console then the tree will apear to be have moving and flashing ornaments"}, {"owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "reply_to_user": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565804799, "post_id": 57499397, "comment_id": 101468788, "body": "I only want the user to input a value once, which is the height of the tree, then the ExecMain method needs to repeat itself every two seconds to change the position and color of the ornaments"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565808992, "post_id": 57499397, "comment_id": 101470456, "body": "What you really want is to pass the user-entered value to the <code>TimerCallback</code> handler. And in fact, that delegate type already provides a means for doing so. You could have the user enter the value <code>x</code> in the <code>Main()</code> method, and then pass <code>x</code> instead of <code>null</code> when you create the <code>Timer</code>. Then the <code>TimerCallback</code> method can just cast that value, passed in <code>o</code>, back to <code>int x</code>. But, you can also add an <code>int x</code> parameter to <code>TimerCallback</code> and pass that via the technique in the marked duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565805314, "post_id": 57499751, "comment_id": 101469008, "body": "OP stated he only wants to ask for input once. This would ask every time."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1565805409, "post_id": 57499751, "comment_id": 101469045, "body": "<code>Task.Delay</code> doesn&#39;t block."}, {"owner": {"reputation": 31, "user_id": 9306691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ta7SI.jpg?s=128&g=1", "display_name": "technicplay", "link": "https://stackoverflow.com/users/9306691/technicplay"}, "edited": false, "score": 0, "creation_date": 1565805560, "post_id": 57499751, "comment_id": 101469104, "body": "fixed the doesnt block, sorry i forgot, that an await would be necessary, then threa.sleep would be better"}, {"owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "edited": false, "score": 0, "creation_date": 1565805630, "post_id": 57499751, "comment_id": 101469135, "body": "This would result in an endless loop with no way out."}, {"owner": {"reputation": 31, "user_id": 9306691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ta7SI.jpg?s=128&g=1", "display_name": "technicplay", "link": "https://stackoverflow.com/users/9306691/technicplay"}, "edited": false, "score": 0, "creation_date": 1565805897, "post_id": 57499751, "comment_id": 101469231, "body": "But this endless loop would be also created by the timer object and the programm could still be killed by closing"}], "tags": [], "owner": {"reputation": 31, "user_id": 9306691, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ta7SI.jpg?s=128&g=1", "display_name": "technicplay", "link": "https://stackoverflow.com/users/9306691/technicplay"}, "is_accepted": false, "score": -1, "last_activity_date": 1565806768, "last_edit_date": 1565806768, "creation_date": 1565805105, "answer_id": 57499751, "question_id": 57499397, "link": "https://stackoverflow.com/questions/57499397/calling-another-method-through-a-timer-that-needs-to-give-a-input-to-the-method/57499751#57499751", "title": "Calling another method through a timer that needs to give a input to the method", "body": "<p>If you want to execute a method every 2 seconds and wait for user input you could just put it in a loop, which would eliminate the Timer object, that needs to be created:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Threading\n\nstatic void Main()\n{\n   string input = Convert.ToInt32(Console.ReadLine());\n   while(true)\n   {\n      Console.Clear();\n      ExecMain(input);\n      Thread.Sleep(2000);\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6496, "user_id": 4190402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q82KR.jpg?s=128&g=1", "display_name": "JuanR", "link": "https://stackoverflow.com/users/4190402/juanr"}, "is_accepted": true, "score": 0, "last_activity_date": 1565805168, "creation_date": 1565805168, "answer_id": 57499768, "question_id": 57499397, "link": "https://stackoverflow.com/questions/57499397/calling-another-method-through-a-timer-that-needs-to-give-a-input-to-the-method/57499768#57499768", "title": "Calling another method through a timer that needs to give a input to the method", "body": "<p>One way of solving this is to make the value entered available globally. You then need to fix your sequence so that you read the value, write the tree for the first time, then kick off the timer:</p>\n\n<pre><code>private int _size;\n\nstatic void Main(string[] args)\n{                   \n    //Get the value from user first\n    _size = Convert.ToInt32(Console.Readline());\n\n    //Execute the first draw\n    ExecMain(_size);\n\n    // Start the timer\n    var t = new Timer(TimerCallback, null, 0, 2000);\n\n    // Prevent the app from closing\n    Console.ReadLine();\n}\nprivate static void TimerCallback(Object o)\n{            \n    Console.Clear();\n    ExecMain(_size);  //This is where i want to to add a \"int x = Convert.ToInt32(Console.ReadLine());\"\n}                 \n</code></pre>\n\n<p>I am not sure how the <code>Console.Readline()</code> to prevent closing and the <code>Console.Clear()</code> from the callback will interact though. It may not do what you think.</p>\n"}], "owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1565808880, "accepted_answer_id": 57499768, "answer_count": 2, "score": -1, "last_activity_date": 1565806768, "creation_date": 1565803630, "question_id": 57499397, "link": "https://stackoverflow.com/questions/57499397/calling-another-method-through-a-timer-that-needs-to-give-a-input-to-the-method", "closed_reason": "Duplicate", "title": "Calling another method through a timer that needs to give a input to the method", "body": "<p>I for some reason am not able to call another method through the timer and use a variable \"x\" to input a value into that method using the timer\nso if anyone could please show me how to properly get a input from the user into that ExecMain method it would be greatly appreciated :)</p>\n\n<pre><code>static void Main(string[] args)\n    {                   \n        // Timer.\n        var t = new Timer(TimerCallback, null, 0, 2000);\n        // Prevent the app from closing\n        Console.ReadLine();\n    }\n    private static void TimerCallback(Object o)\n    {            \n        Console.Clear();\n        ExecMain(x);  //This is where i want to to add a \"int x = Convert.ToInt32(Console.ReadLine());\"\n    }                 //So i basically want it to execute the \"ExecMain\" method every 2 seconds with the \"x\" input\n    static void ExecMain(int input)\n    {           \n        int treeHeight = input, Space, sX;\n        Console.WriteLine(\"Tree:\");\n        for (int i = 1; i &lt;= treeHeight; i++)   //Height loop\n        {\n            for (Space = 1; Space &lt;= (treeHeight - i); Space++)  //space loop\n                Console.Write(\" \");\n            for (sX = 1; sX &lt;= i; sX++)         //left x loop with random ornaments\n                Console.Write(GetChar(GetRand()));\n            for (sX = (i - 1); sX &gt;= 1; sX--)     //right x loop with random ornaments\n                Console.Write(GetChar(GetRand()));\n            Console.WriteLine();\n        }\n        for (int k = 1; k &lt;= (treeHeight - 2); k++)\n        {\n            Console.Write(\" \");\n        }\n        Console.Write(\"| |\");\n        Console.WriteLine();\n        Console.ReadLine();\n    }\n</code></pre>\n"}, {"tags": ["c#", "dto"], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 11793845, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219999460406771/picture?type=large", "display_name": "Wamiq Rehman", "link": "https://stackoverflow.com/users/11793845/wamiq-rehman"}, "is_accepted": false, "score": 1, "last_activity_date": 1565805182, "creation_date": 1565805182, "answer_id": 57499772, "question_id": 57499369, "link": "https://stackoverflow.com/questions/57499369/how-to-check-an-object-of-type-listdictionarystring-string-to-set-one-value/57499772#57499772", "title": "How to check an object of type List&lt;Dictionary&lt;string, string&gt;&gt; to set one value based off another value in the dictionary?", "body": "<p>How about something like this ?</p>\n\n<pre><code>foreach (var dict in reportData)\n        {\n            var keys = new List&lt;string&gt;(dict.Keys);\n            foreach (string key in keys)\n            {\n                if (key == \"Type\")\n                {\n                    if (dict[key] == \"Deposit\")\n                    {\n                        dict[\"TransAmount\"] =   \"-\" +dict[\"TransAmount\"] ;\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p>Try this <a href=\"https://dotnetfiddle.net/Ii0MR7\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/Ii0MR7</a></p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 11351969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6660702ec8286f4d4232e8199871077a?s=128&d=identicon&r=PG&f=1", "display_name": "user11351969", "link": "https://stackoverflow.com/users/11351969/user11351969"}, "edited": false, "score": 0, "creation_date": 1565807222, "post_id": 57499919, "comment_id": 101469780, "body": "Thank you so much for this great solution! Can you please explain the first approach, I want to make sure I understand it correctly."}, {"owner": {"reputation": 15, "user_id": 11351969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6660702ec8286f4d4232e8199871077a?s=128&d=identicon&r=PG&f=1", "display_name": "user11351969", "link": "https://stackoverflow.com/users/11351969/user11351969"}, "edited": false, "score": 0, "creation_date": 1565809180, "post_id": 57499919, "comment_id": 101470525, "body": "Thank you. In some cases TransAmount can be null, so I need to check that its not null. Would this make sense?  if (dict.TryGetValue(&quot;Type&quot;, out var type) &amp;&amp; type == &quot;Withdrawal&quot;)                     {                         if (dict.TryGetValue(&quot;TransAmount&quot;, out var TransAmount))                         dict[&quot;TransAmount&quot;] = $&quot;-{dict[&quot;TransAmount&quot;]}&quot;;                     }"}], "tags": [], "owner": {"reputation": 12429, "user_id": 4995012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a300442854f4caef5cd41a7b3084a6e?s=128&d=identicon&r=PG", "display_name": "Fabjan", "link": "https://stackoverflow.com/users/4995012/fabjan"}, "is_accepted": true, "score": 0, "last_activity_date": 1565855339, "last_edit_date": 1565855339, "creation_date": 1565805997, "answer_id": 57499919, "question_id": 57499369, "link": "https://stackoverflow.com/questions/57499369/how-to-check-an-object-of-type-listdictionarystring-string-to-set-one-value/57499919#57499919", "title": "How to check an object of type List&lt;Dictionary&lt;string, string&gt;&gt; to set one value based off another value in the dictionary?", "body": "<p>We only need one loop and one operation.\nWe take dictionaries one by one, in each dictionary we are looking for the specific key \"Type\" while at the same time trying to get its value to variable called <code>type</code> (that's precisely what <code>TryGetValue</code> does). It also returns <code>true</code> in case when element exists. At this point we only need to make sure that the value of it is the one we're looking for. \nIf yes - we get in to the code block and modify another value. If you're not familiar with <code>$</code> string interpolation please check <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/interpolated\" rel=\"nofollow noreferrer\">this</a> article.</p>\n\n<pre><code>foreach (var dict in reportData)\n{\n   if (dict.TryGetValue(\"Type\", out var type)\n       &amp;&amp; type == \"Withdrawal\"\n       &amp;&amp; dict.TryGetValue(\"TransAmount\", out var amt)\n       &amp;&amp; !string.IsNullOrEmpty(amt))\n   {\n       dict[\"TransAmount\"] = $\"-{dict[\"TransAmount\"]}\";\n   }\n}\n</code></pre>\n\n<p>And yes you can do it with LINQ but it is not recommended, a good use-case for <code>LINQ</code> is data querying and for manipulating data it is better to use good old loops, nevertheless here is the code:</p>\n\n<pre><code>reportData = reportData.Select(d =&gt;\n{\n   if (d.TryGetValue(\"Type\", out var type) &amp;&amp; type == \"Withdrawal\")\n   {\n       d[\"TransAmount\"] = $\"-{d[\"TransAmount\"]}\";\n   }\n   return d;\n}.ToList(); // this will create a new instance of List&lt;Dictionary&gt;\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11351969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6660702ec8286f4d4232e8199871077a?s=128&d=identicon&r=PG&f=1", "display_name": "user11351969", "link": "https://stackoverflow.com/users/11351969/user11351969"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57499919, "answer_count": 2, "score": 1, "last_activity_date": 1565855339, "creation_date": 1565803458, "question_id": 57499369, "link": "https://stackoverflow.com/questions/57499369/how-to-check-an-object-of-type-listdictionarystring-string-to-set-one-value", "title": "How to check an object of type List&lt;Dictionary&lt;string, string&gt;&gt; to set one value based off another value in the dictionary?", "body": "<p>I have an object called reportData, which is holding the data for a report.\nThis object is of type \n                     <code>List&lt;Dictionary&lt;string, string&gt;&gt;</code>\nI need to add logic to manipulate reportData that when the value of the key \"Type\" is Withdrawal the value of the key \"TransAmount\" should have a minus sign before it. \nI was thinking I can accomplish this with some linq but I am not having any success.</p>\n\n<p>This is what I tried so far...</p>\n\n<pre><code>        foreach (var kvp in reportData.SelectMany(m =&gt; m).Where(x =&gt; x.Value != null))\n        {\n            if (kvp.Value.Equals(\"Deposit\"))\n                (\n            //Over here I need to set the value of the key \"TransAmount\" to have a minus sign before it, but I'm not sure how to go about it\n            )\n        }\n</code></pre>\n\n<p>Over here is a snapshot of the data that is being held in reportData. The showcased item in the list is of Type \"Withdrawal\", My code needs to deal with items in the list that are of Type \"Deposit\"</p>\n\n<p><a href=\"https://gyazo.com/a5183aa404e51672712d680dcd8ad6af\" rel=\"nofollow noreferrer\">https://gyazo.com/a5183aa404e51672712d680dcd8ad6af</a></p>\n"}, {"tags": ["c#", "unreachable-code"], "comments": [{"owner": {"reputation": 9587, "user_id": 747965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fzty.jpg?s=128&g=1", "display_name": "Glenn Ferrie", "link": "https://stackoverflow.com/users/747965/glenn-ferrie"}, "reply_to_user": {"reputation": 3017, "user_id": 390720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z3gAr.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/390720/jay"}, "edited": false, "score": 2, "creation_date": 1565803146, "post_id": 57499283, "comment_id": 101468143, "body": "Sorry man.  I&#39;m just trying to understand the language better."}], "answers": [{"comments": [{"owner": {"reputation": 9587, "user_id": 747965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fzty.jpg?s=128&g=1", "display_name": "Glenn Ferrie", "link": "https://stackoverflow.com/users/747965/glenn-ferrie"}, "edited": false, "score": 0, "creation_date": 1565832337, "post_id": 57499320, "comment_id": 101476307, "body": "I originally removed the <code>catch</code> to try to identify what sort of exception I&#39;d get if the delete failed ... and I never replaced it. Thanks for the quick response."}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": true, "score": 5, "last_activity_date": 1565803351, "last_edit_date": 1565803351, "creation_date": 1565803217, "answer_id": 57499320, "question_id": 57499283, "link": "https://stackoverflow.com/questions/57499283/why-is-my-return-statement-unreachable-after-try-finally/57499320#57499320", "title": "why is my return statement unreachable after try-finally?", "body": "<p>You have no catch, so if there's an exception in your try it will just be thrown. Your method either succeeds and returns true, or an exception is thrown.</p>\n\n<p>If you add a catch block, the warning will go away because that path is now accessible.</p>\n\n<p>You should be able to swallow the exception (if that's what you want) by simply adding <code>catch {}</code> before the finally.</p>\n\n<p>Looking at your code more closely, you likely want to replace the <code>finally</code> with a <code>catch</code> anyways- it's unlikely you wish to log that the delete had failed no matter the outcome.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11700374, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n43LcSZVcCE/AAAAAAAAAAI/AAAAAAAAAC0/Zbz4onLX0Tk/photo.jpg?sz=128", "display_name": "Lu&#237;s Amorim", "link": "https://stackoverflow.com/users/11700374/lu%c3%ads-amorim"}, "is_accepted": false, "score": 2, "last_activity_date": 1565804709, "last_edit_date": 1565804709, "creation_date": 1565804176, "answer_id": 57499534, "question_id": 57499283, "link": "https://stackoverflow.com/questions/57499283/why-is-my-return-statement-unreachable-after-try-finally/57499534#57499534", "title": "why is my return statement unreachable after try-finally?", "body": "<p>The code is unreachable because of the <code>return</code> statement that you have in your <code>try</code> block, which will always execute unless an <code>exception</code> is thrown.</p>\n\n<p>If the <code>Delete()</code> method of the <code>blob</code> variable executes seamlessly then the <code>return</code> statement in the <code>try</code> block will be executed and the method will exit (after the <code>finally</code> block has run) without executing any further instruction after the <code>try</code>/<code>finally</code> block. Otherwise, if it throws an <code>exception</code>, then the <code>exception</code> itself will propagate to the caller method (again, after the <code>finally</code> block has run) and neither <code>return</code> statement will be executed. In either case, the <code>return</code> statement at the end of the method will never be reached.</p>\n\n<p>If you however delete the <code>return</code> statement inside the try block, you will verify that the code still successfully compiles and the <code>return</code> statement at the end of the method is reachable.</p>\n\n<p>Cheers.</p>\n"}], "owner": {"reputation": 9587, "user_id": 747965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fzty.jpg?s=128&g=1", "display_name": "Glenn Ferrie", "link": "https://stackoverflow.com/users/747965/glenn-ferrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 1, "closed_date": 1565812122, "accepted_answer_id": 57499320, "answer_count": 2, "score": 0, "last_activity_date": 1565804709, "creation_date": 1565803001, "last_edit_date": 1565803426, "question_id": 57499283, "link": "https://stackoverflow.com/questions/57499283/why-is-my-return-statement-unreachable-after-try-finally", "closed_reason": "Duplicate", "title": "why is my return statement unreachable after try-finally?", "body": "<p>Here is my code.  I have a method that deletes an Azure Block Blob.  I have a try / finally block to log the failure with details, but otherwise to carry on. </p>\n\n<p>I am returning a <code>bool</code> to identify if the item was deleted or not.  </p>\n\n<p>Visual Studio is telling me that the <code>return</code> statement at the end of the method is unreachable.  </p>\n\n<pre><code>public bool Delete(string referenceId)\n{\n    var client = GetBlobClient();\n    var container = client.GetContainerReference(\"qwerty\");\n    var blob = container.GetBlockBlobReference(referenceId);\n    try\n    {\n        blob.Delete();\n        return true;\n    }\n    finally\n    {\n        Trace.TraceWarning(\"Delete Blob failed: {0}\", referenceId);\n    }\n    return false;  // &lt;-- THIS LINE.\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/u5QWT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u5QWT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why is that? Don't I have to return some value in this method. </p>\n\n<p>Your insight is appreciated. </p>\n"}, {"tags": ["c#", "asp.net-core", "botframework"], "comments": [{"owner": {"reputation": 21027, "user_id": 5751404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VpggY.jpg?s=128&g=1", "display_name": "Nan Yu", "link": "https://stackoverflow.com/users/5751404/nan-yu"}, "edited": false, "score": 0, "creation_date": 1565835814, "post_id": 57499241, "comment_id": 101476911, "body": "what do you mean by &quot; custom text ?&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2292, "user_id": 1253500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQjwI.png?s=128&g=1", "display_name": "The Memebot", "link": "https://stackoverflow.com/users/1253500/the-memebot"}, "edited": false, "score": 0, "creation_date": 1565884439, "post_id": 57508311, "comment_id": 101493111, "body": "Thanks Christopher, the issue here is that I dont have neither the turnContext or the cancellationToken. The method &quot;SendProactiveMessage&quot; is called by an API, how can that be solved? I tried Dependency Injection but wasnt able to do it"}, {"owner": {"reputation": 1, "user_id": 7682407, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155218742657079/picture?type=large", "display_name": "Christopher Rowland", "link": "https://stackoverflow.com/users/7682407/christopher-rowland"}, "reply_to_user": {"reputation": 2292, "user_id": 1253500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQjwI.png?s=128&g=1", "display_name": "The Memebot", "link": "https://stackoverflow.com/users/1253500/the-memebot"}, "edited": false, "score": 0, "creation_date": 1565919392, "post_id": 57508311, "comment_id": 101503686, "body": "@TheMemebot Is your SendProactiveMessage method not within a Controller your Bot project?"}, {"owner": {"reputation": 2292, "user_id": 1253500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQjwI.png?s=128&g=1", "display_name": "The Memebot", "link": "https://stackoverflow.com/users/1253500/the-memebot"}, "edited": false, "score": 0, "creation_date": 1565995036, "post_id": 57508311, "comment_id": 101529505, "body": "I will try your updated solution and I will be back to you to let you know if that works. Yes, my method is inside my bot project"}, {"owner": {"reputation": 1, "user_id": 7682407, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155218742657079/picture?type=large", "display_name": "Christopher Rowland", "link": "https://stackoverflow.com/users/7682407/christopher-rowland"}, "reply_to_user": {"reputation": 2292, "user_id": 1253500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQjwI.png?s=128&g=1", "display_name": "The Memebot", "link": "https://stackoverflow.com/users/1253500/the-memebot"}, "edited": false, "score": 0, "creation_date": 1566339709, "post_id": 57508311, "comment_id": 101623727, "body": "@TheMemebot any luck with this?"}], "tags": [], "owner": {"reputation": 1, "user_id": 7682407, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155218742657079/picture?type=large", "display_name": "Christopher Rowland", "link": "https://stackoverflow.com/users/7682407/christopher-rowland"}, "is_accepted": false, "score": 0, "last_activity_date": 1565906816, "last_edit_date": 1565906816, "creation_date": 1565865007, "answer_id": 57508311, "question_id": 57499241, "link": "https://stackoverflow.com/questions/57499241/cannot-pass-arguments-to-a-botcallback-inside-a-continueconversationasync-method/57508311#57508311", "title": "Cannot pass arguments to a BotCallback inside a ContinueConversationAsync method", "body": "<p>What I understand you are wanting to do is to pass a value to the BotCallback that can be sent back via the method SendActivityAsync.</p>\n\n<p>To do this you can use a lambda expression instead of calling the BotCallback.</p>\n\n<pre><code>public async Task&lt;bool&gt; SendProactiveMessage(MensajeExterno mensajeExterno)\n{\n        var yourVariable = \"blah\";\n\n        var referenciaDeConversacion = ObtenerReferenciaConversacion(mensajeExterno.ConversationId);\n        var continuationActivity = referenciaDeConversacion.GetContinuationActivity();\n        if (referenciaDeConversacion == null) return false;\n\n\n        await ((BotAdapter)_adapter).ContinueConversationAsync(_appId, referenciaDeConversacion, async (context, token) =&gt; { \nawait turnContext.SendActivityAsync(\"proactive hello \" + yourVariable, cancellationToken: cancellationToken); \n}, default(CancellationToken));\n        return true;\n}\n</code></pre>\n\n<p>This comes from this reference to a proactive messaging sample here:\n<a href=\"https://github.com/microsoft/botbuilder-dotnet/issues/787\" rel=\"nofollow noreferrer\">https://github.com/microsoft/botbuilder-dotnet/issues/787</a></p>\n\n<p>For Lambda expressions see <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/lambda-expressions\" rel=\"nofollow noreferrer\">Lambda Expressions (C# Programming Guide)</a></p>\n\n<blockquote>\n  <p>A lambda expression is an anonymous function that can contain\n  expressions and statements, and can be used to create delegates or\n  expression tree types.</p>\n  \n  <p>All lambda expressions use the lambda operator =>, which is read as\n  \"goes to\". The left side of the lambda operator specifies the input\n  parameters (if any) and the right side holds the expression or\n  statement block. The lambda expression x => x * x is read \"x goes to x\n  times x.\"</p>\n</blockquote>\n\n<p><strong>Updated with API controller example</strong></p>\n\n<p>The SendProactiveMessage needs to be in a Controller in your Bot project, for example:</p>\n\n<pre><code>using System;\nusing System.Collections.Concurrent;\nusing System.Net;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Bot.Builder;\nusing Microsoft.Bot.Builder.Integration.AspNet.Core;\nusing Microsoft.Bot.Schema;\nusing Microsoft.Extensions.Configuration;\n\nnamespace ProactiveBot.Controllers\n{\n    [Route(\"api/notify\")]\n    [ApiController]\n    public class NotifyController : ControllerBase\n    {\n        private readonly IBotFrameworkHttpAdapter _adapter;\n        private readonly string _appId;\n        private readonly ConcurrentDictionary&lt;string, ConversationReference&gt; _conversationReferences;\n    public NotifyController(IBotFrameworkHttpAdapter adapter, IConfiguration configuration, ConcurrentDictionary&lt;string, ConversationReference&gt; conversationReferences)\n    {\n        _adapter = adapter;\n        _conversationReferences = conversationReferences;\n        _appId = configuration[\"MicrosoftAppId\"];\n\n        // If the channel is the Emulator, and authentication is not in use,\n        // the AppId will be null.  We generate a random AppId for this case only.\n        // This is not required for production, since the AppId will have a value.\n        if (string.IsNullOrEmpty(_appId))\n        {\n            _appId = Guid.NewGuid().ToString(); //if no AppId, use a random Guid\n        }\n    }\n\n    public async Task&lt;IActionResult&gt; Get([FromQuery(Name = \"taskID\")] int taskID)\n    {            \n\n        foreach (var conversationReference in _conversationReferences.Values)\n        {                \n\n            await ((BotAdapter)_adapter).ContinueConversationAsync(_appId, conversationReference, async (context, token) =&gt; {\n                await context.SendActivityAsync(\"proactive task notification for TaskID: \" + taskID.ToString());\n            }, default(CancellationToken));\n        }\n\n\n        // Let the caller know proactive messages have been sent\n        return new ContentResult()\n        {\n            Content = \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Proactive messages have been sent.&lt;/h1&gt;&lt;p&gt;\" + taskID.ToString() + \"&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\",\n            ContentType = \"text/html\",\n            StatusCode = (int)HttpStatusCode.OK,\n        };\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>You can then get access to the context and token through the injected adapter. The above code is largely from the current <a href=\"https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/16.proactive-messages\" rel=\"nofollow noreferrer\">Proactive Message sample code</a> </p>\n\n<p>So I can then call this API eg. <a href=\"http://localhost:3988/api/notify?taskID=5678\" rel=\"nofollow noreferrer\">http://localhost:3988/api/notify?taskID=5678</a> passing in the taskID parameter (in my case) which is then sent through to the user via ContinueConversationAsync.</p>\n"}, {"tags": [], "owner": {"reputation": 178, "user_id": 5218711, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JSCNE-3UP9A/AAAAAAAAAAI/AAAAAAAACrA/vuRZVDCvxUY/photo.jpg?sz=128", "display_name": "Trinitron", "link": "https://stackoverflow.com/users/5218711/trinitron"}, "is_accepted": false, "score": 3, "last_activity_date": 1579213455, "creation_date": 1579213455, "answer_id": 59778704, "question_id": 57499241, "link": "https://stackoverflow.com/questions/57499241/cannot-pass-arguments-to-a-botcallback-inside-a-continueconversationasync-method/59778704#59778704", "title": "Cannot pass arguments to a BotCallback inside a ContinueConversationAsync method", "body": "<p>You can make a wrapper around BotCallback using LINQ approach. But personally i do not understand the idea of such delegates without any EventArgs.</p>\n\n<pre><code>    [HttpPost]\n    public async Task&lt;IActionResult&gt; Post([FromBody] string messageText)\n    {\n        foreach (var conversationReference in _conversationReferences.Values)\n        {\n            await ((BotAdapter)_adapter).ContinueConversationAsync(_appId, conversationReference, async (context, token) =&gt; await BotCallback(messageText, context, token), default(CancellationToken));\n        }\n\n        return new ContentResult()\n        {\n            Content = \"&lt;html&gt;&lt;body&gt;&lt;h1&gt;Proactive messages have been sent.&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\",\n            ContentType = \"text/html\",\n            StatusCode = (int)HttpStatusCode.OK,\n        };\n    }\n\n    private async Task BotCallback(string message, ITurnContext turnContext, CancellationToken cancellationToken)\n    {\n        await turnContext.SendActivityAsync(message, cancellationToken: cancellationToken);\n    }\n</code></pre>\n"}], "owner": {"reputation": 2292, "user_id": 1253500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQjwI.png?s=128&g=1", "display_name": "The Memebot", "link": "https://stackoverflow.com/users/1253500/the-memebot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1579213455, "creation_date": 1565802824, "question_id": 57499241, "link": "https://stackoverflow.com/questions/57499241/cannot-pass-arguments-to-a-botcallback-inside-a-continueconversationasync-method", "title": "Cannot pass arguments to a BotCallback inside a ContinueConversationAsync method", "body": "<p>I am trying to implement proactive messages on bot framework v4, It works, but only with the string on the BotCallback function, I need to pass custom text but ContinueConversationAsync doesnt seems to allow it</p>\n\n<pre><code>        public async Task&lt;bool&gt; SendProactiveMessage(MensajeExterno mensajeExterno)\n    {\n\n            var referenciaDeConversacion = ObtenerReferenciaConversacion(mensajeExterno.ConversationId);\n            var continuationActivity = referenciaDeConversacion.GetContinuationActivity();\n            if (referenciaDeConversacion == null) return false;\n\n\n            await ((BotAdapter)_adapter).ContinueConversationAsync(_appId, referenciaDeConversacion, BotCallback, default(CancellationToken));\n\n            return true;\n\n    }\n\n    private ConversationReference ObtenerReferenciaConversacion(string conversationId)\n    {\n        return new ConversationReferenceModulo().ObtenerConversationReference(conversationId);\n    }\n\n    public MensajeroDefaultModulo(IBotFrameworkHttpAdapter adapter, IConfiguration configuration)\n    {\n        _adapter = adapter;\n        _appId = configuration[\"MicrosoftAppId\"];\n\n        if (string.IsNullOrEmpty(_appId))\n        {\n            _appId = Guid.NewGuid().ToString(); //if no AppId, use a random Guid\n        }\n    }\n\n    private async Task BotCallback(ITurnContext turnContext, CancellationToken cancellationToken)\n    {\n        var activity = turnContext.Activity;\n        await turnContext.SendActivityAsync(\"proactive hello\", cancellationToken: cancellationToken);\n    }\n</code></pre>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc", "asp.net-core"], "answers": [{"tags": [], "owner": {"reputation": 3424, "user_id": 2557682, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/bed9a0a24d4e3a543de6869d1267175d?s=128&d=identicon&r=PG", "display_name": "crgolden", "link": "https://stackoverflow.com/users/2557682/crgolden"}, "is_accepted": false, "score": 1, "last_activity_date": 1565812218, "creation_date": 1565812218, "answer_id": 57501142, "question_id": 57499215, "link": "https://stackoverflow.com/questions/57499215/how-to-pass-javascript-dictionary-to-controller-where-c-dictionary-value-is-an/57501142#57501142", "title": "How to pass Javascript dictionary to controller where C# dictionary value is an object", "body": "<p>I don't think you can bind to <code>object</code> as a parameter (or <code>Dictionary</code> value type) because:</p>\n\n<blockquote>\n  <p>A complex type must have a public default constructor and public writable properties to bind. When model binding occurs, the class is instantiated using the public default constructor.</p>\n</blockquote>\n\n<p>I think you could either strongly type your <code>object</code> (which sounds like it's not an option for you) or change your endpoint to take all its relevant properties distinctly as simple types (<code>string</code>, <code>bool</code>, <code>int</code>, etc.).</p>\n\n<p>Reference: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/models/model-binding#complex-types\" rel=\"nofollow noreferrer\">Model Binding in ASP.NET Core</a></p>\n"}, {"tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": false, "score": 2, "last_activity_date": 1565866434, "creation_date": 1565866434, "answer_id": 57508576, "question_id": 57499215, "link": "https://stackoverflow.com/questions/57499215/how-to-pass-javascript-dictionary-to-controller-where-c-dictionary-value-is-an/57508576#57508576", "title": "How to pass Javascript dictionary to controller where C# dictionary value is an object", "body": "<p>You could custom a <code>DictionaryModelBinder</code> like below :</p>\n\n<pre><code> public class DictionaryModelBinder:IModelBinder\n{\n    public  Task BindModelAsync(ModelBindingContext bindingContext)\n    {\n        if (bindingContext == null)\n            throw new ArgumentNullException(nameof(bindingContext));\n\n        var result = new Dictionary&lt;string, object&gt; {};\n        var form = bindingContext.HttpContext.Request.Form;\n        if (form==null)\n        {\n            bindingContext.ModelState.AddModelError(\"FormData\", \"The data is null\");\n            return Task.CompletedTask;\n        }\n        foreach ( var k in form.Keys){\n            StringValues v = string.Empty;\n            var flag = form.TryGetValue(k, out v);\n            if (flag)\n            { \n                result.Add(k, v );\n            }\n        }\n\n        bindingContext.Result = ModelBindingResult.Success(result);\n        return Task.CompletedTask;\n    }\n}\n</code></pre>\n\n<p>Controller :</p>\n\n<pre><code>[HttpPost]\n    public IActionResult Foo([ModelBinder(BinderType = typeof(DictionaryModelBinder))]Dictionary&lt;string, object&gt; things)\n    {\n        // the stuff you want\n    }\n</code></pre>\n"}], "owner": {"reputation": 2241, "user_id": 176536, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e48533e9bafd4e23c2c67aed41a0f164?s=128&d=identicon&r=PG", "display_name": "JustLooking", "link": "https://stackoverflow.com/users/176536/justlooking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565866434, "creation_date": 1565802706, "last_edit_date": 1565805098, "question_id": 57499215, "link": "https://stackoverflow.com/questions/57499215/how-to-pass-javascript-dictionary-to-controller-where-c-dictionary-value-is-an", "title": "How to pass Javascript dictionary to controller where C# dictionary value is an object", "body": "<p>Imagine this Javascript dictionary:</p>\n\n<pre><code>var things = {};\nthings['1'] = 10;\nthings['2'] = 11;\n</code></pre>\n\n<p>Here's a little bit of ajax code:</p>\n\n<pre><code>$.ajax({\n    url: '/Controller/Foo',\n    type: 'POST',\n    data: {\n        things: things\n    },\n</code></pre>\n\n<p>Here's something that works:</p>\n\n<pre><code>[HttpPost]\npublic IActionResult Foo(Dictionary&lt;string, int&gt; things)\n</code></pre>\n\n<p>things will show that 1 maps to 10 and 2 maps to 11.</p>\n\n<p>Here's something that DOES NOT work:</p>\n\n<pre><code>[HttpPost]\npublic IActionResult Foo(Dictionary&lt;string, object&gt; things)\n</code></pre>\n\n<p>things will show that 1 maps to null and 2 maps to null.</p>\n\n<p>I can not change the Dictionary types.  In reality, that Dictionary is part of a complex object that is used throughout the application (on the C# side of things).  What you are looking at is a dumbed-down example.</p>\n\n<p>In addition, JSON.stringify does not help at all.  In fact, if I stringify the dictionary I get a count of 0, with no values.</p>\n\n<p>Using C# to express my point, I think the expectation is more this (than what is currently happening):</p>\n\n<pre><code>int x = 5;\nobject foo = (object)x;\n</code></pre>\n\n<p>The dictionary was defined like this because one could be doing:</p>\n\n<pre><code>things[key] = 1;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>things[key] = \"string\";\n</code></pre>\n\n<p>that's why it was declared as an object.</p>\n\n<p>I am using ASP.NET Core if that matters (and jquery 3.4.1).</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "asp.net", "selenium-webdriver", "browsermob-proxy", "har"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1565803274, "post_id": 57499210, "comment_id": 101468196, "body": "Seen the example <a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools.network/getHAR\" rel=\"nofollow noreferrer\">here</a>?"}, {"owner": {"reputation": 51, "user_id": 773523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61c1d67d3f17973941d0adfc2854f543?s=128&d=identicon&r=PG", "display_name": "cocacho", "link": "https://stackoverflow.com/users/773523/cocacho"}, "edited": false, "score": 0, "creation_date": 1593546707, "post_id": 57499210, "comment_id": 110818894, "body": "How did you create the server? I have been looking for the C# version of browsermob but could nt find anything. Thanks in advance"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 2713677, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/adcb69e2e3eef8c0aa7aa4e003149751?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/2713677/john"}, "edited": false, "score": 0, "creation_date": 1606537174, "post_id": 57530919, "comment_id": 114996063, "body": "What do you use for using for Server and Client?  I can&#39;t get them to be recognized and the one way I can with a Microsoft library installs a boat load of stuff and doesn&#39;t support the Stop() method so probably the wrong library to link"}], "tags": [], "owner": {"reputation": 21, "user_id": 11928475, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4UVrsxlhCU0/AAAAAAAAAAI/AAAAAAAAACM/TqcRbPc45sg/photo.jpg?sz=128", "display_name": "Peng Yang", "link": "https://stackoverflow.com/users/11928475/peng-yang"}, "is_accepted": false, "score": 1, "last_activity_date": 1565988369, "creation_date": 1565988369, "answer_id": 57530919, "question_id": 57499210, "link": "https://stackoverflow.com/questions/57499210/c-why-does-browsermob-gethar-only-return-1-entry/57530919#57530919", "title": "C# - Why does BrowserMob.GetHar() only return 1 entry?", "body": "<p>Not sure why, but the issue has been resolved by adding SSL proxy:</p>\n\n<p>var seleniumProxy = new Proxy { HttpProxy = client.SeleniumProxy , SslProxy = client.SeleniumProxy };</p>\n\n<p>Hopefully this can help someone who is dealing with the same issue.... thanks!</p>\n"}], "owner": {"reputation": 21, "user_id": 11928475, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4UVrsxlhCU0/AAAAAAAAAAI/AAAAAAAAACM/TqcRbPc45sg/photo.jpg?sz=128", "display_name": "Peng Yang", "link": "https://stackoverflow.com/users/11928475/peng-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1265, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1576150820, "creation_date": 1565802685, "last_edit_date": 1576150820, "question_id": 57499210, "link": "https://stackoverflow.com/questions/57499210/c-why-does-browsermob-gethar-only-return-1-entry", "title": "C# - Why does BrowserMob.GetHar() only return 1 entry?", "body": "<p>I am writing some simple C# code to try automatically getting HAR file from Chrome browser. I am using browser-mob-proxy and there is a function: GetHar() which is supposed to return some different entries of URL, request and response time, etc. However, it always return me only 1 entry which is the original URL I am negativing to: www.google.com</p>\n\n<p>I've tried to use dr.Navigate().Refresh() to make sure the page is reloaded so there are some activities on chrome DevTool Network section.</p>\n\n<pre><code>        server.Start();\n        Thread.Sleep(1000);\n        Client client = server.CreateProxy();\n        client.NewHar(\"google\");\n        var chromeOptions = new ChromeOptions();\n        var seleniumProxy = new Proxy { HttpProxy = client.SeleniumProxy };\n        chromeOptions.Proxy = seleniumProxy;\n        var dr = new ChromeDriver(chromeOptions);       \n\n        dr.Navigate().GoToUrl(\"http://www.google.com\");\n        dr.FindElementByClassName(\"gb_e\").Click();\n\n        Thread.Sleep(3500);\n        dr.Navigate().Refresh();\n\n\n        // Get the performance stats\n        HarResult harData = client.GetHar();\n        Log log = harData.Log;\n        Entry[] entries = log.Entries;\n\n        foreach (var e in entries)\n        {\n            Request request = e.Request;\n            Response response = e.Response;\n            var url = request.Url;\n            var time = e.Time;\n            var status = response.Status;\n            var testStr = \"Url: \" + url + \" - Time: \" + time + \" Response: \" + status;\n        }\n</code></pre>\n\n<p>I expected GetHar() function will return more entries instead of only 1.</p>\n"}, {"tags": ["c#", "wpf", "vb.net", "events"], "comments": [{"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 1, "creation_date": 1565810899, "post_id": 57499173, "comment_id": 101471159, "body": "You&#39;re missing a piece of the event handler, take it from <a href=\"https://stackoverflow.com/a/52685685/7444103\">here</a> (you need to invoke <code>OnOpenAccountOpeningPreviewEvent?.Invoke(this, e);</code>, of course. Maybe also change <code>OnOpenAccountOpeningPreviewEvent</code> to <code>OpenAccountOpeningPreviewEvent</code> and use the <code>On</code> prefix for the hadler itself). Also, verify that the UC&#39;s handle is already created when you <code>Invoke</code> the event (don&#39;t use the UC&#39;s constructor, that is)."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1565870302, "post_id": 57499173, "comment_id": 101486195, "body": "Where do you hook up the event handler?"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 4066771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6660339d6c25e1f63bc3d2e9bb5910f3?s=128&d=identicon&r=PG&f=1", "display_name": "CarlGanz", "link": "https://stackoverflow.com/users/4066771/carlganz"}, "is_accepted": false, "score": 0, "last_activity_date": 1566229631, "creation_date": 1566229631, "answer_id": 57560073, "question_id": 57499173, "link": "https://stackoverflow.com/questions/57499173/having-trouble-firing-an-event-in-one-form-to-be-handled-in-another/57560073#57560073", "title": "Having trouble firing an event in one form to be handled in another", "body": "<p>Here is the solution:</p>\n\n<p>In the main VB.NET app set up the event handler</p>\n\n<pre><code>Dim oViewControl As AccountOpening = New AccountOpening()\n\nAddHandler oViewControl.Escalate, AddressOf OpenAccountOpeningPreview\n</code></pre>\n\n<p>and create the handler method:</p>\n\n<pre><code>Function OpenAccountOpeningPreview(sender As Object,e As UCEventArgs) \n\n    DIm oPreviewOnBoardingContentPane as ContentPane  = new ContentPane()\n\n    oPreviewOnBoardingContentPane.Name = \"PreviewOnBoardingDocuments\"\n    oPreviewOnBoardingContentPane.TabHeader = \"Preview OnBoarding Documents\"\n    oPreviewOnBoardingContentPane.AllowDocking = true\n    oPreviewOnBoardingContentPane.AllowFloatingOnly = true\n    oPreviewOnBoardingContentPane.AllowClose = true\n    oPreviewOnBoardingContentPane.Content = e.UCReference\n    oPreviewOnBoardingContentPane.TabHeaderTemplate = CType(Resources(\"TabTemplate\"), DataTemplate)\n\n    DockGroup.Items.Add(oPreviewOnBoardingContentPane) //Using Infragistics tab\n\n    oPreviewOnBoardingContentPane.Visibility = Visibility.Visible\n    oPreviewOnBoardingContentPane.Activate()\n\nEnd Function\n</code></pre>\n\n<p>In the C# project, create and event handler with an EventArgs object like this:</p>\n\n<pre><code>public class UCEventArgs : EventArgs\n{\n    public AccountOpeningPreview UCReference { get; set; }\n\n    public UCEventArgs(AccountOpeningPreview reference)\n    {\n        UCReference = reference;\n    }\n}\n\npublic event EventHandler&lt;UCEventArgs&gt; Escalate;\n\nprotected virtual void OnEscalate(UCEventArgs e)\n{\n    var handler = Escalate;\n    if (handler != null)\n    {\n        handler(this, e);\n    }\n}\n</code></pre>\n\n<p>Then, when the user presses the button to open the form, use this code to fire the event:</p>\n\n<pre><code>AccountOpeningPreview accountOpeningPreview = new AccountOpeningPreview();\naccountOpeningPreview.BOClientIdList = String.Join(\",\", BOClientIdList.ToArray());\naccountOpeningPreview.FICode = _fi_code;\naccountOpeningPreview.Visibility = Visibility.Visible;\n\nOnEscalate(new UCEventArgs(accountOpeningPreview));\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 4066771, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/6660339d6c25e1f63bc3d2e9bb5910f3?s=128&d=identicon&r=PG&f=1", "display_name": "CarlGanz", "link": "https://stackoverflow.com/users/4066771/carlganz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566229631, "creation_date": 1565802520, "question_id": 57499173, "link": "https://stackoverflow.com/questions/57499173/having-trouble-firing-an-event-in-one-form-to-be-handled-in-another", "title": "Having trouble firing an event in one form to be handled in another", "body": "<p>We have an older WPF app that was written in VB.NET that has newer projects in C#. The main app (VB.NET) has a tab form that displays  newly opened user controls in separate tabs. Currently, the reference to the main tab form is being passed to other proejcts via tight coupling. This we are trying to remove.</p>\n\n<p>Here is where I am stuck:</p>\n\n<p>The main app has a form called AdminMain.xaml.vb</p>\n\n<p>I added an event handler here like this:</p>\n\n<pre><code>Public Event OnOpenAccountOpeningPreviewEvent(accountOpeningPreview As AccountOpeningPreview)\n</code></pre>\n\n<p>The event handler itself looks like this:</p>\n\n<pre><code>Function OpenAccountOpeningPreview(accountOpeningPreview As AccountOpeningPreview)  Handles Me.OnOpenAccountOpeningPreviewEvent\n\n    DIm oPreviewOnBoardingContentPane as ContentPane  = new ContentPane()\n    Dim sPreviewOnBoardingName as string = \"Preview OnBoarding Documents\"\n\n    oPreviewOnBoardingContentPane.Content = accountOpeningPreview\n\n    oPreviewOnBoardingContentPane.Activate()\n\nEnd Function\n</code></pre>\n\n<p>In the Loaded event of the AdminMain.xaml.vb user control I'm doing this:</p>\n\n<pre><code>Dim accountOpening = new AccountOpening()\n\nAddHandler accountOpening.OnOpenAccountOpeningPreviewEvent, New AccountOpening.AccountOpeningPreviewEventHandler(AddressOf OpenAccountOpeningPreview)\n</code></pre>\n\n<p>In a separate project (C#) I have a user control called AccountOpening.xaml.cs that opens just fine in the tab because it is instantiated from the main VB.NET app. However, AccountOpening.xaml.cs needs to open AccountOpeningPreview.xaml.cs which is another C# user control in the same C# project as AccountOpening.</p>\n\n<p>Here I have defined the event handlers like this:</p>\n\n<pre><code>public delegate void AccountOpeningPreviewEventHandler(AccountOpeningPreview sender);\npublic event AccountOpeningPreviewEventHandler OnOpenAccountOpeningPreviewEvent;\n</code></pre>\n\n<p>and when the AccountOpeningPreview user control is launched the code to do so looks like this:</p>\n\n<pre><code>AccountOpeningPreview accountOpeningPreview = new AccountOpeningPreview();\naccountOpeningPreview.BOClientIdList = String.Join(\",\", BOClientIdList.ToArray());\naccountOpeningPreview.FICode = _fi_code;\naccountOpeningPreview.Visibility = Visibility.Visible;\n\nif (OnOpenAccountOpeningPreviewEvent != null)\n    OnOpenAccountOpeningPreviewEvent(accountOpeningPreview);\n</code></pre>\n\n<p>One problem is that OnOpenAccountOpeningPreviewEvent is always null and cannot fire the event call that would raise the event in AdminMain (VB.NET project)</p>\n\n<p>Its been a while since I've needed to do this so I'm probably missing something very simple.</p>\n\n<p>Any ideas on what I'm doing wrong?</p>\n\n<p>Thanks</p>\n\n<p>Carl</p>\n"}, {"tags": ["c#", "azure", "api", "soap", "api-gateway"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1565802932, "post_id": 57499152, "comment_id": 101468054, "body": "Hi, welcome to stack overflow. Please refer the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link for more details on how to ask a question and update your question accordingly. Any code?"}, {"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1565846380, "post_id": 57499152, "comment_id": 101478536, "body": "@rkrathna could you tell me what is &quot; soap request template&quot;. Is that you want to get the api definition file form Azure API management?"}, {"owner": {"reputation": 1, "user_id": 4390835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dnl5vinids0/AAAAAAAAAAI/AAAAAAAAANk/xaOtbqsfYsA/photo.jpg?sz=128", "display_name": "rkrathna", "link": "https://stackoverflow.com/users/4390835/rkrathna"}, "reply_to_user": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1565876911, "post_id": 57499152, "comment_id": 101489360, "body": "@Jim i&#39;m trying to consume my legacy WCF services as SOAP Pass-through in my client application with same implementation had for WCF services. I mentioned soap envelope request as soap request template"}], "owner": {"reputation": 1, "user_id": 4390835, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dnl5vinids0/AAAAAAAAAAI/AAAAAAAAANk/xaOtbqsfYsA/photo.jpg?sz=128", "display_name": "rkrathna", "link": "https://stackoverflow.com/users/4390835/rkrathna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1615896058, "creation_date": 1565802422, "question_id": 57499152, "link": "https://stackoverflow.com/questions/57499152/how-to-consume-soap-pass-through-service-from-azure-api-management-in-c", "title": "how to consume SOAP Pass-through service from Azure API management in c#", "body": "<p>i have hosted WCF service in Azure API management as SOAP Pass-through. Trying to consume this API from client which already has request to WCF service. How i can get soap request template</p>\n"}, {"tags": ["c#", "linq", "subset"], "comments": [{"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 1, "creation_date": 1565802626, "post_id": 57499140, "comment_id": 101467941, "body": "Good description but please include the code so we can better assess and try to help you!"}, {"owner": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "edited": false, "score": 2, "creation_date": 1565803385, "post_id": 57499140, "comment_id": 101468238, "body": "Are you aware of Expression trees? From what I know this is basically the technology that makes LINQ to basically anything possible: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/expression-trees/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}, {"owner": {"reputation": 1597, "user_id": 2480598, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/acb89dfa4b7ce335ed089e5f6d8ffa13?s=128&d=identicon&r=PG&f=1", "display_name": "pfinferno", "link": "https://stackoverflow.com/users/2480598/pfinferno"}, "reply_to_user": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "edited": false, "score": 0, "creation_date": 1565803672, "post_id": 57499140, "comment_id": 101468337, "body": "Updated with some code and a pic. @vdL I was not aware of these, I will take a look at them now. Thanks!"}, {"owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 1, "creation_date": 1565804140, "post_id": 57499140, "comment_id": 101468520, "body": "Checkout <code>System.Linq.Dynamic</code> nuget library they do a good job in meeting many of these conditions out of box or you surely need <code>ExpessionTrees</code> where you can create Binary expression and method call expression to achieve what you are targeting"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1565805102, "post_id": 57499140, "comment_id": 101468918, "body": "Can you provide a little more detail on the class in the collection - specifically, when you say &quot;contains a <code>Dictionary&lt;string, string&gt;</code> what does that mean programmatically?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1565805194, "post_id": 57499140, "comment_id": 101468951, "body": "I would consider using <a href=\"https://github.com/scottksmith95/LINQKit\" rel=\"nofollow noreferrer\">LINQKit</a> that provides helpers for building <code>Expression</code> trees for LINQ queries."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1565823308, "post_id": 57499140, "comment_id": 101474841, "body": "Note that comparing <code>Year</code> with string operators is unlikely to work as desired."}, {"owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 0, "creation_date": 1566111326, "post_id": 57499140, "comment_id": 101548335, "body": "Checkout the answer I have just posted, that provides a step by step way to construct the Linq Expressions and using them in the logic"}], "answers": [{"comments": [{"owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "edited": false, "score": 0, "creation_date": 1565877069, "post_id": 57499740, "comment_id": 101489449, "body": "Your construction of the Expression tree is not correct as its manual if else, this shall be able to construct the Expression tree automatically, whether Binary or Method Call Expression"}], "tags": [], "owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "is_accepted": false, "score": 1, "last_activity_date": 1565805064, "creation_date": 1565805064, "answer_id": 57499740, "question_id": 57499140, "link": "https://stackoverflow.com/questions/57499140/dynamically-building-linq-queries-from-string/57499740#57499740", "title": "Dynamically building LINQ queries from string", "body": "<p>You should be able to use Linq Expressions (<code>System.Linq.Expressions</code>) and leverage predicates to handle your filtering. </p>\n\n<pre><code>public IQueryable&lt;Car&gt; GetCars(Expression&lt;Func&lt;Car, bool&gt;&gt; filter)\n{\n   return context.Cars.Where(filter);\n}\n</code></pre>\n\n<p>That said, the challenge will be to build your predicate expressions based off of your custom <code>QueryClass</code> object. To handle the filter on each Dictionary you can create a method to handle each:</p>\n\n<pre><code>public Expression&lt;Func&lt;Car, bool&gt;&gt; GetModelFilter(QueryClass modelQuery)\n{\n    return modelQuery.Operator == \"CONTAINS\"? car =&gt; car.Model.Contains(modelQuery.Value) : car =&gt; car.Model == modelQuery.Value;\n}\n</code></pre>\n\n<p>Considering you have a limited amount of filters, the above may be acceptable. However, when dealing with a large set this can also be done more dynamically, using reflection or a dynamic predicate builder but for simplicity you can follow the above. </p>\n\n<p>HTH</p>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 2, "last_activity_date": 1565824118, "creation_date": 1565824118, "answer_id": 57503096, "question_id": 57499140, "link": "https://stackoverflow.com/questions/57499140/dynamically-building-linq-queries-from-string/57503096#57503096", "title": "Dynamically building LINQ queries from string", "body": "<p>Here is my implementation of converting your query into a <code>Func</code>. Since I wasn't sure what type was in your collection, I made an interface to represent objects that had an <code>attributes</code> <code>Dictionary&lt;string, string&gt;</code> and processed that.</p>\n\n<p>Basically I added a method to <code>QueryClass</code> to convert it to an <code>Expression</code>. It uses a helper dictionary string->lambda that builds the appropriate comparison <code>Expression</code> for each operator.\nThen I added a class to convert the <code>List&lt;object&gt;</code> into a <code>Func&lt;IItem,bool&gt;</code> suitable for a LINQ <code>Where</code> filter.</p>\n\n<pre><code>public interface IItem {\n    Dictionary&lt;string, string&gt; attributes { get; set; }\n}\n\nclass QueryClass {\n    public string FieldName { get; set; }\n    public string Operator { get; set; }\n    public object Value { get; set; }\n\n    public QueryClass(string pInput) {\n        var returned = RegexHelpers.SplitKeyValue(pInput); //just returns a string like \"Make = Honda\" into three parts\n        if (returned != null) {\n            FieldName = returned.Item1;\n            Operator = returned.Item2;\n            Value = returned.Item3;\n        }\n    }\n\n    static MethodInfo getItemMI = typeof(Dictionary&lt;string, string&gt;).GetMethod(\"get_Item\");\n    static Dictionary&lt;string, Func&lt;Expression, Expression, Expression&gt;&gt; opTypes = new Dictionary&lt;string, Func&lt;Expression, Expression, Expression&gt;&gt; {\n        { \"==\", (Expression lhs, Expression rhs) =&gt; Expression.MakeBinary(ExpressionType.Equal, lhs, rhs) },\n        { \"&gt;=\", (Expression lhs, Expression rhs) =&gt; Expression.MakeBinary(ExpressionType.GreaterThanOrEqual, Expression.Call(lhs, typeof(String).GetMethod(\"CompareTo\", new[] { typeof(string) }), rhs), Expression.Constant(0)) },\n        { \"CONTAINS\",  (Expression lhs, Expression rhs) =&gt; Expression.Call(lhs, typeof(String).GetMethod(\"Contains\"), rhs) }\n    };\n    static MemberInfo attribMI = typeof(IItem).GetMember(\"attributes\")[0];\n\n    public Expression AsExpression(ParameterExpression p) {\n        var dictField = Expression.MakeMemberAccess(p, attribMI);\n        var lhs = Expression.Call(dictField, getItemMI, Expression.Constant(FieldName));\n        var rhs = Expression.Constant(Value);\n\n        if (opTypes.TryGetValue(Operator, out var exprMakerFn))\n            return exprMakerFn(lhs, rhs);\n        else\n            throw new InvalidExpressionException($\"Unrecognized operator {Operator}\");\n    }\n}\n\npublic class LinqBuilder {\n    static Type TItems = typeof(IItem);\n\n    static Expression BuildOneLINQ(object term, ParameterExpression parm) {\n        switch (term) {\n            case QueryClass qc: // d =&gt; d[qc.FieldName] qc.Operator qc.Value\n                return qc.AsExpression(parm);\n            case List&lt;object&gt; subQuery:\n                return BuildLINQ(subQuery, parm);\n            default:\n                throw new Exception();\n        }\n    }\n\n    static Expression BuildLINQ(List&lt;object&gt; query, ParameterExpression parm) {\n        Expression body = null;\n        for (int queryIndex = 0; queryIndex &lt; query.Count; ++queryIndex) {\n            var term = query[queryIndex];\n            switch (term) {\n                case string op:\n                    var rhs = BuildOneLINQ(query[++queryIndex], parm);\n                    var eop = (op == \"AND\") ? ExpressionType.AndAlso : ExpressionType.OrElse;\n                    body = Expression.MakeBinary(eop, body, rhs);\n                    break;\n                default:\n                    body = BuildOneLINQ(term, parm);\n                    break;\n            }\n        }\n\n        return body;\n    }\n\n    public static Func&lt;IItem, bool&gt; BuildLINQ(List&lt;object&gt; query) {\n        var parm = Expression.Parameter(TItems, \"i\");\n        return Expression.Lambda&lt;Func&lt;IItem, bool&gt;&gt;(BuildLINQ(query, parm), parm).Compile();\n    }\n}\n</code></pre>\n\n<p>Once you have this, you can pass in a <code>List&lt;object&gt;</code> expression and then filter your collection. Given a query <code>q</code> and a collection of <code>IItem</code>s <code>cs</code>, you can do:</p>\n\n<pre><code>var ans = cs.Where(LinqBuilder.BuildLINQ(q));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10673, "user_id": 1559611, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/qdeap.jpg?s=128&g=1", "display_name": "Mrinal Kamboj", "link": "https://stackoverflow.com/users/1559611/mrinal-kamboj"}, "is_accepted": false, "score": 1, "last_activity_date": 1566111270, "creation_date": 1566111270, "answer_id": 57542342, "question_id": 57499140, "link": "https://stackoverflow.com/questions/57499140/dynamically-building-linq-queries-from-string/57542342#57542342", "title": "Dynamically building LINQ queries from string", "body": "<p>I would approach this problem little differently, since what you are already having is <code>List&lt;object&gt;</code>, which internally contain a <code>QueryClass</code> containing all the relevant fields containing information, <code>FieldName</code>,<code>Operator</code> and <code>Value</code>, where you are aware which of the binary expressions have to be bundled in a parentheses. Important point is how can you create a Run-time Expression to take care of all kinds of scenarios.</p>\n\n<p>Following is a sample to mimic your scenario:</p>\n\n<p><strong>Sample Class</strong></p>\n\n<pre><code>public class Car\n{\n    public string Make {get; set;}\n\n    public string Model {get; set;}\n\n    public int Year {get; set;}\n}\n</code></pre>\n\n<p><strong>Query</strong></p>\n\n<pre><code>((c.Make.Equals(\"Honda\") AndAlso c.Model.Contains(\"Civic\")) Or (c.Year &gt;= 2015))\n</code></pre>\n\n<p><strong>Linqpad Code</strong></p>\n\n<pre><code>void Main()\n{\n    var cars = new List&lt;Car&gt;();\n\n    Expression&lt;Func&lt;Car,bool&gt;&gt; e1 = c =&gt; c.Make.Equals(\"Honda\");\n\n    Expression&lt;Func&lt;Car,bool&gt;&gt; e2 = c =&gt; c.Model.Contains(\"Civic\");\n\n    Expression&lt;Func&lt;Car,bool&gt;&gt; e3 = c =&gt; c.Year &gt;= 2015;\n\n    var expr1 = Expression.AndAlso(e1.Body,e2.Body);\n\n    var expr2 = e3;\n\n    var finalExpression = Expression.Or(expr1,expr2.Body);\n\n    finalExpression.Dump();\n}\n</code></pre>\n\n<p><strong>Purpose</strong></p>\n\n<p>As it can be seen that I have manually constructed the Expressions and finally <code>Dump</code> the final expression, since in Linqpad it provides a graphical representation of how shall the Expression be constructed dynamically, overall image is too big and deep to be pasted here (you may try yourself using LinqPad), but following are the relevant details:</p>\n\n<ol>\n<li><p>Create a <code>ParameterExpression</code>, this acts as a lambda parameter representing the Car class object (this is independent of the fields of the Query class)    </p>\n\n<p><code>var parameterExpression = Expression.Parameter(typeof(Car),\"c\");</code></p></li>\n<li><p>Create <code>MemberExpression</code> to access each relevant field of the Car class, which is used in the Query (this one needs Field property of the Query class)</p>\n\n<pre><code>var makeMemberAccessExpression = Expression.MakeMemberAccess(parameterExpression, typeof(Car).GetProperty(\"Make\"));\n\nvar modelMemberAccessExpression = Expression.MakeMemberAccess(parameterExpression, typeof(Car).GetProperty(\"Model\"));\n\nvar yearMemberAccessExpression = Expression.MakeMemberAccess(parameterExpression, typeof(Car).GetProperty(\"Year\"));\n</code></pre></li>\n<li><p>Completing the Expression:</p></li>\n</ol>\n\n<p>a.) <code>c =&gt; c.Make.Equals(\"Honda\")</code> we create as follows: (this one needs <code>Value</code> property of the <code>QueryClass</code>)</p>\n\n<pre><code>var makeConstantExpression = Expression.Constant(\"Honda\");\n\nvar makeEqualExpression = Expression.Equal(makeMemberAccessExpression, makeConstantExpression);\n</code></pre>\n\n<p>b.) <code>c.Model.Contains(\"Civic\")</code> can be represented as follows here we need supply the MethodInfo for the <code>string Contains</code> method and create a MethodCallEXpression</p>\n\n<pre><code>var modelConstantExpression = Expression.Constant(\"Civic\");\n\nvar stringContainsMethodInfo = typeof(string).GetMethod(\"Contains\", new[] { typeof(string) });\n\nvar modelContainsMethodExpression = Expression.Call(modelMemberAccessExpression, stringContainsMethodInfo, modelConstantExpression);\n</code></pre>\n\n<p>c.) <code>c.Year &gt;= 2015</code> can simply projected as:</p>\n\n<pre><code>var yearConstantExpression = Expression.Constant(2015);\n\nvar yearGreaterThanEqualExpression = Expression.GreaterThanOrEqual(yearMemberAccessExpression, yearConstantExpression);\n</code></pre>\n\n<ol start=\"4\">\n<li>Combining all together to form the Composite Expression:</li>\n</ol>\n\n<p>Expressions a.) and b.) are combined together as follows:</p>\n\n<pre><code>((c.Make.Equals(\"Honda\") AndAlso c.Model.Contains(\"Civic\"))\n\nvar firstExpression = Expression.AndAlso(makeEqualExpression,modelContainsMethodExpression);\n</code></pre>\n\n<p>Expression c.) is independent:</p>\n\n<pre><code>c.Year &gt;= 2015\nvar secondExpression = yearGreaterThanEqualExpression;\n</code></pre>\n\n<ol start=\"5\">\n<li><p>Final <code>Combined Expression</code> and Creation a <code>Func Delegate</code></p>\n\n<pre><code>// Expressions combined via Or (||)\nvar finalCombinedExpression = Expression.Or(firstExpression,secondExpression);\n\n// Create Lambda Expression\nvar lambda = Expression.Lambda&lt;Func&lt;Car,bool&gt;&gt;(finalCombinedExpression, parameterExpression);\n\n// Create Func delegate via Compilation\nvar func = lambda.Compile();\n</code></pre></li>\n</ol>\n\n<p><code>func</code> delegate thus can be used in any of the where clause in the <code>Linq</code>, which expects <code>Func&lt;Car,bool&gt;</code></p>\n\n<p><strong>Design Suggestions</strong></p>\n\n<ol>\n<li>Using the explanation above and values from the Query Class placeholders or directly from the Dictionary it is feasible to create any number of Expressions to be used dynamically in the code, to be compiled and used as a Func delegate</li>\n<li>Binary expressions like <code>Equal, GreaterThan, LessThan, LessThanOrEqual,GreaterThanOrEqual</code> are all exposed by the Expression trees to be used directly, For method like <code>Contains</code> available by default you need Reflection to get theb <code>MethodInfo</code>, similarly it can be done for the Static methods, just that there's object expressions</li>\n<li>All Expressions expect values to be supplied Left to Right in the correct order, it cannot be random or incorrect order, else it will fail at run-time.</li>\n<li>In your case, since you have few queries combined in parentheses and few independent, I would recommend creating multiple <code>List&lt;Expression&gt;</code>, where each List is combined in parentheses using <code>AndAlso</code> or <code>OrElse</code> and each list can thus be combined using <code>And / Or</code></li>\n</ol>\n\n<p>By this approach you shall be able to construct very complex requirements at runtime using Linq Expressions.</p>\n"}], "owner": {"reputation": 1597, "user_id": 2480598, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/acb89dfa4b7ce335ed089e5f6d8ffa13?s=128&d=identicon&r=PG&f=1", "display_name": "pfinferno", "link": "https://stackoverflow.com/users/2480598/pfinferno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 1, "accepted_answer_id": 57503096, "answer_count": 3, "score": 1, "last_activity_date": 1566111270, "creation_date": 1565802383, "last_edit_date": 1565803640, "question_id": 57499140, "link": "https://stackoverflow.com/questions/57499140/dynamically-building-linq-queries-from-string", "title": "Dynamically building LINQ queries from string", "body": "<p>Here's my scenario:</p>\n\n<p>There is a collection of objects where each object contains a <code>Dictionary&lt;string, string&gt;</code>. The user can build a set of queries for this collection from another app to obtain a subset by selecting a <code>Key</code> in the <code>Dictionary</code>, an operator such as <code>&gt;</code> or <code>CONTAINS</code>, etc., and a <code>Value</code>. They can also balance parenthesis to create groups of queries and select <code>AND/OR</code> operators to combine the queries. </p>\n\n<p>As an example, let's say I have a collection of <code>Car</code> objects and the <code>Dictionary</code> contains keys for <code>Make</code>, <code>Model</code>, and <code>Year</code>.</p>\n\n<p>My app is getting these queries in the form of a string like so:</p>\n\n<p><code>\"((Make = Honda) AND (Model CONTAINS Civic)) || (Year &gt;= 2015)\"</code></p>\n\n<p>This tells me that from the collection of <code>Car</code> objects that I want cars that have <code>Dictionary</code> keys/values of <code>&lt;Make, Honda&gt;</code> and <code>&lt;Model, anything that contains \"Civic\"&gt;</code> OR <code>&lt;Year, greater than or equal to 2015&gt;</code></p>\n\n<p>So, I parse these out and put them into a <code>QueryClass</code> containing three string fields for the <code>Key</code>, the <code>Operator</code>, and the <code>Value</code>. I also keep track of the operator between the queries, and if they are in a group of parentheses or not.</p>\n\n<p>Currently, I have to go through each <code>QueryClass</code> one by one performing the query, checking what the previous operator was, if it's part of a group, etc. and combining collections over and over until it reaches the end. This is tedious and seems like an awful way to do things. If there was a way to build these LINQ queries dynamically or perform SQL statements (what these are essential) on this collection it would be better.</p>\n\n<p>Here's my query class that I'm storing the parsed strings in:</p>\n\n<pre><code>class QueryClass\n{\n    public string FieldName { get; set; }\n    public string Operator { get; set; }\n    public object Value { get; set; }\n\n    public QueryClass(string pInput)\n    {\n        var returned = RegexHelpers.SplitKeyValue(pInput); //just returns a string like \"Make = Honda\" into three parts\n        if (returned != null)\n        {\n            FieldName = returned.Item1;\n            Operator = returned.Item2;\n            Value = returned.Item3;\n        }\n    }\n}\n</code></pre>\n\n<p>My parsing class is pretty long so I won't post the whole thing but it returns a <code>List&lt;object&gt;</code> where each element is either:</p>\n\n<ul>\n<li>A <code>QueryClass</code></li>\n<li>\"AND\" or \"OR\"</li>\n<li>Another List which means it's a group of queries that were grouped by parentheses, containing the two choices above.</li>\n</ul>\n\n<p>Here's an example of the <code>List&lt;object&gt;</code> I get after parsing a string:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CV4Ku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CV4Ku.png\" alt=\"enter image description here\"></a></p>\n\n<p>I then just loop through each element, determine if the value is a double or string, and execute a LINQ statement on my collection. I'm checking if the operator was \"AND\" or \"OR\" (or none if it's just one query), if it's part of a group or not, and combining the results appropriately.</p>\n"}, {"tags": ["c#", "asp.net", "asynchronous"], "comments": [{"owner": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "edited": false, "score": 0, "creation_date": 1565802958, "post_id": 57499029, "comment_id": 101468064, "body": "As an aside, you should not use the Result property of the returned Task but await the PostAsync method."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9066337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958707f78d82a51925ac46f5f3855158?s=128&d=identicon&r=PG&f=1", "display_name": "dontspeak", "link": "https://stackoverflow.com/users/9066337/dontspeak"}, "edited": false, "score": 0, "creation_date": 1565807522, "post_id": 57499128, "comment_id": 101469907, "body": "Unfortunately not. It may respond 204, but the mentioned line of code throws the exception. And it was defnitelely not a network error. I know this because: After the exception was thrown and I requested again, the item was really purchased. That means, the call went trough and was executed. But the exception was thrown anyway."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 27, "user_id": 9066337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958707f78d82a51925ac46f5f3855158?s=128&d=identicon&r=PG&f=1", "display_name": "dontspeak", "link": "https://stackoverflow.com/users/9066337/dontspeak"}, "edited": false, "score": 0, "creation_date": 1565809267, "post_id": 57499128, "comment_id": 101470548, "body": "So yes, the request was processed, but the error is saying that the network connection was closed before you could get the response. That should not happen. There should be no exception if everything is working properly."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 1, "last_activity_date": 1565802330, "creation_date": 1565802330, "answer_id": 57499128, "question_id": 57499029, "link": "https://stackoverflow.com/questions/57499029/execute-postasync-with-empty-response/57499128#57499128", "title": "Execute PostAsync with empty response", "body": "<p>That is a network error.</p>\n\n<p>The documentation (<a href=\"https://docs.microsoft.com/en-us/windows/uwp/monetize/report-consumable-products-as-fulfilled\" rel=\"nofollow noreferrer\">this</a> is the English version) does say:</p>\n\n<blockquote>\n  <p>No content will be returned if the consumption was executed successfully.</p>\n</blockquote>\n\n<p>However, it also gives an <a href=\"https://docs.microsoft.com/en-us/windows/uwp/monetize/report-consumable-products-as-fulfilled#response-example\" rel=\"nofollow noreferrer\">example of a response</a>:</p>\n\n<pre><code>HTTP/1.1 204 No Content\nContent-Length: 0\nMS-CorrelationId: 386f733d-bc66-4bf9-9b6f-a1ad417f97f0\nMS-RequestId: e488cd0a-9fb6-4c2c-bb77-e5100d3c15b1\nMS-CV: 5.1\nMS-ServerId: 030011326\nDate: Tue, 22 Sep 2015 20:40:55 GMT\n</code></pre>\n\n<p>So it does respond, but with <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/204\" rel=\"nofollow noreferrer\">HTTP 204</a>.</p>\n\n<p>If you are not getting that response, then you have a network problem.</p>\n"}], "owner": {"reputation": 27, "user_id": 9066337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958707f78d82a51925ac46f5f3855158?s=128&d=identicon&r=PG&f=1", "display_name": "dontspeak", "link": "https://stackoverflow.com/users/9066337/dontspeak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565802330, "creation_date": 1565801851, "question_id": 57499029, "link": "https://stackoverflow.com/questions/57499029/execute-postasync-with-empty-response", "title": "Execute PostAsync with empty response", "body": "<p>For my UPW App with MS Store integration, my ASP.NET application does some calls to the Microsoft Store collection API:</p>\n\n<p><a href=\"https://docs.microsoft.com/de-de/windows/uwp/monetize/report-consumable-products-as-fulfilled\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/de-de/windows/uwp/monetize/report-consumable-products-as-fulfilled</a></p>\n\n<p>This API method has no return at all:</p>\n\n<p>\"<strong><em>Response</strong>:\nNo content will be returned if the consumption was executed successfully.</em>\"</p>\n\n<p>Which causes my following code:</p>\n\n<pre><code>HttpClient httpClient = new HttpClient();\nString content = \"...\";\nvar res = httpClient.PostAsync(\"https://collections.mp.microsoft.com/v6.0/collections/consume\", content).Result;\n</code></pre>\n\n<p>To throw an exception. Unfortunately I only have it in german, but it tells that from the connection no data could be read, and that the remote host has closed the connection.</p>\n\n<p>I think this is basically a \"feature\" and not a bug, because there <strong>really is no content</strong> to return. But I dont know how to get rid of the exception.</p>\n\n<p>Exception:\n<em>System.Net.Http.HttpRequestException: Fehler beim Senden der Anforderung. ---> System.Net.WebException: Die zugrunde liegende Verbindung wurde geschlossen: Unbekannter Fehler beim Empfangen.. ---> System.IO.IOException: Von der \u00dcbertragungsverbindung k\u00f6nnen keine Daten gelesen werden: Eine vorhandene Verbindung wurde vom Remotehost geschlossen. ---> System.Net.Sockets.SocketException: Eine vorhandene Verbindung wurde vom Remotehost geschlossen\n   bei System.Net.Sockets.Socket.BeginReceive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags, AsyncCallback callback, Object state)\n   bei System.Net.Sockets.NetworkStream.BeginRead(Byte[] buffer, Int32 offset, Int32 size, AsyncCallback callback, Object state)\n   --- Ende der internen Ausnahmestapel\u00fcberwachung ---\n   bei System.Net.Security._SslStream.EndRead(IAsyncResult asyncResult)\n ...</em></p>\n"}, {"tags": ["c#", ".net", "linq", "generics", "delegates"], "comments": [{"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1565803084, "post_id": 57499012, "comment_id": 101468114, "body": "Do you mean <i>&quot;only the handlers that <b>accept</b> a specific type&quot;</i>?"}, {"owner": {"reputation": 86, "user_id": 5686765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GyPlu.jpg?s=128&g=1", "display_name": "David Ehnis", "link": "https://stackoverflow.com/users/5686765/david-ehnis"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565803301, "post_id": 57499012, "comment_id": 101468204, "body": "Indeed- thanks for the clarifying question."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1565803650, "post_id": 57499012, "comment_id": 101468325, "body": "And which type&#39;s handler do you want to find? <code>Post</code> doesn&#39;t have a type argument or accept a <code>Type</code> parameter."}, {"owner": {"reputation": 86, "user_id": 5686765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GyPlu.jpg?s=128&g=1", "display_name": "David Ehnis", "link": "https://stackoverflow.com/users/5686765/david-ehnis"}, "reply_to_user": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565804346, "post_id": 57499012, "comment_id": 101468585, "body": "I was thinking that I would use IMessage message.GetType().  If that isn&#39;t possible, I could certainly add a type parameter to Post"}, {"owner": {"reputation": 817, "user_id": 1643705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f3edf21b5faebb41d4c7e1d7d52157?s=128&d=identicon&r=PG", "display_name": "Viktor Arsanov", "link": "https://stackoverflow.com/users/1643705/viktor-arsanov"}, "edited": false, "score": 2, "creation_date": 1565804459, "post_id": 57499012, "comment_id": 101468626, "body": "Is it an option to have List&lt;Delegate&gt;? And then in where you can check if delegate has type you need."}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1565804465, "post_id": 57499012, "comment_id": 101468628, "body": "You should include that in the question. It&#39;s not exactly impossible per se; it informs other parts of your design. For example, you <i>really</i> need <code>where T : IMessage</code> on your <code>Register</code> method for that to work."}, {"owner": {"reputation": 86, "user_id": 5686765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GyPlu.jpg?s=128&g=1", "display_name": "David Ehnis", "link": "https://stackoverflow.com/users/5686765/david-ehnis"}, "edited": false, "score": 0, "creation_date": 1565804630, "post_id": 57499012, "comment_id": 101468718, "body": "Viktor, I think I&#39;m tracking, but how would you check for type in Delegate?"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 1, "creation_date": 1565804986, "post_id": 57499012, "comment_id": 101468866, "body": "Still trying to drill in on what you&#39;re trying to do here... let&#39;s say you use <code>message.GetType()</code> and filter the handlers to those that accept that type, <code>Post</code> passes <code>message</code> to the handler in the first parameter as the concrete type (we&#39;ll figure that out later). How would it return an <code>IMessage</code>?  Would it return itself? Can you include an example usage of your <code>Post</code> method and an example class that implements <code>IMessage</code>?"}, {"owner": {"reputation": 817, "user_id": 1643705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82f3edf21b5faebb41d4c7e1d7d52157?s=128&d=identicon&r=PG", "display_name": "Viktor Arsanov", "link": "https://stackoverflow.com/users/1643705/viktor-arsanov"}, "edited": false, "score": 1, "creation_date": 1565804998, "post_id": 57499012, "comment_id": 101468871, "body": "Then if you know the type in compile-time could be e.g. var handlers = Handlers.OfType&lt;Func&lt;TArg, IMessage&gt;&gt;();"}, {"owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "edited": false, "score": 0, "creation_date": 1565805475, "post_id": 57499012, "comment_id": 101469073, "body": "You <i>could</i> change your handlers to be <code>Func&lt;IMessage, IMessage&gt;</code> since all your messages will have to implement <code>IMessage</code>. However, that means that your handler search will have to look at the <i>invocation list</i> to test the parameter type since the delegate instance will not have type information. You shouldn&#39;t have to deal with the invocation list, though. That&#39;s a bad idea."}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 2, "creation_date": 1565805709, "post_id": 57499012, "comment_id": 101469163, "body": "Can you please explain more about what you are trying to do instead of how you are trying to solve it? <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\" title=\"what is the xy problem\">meta.stackexchange.com/questions/66377/what-is-the-xy-proble&zwnj;&#8203;m</a>"}, {"owner": {"reputation": 86, "user_id": 5686765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GyPlu.jpg?s=128&g=1", "display_name": "David Ehnis", "link": "https://stackoverflow.com/users/5686765/david-ehnis"}, "reply_to_user": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1565806901, "post_id": 57499012, "comment_id": 101469656, "body": "@Jota, I&#39;m trying to build an in-process pub-subscriber pattern within a particular channel.  All the callee would have to do is to call the channel.Post(new RetrieveRecords()) and the registered handlers would of course handle the specific message."}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 2, "creation_date": 1565806979, "post_id": 57499012, "comment_id": 101469696, "body": "Update your question with the relevant comments please."}], "answers": [{"tags": [], "owner": {"reputation": 4214, "user_id": 5394572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H9Ql7.png?s=128&g=1", "display_name": "madreflection", "link": "https://stackoverflow.com/users/5394572/madreflection"}, "is_accepted": true, "score": 2, "last_activity_date": 1565810875, "creation_date": 1565810875, "answer_id": 57500892, "question_id": 57499012, "link": "https://stackoverflow.com/questions/57499012/how-to-use-a-linq-where-clause-on-a-list-of-func-delegates/57500892#57500892", "title": "How to use a LINQ where clause on a list of Func delegates", "body": "<p>I didn't initially see that you were wrapping the handler in a call to a less specific lambda instance.  That actually hides the type information you need for the filter.  Viktor's right about the list element type.  You need to add the handler instance directly, which requires a less specific delegate type (indeed, the least specific).</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>protected List&lt;Delegate&gt; Handlers { get; } = new List&lt;Delegate&gt;();\n</code></pre>\n\n<p>You don't need to fire off a background task to register the handler.  The operation isn't I/O-bound so <code>Register</code> can simply add the instance to the list.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public void Register&lt;T&gt;(Func&lt;T, IMessage&gt; handler)\n    where T : IMessage\n{\n    Handlers.Add(handler);\n}\n</code></pre>\n\n<p>You indicated that you want to use <code>message.GetType()</code> to get the type for the handlers you want to call.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>Type handlerArgumentType = message.GetType();\n</code></pre>\n\n<p>To test the handler, you need to get the type of the first argument and compare it to <code>handlerArgumentType</code>.  Because <code>Register&lt;T&gt;</code> requires a <code>Func&lt;T, IMessage&gt;</code>, you know that you'll have <strong>2</strong> type arguments, so you can index the array returned by <code>GetGenericArguments</code> without doing a length check first.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var handlers = Handlers.Where(h =&gt; h.GetType().GetGenericArguments()[0] == handlerArgumentType);\n</code></pre>\n\n<p>Here's where it gets tricky: <em>calling</em> the handler.  Because the only static type information you\nhave is that of the ancestor <code>Delegate</code> class, you have to \"springboard\" to something that can cast it to the right type and call it.  <em>(This is an expression-bodied method in the final code below.)</em></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private static IMessage CallHandler&lt;T&gt;(Delegate del, T input)\n{\n    return ((Func&lt;T, IMessage&gt;)del)(input);\n}\n</code></pre>\n\n<p>With that springboard method, you can use reflection to find and invoke a close-constructed <code>MethodInfo</code> for each handler.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>foreach (var handler in handlers)\n{\n    IMessage result = (IMessage)GetType()\n        .GetMethod(nameof(CallHandler), BindingFlags.NonPublic | BindingFlags.Static)\n        .MakeGenericMethod(handlerArgumentType)\n        .Invoke(null, new object[] { handler, message });\n}\n</code></pre>\n\n<p>Now that I've explained it in parts, here's the whole thing:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>protected List&lt;Delegate&gt; Handlers { get; } = new List&lt;Delegate&gt;();\n\npublic Task Post(IMessage message, Action&lt;IMessage&gt; callback = null)\n{\n    if (message is null)\n        throw new ArgumentNullException(nameof(message));\n\n    var handlerArgumentType = message.GetType();\n\n    return Task.Factory.StartNew(() =&gt;\n    {\n        //var hands = Handlers.Where(h =&gt; h()) &lt;== I don't know what to do here\n        var handlers = Handlers.Where(h =&gt; h.GetType().GetGenericArguments()[0] == handlerArgumentType);\n        foreach (var handler in handlers)\n        {\n            IMessage result = (IMessage)GetType()\n                .GetMethod(nameof(CallHandler), BindingFlags.NonPublic | BindingFlags.Static)\n                .MakeGenericMethod(handlerArgumentType)\n                .Invoke(null, new object[] { handler, message });\n        }\n    });\n}\n\nprivate static IMessage CallHandler&lt;T&gt;(Delegate del, T input) =&gt; ((Func&lt;T, IMessage&gt;)del)(input);\n\npublic void Register&lt;T&gt;(Func&lt;T, IMessage&gt; handler)\n    where T : IMessage\n{\n    Handlers.Add(handler);\n}\n</code></pre>\n\n<p><em>Note: Instead of throwing <code>ArgumentNullException</code>, you could use <code>message?.GetType()</code> and let the <code>null</code> that it returns match nothing.  Which way you choose to handle it depends on whether passing <code>null</code> is a valid thing to do.</em></p>\n\n<p>Now, I believe the only remaining question is what to do with the callback.  Maybe pass <code>result</code> to it?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>callback?.Invoke(result);\n</code></pre>\n\n<hr>\n\n<p><strong>Final Note:</strong> This should work, given what you've provided.  However, it's definitely not the best implementation.  Calling <code>Invoke</code> frequently because <code>Post</code> is called frequently, or you have lots of handlers for a single type to call in the loop, could take up quite some time (relatively speaking).  Now that you have something that works, you can refactor it, whether that's now or whenever you observe degrading performance.  You should at least <em>think</em> about it now so you're not panicking later on.</p>\n"}], "owner": {"reputation": 86, "user_id": 5686765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GyPlu.jpg?s=128&g=1", "display_name": "David Ehnis", "link": "https://stackoverflow.com/users/5686765/david-ehnis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 57500892, "answer_count": 1, "score": 0, "last_activity_date": 1565810875, "creation_date": 1565801745, "last_edit_date": 1565808634, "question_id": 57499012, "link": "https://stackoverflow.com/questions/57499012/how-to-use-a-linq-where-clause-on-a-list-of-func-delegates", "title": "How to use a LINQ where clause on a list of Func delegates", "body": "<p>I'm trying to build an in-process pub-subscriber pattern within a particular channel. All the callee would have to do is to call the channel.Post(new RetrieveRecords()) and the registered handlers would of course handle the specific message.</p>\n\n<p>Therefore, I have a list of handlers of type Func and when I query the list, I'd like to return only the handlers that accept a specific type.</p>\n\n<p>I know I could create a Handler class that included the type of T and the Func as properties, but I was hoping there was a more elegant way to resolve.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>\nprotected List&lt;Func&lt;object, IMessage&gt;&gt; Handlers { get; } = new List&lt;Func&lt;object, IMessage&gt;&gt;();\n\npublic Task Post(IMessage message, Action&lt;IMessage&gt; callback = null)\n{\n    return Task.Factory.StartNew(() =&gt;\n    {\n        var hands = Handlers.Where(h =&gt; h()) &lt;== I don't know what to do here\n    });\n}\n\npublic Task Register&lt;T&gt;(Func&lt;T, IMessage&gt; handler) where T : IMessage\n{\n    return Task.Factory.StartNew(() =&gt;\n    {\n        Handlers.Add(a =&gt; handler((T)a));\n    });\n}\n\n</code></pre>\n\n<p>I was thinking that I would use message.GetType() in the Post method if casting in the where clause isn't possible. </p>\n"}, {"tags": ["c#", "ios", "unity3d", "augmented-reality"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12203943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb32165c5f44b6ed7827d8efbc01a4a0?s=128&d=identicon&r=PG&f=1", "display_name": "eyattik", "link": "https://stackoverflow.com/users/12203943/eyattik"}, "is_accepted": false, "score": 0, "last_activity_date": 1571019923, "last_edit_date": 1571019923, "creation_date": 1570846034, "answer_id": 58350256, "question_id": 57498983, "link": "https://stackoverflow.com/questions/57498983/reset-unity-ar-session-to-find-trackable-planes-on-ios/58350256#58350256", "title": "Reset unity AR session to find trackable planes on iOS", "body": "<p>Change</p>\n\n<pre><code>UnityEngine.XR.ARSubsystems.TrackableType.Planes\n</code></pre>\n\n<p>To</p>\n\n<pre><code>UnityEngine.XR.ARSubsystems.TrackableType.PlaneWithinPolygon\n</code></pre>\n\n<p>Confusingly, the Planes enum value includes 4 different types of planes, including PlaneWithinInfinity, causing your undesired effect.</p>\n\n<p>PlaneWithinPolygon will instead cause the AR Raycast to only detect hits within the boundaries of detected planes.</p>\n\n<p>Source: <a href=\"https://docs.unity3d.com/Packages/com.unity.xr.arsubsystems@2.1/api/UnityEngine.XR.ARSubsystems.TrackableType.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Packages/com.unity.xr.arsubsystems@2.1/api/UnityEngine.XR.ARSubsystems.TrackableType.html</a></p>\n"}], "owner": {"reputation": 21, "user_id": 11928383, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WYQcd36JxA0/AAAAAAAAAAI/AAAAAAAAAAc/avZ0untDLBs/photo.jpg?sz=128", "display_name": "Tom Langford", "link": "https://stackoverflow.com/users/11928383/tom-langford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 860, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1571019923, "creation_date": 1565801594, "question_id": 57498983, "link": "https://stackoverflow.com/questions/57498983/reset-unity-ar-session-to-find-trackable-planes-on-ios", "title": "Reset unity AR session to find trackable planes on iOS", "body": "<p>Trackable planes become infinite when detected by an iOS device. Due to this, the upper most plane under the camera lens will always be detected. There is no way of getting back to the lower plane except for lowering the camera through the top plane. How can you reset the plane in the view?</p>\n\n<p>Using Unity 2018.3 with AR Foundation 1.5.0-preview 6 </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code> private void UpdatePlacementPose()\n    {\n        var screenCenter = Camera.current.ViewportToScreenPoint(new Vector3(0.5f, 0.5f));\n        var hits = new List&lt;ARRaycastHit&gt;();\n        arRaycast.Raycast(screenCenter, hits, UnityEngine.XR.ARSubsystems.TrackableType.Planes);\n\n        placementPoseIsValid = hits.Count &gt; 0;\n        if (placementPoseIsValid)\n        {\n            placementPose = hits[0].pose;\n\n            var cameraForward = Camera.current.transform.forward;\n            var cameraBearing = new Vector3(cameraForward.x, 0, cameraForward.z).normalized;\n            placementPose.rotation = Quaternion.LookRotation(cameraBearing);\n        }\n    }\n}\n</code></pre>\n\n<p>The floor is detected and an infinite plane is created, but then a table top is detected and an infinite plane is detected at this greater height. This means that the floor will no longer be registered since the upper plane is always blocking the camera's line of sight to the lower plane. The only way to get back to the lower plane is to physically move the camera below the upper plane so there is no planes in the way of the camera view.</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "linq-to-sql"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 8050298, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdfbf4cdc892d07ed43f0757975e8d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/8050298/cosmin"}, "edited": false, "score": 0, "creation_date": 1565803398, "post_id": 57499060, "comment_id": 101468243, "body": "This is exactly what I needed. Thank you @mmathis."}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1565803966, "post_id": 57499060, "comment_id": 101468447, "body": "<code>&amp;</code> is also a logical AND operator."}], "tags": [], "owner": {"reputation": 1550, "user_id": 3281091, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UEtNT.png?s=128&g=1", "display_name": "mmathis", "link": "https://stackoverflow.com/users/3281091/mmathis"}, "is_accepted": true, "score": 1, "last_activity_date": 1565802022, "creation_date": 1565802022, "answer_id": 57499060, "question_id": 57498977, "link": "https://stackoverflow.com/questions/57498977/linq-query-to-sum-only-values-above-specific-threshold/57499060#57499060", "title": "Linq Query to sum only values above specific threshold", "body": "<p>Change your <code>Select</code> to take the difference:</p>\n\n<pre><code>TotalMiles = Decimal.Round(Convert.ToDecimal(MyTable\n    .Where(a =&gt; a.Date &lt;= MDate &amp;&amp; a.Date.Month == MDate.Month &amp;&amp; (a.Date.Year) == year &amp;&amp; a.Miles &gt; 100)\n    .Select(a =&gt; a.Miles - 100).Sum() * myrate), 2, MidpointRounding.AwayFromZero); \n</code></pre>\n\n<p>Also note that you need <code>&amp;&amp;</code> as the logical AND operator</p>\n"}, {"tags": [], "owner": {"reputation": 78, "user_id": 9099253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e465bc32418b10ee7a1b55f2e144af?s=128&d=identicon&r=PG&f=1", "display_name": "Bakaji", "link": "https://stackoverflow.com/users/9099253/bakaji"}, "is_accepted": false, "score": 1, "last_activity_date": 1565803093, "last_edit_date": 1565803093, "creation_date": 1565802281, "answer_id": 57499113, "question_id": 57498977, "link": "https://stackoverflow.com/questions/57498977/linq-query-to-sum-only-values-above-specific-threshold/57499113#57499113", "title": "Linq Query to sum only values above specific threshold", "body": "<p>you could make property inside your class </p>\n\n<pre><code>public int Value {\n        get {\n            if (Miles &gt; 100)\n            {\n                return (Miles - 100);\n            }\n            else\n            {\n                return 0;\n            }\n\n        }\n    }\n</code></pre>\n\n<p>then use this</p>\n\n<pre><code>select(a=&gt;a.Value).Sum()*rate;\n</code></pre>\n\n<p>since those which doesn't exceed 100 will return 0 so they don't effect your result\nthe final code will be</p>\n\n<pre><code>TotalMiles = Decimal.Round(Convert.ToDecimal(MyTable\n.Where(a =&gt; a.Date &lt;= MDate &amp;&amp; a.Date.Month == MDate.Month &amp;&amp; (a.Date.Year) == year)\n.select(a=&gt;a.Value).Sum() * myrate), 2, MidpointRounding.AwayFromZero); \n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 8050298, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cdfbf4cdc892d07ed43f0757975e8d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Cosmin", "link": "https://stackoverflow.com/users/8050298/cosmin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57499060, "answer_count": 2, "score": 0, "last_activity_date": 1565803093, "creation_date": 1565801562, "question_id": 57498977, "link": "https://stackoverflow.com/questions/57498977/linq-query-to-sum-only-values-above-specific-threshold", "title": "Linq Query to sum only values above specific threshold", "body": "<p>I am having a hard time isolating values above a certain threshold from a column. I need to calculate only the miles that exceed 100 and multiply that with a rate. For example, if I have 101 miles on one row, 102 miles on the next one and 103 on another day, my desired sum would be <code>1*myrate + 2*myrate + 3*myrate</code> </p>\n\n<pre><code>private void SetMiles()\n    {\n    int.TryParse(MDate.ToString(\"MM\"), out int month);\n    int.TryParse(MDate.ToString(\"yyyy\"), out int year);\n\n    TotalMiles = Decimal.Round(Convert.ToDecimal(MyTable\n        .Where(a =&gt; a.Date &lt;= MDate &amp; a.Date.Month == MDate.Month &amp; (a.Date.Year) == year &amp; a.Miles &gt; 100)\n        .Select(a =&gt; a.Miles).Sum() * myrate), 2, MidpointRounding.AwayFromZero); \n    }       \n</code></pre>\n\n<p>The above does not work properly but that is my starting point. How can I accomplish my goal and keep it as simple as possible?</p>\n"}, {"tags": ["c#", "asp.net-core", "razor-pages"], "comments": [{"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1565801359, "post_id": 57498915, "comment_id": 101467449, "body": "Are you trying to change the label on the button?"}, {"owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "reply_to_user": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1565801482, "post_id": 57498915, "comment_id": 101467505, "body": "@Greg: Yes. Based on the query string, it should be either Create or Update."}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 2, "creation_date": 1565801511, "post_id": 57498915, "comment_id": 101467518, "body": "You should be able to bind it to a property in you cs code using the @ syntax <code>&lt;input type=&quot;submit&quot; value=&quot;@PropertyName&quot; class=&quot;btn btn-primary&quot;&#47;&gt;</code>"}, {"owner": {"reputation": 10665, "user_id": 1288589, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ACqB.jpg?s=128&g=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/1288589/greg"}, "edited": false, "score": 0, "creation_date": 1565801579, "post_id": 57498915, "comment_id": 101467549, "body": "You can use <code>TempData</code>, <code>ViewBag</code>, and <code>@</code>."}, {"owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "edited": false, "score": 0, "creation_date": 1565801628, "post_id": 57498915, "comment_id": 101467560, "body": "Right! Thanks for the suggestion."}], "answers": [{"tags": [], "owner": {"reputation": 3191, "user_id": 27989, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3f3df95fbff015d5c1621bfd966277c1?s=128&d=identicon&r=PG", "display_name": "Brad Patton", "link": "https://stackoverflow.com/users/27989/brad-patton"}, "is_accepted": true, "score": 4, "last_activity_date": 1565808191, "creation_date": 1565808191, "answer_id": 57500363, "question_id": 57498915, "link": "https://stackoverflow.com/questions/57498915/change-button-label-text-dynamically-in-razor-pages/57500363#57500363", "title": "Change button label text dynamically in razor pages", "body": "<p>Razor Pages in .net core are quite a bit different than classic aspx pages. There are a number of good intro articles out there in this <a href=\"https://docs.microsoft.com/en-us/aspnet/core/razor-pages/?view=aspnetcore-2.2&amp;tabs=visual-studio\" rel=\"nofollow noreferrer\">one from MS</a>. Using your question and some sample code from that article this what the page might look like.</p>\n\n<p>The cshtml file might look like:</p>\n\n<pre><code>@page\n@using RazorPagesIntro.Pages\n@model IndexModel2\n\n&lt;h2&gt;Separate page model&lt;/h2&gt;\n&lt;p&gt;\n    &lt;input type=\"submit\" value=\"@Model.Label\" class=\"btn btn-primary\"/&gt;\n&lt;/p&gt;\n</code></pre>\n\n<p>The cshtml.cs page model:</p>\n\n<pre><code>using Microsoft.AspNetCore.Mvc.RazorPages;\nusing System;\n\nnamespace RazorPagesIntro.Pages\n{\n    public class IndexModel2 : PageModel\n    {\n        [BindProperty]\n        public string Label { get; set; }\n\n        public void OnGet()\n        {\n            if (id == Guid.Empty) {\n                Label = \"Create\"; \n            } else {\n                Label = \"Update\";\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3973, "user_id": 1169180, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/a52e1cf358e1246e3cdc71533ffb8430?s=128&d=identicon&r=PG", "display_name": "Shaggy", "link": "https://stackoverflow.com/users/1169180/shaggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3063, "favorite_count": 0, "accepted_answer_id": 57500363, "answer_count": 1, "score": 2, "last_activity_date": 1565808191, "creation_date": 1565801201, "last_edit_date": 1565801396, "question_id": 57498915, "link": "https://stackoverflow.com/questions/57498915/change-button-label-text-dynamically-in-razor-pages", "title": "Change button label text dynamically in razor pages", "body": "<p>I am using Razor Pages in my ASP.NET Core web application.</p>\n\n<p>I would like to change the button text from code-behind.  Even if i add <code>runat=\"server\"</code> in Html markup and I can't access the button in <code>*.cshtml.cs</code> file.</p>\n\n<p>Also, I can not use <code>&lt;asp:button&gt;</code> in razor pages. Is there any way to do without using the javascript approach?</p>\n\n<pre><code>&lt;input type=\"submit\" value=\"Create\" class=\"btn btn-primary\"/&gt;\n</code></pre>\n\n<p>MyPage.cshtml.cs</p>\n\n<pre><code>public IActionResult OnGet(Guid id)\n{\nif(id == Guid.Empty) //Make button create\nelse // make it update\n}\n</code></pre>\n"}, {"tags": ["c#", "autofac", "func"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1565802020, "post_id": 57498879, "comment_id": 101467718, "body": "If <code>T</code> is disposable, you need to dispose of it yourself."}, {"owner": {"reputation": 194, "user_id": 11820113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c24d36d7745e24a5d765de7ffa3ea8?s=128&d=identicon&r=PG&f=1", "display_name": "John King", "link": "https://stackoverflow.com/users/11820113/john-king"}, "edited": false, "score": 1, "creation_date": 1565840634, "post_id": 57498879, "comment_id": 101477606, "body": "Could you clarify what resultType, importResultDelegate, task and T.Tee() are in your code? They don&#39;t compile and might explain a few things. Generally, Autofac will dispose of IDisposables resolved from a context, including those accessed via a resolved Func&lt;T&gt; but there&#39;s a lot going on here which could get in the way. What&#39;s the use-case you&#39;re really solving for? Is it really just a factory for a Func&lt;Task&lt;T&gt;&gt; where T is a specific type? There might be a simpler way to represent the factories more natively via Autofac where you&#39;re less likely to hit these issues at all."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8890131, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cfeBz1ikSmA/AAAAAAAAAAI/AAAAAAAAT60/6MbGCrF3__s/photo.jpg?sz=128", "display_name": "mojobec", "link": "https://stackoverflow.com/users/8890131/mojobec"}, "edited": false, "score": 0, "creation_date": 1565802553, "post_id": 57499082, "comment_id": 101467920, "body": "I&#39;m aware of that. I tried using onRelease but that never gets called"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565802907, "post_id": 57499082, "comment_id": 101468048, "body": "<code>T output</code> is not going to be managed by Autofac <i>at all</i>.  Autofac cannot know whe you&#39;re done with that object.  If it&#39;s disposable, you must dispose of it yourself."}, {"owner": {"reputation": 71, "user_id": 8890131, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cfeBz1ikSmA/AAAAAAAAAAI/AAAAAAAAT60/6MbGCrF3__s/photo.jpg?sz=128", "display_name": "mojobec", "link": "https://stackoverflow.com/users/8890131/mojobec"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565805732, "post_id": 57499082, "comment_id": 101469173, "body": "got it. so is there a way I can dispose of <code>T output</code> of the factory when the LifetimeScope is disposed? @Amy"}], "tags": [], "owner": {"reputation": 5838, "user_id": 1075282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70efe94a6c2237ec96f429402a03a27d?s=128&d=identicon&r=PG", "display_name": "Renat", "link": "https://stackoverflow.com/users/1075282/renat"}, "is_accepted": false, "score": 1, "last_activity_date": 1565802141, "creation_date": 1565802141, "answer_id": 57499082, "question_id": 57498879, "link": "https://stackoverflow.com/questions/57498879/disposing-funct-registration-in-autofac/57499082#57499082", "title": "disposing Func&lt;T&gt; registration in autofac", "body": "<p>If you want to get it disposed by <code>Autofac</code>, you need to use a class that implements <code>IDisposable</code> instead of <code>Func&lt;T&gt;</code>. From <a href=\"https://autofaccn.readthedocs.io/en/latest/lifetime/disposal.html\" rel=\"nofollow noreferrer\">Autofac documentation</a>:</p>\n\n<blockquote>\n  <p>To take advantage of automatic deterministic disposal, your component\n  must implement IDisposable.</p>\n</blockquote>\n\n<p>Otherwise you need manually dispose <code>T</code> object produced by your factory.</p>\n"}], "owner": {"reputation": 71, "user_id": 8890131, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cfeBz1ikSmA/AAAAAAAAAAI/AAAAAAAAT60/6MbGCrF3__s/photo.jpg?sz=128", "display_name": "mojobec", "link": "https://stackoverflow.com/users/8890131/mojobec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565802990, "creation_date": 1565801004, "last_edit_date": 1565802990, "question_id": 57498879, "link": "https://stackoverflow.com/questions/57498879/disposing-funct-registration-in-autofac", "title": "disposing Func&lt;T&gt; registration in autofac", "body": "<p>I'm registering a <code>func&lt;Task&lt;T&gt;&gt;</code> with autofac in a ASP.NET Core server.</p>\n\n<p>I want to use the registration in multiple places but I only want to invoke the task once, the problem is the result never gets disposed</p>\n\n<p>registration code:</p>\n\n<pre><code> var getItemMethod = GetType()\n                .GetMethod(nameof(GetItem), BindingFlags.NonPublic | BindingFlags.Instance)\n                .MakeGenericMethod(resultType);\n\nbuilder.Register(c =&gt; getItemMethod.Invoke(this, new[] { c.Resolve(resultType), task}))\n                        .As(importResultDelegate)\n                        .InstancePerMatchingLifetimeScope(SCOPE_TAG);\n\nprivate Func&lt;T&gt; GetItem&lt;T&gt;(object obj, MethodInfo task)\n            where T : class\n{\n  T output = null;\n  return () =&gt; output ?? ((T)task.Invoke(obj, null))\n      .Tee(o =&gt; output = o);\n}\n</code></pre>\n\n<p>usage code:</p>\n\n<pre><code>public Constructor(Func&lt;Task&lt;Object&gt;&gt; objectFac)\n\nvar data = await objectFac();\n</code></pre>\n\n<p>this is called within </p>\n\n<pre><code>using(var inner = scope.BeginLifetimeScope(SCOPE_TAG){}\n\n</code></pre>\n\n<p>that causes a memory leak in the server as the  <code>T output</code> is never disposed</p>\n\n<p>I tried to use <code>.OnRelease</code> but it never gets called.</p>\n"}, {"tags": ["c#", "asp.net"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11928373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c015b0100e316919e88ec3e4d12f9f8?s=128&d=identicon&r=PG&f=1", "display_name": "Earlh21", "link": "https://stackoverflow.com/users/11928373/earlh21"}, "edited": false, "score": 0, "creation_date": 1565991370, "post_id": 57508329, "comment_id": 101528742, "body": "This works for NavigateToPage, but Submit still hangs (it calls NavigateToPage)."}], "tags": [], "owner": {"reputation": 1, "user_id": 11931120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb4440697315952d331577489d70e34a?s=128&d=identicon&r=PG&f=1", "display_name": "SebastianHB", "link": "https://stackoverflow.com/users/11931120/sebastianhb"}, "is_accepted": false, "score": 0, "last_activity_date": 1565867006, "last_edit_date": 1565867006, "creation_date": 1565865089, "answer_id": 57508329, "question_id": 57498865, "link": "https://stackoverflow.com/questions/57498865/navigatetopage-hangs-in-asp-net-application/57508329#57508329", "title": "NavigateToPage hangs in ASP.NET application", "body": "<p>There seems to be a deadlock in HttpRequest.GetResponseAsync, called in ScrapingBrowser.cs:272.\nIt seems to be related to the problem as described here:\n<a href=\"https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html\" rel=\"nofollow noreferrer\">https://blog.stephencleary.com/2012/07/dont-block-on-async-code.html</a></p>\n\n<p>Try an async Task like this to replace your GetESEBrowser():</p>\n\n<pre><code>public static async Task&lt;ScrapingBrowser&gt; GetESEBrowser()\n        {\n            ScrapingBrowser browser = new ScrapingBrowser();\n            WebPage ESE = await browser.NavigateToPageAsync(new Uri(\"https://www.test.com\"));\n\n            //...\n\n            return browser;\n        }\n</code></pre>\n\n<p>You can call the Task with</p>\n\n<pre><code>GetESEBrowser().ConfigureAwait(false);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11928373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c015b0100e316919e88ec3e4d12f9f8?s=128&d=identicon&r=PG&f=1", "display_name": "Earlh21", "link": "https://stackoverflow.com/users/11928373/earlh21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566225949, "creation_date": 1565800953, "last_edit_date": 1566225949, "question_id": 57498865, "link": "https://stackoverflow.com/questions/57498865/navigatetopage-hangs-in-asp-net-application", "title": "NavigateToPage hangs in ASP.NET application", "body": "<p>I'm writing a web scraper using ScrapySharp that needs to use a simulated browser to log in and access data. The method, with the NavigateToPage call, works in a console application but not in my ASP.Net application. No NavigateToPage calls go through, including attempted navigations to Google, with or without https, with or without the default cookies parser.</p>\n\n<pre><code> public static ScrapingBrowser GetESEBrowser()\n        {\n            ScrapingBrowser browser = new ScrapingBrowser();\n            browser.UseDefaultCookiesParser = false;\n            WebPage ESE = browser.NavigateToPage(new Uri(\"http://www.ese-co.com/storefrontCommerce/login.do\"));\n\n            PageWebForm login_form = ESE.FindForm(\"loginForm\");\n            login_form[\"usr_name\"] = \"blahblah\";\n            login_form[\"usr_password\"] = \"blahblah\";\n\n            login_form.Submit();\n\n            return browser;\n        }\n</code></pre>\n"}, {"tags": ["c#", "sockets", "routes"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1565801440, "post_id": 57498773, "comment_id": 101467489, "body": "The mask of the interface is wrong.  From cmd.exe &gt;IPCONFIG/ALL  check subnet mask.  Routing uses the route with the most restricted mask.  So routing will use mask 255.255.255.0 before 255.255.0.0."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565807130, "post_id": 57498773, "comment_id": 101469752, "body": "Without a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> it&#39;s not possible to answer your question. That said, the whole point of multicast is that the datagram is received by any listener on the same channel. The channel&#39;s aren&#39;t assigned per-adapter, so it&#39;s not clear why you expect the datagram to be received on a specific adapter."}, {"owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565862017, "post_id": 57498773, "comment_id": 101483283, "body": "@jdweng Interesting, the interface did indeed has a less restrictied mask. When I changed this mask (I now have 3 interfaces, all with mask 255.255.255.0) data started sending on a different, but still incorrect, interface. Is there anything else which determines interface &#39;priority&#39;?"}, {"owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565862120, "post_id": 57498773, "comment_id": 101483328, "body": "@PeterDuniho Updated with minimal working example (sorry, late evening question). The PCs are connected to two networks, one for general intranet traffic and one for various embedded devices. The intention is that data is broadcast to all devices on one network or the other."}, {"owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565862850, "post_id": 57498773, "comment_id": 101483608, "body": "@jdweng I tried changing subnet masks so that my inteded network is the most restricted, but data was still sent on one of the other two networks."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565863342, "post_id": 57498773, "comment_id": 101483786, "body": "I need to see the IP address and subnet of all interfaces.  You may have a bridge and getting data through another device.  Check the TTL of messages which get decremented by one through each hop (server router).  If message is coming through another device you should be able to tell by the TTL."}, {"owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565863755, "post_id": 57498773, "comment_id": 101483920, "body": "@jdweng Posted ipconfig output. TTL (checked on the outgoing packet via Wireshark?) is 1 for all packets."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565864330, "post_id": 57498773, "comment_id": 101484122, "body": "What IP are you sending to?  Is it inside of the range of the mask?  TTL 1 is wrong.  when I Ping my PC with IP the TTL is 128.  When TTL is 0 the packet is not forwarded to prevent routting loops.  What is interesting is when I ping either LocalHost or Hostname I do not get a TTL.  I&#39;m not sure but having a TTL of 1 may indicate that you are using DHCP and getting route from a DNS Server.  Check IPConfig/all for settings.  Also capture ping with sniffer using both IP and Hostname to see if TTL is different.  Are you sending using IP or Hostname?"}, {"owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565865869, "post_id": 57498773, "comment_id": 101484639, "body": "@jdweng You&#39;ve lost me there, I don&#39;t have a lot of networking knowledge. I&#39;m sending to a broadcast address (via my interface of choice), so I can&#39;t ping it. I&#39;ve managed to fix it with an explicit bind on the tx socket, I&#39;ll post an answer."}], "answers": [{"comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565872049, "post_id": 57508543, "comment_id": 101486928, "body": "You never used the variable L:ocalIPEndPoint in original code.  Did it fix the TTL?  Ping is a different protocol (ARP) from UDP and TCP.  So you can ping to make sure there is a route from one IP to another IP."}, {"owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565873873, "post_id": 57508543, "comment_id": 101487753, "body": "Yes I had to create localIPEndPoint and bind to it to fix the problem, it wasn&#39;t in the original code. The TTL on the outgoing packets is still 1. If I ping one of the devices on the network the TTL is 64, but I&#39;m not sendings packets to a specific device, rather I&#39;m trying to broadcast them."}], "tags": [], "owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "is_accepted": true, "score": 0, "last_activity_date": 1565866289, "creation_date": 1565866289, "answer_id": 57508543, "question_id": 57498773, "link": "https://stackoverflow.com/questions/57498773/c-socket-sendto-routing-to-wrong-adaptor/57508543#57508543", "title": "C# Socket.SendTo() routing to wrong adaptor", "body": "<p>I was able to fix the issue by explicitly binding my transmit socket to the selected IP Address. My transmit socket init becomes:</p>\n\n<pre><code>m_transmitSocket = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp);\nIPAddress ipAddress = IPAddress.Parse(ipAddr);\n\nIPAddress localIPAddr = IPAddress.Parse(m_form.comboBox_Config_Interfaces.Text);\nIPEndPoint localIPEndPoint = new IPEndPoint(localIPAddr, port);\nm_transmitSocket.Bind(localIPEndPoint);\n\nm_transmitSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.AddMembership, new MulticastOption(ipAddress, localIPAddr));\nm_transmitSocket.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);\nm_ipEndPointTx = new IPEndPoint(ipAddress, port);\n</code></pre>\n\n<p>I still do not understand why this worked without the bind on the original PC, or why changing the subnet mask affected which network was used (see @jdweng comments on the question)</p>\n"}], "owner": {"reputation": 53, "user_id": 7400302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766da92cd742fcd0c6b8a514d02c88eb?s=128&d=identicon&r=PG&f=1", "display_name": "S. Meredith", "link": "https://stackoverflow.com/users/7400302/s-meredith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 57508543, "answer_count": 1, "score": -1, "last_activity_date": 1565866289, "creation_date": 1565800613, "last_edit_date": 1565863581, "question_id": 57498773, "link": "https://stackoverflow.com/questions/57498773/c-socket-sendto-routing-to-wrong-adaptor", "title": "C# Socket.SendTo() routing to wrong adaptor", "body": "<p>I have inherited a UDP send/receive application. It allows a network to be selected and then sends/receives data on that network, with the intention that data is broadcast to/received from all devices on the selected network.\nReceive works just fine, however when the application sends data it goes to the wrong network.</p>\n\n<p>Frustratingly, it works just fine on the original PC (Windows 7) but fails on the two others I have tried in the same way (both Windows 10).\nUpdated with minimal working example:</p>\n\n<p>Form1.cs</p>\n\n<pre><code>using System;\nusing System.Timers;\nusing System.Windows.Forms;\n\nnamespace MinimumWorking\n{\n    public partial class Form1 : Form\n    {\n        Network m_Network;\n        bool m_NetworkStarted;\n\n        System.Timers.Timer m_Timer;\n\n        public Form1()\n        {\n            InitializeComponent();\n\n            m_Timer = new System.Timers.Timer(250);\n            m_Timer.Elapsed += OnTimer;\n            m_Timer.AutoReset = true;\n            m_Timer.Enabled = true;\n            m_Timer.Stop();\n\n            m_Network = new Network(this);\n        }\n\n        private void button_StartNetwork_Click(object sender, EventArgs e)\n        {\n            if (m_NetworkStarted == false)\n            {\n                if (m_Network.InitNetwork(\"225.0.0.37\", 2031))\n                {\n                    button_StartNetwork.Text = \"Stop\";\n                    m_NetworkStarted = true;\n                    m_Timer.Start();\n                }\n            }\n            else\n            {\n                m_Network.Close();\n                button_StartNetwork.Text = \"Start\";\n                m_NetworkStarted = false;\n            }\n        }\n\n        private void Form1_FormClosing(object sender, FormClosingEventArgs e)\n        {\n            m_Timer.Stop();\n\n            if (m_NetworkStarted == true)\n            {\n                m_Network.Close();\n            }\n        }\n\n        private void OnTimer(object sender, ElapsedEventArgs e)\n        {\n            byte[] msg = new byte[] { 0x54, 0x45, 0x53, 0x54 };\n            m_Network.SendPacket(new Packet(msg, msg.Length));\n        }\n    }\n}\n</code></pre>\n\n<p>Form1.designer.cs (should I post all of this?)</p>\n\n<pre><code>namespace MinimumWorking\n{\n    partial class Form1\n    {\n        /// &lt;summary&gt;\n        /// Required designer variable.\n        /// &lt;/summary&gt;\n        private System.ComponentModel.IContainer components = null;\n\n        /// &lt;summary&gt;\n        /// Clean up any resources being used.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"disposing\"&gt;true if managed resources should be disposed; otherwise, false.&lt;/param&gt;\n        protected override void Dispose(bool disposing)\n        {\n            if (disposing &amp;&amp; (components != null))\n            {\n                components.Dispose();\n            }\n            base.Dispose(disposing);\n        }\n\n        //Windows Form Designer generated code (not posted)\n\n        private System.Windows.Forms.GroupBox group_Network;\n        private System.Windows.Forms.Button button_StartNetwork;\n        public System.Windows.Forms.ComboBox comboBox_Config_Interfaces;\n        private System.Windows.Forms.Label lbl_Interface;\n    }\n}\n</code></pre>\n\n<p>Network.cs</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Net.Sockets;\nusing System.Net;\nusing System.Threading;\nusing System.Windows.Forms;\n\nnamespace MinimumWorking\n{\n    public class Packet\n    {\n        public int m_length;\n        public byte[] m_data;\n\n        public Packet (byte[] data, int length)\n        {\n            m_data = new byte[length];\n            Array.Copy(data, m_data, length);\n            m_length = length;\n        }\n    }\n\n    class Network\n    {\n        Form1 m_form;\n\n        AutoResetEvent m_resetEvent;\n        Thread m_readerThread;\n        public bool m_receiving { get; set; }\n        Thread m_senderThread;\n        public bool m_sending { get; set; }\n\n        Queue&lt;Packet&gt; m_MessageQueue = new Queue&lt;Packet&gt;();\n\n        IPEndPoint m_ipEndPointRx;\n        IPEndPoint m_ipEndPointTx;\n        Socket m_readSocket;\n        Socket m_transmitSocket;\n\n        Object m_lock;\n\n        public Network (Form1 form)\n        {\n            m_form = form;\n            m_lock = new object();\n            PopulateInterfaces();\n        }\n\n        public bool InitNetwork(String ipAddr, int port)\n        {\n            m_resetEvent = new AutoResetEvent(false);\n\n            try\n            {\n                m_transmitSocket = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp);\n                IPAddress ipAddress = IPAddress.Parse(ipAddr);\n\n                IPAddress ipIntAddress = IPAddress.Parse(m_form.comboBox_Config_Interfaces.Text);\n\n                m_transmitSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.AddMembership, new MulticastOption(ipAddress, ipIntAddress));\n                m_transmitSocket.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);\n                m_ipEndPointTx = new IPEndPoint(ipAddress, port);\n            }\n            catch (SocketException)\n            {\n                return false;\n            }\n            m_sending = true;\n            m_senderThread = new Thread(new ThreadStart(SendThread));\n            m_senderThread.Start();\n\n            try\n            {\n                m_readSocket = new Socket(AddressFamily.InterNetwork, SocketType.Dgram, ProtocolType.Udp);\n                IPAddress ipAddressRx = IPAddress.Parse(ipAddr);\n\n                m_ipEndPointRx = new IPEndPoint(IPAddress.Any, 2040);\n                m_readSocket.SetSocketOption(SocketOptionLevel.Socket, SocketOptionName.ReuseAddress, true);\n                m_readSocket.Bind(m_ipEndPointRx);\n\n                IPAddress ipIntAddressRx = IPAddress.Parse(m_form.comboBox_Config_Interfaces.Text);\n                m_readSocket.SetSocketOption(SocketOptionLevel.IP, SocketOptionName.AddMembership, new MulticastOption(ipAddressRx, ipIntAddressRx));\n                m_readSocket.ReceiveTimeout = 100;\n            }\n            catch (SocketException)\n            {\n                return false;\n            }\n            m_receiving = true;\n            m_readerThread = new Thread(new ThreadStart(ReadData));\n            m_readerThread.Start();\n\n            return true;\n        }\n\n        void PopulateInterfaces()\n        {\n            List&lt;String&gt; interfaces = new List&lt;String&gt;();\n\n            IPAddress[] ips = Dns.GetHostAddresses(Dns.GetHostName());\n\n            foreach (var nic in ips)\n            {\n                if (nic.AddressFamily == AddressFamily.InterNetwork)\n                {\n                    interfaces.Add(nic.ToString());\n\n                    m_form.comboBox_Config_Interfaces.Items.Add(nic.ToString());\n                }\n            }\n            m_form.comboBox_Config_Interfaces.SelectedIndex = 0;\n        }\n\n        public void Close()\n        {\n            m_transmitSocket.Close();\n            m_sending = false;\n            m_resetEvent.Set();\n            m_readSocket.Close();\n            m_receiving = false;\n        }\n\n        public void SendPacket(Packet packet)\n        {\n            lock (m_lock)\n            {\n                m_MessageQueue.Enqueue(packet);\n            }\n            m_resetEvent.Set();\n        }\n\n        public void SendThread()\n        {\n            try\n            {\n                while (m_sending)\n                {\n                    m_resetEvent.WaitOne();\n                    lock (m_lock)\n                    {\n                        foreach (var message in m_MessageQueue)\n                        {\n                            if (m_transmitSocket != null)\n                            {\n                                m_transmitSocket.SendTo(message.m_data, m_ipEndPointTx);\n                            }\n                        }\n                        m_MessageQueue.Clear();\n                    }\n                }\n            }\n            catch (Exception e)\n            {\n                MessageBox.Show(e.ToString());\n            }\n        }\n\n\n        private void ReadData()\n        {\n            byte[] b = new byte[1024];\n            EndPoint endPoint = new IPEndPoint(IPAddress.Any, 0);\n            while (m_receiving)\n            {\n                try\n                {\n                    if (m_readSocket.ReceiveFrom(b, ref endPoint) &gt; 0)\n                    {\n                        // Parse the message\n                    }\n                }\n                catch (SocketException)\n                {\n                    // Timeout\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>SendTo() returns the data length I would expect, and I can see the data with Wireshark just on the wrong adaptor.</p>\n\n<p>ipconfig output</p>\n\n<pre><code>Windows IP Configuration\n\n\nEthernet adapter VirtualBox Host-Only Network:\n\n   Connection-specific DNS Suffix  . :\n   IPv4 Address. . . . . . . . . . . : 192.168.56.1\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\n   Default Gateway . . . . . . . . . :\n\nEthernet adapter Ethernet:\n\n   Connection-specific DNS Suffix  . : lan\n   IPv4 Address. . . . . . . . . . . : 192.168.1.25\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\n   Default Gateway . . . . . . . . . : 192.168.1.1\n\nEthernet adapter Ethernet 2:\n\n   Connection-specific DNS Suffix  . :\n   IPv4 Address. . . . . . . . . . . : 172.16.15.34\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\n   Default Gateway . . . . . . . . . :\n</code></pre>\n\n<p>I have checked that the correct IP Address is being selected. I've also tried setting a static route and unplugging the primary adaptor (the data just doesn't get sent).\nAny idea what is wrong?</p>\n"}, {"tags": ["c#", ".net", "xml"], "comments": [{"owner": {"reputation": 240, "user_id": 11885547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c466b16b0925ac3cc4208ec700fc7dba?s=128&d=identicon&r=PG&f=1", "display_name": "vdL", "link": "https://stackoverflow.com/users/11885547/vdl"}, "edited": false, "score": 0, "creation_date": 1565801202, "post_id": 57498700, "comment_id": 101467367, "body": "I&#39;m not sure what you want to do but don&#39;t you want to generate a class from both .xsd files? You can give multiple .xsds as input to the xsd.exe tool (seperated by a space). Then you can create objects of this class and you can serialize them to XML."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1565801632, "post_id": 57498700, "comment_id": 101467564, "body": "You need to modify the schema.  A lot of schema has option to add optional objects (children).  So you have to modify parent schema to include you optional child."}, {"owner": {"reputation": 1, "user_id": 11928326, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VxOAwFTWg2I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcIvq0ZCRz3PYCVRF2Z1MUUYlNQNQ/photo.jpg?sz=128", "display_name": "L_Sake", "link": "https://stackoverflow.com/users/11928326/l-sake"}, "edited": false, "score": 0, "creation_date": 1565802197, "post_id": 57498700, "comment_id": 101467777, "body": "vdL I want to take an xsd generated the xml class and then give it data that it will fill in to the correct areas based on the schema."}, {"owner": {"reputation": 1, "user_id": 11928326, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VxOAwFTWg2I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcIvq0ZCRz3PYCVRF2Z1MUUYlNQNQ/photo.jpg?sz=128", "display_name": "L_Sake", "link": "https://stackoverflow.com/users/11928326/l-sake"}, "edited": false, "score": 0, "creation_date": 1565802348, "post_id": 57498700, "comment_id": 101467837, "body": "jdweng the schema is enormous. I mean the class generated from it alone is over 15,000 lines long. My issue is that there is no base type in the class so I am unsure as to how give it the data as it requires typeOf(typehere) and there are over 100 types generated"}], "owner": {"reputation": 1, "user_id": 11928326, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VxOAwFTWg2I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcIvq0ZCRz3PYCVRF2Z1MUUYlNQNQ/photo.jpg?sz=128", "display_name": "L_Sake", "link": "https://stackoverflow.com/users/11928326/l-sake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565802432, "creation_date": 1565800268, "last_edit_date": 1565802432, "question_id": 57498700, "link": "https://stackoverflow.com/questions/57498700/xsd-exe-generated-file-doesnt-have-a-base-type", "title": "xsd.exe -generated file doesn&#39;t have a base type", "body": "<p>I was given 2 .xsd files (one includes the other at the top). Generating a class from this using xsd.exe doesn't have a base type to use (instead it has 40+ types). I expected it to have a base type to stream data into.</p>\n\n<p>I misunderstood but that seems the way others implemented similar things. Reading up on Linq to XML and the XMLDocument class, the documentation doesn't seem to have what I need. Code used to generate C# class:</p>\n\n<pre><code>xsd.exe \"c:\\xml experiment\\THISSCHEMA.xsd\" /c /l:cs /out:\"c:\\xml experiment\"\n</code></pre>\n\n<p>I am unable to specify a single type. How to build a data set and just stream in the correct values to get a correctly formatted XML file?</p>\n"}, {"tags": ["c#", "sql-server", "database", "entity-framework", "synchronization"], "comments": [{"owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1565800855, "post_id": 57498693, "comment_id": 101467240, "body": "Unfortunately, replication will not work in your case as SQL Server Express only supports being a subscriber and the way you described the sync requires each local database to be a publisher. You would have to upgrade to a paid version to use replication in the way you describe it."}, {"owner": {"reputation": 1, "user_id": 3482384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54b0922e2e9bd7af28774e6e5396896?s=128&d=identicon&r=PG&f=1", "display_name": "Yassine", "link": "https://stackoverflow.com/users/3482384/yassine"}, "reply_to_user": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "edited": false, "score": 0, "creation_date": 1565801343, "post_id": 57498693, "comment_id": 101467439, "body": "@RossBush thank you, i didn&#39;t know that, would you direct me to an alternative."}, {"owner": {"reputation": 3496, "user_id": 2961734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f0229603e30b04fddc833d85afc9e0?s=128&d=identicon&r=PG&f=1", "display_name": "Laughing Vergil", "link": "https://stackoverflow.com/users/2961734/laughing-vergil"}, "edited": false, "score": 0, "creation_date": 1565802751, "post_id": 57498693, "comment_id": 101467988, "body": "First question: Do you need these updates as soon as they happen, or periodically throughout the day, or once daily, or less frequently?  Will you be updating based on one database action, one full transaction (say, saving a new PO, possibly including a new customer, new addresses, etc. as one transaction), based on aging, or based on some other criteria?"}, {"owner": {"reputation": 1, "user_id": 3482384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54b0922e2e9bd7af28774e6e5396896?s=128&d=identicon&r=PG&f=1", "display_name": "Yassine", "link": "https://stackoverflow.com/users/3482384/yassine"}, "edited": false, "score": 0, "creation_date": 1565804400, "post_id": 57498693, "comment_id": 101468603, "body": "@LaughingVergile updates would be made after full transactions and preferably as soon as possible, say every 5min."}], "owner": {"reputation": 1, "user_id": 3482384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54b0922e2e9bd7af28774e6e5396896?s=128&d=identicon&r=PG&f=1", "display_name": "Yassine", "link": "https://stackoverflow.com/users/3482384/yassine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565800237, "creation_date": 1565800237, "question_id": 57498693, "link": "https://stackoverflow.com/questions/57498693/one-way-partial-table-synchronization-for-desktop-application", "title": "One-way partial table synchronization for desktop application", "body": "<p>i'm programmer, but i'm not experienced with databases, and this is my first post, if my post is not respecting any rules please point them out so i can improve them, thank you.</p>\n\n<p>I have desktop application (.Net WPF application) using a local database (MS SQL).\nI have also a central server containing a MS SQL server database\nAnd a mobile app that needs access (read-only) to the data located in the central server.</p>\n\n<p>Each client have the desktop application installed on his computer (from wich all data is inserted/modified/deleted), and he also have the mobile app that should give him access (read-only) to the data located in the central server.</p>\n\n<p>All clients share the same central database, and the same tables, but each client can only access specific rows that belongs to him.</p>\n\n<p>I'm trying to figurout how to synchronize the inserted/modified/deleted rows in the desktop database to the central database (only one-way synchronization).</p>\n\n<p>I have done some research,and i found that there are several technologies that can be used, like Replication,CDC, softwares (Symmertricds...) or even programming it from groundup, but i'm still confused wich one is the right one for this case.\nAny help would be appraciated, thank you.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 186, "user_id": 11192335, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4Ykj0QbwDcU/AAAAAAAAAAI/AAAAAAAABRM/7YTs2mKEwYE/photo.jpg?sz=128", "display_name": "Juan S.Montoya", "link": "https://stackoverflow.com/users/11192335/juan-s-montoya"}, "edited": false, "score": 0, "creation_date": 1565800449, "post_id": 57498684, "comment_id": 101467084, "body": "Please check the type of p.TrailReservatons, you are trying to compare a Collection and a Date, maybe you need to take the Date from the list of TrailReservations."}, {"owner": {"reputation": 13115, "user_id": 150605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pFmKd.png?s=128&g=1", "display_name": "Lance U. Matthews", "link": "https://stackoverflow.com/users/150605/lance-u-matthews"}, "edited": false, "score": 0, "creation_date": 1565800462, "post_id": 57498684, "comment_id": 101467094, "body": "The <code>TrailReservations</code> property is a <code>ICollection&lt;TrailReservations&gt;</code>, not a <code>DateTime</code>, so you cannot compare it to a <code>DateTime</code>.  Can you show the definition of the <code>TrailReservations</code> type and how it exposes date/time information?"}, {"owner": {"reputation": 153, "user_id": 10634638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJGEM.jpg?s=128&g=1", "display_name": "bestinamir", "link": "https://stackoverflow.com/users/10634638/bestinamir"}, "edited": false, "score": 0, "creation_date": 1565800860, "post_id": 57498684, "comment_id": 101467242, "body": "You probably meant to define you TrailReservervations variable/property as DateTime not ICollection."}], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 3042344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9b525dff57d424240330212e5933e3a?s=128&d=identicon&r=PG&f=1", "display_name": "KratosMafia", "link": "https://stackoverflow.com/users/3042344/kratosmafia"}, "edited": false, "score": 0, "creation_date": 1565806427, "post_id": 57499025, "comment_id": 101469434, "body": "Thank you. I didn&#39;t know that using the .Any is how I pulled the datetime"}], "tags": [], "owner": {"reputation": 2687, "user_id": 3474290, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/599235837/picture?type=large", "display_name": "spectacularbob", "link": "https://stackoverflow.com/users/3474290/spectacularbob"}, "is_accepted": false, "score": 2, "last_activity_date": 1565804960, "last_edit_date": 1565804960, "creation_date": 1565801805, "answer_id": 57499025, "question_id": 57498684, "link": "https://stackoverflow.com/questions/57498684/using-linq-to-display-dates-today-and-future/57499025#57499025", "title": "Using linq to display dates today and future", "body": "<p>Your problem is that TrailReservations is a collection, not a single property that is a date time. What you're really asking for is \"give me all trails that have at least 1 reservation in the future\"</p>\n\n<p>Assuming your TrailReservations entity has some sort of DateTime property, (lets call it ReservationTime):</p>\n\n<pre><code>return _context.Trails.Include(p =&gt; p.TrailAttributes)\n                      .Include(p =&gt; p.TrailReservations)\n                      .Where(p =&gt; p.TrailReservations.Any(tr=&gt;tr.ReservationTime &gt;= Datetime.Now))\n                      .ToList();\n</code></pre>\n\n<p>While the resulting <code>Trails</code> from this query will be ones with upcoming reservations, this query will return ALL reservations for that trail, even if they are in the past. </p>\n"}], "owner": {"reputation": 293, "user_id": 3042344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d9b525dff57d424240330212e5933e3a?s=128&d=identicon&r=PG&f=1", "display_name": "KratosMafia", "link": "https://stackoverflow.com/users/3042344/kratosmafia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565804960, "creation_date": 1565800207, "question_id": 57498684, "link": "https://stackoverflow.com/questions/57498684/using-linq-to-display-dates-today-and-future", "title": "Using linq to display dates today and future", "body": "<p>So I'm pretty new when it comes to Linq.\nI am used to writing SQL queries so Linq is a little confusing to me.</p>\n\n<p>I'm trying to pull dates dates that are from today onward.</p>\n\n<pre><code>public List&lt;Trails&gt; GetTrails()\n    {\n        return _context.Trails.Include(p =&gt; p.TrailAttributes).Include(p =&gt; p.TrailReservations).ToList();\n    }\n</code></pre>\n\n<p>I've tried to do </p>\n\n<pre><code>public List&lt;Trails&gt; GetTrails()\n    {\n        return _context.Trails.Include(p =&gt; p.TrailAttributes).Include(p =&gt; p.TrailReservations).Where(p =&gt; p.TrailReservations &gt;= Datetime.Now).ToList();\n    }\n</code></pre>\n\n<p>But then I run into an issue because datetime doesn't work with ICollections</p>\n\n<blockquote>\n  <p>State Error CS0019 Operator '&lt;=' cannot be applied to operands of type 'ICollection' and 'DateTime'</p>\n</blockquote>\n\n<pre><code>public ICollection&lt;TrailReservations&gt; TrailReservations { get; set; }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1565800653, "post_id": 57498658, "comment_id": 101467160, "body": "So, figure out how long it is until the next hour, and set your timer for that time. For example, look at <code>DateTime.Now.Minute</code>. It&#39;s worth re-doing that calculation every time it ticks rather than setting it for exactly 1 hour -- a timer with a period of 1 hour will slowly drift over time (albeit by a very small relative amount)"}, {"owner": {"reputation": 5996, "user_id": 2598770, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ac98ed5ba8dd996d7489d6bebadfbeec?s=128&d=identicon&r=PG&f=1", "display_name": "Rand Random", "link": "https://stackoverflow.com/users/2598770/rand-random"}, "edited": false, "score": 0, "creation_date": 1565800664, "post_id": 57498658, "comment_id": 101467163, "body": "Initialize the timer with the time remaing for the full hour and upon the first DoWork change it to be precisly 1 hour."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565807445, "post_id": 57498658, "comment_id": 101469872, "body": "See my answer on marked duplicate. In particular, the second example which uses <code>RoundCurrentToNextFiveMinutes()</code>. Just modify that method to round to the next hour instead of the next five minutes (and of course, rename it so that the name still correctly indicates what it does)."}, {"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "edited": false, "score": 0, "creation_date": 1565815050, "post_id": 57498658, "comment_id": 101472678, "body": "Thank you! I edited my answer. Is that accurate when converted to <code>TimeSpan</code>?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565819604, "post_id": 57498658, "comment_id": 101474022, "body": "It looks okay as far as it goes. But keep in mind my answer on that other question also ensures that the timing is synchronized to the clock, so that &quot;every five minutes&quot; or &quot;every hour&quot; will in fact continue to occur on exactly (or as close as possible) to the actual five-minute/hourly marks. Built-in timers are inherently inaccurate and will drift over time, so you may find that after some time (perhaps hours, perhaps days), your timer is no longer firing right at the top of the hour."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565819702, "post_id": 57498658, "comment_id": 101474043, "body": "(By the way, if you want a specific user to be notified when you post a comment, e.g. if you intend the comment to be directed to them, you need to include their name in the comment, with an <code>@</code> character immediately before. E.g. @nop. In certain cases, users are notified even without that -- if the comment is below their post, or a post they edited, or they are the only person to have commented on the post so far -- but generally it&#39;s a good idea to be explicit if you want to make sure they get are notified.)"}, {"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565828400, "post_id": 57498658, "comment_id": 101475706, "body": "@PeterDuniho, thank you for the amazing explanation and help!"}, {"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565829967, "post_id": 57498658, "comment_id": 101475931, "body": "@PeterDuniho, I almost forgot, how do I stop the timer? <code>_tokenSource?.Cancel();</code>? And is it a good practice to dispose the CancellationTokenSource? I edited the question once again with complete code."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565830546, "post_id": 57498658, "comment_id": 101476015, "body": "Yes, cancelling the token source is the intended design there. Note that you don&#39;t save the <code>Task</code> object, which means you&#39;ll never observe the exception that terminates the timer loop, so you might as well put <code>try { ... } catch (OperationCancelledException) { return; }</code> around the whole loop. I would also add explicit checks for null on the start/stop methods, rather than using <code>?.</code>, and don&#39;t allow starting if already started, nor stopping if not running, and set the <code>_tokenSource</code> to <code>null</code> when not running (i.e. after stopped, dispose and set to <code>null</code>)."}, {"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565861065, "post_id": 57498658, "comment_id": 101482930, "body": "@PeterDuniho, thanks! I edited my question with the final code. Is that what you meant?"}, {"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565866160, "post_id": 57498658, "comment_id": 101484743, "body": "@PeterDuniho something is wrong with this method or I did something wrong. The result is: <code>Timed Background Service is working. Current time: 8&#47;15&#47;2019 12:59:59 PM</code>. Somehow the timer ticks at x:59:59 instead of x:00:00."}, {"owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "edited": false, "score": 0, "creation_date": 1565869169, "post_id": 57498658, "comment_id": 101485770, "body": "<code>info: Project.Services.BotHostedService[0]       Timed Background Service is working. Current time: 8&#47;15&#47;2019 12:59:59 PM info: Project.Services.BotHostedService[0]       Timed Background Service is working. Current time: 8&#47;15&#47;2019 2:00:00 PM</code>"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565925770, "post_id": 57498658, "comment_id": 101504775, "body": "It looks mostly fine to me. Keep in mind that there are limits to Windows&#39; own timing and thread scheduling mechanisms. Over an hour, imprecision in the system clock itself could lead to the <i>appearance</i> of an early triggering. Conversely, imprecision in the thread scheduling can result in an actual early triggering. Either way, I suspect that if you were to print the milliseconds as well, you&#39;d find that the actual clock time when triggered is going to be less than half a second off either way."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565926051, "post_id": 57498658, "comment_id": 101504812, "body": "I will point out a couple of notes on your version of <code>RoundCurrentToNextOneHour()</code>: because the <code>Minute</code> property is always less than 60, the calculation will always just add 60 minutes to whatever the initial <code>result</code> value is. You might as well just implement the method like <code>DateTime now = DateTime.UtcNow; return new DateTime(now.Year, now.Month, now.Day, now.Hour + 1, 0, 0);</code>. Note also that it is better to use <code>UtcNow</code> instead of <code>Now</code> for all internal time calculations, so that your timing isn&#39;t screwed up by time zone issues, like Daylight Saving. ..."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1565926055, "post_id": 57498658, "comment_id": 101504814, "body": "...  You should only use non-UTC time when actually <i>displaying</i> the time to the user (assuming local time is desired in that context, which it usually is). You would convert from UTC to local for that purpose, and that purpose only."}], "answers": [{"tags": [], "owner": {"reputation": 78, "user_id": 9099253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9e465bc32418b10ee7a1b55f2e144af?s=128&d=identicon&r=PG&f=1", "display_name": "Bakaji", "link": "https://stackoverflow.com/users/9099253/bakaji"}, "is_accepted": false, "score": -1, "last_activity_date": 1565802944, "creation_date": 1565802944, "answer_id": 57499264, "question_id": 57498658, "link": "https://stackoverflow.com/questions/57498658/c-timer-ticking-on-each-rounded-hour-literally/57499264#57499264", "title": "C# Timer ticking on each rounded hour (literally)", "body": "<p>Make another timer with 1 minute interval that checks for minute value then when minutes comes to 0 it launch the main timer then turn the assist timer off</p>\n"}], "owner": {"reputation": 1445, "user_id": 13677853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb8109a798cab3a2c53568ee21cb8ef4?s=128&d=identicon&r=PG&f=1", "display_name": "nop", "link": "https://stackoverflow.com/users/13677853/nop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "closed_date": 1565807364, "answer_count": 1, "score": 0, "last_activity_date": 1565860977, "creation_date": 1565800093, "last_edit_date": 1565860977, "question_id": 57498658, "link": "https://stackoverflow.com/questions/57498658/c-timer-ticking-on-each-rounded-hour-literally", "closed_reason": "Duplicate", "title": "C# Timer ticking on each rounded hour (literally)", "body": "<p>I have a task which is supposed to grab some information from an API on each hour. By each hour, I mean literally on each hour, like: 10:00, 11:00, etc. The following code executes <code>DoWork</code> method on each hour but not on every rounded hour (like 10:00) but 1 hour after the service starts instead.</p>\n\n<pre><code>public class SelfHostedService : IHostedService, IDisposable\n{\n    private readonly ILogger _logger;\n    private Timer _timer;\n\n    public SelfHostedService(ILogger&lt;SelfHostedService&gt; logger)\n    {\n        _logger = logger;\n    }\n\n    public Task StartAsync(CancellationToken cancellationToken)\n    {\n        _logger.LogInformation(\"Timed Background Service is starting.\");\n\n        _timer = new Timer(DoWork, null, TimeSpan.Zero,\n            TimeSpan.FromHours(1));\n\n        return Task.CompletedTask;\n    }\n\n    private void DoWork(object state)\n    {\n        _logger.LogInformation(\"Timed Background Service is working.\");\n    }\n\n    public Task StopAsync(CancellationToken cancellationToken)\n    {\n        _logger.LogInformation(\"Timed Background Service is stopping.\");\n\n        _timer?.Change(Timeout.Infinite, 0);\n\n        return Task.CompletedTask;\n    }\n\n    public void Dispose()\n    {\n        _timer?.Dispose();\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>public class BotHostedService : IHostedService\n{\n    private readonly ILogger _logger;\n    private CancellationTokenSource _tokenSource;\n    private Task _timer;\n\n    public BotHostedService(ILogger&lt;BotHostedService&gt; logger)\n    {\n        _logger = logger;\n    }\n\n    private DateTime RoundCurrentToNextOneHour()\n    {\n        DateTime now = DateTime.Now, result = new DateTime(now.Year, now.Month, now.Day, now.Hour, 0, 0);\n        return result.AddMinutes(((now.Minute / 60) + 1) * 60);\n    }\n\n    private async Task RunPeriodically(Action action, DateTime startTime, TimeSpan interval, CancellationToken token)\n    {\n        DateTime nextRunTime = startTime;\n\n        try\n        {\n            while (true)\n            {\n                TimeSpan delay = nextRunTime - DateTime.Now;\n\n                if (delay &gt; TimeSpan.Zero)\n                {\n                    await Task.Delay(delay, token);\n                }\n\n                action();\n\n                nextRunTime += interval;\n            }\n        }\n        catch (OperationCanceledException)\n        {\n            return;\n        }\n    }\n\n    private void DoWork()\n    {\n        _logger.LogInformation($\"Timed Background Service is working. Current time: {DateTime.Now.ToLocalTime()}\");\n    }\n\n    public Task StartAsync(CancellationToken cancellationToken)\n    {\n        _logger.LogInformation(\"Timed Background Service is starting.\");\n\n        if (_timer == null)\n        {\n            _tokenSource = new CancellationTokenSource();\n            DateTime startTime = RoundCurrentToNextOneHour();\n            _timer = RunPeriodically(DoWork, startTime, TimeSpan.FromHours(1), _tokenSource.Token);\n        }\n\n        return Task.CompletedTask;\n    }\n\n    public Task StopAsync(CancellationToken cancellationToken)\n    {\n        _logger.LogInformation(\"Timed Background Service is stopping.\");\n\n        if (_timer != null)\n        {\n            _timer = null;\n\n            _tokenSource.Cancel();\n            _tokenSource.Dispose();\n            _tokenSource = null;\n        }\n\n        return Task.CompletedTask;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms", "treeview"], "comments": [{"owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "edited": false, "score": 0, "creation_date": 1566369325, "post_id": 57498627, "comment_id": 101629340, "body": "<code>QTreeView</code> is different from <code>TreeView</code>. I noticed you have asked the question about <code>TreeView</code> but used <code>QTreeView</code> tag. Which one is correct?"}], "answers": [{"tags": [], "owner": {"reputation": 103049, "user_id": 3110834, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/777326f9f1ab58d98d927662f028944e?s=128&d=identicon&r=PG", "display_name": "Reza Aghaei", "link": "https://stackoverflow.com/users/3110834/reza-aghaei"}, "is_accepted": false, "score": 2, "last_activity_date": 1569853690, "last_edit_date": 1569853690, "creation_date": 1565809291, "answer_id": 57500577, "question_id": 57498627, "link": "https://stackoverflow.com/questions/57498627/autoresize-property-in-treeview-in-window-form/57500577#57500577", "title": "AutoResize property in treeview in window form", "body": "<p>You can send <a href=\"https://docs.microsoft.com/en-us/windows/win32/controls/tvm-getnextitem?WT.mc_id=DT-MVP-5003235\" rel=\"nofollow noreferrer\"><code>TVM_GETNEXTITEM</code></a> message to <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.windows.forms.treeview?WT.mc_id=DT-MVP-5003235\" rel=\"nofollow noreferrer\"><code>TreeView</code></a>, passing <code>TVGN_LASTVISIBLE</code> as <code>wParam</code> to get the handle of last node of the treeview.</p>\n\n<p>Then you can call the internal <code>NodeFromHandle</code> method to get the node from handle. Then you can use <code>Bound</code> property of the node to find its bound. <code>Top</code> + <code>Height</code> of the last item, determines required height of <code>TreeView</code>:</p>\n\n<pre><code>const int TVM_GETNEXTITEM = 0x1100 + 10;\nconst int TVGN_LASTVISIBLE = 0x000A;\n[System.Runtime.InteropServices.DllImport(\"user32.dll\")]\nextern static IntPtr SendMessage(IntPtr hWnd, int Msg, int wParam, IntPtr lParam);\n\nvoid AdjustTreeViewHeight(TreeView treeView)\n{\n    treeView.Scrollable = false;\n    var nodeHandle = SendMessage(treeView.Handle, TVM_GETNEXTITEM, \n        TVGN_LASTVISIBLE, IntPtr.Zero);\n    var node = treeView.GetType().GetMethod(\"NodeFromHandle\",\n        System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance)\n        .Invoke(treeView, new object[] { nodeHandle }) as TreeNode;\n    var r = node.Bounds;\n    treeView.Height = r.Top + r.Height + 4;\n}\n</code></pre>\n\n<p>Cal above method after adding/removing nodes, also in <code>AfterCollapse</code> and <code>AfterExpand</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CBkEM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CBkEM.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2264, "user_id": 1659719, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36b791661bd8e18a8cc7b6c081d6611e?s=128&d=identicon&r=PG", "display_name": "Shyam sundar shah", "link": "https://stackoverflow.com/users/1659719/shyam-sundar-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569853690, "creation_date": 1565799965, "last_edit_date": 1566378341, "question_id": 57498627, "link": "https://stackoverflow.com/questions/57498627/autoresize-property-in-treeview-in-window-form", "title": "AutoResize property in treeview in window form", "body": "<p>I want to resize treeview based on treenodes. When it expand i want to show all item but when it collapse i want to show just root node and decrease height of treeview. I just tried is any property similar to auto resize but it was not found. If anybody help me on this problem it will be great.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 3, "creation_date": 1565799305, "post_id": 57498480, "comment_id": 101466559, "body": "Readonly fields. There is no reason to use a property here."}, {"owner": {"reputation": 5838, "user_id": 1075282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70efe94a6c2237ec96f429402a03a27d?s=128&d=identicon&r=PG", "display_name": "Renat", "link": "https://stackoverflow.com/users/1075282/renat"}, "edited": false, "score": 0, "creation_date": 1565799643, "post_id": 57498480, "comment_id": 101466733, "body": "They are the same: both private (so invisible outside the class, so no extra coupling and could be refactored between each other any time), both are assignable only in constructor."}], "answers": [{"comments": [{"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 3, "creation_date": 1565800188, "post_id": 57498609, "comment_id": 101466991, "body": "&quot;<i>equivalent in term of generated bytecode</i>&quot; -- not true, the property generates the backing field, <b>plus</b> a property which wraps it. <a href=\"https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQxASwDYB8ACAmARgFgAoHAZgAJ9KBhSgb1MpcoAcE0A3CeShOBAAmAewB2GAJ7UCABkoQA3M1YduvODPnBGlAOZwYiygF9SJoA=\" rel=\"nofollow noreferrer\">SharpLab</a>"}, {"owner": {"reputation": 935, "user_id": 425051, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/50749458bed07c5816f12fc9c76010ba?s=128&d=identicon&r=PG", "display_name": "Ferdinando Santacroce", "link": "https://stackoverflow.com/users/425051/ferdinando-santacroce"}, "reply_to_user": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1565892886, "post_id": 57498609, "comment_id": 101496550, "body": "Yes, you&#39;re true. Automatic properties generates automatically backing fields, so using them or writing your own backing field ala C# &lt; 3.0 is the same. Automatic properties are just syntactic sugar.   I don&#39;t know why I wrote that other thing, sorry :|"}], "tags": [], "owner": {"reputation": 935, "user_id": 425051, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/50749458bed07c5816f12fc9c76010ba?s=128&d=identicon&r=PG", "display_name": "Ferdinando Santacroce", "link": "https://stackoverflow.com/users/425051/ferdinando-santacroce"}, "is_accepted": false, "score": -1, "last_activity_date": 1565893073, "last_edit_date": 1565893073, "creation_date": 1565799898, "answer_id": 57498609, "question_id": 57498480, "link": "https://stackoverflow.com/questions/57498480/should-injected-dependencies-be-readonly-fields-or-private-properties/57498609#57498609", "title": "Should injected dependencies be readonly fields or private properties", "body": "<p>[Using a private readonly property with a getter or a private readonly field is equivalent in term of generated bytecode, so it's just a matter of taste.] &lt;-- this is not true, as pointed below. Sorry for the inconvenience.  </p>\n\n<p>I prefer (and use) private fields, as I consider them more clear semantically (in my mind a field is private, fullstop) and less verbose (no need for that awful { get; }, I hate getters \ud83d\ude04).  </p>\n"}, {"tags": [], "owner": {"reputation": 2355, "user_id": 9918730, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Sqil.jpg?s=128&g=1", "display_name": "GoldenAge", "link": "https://stackoverflow.com/users/9918730/goldenage"}, "is_accepted": false, "score": 0, "last_activity_date": 1565810724, "last_edit_date": 1565810724, "creation_date": 1565800466, "answer_id": 57498732, "question_id": 57498480, "link": "https://stackoverflow.com/questions/57498480/should-injected-dependencies-be-readonly-fields-or-private-properties/57498732#57498732", "title": "Should injected dependencies be readonly fields or private properties", "body": "<p>I think <code>readonly</code> field is the safest approach as it prevents you from creating a new instance of the field in a different place than the constructor(Single Responsibility Principle). The decision what kind of implementation for interfaces should be used in a given class should be done at the level of the DI container. You can inject different objects for different environments, based on the app settings in your Continuous Delivery pipeline. Though you don't have to worry about weird things like e.g. using some <code>AzureSerive</code> when using OnPremise version of the app etc. </p>\n"}, {"tags": [], "owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "is_accepted": true, "score": 5, "last_activity_date": 1565800507, "creation_date": 1565800507, "answer_id": 57498749, "question_id": 57498480, "link": "https://stackoverflow.com/questions/57498480/should-injected-dependencies-be-readonly-fields-or-private-properties/57498749#57498749", "title": "Should injected dependencies be readonly fields or private properties", "body": "<p>You should use a readonly field.</p>\n\n<p>The are three reasons to use properties over fields:</p>\n\n<ol>\n<li>You want to add some extra logic which is run when the property is accessed.</li>\n<li>You want to reserve the right to add some extra logic in the future, without changing your interface.</li>\n<li>You're using some tool / serialization framework which only deals with properties, and ignores fields.</li>\n</ol>\n\n<p>Point 2 is why people recommend using properties instead of fields for all public (and sometimes protected) members. Point 1 (and perhaps point 3, in rare cases) is the only reason you would create a private property.</p>\n\n<p>None of those points apply here. The property is only adding extra overhead, and there's no reason to pay that cost for zero gain.</p>\n"}], "owner": {"reputation": 652, "user_id": 1384969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37af2f898640dd624f2cb41fb98a8ff8?s=128&d=identicon&r=PG", "display_name": "mikeagg", "link": "https://stackoverflow.com/users/1384969/mikeagg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "closed_date": 1565810812, "accepted_answer_id": 57498749, "answer_count": 3, "score": 2, "last_activity_date": 1565893073, "creation_date": 1565799234, "question_id": 57498480, "link": "https://stackoverflow.com/questions/57498480/should-injected-dependencies-be-readonly-fields-or-private-properties", "closed_reason": "Opinion-based", "title": "Should injected dependencies be readonly fields or private properties", "body": "<p>We have a small disagreement within my team over whether injected dependencies should be stored as readonly fields:</p>\n\n<pre><code>public class MyClient\n{\n    private readonly IService service;\n    public MyClient(IService service)\n    {\n        this.service = service;\n    }\n }\n</code></pre>\n\n<p>or as private readonly properties:</p>\n\n<pre><code>public class MyClient\n{\n    private IService Service { get; }\n    public MyClient(IService service)\n    {\n        Service = service;\n    }\n }\n</code></pre>\n\n<p>Are there any advantages to one choice over the other? I favour the former but it seems half of our classes use the latter.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 55713, "user_id": 26095, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WLsjF.jpg?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/26095/sean"}, "edited": false, "score": 5, "creation_date": 1565798843, "post_id": 57498349, "comment_id": 101466358, "body": "What&#39;s wrong with using <code>using</code> ?"}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 4, "creation_date": 1565798866, "post_id": 57498349, "comment_id": 101466371, "body": "Do you have a specific reason to avoid using?"}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 1, "creation_date": 1565798896, "post_id": 57498349, "comment_id": 101466381, "body": "Use <code>try</code>, <code>catch</code>, and call <code>streamReader.Close(); streamReader.Dispose();</code> in a <code>finally</code> block."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "edited": false, "score": 3, "creation_date": 1565798990, "post_id": 57498349, "comment_id": 101466432, "body": "@dvo That is <b>literally</b> what using does."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1565798996, "post_id": 57498349, "comment_id": 101466438, "body": "The <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-statement\" rel=\"nofollow noreferrer\">documentation for the <code>using</code> statement</a> shows exactly what the syntax is short for..."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565799332, "post_id": 57498349, "comment_id": 101466577, "body": "There are cases where you can&#39;t use <code>using</code> because you need the object alive after you leave a specific block of code, so I understand the question."}, {"owner": {"reputation": 914, "user_id": 5843840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58ecdbd6cee1807add0dcbbeb0f22a64?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/5843840/jones"}, "edited": false, "score": 0, "creation_date": 1565799496, "post_id": 57498349, "comment_id": 101466665, "body": "I edited the question to add more detail."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565799680, "post_id": 57498349, "comment_id": 101466745, "body": "@GabrielLuci: At this point, you implement the Dispose pattern into whatever class keeps the undisposed reference."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 0, "creation_date": 1565799981, "post_id": 57498349, "comment_id": 101466896, "body": "@Christopher I know :) I think @Jones just doesn&#39;t know that <code>.Dispose()</code> exists."}, {"owner": {"reputation": 13386, "user_id": 5114784, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/OcTVf.jpg?s=128&g=1", "display_name": "Gy&#246;rgy K\u0151szeg", "link": "https://stackoverflow.com/users/5114784/gy%c3%b6rgy-k%c5%91szeg"}, "edited": false, "score": 0, "creation_date": 1565800011, "post_id": 57498349, "comment_id": 101466912, "body": "The details just made the question even more unclear. It seems you want to reimplement <code>FileStream</code>. You can use the same pattern: it also has a <code>Close</code> method, which just calls its <code>Dispose</code> after all. So calling its <code>Close</code> at the end is basicly the same as putting it into a <code>using</code> block."}, {"owner": {"reputation": 2048, "user_id": 10552687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fd4bd62f003f927fbf2881ba3a31716?s=128&d=identicon&r=PG&f=1", "display_name": "dvo", "link": "https://stackoverflow.com/users/10552687/dvo"}, "reply_to_user": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "edited": false, "score": 1, "creation_date": 1565800120, "post_id": 57498349, "comment_id": 101466964, "body": "@Christopher You&#39;re correct. That&#39;s why I use <code>using</code>... But question asks how to do the equivalent. That&#39;s it"}], "answers": [{"comments": [{"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 1, "creation_date": 1565799369, "post_id": 57498381, "comment_id": 101466594, "body": "The main point here that answers the question is that <code>f.Dispose()</code> is the C# equivalent to <code>f.close()</code>in Python. The <code>using</code> statement just calls <code>.Dispose()</code> for you."}, {"owner": {"reputation": 914, "user_id": 5843840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58ecdbd6cee1807add0dcbbeb0f22a64?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/5843840/jones"}, "edited": false, "score": 0, "creation_date": 1565799707, "post_id": 57498381, "comment_id": 101466758, "body": "I can&#39;t use <code>try</code>/<code>catch</code> either. Are you saying that <code>.Dispose()</code> is safe to use?"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 914, "user_id": 5843840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58ecdbd6cee1807add0dcbbeb0f22a64?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/5843840/jones"}, "edited": false, "score": 0, "creation_date": 1565800223, "post_id": 57498381, "comment_id": 101467004, "body": "@Jones <code>using</code> just calls <code>Dispose()</code> for you. So yes, you can call <code>Dispose()</code> yourself if you need to."}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "reply_to_user": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "edited": false, "score": 0, "creation_date": 1565800416, "post_id": 57498381, "comment_id": 101467072, "body": "@GabrielLuci Erm, that&#39;s not quite the whole story. <code>using</code> <i>guarantees</i> that <code>Dispose</code> will be called, regardless of whether there was an exception; calling <code>Dispose</code> directly, care would need to be taken in how the code around the <code>Dispose</code> call was written."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 0, "creation_date": 1565801016, "post_id": 57498381, "comment_id": 101467298, "body": "@KennethK. Yes, of course. If you&#39;re going to do it yourself, you need to make sure it gets called regardless of what happens or you&#39;ll end up with a memory leak."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 914, "user_id": 5843840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58ecdbd6cee1807add0dcbbeb0f22a64?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/5843840/jones"}, "edited": false, "score": 0, "creation_date": 1565801942, "post_id": 57498381, "comment_id": 101467689, "body": "@Jones A finally block will run, taht is it&#39;s most important property. It will run if the programm normally leaves the block. If it leaves due to an exception. Or even if you step out of the block using return. Using is just a shorthand for that try/finalize block and all that code."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 914, "user_id": 5843840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58ecdbd6cee1807add0dcbbeb0f22a64?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/5843840/jones"}, "edited": false, "score": 0, "creation_date": 1565802071, "post_id": 57498381, "comment_id": 101467734, "body": "@Jones You do <b>not</b> what to split up the creation and disposing of any unmanaged resource. create, use, dispose - all in the same block. Ideally using a using block. Redesign your programm rather then risk having to contratict that pattern."}, {"owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "reply_to_user": {"reputation": 914, "user_id": 5843840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58ecdbd6cee1807add0dcbbeb0f22a64?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/5843840/jones"}, "edited": false, "score": 0, "creation_date": 1565803585, "post_id": 57498381, "comment_id": 101468305, "body": "@Jones There is one rare case where you can violate that rule. But that is advanced stuff and requires properly implementing the Dispose pattern. As you are clearly a beginner, I advise towards just a minor redesign of your application."}], "tags": [], "owner": {"reputation": 8940, "user_id": 3346583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a1c10fae65fb338a8d62f4ba464a6db?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/3346583/christopher"}, "is_accepted": true, "score": 8, "last_activity_date": 1565799068, "last_edit_date": 1565799068, "creation_date": 1565798854, "answer_id": 57498381, "question_id": 57498349, "link": "https://stackoverflow.com/questions/57498349/what-is-the-best-way-to-open-and-close-a-file-without-the-using-keyword/57498381#57498381", "title": "What is the best way to open and close a file without the `using` keyword", "body": "<p>using is the best way. Also the only one that is remotely reliable and adviseable. You should avoid spliting up the creation and disposing of resources.</p>\n\n<p>And it is little more then shorthand for a try/finally, null-check, dispose.</p>\n\n<p>Indeed the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-statement\" rel=\"nofollow noreferrer\">example code</a> has this:</p>\n\n<pre><code>using (var font1 = new Font(\"Arial\", 10.0f)) \n{\n    byte charset = font1.GdiCharSet;\n}\n</code></pre>\n\n<p>Which is (almost) equivalent to this:</p>\n\n<pre><code>{\n  var font1 = new Font(\"Arial\", 10.0f);\n  try\n  {\n    byte charset = font1.GdiCharSet;\n  }\n  finally\n  {\n    if (font1 != null)\n      ((IDisposable)font1).Dispose();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 914, "user_id": 5843840, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58ecdbd6cee1807add0dcbbeb0f22a64?s=128&d=identicon&r=PG&f=1", "display_name": "Jones", "link": "https://stackoverflow.com/users/5843840/jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "closed_date": 1565811001, "accepted_answer_id": 57498381, "answer_count": 1, "score": -1, "last_activity_date": 1565799480, "creation_date": 1565798762, "last_edit_date": 1565799480, "question_id": 57498349, "link": "https://stackoverflow.com/questions/57498349/what-is-the-best-way-to-open-and-close-a-file-without-the-using-keyword", "closed_reason": "Needs details or clarity", "title": "What is the best way to open and close a file without the `using` keyword", "body": "<p>I'm fairly new to c#. In Python you have the option of either using the <code>with</code> keyword, or simply calling <code>f = open('filename')</code> and <code>f.close()</code>. Is there a c# equivalent to the later?</p>\n\n<p>I'm avoiding using <code>using</code> because I'm trying to write bindings for a language which doesn't have a syntactic equivalent. I was hoping to write a class which had a <code>open()</code> and <code>close()</code> methods, and keep it as 1:1 as possible.</p>\n"}, {"tags": ["c#", "xamarin.forms", "json.net"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1565798865, "post_id": 57498326, "comment_id": 101466368, "body": "have you compared the raw json returned in code vs. postman?  Are they the same or different?  If they are different then none of the code you posted is relevant to solving the problem."}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1565799214, "post_id": 57498326, "comment_id": 101466526, "body": "Yes i compared them and they are the same."}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1565799312, "post_id": 57498326, "comment_id": 101466562, "body": "so when you deserialize there are just some items missing?  How many?  Is there any pattern?"}, {"owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1565799383, "post_id": 57498326, "comment_id": 101466605, "body": "@Anthony How are you sending up the typed keyword?  As the user types or do they have a submit button to click?"}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565799437, "post_id": 57498326, "comment_id": 101466629, "body": "Their is no number to how many is missing, i dont think there is a pattern. How i know some are missing is when i test the same keyword in postman i get the correct listing but when i test with the app i dont"}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1565799492, "post_id": 57498326, "comment_id": 101466663, "body": "@GaryStewart as the user types i am sending up the keyword and hitting the API"}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565799559, "post_id": 57498326, "comment_id": 101466690, "body": "Do you think it has something to do with the TextChanged event ??"}, {"owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1565799592, "post_id": 57498326, "comment_id": 101466706, "body": "So what you are seeing are the results as the user types.  The requests are going up in an async manner and can return out of order."}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1565799669, "post_id": 57498326, "comment_id": 101466740, "body": "@GaryStewart yes as the user types i am returning results from the API"}, {"owner": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1565799918, "post_id": 57498326, "comment_id": 101466867, "body": "@Anthony Exactly ... You are probably firing multiple calls to the API before the previous call(s) have returned."}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1565800010, "post_id": 57498326, "comment_id": 101466911, "body": "@GaryStewart is there a way to limit that??"}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "reply_to_user": {"reputation": 146, "user_id": 2774038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b7330dcdbe81107dfcf8f329739e1b?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Stewart", "link": "https://stackoverflow.com/users/2774038/gary-stewart"}, "edited": false, "score": 0, "creation_date": 1565800617, "post_id": 57498326, "comment_id": 101467144, "body": "@GaryStewart i logged the error to App center as it returns  <code>Newtonsoft.Json.JsonSerializationException: Must specify valid information for parsing in the string</code>"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1565801533, "post_id": 57498326, "comment_id": 101467524, "body": "Your answers are contradicting each other.  You said the raw responses from Postman and the app are identical.  Then later you say one returns a correct result and one doesn&#39;t - so obviously they aren&#39;t identical."}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "reply_to_user": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1565801849, "post_id": 57498326, "comment_id": 101467646, "body": "@Jason it is identical, when i debug it skip this line: <code>var potentialPoints = new ObservableCollection&lt;Point&gt;(pointsJsonResponse.Result.Points&zwnj;&#8203;);</code>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1565819565, "post_id": 57498326, "comment_id": 101474013, "body": "The JSON in your question deserializes successfully, see <a href=\"https://dotnetfiddle.net/nDhNPL\" rel=\"nofollow noreferrer\">dotnetfiddle.net/nDhNPL</a>"}], "answers": [{"comments": [{"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565805948, "post_id": 57499097, "comment_id": 101469254, "body": "It still doesnt seem to deserialize"}, {"owner": {"reputation": 3164, "user_id": 46307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2a30d8bc59e2ccb6e83bb498d519394a?s=128&d=identicon&r=PG", "display_name": "Roubachof", "link": "https://stackoverflow.com/users/46307/roubachof"}, "reply_to_user": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565806173, "post_id": 57499097, "comment_id": 101469342, "body": "Then your issue is in your <code>apiContent</code> string, so you need to update your post and add the code which creates this string."}, {"owner": {"reputation": 3164, "user_id": 46307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2a30d8bc59e2ccb6e83bb498d519394a?s=128&d=identicon&r=PG", "display_name": "Roubachof", "link": "https://stackoverflow.com/users/46307/roubachof"}, "reply_to_user": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565807118, "post_id": 57499097, "comment_id": 101469746, "body": "Well your update is not good: you retrieve a apiResponse, and you deserialize a apiContent."}, {"owner": {"reputation": 3164, "user_id": 46307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2a30d8bc59e2ccb6e83bb498d519394a?s=128&d=identicon&r=PG", "display_name": "Roubachof", "link": "https://stackoverflow.com/users/46307/roubachof"}, "reply_to_user": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565807636, "post_id": 57499097, "comment_id": 101469959, "body": "ok now put a breakpoint just after this line, and copy paste the value of apiContent in your post. And also update your post with all your SearchPoints, Result and Point classes with the changes you made on the List"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1565809275, "post_id": 57499097, "comment_id": 101470551, "body": "the casing of your property names does not match the json"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 0, "creation_date": 1565809644, "post_id": 57499097, "comment_id": 101470703, "body": "your property is &quot;Valid&quot; and the json is &quot;valid&quot; - Newtonsoft will not (I think) match those unless you specify a mapping attribute.  The same problem applies to all of the properties in your model."}, {"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565809809, "post_id": 57499097, "comment_id": 101470764, "body": "This is what makes it tricky because it did pick up that keyword and showed it on the screen. To be clear it rendered that above JSON and showed it in a listview correctly"}, {"owner": {"reputation": 3164, "user_id": 46307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2a30d8bc59e2ccb6e83bb498d519394a?s=128&d=identicon&r=PG", "display_name": "Roubachof", "link": "https://stackoverflow.com/users/46307/roubachof"}, "reply_to_user": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 0, "creation_date": 1565810025, "post_id": 57499097, "comment_id": 101470838, "body": "@Anthony update your initial post, please stop adding comments. Also update SearchPoints, Result and Point classes with the changes you made on the List"}, {"owner": {"reputation": 3164, "user_id": 46307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2a30d8bc59e2ccb6e83bb498d519394a?s=128&d=identicon&r=PG", "display_name": "Roubachof", "link": "https://stackoverflow.com/users/46307/roubachof"}, "edited": false, "score": 0, "creation_date": 1565811528, "post_id": 57499097, "comment_id": 101471373, "body": "you didn&#39;t update your Model classes.. There are still some List&lt;object&gt; in it"}], "tags": [], "owner": {"reputation": 3164, "user_id": 46307, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2a30d8bc59e2ccb6e83bb498d519394a?s=128&d=identicon&r=PG", "display_name": "Roubachof", "link": "https://stackoverflow.com/users/46307/roubachof"}, "is_accepted": false, "score": 0, "last_activity_date": 1565818678, "last_edit_date": 1565818678, "creation_date": 1565802207, "answer_id": 57499097, "question_id": 57498326, "link": "https://stackoverflow.com/questions/57498326/deserialize-object-does-not-return-full-data-in-xamarin-forms/57499097#57499097", "title": "Deserialize object does not return full data in Xamarin.Forms", "body": "<p>I'm pretty sure Json.Net cannot deserialize an 'object' type. It needs the real type:</p>\n\n<p>So replace all your <code>List&lt;object&gt;</code> with <code>List&lt;TRealType&gt;</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>    public List&lt;string&gt; Aliases { get; set; }\n    public List&lt;string&gt; Comments { get; set; }\n    public List&lt;string&gt; Images { get; set; }\n</code></pre>\n\n<p>If you still get the error, then the error is in your <code>apiContent</code> variable which would not be a proper json string.</p>\n\n<p>You also need to put the <code>[JsonConverter(typeof(StringEnumConverter))]</code> attribute on your enum type.</p>\n"}, {"comments": [{"owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "edited": false, "score": 1, "creation_date": 1565823190, "post_id": 57502714, "comment_id": 101474819, "body": "Thank you, i knew i was parsing the JSON correctly but i didnt understand <code>EnumUtils.ParseEnum (System.Type enumType, Newtonsoft.Json.Serialization.NamingStrategy namingStrategy, System.String value, System.Boolean disallowNumber)</code> error"}], "tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 2, "last_activity_date": 1565830866, "last_edit_date": 1565830866, "creation_date": 1565820810, "answer_id": 57502714, "question_id": 57498326, "link": "https://stackoverflow.com/questions/57498326/deserialize-object-does-not-return-full-data-in-xamarin-forms/57502714#57502714", "title": "Deserialize object does not return full data in Xamarin.Forms", "body": "<p>The JSON shown in your question deserializes successfully into the data model shown in your question, see <a href=\"https://dotnetfiddle.net/nDhNPL\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/nDhNPL</a>.</p>\n\n<p>The exception shown in your question, however, provides some information.  The (somewhat opaque) message <em>Must specify valid information for parsing in the string</em> only appears <strong>only once</strong> in the Json.NET sources, according to a <a href=\"https://github.com/JamesNK/Newtonsoft.Json/search?q=Must+specify+valid+information+for+parsing+in+the+string.&amp;unscoped_q=Must+specify+valid+information+for+parsing+in+the+string.\" rel=\"nofollow noreferrer\">search</a>, specifically in <a href=\"https://github.com/JamesNK/Newtonsoft.Json/blob/master/Src/Newtonsoft.Json/Utilities/EnumUtils.cs#L287\" rel=\"nofollow noreferrer\"><code>EnumUtils.ParseEnum(Type enumType, NamingStrategy? namingStrategy, string value, bool disallowNumber)</code></a>:</p>\n\n<pre><code>public static object ParseEnum(Type enumType, NamingStrategy? namingStrategy, string value, bool disallowNumber)\n{\n\n// SNIP\n\n    if (firstNonWhitespaceIndex == -1)\n    {\n        throw new ArgumentException(\"Must specify valid information for parsing in the string.\");\n    }\n</code></pre>\n\n<p>The relevant code is throwing an exception if, when parsing an <code>enum</code> string, the incoming value contains only whitespace.  So I modified the JSON in your question as follows:</p>\n\n<pre><code>    \"floor\": \" \",\n</code></pre>\n\n<p>And reproduced the exception as shown here: <a href=\"https://dotnetfiddle.net/6zaG9W\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/6zaG9W</a>.</p>\n\n<p>Thus you must actually be attempting to parse JSON with an empty or whitespace value for <code>Floor</code> and failing because this is not possible.  To make this work, you could:</p>\n\n<ol>\n<li><p>Change <code>Point.Floor</code> to be a string:</p>\n\n<pre><code>public string Floor { get; set; }\n</code></pre>\n\n<p>The JSON will now parse successfully.  Demo fiddle here: <a href=\"https://dotnetfiddle.net/zg5YWr\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/zg5YWr</a>.</p></li>\n<li><p>Use a special subclass of <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Converters_StringEnumConverter.htm\" rel=\"nofollow noreferrer\"><code>StringEnumConverter</code></a> that handles empty strings for <code>Floor</code>.  One example is shown in the <a href=\"https://stackoverflow.com/a/20106359\">answer</a> to <em><a href=\"https://stackoverflow.com/q/20104575\">How to handle deserialization of empty string into enum in json.net</a></em> by <a href=\"https://stackoverflow.com/users/622834/davor-zlotrg\">Davor Zlotrg</a>, which I generalize here:</p>\n\n<pre><code>public class EmptyTolerantStringEnumConverter : StringEnumConverter\n{\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        if (reader.TokenType == JsonToken.String &amp;&amp; string.IsNullOrWhiteSpace(reader.Value.ToString()))\n            // Return a default value.  Note if deserializing a nullable enum the default value is null\n            return Activator.CreateInstance(objectType);\n\n        return base.ReadJson(reader, objectType, existingValue, serializer);\n    }       \n}\n</code></pre>\n\n<p>And apply it as follows:</p>\n\n<pre><code>[JsonConverter(typeof(EmptyTolerantStringEnumConverter))]\npublic Floor Floor { get; set; }\n</code></pre>\n\n<p>Or, if you prefer to map <code>\"\"</code> to a nullable:</p>\n\n<pre><code>[JsonConverter(typeof(EmptyTolerantStringEnumConverter))]\npublic Floor? Floor { get; set; }\n</code></pre>\n\n<p>Demo fiddle here: <a href=\"https://dotnetfiddle.net/DwGKHU\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/DwGKHU</a></p></li>\n</ol>\n\n<p>Related: <em><a href=\"https://stackoverflow.com/q/7427909/3744182\">How to tell Json.Net globally to apply the StringEnumConverter to all enums</a></em> and <em><a href=\"https://stackoverflow.com/q/7799769/3744182\">parsing an enumeration in JSON.net</a></em>.</p>\n"}], "owner": {"reputation": 92, "user_id": 6918320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9igbm.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/6918320/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "accepted_answer_id": 57502714, "answer_count": 2, "score": 0, "last_activity_date": 1565830866, "creation_date": 1565798675, "last_edit_date": 1565830664, "question_id": 57498326, "link": "https://stackoverflow.com/questions/57498326/deserialize-object-does-not-return-full-data-in-xamarin-forms", "title": "Deserialize object does not return full data in Xamarin.Forms", "body": "<p>I have a JSON object that is coming back based on the keyword that the user type. It is returning only some of the typed keyword from the user. When I check postman and type the same keyword it returns properly.</p>\n\n<p>The following exception is raised:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Newtonsoft.Json.JsonSerializationException: \nMust specify valid information for parsing in the string\n</code></pre>\n\n<p><strong>JSON</strong></p>\n\n<pre><code>{\n  \"valid\": true,\n  \"result\": {\n    \"points\": [\n      {\n        \"pointId\": \"505\",\n        \"name\": \"Building one\",\n        \"description\": \"Office of Technology and Data Application Development\",\n        \"latitude\": \"xxx\",\n        \"longitude\": \"xxx\",\n        \"floor\": \"B\",\n        \"aliases\": [],\n        \"comments\": [],\n        \"images\": []\n      }\n    ],\n    \"categories\": []\n  },\n  \"errors\": []\n}\n</code></pre>\n\n<p><strong>Model classes</strong></p>\n\n<pre><code>public class SearchPoints\n{\n    public bool Valid { get; set; }\n    public Result Result { get; set; }\n    public List&lt;string&gt; Errors { get; set; }\n}\n\npublic class Result\n{\n    public List&lt;Point&gt; Points { get; set; }\n    public List&lt;Category&gt; Categories { get; set; }\n}\n\npublic class Category\n{\n  public long CategoryId { get; set; }\n  public string Name { get; set; }\n  public long ParentId { get; set; }\n  public string Parent { get; set; }\n}\n\npublic class Point\n{\n    public long PointId { get; set; }\n    public string Name { get; set; }\n    public string Description { get; set; }\n    public string Latitude { get; set; }\n    public string Longitude { get; set; }\n    public Floor Floor { get; set; }\n    public List&lt;string&gt; Aliases { get; set; }\n    public List&lt;string&gt; Comments { get; set; }\n    public List&lt;string&gt; Images { get; set; }\n}\n\npublic enum Floor \n{ \n    A, \n    B \n};\n</code></pre>\n\n<p><strong>Service method</strong></p>\n\n<pre><code>var apiResponse = await _httpClient.GetAsync(Url + _keyword);\nvar apiContent = apiResponse.Content.ReadAsStringAsync().Result;\nvar pointsJsonResponse = JsonConvert.DeserializeObject&lt;SearchPoints&gt;(apiContent);\n\nvar potentialPoints = new ObservableCollection&lt;Point&gt;(pointsJsonResponse.Result.Points);\n\nPointsItemSource = potentialPoints;\n</code></pre>\n"}, {"tags": ["c#", "resharper", "stylecop"], "comments": [{"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 2, "creation_date": 1565798731, "post_id": 57498307, "comment_id": 101466301, "body": "I think most people would do <code>this.movement = movement;</code>. If you&#39;re strictly following StyleCop&#39;s rule here, you would need to name your parameter something different (I&#39;d choose something like <code>requestedMovement</code> rather than <code>movementParameter</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 425051, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/50749458bed07c5816f12fc9c76010ba?s=128&d=identicon&r=PG", "display_name": "Ferdinando Santacroce", "link": "https://stackoverflow.com/users/425051/ferdinando-santacroce"}, "is_accepted": true, "score": 0, "last_activity_date": 1565800626, "creation_date": 1565800626, "answer_id": 57498777, "question_id": 57498307, "link": "https://stackoverflow.com/questions/57498307/which-is-better-style-an-ambiguous-notated-or-renamed-parameter/57498777#57498777", "title": "Which is better style, an ambiguous, notated, or renamed parameter?", "body": "<p>In this case, I would did (and I actually do) just the same thing you did: calling the parameter just the same as private field.<br>\nThat code is pretty clear to me, despite StyleCop judgement \ud83e\udd28<br>\nIn other situations I use different names for parameters and equivalent fields, e.g. when the meaning of the passed parameters (and so its name) changes when it is injected in a method.<br>\nI'm not a StyleCop guy, but I think you can say it to not bother you using an attribute, a special comment or so \ud83d\ude09<br>\nMaybe like this: <a href=\"https://stackoverflow.com/questions/3287656/how-to-suppress-a-stylecop-warning\">How to suppress a StyleCop warning?</a></p>\n"}], "owner": {"reputation": 11, "user_id": 10388660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09d7240166e0587dd054af7f75c6189b?s=128&d=identicon&r=PG&f=1", "display_name": "Popsucker", "link": "https://stackoverflow.com/users/10388660/popsucker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "closed_date": 1565815773, "accepted_answer_id": 57498777, "answer_count": 1, "score": -1, "last_activity_date": 1565800626, "creation_date": 1565798593, "question_id": 57498307, "link": "https://stackoverflow.com/questions/57498307/which-is-better-style-an-ambiguous-notated-or-renamed-parameter", "closed_reason": "Opinion-based", "title": "Which is better style, an ambiguous, notated, or renamed parameter?", "body": "<p>Stylecop seems inconsistent in naming parameters or perhaps I'm missing something?</p>\n\n<p>I have</p>\n\n<pre><code>    Movement movement;\n\n    public void SetMovement(Movement movement)\n    {\n        this.movement = movement;\n    }\n</code></pre>\n\n<p>which complains about my parameter hiding a field, which is understandable.\nThen I try to name the parameter differently</p>\n\n<pre><code>    public void SetMovement(Movement _movement)\n    {\n        this.movement = _movement;\n    }\n</code></pre>\n\n<p>which will complain about underscores and Hungarian notations, etc.</p>\n\n<p>It seems the only way to satisfy stylecop in this case would be to name the parameter something different like </p>\n\n<pre><code>    public void SetMovement(Movement movementParameter)\n    {\n        this.movement = movementParameter;\n    }\n</code></pre>\n\n<p>Which of these would be considered the best 'style'?</p>\n"}, {"tags": ["c#", "azure", "api", "client-certificates", "azure-api-management"], "comments": [{"owner": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1565854088, "post_id": 57498215, "comment_id": 101480438, "body": "Have you referred to <a href=\"https://docs.microsoft.com/en-us/azure/api-management/api-management-howto-mutual-certificates-for-clients\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/azure/api-management/&hellip;</a>?"}, {"owner": {"reputation": 1799, "user_id": 74446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/addb1996bf409977d6097b8a4d98ef87?s=128&d=identicon&r=PG", "display_name": "Sappidireddy", "link": "https://stackoverflow.com/users/74446/sappidireddy"}, "reply_to_user": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1566227458, "post_id": 57498215, "comment_id": 101580769, "body": "@Jim, I followed it."}, {"owner": {"reputation": 1799, "user_id": 74446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/addb1996bf409977d6097b8a4d98ef87?s=128&d=identicon&r=PG", "display_name": "Sappidireddy", "link": "https://stackoverflow.com/users/74446/sappidireddy"}, "reply_to_user": {"reputation": 14687, "user_id": 10505040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/643c7cd13b4cd09ce56bb9ee71914516?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Xu", "link": "https://stackoverflow.com/users/10505040/jim-xu"}, "edited": false, "score": 0, "creation_date": 1566490486, "post_id": 57498215, "comment_id": 101681923, "body": "Another useful link - <a href=\"https://medium.com/@jkewley/testing-client-certificate-authentication-to-azure-api-management-with-postman-e1cfae52fc35\" rel=\"nofollow noreferrer\">medium.com/@jkewley/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1799, "user_id": 74446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/addb1996bf409977d6097b8a4d98ef87?s=128&d=identicon&r=PG", "display_name": "Sappidireddy", "link": "https://stackoverflow.com/users/74446/sappidireddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1566582874, "creation_date": 1566582874, "answer_id": 57630995, "question_id": 57498215, "link": "https://stackoverflow.com/questions/57498215/azure-api-management-secure-api-through-client-certificate/57630995#57630995", "title": "Azure API Management- secure API through Client Certificate", "body": "<p>Finally, I figured it.  Proxy is blocking the client from sending the certificate to the server. Nothing wrong with code or configuration.  </p>\n"}], "owner": {"reputation": 1799, "user_id": 74446, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/addb1996bf409977d6097b8a4d98ef87?s=128&d=identicon&r=PG", "display_name": "Sappidireddy", "link": "https://stackoverflow.com/users/74446/sappidireddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 793, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1566582874, "creation_date": 1565798248, "last_edit_date": 1566490359, "question_id": 57498215, "link": "https://stackoverflow.com/questions/57498215/azure-api-management-secure-api-through-client-certificate", "title": "Azure API Management- secure API through Client Certificate", "body": "<p>I am testing authenticate against Client Certificate functionality with out of the box Echo API Get request, I have added a inbound rule to check the request has certificate </p>\n\n<p>I am using self signed certificate, I have updated it under CA and client certificates</p>\n\n<pre><code> &lt;inbound&gt;\n        &lt;choose&gt;\n            &lt;when condition=\"@(context.Request.Certificate == null)\"&gt;\n                &lt;return-response&gt;\n                    &lt;set-status code=\"403\" reason=\"Invalid client certificate\"/&gt;\n                &lt;/return-response&gt;\n            &lt;/when&gt;\n        &lt;/choose&gt;\n        &lt;base /&gt;\n &lt;/inbound&gt;\n</code></pre>\n\n<p>In my client Application, I am using below code to make a call </p>\n\n<pre><code>public static void MakeAnAzureApiCall()\n        {\n\n            var url = @\"https://xxxx.azure-api.net/echo/resource?param1=sample\";\n\n            var handler = new WebRequestHandler();\n            handler.ClientCertificateOptions = ClientCertificateOption.Manual;\n\n            SecureString sec = new SecureString();\n            string pwd = \"P@ssw0rd\"; \n            pwd.ToCharArray().ToList().ForEach(sec.AppendChar);\n            sec.MakeReadOnly();\n\n            var cert =  new X509Certificate2(@\"C:\\temp\\apim.pfx\", sec, X509KeyStorageFlags.MachineKeySet);\n                //X509Certificate2.CreateFromCertFile(@\"C:\\temp\\apim1.cer\");\n\n            handler.ClientCertificates.Add(cert);\n\n\n\n            var client = new HttpClient(handler);\n            var request = new HttpRequestMessage(HttpMethod.Get, url);\n\n\n            request.Headers.TryAddWithoutValidation(\"Ocp-Apim-Subscription-Key\", \"xxxxxxxxxxxxxxxxxx\");\n\n            var response = client.SendAsync(request).Result;\n            string responseString = response.Content.ReadAsStringAsync().Result;\n\n        }\n</code></pre>\n\n<p>I am always getting 403 response from API management,  looks like cert never received to APIM. Could any one know what I am doing wrong here?</p>\n\n<p>EDIT -1 Here is the trace file from Azure</p>\n\n<p>`</p>\n\n<pre><code>{  \n       \"traceId\":\"421658ba50fb480786757c8d7c22da48\",\n       \"traceEntries\":{  \n          \"inbound\":[  \n             {  \n                \"source\":\"api-inspector\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0002782\",\n                \"data\":{  \n                   \"request\":{  \n                      \"method\":\"GET\",\n                      \"url\":\"https://doddapim.azure-api.net/echo/resource?param1=sample\",\n                      \"headers\":[  \n                         {  \n                            \"name\":\"Ocp-Apim-Subscription-Key\",\n                            \"value\":\"e7f21197ef6f4628bdcde8f23394812d\"\n                         },\n                         {  \n                            \"name\":\"Postman-Token\",\n                            \"value\":\"c4f8ef9a-6428-4781-bf4a-e774145c14e9\"\n                         },\n                         {  \n                            \"name\":\"X-Forwarded-For\",\n                            \"value\":\"10.26.60.106\"\n                         },\n                         {  \n                            \"name\":\"X-BlueCoat-Via\",\n                            \"value\":\"ee27777141854371\"\n                         },\n                         {  \n                            \"name\":\"Cache-Control\",\n                            \"value\":\"no-cache\"\n                         },\n                         {  \n                            \"name\":\"Connection\",\n                            \"value\":\"Keep-Alive\"\n                         },\n                         {  \n                            \"name\":\"Accept\",\n                            \"value\":\"*/*\"\n                         },\n                         {  \n                            \"name\":\"Accept-Encoding\",\n                            \"value\":\"gzip,deflate\"\n                         },\n                         {  \n                            \"name\":\"Host\",\n                            \"value\":\"doddapim.azure-api.net\"\n                         },\n                         {  \n                            \"name\":\"User-Agent\",\n                            \"value\":\"PostmanRuntime/7.15.2\"\n                         }\n                      ]\n                   }\n                }\n             },\n             {  \n                \"source\":\"api-inspector\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0002814\",\n                \"data\":{  \n                   \"configuration\":{  \n                      \"api\":{  \n                         \"from\":\"/echo\",\n                         \"to\":{  \n                            \"scheme\":\"http\",\n                            \"host\":\"echoapi.cloudapp.net\",\n                            \"port\":80,\n                            \"path\":\"/api\",\n                            \"queryString\":\"\",\n                            \"query\":{  \n\n                            },\n                            \"isDefaultPort\":true\n                         },\n                         \"version\":null,\n                         \"revision\":\"1\"\n                      },\n                      \"operation\":{  \n                         \"method\":\"GET\",\n                         \"uriTemplate\":\"/resource\"\n                      },\n                      \"user\":\"-\",\n                      \"product\":\"-\"\n                   }\n                }\n             },\n             {  \n                \"source\":\"cors\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0014853\",\n                \"data\":\"Origin header was missing or empty and the request was classified as not cross-domain. CORS policy was not applied.\"\n             },\n             {  \n                \"source\":\"cors\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0014872\",\n                \"data\":\"Origin header was missing or empty and the request was classified as not cross-domain. CORS policy was not applied.\"\n             },\n             {  \n                \"source\":\"client-certificate-handler\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0014961\",\n                \"data\":\"Requesting client certificate because next handler requires access to it.\"\n             },\n             {  \n                \"source\":\"client-certificate-handler\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0017793\",\n                \"data\":\"No client certificate received.\"\n             },\n             {  \n                \"source\":\"choose\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0017844\",\n                \"data\":{  \n                   \"message\":\"Expression was successfully evaluated.\",\n                   \"expression\":\"context.Request.Certificate == null\",\n                   \"value\":true\n                }\n             },\n             {  \n                \"source\":\"set-status\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0017909\",\n                \"data\":{  \n                   \"message\":[  \n                      \"Response status code was set to 403\",\n                      \"Response status reason was set to 'Invalid client certificate'\"\n                   ]\n                }\n             },\n             {  \n                \"source\":\"return-response\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0017946\",\n                \"data\":{  \n                   \"message\":\"Return response was applied\",\n                   \"response\":{  \n                      \"status\":{  \n                         \"code\":\"Forbidden\",\n                         \"reason\":\"Invalid client certificate\"\n                      },\n                      \"headers\":[  \n\n                      ]\n                   }\n                }\n             }\n          ],\n          \"outbound\":[  \n             {  \n                \"source\":\"transfer-response\",\n                \"timestamp\":\"2019-08-22T16:01:59.6691383Z\",\n                \"elapsed\":\"00:00:00.0018163\",\n                \"data\":{  \n                   \"message\":\"Response headers have been sent to the caller.\"\n                }\n             }\n          ]\n       }\n    }\n</code></pre>\n\n<p>`</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"reputation": 4650, "user_id": 193189, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/CZMVU.jpg?s=128&g=1", "display_name": "punkouter", "link": "https://stackoverflow.com/users/193189/punkouter"}, "edited": false, "score": 0, "creation_date": 1565984387, "post_id": 57520129, "comment_id": 101526497, "body": "But does it ever make sense for the MVC project to just reference the WEB API project (both are web projects) to get the data?  It seems like it would but I have never seen it done that way and not so how I would call the WEB API controllers from the MVC controllers"}, {"owner": {"reputation": 4650, "user_id": 193189, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/CZMVU.jpg?s=128&g=1", "display_name": "punkouter", "link": "https://stackoverflow.com/users/193189/punkouter"}, "edited": false, "score": 0, "creation_date": 1565984448, "post_id": 57520129, "comment_id": 101526512, "body": "My end goal is make the MVC layer as thin as possible and just another front end in the same way angular.. or blazor would be a front end"}, {"owner": {"reputation": 1026, "user_id": 9518354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c2c51575e23bb96ce5cd615a93f648?s=128&d=identicon&r=PG", "display_name": "Jon Ryan", "link": "https://stackoverflow.com/users/9518354/jon-ryan"}, "reply_to_user": {"reputation": 4650, "user_id": 193189, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/CZMVU.jpg?s=128&g=1", "display_name": "punkouter", "link": "https://stackoverflow.com/users/193189/punkouter"}, "edited": false, "score": 0, "creation_date": 1566052117, "post_id": 57520129, "comment_id": 101538776, "body": "To call the API Project from the MVC project you can use the http client:  <a href=\"https://www.tutorialsteacher.com/webapi/consume-web-api-get-method-in-aspnet-mvc\" rel=\"nofollow noreferrer\">tutorialsteacher.com/webapi/&hellip;</a>  <a href=\"https://www.c-sharpcorner.com/article/calling-web-api-using-httpclient/\" rel=\"nofollow noreferrer\">c-sharpcorner.com/article/calling-web-api-using-httpclient</a> You can probably create a wraper for the http client code so you don&#39;t write the same code over and over again."}], "tags": [], "owner": {"reputation": 1026, "user_id": 9518354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c2c51575e23bb96ce5cd615a93f648?s=128&d=identicon&r=PG", "display_name": "Jon Ryan", "link": "https://stackoverflow.com/users/9518354/jon-ryan"}, "is_accepted": true, "score": 4, "last_activity_date": 1565938430, "creation_date": 1565938430, "answer_id": 57520129, "question_id": 57498191, "link": "https://stackoverflow.com/questions/57498191/how-to-seperate-asp-net-mvc-core-view-and-asp-net-web-api-controllers-into-separ/57520129#57520129", "title": "How to seperate ASP.NET MVC core view and ASP.NET WEB API controllers into separate projects?", "body": "<p>If I understand correctly...</p>\n\n<p>You have a MVC application which also has some API controllers in it. You are adding an angular project which needs to call the API controllers and you are wondering if you should move the API controllers into a separate project?</p>\n\n<p>If so then.... probably.</p>\n\n<p>In doing so the API would become your central source of business logic and the MVC app and Angular app two different presentations of that central logic.</p>\n\n<p>But ultimately it's an architectural decision which you need to make based on how you see the solution moving forward.</p>\n\n<p>So if it helps:</p>\n\n<ul>\n<li>Reduce complexity </li>\n<li>Helps the code follow the SOLID principles </li>\n<li>Stops you from breaking the DRY principle</li>\n<li>Allows for better separation of concerns</li>\n<li>The time and cost to do so is acceptable </li>\n</ul>\n\n<p>Then go for it.</p>\n\n<p>You may find that the MVC project and API project have shared dependencies. So you may end up having to move things like Models or Entities into their own projects too so both can reference them. You may also need to think about authentication and how that will work and consider something like identity server.</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 4650, "user_id": 193189, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/CZMVU.jpg?s=128&g=1", "display_name": "punkouter", "link": "https://stackoverflow.com/users/193189/punkouter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 57520129, "answer_count": 1, "score": 0, "last_activity_date": 1569596859, "creation_date": 1565798148, "last_edit_date": 1569596859, "question_id": 57498191, "link": "https://stackoverflow.com/questions/57498191/how-to-seperate-asp-net-mvc-core-view-and-asp-net-web-api-controllers-into-separ", "title": "How to seperate ASP.NET MVC core view and ASP.NET WEB API controllers into separate projects?", "body": "<p>Right now the API and MVC controllers are in same project and that is fine. Later I will add a Angular frontend. But since the angular front end is a separate project wouldn't it make sense for the ASP.NET core MVC views to be a separate project? Any links anywhere how to do this ? I imagine this way the 2 view (Angular and ASP.NET core MVC) would both call the WEB API layer and that seems more logical. ..  </p>\n\n<p>Or if they stayed in the same project I should atleast have the MVC controller call the WEB API controller? Or no ? </p>\n"}, {"tags": ["c#", "kubernetes", "websocket", "portforwarding"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11254277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c57aae5c427a9b2caa23b3b685acdbac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Tade", "link": "https://stackoverflow.com/users/11254277/sushil-tade"}, "edited": false, "score": 0, "creation_date": 1565799126, "post_id": 57498352, "comment_id": 101466487, "body": "I am getting below exception : <a href=\"https://gist.github.com/gittadesushil/bc3bf008b7a4fc62c33e97ab1fbf687f\" rel=\"nofollow noreferrer\">gist.github.com/gittadesushil/bc3bf008b7a4fc62c33e97ab1fbf68&zwnj;&#8203;7f</a> Wondering why does Websocket exception is coming. If I run same thing in console application it works perfectly fine."}, {"owner": {"reputation": 63, "user_id": 5669864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860d278e5db0458beb8ec589283181d8?s=128&d=identicon&r=PG&f=1", "display_name": "Demid Dementev", "link": "https://stackoverflow.com/users/5669864/demid-dementev"}, "reply_to_user": {"reputation": 27, "user_id": 11254277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c57aae5c427a9b2caa23b3b685acdbac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Tade", "link": "https://stackoverflow.com/users/11254277/sushil-tade"}, "edited": false, "score": 0, "creation_date": 1565799248, "post_id": 57498352, "comment_id": 101466541, "body": "Yes, because you have  ----&gt; System.Net.WebSockets.WebSocketException : Unable to connect to the remote server   ----&gt; System.Net.WebException : The remote server returned an error: (400) Bad Request."}, {"owner": {"reputation": 27, "user_id": 11254277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c57aae5c427a9b2caa23b3b685acdbac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Tade", "link": "https://stackoverflow.com/users/11254277/sushil-tade"}, "edited": false, "score": 0, "creation_date": 1565807622, "post_id": 57498352, "comment_id": 101469955, "body": "I am expecting same error in console application also but it&#39;s working smoothly."}, {"owner": {"reputation": 27, "user_id": 11254277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c57aae5c427a9b2caa23b3b685acdbac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Tade", "link": "https://stackoverflow.com/users/11254277/sushil-tade"}, "edited": false, "score": 0, "creation_date": 1565872403, "post_id": 57498352, "comment_id": 101487091, "body": "How can I run async task in background (non blocking call)?"}], "tags": [], "owner": {"reputation": 63, "user_id": 5669864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/860d278e5db0458beb8ec589283181d8?s=128&d=identicon&r=PG&f=1", "display_name": "Demid Dementev", "link": "https://stackoverflow.com/users/5669864/demid-dementev"}, "is_accepted": false, "score": 0, "last_activity_date": 1565798768, "creation_date": 1565798768, "answer_id": 57498352, "question_id": 57498166, "link": "https://stackoverflow.com/questions/57498166/how-to-run-async-task-in-background/57498352#57498352", "title": "How to run async task in background?", "body": "<p>I assume the method PortForward should be rewritten to be asynchronous in the following way:</p>\n\n<pre><code>public async Task&lt;bool&gt; PortForward(string podName, int[] originalPort, int forwardPort)\n{\n    return await Task.Run(() =&gt; ForwardPortOperation(podName, originalPort, forwardPort));\n}\n</code></pre>\n\n<p>After that you can write a NUnit test:</p>\n\n<pre><code>[Test]\npublic async Task VerifyPortForward()\n{\n    var pod = new Pod(_config);\n    var result = await pod.PortForward(\"web_service_application\", new int[3100], 1615);\n    // TODO: assert the result\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11254277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c57aae5c427a9b2caa23b3b685acdbac?s=128&d=identicon&r=PG&f=1", "display_name": "Sushil Tade", "link": "https://stackoverflow.com/users/11254277/sushil-tade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565798768, "creation_date": 1565798052, "last_edit_date": 1565798736, "question_id": 57498166, "link": "https://stackoverflow.com/questions/57498166/how-to-run-async-task-in-background", "title": "How to run async task in background?", "body": "<p>I need to forward the port of running service in k8s cluster. So I have use the example provided in github repo to do port forward for specific service. Now I would like to use the example in my test but when I call port forward method then I always get web socket exception but if I written the same code in console application then I don't get any exception it run perfectly fine. </p>\n\n<pre><code>private async Task&lt;bool&gt; ForwardPortOperation(string podName, int[] originalPort, int forwardPort)\n        {\n            var pod = GetPodObject(podName);\n\n            var webSocket = await _config.GetK8SClient().WebSocketNamespacedPodPortForwardAsync(pod.Metadata.Name, pod.Metadata.NamespaceProperty, originalPort, WebSocketProtocol.V4BinaryWebsocketProtocol);\n\n            var demux = new StreamDemuxer(webSocket);\n            demux.Start();\n\n            var stream = demux.GetStream((byte?)0, (byte?)0);\n\n            IPAddress ipAddress = IPAddress.Loopback;\n            IPEndPoint localEndPoint = new IPEndPoint(ipAddress, forwardPort);\n            Socket listener = new Socket(ipAddress.AddressFamily, SocketType.Stream, ProtocolType.Tcp);\n            listener.Bind(localEndPoint);\n            listener.Listen(100);\n\n            Socket handler = null;\n\n            var accept = Task.Run(() =&gt;\n            {\n                while (true)\n                {\n                    handler = listener.Accept();\n\n                    var bytes = new byte[4096];\n                    while (true)\n                    {\n                        int bytesRec = handler.Receive(bytes);\n                        stream.Write(bytes, 0, bytesRec);\n                        if (bytesRec == 0 || Encoding.Default.GetString(bytes, 0, bytesRec).IndexOf(\"&lt;EOF&gt;\", StringComparison.InvariantCultureIgnoreCase) &gt; -1)\n                        {\n                            break;\n                        }\n                        listener.Close();\n                    }\n                }\n            });\n\n            var copy = Task.Run(() =&gt;\n            {\n                var buff = new byte[4096];\n                while (true)\n                {\n                    var read = stream.Read(buff, 0, 4096);\n                    handler.Send(buff, read, 0);\n                }\n            });\n\n            await accept;\n            await copy;\n\n            return true;\n        }\n</code></pre>\n\n<p><strong>Port forward method:</strong></p>\n\n<pre><code>public bool PortForward(string podName, int[] originalPort, int forwardPort)\n        {\n            return Task.Run(() =&gt; ForwardPortOperation(podName, originalPort, forwardPort)).Result;\n        }\n</code></pre>\n\n<p><strong>Nunit test project:</strong></p>\n\n<pre><code>[Test]\n public void VerifyPortForward()\n{\n    new Pod(_config).PortForward(\"web_service_application\", new int[3100], 1615);\n}\n</code></pre>\n\n<p>How can I run such async method in background? so that once port forward successful then I can continue to another test.</p>\n\n<p><strong>Exception:</strong>\n<a href=\"https://gist.github.com/gittadesushil/bc3bf008b7a4fc62c33e97ab1fbf687f\" rel=\"nofollow noreferrer\">https://gist.github.com/gittadesushil/bc3bf008b7a4fc62c33e97ab1fbf687f</a></p>\n"}, {"tags": ["c#", "datetime-format", "cultureinfo"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 4, "creation_date": 1565797936, "post_id": 57498101, "comment_id": 101465920, "body": "There&#39;s little point to taking a date, formatting it to a string, then converting that back into a date, then formatting it back to a string again."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1565797995, "post_id": 57498101, "comment_id": 101465955, "body": "The snippets are not the same; the first doesn&#39;t set the threads culture."}, {"owner": {"reputation": 2430, "user_id": 3169688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6623f38d0544f881d62739b2008cd0c?s=128&d=identicon&r=PG&f=1", "display_name": "jcruz", "link": "https://stackoverflow.com/users/3169688/jcruz"}, "edited": false, "score": 0, "creation_date": 1565799133, "post_id": 57498101, "comment_id": 101466491, "body": "In the first you are applying the formatting to a single instance, whereas in the latter, by modifying the current thread culture, it would apply to any instance. Same result for the one datetime instance but, in effect, not the same at all!"}, {"owner": {"reputation": 9267, "user_id": 71376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/10a324fb1da2fcee5d0486aee37c206a?s=128&d=identicon&r=PG", "display_name": "Matt W", "link": "https://stackoverflow.com/users/71376/matt-w"}, "edited": false, "score": 0, "creation_date": 1565799369, "post_id": 57498101, "comment_id": 101466593, "body": "What is the shortest method of accessing the ToLongDateString and ToShortDateString methods? The code I posted seems needlessly long in both cases, but I can&#39;t find a shorter version."}, {"owner": {"reputation": 9267, "user_id": 71376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/10a324fb1da2fcee5d0486aee37c206a?s=128&d=identicon&r=PG", "display_name": "Matt W", "link": "https://stackoverflow.com/users/71376/matt-w"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565799819, "post_id": 57498101, "comment_id": 101466817, "body": "@amy I know that they are not the same, but to the effect of formatting the date string, they do appear to be."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 2, "creation_date": 1565800148, "post_id": 57498101, "comment_id": 101466973, "body": "Just do <code>var result = DateTime.Now.ToString(&quot;D&quot;, new CultureInfo(&quot;zh-TW&quot;);</code> as the D format string is the same as long date/time format."}, {"owner": {"reputation": 9267, "user_id": 71376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/10a324fb1da2fcee5d0486aee37c206a?s=128&d=identicon&r=PG", "display_name": "Matt W", "link": "https://stackoverflow.com/users/71376/matt-w"}, "edited": false, "score": 0, "creation_date": 1565801345, "post_id": 57498101, "comment_id": 101467442, "body": "And ToShortDateString() is &quot;d&quot; :) Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 9267, "user_id": 71376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/10a324fb1da2fcee5d0486aee37c206a?s=128&d=identicon&r=PG", "display_name": "Matt W", "link": "https://stackoverflow.com/users/71376/matt-w"}, "edited": false, "score": 0, "creation_date": 1565799918, "post_id": 57498484, "comment_id": 101466865, "body": "I am formatting for Taiwanese users. I understand that the formatting is basically the same output. But the aim is to get to the ToLongDateString and ToShortDateString methods as directly as possible. The single line code appears to be (aside from the thread culture issue) the same."}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 0, "last_activity_date": 1565799254, "creation_date": 1565799254, "answer_id": 57498484, "question_id": 57498101, "link": "https://stackoverflow.com/questions/57498101/practical-use-of-longer-date-time-formatting-code/57498484#57498484", "title": "Practical use of longer date time formatting code?", "body": "<p>Why is <em>this particular date</em> being formatted to zh-tw?  Is it because you are presenting data to a Taiwanese user?  Or because you are writing a file that is sent to a server in Taiwan assuming Taiwanese-formatted dates in its input?</p>\n\n<p>In the former case, it makes sense to change a program-wide setting and affect everything shown to the user.</p>\n\n<p>In the latter case, the culture change should be limited to the smallest block (just one function call) and not change the thread culture setting.</p>\n\n<p>Assign to <code>CurrentThread.CurrentCulture</code> only if you intend to affect <em>all</em> formatting the application does (at least up to the point the user accesses settings and picks a different preference).</p>\n"}], "owner": {"reputation": 9267, "user_id": 71376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/10a324fb1da2fcee5d0486aee37c206a?s=128&d=identicon&r=PG", "display_name": "Matt W", "link": "https://stackoverflow.com/users/71376/matt-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1565799254, "creation_date": 1565797781, "last_edit_date": 1565798928, "question_id": 57498101, "link": "https://stackoverflow.com/questions/57498101/practical-use-of-longer-date-time-formatting-code", "title": "Practical use of longer date time formatting code?", "body": "<p>This code appears to format the current datetime to a Chinese long format:</p>\n\n<pre><code>var result = DateTime.Parse(Convert.ToString(DateTime.Now, new CultureInfo(\"zh-tw\"))).ToLongDateString();\n</code></pre>\n\n<p>This code appears to do the same thing but does it by modifying the current thread culture:</p>\n\n<pre><code>Thread.CurrentThread.CurrentCulture = new CultureInfo(\"zh-tw\");\nDateTime dtCreateAt = DateTime.Now;\nvar result = DateTime.TryParse(Convert.ToString(dateTime.Date), out dtCreateAt).ToLongDateString();\n</code></pre>\n\n<p>Are these snippets, in effect, the same?\nShould one be used over the other for any reason?</p>\n"}, {"tags": ["c#", ".net", "async-await"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1565797952, "post_id": 57498085, "comment_id": 101465930, "body": "The benefit is that if  <code>GetMyItem</code> is IO bound or CPU bound and run on a separate thread that the current thread is not blocked while it waits for it to complete.  This can help to not freeze up the UI thread or create many blocked threads if this is say code on a web server."}, {"owner": {"reputation": 9776, "user_id": 1688439, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52818f5444acf8fbdab4697cd218825e?s=128&d=identicon&r=PG", "display_name": "Owen Pauling", "link": "https://stackoverflow.com/users/1688439/owen-pauling"}, "edited": false, "score": 0, "creation_date": 1565798886, "post_id": 57498085, "comment_id": 101466377, "body": "<a href=\"https://softwareengineering.stackexchange.com/questions/328203/why-would-you-ever-await-a-method-and-then-immediately-interrogate-its-return\" title=\"why would you ever await a method and then immediately interrogate its return\">softwareengineering.stackexchange.com/questions/328203/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55713, "user_id": 26095, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WLsjF.jpg?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/26095/sean"}, "is_accepted": false, "score": 2, "last_activity_date": 1565797902, "creation_date": 1565797902, "answer_id": 57498123, "question_id": 57498085, "link": "https://stackoverflow.com/questions/57498085/is-there-a-point-to-use-async-await-on-methods-that-return-a-value/57498123#57498123", "title": "Is there a point to use async/await on methods that return a value?", "body": "<p>The advantage of the async/await pattern if that if the call to <code>GetMyItem</code> is long running (for example a call to a database or web service) then your calling thread will be freed up to do other thing whilst waiting for the call to complete.</p>\n\n<p>Once the call completes the framework will schedule the continuation of your function of the next line (where the <code>if</code> is).</p>\n"}, {"comments": [{"owner": {"reputation": 1156, "user_id": 294497, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PEzC1.png?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/294497/mike"}, "edited": false, "score": 0, "creation_date": 1565799494, "post_id": 57498260, "comment_id": 101466664, "body": "That&#39;s what I thought might be the case, similar to js, but didn&#39;t see why it would need to, thanks for clearing it up."}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 1156, "user_id": 294497, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PEzC1.png?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/294497/mike"}, "edited": false, "score": 0, "creation_date": 1565799609, "post_id": 57498260, "comment_id": 101466715, "body": "Right. It&#39;s exactly the same idea as in JavaScript. I was going to use JS as an example, but I wasn&#39;t sure if that would mean anything to you :)"}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": true, "score": 2, "last_activity_date": 1565798835, "last_edit_date": 1565798835, "creation_date": 1565798422, "answer_id": 57498260, "question_id": 57498085, "link": "https://stackoverflow.com/questions/57498085/is-there-a-point-to-use-async-await-on-methods-that-return-a-value/57498260#57498260", "title": "Is there a point to use async/await on methods that return a value?", "body": "<p>Don't be so selfish - you're not the only one that exists :)</p>\n\n<p>I joke, but that is the point. There are other things to be done! If that code is run synchronously, then the thread would be dormant - doing nothing - while it waits to get the data. That task might only take 100ms, but that's a lot of time in CPU time.</p>\n\n<p>Using <code>async</code>/<code>await</code> allows the thread to go and work on some other code that might need to be run in your application while you're waiting for that task to complete, rather than just sitting around waiting and doing nothing.</p>\n\n<p>It's described really well in a Microsoft article called <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">The Task asynchronous programming model in C#</a>, especially the illustration it uses about making breakfast.</p>\n\n<p>In ASP.NET it is especially important because there is a limited number of threads in the thread pool. So the more you can do with a single thread, the better.</p>\n"}], "owner": {"reputation": 1156, "user_id": 294497, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PEzC1.png?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/294497/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57498260, "answer_count": 2, "score": 0, "last_activity_date": 1565798835, "creation_date": 1565797732, "question_id": 57498085, "link": "https://stackoverflow.com/questions/57498085/is-there-a-point-to-use-async-await-on-methods-that-return-a-value", "title": "Is there a point to use async/await on methods that return a value?", "body": "<p>Just a question I'm curious about, can't quite find the answer.</p>\n\n<p>In C# I have a call that retrieves an object then does something with that result.  What is the gain in making these async?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var result = await _repo.GetMyItem(itemId);\n\nif(result.Category == 1) { // do something }\n</code></pre>\n\n<p>What's the benefit of <code>GetMyItem()</code> being async if the result is needed on the next line?</p>\n"}, {"tags": ["c#", "dll", ".net-assembly", "app-config"], "comments": [{"owner": {"reputation": 5838, "user_id": 1075282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70efe94a6c2237ec96f429402a03a27d?s=128&d=identicon&r=PG", "display_name": "Renat", "link": "https://stackoverflow.com/users/1075282/renat"}, "edited": false, "score": 0, "creation_date": 1565800363, "post_id": 57498019, "comment_id": 101467050, "body": "Is this a compile time error? If so this might help <a href=\"https://stackoverflow.com/questions/21498074/how-can-i-fix-assembly-version-conflicts-with-json-net-after-updating-nuget-pack\" title=\"how can i fix assembly version conflicts with json net after updating nuget pack\">stackoverflow.com/questions/21498074/&hellip;</a>"}, {"owner": {"reputation": 728, "user_id": 2788531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0537b7039a52399e5539bfe8b1ef40c0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/2788531/adrian"}, "reply_to_user": {"reputation": 5838, "user_id": 1075282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70efe94a6c2237ec96f429402a03a27d?s=128&d=identicon&r=PG", "display_name": "Renat", "link": "https://stackoverflow.com/users/1075282/renat"}, "edited": false, "score": 0, "creation_date": 1565982432, "post_id": 57498019, "comment_id": 101525822, "body": "No, happens during runtime"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1565991844, "post_id": 57498019, "comment_id": 101528845, "body": "So this is probably just a typo?  XX = &quot;9.0&quot; isn&#39;t good enough, version numbers have 4 parts.  There was only ever one 9.0.1 version, the author makes a living providing support by incrementing major version numbers really fast, its real [AssemblyVersion] is &quot;9.0.0.0&quot;.  That looking for an update/rebuilding project C tends to be wise goes without saying, but it probably will work anyway."}, {"owner": {"reputation": 9735, "user_id": 6299857, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/O4G3u.jpg?s=128&g=1", "display_name": "Prasad Telkikar", "link": "https://stackoverflow.com/users/6299857/prasad-telkikar"}, "edited": false, "score": 0, "creation_date": 1566039872, "post_id": 57498019, "comment_id": 101536140, "body": "Why are you using version 8 in your own project? I tried creating same example and it is giving exception during runtime, but if you change your own project Newtonsoft.json version to 9(I tried this), for me solution is working fine. Is there any specific reason behind use of version 8 in your own project."}, {"owner": {"reputation": 9735, "user_id": 6299857, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/O4G3u.jpg?s=128&g=1", "display_name": "Prasad Telkikar", "link": "https://stackoverflow.com/users/6299857/prasad-telkikar"}, "edited": false, "score": 0, "creation_date": 1566389672, "post_id": 57498019, "comment_id": 101639991, "body": "@Adrian, Did you get chance to look into my previous comment"}, {"owner": {"reputation": 728, "user_id": 2788531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0537b7039a52399e5539bfe8b1ef40c0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/2788531/adrian"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1566568998, "post_id": 57498019, "comment_id": 101709305, "body": "@HansPassant sorry, it is just a typo in the question. Version numbers are correctly set"}, {"owner": {"reputation": 728, "user_id": 2788531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0537b7039a52399e5539bfe8b1ef40c0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/2788531/adrian"}, "reply_to_user": {"reputation": 9735, "user_id": 6299857, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/O4G3u.jpg?s=128&g=1", "display_name": "Prasad Telkikar", "link": "https://stackoverflow.com/users/6299857/prasad-telkikar"}, "edited": false, "score": 0, "creation_date": 1566569071, "post_id": 57498019, "comment_id": 101709341, "body": "@PrasadTelkikar Because, there are other components which requires version 8. If I follow your solution, I may need to refactor the whole project split into 2"}], "answers": [{"comments": [{"owner": {"reputation": 728, "user_id": 2788531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0537b7039a52399e5539bfe8b1ef40c0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/2788531/adrian"}, "edited": false, "score": 0, "creation_date": 1566569306, "post_id": 57530218, "comment_id": 101709471, "body": "Both of you posted the same solution, but I like the more detailed explanation. Will pick this one for answer. So, will consider to upgrade my project from 8 to 9."}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": true, "score": 2, "last_activity_date": 1565984214, "creation_date": 1565984214, "answer_id": 57530218, "question_id": 57498019, "link": "https://stackoverflow.com/questions/57498019/c-assembly-binding-redirects-newtonsoft-json/57530218#57530218", "title": "C# Assembly Binding Redirects - Newtonsoft.Json", "body": "<p>The only solution that has an above-average chance of working is for all the libraries to be referencing the same \"major\" version \nof the library (<code>8.*</code>, <code>9.*</code>, etc - the first number). You should then be able to use assembly bindingly redirects to fix up anything smaller than the \"major\", although it is increasingly common to see the assembly version effectively pinned at majors, to avoid assembly binding redirect hell.</p>\n\n<p>The key point here is that under semver, any change in the \"major\" should be considered a breaking change, and thus you should not expect code compiled against a different \"major\" to work correctly, or even at all.</p>\n\n<p>Note: it is technically possible to use assembly binding redirects across majors; you just <em>shouldn't expect it to actually work</em>. If it does: consider it an unexpected bonus.</p>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 7985864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d860e529cce93b22e3482e6f4daa87c6?s=128&d=identicon&r=PG&f=1", "display_name": "horotab", "link": "https://stackoverflow.com/users/7985864/horotab"}, "is_accepted": false, "score": 1, "last_activity_date": 1566479625, "creation_date": 1566479625, "answer_id": 57610215, "question_id": 57498019, "link": "https://stackoverflow.com/questions/57498019/c-assembly-binding-redirects-newtonsoft-json/57610215#57610215", "title": "C# Assembly Binding Redirects - Newtonsoft.Json", "body": "<p><strong>1.</strong>\nYour own project should not have a lower version than the referenced one, so use 9.0 on project A too.</p>\n\n<p><strong>2.</strong>\nIf project C uses a lower version that should not be a problem but do this:</p>\n\n<p>In the csproj add AutoGenerateBindingRedirects to the first property group and remove all redirects in the file.</p>\n\n<pre><code>&lt;PropertyGroup&gt;\n  [...]\n  &lt;AutoGenerateBindingRedirects&gt;true&lt;/AutoGenerateBindingRedirects&gt;\n  [...]\n&lt;/PropertyGroup&gt;\n</code></pre>\n\n<p>Now it should generate a correct redirect when you build the project.</p>\n"}], "owner": {"reputation": 728, "user_id": 2788531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0537b7039a52399e5539bfe8b1ef40c0?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian", "link": "https://stackoverflow.com/users/2788531/adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 2, "accepted_answer_id": 57530218, "answer_count": 2, "score": 6, "last_activity_date": 1566479625, "creation_date": 1565797503, "last_edit_date": 1566369528, "question_id": 57498019, "link": "https://stackoverflow.com/questions/57498019/c-assembly-binding-redirects-newtonsoft-json", "title": "C# Assembly Binding Redirects - Newtonsoft.Json", "body": "<p>I have the following dependency</p>\n\n<p>Project A (owned by me) uses </p>\n\n<ol>\n<li>project_b.dll</li>\n<li>Newtonsoft.Json.dll (version 8)</li>\n</ol>\n\n<p>Project B uses</p>\n\n<ol>\n<li>project_c.dll</li>\n<li>Newtonsoft.Json.dll (version 9)</li>\n</ol>\n\n<p>Project C uses</p>\n\n<ol>\n<li>Newtonsoft.Json.dll (version 4.5)</li>\n</ol>\n\n<p>Project A calls a method of Project B which will call a method of Project C, then return values back to B, then A</p>\n\n<pre><code>&lt;dependentAssembly&gt;\n    &lt;assemblyIdentity name=\"Newtonsoft.Json\" culture=\"neutral\" /&gt;\n    &lt;bindingRedirect oldVersion=\"0.0.0.0-655535.0.0.0\" newVersion=\"XX\" /&gt;\n&lt;/dependentAssembly&gt;\n</code></pre>\n\n<p>I am trying to use assembly binding redirect on Project A. If I set 'newVersion' as 9.0, then the code complains (missing Newtonsoft.jSon.dll 4.5 library). Same thing if I set 'newVersion' as 4.5, then missing Newtonsoft.Json.dll 9.0 library error happens. I tried 'newVersion' value of 8.0 as well. It looks simple, and I thought redirecting should solve the issue. What will be the good solution? Should Project A, B, and C have the same version of Newtonsoft.Json.dll?</p>\n\n<p>Thanks in advance..</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 11, "user_id": 8604960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051e6ee9e1120fb8cf1319dc5fe812e9?s=128&d=identicon&r=PG&f=1", "display_name": "zzzz1234", "link": "https://stackoverflow.com/users/8604960/zzzz1234"}, "edited": false, "score": 0, "creation_date": 1565797345, "post_id": 57497960, "comment_id": 101465643, "body": "[1]: <a href=\"https://imgur.com/a/vCCLVVF\" rel=\"nofollow noreferrer\">imgur.com/a/vCCLVVF</a>  here is the link of the possible output,"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1565797691, "post_id": 57497960, "comment_id": 101465798, "body": "First if you have additional information you should edit the question rather than adding a comment.  Second when possible it&#39;s better to copy and paste text instead of using an image."}, {"owner": {"reputation": 11, "user_id": 8604960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051e6ee9e1120fb8cf1319dc5fe812e9?s=128&d=identicon&r=PG&f=1", "display_name": "zzzz1234", "link": "https://stackoverflow.com/users/8604960/zzzz1234"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1565798040, "post_id": 57497960, "comment_id": 101465980, "body": "@juharr thanks for editting I was going to edit it btw, but anyway thanks."}, {"owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "edited": false, "score": 0, "creation_date": 1565798105, "post_id": 57497960, "comment_id": 101466023, "body": "You should definitely look into your date logic. Are you sure you want to mix up all your date&#39;s like that? What will happen if the maximum day was the 31st (of January) and the maximum month was 2 (February)? What do you want to do with the 31st February?"}, {"owner": {"reputation": 11, "user_id": 8604960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051e6ee9e1120fb8cf1319dc5fe812e9?s=128&d=identicon&r=PG&f=1", "display_name": "zzzz1234", "link": "https://stackoverflow.com/users/8604960/zzzz1234"}, "edited": false, "score": 0, "creation_date": 1565798682, "post_id": 57497960, "comment_id": 101466282, "body": "nvoigt, yes . i guess there is no problem with it as it gets its data from the other field."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 11860587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_Bwc0nF1jTU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcaTq9gkdsyQ8EcbvruMCOtWH5D0A/photo.jpg?sz=128", "display_name": "Alice Guo", "link": "https://stackoverflow.com/users/11860587/alice-guo"}, "is_accepted": false, "score": 0, "last_activity_date": 1565797806, "creation_date": 1565797806, "answer_id": 57498103, "question_id": 57497960, "link": "https://stackoverflow.com/questions/57497960/how-to-fix-this-statement-to-increment-the-specified-variable/57498103#57498103", "title": "How to fix this Statement to increment the specified variable?", "body": "<p>You can try identity(1,1), from 1 to increase 1 when insert a new column, in your sql database. When you insert a new row, just skip the id column.</p>\n\n<pre><code>create table #table1\n(\nid int identity(1,1),\nname varchar(10)\n)\n\ninsert into #table1\nvalues ('Test1'), ('Test2'), ('Test3'), ('Test4')\n\nselect * from #table1\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ftn7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ftn7O.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you've already created a table, you can right click your table name in Object Explorer if using SQL Server, click \"Design\", then choose your id column.\n<a href=\"https://i.stack.imgur.com/IzYwW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IzYwW.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 11, "user_id": 8604960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051e6ee9e1120fb8cf1319dc5fe812e9?s=128&d=identicon&r=PG&f=1", "display_name": "zzzz1234", "link": "https://stackoverflow.com/users/8604960/zzzz1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565797813, "creation_date": 1565797300, "last_edit_date": 1565797813, "question_id": 57497960, "link": "https://stackoverflow.com/questions/57497960/how-to-fix-this-statement-to-increment-the-specified-variable", "title": "How to fix this Statement to increment the specified variable?", "body": "<p>I am having a problem regarding in my codes where in the fields are not auto incrementing; I will posting the codes below :</p>\n\n<pre><code>else\n{\n    using (conn = new SqlConnection(Helper.CnnVal(\"ProfilingDB\")))\n    {\n        conn.Open();\n\n        string GetLastRow = \"SELECT CONCAT(MAX(YEAR(applied_date)), \" +\n                    \"MAX(MONTH(applied_date)) , MAX(DAY(applied_date))) as applied_date FROM personal_info\"; //get last row of request date\"\n\n        using (cmd = new SqlCommand(GetLastRow, conn))\n        {\n            dr = cmd.ExecuteReader();\n\n            while (dr.Read())\n            {\n                string AppliedNow = DTAppliedYear + DTAppliedMonth + DTAppliedToday;\n                DTApplied = (dr[\"applied_date\"].ToString());\n\n                if (AppliedNow == DTApplied)\n                { //compare the last row request date to datetime.now\n\n                  string MaxAppliedNumber = \"SELECT MAX(applicant_number) as applicant_number FROM personal_info\";  // get max applied applicant\n\n                    using (cmd = new SqlCommand(MaxAppliedNumber, conn))\n                    {\n                        while (dr.Read())\n                        {\n\n                            applicantNumber = Int64.Parse(dr[\"applicant_number\"].ToString());\n                            applicantNumber++;\n                        }\n                    }\n                }\n                else\n                {\n                    string appliedNum = AppliedNow + \"000\"; //set ticket number and add string 0000\n                    applicantNumber = Int64.Parse(appliedNum);\n\n                    db.Insert_info(applicantNumber, txtbox_fname.Text, txtbox_lname.Text, txtbox_midname.Text, txtbox_address.Text, cb_gender.Text, dt_bday.Value.Date,\n                    int.Parse(txtbox_age.Text), txtbox_email.Text, Int64.Parse(txtbox_contact.Text), applying_for, DateTime.Now);\n                }\n\n            }\n        }\n    }\n</code></pre>\n\n<p>\"I expected the output to increment in applicant_number field\"</p>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "edited": false, "score": 0, "creation_date": 1565799476, "post_id": 57498104, "comment_id": 101466647, "body": "Thats essentially what i need but instead of calling that &quot;TimerCallback&quot; method, i need it to execute all my code after the user inputs a value, every 2 seconds."}, {"owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "edited": false, "score": 0, "creation_date": 1565799540, "post_id": 57498104, "comment_id": 101466683, "body": "I only started using C# today and i`m pretty unsure of how timers work"}, {"owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "reply_to_user": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "edited": false, "score": 0, "creation_date": 1565799562, "post_id": 57498104, "comment_id": 101466692, "body": "You dont need to call it. It&#39;s called automatically every X seconds. Just place you code inside the timer."}, {"owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "edited": false, "score": 0, "creation_date": 1565799610, "post_id": 57498104, "comment_id": 101466716, "body": "Okay I see what you mean ;) thank you"}], "tags": [], "owner": {"reputation": 5170, "user_id": 1410246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfce8c2aa420b800bb7595ac5fbc986d?s=128&d=identicon&r=PG", "display_name": "EylM", "link": "https://stackoverflow.com/users/1410246/eylm"}, "is_accepted": false, "score": 0, "last_activity_date": 1565797807, "creation_date": 1565797807, "answer_id": 57498104, "question_id": 57497956, "link": "https://stackoverflow.com/questions/57497956/executing-the-main-method-every-2-seconds-with-original-input-from-user/57498104#57498104", "title": "Executing the main method every 2 seconds with original input from user", "body": "<p>You could create a timer after you take the input from the user:</p>\n\n<pre><code>    // called every 3 seconds.\n    private static void TimerCallback(Object o)\n    {            \n        Console.WriteLine(\"Draw something.... \");\n    }\n\n    static void Main(string[] args)\n    {\n        Console.Write(\"How many levels high do you want the tree to be :\");\n        int input = Convert.ToInt32(Console.ReadLine());\n        int treeHeight = input, Space, sX;\n        Console.WriteLine(\"Tree:\");\n\n        // Timer.\n        var t = new Timer(TimerCallback, null, 0, 3000);\n\n        // Prevent the app from closing\n        Console.ReadLine();\n    }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11792671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/569a7c1239b47ebef2299656fa2338ba?s=128&d=identicon&r=PG&f=1", "display_name": "kylebotha", "link": "https://stackoverflow.com/users/11792671/kylebotha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1565802619, "answer_count": 1, "score": 0, "last_activity_date": 1565797807, "creation_date": 1565797286, "last_edit_date": 1565797408, "question_id": 57497956, "link": "https://stackoverflow.com/questions/57497956/executing-the-main-method-every-2-seconds-with-original-input-from-user", "closed_reason": "Duplicate", "title": "Executing the main method every 2 seconds with original input from user", "body": "<p>I need to make a tree in console which has moving ornaments, these ornaments need to move every 2 seconds. </p>\n\n<p>The tree is made out of X<code>s and ornaments are O</code>s, the ornaments are randomly put at different positions and different colors. </p>\n\n<p>The ornaments need to change position and color every 2 seconds.</p>\n\n<p>I need help executing the main method every two seconds with the same initial input from the user. </p>\n\n<pre><code>      X\n     XXX\n    XXXOO\n   XXXOOXO\n  XXXOOXOXO\n XOXXXOXXXOX\nXXXOOOXOOXOXX\n     | |\n</code></pre>\n\n<p>Im thinking of just restarting the execution of the main method every two seconds, but when it restarts it uses the input that the user entered the first time. I just dont know how to execute a method every two seconds  </p>\n\n<pre><code>namespace ConsoleApp1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Console.Write(\"How many levels high do you want the tree to be :\");\n            int input = Convert.ToInt32(Console.ReadLine());\n            int treeHeight = input, Space, sX;\n            Console.WriteLine(\"Tree:\");\n            for (int i = 1; i &lt;= treeHeight; i++)   //Height loop\n            {\n                for (Space = 1; Space &lt;= (treeHeight - i); Space++)  //space loop\n                    Console.Write(\" \");\n                for (sX = 1; sX &lt;= i; sX++)         //left x loop with random ornaments\n                    Console.Write(GetChar(GetRand()));\n                for (sX = (i - 1); sX &gt;= 1; sX--)     //right x loop with random ornaments\n                    Console.Write(GetChar(GetRand()));\n                Console.WriteLine();\n            }\n            for (int k = 1; k &lt;= (treeHeight - 2); k++)\n            {\n                Console.Write(\" \");\n            }\n            Console.Write(\"| |\");\n            Console.WriteLine();\n            Console.ReadLine();\n        }\n\n        static string GetChar(int iRandom)\n        {\n            string character;\n            switch (iRandom)\n            {\n                case 0:\n                    Console.ForegroundColor = ConsoleColor.Cyan;\n                    character = \"O\";\n\n                    break;\n                case 1:\n                    Console.ForegroundColor = ConsoleColor.Yellow;\n                    character = \"O\";\n                    break;\n                case 2:\n                    Console.ForegroundColor = ConsoleColor.Red;\n                    character = \"O\";\n                    break;\n                case 3:\n                    Console.ForegroundColor = ConsoleColor.Magenta;\n                    character = \"O\";\n                    break;\n                case 4:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                case 5:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                case 6:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                case 7:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                case 8:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                case 9:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                case 10:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                case 11:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n                default:\n                    Console.ForegroundColor = ConsoleColor.Green;\n                    character = \"X\";\n                    break;\n            }\n            return character;\n        }\n\n        static Int32 GetRand()\n        {\n\n\n            Random irandom = new Random();\n            int iNum = irandom.Next(0, 11);\n            return iNum;\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "yield", "coroutine", "yield-return"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1565797477, "post_id": 57497935, "comment_id": 101465707, "body": "What exactly do you expect us to do when you only tell us &quot;it doesn&#39;t work&quot;?"}, {"owner": {"reputation": 4287, "user_id": 9073130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df7314c5520f5570313a2156d005f14?s=128&d=identicon&r=PG&f=1", "display_name": "Vidmantas Blazevicius", "link": "https://stackoverflow.com/users/9073130/vidmantas-blazevicius"}, "edited": false, "score": 0, "creation_date": 1565797501, "post_id": 57497935, "comment_id": 101465717, "body": "You don&#39;t even return anything from this function so how do you expect it to work?"}, {"owner": {"reputation": 368, "user_id": 1638693, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b7cbc00caa78b45c29d838a6e07b8154?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1638693/joe"}, "edited": false, "score": 0, "creation_date": 1565797589, "post_id": 57497935, "comment_id": 101465754, "body": "Do you receive any compiler errors? The method in question looks incomplete."}, {"owner": {"reputation": 22713, "user_id": 1086121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d145ca3d7f8490da86055b72f3d859?s=128&d=identicon&r=PG", "display_name": "canton7", "link": "https://stackoverflow.com/users/1086121/canton7"}, "edited": false, "score": 0, "creation_date": 1565797877, "post_id": 57497935, "comment_id": 101465885, "body": "The <code>IEnumerator</code> is never being iterated. I think you have to use some sort of helper method in Unity?"}, {"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "edited": false, "score": 0, "creation_date": 1565856890, "post_id": 57497935, "comment_id": 101481403, "body": "Why do you have it as <code>IEnumerator</code>? Rather use a simply <code>void</code> here since there is no looping going on here"}], "answers": [{"comments": [{"owner": {"reputation": 46970, "user_id": 7111561, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/SNnq7.png?s=128&g=1", "display_name": "derHugo", "link": "https://stackoverflow.com/users/7111561/derhugo"}, "reply_to_user": {"reputation": 15, "user_id": 11586059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c79af64ae1efc47cfca57b6f1398508f?s=128&d=identicon&r=PG&f=1", "display_name": "SnowyOwl", "link": "https://stackoverflow.com/users/11586059/snowyowl"}, "edited": false, "score": 1, "creation_date": 1565856801, "post_id": 57498218, "comment_id": 101481371, "body": "@SnowyOwl It is very questionable though if this should be an <code>IEnumerator</code>/Coroutine then because as it is it could simply be a normal <code>void</code> method call running once from top to bottom ...."}, {"owner": {"reputation": 106, "user_id": 4564255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o32jH.png?s=128&g=1", "display_name": "Kaarel Reinvars", "link": "https://stackoverflow.com/users/4564255/kaarel-reinvars"}, "edited": false, "score": 0, "creation_date": 1565863764, "post_id": 57498218, "comment_id": 101483921, "body": "Don&#39;t know the full context of the code, but yes, in the specific example it could simply be a <code>void</code> return type method."}], "tags": [], "owner": {"reputation": 106, "user_id": 4564255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o32jH.png?s=128&g=1", "display_name": "Kaarel Reinvars", "link": "https://stackoverflow.com/users/4564255/kaarel-reinvars"}, "is_accepted": true, "score": 4, "last_activity_date": 1565798486, "last_edit_date": 1565798486, "creation_date": 1565798261, "answer_id": 57498218, "question_id": 57497935, "link": "https://stackoverflow.com/questions/57497935/my-unity-ienumerator-method-not-seems-to-be-work/57498218#57498218", "title": "My unity IEnumerator method not seems to be work", "body": "<p>Even though you are missing a return statement from the <code>MoveInsideTheShape</code> method, adding it would still not solve your issue.</p>\n\n<p>IEnumerator methods have to be iterated using the <code>StartCoroutine</code> helper method.</p>\n\n<p>Here's a tested working code.</p>\n\n<pre><code>void Update()\n{\n    if (Input.GetKeyDown(KeyCode.G))\n    {\n        Debug.Log(true);\n        StartCoroutine(MoveInsideTheShape(speedy));\n    }\n}\n\npublic IEnumerator MoveInsideTheShape(float speed)\n{\n    speed = 1 / speed;\n    float totalLenght = cam.orthographicSize * 2;\n    float iterationLenght = totalLenght / speed;\n\n    Debug.Log(cam.orthographicSize);\n\n    yield return null;\n}\n</code></pre>\n\n<p>Helpful links:</p>\n\n<ul>\n<li><a href=\"https://docs.unity3d.com/Manual/Coroutines.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/Manual/Coroutines.html</a></li>\n<li><a href=\"https://docs.unity3d.com/ScriptReference/MonoBehaviour.StartCoroutine.html\" rel=\"nofollow noreferrer\">https://docs.unity3d.com/ScriptReference/MonoBehaviour.StartCoroutine.html</a></li>\n</ul>\n"}], "owner": {"reputation": 15, "user_id": 11586059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c79af64ae1efc47cfca57b6f1398508f?s=128&d=identicon&r=PG&f=1", "display_name": "SnowyOwl", "link": "https://stackoverflow.com/users/11586059/snowyowl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 0, "accepted_answer_id": 57498218, "answer_count": 1, "score": 0, "last_activity_date": 1565798486, "creation_date": 1565797204, "question_id": 57497935, "link": "https://stackoverflow.com/questions/57497935/my-unity-ienumerator-method-not-seems-to-be-work", "title": "My unity IEnumerator method not seems to be work", "body": "<p>I have some code: \nWhy Debug.Log inside the IEnumerator method not display anything?\nAnd why my method isn`t working?</p>\n\n<pre><code>void Update()\n    {\n        if (Input.GetKeyDown(KeyCode.G))\n        {\n            Debug.Log(true);\n            MoveInsideTheShape(speedy);\n        }\n    }\n\n    public IEnumerator MoveInsideTheShape(float speed)\n    {\n        speed = 1 / speed;\n        float totalLenght = cam.orthographicSize * 2;\n        float iterationLenght = totalLenght / speed;\n\n        Debug.Log(cam.orthographicSize); // does not work\n}\n</code></pre>\n"}]