[{"tags": ["c#", "azure", "azureservicebus"], "comments": [{"owner": {"reputation": 1355, "user_id": 2275775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDC8z.jpg?s=128&g=1", "display_name": "Micha\u0142 Jarzyna", "link": "https://stackoverflow.com/users/2275775/micha%c5%82-jarzyna"}, "edited": false, "score": 0, "creation_date": 1481155672, "post_id": 41029520, "comment_id": 69266774, "body": "I (barely) remember that are also some other ways to get namespace, not only via one connection string. Did you have the same error trying different approach?"}, {"owner": {"reputation": 3066, "user_id": 64734, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/061a53ca52690755fa9b24b341d25751?s=128&d=identicon&r=PG", "display_name": "Matt Ruwe", "link": "https://stackoverflow.com/users/64734/matt-ruwe"}, "reply_to_user": {"reputation": 1355, "user_id": 2275775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDC8z.jpg?s=128&g=1", "display_name": "Micha\u0142 Jarzyna", "link": "https://stackoverflow.com/users/2275775/micha%c5%82-jarzyna"}, "edited": false, "score": 0, "creation_date": 1481155793, "post_id": 41029520, "comment_id": 69266818, "body": "I&#39;ll have a look around and see.  We&#39;ve been using this approach without any problem until just now."}, {"owner": {"reputation": 1355, "user_id": 2275775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VDC8z.jpg?s=128&g=1", "display_name": "Micha\u0142 Jarzyna", "link": "https://stackoverflow.com/users/2275775/micha%c5%82-jarzyna"}, "edited": false, "score": 0, "creation_date": 1481156261, "post_id": 41029520, "comment_id": 69266962, "body": "From my experience, Azure has sometimes backward compatibility issues. So cases when something is stop working in the newest library/service are maybe not common but appearing from time to time."}, {"owner": {"reputation": 1399, "user_id": 5760591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9472eed431eb652b5bc19f6f2a1bfa26?s=128&d=identicon&r=PG&f=1", "display_name": "forester123", "link": "https://stackoverflow.com/users/5760591/forester123"}, "edited": false, "score": 0, "creation_date": 1481164786, "post_id": 41029520, "comment_id": 69269251, "body": "Just tried the same code with package version 3.4.3(latest), no problem. Your error says invalid signature, it must be something wrong with the shared access key I think. Did you get the string from portal?"}, {"owner": {"reputation": 3066, "user_id": 64734, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/061a53ca52690755fa9b24b341d25751?s=128&d=identicon&r=PG", "display_name": "Matt Ruwe", "link": "https://stackoverflow.com/users/64734/matt-ruwe"}, "reply_to_user": {"reputation": 1399, "user_id": 5760591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9472eed431eb652b5bc19f6f2a1bfa26?s=128&d=identicon&r=PG&f=1", "display_name": "forester123", "link": "https://stackoverflow.com/users/5760591/forester123"}, "edited": false, "score": 0, "creation_date": 1481194284, "post_id": 41029520, "comment_id": 69282518, "body": "@forester123 thank you for trying.  Yes, copy and pasted the string.  I agree, the string must be invalid in some way.  We&#39;ve tried regenerating the key and using the secondary key.  Nothing seems to work."}, {"owner": {"reputation": 3066, "user_id": 64734, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/061a53ca52690755fa9b24b341d25751?s=128&d=identicon&r=PG", "display_name": "Matt Ruwe", "link": "https://stackoverflow.com/users/64734/matt-ruwe"}, "edited": false, "score": 0, "creation_date": 1481194736, "post_id": 41029520, "comment_id": 69282814, "body": "I just tried this from my home laptop (as opposed to my work desktop) and everything worked as well.  Weird."}], "answers": [{"comments": [{"owner": {"reputation": 3066, "user_id": 64734, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/061a53ca52690755fa9b24b341d25751?s=128&d=identicon&r=PG", "display_name": "Matt Ruwe", "link": "https://stackoverflow.com/users/64734/matt-ruwe"}, "edited": false, "score": 0, "creation_date": 1481561099, "post_id": 41064921, "comment_id": 69415174, "body": "This seems like the most likely answer since the problem magically disappeared after a while."}], "tags": [], "owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "is_accepted": true, "score": 2, "last_activity_date": 1481301196, "creation_date": 1481301196, "answer_id": 41064921, "question_id": 41029520, "link": "https://stackoverflow.com/questions/41029520/access-error-trying-to-create-azure-service-bus-queue/41064921#41064921", "title": "Access error trying to create Azure service bus queue", "body": "<p>The error you've got with <code>TrackingId:&lt;GUID&gt;_G30</code> indicates an issue on the gateway MSFT support team should be able to help with. Namespace management operations are going over HTTPS, I assume you have that opened, i.e. nothing is blocking it. So my bet would be to talk to Azure support, provide them with the <code>TrackingId</code> to figure out why the gateway turned your request down.</p>\n"}], "owner": {"reputation": 3066, "user_id": 64734, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/061a53ca52690755fa9b24b341d25751?s=128&d=identicon&r=PG", "display_name": "Matt Ruwe", "link": "https://stackoverflow.com/users/64734/matt-ruwe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1027, "favorite_count": 0, "accepted_answer_id": 41064921, "answer_count": 1, "score": 2, "last_activity_date": 1481301196, "creation_date": 1481155118, "last_edit_date": 1481221054, "question_id": 41029520, "link": "https://stackoverflow.com/questions/41029520/access-error-trying-to-create-azure-service-bus-queue", "title": "Access error trying to create Azure service bus queue", "body": "<p>I'm running the following code in a simple console application that has the latest version of the WindowsAzure.ServiceBus NuGet package installed:</p>\n\n<pre><code>        var connectionString = \"Endpoint=sb://&lt;servername&gt;/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=&lt;SharedAccessKey&gt;\";\n        var queueName = \"TestQueue\";\n\n        var ns = NamespaceManager.CreateFromConnectionString(connectionString);\n\n        if (!ns.QueueExists(queueName))\n            ns.CreateQueue(queueName);\n</code></pre>\n\n<p>And receiving the following error:</p>\n\n<pre><code>System.UnauthorizedAccessException was unhandled\n  HResult=-2147024891\n  Message=The remote server returned an error: (401) Unauthorized. InvalidSignature: The token has an invalid signature. TrackingId:&lt;GUID&gt;_G30, SystemTracker:&lt;MyQueue&gt;.servicebus.windows.net\n</code></pre>\n\n<p>I tried a lot of different things to attempt to fix it including dropping and recreating the entire namespace.  I've also verified that the SharedAccessKey has the proper claims (i.e. Manage).</p>\n\n<p><a href=\"https://i.stack.imgur.com/A0mgf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A0mgf.png\" alt=\"enter image description here\"></a></p>\n\n<h1>Update</h1>\n\n<p>After coming back in the morning to continue troubleshooting this problem, it has mysteriously started working, so I guess the question has changed to, what happened here?  The code didn't change.  The key didn't change.  (Confused!)</p>\n"}, {"tags": ["c#", "generics", "func", "fluent-interface"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1481156641, "post_id": 41029481, "comment_id": 69267074, "body": "look at how linq implements IEnumerable.Select <a href=\"https://referencesource.microsoft.com/#System.Core/System/Linq/Enumerable.cs,bc79a642e00b8681\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#System.Core/System/Linq/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26429, "user_id": 1816704, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/6689ef8df6dba1d53185f82c8bb1c1ee?s=128&d=identicon&r=PG", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/1816704/kenneth"}, "is_accepted": false, "score": 0, "last_activity_date": 1481156024, "creation_date": 1481156024, "answer_id": 41029634, "question_id": 41029481, "link": "https://stackoverflow.com/questions/41029481/c-fluent-api-with-dynamic-func-construction/41029634#41029634", "title": "C# Fluent API With Dynamic Func&lt;&gt; Construction", "body": "<p>It depends on how many methods you want to be able to add, but every should probably return another object of type <code>T</code> with the same methods. That requires you to repeat all functions for every number of type parameters you will have in your build function.</p>\n\n<p>Maybe not an answer to your question, but you could forgo the static type checking and use something dynamic though:</p>\n\n<pre><code>public class Builder\n{\n    List&lt;Type&gt; _types = new List&lt;Type&gt;();\n    List&lt;object&gt; _values = new List&lt;Object&gt;();\n    public Builder GetOne&lt;T&gt;()\n    {\n        _types.Add(typeof(T));\n        // Do stuff\n        _values.Add(someObjectYouRetrieved);\n        return this;\n    }\n\n    public T Build&lt;T1, T&gt;(Func&lt;T1, T2, T&gt; func) =&gt;\n        func(_values[0] as T1);\n\n    public T Build&lt;T1, T2, T&gt;(Func&lt;T1, T2, T&gt; func) =&gt;\n        func(_values[0] as T1, _values[1] as T2);\n\n    public T Build&lt;T1, T2, T3, T&gt;(Func&lt;T1, T2, T3, T&gt; func) =&gt;\n        func(_values[0] as T1, _values[1] as T2, _values[2] as T3);\n\n   // Add more for the amount of type params you want to allow\n}\n</code></pre>\n\n<p>This doesn't give you unlimited flexibility, but at least it prevents an explosion of methods.</p>\n\n<p>It also doesn't give you static type checking, but since you're doing SQL, you don't have type safety in the first place.</p>\n\n<p>It's a trade-off though.</p>\n"}, {"comments": [{"owner": {"reputation": 486, "user_id": 643623, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/hzG6r.jpg?s=128&g=1", "display_name": "Craig Koster", "link": "https://stackoverflow.com/users/643623/craig-koster"}, "edited": false, "score": 1, "creation_date": 1481298978, "post_id": 41029724, "comment_id": 69335470, "body": "Thanks, Rob.  I used this technique and, while verbose, it is doing what I want to accomplish.  I&#39;m supporting 12 levels of one-to-many associations which I think should be plenty for a majority of uses."}], "tags": [], "owner": {"reputation": 25448, "user_id": 563532, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2773fec98b1630ec087b575482dc08a?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/563532/rob"}, "is_accepted": true, "score": 0, "last_activity_date": 1481156937, "last_edit_date": 1481156937, "creation_date": 1481156626, "answer_id": 41029724, "question_id": 41029481, "link": "https://stackoverflow.com/questions/41029481/c-fluent-api-with-dynamic-func-construction/41029724#41029724", "title": "C# Fluent API With Dynamic Func&lt;&gt; Construction", "body": "<p>If you want strong autocomplete and preventing someone from writing <code>.Build(person =&gt; {})</code> when you're expecting <code>(person, pet) =&gt; {}</code>, you'll need to be verbose in your builder.</p>\n\n<p>Here's an example for three levels deep:</p>\n\n<pre><code>class Person { public IEnumerable&lt;Pet&gt; Pets { get; set;} } class Pet {} class Address{}\n\npublic static class Builder\n{\n    public static Level1&lt;T&gt; GetOne&lt;T&gt;(this object obj, string blah) {\n        return new Level1&lt;T&gt;();\n    }\n}\npublic class Level1&lt;T1&gt; {\n    public Level2&lt;T1, T2&gt; WithMany&lt;T2&gt;(string blah) { return new Level2&lt;T1, T2&gt;(); }\n    public T1 Build(Func&lt;T1, T1&gt; pred) { return pred(default(T1)); }\n}\npublic class Level2&lt;T1, T2&gt;\n{\n    public Level3&lt;T1, T2, T3&gt; WithMany&lt;T3&gt;(string blah) { return new Level3&lt;T1, T2, T3&gt;(); }\n    public T1 Build(Func&lt;T1, IEnumerable&lt;T2&gt;, T1&gt; pred) { return pred(default(T1), default(IEnumerable&lt;T2&gt;)); }\n}\npublic class Level3&lt;T1, T2, T3&gt;\n{\n    public T1 Build(Func&lt;T1, IEnumerable&lt;T2&gt;, IEnumerable&lt;T3&gt;, T1&gt; pred) { \n        return pred(default(T1), default(IEnumerable&lt;T2&gt;), default(IEnumerable&lt;T3&gt;)); \n    }\n}\n</code></pre>\n\n<p>Where we get strong typing here:</p>\n\n<pre><code>obj.GetOne&lt;Person&gt;(\"select * from [Person] where [Id] = 1\")\n.WithMany&lt;Pet&gt;(\"select * from [Pet] where [PersonId] = 1\")\n.WithMany&lt;Address&gt;(\"select * from [Address] where [PersonId] = 1]\")\n.Build((person, pets, addresses) =&gt; {\n    person.Pets = pets;\n    return person;\n});\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>obj.GetOne&lt;Person&gt;(\"select * from [Person] where [Id] = 1\")\n.WithMany&lt;Pet&gt;(\"select * from [Pet] where [PersonId] = 1\")\n.Build((person, pets) =&gt; { return person; });\n</code></pre>\n\n<p>As to your note about a restricted amount of parameters - that's correct. I don't believe there's anyway to get around that while keeping strong typing, unfortunately.</p>\n"}], "owner": {"reputation": 486, "user_id": 643623, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/hzG6r.jpg?s=128&g=1", "display_name": "Craig Koster", "link": "https://stackoverflow.com/users/643623/craig-koster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 685, "favorite_count": 1, "accepted_answer_id": 41029724, "answer_count": 2, "score": 4, "last_activity_date": 1481156937, "creation_date": 1481154830, "question_id": 41029481, "link": "https://stackoverflow.com/questions/41029481/c-fluent-api-with-dynamic-func-construction", "title": "C# Fluent API With Dynamic Func&lt;&gt; Construction", "body": "<p>I'm fooling around with creating a small SQL library with a fluent API and want to do something like this:</p>\n\n<pre><code>var person = connection.GetOne&lt;Person&gt;(\"select * from [Person] where [Id] = 1\")\n                       .WithMany&lt;Pet&gt;(\"select * from [Pet] where [PersonId] = 1\")\n                       .WithMany&lt;Address&gt;(\"select * from [Address] where [PersonId] = 1]\")\n                       .Build((person, pets, addresses) =&gt;\n                       {\n                           person.Pets = pets;\n                           person.Addresses = addresses;\n\n                           return person;\n                       });\n</code></pre>\n\n<p>I've built plenty of fluent API's before but all have been much more simple and did not rely on generics so heavily.  My question is specifically how to go about implementing the Build() end function.  I'm not sure if it's even possible (doesn't seem like it but maybe using Expression is the key?) but how can I keep track of the generic types specified in the calls to the higher chain methods (e.g. GetOne&lt;>(), WithMany&lt;>()) so that when the .Build() is called the Func&lt;> that is required is of the correct types?</p>\n\n<p>In the example above I'd want the Func&lt;> to be Func&lt;Person, IEnumerable&lt;Pet&gt;, IEnumerable&lt;Address&gt;&gt; so that the developer can construct the root item (person) in whatever manner they need to - in this case, populating a couple collections with the results of one->many queries.</p>\n\n<p>Is there any way to do this or am I out of luck?  It seems like a lot of places I've looked to for similar things do the whole:</p>\n\n<pre><code>Func&lt;In1, TResult&gt;\nFunc&lt;In1, In2, TResult&gt;\nFunc&lt;In1, In2, In3, TResult&gt;\n...etc, etc\n</code></pre>\n\n<p>...type of thing which obviously limits you to a max number of parameters for the function.</p>\n\n<p>Any help or pointers would be much appreciated.</p>\n"}, {"tags": ["c#", "unity3d"], "answers": [{"tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": true, "score": 0, "last_activity_date": 1481757432, "creation_date": 1481757432, "answer_id": 41153885, "question_id": 41029363, "link": "https://stackoverflow.com/questions/41029363/navmeshagent-doesnt-follow-new-recalculated-path/41153885#41153885", "title": "NavMeshAgent doesn&#39;t follow new recalculated path", "body": "<p>I figured it out! The issues was that my next waypoint was positioned too far above the NavMesh. But for some reason <code>path.status</code> was still returning <code>PathComplete</code>.</p>\n\n<p>Moving the Waypoint closer to the navmesh allowed the object to go to the next Waypoint instead of just stopping.</p>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 41153885, "answer_count": 1, "score": 0, "last_activity_date": 1481757432, "creation_date": 1481154153, "question_id": 41029363, "link": "https://stackoverflow.com/questions/41029363/navmeshagent-doesnt-follow-new-recalculated-path", "title": "NavMeshAgent doesn&#39;t follow new recalculated path", "body": "<p>When I create a path for a game object it works and it follows it, but when I create a new path it doesn't follow it. What is causing this?</p>\n\n<pre><code>public class Unit : MonoBehaviour {\n\n    protected NavMeshPath path;\n\n    void Start () {\n        path = new NavMeshPath();\n        agent = GetComponent&lt;NavMeshAgent&gt;();\n        agent.SetPath(path);\n    }\n\n    public void SetNextWaypoint(Vector3 location){\n        agent.ResetPath();\n        agent.CalculatePath(location, path);\n        agent.SetPath(path);\n    }\n\n}\n</code></pre>\n\n<p>I then have a waypoint class that looks like this (simplified):</p>\n\n<pre><code>public class Waypoint : MonoBehaviour {\n    void OnTriggerEnter(Collider other){\n        Unit unit = other.GetComponent&lt;Unit&gt;();\n        Vector3 next = nextTeam2.position;\n        unit.SetNextWaypoint(next);\n    }\n}\n</code></pre>\n\n<p>The waypoint trigger is running, and so is the <code>SetNextWaypoint</code> method. However the gameobject doesn't move to the next waypoint. It goes to the first one, but once it gets there it doesn't go to the second one.</p>\n"}, {"tags": ["c#", "dictionary"], "comments": [{"owner": {"reputation": 1386, "user_id": 2398353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/222fb32751de4db3a682b22f14e01b7c?s=128&d=identicon&r=PG", "display_name": "Pratik Gaikwad", "link": "https://stackoverflow.com/users/2398353/pratik-gaikwad"}, "edited": false, "score": 2, "creation_date": 1481153729, "post_id": 41029249, "comment_id": 69266124, "body": "Your approach is correct. But you need to create innermost dictionary instance. Use <code>zooDict.Add(&quot;key&quot;, new Dictionary ();</code> where <code>key</code> is <b>bat</b>, etc"}, {"owner": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "reply_to_user": {"reputation": 1386, "user_id": 2398353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/222fb32751de4db3a682b22f14e01b7c?s=128&d=identicon&r=PG", "display_name": "Pratik Gaikwad", "link": "https://stackoverflow.com/users/2398353/pratik-gaikwad"}, "edited": false, "score": 0, "creation_date": 1481154118, "post_id": 41029249, "comment_id": 69266258, "body": "I was unable to add the inner dictionaries but now I think I got it."}, {"owner": {"reputation": 1386, "user_id": 2398353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/222fb32751de4db3a682b22f14e01b7c?s=128&d=identicon&r=PG", "display_name": "Pratik Gaikwad", "link": "https://stackoverflow.com/users/2398353/pratik-gaikwad"}, "edited": false, "score": 0, "creation_date": 1481154317, "post_id": 41029249, "comment_id": 69266327, "body": "can you show me how you are adding inner dictionary? I may be able to help you or correct your approach of adding dictionary."}, {"owner": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "reply_to_user": {"reputation": 1386, "user_id": 2398353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/222fb32751de4db3a682b22f14e01b7c?s=128&d=identicon&r=PG", "display_name": "Pratik Gaikwad", "link": "https://stackoverflow.com/users/2398353/pratik-gaikwad"}, "edited": false, "score": 0, "creation_date": 1481154501, "post_id": 41029249, "comment_id": 69266392, "body": "@PratikGaikwad <a href=\"http://pastebin.com/GTJQugsD\" rel=\"nofollow noreferrer\">pastebin.com/GTJQugsD</a>"}, {"owner": {"reputation": 697, "user_id": 4443865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I7KyS.jpg?s=128&g=1", "display_name": "Monza", "link": "https://stackoverflow.com/users/4443865/monza"}, "edited": false, "score": 2, "creation_date": 1481154697, "post_id": 41029249, "comment_id": 69266467, "body": "For the record it looks like you&#39;re creating what will later become a confusing data structure IMHO"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1481154765, "post_id": 41029249, "comment_id": 69266495, "body": "@Morpheus - You should edit your question to add the code - not add it via a link to external sites."}, {"owner": {"reputation": 1386, "user_id": 2398353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/222fb32751de4db3a682b22f14e01b7c?s=128&d=identicon&r=PG", "display_name": "Pratik Gaikwad", "link": "https://stackoverflow.com/users/2398353/pratik-gaikwad"}, "edited": false, "score": 0, "creation_date": 1481154835, "post_id": 41029249, "comment_id": 69266526, "body": "@Morpheus it looks like you are on right track but you&#39;re doing too much processing. I will post my answer once I log into to computer"}, {"owner": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "edited": false, "score": 1, "creation_date": 1481154911, "post_id": 41029249, "comment_id": 69266543, "body": "I don&#39;t think Dictionaries are what you  need to solve this.  Custom classes would be much simpler.  Is there a requirement to use dictionaries?"}, {"owner": {"reputation": 3411, "user_id": 1685167, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/qc0uU.jpg?s=128&g=1", "display_name": "Tyress", "link": "https://stackoverflow.com/users/1685167/tyress"}, "edited": false, "score": 0, "creation_date": 1481155197, "post_id": 41029249, "comment_id": 69266623, "body": "I suspect all JSON libraries would support direct conversion from class objects too so you really should consider making it a class instead"}], "answers": [{"comments": [{"owner": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "edited": false, "score": 3, "creation_date": 1481154831, "post_id": 41029472, "comment_id": 69266523, "body": "Classes would be much easier."}, {"owner": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "reply_to_user": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "edited": false, "score": 0, "creation_date": 1481155130, "post_id": 41029472, "comment_id": 69266603, "body": "@TheGeekYouNeed  I am not very familiar with C#. I hope classes will solve the problem. I sporadically have to deal with code written by others. hence the confusion."}, {"owner": {"reputation": 682, "user_id": 5694113, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/f8fbv.jpg?s=128&g=1", "display_name": "TheQuestioner", "link": "https://stackoverflow.com/users/5694113/thequestioner"}, "edited": false, "score": 0, "creation_date": 1481155371, "post_id": 41029472, "comment_id": 69266683, "body": "Morpheus is right, classes will eliminate frustrations here"}, {"owner": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "edited": false, "score": 0, "creation_date": 1481156238, "post_id": 41029472, "comment_id": 69266957, "body": "@KMoussa  There seems to be an issue with the code, the Dictionary only lists one key, value pair which is the last element. i.e  CST     EGG     4   0"}, {"owner": {"reputation": 1513, "user_id": 6899092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSkil.png?s=128&g=1", "display_name": "KMoussa", "link": "https://stackoverflow.com/users/6899092/kmoussa"}, "reply_to_user": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "edited": false, "score": 0, "creation_date": 1481156503, "post_id": 41029472, "comment_id": 69267032, "body": "@Morpheus are you looking at it in the debugger or looping and printing? If printing can u share the code you use to print?"}, {"owner": {"reputation": 1513, "user_id": 6899092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSkil.png?s=128&g=1", "display_name": "KMoussa", "link": "https://stackoverflow.com/users/6899092/kmoussa"}, "reply_to_user": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "edited": false, "score": 0, "creation_date": 1481156664, "post_id": 41029472, "comment_id": 69267080, "body": "@TheGeekYouNeed I tend to agree, the only downside of classes is that the sample Json Morpheus shared doesn&#39;t look like the default serialization of lists (no Json arrays) so might require some customization to serializing (assuming the exact format is required)"}, {"owner": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "edited": false, "score": 0, "creation_date": 1481156724, "post_id": 41029472, "comment_id": 69267101, "body": "@KMoussa  <a href=\"http://pastebin.com/ZQaZXzmC\" rel=\"nofollow noreferrer\">pastebin.com/ZQaZXzmC</a>  The Console.WriteLine writes all the locations and animals etc"}, {"owner": {"reputation": 1513, "user_id": 6899092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSkil.png?s=128&g=1", "display_name": "KMoussa", "link": "https://stackoverflow.com/users/6899092/kmoussa"}, "reply_to_user": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "edited": false, "score": 0, "creation_date": 1481156934, "post_id": 41029472, "comment_id": 69267151, "body": "@Morpheus u need to move <code>waitlistDict = new Dictionary&lt;string, Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;&gt;();</code> outside the loop. Having it inside the loop creates a brand new dictionary in each iteration so u end up with only the last element"}, {"owner": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "edited": false, "score": 0, "creation_date": 1481157560, "post_id": 41029472, "comment_id": 69267362, "body": "@KMoussa Sorry. I feel stupid. It&#39;s been a long day. Thanks A loT"}], "tags": [], "owner": {"reputation": 1513, "user_id": 6899092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSkil.png?s=128&g=1", "display_name": "KMoussa", "link": "https://stackoverflow.com/users/6899092/kmoussa"}, "is_accepted": true, "score": 7, "last_activity_date": 1481157110, "last_edit_date": 1481157110, "creation_date": 1481154787, "answer_id": 41029472, "question_id": 41029249, "link": "https://stackoverflow.com/questions/41029249/dictionary-of-dictionaries-in-c/41029472#41029472", "title": "Dictionary Of Dictionaries in C#", "body": "<p>You can fill the dictionary directly in your loop</p>\n\n<pre><code>private Dictionary&lt;string, Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;&gt; zooDict =\n     new Dictionary&lt;string, Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;&gt;();\n\nwhile (reader.Read())\n{\n       var location = reader.GetString(0).Trim();\n       var animal= reader.GetString(1).Trim();\n       var Monday= reader.GetValue(1).ToString().Trim();\n       var Tuesday= reader.GetValue(3).ToString().Trim();\n\n       if(!zooDict.ContainsKey(location))\n            zooDict[location] = new Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;();\n\n       zooDict[location][animal] = new Dictionary&lt;string, string&gt;() \n       {\n             { \"MN\", Monday },\n             { \"Tu\", Tuesday }\n       };\n}\n</code></pre>\n\n<p>As a side note, you might want to consider creating classes to represent your objects, add them to a dictionary or list, and use Newtonsoft Json.net (<a href=\"http://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">http://www.newtonsoft.com/json</a>) to serialize them instead of using dictionaries for everything. For example, you can create a class:</p>\n\n<pre><code>public class Animal\n{\n     public string Name { get; set; }\n     public int Monday { get; set; }\n     public int Tuesday { get; set; }\n}\n\nvar zooDict = new Dictionary&lt;string, List&lt;Animal&gt;&gt;();\n\n// then in your while loop you do this \nif(!zooDict.ContainsKey(location))\n    zooDict[location] = new List&lt;Animal&gt;();\nzooDict[location].Add(new Animal() { /* fill Monday and Tuesday properties */ });\n</code></pre>\n\n<p>Of course, you can take this one step further and create a class with properties <code>string Location</code> and <code>List&lt;Animal&gt; Animals</code>, and eliminate dictionaries altogether. It depends on your use case(s) I guess</p>\n"}, {"comments": [{"owner": {"reputation": 1513, "user_id": 6899092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSkil.png?s=128&g=1", "display_name": "KMoussa", "link": "https://stackoverflow.com/users/6899092/kmoussa"}, "edited": false, "score": 0, "creation_date": 1481158169, "post_id": 41029871, "comment_id": 69267548, "body": "I prefer this answer much over mine, and I don&#39;t think any custom logic will be needed for serialization either, upvote"}], "tags": [], "owner": {"reputation": 70686, "user_id": 11683, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/d4d284c3c214d52f004df795aee394e3?s=128&d=identicon&r=PG", "display_name": "GSerg", "link": "https://stackoverflow.com/users/11683/gserg"}, "is_accepted": false, "score": 6, "last_activity_date": 1481157656, "creation_date": 1481157656, "answer_id": 41029871, "question_id": 41029249, "link": "https://stackoverflow.com/questions/41029249/dictionary-of-dictionaries-in-c/41029871#41029871", "title": "Dictionary Of Dictionaries in C#", "body": "<pre><code>public class DataLine\n{\n    public string Zoo { get; set; }\n    public string Animal { get; set; }\n    public int Mn { get; set; }\n    public int Tu { get; set; }\n}\n</code></pre>\n\n\n\n<pre><code>public IEnumerable&lt;DataLine&gt; ReadAllLines()\n{\n    ...\n    using (OleDbDataReader reader = cmd.ExecuteReader())\n    {\n        while (reader.Read())\n        {\n            yield return new DataLine() { Zoo = reader.GetString(0).Trim(), Animal = reader.GetString(1).Trim(), Mn = reader.GetInt32(2), Tu = reader.GetInt32(3) };\n        }\n    }\n}\n</code></pre>\n\n\n\n<pre><code>var dictionary = ReadAllLines()\n    .GroupBy(line =&gt; line.Zoo)\n    .ToDictionary(zoo =&gt; zoo.Key,\n                  zoo =&gt; zoo.ToDictionary(animal =&gt; animal.Animal,\n                                          animal =&gt; new { animal.Mn, animal.Tu }));\n\nvar sb = new StringBuilder();\n\nusing (var sw = new System.IO.StringWriter(sb))\n{\n    new Newtonsoft.Json.JsonSerializer().Serialize(sw, dictionary);\n}\n\nConsole.WriteLine(sb.ToString());\n</code></pre>\n"}], "owner": {"reputation": 2695, "user_id": 886357, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d0e09de07d348483088b599fc27eff3a?s=128&d=identicon&r=PG", "display_name": "Morpheus", "link": "https://stackoverflow.com/users/886357/morpheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16796, "favorite_count": 2, "accepted_answer_id": 41029472, "answer_count": 2, "score": 3, "last_activity_date": 1481157656, "creation_date": 1481153482, "last_edit_date": 1481154729, "question_id": 41029249, "link": "https://stackoverflow.com/questions/41029249/dictionary-of-dictionaries-in-c", "title": "Dictionary Of Dictionaries in C#", "body": "<p>I am reading an SQL table from SQl SERVER using C# code.</p>\n\n<p>My data looks like this:</p>\n\n<pre><code>ZOO   Animal    Mn Tu\nNDS     BAT     2   0\nGOR     BAT     3   1\nVTZ     BAT     1   2\nMAS     BAT     0   0\nCST     BAT     0   0\nNDS     CAT     4   0\nGOR     CAT     4   0\nVTZ     CAT     2   0\nMAS     CAT     7   0\nCST     CAT     1   0\nNDS     DOG     3   0\nGOR     DOG     2   0\nVTZ     DOG     1   0\nMAS     DOG     3   0\nCST     DOG     0   1\nNDS     EGG     7   0\nGOR     EGG     2   0\nVTZ     EGG     0   0\nMAS     EGG     0   0\nCST     EGG     4   0\n</code></pre>\n\n<p>I wrote an sql reader command and it goes </p>\n\n<pre><code>sql = \"SELECT * FROM table\";\n\nOleDbCommand cmd = new OleDbCommand(sql, conn);\n        cmd.CommandTimeout = 600;\n        using (OleDbDataReader reader = cmd.ExecuteReader())\n        {\n\n\n            while (reader.Read())\n            {\n                var location = reader.GetString(0).Trim();\n                var animal= reader.GetString(1).Trim();\n                var Monday= reader.GetValue(1).ToString().Trim();\n                var Tuesday= reader.GetValue(3).ToString().Trim();\n\n             }\n        }\n</code></pre>\n\n<p>I created a Dictionary as follows:</p>\n\n<pre><code> private Dictionary&lt;string, Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;&gt; zooDict;\n zooDict= new Dictionary&lt;string, Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;&gt;();\n</code></pre>\n\n<p>I would ideally like to have a structure like this:</p>\n\n<pre><code>{\nNDS:\n    {\n     BAT:\n        {Mn: 2,\n         Tu: 2},\n     CAT:\n        {\n        MN: 4,\n        Tu: 0\n        }\n     DOG:\n        {\n        MN: 3,\n        Tu: 0\n        }\n\n     EGG:\n        {\n        MN: 7,\n        Tu: 0\n        }\n\n\n    }\n    GOR:\n        .\n        .\n        .\n        .\n        .\n\n}\n</code></pre>\n\n<p>I am hoping to convert this dictionary to a json file but I am unable to add keys and values to the empty dictionary. I come from python background where i can use defaultdict to create dictionary of dictionaries without running to the key errors. </p>\n\n<p>Any tips to create the dictionary will be hugely appreciated. </p>\n\n<hr>\n\n<pre><code>if (!ZooDict.ContainsKey(location))\n{\n    var catDict = new Dictionary&lt;string, string&gt;();\n    catDict.Add(\"Mon\", Monday);\n    catDict.Add(\"Tue\", Tuesday);\n    var AnimalDict = new Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;();\n    AnimalDict.Add(animal, catDict);\n    waitlistDict.Add(location, AnimalDict);\n}\nelse\n{\n    if (!waitlistDict[location].ContainsKey(animal))\n    {\n        var catDict = new Dictionary&lt;string, string&gt;();\n        catDict.Add(\"Mon\", Monday);\n        catDict.Add(\"Tue\", Tuesday);\n        var AnimalDict = new Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;();\n        AnimalDict.Add(animal, catDict);\n        waitlistDict[location] = AnimalDict;\n    }\n    else\n    {\n        if (waitlistDict[location][animal].ContainsKey(\"Mon\"))\n        {\n            waitlistDict[location][animal][\"Mon\"] = Monday;\n        }\n        else\n        {\n            waitlistDict[location][animal][\"Mon\"] = Monday;\n        }\n        if (waitlistDict[location][animal].ContainsKey(\"Tue\"))\n        {\n            waitlistDict[location][animal][\"Tue\"] = Tuesday;\n        }\n        else\n        {\n            waitlistDict[location][animal][\"Tue\"] = Tuesday;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "list", "datetime"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1481152893, "post_id": 41029109, "comment_id": 69265816, "body": "What do you mean <i>&quot;bend&quot; around the second list</i>? Are you just wanting these to be ordered by <code>startDate</code>?"}, {"owner": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "edited": false, "score": 4, "creation_date": 1481152987, "post_id": 41029109, "comment_id": 69265844, "body": "This sounds like a homework question, in which you haven&#39;t even attempted to solve the problem."}, {"owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "reply_to_user": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "edited": false, "score": 0, "creation_date": 1481153460, "post_id": 41029109, "comment_id": 69266027, "body": "By bend I mean that the first list available dates will split up to wrap around unavailable dates. In the final list example, all the unavailable dates stayed the same, but the available ones wrapped around and changed. The end result would be ordered by start date.  @TheGeekYouNeed It may sound like it as I dumbed down my problem to have something to post without giving sensitive information away. The application I&#39;m working on already has this working in VBScript and I&#39;m translating to C# but I feel like it can be done better than what I see in front of me."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1481153831, "post_id": 41029109, "comment_id": 69266164, "body": "Change how? What is your logic? Are you wanting the &#39;Available&#39; dates in the 3rd list to be the periods between the previous and next &#39;Unavailable&#39; periods?"}, {"owner": {"reputation": 431, "user_id": 5199224, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-gmcaau41NLw/AAAAAAAAAAI/AAAAAAAAAHU/tRuohFlnKhc/photo.jpg?sz=128", "display_name": "Matthew Alltop", "link": "https://stackoverflow.com/users/5199224/matthew-alltop"}, "edited": false, "score": 0, "creation_date": 1481154732, "post_id": 41029109, "comment_id": 69266478, "body": "It looks like these just need to be inserted into a single list and ordered by start date? The dates you provided are sequential."}, {"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1481159116, "post_id": 41029109, "comment_id": 69267813, "body": "I see that you have sequential date order between available and unavailable records, you can use <code>var combinedList = firstlist.AddRange(secondList).OrderBy(x =&gt; x.startDate).ToList()</code> to combine them and order by <code>startDate</code>."}, {"owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "edited": false, "score": 0, "creation_date": 1481226006, "post_id": 41029109, "comment_id": 69302515, "body": "@StephenMuecke By changed I mean the date range would be broken up into smaller date ranges that are before and after the unavailable date range that overlaps. If there are no overlaps in unavailable dates then the available date period won&#39;t break up. The dates will not always be sequential."}, {"owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "edited": false, "score": 0, "creation_date": 1481311655, "post_id": 41029109, "comment_id": 69342145, "body": "@StephenMuecke I&#39;ve edited the question to better explain it."}, {"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1481312905, "post_id": 41029109, "comment_id": 69342646, "body": "Show us what you&#39;ve tried."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1481315676, "post_id": 41029109, "comment_id": 69344050, "body": "This is quite a simple task logically solve, and extremely easy to atleast attempt, why have you made to effot to solve this yourself first"}, {"owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1481660282, "post_id": 41029109, "comment_id": 69463602, "body": "@johnny5 I never said I haven&#39;t attempted it. I even answered that I already have a crappy solution in the comment above when someone thought it was a homework question. I don&#39;t see your answer below (since the question is so simple) so I don&#39;t understand the point in your comment. Neither you nor I have solved it and stack overflow should be a place where developers can ask for help without having to be &quot;shamed&quot;."}, {"owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "reply_to_user": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1481660311, "post_id": 41029109, "comment_id": 69463617, "body": "@GuillaumeCR I&#39;ve edited the question to show the pseudo code of what I&#39;ve done so far."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1481660721, "post_id": 41029109, "comment_id": 69463862, "body": "@SolidSnake4444 I&#39;m sure you have access to the review queues now, and you&#39;ve been on the site long enough to understand what a well though out question is.  Despite all of that you original chose to ask a question that provided no work, or no minimal verifiable example.  So if you don&#39;t want to get &quot;Shamed&quot; for posting a question that will wastes peoples time, when you already had work done towards that would have been helpful to people attempting to answer.  Then you should consider following our guidelines on posting, and maybe you&#39;d get your answer quicker"}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1481661291, "post_id": 41029109, "comment_id": 69464159, "body": "@SolidSnake4444 your almost there,  for all the dates that don&#39;t overlap. Now just break up the remaining overlaps into 3 groups, available dates fully overlapped that need to be delete, avaliable dates partially overlapped needing there startdate to be shifted, and avaliable dates paritally overlapped needing there end date to be shifted, and then shift the dates..."}, {"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1481663106, "post_id": 41029109, "comment_id": 69465153, "body": "On a sidenote, if you put the effort into cleaning your code every time you check in, you can always be proud of it and show it publicly. Kinda like we all should keep our rooms clean ;)"}], "answers": [{"tags": [], "owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "is_accepted": false, "score": 0, "last_activity_date": 1481664461, "last_edit_date": 1481664461, "creation_date": 1481663012, "answer_id": 41130507, "question_id": 41029109, "link": "https://stackoverflow.com/questions/41029109/how-can-i-create-one-list-of-dates-with-no-overlaps-from-two-lists-of-dates-that/41130507#41130507", "title": "How can I create one list of dates with no overlaps from two lists of dates that may overlap?", "body": "<p>My approach was to create a single timeline with both available and unavailable timeranges, and then a small state machine to consume this timeline and spit out all the available time ranges.</p>\n\n<p>The pitfall I ran into was assuming the first date was an available date.</p>\n\n<pre><code>public enum EventType\n{\n    AvailableBegin,\n    AvailableEnd,\n    UnavailableBegin,\n    UnavailableEnd\n}\n\npublic class Event\n{\n    public DateTime Date;\n    public EventType Type;\n}\n\npublic class TimeRange\n{\n    public DateTime Start;\n    public DateTime End;\n}\n\n[TestMethod]\npublic void q41029109single()\n{\n    var availabilties = new List&lt;TimeRange&gt; {\n        new TimeRange { Start = new DateTime(2016, 1, 1), End = new DateTime(2016, 2, 15) },\n        new TimeRange { Start = new DateTime(2016, 2, 20), End = new DateTime(2016, 12, 15) }\n    };\n    var unavailabilities = new List&lt;TimeRange&gt; {\n        new TimeRange { Start = new DateTime(2016, 2, 16), End = new DateTime(2016, 2, 25) }\n    };\n\n    var timeline = new List&lt;Event&gt;();\n    foreach (var availability in availabilties)\n    {\n        timeline.Add(new Event { Date = availability.Start, Type = EventType.AvailableBegin });\n        timeline.Add(new Event { Date = availability.End, Type = EventType.AvailableEnd });\n    }\n    foreach (var unavailability in unavailabilities)\n    {\n        timeline.Add(new Event { Date = unavailability.Start, Type = EventType.UnavailableBegin });\n        timeline.Add(new Event { Date = unavailability.End, Type = EventType.UnavailableEnd });\n    }\n\n    var result = new List&lt;TimeRange&gt;();\n    TimeRange currentAvailability = null;\n    var insideUnavailable = false;\n    var insideAvailable = false;\n    foreach (var oneEvent in timeline.OrderBy(x =&gt; x.Date))\n    {\n        switch (oneEvent.Type)\n        {\n            case EventType.AvailableBegin:\n                insideAvailable = true;\n                if (insideUnavailable == false)\n                {\n                    currentAvailability = new TimeRange { Start = oneEvent.Date };\n                }\n                break;\n            case EventType.AvailableEnd:\n                insideAvailable = false;\n                if (insideUnavailable == false &amp;&amp; currentAvailability != null)\n                {\n                    currentAvailability.End = oneEvent.Date;\n                    result.Add(currentAvailability);\n                }\n                break;\n            case EventType.UnavailableBegin:\n                insideUnavailable = true;\n                if (insideAvailable &amp;&amp; currentAvailability != null)\n                {\n                    currentAvailability.End = oneEvent.Date;\n                    result.Add(currentAvailability);\n                }\n                break;\n            case EventType.UnavailableEnd:\n                insideUnavailable = false;\n                if (insideAvailable)\n                {\n                    currentAvailability = new TimeRange { Start = oneEvent.Date.AddDays(1) };\n                }\n                break;\n            default:\n                break;\n        }\n    }\n\n    //result should be good here.\n}\n</code></pre>\n\n<p>Note that this code makes the assumption that the list of available time range does not overlap with itself. Likewise, if the unavailable list overlaps with itself, it will break the state machine. It should be a trivial matter to sanitize the lists to make sure there is no internal overlap. Let me know if it isn't.</p>\n"}], "owner": {"reputation": 3183, "user_id": 343292, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0afc1007cd4adef706a7e3f21b2aecaf?s=128&d=identicon&r=PG", "display_name": "SolidSnake4444", "link": "https://stackoverflow.com/users/343292/solidsnake4444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 266, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481664461, "creation_date": 1481152574, "last_edit_date": 1481661791, "question_id": 41029109, "link": "https://stackoverflow.com/questions/41029109/how-can-i-create-one-list-of-dates-with-no-overlaps-from-two-lists-of-dates-that", "title": "How can I create one list of dates with no overlaps from two lists of dates that may overlap?", "body": "<p>I have two lists of datetimes. The first list contains all possible date ranges that can be available. The second list contains all date ranges that are unavailable. I need to create a third list that is all the possible date ranges in the two lists and their status of available or unavailable. If there are any overlaps from the available list the date ranges should break up into multiple dateranges to make the available ranges not occur on the same day as unavailable dates. In real estate, you can't rent a house again if it's already unavailable so the dates that it is available is the date range of availability with any overlapping unavailable dates removing a part of the range from the availability. </p>\n\n<p>Let's say the first list has available dates as:</p>\n\n<pre><code>startDate: 1/1/16 endDate: 2/15/16\nstartDate: 2/20/16 endDate: 12/15/16\nstartDate: 1/1/17 endDate: 12/15/17\nstartDate: 4/1/19 endDate: 10/15/19\n</code></pre>\n\n<p>And the second list has all unavailable dates as:</p>\n\n<pre><code>startDate: 2/16/16 endDate: 2/25/16\nstartDate: 12/1/16 endDate: 12/30/16\nstartDate: 4/1/17 endDate: 8/15/17\n</code></pre>\n\n<p>I want the result third list that I have to make to be:</p>\n\n<pre><code>startDate: 1/1/16 endDate: 2/15/16 Available\nstartDate: 2/16/16 endDate: 2/25/16 Unavailable\nstartDate: 2/26/16 endDate: 11/30/16 Available\nstartDate: 12/1/16 endDate: 12/30/16 Unavailable\nstartDate: 1/1/17 endDate: 3/31/17 Available\nstartDate: 4/1/17 endDate: 8/15/17 Unavailable\nstartDate: 8/16/17 endDate: 12/15/17 Available\nstartDate: 4/1/19 endDate: 10/15/19 Available\n</code></pre>\n\n<p>The second list dates should NOT change at all, while the first list ranges need to break around any overlapping dates. Note that the 2019 dates do not have any overlaps and are still in the list. I basically want to see all the possible dates something can happen while showing that certain periods are unavailable.</p>\n\n<p>How can I do this in C# using List&lt;>?</p>\n\n<p>EDIT: It was asked that I show what I've been trying so far. As I mentioned in the comments, this is a simplified version of my actual issue and I don't want to spend all day \"cleaning\" my code for public use. Therefore I shall write pseudo code instead of actual c#. Assume I start with two lists, one being the available dates and one being the occupied dates.</p>\n\n<pre><code>    var currentDate = first date from available list\n    var groupedavailableList = new list\n\n    for i = 1 to count of available list\n        If loopavailableDate[i].start_date &lt;= currentDate.EndDate\n            If loopavailableDate[i].end_date &gt;= currentDate.EndDate\n                currentDate.EndDate = loopavailableDate[i].end_date\n       else\n            groupedavailableList.Add(currentDate)\n\n            currentDate = loopavailableDate\n\n    //The loop ended, add the last current date\n    groupedavailableList.Add(currentDate)\n\n    //Now I have all the available dates grouped together in a bigger block of time (not tested yet). Now we do the part that is the question.\n\n    var finalStatus = new list\n\n    foreach date in groupedavailableList\n        var overlapDates = occupiedList.Where(w =&gt; (w.StartDate &gt;= date.StartDate &amp;&amp; w.StartDate &lt;= date.EndDate) &amp;&amp; (w.StartDate &lt;= date.StartDate &amp;&amp; w.EndDate &gt;= date.EndDate) &amp;&amp;\n                            (w.StartDate &lt;= date.StartDate &amp;&amp; w.EndDate &lt;= date.EndDate).ToList()\n\n       If overlapDates.Any()\n           //Don't know what to do at this point as there can be multiple over lap dates that break up the available dates.\n           Foreach overlap OverlapDates\n               If overlap.start_date &gt; date.start_date\n                   date.end_date = overl.start_date.AddDays(-1)\n                   finalStatus.Add(date with available status)\n                   finalStatus.Add(overlap with unavailable status)\n                   //Now what? I now have broken the date of the outer loop by changing its end date. If I have two overlaps, I don't know the original period of time to determine if there is an overlap after.The first overlap works but the second in the same period of time doesn't.\n\n\n        Else\n            finalStatus.Add(date with Status available)\n</code></pre>\n\n<p>I would like the answer to be clean. I feel my code above is a little brute force...especially for checking for overlapping dates. I can't see it at the moment, but I feel there is a clever way to do this without so many checks.</p>\n"}, {"tags": ["c#", "revit-api", "revit"], "answers": [{"comments": [{"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1481212214, "post_id": 41030517, "comment_id": 69294512, "body": "Thanks for this.  I&#39;m in the <code>Selection</code> class right now and I don&#39;t see the <code>SetSelectionElements</code> method you referred to.  Could it be anywhere else?"}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1481212418, "post_id": 41030517, "comment_id": 69294687, "body": "It&#39;s weird...  It shows the method in the <code>Revit2016.chm</code>, but it&#39;s not in the class..."}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1481217408, "post_id": 41030517, "comment_id": 69297983, "body": "You were close...  It&#39;s actually `Selection::SetElementIds(ICollection&lt;ElementId&gt; elementIds)  Close enough.  Thanks!!!"}], "tags": [], "owner": {"reputation": 581, "user_id": 2033528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tvtNb.jpg?s=128&g=1", "display_name": "Colin Stark", "link": "https://stackoverflow.com/users/2033528/colin-stark"}, "is_accepted": true, "score": 1, "last_activity_date": 1481316039, "last_edit_date": 1481316039, "creation_date": 1481162088, "answer_id": 41030517, "question_id": 41029080, "link": "https://stackoverflow.com/questions/41029080/how-to-select-multiple-elements-in-a-revit-drawing/41030517#41030517", "title": "How to select multiple elements in a Revit drawing", "body": "<p>The PickObject function that you've found is one that asks the user to select an object in the model. Based on your description, that is not what you are looking for.</p>\n\n<p>The function you need is:</p>\n\n<pre><code>SetElementIds(ICollection&lt;ElementId&gt; elementIds)\n</code></pre>\n\n<p>It is also part of the Selection class. This will highlight the desired elements in the model.  To clear the selection in the model, pass an empty List as your argument. Passing null will cause an exception to be thrown.</p>\n\n<p>To focus on the elements, you need the function:</p>\n\n<pre><code>UIDocument.ShowElements\n</code></pre>\n\n<p>There are a number of overloads for this function. Note that none if the elements are in the currently open view, Revit will attempt to find the best view for you, a task that it generally performs very poorly if there are many views in the model.</p>\n"}, {"comments": [{"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1481217527, "post_id": 41033458, "comment_id": 69298050, "body": "The <code>FilteredElementCollector</code> is what I use to find which elements are in the drawing.  It doesn&#39;t <b>select</b> elements in the drawing, though, which is what I need.  At least, if it does, I didn&#39;t know about it."}], "tags": [], "owner": {"reputation": 4995, "user_id": 3552305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5JBEc.png?s=128&g=1", "display_name": "Jeremy Tammik", "link": "https://stackoverflow.com/users/3552305/jeremy-tammik"}, "is_accepted": false, "score": 1, "last_activity_date": 1481179796, "creation_date": 1481179796, "answer_id": 41033458, "question_id": 41029080, "link": "https://stackoverflow.com/questions/41029080/how-to-select-multiple-elements-in-a-revit-drawing/41033458#41033458", "title": "How to select multiple elements in a Revit drawing", "body": "<p>PickElement prompts the user for interactive element selection, which is not what you are after. </p>\n\n<p>The one and only way to programmatically access elements in the Revit database is to use a filtered element collector:</p>\n\n<p><a href=\"http://thebuildingcoder.typepad.com/blog/about-the-author.html#5.9\" rel=\"nofollow noreferrer\">http://thebuildingcoder.typepad.com/blog/about-the-author.html#5.9</a></p>\n"}], "owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1101, "favorite_count": 0, "accepted_answer_id": 41030517, "answer_count": 2, "score": 1, "last_activity_date": 1481316039, "creation_date": 1481152423, "question_id": 41029080, "link": "https://stackoverflow.com/questions/41029080/how-to-select-multiple-elements-in-a-revit-drawing", "title": "How to select multiple elements in a Revit drawing", "body": "<ul>\n<li><p>I'm trying to create a \"Multi-Select\" method in Revit (for 2016/2017) where the users can select specific parameters of instances contained within a drawing (like <strong>Nominal Diameter</strong>, <strong>Pipe Type</strong> and so on), and it will select all the instances within the drawing based on their selections.  First, screen shot:</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/wK5OI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wK5OI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Let's predicate this with the fact that this window is created dynamically based on contents of the drawing.  Nothing gets put in this window unless there is an element in the drawing that contains/meets one or more of these parameters.</p>\n\n<p>So, ideally, when I <em>Click</em> the <code>DO IT!</code> button, I would like it to select all of the elements in the drawing that have meet any of these parameters.  I can filter through this window and find all of my selections - now I just don't know what do with the selections.</p>\n\n<p>I've looked through the Revit.chm and source and found the <code>Selection</code> namespace and class.  There are functions like: </p>\n\n<pre><code>PickObject(ObjectType objectType);\n</code></pre>\n\n<p>that seem like they would be what I want, but I don't know if it's REALLY what I need.  Furthermore, if that IS, in fact, what I'm looking for, I don't know the syntax of how to use it.</p>\n\n<h2>A little code:</h2>\n\n<p>I have a method that collects all of the users' selections:</p>\n\n<pre><code>private List&lt;CheckBox&gt; GetUserFilterPrefs()\n{\n    //CYCLES THROUGH ALL THE PANELS AND BOXES IN THE WINDOW\n\n    return lstCheckBox;\n}\n</code></pre>\n\n<p>Now I want to create my <code>EventHandler</code> for <code>btnDoIt_Click</code>...\nI started it, but I'm walking in the dark on this part.</p>\n\n<pre><code>private void btnDoIt_Click(object sender, RoutedEventArgs e)\n{\n    int itr = 0;\n\n    GetUserFilterPrefs();\n    List&lt;Reference&gt; lstRefs = new List&lt;Reference&gt;();\n\n    foreach (CheckBox cb in lstCheckBox)\n    {\n        if (lstElts[itr].Name == cb.Name)\n        {\n             //HOW DO I SELECT ALL ITEMS LIKE THE GIVEN ELEMENT\n             //THAT ARE RELATED TO THE CHECKBOX SELECTION??\n        }\n\n         itr +=1;\n    } \n</code></pre>\n\n<p>I'll obviously keep looking around; but if anyone knows a way, or can point me in the right direction, it would be massively helpful!  </p>\n\n<h2>THANKS!!!</h2>\n"}, {"tags": ["java", "c#", "design-patterns", "command", "undo"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1481153150, "post_id": 41029055, "comment_id": 69265911, "body": "@shmosel <i>maybe</i> the deeper duplicate works for this but I think this question isn&#39;t really getting at either."}, {"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481153187, "post_id": 41029055, "comment_id": 69265926, "body": "@BradleyDotNET What do you think it&#39;s getting at?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 0, "creation_date": 1481153251, "post_id": 41029055, "comment_id": 69265947, "body": "@shmosel Why a command pattern makes Undo possible, not what the best option is for Undo (the answer to the nested duplicate touches on this, but not all that well IMO)."}], "answers": [{"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 2, "last_activity_date": 1481153345, "creation_date": 1481153345, "answer_id": 41029231, "question_id": 41029055, "link": "https://stackoverflow.com/questions/41029055/how-does-command-pattern-enables-undo/41029231#41029231", "title": "How does Command Pattern enables Undo?", "body": "<p>Undo functionality requires that you store the last n-number of user actions. Typically a user action simply results in a function call, so its very hard to store it. Its even harder to store it in a way that is undoable.</p>\n\n<p>By abstracting a user action into an object, you can easily put a set of these objects into a data structure (typically <code>Stack</code>) and if you put an <code>Undo</code> method onto the object you just go through the structure and call the <code>Undo</code> method as the user requests the undo operation.</p>\n\n<p>Since Command is already set up to encapsulate an operation (user or otherwise) it is an excellent starting point for building undo functionality.</p>\n"}], "owner": {"reputation": 286, "user_id": 6332818, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f42b5028386ea1be306355aad44cb129?s=128&d=identicon&r=PG", "display_name": "miiworld2", "link": "https://stackoverflow.com/users/6332818/miiworld2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "closed_date": 1481153374, "accepted_answer_id": 41029231, "answer_count": 1, "score": 3, "last_activity_date": 1481153345, "creation_date": 1481152333, "question_id": 41029055, "link": "https://stackoverflow.com/questions/41029055/how-does-command-pattern-enables-undo", "closed_reason": "Duplicate", "title": "How does Command Pattern enables Undo?", "body": "<p>Can someone help me understand how can the Command Pattern in Java or C# enables \"undo\" functionality in application design? Any explanation would be appreciated.</p>\n"}, {"tags": ["c#", "functional-programming", "abstract-syntax-tree", "roslyn"], "comments": [{"owner": {"reputation": 2676, "user_id": 986184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eaL8P.jpg?s=128&g=1", "display_name": "Dudi Keleti", "link": "https://stackoverflow.com/users/986184/dudi-keleti"}, "edited": false, "score": 0, "creation_date": 1481179261, "post_id": 41029028, "comment_id": 69273834, "body": "Who is <code>m</code> that you sending to <code>ReplaceNode</code>? Are you sure that is exist in <code>node</code>? And why you dont visit jusrt <code>PropertyDeclarationSyntax</code>?"}, {"owner": {"reputation": 5865, "user_id": 4415493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/CidOV.jpg?s=128&g=1", "display_name": "JamesFaix", "link": "https://stackoverflow.com/users/4415493/jamesfaix"}, "reply_to_user": {"reputation": 2676, "user_id": 986184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eaL8P.jpg?s=128&g=1", "display_name": "Dudi Keleti", "link": "https://stackoverflow.com/users/986184/dudi-keleti"}, "edited": false, "score": 0, "creation_date": 1481212244, "post_id": 41029028, "comment_id": 69294542, "body": "Sorry, that was supposed to be <code>prop</code>, it was called <code>m</code> in my original source code, but I changed it to <code>prop</code> to be more readable here.  The reason I&#39;m not visiting property declarations is because I need to replace property declarations with both a new property declaration and a field declaration. I don&#39;t think you can substitute multiple nodes for one node when visiting that one node, you need to do it when visiting the parent node (type declaration)."}, {"owner": {"reputation": 5865, "user_id": 4415493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/CidOV.jpg?s=128&g=1", "display_name": "JamesFaix", "link": "https://stackoverflow.com/users/4415493/jamesfaix"}, "reply_to_user": {"reputation": 2676, "user_id": 986184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eaL8P.jpg?s=128&g=1", "display_name": "Dudi Keleti", "link": "https://stackoverflow.com/users/986184/dudi-keleti"}, "edited": false, "score": 0, "creation_date": 1481214913, "post_id": 41029028, "comment_id": 69296395, "body": "I believe the error is there in the usage of the <code>Replace</code> methods.  The result I get from <code>Replace</code> does not have any changes applied. I believe due to copying the immutable data structures, I have a reference to a different tree than when I created the <code>markedProperties</code> enumeration.  I can&#39;t figure out how to do iterated replacements like this, when my tree reference keeps changing."}], "answers": [{"comments": [{"owner": {"reputation": 5865, "user_id": 4415493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/CidOV.jpg?s=128&g=1", "display_name": "JamesFaix", "link": "https://stackoverflow.com/users/4415493/jamesfaix"}, "edited": false, "score": 0, "creation_date": 1481231277, "post_id": 41044506, "comment_id": 69305212, "body": "I was thinking of something like the builder in your 1st option.  Would I start with an empty tree and then add nodes (or processed nodes) from the original until the copy is a full tree again?  I hadn&#39;t heard of <code>SyntaxAnnotation</code> before; it seems promising.  As for <code>Document</code>, the way <code>StackExchange.Precompilation</code> hooks into the compiler is centered on <code>CSharpSyntaxRewriter</code>.  Would using <code>Document</code> require a broader scope?"}, {"owner": {"reputation": 5865, "user_id": 4415493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/CidOV.jpg?s=128&g=1", "display_name": "JamesFaix", "link": "https://stackoverflow.com/users/4415493/jamesfaix"}, "edited": false, "score": 0, "creation_date": 1481231883, "post_id": 41044506, "comment_id": 69305531, "body": "I just found your blog; very helpful stuff.  I&#39;ve just started diving into Roslyn and Cecil recently."}, {"owner": {"reputation": 2676, "user_id": 986184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eaL8P.jpg?s=128&g=1", "display_name": "Dudi Keleti", "link": "https://stackoverflow.com/users/986184/dudi-keleti"}, "reply_to_user": {"reputation": 5865, "user_id": 4415493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/CidOV.jpg?s=128&g=1", "display_name": "JamesFaix", "link": "https://stackoverflow.com/users/4415493/jamesfaix"}, "edited": false, "score": 0, "creation_date": 1481284766, "post_id": 41044506, "comment_id": 69326328, "body": "@JamesFaix Thanks:) You can see there example of how to use the first method which I used to convert the LINQ. SyntaxAnnotions and TrackNodes are very easy to use. I believe you can find helpful info on <a href=\"https://joshvarty.wordpress.com/learn-roslyn-now/\" rel=\"nofollow noreferrer\">Josh Varty blog</a>. And if you have any question, ask here or in a new question."}, {"owner": {"reputation": 41117, "user_id": 1864167, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/WalEV.jpg?s=128&g=1", "display_name": "Jeroen Vannevel", "link": "https://stackoverflow.com/users/1864167/jeroen-vannevel"}, "edited": false, "score": 0, "creation_date": 1481296819, "post_id": 41044506, "comment_id": 69334120, "body": "Use the <code>DocumentEditor</code> for multiple changes to a tree"}], "tags": [], "owner": {"reputation": 2676, "user_id": 986184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eaL8P.jpg?s=128&g=1", "display_name": "Dudi Keleti", "link": "https://stackoverflow.com/users/986184/dudi-keleti"}, "is_accepted": false, "score": 4, "last_activity_date": 1481216848, "last_edit_date": 1481216848, "creation_date": 1481215295, "answer_id": 41044506, "question_id": 41029028, "link": "https://stackoverflow.com/questions/41029028/roslyn-how-can-i-replace-multiple-nodes-with-multiple-nodes-each/41044506#41044506", "title": "Roslyn - How can I replace multiple nodes with multiple nodes each?", "body": "<p>When you do that:</p>\n\n<pre><code> foreach (var prop in markedProperties) {\n    SyntaxList&lt;SyntaxNode&gt; expanded = ExpandProperty(prop);\n    //If I set a breakpoint here, I can see that 'expanded' will hold the correct value.\n    //ReplaceNode appears to not be replacing anything\n    node = node.ReplaceNode(prop, expanded);\n}\n</code></pre>\n\n<p>After the first replacing, <code>node</code> (your <code>class</code> for example) does not contains the original property anymore .</p>\n\n<p>In Roslyn, everything is immutable, so the first replace should work for you, and the you have a new tree\\node.</p>\n\n<p>To make it work you can consider one of the following:</p>\n\n<ul>\n<li>Build the result in your rewriter class, without changing the original tree, and when you finishing, replace all at once. In your case, its mean replace the <code>class</code> note at once. I think its good option when you want to replace statement (I used it when I wrote code to convert linq query (comprehension) to fluent syntax) but for all class, maybe it's not optimal. </li>\n<li>Use SyntaxAnnotaion \\ TrackNodes to find node after the tree has changed. With these options you can change the tree as you want and you can still keep track of the old nodes in the new tree.</li>\n<li>Use DocumentEditor its let you do multiple changes to a document and then return a new Document.</li>\n</ul>\n\n<p>If you need example for one of them, let me know.</p>\n"}], "owner": {"reputation": 5865, "user_id": 4415493, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/CidOV.jpg?s=128&g=1", "display_name": "JamesFaix", "link": "https://stackoverflow.com/users/4415493/jamesfaix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1495, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1481319422, "creation_date": 1481152194, "last_edit_date": 1481319422, "question_id": 41029028, "link": "https://stackoverflow.com/questions/41029028/roslyn-how-can-i-replace-multiple-nodes-with-multiple-nodes-each", "title": "Roslyn - How can I replace multiple nodes with multiple nodes each?", "body": "<p><strong>Background:</strong></p>\n\n<p>Using Roslyn with C#, I am trying to expand auto-implemented properties, so that the accessor bodies can have code injected by later processing.  I am using StackExchange.Precompilation as the compiler hook, so these syntax transformations occur in the build pipeline, not as part of an analyzer or refactoring.</p>\n\n<p>I want to turn this:</p>\n\n<pre><code>[SpecialAttribute]\nint AutoImplemented { get; set; }\n</code></pre>\n\n<p>into this:</p>\n\n<pre><code>[SpecialAttribute]\nint AutoImplemented {\n    get { return _autoImplemented; }\n    set { _autoImplemented = value; }\n}\n\nprivate int _autoImplemented;\n</code></pre>\n\n<hr>\n\n<p><strong>The problem:</strong></p>\n\n<p>I have been able to get simple transformations working, but I'm stuck on auto-properties, and a few others that are similar in some ways.  The trouble I'm having is in using the <code>SyntaxNodeExtensions.ReplaceNode</code> and <code>SyntaxNodeExtensions.ReplaceNodes</code> extension methods correctly when replacing more than one node in a tree.  </p>\n\n<p>I am using a class extending <code>CSharpSyntaxRewriter</code> for the transformations.  I'll just share the relevant members of that class here.  This class visits each <code>class</code> and <code>struct</code> declaration, and then replaces any property declarations that are marked with <code>SpecialAttribute</code>.</p>\n\n<pre><code>private readonly SemanticModel model;\n\npublic override SyntaxNode VisitClassDeclaration(ClassDeclarationSyntax node) {\n    if (node == null) throw new ArgumentNullException(nameof(node));\n    node = VisitMembers(node);\n    return base.VisitClassDeclaration(node);\n}\n\npublic override SyntaxNode VisitStructDeclaration(StructDeclarationSyntax node) {\n    if (node == null) throw new ArgumentNullException(nameof(node));\n    node = VisitMembers(node);\n    return base.VisitStructDeclaration(node);\n}\n\nprivate TNode VisitMembers&lt;TNode&gt;(TNode node)\n    where TNode : SyntaxNode {\n\n    IEnumerable&lt;PropertyDeclarationSyntax&gt; markedProperties = \n        node.DescendantNodes()\n            .OfType&lt;PropertyDeclarationSyntax&gt;()\n            .Where(prop =&gt; prop.HasAttribute&lt;SpecialAttribute&gt;(model));\n\n    foreach (var prop in markedProperties) {\n        SyntaxList&lt;SyntaxNode&gt; expanded = ExpandProperty(prop);\n        //If I set a breakpoint here, I can see that 'expanded' will hold the correct value.\n        //ReplaceNode appears to not be replacing anything\n        node = node.ReplaceNode(prop, expanded);\n    }\n\n    return node;\n}\n\nprivate SyntaxList&lt;SyntaxNode&gt; ExpandProperty(PropertyDeclarationSyntax node) {\n    //Generates list of new syntax elements from original.\n    //This method will produce correct output.\n}\n</code></pre>\n\n<p><code>HasAttribute&lt;TAttribute&gt;</code> is an extension method I defined for <code>PropertyDeclarationSyntax</code> that checks if that property has an attribute of the given type.  This method works correctly.</p>\n\n<hr>\n\n<p>I believe I am just not using <code>ReplaceNode</code> correctly. There are three related methods:</p>\n\n<pre><code>TRoot ReplaceNode&lt;TRoot&gt;(\n    TRoot root,\n    SyntaxNode oldNode,\n    SyntaxNode newNode);\n\nTRoot ReplaceNode&lt;TRoot&gt;(\n    TRoot root,\n    SyntaxNode oldNode,\n    IEnumerable&lt;SyntaxNode&gt; newNodes);\n\nTRoot ReplaceNodes&lt;TRoot, TNode&gt;(\n    TRoot root, \n    IEnumerable&lt;TNode&gt; nodes, \n    Func&lt;TNode, TNode, SyntaxNode&gt; computeReplacementNode);\n</code></pre>\n\n<p>I am using the second one, because I need to replace each property node with both field and property nodes.  I need to do this with many nodes, but there is no overload of <code>ReplaceNodes</code> that allows one-to-many node replacement.  The only way I found around having that overload was using a <code>foreach</code> loop, which seems very 'imperative' and against the functional feel of the Roslyn API.</p>\n\n<p>Is there a better way to perform batch transformations like this?</p>\n\n<hr>\n\n<p><strong>Update:</strong>\nI found a great blog series on Roslyn and dealing with its immutability.  I haven't found the exact answer yet, but it looks like a good place to start.\n<a href=\"https://joshvarty.wordpress.com/learn-roslyn-now/\" rel=\"nofollow noreferrer\">https://joshvarty.wordpress.com/learn-roslyn-now/</a></p>\n\n<hr>\n\n<p><strong>Update:</strong>\nSo here is where I'm really confused.  I know that the Roslyn API is all based on immutable data structures, and the problem here is in a subtlety of how the copying of structures is used to mimic mutability.  I think the problem is that every time I replace a node in my tree, I then have a new tree, and so when I call <code>ReplaceNode</code> that tree supposedly doesn't contain my original node that I want to replace.  </p>\n\n<p>It is my understanding that the way trees are copied in Roslyn is that, when you replace a node in a tree you actually create a new tree that references all the same nodes of the original tree, except the node you replaced and all nodes directly above that one.  The nodes below the replaced node may be removed if the replacement node no longer references them, or new references may be added, but all the old references still point to the same node instances as before.  I am pretty sure this is exactly what Anders Hejlsberg describes in <a href=\"https://www.youtube.com/watch?v=pERJ68S3pkw\" rel=\"nofollow noreferrer\">this interview</a> on Roslyn (20 to 23 min in).  </p>\n\n<p>So shouldn't my new <code>node</code> instance still contain the same <code>prop</code> instances found in my original sequence?</p>\n\n<hr>\n\n<p><strong>Hacky solution for special cases:</strong></p>\n\n<p>I was finally able to get this particular problem of transforming property declarations to work by relying on property identifiers, which will not change in any tree transformations.  However, I would still like a general solution for replacing multiple nodes with multiple nodes each.  This solution is really working around the API not through it.</p>\n\n<p>Here is the special case solution:</p>\n\n<pre><code>private TNode VisitMembers&lt;TNode&gt;(TNode node)\n    where TNode : SyntaxNode {\n\n    IEnumerable&lt;PropertyDeclarationSyntax&gt; markedPropertyNames = \n        node.DescendantNodes()\n            .OfType&lt;PropertyDeclarationSyntax&gt;()\n            .Where(prop =&gt; prop.HasAttribute&lt;SpecialAttribute&gt;(model))\n            .Select(prop =&gt; prop.Identifier.ValueText);\n\n    foreach (var prop in markedPropertyNames) {\n        var oldProp = node.DescendantNodes()\n            .OfType&lt;PropertyDeclarationSyntax&gt;()\n            .Single(p =&gt; p.Identifier.ValueText == prop.Name);\n\n        SyntaxList&lt;SyntaxNode&gt; newProp = ExpandProperty(oldProp);\n\n        node = node.ReplaceNode(oldProp, newProp);\n    }\n\n    return node;\n}\n</code></pre>\n\n<p>Another similar problem I am working with is modifying all <code>return</code> statements in a method to insert postcondition checks.  This case cannot obviously rely on any kind of unique identifier like a property declaration.</p>\n"}, {"tags": ["c#", "wpf-controls"], "comments": [{"owner": {"reputation": 1315, "user_id": 7098806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a43ac785c5e39a8dbd371a48cc5ee746?s=128&d=identicon&r=PG&f=1", "display_name": "Dani", "link": "https://stackoverflow.com/users/7098806/dani"}, "edited": false, "score": 0, "creation_date": 1481152238, "post_id": 41028995, "comment_id": 69265565, "body": "I dont know the names of methods but search for datagrid.save() and datagrid.bind() after datagrid.clear()"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 3, "creation_date": 1481157768, "post_id": 41028995, "comment_id": 69267411, "body": "You should be manipulating your data, not your UI (grid). Clear the <code>items</code> collection."}], "answers": [{"tags": [], "owner": {"reputation": 610, "user_id": 7013559, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F8lwk.png?s=128&g=1", "display_name": "Cataklysim", "link": "https://stackoverflow.com/users/7013559/cataklysim"}, "is_accepted": false, "score": 0, "last_activity_date": 1481190146, "creation_date": 1481190146, "answer_id": 41036191, "question_id": 41028995, "link": "https://stackoverflow.com/questions/41028995/how-to-clear-data-of-datagrid-in-wpf/41036191#41036191", "title": "how to clear data of datagrid in WPF", "body": "<blockquote>\n  <p>Now, for clean/clear the datagrid to use it again I used\n    <code>dataGrid.items.Clear();</code> </p>\n</blockquote>\n\n<p>After that clear, try to bind a empty Collection. </p>\n\n<p><code>dataGrid.ItemsSource = tmpCollectionThatIsNull;</code></p>\n\n<p>And then refresh the Grid</p>\n\n<p><code>dataGrid.Items.Refresh();</code></p>\n\n<p>That should do the trick.</p>\n"}, {"tags": [], "owner": {"reputation": 841, "user_id": 5108326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f636a1c55598a2927c99037e62e096c?s=128&d=identicon&r=PG&f=1", "display_name": "Damith Asanka", "link": "https://stackoverflow.com/users/5108326/damith-asanka"}, "is_accepted": false, "score": 1, "last_activity_date": 1481190431, "creation_date": 1481190431, "answer_id": 41036290, "question_id": 41028995, "link": "https://stackoverflow.com/questions/41028995/how-to-clear-data-of-datagrid-in-wpf/41036290#41036290", "title": "how to clear data of datagrid in WPF", "body": "<p>You have bind collection so, in WPF you have to clean collection then it will clean data grid because you have used observable collection.</p>\n"}, {"tags": [], "owner": {"reputation": 463, "user_id": 6191585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Edgvh.jpg?s=128&g=1", "display_name": "Tk1993", "link": "https://stackoverflow.com/users/6191585/tk1993"}, "is_accepted": false, "score": 0, "last_activity_date": 1486556543, "creation_date": 1486556543, "answer_id": 42113017, "question_id": 41028995, "link": "https://stackoverflow.com/questions/41028995/how-to-clear-data-of-datagrid-in-wpf/42113017#42113017", "title": "how to clear data of datagrid in WPF", "body": "<p>to clear the rows of the DataGrid use:</p>\n\n<pre><code>dataGrid.ItemsSource=null;\n</code></pre>\n\n<p>to clear the columns:</p>\n\n<pre><code>dataGrid.Columns.Clear();\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 5619079, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1688680688011625/picture?type=large", "display_name": " Zahir", "link": "https://stackoverflow.com/users/5619079/zahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2548, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1508122015, "creation_date": 1481152047, "last_edit_date": 1508122015, "question_id": 41028995, "link": "https://stackoverflow.com/questions/41028995/how-to-clear-data-of-datagrid-in-wpf", "title": "how to clear data of datagrid in WPF", "body": "<p>I am using dataGrid of WPF and populating through bservableCollection.</p>\n\n<pre><code>ObservableCollection&lt;DataItem&gt; items = new ObservableCollection&lt;DataItem&gt;();\n</code></pre>\n\n<p>Now, for clean/clear the datagrid to use it again I used</p>\n\n<pre><code>  dataGrid.items.Clear(); \n</code></pre>\n\n<p>but data are still showing and active in the table.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1481152031, "post_id": 41028972, "comment_id": 69265480, "body": "so what happens when you compile? what error do you get?"}, {"owner": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "reply_to_user": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "edited": false, "score": 0, "creation_date": 1481152099, "post_id": 41028972, "comment_id": 69265512, "body": "@CodingYoshi This is the error I get when I compile: Could not load file or assembly &#39;System.Web.Helpers&#39; or one of its dependencies. The located assembly&#39;s manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040) I added the full error to the question."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "edited": false, "score": 0, "creation_date": 1481155663, "post_id": 41029211, "comment_id": 69266772, "body": "Thank you for your advice. When I look in the two projects that contain web.helpers they appear to be identical. <code>&lt;Reference Include=&quot;System.Web.Helpers, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL&quot;&gt;       &lt;HintPath&gt;..\\..\\packages\\Microsoft.AspNet.WebPages.3.2.3\\lib&zwnj;&#8203;\\net45\\System.Web.He&zwnj;&#8203;lpers.dll&lt;&#47;HintPath&gt;       &lt;Private&gt;True&lt;&#47;Private&gt;     &lt;&#47;Reference&gt;</code> Is there something else I&#39;m missing?"}, {"owner": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "edited": false, "score": 0, "creation_date": 1481156069, "post_id": 41029211, "comment_id": 69266905, "body": "I think I figured it out. If I change <code>Version=3.0.0.0</code> to <code>3.2.3.0</code> I get a new error for System.Web.WebPages so if I do the same thing for each similar error, I should be able to resolve at least this error, correct?"}, {"owner": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "edited": false, "score": 0, "creation_date": 1481157145, "post_id": 41029211, "comment_id": 69267227, "body": "So I started making this change, but now it&#39;s stuck on Could not load file or assembly <code>System.Web.WebPages.Razor, Version=3.0.0.0</code> whether I change this to 3.2.3.0, which is its version or leave it at 3.0.0.0"}, {"owner": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "reply_to_user": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "edited": false, "score": 0, "creation_date": 1481157604, "post_id": 41029211, "comment_id": 69267372, "body": "The easiest way to fix this is to go into your Nuget Package manager, remove everything, delete your package.xml files, and then re-add all of the MVC packages."}, {"owner": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "edited": false, "score": 0, "creation_date": 1481212895, "post_id": 41029211, "comment_id": 69295035, "body": "Just so I&#39;m clear, when you say remove everything, you mean ALL packages (not jus the ones having issues)? Where are the package.xml files located?"}, {"owner": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "edited": false, "score": 0, "creation_date": 1481304264, "post_id": 41029211, "comment_id": 69338459, "body": "Thank you!!! I uninstalled all packages, deleted all files from the packages folder, then reinstalled all the packages with a version that was in a working project using <code>install-package [package] -version [version#]</code>. Then made sure my config files were the same as the working project. I did run into a dilemma where it was looking in the wrong place (not in the Solution Package files)  for some of the system files, so I had to remove those references and browse to the correct reference."}], "tags": [], "owner": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "is_accepted": true, "score": 0, "last_activity_date": 1481153264, "creation_date": 1481153264, "answer_id": 41029211, "question_id": 41028972, "link": "https://stackoverflow.com/questions/41028972/system-web-webpages-html-htmlhelper-does-not-contain-a-defintion/41029211#41029211", "title": "System.Web.WebPages.Html.HtmlHelper does not contain a defintion", "body": "<p>Your error tells you what the problem is.  Whatever DLL version you have for System.Web.Helpers in your references is not matching a project file somewhere.  You can right click each project and Unload Project, then right-click again on the unavailable project and select Edit Project.  Look for the System.Web.Helpers and make sure the version numbers are consistent through each project,</p>\n"}], "owner": {"reputation": 75, "user_id": 3783460, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/c0tLk.jpg?s=128&g=1", "display_name": "Josh McGee", "link": "https://stackoverflow.com/users/3783460/josh-mcgee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 41029211, "answer_count": 1, "score": 0, "last_activity_date": 1481153264, "creation_date": 1481151926, "last_edit_date": 1481152301, "question_id": 41028972, "link": "https://stackoverflow.com/questions/41028972/system-web-webpages-html-htmlhelper-does-not-contain-a-defintion", "title": "System.Web.WebPages.Html.HtmlHelper does not contain a defintion", "body": "<p>I know there a lot of questions asking this same question, but I've tried most of them and I cannot find where I messed up. I have a solution that has multiple projects in it. Because they were on different .net versions, I ended up upgrading to .Net 4.5 and from MVC 4 to MVC 5. My current problem is that in view files, it won't recognize any of the razor syntax (forgive me if this the wrong term) such as @model, ViewBag, ActionLink, DisplayNameFor, etc.</p>\n\n<p>I've made sure my packages are up-to-date and webconfig files are pointing correctly (I think). Does it need to point to the last decimal version or just the top decimal for example \n<code>&lt;bindingRedirect oldVersion=\"0.0.0.0-5.2.3.0\" newVersion=\"5.2.3.0\" /</code> or <code>&lt;bindingRedirect oldVersion=\"0.0.0.0-5.0.0.0\" newVersion=\"5.0.0.0\" /&gt;</code> regardless I've tried both.</p>\n\n<p>I've also deleted bin, obj, cleared my temp, cleaned, and rebuilt. Can you see what I'm missing?</p>\n\n<p>web.config</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!--\n  For more information on how to configure your ASP.NET application, please visit\n  http://go.microsoft.com/fwlink/?LinkId=169433\n  --&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"entityFramework\" type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" requirePermission=\"false\" /&gt;\n    &lt;section name=\"log4net\" type=\"log4net.Config.Log4NetConfigurationSectionHandler, log4net\" /&gt;\n    &lt;!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --&gt;\n    &lt;!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --&gt;\n  &lt;/configSections&gt;\n  &lt;connectionStrings&gt;\n    &lt;add name=\"TintagliaContext\" connectionString=\"Data Source=SLD-GZQTHS1\\SQLEXPRESS;Initial Catalog=coverpools;Integrated Security=True;MultipleActiveResultSets=True\" providerName=\"System.Data.SqlClient\" /&gt;\n   &lt;!--&lt;add name=\"TintagliaContext\" connectionString=\"Data Source=SLD-GZQTHS1\\SQLEXPRESS;Initial Catalog=coverpools-NEW;Integrated Security=True;MultipleActiveResultSets=True\" providerName=\"System.Data.SqlClient\" /&gt;--&gt;\n  &lt;/connectionStrings&gt;\n  &lt;appSettings&gt;\n    &lt;!--&lt;add key=\"webpages:Version\" value=\"2.0.0.0\" /&gt;--&gt;\n    &lt;add key=\"webpages:Version\" value=\"3.0.0.0\" /&gt;\n\n    &lt;add key=\"webpages:Enabled\" value=\"false\" /&gt;\n    &lt;add key=\"PreserveLoginUrl\" value=\"true\" /&gt;\n    &lt;add key=\"ClientValidationEnabled\" value=\"true\" /&gt;\n    &lt;add key=\"UnobtrusiveJavaScriptEnabled\" value=\"true\" /&gt;\n    &lt;add key=\"CoverpoolsUrlNewQuote\" value=\"http%3A%2F%2Fcoverpools.cloudapp.net%2Fecon2012%2FeConEngineHtml.aspx%3Fenvironment%3Ddefault%26model%3D%3Cmodel%3E%26modelversion%3D%3Cmodelversion%3E%26context%3D%3Ccontextid%3E%26language%3Ddefault%26formatlanguage%3Ddefault%26configtype%3Dconfiguration%26type%3D1%26saveas%3D%3Cconfigid%3E%26objectid%3D%3Cconfigid%3E%26user%3D%3Cdealerid%3E%26mobile%3Dtrue\" /&gt;\n    &lt;add key=\"CoverpoolsUrlEditQuote\" value=\"http%3A%2F%2Fcoverpools.cloudapp.net%2Fecon2012%2FeConEngineHtml.aspx%3Fenvironment%3Ddefault%26model%3D%3Cmodel%3E%26modelversion%3D%3Cmodelversion%3E%26context%3D%3Ccontextid%3E%26language%3Ddefault%26formatlanguage%3Ddefault%26configtype%3Dconfiguration%26type%3D1%26configuration%3D%3Cconfigid%3E%26saveas%3D%3Cconfigid%3E%26objectid%3D%3Cconfigid%3E%26user%3D%3Cdealerid%3E%26mobile%3Dtrue\" /&gt;\n    &lt;add key=\"CoverpoolsUrlTracking\" value=\"%3Ctrackingid%3E\" /&gt;\n    &lt;add key=\"CoverpoolsUrlPrint\" value=\"http%3A%2F%2Fcoverpools.cloudapp.net%2Fecon2012%2FeConPrintReport.aspx%3Fkey%3D%3Ckey%3E%26report%3D%3Creport%3E%26file%3D.pdf%26content%3Dapplication%2Fpdf\" /&gt;\n    &lt;add key=\"CoverpoolsUrlConnectEcon\" value=\"http%3A%2F%2Fcoverpools.cloudapp.net%2Fecon2012%2FeConBackendProcessing.aspx%3Fenvironment%3Ddefault%26model%3D%3Cmodel%3E%26modelversion%3D%3Cmodelversion%3E%26action%3Dconnect%26configuration%3D%3Cconfigid%3E%26keyonly%3Dtrue\" /&gt;\n  &lt;/appSettings&gt;\n  &lt;!--\n    For a description of web.config changes see http://go.microsoft.com/fwlink/?LinkId=235367.\n\n    The following attributes can be set on the &lt;httpRuntime&gt; tag.\n      &lt;system.Web&gt;\n        &lt;httpRuntime targetFramework=\"4.5.2\" /&gt;\n      &lt;/system.Web&gt;\n  --&gt;\n  &lt;system.web&gt;\n    &lt;!--Added SimpleMemberShip based on http://stackoverflow.com/questions/15753864/to-call-this-method-the-membership-provider-property-must-be-an-instance-of--&gt;\n        &lt;roleManager enabled=\"true\" defaultProvider=\"SimpleRoleProvider\"&gt;\n        &lt;providers&gt;\n            &lt;clear /&gt;\n            &lt;add name=\"SimpleRoleProvider\" type=\"WebMatrix.WebData.SimpleRoleProvider, WebMatrix.WebData\" /&gt;\n        &lt;/providers&gt;\n    &lt;/roleManager&gt;\n    &lt;membership defaultProvider=\"SimpleMembershipProvider\"&gt;\n        &lt;providers&gt;\n            &lt;clear /&gt;\n            &lt;add name=\"SimpleMembershipProvider\" type=\"WebMatrix.WebData.SimpleMembershipProvider, WebMatrix.WebData\" /&gt;\n        &lt;/providers&gt;\n    &lt;/membership&gt;\n    &lt;sessionState mode=\"InProc\" customProvider=\"DefaultSessionProvider\"&gt;\n        &lt;providers&gt;\n            &lt;add name=\"DefaultSessionProvider\" type=\"System.Web.Providers.DefaultSessionStateProvider, System.Web.Providers, Version=1.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" connectionStringName=\"DefaultConnection\" /&gt;\n        &lt;/providers&gt;\n    &lt;/sessionState&gt;\n    &lt;!--END ADDEDSimpleMemberShip--&gt;\n\n    &lt;compilation debug=\"true\" targetFramework=\"4.5.2\" /&gt;\n    &lt;httpRuntime /&gt;\n    &lt;authentication mode=\"Forms\"&gt;\n      &lt;forms loginUrl=\"~/Account/Login\" timeout=\"2880\" name=\".ASPXFORMSAUTH\" protection=\"All\" /&gt;\n    &lt;/authentication&gt;\n    &lt;pages controlRenderingCompatibilityVersion=\"4.0\"&gt;\n      &lt;namespaces&gt;\n        &lt;add namespace=\"System.Web.Helpers\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc.Ajax\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc.Html\" /&gt;\n        &lt;add namespace=\"System.Web.Routing\" /&gt;\n        &lt;add namespace=\"System.Web.WebPages\" /&gt;\n      &lt;/namespaces&gt;\n    &lt;/pages&gt;\n  &lt;/system.web&gt;\n  &lt;system.webServer&gt;\n    &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;\n\n    &lt;!-- added per https://www.asp.net/mvc/overview/releases/how-to-upgrade-an-aspnet-mvc-4-and-web-api-project-to-aspnet-mvc-5-and-web-api-2--&gt;\n    &lt;modules&gt;\n      &lt;remove name=\"RoleManager\" /&gt;\n    &lt;/modules&gt;\n    &lt;!-- /added --&gt;\n\n  &lt;handlers&gt;\n      &lt;remove name=\"ExtensionlessUrlHandler-Integrated-4.0\" /&gt;\n      &lt;remove name=\"OPTIONSVerbHandler\" /&gt;\n      &lt;remove name=\"TRACEVerbHandler\" /&gt;\n      &lt;add name=\"ExtensionlessUrlHandler-Integrated-4.0\" path=\"*.\" verb=\"*\" type=\"System.Web.Handlers.TransferRequestHandler\" preCondition=\"integratedMode,runtimeVersionv4.0\" /&gt;\n    &lt;/handlers&gt;\n  &lt;/system.webServer&gt;\n\n  &lt;runtime&gt;\n    &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"DotNetOpenAuth.Core\" publicKeyToken=\"2780ccd10d57b246\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-4.1.0.0\" newVersion=\"4.1.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"DotNetOpenAuth.AspNet\" publicKeyToken=\"2780ccd10d57b246\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-4.1.0.0\" newVersion=\"4.1.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"WebGrease\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-1.5.2.14234\" newVersion=\"1.5.2.14234\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.WebPages.Razor\" publicKeyToken=\"31bf3856ad364e35\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-3.2.3.0\" newVersion=\"3.2.3.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.Helpers\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"1.0.0.0-3.2.3.0\" newVersion=\"3.2.3.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.WebPages\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-3.2.3.0\" newVersion=\"3.2.3.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.Mvc\" publicKeyToken=\"31bf3856ad364e35\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-5.2.3.0\" newVersion=\"5.2.3.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"Newtonsoft.Json\" publicKeyToken=\"30ad4fe6b2a6aeed\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-6.0.0.0\" newVersion=\"6.0.0.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n    &lt;/assemblyBinding&gt;\n  &lt;/runtime&gt;\n  &lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework\"&gt;\n      &lt;parameters&gt;\n        &lt;parameter value=\"v11.0\" /&gt;\n      &lt;/parameters&gt;\n    &lt;/defaultConnectionFactory&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n  &lt;log4net&gt;\n    &lt;appender name=\"RollingFile\" type=\"log4net.Appender.RollingFileAppender\"&gt;\n      &lt;file value=\"App_Data\\Logs.txt\" /&gt;\n      &lt;lockingModel type=\"log4net.Appender.FileAppender+MinimalLock\" /&gt;\n      &lt;appendToFile value=\"true\" /&gt;\n      &lt;rollingStyle value=\"Date\" /&gt;\n      &lt;maximumFileSize value=\"5MB\" /&gt;\n      &lt;maxSizeRollBackups value=\"2\" /&gt;\n      &lt;layout type=\"log4net.Layout.PatternLayout\"&gt;\n        &lt;conversionPattern value=\"%date [%thread] %-5level %logger [%ndc] - %message%newline\" /&gt;\n      &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;root&gt;\n      &lt;level value=\"INFO\" /&gt;\n      &lt;appender-ref ref=\"RollingFile\" /&gt;\n    &lt;/root&gt;\n  &lt;/log4net&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>views/web.config</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;sectionGroup name=\"system.web.webPages.razor\" type=\"System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=3.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"&gt;\n      &lt;section name=\"host\" type=\"System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=3.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\" /&gt;\n      &lt;section name=\"pages\" type=\"System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=3.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" requirePermission=\"false\" /&gt;\n    &lt;/sectionGroup&gt;\n  &lt;/configSections&gt;\n\n  &lt;system.web.webPages.razor&gt;\n    &lt;!--&lt;host factoryType=\"System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;--&gt;\n    &lt;host factoryType=\"System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" /&gt;\n\n    &lt;pages pageBaseType=\"System.Web.Mvc.WebViewPage\"&gt;\n      &lt;namespaces&gt;\n        &lt;add namespace=\"System.Web.Mvc\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc.Ajax\" /&gt;\n        &lt;add namespace=\"System.Web.Mvc.Html\" /&gt;\n        &lt;add namespace=\"System.Web.Optimization\"/&gt;\n        &lt;add namespace=\"System.Web.Routing\" /&gt;\n      &lt;/namespaces&gt;\n    &lt;/pages&gt;\n  &lt;/system.web.webPages.razor&gt;\n\n  &lt;appSettings&gt;\n    &lt;add key=\"webpages:Enabled\" value=\"false\" /&gt;\n  &lt;/appSettings&gt;\n\n  &lt;system.web&gt;\n    &lt;httpHandlers&gt;\n      &lt;add path=\"*\" verb=\"*\" type=\"System.Web.HttpNotFoundHandler\"/&gt;\n    &lt;/httpHandlers&gt;\n\n    &lt;!--\n        Enabling request validation in view pages would cause validation to occur\n        after the input has already been processed by the controller. By default\n        MVC performs request validation before a controller processes the input.\n        To change this behavior apply the ValidateInputAttribute to a\n        controller or action.\n    --&gt;\n    &lt;!--&lt;pages\n        validateRequest=\"false\"\n        pageParserFilterType=\"System.Web.Mvc.ViewTypeParserFilter, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"\n        pageBaseType=\"System.Web.Mvc.ViewPage, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"\n        userControlBaseType=\"System.Web.Mvc.ViewUserControl, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"&gt;--&gt;\n    &lt;pages\n    validateRequest=\"false\"\n    pageParserFilterType=\"System.Web.Mvc.ViewTypeParserFilter, System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"\n    pageBaseType=\"System.Web.Mvc.ViewPage, System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"\n    userControlBaseType=\"System.Web.Mvc.ViewUserControl, System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\"&gt;\n      &lt;controls&gt;\n        &lt;!--&lt;add assembly=\"System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" namespace=\"System.Web.Mvc\" tagPrefix=\"mvc\" /&gt;--&gt;\n        &lt;add assembly=\"System.Web.Mvc, Version=5.2.3.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35\" namespace=\"System.Web.Mvc\" tagPrefix=\"mvc\" /&gt;\n\n      &lt;/controls&gt;\n    &lt;/pages&gt;\n  &lt;/system.web&gt;\n\n  &lt;system.webServer&gt;\n    &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;\n\n    &lt;handlers&gt;\n      &lt;remove name=\"BlockViewHandler\"/&gt;\n      &lt;add name=\"BlockViewHandler\" path=\"*\" verb=\"*\" preCondition=\"integratedMode\" type=\"System.Web.HttpNotFoundHandler\" /&gt;\n    &lt;/handlers&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p><strong>CodeFirst Project</strong>\napp.config </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --&gt;\n    &lt;section name=\"entityFramework\" type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" requirePermission=\"false\" /&gt;\n  &lt;/configSections&gt;\n  &lt;connectionStrings&gt;\n    &lt;add name=\"TintagliaContext\" connectionString=\"Data Source=SLD-GZQTHS1\\SQLEXPRESS;Initial Catalog=coverpools;Integrated Security=True;MultipleActiveResultSets=True\" providerName=\"System.Data.SqlClient\" /&gt;\n    &lt;!--&lt;add name=\"TintagliaContext\" connectionString=\"Data Source=SLD-GZQTHS1\\SQLEXPRESS;Initial Catalog=coverpools-NEW;Integrated Security=True;MultipleActiveResultSets=True\" providerName=\"System.Data.SqlClient\" /&gt;--&gt;\n  &lt;/connectionStrings&gt;\n  &lt;startup&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.5.2\" /&gt;\n  &lt;/startup&gt;\n  &lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework\" /&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n  &lt;runtime&gt;\n    &lt;assemblyBinding xmlns=\"urn:schemas-microsoft-com:asm.v1\"&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.WebPages\" publicKeyToken=\"31bf3856ad364e35\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-3.2.3.0\" newVersion=\"3.2.3.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n      &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"System.Web.Mvc\" publicKeyToken=\"31bf3856ad364e35\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-5.2.3.0\" newVersion=\"5.2.3.0\" /&gt;\n      &lt;/dependentAssembly&gt;\n    &lt;/assemblyBinding&gt;\n  &lt;/runtime&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Packages.config</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;packages&gt;\n  &lt;package id=\"EntityFramework\" version=\"6.1.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.Mvc\" version=\"5.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.Razor\" version=\"3.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebApi\" version=\"5.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebApi.Client\" version=\"5.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebApi.Core\" version=\"5.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebApi.WebHost\" version=\"5.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebHelpers\" version=\"3.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebPages\" version=\"3.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebPages.Data\" version=\"3.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.AspNet.WebPages.WebData\" version=\"3.2.3\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Microsoft.Web.Infrastructure\" version=\"1.0.0.0\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"Newtonsoft.Json\" version=\"6.0.4\" targetFramework=\"net452\" /&gt;\n  &lt;package id=\"PagedList\" version=\"1.17.0.0\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"PagedList.Mvc\" version=\"4.5.0.0\" targetFramework=\"net45\" /&gt;\n&lt;/packages&gt;\n</code></pre>\n\n<p>Here's what I am getting when I compile:\n<code>Could not load file or assembly 'System.Web.Helpers' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)</code></p>\n\n<pre><code>An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below. \n\n\n=== Pre-bind state information ===\nLOG: DisplayName = System.Web.Helpers\n (Partial)\nWRN: Partial binding information was supplied for an assembly:\nWRN: Assembly Name: System.Web.Helpers | Domain ID: 2\nWRN: A partial bind occurs when only part of the assembly display name is provided.\nWRN: This might result in the binder loading an incorrect assembly.\nWRN: It is recommended to provide a fully specified textual identity for the assembly,\nWRN: that consists of the simple name, version, culture, and public key token.\nWRN: See whitepaper http://go.microsoft.com/fwlink/?LinkId=109270 for more information and common solutions to this issue.\nLOG: Appbase = file:///F:/sites/OnlineOrder/Coverpools Dealer Portal/Infotech Coverpools Portal Tintaglia/Source/Infotech.Coverpools.Portal.Tintaglia.Web/\nLOG: Initial PrivatePath = F:\\sites\\OnlineOrder\\Coverpools Dealer Portal\\Infotech Coverpools Portal Tintaglia\\Source\\Infotech.Coverpools.Portal.Tintaglia.Web\\bin\nCalling assembly : (Unknown).\n===\nLOG: This bind starts in default load context.\nLOG: Using application configuration file: F:\\sites\\OnlineOrder\\Coverpools Dealer Portal\\Infotech Coverpools Portal Tintaglia\\Source\\Infotech.Coverpools.Portal.Tintaglia.Web\\web.config\nLOG: Using host configuration file: C:\\Users\\joshua.mcgee\\Documents\\IISExpress\\config\\aspnet.config\nLOG: Using machine configuration file from C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\config\\machine.config.\nLOG: Policy not being applied to reference at this time (private, custom, partial, or location-based assembly bind).\nLOG: Attempting download of new URL file:///C:/Users/joshua.mcgee/AppData/Local/Temp/Temporary ASP.NET Files/root/0af143ab/206c340/System.Web.Helpers.DLL.\nLOG: Attempting download of new URL file:///C:/Users/joshua.mcgee/AppData/Local/Temp/Temporary ASP.NET Files/root/0af143ab/206c340/System.Web.Helpers/System.Web.Helpers.DLL.\nLOG: Attempting download of new URL file:///F:/sites/OnlineOrder/Coverpools Dealer Portal/Infotech Coverpools Portal Tintaglia/Source/Infotech.Coverpools.Portal.Tintaglia.Web/bin/System.Web.Helpers.DLL.\nLOG: Using application configuration file: F:\\sites\\OnlineOrder\\Coverpools Dealer Portal\\Infotech Coverpools Portal Tintaglia\\Source\\Infotech.Coverpools.Portal.Tintaglia.Web\\web.config\nLOG: Using host configuration file: C:\\Users\\joshua.mcgee\\Documents\\IISExpress\\config\\aspnet.config\nLOG: Using machine configuration file from C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\config\\machine.config.\nLOG: Redirect found in application configuration file: 3.0.0.0 redirected to 3.2.3.0.\nLOG: Post-policy reference: System.Web.Helpers, Version=3.2.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\nLOG: Attempting download of new URL file:///C:/Users/joshua.mcgee/AppData/Local/Temp/Temporary ASP.NET Files/root/0af143ab/206c340/System.Web.Helpers.DLL.\nLOG: Attempting download of new URL file:///C:/Users/joshua.mcgee/AppData/Local/Temp/Temporary ASP.NET Files/root/0af143ab/206c340/System.Web.Helpers/System.Web.Helpers.DLL.\nLOG: Attempting download of new URL file:///F:/sites/OnlineOrder/Coverpools Dealer Portal/Infotech Coverpools Portal Tintaglia/Source/Infotech.Coverpools.Portal.Tintaglia.Web/bin/System.Web.Helpers.DLL.\nWRN: Comparing the assembly name resulted in the mismatch: Minor Version\nERR: Failed to complete setup of assembly (hr = 0x80131040). Probing terminated.\n\n\nStack Trace:\n\n\n[FileLoadException: Could not load file or assembly 'System.Web.Helpers' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)]\n\n[FileLoadException: Could not load file or assembly 'System.Web.Helpers, Version=3.2.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)]\n   System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +0\n   System.Reflection.RuntimeAssembly.nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +36\n   System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, RuntimeAssembly reqAssembly, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks) +152\n   System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, IntPtr pPrivHostBinder, Boolean forIntrospection) +77\n   System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection) +21\n   System.Reflection.Assembly.Load(String assemblyString) +28\n   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) +38\n\n[ConfigurationErrorsException: Could not load file or assembly 'System.Web.Helpers, Version=3.2.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)]\n   System.Web.Configuration.CompilationSection.LoadAssemblyHelper(String assemblyName, Boolean starDirective) +738\n   System.Web.Configuration.CompilationSection.LoadAllAssembliesFromAppDomainBinDirectory() +217\n   System.Web.Configuration.CompilationSection.LoadAssembly(AssemblyInfo ai) +130\n   System.Web.Compilation.BuildManager.GetReferencedAssemblies(CompilationSection compConfig) +170\n   System.Web.Compilation.BuildManager.GetPreStartInitMethodsFromReferencedAssemblies() +92\n   System.Web.Compilation.BuildManager.CallPreStartInitMethods(String preStartInitListPath, Boolean&amp; isRefAssemblyLoaded) +290\n   System.Web.Compilation.BuildManager.ExecutePreAppStart() +157\n   System.Web.Hosting.HostingEnvironment.Initialize(ApplicationManager appManager, IApplicationHost appHost, IConfigMapPathFactory configMapPathFactory, HostingEnvironmentParameters hostingParameters, PolicyLevel policyLevel, Exception appDomainCreationException) +531\n\n[HttpException (0x80004005): Could not load file or assembly 'System.Web.Helpers, Version=3.2.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)]\n   System.Web.HttpRuntime.FirstRequestInit(HttpContext context) +9946132\n   System.Web.HttpRuntime.EnsureFirstRequestInit(HttpContext context) +90\n   System.Web.HttpRuntime.ProcessRequestNotificationPrivate(IIS7WorkerRequest wr, HttpContext context) +261\n</code></pre>\n"}, {"tags": ["c#", "ios", "xamarin.ios", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 1439, "user_id": 5073958, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ypA94.png?s=128&g=1", "display_name": "Caz1224", "link": "https://stackoverflow.com/users/5073958/caz1224"}, "edited": false, "score": 0, "creation_date": 1481153668, "post_id": 41028999, "comment_id": 69266105, "body": "Thanks for that... Bit of a noob question I know"}], "tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 1, "last_activity_date": 1481152050, "creation_date": 1481152050, "answer_id": 41028999, "question_id": 41028951, "link": "https://stackoverflow.com/questions/41028951/xamarin-forms-web-view/41028999#41028999", "title": "Xamarin Forms - Web View", "body": "<p>your browser needs to be contained within a page</p>\n\n<pre><code>var browser = new BaseUrlWebView();\n\n// do your other browser setup logic here\n\nMainPage = new ContentPage { Content = browser };\n</code></pre>\n"}], "owner": {"reputation": 1439, "user_id": 5073958, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ypA94.png?s=128&g=1", "display_name": "Caz1224", "link": "https://stackoverflow.com/users/5073958/caz1224"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 41028999, "answer_count": 1, "score": 0, "last_activity_date": 1481152050, "creation_date": 1481151846, "question_id": 41028951, "link": "https://stackoverflow.com/questions/41028951/xamarin-forms-web-view", "title": "Xamarin Forms - Web View", "body": "<p>Still trying to get my head around Xamarin Forms (iOS).\nI am working with the <strong>WorkingWithWebView</strong> template from the Xamarin Website which mostly works. But I am having trouble getting it to work when I remove the tab view off the App() class.</p>\n\n<blockquote>\n  <p>Tab view (This is what works)</p>\n</blockquote>\n\n<pre><code>        var tabs = new TabbedPage ();\n\n        tabs.Children.Add (new LocalHtml {Title = \"Local\" });\n        tabs.Children.Add (new LocalHtmlBaseUrl {Title = \"BaseUrl\" });\n        tabs.Children.Add (new WebPage { Title = \"Web Page\"});\n        tabs.Children.Add (new WebAppPage {Title =\"External\"});\n\n        MainPage = tabs;\n</code></pre>\n\n<p>And when I go to <strong>LocalHtmlBaseUrl</strong> everything works as expected. </p>\n\n<p>But what I am wanting to do is load a page straight away without having a tabbed navigation on the bottom.</p>\n\n<p>So far I have tried to do the following:</p>\n\n<pre><code>        public App ()\n        {\n            //var tabs = new TabbedPage ();\n\n            //tabs.Children.Add (new LocalHtml {Title = \"Local\" });\n            //tabs.Children.Add (new LocalHtmlBaseUrl {Title = \"BaseUrl\" });\n            //tabs.Children.Add (new WebPage { Title = \"Web Page\"});\n            //tabs.Children.Add (new WebAppPage {Title =\"External\"});\n\n            //MainPage = tabs;\n            var parentpage = new Page();\n\n            var page = new WebView();\n\n            var browser = new BaseUrlWebView(); // temporarily use this so we can custom-render in iOS\n\n            var htmlSource = new HtmlWebViewSource();\n\n            htmlSource.Html = @\"&lt;html&gt;\n                                &lt;head&gt;\n                                &lt;link rel=\"\"stylesheet\"\" href=\"\"default.css\"\"&gt;\n                                &lt;/head&gt;\n                                &lt;body&gt;\n                                &lt;h1&gt;Xamarin.Forms&lt;/h1&gt;\n                                &lt;p&gt;The CSS and image are loaded from local files!&lt;/p&gt;\n                                &lt;img src='XamarinLogo.png'/&gt;\n                                &lt;p&gt;&lt;a href=\"\"index.html\"\"&gt;next page&lt;/a&gt;&lt;/p&gt;\n                                &lt;/body&gt;\n                                &lt;/html&gt;\";\n\n            htmlSource.BaseUrl = DependencyService.Get&lt;IBaseUrl&gt;().Get();\n\n\n            browser.Source = htmlSource;\n            page = browser;\n            parentpage = page;\n            MainPage = page;\n\n        }\n</code></pre>\n\n<p>At the <strong>parentpage = page</strong> - I get the error: </p>\n\n<blockquote>\n  <p>Cannot implicitly convert type 'Xamarin.Forms.WebView' to\n  'Xamarin.Forms.Page'</p>\n</blockquote>\n\n<p>So the point of this thesis! I am just wanting to load that local html code that is specified in <strong>htmlSource.Html</strong></p>\n\n<p>Thanks</p>\n\n<p>Caz</p>\n"}, {"tags": ["c#", "mongodb", "visual-studio-2013", "nuget-package"], "comments": [{"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 1, "creation_date": 1481152545, "post_id": 41028885, "comment_id": 69265676, "body": "If I&#39;m reading the <a href=\"https://www.nuget.org/packages/MongoDB.Bson/\" rel=\"nofollow noreferrer\">nuget page</a> correctly you must target .NET 4.5, but your error indicates you are targeting .NET 4.0. You can change the target in the project properties in visual studio."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7264744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de813fc814d868542adf01146c85fde?s=128&d=identicon&r=PG&f=1", "display_name": "Kelnmyir", "link": "https://stackoverflow.com/users/7264744/kelnmyir"}, "edited": false, "score": 0, "creation_date": 1481158909, "post_id": 41029149, "comment_id": 69267759, "body": "Thank you, problem can also be solved by adding direct referenses to project"}, {"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "reply_to_user": {"reputation": 1, "user_id": 7264744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de813fc814d868542adf01146c85fde?s=128&d=identicon&r=PG&f=1", "display_name": "Kelnmyir", "link": "https://stackoverflow.com/users/7264744/kelnmyir"}, "edited": false, "score": 0, "creation_date": 1481182764, "post_id": 41029149, "comment_id": 69275603, "body": "@Kelnmyir You went the wrong way with your approach, because Mongo driver might use some classes or facilities from newer framework versions. Since .NET 4.x uses CLR 4.0, you can still add them to your project, but if Mongo has defined that you need 4.5 or newer it&#39;s because they rely on something that&#39;s not present on .NET 4."}], "tags": [], "owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "is_accepted": false, "score": 1, "last_activity_date": 1481152908, "creation_date": 1481152908, "answer_id": 41029149, "question_id": 41028885, "link": "https://stackoverflow.com/questions/41028885/c-mongo-driver-installation/41029149#41029149", "title": "c# mongo driver installation", "body": "<blockquote>\n  <p>'.NETFramework,Version=v4.0,Profile=Client',</p>\n</blockquote>\n\n<p>This is .NET 4.0 Client Profile, which Mongo driver doesn't support. </p>\n\n<p>Maybe you didn't intended to use <a href=\"https://msdn.microsoft.com/en-us/library/cc656912(v=vs.110).aspx\" rel=\"nofollow noreferrer\">.NET 4.0 Client Profile.</a> Go to your project properties and switch to .NET 4.5 (because it's the minimum framework version supported by the whole <a href=\"https://www.nuget.org/packages/MongoDB.Bson/\" rel=\"nofollow noreferrer\">NuGet package</a>).</p>\n"}], "owner": {"reputation": 1, "user_id": 7264744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de813fc814d868542adf01146c85fde?s=128&d=identicon&r=PG&f=1", "display_name": "Kelnmyir", "link": "https://stackoverflow.com/users/7264744/kelnmyir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1651, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482145414, "creation_date": 1481151499, "last_edit_date": 1482145414, "question_id": 41028885, "link": "https://stackoverflow.com/questions/41028885/c-mongo-driver-installation", "title": "c# mongo driver installation", "body": "<p>I try to install MongoDB C# official driver with Package Manager console in VS2013. It has some dependencies, and they should be installed by commands like this:</p>\n\n<pre><code>Install-Package MongoDB.Bson\n</code></pre>\n\n<p>But I have got such error for each package:</p>\n\n<blockquote>\n  <p>Install-Package : Could not install package 'MongoDB.Bson 2.4.0'. You are trying to install this package into a project that targets \n  '.NETFramework,Version=v4.0,Profile=Client', but the package does not contain any assembly references or content files that are compa\n  tible with that framework. For more information, contact the package author.\n  At line:1 char:16<br>\n  + Install-Package &lt;&lt;&lt;&lt;  MongoDB.Bson\n      + CategoryInfo          : NotSpecified: (:) [Install-Package], InvalidOperationException\n      + FullyQualifiedErrorId : NuGetCmdletUnhandledException,NuGet.PowerShell.Commands.InstallPackageCommand</p>\n</blockquote>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5670430, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/75a0d5f5a894cddc61e898014acdc9e4?s=128&d=identicon&r=PG&f=1", "display_name": "Rogan", "link": "https://stackoverflow.com/users/5670430/rogan"}, "edited": false, "score": 0, "creation_date": 1481157867, "post_id": 41029562, "comment_id": 69267457, "body": "Thank you. I am going to try this. If I wanted to pass selected data from one list view to another listview on the same page would I use a similar technique?"}, {"owner": {"reputation": 358, "user_id": 7109850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xKCJM.png?s=128&g=1", "display_name": "godfathr", "link": "https://stackoverflow.com/users/7109850/godfathr"}, "reply_to_user": {"reputation": 27, "user_id": 5670430, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/75a0d5f5a894cddc61e898014acdc9e4?s=128&d=identicon&r=PG&f=1", "display_name": "Rogan", "link": "https://stackoverflow.com/users/5670430/rogan"}, "edited": false, "score": 0, "creation_date": 1481200370, "post_id": 41029562, "comment_id": 69286396, "body": "Indeed you can. To add, for instance, a string value:      Application.Current.Properties.Add(&quot;textBoxValue&quot;, textBoxControl.Text);  Then to retrieve that string value:      string s= (string)Application.Current.Properties[&quot;textBoxValue&quot;];"}], "tags": [], "owner": {"reputation": 358, "user_id": 7109850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xKCJM.png?s=128&g=1", "display_name": "godfathr", "link": "https://stackoverflow.com/users/7109850/godfathr"}, "is_accepted": true, "score": 0, "last_activity_date": 1481200605, "last_edit_date": 1481200605, "creation_date": 1481155460, "answer_id": 41029562, "question_id": 41028876, "link": "https://stackoverflow.com/questions/41028876/use-button-click-to-send-image-to-new-page-wpf-c/41029562#41029562", "title": "Use Button Click To Send Image To New Page. WPF C#", "body": "<p>In the method that is called on the button click, I'd use the application properties to store your image. Something like this (you will want to put a data type on your image):</p>\n\n<pre><code>Application.Current.Properties.Add(\"myImage\", System.Windows.Media.Imaging.BitmapImage myBmp);\nWindow newWindow = new Window();\nnewWindow.Show();\n</code></pre>\n\n<p>Then on the window that opens, grab the image from the app properties like this (note that you'll want to cast your image as they image type you want):</p>\n\n<pre><code>transferredImage = (MYIMAGETYPE)Application.Current.Properties[\"myImage\"];\nvar brush = new ImageBrush();\n            if (image != null)\n            {\n                brush.ImageSource = image;\n                btnCustomerPhoto.Background = brush;\n            }\n\nApplication.Current.Properties.Clear();\n</code></pre>\n\n<p>Of course, you don't have to clear the current properties if you don't want to, but I do to ensure I don't have anything sticking around I don't want.</p>\n\n<p>There are other ways to do this but the application properties are easy to use and then get rid of.</p>\n"}], "owner": {"reputation": 27, "user_id": 5670430, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/75a0d5f5a894cddc61e898014acdc9e4?s=128&d=identicon&r=PG&f=1", "display_name": "Rogan", "link": "https://stackoverflow.com/users/5670430/rogan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 41029562, "answer_count": 1, "score": -2, "last_activity_date": 1481200605, "creation_date": 1481151462, "last_edit_date": 1481151523, "question_id": 41028876, "link": "https://stackoverflow.com/questions/41028876/use-button-click-to-send-image-to-new-page-wpf-c", "title": "Use Button Click To Send Image To New Page. WPF C#", "body": "<p>How do you use a button to send an image within the same page to another page in the application via the button click event?</p>\n"}, {"tags": ["c#", "database", "sqlite", "file"], "comments": [{"owner": {"reputation": 4114, "user_id": 2957232, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XicNR.jpg?s=128&g=1", "display_name": "Broots Waymb", "link": "https://stackoverflow.com/users/2957232/broots-waymb"}, "edited": false, "score": 0, "creation_date": 1481151331, "post_id": 41028821, "comment_id": 69265192, "body": "In order to accurately answer your question, it would help to see what code you are using."}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1481151688, "post_id": 41028821, "comment_id": 69265327, "body": "The problem likely is that the code is wrong."}, {"owner": {"reputation": 2021, "user_id": 1518100, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EW5RK.jpg?s=128&g=1", "display_name": "Lei Yang", "link": "https://stackoverflow.com/users/1518100/lei-yang"}, "edited": false, "score": 0, "creation_date": 1481159831, "post_id": 41028821, "comment_id": 69267992, "body": "Can you display <code>dbConnection.ConnectionString</code> before <code>Open()</code>? or debug and paste the text here."}, {"owner": {"reputation": 133, "user_id": 5296275, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m57yL.png?s=128&g=1", "display_name": "Belfed", "link": "https://stackoverflow.com/users/5296275/belfed"}, "reply_to_user": {"reputation": 2021, "user_id": 1518100, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EW5RK.jpg?s=128&g=1", "display_name": "Lei Yang", "link": "https://stackoverflow.com/users/1518100/lei-yang"}, "edited": false, "score": 0, "creation_date": 1481233141, "post_id": 41028821, "comment_id": 69306158, "body": "@LeiYang I noticed that after the database has been created, if I close the program and restart the application executing <code>CreateTables()</code> I don&#39;t get the error and the table is successfully created. Any idea?"}], "owner": {"reputation": 133, "user_id": 5296275, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/m57yL.png?s=128&g=1", "display_name": "Belfed", "link": "https://stackoverflow.com/users/5296275/belfed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 569, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481196244, "creation_date": 1481151132, "last_edit_date": 1481196244, "question_id": 41028821, "link": "https://stackoverflow.com/questions/41028821/unable-to-open-database-file-error", "title": "Unable To Open Database File Error", "body": "<p>I'm having troubles with SQLite and C#. Wherever I put my .db file, when I try to open it and create tables I get the error \"unable to open database file\".</p>\n\n<p>I first wanted to put it in the <code>%appdata%</code> folder, then I tried to put it in several other places like <code>userprofile</code> or <code>local appdata</code>, even in the Desktop just to see if it worked. The error still appeared, so I created the .db file (the .db file is created through code) without the file path, in order to having it in the debug folder, and the error didn't show up.</p>\n\n<p>So, I don't think that permissions are involved, because I even tried on the Desktop and I also tried to open the created .db file with a database browser to see if it could be corrupted, and it worked like a charm.</p>\n\n<p>What could the problem be? Thank you all in advance for the help!</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here are the <code>Connection String</code> and path variables:</p>\n\n<pre><code>static string dbConnectionString = \"Data Source=\" + Environment.GetFolderPath(Environment.SpecialFolder.Desktop) + @\"\\CSB_Ore\\csb_ore.sqlite;\";\nstring dbFilePath = Environment.GetFolderPath(Environment.SpecialFolder.Desktop) + @\"\\CSB_Ore\\csb_ore.sqlite\";\nstring dbFolderPath = Environment.GetFolderPath(Environment.SpecialFolder.Desktop) + @\"\\CSB_Ore\";\n</code></pre>\n\n<p>and here are the methods for the database creation:</p>\n\n<pre><code>/// &lt;summary&gt;\n    /// Check if the database exists. If not, the database is created and also the CSB_Days table.\n    /// &lt;/summary&gt;\n    public void FirstTimeExecution()\n    {\n        if(!Directory.Exists(dbFolderPath))\n        {\n            Directory.CreateDirectory(dbFolderPath);\n            File.Create(dbFilePath);\n\n            string tableCreationOutput = CreateTables();\n\n            if (tableCreationOutput == null)\n            {\n                MessageBox.Show(\"Tables successfully created.\", \"Info\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n            }\n            else\n            {\n                MessageBox.Show(\"Error while creating tables:\\n\\n\" + tableCreationOutput, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n            }\n        }\n    }\n\n    public string CreateTables()\n    {\n        string createDaysTableScript = \"CREATE TABLE 'CSBO_Days' (\"\n                                        + \"`ID` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\"\n                                        + \"`Date`   datetime,\"\n                                        + \"`Hours`  decimal(2, 2),\"\n                                        + \"`IsPartTime` bit,\"\n                                        + \"`Notes`  TEXT\"\n                                        + \")\";\n        try\n        {\n            dbConnection.Open();\n            SQLiteCommand createTablesCommand = new SQLiteCommand(createDaysTableScript, dbConnection);\n            createTablesCommand.ExecuteNonQuery();\n            return null;\n        }\n        catch(SQLiteException ex)\n        {\n            return ex.ToString();\n        }\n        finally\n        {\n            dbConnection.Close();\n        }\n    }\n}\n</code></pre>\n\n<p>I simply create the folder and the .db file in case that they don't exist, then I call the method for the table creation and return the eventual exception to see if the table has been created.</p>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>As requested, this is the <code>dbConnectionString</code> output just before the <code>dbConnection.Open()</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/da2jt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/da2jt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "selenium", "selenium-webdriver", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 2867, "user_id": 1768843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8fr9.jpg?s=128&g=1", "display_name": "pagep", "link": "https://stackoverflow.com/users/1768843/pagep"}, "edited": false, "score": 0, "creation_date": 1481151779, "post_id": 41028758, "comment_id": 69265373, "body": "So if you say that element is found and not clicking  - does it print any error? Are you sure that the element is found?"}, {"owner": {"reputation": 18005, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1481152637, "post_id": 41028758, "comment_id": 69265721, "body": "Please take a minute to fix the formatting and HTML in your question. Right now it&#39;s hard to read and not properly formatted."}, {"owner": {"reputation": 2867, "user_id": 1768843, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8fr9.jpg?s=128&g=1", "display_name": "pagep", "link": "https://stackoverflow.com/users/1768843/pagep"}, "edited": false, "score": 0, "creation_date": 1481153407, "post_id": 41028758, "comment_id": 69266000, "body": "Well if you have the code exactly as in example, it&#39;s possible that there is exception which is not printed because you have try catch"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7264857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mD9XoI322TM/AAAAAAAAAAI/AAAAAAAAACI/m5krCJm-qQY/photo.jpg?sz=128", "display_name": "Cisco Aldana", "link": "https://stackoverflow.com/users/7264857/cisco-aldana"}, "is_accepted": false, "score": 0, "last_activity_date": 1481214404, "creation_date": 1481214404, "answer_id": 41044216, "question_id": 41028758, "link": "https://stackoverflow.com/questions/41028758/selenium-webdriver-having-issues-targetting-clicking-on-a-button-bootstrap/41044216#41044216", "title": "selenium webdriver having issues targetting/clicking on a button | bootstrap", "body": "<p><strong>CODE</strong>:</p>\n\n<pre><code>&lt;div class=\"form-group form-group-sm\" data-bind=\"visible: \n!$root.isCollapsed() &amp;amp;&amp;amp; !$root.isLocked()\"&gt; == $0\n   ::before\n &lt;div class=\"pull-right\"&gt;\n   &lt;button data-bind=\"click: $root.update, enable:!\n   ($root.isLoading() || $root.isRunning()) &amp;amp;&amp;amp; workOrderId() &gt; 0, \n   css: {'disabled' : ($root.isLoading() || $root.isRunning() || \n   workOrderId() === 0) }\" class=\"btn btn-primary btn-sm\" style=\n   \"opacity: 0.6;\"&gt;Calculate&lt;/button&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>SCRIPT</strong>:</p>\n\n<pre><code>IWebElement applyCalculate = driver.FindElement(By.ClassName(\".btn-sm\"));\n\ntry\n{\n    if (applyCalculate != null)\n    {\n       applyCalculate.Click();\n       applyCalculate.Click();\n       {\n       };\n    }\n    else\n    {\n        {\n        };\n    }\n}\ncatch (Exception)\n{\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7264857, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mD9XoI322TM/AAAAAAAAAAI/AAAAAAAAACI/m5krCJm-qQY/photo.jpg?sz=128", "display_name": "Cisco Aldana", "link": "https://stackoverflow.com/users/7264857/cisco-aldana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481222546, "creation_date": 1481150798, "last_edit_date": 1481158975, "question_id": 41028758, "link": "https://stackoverflow.com/questions/41028758/selenium-webdriver-having-issues-targetting-clicking-on-a-button-bootstrap", "title": "selenium webdriver having issues targetting/clicking on a button | bootstrap", "body": "<p>I use a chrome web-based application. We use bootstrap, which makes it harder to simply right click an element in dev tools and get its xpath or cssselector. </p>\n\n<p>Here is the code of a button I'm trying to click:</p>\n\n<pre><code>div class=\"pull-right\"\nbutton data-bind=\"click: $root.update, enable: !($root.isLoading() || $root.isRunning()) &amp;amp;&amp;amp; workOrderId() &gt; 0, css: {'disabled' : ($root.isLoading() || $root.isRunning() || workOrderId() === 0) }\" class=\"btn btn-primary btn-sm selectorgadget_selected\" style=\"opacity: 0.6;\"&gt;Calculate&lt;/button&gt; == $0\n</code></pre>\n\n<p>IWebElement applyCalculate = driver.FindElement( By.CssSelector( \".btn-sm\" ) );</p>\n\n<pre><code>IWebElement applyCalculate = driver.FindElement( By.CssSelector( \".btn-sm\" ) );\n\ntry\n{\n      applyCalculate.Click();\n      {\n      };\n\n}\ncatch (Exception)\n{\n      {\n      };\n}\n</code></pre>\n\n<p>I'm ok either using Classname, cssselector, xpath, pretty much anything that might work at this point. Any ideas? Element is found, but not clicking</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1481151225, "post_id": 41028750, "comment_id": 69265152, "body": "I&#39;m confused - so you have a running total of the number of times that each number combination is rolled, and now you&#39;re trying to keep track of each individual roll? What do you mean by rolling them in a pair and comparing it against the second dice roll?"}, {"owner": {"reputation": 3, "user_id": 7264865, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GnLq5HWw6_U/AAAAAAAAAAI/AAAAAAAAGTQ/8OZgOcMMX9Q/photo.jpg?sz=128", "display_name": "Ben Deollos", "link": "https://stackoverflow.com/users/7264865/ben-deollos"}, "edited": false, "score": 0, "creation_date": 1481151458, "post_id": 41028750, "comment_id": 69265246, "body": "I am keeping track of two separate pairs of dice that each pair is rolling 50 times. He wanted the numbers of each pair displayed. I did that 2 separate list boxes. But now he is stating that he wants the 2 pairs of dice compared against one another. I will be using a IEnumerable.Comparer to compare the two pairs of dice rolled 50 times .EX. Pair 1 {6,3} Pair2 {1,4} then i have to go through and using IEnumerable sift through the 50 roles of each pair and display for example pair 1 has {2,1} which pair 2 does not."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1481151940, "post_id": 41028750, "comment_id": 69265443, "body": "The simplest view is to make each array 1 dimensional where the index is the roll number; for 50 rolls: <code>int[] die1Values = new int[50];</code>, <code>int[] die2Values = new int[50];</code>; for each roll: <code>die1Values[rollNum] = (result of rolling die 1)</code>, <code>die2Values[rollNum] = (result of rolling die 2)</code>. Instead of implicit coupling you can combine them into a single 2D array: <code>int[,] allDieValues = new int[2, 50]</code>; with this data structure you can do: <code>allDieValues[0][rollNum] = (die 1 result)</code>, <code>allDieValues[1][rollNum] = (die 2 result)</code>, where the 1st dimension is the # of dice, and 2nd is # of rolls."}, {"owner": {"reputation": 2113, "user_id": 2091951, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c73025ff1e72f37a132f63a4e4e61f86?s=128&d=identicon&r=PG", "display_name": "Denise Skidmore", "link": "https://stackoverflow.com/users/2091951/denise-skidmore"}, "edited": false, "score": 0, "creation_date": 1481152112, "post_id": 41028750, "comment_id": 69265516, "body": "Have you studied LINQ yet?"}, {"owner": {"reputation": 3, "user_id": 7264865, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GnLq5HWw6_U/AAAAAAAAAAI/AAAAAAAAGTQ/8OZgOcMMX9Q/photo.jpg?sz=128", "display_name": "Ben Deollos", "link": "https://stackoverflow.com/users/7264865/ben-deollos"}, "edited": false, "score": 0, "creation_date": 1481152931, "post_id": 41028750, "comment_id": 69265825, "body": "We are just starting it with this class."}], "answers": [{"tags": [], "owner": {"reputation": 2113, "user_id": 2091951, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c73025ff1e72f37a132f63a4e4e61f86?s=128&d=identicon&r=PG", "display_name": "Denise Skidmore", "link": "https://stackoverflow.com/users/2091951/denise-skidmore"}, "is_accepted": false, "score": -1, "last_activity_date": 1481151995, "creation_date": 1481151995, "answer_id": 41028987, "question_id": 41028750, "link": "https://stackoverflow.com/questions/41028750/adding-2-separate-numbers-to-an-array/41028987#41028987", "title": "adding 2 separate numbers to an array", "body": "<p>Store the dice roll as a new object.  Produce a DiceRoll class that stores a pair of dice, and has functions for ToString, Total  and to compare one DiceRoll to another.  You could even have a default constructor that contains your randomizer, or a constructor that takes the roll pair generated elsewhere.  Put your DiceRoll objects into a list (which is IEnumerable).</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/ms173154.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ms173154.aspx</a>\n<a href=\"https://msdn.microsoft.com/en-us/library/system.icomparable.compareto(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.icomparable.compareto(v=vs.110).aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 7264865, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GnLq5HWw6_U/AAAAAAAAAAI/AAAAAAAAGTQ/8OZgOcMMX9Q/photo.jpg?sz=128", "display_name": "Ben Deollos", "link": "https://stackoverflow.com/users/7264865/ben-deollos"}, "edited": false, "score": 0, "creation_date": 1481160434, "post_id": 41029550, "comment_id": 69268156, "body": "Thank you everyone for your input to help me with this. I appreciate your patience with me being such a noob. I hope that one day i can return the favor to you all."}], "tags": [], "owner": {"reputation": 21683, "user_id": 4228458, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fj2C5.jpg?s=128&g=1", "display_name": "CodingYoshi", "link": "https://stackoverflow.com/users/4228458/codingyoshi"}, "is_accepted": true, "score": 0, "last_activity_date": 1481155349, "creation_date": 1481155349, "answer_id": 41029550, "question_id": 41028750, "link": "https://stackoverflow.com/questions/41028750/adding-2-separate-numbers-to-an-array/41029550#41029550", "title": "adding 2 separate numbers to an array", "body": "<p>Since you need to keep your int arrays, you can convert your int arrays to objects of type:</p>\n\n<pre><code>public class Pair \n{\n   public int FirstDie { get; set; }\n   public int SecondDie { get; set; }\n}\n</code></pre>\n\n<p>Then convert your array for each player to a list of the <code>Pair</code> type like this:</p>\n\n<pre><code>public static List&lt;Pair&gt; ConvertToPairs(int[,] dieValues) \n{\n   var query = from int item in dieValues\n               select item;\n\n   var p1Rolls = query.ToList();\n   List&lt;Pair&gt; pairs = new List&lt;Pair&gt;( p1Rolls.Count );\n   for( int i = 0; i &lt; 4; i += 2 ) \n   {\n      pairs.Add( new Pair() { FirstDie = p1Rolls[ i ], SecondDie = p1Rolls[ i + 1 ] } );\n   }\n\n   return pairs;\n}\n</code></pre>\n\n<p>Then you can user <code>Except</code> for player1's rolls vs player2's rolls to get the difference. Here is how you would do so for player 1. I will let you figure out player 2. I have 2 rolls in this example program.</p>\n\n<pre><code>class Program \n{\n   static void Main(string[] args) \n   {\n\n      int[,] dieValue1 = { { 1, 2 }, { 3, 4 } };\n      int[,] dieValue2 = { { 1, 2 }, { 6, 4 } };\n\n\n\n      var p1Rolls = ConvertToPairs( dieValue1 );\n      var p2Rolls = ConvertToPairs( dieValue2 );\n\n      foreach( var item in p1Rolls.Except( p2Rolls ) ) \n      {\n\n         Console.WriteLine( \"Player 1 has [{0}, {1}] which player 2 does not.\", item.FirstDie, item.SecondDie );\n      }\n\n      var result = LoadComment( 1, null );\n      Console.ReadKey();\n\n   }\n\n   public static List&lt;Pair&gt; ConvertToPairs(int[,] dieValues) \n   {\n      var query = from int item in dieValues\n                  select item;\n\n      var p1Rolls = query.ToList();\n      List&lt;Pair&gt; pairs = new List&lt;Pair&gt;( p1Rolls.Count );\n      for( int i = 0; i &lt; 4; i += 2 ) \n      {\n         pairs.Add( new Pair() { FirstDie = p1Rolls[ i ], SecondDie = p1Rolls[ i + 1 ] } );\n      }\n\n      return pairs;\n   }\n}\n</code></pre>\n\n<p>Please note you can just use this <code>Pair</code> construct to start with and every time you roll you will create one of these for each player. This way you do not need all those arrays you have. </p>\n"}], "owner": {"reputation": 3, "user_id": 7264865, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GnLq5HWw6_U/AAAAAAAAAAI/AAAAAAAAGTQ/8OZgOcMMX9Q/photo.jpg?sz=128", "display_name": "Ben Deollos", "link": "https://stackoverflow.com/users/7264865/ben-deollos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 41029550, "answer_count": 2, "score": 0, "last_activity_date": 1481155349, "creation_date": 1481150772, "last_edit_date": 1481151161, "question_id": 41028750, "link": "https://stackoverflow.com/questions/41028750/adding-2-separate-numbers-to-an-array", "title": "adding 2 separate numbers to an array", "body": "<p>Sorry this may a dumb question, I am learning c# in school and have came up with a dice roller program. \nThe issue that I am having is instead of gathering the total of the 2 dice that are rolled then placing it into an array the instructor wants us to get the number of each die in a pair and then compare it against the second pair of die rolls. I have the rolls set up but I am not sure on how to get each number of die into the array. Here is the code that I have so far. Not looking for the answer just a point in the right direction.</p>\n\n<p>Here is my code (inside a <code>Button</code> click event handler of a <code>Form</code>):</p>\n\n<pre><code>Random roll = new Random();\nint [,] dieValue1 = new int[7, 7];\nint[,] dieValue2 = new int[7, 7];\nint die1 = 0;\nint die2 = 0;\nint die3 = 0;\nint die4 = 0;\ndie1 = roll.Next(6);\ndie2 = roll.Next(6);\ndie3 = roll.Next(6);\ndie4 = roll.Next(6);\nlblDice1.ImageIndex = die1;\nlblDice2.ImageIndex = die2;\n//die roll for the first list\nfor (int rollNum = 1; rollNum&lt; 51; rollNum++)\n{\n    die1 = roll.Next(1, 7);\n    die2 = roll.Next(1, 7);\n    dieValue1[die1, die2] += 1; \n    lstRolls.Items.Add(\"Roll \" + rollNum + \" : \" + \"die 1 is a \" + die1 + \", \" + \"die 2 is a \" + die2);\n}\n//die roll for the second list \nfor (int rollNum1 = 1; rollNum1&lt; 51; rollNum1++)\n{                \n    die3 = roll.Next(1, 7);\n    die4 = roll.Next(1, 7);\n    dieValue2[die3, die4] += 1;\n    lstRolls2.Items.Add(\"Roll \" + rollNum1 + \" : \" + \"die 3 is a \" + die3 + \", \" + \"die 4 is a \" + die4);\n}\nfor (int r = 1; r &lt; 51; r++)\n{\n    lstRollDifference.Items.Add(\"First rolls :\" + dieValue1 + \" \" + \"Second rolls :\" + dieValue2);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "wpf", "mvvm", "mvvm-light"], "answers": [{"tags": [], "owner": {"reputation": 12251, "user_id": 1199684, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d997a71f1df34149c9166926baad0d37?s=128&d=identicon&r=PG", "display_name": "bytecode77", "link": "https://stackoverflow.com/users/1199684/bytecode77"}, "is_accepted": true, "score": 0, "last_activity_date": 1481151436, "last_edit_date": 1481151436, "creation_date": 1481150640, "answer_id": 41028718, "question_id": 41028717, "link": "https://stackoverflow.com/questions/41028717/mvvm-light-locator-register-all-derivates-of-viewmodelbase/41028718#41028718", "title": "MVVM Light Locator: Register all derivates of ViewModelBase", "body": "<p>Like usually, formulating a proper question required me dig in deeper, so after some time I came up with this code for the <code>ViewModelLocator</code> constructor. And I would like to share it, since I feel this is an at least <em>somewhat</em> common MVVM Light problem that I haven't found any solution to, yet.</p>\n\n<ul>\n<li>First, all types of <code>ViewModelBase</code> are retrieved from all assemblies.</li>\n<li>Then, we need to get the <code>Register</code> method of <code>SimpleIoc</code>. For now, I have no better idea than to \"find\" it using <code>.Where</code>. <em>Please feel free to improve this statement!</em></li>\n<li>Finally, I used <code>MakeGenericMethod</code> with the type of the <code>ViewModelBase</code> derivate.</li>\n</ul>\n\n<hr>\n\n<pre><code>Type[] viewModels = AppDomain.CurrentDomain.GetAssemblies()\n    .SelectMany(assembly =&gt; assembly.GetTypes())\n    .Where(type =&gt; typeof(ViewModelBase).IsAssignableFrom(type) &amp;&amp; type != typeof(ViewModelBase))\n    .ToArray();\n\nMethodInfo registerMethod = typeof(SimpleIoc)\n    .GetMethods()\n    .Where(method =&gt; method.Name == nameof(SimpleIoc.Default.Register) &amp;&amp; method.GetParameters().Length == 0 &amp;&amp; method.GetGenericArguments().Length == 1)\n    .First();\n\nforeach (Type viewModel in viewModels)\n{\n    registerMethod\n        .MakeGenericMethod(viewModel)\n        .Invoke(SimpleIoc.Default, new object[0]);\n</code></pre>\n\n<hr>\n\n<p>...And with the properties at the top of the ViewModelLocator class: I don't think it can be done with reflection and misusing XAML for this doesn't seem like good practice to me. But, to make life easier, I created a simple method.</p>\n\n<p>The <code>singleton</code> parameter defines whether or not the instance should be single or get a unique key each time. I defined the MainWindow as singleton in my application and the other ViewModels are not singletons in my scenario.</p>\n\n<pre><code>public WindowMainViewModel WindowMain =&gt; GetInstance&lt;WindowMainViewModel&gt;(true);\npublic WindowAboutViewModel WindowAbout =&gt; GetInstance&lt;WindowAboutViewModel&gt;(false);\n\nprivate static TService GetInstance&lt;TService&gt;(bool singleton)\n{\n    return ServiceLocator.Current.GetInstance&lt;TService&gt;(singleton ? null : Guid.NewGuid().ToString());\n}\n</code></pre>\n"}], "owner": {"reputation": 12251, "user_id": 1199684, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d997a71f1df34149c9166926baad0d37?s=128&d=identicon&r=PG", "display_name": "bytecode77", "link": "https://stackoverflow.com/users/1199684/bytecode77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 41028718, "answer_count": 1, "score": 0, "last_activity_date": 1481151436, "creation_date": 1481150640, "question_id": 41028717, "link": "https://stackoverflow.com/questions/41028717/mvvm-light-locator-register-all-derivates-of-viewmodelbase", "title": "MVVM Light Locator: Register all derivates of ViewModelBase", "body": "<p>This is my locator. For demonstration purposes, I stripped all ViewModels except two. Since I basically need to register all <code>: ViewModelBase</code> objects, I was thinking of using <strong>reflection</strong> to do this. The properties of the class itself can't be \"created\" like this, but the registration can. However, I'm struggling with reflection on generic methods here.</p>\n\n<pre><code>using GalaSoft.MvvmLight.Ioc;\nusing Microsoft.Practices.ServiceLocation;\nusing System;\n\nnamespace DevExplorer\n{\n    public class ViewModelLocator\n    {\n        public WindowMainViewModel WindowMain =&gt; SimpleIoc.Default.GetInstance&lt;WindowMainViewModel&gt;();\n        public WindowAboutViewModel WindowAbout =&gt; ServiceLocator.Current.GetInstance&lt;WindowAboutViewModel&gt;(GetKey());\n\n        public ViewModelLocator()\n        {\n            ServiceLocator.SetLocatorProvider(() =&gt; SimpleIoc.Default);\n\n            //REFACTOR: Get by reflection\n            SimpleIoc.Default.Register&lt;WindowMainViewModel&gt;();\n            SimpleIoc.Default.Register&lt;WindowAboutViewModel&gt;();\n        }\n\n        private string GetKey()\n        {\n            return Guid.NewGuid().ToString();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "service", "config", "app-config"], "comments": [{"owner": {"reputation": 2594, "user_id": 172885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c18b3d0059e9bc1b6763a8d4106bcf?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/172885/daniel"}, "edited": false, "score": 0, "creation_date": 1481156722, "post_id": 41028645, "comment_id": 69267100, "body": "couldn&#39;t you think of a better name for the configsection than &quot;config&quot;"}, {"owner": {"reputation": 8839, "user_id": 127888, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c7f6168ff9ca80386d1e7d2d8a9a59c9?s=128&d=identicon&r=PG", "display_name": "Scott Baker", "link": "https://stackoverflow.com/users/127888/scott-baker"}, "reply_to_user": {"reputation": 2594, "user_id": 172885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c18b3d0059e9bc1b6763a8d4106bcf?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/172885/daniel"}, "edited": false, "score": 0, "creation_date": 1481214343, "post_id": 41028645, "comment_id": 69295982, "body": "This is a mockup.  I&#39;m not really using &quot;aBoolean&quot; and &quot;aNumber&quot;, either."}], "answers": [{"comments": [{"owner": {"reputation": 8839, "user_id": 127888, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c7f6168ff9ca80386d1e7d2d8a9a59c9?s=128&d=identicon&r=PG", "display_name": "Scott Baker", "link": "https://stackoverflow.com/users/127888/scott-baker"}, "edited": false, "score": 0, "creation_date": 1481215380, "post_id": 41028902, "comment_id": 69296695, "body": "This was part of the problem, but I also needed to reorder the app.config as in the marked answer."}], "tags": [], "owner": {"reputation": 781, "user_id": 4160560, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4554e06d1c6c37e0494645b6127e1300?s=128&d=identicon&r=PG&f=1", "display_name": "CJC", "link": "https://stackoverflow.com/users/4160560/cjc"}, "is_accepted": false, "score": 1, "last_activity_date": 1481151591, "creation_date": 1481151591, "answer_id": 41028902, "question_id": 41028645, "link": "https://stackoverflow.com/questions/41028645/reading-a-configurationsection/41028902#41028902", "title": "Reading a ConfigurationSection", "body": "<p>Possibly, although didn't check, </p>\n\n<pre><code>type=\"MyNamespace.MyConfigurationSection\"/&gt;\n</code></pre>\n\n<p>Should be</p>\n\n<pre><code>type=\"&lt;Namespace.ClassName&gt;,&lt;Namespace&gt;\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7439, "user_id": 201242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bf77719a8237bd0272d6b41ed2adb1b3?s=128&d=identicon&r=PG", "display_name": "TheGeekYouNeed", "link": "https://stackoverflow.com/users/201242/thegeekyouneed"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152872, "creation_date": 1481152872, "answer_id": 41029145, "question_id": 41028645, "link": "https://stackoverflow.com/questions/41028645/reading-a-configurationsection/41029145#41029145", "title": "Reading a ConfigurationSection", "body": "<p>config is a reserved word and cannot be used for the name of a configuration section. You also shouldn't name a variable Boolean.</p>\n\n<p>Try this following example:</p>\n\n<pre><code>using System.Configuration;\n\nnamespace ConfigSectionSample\n{\n    internal class MyConfigurationSection : ConfigurationSection\n    {\n        public static MyConfigurationSection Current\n        {\n            get\n            {\n                return (MyConfigurationSection)ConfigurationManager.GetSection(\"myConfig\");\n            }\n        }\n\n        [ConfigurationProperty(\"aNumber\", IsRequired = true)]\n        public int Number\n        {\n            get\n            {\n                return (int)this[\"aNumber\"];\n            }\n        }\n\n        [ConfigurationProperty(\"aBoolean\", IsRequired = true)]\n        public bool Boolean\n        {\n            get\n            {\n                return (bool)this[\"aBoolean\"];\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>With the following app,config</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"myConfig\" type=\"ConfigSectionSample.MyConfigurationSection, ConfigSectionSample\"&gt;&lt;/section&gt;\n  &lt;/configSections&gt;\n\n  &lt;startup&gt; \n        &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.5.2\" /&gt;\n    &lt;/startup&gt;\n\n  &lt;myConfig aNumber=\"1\" aBoolean=\"false\" /&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>And get the values like this:</p>\n\n<pre><code>        Console.WriteLine(\"Number: \" + MyConfigurationSection.Current.Number);\n        Console.WriteLine(\"Boolean: \" + MyConfigurationSection.Current.Boolean);\n        Console.ReadLine();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8839, "user_id": 127888, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c7f6168ff9ca80386d1e7d2d8a9a59c9?s=128&d=identicon&r=PG", "display_name": "Scott Baker", "link": "https://stackoverflow.com/users/127888/scott-baker"}, "edited": false, "score": 0, "creation_date": 1481215330, "post_id": 41029633, "comment_id": 69296665, "body": "You were right on both points.  Rearranged things <i>and</i> changed the &#39;type&#39; attribute and it works like a charm.  Well done, mate."}], "tags": [], "owner": {"reputation": 26, "user_id": 7264910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cb35ac56527c9d14e074591cdce070c?s=128&d=identicon&r=PG&f=1", "display_name": "Coder", "link": "https://stackoverflow.com/users/7264910/coder"}, "is_accepted": true, "score": 1, "last_activity_date": 1481156017, "creation_date": 1481156017, "answer_id": 41029633, "question_id": 41028645, "link": "https://stackoverflow.com/questions/41028645/reading-a-configurationsection/41029633#41029633", "title": "Reading a ConfigurationSection", "body": "<p>The catch here is, you have to use the type value as \"Namespace.ClassName, Namespace\" in section configuration in app.config and more importantly the configSections must be the first child of the root configuration element in your app.config</p>\n\n<p>Below configuration might work for you:</p>\n\n<pre><code>&lt;configuration&gt;\n      &lt;!-- &lt;configSections&gt; is moved to first child of &lt;configuration&gt; --&gt;\n      &lt;configSections&gt;\n        &lt;section name=\"config\"\n                 type=\"MyNamespace.MyConfigurationSection, MyNamespace\"/&gt;\n      &lt;/configSections&gt;\n\n      &lt;config aNumber=\"1\"\n              aBoolean=\"false\"/&gt;\n\n      &lt;startup&gt;\n        &lt;supportedRuntime sku=\".NETFramework,Version=v4.0\"\n                          version=\"v4.0\"/&gt;\n      &lt;/startup&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}], "owner": {"reputation": 8839, "user_id": 127888, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c7f6168ff9ca80386d1e7d2d8a9a59c9?s=128&d=identicon&r=PG", "display_name": "Scott Baker", "link": "https://stackoverflow.com/users/127888/scott-baker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 41029633, "answer_count": 3, "score": 0, "last_activity_date": 1481156017, "creation_date": 1481150277, "question_id": 41028645, "link": "https://stackoverflow.com/questions/41028645/reading-a-configurationsection", "title": "Reading a ConfigurationSection", "body": "<p>I'm writing a Windows service that needs some information from the app.config - I know I could use <code>AppSettings</code>, but I'm trying to understand config sections a little better.</p>\n\n<p>I've modified my App.Config:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;startup&gt;\n    &lt;supportedRuntime sku=\".NETFramework,Version=v4.0\"\n                      version=\"v4.0\"/&gt;\n  &lt;/startup&gt;\n\n  &lt;configSections&gt;\n    &lt;section name=\"config\"\n             type=\"MyNamespace.MyConfigurationSection\"/&gt;\n  &lt;/configSections&gt;\n\n  &lt;config aNumber=\"1\"\n          aBoolean=\"false\"/&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>and created the following class:</p>\n\n<pre><code>public sealed class MyConfigurationSection : ConfigurationSection\n{\n    [ConfigurationProperty(\"aNumber\", DefaultValue = 1, IsRequired = false)]\n    public int Number\n    {\n        get { return (int) this[\"aNumber\"]; }\n        set { this[\"aNumber\"] = value; }\n    }\n\n    [ConfigurationProperty(\"aBoolean\", DefaultValue = false, IsRequired = false)]\n    public bool Boolean\n    {\n        get { return (bool) this[\"aBoolean\"]; }\n        set { this[\"aBoolean\"] = value; }\n    }\n}\n</code></pre>\n\n<p>and I'm trying to access it like this:</p>\n\n<pre><code>public MyConfigurationSection ConfigSection\n{\n    get\n    {\n        var configurationSection = Configuration.GetSection(\"config\");\n        return (MyConfigurationSection) configurationSection;\n    }\n}\n\nprivate static Configuration Configuration\n{\n    get { return ConfigurationManager.OpenExeConfiguration(ConfigurationUserLevel.None); }\n}\n</code></pre>\n\n<p>Everything works fine until I get to the <code>(MyConfigurationSection) configurationSection</code> cast.  I'm getting back a <code>DefaultSection</code> from my call to <code>GetSection()</code>, and the cast fails.  </p>\n\n<p>Where have I gone astray?</p>\n"}, {"tags": ["c#", "vb.net", "enumeration", "file-search"], "comments": [{"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1481150920, "post_id": 41028532, "comment_id": 69265007, "body": "Reverse your foreach&#39;s. Right now you do <code>foreach (fileName in list){ foreach (file in EnumerateFiles){ }}</code>, but you could just reverse them to  <code>foreach (file in EnumerateFiles) { foreach (fileName in list){ }}</code>. You&#39;ll have to change the architecture of what your methods do and how you call them, but logically the double foreach is all your doing and if the code was all inlined you could trivially reverse the order of the <code>foreach</code>&#39;s to enumerate only once."}, {"owner": {"reputation": 55, "user_id": 4048161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54dd3d7720f51a4687387e634f54f7fe?s=128&d=identicon&r=PG&f=1", "display_name": "Jayarikahs", "link": "https://stackoverflow.com/users/4048161/jayarikahs"}, "reply_to_user": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1481152622, "post_id": 41028532, "comment_id": 69265714, "body": "Thanks for the reply.  If I reversed the order, I will not know what &quot;folder path&quot; to pass for the ForEach to search through."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 4048161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54dd3d7720f51a4687387e634f54f7fe?s=128&d=identicon&r=PG&f=1", "display_name": "Jayarikahs", "link": "https://stackoverflow.com/users/4048161/jayarikahs"}, "edited": false, "score": 0, "creation_date": 1481154611, "post_id": 41029352, "comment_id": 69266437, "body": "I see what you mean now.  It makes more sense to compile the lists based on file names first and then pass it in 1 go.  Optionally, because I wanted to find a specific file in a specific folder, I re-wrote it to use FileInfo(filename).Exists.  I will test your code and will see how both options perform against 1,000s of files.  Thanks again for all your help."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "reply_to_user": {"reputation": 55, "user_id": 4048161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54dd3d7720f51a4687387e634f54f7fe?s=128&d=identicon&r=PG&f=1", "display_name": "Jayarikahs", "link": "https://stackoverflow.com/users/4048161/jayarikahs"}, "edited": false, "score": 0, "creation_date": 1481154987, "post_id": 41029352, "comment_id": 69266558, "body": "If you aren&#39;t reusing the <code>FileInfo</code> then it may be more performant to just do a <code>File.Exists()</code> as it doesn&#39;t have to build up an entire <code>FileInfo</code> view of the file. Also I don&#39;t know much about data tables but if <code>row(&quot;FILENAME&quot;)</code> does an actual lookup and if you know the rows aren&#39;t changing then it should be more performant to store the value once and recall the stored value: <code>string thisFilename = row(&quot;FILENAME&quot;)</code>. I.e., <code>row(&quot;FILENAME&quot;)</code> may take 2 seconds to run each time, but recalling the stored variable is basically free."}, {"owner": {"reputation": 55, "user_id": 4048161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54dd3d7720f51a4687387e634f54f7fe?s=128&d=identicon&r=PG&f=1", "display_name": "Jayarikahs", "link": "https://stackoverflow.com/users/4048161/jayarikahs"}, "edited": false, "score": 0, "creation_date": 1481324564, "post_id": 41029352, "comment_id": 69347501, "body": "I tested both FileInfo().Exists and File.Exists() and the results are very similar.  Sometimes FileInfo was faster and other times File was faster, but with each trial it was only by 1 second.  I tested against 1,000 give or take records.  Perhaps if the volume was much larger, the result may differ.  Thanks again for all your help!"}], "tags": [], "owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "is_accepted": true, "score": 1, "last_activity_date": 1481154481, "last_edit_date": 1481154481, "creation_date": 1481154098, "answer_id": 41029352, "question_id": 41028532, "link": "https://stackoverflow.com/questions/41028532/is-it-possible-to-reduce-number-of-file-numeration/41029352#41029352", "title": "Is it possible to reduce number of file numeration?", "body": "<p>You are not enumerating 6 times in your example, you are enumerating folder <code>A</code> 3 times, folder <code>B</code> 2 times and folder <code>C</code> 1 time. To reduce these extra enumerations you could pre-process the data table to build lists of filenames for each folder, then modify your method to work on a list of filenames instead of a single filename. I don't write in VB so here's an answer that mashes in c# code (sorry I couldn't fit my ideas into a comment, this is a poor answer as it doesn't compile).</p>\n\n<p>Note that all I did to your method was add in <code>foreach (var filename in listOfFileNames)</code> and changed the signature to accept a <code>List&lt;string&gt; listOfFileNames</code> instead of just <code>string filename</code>, and the caller now builds lists and finishes the datatable <code>foreach</code> completely before calling the method once for each folder.</p>\n\n<pre><code>If DataTableofFiles IsNot Nothing AndAlso DataTableofFiles.Rows.Count &gt; 0 Then \n\n  List&lt;string&gt; allAFileNames = new List&lt;string&gt;();\n  List&lt;string&gt; allBFileNames = new List&lt;string&gt;();\n  List&lt;string&gt; allCFileNames = new List&lt;string&gt;();\n\n  For Each row as DataRow In DataTableofFiles.Rows\n    If row(\"FILENAME\").ToString.StartsWith(\"a\") Then\n      Dim a_WriteResultstoA as String = \"a.csv\"\n\n      allAFileNames.Add(row(\"FILENAME\"));\n\n    ElseIf row(\"FILENAME\").ToString.StartsWith(\"b\") Then\n      Dim b_WriteResultstoB as String = \"b.csv\"\n\n      allBFileNames.Add(row(\"FILENAME\"));\n\n    ElseIf row(\"FILENAME\").ToString.StartsWith(\"C\") Then\n      Dim c_WriteResultstoC as String = \"c.csv\"\n\n      allCFileNames.Add(row(\"FILENAME\"));\n\n    End If\n  Next\n\n  if (allAFileNames.Count &gt; 0)\n  {\n        functionfindfiles(A_folder, allAFileNames, a_WriteResultstoA);\n  }\n\n  if (allBFileNames.Count &gt; 0)\n  {\n        functionfindfiles(B_folder, allBFileNames, b_WriteResultstoB)\n  }\n\n  if (allAFileNames.Count &gt; 0)\n  {\n        functionfindfiles(C_folder, allCFileNames, c_WriteResultstoC)\n  }\n\nEnd If\n\nPrivate Sub functionfindfiles(sourcefolder As String, List&lt;string&gt; listOfFileNames, writetofile As String)\n        Try\n            For Each f As String In Directory.EnumerateFiles(sourcefolder, \"*.*\", SearchOption.AllDirectories)  '&lt;-- file enumeration\n\n                    foreach (var filename in listOfFileNames)\n                    {\n\n                    If Path.GetFileName(f).Equals(filename, StringComparison.OrdinalIgnoreCase) Then\n                        Using fs As New FileStream(writetofile, FileMode.Append, FileAccess.Write, FileShare.Write)\n                            Using sw As StreamWriter = New StreamWriter(fs)\n                                If Not New FileInfo(writetofile).Length &gt; 0 Then\n                                    For i As Integer = 0 To DataTableofFiles.Columns.Count - 1 Step 1\n                                        sw.Write(DataTableofFiles.Columns(i).ToString)\n\n                                        If i &lt; DataTableofFiles.Columns.Count - 1 Then\n                                            sw.Write(\",\")\n                                        End If\n                                    Next\n\n                                    sw.WriteLine()\n                                End If\n\n                                For Each row As DataRow In DataTableofFiles.Rows\n                                    If row(\"FILENAME\").ToString = filename Then\n                                        For i As Integer = 0 To DataTableofFiles.Columns.Count - 1 Step 1\n                                            If Not Convert.IsDBNull(row(i)) Then\n                                                sw.Write(row(i).ToString.Replace(vbLf, \"\").Replace(\",\", \";\"))\n                                            End If\n\n                                            If i &lt; DataTableofFiles.Columns.Count - 1 Then\n                                                sw.Write(\",\")\n                                            End If\n                                        Next\n\n                                        sw.WriteLine()\n                                    End If\n                                Next\n                            End Using\n                        End Using\n                    Else\n                        'write results that are not found here to a file\n                    End If\n                    }\n            Next\n        Catch ex As Exception\n    MessageBox.Show(ex.Message)\n        End Try\nEnd Sub\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 4048161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54dd3d7720f51a4687387e634f54f7fe?s=128&d=identicon&r=PG&f=1", "display_name": "Jayarikahs", "link": "https://stackoverflow.com/users/4048161/jayarikahs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 41029352, "answer_count": 1, "score": 0, "last_activity_date": 1481154481, "creation_date": 1481149712, "last_edit_date": 1481152669, "question_id": 41028532, "link": "https://stackoverflow.com/questions/41028532/is-it-possible-to-reduce-number-of-file-numeration", "title": "Is it possible to reduce number of file numeration?", "body": "<p>I wrote this in VB.NET, but I am comfortable with C# as well.  I have a list of files that I want to find on a Windows file system.  Based on the file name, I will need to look in a different directory.  The list of files that I have is a list that I compiled at the beginning of the program (which works) and it is stored in a DataTable that is not sorted.  Here is my approach.</p>\n\n<p>DataTable List of Files (this can vary from day to day, sometimes in the 1,000s+)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>- a_111.txt\n- a_222.txt\n- b_333.txt\n- a_444.txt\n- c_555.txt\n- b_666.txt\n</code></pre>\n\n<p>Directories to look into based on file name</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>C:\\a\\ -- for files begin with a (variable name is A_folder)\nC:\\b\\ -- for files begin with b (variable name is B_folder)\nC:\\c\\ -- for files begin with c (variable name is C_folder)\n</code></pre>\n\n<p>Code:</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>If DataTableofFiles IsNot Nothing AndAlso DataTableofFiles.Rows.Count &gt; 0 Then \n  For Each row as DataRow In DataTableofFiles.Rows\n    If row(\"FILENAME\").ToString.StartsWith(\"a\") Then\n      Dim a_WriteResultstoA as String = \"a.csv\"\n      functionfindfiles(A_folder, row(\"FILENAME\").ToString, a_WriteResultstoA)\n    ElseIf row(\"FILENAME\").ToString.StartsWith(\"b\") Then\n      Dim b_WriteResultstoB as String = \"b.csv\"\n      functionfindfiles(B_folder, row(\"FILENAME\").ToString, b_WriteResultstoB)\n    ElseIf row(\"FILENAME\").ToString.StartsWith(\"C\") Then\n      Dim c_WriteResultstoC as String = \"c.csv\"\n      functionfindfiles(C_folder, row(\"FILENAME\").ToString, c_WriteResultstoC)\n    End If\n  Next\nEnd If\n\nPrivate Sub functionfindfiles(sourcefolder As String, filename as String, writetofile As String)\n        Try\n            For Each f As String In Directory.EnumerateFiles(sourcefolder, \"*.*\", SearchOption.AllDirectories)  '&lt;-- file enumeration\n                    If Path.GetFileName(f).Equals(filename, StringComparison.OrdinalIgnoreCase) Then\n                        Using fs As New FileStream(writetofile, FileMode.Append, FileAccess.Write, FileShare.Write)\n                            Using sw As StreamWriter = New StreamWriter(fs)\n                                If Not New FileInfo(writetofile).Length &gt; 0 Then\n                                    For i As Integer = 0 To DataTableofFiles.Columns.Count - 1 Step 1\n                                        sw.Write(DataTableofFiles.Columns(i).ToString)\n\n                                        If i &lt; DataTableofFiles.Columns.Count - 1 Then\n                                            sw.Write(\",\")\n                                        End If\n                                    Next\n\n                                    sw.WriteLine()\n                                End If\n\n                                For Each row As DataRow In DataTableofFiles.Rows\n                                    If row(\"FILENAME\").ToString = filename Then\n                                        For i As Integer = 0 To DataTableofFiles.Columns.Count - 1 Step 1\n                                            If Not Convert.IsDBNull(row(i)) Then\n                                                sw.Write(row(i).ToString.Replace(vbLf, \"\").Replace(\",\", \";\"))\n                                            End If\n\n                                            If i &lt; DataTableofFiles.Columns.Count - 1 Then\n                                                sw.Write(\",\")\n                                            End If\n                                        Next\n\n                                        sw.WriteLine()\n                                    End If\n                                Next\n                            End Using\n                        End Using\n                    Else\n                        'write results that are not found here to a file\n                    End If\n            Next\n        Catch ex As Exception\n    MessageBox.Show(ex.Message)\n        End Try\nEnd Sub\n</code></pre>\n\n<p>In this case, the Enumeration on the file system will occur 6 times.  The execution can take a really long time if I have a lot of files in the directories.  Is there a better approach that will reduce the amount of file enumerations?  Or other areas in the code that can be improved to reduce additional operations being performed more than needed?  Any advice is greatly appreciated.  Thanks!</p>\n"}, {"tags": ["c#", ".net", "oop", "inheritance", "polymorphism"], "comments": [{"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "edited": false, "score": 0, "creation_date": 1481150362, "post_id": 41028486, "comment_id": 69264782, "body": "Do you know AutoMapper?"}, {"owner": {"reputation": 155, "user_id": 4159588, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d4fadd5424f1f2923d84010dc2f7af61?s=128&d=identicon&r=PG&f=1", "display_name": "notsoobvious", "link": "https://stackoverflow.com/users/4159588/notsoobvious"}, "reply_to_user": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "edited": false, "score": 0, "creation_date": 1481151732, "post_id": 41028486, "comment_id": 69265355, "body": "@Mat&#237;asFidemraizer I do. However I removed it from the references list as it seemed overkill to do something which was essentially &quot;clone object A to object A&quot;, whereas AutoMapper has stuff like &quot;clone object A to object B and choose what to do with the differences&quot; - that bit is where I think it really adds value."}, {"owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "edited": false, "score": 1, "creation_date": 1481152348, "post_id": 41028486, "comment_id": 69265614, "body": "I&#39;m not sure if it&#39;s even more overkill re-inventing the wheel. Perhaps you use a 10% of what AutoMapper can do, but you still save your time and you focus on other issues"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 4159588, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d4fadd5424f1f2923d84010dc2f7af61?s=128&d=identicon&r=PG&f=1", "display_name": "notsoobvious", "link": "https://stackoverflow.com/users/4159588/notsoobvious"}, "edited": false, "score": 0, "creation_date": 1499041364, "post_id": 44857807, "comment_id": 76731041, "body": "I haven&#39;t tested it yet but up-voting and marking as the answer for the effort involved and the depth/detail of your response. Thank you sir!"}], "tags": [], "owner": {"reputation": 519, "user_id": 7204141, "user_type": "registered", "profile_image": "https://graph.facebook.com/1158123157557189/picture?type=large", "display_name": "Roman Ananyev", "link": "https://stackoverflow.com/users/7204141/roman-ananyev"}, "is_accepted": true, "score": 1, "last_activity_date": 1498888299, "creation_date": 1498888299, "answer_id": 44857807, "question_id": 41028486, "link": "https://stackoverflow.com/questions/41028486/c-simplify-and-perhaps-generalize-my-object-cloning-method/44857807#44857807", "title": "C# simplify and perhaps generalize my object cloning method", "body": "<p>I think you're suspecting that the responsibility of cloning the object and mutate its state after it is cloned should be separated - since you're facing with the similar task again (i mean UserCommand).</p>\n\n<p>I would do the following in this situation:</p>\n\n<p>Create a mutation interface:</p>\n\n<pre><code>public interface ICopyCommandMutation\n{\n  void Mutate(Command target); \n}\n</code></pre>\n\n<p>For the sake of extensability i would create the default muate implementation:</p>\n\n<pre><code>public class NoMutation : ICopyCommandMutation\n{\n  public void Mutate(Command target) {}\n}\n</code></pre>\n\n<p>Create the CopyableCommand class and move the DeepCopy() method there (you should also inherit FloatCommand from CopyableCommand):</p>\n\n<pre><code>public CopyableCommand : Command \n{\n   public CopyableCommand DeepCopy(ICopyCommandMutation commandMutation = null)\n   {\n      var newCommand = (CopyableCommand)MemberwiseClone();\n      if (commandMutation == null) commandMutation = new NoMutation();\n      commandMutation.Mutate(newCommand);\n      return newCommand;\n   }\n}\n</code></pre>\n\n<p>Now all the CopyableCommand inheritors can be copied with 'mutations' - you just need to implement the class. For example the FloatCommand 'mutations' from your question:</p>\n\n<pre><code>public class ChangeLocationRecountProducts : ICopyCommandMutation\n{\n  // these fields should be initialized some way (constructor or getter/setters - you decide\n  LocationHeaderDTO locHeader;\n  string commandId;\n  List&lt;FloatProductDetailsDTO&gt; recountProducts;\n\n  public void Mutate(Command floatCommand)\n  {\n     var fc = floatCommand as FloatCommand;\n     if (fc == null) { /* handle problems here */ }\n     fc.Location = locHeader ?? fc.Location;\n     fc.CommandId = commandId ?? fc.CommandId;\n     fc.RecountProducts = recountProuducts ?? fc.RecountProducts;\n  }\n}\n</code></pre>\n\n<p>Here is the usage:</p>\n\n<pre><code>var clrp = new ChangeLocationRecountProducts();\n// ... setting up clrp\n_tCheckinCommand = _pTCommand.DeepCopy(clrp);\n</code></pre>\n\n<p>Now if you need to 'mutate' the UserCommand - you can do the separate mutation class for it and keep the mutation logic there. The ability to make different mutations in different sutations (just by defining the separate mutation classes) comes for free.\nThe only problem i can see here - is that you probably cannot create CopyableCommand and inherit other commands from it (3rd party library?). The solution would be to use Castle dynamic proxy.</p>\n\n<p>I haven't used the Automapper but i suspect that it is doing something similar. </p>\n\n<p>The solution is not 'lines-of-code optimal' - but you would benefit from it if you have to mutate large number of command classes when copying instances.</p>\n"}], "owner": {"reputation": 155, "user_id": 4159588, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/d4fadd5424f1f2923d84010dc2f7af61?s=128&d=identicon&r=PG&f=1", "display_name": "notsoobvious", "link": "https://stackoverflow.com/users/4159588/notsoobvious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 2, "accepted_answer_id": 44857807, "answer_count": 1, "score": 4, "last_activity_date": 1498888299, "creation_date": 1481149473, "question_id": 41028486, "link": "https://stackoverflow.com/questions/41028486/c-simplify-and-perhaps-generalize-my-object-cloning-method", "title": "C# simplify and perhaps generalize my object cloning method", "body": "<p>I've written a method:</p>\n\n<pre><code>class CopyableFloatCommand : FloatCommand\n{\n    public CopyableFloatCommand DeepCopy(LocationHeaderDTO locHeader, string commandId,\n        List&lt;FloatProductDetailsDTO&gt; recountProuducts)\n    {\n        var newCommand = (CopyableFloatCommand)MemberwiseClone();\n        newCommand.Location = locHeader ?? newCommand.Location;\n        newCommand.CommandId = commandId ?? newCommand.CommandId;\n        newCommand.RecountProducts = recountProuducts ?? newCommand.RecountProducts;\n        return newCommand;\n    }\n}\n</code></pre>\n\n<p>And am then calling it via: </p>\n\n<pre><code>_tCheckinCommand = _pTCommand.DeepCopy(stagingLocHeadDto, SCICommand,\n    new List&lt;FloatProductDetailsDTO&gt;(_pTCommand.MoveProducts));\n</code></pre>\n\n<p>In order to deepcopy an object of type FloatCommand. </p>\n\n<p>As the MemberwiseClone() is a protected method, it's got to be called the way you see above - one cannot parse in a FloatCommand type in the method parameter and call it via fc.MemberwiseClone(), for example. As my method ought to work on a FloatCommand type, I've created a new nested class CopyableFloatCommand which inherits from FloatCommand. DeepCopy method then shallow clones the FloatCommand, casts to the child type and changes some properties as/when needed.</p>\n\n<p>Creating a new class specifically for this purpose seems a bit clunky and I didnt' see a more obvious way of writing it at the time. In terms of lines-of-code, would there be a simpler way of employing a deepcopy such as the above? What about if another class, UserCommand, attempted to deepcopy a User object? UserComand would be a sibling to FloatCommand such that they both inherit from Command. The method would have different parameters parsed for the different types (although I can just remove the parameters altogether and use the instance variables if need be) as the different sub-types have slightly different properties. </p>\n\n<p>In light of this is there a more generic method of writing the DeepCopy method, to be available for access for all the Command types in order to avoid some code duplication, given the above constraints?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "android", "xamarin", "xamarin.android"], "comments": [{"owner": {"reputation": 191, "user_id": 1230268, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4d3c408e5d558841ede011bd40906e1f?s=128&d=identicon&r=PG", "display_name": "user1230268", "link": "https://stackoverflow.com/users/1230268/user1230268"}, "edited": false, "score": 0, "creation_date": 1481536126, "post_id": 41028484, "comment_id": 69400340, "body": "did you find this one: <a href=\"https://developer.xamarin.com/api/member/Android.Media.MediaPlayer.SetVolume/\" rel=\"nofollow noreferrer\">developer.xamarin.com/api/member/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 6916413, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/22139d6f70ce27830b1094884ec4cf03?s=128&d=identicon&r=PG&f=1", "display_name": "Daron", "link": "https://stackoverflow.com/users/6916413/daron"}, "is_accepted": true, "score": 0, "last_activity_date": 1483567054, "creation_date": 1483567054, "answer_id": 41473919, "question_id": 41028484, "link": "https://stackoverflow.com/questions/41028484/how-do-i-get-the-scanner-media-stream-on-an-android-mc40-using-c-and-xamarin/41473919#41473919", "title": "How do I get the scanner media stream on an android MC40 using C# and xamarin?", "body": "<p>motorola/zebra said this stream should not exist. Therefore (in my own opinion), there is probably not a way to interact with this stream using programming. </p>\n"}], "owner": {"reputation": 113, "user_id": 6916413, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/22139d6f70ce27830b1094884ec4cf03?s=128&d=identicon&r=PG&f=1", "display_name": "Daron", "link": "https://stackoverflow.com/users/6916413/daron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 41473919, "answer_count": 1, "score": -2, "last_activity_date": 1483567054, "creation_date": 1481149471, "last_edit_date": 1481231164, "question_id": 41028484, "link": "https://stackoverflow.com/questions/41028484/how-do-i-get-the-scanner-media-stream-on-an-android-mc40-using-c-and-xamarin", "title": "How do I get the scanner media stream on an android MC40 using C# and xamarin?", "body": "<p><a href=\"https://i.stack.imgur.com/PGQYe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PGQYe.png\" alt=\"enter image description here\"></a></p>\n\n<p>How do I access the scanner stream on a Motorola MC40N0, using code in C# and Xamarin Android? How do I get the identifier that corresponds to it?</p>\n\n<p>I know that I can get notifications by using <code>Stream.Notification</code>. I can also access alarms by using <code>Stream.Alarms</code>. I want to know how to get the scanner media stream. I am trying to change the volume of the scanner stream, so I need the <code>Stream</code> value to pass to <code>SetStreamVolume()</code>:</p>\n\n<pre><code>audioManger.SetStreamVolume(\n    /* what stream goes here? */,\n    volume,\n    VolumeNotificationFlags.AllowRingerModes\n);\n</code></pre>\n"}, {"tags": ["c#", "automapper"], "comments": [{"owner": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1481149652, "post_id": 41028478, "comment_id": 69264464, "body": "Looks like your <code>Repository.Get()</code> method is failing when it is actually being executed in the <code>ToList()</code> call. &quot;LastUpdUs&quot; is an invalid column name; it&#39;s not actually AutoMapper."}, {"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1481149658, "post_id": 41028478, "comment_id": 69264466, "body": "I saw some entity framework errors in there:  <code>Invalid column name: LastUpdUs</code>"}, {"owner": {"reputation": 103, "user_id": 7061969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa6a40115d8b3cb1ae3483cdddf5a4?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar J.", "link": "https://stackoverflow.com/users/7061969/kumar-j"}, "edited": false, "score": 0, "creation_date": 1481149713, "post_id": 41028478, "comment_id": 69264489, "body": "I also think so, but it is not. Repository.Get() returns all columns with information. EF query is <code>SELECT      [Extent1].[Id] AS [Id],      [Extent1].[CouncilId] AS [CouncilId],      [Extent1].[Name] AS [Name],      [Extent1].[LastUpdDt] AS [LastUpdDt],      [Extent1].[LastUpdUs] AS [LastUpdUs]     FROM [dbo].[Animal] AS [Extent1]</code> and it returns proper info"}, {"owner": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1481149817, "post_id": 41028478, "comment_id": 69264543, "body": "@KumarJ. add the <code>.ToList()</code> call to your first line, so it reads as <code>Repository.Get().ToList()</code>. See if that causes an error on that line."}, {"owner": {"reputation": 103, "user_id": 7061969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa6a40115d8b3cb1ae3483cdddf5a4?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar J.", "link": "https://stackoverflow.com/users/7061969/kumar-j"}, "reply_to_user": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1481149907, "post_id": 41028478, "comment_id": 69264593, "body": "@WillRay I did it. Everything is OK. I can show you screen in debug mode"}, {"owner": {"reputation": 103, "user_id": 7061969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa6a40115d8b3cb1ae3483cdddf5a4?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar J.", "link": "https://stackoverflow.com/users/7061969/kumar-j"}, "reply_to_user": {"reputation": 9503, "user_id": 4270650, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88ba8368f50d9a96716c7205195df444?s=128&d=identicon&r=PG", "display_name": "Will Ray", "link": "https://stackoverflow.com/users/4270650/will-ray"}, "edited": false, "score": 0, "creation_date": 1481150193, "post_id": 41028478, "comment_id": 69264707, "body": "@WillRay please look <a href=\"https://s17.postimg.org/gpgi6nerz/temp.png\" rel=\"nofollow noreferrer\">s17.postimg.org/gpgi6nerz/temp.png</a>"}, {"owner": {"reputation": 103, "user_id": 7061969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa6a40115d8b3cb1ae3483cdddf5a4?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar J.", "link": "https://stackoverflow.com/users/7061969/kumar-j"}, "reply_to_user": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1481150219, "post_id": 41028478, "comment_id": 69264721, "body": "@ps2goat <a href=\"https://s17.postimg.org/gpgi6nerz/temp.png\" rel=\"nofollow noreferrer\">s17.postimg.org/gpgi6nerz/temp.png</a>"}, {"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1481151196, "post_id": 41028478, "comment_id": 69265142, "body": "are you still getting errors? if so, update your question with the new info."}, {"owner": {"reputation": 103, "user_id": 7061969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa6a40115d8b3cb1ae3483cdddf5a4?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar J.", "link": "https://stackoverflow.com/users/7061969/kumar-j"}, "edited": false, "score": 0, "creation_date": 1481153196, "post_id": 41028478, "comment_id": 69265928, "body": "Of course yes! Do you see any solution?"}], "owner": {"reputation": 103, "user_id": 7061969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6fa6a40115d8b3cb1ae3483cdddf5a4?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar J.", "link": "https://stackoverflow.com/users/7061969/kumar-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481150758, "creation_date": 1481149447, "last_edit_date": 1481150758, "question_id": 41028478, "link": "https://stackoverflow.com/questions/41028478/automapper-and-inheritence", "title": "Automapper and inheritence", "body": "<p>I have a following structure</p>\n\n<pre><code>public abstract class BaseEntity\n{\n    public virtual int Id { get; set; }\n    public virtual DateTime LastUpdDt { get; set; }\n    public virtual string LastUpdUs { get; set; }\n}\npublic abstract class BaseDictionary : BaseEntity\n{\n    public virtual string Name { get; set; }\n}\npublic abstract class BaseDictionaryCouncil : BaseDictionary\n{\n    public virtual int CouncilId { get; set; }\n\n    //FK\n    public virtual Council Council { get; set; }\n}\npublic class Animal : BaseDictionaryCouncil {}\n</code></pre>\n\n<p>Council  entity is like:</p>\n\n<pre><code>public class Council : BaseEntity\n{\n    public int? ParentId { get; set; }\n    public string Name { get; set; }\n    public string ShortName { get; set; }\n\n    //Navigation\n    public virtual ICollection&lt;Animal&gt; Animals { get; set; }\n}\n</code></pre>\n\n<p>So <code>Animal</code> is my DAO. I have also DTO's with the same structure but called <code>[NameEntity]Entity</code> (AnimalEntity). Then I'm trying to map it using Automapper:</p>\n\n<pre><code>var entities = Repository.Get();\nvar config = new MapperConfiguration(cfg =&gt;\n{\n    cfg.CreateMap&lt;Animal, AnimalEntity&gt;();\n});\nvar mapper = config.CreateMapper();\nvar entitiesModel = mapper.Map&lt;List&lt;Animal&gt;, List&lt;AnimalEntity&gt;&gt;(entities.ToList());\n</code></pre>\n\n<p>but in the last line I got this a huge error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nCx37.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nCx37.png\" alt=\"error image\"></a></p>\n\n<p>Please help me, what i'm doing wrong. Let me know if I have to add more informations. Thanks</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I notice that if I commented out here then work fine but I cant do that:</p>\n\n<pre><code>public abstract class BaseDictionaryCouncil : BaseDictionary\n{\n    public virtual int CouncilId { get; set; }\n\n    //FK\n    //public virtual Council Council { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "animation", "eventtrigger"], "comments": [{"owner": {"reputation": 2141, "user_id": 2029607, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/721e7dc1d51f729a9e59f50ed9094d6c?s=128&d=identicon&r=PG", "display_name": "XAMlMAX", "link": "https://stackoverflow.com/users/2029607/xamlmax"}, "edited": false, "score": 0, "creation_date": 1481151744, "post_id": 41028462, "comment_id": 69265362, "body": "In your grid use a <code>DataTrigger</code> to begin your <code>Storyboard</code>, based on a <code>ToggleButton</code> property, I think it&#39;s called <code>Checked</code>. The words with background are what you need to &quot;Google&quot; from there you will get what you need. Another keyword for you would be <code>RelativeSource</code>. HTH"}, {"owner": {"reputation": 427, "user_id": 1324097, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/lzG5t.jpg?s=128&g=1", "display_name": "Oyiwai", "link": "https://stackoverflow.com/users/1324097/oyiwai"}, "edited": false, "score": 0, "creation_date": 1481187393, "post_id": 41028462, "comment_id": 69277898, "body": "also- <a href=\"http://stackoverflow.com/questions/1127933/wpf-databinding-how-do-i-access-the-parent-data-context\" title=\"wpf databinding how do i access the parent data context\">stackoverflow.com/questions/1127933/&hellip;</a>"}, {"owner": {"reputation": 39, "user_id": 5480715, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1202120433147855/picture?type=large", "display_name": "\u0421\u0430\u043d\u044f \u0414\u043e\u0431\u0440\u044b\u043d\u0438\u043d", "link": "https://stackoverflow.com/users/5480715/%d0%a1%d0%b0%d0%bd%d1%8f-%d0%94%d0%be%d0%b1%d1%80%d1%8b%d0%bd%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1481188962, "post_id": 41028462, "comment_id": 69278889, "body": "ok, i will edit my question"}], "owner": {"reputation": 39, "user_id": 5480715, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1202120433147855/picture?type=large", "display_name": "\u0421\u0430\u043d\u044f \u0414\u043e\u0431\u0440\u044b\u043d\u0438\u043d", "link": "https://stackoverflow.com/users/5480715/%d0%a1%d0%b0%d0%bd%d1%8f-%d0%94%d0%be%d0%b1%d1%80%d1%8b%d0%bd%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 346, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481189951, "creation_date": 1481149383, "last_edit_date": 1481189951, "question_id": 41028462, "link": "https://stackoverflow.com/questions/41028462/eventtriggers-xaml-wpf-animation", "title": "Eventtriggers XAML WPF Animation", "body": "<p>I have such question.\nI want to resize window and change margin of some grid by clicking on button, and animate that back by clicking another button using eventtriggers and XAML.\nThese buttons are in window, but not in that grid.</p>\n\n<p>I need to do this using storyboard.target or storyboard.targetname. \nFor example I have this code:</p>\n\n<pre><code>&lt;Window blabla\n        x:Name=\"window\"&gt;\n\n    &lt;Grid&gt;\n        &lt;Button&gt;\n            &lt;Button.Style&gt;\n                &lt;Style TargetType=\"{x:Type Button}\"&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;EventTrigger RoutedEvent=\"Click\"&gt;\n                            &lt;BeginStoryBoard&gt;\n                                &lt;StoryBoard&gt;\n                                    &lt;DoubleAnimation From=\"300\"\n                                                     To=\"500\"\n                                                     Duration=\"0:0:1\"\n                                                     StoryBoard.Target=\"{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}\"\n                                                     StoryBoard.TargetProperty=\"Height\"/&gt;\n                                    &lt;ThicknessAnimation From=\"0\"\n                                                        To=\"20\"\n                                                        Duration=\"0:0:1\"\n                                                        StoryBoard.TargetName=\"grid\"\n                                                        StoryBoard.TargetProperty=\"Margin\"/&gt;\n                                &lt;/StoryBoard&gt;\n                            &lt;/BeginStoryBoard&gt;\n                        &lt;/EventTrigger&gt;\n                    &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;\n            &lt;/Button.Style&gt;\n        &lt;/Button&gt;\n        &lt;Button&gt;\n            &lt;Button.Style&gt;\n                &lt;Style TargetType=\"{x:Type Button}\"&gt;\n                    &lt;Style.Triggers&gt;\n                        &lt;EventTrigger RoutedEvent=\"Click\"&gt;\n                            &lt;BeginStoryBoard&gt;\n                                &lt;StoryBoard&gt;\n                                    &lt;DoubleAnimation From=\"500\"\n                                                 To=\"300\"\n                                                 Duration=\"0:0:1\"\n                                                 StoryBoard.Target=\"{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Window}}}\"\n                                                 StoryBoard.TargetProperty=\"Height\"/&gt;\n                                    &lt;ThicknessAnimation From=\"20\"\n                                                    To=\"0\"\n                                                    Duration=\"0:0:1\"\n                                                    StoryBoard.TargetName=\"grid\"\n                                                    StoryBoard.TargetProperty=\"Margin\"/&gt;\n                                &lt;/StoryBoard&gt;\n                            &lt;/BeginStoryBoard&gt;\n                        &lt;/EventTrigger&gt;\n                    &lt;/Style.Triggers&gt;\n                &lt;/Style&gt;\n            &lt;/Button.Style&gt;\n        &lt;/Button&gt;\n    &lt;/Grid&gt;\n    &lt;Grid x:Name=\"grid\"/&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>But this code does not work.</p>\n\n<p>so, I have already searched on this forum, but I haven`t found any working solution for me.</p>\n\n<p>Could you show me some code how to achieve this?</p>\n"}, {"tags": ["c#", "entity-framework", "visual-studio"], "comments": [{"owner": {"reputation": 19, "user_id": 6152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b83827453f803d8188c55dec5761e7?s=128&d=identicon&r=PG&f=1", "display_name": "tetete", "link": "https://stackoverflow.com/users/6152602/tetete"}, "edited": false, "score": 0, "creation_date": 1481150106, "post_id": 41028455, "comment_id": 69264674, "body": "every tutorial i read said that it will ignore throw notsuppported since it is overloaded by [EdmFunction(&quot;Model.Store&quot;,  &quot;connectUser&quot;)]. The code of the function is stored in database. The point of this function is to connect to database, call function and give it attributes and then get the result. I know it connects to database since other functions like creating new user works, but not this one"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 6152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b83827453f803d8188c55dec5761e7?s=128&d=identicon&r=PG&f=1", "display_name": "tetete", "link": "https://stackoverflow.com/users/6152602/tetete"}, "edited": false, "score": 0, "creation_date": 1481150132, "post_id": 41028549, "comment_id": 69264684, "body": "every tutorial i read said that it will ignore throw notsuppported since it is overloaded by [EdmFunction(&quot;Model.Store&quot;,  &quot;connectUser&quot;)]. The code of the function is stored in database. The point of this function is to connect to database, call function from sql server not to create new one in c# and give it attributes and then get the result. I know it connects to database since other functions like creating new user works, but not this one"}, {"owner": {"reputation": 19, "user_id": 6152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b83827453f803d8188c55dec5761e7?s=128&d=identicon&r=PG&f=1", "display_name": "tetete", "link": "https://stackoverflow.com/users/6152602/tetete"}, "edited": false, "score": 0, "creation_date": 1481153758, "post_id": 41028549, "comment_id": 69266136, "body": "As you see here: <a href=\"https://msdn.microsoft.com/en-us/library/dd456847(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd456847(v=vs.110).aspx</a> the way i am doing it is correct. Do you know what entity framework is and how to use it? Something is wrong but not in &quot;throw new NotSupportedException(&quot;Direct calls are not supported.&quot;);&quot; since it will be ignored."}, {"owner": {"reputation": 2232, "user_id": 2641278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sZDfW.jpg?s=128&g=1", "display_name": "Adrian Sanguineti", "link": "https://stackoverflow.com/users/2641278/adrian-sanguineti"}, "reply_to_user": {"reputation": 19, "user_id": 6152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b83827453f803d8188c55dec5761e7?s=128&d=identicon&r=PG&f=1", "display_name": "tetete", "link": "https://stackoverflow.com/users/6152602/tetete"}, "edited": false, "score": 0, "creation_date": 1481157603, "post_id": 41028549, "comment_id": 69267371, "body": "@Ifridius, have you done step 2 of that MSDN article, and put the function definition into your edmx file?"}, {"owner": {"reputation": 19, "user_id": 6152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b83827453f803d8188c55dec5761e7?s=128&d=identicon&r=PG&f=1", "display_name": "tetete", "link": "https://stackoverflow.com/users/6152602/tetete"}, "edited": false, "score": 0, "creation_date": 1481171664, "post_id": 41028549, "comment_id": 69271035, "body": "yeah, i would have no reason to skip steps. procedures works perfectly, but functions does not."}], "tags": [], "owner": {"reputation": 1769, "user_id": 3471712, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001030341259/picture?type=large", "display_name": "Auguste", "link": "https://stackoverflow.com/users/3471712/auguste"}, "is_accepted": false, "score": 1, "last_activity_date": 1481149818, "creation_date": 1481149818, "answer_id": 41028549, "question_id": 41028455, "link": "https://stackoverflow.com/questions/41028455/how-to-call-function-entity-framework/41028549#41028549", "title": "How to call function Entity Framework", "body": "<p>You get the NotSupportedException because that's what you tell the logic to do :).  <code>throw new NotSupportedException(\"Direct calls are not supported.\");</code>.    You need to change to logic to whatever you want the connectUser function to do.</p>\n"}], "owner": {"reputation": 19, "user_id": 6152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b83827453f803d8188c55dec5761e7?s=128&d=identicon&r=PG&f=1", "display_name": "tetete", "link": "https://stackoverflow.com/users/6152602/tetete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1481177803, "creation_date": 1481149340, "last_edit_date": 1481177803, "question_id": 41028455, "link": "https://stackoverflow.com/questions/41028455/how-to-call-function-entity-framework", "title": "How to call function Entity Framework", "body": "<p>I am trying to call function called <code>connectUser</code> that takes 2 arguments, name and password and returns id (number)</p>\n\n<p>The problem is that it does not work and I am getting the <code>NotSupportedException</code> thrown instead.</p>\n\n<pre><code>   int userID;\n\n   [EdmFunction(\"Model.Store\",  \"connectUser\")]\n    public static int connectUser(String loginName, String loginPass)\n    {\n        throw new NotSupportedException(\"Direct calls are not supported.\");\n    }\n\n    private void btnSignIn_Click(object sender, EventArgs e)\n    {\n    userID = (Int32)connectUser(loginName.Text, loginPass.Text);\n    }\n</code></pre>\n\n<p>Any idea what is going on? I have tried several tutorials and based on what they say, it should work. But for me it ignores <code>[EdmFunction(\"Model.Store\",  \"connectUser\")]</code> attribute.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "edited": false, "score": 0, "creation_date": 1481149544, "post_id": 41028446, "comment_id": 69264418, "body": "you can use mystringval = mystringval.replace(&quot;/r/n&quot;, &quot;&quot;) this will replace the carriage return line feed with empty char."}, {"owner": {"reputation": 33, "user_id": 4390401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-quICjKBMcwc/AAAAAAAAAAI/AAAAAAAABPU/cTfAwyIT6vo/photo.jpg?sz=128", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4390401/ryan"}, "edited": false, "score": 0, "creation_date": 1481149758, "post_id": 41028446, "comment_id": 69264516, "body": "See this: <a href=\"http://stackoverflow.com/questions/9134550/search-for-a-newline-character-c-net\" title=\"search for a newline character c net\">stackoverflow.com/questions/9134550/&hellip;</a>"}, {"owner": {"reputation": 32760, "user_id": 206367, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/121b360a4d7d20be6e220dcdb555649f?s=128&d=identicon&r=PG", "display_name": "t0mm13b", "link": "https://stackoverflow.com/users/206367/t0mm13b"}, "reply_to_user": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "edited": false, "score": 1, "creation_date": 1481149782, "post_id": 41028446, "comment_id": 69264527, "body": "Use <code>Environment.NewLine</code>. BTW, @user1336827 &quot;/r/n&quot; is absolutely incorrect!"}, {"owner": {"reputation": 857, "user_id": 1255576, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9287d0aa0e1fcc401cc6e53385d2ae8d?s=128&d=identicon&r=PG", "display_name": "D P.", "link": "https://stackoverflow.com/users/1255576/d-p"}, "reply_to_user": {"reputation": 1458, "user_id": 1336827, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c99c171fdcf7c114563563320b6b489b?s=128&d=identicon&r=PG", "display_name": "user1336827", "link": "https://stackoverflow.com/users/1336827/user1336827"}, "edited": false, "score": 0, "creation_date": 1481149973, "post_id": 41028446, "comment_id": 69264614, "body": "@user1336827 Thank you for the comment. In my result, I see this as a new line character. But I am not sure what it is. So, using your suggestion or use of <code>Environment.NewLine</code> didn&#39;t work(since these special charactors may not be carriage return and line feed). is there a way to say, only keep letters, numbers and decimal points in this variable."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 2, "creation_date": 1481150244, "post_id": 41028446, "comment_id": 69264734, "body": "if you only care about white space and only at the beginning and end of your string, you can do <code>mystringval = mystringval.Trim()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1481152440, "post_id": 41028670, "comment_id": 69265645, "body": "One thing I thought of when I wrote my answer was what to do about something like <code>&quot;123\\r\\n987&quot;</code>. It&#39;s there way of turning that into <code>&quot;123 987&quot;</code> in one RegEx, or would it need to be two?"}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "reply_to_user": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1481152609, "post_id": 41028670, "comment_id": 69265703, "body": "@WaiHaLee Do you mean also replacing \\r\\n with a space?  you&#39;d need two regex.Replace for that."}, {"owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1481152743, "post_id": 41028670, "comment_id": 69265755, "body": "Fair enough. I wasn&#39;t sure if there was some single, complex RegEx pair which would do it."}, {"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "reply_to_user": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "edited": false, "score": 0, "creation_date": 1481154179, "post_id": 41028670, "comment_id": 69266276, "body": "@WaiHaLee  The limiting factor is that the replacement string is a simple string.  Nothing you change about the pattern will affect the replacement string."}], "tags": [], "owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1481150825, "last_edit_date": 1481150825, "creation_date": 1481150447, "answer_id": 41028670, "question_id": 41028446, "link": "https://stackoverflow.com/questions/41028446/how-to-filter-hidden-characters-in-a-string-using-c/41028670#41028670", "title": "How to filter hidden characters in a String using C#", "body": "<p>If you want to get rid of all special characters, you can learn regular expressions and use <a href=\"https://msdn.microsoft.com/en-us/library/system.text.regularexpressions.regex.replace(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Regex.Replace</a>.</p>\n\n<pre><code>var value = \"&amp;*^)#abcd.\";\nvar filtered = System.Text.RegularExpressions.Regex.Replace(value, @\"[^\\w]\", \"\");\n</code></pre>\n\n<p><strong>REGEXPLANATION</strong></p>\n\n<ul>\n<li>the <code>@</code> before the string means that you're using a literal string and c# escape sequences don't work, leaving only the regex escape sequences</li>\n<li><code>[^abc]</code> matches all characters that are not a, b, or c(to replace them with empty space)</li>\n<li><code>\\w</code> is a special regex code that means a letter, number, or underscore</li>\n<li>you can also use <code>@\"[^A-Za-z0-9\\.]\"</code> which will filter letters, numbers and decimal.  See <a href=\"http://rubular.com/\" rel=\"nofollow noreferrer\">http://rubular.com/</a> for more details.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 7613, "user_id": 1364007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d106de3dec9586b56ed7f110497689e?s=128&d=identicon&r=PG", "display_name": "Wai Ha Lee", "link": "https://stackoverflow.com/users/1364007/wai-ha-lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152102, "last_edit_date": 1481152102, "creation_date": 1481150663, "answer_id": 41028725, "question_id": 41028446, "link": "https://stackoverflow.com/questions/41028446/how-to-filter-hidden-characters-in-a-string-using-c/41028725#41028725", "title": "How to filter hidden characters in a String using C#", "body": "<p>As well as using RegEx, you can use LINQ to do something like</p>\n\n<pre><code>var goodCharacters = input\n    .Replace(\"\\r\", \" \")\n    .Replace(\"\\n\", \" \")\n    .Where(c =&gt; char.IsLetterOrDigit(c) || c == ' ' || c == '.')\n    .ToArray();\nvar result = new string(goodCharacters).Trim();\n</code></pre>\n\n<p>The first two <code>Replace</code> calls will guard against having a number at the end of one line and a number at the start of the next, e.g. <code>\"123\\r\\n987\"</code> would otherwise be <code>\"123987\"</code>, whereas I assume you want <code>\"123 987\"</code>.</p>\n\n<p>Try my sample <a href=\"http://ideone.com/RY6y96\" rel=\"nofollow noreferrer\">here on ideone.com</a>.</p>\n"}], "owner": {"reputation": 857, "user_id": 1255576, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9287d0aa0e1fcc401cc6e53385d2ae8d?s=128&d=identicon&r=PG", "display_name": "D P.", "link": "https://stackoverflow.com/users/1255576/d-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481152102, "creation_date": 1481149308, "question_id": 41028446, "link": "https://stackoverflow.com/questions/41028446/how-to-filter-hidden-characters-in-a-string-using-c", "title": "How to filter hidden characters in a String using C#", "body": "<p>I am new to C# and trying to lean how to filter data that I read from a file. I have a file that I read from that has data similer to the follwoing:</p>\n\n<pre><code>3 286 858 95.333 0.406 0.427 87.00 348 366 4 b\n9 23 207 2.556 0.300 1.00 1.51 62 207 41 a\n9 37 333 4.111 0.390 0.811 2.03 130 270 64 a\n10 21 210 2.100 0.348 0.757 3.17 73 159 23 a\n9 79 711 8.778 0.343 0.899 2.20 244 639 111 a\n10 66 660 6.600 0.324 0.780 2.25 214 515 95 a\n</code></pre>\n\n<p>When I read these data, some of them have <code>Carriage return</code> Or <code>Line Feed</code> characters hidden in them. Can you please tell me if there is a way to remove them. For example, one of my variable may hold the the following value due to a newline character in them:</p>\n\n<pre><code>mystringval = \"9\n               \"\n</code></pre>\n\n<p>I want this <code>mystringval</code> variable to be converted back to</p>\n\n<pre><code>mystringval  = \"9\"\n</code></pre>\n"}, {"tags": ["c#", "ios", "xamarin", "xamarin.ios"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5509235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/459d1c0188c7f45e922f9f501f461f11?s=128&d=identicon&r=PG&f=1", "display_name": "Monica", "link": "https://stackoverflow.com/users/5509235/monica"}, "edited": false, "score": 0, "creation_date": 1507306443, "post_id": 41029491, "comment_id": 80171657, "body": "Hello @SushiHangover.. I am trying to do the same thing for <code>mediaType</code> with value <code>PHAssetMediaType.Image</code> but I am getting error saying invalid predicate value. Can you explain how bitwise operators work for defining mediatype ?"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 99, "user_id": 5509235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/459d1c0188c7f45e922f9f501f461f11?s=128&d=identicon&r=PG&f=1", "display_name": "Monica", "link": "https://stackoverflow.com/users/5509235/monica"}, "edited": false, "score": 0, "creation_date": 1507332144, "post_id": 41029491, "comment_id": 80182253, "body": "@Monica Post a new question on what you are trying to do, that way the community (and I) can help."}, {"owner": {"reputation": 1447, "user_id": 2061450, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/85e3bd44027c125ad79f4bd5dfe94f7e?s=128&d=identicon&r=PG", "display_name": "Lapinou", "link": "https://stackoverflow.com/users/2061450/lapinou"}, "reply_to_user": {"reputation": 99, "user_id": 5509235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/459d1c0188c7f45e922f9f501f461f11?s=128&d=identicon&r=PG&f=1", "display_name": "Monica", "link": "https://stackoverflow.com/users/5509235/monica"}, "edited": false, "score": 0, "creation_date": 1513089131, "post_id": 41029491, "comment_id": 82511033, "body": "@Monica Use PHAsset.FetchAssets(PHAssetMediaType.Image, fetchOptions) methods instead."}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": true, "score": 1, "last_activity_date": 1481154904, "creation_date": 1481154904, "answer_id": 41029491, "question_id": 41028388, "link": "https://stackoverflow.com/questions/41028388/xamarin-nspredicate-not-working-for-phasset-fetchassets/41029491#41029491", "title": "Xamarin NSPredicate not working for PHAsset.FetchAssets", "body": "<p>Try using bitwise operators:</p>\n\n<pre><code>NSPredicate.FromFormat(string.Format(\"((mediaSubtype &amp; {0}) == {0})\", (int)PHAssetMediaSubtype.PhotoLive)); \n</code></pre>\n\n<h3>Example of getting photo assets of HDR subtype:</h3>\n\n<pre><code>var options = new PHFetchOptions();\noptions.Predicate = NSPredicate.FromFormat(string.Format(\"((mediaSubtype &amp; {0}) == {0})\", (int)PHAssetMediaSubtype.PhotoHDR)); \nvar fetchResults = PHAsset.FetchAssets(PHAssetMediaType.Image, options);\nforeach (var item in fetchResults)\n{\n    Console.WriteLine((item as PHAsset).MediaSubtypes);\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7174472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6486c7e121253807af2e2548854420c?s=128&d=identicon&r=PG&f=1", "display_name": "AllHailMegatron", "link": "https://stackoverflow.com/users/7174472/allhailmegatron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "accepted_answer_id": 41029491, "answer_count": 1, "score": 1, "last_activity_date": 1481154904, "creation_date": 1481149022, "question_id": 41028388, "link": "https://stackoverflow.com/questions/41028388/xamarin-nspredicate-not-working-for-phasset-fetchassets", "title": "Xamarin NSPredicate not working for PHAsset.FetchAssets", "body": "<p>When using the predicate the result is that no photos are returned. If I remove the predicate from the options then all my photos are returned as normal. Here is the code I am attempting:</p>\n\n<pre><code>PHFetchOptions options = new PHFetchOptions();\nNSSortDescriptor[] sortDescriptors = new NSSortDescriptor[1];\nsortDescriptors[0] = new NSSortDescriptor(\"creationDate\", false);\noptions.SortDescriptors = sortDescriptors;\n\n// So far I've tried the following predicates: \n///// \noptions.Predicate = NSPredicate.FromFormat(\"mediaSubtype != \" + PHAssetMediaSubtype.PhotoLive);\noptions.Predicate = NSPredicate.FromFormat(\"mediaSubtype == \" + PHAssetMediaSubtype.PhotoLive);\noptions.Predicate = NSPredicate.FromFormat(\"mediaSubtype &amp; \" + PHAssetMediaSubtype.PhotoLive);\noptions.Predicate = NSPredicate.FromFormat(\"NOT ((mediaSubtype &amp; \" + PHAssetMediaSubtype.PhotoLive + \") != 0\");\noptions.Predicate = NSPredicate.FromFormat(\"mediaSubtype = \" + PHAssetMediaSubtype.None);\noptions.Predicate = NSPredicate.FromFormat(\"mediaSubtype == \" + PHAssetMediaSubtype.None);\n/////\nreturn PHAsset.FetchAssets(PHAssetMediaType.Image, options);\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1481148854, "post_id": 41028313, "comment_id": 69264126, "body": "put it into a method"}, {"owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "edited": false, "score": 2, "creation_date": 1481148859, "post_id": 41028313, "comment_id": 69264130, "body": "Put the code into another method then call that twice?"}, {"owner": {"reputation": 829, "user_id": 6936343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vmkoC.jpg?s=128&g=1", "display_name": "Tony_KiloPapaMikeGolf", "link": "https://stackoverflow.com/users/6936343/tony-kilopapamikegolf"}, "edited": false, "score": 0, "creation_date": 1481149199, "post_id": 41028313, "comment_id": 69264289, "body": "A common computer programming tactic is to divide a problem into sub-problems of the same type as the original, solve those sub-problems, and combine the results. This is often referred to as the divide-and-conquer method; when combined with a lookup table that stores the results of solving sub-problems (to avoid solving them repeatedly and incurring extra computation time), it can be referred to as dynamic programming or memoization."}, {"owner": {"reputation": 829, "user_id": 6936343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vmkoC.jpg?s=128&g=1", "display_name": "Tony_KiloPapaMikeGolf", "link": "https://stackoverflow.com/users/6936343/tony-kilopapamikegolf"}, "edited": false, "score": 0, "creation_date": 1481149662, "post_id": 41028313, "comment_id": 69264471, "body": "I am kind of guessing what it is, you want to achieve. Can you provide more specific details?"}, {"owner": {"reputation": 1, "user_id": 6354628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4784587499a2c41ab92f751601a05f14?s=128&d=identicon&r=PG&f=1", "display_name": "Disease", "link": "https://stackoverflow.com/users/6354628/disease"}, "edited": false, "score": 0, "creation_date": 1481152328, "post_id": 41028313, "comment_id": 69265606, "body": "As I said I am parsing a website with a searchstring. Something like: www.website.com/?search=&#230;&#248;&#229;. Because of the language and pattern to replace these characters with &#230;=ae, &#248;=o, &#229;=aa, I need to search this url to:www.website.com/?search=aeoaa. And then combine both results."}, {"owner": {"reputation": 7001, "user_id": 797249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89deb6b4afc8e485308f85b79ef44bcc?s=128&d=identicon&r=PG", "display_name": "Artiom", "link": "https://stackoverflow.com/users/797249/artiom"}, "edited": false, "score": 0, "creation_date": 1481903950, "post_id": 41028313, "comment_id": 69576054, "body": "@Disease accept any of answers if it helped"}], "answers": [{"comments": [{"owner": {"reputation": 829, "user_id": 6936343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vmkoC.jpg?s=128&g=1", "display_name": "Tony_KiloPapaMikeGolf", "link": "https://stackoverflow.com/users/6936343/tony-kilopapamikegolf"}, "edited": false, "score": 1, "creation_date": 1481149300, "post_id": 41028418, "comment_id": 69264320, "body": "Did the question poster state not wanting to write a method?"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "reply_to_user": {"reputation": 829, "user_id": 6936343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/vmkoC.jpg?s=128&g=1", "display_name": "Tony_KiloPapaMikeGolf", "link": "https://stackoverflow.com/users/6936343/tony-kilopapamikegolf"}, "edited": false, "score": 0, "creation_date": 1481149353, "post_id": 41028418, "comment_id": 69264341, "body": "Both comments to the OP&#39;s question stated to create a method, simply offering another solution, and did not want to write a code block in a comment"}], "tags": [], "owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "is_accepted": false, "score": 0, "last_activity_date": 1481149159, "creation_date": 1481149159, "answer_id": 41028418, "question_id": 41028313, "link": "https://stackoverflow.com/questions/41028313/c-try-something-twice-if-if-statement-is-true/41028418#41028418", "title": "C# - Try something twice if if-statement is true", "body": "<p>I suppose if you want to avoid writing a method (which is the best answer to your question) you can use a flag: </p>\n\n<pre><code>bool bRunAgain = true;\n\nwhile (bRunAgain)\n{\n   // Your logic, check result and see if you need to run it again\n\n   if (your condition to run again == false)\n   {\n      bRunAgain = false;\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 3, "last_activity_date": 1481149705, "creation_date": 1481149705, "answer_id": 41028528, "question_id": 41028313, "link": "https://stackoverflow.com/questions/41028313/c-try-something-twice-if-if-statement-is-true/41028528#41028528", "title": "C# - Try something twice if if-statement is true", "body": "<p>You can follow this pattern.  Add an additional parameter to your method indicating retries remaining.</p>\n\n<pre><code>void DoSomething(arg1, arg2, int retriesRemaining = 0)\n{\n    try\n    {\n        DoWork();\n    }\n    catch\n    {\n        if (retriesRemaining) DoSomething(arg1, arg2, --retriesRemaining);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7001, "user_id": 797249, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89deb6b4afc8e485308f85b79ef44bcc?s=128&d=identicon&r=PG", "display_name": "Artiom", "link": "https://stackoverflow.com/users/797249/artiom"}, "is_accepted": false, "score": 0, "last_activity_date": 1481150456, "last_edit_date": 1481150456, "creation_date": 1481150091, "answer_id": 41028603, "question_id": 41028313, "link": "https://stackoverflow.com/questions/41028313/c-try-something-twice-if-if-statement-is-true/41028603#41028603", "title": "C# - Try something twice if if-statement is true", "body": "<p>Here is a common solution. Pass an action to this method and specify retries count</p>\n\n<pre><code>public bool ExecuteWithRetry(Action doWork, int maxTries=1) {\n   for(var tryCount=1; tryCount&lt;=maxTries; tryCount++){\n      try{\n         doWork();\n      } catch(Exception ex){\n         if(tryCount==MaxTriex){\n            Console.WriteLine(\"Oops, no luck with DoWork()\");\n            return false;\n         }\n      }\n      return true;\n   }\n}\n</code></pre>\n\n<p>so in your method</p>\n\n<pre><code>void Something(){\n  ....\n  if(ExecuteWithRetry(()=&gt;NotTrustyMethod(), 2)) {\n     //success\n  } else {\n     //fail\n  }\n\n\n}\n\nvoid NotTrustyMethod(){ ...}\n</code></pre>\n\n<p>This solution you can use for any case where you need retry option for methods with any type of arguments (or without them)</p>\n"}], "owner": {"reputation": 1, "user_id": 6354628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4784587499a2c41ab92f751601a05f14?s=128&d=identicon&r=PG&f=1", "display_name": "Disease", "link": "https://stackoverflow.com/users/6354628/disease"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1481150456, "creation_date": 1481148715, "question_id": 41028313, "link": "https://stackoverflow.com/questions/41028313/c-try-something-twice-if-if-statement-is-true", "title": "C# - Try something twice if if-statement is true", "body": "<p>I have a code parsing a website and adding some values to a list. Sometimes I need to parse the website two times and add the second parsevalues to the same list.</p>\n\n<p>This is some of the code:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;Info&gt;&gt;....\n{\nvar values = new List&lt;Info&gt;();\nvar request = something;\nvar request_rewritten = rewritten request to run the second time;\n......\nif request contains something do all the under two times. Both for the request and the rewritten request and add it to result. \n......\nvar response = await RequestBytes(request);\nvar results = Encoding.GetEncoding(\"iso-8859-1\").GetString(response.Content);\n_fDom = results;\n\n   try\n   {\n   do something and a lot of code\n   ......\n   values.Add(result);\n   return result\n   }\n}\n</code></pre>\n\n<p>If request contains something I need try try a second time. Both for the original request and the rewritten request and add both to the result. Can this be done? </p>\n"}, {"tags": ["c#", "visual-studio", "iis-express"], "answers": [{"comments": [{"owner": {"reputation": 2246, "user_id": 598070, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/3122149fc9c817896970d8ed45f1f1e3?s=128&d=identicon&r=PG", "display_name": "Mr_LinDowsMac", "link": "https://stackoverflow.com/users/598070/mr-lindowsmac"}, "edited": false, "score": 1, "creation_date": 1494533861, "post_id": 41028225, "comment_id": 74882890, "body": "This fixed my problem, even my project was not a .NET Core or something."}, {"owner": {"reputation": 328, "user_id": 1211171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ca6d5ceb39df0c2e93857b8973b1e0?s=128&d=identicon&r=PG", "display_name": "Justjyde", "link": "https://stackoverflow.com/users/1211171/justjyde"}, "edited": false, "score": 0, "creation_date": 1542617200, "post_id": 41028225, "comment_id": 93617965, "body": "This is good information. I just moved my projects to a windows 10 environment. This saved me after trying many other suggestions. Thanks @eric-schneider."}, {"owner": {"reputation": 4870, "user_id": 117499, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/463c03fd71400695253216a98cd532c5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Schneider", "link": "https://stackoverflow.com/users/117499/eric-schneider"}, "reply_to_user": {"reputation": 328, "user_id": 1211171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2ca6d5ceb39df0c2e93857b8973b1e0?s=128&d=identicon&r=PG", "display_name": "Justjyde", "link": "https://stackoverflow.com/users/1211171/justjyde"}, "edited": false, "score": 0, "creation_date": 1542744692, "post_id": 41028225, "comment_id": 93676768, "body": "Thanks @Justjyde, and I had to fight to keep this question listed. Viewed 6332 times too..."}], "tags": [], "owner": {"reputation": 4870, "user_id": 117499, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/463c03fd71400695253216a98cd532c5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Schneider", "link": "https://stackoverflow.com/users/117499/eric-schneider"}, "is_accepted": true, "score": 5, "last_activity_date": 1481148316, "creation_date": 1481148316, "answer_id": 41028225, "question_id": 41028194, "link": "https://stackoverflow.com/questions/41028194/web-app-fails-to-start-iisexpress-exe-has-exited-with-code-0/41028225#41028225", "title": "Web app fails to start: iisexpress.exe has exited with code 0", "body": "<p>To fix the problem, I installed <a href=\"https://go.microsoft.com/fwlink/?LinkID=827546\" rel=\"noreferrer\">.Net Core tools preview for Visual Studio</a>.</p>\n\n<p>See the <a href=\"https://www.microsoft.com/net/core#windowsvs2015\" rel=\"noreferrer\">.NET Core installation guide</a> for how to do this.</p>\n"}], "owner": {"reputation": 33, "user_id": 7263828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc1088d6011100cd43f59d60c688561d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Harris", "link": "https://stackoverflow.com/users/7263828/joel-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11305, "favorite_count": 1, "accepted_answer_id": 41028225, "answer_count": 1, "score": 3, "last_activity_date": 1564658298, "creation_date": 1481148183, "last_edit_date": 1481148579, "question_id": 41028194, "link": "https://stackoverflow.com/questions/41028194/web-app-fails-to-start-iisexpress-exe-has-exited-with-code-0", "title": "Web app fails to start: iisexpress.exe has exited with code 0", "body": "<p>This occurs on Windows 10 and Visual Studio 2015 with any browser starting with or without debugging:</p>\n\n<p>iisexpress.exe has exited with code 0</p>\n"}, {"tags": ["c#", "nuget", "nuget-package", "nuget-server", "nuget-spec"], "comments": [{"owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1481148735, "post_id": 41028144, "comment_id": 69264079, "body": "Question is unclear. Are you using this nuget package in a project somewhere, and you find that the package that&#39;s being referenced in that project is not the package that contains your update? If so, you may have used the same version number for both packages, and the original package may be cached on your machine. Try running a <code>nuget locals all -clear</code> and deleting the <code>packages</code> folder from your solution directory."}, {"owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "reply_to_user": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1481148995, "post_id": 41028144, "comment_id": 69264206, "body": "I&#39;m creating a NuGet package from a class library. I followed this tutorial  <a href=\"https://docs.nuget.org/ndocs/quickstart/create-and-publish-a-package\" rel=\"nofollow noreferrer\">docs.nuget.org/ndocs/quickstart/create-and-publish-a-package</a>"}, {"owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1481149833, "post_id": 41028144, "comment_id": 69264551, "body": "Did you create 2 packages over time with the same name and version? If so, and if the problem is that you can&#39;t seem to get the updated package to be present in the project that uses the nuget package, it&#39;s because it&#39;s in cache."}, {"owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "reply_to_user": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1481150240, "post_id": 41028144, "comment_id": 69264731, "body": "I remember I tried, but it doesn&#39;t allow the package to have same name and version"}], "answers": [{"tags": [], "owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "is_accepted": true, "score": 0, "last_activity_date": 1498642163, "last_edit_date": 1498642163, "creation_date": 1481153717, "answer_id": 41029286, "question_id": 41028144, "link": "https://stackoverflow.com/questions/41028144/the-nuget-package-nupkg-doesnt-sync-with-the-project-latest-changes/41029286#41029286", "title": "The Nuget package (nupkg) doesn&#39;t sync with the project latest changes?", "body": "<p>To show XML comments, I should enable in the project properties> Build> check XML documentation file</p>\n"}], "owner": {"reputation": 5537, "user_id": 6197785, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/PwBYM.jpg?s=128&g=1", "display_name": "mshwf", "link": "https://stackoverflow.com/users/6197785/mshwf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 1, "accepted_answer_id": 41029286, "answer_count": 1, "score": 0, "last_activity_date": 1498642163, "creation_date": 1481147990, "question_id": 41028144, "link": "https://stackoverflow.com/questions/41028144/the-nuget-package-nupkg-doesnt-sync-with-the-project-latest-changes", "title": "The Nuget package (nupkg) doesn&#39;t sync with the project latest changes?", "body": "<p>I created a Nuget package, I made some changes to the project and added some comments, but after updating the package, those changes didn't apply, and still has the first release. I have the NuGet.exe, the *.nuspec and the *.nupkg files in the same directory of the .csproj file of the project class library. I can't figure out what I'm missing!</p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "sqlbulkcopy"], "comments": [{"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1481147876, "post_id": 41028035, "comment_id": 69263677, "body": "where are you actually having an issue?"}, {"owner": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "reply_to_user": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1481206962, "post_id": 41028035, "comment_id": 69290740, "body": "Thanks Dispersia, Actually I have one excel with multiple sheets in tabs,  so need to insert data in sql server in multiple tables , one tab - one table"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "edited": false, "score": 0, "creation_date": 1481233345, "post_id": 41044473, "comment_id": 69306247, "body": "It really helped but the loop is picking only one worksheet(tab) from access and not moving to next tab to execute same process.,Kindly help me"}, {"owner": {"reputation": 1078, "user_id": 5544487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aAMdVI2L4ac/AAAAAAAAAAI/AAAAAAAAAZQ/kM1wBMCFanI/photo.jpg?sz=128", "display_name": "Ben Jackson", "link": "https://stackoverflow.com/users/5544487/ben-jackson"}, "reply_to_user": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "edited": false, "score": 0, "creation_date": 1481278419, "post_id": 41044473, "comment_id": 69322560, "body": "Try removing the conn,Close() from the inner using statement - that shouldn&#39;t be there."}, {"owner": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "edited": false, "score": 0, "creation_date": 1481302899, "post_id": 41044473, "comment_id": 69337791, "body": "Thanks a lot now  working , one more help like I have a RowID autogenerated column in databse table but not in excel , so how can I add that also from code"}, {"owner": {"reputation": 1078, "user_id": 5544487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aAMdVI2L4ac/AAAAAAAAAAI/AAAAAAAAAZQ/kM1wBMCFanI/photo.jpg?sz=128", "display_name": "Ben Jackson", "link": "https://stackoverflow.com/users/5544487/ben-jackson"}, "reply_to_user": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "edited": false, "score": 0, "creation_date": 1481394507, "post_id": 41044473, "comment_id": 69363867, "body": "Either don&#39;t use SqlBulkCopy and use your own SQL to create/update the table, or issue a ALTER TABLE ADD command via a SqlCommand after copying the table to add a column to it."}], "tags": [], "owner": {"reputation": 1078, "user_id": 5544487, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aAMdVI2L4ac/AAAAAAAAAAI/AAAAAAAAAZQ/kM1wBMCFanI/photo.jpg?sz=128", "display_name": "Ben Jackson", "link": "https://stackoverflow.com/users/5544487/ben-jackson"}, "is_accepted": true, "score": 1, "last_activity_date": 1481215140, "creation_date": 1481215140, "answer_id": 41044473, "question_id": 41028035, "link": "https://stackoverflow.com/questions/41028035/i-have-one-excel-sheet-with-multiple-tabs-need-to-insert-this-data-into-sql-ser/41044473#41044473", "title": "I have one Excel sheet with multiple tabs, need to insert this data into SQL Server using C#", "body": "<p>The following should do it - you just need to iterate through each row in the tables table :</p>\n\n<pre><code>    ...\n    DataTable dtSheet = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);\n\n    // iterate each sheet\n    foreach (System.Data.DataRow sheet in dtSheet.Rows)\n    {\n        string sheetName = sheet[\"table_name\"].ToString();\n        cmd.CommandText = \"select * from [\" + sheetName + \"]\";\n        da.SelectCommand = cmd;\n        da.Fill(dt);\n\n        using (OleDbDataReader dReader = cmd.ExecuteReader())\n        {\n            using (SqlBulkCopy sqlBulk = new SqlBulkCopy(strConnection))\n            {\n                // Give your Destination table name.  Table name is sheet name minus any $\n                sqlBulk.DestinationTableName = sheetName.Replace(\"$\", \"\");\n                sqlBulk.WriteToServer(dReader);\n\n                conn.Close();\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5910168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/553b9c2550d631445b411808418ef00a?s=128&d=identicon&r=PG&f=1", "display_name": "King", "link": "https://stackoverflow.com/users/5910168/king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1610, "favorite_count": 0, "accepted_answer_id": 41044473, "answer_count": 1, "score": 0, "last_activity_date": 1481215140, "creation_date": 1481147503, "last_edit_date": 1481177947, "question_id": 41028035, "link": "https://stackoverflow.com/questions/41028035/i-have-one-excel-sheet-with-multiple-tabs-need-to-insert-this-data-into-sql-ser", "title": "I have one Excel sheet with multiple tabs, need to insert this data into SQL Server using C#", "body": "<p>I have one Excel file which contains multiple sheets. Every sheet name is the same as a table name in SQL Server. I need to insert data of these Excel sheets into respective tables in database.</p>\n\n<p>There are 13 tabs and 13 tables in SQL server DB.</p>\n\n<p>I am able to insert one sheet's data to one table with the code below.</p>\n\n<pre><code>String strConnection = \"Data Source=.;Initial Catalog=&lt;&gt;;Integrated Security=True\";\n\nString excelConnString = String.Format(\"Provider=Microsoft.ACE.OLEDB.12.0;Data Source={0};Extended Properties=\\\"Excel 12.0\\\"\", filePath);\n\n// Create Connection to Excel work book \nOleDbConnection conn = new OleDbConnection(excelConnString);\n\nOleDbCommand cmd = new OleDbCommand();\ncmd.Connection = conn;\n\nOleDbDataAdapter da = new OleDbDataAdapter(cmd);\nDataTable dt = new DataTable();\n\nconn.Open();\nDataTable dtSheet = conn.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);\nstring sheetName = dtSheet.Rows[0][\"table_name\"].ToString();\ncmd.CommandText = \"select * from [\" + sheetName + \"]\";\nda.SelectCommand = cmd;\nda.Fill(dt);\n\nusing (OleDbDataReader dReader = cmd.ExecuteReader())\n{\n    using(SqlBulkCopy sqlBulk = new SqlBulkCopy(strConnection))\n    {\n        //Give your Destination table name \n        sqlBulk.DestinationTableName = \"TABLE NAME IN SQL\";\n        sqlBulk.WriteToServer(dReader);\n\n        conn.Close();\n    }\n}\n</code></pre>\n\n<p>How can I insert the data from all the sheets?</p>\n"}, {"tags": ["c#", "stream", "httpclient"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 1, "creation_date": 1481148736, "post_id": 41027999, "comment_id": 69264081, "body": "<code>i cannot use Length property to declare byte array buffer into which im trying to read bytes</code>. stream can return bytes... You don&#39;t need to declare an array..."}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 3, "creation_date": 1481149034, "post_id": 41027999, "comment_id": 69264224, "body": "BTW: Seems like you haven&#39;t tried <code>byte[] blob =  await _httpClient.GetByteArrayAsync</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1890, "user_id": 1187752, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e8cb4a2edae486270c66b01a244c915a?s=128&d=identicon&r=PG", "display_name": "Scott R. Frost", "link": "https://stackoverflow.com/users/1187752/scott-r-frost"}, "edited": false, "score": 0, "creation_date": 1516049713, "post_id": 41215111, "comment_id": 83524623, "body": "You should probably await file.CopyToAsync here"}, {"owner": {"reputation": 807, "user_id": 4497505, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/402c3f26a47faea34a7927fdd7b0c2f3?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/4497505/marcel"}, "edited": false, "score": 0, "creation_date": 1522749815, "post_id": 41215111, "comment_id": 86261491, "body": "How can you use some sort of progress reporting with this approach?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 807, "user_id": 4497505, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/402c3f26a47faea34a7927fdd7b0c2f3?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/4497505/marcel"}, "edited": false, "score": 0, "creation_date": 1522761671, "post_id": 41215111, "comment_id": 86269263, "body": "@Marcel: I don&#39;t believe it&#39;s built-in to <code>CopyToAsync</code>; you&#39;d have to write your own copy method."}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": false, "score": 11, "last_activity_date": 1516050491, "last_edit_date": 1516050491, "creation_date": 1482115564, "answer_id": 41215111, "question_id": 41027999, "link": "https://stackoverflow.com/questions/41027999/how-to-use-httpclient-getstreamasync-method/41215111#41215111", "title": "How to use HttpClient.GetStreamAsync() method?", "body": "<p>You can just read it into a <code>MemoryStream</code> and get the byte array from there:</p>\n\n<pre><code>using (var file = await _httpClient.GetStreamAsync(url).ConfigureAwait(false))\nusing (var memoryStream = new MemoryStream())\n{\n  await file.CopyToAsync(memoryStream);\n  return memoryStream.ToArray();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4331, "user_id": 1946412, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/70fc1752ed75fa968107bbaa500cfe8a?s=128&d=identicon&r=PG", "display_name": "julealgon", "link": "https://stackoverflow.com/users/1946412/julealgon"}, "is_accepted": false, "score": -1, "last_activity_date": 1611864631, "creation_date": 1611864631, "answer_id": 65944515, "question_id": 41027999, "link": "https://stackoverflow.com/questions/41027999/how-to-use-httpclient-getstreamasync-method/65944515#65944515", "title": "How to use HttpClient.GetStreamAsync() method?", "body": "<p>I'd like to propose a variation of Stephen's answer that might be a bit simpler/cleaner:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using var httpResponse = await _httpClient.GetAsync(url).ConfigureAwait(false);\nreturn await httpResponse.Content.ReadAsByteArrayAsync().ConfigureAwait(false);\n</code></pre>\n<p>This also has the added benefit that <code>GetAsync</code> accepts a cancellation token for graceful cancellation scenarios, while <code>GetStreamAsync</code> does not, and it also allows you to inspect the status code of the request if you want.</p>\n"}], "owner": {"reputation": 20081, "user_id": 3862378, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cH5IV.jpg?s=128&g=1", "display_name": "LP13", "link": "https://stackoverflow.com/users/3862378/lp13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10760, "favorite_count": 1, "answer_count": 2, "score": -4, "last_activity_date": 1611864631, "creation_date": 1481147375, "question_id": 41027999, "link": "https://stackoverflow.com/questions/41027999/how-to-use-httpclient-getstreamasync-method", "title": "How to use HttpClient.GetStreamAsync() method?", "body": "<p>I am trying to use <code>HttpClient.GetStreamAsync()</code> method to download a file. However there is an issue here. <code>GetStreamAsync()</code> methods returns readonly stream, so i cannot use <code>Length</code> property to declare byte array buffer into which im trying to read bytes.</p>\n\n<pre><code>     using (var file = await _httpClient.GetStreamAsync(url).ConfigureAwait(false))\n     {\n         // it fails at file.Length below\n         byte[] blob = new byte[file.Length];\n         await file.ReadAsync(blob, 0, (int)file.Length).ConfigureAwait(false);         \n     }\n</code></pre>\n"}, {"tags": ["c#", "mongodb", "driver", "document", "bson"], "answers": [{"tags": [], "owner": {"reputation": 140, "user_id": 4577802, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-ODcLqiy69Q0/AAAAAAAAAAI/AAAAAAAAACk/W4fDeDnrRT8/photo.jpg?sz=128", "display_name": "BartWD", "link": "https://stackoverflow.com/users/4577802/bartwd"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152045, "creation_date": 1481152045, "answer_id": 41028993, "question_id": 41027960, "link": "https://stackoverflow.com/questions/41027960/mongodb-c-driver-is-not-returning-any-data/41028993#41028993", "title": "mongoDB C# Driver is not returning any data", "body": "<p>Sorry - my bad, bad bad bad...</p>\n\n<p>I missed the db = db.getSiblingDB in my builder script - which caused the data to go into the root database. </p>\n\n<p>All the best.</p>\n"}], "owner": {"reputation": 140, "user_id": 4577802, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-ODcLqiy69Q0/AAAAAAAAAAI/AAAAAAAAACk/W4fDeDnrRT8/photo.jpg?sz=128", "display_name": "BartWD", "link": "https://stackoverflow.com/users/4577802/bartwd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 369, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1481152045, "creation_date": 1481147204, "question_id": 41027960, "link": "https://stackoverflow.com/questions/41027960/mongodb-c-driver-is-not-returning-any-data", "title": "mongoDB C# Driver is not returning any data", "body": "<p>I am having a problem where C# Driver is not returning any data with either using <strong>async-await</strong> or <strong>synchronous</strong> method. </p>\n\n<p>When trying to run in the command line, it works perfectly, here's the snippet: </p>\n\n<pre><code>db.Collection_StudentResults.aggregate([ { $unwind: \"$modules\" }, { $match: { \"studentNumber\": \"\", \"modules.code\": \"\" } } ])\n</code></pre>\n\n<p>and here's how I have it setup in C#:</p>\n\n<pre><code>public static async Task&lt;BsonDocument&gt; getSingleStudentData(string studentNumber)\n    {\n        var client = new MongoClient(\"mongodb://localhost:27017\");\n        var db = client.GetDatabase(\"dbStudents\");\n        var collection = db.GetCollection&lt;BsonDocument&gt;(\"Collection_StudentResults\");\n\n        var aggregate = collection.Aggregate()\n            .Unwind(\"modules\")\n            .Match(new BsonDocument { { \"studentNumber\", studentNumber } });\n\n        var result = await aggregate.ToListAsync();\n\n        return result.FirstOrDefault();\n    }\n</code></pre>\n\n<p>Drivers Used: <strong>v2.4.0</strong>\nMongoDB Version: <strong>v3.2.10</strong></p>\n\n<p>In <strong>Collection_StudentResults</strong>, the first document contains the <strong>studentNumber</strong> and <strong>modules</strong> array, in the <strong>modules</strong> array each document has <strong>code</strong> field.</p>\n\n<p>Please help!\nThanks</p>\n"}, {"tags": ["c#", "mysql", "database", "winforms", "datatable"], "comments": [{"owner": {"reputation": 16951, "user_id": 2147652, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WqlGm.jpg?s=128&g=1", "display_name": "mybirthname", "link": "https://stackoverflow.com/users/2147652/mybirthname"}, "edited": false, "score": 0, "creation_date": 1481147124, "post_id": 41027911, "comment_id": 69263320, "body": "Why not perform this actions in your DataSource and just render the wanted value from the source ?"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1481147251, "post_id": 41027911, "comment_id": 69263379, "body": "you can do this simply by executing an effective google search there are plenty of samples online.. have you even tried a google search at least..?"}, {"owner": {"reputation": 493, "user_id": 2963805, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/49a5b69d30665fe13ed6ffcd50437042?s=128&d=identicon&r=PG&f=1", "display_name": "Dirty Developer", "link": "https://stackoverflow.com/users/2963805/dirty-developer"}, "edited": false, "score": 0, "creation_date": 1481147410, "post_id": 41027911, "comment_id": 69263454, "body": "Create one more column in db,  do  auto calculate over there. Would be easy, fast and reliable"}], "answers": [{"comments": [{"owner": {"reputation": 16951, "user_id": 2147652, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WqlGm.jpg?s=128&g=1", "display_name": "mybirthname", "link": "https://stackoverflow.com/users/2147652/mybirthname"}, "edited": false, "score": 1, "creation_date": 1481147139, "post_id": 41027946, "comment_id": 69263328, "body": "This is a comment."}, {"owner": {"reputation": 83, "user_id": 6300285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f4daa6443a1c02d681789659f11aaeb?s=128&d=identicon&r=PG&f=1", "display_name": "palm-alchemist", "link": "https://stackoverflow.com/users/6300285/palm-alchemist"}, "edited": false, "score": 0, "creation_date": 1481147228, "post_id": 41027946, "comment_id": 69263370, "body": "Would that mean recreating the datatable if the format of the values are set to string?"}, {"owner": {"reputation": 660, "user_id": 807275, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/007351d518c93f1d8ceca5cb141aa59e?s=128&d=identicon&r=PG", "display_name": "Jonah Kunz", "link": "https://stackoverflow.com/users/807275/jonah-kunz"}, "edited": false, "score": 0, "creation_date": 1481147310, "post_id": 41027946, "comment_id": 69263402, "body": "If the values are stored in your DB as a string you can try and convert it in your sql query or in c# as stated above."}, {"owner": {"reputation": 83, "user_id": 6300285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f4daa6443a1c02d681789659f11aaeb?s=128&d=identicon&r=PG&f=1", "display_name": "palm-alchemist", "link": "https://stackoverflow.com/users/6300285/palm-alchemist"}, "edited": false, "score": 0, "creation_date": 1481147533, "post_id": 41027946, "comment_id": 69263510, "body": "Thank you, let me try that and see how it turns out.. I appreciate it."}], "tags": [], "owner": {"reputation": 660, "user_id": 807275, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/007351d518c93f1d8ceca5cb141aa59e?s=128&d=identicon&r=PG", "display_name": "Jonah Kunz", "link": "https://stackoverflow.com/users/807275/jonah-kunz"}, "is_accepted": true, "score": 0, "last_activity_date": 1481147211, "last_edit_date": 1481147211, "creation_date": 1481147123, "answer_id": 41027946, "question_id": 41027911, "link": "https://stackoverflow.com/questions/41027911/how-do-i-read-data-from-two-cells-in-a-table-row-perform-calculations-on-the-va/41027946#41027946", "title": "How do I read data from two cells in a table row, perform calculations on the values then store the result into a third cell on the same row?", "body": "<p>If you are getting the information from a database why not just do the calculation there. ColA * ColB as ColC</p>\n\n<p>If you are doing different types of calculations that require that you be in C# code then you could create a column when the data is selected. Then when you create the data table you would need to set \"ReadOnly\" to false. Then you could say ColC = result</p>\n"}], "owner": {"reputation": 83, "user_id": 6300285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9f4daa6443a1c02d681789659f11aaeb?s=128&d=identicon&r=PG&f=1", "display_name": "palm-alchemist", "link": "https://stackoverflow.com/users/6300285/palm-alchemist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 41027946, "answer_count": 1, "score": -1, "last_activity_date": 1481147211, "creation_date": 1481146993, "question_id": 41027911, "link": "https://stackoverflow.com/questions/41027911/how-do-i-read-data-from-two-cells-in-a-table-row-perform-calculations-on-the-va", "title": "How do I read data from two cells in a table row, perform calculations on the values then store the result into a third cell on the same row?", "body": "<p>I'm still in the process of figuring out how to work with tables and data Grids so this is probably a dumb question showing lack of experience..but here goes. I have a table in which I want to multiply two values  and place the answer in a third cell on the same row in the table. The calculation(mainly multiplication)/method should produce a unique answer for each row in the table. I tried using a DataReader to pick values out from the table then perform the calculation and send the result back to the table but I couldn't figure out how to make the calculation take place uniquely for each row..Also Would it be wiser to create the column to place the answer before-hand or should I rather Update the table by adding a new column in the process? I hope someone gets me and can help me, thanks.</p>\n"}, {"tags": ["c#", "arduino", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 189, "user_id": 5627812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dc4ad21e76a100b674f47f715d2d17b?s=128&d=identicon&r=PG&f=1", "display_name": "skar", "link": "https://stackoverflow.com/users/5627812/skar"}, "edited": false, "score": 0, "creation_date": 1481150700, "post_id": 41027839, "comment_id": 69264917, "body": "have you tried the <code>StartUpdatesAsync()</code> method on the characteristic? that should connect you to the characteristic for Reading and Writing"}, {"owner": {"reputation": 332, "user_id": 7226796, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1bf12726d183d95fbc129e8a06edfe6d?s=128&d=identicon&r=PG&f=1", "display_name": "Martman", "link": "https://stackoverflow.com/users/7226796/martman"}, "reply_to_user": {"reputation": 189, "user_id": 5627812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dc4ad21e76a100b674f47f715d2d17b?s=128&d=identicon&r=PG&f=1", "display_name": "skar", "link": "https://stackoverflow.com/users/5627812/skar"}, "edited": false, "score": 0, "creation_date": 1481202504, "post_id": 41027839, "comment_id": 69287771, "body": "@skar ah ok, but do i not need to connect my ICharacteristics with my device somehow? How do the <code>ICharacteristics</code> know to what device it will send it&#39;s data? Or does it automaticlly recognize that when you are connected to a bluetooth?"}], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 7226796, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1bf12726d183d95fbc129e8a06edfe6d?s=128&d=identicon&r=PG&f=1", "display_name": "Martman", "link": "https://stackoverflow.com/users/7226796/martman"}, "edited": false, "score": 0, "creation_date": 1481215570, "post_id": 41044291, "comment_id": 69296818, "body": "Alright! Thanks a lot for the answer. Cleared a lot of questions that i had. I am using  this module: <a href=\"http://www.ebay.com/itm/HM-10-BLE-Bluetooth-4-0-CC2540-CC2541-Serial-Wireless-Module-Arduino-Android-IOS-/141783453254?hash=item2102f3ce46:g:QSAAAOSwKIpWA624\" rel=\"nofollow noreferrer\">ebay.com/itm/&hellip;</a> I will have to read about what to send to this particular device! But I would guess it is a characteristic."}], "tags": [], "owner": {"reputation": 221, "user_id": 5340851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de6e9883306ba914ad2825d45dde0798?s=128&d=identicon&r=PG&f=1", "display_name": "C. Yu", "link": "https://stackoverflow.com/users/5340851/c-yu"}, "is_accepted": true, "score": 3, "last_activity_date": 1481214644, "creation_date": 1481214644, "answer_id": 41044291, "question_id": 41027839, "link": "https://stackoverflow.com/questions/41027839/how-to-send-and-receive-data-via-bluetooth-ble/41044291#41044291", "title": "How to send and receive data via bluetooth BLE?", "body": "<p>If you haven't already done so, check your Arduino device documentation to see which characteristic you need to be writing to/reading from. A characteristic will be a \"child\" of a specific service. Both services and characteristics have UUIDs that you can use to reference them. </p>\n\n<p>On your mobile app, you should initiate a service discovery phase when your BLE device is connected. When you have obtained the service, you can search and get a reference to your characteristic. Something along the lines of:</p>\n\n<pre><code>var service = await connectedDevice.GetServiceAsync(Guid.Parse(\"&lt;service-uuid-here&gt;\"));\nvar characteristic = await service.GetCharacteristicAsync(Guid.Parse(\"&lt;characteristic-uuid-here&gt;\"));\n\n// ...\n\ncharacteristic.WriteAsync(message);\n</code></pre>\n"}], "owner": {"reputation": 332, "user_id": 7226796, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1bf12726d183d95fbc129e8a06edfe6d?s=128&d=identicon&r=PG&f=1", "display_name": "Martman", "link": "https://stackoverflow.com/users/7226796/martman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4761, "favorite_count": 0, "accepted_answer_id": 41044291, "answer_count": 1, "score": 2, "last_activity_date": 1483820612, "creation_date": 1481146688, "last_edit_date": 1483820612, "question_id": 41027839, "link": "https://stackoverflow.com/questions/41027839/how-to-send-and-receive-data-via-bluetooth-ble", "title": "How to send and receive data via bluetooth BLE?", "body": "<p>I have just started working with arduino/bluetooth and i am now looking to work with it and send and recieve commands via an app.</p>\n\n<p>I am currently working with a bluetooth BLE device that I want to connect to both iOS and android but I am scratching my head a bit on how to correctly send and recieve data (byte[]) to the device via bluetooth BLE.</p>\n\n<p>In order to send and recieve info between the app and the bluetooth/arduino i work with <code>ICharacteristic</code> (that i think is the correct interface in order to send data via BLE) but I am unsure on how I should connect that to the device that I find.</p>\n\n<p>I will show my code so you can see my clearly what I mean.</p>\n\n<pre><code>public class bluetoothConnection\n{\n    public IAdapter thisAdapter { get; set; }\n    public ICharacteristic thisCharacteristic {get; set;} \n}\n</code></pre>\n\n<p>my connect-function where I connect to the exact device by its name and UUID. If i find something then my button where I try to send data will be enabled and useable.</p>\n\n<pre><code>public async void connect()\n{\n    await myConnection.thisAdapter.StartScanningForDevicesAsync();\n\n    myConnection.thisAdapter.DeviceDiscovered += async (sender, e) =&gt;\n    {\n            if (e.Device.Id.ToString().Equals (\"00001101 - 0000 - 1000 - 8000 - 00805f9b34fb\" &amp;&amp; e.Device.Name == \"HC-05\"))\n            {\n                await myConnection.thisAdapter.ConnectToDeviceAsync(e.Device);\n                sendCommandButton.IsEnabled = true; //so my button is enabled and that function is below\n            }\n    };\n}\n</code></pre>\n\n<p>So this button below is enabled if i find my bluetooth device from my arduino and now I try to send info to my arduino but how do I connect <code>thisCharacteristic</code>to the device that I just found above?</p>\n\n<pre><code>byte[] byteText = Encoding.UTF8.GetBytes(\"send this textline\");\n\nvoid sendCommandToArduino(object s, EventArgs e)\n{\n    myConnection.thisCharacteristic.WriteAsync(byteText);\n}\n</code></pre>\n\n<p>This is how I read to see if the arduino sent anything to the app:</p>\n\n<pre><code>var info = myConnection.thisCharacteristic.ReadAsync();\nvar result = info.Result;\nstring textresult = Encoding.UTF8.GetString(result);\n</code></pre>\n\n<p>I would of course put this in a while loop to constantly look for data.</p>\n\n<p>So my question is: In order to send data via bluetooth (app and BLE device) do I use <code>ICharacteristic</code>(with my current nuget that i use) and if so, how do I connect <code>ICharacteristic</code>to the device that I found in order to send and recieve data via bluetooth BLE?</p>\n"}, {"tags": ["c#", "entity-framework", "datetime"], "comments": [{"owner": {"reputation": 58863, "user_id": 1875256, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/no10d.jpg?s=128&g=1", "display_name": "Ehsan Sajjad", "link": "https://stackoverflow.com/users/1875256/ehsan-sajjad"}, "edited": false, "score": 0, "creation_date": 1481146712, "post_id": 41027809, "comment_id": 69263086, "body": "so the above snippet is not working for you?"}, {"owner": {"reputation": 480, "user_id": 5063152, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh3.googleusercontent.com/-fF3RN6yxx8Q/AAAAAAAAAAI/AAAAAAAAAyg/O85S2-2B8Tc/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5063152/stephen"}, "edited": false, "score": 0, "creation_date": 1481146790, "post_id": 41027809, "comment_id": 69263132, "body": "Yes, it isn&#39;t working. It gets all of the date ranges between the months (first line) but then it returns zero results when it tries to filter on the days (second line)."}, {"owner": {"reputation": 16951, "user_id": 2147652, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/WqlGm.jpg?s=128&g=1", "display_name": "mybirthname", "link": "https://stackoverflow.com/users/2147652/mybirthname"}, "edited": false, "score": 0, "creation_date": 1481146912, "post_id": 41027809, "comment_id": 69263202, "body": "Can you give example dates for BegindDate and EndDate and also the filter dates and what exactly you want to have as result."}, {"owner": {"reputation": 480, "user_id": 5063152, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh3.googleusercontent.com/-fF3RN6yxx8Q/AAAAAAAAAAI/AAAAAAAAAyg/O85S2-2B8Tc/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5063152/stephen"}, "edited": false, "score": 0, "creation_date": 1481146922, "post_id": 41027809, "comment_id": 69263210, "body": "Yes, those were typos. This isn&#39;t the exact same code that I am working with; its merely an example."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 1, "creation_date": 1481147061, "post_id": 41027809, "comment_id": 69263283, "body": "Aren&#39;t all of your intervals backwards? Don&#39;t you want <code>Begin &gt;= start &amp;&amp; End &lt;= finish</code>? You have the reverse, <code>Begin &lt;= start &amp;&amp; End &gt;= finish</code>."}, {"owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "edited": false, "score": 0, "creation_date": 1481147072, "post_id": 41027809, "comment_id": 69263287, "body": "Have you tried to run this example code to see if works? It looks like it should. Then compare the working example to your real code to see where the differences are. Those differences will be where the error is. Also you don&#39;t really want to be storing the results of the first query as a concrete list."}, {"owner": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "edited": false, "score": 0, "creation_date": 1481147115, "post_id": 41027809, "comment_id": 69263313, "body": "Why are you separating those? can&#39;t you just compare dates: r.BeginDate &lt;= startDate.Date &amp;&amp; r.EndDate.Date.AddDays(1).AddTicks(-1)"}, {"owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "reply_to_user": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "edited": false, "score": 1, "creation_date": 1481147228, "post_id": 41027809, "comment_id": 69263369, "body": "@YaserAdelMehraban the OP already said that they have to ignore the year part of the date."}, {"owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "edited": false, "score": 1, "creation_date": 1481147427, "post_id": 41027809, "comment_id": 69263462, "body": "Why is end date 12/31 included in the result if finish date is 12/12? Doesn&#39;t that make 12/31 be out of the filtered range?"}], "answers": [{"tags": [], "owner": {"reputation": 9397, "user_id": 2279448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e686e04e095735f571dff07ea9818a9?s=128&d=identicon&r=PG", "display_name": "Zoran Horvat", "link": "https://stackoverflow.com/users/2279448/zoran-horvat"}, "is_accepted": true, "score": 2, "last_activity_date": 1481147676, "last_edit_date": 1481147676, "creation_date": 1481147250, "answer_id": 41027975, "question_id": 41027809, "link": "https://stackoverflow.com/questions/41027809/how-to-compare-just-month-and-day-from-a-datetime-object/41027975#41027975", "title": "How to compare just month and day from a datetime object", "body": "<p>There are two cases in your condition - month equal to boundary month, in which case you must test day number, and a different month, in which you ignore day. Hence the query:</p>\n\n<pre><code>List&lt;DateRanges&gt; tempDateRangeList = \n    dataContext.DateRanges.Where(r =&gt;\n        ((r.BeginDate.Month &lt; startDate.Month) || \n         (r.BeginDate.Month == startDate.Month &amp;&amp; r.BeginDate.Day &lt;= startDate.Day)) &amp;&amp;\n        ((r.EndDate.Month &gt; finishDate.Month) ||\n         (r.EndDate.Month == finishDate.Month) &amp;&amp; r.EndDate.Day &gt;= finsihDate.Day))\n    .ToList();\n</code></pre>\n\n<p>Condition is ugly and very hard to follow but covers all cases. This query returns all records which define date ranges that completely fall under the boundary dates.</p>\n\n<p>If you wish to find records that are just overlapping (completely or partially) with the filtering range, then the query would be:</p>\n\n<pre><code>List&lt;DateRanges&gt; tempDateRangeList = \n    dataContext.DateRanges.Where(r =&gt;\n        ((r.BeginDate.Month &lt; endDate.Month) || \n         (r.BeginDate.Month == endDate.Month &amp;&amp; r.BeginDate.Day &lt;= endDate.Day)) &amp;&amp;\n        ((r.EndDate.Month &gt; startDate.Month) ||\n         (r.EndDate.Month == startDate.Month) &amp;&amp; r.EndDate.Day &gt;= startDate.Day))\n    .ToList();\n</code></pre>\n\n<p>This condition may bend your mind, but it works fine.</p>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 7211484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80f52f1aedc733a67e27f814e4b6c3de?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea Grillo", "link": "https://stackoverflow.com/users/7211484/andrea-grillo"}, "is_accepted": false, "score": 0, "last_activity_date": 1481149371, "last_edit_date": 1481149371, "creation_date": 1481149018, "answer_id": 41028387, "question_id": 41027809, "link": "https://stackoverflow.com/questions/41027809/how-to-compare-just-month-and-day-from-a-datetime-object/41028387#41028387", "title": "How to compare just month and day from a datetime object", "body": "<p>If a lambda expression isn't compulsory, I've used linq queries (because it was the first solution i've thought).</p>\n\n<pre><code>var validRanges = from range in ranges\n                  where range.BeginDate.CompareTo(startDate) &lt;= 0\n                  where range.EndDate.CompareTo(endDate) &gt;= 0\n                  select range;\n</code></pre>\n\n<p>Using <strong>CompareTo</strong> is the easiest way to compare two DateTime struct.\nI invite you to take a look <a href=\"https://msdn.microsoft.com/en-us/library/x79949f0(v=vs.110).aspx\" rel=\"nofollow noreferrer\">here</a> for a complete description of the method.</p>\n\n<h2>Edit</h2>\n\n<p>If you aren't interested in hours of your dates, but only in Day and Month, you should use <code>range.BeginDate.Date.CompareTo(startDate.Date)</code> and <code>range.EndDate.Date.CompareTo(endDate.Date)</code></p>\n"}], "owner": {"reputation": 480, "user_id": 5063152, "user_type": "registered", "accept_rate": 42, "profile_image": "https://lh3.googleusercontent.com/-fF3RN6yxx8Q/AAAAAAAAAAI/AAAAAAAAAyg/O85S2-2B8Tc/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/5063152/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5858, "favorite_count": 0, "accepted_answer_id": 41027975, "answer_count": 2, "score": 7, "last_activity_date": 1481149371, "creation_date": 1481146543, "last_edit_date": 1481147313, "question_id": 41027809, "link": "https://stackoverflow.com/questions/41027809/how-to-compare-just-month-and-day-from-a-datetime-object", "title": "How to compare just month and day from a datetime object", "body": "<p>In my C# program I have run into an obstacle where I have a table that stores date ranges (columns are date range ID (int), begin date (DateTime) and end date (DateTime). I want to query the table and get back rows that only fall within a specific date range. I cannot use datetime.date since that includes the year.</p>\n\n<p>So for example, I want to query the table and get all date ranges that fall between 01-01 and 5-31. </p>\n\n<p>I have tried using the following lambda to query the table, but my result set is empty.</p>\n\n<pre><code>List&lt;DateRanges&gt; tempDateRangeList = dataContext\n                                     .DateRanges\n                                     .Where(r=&gt;r.BeginDate.Month &lt;= startDate.Month \n                                               &amp;&amp; r.EndDate.Month &gt;= finishDate.Month)\n                                     .ToList();\n\ntempDateRangeList = tempDateRangeList.Where(r=&gt;r.BeginDate.Day &lt;= startDate.Day \n                                               &amp;&amp; r.EndDate.Day &gt;= finishDate.Day)\n                                     .ToList();\n</code></pre>\n\n<p>Does anyone have any suggestions on how I could accomplish this? </p>\n\n<p>Edit: </p>\n\n<p>Examples of BeginDate and EndDate would be a list such as follows:</p>\n\n<p>BeginDate 1/1/2016, 5/25/2016, 9/11/2016</p>\n\n<p>EndDates 5/24/2016, 9/10/2016, 12/31/2016</p>\n\n<p>Filter date would be:\nstartDate = 12/8\nfinishDate = 12/12</p>\n\n<p>Expected result:\nBegin Date of 9/11\nEnd date of 12/31</p>\n"}, {"tags": ["c#", "asynchronous", "bluetooth", "async-await", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "edited": false, "score": 0, "creation_date": 1481149556, "post_id": 41027760, "comment_id": 69264425, "body": "@Noseratio - Can you please have a look at this question ? thank you very much"}], "answers": [{"comments": [{"owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "edited": false, "score": 0, "creation_date": 1481149002, "post_id": 41028301, "comment_id": 69264207, "body": "Y - I am thinking there should be a better way, though I am not sure. What you are suggesting is essentially blocking till you get necessary bytes."}, {"owner": {"reputation": 1118, "user_id": 4333844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf5fe6c1d0fb708efb1ffdc0b4ee962?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Y.", "link": "https://stackoverflow.com/users/4333844/jorge-y"}, "reply_to_user": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "edited": false, "score": 0, "creation_date": 1481154221, "post_id": 41028301, "comment_id": 69266291, "body": "Well, maybe there is a better way, but having several calls to <b>ReadAsync</b> inside <b>FromStream</b> shouldn&#39;t block the method calling <b>FromStream</b> unless you reach the point where you need to await the Task&lt;MySerialPacket&gt; returned by <b>FromStream</b>"}], "tags": [], "owner": {"reputation": 1118, "user_id": 4333844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abf5fe6c1d0fb708efb1ffdc0b4ee962?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Y.", "link": "https://stackoverflow.com/users/4333844/jorge-y"}, "is_accepted": false, "score": 0, "last_activity_date": 1481148649, "creation_date": 1481148649, "answer_id": 41028301, "question_id": 41027760, "link": "https://stackoverflow.com/questions/41027760/reading-a-complete-packet-asychronously-suing-system-io-stream-readasync/41028301#41028301", "title": "Reading a complete packet asychronously suing System.IO.Stream.ReadAsync()", "body": "<p>Instead of looking for a framework function... why not use looping calls to ReadAsync until you get <code>DataLength</code> bytes read? You would only need to change the 0 parameter in the call with the total bytes you have read so far.</p>\n"}], "owner": {"reputation": 12459, "user_id": 316082, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a18baaf9417df189af31b53af03adb1c?s=128&d=identicon&r=PG", "display_name": "liv2hak", "link": "https://stackoverflow.com/users/316082/liv2hak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481148649, "creation_date": 1481146324, "last_edit_date": 1481147972, "question_id": 41027760, "link": "https://stackoverflow.com/questions/41027760/reading-a-complete-packet-asychronously-suing-system-io-stream-readasync", "title": "Reading a complete packet asychronously suing System.IO.Stream.ReadAsync()", "body": "<p>I have a C# <code>async</code> function from <code>FromStream</code> that I am trying to read from a <code>Bluetooth LE</code> stream.</p>\n\n<pre><code>  public static async Task&lt;MySerialPacket&gt; FromStream(Stream stream, HashComputingFunc computeHash, IMyMessageFactory factory)\n        {\n            var packet = new MySerialPacket(computeHash);\n\n            packet.m_header = await MySerialHeader.FromStream(stream, computeHash);\n\n            var b = new byte[packet.m_header.DataLength];\n\n            var bytes_read = await stream.ReadAsync(b, 0, packet.m_header.DataLength); \n\n\n            packet.VerifyCheckSum(b, \"Data\");\n\n            var count = b[0];\n\n            if (count &gt; 0)\n            {\n                var lengths = new short[count];\n\n                for (var i = 0; i &lt; count; i++)\n                {\n                    lengths[i] = (short)(b[1 + i * 2] | b[2 + i * 2] &gt;&gt; 8);\n                }\n\n                var startByte = 1 + 2 * count;\n\n                for (var i = 0; i &lt; count; i++)\n                {\n                    var m = b.Skip(startByte).Take(lengths[i]).ToArray();\n                    packet.Message = factory.FromBytes(m);\n                }\n            }\n\n            return packet;\n        }\n</code></pre>\n\n<p><code>ReadAsync</code> currently returns a non-zero number of bytes that is less than or equal to <code>DataLength</code> (bytes requested).</p>\n\n<p>As you can see I need the <code>DataLength</code> bytes for a well formed packet.What is a sensible way to handle this problem. Does C# framework provide any functions to handle this scenario. I would ideally prefer a non-blocking way.</p>\n"}, {"tags": ["c#", ".net", "bitcoin", "blockchain"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1494583327, "post_id": 41027747, "comment_id": 74901890, "body": "Is using QBitNinja a requirement? Because I remember I did the same with BitcoinLib some years ago (memories are quite rusty but I&#39;m sure I had local bitcoin node and used that to query different kind of stuff, including balance)."}, {"owner": {"reputation": 2708, "user_id": 3783852, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/fdbsW.png?s=128&g=1", "display_name": "rvnlord", "link": "https://stackoverflow.com/users/3783852/rvnlord"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 1, "creation_date": 1494590504, "post_id": 41027747, "comment_id": 74906503, "body": "Ideally I would like to use NBitcoin only like in my second method which doesn&#39;t work and I don&#39;t know why. QBitNinja Server on IIS is my second option, but as you mentioned BitcoinLib, I might give it a try as a last resort. Balance here is just an example, I would like to query local blockchain for many interesting things. Though I thought that BitcoinLib is not updated anymore. I appreciate any help and it looks like you are the only one who is trying so far :). So yes I will give you the 50 rep if no one give better answer."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1494590775, "post_id": 41027747, "comment_id": 74906709, "body": "Well last commit was 7 months ago, not that long ago (and there is pending pull request by contibutor in march current year), so I wouldn&#39;t say it&#39;s not updated any more. As for querying for many interesting things - BitcoinLib is just a proxy to official RPC api, so I guess you can query everything with it. Though of course if you already put some work into QBitNinja I understand you might want to stick with it."}, {"owner": {"reputation": 13888, "user_id": 469319, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/HfDJ2.png?s=128&g=1", "display_name": "RLH", "link": "https://stackoverflow.com/users/469319/rlh"}, "edited": false, "score": 1, "creation_date": 1516108435, "post_id": 41027747, "comment_id": 83547809, "body": "I don&#39;t have a local node but I worked with blockchain code a good bit about 4 years ago.  I can give a very good educated guess that the reason why this may be taking so long is the way the serialized blockchain data is structured and the way the linq engine queries that data.  I suspect that your routine is &quot;hanging&quot; because the underlying parsing/querying code isn&#39;t optimized.  Your code is very-likely working but it may need some underlying optimizations for responsive execution."}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 12, "creation_date": 1517061614, "post_id": 41027747, "comment_id": 83946177, "body": "Hi, it&#39;s an old question but I saw this yesterday. I tried your code with NBitcoin. Your code works on my partial old local node only if I comment this line index.ReIndex(); and this line var chain = node.GetChain();. I also tweaked my code a little bit that instead of GetChain I did GetBlocks. and simillar changes to make it work. I don&#39;t want to get downvoted so I am posting this comment :) . I hope it helps you."}, {"owner": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "reply_to_user": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 19, "creation_date": 1521674975, "post_id": 41027747, "comment_id": 85838038, "body": "@Hey24sheep Your code works? Then post it as answer. I don&#39;t believe anybody would downvote you for a working solution."}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "reply_to_user": {"reputation": 5553, "user_id": 1540350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/bcigi.jpg?s=128&g=1", "display_name": "Martin Braun", "link": "https://stackoverflow.com/users/1540350/martin-braun"}, "edited": false, "score": 1, "creation_date": 1521740673, "post_id": 41027747, "comment_id": 85872294, "body": "@modiX and Kobik, I couldn&#39;t find my project and I don&#39;t have the node now So I can&#39;t reproduce it, idk Why (Might be that my node needs to be synced before I can do anything). I found out that this is obsolete method anyway. We should use some explorer or something now. <a href=\"https://github.com/MetacoSA/NBitcoin/issues/332\" rel=\"nofollow noreferrer\">github.com/MetacoSA/NBitcoin/issues/332</a>"}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "reply_to_user": {"reputation": 20419, "user_id": 937125, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2557944bfee9215dac2d0923b43f5406?s=128&d=identicon&r=PG", "display_name": "kobik", "link": "https://stackoverflow.com/users/937125/kobik"}, "edited": false, "score": 0, "creation_date": 1521740705, "post_id": 41027747, "comment_id": 85872320, "body": "@kobik and modix, <a href=\"https://programmingblockchain.gitbooks.io/programmingblockchain/content/wallet/web-api.html\" rel=\"nofollow noreferrer\">programmingblockchain.gitbooks.io/programmingblockchain/cont&zwnj;&#8203;ent/&hellip;</a>"}, {"owner": {"reputation": 3991, "user_id": 437054, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vxdsu.jpg?s=128&g=1", "display_name": "Rich Bianco", "link": "https://stackoverflow.com/users/437054/rich-bianco"}, "reply_to_user": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 5, "creation_date": 1527638919, "post_id": 41027747, "comment_id": 88198416, "body": "Why are people afraid to post a solution and get down voted? Is this a sign that Bitcoin is not what we think it is? Should I NOT be concerned as a Bitcoin speculator? Referring to comment made by @Hey24sheep and others. Yellow flag time?"}, {"owner": {"reputation": 2708, "user_id": 3783852, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/fdbsW.png?s=128&g=1", "display_name": "rvnlord", "link": "https://stackoverflow.com/users/3783852/rvnlord"}, "reply_to_user": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 0, "creation_date": 1536260097, "post_id": 41027747, "comment_id": 91370397, "body": "@Hey24sheep: Kindly post it as an answer with code snippet so I can mark it as accepted answer, thanks."}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 1, "creation_date": 1536374245, "post_id": 41027747, "comment_id": 91412445, "body": "@rvnlord Hi, I am sorry but I don&#39;t have the code and the node to check it back. I tried it again when I was responded to but I wasn&#39;t able to get the same results that I got before. I did that long ago."}, {"owner": {"reputation": 8386, "user_id": 1682559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MefSP.jpg?s=128&g=1", "display_name": "Kevin Cruijssen", "link": "https://stackoverflow.com/users/1682559/kevin-cruijssen"}, "reply_to_user": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 0, "creation_date": 1537263647, "post_id": 41027747, "comment_id": 91711188, "body": "@Hey24sheep Just a tip for next time: even if you post an answer and get downvoted, deleting it will get you all your points back anyway.. Besides, as others have mentioned, if you have a working solution with proper explanation in your answer, I don&#39;t see any reason why someone would downvote you for it."}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "reply_to_user": {"reputation": 8386, "user_id": 1682559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MefSP.jpg?s=128&g=1", "display_name": "Kevin Cruijssen", "link": "https://stackoverflow.com/users/1682559/kevin-cruijssen"}, "edited": false, "score": 0, "creation_date": 1543554010, "post_id": 41027747, "comment_id": 93968856, "body": "@KevinCruijssen I will remember it the next time. I had a working solution. I am just afraid of downvotes, cuz I have been downvoted for right answers in the past."}, {"owner": {"reputation": 2708, "user_id": 3783852, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/fdbsW.png?s=128&g=1", "display_name": "rvnlord", "link": "https://stackoverflow.com/users/3783852/rvnlord"}, "reply_to_user": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 1, "creation_date": 1543610530, "post_id": 41027747, "comment_id": 93995088, "body": "@Hey24sheep You can be downvoted for correct answer, working solution, valid question, speaking the truth or for nothing at all. Don&#39;t let such silly things define you. If your knowledge adds value to the topic and helps somebody, that is the most important thing. Don&#39;t let anyone discourage you. I corrected the code, thanks to your advice sometime earlier, however I can&#39;t test it against the local node because I don&#39;t have one anymore. I am grateful for your contribution though. If you provide working solution as an answer, whenever you feel ready, I will make sure you receive a bounty."}, {"owner": {"reputation": 1087, "user_id": 5439109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4rVC.jpg?s=128&g=1", "display_name": "Hey24sheep", "link": "https://stackoverflow.com/users/5439109/hey24sheep"}, "edited": false, "score": 1, "creation_date": 1543753436, "post_id": 41027747, "comment_id": 94023802, "body": "@rvnlord I don&#39;t have the solution or the node. I will keep it in mind for the next time though :) Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 2708, "user_id": 3783852, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/fdbsW.png?s=128&g=1", "display_name": "rvnlord", "link": "https://stackoverflow.com/users/3783852/rvnlord"}, "edited": false, "score": 0, "creation_date": 1536260012, "post_id": 52194901, "comment_id": 91370354, "body": "I completely forgot about this question. @Hey24sheep solved the problem, though I don&#39;t have full local node available now. I needed attempt to query LOCAL and OFFLINE data back then. I needed to query it much faster than I can achieve by using APIs to 3rd party sources."}], "tags": [], "owner": {"reputation": 46070, "user_id": 1410664, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/vGygm.gif?s=128&g=1", "display_name": "Caius Jard", "link": "https://stackoverflow.com/users/1410664/caius-jard"}, "is_accepted": false, "score": 3, "last_activity_date": 1536193365, "creation_date": 1536193365, "answer_id": 52194901, "question_id": 41027747, "link": "https://stackoverflow.com/questions/41027747/query-local-bitcoin-blockchain-with-c-net/52194901#52194901", "title": "Query LOCAL Bitcoin blockchain with C# .NET", "body": "<p>The first and second attempts in your question are nothing alike. First one uses json rpc to ask the daemon for the balance (and I dare say it's the proper way - you don't take the top off your car engine and push the pistons up and down yourself to achieve forward motion, do\nyou?) the second attempts to open the daemon's database itself and calculate the balance directly. </p>\n\n<p>You don't \"need a network\" to query the localhost, you just need a machine that has TCP/IP support installed, so just use the first method by whatever means - either by using a library that writes the relevant json-rpc data into an http request, or by forming the relevant http request yourself.. </p>\n\n<p>BitcoinLib may or may not be maintained (I don't know) but that doesn't invalidate its ability to query your local daemon; as far as I know GetBalance hasn't been removed or refactored, and I use BitcoinLib with the latest bitcoind for a variety of operations including GetBalance </p>\n"}], "owner": {"reputation": 2708, "user_id": 3783852, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/fdbsW.png?s=128&g=1", "display_name": "rvnlord", "link": "https://stackoverflow.com/users/3783852/rvnlord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10159, "favorite_count": 36, "protected_date": 1532848665, "answer_count": 1, "score": 177, "last_activity_date": 1595916999, "creation_date": 1481146287, "last_edit_date": 1514398245, "question_id": 41027747, "link": "https://stackoverflow.com/questions/41027747/query-local-bitcoin-blockchain-with-c-net", "title": "Query LOCAL Bitcoin blockchain with C# .NET", "body": "<p>I am trying to check the <strong>balance</strong> of a given Bitcoin address by using <strong><em>ONLY</em></strong> the locally stored blockchain (downloaded via Bitcoin Core). Something similar to this (by using NBitCoin and/or QBitNinja), but without needing access to the network:</p>\n\n<pre><code>private static readonly QBitNinjaClient client = new QBitNinjaClient(Network.Main);\n\npublic decimal CheckBalance(BitcoinPubKeyAddress address)\n{\n    var balanceModel = client.GetBalance(address, true).Result;\n    decimal balance = 0;\n\n    if (balanceModel.Operations.Count &gt; 0)\n    {\n        var unspentCoins = new List&lt;Coin&gt;();\n        foreach (var operation in balanceModel.Operations)\n            unspentCoins.AddRange(operation.ReceivedCoins.Select(coin =&gt; coin as Coin));\n        balance = unspentCoins.Sum(x =&gt; x.Amount.ToDecimal(MoneyUnit.BTC));\n    }\n    return balance;\n}\n</code></pre>\n\n<p>The example above needs access to the network. I need to do the same thing offline. I came up with something like this, but obviously it doesn't work:</p>\n\n<pre><code>public decimal CheckBalanceLocal(BitcoinPubKeyAddress address)\n{\n    var node = Node.ConnectToLocal(Network.Main);\n    node.VersionHandshake();\n    var chain = node.GetChain();\n\n    var store = new BlockStore(@\"F:\\Program Files\\Bitcoin\\Cache\\blocks\", Network.Main);\n\n    var index = new IndexedBlockStore(new InMemoryNoSqlRepository(), store);\n    index.ReIndex();\n\n    var headers = chain.ToEnumerable(false).ToArray();\n\n    var balance = (\n        from header in headers\n        select index.Get(header.HashBlock) \n        into block\n        from tx in block.Transactions\n        from txout in tx.Outputs\n        where txout.ScriptPubKey.GetDestinationAddress(Network.Main) == address\n        select txout.Value.ToDecimal(MoneyUnit.BTC)).Sum();\n\n    return balance;\n}\n</code></pre>\n\n<ol>\n<li>It hangs during the query</li>\n<li>I want something instead of <code>InMemoryNoSqlRepository</code> to be stored in a file in order to prevent using <code>ReIndex()</code> which slows everything down</li>\n</ol>\n\n<p>My requirement is to <strong><em>Check Balance</em></strong> the same way as in the first method but by querying blocks stored on my disk.</p>\n\n<p>Actually what I require might just be an answer to <a href=\"https://bitcoin.stackexchange.com/questions/50817/how-to-run-qbitninja-server-locally\">this question</a>: </p>\n"}, {"tags": ["c#", "sql", "sql-server", "error-handling", "sqlclient"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1481148364, "post_id": 41027711, "comment_id": 69263904, "body": "Why are you doing <code>catch (Exception ex) { throw new System.ArgumentException(ex.Message); }</code> ? It&#39;s not an <code>ArgumentException</code>, and you&#39;re wiping out the original stack trace, exception class, and any other details. Just remove that <code>try&#47;catch</code>."}, {"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1481160589, "post_id": 41027711, "comment_id": 69268195, "body": "&quot;Object reference not set to an instance of an object&quot; means it&#39;s NRE, you should include <code>throw new NullReferenceException(&quot;message&quot;)</code> on catch clause. You can catch multiple exceptions by using if-condition and set exception message to be shown when error occurred."}], "owner": {"reputation": 632, "user_id": 3777164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/01c890f0b532a029c1f3f331c8ef918b?s=128&d=identicon&r=PG", "display_name": "beeker", "link": "https://stackoverflow.com/users/3777164/beeker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481147981, "creation_date": 1481146172, "last_edit_date": 1481147981, "question_id": 41027711, "link": "https://stackoverflow.com/questions/41027711/throwing-sqldatareader-errors-upwards", "title": "Throwing SQLDataReader Errors Upwards", "body": "<p>I have a basic class for filling some properties using SqlDataReader.  Additionally, there is a class for doing type conversions (SConvert) and filling the object.  The SqlDataReader retrieves data but, somewhere in the type conversions there is a problem, probably requesting a field by the wrong name.  The problem I'm having is that the error get's caught way up in the 'FindAll' method and has no meaningful information.  I would like to get meaningful errors thrown up from the SConvert class <em>(e.g. something more than ' Object reference not set to an instance of an object.')</em> and be told which field is being requested incorrectly.</p>\n\n<p>Any ideas to start me on the path to getting this figured out would be very much appreciated.</p>\n\n<p>I put three comments in the code '// &lt;--...' that indicate where the error is being caught, the spelling error, and what should be thrown to the top.</p>\n\n<pre><code>public class People\n    {\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public int Age { get; set; }\n\n        public static List&lt;People&gt; FindAll()\n        {\n            List&lt;People&gt; pl = new List&lt;DataService.People&gt;();\n\n            try\n            {\n                using (SqlConnection sqlConnection = new SqlConnection(\"MyConnectionString\"))\n                {\n                    sqlConnection.Open();\n                    using (SqlCommand sqlCommand = new SqlCommand(\"MyStoredProc\", sqlConnection))\n                    {\n                        sqlCommand.CommandType = System.Data.CommandType.StoredProcedure;\n                        SqlDataReader sqlDataReader = sqlCommand.ExecuteReader();\n                        while (sqlDataReader.Read())\n                        {\n                            People p = readData(sqlDataReader);\n                            pl.Add(p);\n                        }\n                    }\n                }\n            }\n            catch (Exception ex) { throw new System.ArgumentException(ex.Message); } // &lt;--EXCEPTION GETS CAUGHT HERE ***\n            return pl;\n        }\n\n        private static People readData(SqlDataReader sqlDataReader)\n        {\n            People p = null;\n            SConvert sc = new DataService.SConvert(sqlDataReader);\n            p = new DataService.People()\n            {\n                FirstName = sc.SToString(\"FirstNme\"), // &lt;--SPELLING ERROR HERE\n                LastName = sc.SToString(\"LastName\"),\n                Age = sc.SToInt(\"Age\")\n            };\n            return p;\n        }\n    }\n</code></pre>\n\n<p>The conversions:</p>\n\n<pre><code>public class SConvert\n    {\n        private SqlDataReader sqlr;\n        public SConvert(SqlDataReader sqlDataReader) { sqlr = sqlDataReader; }\n        public string SToString(string FieldName)\n        {\n            try { return sqlr[FieldName].ToString(); }\n            catch { throw new System.ArgumentException(string.Format(\"Error in SConvert when converting string value for field: {0}\", FieldName)); } // &lt;--I WANT THIS EXCEPTION THROWN UP TO THE TOP (SEE ***)\n        }\n        public int SToInt(string FieldName)\n        {\n            try { return (string.IsNullOrEmpty(sqlr[FieldName].ToString())) ? 0 : Convert.ToInt32(sqlr[FieldName].ToString()); }\n            catch { throw new System.ArgumentException(string.Format(\"Error in SConvert when converting int value for field: {0}\", FieldName)); }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "edited": false, "score": 0, "creation_date": 1481146479, "post_id": 41027688, "comment_id": 69262970, "body": "why are you putting the select in a for loop?"}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 7168524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/30653624e7957cf3cc5d13e339b4e7c4?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/7168524/newbie"}, "edited": false, "score": 0, "creation_date": 1481146390, "post_id": 41027744, "comment_id": 69262941, "body": "But it&#39;s not always the same? For each user it is a different time?"}, {"owner": {"reputation": 94, "user_id": 3100325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2pnA.jpg?s=128&g=1", "display_name": "colinharris05", "link": "https://stackoverflow.com/users/3100325/colinharris05"}, "reply_to_user": {"reputation": 229, "user_id": 7168524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/30653624e7957cf3cc5d13e339b4e7c4?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/7168524/newbie"}, "edited": false, "score": 0, "creation_date": 1481146510, "post_id": 41027744, "comment_id": 69262985, "body": "Sure, well it doesn&#39;t look like your options are dynamic right now. If you wanted a dynamic option to hold the value of the variable then try something like this"}, {"owner": {"reputation": 94, "user_id": 3100325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2pnA.jpg?s=128&g=1", "display_name": "colinharris05", "link": "https://stackoverflow.com/users/3100325/colinharris05"}, "reply_to_user": {"reputation": 229, "user_id": 7168524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/30653624e7957cf3cc5d13e339b4e7c4?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/7168524/newbie"}, "edited": false, "score": 0, "creation_date": 1481146659, "post_id": 41027744, "comment_id": 69263063, "body": "&lt;option value=&quot;@l.BegginingTime&quot; selected&gt;@l.BegginingTime&lt;/option&gt;"}, {"owner": {"reputation": 229, "user_id": 7168524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/30653624e7957cf3cc5d13e339b4e7c4?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/7168524/newbie"}, "edited": false, "score": 0, "creation_date": 1481147790, "post_id": 41027744, "comment_id": 69263645, "body": "hmm this seems like the easiest. But I need to display it as Am/PM But when I try to change it to Datetime in order to display it as such I am getting an error. Any idea why this wouldn&#39;t work? @string.Format(&quot;{0:hh:mm:ss tt}&quot;, new DateTime().Add(l.BegginingTime)) Error: The best overloaded method match for &#39;System.DateTime.Add(System.TimeSpan)&#39; has some invalid arguments"}], "tags": [], "owner": {"reputation": 94, "user_id": 3100325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2pnA.jpg?s=128&g=1", "display_name": "colinharris05", "link": "https://stackoverflow.com/users/3100325/colinharris05"}, "is_accepted": false, "score": 1, "last_activity_date": 1481146276, "last_edit_date": 1495542271, "creation_date": 1481146276, "answer_id": 41027744, "question_id": 41027688, "link": "https://stackoverflow.com/questions/41027688/displaying-default-value-in-dropdown-based-on-information-from-database/41027744#41027744", "title": "Displaying Default Value In Dropdown Based On Information From Database", "body": "<p>You should be able to use the attribute <code>selected</code>. Add that to whichever option in the dropdown you want to be selected by default.</p>\n\n<p>Reference <a href=\"https://stackoverflow.com/questions/3518002/how-can-i-set-the-default-value-for-an-html-select-element\">this post</a> for a similar question.</p>\n"}, {"tags": [], "owner": {"reputation": 963, "user_id": 847769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c557b37457d2312d0dda15e9006881b?s=128&d=identicon&r=PG", "display_name": "Yaman", "link": "https://stackoverflow.com/users/847769/yaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1481146390, "creation_date": 1481146390, "answer_id": 41027772, "question_id": 41027688, "link": "https://stackoverflow.com/questions/41027688/displaying-default-value-in-dropdown-based-on-information-from-database/41027772#41027772", "title": "Displaying Default Value In Dropdown Based On Information From Database", "body": "<p>You can also use jQuery and javascript</p>\n\n<pre><code>$(document).ready(function() {\n    $('.dropDown').val(beginTime);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "is_accepted": true, "score": 1, "last_activity_date": 1481146395, "creation_date": 1481146395, "answer_id": 41027773, "question_id": 41027688, "link": "https://stackoverflow.com/questions/41027688/displaying-default-value-in-dropdown-based-on-information-from-database/41027773#41027773", "title": "Displaying Default Value In Dropdown Based On Information From Database", "body": "<p>Add your dynamic value as an option then set the <strong>selected</strong> attribute</p>\n\n<pre><code>@foreach (var l in Model.Cleaner.TimeAvailables)\n      {     \n        &lt;select class=\"form-control dropDown\"  name=\"Sunday1From\"&gt;\n            &lt;option value=\"@l.BegginingTime\" selected&gt;@l.BegginingTime&lt;/option&gt;\n            &lt;option value=\"00:00:00\"&gt;12:00 AM&lt;/option&gt;\n            &lt;option value=\"00:30:00\"&gt;12:30 AM&lt;/option&gt;\n            &lt;option value=\"01:00:00\"&gt;1:00 AM&lt;/option&gt;\n            &lt;option value=\"01:30:00\"&gt;1:30 AM&lt;/option&gt;\n            &lt;option value=\"02:00:00\"&gt;2:00 AM&lt;/option&gt;\n            &lt;option value=\"02:30:00\"&gt;2:30 AM&lt;/option&gt;\n        &lt;/select&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "is_accepted": false, "score": 0, "last_activity_date": 1481146453, "creation_date": 1481146453, "answer_id": 41027793, "question_id": 41027688, "link": "https://stackoverflow.com/questions/41027688/displaying-default-value-in-dropdown-based-on-information-from-database/41027793#41027793", "title": "Displaying Default Value In Dropdown Based On Information From Database", "body": "<p>You are using a html select which is completely separate from your model. So there is two option here.</p>\n\n<p>Create your dropdown with MVC like this:</p>\n\n<pre><code>@Html.DropDownList(\"Model.Cleaner.TimeAvailables\", (SelectList)@l.BegginingTime) \n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 7168524, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/30653624e7957cf3cc5d13e339b4e7c4?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie", "link": "https://stackoverflow.com/users/7168524/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 41027773, "answer_count": 4, "score": -1, "last_activity_date": 1481149337, "creation_date": 1481146065, "last_edit_date": 1481149337, "question_id": 41027688, "link": "https://stackoverflow.com/questions/41027688/displaying-default-value-in-dropdown-based-on-information-from-database", "title": "Displaying Default Value In Dropdown Based On Information From Database", "body": "<p>This is my edit page. I want the default value to be the time received from the database called @l.begginingTime, which will the same as one of the values in the dropdown. </p>\n\n<p>How do I do this?</p>\n\n<pre><code>@foreach (var l in Model.Cleaner.TimeAvailables)\n  {     \n    &lt;select class=\"form-control dropDown\"  name=\"Sunday1From\" value=\"@l.BegginingTime\"&gt;\n        &lt;option value=\"\"&gt;Unavailable&lt;/option&gt;\n        &lt;option value=\"00:00:00\"&gt;12:00 AM&lt;/option&gt;\n        &lt;option value=\"00:30:00\"&gt;12:30 AM&lt;/option&gt;\n        &lt;option value=\"01:00:00\"&gt;1:00 AM&lt;/option&gt;\n        &lt;option value=\"01:30:00\"&gt;1:30 AM&lt;/option&gt;\n        &lt;option value=\"02:00:00\"&gt;2:00 AM&lt;/option&gt;\n        &lt;option value=\"02:30:00\"&gt;2:30 AM&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/td&gt;\n</code></pre>\n"}, {"tags": ["c#", "json", "geojson"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 4, "creation_date": 1481146020, "post_id": 41027631, "comment_id": 69262762, "body": "It looks like JSON, you tagged it JSON, so perhaps you should use a JSON library like json.net"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1481146063, "post_id": 41027631, "comment_id": 69262781, "body": "Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Key phrases: &quot;Search, and research&quot; and &quot;Explain ... any difficulties that have prevented you from solving it yourself&quot;."}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1481146169, "post_id": 41027631, "comment_id": 69262836, "body": "Please don&#39;t use &quot;thanks in advantage&quot;, &quot;thanks in advice&quot; or &quot;thanks in advance&quot; on this site."}], "answers": [{"comments": [{"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1481148669, "post_id": 41027714, "comment_id": 69264038, "body": "Yep. Also available as a NuGet package."}], "tags": [], "owner": {"reputation": 284, "user_id": 2638903, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036186197/picture?type=large", "display_name": "Scott Dobbins", "link": "https://stackoverflow.com/users/2638903/scott-dobbins"}, "is_accepted": false, "score": 1, "last_activity_date": 1481146181, "creation_date": 1481146181, "answer_id": 41027714, "question_id": 41027631, "link": "https://stackoverflow.com/questions/41027631/c-search-in-json-array-data/41027714#41027714", "title": "C# search in JSON array data", "body": "<p>Use Json.Net.     Very easy to Serialize and deserialize any .NET object.</p>\n\n<p><a href=\"http://www.newtonsoft.com/json\" rel=\"nofollow noreferrer\">http://www.newtonsoft.com/json</a></p>\n"}, {"comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1481146572, "post_id": 41027718, "comment_id": 69263018, "body": "or you can dersialize to dynamic"}, {"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1481159685, "post_id": 41027718, "comment_id": 69267960, "body": "@pm100, very true. I tend to prefer deserializing into strongly-typed classes as it provides intellisense and compile-time checking, but YMMV."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1481160062, "post_id": 41027718, "comment_id": 69268052, "body": "sometimes each json object has different schema , in that case you need dynamic"}], "tags": [], "owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "is_accepted": true, "score": 3, "last_activity_date": 1481146190, "creation_date": 1481146190, "answer_id": 41027718, "question_id": 41027631, "link": "https://stackoverflow.com/questions/41027631/c-search-in-json-array-data/41027718#41027718", "title": "C# search in JSON array data", "body": "<p>Step 0: Fix the typo in your JSON string (I edited your post to do that for you).</p>\n\n<p>Step 1: Go to <a href=\"http://json2csharp.com/\" rel=\"nofollow noreferrer\">json2csharp</a>, put in your JSON, and let it generate the classes for you.</p>\n\n<p>Step 2: Install Json.Net from NuGet.</p>\n\n<p>Step 3: Write <code>var root = JsonConvert.DeserializeObject&lt;RootObject&gt;(myJsonString);</code></p>\n\n<p>Step 4: Use the object like you would any other object in C#.</p>\n"}], "owner": {"reputation": 115, "user_id": 6464444, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/PjXOb.jpg?s=128&g=1", "display_name": "Maciek", "link": "https://stackoverflow.com/users/6464444/maciek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1586, "favorite_count": 0, "closed_date": 1481146343, "accepted_answer_id": 41027718, "answer_count": 2, "score": 0, "last_activity_date": 1481146277, "creation_date": 1481145868, "last_edit_date": 1481146277, "question_id": 41027631, "link": "https://stackoverflow.com/questions/41027631/c-search-in-json-array-data", "closed_reason": "Needs details or clarity", "title": "C# search in JSON array data", "body": "<p>My first method converting input data returns JSON and its type is string. Return string looks like:</p>\n\n<pre><code>[{\n    \"coordinates\": [102.5, 24.123],\n    \"type\": \"Point\",\n    \"properties\": {\n        \"tsu\": \"\",\n        \"name\": \"china: yunnan province; vietnam: hanoi\",   \n        \"yyyymmdd\": \"19700104\"\n    }\n}, {\n    \"coordinates\": [-73.7955, -51.943],\n    \"type\": \"Point\",\n    \"properties\": {\n        \"tsu\": \"tsu\",\n        \"name\": \"s. chile\",\n        \"yyyymmdd\": \"19700614\"\n    }\n}, {\n    \"coordinates\": [28.745, 39.18],\n    \"type\": \"Point\",\n    \"properties\": {\n        \"tsu\": \"\",\n        \"name\": \"turkey: demirci, manisa\",\n        \"yyyymmdd\": \"19700423\"\n    }\n}]\n</code></pre>\n\n<p>How to access data stored in this kind of string? </p>\n"}, {"tags": ["c#", "setcookie"], "owner": {"reputation": 104, "user_id": 7264565, "user_type": "registered", "profile_image": "https://graph.facebook.com/1843413179208897/picture?type=large", "display_name": "Jordan Hall", "link": "https://stackoverflow.com/users/7264565/jordan-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1481145697, "creation_date": 1481145201, "last_edit_date": 1481145697, "question_id": 41027479, "link": "https://stackoverflow.com/questions/41027479/net-core-cookie-container-cookieexception-cookie-format-error", "title": ".net core Cookie container. CookieException: Cookie format error", "body": "<p>I have the following cookie:</p>\n\n<pre><code>\"IBCOOKIE03=IBCOOKIE03VALUERAND769h0eeGn2PIMCHMdshOqNxAj59dCURz, TLCookie=RANDdIOHjTu2oXRBX2sSCnlKYARsHqHFbJjI, $Version=1; IBCOOKIE02=365bc6349dcd96adec19b7eb665ff151ec3cc93f1ac391dc541f6547f5d5ce238f2ba5f63731959d8f21c27cfaac4674ELz13r0hTA20/waJkKYk0fTIXaemLDgV1Nzh18Di11g/9cTbkZNtNe57osQDladgWQpr2klf05mntV9iJBlFqA==; $Path=/; $Domain=.lloydsbank.co.uk\"\n</code></pre>\n\n<p>I've seen online that setting version to 0 might help but it's still getting an error. </p>\n\n<pre><code>container.SetCookies(url, cookieString);\n</code></pre>\n\n<p>url is set to <a href=\"https://online.lloydsbank.co.uk/\" rel=\"nofollow noreferrer\">https://online.lloydsbank.co.uk/</a></p>\n"}, {"tags": ["c#", "vb.net", "optimization"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 3, "creation_date": 1481145197, "post_id": 41027437, "comment_id": 69262331, "body": "if you are looking for indexed positions in C#, then you need to replace the <code>(0) with [0]</code>"}, {"owner": {"reputation": 2372, "user_id": 1553510, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/06dc19d698f7ea0a429558bacc595a87?s=128&d=identicon&r=PG", "display_name": "F0r3v3r-A-N00b", "link": "https://stackoverflow.com/users/1553510/f0r3v3r-a-n00b"}, "edited": false, "score": 0, "creation_date": 1481156586, "post_id": 41027437, "comment_id": 69267055, "body": "It should be nbi.Childs[0].Selected = true; Same is true with other references to nbi.Childs. C# uses [] instead of () to access contents of lists and arrays."}], "owner": {"reputation": 15, "user_id": 1980529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8bfbd8376304647f7b7bcfd25248079?s=128&d=identicon&r=PG", "display_name": "DrEvilicious", "link": "https://stackoverflow.com/users/1980529/drevilicious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1481145344, "answer_count": 0, "score": 0, "last_activity_date": 1481145052, "creation_date": 1481145052, "question_id": 41027437, "link": "https://stackoverflow.com/questions/41027437/converted-vb-code-to-c-but-got-error-with-list", "closed_reason": "Duplicate", "title": "Converted VB code to C# but got error with list?", "body": "<p>I got a script in VB that i wanted to convert to C# to use in a project.\nBut now i am kinda stuck and need your help.\nHere is a part of the code:</p>\n\n<pre><code>If (Not selected) Then\n    nbi.Content = True\n    nbi.Childs(0).Selected = True\n    finalSelectedItem = nbi.Childs(0)\n    RaiseEvent SelectedItem(nbi.Childs(0))\nEnd If\n</code></pre>\n\n<p>And when i used a online converter i got this back from it:</p>\n\n<pre><code>if (!selected)\n{\n    nbi.Content = true;\n    nbi.Childs(0).Selected = true;\n    finalSelectedItem = nbi.Childs(0);\n    if (SelectedItem != null)\n    {\n        SelectedItem(nbi.Childs(0));\n    }\n}\n</code></pre>\n\n<p>But it gives me a error \"Non-invocable member 'NavBarItem.Childs' cannot be used like a method.' at the line:</p>\n\n<pre><code>nbi.Childs(0).Selected = true;\n</code></pre>\n\n<p>The Childs list is like this in the class:</p>\n\n<pre><code>public List&lt;NavBarItem&gt; Childs;\n</code></pre>\n\n<p>Anyone know how to fix this as i have no clue how to do it :/</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1481144996, "post_id": 41027403, "comment_id": 69262234, "body": "Where is this code running?"}, {"owner": {"reputation": 21, "user_id": 7104827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287b09acf9bd5f78a848f035d7b299f?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/7104827/harry"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1481145728, "post_id": 41027403, "comment_id": 69262621, "body": "here is where the error ocurre Response.AddHeader(&quot;content-disposition&quot;,attachment;   filename=name%20file.xls&quot;);"}, {"owner": {"reputation": 2430, "user_id": 1330328, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0AoZO.jpg?s=128&g=1", "display_name": "Olivier De Meulder", "link": "https://stackoverflow.com/users/1330328/olivier-de-meulder"}, "edited": false, "score": 0, "creation_date": 1481145804, "post_id": 41027403, "comment_id": 69262656, "body": "Take a look at this question. <a href=\"http://stackoverflow.com/questions/25847011/server-cannot-append-header-after-http-headers-have-been-sent?rq=1\" title=\"server cannot append header after http headers have been sent\">stackoverflow.com/questions/25847011/&hellip;</a> Are you doing something else, after the posted code?"}, {"owner": {"reputation": 21, "user_id": 7104827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287b09acf9bd5f78a848f035d7b299f?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/7104827/harry"}, "edited": false, "score": 0, "creation_date": 1481145939, "post_id": 41027403, "comment_id": 69262720, "body": "fixing mistages, nothing else. Thank man"}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1481146536, "post_id": 41027403, "comment_id": 69262995, "body": "Where is this code running? You need to make sure no other response is sent."}], "owner": {"reputation": 21, "user_id": 7104827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287b09acf9bd5f78a848f035d7b299f?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/7104827/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481144928, "creation_date": 1481144928, "question_id": 41027403, "link": "https://stackoverflow.com/questions/41027403/server-cannot-append-header-after-http-headers-have-been-sent-this-is-when-im", "title": "Server cannot append header after HTTP headers have been sent. This is when I&#39;m trying to download a file", "body": "<p>I'm trying to create a funcionality for generate Excel file, using some information.\nThis is what happends when I write mi code.</p>\n\n<blockquote>\n  <p>\"Server cannot append header after HTTP headers have been sent.\"</p>\n</blockquote>\n\n<pre><code>var atributostrabajador = new[] {\"Val1\", \"Val2\", \"Val3\", \"Val4\", \"Val5\"};\nvar table = new DataTable();\nforeach (var t in atributostrabajador)\n{\n table.Columns.Add(t);                \n var grid = new GridView { DataSource = table };\n grid.DataBind();\n Response.ClearContent();\n Response.Buffer = true;\n Response.AddHeader(\"content-disposition\",attachment;\n filename=name%20file.xls\");                \n Response.ContentType = \"application/ms-excel\";\n Response.Charset = \"\";\n var sw = new StringWriter();\n var htw = new HtmlTextWriter(sw);\n grid.RenderControl(htw);\n Response.Output.Write(sw.ToString());\n Response.Flush();\n Response.End();\n}\n</code></pre>\n"}, {"tags": ["c#", "itext", "itext7"], "answers": [{"tags": [], "owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "is_accepted": false, "score": 2, "last_activity_date": 1481271670, "creation_date": 1481271670, "answer_id": 41055990, "question_id": 41027379, "link": "https://stackoverflow.com/questions/41027379/what-to-use-in-place-of-pdfwriter-addtobody-in-itext7/41055990#41055990", "title": "What to use in place of PdfWriter.AddToBody in iText7?", "body": "<p>To <em>add a key/value pair to a dictionary where the value is an indirect reference to a <code>PdfStream</code></em>, you do not need to actually already write the object to the result stream, you merely need to make it indirect in a given <code>PdfDocument</code>.</p>\n\n<p>In iText 7 you can do it like this for a given <code>PdfDocument pdfDocument</code>, a given target <code>PdfDictionary pdfDictionary</code>, and a given <code>PdfStream pdfStream</code>:</p>\n\n<pre><code>pdfStream.MakeIndirect(pdfDocument);\npdfDictionary.Put(new PdfName(\"IndexerReportNames\"), pdfStream);\n</code></pre>\n\n<p>If you also want it to be written to the result stream early, you can immediately call <code>Flush</code>:</p>\n\n<pre><code>pdfStream.Flush();\n</code></pre>\n\n<p>You can also write it more compactly:</p>\n\n<pre><code>pdfDictionary.Put(new PdfName(\"IndexerReportNames\"), new PdfStream(...).MakeIndirect(pdfDocument));\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7264390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ab53029b110e5d9dcb4deaaacb9f9d?s=128&d=identicon&r=PG&f=1", "display_name": "Gylfi", "link": "https://stackoverflow.com/users/7264390/gylfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481271670, "creation_date": 1481144839, "last_edit_date": 1481151797, "question_id": 41027379, "link": "https://stackoverflow.com/questions/41027379/what-to-use-in-place-of-pdfwriter-addtobody-in-itext7", "title": "What to use in place of PdfWriter.AddToBody in iText7?", "body": "<p>The <code>AddToBody</code> methods in PdfWriter and derived classes appear to be gone in iText7. I would have expected that functionality to have been migrated to the PdfDocument class, but it was not clear to me if that class or the underlying writer had anything similar. I'm trying to add a key/value pair to a dictionary where the value is an indirect reference to a <code>PdfStream</code>. My itext 5 code looked something like this:</p>\n\n<pre><code>dict.Put(new PdfName(\"IndexerReportNames\"), writer.AddToBody(new PdfStream(GetReportNames(reports))).IndirectReference);\n</code></pre>\n\n<p>The question is, how do I port this, and similar code to iText7?</p>\n"}, {"tags": ["c#", "regex", "replace"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1481147668, "post_id": 41027374, "comment_id": 69263572, "body": "I understand it so that the CRLF must only be removed if the string starts and ends with CRLF. If only one instance must be removed, you may use <code>Regex.Replace(s, @&quot;\\A\\r\\n(.*)\\r\\n\\z&quot;, RegexOptions.Singleline)</code>. A non-regex way is still preferred: <code>if (s.EndsWith(&quot;\\r\\n&quot;) &amp;&amp; s.StartsWith(&quot;\\r\\n&quot;)) s = s.Substring(1, s.Length-2)</code>"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1481149319, "post_id": 41027374, "comment_id": 69264327, "body": "@KGreve I revisited your question to see if I got chosen for the answer. I see you have added two more strings as examples that weren&#39;t there when I answered. I checked both of the new strings and they still have the \\r\\n removed with my answer. Is there some issue you&#39;re having with the answer?"}], "answers": [{"tags": [], "owner": {"reputation": 374, "user_id": 1088726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/emWBC.jpg?s=128&g=1", "display_name": "Josiah", "link": "https://stackoverflow.com/users/1088726/josiah"}, "is_accepted": false, "score": 0, "last_activity_date": 1481146117, "last_edit_date": 1481146117, "creation_date": 1481145355, "answer_id": 41027514, "question_id": 41027374, "link": "https://stackoverflow.com/questions/41027374/using-regex-to-replace-special-character/41027514#41027514", "title": "Using Regex to replace special character", "body": "<p>This is not regex, but regex might be overkill here.</p>\n\n<pre><code>string.Join( \"\\r\\n\", \"\\r\\n123\\r\\n456\\r\\n\".Split(new string[]{\"\\r\\n\"}, StringSplitOptions.RemoveEmptyEntries))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 6357561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ceabe1789f97f67c537bbc6ecfd67aa?s=128&d=identicon&r=PG&f=1", "display_name": "KGreve", "link": "https://stackoverflow.com/users/6357561/kgreve"}, "edited": false, "score": 0, "creation_date": 1481150190, "post_id": 41027884, "comment_id": 69264706, "body": "This works if you only use one \\\\ not with both str = Regex.Replace(str, @&quot;^(\\r\\n)+|(\\r\\n)+$&quot;, &quot;&quot;);"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "reply_to_user": {"reputation": 31, "user_id": 6357561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ceabe1789f97f67c537bbc6ecfd67aa?s=128&d=identicon&r=PG&f=1", "display_name": "KGreve", "link": "https://stackoverflow.com/users/6357561/kgreve"}, "edited": false, "score": 0, "creation_date": 1481150345, "post_id": 41027884, "comment_id": 69264774, "body": "@KGreve Oh good catch! I didn&#39;t actually try it out in C#, just an online regex tester, sorry about that. I edited the answer, which apparently removes it as marked as &quot;correct&quot;."}], "tags": [], "owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "is_accepted": false, "score": 1, "last_activity_date": 1481150379, "last_edit_date": 1481150379, "creation_date": 1481146876, "answer_id": 41027884, "question_id": 41027374, "link": "https://stackoverflow.com/questions/41027374/using-regex-to-replace-special-character/41027884#41027884", "title": "Using Regex to replace special character", "body": "<pre><code>string str = @\"\\r\\n123\\r\\n456\\r\\n\";\nstr = Regex.Replace(str, @\"^(\\r\\n)+|(\\r\\n)+$\", \"\");\n</code></pre>\n\n<p>This works for your example and also works for \"\\r\\n\\r\\n123\\r\\n456\\r\\n\\r\\n\" if there are ever times where there is more than one of those characters.</p>\n\n<p>Edit: Also works for \"\\r\\n123\\r\\n456\" and \"123\\r\\n456\\r\\n\"</p>\n"}, {"tags": [], "owner": {"reputation": 2632, "user_id": 1425848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OMoJ7.png?s=128&g=1", "display_name": "garyh", "link": "https://stackoverflow.com/users/1425848/garyh"}, "is_accepted": false, "score": 1, "last_activity_date": 1481147024, "creation_date": 1481147024, "answer_id": 41027915, "question_id": 41027374, "link": "https://stackoverflow.com/questions/41027374/using-regex-to-replace-special-character/41027915#41027915", "title": "Using Regex to replace special character", "body": "<pre><code>var str1 = \"\\r\\n123\\r\\n456\\r\\n\";\nvar str2 = Regex.Replace(str1, @\"^\\r\\n|\\r\\n$\", \"\");\n</code></pre>\n\n<p>This just removes the <code>\\r\\n</code> at the start and end of the string</p>\n"}], "owner": {"reputation": 31, "user_id": 6357561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ceabe1789f97f67c537bbc6ecfd67aa?s=128&d=identicon&r=PG&f=1", "display_name": "KGreve", "link": "https://stackoverflow.com/users/6357561/kgreve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1481150379, "creation_date": 1481144802, "last_edit_date": 1481148654, "question_id": 41027374, "link": "https://stackoverflow.com/questions/41027374/using-regex-to-replace-special-character", "title": "Using Regex to replace special character", "body": "<p>I'm trying to get some code in c# to check the start or end of a string and see if it has \"\\r\\n\" in one of these locations and if it does I want these characters removed. \nI do not want to remove these characters if they are not at the start or end though.</p>\n\n<p>ex: </p>\n\n<pre><code>string tempStringA = \"\\r\\n123\\r\\n456\\r\\n\";\nstring tempStringB = \"\\r\\n123\\r\\n456\";\nstring tempStringC = \"123\\r\\n456\\r\\n\";\n</code></pre>\n\n<p>tempStringA, tempStringB, and tempStringC  would all become \"123\\r\\n456\"</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481144515, "post_id": 41027280, "comment_id": 69261958, "body": "What research have you done on how to sort a <code>List</code>?  What did you find?  What problems did you have implementing the solutions you found in your research?"}, {"owner": {"reputation": 73, "user_id": 4487529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7QtIVN9R4ws/AAAAAAAAAAI/AAAAAAAAAEU/XwVQ0hIRw-A/photo.jpg?sz=128", "display_name": "Tr\u01b0\u1eddng S\u01a1n", "link": "https://stackoverflow.com/users/4487529/tr%c6%b0%e1%bb%9dng-s%c6%a1n"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481144585, "post_id": 41027280, "comment_id": 69262004, "body": "i think about sortset but i think it&#39;s not enough with my need performance"}, {"owner": {"reputation": 1190, "user_id": 3091161, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0cRXI.png?s=128&g=1", "display_name": "enkryptor", "link": "https://stackoverflow.com/users/3091161/enkryptor"}, "edited": false, "score": 0, "creation_date": 1481144617, "post_id": 41027280, "comment_id": 69262020, "body": "How you data is stored? Is it just a <code>List</code> in memory? How do you get it?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481144851, "post_id": 41027280, "comment_id": 69262162, "body": "@Tr\u01b0\u1eddngS\u01a1n What was the specific implementation you wrote up?  What did you find in your performance tests?  How far below your requirements was it?"}, {"owner": {"reputation": 73, "user_id": 4487529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7QtIVN9R4ws/AAAAAAAAAAI/AAAAAAAAAEU/XwVQ0hIRw-A/photo.jpg?sz=128", "display_name": "Tr\u01b0\u1eddng S\u01a1n", "link": "https://stackoverflow.com/users/4487529/tr%c6%b0%e1%bb%9dng-s%c6%a1n"}, "reply_to_user": {"reputation": 1190, "user_id": 3091161, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0cRXI.png?s=128&g=1", "display_name": "enkryptor", "link": "https://stackoverflow.com/users/3091161/enkryptor"}, "edited": false, "score": 0, "creation_date": 1481145005, "post_id": 41027280, "comment_id": 69262241, "body": "@enkryptor yes, my list are in memory."}, {"owner": {"reputation": 1190, "user_id": 3091161, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0cRXI.png?s=128&g=1", "display_name": "enkryptor", "link": "https://stackoverflow.com/users/3091161/enkryptor"}, "edited": false, "score": 0, "creation_date": 1481190771, "post_id": 41027280, "comment_id": 69280148, "body": "@Tr\u01b0\u1eddngS\u01a1n how do you get it in memory? Do you use some kind of database? The pseudo code you&#39;ve provided seems like it is supposed to work with <code>IQueryable</code>, not <code>IEnumerable</code>."}, {"owner": {"reputation": 1190, "user_id": 3091161, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0cRXI.png?s=128&g=1", "display_name": "enkryptor", "link": "https://stackoverflow.com/users/3091161/enkryptor"}, "edited": false, "score": 0, "creation_date": 1481299633, "post_id": 41027280, "comment_id": 69335844, "body": "Check it out <a href=\"http://meta.stackexchange.com/questions/66377/\">meta.stackexchange.com/questions/66377</a>"}], "answers": [{"tags": [], "owner": {"reputation": 161262, "user_id": 40347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ab9833194869e7f99d6e388f4aee76c1?s=128&d=identicon&r=PG", "display_name": "Dirk Vollmar", "link": "https://stackoverflow.com/users/40347/dirk-vollmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1481149753, "last_edit_date": 1481149753, "creation_date": 1481148008, "answer_id": 41028149, "question_id": 41027280, "link": "https://stackoverflow.com/questions/41027280/what-is-the-preferred-way-of-sorting-listt-by-multiple-criteria/41028149#41028149", "title": "What is the preferred way of sorting List&lt;T&gt; by multiple criteria?", "body": "<p>There are in principle two ways to sort your generic List:</p>\n\n<ul>\n<li><p>Using a Linq method chain:</p>\n\n<pre><code>var orderedEnumerable = list.OrderByDescending(item =&gt; item.Property0)\n    .ThenBy(item =&gt; item.Property1)\n    .ThenBy(item =&gt; item.Property2);\n</code></pre></li>\n<li><p>Using a custom comparer implementing <code>IComparer&lt;T&gt;</code>. With the comparer you can either create a new ordered enumerable</p>\n\n<pre><code>var orderedEnumerable = list.OrderBy(item =&gt; item, new MyComparer());\n</code></pre>\n\n<p>or you can sort in-place using the <code>Sort()</code> method:</p>\n\n<pre><code>list.Sort(new MyComparer());\n</code></pre></li>\n</ul>\n\n<p>Try benchmarking the different approaches (Hint: I'd expect the in-place <code>List&lt;T&gt;.Sort(IComparer&lt;T&gt;)</code> to run fastest in principle, but it all depends whether you are going to enumerate the entire result of <code>Enumerable.OrderBy</code>).</p>\n\n<p>Here is a simple benchmark sample to play around:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Threading;\n\nclass Record\n{\n    public string Name { get; set; }\n\n    public int Age { get; set; }\n\n    public double Salary { get; set; }\n}\n\n\nclass RecordComparer : IComparer&lt;Record&gt;\n{\n    public int Compare(Record x, Record y)\n    {\n        // Sort by Name, Age, and then Salary\n        if (x.Name != y.Name) return x.Name.CompareTo(y.Name);\n        if (x.Age != y.Age) return x.Age.CompareTo(y.Age);\n        return x.Salary.CompareTo(y.Salary);\n    }\n}\n\nclass Program\n{\n    static Random _random = new Random();\n    static List&lt;Record&gt; _list;\n\n    static void Main(string[] args)\n    {\n        Profile(\"SortUsingLinqMethodChain\", 50, InitList, SortUsingLinqMethodChain);\n        Profile(\"SortUsingLinqComparer\", 50, InitList, SortUsingLinqComparer);\n        Profile(\"SortUsingListSort\", 50, InitList, SortUsingListSort);\n    }\n\n    static void InitList()\n    {\n        _list = new List&lt;Record&gt;();\n\n        for (int i = 0; i &lt; 10000; i++)\n        {\n            _list.Add(new Record { Name = RandomString(12), Age = RandomAge() });\n        }\n    }\n\n    static void SortUsingLinqMethodChain()\n    {\n        // NOTE: the `ToList` materialization may not be necessary at all\n        //    This totally depends on what you want to do with the result.\n        _list = _list.OrderBy(item =&gt; item.Name)\n                     .ThenBy(item =&gt; item.Age)\n                     .ThenBy(item =&gt; item.Salary).ToList();\n    }\n\n    static void SortUsingLinqComparer()\n    {\n        // NOTE: the `ToList` materialization may not be necessary at all\n        //    This totally depends on what you want to do with the result.\n        _list = _list.OrderBy(item =&gt; item, new RecordComparer()).ToList();\n    }\n\n    static void SortUsingListSort()\n    {\n        _list.Sort(new RecordComparer());\n    }\n\n    // based on http://stackoverflow.com/a/1344242/40347\n    public static string RandomString(int length)\n    {\n        const string chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n        return new string(Enumerable.Repeat(chars, length)\n          .Select(s =&gt; s[_random.Next(s.Length)]).ToArray());\n    }\n\n    public static int RandomAge()\n    {\n        return _random.Next(100) + 1;\n    }\n\n    public static double RandomSalary()\n    {\n        return _random.NextDouble() * 100000;\n    }\n\n    // based on http://stackoverflow.com/a/1048708/40347\n    static double Profile(string description, int iterations, Action init, Action func)\n    {\n        // Run at highest priority to minimize fluctuations \n        // caused by other processes/threads\n        Process.GetCurrentProcess().PriorityClass = ProcessPriorityClass.High;\n        Thread.CurrentThread.Priority = ThreadPriority.Highest;\n\n        // warm up \n        init();\n        func();\n\n        var watch = new Stopwatch();\n\n        // clean up\n        GC.Collect();\n        GC.WaitForPendingFinalizers();\n        GC.Collect();\n\n        for (int i = 0; i &lt; iterations; i++)\n        {\n            init();\n            watch.Start();\n            func();\n            watch.Stop();\n        }\n\n        Console.Write(description);\n        Console.WriteLine(\" Time Elapsed {0} ms\", watch.Elapsed.TotalMilliseconds);\n        return watch.Elapsed.TotalMilliseconds;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 4487529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7QtIVN9R4ws/AAAAAAAAAAI/AAAAAAAAAEU/XwVQ0hIRw-A/photo.jpg?sz=128", "display_name": "Tr\u01b0\u1eddng S\u01a1n", "link": "https://stackoverflow.com/users/4487529/tr%c6%b0%e1%bb%9dng-s%c6%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1481149753, "creation_date": 1481144442, "last_edit_date": 1481147544, "question_id": 41027280, "link": "https://stackoverflow.com/questions/41027280/what-is-the-preferred-way-of-sorting-listt-by-multiple-criteria", "title": "What is the preferred way of sorting List&lt;T&gt; by multiple criteria?", "body": "<p>I have an in-memory list containing around 1 million records with multiple columns (Date, Name, Value, Id,.....)</p>\n\n<p>My question: What is the best solution (i.e. giving best performance) for sorting such a large list by multiple columns?</p>\n\n<p>Example (pseudo-code): </p>\n\n<pre><code>list.orderbyDesc(name).thenBy(Name).thenBy(Value)\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 2, "creation_date": 1496570586, "post_id": 41027085, "comment_id": 75707767, "body": "The source code for the batch handler is available on Github in class <a href=\"https://github.com/ASP-NET-MVC/aspnetwebstack/blob/master/src/System.Web.Http/Batch/DefaultHttpBatchHandler.cs\" rel=\"nofollow noreferrer\">DefaultHttpBatchHandler</a> : <a href=\"https://github.com/ASP-NET-MVC/aspnetwebstack/blob/master/src/System.Web.Http/Batch/HttpBatchHandler.cs\" rel=\"nofollow noreferrer\">HttpBatchHandler</a> { ... }. check how it was implemented in handlers and create a custom middleware to perform the same functionality. This shouldn&#39;t be too difficult."}, {"owner": {"reputation": 26039, "user_id": 231002, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e75162db7f21527c1e20da48be36f622?s=128&d=identicon&r=PG", "display_name": "KallDrexx", "link": "https://stackoverflow.com/users/231002/kalldrexx"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1496682215, "post_id": 41027085, "comment_id": 75748984, "body": "There are enough changes between Asp.net and Asp.net core that made that non-trivial to port.  Since it&#39;s been a good 6 months since I originally asked this question I can&#39;t remember what parts were not easy to port, I just remember I saw that code and couldn&#39;t use it without rewriting it all."}], "answers": [{"comments": [{"owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 0, "creation_date": 1496571558, "post_id": 44352934, "comment_id": 75708012, "body": "Not really, because assuming you are using MVC, you would need to be able to call any controller action from that endpoint. This would definitely require some sort of middleware. You don&#39;t have that data in a controller endpoint."}, {"owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 0, "creation_date": 1496571714, "post_id": 44352934, "comment_id": 75708056, "body": "You could of course make a single endpoint that does a bunch of actions, but that would require you to write unnecessary exta code that breaks your entire architecture."}, {"owner": {"reputation": 22429, "user_id": 45967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b860b895fbe6961078c18d9c3ed257fc?s=128&d=identicon&r=PG", "display_name": "Mark Redman", "link": "https://stackoverflow.com/users/45967/mark-redman"}, "reply_to_user": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 0, "creation_date": 1496572000, "post_id": 44352934, "comment_id": 75708132, "body": "Sure, I assume code will need to be written somewhere or accessible from somewhere, so guess I don&#39;t understand your problem completely."}, {"owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "edited": false, "score": 0, "creation_date": 1496572390, "post_id": 44352934, "comment_id": 75708217, "body": "I added a bounty to see if anyone implemented such middleware, or knows how exactly to do it, and save me some work. I am currently researching the matter, seems like no official middleware has been implemented, and I am working through the <code>aspnet&#47;router</code> code to see how difficult it would be to implement it myself."}, {"owner": {"reputation": 161, "user_id": 4494839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e7ee829b9c9aa6b4d12f23b5881bb20?s=128&d=identicon&r=PG&f=1", "display_name": "OL.", "link": "https://stackoverflow.com/users/4494839/ol"}, "edited": false, "score": 1, "creation_date": 1571825272, "post_id": 44352934, "comment_id": 103366300, "body": "<a href=\"http://www.michalbialecki.com/2018/04/19/how-to-send-many-requests-in-parallel-in-asp-net-core/\" rel=\"nofollow noreferrer\">That</a> could be smth similar that you said about"}], "tags": [], "owner": {"reputation": 22429, "user_id": 45967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b860b895fbe6961078c18d9c3ed257fc?s=128&d=identicon&r=PG", "display_name": "Mark Redman", "link": "https://stackoverflow.com/users/45967/mark-redman"}, "is_accepted": false, "score": 3, "last_activity_date": 1496570905, "creation_date": 1496570905, "answer_id": 44352934, "question_id": 41027085, "link": "https://stackoverflow.com/questions/41027085/is-there-any-way-to-perform-a-batched-request-in-asp-net-core/44352934#44352934", "title": "Is there any way to perform a batched request in Asp.net core?", "body": "<p>Not sure I understand? Do you mean 1 exposed endpoint that makes multiple calls?</p>\n\n<p>Can you not have 1 API action that just creates multiple Tasks (that will run in parallel), waits for them all to complete then return all response data (combined or separated as required)?</p>\n"}, {"comments": [{"owner": {"reputation": 26039, "user_id": 231002, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e75162db7f21527c1e20da48be36f622?s=128&d=identicon&r=PG", "display_name": "KallDrexx", "link": "https://stackoverflow.com/users/231002/kalldrexx"}, "edited": false, "score": 1, "creation_date": 1496681760, "post_id": 44353760, "comment_id": 75748734, "body": "We ended up implementing our own batch middleware.  We ended up doing some non-conventional things anyway (such as inner requests in the batch performing their operations via parallel http calls to better load balance the work).  It also made it much easier because trying to do it inline while controlling and resetting the HTTP context in asp.net core is not very easy to do and gave way too many edge cases."}, {"owner": {"reputation": 7041, "user_id": 541917, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8e41d5a892133c027cc022c0c19e13f9?s=128&d=identicon&r=PG", "display_name": "Saravanan", "link": "https://stackoverflow.com/users/541917/saravanan"}, "edited": false, "score": 0, "creation_date": 1496836760, "post_id": 44353760, "comment_id": 75822869, "body": "are we like focussing on building an Api gateway kind of thing that propagates the incoming request to multiple endpoints and aggregates the result back to the calling app"}], "tags": [], "owner": {"reputation": 1644, "user_id": 3090249, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1589107501/picture?type=large", "display_name": "gilmishal", "link": "https://stackoverflow.com/users/3090249/gilmishal"}, "is_accepted": false, "score": 6, "last_activity_date": 1498055096, "last_edit_date": 1498055096, "creation_date": 1496577076, "answer_id": 44353760, "question_id": 41027085, "link": "https://stackoverflow.com/questions/41027085/is-there-any-way-to-perform-a-batched-request-in-asp-net-core/44353760#44353760", "title": "Is there any way to perform a batched request in Asp.net core?", "body": "<p>After doing my research on the matter, this seems fairly simple to implement. However, I think it should be supported by the official asp.net core team.</p>\n\n<p>To me it seems like it requires a middleware creating multiple <code>RouteContext</code> according to the inputted text, and just invoking their Handlers - and modifying their response. it might be a little bit more difficult, because it would require support for multiple responses for an <code>HttpContext</code> (as far as I know it seems like it will be shared across Controllers).</p>\n\n<p>Anyway, There is an open <a href=\"https://github.com/aspnet/Home/issues/262\" rel=\"nofollow noreferrer\">issue</a> in the official repository that I have risen from the dead, hoping it will move things along. I might work on an implementation in the future if there are no changes soon.</p>\n\n<h3>Update</h3>\n\n<p>Seems like the asp.net team responded to the request, and created a new <a href=\"https://github.com/aspnet/BasicMiddleware/issues/246\" rel=\"nofollow noreferrer\">issue</a> that is set to 2.0 milestone, so I am guessing this feature will be available during asp.net 2.0 release.</p>\n"}], "owner": {"reputation": 26039, "user_id": 231002, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e75162db7f21527c1e20da48be36f622?s=128&d=identicon&r=PG", "display_name": "KallDrexx", "link": "https://stackoverflow.com/users/231002/kalldrexx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4385, "favorite_count": 2, "answer_count": 2, "score": 7, "last_activity_date": 1596435987, "creation_date": 1481143708, "last_edit_date": 1496576732, "question_id": 41027085, "link": "https://stackoverflow.com/questions/41027085/is-there-any-way-to-perform-a-batched-request-in-asp-net-core", "title": "Is there any way to perform a batched request in Asp.net core?", "body": "<p>We have an API built using ASP.Net Core, and we would like to consolidate multiple requests into one HTTP requests for performance reasons.</p>\n\n<p>In previous versions of asp.net you could allow for batch requests via the <a href=\"https://www.codeproject.com/Articles/855284/How-to-Avoid-API-Requests-On-Your-Page\" rel=\"noreferrer\">DefaultHttpBatchHandler</a>.  </p>\n\n<p>Unfortunately, no such thing seems to exist in Asp.net Core.</p>\n\n<p>Is anyone aware of any way to do HTTP batches in core?</p>\n"}, {"tags": ["c#", "wpf", "mvvm", "taskscheduler"], "comments": [{"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1481143924, "post_id": 41026814, "comment_id": 69261587, "body": "I&#39;m not really sure how to have you go about your scheduling, but if you are really interested in MVVM, <code>startBackUp</code> should be an <code>ICommand</code> implementation as a property on the viewmodel."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1481144074, "post_id": 41026814, "comment_id": 69261682, "body": "Looking at this more, I think you just need to create some kind of &quot;Task&quot; class to wrap up all the details of the task you want to schedule.  You can then populate these and pass them in to your scheduler."}, {"owner": {"reputation": 1, "user_id": 7242668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618f0833ae44ec8183e589ec0ec648ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffro", "link": "https://stackoverflow.com/users/7242668/jeffro"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1481144652, "post_id": 41026814, "comment_id": 69262038, "body": "Ok Sounds Good, So If I had an Icommand bound to my button on my page, What would the Icommand do ? would it be a Scheduale Task Icommand.and what would I have my onExecute method do?"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1481145601, "post_id": 41026814, "comment_id": 69262553, "body": "It looks like you already have a class, <code>ExecAction</code> that your commmand would create, and pass in to <code>CreateNewWindowsScheduale</code> along with the date.  That function would then go about attaching it to the scheduler."}, {"owner": {"reputation": 1, "user_id": 7242668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618f0833ae44ec8183e589ec0ec648ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffro", "link": "https://stackoverflow.com/users/7242668/jeffro"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1481145990, "post_id": 41026814, "comment_id": 69262743, "body": "Ok, I think I know what to do, thank you."}], "owner": {"reputation": 1, "user_id": 7242668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618f0833ae44ec8183e589ec0ec648ec?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffro", "link": "https://stackoverflow.com/users/7242668/jeffro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481145468, "creation_date": 1481142594, "last_edit_date": 1481145468, "question_id": 41026814, "link": "https://stackoverflow.com/questions/41026814/how-to-create-an-action-class-to-register-with-wpf-task-schedule-queue-using", "title": "How To Create an Action Class?? To register with &quot;WPF&quot; task schedule queue using MVVM pattern", "body": "<p>I am creating a WPF application. I am implementing the MVVM pattern. I have a UI which returns the source path, destination path and a list of DateTimes which is a queue of times to execute for then next seven days. </p>\n\n<p>In this function I want to be able to take the list of scheduled dates and register a task using my Schedule Helper Class</p>\n\n<p>This is my ViewModel which has access to my Directory Helper class instance and a model instances bound to my UI. </p>\n\n<p>Below is my function which get called after my fields are populated and the button is submitted</p>\n\n<pre><code>//THIS FUNCTION IS BOUND TO A BUTTON ON THE PAGE\nprivate void startBackUp(object param) {\n\n    // LIST OF DATETIMES\n    List&lt;DateTime&gt; backUpQueue = new List&lt;DateTime&gt;();\n\n    // FUNCTION IN THIS VIEW MODEL THAT RETURNS \n    // CURRENT INSTANCE OF THE MODEL WITH THE USERS SELECTION\n    backUpQueue = populateBackUpQueue(backUpQueue);  \n\n    // THIS IS THE ACTION I WANT TO PERFORM \n    // FRUNCTION FROM INSTANCE OF A HELPER CLASS\n   DirectoryCommand.DirectoryCopy(BackUp.SourcePath,BackUp.DestinationPath, true);\n}\n</code></pre>\n\n<p>I want to create a task which runs Directory copy function using this scheduled Task helper method</p>\n\n<p>SchedualeTask.cs</p>\n\n<pre><code>using Microsoft.Win32.TaskScheduler;\nusing System;\n\nnamespace BackUpProject.Helper\n{\n    class SchedualeWindowsTasks\n    {\n        public TaskService ts { get; set; }\n\n        public SchedualeWindowsTasks()\n        {\n            // INSTANCE OF A TASK SERVICE\n            TaskService ts = new TaskService();\n        }\n\n        private void CreateNewWindowsScheduale(Action&lt;DateTime&gt;schedualedAction) { \n            // Create a new task definition and assign properties\n            TaskDefinition td = ts.NewTask();\n            td.RegistrationInfo.Description = \"THIS SHOULD BE MY TASK\";\n\n            // This will be the date time to execute this task\n            // I can the use DailyTrigger to repeat weekly\n\n            //Currently exceute every other day\n            td.Triggers.Add(new DailyTrigger(2));\n\n            // This needs to be my DirectoryCopy() function with parameters\n            td.Actions.Add(new ExecAction(\"notepad.exe\", \"c:\\\\test.log\", null));\n\n            // need to register it so can delete by calling DeleteTask(\"Test\")\n            ts.RootFolder.RegisterTaskDefinition(@\"Test\", td);\n        }\n    }\n}\n</code></pre>\n\n<p>I simply want to take by source path and directory path and execute my directoryCopy function on every DateTime given by the user and then use a weekly Trigger to repeat every week until Deleted by the user, but I handle delete later.</p>\n\n<p>My question is by maintaining the MVVM pattern what is the favorable method of implementing such a task.</p>\n"}, {"tags": ["c#", "itext", "pdf-reader"], "comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481142943, "post_id": 41026810, "comment_id": 69261052, "body": "does it always read the first page only, except for the last page, or does it read everything from first to xth page each? the underlying workhorse method <code>ProcessContent&lt;E&gt;(int pageNumber, E renderListener)</code> clearly should do what you intend... which version of ITextSharp do you use?"}, {"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481143917, "post_id": 41026810, "comment_id": 69261579, "body": "using 5.5.10.0, it always starts at the first page and reads until the xth page"}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481144842, "post_id": 41026810, "comment_id": 69262157, "body": "just to make sure... do you expect <code>s</code> to contain all pages of all files, one page worth of text per list item, when the outer loop is finished?"}, {"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481145020, "post_id": 41026810, "comment_id": 69262246, "body": "Yes, I am wanting to read the pdf page by page and insert each page of text as a list item."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 0, "creation_date": 1481144131, "post_id": 41026942, "comment_id": 69261734, "body": "I tried the following and still got the same result as above:  for (int x = 1; x &lt;= count; x++)                     {                         PdfReader newReader = new PdfReader(filePaths[z]);                         string currentText = &quot;&quot;;                                                         currentText = PdfTextExtractor.GetTextFromPage(newReader, x, strategy);                                                 s.Add(currentText);                         newReader.Dispose();                     }"}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "reply_to_user": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 0, "creation_date": 1481144261, "post_id": 41026942, "comment_id": 69261816, "body": "weird. we should make sure that the page dictionary of that PDF isn&#39;t broken ... can you try with any other PDF file? and your remark that it works when you set <code>x</code> to the number of pages: what happens, if you set it to, let&#39;s say, 7?"}, {"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 0, "creation_date": 1481144335, "post_id": 41026942, "comment_id": 69261859, "body": "I could just use another list of strings and grab the last index of &quot;s&quot;, but I am afraid it may not contain all the data from the pdf since string lengths are limited and I am not sure of how many pages may be in any one of these pdfs"}, {"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 0, "creation_date": 1481144456, "post_id": 41026942, "comment_id": 69261926, "body": "Let me clarify, if I set x to 18, the number of pages in this pdf, it only reads the 18th page, not the entire pdf.  If I set it to 7, it reads the 7th page and then on the next loop it reads the 7th and 8th pages, and so on..."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "reply_to_user": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 0, "creation_date": 1481144647, "post_id": 41026942, "comment_id": 69262035, "body": "hard to believe. how do you know? debugger, or output? flaw in output code? if not, <a href=\"http://developers.itextpdf.com/reference/com.itextpdf.text.pdf.parser.PdfTextExtractor\" rel=\"nofollow noreferrer\">documentation</a> would support that your approach is correct and you have a broken PDF or found a bug."}, {"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 0, "creation_date": 1481144828, "post_id": 41026942, "comment_id": 69262149, "body": "I am debugging and looking at the currentText variable, I tried a different pdf and still the same issue"}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "reply_to_user": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 0, "creation_date": 1481145050, "post_id": 41026942, "comment_id": 69262257, "body": "then it has to be a reader state issue, otherwise how could it possibly fetch the first-to-fetch correctly, if it is the 18 or the 7? also, there is no overload of that function which would take a from...to page number. try omitting the extraction strategy argument, does that help?"}, {"owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "edited": false, "score": 1, "creation_date": 1481145300, "post_id": 41026942, "comment_id": 69262390, "body": "That made it work.  I had tried this earlier but was getting the same result, I think calling the PDFReader and disposing it each time I read a page fixed the issue"}], "tags": [], "owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "is_accepted": false, "score": 0, "last_activity_date": 1481214220, "last_edit_date": 1481214220, "creation_date": 1481143110, "answer_id": 41026942, "question_id": 41026810, "link": "https://stackoverflow.com/questions/41026810/c-itextsharp-pdfreader-reads-from-beginning-of-pdf-always/41026942#41026942", "title": "C# iTextSharp PDFReader Reads From Beginning of PDF Always", "body": "<p>I suspect a reader state issue. Try opening the PdfReader once before the loop to get the page count. Store the page count in a variable. Use that variable as the upper bound for the loop. Then in the loop, instantiate a new PdfReader for every page, dispose it after each iteration.</p>\n\n<p><strong>EDIT</strong>: It turned out that the text extraction strategy is the culprit. It retains state somehow. Always instantiate a new <code>SimpleTextExtractionStrategy</code> before calling <code>GetTextFromPage</code>, or omit the <code>strategy</code> parameter - then a new instance of the default implementation of <code>ITextExtractionStrategy</code> will be created internally.</p>\n"}, {"comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481146235, "post_id": 41027638, "comment_id": 69262871, "body": "that invokes the default, <code>LocationTextExtractionStrategy</code>, instead of <code>SimpleTextExtractionStrategy</code>. Obviously, the latter does not handle page boundaries properly - no idea if by definition, or because of a bug."}, {"owner": {"reputation": 2105, "user_id": 5884037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjyWD.jpg?s=128&g=1", "display_name": "blaze_125", "link": "https://stackoverflow.com/users/5884037/blaze-125"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481146298, "post_id": 41027638, "comment_id": 69262906, "body": "It makes it work regardless. It went from not-working, to working and that&#39;s the only change I made to make it work. At this point, I&#39;d lean towards a bug. Bruno is often on here answering iText related question, hopefully he&#39;ll see this one and chip in."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481146483, "post_id": 41027638, "comment_id": 69262972, "body": "that&#39;s why I upvoted, although the discussion below my answer led to the same conclusion :) let&#39;s hope someone from iText reads this, they might explain, or fix."}, {"owner": {"reputation": 2105, "user_id": 5884037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjyWD.jpg?s=128&g=1", "display_name": "blaze_125", "link": "https://stackoverflow.com/users/5884037/blaze-125"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 1, "creation_date": 1481146590, "post_id": 41027638, "comment_id": 69263029, "body": "Funny enough... it looks like whenever a third parameter is passed, it stops working. I just tried it again by setting <code>strategy</code> to <code>LocationTextExtractionStrategy</code> and I&#39;m back to the original behavior posted by the op."}, {"owner": {"reputation": 2200, "user_id": 2065017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLjdY.png?s=128&g=1", "display_name": "blagae", "link": "https://stackoverflow.com/users/2065017/blagae"}, "edited": false, "score": 0, "creation_date": 1481209120, "post_id": 41027638, "comment_id": 69292221, "body": "This will do the trick in this instance, because iText will create a strategy internally for each page individually (i.e. per <code>GetTextFromPage</code> call). See <a href=\"http://stackoverflow.com/a/41038493/2065017\">stackoverflow.com/a/41038493/2065017</a>"}], "tags": [], "owner": {"reputation": 2105, "user_id": 5884037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sjyWD.jpg?s=128&g=1", "display_name": "blaze_125", "link": "https://stackoverflow.com/users/5884037/blaze-125"}, "is_accepted": false, "score": 1, "last_activity_date": 1481145903, "creation_date": 1481145903, "answer_id": 41027638, "question_id": 41026810, "link": "https://stackoverflow.com/questions/41026810/c-itextsharp-pdfreader-reads-from-beginning-of-pdf-always/41027638#41027638", "title": "C# iTextSharp PDFReader Reads From Beginning of PDF Always", "body": "<p>Got it to work by removing the strategy from this line <code>PdfTextExtractor.GetTextFromPage(pdfReader, x, strategy)</code></p>\n\n<pre><code>static void Main(string[] args)\n        {\n            List&lt;string&gt; filePaths = new List&lt;string&gt;();\n            filePaths.Add(\"C:\\\\temp\\\\pe\\\\ACN-ONFBG-010-R-EN-ONT (1364).pdf\");\n            filePaths.Add(\"C:\\\\temp\\\\pe\\\\ACN-ONFBG-010-R-UN-NOR (1364).pdf\");\n            filePaths.Add(\"C:\\\\temp\\\\pe\\\\ACN-ONFBG-010-R-UN-SOU (1364).pdf\");\n            List&lt;string&gt; results = doit(filePaths);\n            string stall = \"stall\";\n        }\n\n\n        private static List&lt;string&gt; doit(List&lt;string&gt; filePaths)\n        {\n            List&lt;string&gt; s = new List&lt;string&gt;();\n            int z = 0;\n            while (z &lt; filePaths.Count())\n            {\n                PdfReader pdfReader = new PdfReader(filePaths[z]);\n                ITextExtractionStrategy strategy = new SimpleTextExtractionStrategy();\n                for (int x = 1; x &lt;= pdfReader.NumberOfPages; x++)\n                {\n                    string currentText = \"\";\n                    currentText = PdfTextExtractor.GetTextFromPage(pdfReader, x);\n                    s.Add(currentText);\n                }\n                z++;\n                pdfReader.Close();\n            }\n            return s;\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2200, "user_id": 2065017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLjdY.png?s=128&g=1", "display_name": "blagae", "link": "https://stackoverflow.com/users/2065017/blagae"}, "is_accepted": false, "score": 5, "last_activity_date": 1481196852, "creation_date": 1481196852, "answer_id": 41038493, "question_id": 41026810, "link": "https://stackoverflow.com/questions/41026810/c-itextsharp-pdfreader-reads-from-beginning-of-pdf-always/41038493#41038493", "title": "C# iTextSharp PDFReader Reads From Beginning of PDF Always", "body": "<p>All previous answers are pretty close, i.e. you were correctly blaming it on some kind of state issue.</p>\n\n<p>The only part that was missing is that it is the <code>strategy</code> variable that remembers its state. After calling <code>GetTextFromPage</code>, your strategy object does not flush its existing contents.</p>\n\n<p>So the trick is to instantiate your <code>strategy</code> inside the loop:</p>\n\n<pre><code>for (int x = 1; x &lt;= pdfReader.NumberOfPages; x++)\n{\n    ITextExtractionStrategy strategy = new SimpleTextExtractionStrategy();\n    string currentText = \"\";                                \n    currentText = PdfTextExtractor.GetTextFromPage(pdfReader, x, strategy);                        \n    s.Add(currentText);\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5651511, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/e6951aec306e608ee6cf2d195615d1e9?s=128&d=identicon&r=PG", "display_name": "AWooster", "link": "https://stackoverflow.com/users/5651511/awooster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3055, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1481214220, "creation_date": 1481142577, "last_edit_date": 1481147084, "question_id": 41026810, "link": "https://stackoverflow.com/questions/41026810/c-itextsharp-pdfreader-reads-from-beginning-of-pdf-always", "title": "C# iTextSharp PDFReader Reads From Beginning of PDF Always", "body": "<p>I am using iTextSharp PDFReader to read a pdf file that has 18 pages but every time I increment the page number, it starts from the beginning of the pdf instead of reading just that particular page.  If I set \"x\" to the pdfReader.NumberOfPages value, it only reads the last page.  I would like to read each page individually and add the data to my list of string s.  I am also going through a folder, reading each pdf file, but I am testing with just one at first.</p>\n\n<pre><code>List&lt;string&gt; s = new List&lt;string&gt;();\nwhile (z &lt; filePaths.Count())\n{\n    PdfReader pdfReader = new PdfReader(filePaths[z]); \n    ITextExtractionStrategy strategy = new SimpleTextExtractionStrategy();\n    for (int x = 1; x &lt;= pdfReader.NumberOfPages; x++)\n    {\n        string currentText = \"\";                                \n        currentText = PdfTextExtractor.GetTextFromPage(pdfReader, x, strategy);                        \n        s.Add(currentText);\n    }\n    z++;\n    pdfReader.Close();\n}\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 0, "creation_date": 1481143001, "post_id": 41026801, "comment_id": 69261080, "body": "But 345 and 678, which are the pids inside 123, are not contained in <code>productList</code>"}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "reply_to_user": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 0, "creation_date": 1481143373, "post_id": 41026801, "comment_id": 69261266, "body": "That was a typo I corrected now! It still does not work! Count is still ZERO! I also think my cross join - how I use it at the moment - is not correct ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1481143857, "post_id": 41027028, "comment_id": 69261544, "body": "Hm... you are not using the .Value on the Element. With your string casted code I get ZERO count. Ok I got it working now! =&gt; Its Descendants(&quot;package&quot;) and yo u have to do p.Element(&quot;pid&quot;).Value, Please add that to your solution :-)"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1481143955, "post_id": 41027028, "comment_id": 69261610, "body": "But &quot;ProductName&quot; is not an string property?, casting will also get the value of the element/attribute"}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1481143991, "post_id": 41027028, "comment_id": 69261635, "body": "pid, productNumber is a string, both!"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1481144161, "post_id": 41027028, "comment_id": 69261755, "body": "<code>p.Element(&quot;pid&quot;).Value</code> is the same of <code>(string)p.Element(&quot;pid&quot;)</code>.<a href=\"https://msdn.microsoft.com/en-us/library/system.xml.linq.xelement.op_explicit(v=vs.110).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "edited": false, "score": 0, "creation_date": 1481144440, "post_id": 41027028, "comment_id": 69261916, "body": "Right, then I was confused by some other stuff :-)"}], "tags": [], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "is_accepted": true, "score": 0, "last_activity_date": 1481144114, "last_edit_date": 1481144114, "creation_date": 1481143464, "answer_id": 41027028, "question_id": 41026801, "link": "https://stackoverflow.com/questions/41026801/cross-join-over-linq-xml-and-linq-objects-lists/41027028#41027028", "title": "Cross Join over Linq XML and Linq Objects lists", "body": "<p>I think this is what you are trying to achieve:</p>\n\n<pre><code>var doc = XDocument.Load(\"./packages.xml\");\nvar numbers=productList.Select(p=&gt;p.ProductNumber);\nvar query= doc.Descendants(\"package\")\n              .Where(e=&gt;numbers.Contains( (string)e.Attribute(\"productnumber\")) &amp;&amp; \n                         e.Descendants(\"stpos\").All(p=&gt;numbers.Contains((string)p.Element(\"pid\"))) );\n</code></pre>\n"}], "owner": {"reputation": 18152, "user_id": 320460, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f01a0f0ee570e81375d7261711cad52b?s=128&d=identicon&r=PG", "display_name": "Elisabeth", "link": "https://stackoverflow.com/users/320460/elisabeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 41027028, "answer_count": 1, "score": 2, "last_activity_date": 1481144114, "creation_date": 1481142550, "last_edit_date": 1481143351, "question_id": 41026801, "link": "https://stackoverflow.com/questions/41026801/cross-join-over-linq-xml-and-linq-objects-lists", "title": "Cross Join over Linq XML and Linq Objects lists", "body": "<p>I have a xml file with that content:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;packages&gt;\n  &lt;package productnumber=\"123\"&gt;\n    &lt;stpos&gt;\n      &lt;pid&gt;345&lt;/pid&gt;\n      &lt;vat&gt;10&lt;/vat&gt;\n    &lt;/stpos&gt;\n    &lt;stpos&gt;\n      &lt;pid&gt;678&lt;/pid&gt;\n      &lt;vat&gt;20&lt;/vat&gt;\n    &lt;/stpos&gt;\n  &lt;/package&gt;\n  &lt;package productnumber=\"246\"&gt;\n    &lt;stpos&gt;\n      &lt;pid&gt;81012&lt;/pid&gt;\n      &lt;vat&gt;5&lt;/vat&gt;\n    &lt;/stpos&gt;\n    &lt;stpos&gt;\n      &lt;pid&gt;141618&lt;/pid&gt;\n      &lt;vat&gt;2&lt;/vat&gt;\n    &lt;/stpos&gt;\n  &lt;/package&gt;\n&lt;/packages&gt;\n</code></pre>\n\n<p>then I still have a product list:</p>\n\n<pre><code>var productList = new List&lt;Product&gt;\n{\n    new Product {ProductNumber = \"123\" },\n    new Product {ProductNumber = \"345\" },\n    new Product {ProductNumber = \"678\" },\n    new Product {ProductNumber = \"246\" },\n    new Product {ProductNumber = \"81012\" },\n    new Product {ProductNumber = \"Nothing\" },\n};\n</code></pre>\n\n<p>I want that for check each package<code>s productnumber and its pid</code>s existance in the productList. If its true then return those package.</p>\n\n<p>In my sample above:</p>\n\n<p>I want to <em>return package with productnumber 123</em> because all 3 product numbers exist in the product list.</p>\n\n<p>The <em>package with productnumber 246 should not be returned</em> because only 2 product numbers are contained in the product list, \"Nothing\" is not contained...</p>\n\n<p>Thats my query:</p>\n\n<pre><code>    var doc = XDocument.Load(\"./packages.xml\");\n    var query = (from package in doc.Descendants(\"packages\").Elements()\n                 from p in productList\n                 where p.ProductNumber == package.Attribute(\"productnumber\").Value &amp;&amp;\n                 productList.All(p =&gt;\n                 package.Descendants(\"stpos\").Select(x =&gt; x.Element(\"pid\").Value).Contains(p.ProductNumber))\n                 select package).ToList();\n</code></pre>\n\n<p>My query.Count() is 0 and I do not see why.</p>\n\n<p>Can anyone open my eyes please :-)</p>\n"}, {"tags": ["c#", "html", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1481144912, "post_id": 41026770, "comment_id": 69262195, "body": "What you see is the normal behavior. when clicking on the link , browser will send that request to server. May be try to improve the response time of your <code>Download</code> action  so that it is instantaneous"}, {"owner": {"reputation": 744, "user_id": 2779990, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lknzr.jpg?s=128&g=1", "display_name": "Stinky Towel", "link": "https://stackoverflow.com/users/2779990/stinky-towel"}, "edited": false, "score": 0, "creation_date": 1481146749, "post_id": 41026770, "comment_id": 69263106, "body": "Have you considered blocking link clicking for a period of time?  Using javascript/JQuery, etc?"}, {"owner": {"reputation": 1321, "user_id": 2187053, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/251256c3639e43fb268a4f9fab9e25eb?s=128&d=identicon&r=PG", "display_name": "HockChai Lim", "link": "https://stackoverflow.com/users/2187053/hockchai-lim"}, "edited": false, "score": 0, "creation_date": 1481147007, "post_id": 41026770, "comment_id": 69263248, "body": "yes, I&#39;ve.  But it is a constant guesstimated block time.  So, if the file is small, the block time will be longer than what it should be.  But if the file is big, it will be not long enough.  Not idea solution.  Is there a way to detect download has started?"}, {"owner": {"reputation": 1321, "user_id": 2187053, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/251256c3639e43fb268a4f9fab9e25eb?s=128&d=identicon&r=PG", "display_name": "HockChai Lim", "link": "https://stackoverflow.com/users/2187053/hockchai-lim"}, "edited": false, "score": 0, "creation_date": 1481155669, "post_id": 41026770, "comment_id": 69266773, "body": "Follow example in this link, I&#39;m now able to accurately block the page util download started. ==&gt; <a href=\"http://syper-blogger.blogspot.com/2011/08/how-to-detect-start-of-file-download.html\" rel=\"nofollow noreferrer\">syper-blogger.blogspot.com/2011/08/&hellip;</a>.  This link basically uses a cookie to determine if download has started.  On client side, it first creates a cookie using js when user clicks the download link.  It then uses window.setInterval to check the cookie every sec.  If the cookie value is updated by the server, download has started.  On the server side, it simply updates the cookie value right before sending the file stream result."}], "owner": {"reputation": 1321, "user_id": 2187053, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/251256c3639e43fb268a4f9fab9e25eb?s=128&d=identicon&r=PG", "display_name": "HockChai Lim", "link": "https://stackoverflow.com/users/2187053/hockchai-lim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481142448, "creation_date": 1481142448, "question_id": 41026770, "link": "https://stackoverflow.com/questions/41026770/mvc-download-files-form-submit-gotten-aborted", "title": "MVC - download files - form submit gotten aborted", "body": "<p><a href=\"https://i.stack.imgur.com/tBdxI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBdxI.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Above is a screen shot of my download page.  The Action column contains a download link.  This download lick, when clicked, will submit the following form:</p>\n\n<pre><code>using (Html.BeginForm(DownloadMainView.ACTION_DOWNLOAD, null, FormMethod.Post, new { enctype = \"multipart/form-data\"}))\n{\n    @Html.Hidden(\"token\", Model.Token.Value)\n    @Html.Hidden(\"itemSoftwareCode\", item.SoftwareCode)\n    @Html.Hidden(\"downloadingComponent\", comp.SoftwareCode)\n}\n</code></pre>\n\n<p>The download works fine if I click on one, wait for the download to start, and then click on the next download.  But if I click each download link quickly without wait for the download to start, only the last one get downloaded.  Is there a way to get around this problem where I have to wait for the download to start before clicking on the next download?</p>\n"}, {"tags": ["c#", "string", "algorithm", "dictionary", "viterbi"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 3757475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rpqc9.png?s=128&g=1", "display_name": "RoughlyCuboid", "link": "https://stackoverflow.com/users/3757475/roughlycuboid"}, "edited": false, "score": 0, "creation_date": 1481457843, "post_id": 41028477, "comment_id": 69377097, "body": "I have implemented the <code>Dictionary&lt;char, HashSet&lt;string&gt;&gt;</code> data structure as you have suggested, and now for extended lengths of text (100 - 200 characters) my algorithm is 40 to 60 times faster than before. However, this is still an exponential solution, so if I want to separate a piece of text greater than 500 chars my best bet would be to split it up into 100 char chunks, process, and combine the results at the end. I would prefer a Viterbi solution, but this is certainly a great help in the mean time. Thanks"}], "tags": [], "owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "is_accepted": false, "score": 2, "last_activity_date": 1481150549, "last_edit_date": 1481150549, "creation_date": 1481149444, "answer_id": 41028477, "question_id": 41026759, "link": "https://stackoverflow.com/questions/41026759/how-can-i-implement-the-viterbi-algorithm-in-c-to-split-conjoined-words/41028477#41028477", "title": "How can I implement the Viterbi algorithm in C# to split conjoined words?", "body": "<p>Can't help you with the Viterbi Algorithm but I'll give my two cents concerning your current approach. From your code its not exactly clear what <code>words</code> is. This can be a real bottleneck if you don't choose a good data structure. As a gut feeling I'd initially go with a <code>Dictionary&lt;char, HashSet&lt;string&gt;&gt;</code> where the key is the first letter of each word:</p>\n\n<pre><code>private static Dictionary&lt;char, HashSet&lt;string&gt;&gt; buildDictionary(IEnumerable&lt;string&gt; words)\n{\n    var dictionary = new Dictionary&lt;char, HashSet&lt;string&gt;&gt;();\n\n    foreach (var word in words)\n    {\n        var key = word[0];\n\n        if (!dictionary.ContainsKey(key))\n        {\n            dictionary[key] = new HashSet&lt;string&gt;();\n        }\n\n        dictionary[key].Add(word);\n    }\n\n    return dictionary;\n}\n</code></pre>\n\n<p>And I'd also consider serializing it to disk to avoid building it up every time. </p>\n\n<p>Not sure how much improvement you can make like this (dont have full information of you current implementation) but benchmark it and see if you get any improvement.</p>\n\n<p>NOTE: I'm assuming all words are cased consistently.</p>\n"}, {"tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 1, "last_activity_date": 1481150494, "creation_date": 1481150494, "answer_id": 41028685, "question_id": 41026759, "link": "https://stackoverflow.com/questions/41026759/how-can-i-implement-the-viterbi-algorithm-in-c-to-split-conjoined-words/41028685#41028685", "title": "How can I implement the Viterbi algorithm in C# to split conjoined words?", "body": "<p>Written text is highly contextual and you may wish to use a Markov chain to model sentence structure in order to estimate joint probability.  Unfortunately, sentence structure breaks the Viterbi assumption -- but there is still hope, the Viterbi algorithm is a case of branch-and-bound optimization aka \"pruned dynamic programming\" (something I showed in my thesis) and therefore even when the cost-splicing assumption isn't met, you can still develop cost bounds and prune your population of candidate solutions.  But let's set Markov chains aside for now... assuming that the probabilities are independent and each follows Zipf's law, what you need to know is that the Viterbi algorithm works on accumulating additive costs.</p>\n\n<p>For independent events, joint probability is the product of the individual probabilities, making negative log-probability a good choice for the cost.</p>\n\n<p>So your single-step cost would be <code>-log(P)</code> or <code>log(1/P)</code> which is <code>log(index * log(N))</code> which is <code>log(index) + log(log(N))</code> and the latter term is a constant.</p>\n"}], "owner": {"reputation": 61, "user_id": 3757475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rpqc9.png?s=128&g=1", "display_name": "RoughlyCuboid", "link": "https://stackoverflow.com/users/3757475/roughlycuboid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1481651401, "creation_date": 1481142412, "last_edit_date": 1495540001, "question_id": 41026759, "link": "https://stackoverflow.com/questions/41026759/how-can-i-implement-the-viterbi-algorithm-in-c-to-split-conjoined-words", "title": "How can I implement the Viterbi algorithm in C# to split conjoined words?", "body": "<p>In short - I want to convert the first answer to the question <a href=\"https://stackoverflow.com/questions/11576779/how-to-extract-literal-words-from-a-consecutive-string-efficiently\">here</a> from Python into C#. My current solution to splitting conjoined words is exponential, and I would like a linear solution. I am assuming no spacing and consistent casing in my input text.</p>\n\n<h2>Background</h2>\n\n<p>I wish to convert conjoined strings such as \"wickedweather\" into separate words, for example \"wicked weather\" using C#. I have created a working solution, a recursive function using exponential time, which is simply not efficient enough for my purposes (processing at least over 100 joined words). Here the questions I have read so far, which I believe may be helpful, but I cannot translate their responses from Python to C#.</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/195010/how-can-i-split-multiple-joined-words\">How can I split multiple joined words?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11447859/need-help-understanding-this-python-viterbi-algorithm\">Need help understanding this Python Viterbi algorithm</a></li>\n<li><a href=\"https://stackoverflow.com/questions/11576779/how-to-extract-literal-words-from-a-consecutive-string-efficiently\">How to extract literal words from a consecutive string efficiently?</a> </li>\n</ul>\n\n<h2>My Current Recursive Solution</h2>\n\n<p><em>This is for people who only want to split a few words (&lt; 50) in C# and don't really care about efficiency.</em></p>\n\n<p>My current solution works out all possible combinations of words, finds the most probable output and displays. I am currently defining the most probable output as the one which uses the longest individual words - I would prefer to use a different method. Here is my current solution, using a recursive algorithm.</p>\n\n<pre><code>static public string find_words(string instring)\n    {\n        if (words.Contains(instring)) //where words is my dictionary of words\n        {\n            return instring;\n        }\n        if (solutions.ContainsKey(instring.ToString()))\n        {\n            return solutions[instring];\n        }\n\n        string bestSolution = \"\";\n        string solution = \"\";\n\n        for (int i = 1; i &lt; instring.Length; i++)\n        {\n            string partOne = find_words(instring.Substring(0, i));\n            string partTwo = find_words(instring.Substring(i, instring.Length - i));\n            if (partOne == \"\" || partTwo == \"\")\n            {\n                continue;\n            }\n            solution = partOne + \" \" + partTwo;\n            //if my current solution is smaller than my best solution so far (smaller solution means I have used the space to separate words fewer times, meaning the words are larger)\n            if (bestSolution == \"\" || solution.Length &lt; bestSolution.Length) \n            {\n                bestSolution = solution;\n            }\n        }\n        solutions[instring] = bestSolution;\n        return bestSolution;\n    }\n</code></pre>\n\n<p>This algorithm  relies on having no spacing or other symbols in the entry text (not really a problem here, I'm not fussed about splitting up punctuation). Random additional letters added within the string can cause an error, unless I store each letter of the alphabet as a \"word\" within my dictionary. This means that \"wickedweatherdykjs\" would return \"wicked weather d y k j s\" using the above algorithm, when I would prefer an output of \"wicked weather dykjs\". </p>\n\n<h2>My updated exponential solution:</h2>\n\n<pre><code>    static List&lt;string&gt; words = File.ReadLines(\"E:\\\\words.txt\").ToList(); \n    static Dictionary&lt;char, HashSet&lt;string&gt;&gt; compiledWords = buildDictionary(words);\n\n    private void btnAutoSpacing_Click(object sender, EventArgs e)\n    {\n        string text = txtText.Text;\n        text = RemoveSpacingandNewLines(text); //get rid of anything that breaks the algorithm\n        if (text.Length &gt; 150)\n        {\n            //possibly split the text up into more manageable chunks?\n            //considering using textSplit() for this.\n        }\n        else \n        {\n            txtText.Text = find_words(text);\n        }\n    }\n\n    static IEnumerable&lt;string&gt; textSplit(string str, int chunkSize)\n    {\n        return Enumerable.Range(0, str.Length / chunkSize)\n            .Select(i =&gt; str.Substring(i * chunkSize, chunkSize));\n    }\n\n    private static Dictionary&lt;char, HashSet&lt;string&gt;&gt; buildDictionary(IEnumerable&lt;string&gt; words)\n    {\n        var dictionary = new Dictionary&lt;char, HashSet&lt;string&gt;&gt;();\n\n        foreach (var word in words)\n        {\n            var key = word[0];\n\n            if (!dictionary.ContainsKey(key))\n            {\n                dictionary[key] = new HashSet&lt;string&gt;();\n            }\n\n            dictionary[key].Add(word);\n        }\n\n        return dictionary;\n    }\n\n    static public string find_words(string instring)\n    {\n        string bestSolution = \"\";\n        string solution = \"\";\n\n        if (compiledWords[instring[0]].Contains(instring))\n        {\n            return instring;\n        }\n\n        if (solutions.ContainsKey(instring.ToString()))\n        {\n            return solutions[instring];\n        }\n\n        for (int i = 1; i &lt; instring.Length; i++)\n        {\n            string partOne = find_words(instring.Substring(0, i));\n            string partTwo = find_words(instring.Substring(i, instring.Length - i));\n            if (partOne == \"\" || partTwo == \"\")\n            {\n                continue;\n            }\n            solution = partOne + \" \" + partTwo;\n            if (bestSolution == \"\" || solution.Length &lt; bestSolution.Length)\n            {\n                bestSolution = solution;\n            }\n        }\n        solutions[instring] = bestSolution;\n        return bestSolution;\n    }\n</code></pre>\n\n<h2>How I would like to use the Viterbi Algorithm</h2>\n\n<p>I would like to create an algorithm which works out the most probable solution to a conjoined string, where the probability is calculated according to the position of the word in a text file that I provide the algorithm with. Let's say the file starts with the most common word in the English language first, and on the next line the second most common, and so on until the least common word in my dictionary. It looks roughly like this </p>\n\n<ul>\n<li>the</li>\n<li>be</li>\n<li>and</li>\n<li>...</li>\n<li>attorney</li>\n</ul>\n\n<p><a href=\"http://txt.do/ddt8e\" rel=\"nofollow noreferrer\">Here is a link to a small example of such a text file I would like to use.</a>\n<a href=\"http://pasted.co/c1666a6b\" rel=\"nofollow noreferrer\">Here is a much larger text file which I would like to use</a></p>\n\n<p>The logic behind this file positioning is as follows...</p>\n\n<blockquote>\n  <p>It is reasonable to assume that they follow Zipf's law, that is the\n  word with rank n in the list of words has probability roughly 1/(n log\n  N) where N is the number of words in the dictionary.</p>\n</blockquote>\n\n<p>Generic Human, <a href=\"https://stackoverflow.com/questions/11576779/how-to-extract-literal-words-from-a-consecutive-string-efficiently\">in his excellent Python solution</a>, explains this much better than I can. I would like to convert his solution to the problem from Python into C#, but after many hours spent attempting this I haven't been able to produce a working solution. \nI also remain open to the idea that perhaps relative frequencies with the Viterbi algorithm isn't the best way to split words, any other suggestions for creating a solution using C#? </p>\n"}, {"tags": ["c#", "entity-framework", "linq", "expression-trees", "dynamic-linq"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1481143759, "post_id": 41026750, "comment_id": 69261466, "body": "So you query database? If yes, how many rows are in VW_Job_List table?"}], "answers": [{"comments": [{"owner": {"reputation": 2732, "user_id": 2369464, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/qfAVY.png?s=128&g=1", "display_name": "Leandro Soares", "link": "https://stackoverflow.com/users/2369464/leandro-soares"}, "edited": false, "score": 0, "creation_date": 1481296641, "post_id": 41057507, "comment_id": 69333995, "body": "Hummm interesting. I&#39;ve never tought about the difference between using <code>Expression&lt;...&gt;</code> and not using it with EF"}, {"owner": {"reputation": 2732, "user_id": 2369464, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/qfAVY.png?s=128&g=1", "display_name": "Leandro Soares", "link": "https://stackoverflow.com/users/2369464/leandro-soares"}, "edited": false, "score": 0, "creation_date": 1481296720, "post_id": 41057507, "comment_id": 69334046, "body": "This may save my web applications from performance degradation. Thank you."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 3, "last_activity_date": 1481276999, "creation_date": 1481276999, "answer_id": 41057507, "question_id": 41026750, "link": "https://stackoverflow.com/questions/41026750/dynamic-linq-where-clause-throws-outofmemoryexception/41057507#41057507", "title": "Dynamic Linq where clause throws OutOfMemoryException", "body": "<p>The two calls</p>\n\n<pre><code>var jj = db.VW_Job_List.Where((p =&gt; p.JobCustomerId == 449152));\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var jj = db.VW_Job_List.Where(SimpleFilter&lt;VW_Job_List&gt;(\"JobCustomerID\", 449152));\n</code></pre>\n\n<p>are not equivalent. The first resolves to <code>Queryable.Where</code>, hence the filter is applied inside the database, while the second - to <code>Enumerable.Where</code>, thus causing loading the whole table in memory and applying the filter there.</p>\n\n<p>The problem is that the <strong>return type</strong> of your <code>SimpleFilter</code> is <code>Func&lt;TSource, bool&gt;</code>. In order to make them equivalent, it should be <code>Expression&lt;Func&lt;TSource, bool&gt;&gt;</code>. Note that although they look visually the same, there is a huge difference between lambda expression and lambda delegate due to the different overload resolution when applied to <code>IQueryable&lt;T&gt;</code>.</p>\n\n<p>So, change the method like this and try again:</p>\n\n<pre><code>public Expression&lt;Func&lt;TSource,bool&gt;&gt; SimpleFilter&lt;TSource&gt; (string property, object value)\n{\n    var type = typeof(TSource);\n    var pe = Expression.Parameter(type, \"p\");\n    var propertyReference = Expression.Property(pe,property);\n    var constantReference = Expression.Constant(value);\n    var ret = Expression.Lambda&lt;Func&lt;TSource, bool&gt;&gt;\n        (Expression.Equal(propertyReference, constantReference), new[] { pe });\n    return ret; // No .Compile()\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3174054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/846aa7d9a7569f972834b3bd3246cfe2?s=128&d=identicon&r=PG&f=1", "display_name": "user3174054", "link": "https://stackoverflow.com/users/3174054/user3174054"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 41057507, "answer_count": 1, "score": 3, "last_activity_date": 1481276999, "creation_date": 1481142384, "last_edit_date": 1481142600, "question_id": 41026750, "link": "https://stackoverflow.com/questions/41026750/dynamic-linq-where-clause-throws-outofmemoryexception", "title": "Dynamic Linq where clause throws OutOfMemoryException", "body": "<p>I am a novice at Linq and a true beginner with expression trees.</p>\n\n<p>I have a generic expression routine that builds a simple Linq where clause that I found at:<br/>\n<a href=\"https://www.simple-talk.com/dotnet/net-framework/dynamic-linq-queries-with-expression-trees/\" rel=\"nofollow noreferrer\">https://www.simple-talk.com/dotnet/net-framework/dynamic-linq-queries-with-expression-trees/</a></p>\n\n<pre><code>public Func&lt;TSource,bool&gt; SimpleFilter&lt;TSource&gt; (string property, object value)\n{\n    var type = typeof(TSource);\n    var pe = Expression.Parameter(type, \"p\");\n    var propertyReference = Expression.Property(pe,property);\n    var constantReference = Expression.Constant(value);\n    var ret = Expression.Lambda&lt;Func&lt;TSource, bool&gt;&gt;\n        (Expression.Equal(propertyReference, constantReference), new[] { pe });\n    return ret.Compile();\n}\n</code></pre>\n\n<p>When I call the function as <code>SimpleFilter(\"JobCustomerID\", 449152)</code> it\nyields <code>(p =&gt; p.JobCustomerId == 449152)</code> which is correct.</p>\n\n<p>If I manually place that criteria in my Linq statement, I get the correct return.</p>\n\n<pre><code>var jj = db.VW_Job_List.Where((p =&gt; p.JobCustomerId == 449152));\n</code></pre>\n\n<p>However when called via the filter function, the Linq throws an <code>OutOfMemoryException</code>.\nIt is called in my application as:</p>\n\n<pre><code>var jj = db.VW_Job_List.Where(SimpleFilter&lt;VW_Job_List&gt;(\"JobCustomerID\", 449152));\n</code></pre>\n\n<p>If I call the function with a text criterion, it returns properly:</p>\n\n<pre><code>var jj = db.VW_Job_List.Where(SimpleFilter&lt;VW_Job_List&gt;(\"CompanyCode\", \"LCS\"));\n</code></pre>\n\n<p>Is there something specific about using an integer variable that needs to be accommodated? Do I have something coded incorrectly? Any thoughts or insights will be appreciated.</p>\n"}, {"tags": ["c#", "dependency-injection", "ninject", "inversion-of-control", "ioc-container"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4189363, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000161210128/picture?type=large", "display_name": "Valera Fedorenko", "link": "https://stackoverflow.com/users/4189363/valera-fedorenko"}, "edited": false, "score": 0, "creation_date": 1481214837, "post_id": 41040845, "comment_id": 69296342, "body": "it is good solutions if you have 3 classes like : Ninja , Samurai and SpecialNinja. But what if you have a lot of types which inheritances from IWarrior.  ?"}, {"owner": {"reputation": 71, "user_id": 4189363, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000161210128/picture?type=large", "display_name": "Valera Fedorenko", "link": "https://stackoverflow.com/users/4189363/valera-fedorenko"}, "edited": false, "score": 0, "creation_date": 1481215068, "post_id": 41040845, "comment_id": 69296490, "body": "like abstract class 1) A : Interface ; B:A ; C:A , D[Attribute]:A ; 2) E:Interface ; E1:E; 3) Iaa :Interface ; R : Iaa"}, {"owner": {"reputation": 5259, "user_id": 218136, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83406fc77fe8d14e79f13c0c5ff72583?s=128&d=identicon&r=PG", "display_name": "Dave Thieben", "link": "https://stackoverflow.com/users/218136/dave-thieben"}, "reply_to_user": {"reputation": 71, "user_id": 4189363, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000161210128/picture?type=large", "display_name": "Valera Fedorenko", "link": "https://stackoverflow.com/users/4189363/valera-fedorenko"}, "edited": false, "score": 0, "creation_date": 1481227433, "post_id": 41040845, "comment_id": 69303232, "body": "take a look at <code>.WhenInjectedInto()</code> and <code>.WhenInjectedExactlyInto()</code> or <code>.WhenAnyAncestorNamed()</code>. otherwise please update the question with more specifics."}, {"owner": {"reputation": 71, "user_id": 4189363, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000161210128/picture?type=large", "display_name": "Valera Fedorenko", "link": "https://stackoverflow.com/users/4189363/valera-fedorenko"}, "edited": false, "score": 0, "creation_date": 1481403204, "post_id": 41040845, "comment_id": 69366502, "body": "Look please on example which I have added. And you understand what I mean"}, {"owner": {"reputation": 71, "user_id": 4189363, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000161210128/picture?type=large", "display_name": "Valera Fedorenko", "link": "https://stackoverflow.com/users/4189363/valera-fedorenko"}, "edited": false, "score": 0, "creation_date": 1481666876, "post_id": 41040845, "comment_id": 69467073, "body": "As I understand , you have not understood my question and example ?"}, {"owner": {"reputation": 5259, "user_id": 218136, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83406fc77fe8d14e79f13c0c5ff72583?s=128&d=identicon&r=PG", "display_name": "Dave Thieben", "link": "https://stackoverflow.com/users/218136/dave-thieben"}, "reply_to_user": {"reputation": 71, "user_id": 4189363, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000161210128/picture?type=large", "display_name": "Valera Fedorenko", "link": "https://stackoverflow.com/users/4189363/valera-fedorenko"}, "edited": false, "score": 0, "creation_date": 1481721630, "post_id": 41040845, "comment_id": 69489744, "body": "what is not addressed? if you want to resolve to Type with <code>markAttribute</code>, use <code>WhenClassHas&lt;markAttribute&gt;()</code>"}], "tags": [], "owner": {"reputation": 5259, "user_id": 218136, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83406fc77fe8d14e79f13c0c5ff72583?s=128&d=identicon&r=PG", "display_name": "Dave Thieben", "link": "https://stackoverflow.com/users/218136/dave-thieben"}, "is_accepted": true, "score": 1, "last_activity_date": 1481204250, "creation_date": 1481204250, "answer_id": 41040845, "question_id": 41026743, "link": "https://stackoverflow.com/questions/41026743/can-we-combine-two-bindings-with-different-condition/41040845#41040845", "title": "Can we combine two bindings with different condition?", "body": "<blockquote>\n  <p>It should be like , if we cannot resolve type in first kernel1,\n  resolve it in second kernel2</p>\n</blockquote>\n\n<p>I believe in this question what you are looking for is the <a href=\"https://github.com/ninject/Ninject.Extensions.ChildKernel\" rel=\"nofollow noreferrer\">Ninject ChildKernel extension</a>:</p>\n\n<blockquote>\n  <p>This Ninject extension allows that child kernels can be defined. A\n  child kernel is a Ninject kernel that has a parent kernel. All\n  requests that it can't resolve are passed to the parent kernel.</p>\n</blockquote>\n\n<p>however, it seems what you are trying to get at is <a href=\"https://github.com/ninject/Ninject/wiki/Contextual-Binding\" rel=\"nofollow noreferrer\">conditional bindings</a>:</p>\n\n<pre><code>Bind&lt;IWarrior&gt;().To&lt;Ninja&gt;();\nBind&lt;IWarrior&gt;().To&lt;Samurai&gt;().WhenClassHas&lt;ClimberNeeded&gt;();\nBind&lt;IWarrior&gt;().To&lt;Samurai&gt;().WhenTargetHas&lt;ClimberNeeded&gt;();\nBind&lt;IWarrior&gt;().To&lt;SpecialNinja&gt;().WhenMemberHas&lt;SwimmerNeeded&gt;();\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4189363, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000161210128/picture?type=large", "display_name": "Valera Fedorenko", "link": "https://stackoverflow.com/users/4189363/valera-fedorenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 41040845, "answer_count": 1, "score": -1, "last_activity_date": 1481478309, "creation_date": 1481142370, "last_edit_date": 1481478309, "question_id": 41026743, "link": "https://stackoverflow.com/questions/41026743/can-we-combine-two-bindings-with-different-condition", "title": "Can we combine two bindings with different condition?", "body": "<p>First for types inferences types which have attribute</p>\n\n<pre><code> var _kernel1 = new StandardKernel();\n</code></pre>\n\n<p>Second -- which not marked with attribute</p>\n\n<pre><code> var_kernel2 = new StandardKernel();\n</code></pre>\n\n<blockquote>\n  <p>It should be like , if we cannot resolve type in first kernel1,\n  resolve it in second kernel2</p>\n</blockquote>\n\n<p>Bindings:</p>\n\n<pre><code>  _kernel1.Bind(a =&gt;\n  {\n      a.FromThisAssembly()\n     .SelectAllClasses()\n     .InheritedFrom&lt;IStepContext&gt;().WithAttribute&lt;MarkAttribute&gt;(x =&gt; x.Type == Inheritance.Derived)\n     .BindSelection(\n           (t, baseTypes) =&gt; baseTypes.Where(bt =&gt; bt.IsInterface || bt == t.BaseType));\n  });\n\n  _kernel2.Bind(a =&gt;\n  {\n      a.FromThisAssembly()\n      .SelectAllClasses().BindAllInterfaces();\n  });\n</code></pre>\n\n<blockquote>\n  <p>Example: (and this kind of classes can be a lot)</p>\n</blockquote>\n\n<pre><code>public interface IStepContext\n{\n    Type WhoIAm();\n}\n\npublic interface IStepContextAB : IStepContextSecond { }\n\npublic interface IStepContextSecond : IStepContext { }\n\nabstract class A : IStepContext { }\n\nclass B : A { }\n\nclass B1 : A { }\n\n[markAttribute]\nclass B2 : A { }\n\nclass C : IStepContextAB { }\n\nclass C1 : IStepContextAB { }\n\n[markAttribute]\nclass C2 : IStepContextAB { }\n\nclass D : IStepContext { }\n\nclass D1 :D { }\n\nclass D2 : D { }\n\n_kernel.Get&lt;B&gt;() ==&gt; B2\n_kernel.Get&lt;IStepContextAB&gt;() ==&gt; C2\n_kernel.Get&lt;D&gt;() ==&gt; D\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "asp.net-core", ".net-core", "xunit"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1481142631, "post_id": 41026729, "comment_id": 69260890, "body": "What exactly would you like to test?"}, {"owner": {"reputation": 3692, "user_id": 2836246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9d247babb06d4c78d8eb02d7ddb9b045?s=128&d=identicon&r=PG", "display_name": "mskuratowski", "link": "https://stackoverflow.com/users/2836246/mskuratowski"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1481142697, "post_id": 41026729, "comment_id": 69260928, "body": "My method which I have in MyService class"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1481142746, "post_id": 41026729, "comment_id": 69260949, "body": "then just new up an instance and call the method under test"}, {"owner": {"reputation": 3692, "user_id": 2836246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9d247babb06d4c78d8eb02d7ddb9b045?s=128&d=identicon&r=PG", "display_name": "mskuratowski", "link": "https://stackoverflow.com/users/2836246/mskuratowski"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1481142857, "post_id": 41026729, "comment_id": 69261006, "body": "I&#39;ve updated my post with my solution which is not working"}], "answers": [{"comments": [{"owner": {"reputation": 3692, "user_id": 2836246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9d247babb06d4c78d8eb02d7ddb9b045?s=128&d=identicon&r=PG", "display_name": "mskuratowski", "link": "https://stackoverflow.com/users/2836246/mskuratowski"}, "edited": false, "score": 0, "creation_date": 1481143190, "post_id": 41026884, "comment_id": 69261172, "body": "I&#39;m getting the following error: &quot;Unhandled Exception: System.IO.FileNotFoundException: Could not load file or assembly &#39;Microsoft.DotNet.InternalAbstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60&#39;. The system cannot find the file specified.&quot;"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 3692, "user_id": 2836246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9d247babb06d4c78d8eb02d7ddb9b045?s=128&d=identicon&r=PG", "display_name": "mskuratowski", "link": "https://stackoverflow.com/users/2836246/mskuratowski"}, "edited": false, "score": 0, "creation_date": 1481143335, "post_id": 41026884, "comment_id": 69261242, "body": "<code>Workaround: add Microsoft.DotNet.InternalAbstractions to test dependencies manually</code> - <a href=\"https://github.com/dotnet/core/issues/366\" rel=\"nofollow noreferrer\">github.com/dotnet/core/issues/366</a>"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1481143398, "last_edit_date": 1481143398, "creation_date": 1481142912, "answer_id": 41026884, "question_id": 41026729, "link": "https://stackoverflow.com/questions/41026729/test-my-service-with-xunit-and-asp-net-core/41026884#41026884", "title": "Test my service with xUnit and asp.net core", "body": "<p>New up an instance and call the method under test. No need to over complicate things.</p>\n\n<pre><code>public class Class1 { \n\n    IMyService myService = new MyService();\n\n    [Fact]\n    public void PassingTest()\n    {\n        Assert.Equal(4, myService.Add(2,2));\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3692, "user_id": 2836246, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/9d247babb06d4c78d8eb02d7ddb9b045?s=128&d=identicon&r=PG", "display_name": "mskuratowski", "link": "https://stackoverflow.com/users/2836246/mskuratowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1703, "favorite_count": 0, "accepted_answer_id": 41026884, "answer_count": 1, "score": 3, "last_activity_date": 1481143398, "creation_date": 1481142331, "last_edit_date": 1481142983, "question_id": 41026729, "link": "https://stackoverflow.com/questions/41026729/test-my-service-with-xunit-and-asp-net-core", "title": "Test my service with xUnit and asp.net core", "body": "<p>I would like to test my service with asp.net core and xunit.</p>\n\n<p>Here's my service:</p>\n\n<pre><code>public class MyService : IMyService\n{\n    public int Add(int x, int y)\n    {\n        return x + y;\n    }\n}\n\npublic interface IMyService\n{\n    int Add(int x, int y);\n}\n</code></pre>\n\n<p>I registered my service in startup.cs</p>\n\n<pre><code>services.AddTransient&lt;IMyService, MyService&gt;();\n</code></pre>\n\n<p>But now how can I get an instance and test my service in test project?</p>\n\n<p>So far in my test project I have:</p>\n\n<pre><code>public class Class1\n{\n    IMyService myService;\n\n    [Fact]\n    public void PassingTest()\n    {\n        Assert.Equal(4, myService.Add(2,2));\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "reflection", "appdomain"], "answers": [{"tags": [], "owner": {"reputation": 1601, "user_id": 4238587, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-LfbyZEeD3ks/AAAAAAAAAAI/AAAAAAAAAPs/z_hYUWH-MPk/photo.jpg?sz=128", "display_name": "Joseph Katzman", "link": "https://stackoverflow.com/users/4238587/joseph-katzman"}, "is_accepted": true, "score": 4, "last_activity_date": 1481187064, "creation_date": 1481187064, "answer_id": 41035261, "question_id": 41026702, "link": "https://stackoverflow.com/questions/41026702/how-to-invoke-instance-method-from-class-library-in-different-appdomain/41035261#41035261", "title": "How to invoke instance method from class library in different appdomain?", "body": "<p>Read this article to get more information: <a href=\"https://blogs.technet.microsoft.com/asiasupp/2011/11/13/c-how-to-load-dll-in-separate-domain-and-use-its-methods/\" rel=\"nofollow noreferrer\">How to load DLL in separate domain and use its methods?</a></p>\n\n<p>You should use the proxy class (Loader in this case). I changed a part of code from article above. Now the Call method takes your custom appdomain. </p>\n\n<pre><code>public class Loader : MarshalByRefObject\n    {\n        object CallInternal(string dll, string typename, string method, object[] parameters)\n        {\n            Assembly a = Assembly.LoadFile(dll);\n            object o = a.CreateInstance(typename);\n            Type t = o.GetType();\n            MethodInfo m = t.GetMethod(method);\n            return m.Invoke(o, parameters);\n        }\n\n        public static object Call(AppDomain domain, string dll, string typename, string method, params object[] parameters)\n        {\n            Loader ld = (Loader)domain.CreateInstanceAndUnwrap(Assembly.GetExecutingAssembly().FullName, typeof(Loader).FullName);\n            object result = ld.CallInternal(dll, typename, method, parameters);\n            AppDomain.Unload(domain);\n            return result;\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 4679336, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e081300d48d10c74bc7ec3d9cf6bcc3?s=128&d=identicon&r=PG", "display_name": "Geronimo", "link": "https://stackoverflow.com/users/4679336/geronimo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2243, "favorite_count": 0, "accepted_answer_id": 41035261, "answer_count": 1, "score": 1, "last_activity_date": 1481187064, "creation_date": 1481142274, "last_edit_date": 1481143082, "question_id": 41026702, "link": "https://stackoverflow.com/questions/41026702/how-to-invoke-instance-method-from-class-library-in-different-appdomain", "title": "How to invoke instance method from class library in different appdomain?", "body": "<p>I know that there are many similar answers but none of them suit for me. I have a class library called MyLibrary. It has only one type. I'm going to create an instance of my type into another appdomain that why I don't use Activator.</p>\n\n<pre><code>public class Test\n    {\n        public Test()\n        {\n            Console.WriteLine(\"Ctor of Test type.\");\n        }\n\n        public void Hello(string name)\n        {\n            Console.WriteLine($\"Hello {name}! I'm an instance method.\");\n        }\n    }\n</code></pre>\n\n<p>I created a simple console application. This is a code of Main method. </p>\n\n<pre><code>static void Main(string[] args)\n        {\n            string path = @\"example of my path\";\n            AppDomain domain = AppDomain.CreateDomain(\"mydomain\");\n            Assembly mylibrary = Assembly.LoadFrom(path);\n            Type typeOfTest = mylibrary.GetType(\"MyLibrary.Test\");\n            var instanceOfTest = domain.CreateInstanceFrom(path, typeOfTest.FullName);\n            MethodInfo hello = typeOfTest.GetMethod(\"Hello\");\n            hello.Invoke(instanceOfTest, new object[] {\"Bob\"});\n        }\n</code></pre>\n\n<p>What is the right way to call Hello method? I can create and call static method from Test type but I can do nothing with nonstatic instance method? </p>\n"}, {"tags": ["c#", "printing", "thermal-printer"], "comments": [{"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1481142831, "post_id": 41026649, "comment_id": 69261000, "body": "<code>PrinterStatus</code> is the one which should tell you if Printer is ready to print."}, {"owner": {"reputation": 3083, "user_id": 591285, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e63e9790c68f61f4c53573ddce22d40f?s=128&d=identicon&r=PG", "display_name": "clamchoda", "link": "https://stackoverflow.com/users/591285/clamchoda"}, "reply_to_user": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "edited": false, "score": 0, "creation_date": 1481143067, "post_id": 41026649, "comment_id": 69261110, "body": "@vendettamit Sorry I didn&#39;t ask very well. For instance, Idle (3) indicates it&#39;s OK to print. I am wondering if there are more which also indicate it&#39;s OK to print such as; Printing (4), WarmUp (5), ect, or is Idle (3) the only time you should send the next print job? Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 3083, "user_id": 591285, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e63e9790c68f61f4c53573ddce22d40f?s=128&d=identicon&r=PG", "display_name": "clamchoda", "link": "https://stackoverflow.com/users/591285/clamchoda"}, "edited": false, "score": 0, "creation_date": 1481143801, "post_id": 41027069, "comment_id": 69261504, "body": "Yes these are also supplied in the list I linked to. My question is, which values indicate that we are ready to print asides from Idle? Do I also need to take into account ExtendedPrinterStatus?"}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 3083, "user_id": 591285, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e63e9790c68f61f4c53573ddce22d40f?s=128&d=identicon&r=PG", "display_name": "clamchoda", "link": "https://stackoverflow.com/users/591285/clamchoda"}, "edited": false, "score": 0, "creation_date": 1481144099, "post_id": 41027069, "comment_id": 69261704, "body": "<code>Printing</code> and <code>Warmup</code> should be safe to consider. To check more detailed status you can query <code>PrinterState</code> and see if there&#39;s any specific state returned by printer. Although this property is marked as Deprecated."}, {"owner": {"reputation": 3083, "user_id": 591285, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e63e9790c68f61f4c53573ddce22d40f?s=128&d=identicon&r=PG", "display_name": "clamchoda", "link": "https://stackoverflow.com/users/591285/clamchoda"}, "edited": false, "score": 0, "creation_date": 1481144559, "post_id": 41027069, "comment_id": 69261985, "body": "Thank you.  Do you have a link to any documentation I could read to verify this? Or do you know this from personal experience. Thanks again."}, {"owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "reply_to_user": {"reputation": 3083, "user_id": 591285, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e63e9790c68f61f4c53573ddce22d40f?s=128&d=identicon&r=PG", "display_name": "clamchoda", "link": "https://stackoverflow.com/users/591285/clamchoda"}, "edited": false, "score": 0, "creation_date": 1481144735, "post_id": 41027069, "comment_id": 69262094, "body": "To explore more on WMI without writing code you can use the WMI_CodeGenerator which can help you test more about WMI objects on the fly. <a href=\"https://download.microsoft.com/download/0/C/A/0CA7691C-6335-4143-8F9F-6708969F8212/WMICodeCreator.zip\" rel=\"nofollow noreferrer\">Here&#39;s the link</a>"}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": true, "score": 2, "last_activity_date": 1481143613, "creation_date": 1481143613, "answer_id": 41027069, "question_id": 41026649, "link": "https://stackoverflow.com/questions/41026649/using-managementobjectsearcher-and-win32-printer-to-check-status/41027069#41027069", "title": "Using ManagementObjectSearcher and Win32_Printer to check Status", "body": "<p>Below are the values that you can take into account to check if It's ready to print:</p>\n\n<pre><code>Other (1)\nUnknown (2)\nIdle (3) \nPrinting (4)\nWarmup (5)\nStopped Printing (6)\nOffline (7)\n</code></pre>\n\n<p>Also a note from Remarks on <a href=\"https://msdn.microsoft.com/en-us/library/aa394363%28v=vs.85%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">MSDN</a> documentation for Win32_Printer- </p>\n\n<blockquote>\n  <p>If you are retrieving <strong>PrinterStatus = 3</strong> or <strong>PrinterState = 0</strong>, the printer driver may not be feeding accurate information into WMI. WMI retrieves the printer information from the <strong>spoolsv.exe</strong> process. It is possible the printer driver does not report its status to the spooler. In this case, Win32_Printer reports the printer as Idle.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 341, "user_id": 9775503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a6f2e7ee29cfb435c5e90071a351724?s=128&d=identicon&r=PG&f=1", "display_name": "Milan Madubasha", "link": "https://stackoverflow.com/users/9775503/milan-madubasha"}, "edited": false, "score": 0, "creation_date": 1539358525, "post_id": 52782764, "comment_id": 92486998, "body": "I implemented above methods to my previous project, It works very well. refer the comment just above each method then you can understand what is doing with each method. Above are some other additional facts about &quot;PrinterState&quot; property which are not included in official MSDN."}], "tags": [], "owner": {"reputation": 341, "user_id": 9775503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a6f2e7ee29cfb435c5e90071a351724?s=128&d=identicon&r=PG&f=1", "display_name": "Milan Madubasha", "link": "https://stackoverflow.com/users/9775503/milan-madubasha"}, "is_accepted": false, "score": 1, "last_activity_date": 1539359071, "last_edit_date": 1539359071, "creation_date": 1539358384, "answer_id": 52782764, "question_id": 41026649, "link": "https://stackoverflow.com/questions/41026649/using-managementobjectsearcher-and-win32-printer-to-check-status/52782764#52782764", "title": "Using ManagementObjectSearcher and Win32_Printer to check Status", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>**//check printer is online**\r\nprivate static bool IsOnline(ManagementBaseObject printer)\r\n        {\r\n            bool isOnlineprinter = true;\r\n            PrinterNative.PrinterNative.PrinterNative printerNative = new PrinterNative.PrinterNative.PrinterNative();\r\n            var PrinterName = printerNative.GetPrinterName();\r\n            var PrinterNameProperty = printer.Properties[\"DeviceId\"].Value.ToString();\r\n            var ResultPrinter01 = printer.Properties[\"ExtendedPrinterStatus\"].Value.ToString();\r\n            var ResultPrinter02 = printer.Properties[\"PrinterState\"].Value.ToString();\r\n\r\n            if (PrinterNameProperty == PrinterName)\r\n            {\r\n                //(no internet connection or printer switched off):PrinterState\r\n                if (ResultPrinter02 == \"128\"|| ResultPrinter02==\"4096\")\r\n                {\r\n                    isOnlineprinter = false;\r\n                }\r\n\r\n\r\n\r\n                ////printer is initializing....\r\n                //if (ResultPrinter02 == \"16\")\r\n                //{\r\n                //    isOnlineprinter = false;\r\n                //}\r\n\r\n                //(no internet connection or printer switched off):ExtendedPrinterStatus\r\n                if (ResultPrinter01 == \"7\")\r\n                {\r\n                    isOnlineprinter = false;\r\n                }\r\n\r\n            }\r\n\r\n            return isOnlineprinter;\r\n         }\r\n         \r\n         \r\n         \r\n         \r\n  **//check for out of paper**\r\nprivate static bool IspaperOK(ManagementBaseObject printer)\r\n        {\r\n            bool PaperOK = true;\r\n            \r\n            PrinterNative.PrinterNative.PrinterNative printerNative = new PrinterNative.PrinterNative.PrinterNative();\r\n            var PrinterName = printerNative.GetPrinterName();\r\n            var PrinterNameProperty = printer.Properties[\"DeviceId\"].Value.ToString();\r\n\r\n            var PaperStatus = printer.Properties[\"PrinterState\"].Value.ToString();\r\n            \r\n            if (PrinterNameProperty == PrinterName)\r\n            {\r\n                //(PrinterState)16 = Out of Paper\r\n                //(PrinterState)5 = Out of paper\r\n                //(PrinterState)4 = paperjam\r\n                //(PrinterState)144 = Out of paper\r\n                if ((PaperStatus == \"5\") || (PaperStatus == \"16\")||(PaperStatus==\"144\"))\r\n                {\r\n                    PaperOK = false;\r\n                }\r\n\r\n            }\r\n\r\n            return PaperOK;\r\n        }\r\n        \r\n        \r\n        \r\n**//Verify still printing state or not**\r\nprivate static bool Isprinting(ManagementBaseObject printer)\r\n        {\r\n            bool Isprintingnow = false;\r\n            PrinterNative.PrinterNative.PrinterNative printerNative = new PrinterNative.PrinterNative.PrinterNative();\r\n            var PrinterName = printerNative.GetPrinterName();\r\n            var PrinterNameProperty = printer.Properties[\"DeviceId\"].Value.ToString();\r\n            var printing01 = printer.Properties[\"PrinterState\"].Value.ToString();\r\n            var printing02 = printer.Properties[\"PrinterStatus\"].Value.ToString();\r\n            if (PrinterNameProperty == PrinterName)\r\n            {\r\n                //(PrinterState)11 = Printing\r\n                //(PrinterState)1024 = printing\r\n                //(PrinterStatus)4 = printing\r\n                if (printing01 == \"11\" || printing01 == \"1024\" || printing02==\"4\")\r\n                {\r\n                    Isprintingnow = true;\r\n                }\r\n\r\n            }\r\n\r\n            return Isprintingnow;\r\n        }\r\n\r\n**//check for error (Printer)**\r\n private static bool IsPrinterError(ManagementBaseObject printer)\r\n        {\r\n            bool PrinterOK = true;\r\n\r\n            PrinterNative.PrinterNative.PrinterNative printerNative = new PrinterNative.PrinterNative.PrinterNative();\r\n            var PrinterName = printerNative.GetPrinterName();\r\n            var PrinterNameProperty = printer.Properties[\"DeviceId\"].Value.ToString();\r\n\r\n            var PrinterSpecificError = printer.Properties[\"PrinterState\"].Value.ToString();\r\n            var otherError = printer.Properties[\"ExtendedPrinterStatus\"].Value.ToString();\r\n            if (PrinterNameProperty == PrinterName)\r\n            {\r\n                //(PrinterState)2 - error of printer\r\n                //(PrinterState)131072 - Toner Low\r\n                //(PrinterState)18 - Toner Low\r\n                //(PrinterState)19 - No Toner\r\n\r\n                if ((PrinterSpecificError == \"131072\")||(PrinterSpecificError == \"18\")||(PrinterSpecificError == \"19\")||(PrinterSpecificError == \"2\")||(PrinterSpecificError == \"7\"))\r\n                {\r\n                    PrinterOK = false;\r\n                }\r\n\r\n                //(ExtendedPrinterStatus) 2 - no error\r\n                if (otherError==\"2\")\r\n                {\r\n                    PrinterOK = true;\r\n                }\r\n                else\r\n                {\r\n                    PrinterOK = false;\r\n                }\r\n\r\n            }\r\n            return PrinterOK;\r\n        }\r\n\r\n    **//check Network or USB**\r\nprivate static bool IsNetworkPrinter(ManagementBaseObject printer)\r\n    {\r\n        bool IsNetwork = true;\r\n        PrinterNative.PrinterNative.PrinterNative printerNative = new PrinterNative.PrinterNative.PrinterNative();\r\n        var PrinterName = printerNative.GetPrinterName();\r\n        var PrinterNameProperty = printer.Properties[\"DeviceId\"].Value.ToString();\r\n      \r\n        var network = printer.Properties[\"Network\"].Value.ToString();                   \r\n        var local = printer.Properties[\"Local\"].Value.ToString();\r\n\r\n                    if (PrinterNameProperty == PrinterName)\r\n                    {\r\n                        if (network == \"True\")\r\n                        {\r\n                            IsNetwork = true;\r\n                        }\r\n\r\n                        if (network == \"True\" &amp;&amp; local == \"True\")\r\n                        {\r\n                            IsNetwork = true;\r\n                        }\r\n\r\n                        if (local == \"True\" &amp;&amp; network==\"False\")\r\n                        {\r\n                            IsNetwork = false;\r\n                        }\r\n                    }\r\n\r\n        return IsNetwork;\r\n    }\r\n\r\n         </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>            //(PrinterState)16 = Out of Paper\n            //(PrinterState)5 = Out of paper\n            //(PrinterState)4 = paperjam\n            //(PrinterState)144 = Out of paper\n            //(PrinterState)4194432 = Lid Open        \n            //(PrinterState)4194448 = Out of paper/Lid open \n            //(PrinterState)4096= Offline   \n            //(PrinterState)1024= Printing\n            //(PrinterState)128= Printer is offline\n</code></pre>\n"}], "owner": {"reputation": 3083, "user_id": 591285, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e63e9790c68f61f4c53573ddce22d40f?s=128&d=identicon&r=PG", "display_name": "clamchoda", "link": "https://stackoverflow.com/users/591285/clamchoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6470, "favorite_count": 0, "accepted_answer_id": 41027069, "answer_count": 2, "score": 1, "last_activity_date": 1539359071, "creation_date": 1481142048, "last_edit_date": 1481143081, "question_id": 41026649, "link": "https://stackoverflow.com/questions/41026649/using-managementobjectsearcher-and-win32-printer-to-check-status", "title": "Using ManagementObjectSearcher and Win32_Printer to check Status", "body": "<p>I have been forced to use the <a href=\"https://support.microsoft.com/en-us/kb/322091\" rel=\"nofollow noreferrer\">RawPrinterHelper</a> class to print to a thermal printer because the PrintDocument method has proven unfit for POS printing.</p>\n\n<p>I now need to check the status of the printer prior to printing to be sure that it is, online and ready to print. I have been able to successful check attributes from <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa394363(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Win32_Printer</a>. I can see properties such as <code>PrinterStatus</code>, changing from 3, to a 2 or a 1 when out of paper or tray is open. This is great.</p>\n\n<p>My question is, which properties should indicate it is O.K. to print? There must be more than just checking if <code>PrinterStatus</code> is idle (3).</p>\n\n<pre><code>    private bool ReadyCheck(string printerName)\n    {\n        bool ready = false;\n        string query = string.Format(\"SELECT * from Win32_Printer WHERE Name LIKE '%{0}'\", printerName);\n\n        using (ManagementObjectSearcher searcher = new ManagementObjectSearcher(query))\n        using (ManagementObjectCollection coll = searcher.Get())\n        {\n            try\n            {\n                foreach (ManagementObject printer in coll)\n                {\n                    // Print status = 3, idle and ready to print\n                    string status = printer.Properties[\"PrinterStatus\"].Value.ToString();\n                    string extendedPrinterStatus = printer.Properties[\"ExtendedPrinterStatus\"].Value.ToString();\n\n                    // What else means printer is ready?\n                    if (status.Trim() == \"3\")\n                        ready = true;\n\n                }\n            }\n            catch (ManagementException ex)\n            {\n                Console.WriteLine(ex.Message);\n            }\n        }\n\n        return ready;\n\n    }\n</code></pre>\n\n<p>Edit: \n@vendettamit Sorry I didn't ask very well. For instance, Idle (3) indicates it's OK to print. I am wondering if there are more which also indicate it's OK to print such as; Printing (4), WarmUp (5), ect, or is Idle (3) the only time you should send the next print job? Thanks</p>\n"}, {"tags": ["c#", "json", "wpf", "xaml", "datagrid"], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 1971240, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a45644e9d8c8e0ae9bef14c3acc77ebf?s=128&d=identicon&r=PG", "display_name": "JasonWH", "link": "https://stackoverflow.com/users/1971240/jasonwh"}, "is_accepted": true, "score": 1, "last_activity_date": 1481323776, "creation_date": 1481323776, "answer_id": 41070071, "question_id": 41026457, "link": "https://stackoverflow.com/questions/41026457/data-binding-a-datagrid-to-an-object-with-nested-classes/41070071#41070071", "title": "Data Binding a DataGrid to an Object with Nested Classes", "body": "<p>SO after some messing around with this.  Here is the answer I came up with.</p>\n\n<p>I took the query set class above and added a method to build a DataTable inside the QuerySet Class:</p>\n\n<pre><code>   public class QuerySet\n    {\n        public DataTable BindableTable { get; private set; }\n        public static List&lt;string&gt; ColumnName { get; private set; }\n        public static List&lt;RowSet.DataSet&gt; RowsSet { get; private set; }\n\n        public List&lt;Column&gt; Columns { get; set; }\n        public class Column\n        {\n            private List&lt;string&gt; _name;\n\n            public List&lt;string&gt; Name\n            {\n                get { return _name; }\n                set { _name = value; ColumnName = _name; }\n            }\n\n\n        }\n        public List&lt;RowSet&gt; Rows { get; set; }\n\n        public class RowSet\n        {\n            private List&lt;DataSet&gt; _row;\n\n            public List&lt;DataSet&gt; Row\n            {\n                get { return _row; }\n                set { _row = value; RowsSet = _row; }\n            }\n\n            public class DataSet\n            {\n                public List&lt;string&gt; Data { get; set; }\n            }\n        }\n\n        public void GetDataGridTable()\n        {\n            DataTable table = new DataTable();\n            foreach(string name in ColumnName)\n            {\n                table.Columns.Add(name);\n            }\n            foreach(RowSet.DataSet set in RowsSet)\n            {\n                DataRow row = table.NewRow();\n                int counter = 0;\n                foreach(string item in set.Data)\n                {\n                    row[counter] = item;\n                    counter++;\n                }\n                table.Rows.Add(row);\n            }\n\n            BindableTable = table;\n        }\n    }\n</code></pre>\n\n<p>I added a couple of accessors to make getting to the nested bits easier, and built a DataTable from there.  In my code behind my popup window, I created an Observable Collection of DataGrids, and set the DataContext of each Grid to a DataView based on the QuerySet:</p>\n\n<pre><code>    public ObservableCollection&lt;DataGrid&gt; QueryResults;\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    public QueryResultsWindow(string _name, JObject _returns)\n    {\n        InitializeComponent();\n        QueryNameText.Text = _name;\n        QueryResults = new ObservableCollection&lt;DataGrid&gt;();\n\n        JArray sets = (JArray)_returns.SelectToken(\"$..Set\");\n\n        foreach(JObject set in sets)\n        {\n            DataGrid dg = new DataGrid();\n            QuerySet s = new QuerySet();\n            s = JsonConvert.DeserializeObject&lt;QuerySet&gt;(set.ToString());\n\n            s.GetDataGridTable();\n            DataView newView = new DataView(s.BindableTable);\n            dg.ItemsSource = newView;\n            dg.CanUserAddRows = false;\n            dg.CanUserDeleteRows = false;\n            QueryResults.Add(dg);\n        }\n\n        ResultsListBox.ItemsSource = QueryResults;\n    }\n</code></pre>\n\n<p>Then the XAML inside my popup window was pretty straight forward:</p>\n\n<pre><code>&lt;DockPanel&gt;\n    &lt;StackPanel Orientation=\"Horizontal\" DockPanel.Dock=\"Top\" VerticalAlignment=\"Top\"&gt;\n        &lt;TextBlock x:Name=\"QueryNameText\" Margin=\"5\"&gt;&lt;/TextBlock&gt;\n        &lt;Button Content=\"Export Results\" Click=\"Button_Click\" Margin=\"5\"&gt;&lt;/Button&gt;\n    &lt;/StackPanel&gt;\n    &lt;ListBox DockPanel.Dock=\"Top\" HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" Margin=\"3\" Name=\"ResultsListBox\" ItemsSource=\"{Binding QueryResults}\"&gt;\n    &lt;/ListBox&gt;\n&lt;/DockPanel&gt;\n</code></pre>\n\n<p>Obviously this is not the most elegant solution.  Even just looking at it here I could easily create the DataView in the QuerySet class rather than doing that conversion in the code behind.  So, while the answer isn't perfect, it's working for now.</p>\n"}], "owner": {"reputation": 159, "user_id": 1971240, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a45644e9d8c8e0ae9bef14c3acc77ebf?s=128&d=identicon&r=PG", "display_name": "JasonWH", "link": "https://stackoverflow.com/users/1971240/jasonwh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "accepted_answer_id": 41070071, "answer_count": 1, "score": 0, "last_activity_date": 1481323776, "creation_date": 1481141423, "question_id": 41026457, "link": "https://stackoverflow.com/questions/41026457/data-binding-a-datagrid-to-an-object-with-nested-classes", "title": "Data Binding a DataGrid to an Object with Nested Classes", "body": "<p>So I have an api call that runs a query and returns a JSON response.  Because of the structure of the JSON response I have created a class that I can use Json.Net to Deserialize the return straight into.  Here is the example class:</p>\n\n<pre><code>public class QuerySet\n{\n    public List&lt;Column&gt; Columns { get; set; }\n    public class Column\n    {\n        public List&lt;string&gt; Name { get; set; }\n    }\n    public List&lt;RowSet&gt; Rows { get; set; }\n    public class RowSet\n    {\n        public List&lt;DataSet&gt; Row { get; set; }\n        public class DataSet\n        {\n            public List&lt;string&gt; Data { get; set; }\n        }\n    }\n}\n</code></pre>\n\n<p>Now, a single API call can contain several query sets, so for each return, I generate a list of query sets, that I then want to data bind a DataGrid to each set.  Here is an example of what I have so far in the code behind my window:</p>\n\n<pre><code>    public List&lt;DataGrid&gt; QueryResults;\n\n    public QueryResultsWindow(string _name, JObject _returns)\n    {\n        InitializeComponent();\n        QueryNameText.Text = _name;\n        QueryResults = new List&lt;DataGrid&gt;();\n\n        JArray sets = (JArray)_returns.SelectToken(\"$..Set\");\n\n        foreach(JObject set in sets)\n        {\n            DataGrid dg = new DataGrid();\n            QuerySet s = new QuerySet();\n            s = JsonConvert.DeserializeObject&lt;QuerySet&gt;(set.ToString());\n\n            dg.ItemsSource = s.Rows;\n\n            QueryResults.Add(dg);\n        }\n\n        ResultsListBox.ItemsSource = QueryResults;\n    }\n</code></pre>\n\n<p>The issue here as you might see is that for each particular DataGrid, I want the Column Headers bound to the Name property, and the data populated from the Data properties.</p>\n\n<p>Here is how I currently have the XAML setup in the window:</p>\n\n<pre><code>   &lt;DockPanel&gt;\n        &lt;StackPanel Orientation=\"Horizontal\" DockPanel.Dock=\"Top\" VerticalAlignment=\"Top\"&gt;\n            &lt;TextBlock x:Name=\"QueryNameText\" Margin=\"5\"&gt;&lt;/TextBlock&gt;\n            &lt;Button Content=\"Export Results\" Click=\"Button_Click\" Margin=\"5\"&gt;&lt;/Button&gt;\n        &lt;/StackPanel&gt;\n        &lt;ListBox DockPanel.Dock=\"Top\" HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" Margin=\"3\" Name=\"ResultsListBox\"&gt;\n            &lt;ListBox.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;DataGrid HorizontalAlignment=\"Stretch\" VerticalAlignment=\"Stretch\" ItemsSource=\"{Binding UpdateSourceTrigger=PropertyChanged}\" CanUserAddRows=\"False\" IsReadOnly=\"True\" SelectionUnit=\"Cell\"&gt;\n                        &lt;DataGrid.Columns&gt;\n                            &lt;DataGridTextColumn Header=\"{Binding Name}\"&gt;&lt;/DataGridTextColumn&gt;\n                        &lt;/DataGrid.Columns&gt;\n                    &lt;/DataGrid&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListBox.ItemTemplate&gt;\n        &lt;/ListBox&gt;\n    &lt;/DockPanel&gt;\n</code></pre>\n\n<p>I know that if I wanted to create a custom class for each possible return type, this would be much easier.  However, given the hundreds of potential return types, this does not seem very feasible.  I've tried using DataTables, I've tried setting the DataGrid in the ListBox in XAML, but I may not have implemented this correctly, and finally came to the resolution of trying to create a list of DataGrids and then binding to those.  </p>\n\n<p>I could use some help.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "c", "volatile"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 5, "creation_date": 1481141406, "post_id": 41026418, "comment_id": 69260137, "body": "Yes, it matters by language. My answer to that question would be &quot;No, I can&#39;t - not with precision and accuracy.&quot; I think that&#39;s the <i>truthful</i> answer of 99% of C# developers."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481141443, "post_id": 41026418, "comment_id": 69260160, "body": "Why are they mutually exclusive?  The keyword is there to ensure that <i>nothing</i> is violating the constraints that <code>volatile</code> is there to ensure.  This includes the language compiler, the runtime, the operating system, and even the hardware on the CPU.  Each layer of abstraction needs to not only not make improper optimizations given the rules <code>volatile</code> restricts, and also needs to ensure none of the layers it is built on do so either."}, {"owner": {"reputation": 181, "user_id": 7066959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1310ac92430854ed0d85ecfc21aa1a?s=128&d=identicon&r=PG&f=1", "display_name": "10101088101010", "link": "https://stackoverflow.com/users/7066959/10101088101010"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1481141495, "post_id": 41026418, "comment_id": 69260197, "body": "@JonSkeet Can you expand on what you mean by the latter half of your comment?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1481141582, "post_id": 41026418, "comment_id": 69260269, "body": "@10101088101010 Jon is asserting that almost no C# developers, including himself, accurately understand the exact semantics <code>volatile</code> results in, even if they might say otherwise."}, {"owner": {"reputation": 181, "user_id": 7066959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1310ac92430854ed0d85ecfc21aa1a?s=128&d=identicon&r=PG&f=1", "display_name": "10101088101010", "link": "https://stackoverflow.com/users/7066959/10101088101010"}, "edited": false, "score": 0, "creation_date": 1481141636, "post_id": 41026418, "comment_id": 69260309, "body": "Ah okay! That is indeed interesting..."}, {"owner": {"reputation": 181, "user_id": 7066959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1310ac92430854ed0d85ecfc21aa1a?s=128&d=identicon&r=PG&f=1", "display_name": "10101088101010", "link": "https://stackoverflow.com/users/7066959/10101088101010"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481141663, "post_id": 41026418, "comment_id": 69260325, "body": "@Servy post as answer and I&#39;ll accept..."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 5, "creation_date": 1481141699, "post_id": 41026418, "comment_id": 69260355, "body": "I&#39;m saying that almost no C# developers know what volatile really means in C#. Even MSDN doesn&#39;t (the description <a href=\"https://msdn.microsoft.com/en-us/library/x13ttww7.aspx\" rel=\"nofollow noreferrer\">here</a> is an oversimplification). I&#39;ve read the C# spec several times and the relevant section of the ECMA CLI spec several times, and I believe they&#39;re somewhat unclear. Do I have a vague approximation of an understanding? Sure. But could I describe it precisely and accurately? Nope."}, {"owner": {"reputation": 585, "user_id": 3897125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd88edbc10bf1d18cbb9c5a66df389f?s=128&d=identicon&r=PG&f=1", "display_name": "koper89", "link": "https://stackoverflow.com/users/3897125/koper89"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481141712, "post_id": 41026418, "comment_id": 69260361, "body": "@Servy In C# im not sure because it&#39;s JIT compiled but how in C after compilation CPU/OS/Runtime would now that &quot;this variable is volatile or not&quot; if it&#39;s just following the compiled instructions? volatile in C is solely for compiler."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1481141729, "post_id": 41026418, "comment_id": 69260367, "body": "I think the interviewer is wrong.  The compiler has to add code (pseudo ops) to prevent cross-threading.  The operating system can&#39;t modify the code without the compiler information.  It may be the operating system that actually behaves differently, but without the compiler adding marks into the code the Operating System will not know what to do."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 1, "creation_date": 1481141734, "post_id": 41026418, "comment_id": 69260369, "body": "Your C answer is actually very incorrect."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 4, "creation_date": 1481141758, "post_id": 41026418, "comment_id": 69260382, "body": "No, that is absolutely wrong. It does not warn the OS. You might argue that it informs the <i>runtime</i> environment, since C# is a managed language, but <code>volatile</code> absolutely does not send any signal to the operating system itself. Jon et al. are right that the semantics of <code>volatile</code> in C# are confusing and ill-understood, but there is really no way someone could plausibly argue that it is a semantic hint to the operating system."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 3, "creation_date": 1481141788, "post_id": 41026418, "comment_id": 69260402, "body": "One exception I know about for this is Joe Duffy. He knows. I&#39;m sure some of his old colleagues know as well. Vance Morrison knows. I&#39;m sure some of the equivalent folks on the Mono runtime team know. Basically, it&#39;s a handful compared with the swathes of &quot;us common folk&quot; who don&#39;t."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 1, "creation_date": 1481141879, "post_id": 41026418, "comment_id": 69260448, "body": "@CodyGray: I&#39;m glad you said that. I was thinking it was runtime rather than OS, too. I would expect it to affect the assembly code generated - and it could involve making system calls - but I would be surprised if the OS <i>implicitly</i> got involved. I didn&#39;t say so before for fear of being wrong due to my aforementioned ignorance."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 585, "user_id": 3897125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd88edbc10bf1d18cbb9c5a66df389f?s=128&d=identicon&r=PG&f=1", "display_name": "koper89", "link": "https://stackoverflow.com/users/3897125/koper89"}, "edited": false, "score": 0, "creation_date": 1481141892, "post_id": 41026418, "comment_id": 69260454, "body": "@koper89 The compiler would need to ensure that the operations it performed on the underlying runtime provided guarantees such that <code>volatile</code> semantics were maintained.  How it goes about doing that is its business, and I&#39;m sure the specifics would vary between runtimes, but if a compiler ended up writing out machine code that was instructing the runtime to perform operations that would (potentially) violate the volatile semantics, then that would be a bug in the compiler."}, {"owner": {"reputation": 7022, "user_id": 7659995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iZH7M.png?s=128&g=1", "display_name": "MD XF", "link": "https://stackoverflow.com/users/7659995/md-xf"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 8, "creation_date": 1481141895, "post_id": 41026418, "comment_id": 69260456, "body": "@JonSkeet &quot;us common folk&quot;, says the Chuck Norris of programming."}, {"owner": {"reputation": 1659, "user_id": 5095502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e54dcf3ba6b94fd63bb61af1704ce1?s=128&d=identicon&r=PG", "display_name": "Quantic", "link": "https://stackoverflow.com/users/5095502/quantic"}, "edited": false, "score": 0, "creation_date": 1481141961, "post_id": 41026418, "comment_id": 69260495, "body": "This is outside my scope of experience, but the <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=7029\" rel=\"nofollow noreferrer\">Language Specification</a> at least mentions this: &quot;These optimizations can be performed by the compiler, by the run-time system, or by hardware. For volatile fields, such reordering optimizations are restricted&quot;. Whether &quot;run-time system&quot; (or &quot;hardware&quot;, depending on context) counts as &quot;the operating system&quot; I do not know."}, {"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1481142334, "post_id": 41026418, "comment_id": 69260716, "body": "if I remember correctly it has to do with compiler. not the OS. It is basically telling the compiler not to optimize it. I absolutely hate when the interviewer keeps saying you are wrong while he/she is wrong. I had a time where the interviewer keeps telling me I need to use gcnew in c# for GC to work. And I was like....Nope! (not gonna mention which but its one of the top 10 software company)"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1481142629, "post_id": 41026418, "comment_id": 69260887, "body": "@Steve What would be the point in telling the compiler not to re-order certain operations if the OS (or any other layers of abstraction underneath the compiler) is allowed to re-order those operations?  If it would be allowed to, then you couldn&#39;t assume anything about how the order the operations are performed in, so you might as well not use <code>volatile</code> at all.  It&#39;s only worth using if the constraints it mandes happen are enforced &quot;all the way down&quot;."}, {"owner": {"reputation": 181, "user_id": 7066959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1310ac92430854ed0d85ecfc21aa1a?s=128&d=identicon&r=PG&f=1", "display_name": "10101088101010", "link": "https://stackoverflow.com/users/7066959/10101088101010"}, "edited": false, "score": 0, "creation_date": 1481143059, "post_id": 41026418, "comment_id": 69261107, "body": "So would it them be a safe assumption to say it&#39;s... both?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1481143948, "post_id": 41026418, "comment_id": 69261605, "body": "It would be a safe assumption to say it&#39;s... complicated."}, {"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 1, "creation_date": 1481144415, "post_id": 41026418, "comment_id": 69261900, "body": "<a href=\"http://joeduffyblog.com/2010/12/04/sayonara-volatile/\" rel=\"nofollow noreferrer\">joeduffyblog.com/2010/12/04/sayonara-volatile</a>"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 1, "creation_date": 1481144941, "post_id": 41026418, "comment_id": 69262207, "body": "<a href=\"http://stackoverflow.com/questions/72275/when-should-the-volatile-keyword-be-used-in-c\">Lippert</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 4, "creation_date": 1481165131, "post_id": 41026418, "comment_id": 69269345, "body": "The interviewer is sufficiently wrong that they should not be using volatile in any language."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 7066959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1310ac92430854ed0d85ecfc21aa1a?s=128&d=identicon&r=PG&f=1", "display_name": "10101088101010", "link": "https://stackoverflow.com/users/7066959/10101088101010"}, "edited": false, "score": 0, "creation_date": 1481144358, "post_id": 41027240, "comment_id": 69261871, "body": "Interesting... I had no idea that this topic was so grey as opposed to black and white. Thanks for the insight and summary."}, {"owner": {"reputation": 613, "user_id": 4245870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cW8C3.jpg?s=128&g=1", "display_name": "dovedevic", "link": "https://stackoverflow.com/users/4245870/dovedevic"}, "reply_to_user": {"reputation": 181, "user_id": 7066959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1310ac92430854ed0d85ecfc21aa1a?s=128&d=identicon&r=PG&f=1", "display_name": "10101088101010", "link": "https://stackoverflow.com/users/7066959/10101088101010"}, "edited": false, "score": 1, "creation_date": 1481144742, "post_id": 41027240, "comment_id": 69262097, "body": "I just want to point out, even though you marked this as the answer, this is by no means a concrete and distinctive answer... as the topic is complicated..."}], "tags": [], "owner": {"reputation": 613, "user_id": 4245870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cW8C3.jpg?s=128&g=1", "display_name": "dovedevic", "link": "https://stackoverflow.com/users/4245870/dovedevic"}, "is_accepted": true, "score": 3, "last_activity_date": 1481144518, "last_edit_date": 1481144518, "creation_date": 1481144301, "answer_id": 41027240, "question_id": 41026418, "link": "https://stackoverflow.com/questions/41026418/volatile-variables/41027240#41027240", "title": "Volatile variables", "body": "<p>To be fairly honest, the question posed by the interviewer is kinda foggy as it is.</p>\n\n<p>It really depends on what he/she meant by \"OS\". Are they talking about the \"upfront OS\", the pure software side of things, or what they might be misconstruing the \"OS\" as the hardware-software relationship, ie the RTE and MMM (I've seen either assumptions and comparisons in some of my own personal interviews). I think it should be noted that these two are quite distinctly different! If he/she is talking about the former, then <strong>NO</strong> volatile does not \"inform\" the OS. If they are talking about the latter, then <em>yes</em> (this is a loose yes). At this point you are in the realm of the differences between the languages. As Cody Gray mentioned, C# is a managed language, and so then the latter definition of the OS does indeed \"get notified\" of the variable and the precautions to take.</p>\n\n<p>But also, in any case or definition of OS, the compiler <strong><em>does</em></strong> specially manage and deal with the volatile field, regardless of language. Otherwise, why have the keyword in the first place?</p>\n\n<p>In my personal opinion, what ever that's worth, I think you answered correctly, albeit, judging by the comments, can get complicated and hectic by nature.</p>\n"}, {"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 22, "last_activity_date": 1481167039, "creation_date": 1481167039, "answer_id": 41031198, "question_id": 41026418, "link": "https://stackoverflow.com/questions/41026418/volatile-variables/41031198#41031198", "title": "Volatile variables", "body": "<blockquote>\n  <p>I answered by saying it just lets the compiler know that the variable can be used across processes or threads, and that it should not use optimization on that variable; as optimizing it can deteriorate behavior. In a nutshell, it's a warning to the compiler.</p>\n</blockquote>\n\n<p>This is going in the right direction for C# but misses some important aspects.</p>\n\n<p>First off, delete \"processes\" entirely. Variables are not shared across processes in C#.</p>\n\n<p>Second, don't concentrate on <em>optimizations</em>. Instead concentrate on <em>permissible semantics</em>. A compiler is not required to generate optimal code; a compiler is required to generate specification-compliant code. A re-ordering need not be for performance reasons and need not be faster / smaller / whatever. A volatile declaration adds an additional restriction on the permissible semantics of a multithreaded program.</p>\n\n<p>Third, don't think of it as a warning to the compiler. It's a directive to the compiler: to generate code that is guaranteed to be compliant with the specification for volatile variables. How the compiler does so is up to it.</p>\n\n<p>The actual answer to the question</p>\n\n<blockquote>\n  <p>Can you describe to me what adding volatile in front of variables does?</p>\n</blockquote>\n\n<p>is: A C# compiler and runtime environment have great latitude to re-order variable reads and writes for any reason they see fit. They are restricted to only those re-orderings which preserve the meaning of programs on a single thread. So \"x = y; a = b;\" could move the read of b to before the read to y; that's legal because the outcome is unchanged. (This is not the only restriction on re-ordering, but it is in some sense the most fundamental one.) However, re-orderings are permitted to be noticeable on multiple threads; it is possible that another thread observes that b is read before y. This can cause problems.</p>\n\n<p>The C# compiler and runtime have additional restrictions on how volatile reads and writes may be re-ordered with respect to each other, and furthermore how they may be ordered with respect to other events such as threads starting and stopping, locks, exceptions being thrown, and so on.  </p>\n\n<p>Consult the C# specification for a detailed list of the restrictions on observed orderings of reads, writes and other effects. </p>\n\n<p>Note in particular that even with volatile variables, there is not required to be a <em>consistent total ordering of all variable accesses as seen from all threads</em>. And specifically, the notion that volatile \"reads the latest value of the variable\" is simply false; that phrasing suggests that there is such a thing as \"the latest value\", which implies a total consistent ordering.</p>\n\n<p>If that sounds confusing, it is. <strong>Don't write multithreaded programs that share data across threads.</strong> If you must, use the highest level abstractions at your disposal. Hardly anyone should be writing code that uses volatile; use the TPL and let it manage your threads.</p>\n\n<p>Now let's consider your answer in the context of C.</p>\n\n<p>The question is ill-posed with respect to C. In C# volatile is a modifier on member variable declarations; in C, it's part of a <em>type</em>. So saying \"before a variable\" is ambiguous; where before the variable? There's a difference between a <code>volatile int * x</code> and an <code>int * volatile x</code>. (Can you see the difference?)</p>\n\n<p>But more importantly: the C specification does not guarantee that volatile will have any particular behaviour with respect to threads. If your C compiler does, that's an extension of the language by your compiler vendor. Volatile in C is guaranteed to have certain behaviour with respect to memory mapped IO, long jumps, and signals, and that's all; if you rely on it to have certain behaviour with respect to threads then you are writing non-portable code.</p>\n\n<blockquote>\n  <p>According to the interviewer: it's the other way around, and the volatile keyword warns the OS, not the compiler.</p>\n</blockquote>\n\n<p>That's nonsense from start to finish. Interviewers should not ask questions that they don't understand the answers to.</p>\n"}], "owner": {"reputation": 181, "user_id": 7066959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1310ac92430854ed0d85ecfc21aa1a?s=128&d=identicon&r=PG&f=1", "display_name": "10101088101010", "link": "https://stackoverflow.com/users/7066959/10101088101010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 3, "accepted_answer_id": 41027240, "answer_count": 2, "score": 18, "last_activity_date": 1481167039, "creation_date": 1481141256, "last_edit_date": 1481145235, "question_id": 41026418, "link": "https://stackoverflow.com/questions/41026418/volatile-variables", "title": "Volatile variables", "body": "<p>I recently had an interview with a software company who asked me the following question:</p>\n\n<blockquote>\n  <p>Can you describe to me what adding <em>volatile</em> in front of variables does? Can you explain to me why it's important?</p>\n</blockquote>\n\n<p>Most of my programming knowledge comes from C, yet the job position is for C# (I thought I might add this bit of info if necessary for the question specifically)</p>\n\n<p>I answered by saying it just lets the <strong><em>compiler</em></strong> know that the variable can be used across processes or threads, and that it should not use optimization on that variable; as optimizing it can deteriorate behavior. In a nutshell, it's a warning to the compiler.</p>\n\n<p>According to the interviewer, however, it's the other way around, and the volatile keyword warns the <strong><em>OS</em></strong>, not the compiler. </p>\n\n<p>I was a bit befuddled by this, so I did some research and actually found conflicting answers! Some sources say it's for the compiler, and others for the OS.</p>\n\n<p>Which is it? Does it differ by language?</p>\n"}, {"tags": ["c#", "dynamic-language-runtime", "dynamicobject"], "answers": [{"tags": [], "owner": {"reputation": 70, "user_id": 7259742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd0994084d5046f5973e0cf57f47b04?s=128&d=identicon&r=PG&f=1", "display_name": "bwd", "link": "https://stackoverflow.com/users/7259742/bwd"}, "is_accepted": true, "score": 3, "last_activity_date": 1481161852, "last_edit_date": 1495541634, "creation_date": 1481161402, "answer_id": 41030428, "question_id": 41026329, "link": "https://stackoverflow.com/questions/41026329/why-is-trygetmember-not-invoked-on-my-dynamicobject/41030428#41030428", "title": "Why is TryGetMember not invoked on my DynamicObject?", "body": "<p>I can't add comments due to my low rep so I will leave an answer.</p>\n\n<p>from your code sample provided I can only see the way you are storing the dynamic object as</p>\n\n<pre><code>BindableDynamicDictionary apptDynamic = Appointments[start];\n</code></pre>\n\n<p>for the dynamic property access to work you need to use the dynamic keyword</p>\n\n<pre><code>dynamic apptDynamic = Appointments[start];\n</code></pre>\n\n<p>reference links</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.dynamic.dynamicobject.trygetmember(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.dynamic.dynamicobject.trygetmember(v=vs.110).aspx</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3565481/differences-between-expandoobject-dynamicobject-and-dynamic\">Differences between ExpandoObject, DynamicObject and dynamic</a></p>\n"}], "owner": {"reputation": 44021, "user_id": 8741, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/feef9dda8bbe41e9def78c274a37f60c?s=128&d=identicon&r=PG", "display_name": "ProfK", "link": "https://stackoverflow.com/users/8741/profk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "accepted_answer_id": 41030428, "answer_count": 1, "score": 1, "last_activity_date": 1481163708, "creation_date": 1481140934, "question_id": 41026329, "link": "https://stackoverflow.com/questions/41026329/why-is-trygetmember-not-invoked-on-my-dynamicobject", "title": "Why is TryGetMember not invoked on my DynamicObject?", "body": "<p>I have the following class for binding to dynamically generated columns on a WPF <code>DataGrid</code>. The column binding has to be a property name, and I can add appropriately named properties to a <code>DynamicObject</code>:</p>\n\n<pre><code>public class BindableDynamicDictionary : DynamicObject\n{\n    private readonly Dictionary&lt;string, object&gt; _dictionary;\n\n    public BindableDynamicDictionary()\n    {\n        _dictionary = new Dictionary&lt;string, object&gt;();\n    }\n\n    public object this[string key]\n    {\n        get { return _dictionary[key]; }\n        set { _dictionary[key] = value; }\n    }\n\n    public override bool TryGetMember(GetMemberBinder binder, out object result)\n    {\n        return _dictionary.TryGetValue(binder.Name, out result);\n    }\n\n    public override bool TrySetMember(SetMemberBinder binder, object value)\n    {\n        _dictionary[binder.Name] = value;\n        return true;\n    }\n}\n</code></pre>\n\n<p>Just FYI, each day property stores an <code>AppointmentRowViewModel</code>.</p>\n\n<p>When I've populated an instance of the above with one dynamic property for each day of a week, all the dynamic properties are listed, and the dictionary access works fine, but property name access throws an exception. E.g (from my Immediate Window):</p>\n\n<pre><code>apptDynamic.GetDynamicMemberNames()\nCount = 9\n    [0]: \"20161205\"\n    [1]: \"Monday\"\n    [2]: \"20161206\"\n    [3]: \"Tuesday\"\n    [4]: \"20161208\"\n    [5]: \"Thursday\"\n    [6]: \"20161211\"\n    [7]: \"Sunday\"\n    [8]: \"20161215\"\napptDynamic.Monday\nerror CS1061: 'AppointmentCalendarViewModel.TimeAppointmentDictionary' does not contain a definition for 'Monday' and no extension method 'Monday' accepting a first argument of type 'AppointmentCalendarViewModel.TimeAppointmentDictionary' could be found (are you missing a using directive or an assembly reference?)\napptDynamic[\"Monday\"]\n{ApptEase.Client.Prism.CSharp.ViewModels.AppointmentRowViewModel}\n</code></pre>\n\n<p>Is this perhaps because I only set the properties using dictionary access? I don't know how else to without property name literals, so I do it like this:</p>\n\n<pre><code>BindableDynamicDictionary apptDynamic = Appointments[start];\nDateTime loopDate = ActiveDate.FirstDayOfWeek(WeekStartDay);\nfor (var i = 0; i &lt; DaysVisible; i++)\n{\n    loopDate = loopDate.AddDays(i);\n    if (appt.StartDateTime.Date == loopDate.Date)\n    {\n        apptDynamic[loopDate.ToString(\"yyyyMMdd\")] = appt;\n        apptDynamic[loopDate.DayOfWeek.ToString()] = appt;\n        continue;\n    }\n    apptDynamic[loopDate.ToString(\"yyyyMMdd\")] = null;\n    apptDynamic[loopDate.DayOfWeek.ToString()] = null;\n}\n</code></pre>\n\n<p>Where <code>ActiveDate.FirstDayOfWeek(WeekStartDay)</code> uses a <code>DateTime</code> extension method to get the date of the first day of the week that <code>ActiveDate</code> occurs in, depending on which the the week starts on.</p>\n\n<p>I thought part of the main idea of <code>DynamicObject</code> was to be able to access a dictionary item using it's key as if it were a property name. Why is this not working for me?</p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481141445, "post_id": 41026266, "comment_id": 69260161, "body": "this is what i have from a json and like to rewrite it to a new json with the same structure, although it does look odd, but surly one should be able to write what ever json using these tools !!?? as long as it is a valid json !!?"}, {"owner": {"reputation": 4200, "user_id": 227466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D61Vi.jpg?s=128&g=1", "display_name": "Scott Sellers", "link": "https://stackoverflow.com/users/227466/scott-sellers"}, "edited": false, "score": 0, "creation_date": 1481141586, "post_id": 41026266, "comment_id": 69260273, "body": "well I would suggest it is invalid JSON as this is a collection on NAMES which should be a consistent object type. Maybe this might help <a href=\"http://www.jsoneditoronline.org/\" rel=\"nofollow noreferrer\">jsoneditoronline.org</a>"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "reply_to_user": {"reputation": 4200, "user_id": 227466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D61Vi.jpg?s=128&g=1", "display_name": "Scott Sellers", "link": "https://stackoverflow.com/users/227466/scott-sellers"}, "edited": false, "score": 0, "creation_date": 1481141703, "post_id": 41026266, "comment_id": 69260358, "body": "regardless of the content i can assure you that the structure is valid"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1481141783, "post_id": 41026266, "comment_id": 69260399, "body": "Welcome to SO, could you edit the post to add source code of what you have tried."}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "reply_to_user": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1481141975, "post_id": 41026266, "comment_id": 69260502, "body": "@J.Piquard i have tried everything there is here and everywhere and don&#39;t have a code which is why i am here with this post"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1481142825, "post_id": 41026266, "comment_id": 69260994, "body": "If you have no source code, take a look to that <a href=\"https://surajdeshpande.wordpress.com/2013/10/01/json-net-examples/\" rel=\"nofollow noreferrer\">&quot;Blog - Json.NET Examples&quot;</a>"}, {"owner": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "edited": false, "score": 0, "creation_date": 1481172840, "post_id": 41026266, "comment_id": 69271363, "body": "If you have no source code, take a look at the help center and learn how to ask a question. <a href=\"http://stackoverflow.com/help\">stackoverflow.com/help</a>"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481174807, "post_id": 41026266, "comment_id": 69272011, "body": "@CareyGregory- I did explain that I had tried every source code there is without any luck, which is why i had to post the question, while at the same time the question was how to get to the given json and what would have been the point to post a source code that wont work !!?? but thanks for your advice, as i shall remember if i have any questions in the future."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481141525, "post_id": 41026395, "comment_id": 69260228, "body": "you are right but i have this json the way i have written and just need to reconstruct it !!?"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481142486, "post_id": 41026395, "comment_id": 69260807, "body": "thank you very much for the link as it seems to be a very handy tool for the future use but unfortunately not for the on hand problem"}, {"owner": {"reputation": 4200, "user_id": 227466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D61Vi.jpg?s=128&g=1", "display_name": "Scott Sellers", "link": "https://stackoverflow.com/users/227466/scott-sellers"}, "reply_to_user": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481143303, "post_id": 41026395, "comment_id": 69261225, "body": "@Mehrdad_gh - I have re-written the answer and I think it should help you convert a C# object to your JSON type. Not checked it, but I have corrected some of the errors in the C# sample above. Let us know if it is what you are looking for"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481143723, "post_id": 41026395, "comment_id": 69261450, "body": "@cododromo- thank you again this is the outcome from your code, here is what i got when using it: [   {     &quot;First Name&quot;: &quot;Adam&quot;   },   {     &quot;Last Name&quot;: &quot;Smith&quot;   } ] and the &quot;Name&quot; jarray is missing from the result !!?"}, {"owner": {"reputation": 4200, "user_id": 227466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D61Vi.jpg?s=128&g=1", "display_name": "Scott Sellers", "link": "https://stackoverflow.com/users/227466/scott-sellers"}, "reply_to_user": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481143802, "post_id": 41026395, "comment_id": 69261509, "body": "@Mehrdad_gh - I think the bit that is missing is to make NAME in ROOTOBJECT a JsonProperty. I have edited the code above to do this, give that a try. If it works can you accept the answer so others know this works for this question. Thanks."}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 1, "creation_date": 1481144172, "post_id": 41026395, "comment_id": 69261761, "body": "thank you ever so much, you have just been a great life saver :)"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481144871, "post_id": 41026395, "comment_id": 69262174, "body": "@cododromo- it looks as if there is a hiccup as the whole produced json is JObject while this object should be part an array !!??"}, {"owner": {"reputation": 4200, "user_id": 227466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D61Vi.jpg?s=128&g=1", "display_name": "Scott Sellers", "link": "https://stackoverflow.com/users/227466/scott-sellers"}, "reply_to_user": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481144957, "post_id": 41026395, "comment_id": 69262215, "body": "@Mehrdad_gh - can you paste the JSON you get back from the code above, you need to add the outer &#39;[ ]&#39; yourself. Remember, after Serializing the object the &#39;var json&#39; is just a C# string. So in C# that would be: json = &#39;[&#39; + json + &#39;]&#39;;"}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 1, "creation_date": 1481145092, "post_id": 41026395, "comment_id": 69262280, "body": "@cododromo- i hope you don&#39;t mean to add it manually :)) and here is the json from the above code :{   &quot;Name&quot;: [     {       &quot;First Name&quot;: &quot;Adam&quot;     },     {       &quot;Last Name&quot;: &quot;Smith&quot;     }   ] }"}, {"owner": {"reputation": 4200, "user_id": 227466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D61Vi.jpg?s=128&g=1", "display_name": "Scott Sellers", "link": "https://stackoverflow.com/users/227466/scott-sellers"}, "reply_to_user": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 0, "creation_date": 1481145600, "post_id": 41026395, "comment_id": 69262552, "body": "@Mehrdad_gh - there might be a way to add the [] via code but I don&#39;t know. My manual method, far from perfect will get the job done."}, {"owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "edited": false, "score": 1, "creation_date": 1481146234, "post_id": 41026395, "comment_id": 69262870, "body": "@cododromo- :) thank you once more, i hope i will find the way to add the array (not manually !!? :) )but still your code is very helpful and i should come with result if i find the way :) Cheers"}], "tags": [], "owner": {"reputation": 4200, "user_id": 227466, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D61Vi.jpg?s=128&g=1", "display_name": "Scott Sellers", "link": "https://stackoverflow.com/users/227466/scott-sellers"}, "is_accepted": false, "score": 1, "last_activity_date": 1481186756, "last_edit_date": 1481186756, "creation_date": 1481141182, "answer_id": 41026395, "question_id": 41026266, "link": "https://stackoverflow.com/questions/41026266/how-to-create-a-new-json-using-array-c/41026395#41026395", "title": "How to Create a new Json using array c#", "body": "<p>EDITED ANSWER: Removed old answer explaining what I thought the issue was with the JSON in the question. Changed to build C# objects that could create the JSON string above, haven't tried this but I think it should work:</p>\n\n<p>Here are the C# classes:</p>\n\n<pre><code>public class Name\n{\n    [JsonProperty(PropertyName = \"First Name\")]\n    public string FirstName { get; set; }\n    [JsonProperty(PropertyName = \"Last Name\")]\n    public string LastName { get; set; }\n}\n\npublic class RootObject\n{\n    [JsonProperty(PropertyName = \"Name\")]\n    public List&lt;Name&gt; Name { get; set; }\n}\n</code></pre>\n\n<p>Create the name objects in the RootObject:</p>\n\n<pre><code>var myRootObj = new RootObject();\nmyRootObj.Name = new List&lt;Name&gt;();\n\nvar firstNameObj = new Name() { FirstName = \"Adam\" };\nvar secondNameObj = new Name() { LastName = \"Smith\" };\n\nmyRootObj.Name.Add(firstNameObject);\nmyRootObj.Name.Add(secondNameObject);\n</code></pre>\n\n<p>Now lets convert this object to JSON:</p>\n\n<pre><code>var json = JsonConvert.SerializeObject(myRootObj, Newtonsoft.Json.Formatting.None, \n                            new JsonSerializerSettings { \n                                NullValueHandling = NullValueHandling.Ignore\n                            }););\n</code></pre>\n\n<p>I haven't tried this but I think it should create your JSON string, such as below:</p>\n\n<pre><code>    {\n      \"Name\": [\n         {\n           \"First Name\": \"Adam\"\n         },\n         {\n           \"Last Name\": \"Smith\"\n         }\n      ]\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "is_accepted": true, "score": 1, "last_activity_date": 1481172156, "creation_date": 1481172156, "answer_id": 41031925, "question_id": 41026266, "link": "https://stackoverflow.com/questions/41026266/how-to-create-a-new-json-using-array-c/41031925#41031925", "title": "How to Create a new Json using array c#", "body": "<p>Well... it is funny how things work once you know how its done :) and here for those who may have the same problem, this is the way to do it :</p>\n\n<pre><code>JObject myObject = \n       new JObject(\n           new JProperty(\"Name\",\n                      new JArray(\n                                new JObject(\n                                new JProperty(\"First Name\", \"Adam\")),\n                                new JObject(\n                                new JProperty(\"Last Name\", \"Smith\")))));\n\nJArray myArray = new JArray\nmyArray.Add(myObject);\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6312073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c4e194a0a6e048549178f0587e7ba21?s=128&d=identicon&r=PG&f=1", "display_name": "Mehrdad_gh", "link": "https://stackoverflow.com/users/6312073/mehrdad-gh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3245, "favorite_count": 0, "accepted_answer_id": 41031925, "answer_count": 2, "score": -2, "last_activity_date": 1481186756, "creation_date": 1481140731, "last_edit_date": 1481143364, "question_id": 41026266, "link": "https://stackoverflow.com/questions/41026266/how-to-create-a-new-json-using-array-c", "title": "How to Create a new Json using array c#", "body": "<p>I need to create the following JSON:  </p>\n\n<pre><code>[\n    {\n      \"Name\": [\n         {\n           \"First Name\": \"Adam\"\n         },\n         {\n           \"Last Name\": \"Smith\"\n         }\n      ]\n    }\n]  \n</code></pre>\n\n<p>Please help as I have tried everything on here and on json.net</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c#", "linqpad"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1481142810, "post_id": 41026207, "comment_id": 69260984, "body": "As it says on <a href=\"http://www.linqpad.net/howlinqpadworks.aspx\" rel=\"nofollow noreferrer\">LINQPad&#39;s site</a>, <i>LINQPad 5 compiles your queries using the Microsoft Roslyn libraries (in the past it used .NET&#39;s CSharpCodeProvider and VBCodeProvider).</i> I would suggest that means that, no, there isn&#39;t. You could just download an older version and run them <a href=\"http://stackoverflow.com/q/14320795/215552\">side-by-side</a>. They also have a <a href=\"https://linqpad.uservoice.com/forums/18302-linqpad-feature-suggestions\" rel=\"nofollow noreferrer\">uservoice site</a> where you could ask for the feature."}], "owner": {"reputation": 12523, "user_id": 41410, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/665b89606f4bb86ab721c9cddd6d0d42?s=128&d=identicon&r=PG", "display_name": "Phillip Ngan", "link": "https://stackoverflow.com/users/41410/phillip-ngan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1481140509, "creation_date": 1481140509, "question_id": 41026207, "link": "https://stackoverflow.com/questions/41026207/linqpad-5-switch-between-compilers", "title": "LINQPad 5 switch between compilers", "body": "<p>Is there a way to switch back and forth between the Roslyn compiler and the CSharpCodeProvider using LINQPad 5. I'm investigating an issue that I think works differently in both compilers (the type name of a lambda function) and would like an easy way of switching between compilers</p>\n"}, {"tags": ["c#", "collections", "datatable", "datarow"], "comments": [{"owner": {"reputation": 1513, "user_id": 6899092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSkil.png?s=128&g=1", "display_name": "KMoussa", "link": "https://stackoverflow.com/users/6899092/kmoussa"}, "edited": false, "score": 0, "creation_date": 1481141106, "post_id": 41026173, "comment_id": 69259968, "body": "I think <code>.Add(new object[] { sample, &quot;Average&quot; }.Concat(sd.Avg.Values.Cast&lt;object&gt;().ToArray());</code> should work, u might not need the <code>Cast</code> not sure"}, {"owner": {"reputation": 591, "user_id": 3723088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/246c55ad0504b301c93fa563000b9683?s=128&d=identicon&r=PG&f=1", "display_name": "Sam W", "link": "https://stackoverflow.com/users/3723088/sam-w"}, "reply_to_user": {"reputation": 1513, "user_id": 6899092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSkil.png?s=128&g=1", "display_name": "KMoussa", "link": "https://stackoverflow.com/users/6899092/kmoussa"}, "edited": false, "score": 0, "creation_date": 1481141804, "post_id": 41026173, "comment_id": 69260409, "body": "@KMoussa ahh man that looks like good code but it didn&#39;t quite do it. I&#39;m betting that is close to what I need. I&#39;ll keep tinkering with it and see what I can do."}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 3723088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/246c55ad0504b301c93fa563000b9683?s=128&d=identicon&r=PG&f=1", "display_name": "Sam W", "link": "https://stackoverflow.com/users/3723088/sam-w"}, "is_accepted": true, "score": 0, "last_activity_date": 1481142419, "last_edit_date": 1481142419, "creation_date": 1481142107, "answer_id": 41026666, "question_id": 41026173, "link": "https://stackoverflow.com/questions/41026173/adding-datarow-items-from-collection-of-values/41026666#41026666", "title": "Adding DataRow items from collection of values", "body": "<p>Found an answer, with help from KMoussa! </p>\n\n<pre><code>source.Rows.Add(new object[] { \"\", \"Std. Deviation\"}.Concat(sd.StdDev.Values.Cast&lt;object&gt;().ToArray()).ToArray());\n</code></pre>\n\n<p>Very similar to what he recommended, but it was missing a second cast to array at the end.</p>\n"}, {"tags": [], "owner": {"reputation": 6610, "user_id": 2403810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84c63a4cc13b434306ccc00ba2cd64d6?s=128&d=identicon&r=PG&f=1", "display_name": "tinstaafl", "link": "https://stackoverflow.com/users/2403810/tinstaafl"}, "is_accepted": false, "score": 2, "last_activity_date": 1481142254, "creation_date": 1481142254, "answer_id": 41026694, "question_id": 41026173, "link": "https://stackoverflow.com/questions/41026173/adding-datarow-items-from-collection-of-values/41026694#41026694", "title": "Adding DataRow items from collection of values", "body": "<p>what you can do is create the row from the datatable.NewRow() method.  Then you can have the items array of the row equal an array of data:</p>\n\n<pre><code>DataTable source = new DataTable();\n\nforeach (string sample in GridSource.SampleName)\n{\n    DataRow temp = source.NewRow();\n    SampleDictionaries sd = GridSource.Data.Where(x =&gt; GridSource.Data.IndexOf(x) == GridSource.SampleName.IndexOf(sample)).First();\n    temp.ItemArray = new object[]{sample, \"Average\"}.Concat(sd.Avg.Values.ToArray());\n    source.Rows.Add(temp);\n    temp = source.NewRow();\n    temp.ItemArray = new object[]{\"\", \"Std. Deviation\".Concat(sd.StdDev.Values.ToArray());\n}\n</code></pre>\n"}], "owner": {"reputation": 591, "user_id": 3723088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/246c55ad0504b301c93fa563000b9683?s=128&d=identicon&r=PG&f=1", "display_name": "Sam W", "link": "https://stackoverflow.com/users/3723088/sam-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 41026666, "answer_count": 2, "score": 1, "last_activity_date": 1481142419, "creation_date": 1481140391, "question_id": 41026173, "link": "https://stackoverflow.com/questions/41026173/adding-datarow-items-from-collection-of-values", "title": "Adding DataRow items from collection of values", "body": "<p>I am trying to create a DataRow which gets some values from hard-coded strings or string variables, and the rest of the values from a collection's values, <code>System.Collections.Generic.Dictionary&lt;string, double&gt;.ValueCollection</code> to be specific. In my attempt below, I'm casting to an array but that doesn't work.</p>\n\n<pre><code>DataTable source = new DataTable();\n\nforeach (string sample in GridSource.SampleName)\n{\n    SampleDictionaries sd = GridSource.Data.Where(x =&gt; GridSource.Data.IndexOf(x) == GridSource.SampleName.IndexOf(sample)).First();\n    source.Rows.Add(sample, \"Average\", sd.Avg.Values.ToArray());\n    source.Rows.Add(\"\", \"Std. Deviation\", sd.StdDev.Values.ToArray());\n}\n</code></pre>\n\n<p>The code above produces this: \n<a href=\"https://i.stack.imgur.com/lRz4b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lRz4b.png\" alt=\"enter image description here\"></a></p>\n\n<p>I understand what is happening here. My question is this: is there an easy way to tell the DataRow \"Fill the remaining column values with this collection,\" or am I going to have to come up with some loop to do it? </p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481140568, "post_id": 41026165, "comment_id": 69259594, "body": "The code you pasted in your controller won&#39;t compile as you&#39;ve pasted it. Do you actually have an extra <code>;</code> in your method?"}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "reply_to_user": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481140714, "post_id": 41026165, "comment_id": 69259704, "body": "Hi, There was an extra ; and removed it in the get method! Sorry Typo error!! No there ins&#39;t a ; in the method."}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481140770, "post_id": 41026165, "comment_id": 69259748, "body": "Are you getting any errors or exceptions?"}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "reply_to_user": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481140822, "post_id": 41026165, "comment_id": 69259781, "body": "I was when I enable the DateTime and I have to ? to make it nullable"}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481140880, "post_id": 41026165, "comment_id": 69259814, "body": "What was the error? Could you edit your question and include it please?"}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "reply_to_user": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481145355, "post_id": 41026165, "comment_id": 69262427, "body": "Please check the edited question ? I have included the error type with the DateTime."}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481145506, "post_id": 41026165, "comment_id": 69262504, "body": "The column in your database isn&#39;t nullable. You&#39;d need to update that column in the database to be nullable."}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "reply_to_user": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481145745, "post_id": 41026165, "comment_id": 69262633, "body": "But I need the date value to be in the Transactions table with every update i.e. not nullable!"}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481145791, "post_id": 41026165, "comment_id": 69262651, "body": "You said <code>&quot;I was when I enable the DateTime and I have to ? to make it nullable&quot;</code> .. Does it have to be nullable or does it not have to be?"}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "reply_to_user": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481146819, "post_id": 41026165, "comment_id": 69263150, "body": "Right, I wanted it to have the same timestamp on the Transaction table"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481146330, "post_id": 41027612, "comment_id": 69262919, "body": "Thank you for the answer Chris. I will check the code and of course just realised that my code missing the Update on the Balance after the transfer process"}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481146622, "post_id": 41027612, "comment_id": 69263045, "body": "Still throwing an error ! even after altering the code!"}, {"owner": {"reputation": 3837, "user_id": 2199064, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mDj01.jpg?s=128&g=1", "display_name": "MattD", "link": "https://stackoverflow.com/users/2199064/mattd"}, "edited": false, "score": 1, "creation_date": 1481213003, "post_id": 41027612, "comment_id": 69295111, "body": "Is it throwing the same error, or a different error?"}], "tags": [], "owner": {"reputation": 127019, "user_id": 59303, "user_type": "moderator", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/gIt1g.png?s=128&g=1", "display_name": "ChrisF", "link": "https://stackoverflow.com/users/59303/chrisf"}, "is_accepted": false, "score": 1, "last_activity_date": 1481145790, "creation_date": 1481145790, "answer_id": 41027612, "question_id": 41026165, "link": "https://stackoverflow.com/questions/41026165/action-method-updates-only-1-table-mvc/41027612#41027612", "title": "Action method updates only 1 table MVC", "body": "<blockquote>\n  <p>\"Cannot insert the value NULL into column 'TransactionDate', table 'aspnet-dbo.Transactions'; column does not allow nulls. UPDATE fails. The statement has been terminated\"</p>\n</blockquote>\n\n<p>This is your problem. You're not setting the <code>TransactionDate</code> on the new <code>Transaction</code> record(s) you are adding to the database. Even though your model has it as a nullable DateTime the table itself must be defined with it as non-nullable.</p>\n\n<pre><code>        DB.Transactions.Add(new Transaction\n        {\n            CheckAccountId = transfer.CheckAccountId,\n            Amount = -transfer.Amount,\n            TransactionDate = DateTime.Now\n        });\n        DB.Transactions.Add(new Transaction\n        {\n             CheckAccountId = checkingExistedAccount.Id,\n             Amount = transfer.Amount,\n             TransactionDate = DateTime.Now\n        });\n</code></pre>\n\n<p>If you want the two transactions to have exactly the same timestamp then use a variable instead:</p>\n\n<pre><code>        var transactionDate = DateTime.Now;\n        DB.Transactions.Add(new Transaction\n        {\n            CheckAccountId = transfer.CheckAccountId,\n            Amount = -transfer.Amount,\n            TransactionDate = transactionDate\n        });\n        DB.Transactions.Add(new Transaction\n        {\n             CheckAccountId = checkingExistedAccount.Id,\n             Amount = transfer.Amount,\n             TransactionDate = transactionDate\n        });\n</code></pre>\n\n<p>As to why it's not updating the other table(s), I don't see any code in your question that's actually doing that. You will need to retrieve the checking account records and update their balances before writing the record back.</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481147852, "post_id": 41027675, "comment_id": 69263668, "body": "I want the date in the transactions table to have exactly the same time stamp then performing the transfer. I disabled the  ? in the transaction class and has used the same as what Chris posted but have this error: Cannot insert the value NULL into column &#39;TransactionDate&#39;"}, {"owner": {"reputation": 91, "user_id": 5490847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7ef7bb170f73fbefc9f718017ecc21?s=128&d=identicon&r=PG&f=1", "display_name": "w-robot", "link": "https://stackoverflow.com/users/5490847/w-robot"}, "reply_to_user": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481150009, "post_id": 41027675, "comment_id": 69264632, "body": "By the way you should put the adding lines into a try catch block."}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481150499, "post_id": 41027675, "comment_id": 69264832, "body": "I know but I disabled the try catch block to diagnose the program!"}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481150570, "post_id": 41027675, "comment_id": 69264869, "body": "CREATE TABLE [dbo].[Transactions] (     [Id]              INT             IDENTITY (1, 1) NOT NULL,     [Amount]          DECIMAL (18, 2) NOT NULL,     [CheckAccountId]  INT             NOT NULL,     [TransactionDate] DATETIME        DEFAULT (&#39;1900-01-01T00:00:00.000&#39;) NULL,     CONSTRAINT [PK_dbo.Transactions] PRIMARY KEY CLUSTERED ([Id] ASC),     CONSTRAINT [FK_dbo.Transactions_dbo.CheckingAccounts_CheckAccountId] FOREIGN KEY ([CheckAccountId]) REFERENCES [dbo].[CheckingAccounts] ([Id]) ON DELETE CASCADE );"}, {"owner": {"reputation": 91, "user_id": 5490847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7ef7bb170f73fbefc9f718017ecc21?s=128&d=identicon&r=PG&f=1", "display_name": "w-robot", "link": "https://stackoverflow.com/users/5490847/w-robot"}, "reply_to_user": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481151850, "post_id": 41027675, "comment_id": 69265411, "body": "Ok, it is the definition table script i guess, try change the specified part by this value <code>[TransactionDate] DATETIME NOT NULL</code>"}, {"owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1481192729, "post_id": 41027675, "comment_id": 69281508, "body": "The application works just fine now but the only remaining issue is the update on the CheckingAccount table  I have had made a method in a class called service which updates the balance in case of transfer, withdraw, or depsoite  The update occurs only on deducting the balance but it doesn&#39;t add the new value for the recipient balance!!"}, {"owner": {"reputation": 91, "user_id": 5490847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7ef7bb170f73fbefc9f718017ecc21?s=128&d=identicon&r=PG&f=1", "display_name": "w-robot", "link": "https://stackoverflow.com/users/5490847/w-robot"}, "reply_to_user": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "edited": false, "score": 0, "creation_date": 1482349078, "post_id": 41027675, "comment_id": 69742262, "body": "Hi did you solve your issue? Maybe you should let us see this new method which updates the balance in the Service and the error."}], "tags": [], "owner": {"reputation": 91, "user_id": 5490847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb7ef7bb170f73fbefc9f718017ecc21?s=128&d=identicon&r=PG&f=1", "display_name": "w-robot", "link": "https://stackoverflow.com/users/5490847/w-robot"}, "is_accepted": false, "score": 1, "last_activity_date": 1481146026, "creation_date": 1481146026, "answer_id": 41027675, "question_id": 41026165, "link": "https://stackoverflow.com/questions/41026165/action-method-updates-only-1-table-mvc/41027675#41027675", "title": "Action method updates only 1 table MVC", "body": "<p>The error says that the column TransactionDate in your database doesn't allow null value.</p>\n\n<p>In Transaction class you can change <code>public DateTime? TransactionDate { get; set; }</code>\nto : <code>public DateTime TransactionDate { get; set; }</code> so you will need to set a date when adding a transaction.</p>\n"}], "owner": {"reputation": 101, "user_id": 7452894, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/aTmeh.jpg?s=128&g=1", "display_name": "Dodi", "link": "https://stackoverflow.com/users/7452894/dodi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1481149806, "creation_date": 1481140355, "last_edit_date": 1481149806, "question_id": 41026165, "link": "https://stackoverflow.com/questions/41026165/action-method-updates-only-1-table-mvc", "title": "Action method updates only 1 table MVC", "body": "<p>I am newbie and still learning asp.net MVC. I have created a send action method which works by sending amount of money from a user to another based on the account number and the sufficient funds. My program works just fine but whenever I try to send money from one account to another, the update works only on the Transactions table and no updates occur on the CheckingAccounts table which should deduct from the balance - in case of transfer - or add into it as required! Did I miss anything in the action method? and why didn't update the balance in the aCheckingAccounts table? Any help would be much appreciated! </p>\n\n<p>Money Transfer Action Method </p>\n\n<pre><code> [HttpGet]\n    public ActionResult MoneyTransfer(int checkAccountId)\n    {\n        return View();\n    }\n    [HttpPost]\n    public ActionResult MoneyTransfer(Transfers transfer)\n    {\n      var checkingFunds = DB.checkAccounts.Find(transfer.CheckAccountId); \n        if (checkingFunds.Balance &lt; transfer.Amount)\n        {\n            ModelState.AddModelError(\"Amount\", \"You do not have enough money!\");\n        }\n\n        var checkingExistedAccount = DB.checkAccounts.Where(account =&gt; account.AccountNumber == transfer.checkingExistedAccount).FirstOrDefault();\n        if (checkingExistedAccount == null)\n        {\n            ModelState.AddModelError(\"checkingExistedAccount\", \"Account does not exist!\");\n        }\n\n\n        if (ModelState.IsValid)\n        {\n            //Transaction transaction = new Transaction();\n            //transaction.TransactionDate = DateTime.Now;       \n            DB.Transactions.Add(new Transaction { CheckAccountId = transfer.CheckAccountId, Amount = -transfer.Amount });\n            DB.Transactions.Add(new Transaction { CheckAccountId = checkingExistedAccount.Id, Amount = transfer.Amount });\n            DB.SaveChanges();\n            return RedirectToAction(\"Index\",\"Home\");\n\n\n        }\n\n        return View();\n    }\n</code></pre>\n\n<p>Transfer Model</p>\n\n<pre><code> public class Transfers\n    {\n        [Required]\n        [DataType(DataType.Currency)]\n        public decimal Amount { get; set; }\n        [Required]\n        public int CheckAccountId { get; set; }\n        [Required]\n        [Display(Name =\"Recipient Account ID \")]\n        public string checkingExistedAccount { get; set; }\n    }\n</code></pre>\n\n<p>CheckingAccount Model</p>\n\n<pre><code>     public class CheckingAccount\n    {\n        public int Id { get; set; }\n\n        [Display(Name = \"Account Number: \")]\n        public string AccountNumber { get; set; }\n        [Display(Name = \"Balance: \")]\n        [DataType(DataType.Currency)]\n        public decimal Balance { get; set; }\n    }\n</code></pre>\n\n<p>Transactions Model </p>\n\n<pre><code> public class Transaction\n    {\n        public int Id { get; set; }\n\n        [Required]\n        [DataType(DataType.Currency)]\n        [DisplayFormat(ConvertEmptyStringToNull = false)]\n        public decimal Amount { get; set; }\n        [Required]\n        public int CheckAccountId {get; set;}\n        public DateTime? TransactionDate { get; set; }\n        public virtual CheckingAccount checkAccount { get; set; }\n    } \n</code></pre>\n\n<p>Update: Activating the TransactionDate property throws an exception error of</p>\n\n<blockquote>\n  <p>Cannot insert the value NULL into column 'TransactionDate', table\n  'aspnet-dbo.Transactions'; column does not allow nulls. UPDATE fails.\n  The statement has been terminated</p>\n</blockquote>\n"}, {"tags": ["c#", "unit-testing", "mocking", "moq"], "answers": [{"comments": [{"owner": {"reputation": 525, "user_id": 828602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f4c6304a9b6d0b29a8f4fac1dc36e8e7?s=128&d=identicon&r=PG", "display_name": "billboard", "link": "https://stackoverflow.com/users/828602/billboard"}, "edited": false, "score": 0, "creation_date": 1481149593, "post_id": 41026689, "comment_id": 69264442, "body": "this still returns true for IsNew, I added a statement below your code like this var isNew = mockStatementInformation.Navigation.IsNew; to verify."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 525, "user_id": 828602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f4c6304a9b6d0b29a8f4fac1dc36e8e7?s=128&d=identicon&r=PG", "display_name": "billboard", "link": "https://stackoverflow.com/users/828602/billboard"}, "edited": false, "score": 0, "creation_date": 1481150228, "post_id": 41026689, "comment_id": 69264727, "body": "replace lines 1 - 3 with what is in the above answer. I tested it and it returns <code>false</code>"}, {"owner": {"reputation": 525, "user_id": 828602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f4c6304a9b6d0b29a8f4fac1dc36e8e7?s=128&d=identicon&r=PG", "display_name": "billboard", "link": "https://stackoverflow.com/users/828602/billboard"}, "edited": false, "score": 0, "creation_date": 1481151407, "post_id": 41026689, "comment_id": 69265223, "body": "Ok, it appears that IsNew property must be made virtual, once, I added virtual the result is as expected. Thank you"}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": true, "score": 1, "last_activity_date": 1481150763, "last_edit_date": 1481150763, "creation_date": 1481142226, "answer_id": 41026689, "question_id": 41026097, "link": "https://stackoverflow.com/questions/41026097/moq-how-to-call-method-on-a-object-with-mock-of/41026689#41026689", "title": "Moq: How to call method on a object with Mock.Of&lt;&gt;", "body": "<p>Reference: <a href=\"https://github.com/Moq/moq4/wiki/Quickstart#linq-to-mocks\" rel=\"nofollow noreferrer\">Moq Quickstart - linq-to-mocks</a></p>\n\n<p>And assuming this example</p>\n\n<pre><code>public interface IStatementInformation {\n\n    Navigation Navigation { get; set; }\n}\n\npublic class Navigation {\n\n    public Navigation() {\n        IsNew = true;\n    }\n\n    public virtual bool IsNew { get; set; }\n\n    public virtual bool IsCurrentStepUnlocked() {\n        return true;\n    }\n}\n</code></pre>\n\n<p>Where both method and property return true by default.</p>\n\n<p>When tested like this results are as expected</p>\n\n<pre><code>var mockStatementInformation = Mock.Of&lt;IStatementInformation&gt;(m =&gt;\n    m.Navigation == new Navigation { IsNew = false } &amp;&amp;\n    m.Navigation.IsCurrentStepUnlocked() == false\n);\n\nAssert.IsFalse(mockStatementInformation.Navigation.IsCurrentStepUnlocked());\nAssert.IsFalse(mockStatementInformation.Navigation.IsNew);\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 828602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f4c6304a9b6d0b29a8f4fac1dc36e8e7?s=128&d=identicon&r=PG", "display_name": "billboard", "link": "https://stackoverflow.com/users/828602/billboard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3406, "favorite_count": 0, "accepted_answer_id": 41026689, "answer_count": 1, "score": 1, "last_activity_date": 1481150763, "creation_date": 1481140107, "last_edit_date": 1481150573, "question_id": 41026097, "link": "https://stackoverflow.com/questions/41026097/moq-how-to-call-method-on-a-object-with-mock-of", "title": "Moq: How to call method on a object with Mock.Of&lt;&gt;", "body": "<p>In the below statements, I'm wanting to set the <code>Navigation</code> object's <code>IsNew</code> flag to <code>false</code> and then also, return <code>false</code> to a method <code>IsCurrentStepUnlocked</code> invoked on that object</p>\n\n<p>However, on line 4 when i retrieve the value of <code>IsNew</code>, it is 'true'</p>\n\n<p>I don't seem to get both, set the value on the object and also setup something to return a predetermined value.</p>\n\n<pre><code>1. var mockStatementInformation = Mock.Of&lt;IStatementInformation&gt;();\n2. mockStatementInformation.Navigation = new Navigation { IsNew = false };\n3. Mock.Get(mockStatementInformation).Setup(x =&gt; x.Navigation.IsCurrentStepUnlocked()).Returns(false);\n\n4. var isNew = mockStatementInformation.Navigation.IsNew;\n</code></pre>\n\n<p>Navigation, is defined simply as shown below.</p>\n\n<pre><code>public class Navigation\n{        \n    public Navigation()\n    {\n       IsNew = true;\n    }\n\n    public bool IsNew { get; set; }\n}\n</code></pre>\n\n<p>How do i set a nested property or call methods on it using Moq? </p>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"reputation": 11474, "user_id": 1195056, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pe03k.jpg?s=128&g=1", "display_name": "krillgar", "link": "https://stackoverflow.com/users/1195056/krillgar"}, "edited": false, "score": 1, "creation_date": 1481140531, "post_id": 41026020, "comment_id": 69259573, "body": "Chances are, the numbers are strings too, only you don&#39;t see that in your output. That would make sense that if you&#39;re not telling JSON.NET what the properties should be by not giving it a model, it will think you don&#39;t care."}, {"owner": {"reputation": 1606, "user_id": 29021, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/514854394af6ab684a6182e26af1382f?s=128&d=identicon&r=PG", "display_name": "dviljoen", "link": "https://stackoverflow.com/users/29021/dviljoen"}, "edited": false, "score": 0, "creation_date": 1481230382, "post_id": 41026020, "comment_id": 69304781, "body": "I just ran a quick test with just the deserialization and I think the problem you are citing is with the binding step, not the deserialization step.  Capture the output from DeserializeObject and inspect it.  It is a Boolean type.  I think the value is being coerced into string later on."}, {"owner": {"reputation": 2040, "user_id": 2022360, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3392e8efd6ebe265443d5c0d765f52dd?s=128&d=identicon&r=PG", "display_name": "goroth", "link": "https://stackoverflow.com/users/2022360/goroth"}, "edited": false, "score": 0, "creation_date": 1481231686, "post_id": 41026020, "comment_id": 69305427, "body": "You&#39;re probably right but when I bind it to a grid it thinks it is a string yet if I change &lt;dynamic&gt; to &lt;ExpandoObject&gt; it thinks it is a boolean. I&#39;m 99.99% sure it is me doing something incorrect. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 2040, "user_id": 2022360, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3392e8efd6ebe265443d5c0d765f52dd?s=128&d=identicon&r=PG", "display_name": "goroth", "link": "https://stackoverflow.com/users/2022360/goroth"}, "edited": false, "score": 0, "creation_date": 1481165933, "post_id": 41027312, "comment_id": 69269550, "body": "I will look into the issue tracker. I do agree that strongly typed would be great but the json data is coming from a web service and is dynamic in nature."}], "tags": [], "owner": {"reputation": 14805, "user_id": 2441442, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/0Aevu.jpg?s=128&g=1", "display_name": "Christian Gollhardt", "link": "https://stackoverflow.com/users/2441442/christian-gollhardt"}, "is_accepted": false, "score": 3, "last_activity_date": 1481144542, "creation_date": 1481144542, "answer_id": 41027312, "question_id": 41026020, "link": "https://stackoverflow.com/questions/41026020/newtonsoft-json-deserialize-to-dynamic-list-with-boolean-property-turns-into-str/41027312#41027312", "title": "Newtonsoft Json deserialize to dynamic list with boolean property turns into string", "body": "<p>Since in JSON the value <a href=\"https://www.tutorialspoint.com/json/json_data_types.htm\" rel=\"nofollow noreferrer\"><code>true</code> is bool and <code>\"true\"</code> is string</a>, it seems like a bug. I would create a new issue on their <a href=\"https://github.com/JamesNK/Newtonsoft.Json/issues\" rel=\"nofollow noreferrer\">issue tracker</a> for this.</p>\n\n<p>A workaround would be to create a strong typed model for it. </p>\n\n<pre><code>public class FieldData\n{\n    public int Field1 {get; set;}\n    public string Field2 {get; set;}\n    public bool Field3 {get; set;}\n}\n\nJsonConvert.DeserializeObject&lt;List&lt;FieldData&gt;&gt;(jsonString);\n</code></pre>\n\n<p>This has also the advantage of compiletime check and better runtime performance.</p>\n"}, {"comments": [{"owner": {"reputation": 2040, "user_id": 2022360, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3392e8efd6ebe265443d5c0d765f52dd?s=128&d=identicon&r=PG", "display_name": "goroth", "link": "https://stackoverflow.com/users/2022360/goroth"}, "edited": false, "score": 0, "creation_date": 1481169294, "post_id": 41027470, "comment_id": 69270418, "body": "I don&#39;t have LinqPad premium so I can&#39;t debug to see what you have listed above. But in my C# app using JSON.NET 9.0.1 this is not showing as a boolean. When I databind the output, it is only binding as a string."}], "tags": [], "owner": {"reputation": 12758, "user_id": 881798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9t68n.jpg?s=128&g=1", "display_name": "vendettamit", "link": "https://stackoverflow.com/users/881798/vendettamit"}, "is_accepted": false, "score": 0, "last_activity_date": 1481145153, "creation_date": 1481145153, "answer_id": 41027470, "question_id": 41026020, "link": "https://stackoverflow.com/questions/41026020/newtonsoft-json-deserialize-to-dynamic-list-with-boolean-property-turns-into-str/41027470#41027470", "title": "Newtonsoft Json deserialize to dynamic list with boolean property turns into string", "body": "<p>I just tried replicating your code as is in LINQPAD with <code>JSON.NET 9.0.1</code>. I didn't see the issue there:</p>\n\n<p><a href=\"https://i.stack.imgur.com/z6pfK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z6pfK.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 638, "user_id": 944721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33e8f16f7e28a3fead56165c8873d6e0?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/944721/chris"}, "edited": false, "score": 0, "creation_date": 1521705014, "post_id": 41047565, "comment_id": 85847042, "body": "Thanks exactly what I needed"}], "tags": [], "owner": {"reputation": 2040, "user_id": 2022360, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3392e8efd6ebe265443d5c0d765f52dd?s=128&d=identicon&r=PG", "display_name": "goroth", "link": "https://stackoverflow.com/users/2022360/goroth"}, "is_accepted": true, "score": 4, "last_activity_date": 1481226209, "last_edit_date": 1495540908, "creation_date": 1481226209, "answer_id": 41047565, "question_id": 41026020, "link": "https://stackoverflow.com/questions/41026020/newtonsoft-json-deserialize-to-dynamic-list-with-boolean-property-turns-into-str/41047565#41047565", "title": "Newtonsoft Json deserialize to dynamic list with boolean property turns into string", "body": "<p>So I tried to install LinqPad and figure out why it was working for <a href=\"https://stackoverflow.com/users/881798/vendettamit\">vendettamit</a> yet it was not working in my C# application.<br>\nWhich led me to this article on <a href=\"https://stackoverflow.com/questions/14406769/how-can-i-dump-a-newtonsoft-jobject-in-linqpad\">How to Dump a Newtonsoft JObject in LinqPad</a>.  </p>\n\n<p>I then noticed that <a href=\"https://stackoverflow.com/users/752273/rdavisau\">rdavisau</a> used the following code.  </p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;ExpandoObject&gt;(jsonString)\n</code></pre>\n\n<p>Yet I was using the following code.  </p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;List&lt;dynamic&gt;&gt;(jsonString)\n</code></pre>\n\n<p>So once I changed my code to the following. It all worked correctly.</p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;List&lt;ExpandoObject&gt;&gt;(jsonString)\n</code></pre>\n\n<p>ExpandoObject was the piece I was missing.</p>\n"}, {"tags": [], "owner": {"reputation": 1606, "user_id": 29021, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/514854394af6ab684a6182e26af1382f?s=128&d=identicon&r=PG", "display_name": "dviljoen", "link": "https://stackoverflow.com/users/29021/dviljoen"}, "is_accepted": false, "score": 0, "last_activity_date": 1481230795, "creation_date": 1481230795, "answer_id": 41048708, "question_id": 41026020, "link": "https://stackoverflow.com/questions/41026020/newtonsoft-json-deserialize-to-dynamic-list-with-boolean-property-turns-into-str/41048708#41048708", "title": "Newtonsoft Json deserialize to dynamic list with boolean property turns into string", "body": "<p>I just ran:</p>\n\n<pre><code>\nstring s = \"[{ \\\"Field1\\\": 1, \\\"Field2\\\": \\\"Test 1\\\", \\\"Field3\\\": true }, { \\\"Field1\\\": 2, \\\"Field2\\\": \\\"Test 2\\\", \\\"Field3\\\": false }   ]\";\nvar result = JsonConvert.DeserializeObject>(s);\nConsole.WriteLine(\"Type: {0}\", result[0].Field3.Type);\n</code></pre>\n\n<p>and it gave me:\nType: Boolean</p>\n\n<p>The problem is likely because the JValue is being coerced into a string during the bind.</p>\n"}], "owner": {"reputation": 2040, "user_id": 2022360, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3392e8efd6ebe265443d5c0d765f52dd?s=128&d=identicon&r=PG", "display_name": "goroth", "link": "https://stackoverflow.com/users/2022360/goroth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10486, "favorite_count": 1, "accepted_answer_id": 41047565, "answer_count": 4, "score": 5, "last_activity_date": 1481230795, "creation_date": 1481139846, "question_id": 41026020, "link": "https://stackoverflow.com/questions/41026020/newtonsoft-json-deserialize-to-dynamic-list-with-boolean-property-turns-into-str", "title": "Newtonsoft Json deserialize to dynamic list with boolean property turns into string", "body": "<p>Can't seem to deserialize a dynamic list that contains a boolean property back into a boolean.<br>\nI have the following json.  </p>\n\n<pre><code>[\n  {\n    \"Field1\": 1,\n    \"Field2\": \"Test 1\",\n    \"Field3\": true\n  },\n  {\n    \"Field1\": 2,\n    \"Field2\": \"Test 2\",\n    \"Field3\": false\n  }  \n]\n</code></pre>\n\n<p>When I use:</p>\n\n<pre><code>Newtonsoft.Json.JsonConvert.DeserializeObject&lt;List&lt;dynamic&gt;&gt;(jsonString)\n</code></pre>\n\n<p>I get Field3 = \"True\" or \"False\"<br>\nWhen binding to a grid or other control, it thinks this is a \"string\" and not a \"boolean\".</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["c#", "bots", "botframework", "azure-language-understanding"], "comments": [{"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1481140007, "post_id": 41026015, "comment_id": 69259272, "body": "And... what;s the problem you are having?"}, {"owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "reply_to_user": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1481140273, "post_id": 41026015, "comment_id": 69259418, "body": "Problem I am facing is attaching a card to a response dialog, the following code is mostly taken from the bot samples, but does not display a card in the response dialog."}, {"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1481140418, "post_id": 41026015, "comment_id": 69259499, "body": "Which channel r u using?"}, {"owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "reply_to_user": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1481140657, "post_id": 41026015, "comment_id": 69259672, "body": "By channel do you mean Microsoft.Bot.Connector ?"}, {"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1481141023, "post_id": 41026015, "comment_id": 69259896, "body": "No; are u trying this in the emulator? in Facebook? Skype? Only happens with the receipt card or for example a hero card is not being shown either?"}, {"owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "reply_to_user": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1481141325, "post_id": 41026015, "comment_id": 69260096, "body": "Using the Microsoft Bot Framework Emulator (v.3.5.21). The sample <a href=\"https://github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/cards-RichCards\" rel=\"nofollow noreferrer\">github.com/Microsoft/BotBuilder-Samples/tree/master/CSharp/&hellip;</a> works in my channel, but my implementation in my app does not work since I am doing something a little tricky with combining LUIS implementation as well."}, {"owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "reply_to_user": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1481145291, "post_id": 41026015, "comment_id": 69262386, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/130048/discussion-between-greg-degruy-and-ezequiel-jadib\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "edited": false, "score": 0, "creation_date": 1483723404, "post_id": 41029745, "comment_id": 70227790, "body": "Works like a charm \ud83d\ude04 thanks for the feedback. Now I can move forward with my project!"}], "tags": [], "owner": {"reputation": 8941, "user_id": 994011, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/4oskn.jpg?s=128&g=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/994011/lars"}, "is_accepted": true, "score": 4, "last_activity_date": 1481156789, "creation_date": 1481156789, "answer_id": 41029745, "question_id": 41026015, "link": "https://stackoverflow.com/questions/41026015/add-card-attachment-to-message-using-microsoft-bot-framework/41029745#41029745", "title": "Add Card attachment to message using Microsoft Bot Framework", "body": "<p>A couple things.  First, you are probably getting a null ref exception when you are trying to add the attachment as the attachments array hasn't been initialized yet.</p>\n\n<pre><code>message.Attachments = new List&lt;Attachment&gt;();\n</code></pre>\n\n<p>Also, you don't need to create the CardDialog.  Here's an example that works:</p>\n\n<pre><code>    [LuisIntent(\"None\")]\n    public async Task NoneHandler(IDialogContext context, LuisResult result)\n    {\n        string worriedFace = \"\\U0001F61F\";\n        string smilingFace = \"\\U0001F642\";\n\n        await context.PostAsync(\"I'm sorry, I didn't get that \" + worriedFace + '.');\n        await context.PostAsync(\"Here are some things I know how to talk about!\" + smilingFace);\n\n        var message = context.MakeMessage();\n\n        var receiptCard = new ReceiptCard\n        {\n            Title = \"John Doe\",\n            Facts = new List&lt;Fact&gt; { new Fact(\"Order Number\", \"1234\"), new Fact(\"Payment Method\", \"VISA 5555-****\") },\n            Items = new List&lt;ReceiptItem&gt;\n            {\n                new ReceiptItem(\"Data Transfer\", price: \"$ 38.45\", quantity: \"368\", image: new CardImage(url: \"https://github.com/amido/azure-vector-icons/raw/master/renders/traffic-manager.png\")),\n                new ReceiptItem(\"App Service\", price: \"$ 45.00\", quantity: \"720\", image: new CardImage(url: \"https://github.com/amido/azure-vector-icons/raw/master/renders/cloud-service.png\")),\n            },\n            Tax = \"$ 7.50\",\n            Total = \"$ 90.95\",\n            Buttons = new List&lt;CardAction&gt;\n            {\n                new CardAction(\n                    ActionTypes.OpenUrl,\n                    \"More information\",\n                    \"https://github.com/amido/azure-vector-icons/raw/master/renders/traffic-manager.png\",\n                    \"https://azure.microsoft.com/en-us/pricing/\")\n            }\n        };\n\n        message.Attachments = new List&lt;Attachment&gt;();\n        message.Attachments.Add(receiptCard.ToAttachment());\n\n        await context.PostAsync(message);\n    }\n</code></pre>\n"}], "owner": {"reputation": 820, "user_id": 5266970, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh6.googleusercontent.com/-QyW2o-USkFs/AAAAAAAAAAI/AAAAAAAAG-8/BfSj9988i5M/photo.jpg=k-s128", "display_name": "greg", "link": "https://stackoverflow.com/users/5266970/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2606, "favorite_count": 0, "accepted_answer_id": 41029745, "answer_count": 1, "score": 2, "last_activity_date": 1505502631, "creation_date": 1481139829, "last_edit_date": 1505502631, "question_id": 41026015, "link": "https://stackoverflow.com/questions/41026015/add-card-attachment-to-message-using-microsoft-bot-framework", "title": "Add Card attachment to message using Microsoft Bot Framework", "body": "<p>Problem:</p>\n\n<ul>\n<li>Attaching a card to a response dialog, the following code is mostly taken from the bot samples, but does not display a card in the response dialog in the key pieces of display logic I pulled used.</li>\n</ul>\n\n<p>I am having trouble doing attachment within in a LUIS Intent task.</p>\n\n<p>Goal</p>\n\n<ul>\n<li>Have a user ask a question that LUIS does not recognize and then respond with a help card once the code jumps into the LUIS intent task responsible for handling the unrecognized. Is there some other structure of a help window I could consider, that still utilizes cards?</li>\n</ul>\n\n<p>Code</p>\n\n<p>Where my card should be displayed from</p>\n\n<pre><code>[LuisIntent(\"None\")]    \npublic async Task NoneHandler(IDialogContext context, LuisResult result) {\n        string worriedFace = \"\\U0001F61F\";\n        string smilingFace = \"\\U0001F642\";\n\n        await context.PostAsync(\"I'm sorry, I didn't get that \" + worriedFace + '.');\n        await context.PostAsync(\"Here are some things I know how to talk about!\" + smilingFace);\n\n        var message = context.MakeMessage();\n\n        var attachment = new CardDialog().ReceiptCard();\n        message.Attachments.Add(attachment);\n\n        await context.PostAsync(message);\n    }\n</code></pre>\n\n<p>Card Class of the View object I'ved created that I am trying to display.</p>\n\n<pre><code>namespace LUISBankingBot.Views\n{\n    using System.Collections.Generic;\n    using Microsoft.Bot.Connector;\n    using Microsoft.Bot.Builder.Dialogs;\n    using System;\n    using System.Threading.Tasks;\n\n    public class CardDialog : IDialog&lt;object&gt;\n    {\n        public Task StartAsync(IDialogContext context)\n        {\n            throw new NotImplementedException();\n        }\n\n        public Attachment ReceiptCard()\n        {\n            var receiptCard = new ReceiptCard\n            {\n                Title = \"John Doe\",\n                Facts = new List&lt;Fact&gt; { new Fact(\"Order Number\", \"1234\"), new Fact(\"Payment Method\", \"VISA 5555-****\") },\n                Items = new List&lt;ReceiptItem&gt;\n                {\n                    new ReceiptItem(\"Data Transfer\", price: \"$ 38.45\", quantity: \"368\", image: new CardImage(url: \"https://github.com/amido/azure-vector-icons/raw/master/renders/traffic-manager.png\")),\n                    new ReceiptItem(\"App Service\", price: \"$ 45.00\", quantity: \"720\", image: new CardImage(url: \"https://github.com/amido/azure-vector-icons/raw/master/renders/cloud-service.png\")),\n                },\n                Tax = \"$ 7.50\",\n                Total = \"$ 90.95\",\n                Buttons = new List&lt;CardAction&gt;\n                {\n                    new CardAction(\n                        ActionTypes.OpenUrl,\n                        \"More information\",\n                        \"https://account.windowsazure.com/content/6.10.1.38-.8225.160809-1618/aux-pre/images/offer-icon-freetrial.png\",\n                        \"https://azure.microsoft.com/en-us/pricing/\")\n                }\n            };\n\n            return receiptCard.ToAttachment();\n        }        \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms", "datagridview", "cancellation"], "answers": [{"tags": [], "owner": {"reputation": 4985, "user_id": 3773066, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/mPcCO.jpg?s=128&g=1", "display_name": "OhBeWise", "link": "https://stackoverflow.com/users/3773066/ohbewise"}, "is_accepted": true, "score": 1, "last_activity_date": 1481146211, "creation_date": 1481146211, "answer_id": 41027725, "question_id": 41025990, "link": "https://stackoverflow.com/questions/41025990/canceledit-after-programmatic-value-change-to-a-datagridviewcell-does-not-work/41027725#41027725", "title": "CancelEdit after Programmatic value change to a DataGridViewCell does not work", "body": "<p>The reason you're seeing this behavior has something to do with which Control has focus.  Clicking on a <code>Button</code> cell removes this focus from the <code>DataGridView</code>, thus preventing the <code>CancelEdit</code> from triggering as expected. Within your <code>if-statement</code>, try the following:</p>\n\n<pre><code>dataGridView1.NotifyCurrentCellDirty(true);\ndataGridView1.CurrentCell = dataGridView1.Rows[e.RowIndex].Cells[e.ColumnIndex - 1];\ndataGridView1.BeginEdit(false);                \ndataGridView1.EditingControl.Text = \"some value\";\n</code></pre>\n\n<p>It may seem a little hacky since you are changing focus from the <code>Button</code> cell to the edited cell, but when you hit <kbd>Esc</kbd> you'll see the desired behavior.</p>\n\n<hr>\n\n<p>Sidenote: I'd handle the <code>DataGridView.CellContentClick</code> event instead - only triggers if the <code>Button</code> itself gets clicked instead of the whole cell.</p>\n"}], "owner": {"reputation": 2113, "user_id": 2091951, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c73025ff1e72f37a132f63a4e4e61f86?s=128&d=identicon&r=PG", "display_name": "Denise Skidmore", "link": "https://stackoverflow.com/users/2091951/denise-skidmore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 41027725, "answer_count": 1, "score": 1, "last_activity_date": 1481146211, "creation_date": 1481139766, "question_id": 41025990, "link": "https://stackoverflow.com/questions/41025990/canceledit-after-programmatic-value-change-to-a-datagridviewcell-does-not-work", "title": "CancelEdit after Programmatic value change to a DataGridViewCell does not work", "body": "<p>Code snippets from minimal problematic example:</p>\n\n<pre><code>private System.Windows.Forms.DataGridView dataGridView1;\nprivate System.Windows.Forms.DataGridViewTextBoxColumn colButtonEditedText;\nprivate System.Windows.Forms.DataGridViewButtonColumn ColBrowse;\nprivate System.Windows.Forms.DataGridViewTextBoxColumn colOtherText;\n\n\nthis.dataGridView1.Columns.AddRange(new System.Windows.Forms.DataGridViewColumn[] {\n        this.colButtonEditedText,\n        this.ColBrowse,\n        this.colOtherText});\n\n\nthis.dataGridView1.CellClick += new System.Windows.Forms.DataGridViewCellEventHandler(this.dataGridView1_CellClick);\n\n\nprivate void dataGridView1_CellClick(object sender, DataGridViewCellEventArgs e)\n{\n    if (e.ColumnIndex &gt;= 0 &amp;&amp; e.ColumnIndex &gt;= 0\n            &amp;&amp; dataGridView1.Columns[e.ColumnIndex].GetType() == typeof(DataGridViewButtonColumn))\n    {\n            dataGridView1.NotifyCurrentCellDirty(true); // needed to make new row appear\n            dataGridView1.Rows[e.RowIndex].Cells[e.ColumnIndex - 1].Value\n                = \"some value\"; // button helps user edit row\n    }\n}\n</code></pre>\n\n<p>Observed Behavior:</p>\n\n<ol>\n<li>Type a character in first column.  </li>\n<li>Press escape.<br>\nObserve:  Row you just added is canceled.</li>\n<li>Press the button.<br>\nObserve: first column is edited.</li>\n<li>Press escape.<br>\nObserve: Row remains in edit mode and is not canceled.</li>\n<li>Type a character in the last column of the same row.  </li>\n<li>Press escape.<br>\nObserve:  Row you just added is canceled, both edits go away.</li>\n</ol>\n\n<p>How do I make the behavior after step 4 to be the same as after step 2 &amp; 6?</p>\n\n<p>Things I've tried:</p>\n\n<pre><code>dataGridView1.Rows[e.RowIndex].Cells[e.ColumnIndex - 1].Selected = true;\ndataGridView1.BeginEdit(true);\ndataGridView1.CommitEdit(DataGridViewDataErrorContexts.LeaveControl);\ndataGridView1.EndEdit();\n</code></pre>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481139774, "post_id": 41025937, "comment_id": 69259148, "body": "define &quot;better for not locking&quot;... single update is atomic and might lock extents or the whole table, in C# version it depends on transaction isolation level, and is going to take much longer and cause more &quot;traffic&quot;"}, {"owner": {"reputation": 1404, "user_id": 2715191, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8625e1ff4befc98a77a819c833f66dbc?s=128&d=identicon&r=PG&f=1", "display_name": "onik", "link": "https://stackoverflow.com/users/2715191/onik"}, "reply_to_user": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481139888, "post_id": 41025937, "comment_id": 69259211, "body": "i mean table or page lock not to happen. i will not use any transaction level on c# side"}, {"owner": {"reputation": 671797, "user_id": 13302, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b4779212f57ff2e9549ea90a4499c2d7?s=128&d=identicon&r=PG", "display_name": "marc_s", "link": "https://stackoverflow.com/users/13302/marc-s"}, "edited": false, "score": 1, "creation_date": 1481139933, "post_id": 41025937, "comment_id": 69259233, "body": "A single row update will not lock a whole page or table ..... it will lock <b>just that ONE row</b> that it&#39;s updating. ...."}, {"owner": {"reputation": 1769, "user_id": 3471712, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001030341259/picture?type=large", "display_name": "Auguste", "link": "https://stackoverflow.com/users/3471712/auguste"}, "edited": false, "score": 0, "creation_date": 1481140043, "post_id": 41025937, "comment_id": 69259291, "body": "It sounds that the first query is better than the second, because you&#39;ll do the query only once.  For the second one, you&#39;ll have to execute the query multiple times for each single user ID.  Of course, because the process will be for only one user ID, the second query will execute faster than the first, as opposed to the first one that will check all birthDate &gt; 2014-02-01."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481140271, "post_id": 41025937, "comment_id": 69259415, "body": "that one-row-at-a-time, transaction-less approach would trade concurrency for integrity - if you do that in multi-user scenarios, two or more such operations would race and cause inconsistent results."}, {"owner": {"reputation": 4698, "user_id": 461810, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/49c81c49603fee4d4ea52e30cd8841a8?s=128&d=identicon&r=PG", "display_name": "Dusan", "link": "https://stackoverflow.com/users/461810/dusan"}, "edited": false, "score": 0, "creation_date": 1481140486, "post_id": 41025937, "comment_id": 69259538, "body": "What data volume are we talking about? If you have small number of records, your worries about the locking might be totally irrelevant."}, {"owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "edited": false, "score": 0, "creation_date": 1481140618, "post_id": 41025937, "comment_id": 69259634, "body": "maybe you need to consider that locking alone is not something you need to avoid... rather deadlocks, and there are ways to avoid them as well (consistent order of table access etc.)"}, {"owner": {"reputation": 4698, "user_id": 461810, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/49c81c49603fee4d4ea52e30cd8841a8?s=128&d=identicon&r=PG", "display_name": "Dusan", "link": "https://stackoverflow.com/users/461810/dusan"}, "edited": false, "score": 0, "creation_date": 1481140933, "post_id": 41025937, "comment_id": 69259837, "body": "Agree dlatikay, might be that OP is trying to solve deadlocks by minimizing lock times - might get fewer deadlocks, but surely not the right solution"}, {"owner": {"reputation": 1701, "user_id": 6173015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRT3E.jpg?s=128&g=1", "display_name": "pacreely", "link": "https://stackoverflow.com/users/6173015/pacreely"}, "edited": false, "score": 1, "creation_date": 1481153059, "post_id": 41025937, "comment_id": 69265875, "body": "whichever solution you go with add &#39;Salary &lt;&gt; 400&#39; to the where clause, there&#39;s no point locking a record by changing it to it&#39;s current value."}], "owner": {"reputation": 1404, "user_id": 2715191, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/8625e1ff4befc98a77a819c833f66dbc?s=128&d=identicon&r=PG&f=1", "display_name": "onik", "link": "https://stackoverflow.com/users/2715191/onik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481139903, "creation_date": 1481139595, "last_edit_date": 1481139903, "question_id": 41025937, "link": "https://stackoverflow.com/questions/41025937/update-statement-vs-multiple-update-statements-sql-server", "title": "Update statement vs multiple update statements SQL Server", "body": "<p>I have a table </p>\n\n<pre><code>User\n(\n  id primary key,\n  firstName ,\n  birthDate,\n  salary\n)\n</code></pre>\n\n<p>I want to update all users salary to 400 with a birthDate > 2014-02-01 (for example). Which one is better for not locking, to make one update</p>\n\n<pre><code>Update User \nset salary = 400 \nwhere birthDate &gt; 2014-02-01\n</code></pre>\n\n<p>or to select all users where birthDate > 2014-02-1 to my c# code and then execute update each by each by primary key like  </p>\n\n<pre><code>update User \nset salary = 400 \nwhere id = xxx\n</code></pre>\n\n<p>Please explain the answer</p>\n"}, {"tags": ["c#", "asp.net", "gridview", "datagridview"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6087055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/12293214cf13c51c14c2189bda38de86?s=128&d=identicon&r=PG&f=1", "display_name": "swatzz", "link": "https://stackoverflow.com/users/6087055/swatzz"}, "edited": false, "score": 0, "creation_date": 1481142949, "post_id": 41026109, "comment_id": 69261055, "body": "it&#39;s really helpful. Thank you."}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": true, "score": 0, "last_activity_date": 1481140151, "creation_date": 1481140151, "answer_id": 41026109, "question_id": 41025855, "link": "https://stackoverflow.com/questions/41025855/gridview-changing-text-in-a-button-column-after-data-bind/41026109#41026109", "title": "Gridview changing text in a button column after data bind", "body": "<p>You can loop all the rows, find the Button and change the Text based on the values in <code>dt1</code></p>\n\n<pre><code>foreach (GridViewRow row in GridView1.Rows)\n{\n    //find the button in the row with findcontrol and cast back to a button\n    Button button = row.FindControl(\"btnstatus\") as Button;\n\n    //check dt1 and set button text\n    button.Text = \"Active\";\n}\n</code></pre>\n\n<p>Or you can do the same on the GridView databinding with the <code>OnRowDataBound</code> event.</p>\n\n<pre><code>protected void GridView1_RowDataBound(object sender, GridViewRowEventArgs e)\n{\n    if (e.Row.RowType == DataControlRowType.DataRow)\n    {\n        //find the button in the row with findcontrol and cast back to a button\n        Button button = e.Row.FindControl(\"btnstatus\") as Button;\n\n        //check dt1 and set button text\n        button.Text = \"Active\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 6087055, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/12293214cf13c51c14c2189bda38de86?s=128&d=identicon&r=PG&f=1", "display_name": "swatzz", "link": "https://stackoverflow.com/users/6087055/swatzz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1244, "favorite_count": 1, "accepted_answer_id": 41026109, "answer_count": 1, "score": 0, "last_activity_date": 1481140151, "creation_date": 1481139302, "question_id": 41025855, "link": "https://stackoverflow.com/questions/41025855/gridview-changing-text-in-a-button-column-after-data-bind", "title": "Gridview changing text in a button column after data bind", "body": "<p>I have a GridView in a ASP.NET web application, in which I have added buttons in each row:</p>\n\n<pre><code>&lt;asp:GridView ID=\"gridviewdatadosen\" runat=\"server\" AutoGenerateColumns=\"False\" CssClass=\"table table-striped table-bordered table-hover\" OnRowDataBound=\"gridviewdatadosen_RowDataBound\" OnSelectedIndexChanged=\"gridviewdatadosen_SelectedIndexChanged\" OnRowCommand=\"gridviewdatadosen_RowCommand\"&gt;\n    &lt;Columns&gt;\n        &lt;asp:BoundField DataField=\"NIK\" HeaderText=\"NIK\" SortExpression=\"NIK\"&gt;&lt;/asp:BoundField&gt;\n        &lt;asp:BoundField DataField=\"NIDN\" HeaderText=\"NIDN\" SortExpression=\"NIDN\"&gt;&lt;/asp:BoundField&gt;\n        &lt;asp:BoundField DataField=\"NAMA\" HeaderText=\"NAMA\" SortExpression=\"NAMA\"&gt;&lt;/asp:BoundField&gt;\n        &lt;asp:BoundField DataField=\"Alamat\" HeaderText=\"Alamat\" SortExpression=\"Alamat\"&gt;&lt;/asp:BoundField&gt;\n        &lt;asp:TemplateField ShowHeader=\"false\"&gt;\n            &lt;ItemTemplate&gt;\n                &lt;asp:Button ID=\"btnstatus\" runat=\"server\" Text=\"Aktif\" CssClass=\"btn btn-primary\" CommandName=\"aktifasi\"  CommandArgument='&lt;%# Eval(\"NIK\") %&gt;'/&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:TemplateField&gt;\n    &lt;/Columns&gt;\n&lt;/asp:GridView&gt;\n</code></pre>\n\n<p>I fill the datagridview on the server side. I filled it with taking the data in the database.</p>\n\n<pre><code>                DataTable dt = new DataTable();\n                DataTable dt1 = new DataTable();\n                SqlConnection conn = new SqlConnection(@\"Data Source=localhost;Initial Catalog=SKRIPSI;User ID=sa;Password=sa\");\n                conn.Open();\n                string ngisi = \"SELECT [nik] as 'NIK' , [nidn] as 'NIDN', [nama] as 'NAMA', [alamat] as 'Alamat' FROM [dosen]\";\n                SqlCommand comm = new SqlCommand(ngisi, conn);\n                dt.Load(comm.ExecuteReader());\n                conn.Close();\n                gridviewdatadosen.DataSource = dt;\n                gridviewdatadosen.DataBind();\n                int tmp = dt.Rows.Count;\n</code></pre>\n\n<p>after I fill the datagridview, I wanted to check the status of dosen whether he is active or not by select id and status of dosen.</p>\n\n<pre><code>                conn.Open();\n                string check = \"SELECT nik, status FROM [dosen]\";\n                comm = new SqlCommand(check, conn);\n                dt1.Load(comm.ExecuteReader());\n                conn.Close();\n</code></pre>\n\n<p>I have tried to change the existing text on the button but did not succeed.</p>\n\n<pre><code>                        for (int i = 0; i &lt; tmp; i++)\n                    {\n                        if (dt1.Rows[i][1].ToString() == \"Aktif\")//check the dosen aktif or not\n                        {\n                            for (int j = 0; j &lt; tmp; j++)\n                            {\n                                if (dt.Rows[j][0].ToString() == dt1.Rows[i][0].ToString())// check nik where status = 'Aktif'\n                                {\n                                    // I want to change the button in each row. if he 'Aktif' then the text in button will change to be 'aktif'\n                                    //do not know what to do\n                                }\n                            }\n                        }\n                    }\n</code></pre>\n\n<p>I want to change the button in each row. if he 'Aktif' then the text in button will change to be 'aktif'. help me to solve this problem. Sorry if my english or my explain is bad. Thank You</p>\n"}, {"tags": ["c#", "asp.net-web-api"], "comments": [{"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481139835, "post_id": 41025844, "comment_id": 69259181, "body": "You may need to write RegEx to match the acceptable parameter format: The attribute would look like this for example: <code>{groupId:regex(^\\d{3}-\\d{3}-\\d{4}$)}</code> (obviously that isn&#39;t the RegEx, but it is for example/format sake.)"}, {"owner": {"reputation": 4080, "user_id": 76512, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/019a764cd4858111a348d0b4bf835a26?s=128&d=identicon&r=PG", "display_name": "Dustin Hodges", "link": "https://stackoverflow.com/users/76512/dustin-hodges"}, "edited": false, "score": 0, "creation_date": 1481141788, "post_id": 41025844, "comment_id": 69260403, "body": "The framework decodes parameter values as a convenience so at the end you won&#39;t have to decode it yourself.  Is it a problem that the values aren&#39;t encoded?  You could just UrlEncode it yourself if you need to"}, {"owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "edited": false, "score": 0, "creation_date": 1481151185, "post_id": 41025844, "comment_id": 69265139, "body": "The <code>*</code> essentially means &quot;this variable needs to accept multiple URL segments as one string&quot;.  It is known as a <i>catch-all parameter</i>. See &quot;<a href=\"https://msdn.microsoft.com/en-us/library/cc668201.aspx#Anchor_5\" rel=\"nofollow noreferrer\">Handling a Variable Number of Segments in a URL Pattern</a>&quot; in the ASP.Net Routing documentation."}], "owner": {"reputation": 2114, "user_id": 2494394, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/34b9f649c8f8d8701c02b0c2bdfe8c07?s=128&d=identicon&r=PG", "display_name": "wlyles", "link": "https://stackoverflow.com/users/2494394/wlyles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481139524, "creation_date": 1481139263, "last_edit_date": 1495542631, "question_id": 41025844, "link": "https://stackoverflow.com/questions/41025844/why-are-my-url-parameters-not-being-encoded", "title": "Why are my URL parameters not being encoded?", "body": "<p>I'm developing an application with a WebApiController with a GET method that looks like the following:</p>\n\n<pre><code>public class MyController : ApiController\n{\n    [HttpGet]\n    [Route(\"groupIdType/{groupIdType}/groupId/{groupId}\")]\n    public async Task&lt;IHttpActionResult&gt; GetGroup(\n        [FromUri] string groupIdType,\n        [FromUri] string groupId)\n    {\n        // do stuff...\n    }\n}\n</code></pre>\n\n<p>The problem is that it's entirely possible that <code>groupId</code> has URL reserved characters. In fact, for the only currently supported <code>groupIdType</code>, the <code>groupId</code> will <em>always</em> have <code>/</code> characters (I wish I could change this, but it's a requirement that's beyond my control). </p>\n\n<p>I saw <a href=\"https://stackoverflow.com/questions/28883767/how-do-you-handle-routing-in-asp-net-webapi-routing-with-a-in-your-string-pa\">this question</a> in the similar questions as I was writing a question about how to pass reserved characters in URL parameters, which suggests encoding the <code>/</code> character as <code>%2F</code> in the url. I've already tried that like so:</p>\n\n<pre><code>https://MyServiceBaseUrl/groupIdType/someType/groupId/blah%2Fblah%2Fblah\n</code></pre>\n\n<p>but this gives me a 404 Not Found. Furthermore, when I tried this:</p>\n\n<pre><code>https://MyServiceBaseUrl/groupIdType/someType/groupId/blah%2F\n</code></pre>\n\n<p>and inspected the value of <code>groupId</code> in the debugger, then the value of <code>groupId</code> is <code>blah</code>, not <code>blah%2F</code> or <code>blah/</code> as I would expect. This makes me think that the encoded slashes are being read as if they weren't encoded.</p>\n\n<p>From a comment on the same question linked above, I got the idea to use this route instead:</p>\n\n<pre><code>[Route(\"groupIdType/{groupIdType}/groupId/{*groupId}\")]\n</code></pre>\n\n<p>Now, I can send the same URL as the first above, and in the debugger I see that the value of <code>groupId</code> is <code>blah/blah/blah</code> - <em>notice that this is <strong>not</strong> encoded</em>. I get the same result if I pass the unencoded id with this request:</p>\n\n<pre><code>https://MyServiceBaseUrl/groupIdType/someType/groupId/blah/blah/blah\n</code></pre>\n\n<p>This is actually okay, as some of the other developers on the project expressed concerns about encoding/decoding the id and would rather be able to pass it like this. But I'd also like to understand what's going on here. Why isn't the request going through with the encoded parameters? Also, what does the <code>*</code> character in the route do? There was no explanation in the question I linked, and I couldn't find anything about it in my searches.</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 2546, "user_id": 1193647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/84f5b1550b64da06e7362ad87384e8bc?s=128&d=identicon&r=PG", "display_name": "Kolichikov", "link": "https://stackoverflow.com/users/1193647/kolichikov"}, "edited": false, "score": 0, "creation_date": 1481139015, "post_id": 41025755, "comment_id": 69258751, "body": "Did you debug the form? Set a breakpoint inside the method to see if it is even being hit, maybe you forgot to bind the event handler to the forms event."}, {"owner": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 0, "creation_date": 1481139653, "post_id": 41025755, "comment_id": 69259094, "body": "@DF1229 Do all buttons start with a background image?"}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 0, "creation_date": 1481139815, "post_id": 41025755, "comment_id": 69259169, "body": "@Sorceri Yes they do, they all start with the image &quot;addDevice.png&quot;, to represent an empty slot."}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 2546, "user_id": 1193647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/84f5b1550b64da06e7362ad87384e8bc?s=128&d=identicon&r=PG", "display_name": "Kolichikov", "link": "https://stackoverflow.com/users/1193647/kolichikov"}, "edited": false, "score": 0, "creation_date": 1481139839, "post_id": 41025755, "comment_id": 69259182, "body": "@Kolichikov  \t I did, when any of the buttons are clicked they all trigger the method &quot;addDevice&quot;. When I tried it earlier when I didn&#39;t try to change the background image it worked fine for all the buttons."}, {"owner": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481139974, "post_id": 41025755, "comment_id": 69259256, "body": "Did you actually check the breakpoint?  Sounds like your if conditions are never being met, which would be why nothing is happening."}, {"owner": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 0, "creation_date": 1481140201, "post_id": 41025755, "comment_id": 69259373, "body": "well the label doesn&#39;t update most likely because you are using devices and I am going to assume you mean to use totalDevices"}, {"owner": {"reputation": 2546, "user_id": 1193647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/84f5b1550b64da06e7362ad87384e8bc?s=128&d=identicon&r=PG", "display_name": "Kolichikov", "link": "https://stackoverflow.com/users/1193647/kolichikov"}, "edited": false, "score": 0, "creation_date": 1481140272, "post_id": 41025755, "comment_id": 69259417, "body": "You might want to have your ifs check for a property on the images, in case the references aren&#39;t the same.  So maybe set the Tag property on each image and then compare those to make sure they are equal to your values and execute your logic."}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481140375, "post_id": 41025755, "comment_id": 69259477, "body": "@Lunyx Yes I did, everytime I click one of the button the program breaks at the if statement without giving errors. When I continue and click another button it does the same thing."}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 0, "creation_date": 1481140421, "post_id": 41025755, "comment_id": 69259501, "body": "@Sorceri Yeah that&#39;s my bad, forgot to change it here, already changed it in my code, thanks for the suggestion though."}, {"owner": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 0, "creation_date": 1481140490, "post_id": 41025755, "comment_id": 69259541, "body": "@DF1229  The resource is a bitmap the background is an image. Change your checks to clickedBtn.BackgroundImage == add_image and remove_image"}, {"owner": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481140493, "post_id": 41025755, "comment_id": 69259543, "body": "Breaking at the if statement doesn&#39;t indicate that the code within the block will be executed.  Have you stepped through to check if the code within the if block itself is executed?"}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 2546, "user_id": 1193647, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/84f5b1550b64da06e7362ad87384e8bc?s=128&d=identicon&r=PG", "display_name": "Kolichikov", "link": "https://stackoverflow.com/users/1193647/kolichikov"}, "edited": false, "score": 0, "creation_date": 1481140548, "post_id": 41025755, "comment_id": 69259583, "body": "@Kolichikov I&#39;m not sure what you mean, I haven&#39;t been using visual studio for a very long time, only about 4-5 months now, and I haven&#39;t gone really in depth with it. What I make up from your message is to check if the images are in the folder they should be in. (Which they are)"}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481140590, "post_id": 41025755, "comment_id": 69259615, "body": "@Lunyx Yes I have, and it did get executed without any errors."}, {"owner": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481140629, "post_id": 41025755, "comment_id": 69259647, "body": "Try calling <code>clickedBtn.Refresh()</code>"}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481140748, "post_id": 41025755, "comment_id": 69259726, "body": "@Lunyx Just to be sure, do you mean before or after the if statement?"}, {"owner": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481140789, "post_id": 41025755, "comment_id": 69259757, "body": "After you set the background image."}, {"owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "reply_to_user": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481141045, "post_id": 41025755, "comment_id": 69259912, "body": "@Lunyx No change in results. However I might have found what I did wrong, when I put a breakpoint on the if statement it does get run, however when I put one on the code that should get run when the button is clicked it doesn&#39;t get run."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1481141118, "post_id": 41025755, "comment_id": 69259979, "body": "Images don&#39;t have a way to check for equality, so you will have to use some other method, like a Dictionary or the button&#39;s Tag property to store &quot;key&quot; information."}, {"owner": {"reputation": 7422, "user_id": 1586390, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f07270207034d2bcbe347b028edc8f02?s=128&d=identicon&r=PG", "display_name": "Sorceri", "link": "https://stackoverflow.com/users/1586390/sorceri"}, "edited": false, "score": 0, "creation_date": 1481141211, "post_id": 41025755, "comment_id": 69260026, "body": "See <a href=\"https://blogs.msdn.microsoft.com/domgreen/2009/09/06/comparing-two-images-in-c/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/domgreen/2009/09/06/&hellip;</a>"}, {"owner": {"reputation": 2835, "user_id": 1677829, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ef99daa15343d01b8948d5fa57fae7f4?s=128&d=identicon&r=PG", "display_name": "Lunyx", "link": "https://stackoverflow.com/users/1677829/lunyx"}, "edited": false, "score": 0, "creation_date": 1481141293, "post_id": 41025755, "comment_id": 69260075, "body": "I would suggest reading up on how to use the debugger more efficiently because it sounds like you&#39;re not really sure what you&#39;re doing. <a href=\"https://www.codeproject.com/Articles/79508/Mastering-Debugging-in-Visual-Studio-A-Beginn\" rel=\"nofollow noreferrer\">codeproject.com/Articles/79508/&hellip;</a>"}], "owner": {"reputation": 3, "user_id": 7156843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86586976082faa21a02c2cd373e6442?s=128&d=identicon&r=PG&f=1", "display_name": "DF1229", "link": "https://stackoverflow.com/users/7156843/df1229"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481140445, "creation_date": 1481138887, "last_edit_date": 1481140445, "question_id": 41025755, "link": "https://stackoverflow.com/questions/41025755/visual-c-changing-buttons-background-image-programmatically", "title": "Visual C# - Changing button&#39;s background image programmatically", "body": "<p>So I'm trying to make a simple program in Visual C# that counts the number of \"Connected Devices\", which can be seen as the amount of buttons clicked. </p>\n\n<p>The code should check which button was clicked and change it's background image. It should also update the count and label on the form.</p>\n\n<p>First of all, here's my code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Device_Storage\n{\n    public partial class Form1 : Form\n    {\n        int totalDevices = 0;\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void addDevice(object sender, EventArgs e)\n        {\n            try\n            {\n                Button clickedBtn = sender as Button;\n                Image add_image = Properties.Resources.addDevice;\n                Image remove_image = Properties.Resources.removeDevice;\n\n                if (clickedBtn.BackgroundImage == Properties.Resources.addDevice)\n                {\n                    clickedBtn.BackgroundImage = remove_image;\n                    totalDevices++;\n                }\n                else if (clickedBtn.BackgroundImage == Properties.Resources.removeDevice)\n                {\n                    clickedBtn.BackgroundImage = add_image;\n                    totalDevices--;\n                }\n\n                updateLabel();\n            } catch (Exception ex)\n            {\n                MessageBox.Show(ex.Message, \"An Error Occured\");\n            }\n\n        }\n\n        private void updateLabel()\n        {\n            label1.Text = \"Connected devices: \" + totalDevices;\n        }\n    }\n}\n</code></pre>\n\n<p>(I didn't change any of the using statements yet, I usually do that when I'm finished or am 100% sure I won't be using the namespace)\nI can't find anything wrong with the code myself and Visual Studio (2015) doesn't give an error.\nWhen I click a button (there are 36 total buttons) nothing happens, the label doesn't update, the image doesn't change, nothing. I don't even get an error, the program doesn't crash.</p>\n\n<p>If anyone can see what I did wrong and can help me fix it that would be really appreciated.</p>\n\n<p>(Edit: My resources folder contains 2 png files, \"addDevice.png\" and \"removeDevice.png\")</p>\n\n<p>(New info: all buttons start with the background image \"addDevice.png\" as to represent an empty slot)</p>\n"}, {"tags": ["c#", "generics", "design-patterns", "service"], "answers": [{"tags": [], "owner": {"reputation": 58724, "user_id": 411632, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/41e7ea21270a6079bb14d6d60ec75d8a?s=128&d=identicon&r=PG", "display_name": "Mat&#237;as Fidemraizer", "link": "https://stackoverflow.com/users/411632/mat%c3%adas-fidemraizer"}, "is_accepted": false, "score": 0, "last_activity_date": 1481194593, "creation_date": 1481194593, "answer_id": 41037751, "question_id": 41025748, "link": "https://stackoverflow.com/questions/41025748/locate-different-generic-services-in-one-non-generic-locator/41037751#41037751", "title": "Locate different generic services in one non generic Locator", "body": "<p>Using a <em>Dependency Injection</em> framework you should be able to configure which receivers you want to particulary <em>inject</em> into specific <code>Broker&lt;PayLoad&gt;</code> instances.</p>\n\n<p>In the other hand, you should practice <em>constructor injection</em>:</p>\n\n<pre><code>public class Broker&lt;Payload&gt;\n{\n     public Broker(IList&lt;IReceiver&lt;PayLoad&gt;&gt; receivers)\n     {\n          Receivers = receivers;\n     }\n\n     public IList&lt;IReceiver&lt;PayLoad&gt;&gt; { get; }\n}\n</code></pre>\n\n<p>Now, the next issue is that you want a <em>broker</em> to handle more than a receiver type. So the easiest way will be a small refactor on your <code>IReceiver&lt;PayLoad&gt;</code> interface:</p>\n\n<pre><code>// No more PayLoad generic type parameter! Let's move it to\n// the methods\npublic interface IReceiver\n{\n    string Name { get; }\n    Task SendObjectContainerAsync&lt;TPayLoad&gt;(ObjectContainer&lt;TPayLoad&gt; m);\n    Task&lt;ObjectContainer&lt;TPayLoad&gt;&gt; GetSnapshot&lt;TPayLoad&gt;();\n}\n</code></pre>\n\n<p>Finally, your brokers will look as follows:</p>\n\n<pre><code>public class Broker\n{\n     public Broker(IList&lt;IReceiver&gt; receivers)\n     {\n          Receivers = receivers;\n     }\n\n     public IList&lt;IReceiver&gt; { get; }\n}\n</code></pre>\n\n<h2>About the <code>Locator</code> thing</h2>\n\n<p>Are you going to implement a static service locator? Don't do this, it's considered an anti-pattern, because you're going to couple your components to <em>how they receive their dependencies</em> while you should avoid this.</p>\n\n<p>Components should remain agnostic on how they get their dependencies, because this is a reponsibility of a higher layer, usually the IoC/DI container.</p>\n\n<p>Also, it makes your code more test-friendly, because you can test your components without integrating the IoC/DI container, because you just expect constructor arguments.</p>\n"}], "owner": {"reputation": 127, "user_id": 6738226, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8c7bfdd599703d0f59b8adb35c33384d?s=128&d=identicon&r=PG&f=1", "display_name": "Milleu", "link": "https://stackoverflow.com/users/6738226/milleu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481194593, "creation_date": 1481138861, "question_id": 41025748, "link": "https://stackoverflow.com/questions/41025748/locate-different-generic-services-in-one-non-generic-locator", "title": "Locate different generic services in one non generic Locator", "body": "<p>I have various Services that implement </p>\n\n<pre><code>public interface IReceiver&lt;PayLoad&gt;\n{\n    string Name {get;}\n    Task SendObjectContainerAsync(ObjectContainer&lt;PayLoad&gt; m);\n    Task&lt;ObjectContainer&lt;PayLoad&gt;&gt; GetSnapshot();\n}\n</code></pre>\n\n<p>For Example</p>\n\n<pre><code>public class Printer : IReceiver&lt;TextDocument&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>public class TextDocumentService : IReceiver&lt;Letter&gt;\n</code></pre>\n\n<p>Now I want to collect all instances of each IReceiver in one Controller, I could</p>\n\n<pre><code>public class Broker&lt;Payload&gt;\n{\n     List&lt;IReceiver&lt;Payload&gt;&gt; receivers;         \n}\n</code></pre>\n\n<p>and initialize an Instance for each type of IReceiver and then DI it into the IReceivers to enable them to register and get the Instances from other places.</p>\n\n<p>Is this a good way to handle different Services? I think it gets kind of messy with many Brokers and I would rather have something like</p>\n\n<pre><code>static void register&lt;Payload&gt;(IReceiver&lt;Payload&gt; RegisterMe)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>static List&lt;IReceiver&lt;Payload&gt;&gt; getReceivers&lt;PayLoad&gt;()\n</code></pre>\n\n<p>But im not able to implement this Locator because I dont know how to administrate different generic Lists in one non generic class</p>\n\n<p>Any Suggestions?</p>\n"}, {"tags": ["c#", "xml", "dtd", "xmldocument", "xmltextreader"], "comments": [{"owner": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "edited": false, "score": 0, "creation_date": 1481139398, "post_id": 41025742, "comment_id": 69258946, "body": "Why do you care how the serialized XML looks like? There&#39;s no difference between a literal <code>&#246;</code> and <code>&amp;ouml;</code>, as long as <code>ouml</code> is defined."}, {"owner": {"reputation": 2407, "user_id": 1100452, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cc0389073230094303c3a7271d70b38?s=128&d=identicon&r=PG", "display_name": "Firoz Ansari", "link": "https://stackoverflow.com/users/1100452/firoz-ansari"}, "reply_to_user": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "edited": false, "score": 0, "creation_date": 1481139548, "post_id": 41025742, "comment_id": 69259028, "body": "Thank you Tomalak. I do want literal <code>&#246;</code> in my output instead of <code>&amp;ouml;</code>. I appreciate any pointer."}, {"owner": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "edited": false, "score": 0, "creation_date": 1481139802, "post_id": 41025742, "comment_id": 69259161, "body": "I understand what you want. I was asking <i>why</i>, because the two variants are equivalent."}, {"owner": {"reputation": 2407, "user_id": 1100452, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cc0389073230094303c3a7271d70b38?s=128&d=identicon&r=PG", "display_name": "Firoz Ansari", "link": "https://stackoverflow.com/users/1100452/firoz-ansari"}, "reply_to_user": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "edited": false, "score": 0, "creation_date": 1481140090, "post_id": 41025742, "comment_id": 69259315, "body": "We have a legacy down stream system which is expecting literal variant. We were able to get it through XmlReader object but it has some other issues."}, {"owner": {"reputation": 304952, "user_id": 18771, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0ada184c98bf9073d15b2dc815be0170?s=128&d=identicon&r=PG", "display_name": "Tomalak", "link": "https://stackoverflow.com/users/18771/tomalak"}, "edited": false, "score": 1, "creation_date": 1481140582, "post_id": 41025742, "comment_id": 69259609, "body": "I was already suspecting something horrible like <i>&quot;we have a downstream application that uses regex to parse XML&quot;</i>. Well... that&#39;s why the only thing that should interact with XML is an XML parser. I am not sure that there are any regular means to resolve this, but as a method of last resort you can do something equally horrible, like <i>&quot;string-replace all occurrences of <code>&amp;ouml;</code> with <code>&#246;</code> in the final XML string&quot;</i>."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1481142023, "post_id": 41025742, "comment_id": 69260532, "body": "Why are you using a TextReader instead of a TextWriter?"}, {"owner": {"reputation": 2407, "user_id": 1100452, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cc0389073230094303c3a7271d70b38?s=128&d=identicon&r=PG", "display_name": "Firoz Ansari", "link": "https://stackoverflow.com/users/1100452/firoz-ansari"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1481145350, "post_id": 41025742, "comment_id": 69262424, "body": "@jdweng I am not aware of using TextWriter to do DTD processing. I will be thankful if you can provide me the sample code using TextWriter."}, {"owner": {"reputation": 23570, "user_id": 1477421, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8ad4c0d74e420261aa2926787ab1c468?s=128&d=identicon&r=PG", "display_name": "C. M. Sperberg-McQueen", "link": "https://stackoverflow.com/users/1477421/c-m-sperberg-mcqueen"}, "edited": false, "score": 0, "creation_date": 1481238411, "post_id": 41025742, "comment_id": 69308341, "body": "If TextReader does what you want except for normalizing newlines, then it might be simplest to run TextReader and filter it through sed or some equivalent, to inject \\r before every \\n."}], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": false, "score": 0, "last_activity_date": 1481148164, "creation_date": 1481148164, "answer_id": 41028191, "question_id": 41025742, "link": "https://stackoverflow.com/questions/41025742/xmltextreader-is-ignoring-dtdprocessing-flag/41028191#41028191", "title": "XmlTextReader is ignoring DtdProcessing flag", "body": "<p>Code would look something like this</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Data;\nusing System.Xml;\nusing System.Xml.Linq;\nusing System.IO;\n\n\nnamespace ConsoleApplication31\n{\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            XmlDocument xmlDocument = new XmlDocument();\n            try\n            {\n                string contents = @\"&lt;?xml version='1.0' encoding='ISO-8859-1' standalone='yes'?&gt;\n                &lt;!DOCTYPE content [&lt;!ENTITY ouml '&amp;#246;'&gt;]&gt;\n                &lt;content&gt;Test &amp;ouml; Test\n                Test&lt;/content&gt;\";\n\n                MemoryStream stream = new MemoryStream();\n                XmlTextWriter writer = new XmlTextWriter(stream, Encoding.GetEncoding(\"ISO-8859-1\"));\n                writer.WriteString(contents);\n                writer.Flush();\n\n                byte[] bytes = new byte[stream.Length];\n                stream.Position = 0;\n                stream.Read(bytes, 0, (int)stream.Length);\n                Console.WriteLine(Encoding.GetEncoding(\"ISO-8859-1\").GetString(bytes));\n            }\n            catch (Exception e)\n            {\n                Console.WriteLine(e.Message);\n            }\n\n\n\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2407, "user_id": 1100452, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2cc0389073230094303c3a7271d70b38?s=128&d=identicon&r=PG", "display_name": "Firoz Ansari", "link": "https://stackoverflow.com/users/1100452/firoz-ansari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481148164, "creation_date": 1481138848, "last_edit_date": 1481139363, "question_id": 41025742, "link": "https://stackoverflow.com/questions/41025742/xmltextreader-is-ignoring-dtdprocessing-flag", "title": "XmlTextReader is ignoring DtdProcessing flag", "body": "<p>I am trying to load xml content using XmlTextReader but for some reason, XmlTextReader is ignoring DtdProcessing flag while processing Xml. DtdProcessing flag is working fine if I use XmlReader instead. Problem with XmlReader is that it automatically normalize \\r\\n\\ to \\n which I don't want in my output string.</p>\n\n<p>Here is my code snippet:</p>\n\n<pre><code>XmlDocument xmlDocument = new XmlDocument();\n\nstring contents = @\"&lt;?xml version='1.0' encoding='ISO-8859-1' standalone='yes'?&gt;\n    &lt;!DOCTYPE content [&lt;!ENTITY ouml '&amp;#246;'&gt;]&gt;\n    &lt;content&gt;Test &amp;ouml; Test\n\n    Test&lt;/content&gt;\";\n\nbyte[] byteArray = Encoding.UTF8.GetBytes(contents);\nMemoryStream stream = new MemoryStream(byteArray);\n\n//XmlReaderSettings settings = new XmlReaderSettings();\n//settings.DtdProcessing = DtdProcessing.Parse;\n//settings.IgnoreWhitespace = false;\n//XmlReader reader = XmlReader.Create(stream, settings);\n//xmlDocument.Load(reader);\n\nXmlTextReader reader = new XmlTextReader(stream);\nreader.DtdProcessing = DtdProcessing.Parse;\nxmlDocument.Load(reader);\n\nConsole.WriteLine(xmlDocument.OuterXml);\n</code></pre>\n\n<p>Output I am getting from above processing:          </p>\n\n<pre><code>\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"ISO-8859-1\\\" standalone=\\\"yes\\\"?&gt;&lt;!DOCTYPE content[&lt;!ENTITY ouml '&amp;#246;'&gt;]&gt;&lt;content&gt;Test &amp;ouml; Test\\r\\n\\r\\n    Test&lt;/content&gt;\"\n</code></pre>\n\n<p>Instead I want output string with the DTD processed:</p>\n\n<pre><code>\"&lt;?xml version=\\\"1.0\\\" encoding=\\\"ISO-8859-1\\\" standalone=\\\"yes\\\"?&gt;&lt;!DOCTYPE content[&lt;!ENTITY ouml '&amp;#246;'&gt;]&gt;&lt;content&gt;Test \u00f6 Test\\r\\n\\r\\n    Test&lt;/content&gt;\"\n</code></pre>\n"}, {"tags": ["c#", "generics", "lambda"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1481139032, "post_id": 41025714, "comment_id": 69258760, "body": "You&#39;d have to use reflection and build up an <code>Expression</code> to use in your <code>OrderByDescending</code>.  But what problem are you solving by doing this?  It&#39;s likely there&#39;s a better alternative."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 1, "creation_date": 1481139182, "post_id": 41025714, "comment_id": 69258828, "body": "you should look into dynamic linq - it does just this."}, {"owner": {"reputation": 85, "user_id": 899974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77be3b28cd3567ffa632d75aba0a2090?s=128&d=identicon&r=PG", "display_name": "ishahrier", "link": "https://stackoverflow.com/users/899974/ishahrier"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1481139468, "post_id": 41025714, "comment_id": 69258986, "body": "@juharr : &quot;LINQ to Entities does not recognize the method &#39;System.Reflection.PropertyInfo GetProperty(System.String)&#39; method, and this method cannot be translated into a store expression.&quot;"}, {"owner": {"reputation": 85, "user_id": 899974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77be3b28cd3567ffa632d75aba0a2090?s=128&d=identicon&r=PG", "display_name": "ishahrier", "link": "https://stackoverflow.com/users/899974/ishahrier"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1481139507, "post_id": 41025714, "comment_id": 69259006, "body": "@DanielA.White : I will try that"}, {"owner": {"reputation": 85, "user_id": 899974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77be3b28cd3567ffa632d75aba0a2090?s=128&d=identicon&r=PG", "display_name": "ishahrier", "link": "https://stackoverflow.com/users/899974/ishahrier"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1481214233, "post_id": 41025714, "comment_id": 69295907, "body": "@DanielA.White you are right , I need the dynamic LINQ. thank you."}], "answers": [{"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1481139103, "post_id": 41025797, "comment_id": 69258799, "body": "This would only work for an in memory collection, not a database query as the OP has."}], "tags": [], "owner": {"reputation": 1, "user_id": 3792838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd7941722b59e8cfc6411ec2b8d8181b?s=128&d=identicon&r=PG&f=1", "display_name": "user3792838", "link": "https://stackoverflow.com/users/3792838/user3792838"}, "is_accepted": false, "score": -4, "last_activity_date": 1481139054, "creation_date": 1481139054, "answer_id": 41025797, "question_id": 41025714, "link": "https://stackoverflow.com/questions/41025714/c-lambda-with-generic-class-t/41025797#41025797", "title": "C# Lambda with Generic class T", "body": "<p>You can use reflection to check if colName exists and get its value. Check out the MSDN page - <a href=\"https://msdn.microsoft.com/en-us/library/mt656691.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/mt656691.aspx</a>.</p>\n"}], "owner": {"reputation": 85, "user_id": 899974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77be3b28cd3567ffa632d75aba0a2090?s=128&d=identicon&r=PG", "display_name": "ishahrier", "link": "https://stackoverflow.com/users/899974/ishahrier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "closed_date": 1481139253, "answer_count": 1, "score": -3, "last_activity_date": 1486999420, "creation_date": 1481138757, "last_edit_date": 1486999420, "question_id": 41025714, "link": "https://stackoverflow.com/questions/41025714/c-lambda-with-generic-class-t", "closed_reason": "Duplicate", "title": "C# Lambda with Generic class T", "body": "<p>I have a bunch of POCO classes, lets say one of them looks like below </p>\n\n<pre><code>class Person{\n      public string Name {get;set;}\n      public int Age {get;set;}\n}\n</code></pre>\n\n<p>here is my generic class, </p>\n\n<pre><code>class Helper&lt;T&gt; where T:class{\n\n    public  Func&lt;IQueryable&lt;T&gt;, IOrderedQueryable&lt;T&gt;&gt; GenerateOrderByExpression(string colName)\n    {\n    return x =&gt; x.OrderByDescending(y =&gt; y.colName);\n    //colName = NAME can be here for class person, it can be the Age field or something else for some other classes\n    //how do i become generic here, how can I be able to use which ever field i pass as colName\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "virtual-functions"], "comments": [{"owner": {"reputation": 598, "user_id": 6198927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/k5lkj.jpg?s=128&g=1", "display_name": "Esteban Verbel", "link": "https://stackoverflow.com/users/6198927/esteban-verbel"}, "edited": false, "score": 1, "creation_date": 1481138860, "post_id": 41025704, "comment_id": 69258656, "body": "It can have its own implementation but you can overwrite it"}, {"owner": {"reputation": 326, "user_id": 5586958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bfb8771459ceed79fa8502fbf9ce02c?s=128&d=identicon&r=PG&f=1", "display_name": "Lexi", "link": "https://stackoverflow.com/users/5586958/lexi"}, "edited": false, "score": 0, "creation_date": 1481138876, "post_id": 41025704, "comment_id": 69258667, "body": "Please read the help center. <a href=\"http://stackoverflow.com/help\">stackoverflow.com/help</a>"}, {"owner": {"reputation": 5975, "user_id": 187365, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CIlaX.jpg?s=128&g=1", "display_name": "Fran", "link": "https://stackoverflow.com/users/187365/fran"}, "edited": false, "score": 3, "creation_date": 1481138885, "post_id": 41025704, "comment_id": 69258670, "body": "why not do some research and check out the c# spec? specifically, section 1.6.6.4"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1481139126, "post_id": 41025704, "comment_id": 69258806, "body": "Only way it doesn&#39;t have an implementation is if it&#39;s <code>abstract</code>."}], "answers": [{"tags": [], "owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "is_accepted": false, "score": 1, "last_activity_date": 1481140682, "last_edit_date": 1481140682, "creation_date": 1481140021, "answer_id": 41026069, "question_id": 41025704, "link": "https://stackoverflow.com/questions/41025704/a-virtual-method-of-a-parent-class-has-its-own-implementation-body-block/41026069#41026069", "title": "A virtual method of a parent class has its own implementation body block?", "body": "<p>No, your answer is, in the general case, incorrect.</p>\n\n<p>In c# there are two(*) ways to declare a virtual method:</p>\n\n<pre><code>virtual Foo Method1()\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>abstract Foo Method2()\n</code></pre>\n\n<p>In the first case, it is mandatory that the method has its own implementation body block (or its own expression-bodied function member). In the second it's the contrary, it's mandatory that it doesn't. The former <em>may</em> be overridden in derived classes, the latter <em>must</em> be overridden in non abstract derived classes. Last, but not least, the great majority of virtual methods are of the former form.</p>\n\n<p>(*) purists might argue that interface members are also virtual methods (virtual final to be exact) but I'll ignore the issue as it doesn't change the answer.</p>\n"}], "owner": {"reputation": 11, "user_id": 7264152, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-W1dZEIPHl5s/AAAAAAAAAAI/AAAAAAAAABA/iJtuO9yhYj8/photo.jpg?sz=128", "display_name": "Zhandos Ainabek", "link": "https://stackoverflow.com/users/7264152/zhandos-ainabek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1481140682, "creation_date": 1481138719, "question_id": 41025704, "link": "https://stackoverflow.com/questions/41025704/a-virtual-method-of-a-parent-class-has-its-own-implementation-body-block", "title": "A virtual method of a parent class has its own implementation body block?", "body": "<p>Question of C# programming language.</p>\n\n<p>Question: \"A virtual method of a parent class has its own implementation body block\".\nMy answer: \"false\".</p>\n\n<p>Is my answer correct? If it is not, please explain me, guys.</p>\n"}, {"tags": ["c#", "dictionary", "umbraco", "umbraco7"], "comments": [{"owner": {"reputation": 4163, "user_id": 3968276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294d8aafc7c28a0bae99df972396cf73?s=128&d=identicon&r=PG", "display_name": "Petter Hesselberg", "link": "https://stackoverflow.com/users/3968276/petter-hesselberg"}, "edited": false, "score": 2, "creation_date": 1481140405, "post_id": 41025696, "comment_id": 69259491, "body": "A dictionary seems  weird choice of data structure. Do you plan to use the low end of a price range as a key to look up the value of the high end?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1049430"}, "reply_to_user": {"reputation": 4163, "user_id": 3968276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294d8aafc7c28a0bae99df972396cf73?s=128&d=identicon&r=PG", "display_name": "Petter Hesselberg", "link": "https://stackoverflow.com/users/3968276/petter-hesselberg"}, "edited": false, "score": 0, "creation_date": 1481140601, "post_id": 41025696, "comment_id": 69259622, "body": "It could very well be an odd choice Petter, I did not write the code, a friend of mine did as I&#39;m not strong in this. Would you recommend a different and better approach?"}, {"owner": {"reputation": 4163, "user_id": 3968276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294d8aafc7c28a0bae99df972396cf73?s=128&d=identicon&r=PG", "display_name": "Petter Hesselberg", "link": "https://stackoverflow.com/users/3968276/petter-hesselberg"}, "edited": false, "score": 0, "creation_date": 1481141220, "post_id": 41025696, "comment_id": 69260031, "body": "Any data structure that can store two values can represent the upper and lower bounds of price range. Thus a dictionary is possible, but really intended for a completely purpose. A list of custom class would be more natural. As your code stands, I don&#39;t see any products, and the question of whether a price range is empty makes no sense."}, {"owner": {"reputation": 4163, "user_id": 3968276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294d8aafc7c28a0bae99df972396cf73?s=128&d=identicon&r=PG", "display_name": "Petter Hesselberg", "link": "https://stackoverflow.com/users/3968276/petter-hesselberg"}, "edited": false, "score": 0, "creation_date": 1481141834, "post_id": 41025696, "comment_id": 69260425, "body": "&quot;really intended for a completely <i>different</i> purpose&quot;"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1481142431, "post_id": 41025696, "comment_id": 69260780, "body": "Your code is wrong.  Your range.Value is the upper price range (not the value).   Your dictionary should be new Dictionary&lt;KeyPairValue&lt;int, int&gt;, List&lt;decimal&gt;&gt;();"}], "owner": {"user_type": "does_not_exist", "display_name": "user1049430"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481138681, "creation_date": 1481138681, "question_id": 41025696, "link": "https://stackoverflow.com/questions/41025696/remove-empty-dictionary-entry", "title": "Remove empty Dictionary entry", "body": "<p>I'm trying to make a Price Range filter as you can <a href=\"http://roldskov.sp34k.dk/produkter/cykler/mountain-bikes/\" rel=\"nofollow noreferrer\">see live here</a>.\nIt's made in Umbraco 7.</p>\n\n<p>I would like to hide a price range IF there is NO products in the range.</p>\n\n<p>My code looks like this:</p>\n\n<pre><code>    string selectedpriceRange = queryString.Get(\"priceRange\");\n\n&lt;ul id=\"priceFilter\" class=\"section sidebarList\"&gt;\n    &lt;li @(String.IsNullOrEmpty(selectedpriceRange) ? currentClass : \"\")&gt;\n        &lt;a href=\"@CurrentPage.Url@queryStringBuilder(\"priceRange\", \"\")\"&gt;All prices&lt;/a&gt;\n    &lt;/li&gt;\n\n @{  var priceRanges = new Dictionary&lt;int, int&gt;();\n            priceRanges.Add(0, 4999);\n            priceRanges.Add(5000, 9999);\n            priceRanges.Add(10000, 14999);\n            priceRanges.Add(15000, 24999);\n            priceRanges.Add(25000, 34999);\n            priceRanges.Add(35000, 44999);\n            priceRanges.Add(45000, 54999);\n            priceRanges.Add(55000, 95000);\n        }\n        @foreach (KeyValuePair&lt;int, int&gt; range in priceRanges)\n        {\n            &lt;li&gt;\n                &lt;a href=\"@CurrentPage.Url@queryStringBuilder(\"priceRange\", string.Format(\"{0}-{1}\", range.Key, range.Value))\"&gt;\n                    @string.Format(\"{0} - {1}\", range.Key, range.Value)\n                &lt;/a&gt;\n            &lt;/li&gt;\n        }\n    &lt;/ul&gt;\n</code></pre>\n\n<p>I would like to think it's possible to add a <code>.where</code> or <code>Count</code> in the <code>new Dictionary</code> to see IF there is anything in that price range, but I'm not sure.</p>\n"}, {"tags": ["c#", "android", "json", "rest", "xamarin"], "answers": [{"tags": [], "owner": {"reputation": 3540, "user_id": 4236672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YdqOS.jpg?s=128&g=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/4236672/nitesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1481138689, "last_edit_date": 1495535411, "creation_date": 1481138689, "answer_id": 41025698, "question_id": 41025644, "link": "https://stackoverflow.com/questions/41025644/can-i-check-userlogin-username-and-password-with-a-rest-service-in-xamarin-andro/41025698#41025698", "title": "Can I check Userlogin Username and Password with a REST Service in Xamarin Android?", "body": "<p>Reference </p>\n\n<p><a href=\"https://developer.xamarin.com/guides/xamarin-forms/web-services/consuming/rest/\" rel=\"nofollow noreferrer\">https://developer.xamarin.com/guides/xamarin-forms/web-services/consuming/rest/</a></p>\n\n<p><a href=\"https://stackoverflow.com/posts/36460334/edit\">https://stackoverflow.com/posts/36460334/edit</a></p>\n\n<p><strong>From above link</strong>\nA simple example:</p>\n\n<pre><code>var client = new HttpClient();\nclient.BaseAddress = new Uri(\"localhost:8080\");\n\nstring jsonData = @\"{\"\"username\"\" : \"\"myusername\"\", \"\"password\"\" : \"\"mypassword\"\"}\"\n\nvar content = new StringContent (jsonData, Encoding.UTF8, \"application/json\");\nHttpResponseMessage response = await client.PostAsync(\"/foo/login\", content);\n\n// this result string should be something like: \"{\"token\":\"rgh2ghgdsfds\"}\"\nvar result = await response.Content.ReadAsStringAsync();\n</code></pre>\n\n<p>Where <code>\"/foo/login\"</code> will need to point to your HTTP resource.  For example, if you have an <code>AccountController</code> with a <code>Login</code> method, then instead of <code>\"/foo/login\"</code> you would use something like <code>\"/Account/Login\"</code>.</p>\n\n<p>You can use post service to send username and password in <code>RequestBody</code> in json formate and get the response from server for the same. </p>\n"}], "owner": {"reputation": 3273, "user_id": 1539865, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/dre6U.png?s=128&g=1", "display_name": "Tarasov", "link": "https://stackoverflow.com/users/1539865/tarasov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 609, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481138689, "creation_date": 1481138471, "question_id": 41025644, "link": "https://stackoverflow.com/questions/41025644/can-i-check-userlogin-username-and-password-with-a-rest-service-in-xamarin-andro", "title": "Can I check Userlogin Username and Password with a REST Service in Xamarin Android?", "body": "<p>hi i build a xamarin android application and have three activities for a loginsystemn. </p>\n\n<p>I want to use a REST Service for checking the Username and Password. </p>\n\n<p>What is the best way to check username and password in a mobile application and how make it? Can I use a REST Service for check the user data?</p>\n"}, {"tags": ["c#", "android", "xamarin", "xamarin.android", "android-camera"], "comments": [{"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1481143967, "post_id": 41025563, "comment_id": 69261614, "body": "Can someone tell me why I&#39;m not being clear? I am edit this further but I think I&#39;m pretty clear. I even added a photo of the visual indicator I want to draw."}, {"owner": {"reputation": 1, "user_id": 6891201, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0UKEP.jpg?s=128&g=1", "display_name": "jdmdevdotnet", "link": "https://stackoverflow.com/users/6891201/jdmdevdotnet"}, "edited": false, "score": 1, "creation_date": 1481144248, "post_id": 41025563, "comment_id": 69261805, "body": "I think this is an acceptable question, people on SO can be dicks though."}, {"owner": {"reputation": 25125, "user_id": 156755, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VYXRG.jpg?s=128&g=1", "display_name": "Basic", "link": "https://stackoverflow.com/users/156755/basic"}, "edited": false, "score": 0, "creation_date": 1481144286, "post_id": 41025563, "comment_id": 69261826, "body": "Looks fine to me too, and perfectly valid."}], "answers": [{"comments": [{"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1481313540, "post_id": 41053193, "comment_id": 69342989, "body": "Great minds think alike! I did the same thing as you yesterday to solve this problem. I can share my solution (albeit might not be as accurate as yours). I&#39;d love feedback on it. I&#39;ll share it a bit later :)"}, {"owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1481732565, "post_id": 41053193, "comment_id": 69497133, "body": "Grace, this part: &quot;sometimes when I tapped on TextureView, it will not fire the _textureView_Touch event, I didn&#39;t deep dig this problem&quot;. Do you have any ideas why this might be?"}, {"owner": {"reputation": 15856, "user_id": 5570139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NB8AN.jpg?s=128&g=1", "display_name": "Grace Feng", "link": "https://stackoverflow.com/users/5570139/grace-feng"}, "reply_to_user": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "edited": false, "score": 0, "creation_date": 1481764677, "post_id": 41053193, "comment_id": 69511669, "body": "@Euridice01, don&#39;t know, if we set <code>Image</code> to <code>ViewStates.Invisible</code>, it will still take the space, maybe I tapped on the image...Maybe we can try to change it to <code>ViewStates.Gone</code>."}], "tags": [], "owner": {"reputation": 15856, "user_id": 5570139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NB8AN.jpg?s=128&g=1", "display_name": "Grace Feng", "link": "https://stackoverflow.com/users/5570139/grace-feng"}, "is_accepted": true, "score": 1, "last_activity_date": 1481258258, "creation_date": 1481258258, "answer_id": 41053193, "question_id": 41025563, "link": "https://stackoverflow.com/questions/41025563/how-to-implement-visual-indicator-when-camera-is-focused/41053193#41053193", "title": "How to implement visual indicator when camera is focused", "body": "<blockquote>\n  <p>I already have autofocus implemented below on tap but I'm not sure how to draw the circle on focus and dismiss it when the view becomes unfocused as well keep redrawing it when the camera is focused.</p>\n</blockquote>\n\n<p>The picture you posted looks like a system camera to me, if using <code>Intent</code> to launch the system camera, I'm not sure it is possible to add a focus circle on the system's camera view. But I guess you possibly used a <code>SurfaceView</code> or <code>TextureView</code> to host camera by yourself.</p>\n\n<p>If so, for your scenario, I think the most simply method is to place a <code>ImageView</code> in your layout and change its Visibility and reset its <code>LayoutParameters</code> according to the camera focus state. The image source need to be a transparent one for example I used <a href=\"https://image-gr.s3.envato.com/files/87104622/Glass_spheres_8_transparent_p.jpg\" rel=\"nofollow noreferrer\">this one</a>. Then my layout is like so:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n  &lt;TextureView android:id=\"@+id/textureView\"\n               android:layout_height=\"match_parent\"\n               android:layout_width=\"match_parent\" /&gt;\n\n  &lt;Button android:id=\"@+id/take_photo\"\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"wrap_content\"\n        android:layout_alignParentBottom=\"true\"\n        android:layout_centerHorizontal=\"true\"\n        android:text=\"@string/takephoto\" /&gt;\n\n  &lt;ImageView android:id=\"@+id/focuscircle\"\n             android:layout_height=\"80dp\"\n             android:layout_width=\"80dp\"\n             android:layout_centerInParent=\"true\"\n             android:src=\"@drawable/FocusCircle\"\n             android:visibility=\"invisible\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>I've modified your code a little bit in order to make it meet my scenario using <code>TextureView</code>. here is the code to make the image visible when tap the screen:</p>\n\n<pre><code>private void _textureView_Touch(object sender, View.TouchEventArgs e)\n{\n    if (_camera != null)\n    {\n        var parameters = _camera.GetParameters();\n        _camera.CancelAutoFocus();\n        Rect focusRect = CalculateTapArea(e.Event.GetX(), e.Event.GetY(), 1f);\n\n        if (parameters.FocusMode != Android.Hardware.Camera.Parameters.FocusModeAuto)\n        {\n            parameters.FocusMode = Android.Hardware.Camera.Parameters.FocusModeAuto;\n        }\n        if (parameters.MaxNumFocusAreas &gt; 0)\n        {\n            List&lt;Area&gt; mylist = new List&lt;Area&gt;();\n            mylist.Add(new Android.Hardware.Camera.Area(focusRect, 1000));\n            parameters.FocusAreas = mylist;\n        }\n\n        try\n        {\n            _camera.CancelAutoFocus();\n            _camera.SetParameters(parameters);\n            _camera.StartPreview();\n            _camera.AutoFocus(new AutoFocusCallBack());\n\n            MarginLayoutParams margin = new MarginLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.WrapContent,\n            ViewGroup.LayoutParams.WrapContent));\n            margin.SetMargins(focusRect.Left, focusRect.Top,\n                focusRect.Right, focusRect.Bottom);\n            RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(margin);\n            layoutParams.Height = 200;\n            layoutParams.Width = 200;\n            _focusimg.LayoutParameters = layoutParams;\n            _focusimg.Visibility = ViewStates.Visible;\n        }\n        catch (System.Exception ex)\n        {\n            Console.WriteLine(ex.ToString());\n            Console.Write(ex.StackTrace);\n        }\n        //return true;\n    }\n    else\n    {\n        //return false;\n    }\n}\n</code></pre>\n\n<p>And to make it disappear you can code in the <code>success</code> state in <code>AutoFocusCallBack</code> like this:</p>\n\n<pre><code>if (success)\n{\n    Task.Delay(1000);\n    Activity1._focusimg.Visibility = ViewStates.Invisible;\n}\n</code></pre>\n\n<p>In order to make the <code>ImageView</code> accessible from <code>AutoFocusCallBack</code>, you can make it a static one in xamarin:</p>\n\n<pre><code>private Android.Hardware.Camera _camera;\nprivate TextureView _textureView;\n\npublic static ImageView _focusimg;\n\nprotected override void OnCreate(Bundle bundle)\n{\n    base.OnCreate(bundle);\n    SetContentView(Resource.Layout.Main);\n\n    _textureView = (TextureView)this.FindViewById(Resource.Id.textureView);\n    _textureView.SurfaceTextureListener = this;\n    _textureView.Touch += _textureView_Touch;\n\n    var tpBtn = (Button)this.FindViewById(Resource.Id.take_photo);\n    tpBtn.Click += TpBtn_Click;\n\n    _focusimg = (ImageView)this.FindViewById(Resource.Id.focuscircle);\n}\n</code></pre>\n\n<p>This works fine every time when it successfully set focus, but I found that sometimes when I tapped on <code>TextureView</code>, it will not fire the <code>_textureView_Touch</code> event, I didn't deep dig this problem.</p>\n\n<p>Another method I thought was to draw a circle dynamically on <code>Canvas</code> like you did in your code, it also worked, but I found my demo responses slow using this method, and I also didn't deep dig this issue. Anyway, I think the first method using a Image is simpler, if a demo is needed, please leave a comment.</p>\n"}], "owner": {"reputation": 2388, "user_id": 2039574, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0c31927b5d17a5c8297da615c9321aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Euridice01", "link": "https://stackoverflow.com/users/2039574/euridice01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 1, "accepted_answer_id": 41053193, "answer_count": 1, "score": 3, "last_activity_date": 1481258258, "creation_date": 1481138185, "last_edit_date": 1495539941, "question_id": 41025563, "link": "https://stackoverflow.com/questions/41025563/how-to-implement-visual-indicator-when-camera-is-focused", "title": "How to implement visual indicator when camera is focused", "body": "<p>I want to display a basic circle when the user focuses manually (tap to focus) for the camera page in my app. </p>\n\n<p>I already have autofocus implemented below on tap but I'm not sure how to draw the circle on focus and dismiss it when the view becomes unfocused as well keep redrawing it when the camera is focused. The indicator should not be part of the final photo, just as a guide to the user when the camera is focused or not. </p>\n\n<p>Here's what I have so far: </p>\n\n<pre><code>public class AutoFocusCallback : Java.Lang.Object, IAutoFocusCallback\n{\n    public void OnAutoFocus(bool success, Android.Hardware.Camera camera)\n    {\n        var parameters = camera.GetParameters();\n        var supportedFocusModes = parameters.SupportedFocusModes;\n\n        if (string.IsNullOrEmpty(parameters.FocusMode))\n        {\n            string focusModeContinuous = Android.Hardware.Camera.Parameters.FocusModeContinuousPicture;\n            string focusModeAuto = Android.Hardware.Camera.Parameters.FocusModeAuto;\n\n            if (supportedFocusModes != null &amp;&amp; supportedFocusModes.Any())\n            {\n                if (supportedFocusModes.Contains(focusModeContinuous))\n                {\n                    parameters.FocusMode = focusModeContinuous;\n                }\n                else if (supportedFocusModes.Contains(focusModeAuto))\n                {\n                    parameters.FocusMode = focusModeAuto;\n                }\n            }\n        }\n\n        if (supportedFocusModes != null &amp;&amp; supportedFocusModes.Any())\n        {\n            if (parameters.MaxNumFocusAreas &gt; 0)\n            {\n                parameters.FocusAreas = null; \n            }\n\n             if (success)\n             {\n                CameraPage cameraPage = new CameraPage();\n                Canvas canvas = new Canvas(); \n                cameraPage.Draw(canvas); \n            }\n            camera.SetParameters(parameters);\n            camera.StartPreview();\n        }\n    }\n}\n\npublic bool OnTouch(Android.Views.View v, MotionEvent e)\n{\n    if (camera != null)\n    {\n        var parameters = camera.GetParameters();\n        camera.CancelAutoFocus();\n        Rect focusRect = CalculateTapArea(e.GetX(), e.GetY(), 1f);\n\n        if (parameters.FocusMode != Android.Hardware.Camera.Parameters.FocusModeAuto)\n        {\n            parameters.FocusMode = Android.Hardware.Camera.Parameters.FocusModeAuto;\n        }\n        if (parameters.MaxNumFocusAreas &gt; 0)\n        {\n            List&lt;Area&gt; mylist = new List&lt;Area&gt;();\n            mylist.Add(new Android.Hardware.Camera.Area(focusRect, 1000));\n            parameters.FocusAreas = mylist;\n        }\n\n        try\n        {\n            camera.CancelAutoFocus();\n            camera.SetParameters(parameters);\n            camera.StartPreview();\n            camera.AutoFocus(new AutoFocusCallback());\n        }\n        catch (System.Exception ex)\n        {\n            Console.WriteLine(ex.ToString());\n            Console.Write(ex.StackTrace);\n        }\n        return true;\n    }\n    else\n    {\n        return false;\n    } \n}\n\nprivate Rect CalculateTapArea(object x, object y, float coefficient)\n{\n    var focusAreaSize = Math.Max(textureView.Width, textureView.Height) / 8; //Recommended focus area size from the manufacture is 1/8 of the image\n    int areaSize = focusAreaSize * (int)coefficient;\n\n    int left = clamp(Convert.ToInt32(x) - areaSize / 2, 0, textureView.Width - areaSize);\n    int top = clamp(Convert.ToInt32(y) - areaSize / 2, 0, textureView.Height - areaSize);\n\n    RectF rectF = new RectF(left, top, left + areaSize, top + areaSize);\n    Matrix.MapRect(rectF);\n\n    return new Rect((int)System.Math.Round(rectF.Left), (int)System.Math.Round(rectF.Top), (int)System.Math.Round(rectF.Right), (int)System.Math.Round(rectF.Bottom));\n}\n\nprivate int clamp(int x, int min, int max)\n{\n    if (x &gt; max)\n    {\n        return max;\n    }\n    if (x &lt; min)\n    {\n        return min;\n    }\n    return x;\n}\n\npublic override void Draw(Canvas canvas)\n{\n    base.Draw(canvas);\n    Paint p = new Paint();\n    p.Color = Android.Graphics.Color.White; \n    p.SetStyle(Paint.Style.Stroke);\n    p.StrokeWidth = 3; \n    canvas.DrawCircle(300, 300, 100, p);\n}\n</code></pre>\n\n<p>E.g. like in this picture: </p>\n\n<p><a href=\"https://i.stack.imgur.com/DFtxz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DFtxz.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is for my Xamarin.Forms Android app. </p>\n\n<p>EDIT: Here's a copy of the Android Source code for the camera but not sure where they're making the indicator: </p>\n\n<p><a href=\"https://android.googlesource.com/platform/packages/apps/Camera.git/+/refs/heads/marshmallow-release/src/com/android/camera\" rel=\"nofollow noreferrer\">https://android.googlesource.com/platform/packages/apps/Camera.git/+/refs/heads/marshmallow-release/src/com/android/camera</a></p>\n\n<p>Similar SO posts with no official answers: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/33095364/how-to-implement-tap-to-focus-indicator-in-android-camera\">How to implement tap to focus indicator in android camera?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33030736/implement-indicator-on-tap-to-focus-in-camera-android\">Implement indicator on tap to focus in camera [android]</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/40510161/android-camera-2-draw-circle-focus-area\">Android Camera2 - Draw circle focus area</a></p>\n\n<p>As you can see, multiple people have the same question but no answers! Please let me know if I'm still being unclear?</p>\n"}, {"tags": ["c#", "wpf", "parallel.foreach", "taskscheduler"], "comments": [{"owner": {"reputation": 174, "user_id": 6351747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614d5189d929fbbea20b73d6bec7258c?s=128&d=identicon&r=PG&f=1", "display_name": "Vyrira", "link": "https://stackoverflow.com/users/6351747/vyrira"}, "edited": false, "score": 0, "creation_date": 1481139688, "post_id": 41025517, "comment_id": 69259112, "body": "Are you sure the LoadProgress.Value is a decimal and not an integer?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 2, "creation_date": 1481139834, "post_id": 41025517, "comment_id": 69259180, "body": "Don&#39;t block the UI thread if you want the UI to actually be able to do things."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481142700, "post_id": 41025517, "comment_id": 69260931, "body": "you&#39;re not of creating a temporary in order to not use a closure doesn&#39;t actually involve you creating a temporary; you just continue to use the closure"}, {"owner": {"reputation": 2320, "user_id": 5062791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17ae265babf339cb720c6448cb671bf?s=128&d=identicon&r=PG&f=1", "display_name": "ColinM", "link": "https://stackoverflow.com/users/5062791/colinm"}, "edited": false, "score": 0, "creation_date": 1481145725, "post_id": 41025517, "comment_id": 69262619, "body": "<code>Parallel.ForEach</code> is a blocking action, it won&#39;t return until the loop is finished."}], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 6697723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc05443c714c0d271e7791db5c08829b?s=128&d=identicon&r=PG&f=1", "display_name": "teddy2", "link": "https://stackoverflow.com/users/6697723/teddy2"}, "edited": false, "score": 0, "creation_date": 1481142414, "post_id": 41026706, "comment_id": 69260769, "body": "why the down vote? Is something not correct or I am doing something horribly wrong? Please let me know."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481142504, "post_id": 41026706, "comment_id": 69260818, "body": "So you&#39;re scheduling a thread pool thread to schedule a thread pool thread to run a bunch of operations to schedule the UI (where you were from the start) thread to set a value.  That&#39;s just awful design.  And that&#39;s not even mentioning the invalid accessing of state from various thread pool threads in an unsynchronized manor, which is entirely unsafe."}, {"owner": {"reputation": 382, "user_id": 6697723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc05443c714c0d271e7791db5c08829b?s=128&d=identicon&r=PG&f=1", "display_name": "teddy2", "link": "https://stackoverflow.com/users/6697723/teddy2"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481142807, "post_id": 41026706, "comment_id": 69260979, "body": "OK. Thanks for the response. I am pretty new with C# and first attempt at tasks. Can you kindly advise the solution. Is it possible to update WPF progressbar from Parallel.ForEach?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481142929, "post_id": 41026706, "comment_id": 69261045, "body": "Your code isn&#39;t doing anything meaningful in the first place.  Providing a sensible implementation of code that sets a progress bar to a random value and then continues on isn&#39;t really a sensible thing to do to begin with."}, {"owner": {"reputation": 382, "user_id": 6697723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc05443c714c0d271e7791db5c08829b?s=128&d=identicon&r=PG&f=1", "display_name": "teddy2", "link": "https://stackoverflow.com/users/6697723/teddy2"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1481143337, "post_id": 41026706, "comment_id": 69261243, "body": "sure. will try to post more sensible example. thanks again."}], "tags": [], "owner": {"reputation": 382, "user_id": 6697723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc05443c714c0d271e7791db5c08829b?s=128&d=identicon&r=PG&f=1", "display_name": "teddy2", "link": "https://stackoverflow.com/users/6697723/teddy2"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142280, "last_edit_date": 1495540025, "creation_date": 1481142280, "answer_id": 41026706, "question_id": 41025517, "link": "https://stackoverflow.com/questions/41025517/wpf-progress-bar-update-in-parallel-foreach/41026706#41026706", "title": "WPF : Progress Bar update in Parallel.Foreach", "body": "<p>From this answer: <a href=\"https://stackoverflow.com/questions/30519430/using-task-with-parallel-foreach-in-net-4-0\">Using Task with Parallel.Foreach in .NET 4.0</a> and Servy's comment I got it working. </p>\n\n<pre><code> private  void Test_Click(object sender, RoutedEventArgs e)\n        {\n            test();\n\n         }\n\n        public async void test()\n        {\n            decimal current = 0;\n            List&lt;string&gt; lst = new List&lt;string&gt;();\n\n            lst.Add(\"Foo\");\n            lst.Add(\"Foo\");\n            lst.Add(\"Foo\");\n            lst.Add(\"Foo\");\n\n           decimal max = 10000;\n\n          //Remove await (and async from signature) if, want to see the message box rightway.  \n           await Task.Run(() =&gt; Parallel.ForEach(lst, (data) =&gt;\n            {\n                for (int i = 0; i &lt; max; i++)\n                {                                        \n                    current = current + 1;                    \n                    Dispatcher.Invoke(new Action(() =&gt; LoadProgress.Value = (double)(current / max) * 100));\n                }\n            }));\n\n            MessageBox.Show(\"Done!\");\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2320, "user_id": 5062791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17ae265babf339cb720c6448cb671bf?s=128&d=identicon&r=PG&f=1", "display_name": "ColinM", "link": "https://stackoverflow.com/users/5062791/colinm"}, "is_accepted": false, "score": 2, "last_activity_date": 1481153192, "last_edit_date": 1495540964, "creation_date": 1481148910, "answer_id": 41028360, "question_id": 41025517, "link": "https://stackoverflow.com/questions/41025517/wpf-progress-bar-update-in-parallel-foreach/41028360#41028360", "title": "WPF : Progress Bar update in Parallel.Foreach", "body": "<p>As pointed out in the comments, <code>Parallel.ForEach</code> does not return until the loop has completed which will block the thread it runs on, and the comments by Servy in your answer also say that you are accessing and changing state from various threads without synchronization or object locking (see <a href=\"https://stackoverflow.com/a/34550/5062791\">Race Conditions</a>).</p>\n\n<p>If you are unsure about the correct way to change state on the UI Thread then you can leave the framework do the work of capturing the context with <a href=\"https://msdn.microsoft.com/en-us/library/hh138298(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>IProgress&lt;T&gt;</code></a>.</p>\n\n<p>Regarding your answer, you can put the <code>async</code> keyword directly on the <code>Test_Click</code> event handler while keeping the return type <code>void</code>, but please bare in mind that void is not recommended or suggested for any other <code>async</code> methods and they should return a type of <code>Task</code> or <code>Task&lt;T&gt;</code>, <a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">read more here on why <code>async void</code> is a bad idea</a>.</p>\n\n<p>More to the point, here's a snippet making use of <code>async</code> and non-blocking code to report progress and update the progress bar, I have commented the code to be more readable.</p>\n\n<pre><code>// Add the async keyword to our event handler\nprivate async void Button_Click(object sender, RoutedEventArgs e)\n{\n    //Begin our Task\n    Task downloadTask = DownloadFile();\n\n    // Await the task\n    await downloadTask;\n}\n\nprivate async Task DownloadFile()\n{\n    // Capture the UI context to update our ProgressBar on the UI thread\n    IProgress&lt;int&gt; progress = new Progress&lt;int&gt;(i =&gt; { LoadProgress.Value = i; });\n    // Run our loop\n    for (int i = 0; i &lt; 100; i++)\n    {\n        int localClosure = i;\n        // Simulate work\n        await Task.Delay(1000);\n        // Report our progress\n        progress.Report((int)((double)localClosure / 100 * 100));\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 382, "user_id": 6697723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dc05443c714c0d271e7791db5c08829b?s=128&d=identicon&r=PG&f=1", "display_name": "teddy2", "link": "https://stackoverflow.com/users/6697723/teddy2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2601, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481153192, "creation_date": 1481138071, "last_edit_date": 1481139645, "question_id": 41025517, "link": "https://stackoverflow.com/questions/41025517/wpf-progress-bar-update-in-parallel-foreach", "title": "WPF : Progress Bar update in Parallel.Foreach", "body": "<p>I am trying to update the progress bar while running a <code>Parallel.Foreach</code>, but during execution nothing happens. Progressbar gets updated only when the For loop end. How can I make this code work?</p>\n\n<p><strong>XAML</strong></p>\n\n<pre><code> &lt;StackPanel&gt;\n        &lt;Grid x:Name=\"LoadProgressGrid\" Height=\"100\"                  \n                  Visibility=\"Visible\"&gt;\n            &lt;ProgressBar x:Name=\"LoadProgress\"\n                Maximum=\"100\"\n                Minimum=\"1\" /&gt;\n            &lt;TextBlock Margin=\"0,0,0,-5\"\n                HorizontalAlignment=\"Center\"\n                VerticalAlignment=\"Center\"\n                FontSize=\"16\"&gt;&lt;Run Text=\"Import Progress\"/&gt;&lt;/TextBlock&gt;   \n        &lt;/Grid&gt;\n        &lt;Button  Height=\"35\" Width=\"100\" Margin=\"0,10\" Content=\"Test\" Click=\"Test_Click\"/&gt;\n    &lt;/StackPanel&gt;\n</code></pre>\n\n<p><strong>C#</strong> </p>\n\n<pre><code> private void Test_Click(object sender, RoutedEventArgs e)\n        {\n              decimal current=0;  \n              List&lt;string&gt; lst = new List&lt;string&gt;();\n\n              lst.Add(\"Foo\");\n              lst.Add(\"Foo\");\n              lst.Add(\"Foo\");\n              lst.Add(\"Foo\");\n\n              decimal max = 100000;\n\n              var uiFactory = new TaskFactory(TaskScheduler.FromCurrentSynchronizationContext());\n\n              Parallel.ForEach(lst,  (data) =&gt;\n              {\n                for (int i = 0; i &lt; max; i++)\n                {\n                  // Use the uiFactory above:\n                  // Note the need for a temporary here to avoid closure issues!\n                  current = current + 1;\n                  uiFactory.StartNew( () =&gt; LoadProgress.Value = (double)(current/max)*100);\n                }\n              });\n\n\n              MessageBox.Show(\"Done!\");\n         }   \n</code></pre>\n"}, {"tags": ["c#", ".net", "generics", "hashset"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 3, "creation_date": 1481137660, "post_id": 41025352, "comment_id": 69258009, "body": "<code>Can I do this?</code> &lt;= no, the code you have shown here will not compile so no. A <code>foreach</code> loop that <code>yield</code>s a result has to be a part of a method body, it cant exist on its own in the class body."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1481137952, "post_id": 41025352, "comment_id": 69258165, "body": "<code>What do I need to do to use &lt;T&gt;?</code> &lt;= maybe a better question is would the change be worth it? There are a limited number of primitive sql types AND the SqlType does not have to allign with exactly 1 .net primitive type, usually the relationship depends on your model structure. Example: .net DateTime could map to Date, DateTime, or DateTime2. This might not be the best place to use a generic."}, {"owner": {"reputation": 1769, "user_id": 879997, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4c96ee08562add37a3a8923ff98d903f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/879997/andrew"}, "edited": false, "score": 1, "creation_date": 1481137981, "post_id": 41025352, "comment_id": 69258179, "body": "You could take the easy way out and have two generic parameters, one for the <code>HashSet</code> and one for the <code>SqlDbType</code>. Your class would look something like <code>SqlHashSet&lt;TManaged, TSql&gt;</code>. Alternatively, rewrite the code to not use this <code>SqlHashSet</code> and stick to the library types."}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "edited": false, "score": 0, "creation_date": 1481137984, "post_id": 41025352, "comment_id": 69258182, "body": "How is <code>T</code> used in this class? Is it only required by the <code>HashSet&lt;T&gt;</code> base class?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 1769, "user_id": 879997, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4c96ee08562add37a3a8923ff98d903f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/879997/andrew"}, "edited": false, "score": 0, "creation_date": 1481138049, "post_id": 41025352, "comment_id": 69258214, "body": "@AndrewPiliser - you cant use the value of <code>SqlDbType</code> as a generic parameter."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1481138269, "post_id": 41025352, "comment_id": 69258343, "body": "@Igor That is true, instead it would have to be passed in as a normal parameter to the constructor."}, {"owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1481139396, "post_id": 41025352, "comment_id": 69258945, "body": "@Igor - The actual code is on a locked down server (no copy/paste), so I may have accidentally included a typo but the actual code does compile.  Sorry!"}, {"owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "reply_to_user": {"reputation": 1769, "user_id": 879997, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4c96ee08562add37a3a8923ff98d903f?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/879997/andrew"}, "edited": false, "score": 0, "creation_date": 1481143836, "post_id": 41025352, "comment_id": 69261531, "body": "@AndrewPiliser - We will be rewriting the code in phase 2.  Right now, I&#39;m trying to work with someone else&#39;s mucked up code."}], "answers": [{"comments": [{"owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "edited": false, "score": 0, "creation_date": 1481146728, "post_id": 41025526, "comment_id": 69263093, "body": "Hey, once I got tangled in the SqlDbType and DbType I ended up using Lee&#39;s answer.  I still don&#39;t have it working quite right but I&#39;m going to have to give him the points.  Thank you for your help."}], "tags": [], "owner": {"reputation": 269390, "user_id": 98713, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f4acdb91aba11ddf8f03d4b12453f3d5?s=128&d=identicon&r=PG", "display_name": "Thomas Levesque", "link": "https://stackoverflow.com/users/98713/thomas-levesque"}, "is_accepted": false, "score": 1, "last_activity_date": 1481138402, "last_edit_date": 1481138402, "creation_date": 1481138096, "answer_id": 41025526, "question_id": 41025352, "link": "https://stackoverflow.com/questions/41025352/generically-typed-hashset/41025526#41025526", "title": "Generically typed HashSet", "body": "<p>(Note that the code you have posted doesn't compile; you can't write statements directly in a class, they have to be in a method)</p>\n\n<p>You can't create a truly generic class, because you need to use a different <code>SqlDbType</code> depending on the type of <code>T</code>. But if you don't mind doing something slightly ugly, you can do this:</p>\n\n<pre><code>public class SqlHashSet&lt;T&gt; : HashSet&lt;T&gt;, IEnumerable&lt;SqlDataRecord&gt;\n{\n    private static readonly SqlDbType _sqlDbType = GetSqlDbType();\n    private static SqlDbType GetSqlDbType()\n    {\n        if (typeof(T) == typeof(int))\n            return SqlDbType.Int;\n        if (typeof(T) == typeof(string))\n            return SqlDbType.String;\n\n        ...\n\n        throw new InvalidOperationException($\"Can't find the SqlDbType for {typeof(T)}\");\n    }\n\n    ...\n\n    SqlDataRecord ret = new SqlDataRecord(new SqlMetaData(\"value\", _sqlDbType));\n}\n</code></pre>\n\n<p>The approach suggested in Lee's answer is similar but a little cleaner, if you don't mind the drawback of having to create a separate class for each value type.</p>\n"}, {"comments": [{"owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "edited": false, "score": 0, "creation_date": 1481146869, "post_id": 41025543, "comment_id": 69263182, "body": "Once I got tangled in the SqlDbType and DbType I ended up using your answer.  I still don&#39;t have it working quite right.  Being completely new to SQL server code, this crap is hard!"}, {"owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "edited": false, "score": 0, "creation_date": 1481152719, "post_id": 41025543, "comment_id": 69265744, "body": "Hey, Lee:  I have to get this working or scrap it and go with ids.  I know somewhere in the history of the universe that somebody has got to have tried to send a table of strings to the sql server db.    I feel like this is very close.  In fact too close to turn back now.  I copied your code (word for word) but execution gets stuck in an infinite loop in SqlHashSetBase.  A little help, if you can."}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "reply_to_user": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "edited": false, "score": 1, "creation_date": 1481153620, "post_id": 41025543, "comment_id": 69266089, "body": "@Patricia - I think you&#39;ll have to implement <code>IEnumerable&lt;SqlDatatRecord&gt;</code> explicitly to stop it hiding <code>GetEnumerator()</code> from <code>HashSet&lt;T&gt;</code>. Then you can iterate over the items in the set instead of recursively calling <code>GetEnumerator</code>. See update."}, {"owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "edited": false, "score": 0, "creation_date": 1481155874, "post_id": 41025543, "comment_id": 69266843, "body": "OK - I get to the new SqlDataRecord(new SqlMetaData(&quot;value&quot;, this.DbType)) statement and I get the error &quot;The dbType NVarChar is invalid for this constructor."}, {"owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "reply_to_user": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "edited": false, "score": 1, "creation_date": 1481156588, "post_id": 41025543, "comment_id": 69267057, "body": "@Patricia - It looks like you have to use a different constructor of <code>SqlMetaData</code> for <code>string</code> where you pass the maximum length. Do all your string columns use the same max length? Otherwise you could add a lookup from column name =&gt; length if you know the columns in advance."}], "tags": [], "owner": {"reputation": 133611, "user_id": 152602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f370b4bd787fc68f9f62d9c6781cb79?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/152602/lee"}, "is_accepted": true, "score": 1, "last_activity_date": 1481153500, "last_edit_date": 1481153500, "creation_date": 1481138135, "answer_id": 41025543, "question_id": 41025352, "link": "https://stackoverflow.com/questions/41025352/generically-typed-hashset/41025543#41025543", "title": "Generically typed HashSet", "body": "<p>You can add a base class:</p>\n\n<pre><code>public abstract class SqlHashSetBase&lt;T&gt; : HashSet&lt;T&gt;, IEnumerable&lt;SqlDataRecord&gt;\n{\n    protected abstract SqlDbType DbType { get; }\n\n    IEnumerator&lt;SqlDataRecord&gt; IEnumerable&lt;SqlDataRecord&gt;.GetEnumerator()\n    {\n        SqlDataRecord ret = new SqlDataRecord(new SqlMetaData(\"value\", this.DbType));\n        foreach (T data in this)\n        {\n            ret.SetValue(0, data);\n            yield return ret;\n        }\n    }\n}\n</code></pre>\n\n<p>then change your existing class:</p>\n\n<pre><code>public class SqlHashSet : SqlHashSetBase&lt;int&gt; {\n    protected override SqlDbType DbType {\n        get { return SqlDbType.Int; }\n    }\n}\n</code></pre>\n\n<p>and add a new one:</p>\n\n<pre><code>public class SqlStringHashSet : SqlHashSetBase&lt;string&gt; {\n    protected override SqlDbType DbType {\n        get { return SqlDbType.NVarChar; }\n    }\n}\n</code></pre>\n\n<p>You might want to consider extracting the <code>T =&gt; SqlDbType</code> mapping into its own class and passing it as a parameter instead of using the abstract method. You might also want to consider using composition instead of inheriting directly from <code>HashSet&lt;T&gt;</code>.</p>\n"}], "owner": {"reputation": 4789, "user_id": 1735836, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/ee6KW.png?s=128&g=1", "display_name": "Patricia", "link": "https://stackoverflow.com/users/1735836/patricia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 41025543, "answer_count": 2, "score": -1, "last_activity_date": 1481153500, "creation_date": 1481137467, "last_edit_date": 1481137995, "question_id": 41025352, "link": "https://stackoverflow.com/questions/41025352/generically-typed-hashset", "title": "Generically typed HashSet", "body": "<p>I've found some information on this topic out there, but it's all been about typical classes\u2014I have no idea how to convert the class below to a generic version.</p>\n\n<p>I have inherited existing code that uses a SqlHashSet class to set integer values for parameters to the database.  It looks like this:</p>\n\n<pre><code>namespace Services\n{\n    public class SqlHashSet : HashSet&lt;int&gt;, IEnumerable&lt;SqlDataRecord&gt;\n    {\n        SqlDataRecord ret = new SqlDataRecord(new SqlMetaData(\"value\", SqlDbType.Int));       \n        foreach (var data in this)\n        {\n            ret.SetValue(0, data);\n            yield return ret;\n        }\n    }\n}\n</code></pre>\n\n<p>I must use SqlHashSet because of the structure of the code.  My problem is that I need a SqlHashSet of <strong>strings</strong>.</p>\n\n<p>I'm thinking maybe I can use <code>HashSet&lt;T&gt;</code> in the class declaration but then I also have to check if the value is of type SqlDbType.int or SqlDbType.VarChar</p>\n\n<p>So, my questions are:  </p>\n\n<ol>\n<li><p>Can I do this?</p></li>\n<li><p>What do I need to do to use <code>&lt;T&gt;</code>?</p></li>\n<li><p>Maybe there isn't a third question; maybe then I can step through the code once I have it working with a generic type and figure out how to determine the SqlDbType to set the value to.</p></li>\n</ol>\n"}, {"tags": ["c#", "entity-framework", "crud"], "answers": [{"comments": [{"owner": {"reputation": 731, "user_id": 5806893, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/IH52A.jpg?s=128&g=1", "display_name": "Vitalii Isaenko", "link": "https://stackoverflow.com/users/5806893/vitalii-isaenko"}, "edited": false, "score": 0, "creation_date": 1481138344, "post_id": 41025544, "comment_id": 69258385, "body": "thank you, but why this record is currently tracked by the context?"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 731, "user_id": 5806893, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/IH52A.jpg?s=128&g=1", "display_name": "Vitalii Isaenko", "link": "https://stackoverflow.com/users/5806893/vitalii-isaenko"}, "edited": false, "score": 0, "creation_date": 1481138688, "post_id": 41025544, "comment_id": 69258565, "body": "If the entity is currently tracked and you change some property, the entity&#39;s state should change to <code>Modified</code> due to the tracking change, but for that your entities should meet this <a href=\"https://msdn.microsoft.com/en-us/library/dd468057(v=vs.100).aspx\" rel=\"nofollow noreferrer\">requirements</a>"}, {"owner": {"reputation": 731, "user_id": 5806893, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/IH52A.jpg?s=128&g=1", "display_name": "Vitalii Isaenko", "link": "https://stackoverflow.com/users/5806893/vitalii-isaenko"}, "edited": false, "score": 0, "creation_date": 1481139744, "post_id": 41025544, "comment_id": 69259133, "body": "I read the chapter before and maybe really misunderstood something but the question is still here. If I follow the requirements do all entities are tracked autmatically? My example shows that newly added object is already someway tracked by the context, so why should I use <code>Attach()</code>? And why that new object is tracked? Thank you for explaining, maybe I dig too deep."}, {"owner": {"reputation": 174, "user_id": 6351747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614d5189d929fbbea20b73d6bec7258c?s=128&d=identicon&r=PG&f=1", "display_name": "Vyrira", "link": "https://stackoverflow.com/users/6351747/vyrira"}, "reply_to_user": {"reputation": 731, "user_id": 5806893, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/IH52A.jpg?s=128&g=1", "display_name": "Vitalii Isaenko", "link": "https://stackoverflow.com/users/5806893/vitalii-isaenko"}, "edited": false, "score": 2, "creation_date": 1481140684, "post_id": 41025544, "comment_id": 69259685, "body": "@VitaliiIsaenko Why that new object is tracked? Because when you call <code>ctx.Entry(record)</code> the DbContext will automatically Find or Create your entity and Attach it to the context."}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 1, "creation_date": 1481141495, "post_id": 41025544, "comment_id": 69260198, "body": "Exactly, you don&#39;t need to use <code>Attach</code> method in that scenario."}, {"owner": {"reputation": 2662, "user_id": 102062, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/250820af7dfced537a72618462a3daf0?s=128&d=identicon&r=PG", "display_name": "Sujay Ghosh", "link": "https://stackoverflow.com/users/102062/sujay-ghosh"}, "edited": false, "score": 0, "creation_date": 1607674154, "post_id": 41025544, "comment_id": 115351468, "body": "For saving a list of class objects, then can we do it without attaching."}], "tags": [], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "is_accepted": true, "score": 33, "last_activity_date": 1550688223, "last_edit_date": 1550688223, "creation_date": 1481138135, "answer_id": 41025544, "question_id": 41025338, "link": "https://stackoverflow.com/questions/41025338/why-use-attach-for-update-entity-framework-6/41025544#41025544", "title": "Why use Attach for update Entity Framework 6?", "body": "<p>If you have an entity that you know already exists in the database but which is not currently being tracked by the context - which is true in your case - then you can tell the context to track the entity using the <code>Attach</code> method on <code>DbSet</code>. \nSo in summary  what <code>Attach</code> method does is track the entity in the context and change its state  to <strong><code>Unchanged</code></strong>. When you modify a property after that, the tracking changes will change its state to <strong><code>Modified</code></strong> for you.\nIn the case you expose above you are telling explicitly that state is <strong><code>Modified</code></strong> but also to attach the entity to your context. You can find a detailed explanation in this <a href=\"https://stackoverflow.com/questions/30987806/dbset-attachentity-vs-dbcontext-entryentity-state-entitystate-modified\">post</a>.</p>\n\n<p><strong>When should you use <code>Attach</code> method?</strong></p>\n\n<p>When you have an entity that you know already exists in the database but want to make some changes:</p>\n\n<pre><code>var entity= new Entity{id=1};\ncontext.YourDbSet.Attach(entity); \n\n// Do some change...  \nentity.value=5;\n\ncontext.SaveChanges(); \n</code></pre>\n\n<p>This is the same:</p>\n\n<pre><code> context.Entry(entity).State = EntityState.Unchanged; \n\n// Do some change... \nentity.value=5; \n\ncontext.SaveChanges(); \n</code></pre>\n\n<p><strong>When should you change entity's State to Modified explicitly?</strong></p>\n\n<p>When you have an entity that you know already exists in the database but the changes have already been made then. The same scenario of your example</p>\n"}], "owner": {"reputation": 731, "user_id": 5806893, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/IH52A.jpg?s=128&g=1", "display_name": "Vitalii Isaenko", "link": "https://stackoverflow.com/users/5806893/vitalii-isaenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28048, "favorite_count": 4, "accepted_answer_id": 41025544, "answer_count": 1, "score": 16, "last_activity_date": 1550688223, "creation_date": 1481137422, "last_edit_date": 1481137768, "question_id": 41025338, "link": "https://stackoverflow.com/questions/41025338/why-use-attach-for-update-entity-framework-6", "title": "Why use Attach for update Entity Framework 6?", "body": "<p>While searching for the best practivies of performing CRUD operation via EF I noticed that it is highly recommended to use <code>Attach()</code> or <code>Find()</code> methods before updating an entity. It works well and according to EF documentation these methods fetch the entity to context that is quite clear for me. But the followind code confused me pretty much</p>\n\n<pre><code>public void Update(object entity)\n{\n    Record record = new Record() {\n        id = 1,\n        value = 5\n    };\n    using (SomeContext ctx = new SomeContext())\n    {\n        ctx.Entry(record).State = EntityState.Modified;\n        ctx.SaveChanges();\n    }\n}\n</code></pre>\n\n<p>Assume we have a record with id = 1 in database. On this condition the code above will update the record (set the value to 5). The question is why it works? And then why should I use <code>Attach()</code>?. As far as I understand the record wasn't attached to context in any way. I read relevant chapters of <a href=\"https://rads.stackoverflow.com/amzn/click/com/1449312969\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">this</a> book and <a href=\"http://www.entityframeworktutorial.net/EntityFramework4.3/update-entity-using-dbcontext.aspx\" rel=\"noreferrer\">the tutorial</a> but they use 2-query-approach. Also I surfed SO but didn't find answer on my question. Help me with explanation or some good matherials, please. </p>\n"}, {"tags": ["c#", "xml", "parsing", "xamarin", "xamarin.android"], "comments": [{"owner": {"reputation": 5006, "user_id": 2250405, "user_type": "registered", "profile_image": "https://graph.facebook.com/506605151/picture?type=large", "display_name": "Yuri S", "link": "https://stackoverflow.com/users/2250405/yuri-s"}, "edited": false, "score": 0, "creation_date": 1481140621, "post_id": 41025325, "comment_id": 69259638, "body": "please provide file you are trying to parse. What errors you are getting?"}, {"owner": {"reputation": 10428, "user_id": 5610850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpulC.jpg?s=128&g=1", "display_name": "Elvis Xia - MSFT", "link": "https://stackoverflow.com/users/5610850/elvis-xia-msft"}, "edited": false, "score": 0, "creation_date": 1481271506, "post_id": 41025325, "comment_id": 69318498, "body": "Could you please debug it and check if the path is correct?"}], "owner": {"reputation": 53, "user_id": 5712797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e509906bed6a5baf06a87de1c866d09?s=128&d=identicon&r=PG&f=1", "display_name": "Mian", "link": "https://stackoverflow.com/users/5712797/mian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481143119, "creation_date": 1481137390, "last_edit_date": 1481143119, "question_id": 41025325, "link": "https://stackoverflow.com/questions/41025325/xml-file-not-parsing-in-xamarin", "title": "xml file not parsing in xamarin #", "body": "<p>I am trying to parse xml file in Xamarin C# for android app, but <code>XDocument</code> and some other errors are occuring and I am new to Xamarin. How can I parse xml file using C# in Xamarin ?</p>\n\n<pre><code>void button_click(object sender, EventArgs e)\n        {\n            var mobilePath= Android.OS.Environment.ExternalStorageDirectory.Path;\n            var xmlFilePath = Path.Combine(mobilePath,\"/DCIM/epub/OEBPS/content.opf\");\n            var builder = new StringBuilder();\n\n            if (File.Exists(xmlFilePath))\n            {\n                builder.AppendLine(\"Ids of files\");\n\n                XDocument doc = XDocument.Load(xmlFilePath);\n                foreach (XmlElement element in doc.Root.Elements(\"manifest\"))\n\n                {\n                }\n\n            }\n        }\n</code></pre>\n"}, {"tags": ["c#", "mysql", ".net", "database", "entity-framework"], "comments": [{"owner": {"reputation": 511, "user_id": 2615282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03f00934a75bd36ed9ea067d3035210?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2615282/steve"}, "edited": false, "score": 0, "creation_date": 1481137866, "post_id": 41025316, "comment_id": 69258117, "body": "Load the entire tags table at once and keep it updated in memory as you are adding images."}, {"owner": {"reputation": 1275, "user_id": 4892666, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ee7e8f086b9455e036359ef23215b914?s=128&d=identicon&r=PG&f=1", "display_name": "Reynevan", "link": "https://stackoverflow.com/users/4892666/reynevan"}, "reply_to_user": {"reputation": 511, "user_id": 2615282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03f00934a75bd36ed9ea067d3035210?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2615282/steve"}, "edited": false, "score": 0, "creation_date": 1481138331, "post_id": 41025316, "comment_id": 69258375, "body": "With <code>pc.Tags.ToList()</code>, or something like that? How would that prevent the duplicates from being updated, though?"}, {"owner": {"reputation": 511, "user_id": 2615282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03f00934a75bd36ed9ea067d3035210?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2615282/steve"}, "edited": false, "score": 0, "creation_date": 1481139246, "post_id": 41025316, "comment_id": 69258863, "body": "You said you have to check for duplicate tags constantly, which i assume means, that you have to go to the database to check if it exists every time you add an image. I&#39;m saying before adding images, retrieve all Tags that exist and use that to check for duplicates. This saves you a database trip every time you want to add a row."}, {"owner": {"reputation": 1275, "user_id": 4892666, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ee7e8f086b9455e036359ef23215b914?s=128&d=identicon&r=PG&f=1", "display_name": "Reynevan", "link": "https://stackoverflow.com/users/4892666/reynevan"}, "reply_to_user": {"reputation": 511, "user_id": 2615282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03f00934a75bd36ed9ea067d3035210?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2615282/steve"}, "edited": false, "score": 1, "creation_date": 1481139423, "post_id": 41025316, "comment_id": 69258959, "body": "Thanks. I tested that and it indeed works well when I just add all new tags to the local list instead of saving them to the database directly. It works here on my local PC, where I have ~1000 tags, but I&#39;m not sure how this will work with the actual DB, where there&#39;s ~20k tags."}, {"owner": {"reputation": 1275, "user_id": 4892666, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ee7e8f086b9455e036359ef23215b914?s=128&d=identicon&r=PG&f=1", "display_name": "Reynevan", "link": "https://stackoverflow.com/users/4892666/reynevan"}, "reply_to_user": {"reputation": 511, "user_id": 2615282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03f00934a75bd36ed9ea067d3035210?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2615282/steve"}, "edited": false, "score": 0, "creation_date": 1481139453, "post_id": 41025316, "comment_id": 69258969, "body": "Right now the increase in performance is huge :D"}, {"owner": {"reputation": 511, "user_id": 2615282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a03f00934a75bd36ed9ea067d3035210?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2615282/steve"}, "edited": false, "score": 0, "creation_date": 1481139556, "post_id": 41025316, "comment_id": 69259037, "body": "In that case, if you have a problem loading all tags, then make sure that the Tags table has an index on the Name column, so that searching for it will be much faster. Given how slow it is, i think you may be missing the index."}], "owner": {"reputation": 1275, "user_id": 4892666, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ee7e8f086b9455e036359ef23215b914?s=128&d=identicon&r=PG&f=1", "display_name": "Reynevan", "link": "https://stackoverflow.com/users/4892666/reynevan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481137348, "creation_date": 1481137348, "question_id": 41025316, "link": "https://stackoverflow.com/questions/41025316/how-do-i-make-adding-rows-to-mysql-with-entityframework-faster", "title": "How do I make adding rows to MySQL with EntityFramework faster?", "body": "<p>I have a <code>SaveQueue()</code> task which I use for saving images to the database:</p>\n\n<pre><code>async Task SaveQueue()\n{\n    for (;;)\n    {\n        try\n        {\n            await Task.Delay(7500);\n            dbUpload.Visibility = Visibility.Visible;\n            dbUploadProgress.Value = 0;\n            var q = new ObservableCollection&lt;Picture&gt;(manager.Queue.ToList().AsEnumerable());\n            manager.Queue.Clear();\n            var imgcount = q.Count();\n            using (var pc = new PicsContext())\n            {\n                for (int i = 0; i &lt; imgcount; i++)\n                {\n                    var tags = q[i].GetTags();\n                    try\n                    {\n                        pc.Sites.Attach(q[i].Site); // I'm actually not sure how to use this. \n                    }\n                    catch { }\n                    var curUrl = q[i].Url;\n                    if (pc.Pictures.FirstOrDefault(o =&gt; o.Url == curUrl) != null)\n                    {\n                        await Task.Delay(1);\n                        dbUploadProgress.Value = (i + 1) / (double)imgcount;\n                        dbUploadText.Text = \"Skipping images...\";\n                        continue;\n                    }\n                    foreach (var t in tags)\n                    {\n                        var tag = pc.Tags.Where(o =&gt; o.Name == t).FirstOrDefault();\n                        if (tag == null)\n                        {\n                            tag = new ViewModel.Tag(t);\n                        }\n                        q[i].Tags.Add(tag);\n                    }\n                    pc.Pictures.Add(q[i]);\n                    try\n                    {\n                        await pc.SaveChangesAsync();\n                    }\n                    catch { }\n                    dbUploadProgress.Value = (i + 1) / (double)imgcount;\n                    var labelText = string.Format(\"{0}/{1} ({2:0.00}%)\", i, imgcount, dbUploadProgress.Value);\n                    dbUploadText.Text = labelText;\n#if DEBUG\n                    System.Diagnostics.Debug.WriteLine(labelText);\n#endif\n                    await Task.Delay(2);\n                }\n            }\n            q.Clear();\n            MainWindow.AddLog(string.Format(\"Saved {0} pictures.\", imgcount));\n            dbUpload.Visibility = Visibility.Collapsed;\n            await Task.Delay(1500);\n        }\n        catch(Exception ex) { AddLog(ex.Message); if (ex.InnerException != null) AddLog(ex.InnerException.Message); }\n        if (stopped)\n            break;\n    }\n}\n</code></pre>\n\n<p>It usually saves around 80-100images/min, which isn't really acceptable because in most scenarios the <code>Queue</code>stores 2500-10000 objects. That makes it really inconvenient to use.</p>\n\n<p>Am I correct in assuming that it happens because I'm saving each row separately? It also takes a while to check if the tag exists in the <code>Tags</code> table. </p>\n\n<p>The reason why I'm doing it like this is the fact that I have to check for image tags constantly. I have to make sure that the tag isn't there already, because if there is and I add it, it throws <code>Duplicate</code> Exception and the image is not saved. This also means that I have to save the previous post's data before I check if tags exist, otherwise it might not detect the tags that were just added, add them multiple times and the same outcome occurs. </p>\n\n<p>Is there any way to make it automatically save tags that aren't in the DB and just make it point to these that are? That would mean I can save the entire list at once, instead of sending each image separately.</p>\n\n<p>Also, I'm using another context to add <code>Site</code>s to the DB. When I try to add some images with this task it throws an error that the Site is already in the db. For some reason it kept trying to insert the site each time I was adding the <code>Image</code>. Adding the <code>.Attach()</code> call solved this issue partially, but I'm not sure how it works. I know I'm doing something wrong because it ocassionally throws an exception and doesn't attach the site of the image. How can I optimize it?</p>\n\n<p>Thank you for reading, cheers!</p>\n"}, {"tags": ["c#", "machine-learning"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 850193, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/dca9bae19084806f46bdab2b8ca21925?s=128&d=identicon&r=PG", "display_name": "Bagaboo", "link": "https://stackoverflow.com/users/850193/bagaboo"}, "edited": false, "score": 0, "creation_date": 1508780628, "post_id": 41025314, "comment_id": 80737934, "body": "I did the EXACT same thing just now. Thank you for reporting back with your finding."}], "tags": [], "owner": {"reputation": 167, "user_id": 3363022, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/597d1fdde2affb3d3b96bb6d40867cc7?s=128&d=identicon&r=PG&f=1", "display_name": "woofwoof", "link": "https://stackoverflow.com/users/3363022/woofwoof"}, "is_accepted": false, "score": 3, "last_activity_date": 1562916014, "last_edit_date": 1562916014, "creation_date": 1481137348, "answer_id": 41025314, "question_id": 41025186, "link": "https://stackoverflow.com/questions/41025186/why-am-i-getting-a-outofrangeexception-when-running-backpropagation-with-accord/41025314#41025314", "title": "Why am I getting a OutofRangeException when running BackPropagation with Accord.NET?", "body": "<p>And of course it was immediately after posting this question that I realized that my network would have to reflect the number of outputs, and that was set to 10. I am very sorry for disturbing this fantastic community.</p>\n"}], "owner": {"reputation": 167, "user_id": 3363022, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/597d1fdde2affb3d3b96bb6d40867cc7?s=128&d=identicon&r=PG&f=1", "display_name": "woofwoof", "link": "https://stackoverflow.com/users/3363022/woofwoof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1562916014, "creation_date": 1481136888, "question_id": 41025186, "link": "https://stackoverflow.com/questions/41025186/why-am-i-getting-a-outofrangeexception-when-running-backpropagation-with-accord", "title": "Why am I getting a OutofRangeException when running BackPropagation with Accord.NET?", "body": "<p>I am messing with the different deep learning algorithms in Accord.NET. I decided to do this with spectra data I had lying around. I PCA transform the data so that it is reduced to 10 data points, using Accord's statistics toolbox.  then follow the tutorial to the letter:</p>\n\n<pre><code>// Setup the deep belief network and initialize with random weights.\n        DeepBeliefNetwork network = new DeepBeliefNetwork(transformedInputs.First().Length, 10, 10);\n        new GaussianWeights(network, 0.1).Randomize();\n        network.UpdateVisibleWeights();\n\n        // Setup the learning algorithm.\n        DeepBeliefNetworkLearning teacher = new DeepBeliefNetworkLearning(network)\n        {\n            Algorithm = (h, v, i) =&gt; new ContrastiveDivergenceLearning(h, v)\n            {\n                LearningRate = 0.1,\n                Momentum = 0.5,\n                Decay = 0.001,\n            }\n        };\n\n        // Setup batches of input for learning.\n        int batchCount = Math.Max(1, transformedInputs.Length / 100);\n        // Create mini-batches to speed learning.\n        int[] groups = Accord.Statistics.Tools.RandomGroups(transformedInputs.Length, batchCount);\n        double[][][] batches = transformedInputs.Subgroups(groups);\n        // Learning data for the specified layer.\n        double[][][] layerData;\n\n        // Unsupervised learning on each hidden layer, except for the output layer.\n        for (int layerIndex = 0; layerIndex &lt; network.Machines.Count - 1; layerIndex++)\n        {\n            teacher.LayerIndex = layerIndex;\n            layerData = teacher.GetLayerInput(batches);\n            for (int i = 0; i &lt; 200; i++)\n            {\n                double error = teacher.RunEpoch(layerData) / transformedInputs.Length;\n                if (i % 10 == 0)\n                {\n                    Console.WriteLine(i + \", Error = \" + error);\n                }\n            }\n        }\n\n        // Supervised learning on entire network, to provide output classification.\n        var teacher2 = new BackPropagationLearning(network)\n        {\n            LearningRate = 0.1,\n            Momentum = 0.5\n        };\n\n\n        // Run supervised learning.\n        for (int i = 0; i &lt; 500; i++)\n        {\n            double error = teacher2.RunEpoch(transformedInputs, output: outputs);\n            if (i % 10 == 0)\n            {\n                Console.WriteLine(i + \", Error = \" + error);\n            }\n        }\n</code></pre>\n\n<p>I checked the inputted data and it is in the correct double[][] format fr both inputs and outputs. I also checked the original app:<a href=\"https://github.com/primaryobjects/deep-learning\" rel=\"nofollow noreferrer\">https://github.com/primaryobjects/deep-learning</a>\nAnd that worked perfectly, so I am struggling to see what simply changing the inputted data is messing up so much. Any help would be greatly appreciated. The error I am getting is:</p>\n\n<pre><code>An unhandled exception of type 'System.IndexOutOfRangeException' occurred in Accord.Neuro.dll\n</code></pre>\n\n<p>Additional information: Index was outside the bounds of the array.</p>\n"}, {"tags": ["c#", "xaml", "uwp", "win-universal-app", "uwp-xaml"], "answers": [{"tags": [], "owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "is_accepted": false, "score": 1, "last_activity_date": 1481148133, "creation_date": 1481148133, "answer_id": 41028186, "question_id": 41024939, "link": "https://stackoverflow.com/questions/41024939/does-updatelayout-update-all-child-elements-as-well/41028186#41028186", "title": "Does UpdateLayout update all child elements as well?", "body": "<p>The layout system is inherently recursive. In order for a Button to auto-size itself according to its content, it needs its child elements (i.e. typically a TextBlock label) to be measured first, and <em>those</em> child elements may need their children measured too, and so on.</p>\n\n<p>When you create a new UIElement, its layout is initially invalidated (or \"dirty\"). This means the element is marked as \"needs to be laid out during the next layout cycle\" -- the layout system will skip elements that are not marked as dirty as an optimization (layout is expensive especially for complex visual trees).</p>\n\n<p>When you add a child element to a panel, the panel invalidates itself because the size or position of the panel may be affected by its children (true for StackPanel and Grid, but not so for Canvas, I imagine).</p>\n\n<p>It's important to understand that layout operations are batched. Since the layout pass is an expensive operation, it is optimal to defer it until a time when no more updates to elements have occurred. Imagine if you added 100 items to a ListView, then instead of performing 100 layout updates each time, it will perform only 1 update at some point after the 100 items were added to the list.</p>\n\n<p>Anyway, back to your question, calling UpdateLayout will <em>immediately</em> layout any invalidated elements within the subtree rooted at the element which UpdateLayout was called instead of waiting until the deferred layout pass.</p>\n\n<p>It's interesting that the documentation says</p>\n\n<blockquote>\n  <p>UpdateLayout is basically equivalent to calling InvalidateMeasure and InvalidateArrange in sequence.</p>\n</blockquote>\n\n<p>but it appears that it doesn't actually invalidate the layout of the element is was called on, instead it just forces an immediate update of already invalidated elements (but that's just my observation). They're using \"basically\" very loosely here.</p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481148133, "creation_date": 1481136071, "question_id": 41024939, "link": "https://stackoverflow.com/questions/41024939/does-updatelayout-update-all-child-elements-as-well", "title": "Does UpdateLayout update all child elements as well?", "body": "<p><strong>tl;dr</strong> When adding children to an element - will the children's layouts be updated when calling <code>theParent.UpdateLayout();</code> ? </p>\n\n<p><strong>Longer version</strong></p>\n\n<p>I need to call <code>UpdateLayout</code> on an element to get some information about its child's properties.</p>\n\n<pre><code>theParent.Children.Add(child);\ntheParent.UpdateLayout();\n</code></pre>\n\n<p>As far as I can see by my testing, it seems like an element's children's children are also updated. i.e. UpdateLayout is recursive. However, checking the documentation <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.uielement.updatelayout\" rel=\"nofollow noreferrer\">UIElement.UpdateLayout</a>  I don't see that mentioned which I would expect it to. Additionally, because the documentation discourages us from using this method unless absolutely necessary, mentioning some optimizations, I'm worried that testing here is not the way to go - every case might be different. So in conclusion - is it guaranteed that <code>UpdateLayout</code> is recursive?</p>\n"}, {"tags": ["c#", "visual-studio", ".net-core", "azure-functions"], "answers": [{"comments": [{"owner": {"reputation": 448, "user_id": 5669476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/30117476/picture?type=large", "display_name": "Dakota Kincer", "link": "https://stackoverflow.com/users/5669476/dakota-kincer"}, "edited": false, "score": 0, "creation_date": 1481140402, "post_id": 41025972, "comment_id": 69259488, "body": "Added the reference as you stated and checked my NetStandard is 1.6 This is the error im currently receiving: A ScriptHost error has occurred Exception while executing function: Functions.TimerTriggerCSharp. mscorlib: Exception has been thrown by the target of an invocation. f-TimerTriggerCSharp__1128197424: Could not load file or assembly &#39;System.Runtime, Version=4.1.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a&#39; or one of its dependencies. The system cannot find the file specified."}, {"owner": {"reputation": 11333, "user_id": 1177901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMxOK.jpg?s=128&g=1", "display_name": "Fabio Cavalcante", "link": "https://stackoverflow.com/users/1177901/fabio-cavalcante"}, "reply_to_user": {"reputation": 448, "user_id": 5669476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/30117476/picture?type=large", "display_name": "Dakota Kincer", "link": "https://stackoverflow.com/users/5669476/dakota-kincer"}, "edited": false, "score": 0, "creation_date": 1481140753, "post_id": 41025972, "comment_id": 69259732, "body": "You&#39;ll need to either ensure the dependencies (dlls) are deployed with your library your that you add a package reference to <code>System.Runtime</code>(<a href=\"https://www.nuget.org/packages/System.Runtime/\" rel=\"nofollow noreferrer\">nuget.org/packages/System.Runtime</a>), but those dependencies need to be brought in (that&#39;s the nature of .NET Core apps) as they&#39;re not part of the framework. I&#39;ll update the answer to remove the built in assembly reference as that is indeed not applicable in this particular case. Also, you&#39;ll need to target Netstandard 1.3 or below when running on functions. Fixing that above as well it wasn&#39;t clear."}, {"owner": {"reputation": 448, "user_id": 5669476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/30117476/picture?type=large", "display_name": "Dakota Kincer", "link": "https://stackoverflow.com/users/5669476/dakota-kincer"}, "edited": false, "score": 1, "creation_date": 1481227754, "post_id": 41025972, "comment_id": 69303412, "body": "Im marking this as the answer. If anyone else has this issue it turns out that you need to reinstall Visual Studios and make sure to remove references to previous versions. Visual studio had a corrupt devenv and other issues. After installing a fresh copy it worked perfect and like Fabio stated. Thank you!"}], "tags": [], "owner": {"reputation": 11333, "user_id": 1177901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMxOK.jpg?s=128&g=1", "display_name": "Fabio Cavalcante", "link": "https://stackoverflow.com/users/1177901/fabio-cavalcante"}, "is_accepted": true, "score": 0, "last_activity_date": 1481140840, "last_edit_date": 1481140840, "creation_date": 1481139705, "answer_id": 41025972, "question_id": 41024934, "link": "https://stackoverflow.com/questions/41024934/using-custom-dlls-in-azure-function-visual-studio-preview/41025972#41025972", "title": "Using Custom Dlls in Azure Function Visual Studio Preview", "body": "<p>Dakota,</p>\n\n<p>Dependencies would usually be deployed/referenced with a .NET Core application or library, typically by referencing the appropriate NuGet packages. So you'll need to either reference the required packages or copy your assembly's dependencies into the same folder.</p>\n\n<p>Also, it seems like it was the case, but please make sure your .NET Core library targets, at most, Netstandard 1.3.</p>\n\n<p>I hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5970684, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DTW6gm-E7G4/AAAAAAAAAAI/AAAAAAAAZOY/Zth9R5AIPws/photo.jpg?sz=128", "display_name": "Kevin Holbrook", "link": "https://stackoverflow.com/users/5970684/kevin-holbrook"}, "is_accepted": false, "score": 0, "last_activity_date": 1516657739, "creation_date": 1516657739, "answer_id": 48390795, "question_id": 41024934, "link": "https://stackoverflow.com/questions/41024934/using-custom-dlls-in-azure-function-visual-studio-preview/48390795#48390795", "title": "Using Custom Dlls in Azure Function Visual Studio Preview", "body": "<p>Similar issue here referencing my custom class library from a C# function, initial error was: </p>\n\n<p>\"The type 'Attribute' is defined in an assembly that is not referenced. You must add a reference to assembly 'netstandard, Version=2.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51\"</p>\n\n<p>The issue was that I was targeting NetStandard 2.0 in my project (by default), and once I downgraded to 1.3 it worked. </p>\n"}], "owner": {"reputation": 448, "user_id": 5669476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/30117476/picture?type=large", "display_name": "Dakota Kincer", "link": "https://stackoverflow.com/users/5669476/dakota-kincer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2032, "favorite_count": 0, "accepted_answer_id": 41025972, "answer_count": 2, "score": 1, "last_activity_date": 1516657739, "creation_date": 1481136050, "question_id": 41024934, "link": "https://stackoverflow.com/questions/41024934/using-custom-dlls-in-azure-function-visual-studio-preview", "title": "Using Custom Dlls in Azure Function Visual Studio Preview", "body": "<p>How do you import a custom class library into an Azure Function in Visual Studio? I have currently built the class library and added it to the bin folder in the Azure Function project. I added the reference to the class in the run.csx.</p>\n\n<p>run.csx:</p>\n\n<pre><code>#r \"../bin/ClassLibrary1.dll\"\n\nusing System;\nusing ClassLibrary1;\n\npublic static void Run(TimerInfo myTimer, TraceWriter log)\n{\n     log.Info($\"C# Timer trigger function executed at: {DateTime.Now}\");\n     dynamic class1 = new Class1();\n}\n</code></pre>\n\n<p>This throws an error after the function sets up the timer stating its missing System.Runtime. I've attempted to add System.Runtime but have had no luck. The class library is .net core, but I will also be referencing a .net 4.6 class library</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3813, "user_id": 6290553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZvOsJ.jpg?s=128&g=1", "display_name": "Raktim Biswas", "link": "https://stackoverflow.com/users/6290553/raktim-biswas"}, "edited": false, "score": 0, "creation_date": 1481136209, "post_id": 41024926, "comment_id": 69257161, "body": "Put your code under the <code>CheckedChanged</code> event."}, {"owner": {"reputation": 3330, "user_id": 5684370, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/17e28adec94010c4a5b5a21af7b15745?s=128&d=identicon&r=PG", "display_name": "ganchito55", "link": "https://stackoverflow.com/users/5684370/ganchito55"}, "edited": false, "score": 1, "creation_date": 1481136246, "post_id": 41024926, "comment_id": 69257181, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2361085/how-to-control-the-visibility-of-a-textbox-with-radio-button-ischecked-propert\">How to control the Visibility of a textbox with radio button &quot;IsChecked&quot; property?</a>"}, {"owner": {"reputation": 39, "user_id": 7254352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/23608fbe69af6d837f283d5edea87036?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Brown", "link": "https://stackoverflow.com/users/7254352/joshua-brown"}, "edited": false, "score": 0, "creation_date": 1481136386, "post_id": 41024926, "comment_id": 69257274, "body": "Thanks for the replys but .CheckedChanged didn&#39;t seem to solve the problem."}, {"owner": {"reputation": 39, "user_id": 7254352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/23608fbe69af6d837f283d5edea87036?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Brown", "link": "https://stackoverflow.com/users/7254352/joshua-brown"}, "edited": false, "score": 0, "creation_date": 1481136599, "post_id": 41024926, "comment_id": 69257398, "body": "I&#39;ve solved the problem, thank you so much for all your help you guys! &lt;3"}], "answers": [{"tags": [], "owner": {"reputation": 8949, "user_id": 3270427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8nv26.jpg?s=128&g=1", "display_name": "McNets", "link": "https://stackoverflow.com/users/3270427/mcnets"}, "is_accepted": false, "score": 1, "last_activity_date": 1481136688, "creation_date": 1481136688, "answer_id": 41025123, "question_id": 41024926, "link": "https://stackoverflow.com/questions/41024926/radiobutton-hide-lbl-and-txt-box-based-on-selection/41025123#41025123", "title": "RadioButton - hide lbl and txt box based on selection", "body": "<p>You're using .Enabled property instead of .Visible property.</p>\n\n<pre><code>if(rbn1.Checked == true)\n{\n    lblR.Visible = false;\n    txtR.Visible = false;\n    Re = (input * 2 + inputW * 2);\n    lblRe.Text = Math.Round(Re, 2).ToString();\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7254352, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/23608fbe69af6d837f283d5edea87036?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Brown", "link": "https://stackoverflow.com/users/7254352/joshua-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481208139, "creation_date": 1481136020, "last_edit_date": 1481208139, "question_id": 41024926, "link": "https://stackoverflow.com/questions/41024926/radiobutton-hide-lbl-and-txt-box-based-on-selection", "title": "RadioButton - hide lbl and txt box based on selection", "body": "<pre><code>if(rbn1.Checked == true)\n{\n    lblR.Enabled = false;\n    txtR.Enabled = false;\n    Re = (input * 2 + inputW * 2);\n    lblRe.Text = Math.Round(Re, 2).ToString();\n}\n</code></pre>\n\n<p>This is the current code I have, but when I run the program and select the rbn1, it does not seem to hide the lblR and txtR.  All help is appretiated, thanks!</p>\n"}, {"tags": ["c#", "idisposable"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1481135981, "post_id": 41024911, "comment_id": 69257015, "body": "If it implements IDispose, dispose it. You got the thing from a query, which is to say, you called a method that created the object for you. It&#39;s all yours."}], "answers": [{"tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 2, "last_activity_date": 1481141832, "last_edit_date": 1481141832, "creation_date": 1481136715, "answer_id": 41025131, "question_id": 41024911, "link": "https://stackoverflow.com/questions/41024911/should-i-dispose-eventrecords-from-a-eventlogreader/41025131#41025131", "title": "Should I dispose EventRecords from a EventLogReader?", "body": "<p>If it implements <code>IDispose</code>, dispose of it before it leaves the scope where it was created -- unless you plan to keep it around for a while for some particular reason. And calling <code>EventLogReader.ReadEvent()</code> is the kind of thing you should presume qualify as creation unless MSDN says otherwise (I checked -- it doesn't). </p>\n\n<p>\"Unless you plan to keep it around for a while\" is why <code>logReader</code> should be deeply reluctant to dispose of the objects it created for you: It just can't know what you plan to do with them, so it should leave the decision up to you. It's not a bad idea to check MSDN if in doubt, but it would be strange if <code>EventLogReader.Dispose()</code> disposed of the query results as well. If you look at <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.eventing.reader.eventlogrecord(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>EventLogRecord</code> in MSDN</a>, it doesn't say anything about the subject, so just take <code>IDispose</code> as a suggestion to call <code>Dispose()</code> on the thing when <em>you</em> are done with it. </p>\n"}], "owner": {"reputation": 243, "user_id": 909936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96ae9bc6da7b140c871704ad7b385850?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/909936/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 41025131, "answer_count": 1, "score": 1, "last_activity_date": 1481141832, "creation_date": 1481135954, "question_id": 41024911, "link": "https://stackoverflow.com/questions/41024911/should-i-dispose-eventrecords-from-a-eventlogreader", "title": "Should I dispose EventRecords from a EventLogReader?", "body": "<p>Should dispose be called on the events that come back from the ReadEvent method of EventLogQuery?</p>\n\n<pre><code>        var eventLogQuery = new EventLogQuery(\"application\", PathType.LogName) ;\n        using (var logReader = new EventLogReader(eventLogQuery))\n        {\n            var eventInstance = logReader.ReadEvent();\n            while (eventInstance != null)\n            {\n                eventInstance.Dispose();  //Should this be done?  Or is this not ours to dispose?\n                eventInstance = logReader.ReadEvent();\n            }\n        }\n</code></pre>\n\n<p>Should my code call a dispose on eventInstance?  Or is that something else's job?</p>\n"}, {"tags": ["c#", "xaml"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1481145070, "post_id": 41024755, "comment_id": 69262271, "body": "You want to show multiple images in a single Image control? That doesn&#39;t make sense."}, {"owner": {"reputation": 3073, "user_id": 3523670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FdHDs.png?s=128&g=1", "display_name": "Nahuel Ianni", "link": "https://stackoverflow.com/users/3523670/nahuel-ianni"}, "edited": false, "score": 0, "creation_date": 1481185285, "post_id": 41024755, "comment_id": 69276769, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/27417263/what-to-use-to-pick-multiple-files-media-files-and-retrieve-them-in-a-storagef\">What to Use to Pick Multiple files (Media files) and retrieve them in a StorageFile collection at custom/desired index?</a>"}], "owner": {"reputation": 1, "user_id": 7263886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c4dPG.png?s=128&g=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/7263886/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481135398, "creation_date": 1481135398, "question_id": 41024755, "link": "https://stackoverflow.com/questions/41024755/how-to-open-or-pick-multiple-images-in-windows-store-with-pickmultiplefilesasync", "title": "How to open or pick multiple images in windows store with PickMultipleFilesAsync() using c#?", "body": "<p>I'm trying to pick <strong>multiple</strong> images (from any folder) and show them in imagebox. I have to use IReadOnlyStream&lt;> and foreach loop but how?\nThe logic of my code is </p>\n\n<p>`           FileOpenPicker fileOpenPicker = new FileOpenPicker();</p>\n\n<pre><code>        private async void button_Click(object sender, RoutedEventArgs e)\n        {\n        fileOpenPicker.SuggestedStartLocation = PickerLocationId.Desktop;\n        fileOpenPicker.ViewMode = PickerViewMode.Thumbnail;\n        fileOpenPicker.FileTypeFilter.Add(\".png\");\n        fileOpenPicker.FileTypeFilter.Add(\".jpg\");\n        fileOpenPicker.FileTypeFilter.Add(\".jpeg\");\n        fileOpenPicker.FileTypeFilter.Add(\".bmp\");\n        StorageFile file = await fileOpenPicker.PickSingleMultipleAsync(); \n        if(file != null)\n        {\n            textBlock.Text = file.Name;\n            IRandomAccessStream fileStream = await file.OpenAsync(FileAccessMode.ReadWrite);\n            BitmapImage bmp = new BitmapImage();\n            bmp.SetSource(fileStream);\n            image1.Source = bmp;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481135229, "post_id": 41024647, "comment_id": 69256546, "body": "You need a <code>for</code> loop. Or a regex."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1481135244, "post_id": 41024647, "comment_id": 69256551, "body": "The part of the code that&#39;s <i>complicated</i> is the part you&#39;re not showing/glossing over. How are you going to check a string whose value changes 30 times per second? Is this code in a method that you&#39;re calling each time the string changes? If so, the <code>checker</code> value will need to be <code>static</code> or raised to a higher scope."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6860589"}, "edited": false, "score": 0, "creation_date": 1481135362, "post_id": 41024647, "comment_id": 69256622, "body": "this code is inside a timer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6860589"}, "edited": false, "score": 0, "creation_date": 1481135464, "post_id": 41024647, "comment_id": 69256685, "body": "Do you think putting the current string into an array of string and compare them is the best way? There should be a better implementation."}], "answers": [{"comments": [{"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1481135855, "post_id": 41024829, "comment_id": 69256950, "body": "It checks whether the list gathered enough data (X strings) and then using LINQ it checks whether all the strings in the list are equal (we could check it by comparing all the strings with first one)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6860589"}, "edited": false, "score": 0, "creation_date": 1481136063, "post_id": 41024829, "comment_id": 69257069, "body": "good implementation. and short code. THis should work. Thanks ;)"}], "tags": [], "owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "is_accepted": true, "score": 0, "last_activity_date": 1481135663, "creation_date": 1481135663, "answer_id": 41024829, "question_id": 41024647, "link": "https://stackoverflow.com/questions/41024647/comparing-rapidly-changing-string-values-to-find-frequent-occurrences/41024829#41024829", "title": "Comparing rapidly-changing string values to find frequent occurrences", "body": "<p>To make the code generic for any given X, you should keep last X strings and check whether all they are equal, e.g.:</p>\n\n<pre><code>    List&lt;string&gt; list = new List&lt;string&gt;();\n    if (list.Count &gt;= X)\n    {\n        list.RemoveAt(0);\n    }\n    list.Add(newString);\n\n    return list.Count &gt;= X &amp;&amp; list.Any(s =&gt; s == list[0]);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1481135960, "post_id": 41024878, "comment_id": 69257009, "body": "The list of strings should be rolled, new strings (over X) should displace old, so that only X last strings are checked."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6860589"}, "edited": false, "score": 0, "creation_date": 1481135974, "post_id": 41024878, "comment_id": 69257014, "body": "Thx this is good i think. Do you know a better way to put the received string s into the s_list without creating multiple ifs and else ifs and incrementing the checker?"}, {"owner": {"reputation": 2251, "user_id": 3904557, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/928c5b4c34236a636b37f4cbd2b43253?s=128&d=identicon&r=PG", "display_name": "Ryan Pergent", "link": "https://stackoverflow.com/users/3904557/ryan-pergent"}, "reply_to_user": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1481136325, "post_id": 41024878, "comment_id": 69257233, "body": "@CodeFuller Tiago is obviously at a beginner level. I know 10 other ways to do this better; this is about making it in a way that he can understand."}], "tags": [], "owner": {"reputation": 2251, "user_id": 3904557, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/928c5b4c34236a636b37f4cbd2b43253?s=128&d=identicon&r=PG", "display_name": "Ryan Pergent", "link": "https://stackoverflow.com/users/3904557/ryan-pergent"}, "is_accepted": false, "score": -1, "last_activity_date": 1481135832, "creation_date": 1481135832, "answer_id": 41024878, "question_id": 41024647, "link": "https://stackoverflow.com/questions/41024647/comparing-rapidly-changing-string-values-to-find-frequent-occurrences/41024878#41024878", "title": "Comparing rapidly-changing string values to find frequent occurrences", "body": "<p>I assume s_list is an array where you store all the generations of the string</p>\n\n<pre><code>string s;\nstring[] s_list;\n\n// Your logic that would generate s and store it in s_list\n// ...\n// ...\n\nint required_amount = 10; // whatever X amount you want\nint current_sequence = 0;\n\n// It's important to start at 1, and not 0,\n// as you compare to the previous entry each time\nfor(int i = 1; i &lt; s_list.Lenght; i++ )\n{\n   if( s_list[i] == s_list[i-1] )\n   {\n     current_sequence++;\n     if(current_sequence &gt;= required_amount)\n     {\n       return 1;\n     }\n   }\n   else\n   {\n     current_sequence = 0;\n   }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6860589"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 41024829, "answer_count": 2, "score": 0, "last_activity_date": 1481135832, "creation_date": 1481135044, "last_edit_date": 1481135412, "question_id": 41024647, "link": "https://stackoverflow.com/questions/41024647/comparing-rapidly-changing-string-values-to-find-frequent-occurrences", "title": "Comparing rapidly-changing string values to find frequent occurrences", "body": "<p>My problem should be quite simple. I have a random generated string that changes multiple times per second. I want to return 1  <strong>if it appears x times consecutively</strong>.</p>\n\n<p>My current code:</p>\n\n<pre><code>string s; //this is the generated string\nint checker = 0;\nstring[] s_list = null;\n\nif( cheaker == 0)\n{\ns_list[0] = s;\n}\nelse if( cheaker == 1)\n{\ns_list[1] = s;\n}\nchecker++;\n\nif(s_list[0] == s_list[1])  return 1;\n</code></pre>\n\n<p>My problem is that I want to be able to change the amount of x times if appears and like this it will generate tons of code if the x is too big.</p>\n\n<p><strong>Do you think putting the current string into an array of string and compare them is the best way? There should be a better implementation.</strong></p>\n"}, {"tags": ["c#", "unit-testing", "system.reactive"], "comments": [{"owner": {"reputation": 808, "user_id": 2615836, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Oryma.jpg?s=128&g=1", "display_name": "Codes with Hammer", "link": "https://stackoverflow.com/users/2615836/codes-with-hammer"}, "edited": false, "score": 0, "creation_date": 1481135934, "post_id": 41024624, "comment_id": 69256989, "body": "I thought Moq can mock a private property. What am I misremembering?"}, {"owner": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "reply_to_user": {"reputation": 808, "user_id": 2615836, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Oryma.jpg?s=128&g=1", "display_name": "Codes with Hammer", "link": "https://stackoverflow.com/users/2615836/codes-with-hammer"}, "edited": false, "score": 0, "creation_date": 1481136193, "post_id": 41024624, "comment_id": 69257149, "body": "@CodeswithHammer That would be ideal. Perhaps I&#39;m missing some functionality there? I&#39;ll dig into the api docs."}, {"owner": {"reputation": 12904, "user_id": 415661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8faea52abcef0df40f92cb1f115d0e62?s=128&d=identicon&r=PG", "display_name": "Shlomo", "link": "https://stackoverflow.com/users/415661/shlomo"}, "edited": false, "score": 0, "creation_date": 1481136820, "post_id": 41024624, "comment_id": 69257526, "body": "What&#39;s the downside/code-smell to constructor-injecting <code>processedMessages</code>?"}, {"owner": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "reply_to_user": {"reputation": 12904, "user_id": 415661, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8faea52abcef0df40f92cb1f115d0e62?s=128&d=identicon&r=PG", "display_name": "Shlomo", "link": "https://stackoverflow.com/users/415661/shlomo"}, "edited": false, "score": 0, "creation_date": 1481137041, "post_id": 41024624, "comment_id": 69257667, "body": "@shlomo By default it&#39;s just an empty observable. It should never be populated at construction time. By exposing that property publicly it allows for the possibility that someone could supply arbitrary messages as &quot;processed&quot; which would then be sent off for deletion. While that shouldn&#39;t happen, I&#39;d rather not allow it to if it&#39;s avoidable."}], "answers": [{"tags": [], "owner": {"reputation": 10035, "user_id": 393615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29828e99e466aeac081e2f2fea5bf125?s=128&d=identicon&r=PG", "display_name": "Lee Campbell", "link": "https://stackoverflow.com/users/393615/lee-campbell"}, "is_accepted": true, "score": 1, "last_activity_date": 1481611839, "creation_date": 1481611839, "answer_id": 41115161, "question_id": 41024624, "link": "https://stackoverflow.com/questions/41024624/how-do-i-unit-test-a-public-method-which-utilizes-a-private-property/41115161#41115161", "title": "How do I unit test a public method which utilizes a private property?", "body": "<p>Your senses serve you well. I think in this case you can revert to guidance I find useful of \"Test your boundaries\" (Udi Dahan, but cant find the reference).</p>\n\n<p>It seems that you can input message (via an Observable Sequence) and that as a side effect you will eventually delete these messages from the Client. So it seems that your test should read something like </p>\n\n<ul>\n<li>\"Given an EventProcessor, When 10 Messages are Processed, Then the Events are deleted from the client\"</li>\n<li>\"Given an EventProcessor, When 5 Messages are Processed in 30s, Then the Events are deleted from the client\"</li>\n</ul>\n\n<p>So instead of testing this small part of the pipe that somehow knows about <code>this.processedMessages</code> (where did that instance come from?), test the chain. But this doesn't mean you need to create a massive unusable chain. Just create enough of the chain to make it testable.</p>\n\n<p>Providing more of the code base would also help, e.g. where does <code>this.processedMessages</code> &amp; <code>client.Value</code> come from? This is probably key and at a guess applying a more functional approach might help?</p>\n"}], "owner": {"reputation": 4393, "user_id": 3691973, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/iytIc.jpg?s=128&g=1", "display_name": "Necoras", "link": "https://stackoverflow.com/users/3691973/necoras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 41115161, "answer_count": 1, "score": 0, "last_activity_date": 1481611839, "creation_date": 1481134948, "question_id": 41024624, "link": "https://stackoverflow.com/questions/41024624/how-do-i-unit-test-a-public-method-which-utilizes-a-private-property", "title": "How do I unit test a public method which utilizes a private property?", "body": "<p>I have a class which is basically a pipeline. It processes messages and then deletes them in batches. In order to do this the <code>ProcessMessage()</code> method doesn't directly delete messages; it adds them to a private <code>Observable&lt;IMessage&gt;()</code>. I then have another public method which watches that observable and deletes the messages en masse.</p>\n\n<p>That results in code similar to:</p>\n\n<pre><code>public void CreateDeletionObservable(int interval = 30, int messageCount = 10)\n{\n    this.processedMessages.Buffer(TimeSpan.FromSeconds(interval), messageCount).Subscribe(observer =&gt;\n    {\n        client.Value.DeleteMessages(observer.ToList());\n    });\n}\n</code></pre>\n\n<p>The problem is that my unit test doesn't have a value for <code>processedMessages</code>. I can't provide a moq'd value as it's private. I don't need to test what values are in processedMessages; I just need for them to exist in order to test that method's behavior. Specifically I need to test that my observable will continue running if an exception is thrown (that logic isn't in the code yet). As I see it I have a few options:</p>\n\n<p>1) Refactor my class to use a single monster observable chain with a single entry point and a few exits (success, error, retry, etc.). This <em>would</em> avoid the use of private properties to pass collections around between public methods. However, that chain would be extremely difficult to parse much less unit test. I don't believe that making my code less readable and testable is a viable option.</p>\n\n<p>2) Modify my <code>CreateDeletionObservable</code> method to accept a test list of Messages:</p>\n\n<pre><code>    public void CreateDeletionObservable(int interval = 30, int messageCount = 10, IObservable&lt;IMessage&gt; processedMessages = null)\n</code></pre>\n\n<p>That would allow me to supply stubbed data for the method to use, but it's a horrible code smell. A variation on this is to inject that Observable at the constructor level, but that's no better. Possibly worse.</p>\n\n<p>3) Make <code>processedMessages</code> public. </p>\n\n<p>4) Don't test this functionality. </p>\n\n<p>I don't like any of these options, but I'm leaning towards 2; injecting a list for testing purposes. Is there an option I'm missing here?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq"], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 2461203, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KWGj5.gif?s=128&g=1", "display_name": "ragerory", "link": "https://stackoverflow.com/users/2461203/ragerory"}, "is_accepted": false, "score": 0, "last_activity_date": 1481137382, "creation_date": 1481137382, "answer_id": 41025321, "question_id": 41024556, "link": "https://stackoverflow.com/questions/41024556/how-to-manage-roles-and-queries/41025321#41025321", "title": "How to manage roles and queries?", "body": "<p>I think you're looking for something like this...</p>\n\n<pre><code>var rolesForUser = await userManager.GetRolesAsync(currentUser);\nProduct product;\n\nif (rolesForUser.Contains(\"Admin\"))\n{\n    product = _dbContext.Products.Where(x.ProductId == productId);\n}\nelse\n{\n    product = _dbContext.Products.Where(x =&gt; x.UserId == currentUser &amp;&amp; x.ProductId == productId);\n}\n</code></pre>\n"}], "owner": {"reputation": 330, "user_id": 2910983, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/JN7bk.png?s=128&g=1", "display_name": "Afsaneh", "link": "https://stackoverflow.com/users/2910983/afsaneh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481137382, "creation_date": 1481134719, "last_edit_date": 1481135488, "question_id": 41024556, "link": "https://stackoverflow.com/questions/41024556/how-to-manage-roles-and-queries", "title": "How to manage roles and queries?", "body": "<p>I am creating an admin panel with 4 roles. Admin has permission to all data. Organizer role has access to his data. and 3rd role has access to those data that organizer allows. and 4rth Role has access that 3rth role allows. </p>\n\n<p>In CRUD operation I gets current user Id using this code:</p>\n\n<pre><code>var currentUser = Guid.Parse(Thread.CurrentPrincipal.Identity.GetUserId());\n</code></pre>\n\n<p>and passed this Id to data access layer. If current user is the owner of desired entity, then CRUD operation will act.\nIn data access leyer I checkes if current user Id matches UserId of the entity then it lets do the operation:</p>\n\n<pre><code> var product=_dbContext.Products.Where(x=&gt;x.UserId==currentUser &amp;&amp; x.ProductId== productId);\n</code></pre>\n\n<p>But I want Admin be able to do these operations too. I know that I can write multiple methods to do same operation based on current user Role. But is there any cleaner solution to do?</p>\n\n<p>For example Organizers can edit a product with id=1, because he is the owner of that product with id =1. But I want, Also Admin be able to edit product with id=1. </p>\n"}, {"tags": ["c#", "performance", "entity-framework", "linq", "asp.net-web-api"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 3, "creation_date": 1481134921, "post_id": 41024531, "comment_id": 69256367, "body": "<code>If I run the equivalent SQL command in SQL Server studio</code> &lt;= so its not the equivalent otherwise you would have the same time. You should profile your Sql Server instance to get the actual executed quer(ies). Use that as your benchmark because that is what is being run. If the generated query is not wrong then you need to re-examine your code. If it just runs slow you need to examine your table and/or index structure using the <code>Execution Plan</code> as a guide."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1481135252, "post_id": 41024531, "comment_id": 69256556, "body": "Try rewriting the query such that you left join to the <code>Amounts</code> table instead of using a subquery."}, {"owner": {"reputation": 1091, "user_id": 335577, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8a0c0c4652a1a0020082d87c19fe870c?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/335577/keith"}, "edited": false, "score": 0, "creation_date": 1481136011, "post_id": 41024531, "comment_id": 69257033, "body": "The problem is that you are executing a correlated subquery! LINQ will execute a SEPARATE query for each row to get this data resulting in a LOT of round trips. MSFT hasn&#39;t made any improvements to the LINQ2SQL query optimizer in years, I have never tried this so I do not know if EF LINQ would have the same issue or not. When I have had to do something similar, I have either written a single query to do it, or if that is not easy, I have written two queries and then join the result sets in memory (Linq2Objects) and generated my resulting objects"}, {"owner": {"reputation": 680, "user_id": 3596020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FBAQn.jpg?s=128&g=1", "display_name": "sski", "link": "https://stackoverflow.com/users/3596020/sski"}, "edited": false, "score": 0, "creation_date": 1481136368, "post_id": 41024531, "comment_id": 69257265, "body": "Firstly thank you all for the immediate response. I have tried two options. Firstly on the above linq query just changing FirstOrDefault() to just First() it performed better dropping from 20secs execution to 8secs. I cant understand the reason although. Secondly I tried juharr&#39;s comment, and instead of the subquery I used a GroupJoin to the Amounts table...This performed better to 4,5 secs!"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1481136912, "post_id": 41024531, "comment_id": 69257588, "body": "Couldn&#39;t  the subquery just be <code>_db.Amounts.Where(p =&gt; p.PrId == e.PrId ).Sum(p =&gt; p.AmountPaid) ?? 0M</code>.  You also don&#39;t need the <code>Group By</code> in the SQL."}, {"owner": {"reputation": 11474, "user_id": 1195056, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pe03k.jpg?s=128&g=1", "display_name": "krillgar", "link": "https://stackoverflow.com/users/1195056/krillgar"}, "edited": false, "score": 0, "creation_date": 1481137305, "post_id": 41024531, "comment_id": 69257821, "body": "&quot;I can&#39;t understand the reason&quot;. Set up a log on your DbContext and have it write the executed SQL to your Debug console. Take a look at the queries in different states, and learn what the EF parser is doing differently in each scenario."}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1481139402, "post_id": 41024531, "comment_id": 69258947, "body": "Man, I wouldn&#39;t want to join your dev team and support this query. Look for simpler ways or just write it in SQL, a sproc, or something."}, {"owner": {"reputation": 202, "user_id": 4712061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4E3br.jpg?s=128&g=1", "display_name": "Rijas Kb", "link": "https://stackoverflow.com/users/4712061/rijas-kb"}, "edited": false, "score": 0, "creation_date": 1481177491, "post_id": 41024531, "comment_id": 69273020, "body": "Plinq can provide more and much performance than the Linq. This is much faster than ordinary approach. The efficient way is to invoke a stored procedure through entity framework."}], "owner": {"reputation": 680, "user_id": 3596020, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FBAQn.jpg?s=128&g=1", "display_name": "sski", "link": "https://stackoverflow.com/users/3596020/sski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1481134957, "creation_date": 1481134622, "question_id": 41024531, "link": "https://stackoverflow.com/questions/41024531/very-slow-performance-on-linq-subquery", "title": "Very slow performance on LINQ subquery", "body": "<p>I am facing a performance issue when doing a LINQ subquery in C#.\nThe query is as follows:</p>\n\n<pre><code>var _result = _db.Prices\n            .Join(_db.Vendors,\n            e =&gt; e.VendorId,\n            v =&gt; v.VendorId,\n            (e, v) =&gt; new {\n                TotalPrice = e.TotalPrice,     \n                Vendor = v.Title,               \n                AmountPaid = _db.Amounts\n                    .Where(p =&gt; p.PrId == e.PrId )\n                    .GroupBy(p =&gt; p.PrId )\n                    .Select(grp =&gt; (decimal?)grp.Sum(k =&gt; k.AmountPaid) ?? 0M)    \n                    .FirstOrDefault()  \n            });\n</code></pre>\n\n<p>Prices, Vendors and Amounts are Entity Framework objects.</p>\n\n<p>Firstly I am doing a join of Prices to Vendors table on VendorId and on the result I am adding a calculated field AmountPaid. The result is a subquery which returns the sum of AmountPaid column in Amounts table for the given record matched by PrId index.\nAll the above is returned as a JSON object in ASP.NET web api.</p>\n\n<p>The result of the above for the records in a database is only 1992 rows.\nThe above command neeeds about 20 seconds to return the result. If I remove the AmountPaid calculation it needs only 1 second.</p>\n\n<p>If I run the equivalent SQL command in SQL Server studio it needs only half a second with the AmountPaid calculation included:</p>\n\n<pre><code>SELECT Prices.*, Vendors.Title, \nAmountPaid = (SELECT SUM(AmountPaid) from Amounts where Amounts.PrId = Prices.PrId GROUP BY PrId) FROM Amounts \nINNER JOIN Vendors ON Amounts.VendorId = Vendors.VendorId\n</code></pre>\n\n<p>Is there a way to fix this?\nI cannot understand the issue since the SQL command does not have an issue in execution.\nIs there an error on the LINQ syntax, or another way to get in LINQ the same result set?</p>\n"}, {"tags": ["c#", "multithreading", "task"], "answers": [{"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 3, "last_activity_date": 1481136659, "creation_date": 1481136659, "answer_id": 41025113, "question_id": 41024528, "link": "https://stackoverflow.com/questions/41024528/what-task-is-being-returned-and-why-is-this-task-status-rantocompletion/41025113#41025113", "title": "What task is being returned and why is this task status RanToCompletion", "body": "<p><code>RunSomething</code> is an <code>async void</code> method, meaning it exposes no means of the caller ever determining when it finishes, they can only ever start the operation and then have no idea what happens next.  You then wrap a call to it inside of <code>Task.Run</code>, this is schedluing a thread pool thread to <em>start</em> <code>RunSomething</code>.  It will then complete as soon as it has finished <em>starting</em> that <code>Task</code>.</p>\n\n<p>If <code>RunSomething</code> actually returned a <code>Task</code>, then the caller would be able to determine when it actually finished, and if you waited on it it wouldn't actually indicate that it was done until that asynchronous operation was actually finished (there would be no reason to use <code>Task.Run</code> to start it in another thead, you'd be better off just calling it directly and not wasting the effort of moving that to a thread pool thread).</p>\n"}, {"tags": [], "owner": {"reputation": 1091, "user_id": 335577, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8a0c0c4652a1a0020082d87c19fe870c?s=128&d=identicon&r=PG", "display_name": "Keith", "link": "https://stackoverflow.com/users/335577/keith"}, "is_accepted": false, "score": 1, "last_activity_date": 1481136755, "creation_date": 1481136755, "answer_id": 41025145, "question_id": 41024528, "link": "https://stackoverflow.com/questions/41024528/what-task-is-being-returned-and-why-is-this-task-status-rantocompletion/41025145#41025145", "title": "What task is being returned and why is this task status RanToCompletion", "body": "<ol>\n<li><p>Never use async void (<a href=\"https://msdn.microsoft.com/en-us/magazine/jj991977.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/magazine/jj991977.aspx</a>)\ninstead you should use async Task</p></li>\n<li><p>If you need to call an async method from a non-async (such as from a static void main) you should do something like this:</p>\n\n<pre><code>mySimple.RunSomethingAsync(cts.Token).GetAwaiter().GetResult();\n</code></pre>\n\n<p>That will effectively make the method a synchronous call.</p></li>\n</ol>\n"}], "owner": {"reputation": 43, "user_id": 5790856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8aa04085b90dd76989f5342da88246?s=128&d=identicon&r=PG&f=1", "display_name": "tsjo", "link": "https://stackoverflow.com/users/5790856/tsjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 1, "accepted_answer_id": 41025113, "answer_count": 2, "score": 4, "last_activity_date": 1481136755, "creation_date": 1481134614, "question_id": 41024528, "link": "https://stackoverflow.com/questions/41024528/what-task-is-being-returned-and-why-is-this-task-status-rantocompletion", "title": "What task is being returned and why is this task status RanToCompletion", "body": "<p>I am rather new to task based programming and trying to determine how to return a task and verify that it has been started. The code that I got to work was not what I was expecting. The console application is as follows: </p>\n\n<pre><code>public static void Main(string[] args)\n    {\n        var mySimple = new Simple();\n        var cts = new CancellationTokenSource();\n        var task = mySimple.RunSomethingAsync(cts.Token);\n        while (task.Status != TaskStatus.RanToCompletion)\n        {\n            Console.WriteLine(\"Starting...\");\n            Thread.Sleep(100);\n        }\n\n        Console.WriteLine(\"It is started\");\n        Console.ReadKey();\n        cts.Cancel();\n    }\n\npublic class Simple\n{\n    public async void RunSomething(CancellationToken token)\n    {\n        var count = 0;\n        while (true)\n        {\n            if (token.IsCancellationRequested)\n            {\n                break;\n            }\n            Console.WriteLine(count++);\n            await Task.Delay(TimeSpan.FromMilliseconds(1000), token).ContinueWith(task =&gt; { });\n        }\n    }\n\n    public Task RunSomethingAsync(CancellationToken token)\n    {\n        return Task.Run(() =&gt; this.RunSomething(token));\n    }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>Starting...\n0\nIt is started\n1\n2\n3\n4\n</code></pre>\n\n<p>Why is the task that is being returned have a status as TaskStatus.RanToCompletion compared to TaskStatus.Running as we see that the while loop is still executing? Am I checking the status of the task of putting the RunSomething task on the threadpool rather than the RunSomething task itself?</p>\n"}, {"tags": ["c#", "forms", "class"], "comments": [{"owner": {"reputation": 31087, "user_id": 168703, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/581df83b8ccbaddd4eed4f7ff955b1cc?s=128&d=identicon&r=PG&f=1", "display_name": "JonH", "link": "https://stackoverflow.com/users/168703/jonh"}, "edited": false, "score": 0, "creation_date": 1481135184, "post_id": 41024522, "comment_id": 69256527, "body": "You need to create a valor object and access it with <code>valor.value;</code> the class should be marked explicitly as <code>public</code> as well."}], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "edited": false, "score": 0, "creation_date": 1481135722, "post_id": 41024754, "comment_id": 69256867, "body": "Error\tCS0176\tMember &#39;Program.valor.Valor&#39; cannot be accessed with an instance reference; qualify it with a type name instead"}, {"owner": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "edited": false, "score": 0, "creation_date": 1481135920, "post_id": 41024754, "comment_id": 69256979, "body": "I did <code>Program.valor dvalor = new Program.valor();             dvalor.Valor =  Convert.ToDouble(dValor.Text);</code>"}, {"owner": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "edited": false, "score": 0, "creation_date": 1481135957, "post_id": 41024754, "comment_id": 69257007, "body": "as I cannot acess <code>valor</code> with just <code>valor myValor</code>"}, {"owner": {"reputation": 309, "user_id": 2817312, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7SyAY.png?s=128&g=1", "display_name": "BlueBarren", "link": "https://stackoverflow.com/users/2817312/bluebarren"}, "reply_to_user": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "edited": false, "score": 0, "creation_date": 1481135987, "post_id": 41024754, "comment_id": 69257016, "body": "Did you make valor a <code>public</code> class?"}, {"owner": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "edited": false, "score": 0, "creation_date": 1481136153, "post_id": 41024754, "comment_id": 69257128, "body": "Yes I actually did"}, {"owner": {"reputation": 309, "user_id": 2817312, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7SyAY.png?s=128&g=1", "display_name": "BlueBarren", "link": "https://stackoverflow.com/users/2817312/bluebarren"}, "reply_to_user": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "edited": false, "score": 0, "creation_date": 1481136218, "post_id": 41024754, "comment_id": 69257164, "body": "Okay so why is the <code>Valor</code> property static?"}, {"owner": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "edited": false, "score": 0, "creation_date": 1481136417, "post_id": 41024754, "comment_id": 69257295, "body": "Ops, problem solved it was that Valor was static by mistake"}], "tags": [], "owner": {"reputation": 309, "user_id": 2817312, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/7SyAY.png?s=128&g=1", "display_name": "BlueBarren", "link": "https://stackoverflow.com/users/2817312/bluebarren"}, "is_accepted": false, "score": 0, "last_activity_date": 1481135396, "creation_date": 1481135396, "answer_id": 41024754, "question_id": 41024522, "link": "https://stackoverflow.com/questions/41024522/c-access-class-in-program-cs-from-a-form-button/41024754#41024754", "title": "C# Access class in program.cs from a Form Button", "body": "<p>Create a new instance of the <code>valor</code> in your <code>private void dValor_TextChanged</code> method or in the file that method resides depending on the access you want.</p>\n\n<pre><code>valor myValor = new valor();\n</code></pre>\n\n<p>Then you should simply be able to set that value to your <code>myValor</code> object.</p>\n\n<pre><code>myValor.Valor = Convert.ToDouble(dValor.Text);\n</code></pre>\n\n<p>And as said in a comment in reply to your question your valor class should be public.</p>\n\n<pre><code>public class valor\n</code></pre>\n"}], "owner": {"reputation": 104, "user_id": 6358570, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1b270575f980052bddb470fecff27998?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Souza", "link": "https://stackoverflow.com/users/6358570/matheus-souza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481137820, "creation_date": 1481134600, "last_edit_date": 1481137820, "question_id": 41024522, "link": "https://stackoverflow.com/questions/41024522/c-access-class-in-program-cs-from-a-form-button", "title": "C# Access class in program.cs from a Form Button", "body": "<p>I have the current class in my program.cs</p>\n\n<pre><code>class valor\n{\n      private static double valuee;\n\n      public static double Valor\n      {\n          get { return valuee; }\n          set { valuee = value; }\n      }\n }\n</code></pre>\n\n<p>And I want to use the set accessor from the properties.</p>\n\n<p>Here's my form.cs:</p>\n\n<pre><code>private void dValor_TextChanged(object sender, EventArgs e)\n{\n    Double valor = Convert.ToDouble(dValor.Text); \n}\n</code></pre>\n\n<p>I want to get the .text from the TextBox and then store it in the class <code>valor</code> from the program.cs</p>\n\n<p>What's the best way to make the access to the <code>valor</code> class?</p>\n"}, {"tags": ["c#", "audio", "naudio"], "comments": [{"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1481427682, "post_id": 41024454, "comment_id": 69371386, "body": "I cannot see where do you fill second channel with zeros. You need to write first 4 bytes with sample data, then another 4 bytes with zeros."}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1481506357, "post_id": 41024454, "comment_id": 69390943, "body": "there is a switch...  and i set the  Amplitude2 to 0"}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1481552726, "post_id": 41024454, "comment_id": 69410088, "body": "Oh I see... Can you just try to fill second channel with zeros? For testing purposes. Should that &#39;n2++&#39; be called for each two samples, not for just one?"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1481640173, "post_id": 41024454, "comment_id": 69451399, "body": "for each sample"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1481640194, "post_id": 41024454, "comment_id": 69451421, "body": "I do fill up one channel with 0.."}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1481640243, "post_id": 41024454, "comment_id": 69451462, "body": "so it is even indexes are one channel and odd indexes are another channel right ?"}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1481673437, "post_id": 41024454, "comment_id": 69469350, "body": "If you have stereo 32-bit float format, you have something like this: <code>LLLLRRRRLLLLRRRR</code>... (if I remember it good). LLLL = 4 bytes = 1 sample for left channel. Can you say what you hear in both channels? More code would be good, maybe problem is in a different place."}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482494681, "post_id": 41024454, "comment_id": 69804583, "body": "I hear the same sound coming out of both ear phones"}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482565980, "post_id": 41024454, "comment_id": 69826104, "body": "Post entire code for <code>BBeats</code> so I will be able to run it on my machine."}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482801251, "post_id": 41024454, "comment_id": 69878514, "body": "<a href=\"https://www.dropbox.com/sh/0vms9d9jjq4vhbn/AACn9ym-OJKLhitFbFQJ1pqya?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/sh/0vms9d9jjq4vhbn/AACn9ym-OJKLhitFbFQJ1pqya?dl=&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482801268, "post_id": 41024454, "comment_id": 69878517, "body": "that is the link to the fully code"}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482833831, "post_id": 41024454, "comment_id": 69888408, "body": "for me, everything sounds fine. It is hard to tell from what direction low frequencies come (using speakers). Try higher frequencies and use headphones. <code>Play (1, 10000, 300);</code> looks fine for testing purposes."}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482935756, "post_id": 41024454, "comment_id": 69929637, "body": "when i put a 0 for the left or the right, it should not play any sound from that side, but it does"}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482938248, "post_id": 41024454, "comment_id": 69931067, "body": "I do the same and I don&#39;t here anything. Maybe you have some kind of post processing enabled in your sound card?"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482944903, "post_id": 41024454, "comment_id": 69934631, "body": "really ??? WTF?? what is post processing ?? and how do i turn it off ?"}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482948708, "post_id": 41024454, "comment_id": 69936461, "body": "post processing - some special effects that your sound card can do, e.g. &#39;echo&#39;. You can manage these effects with software provided by your sound card manufacturer. Did you tried to listen it on headphones?"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482971993, "post_id": 41024454, "comment_id": 69945149, "body": "yes!! I have tried many different headphones!!! I cant believe it is working for you but not me... this is so weird"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482972267, "post_id": 41024454, "comment_id": 69945205, "body": "so you only hear sound out of one ear bug? I hear sound out of both.. and again I have tried like 3 different head phone."}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482972395, "post_id": 41024454, "comment_id": 69945232, "body": "my computer has a Realtek High Definition Audio device."}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482974484, "post_id": 41024454, "comment_id": 69945677, "body": "open Realtek HD audio manager, and try to disable some effects if enabled (speaker visualization for example)"}, {"owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "reply_to_user": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "edited": false, "score": 0, "creation_date": 1482975520, "post_id": 41024454, "comment_id": 69945873, "body": "I do not see any effects on. If I save the waveform to the file,  and play it on audacity, and I turn the pan does all the right to the right or all the way to the left , it will work right . but how do i do that in my program ?"}, {"owner": {"reputation": 5221, "user_id": 1109215, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Z2aRg.jpg?s=128&g=1", "display_name": "apocalypse", "link": "https://stackoverflow.com/users/1109215/apocalypse"}, "reply_to_user": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "edited": false, "score": 0, "creation_date": 1482978386, "post_id": 41024454, "comment_id": 69946413, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/131758/discussion-between-apocalypse-and-brandon\">continue this discussion in chat</a>."}], "owner": {"reputation": 177, "user_id": 4962912, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4a40d66e42dd4140325484e5bd30a281?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/4962912/brandon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481134372, "creation_date": 1481134372, "question_id": 41024454, "link": "https://stackoverflow.com/questions/41024454/c-playing-sound-from-one-speaker-at-a-time", "title": "C# playing sound from one speaker at a time", "body": "<p>I am trying to play sound from one speaker/earphone at a time. So I  zero out the values for one side. but it is not working. \nin a wav file the even values play from the right speaker/ hearphone and the old from the left right ?\nso why it is not working</p>\n\n<p>here is my code:</p>\n\n<pre><code>    public override int Read(byte[] buffer, int offset, int sampleCount)\n    {\n        if (position == 0 &amp;&amp; onetimeflag == false)\n        {\n            n2 = 0;\n            onetimeflag = true;\n        }\n        if (n2 &gt;= Bufferlength &amp;&amp; stopflag == false)\n        {\n            Dispose();\n            return 0;\n        }\n\n        float temp1;\n        for (int i = 0; i &lt; (sampleCount / 4); i++)\n        {\n            if (Frequency_switch == true)\n            {\n                temp1 = (float)(Amplitude * Math.Sin(Math.PI * Frequency * n2 / 44100D));\n                Frequency_switch = false;\n            }\n            else\n            {\n\n                temp1 = (float)(Amplitude2 * Math.Sin((Math.PI * Frequency2 * n2) / 44100D));\n                Frequency_switch = true;\n            }\n            byte[] bytes = BitConverter.GetBytes(temp1);\n            buffer[i * 4 + 0] = bytes[0];\n            buffer[i * 4 + 1] = bytes[1];\n            buffer[i * 4 + 2] = bytes[2];\n            buffer[i * 4 + 3] = bytes[3];\n\n            tempSample++;\n            n2++;\n        }\n        return sampleCount;}} }\n</code></pre>\n\n<p>I am using the NAudio library</p>\n\n<p>here is how I play the sound:</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n    {\n        Play(1, 240, 0);\n    }\n    binaural_beats BBeats;\n    WaveOut waveout;\n    void Play(double Amp, double Left, double Right)\n    {\n        BBeats = new binaural_beats();\n        BBeats.Amplitude = Amp;\n        BBeats.Amplitude2 = Amp;\n        BBeats.Frequency = Left;\n        BBeats.Frequency2 = Right;\n\n        BBeats.Bufferlength = 44100 * 2 * 3;// will play for 3 sec\n\n        waveout = new WaveOut();\n        WaveChannel32 temp = new WaveChannel32(BBeats);\n        temp.PadWithZeroes = false;\n\n        waveout.Init(temp);\n        waveout.Play();\n\n    }\n</code></pre>\n"}, {"tags": ["c#", "xaml", "xamarin", "xamarin.forms", "content-pages"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481134651, "post_id": 41024439, "comment_id": 69256223, "body": "Please show the code you are trying to use; Generally speaking if you have an instance of a <code>UIElement</code> you can display it."}, {"owner": {"reputation": 472, "user_id": 2470801, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/90a956d72dcbdda023c507ed47c1a8d4?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2470801/christoph"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481186851, "post_id": 41024439, "comment_id": 69277562, "body": "@BradleyDotNET I&#39;m sorry! I updated the question with my code. Perhaps you can take a look on it! Have a nice day!"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481220949, "post_id": 41024439, "comment_id": 69299937, "body": "I&#39;m not aware of the <code>ContentPage</code> class; is it a custom class deriving from <code>UIElement</code> or one of its sub classes? I have solved this general problem many times, just want to make sure my knowledge will apply"}, {"owner": {"reputation": 472, "user_id": 2470801, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/90a956d72dcbdda023c507ed47c1a8d4?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2470801/christoph"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481228947, "post_id": 41024439, "comment_id": 69304035, "body": "@BradleyDotNET This is the ContentPage class: <a href=\"https://developer.xamarin.com/api/type/Xamarin.Forms.ContentPage\" rel=\"nofollow noreferrer\">developer.xamarin.com/api/type/Xamarin.Forms.ContentPage</a>"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481233758, "post_id": 41024439, "comment_id": 69306456, "body": "The concept you are looking for is <code>ContentControl</code> I can&#39;t find one in Xamarin (especially not one that displays a page). Sorry I can&#39;t be more help than that. For fullscreen display you could try navigating to your page object"}, {"owner": {"reputation": 472, "user_id": 2470801, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/90a956d72dcbdda023c507ed47c1a8d4?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2470801/christoph"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481271440, "post_id": 41024439, "comment_id": 69318464, "body": "@BradleyDotNET Ok. Thanks for your response. Is there a change to display it in <i>any</i> way. Even that I could not get to work."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1481304059, "post_id": 41024439, "comment_id": 69338377, "body": "I&#39;m just not sure, sorry. I haven&#39;t actually worked in Xamarin before (just WPF and UWP)."}, {"owner": {"reputation": 5006, "user_id": 2250405, "user_type": "registered", "profile_image": "https://graph.facebook.com/506605151/picture?type=large", "display_name": "Yuri S", "link": "https://stackoverflow.com/users/2250405/yuri-s"}, "edited": false, "score": 1, "creation_date": 1481319145, "post_id": 41024439, "comment_id": 69345619, "body": "What are you using as MainPage of your app? If it is NavigationPage then you can PushAsync(GetPluginUI()); If your BigView is a main page then you can assign apps MainPage to BigView"}], "owner": {"reputation": 472, "user_id": 2470801, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/90a956d72dcbdda023c507ed47c1a8d4?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/2470801/christoph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481347241, "creation_date": 1481134287, "last_edit_date": 1481347241, "question_id": 41024439, "link": "https://stackoverflow.com/questions/41024439/display-in-foreground-fullscreen", "title": "Display in foreground fullscreen?", "body": "<p>Say I have an 'ContentPage' - object without the XAML file. Is it possible to display the contents of it in foreground fullscreen or in a grid column of an app?</p>\n\n<p>I have a plugin which has an Interface</p>\n\n<pre><code>public interface IPlugin\n{\n    ContentPage GetPluginUI();\n}\n</code></pre>\n\n<p>The Plugin itself returns a new instance of my source XAML file \"BigView\"</p>\n\n<pre><code>    public ContentPage GetPluginUI()\n    {\n        return new BigView();\n    }\n</code></pre>\n\n<p>which is derived from \"ContentPage\".</p>\n\n<p>Now when I load the Plugin in the host program, I get the ContentPage object:</p>\n\n<pre><code>ContentPage pluginContentPage = plugin.GetPluginUI();\n</code></pre>\n\n<p>How to display \"pluginContentPage\" for testing? </p>\n"}, {"tags": ["c#", "sql", "asp.net-mvc", "entity-framework"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 1, "creation_date": 1481134471, "post_id": 41024398, "comment_id": 69256115, "body": "You forgot to put single quotes around the values you join together and format into your query."}, {"owner": {"reputation": 46, "user_id": 7263787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d002225d88f500eaa594e8328150b547?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7263787/raj"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1481140842, "post_id": 41024398, "comment_id": 69259796, "body": "Yes, thanks. That helped. Because the exception was showing a particular value (&#39;30267-366492&#39;), I was so distracted as to from where it picked it and and also was repeatedly checking only the entity class mapping to make sure the data types were correctly assigned."}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 7263787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d002225d88f500eaa594e8328150b547?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7263787/raj"}, "edited": false, "score": 0, "creation_date": 1481140420, "post_id": 41024565, "comment_id": 69259500, "body": "Thank you. Though the subtraction was not happening (as I had the ToString()), adding the single quotes around the id pairs helped overcome the exception."}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "reply_to_user": {"reputation": 46, "user_id": 7263787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d002225d88f500eaa594e8328150b547?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7263787/raj"}, "edited": false, "score": 0, "creation_date": 1481140625, "post_id": 41024565, "comment_id": 69259644, "body": "What I meant by subtraction is that you have something like <code>In (30267-366492)</code> in the SQL query and it would result in something like <code>In (-336225)</code> because the SQL server would treat <code>30267-366492</code> as a subtraction."}, {"owner": {"reputation": 46, "user_id": 7263787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d002225d88f500eaa594e8328150b547?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7263787/raj"}, "edited": false, "score": 0, "creation_date": 1481146622, "post_id": 41024565, "comment_id": 69263046, "body": "Ah, ok. Got you. Thank you for the responses, appreciate your help."}], "tags": [], "owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "is_accepted": false, "score": 0, "last_activity_date": 1481134733, "creation_date": 1481134733, "answer_id": 41024565, "question_id": 41024398, "link": "https://stackoverflow.com/questions/41024398/ef-executestorequery-throwing-exception-about-conversion-failed-when-convertin/41024565#41024565", "title": "EF executestorequery throwing exception about - Conversion failed when converting the varchar value &#39;30267-366492&#39; to data type int", "body": "<p>Make sure to put single quotes around your list of id pairs so that you compare <code>studentPersonID_SectionID</code> to a set of strings instead of a set of integers (the numbers will end up subtracting in the SQL).</p>\n\n<pre><code>tempList.Add(string.Format(\n    \"'{0}-{1}'\", \n    studentSectionId.Item1,\n    studentSectionId.Item2));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46, "user_id": 7263787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d002225d88f500eaa594e8328150b547?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7263787/raj"}, "edited": false, "score": 0, "creation_date": 1481140424, "post_id": 41024583, "comment_id": 69259503, "body": "Thank you. Though the subtraction was not happening (as I had the ToString()), adding the single quotes around the id pairs helped overcome the exception."}, {"owner": {"reputation": 13129, "user_id": 1587819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TpBdj.jpg?s=128&g=1", "display_name": "HoneyBadger", "link": "https://stackoverflow.com/users/1587819/honeybadger"}, "reply_to_user": {"reputation": 46, "user_id": 7263787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d002225d88f500eaa594e8328150b547?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7263787/raj"}, "edited": false, "score": 0, "creation_date": 1481140544, "post_id": 41024583, "comment_id": 69259578, "body": "The subtraction occurred in the sql interpretation. Glad it helped"}], "tags": [], "owner": {"reputation": 13129, "user_id": 1587819, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TpBdj.jpg?s=128&g=1", "display_name": "HoneyBadger", "link": "https://stackoverflow.com/users/1587819/honeybadger"}, "is_accepted": true, "score": 0, "last_activity_date": 1481135115, "last_edit_date": 1481135115, "creation_date": 1481134791, "answer_id": 41024583, "question_id": 41024398, "link": "https://stackoverflow.com/questions/41024398/ef-executestorequery-throwing-exception-about-conversion-failed-when-convertin/41024583#41024583", "title": "EF executestorequery throwing exception about - Conversion failed when converting the varchar value &#39;30267-366492&#39; to data type int", "body": "<pre><code>tempList.Add(studentSectionId.Item1.ToString() + \"-\" + studentSectionId.Item2.ToString())\n...\nstring stuSecIds = string.Join(\",\", tempList.ToArray());\n</code></pre>\n\n<p>Here you are presumably concatenating integers in a way that would resemble something like: <code>0-3, 1-4, 2-5</code>. So on the whole your where clause is: <code>where tbgTraj.studentPersonID_SectionID in (-3, -3, -3)</code>. Note these are <code>integers</code>since the <code>-</code> is interpreted as a subtraction. In your <code>tbgTraj.studentPersonID_SectionID</code> you've got the value <code>'30267-366492'</code>, which won't convert to an <code>int</code>. SQL server tries to implicitly convert it to an <code>int</code>, since in a comparison <code>string = int</code>, <code>int</code> takes precedence (<a href=\"https://msdn.microsoft.com/nl-nl/library/ms190309.aspx\" rel=\"nofollow noreferrer\">see here</a>). </p>\n\n<p>So your solution would be to use quotes around your id's:</p>\n\n<pre><code>\"'\" + studentSectionId.Item1.ToString() + \"-\" + + studentSectionId.Item2.ToString() \"'\" ...\n</code></pre>\n\n<p>Also, beware of <a href=\"https://msdn.microsoft.com/en-us/library/cc296201(v=sql.105).aspx\" rel=\"nofollow noreferrer\">bobby tables</a>. You should parametrize your queries to avoid sql injection!</p>\n"}], "owner": {"reputation": 46, "user_id": 7263787, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d002225d88f500eaa594e8328150b547?s=128&d=identicon&r=PG&f=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/7263787/raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 41024583, "answer_count": 2, "score": 1, "last_activity_date": 1481135115, "creation_date": 1481134143, "last_edit_date": 1481134350, "question_id": 41024398, "link": "https://stackoverflow.com/questions/41024398/ef-executestorequery-throwing-exception-about-conversion-failed-when-convertin", "title": "EF executestorequery throwing exception about - Conversion failed when converting the varchar value &#39;30267-366492&#39; to data type int", "body": "<p>I'm trying to execute a sql query using EF executestorequery.</p>\n\n<p>The repository method that executes the query is as follows. It takes a list of Tuples (studentid, sectionid) and constructs a string of studentid-sectionid values which is the input parameter to the query.</p>\n\n<pre><code>public static List&lt;EF.TraditionalGradingEntity&gt; GetTraditionalGrading(List&lt;Tuple&lt;int, int&gt;&gt; studentSectionIds)\n{\n    List&lt;string&gt; tempList = new List&lt;string&gt;();\n    foreach (Tuple&lt;int, int&gt; studentSectionId in studentSectionIds)\n    {\n        tempList.Add(studentSectionId.Item1.ToString() + \"-\" + studentSectionId.Item2.ToString());\n    }\n    string stuSecIds = string.Join(\",\", tempList.ToArray());\n    string strTdlGradingQuery = string.Format(\n        @\"\n        select \n            tbgTraj.studentPersonID,\n            tbgTraj.sectionID,\n            tbgTraj.studentPersonID_SectionID,\n            tbgTraj.score,\n            tbgTraj.sel,\n            tbgTraj.growth,\n            tbgTraj.warning,\n            tbgTraj.taskID,\n            tbgTraj.gradingTask,\n            tbgTraj.taskScore,\n            tbgScore.groupName,\n            tbgScore.activityName,\n            tbgScore.score activityScore\n        from\n            [shs].[DataCollector_TBG_Grade_Trajectory] tbgTraj\n            inner join [shs].[DataCollector_TBG_Scores] tbgScore \n                on tbgTraj.taskID = tbgScore.taskID \n                and tbgTraj.studentPersonID = tbgScore.studentPersonID \n                and tbgTraj.sectionID = tbgScore.sectionID\n        where\n            tbgTraj.studentPersonID_SectionID in ({0})\n        \", stuSecIds);\n\n    using (EF.AESDBContext aesDBContext = new EF.AESDBContext())\n    {\n        return aesDBContext.ObjectContext.ExecuteStoreQuery&lt;EF.TraditionalGradingEntity&gt;(strTdlGradingQuery, \"TraditionalGradings\", MergeOption.OverwriteChanges, null).ToList();\n    }\n}\n</code></pre>\n\n<p>My entity definition is as follows</p>\n\n<pre><code>public class TraditionalGradingEntity\n{\n    public int StudentPersonId { get; set; }\n    public int SectionId { get; set; }\n    public string StudentPersonID_SectionID { get; set; }\n    public string Score { get; set; }\n    public string Sel { get; set; }\n    public string Growth { get; set; }\n    public string Warning { get; set; }\n    public int TaskId { get; set; }\n    public string GradingTask { get; set; }\n    public string TaskScore { get; set; }\n    public string GroupName { get; set; }\n    public string ActivityName { get; set; }\n    public string ActivityScore { get; set; }\n}\n</code></pre>\n\n<p>Now, irrespective of the input parameter value, the execution always fails with the following exception:</p>\n\n<pre><code>System.Data.EntityCommandExecutionException was unhandled by user code\n  HResult=-2146232004\n  Message=An error occurred while reading from the store provider's data reader. See the inner exception for details.\n  Source=System.Data.Entity\n  StackTrace:\n       at System.Data.Common.Internal.Materialization.Shaper`1.StoreRead()\n       at System.Data.Common.Internal.Materialization.Shaper`1.SimpleEnumerator.MoveNext()\n       at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\n       at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\n       at D125Portal.DA.EbrRepository.GetTraditionalGrading(List`1 studentSectionIds) in C:\\Users\\rgopinathan\\Source\\Workspaces\\Workspace_D125New\\EBRLevel\\D125Portal\\D125Portal.DataAccess\\EbrRepository.cs:line 218\n       at D125Portal.BL.EBR.ReportS.Init() in C:\\Users\\rgopinathan\\Source\\Workspaces\\Workspace_D125New\\EBRLevel\\D125Portal\\D125Portal.BL\\EBR\\ReportS.cs:line 73\n       at D125Portal.BL.EBR.ReportManager.GetReport(ReportRequestS req) in C:\\Users\\rgopinathan\\Source\\Workspaces\\Workspace_D125New\\EBRLevel\\D125Portal\\D125Portal.BL\\EBR\\Report.cs:line 79\n       at D125Portal.WWW.Areas.EBR.Coordinator.GetStudentReport(List`1 students) in C:\\Users\\rgopinathan\\Source\\Workspaces\\Workspace_D125New\\EBRLevel\\D125Portal\\D125Portal\\Areas\\EBR\\Coordinator.cs:line 106\n       at D125Portal.WWW.Areas.EBR.Controllers.EBRHomeController.Report() in C:\\Users\\rgopinathan\\Source\\Workspaces\\Workspace_D125New\\EBRLevel\\D125Portal\\D125Portal\\Areas\\EBR\\Controllers\\EBRHomeController.cs:line 164\n       at lambda_method(Closure , ControllerBase , Object[] )\n       at System.Web.Mvc.ActionMethodDispatcher.Execute(ControllerBase controller, Object[] parameters)\n       at System.Web.Mvc.ReflectedActionDescriptor.Execute(ControllerContext controllerContext, IDictionary`2 parameters)\n       at System.Web.Mvc.ControllerActionInvoker.InvokeActionMethod(ControllerContext controllerContext, ActionDescriptor actionDescriptor, IDictionary`2 parameters)\n       at System.Web.Mvc.Async.AsyncControllerActionInvoker.&lt;BeginInvokeSynchronousActionMethod&gt;b__39(IAsyncResult asyncResult, ActionInvocation innerInvokeState)\n       at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResult`2.CallEndDelegate(IAsyncResult asyncResult)\n       at System.Web.Mvc.Async.AsyncResultWrapper.WrappedAsyncResultBase`1.End()\n       at System.Web.Mvc.Async.AsyncControllerActionInvoker.EndInvokeActionMethod(IAsyncResult asyncResult)\n       at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.&lt;InvokeActionMethodFilterAsynchronouslyRecursive&gt;b__3d()\n       at System.Web.Mvc.Async.AsyncControllerActionInvoker.AsyncInvocationWithFilters.&lt;&gt;c__DisplayClass46.&lt;InvokeActionMethodFilterAsynchronouslyRecursive&gt;b__3f()\n  InnerException: System.Data.SqlClient.SqlException\n       HResult=-2146232060\n       Message=Conversion failed when converting the varchar value '30267-366492' to data type int.\n       Source=.Net SqlClient Data Provider\n       ErrorCode=-2146232060\n       Class=16\n       LineNumber=2\n       Number=245\n       Procedure=\"\"\n       Server=ovdcovyjrr.database.windows.net\n       State=1\n       StackTrace:\n            at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n            at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\n            at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\n            at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean&amp; dataReady)\n            at System.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean&amp; moreRows)\n            at System.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean&amp; more)\n            at System.Data.SqlClient.SqlDataReader.Read()\n            at System.Data.Common.Internal.Materialization.Shaper`1.StoreRead()\n       InnerException: \n</code></pre>\n\n<p>Note: The value '30267-366492' in the exception message is always the same irrespective of the input parameter value and the output data (even when the output doesn't contain this value). I am able to run the query separately successfully but not through the program. Any insight or help is much appreciated.</p>\n"}, {"tags": ["c#", "jpa", "nhibernate"], "answers": [{"tags": [], "owner": {"reputation": 620, "user_id": 3707939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67df9244a08dae5fb128405e224d816?s=128&d=identicon&r=PG&f=1", "display_name": "Spivonious", "link": "https://stackoverflow.com/users/3707939/spivonious"}, "is_accepted": false, "score": 0, "last_activity_date": 1481314771, "creation_date": 1481314771, "answer_id": 41068227, "question_id": 41024321, "link": "https://stackoverflow.com/questions/41024321/mapping-exception-nhibernate-npa-with-embeddedid-and-onetomany/41068227#41068227", "title": "Mapping Exception nHibernate NPA with EmbeddedId and OneToMany", "body": "<p>I ended up just adding a surrogate key column and mapping it instead. It appears that this isn't supported by NPA (which isn't surprising, given it hasn't been updated in 3 years...maybe it's time to move on to something else.</p>\n"}], "owner": {"reputation": 620, "user_id": 3707939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a67df9244a08dae5fb128405e224d816?s=128&d=identicon&r=PG&f=1", "display_name": "Spivonious", "link": "https://stackoverflow.com/users/3707939/spivonious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481314771, "creation_date": 1481133851, "last_edit_date": 1481136431, "question_id": 41024321, "link": "https://stackoverflow.com/questions/41024321/mapping-exception-nhibernate-npa-with-embeddedid-and-onetomany", "title": "Mapping Exception nHibernate NPA with EmbeddedId and OneToMany", "body": "<p><em>I've tagged this with JPA because the API should be the same between JPA and NPA, i.e. the setup should be the same. Just replace [] with @ in your mind :)</em></p>\n\n<p>I have a OneToMany relationship in my database that I'm trying to map to some Entity classes. The \"many\" side has a composite PK which is giving me issues. I think I'm doing everything correctly, but I'm getting an exception when initializing the session. I'm using a .NET port of JPA to get attribute-based mapping.</p>\n\n<blockquote>\n  <p>Could not determine type for:\n  Mariner.Entities.MinimumOrderAmounts.Zone,\n  Mariner.Data, for columns:\n  NHibernate.Mapping.Column(Zone)</p>\n</blockquote>\n\n<p>Here is the relevant code.</p>\n\n<pre><code>[Entity]\n[Table(Catalog = \"Atom\", Schema = \"mariner\", Name = \"MinimumOrderAmountZone\")]\npublic class Zone  {\n\n    [Id]\n    [GeneratedValue(Strategy = GenerationType.IDENTITY)]\n    public virtual int Id { get; protected set; }\n\n    [Length(500, Min = 1)]\n    [NotNull]\n    public virtual string Name { get; set; }\n\n    [Length(4000)]\n    public virtual string Description { get; set; }\n\n    [OneToMany(MappedBy = nameof(ZoneItem.Zone), Cascade = new[] { CascadeType.ALL })]\n    public virtual ISet&lt;ZoneItem&gt; ZoneItems { get; protected set; }\n\n    [OneToMany(MappedBy = nameof(ZoneSchedule.Zone), Cascade = new[] { CascadeType.ALL })]\n    public virtual ISet&lt;ZoneSchedule&gt; ZoneSchedules { get; protected set; }        \n\n}\n\n[Entity]\n[Table(Catalog = \"Atom\", Schema = \"mariner\", Name = \"MinimumOrderAmountZoneItem\")]\npublic class ZoneItem {\n\n    [EmbeddedId]\n    public virtual ZoneItemId Id { get; set; } \n\n    [MapsId(\"Zone\")]\n    [ManyToOne]\n    [JoinColumn(Name = \"ZoneId\")]\n    public virtual Zone Zone { get; set; }\n\n}\n\n[Serializable]\n[Embeddable]\npublic class ZoneItemId {\n\n    [Column(Name =\"ZoneId\")]\n    public virtual Zone Zone { get; set; } \n\n    public virtual string ItemId { get; set; }\n\n    [Enumerated(EnumType.ORDINAL)]\n    [Column(Name =\"ItemTypeId\")]\n    public virtual ItemType ItemType { get; set; }\n\n} \n</code></pre>\n\n<p>Here are the relevant Nuget packages:</p>\n\n<pre><code>&lt;package id=\"NHibernate\" version=\"4.0.4.4000\" targetFramework=\"net45\" /&gt;\n&lt;package id=\"NHibernate.Validator\" version=\"2.0.0.4002\" targetFramework=\"net45\" /&gt;\n&lt;package id=\"NPersistence\" version=\"2.1.0.11\" targetFramework=\"net45\" /&gt;\n</code></pre>\n\n<p>Help!</p>\n"}]