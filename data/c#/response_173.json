[{"tags": ["c#"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 2, "creation_date": 1525305058, "post_id": 50145015, "comment_id": 87308214, "body": "<i>&quot;The function will only output the maximum X and Y values in my array, and never pinpoint the character I am looking for.&quot;</i> That&#39;s probably because the method takes a <code>string</code> and not a <code>char</code>. Even if you pass in a single character as you input string, you won&#39;t find a match:  <code>&#39;m&#39;.Equals(&quot;m&quot;) == false;</code>"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1525305149, "post_id": 50145015, "comment_id": 87308239, "body": "How do you expect <code>string sym</code> to ever be equal to <code>line[i]</code> (a character)? And for Pete&#39;s sake, get rid of the 1980&#39;s style <code>goto</code>. If your teacher told you do use it, find a new teacher. If the book you&#39;re reading said to use it, buy a better book."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525305279, "post_id": 50145015, "comment_id": 87308262, "body": "@CamiloTerevinto: Because the question doesn&#39;t say it&#39;s anything but a string. <code>foreach (string line in lines)</code> clearly says it&#39;s the former, not the latter."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1525305301, "post_id": 50145015, "comment_id": 87308270, "body": "@KenWhite Oops, my bad, didn&#39;t read that foreach! Nevermind me"}, {"owner": {"reputation": 13, "user_id": 9732694, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jack Griggs", "link": "https://stackoverflow.com/users/9732694/jack-griggs"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1525308063, "post_id": 50145015, "comment_id": 87308861, "body": "@KenWhite yeah my apologies for that, had a &#39;break&#39; but wanted to try something different, albeit worse, to enure that was not the issue."}], "answers": [{"comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1525306135, "post_id": 50145173, "comment_id": 87308451, "body": "And not a <code>goto</code> in sight. :-)"}], "tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": true, "score": 3, "last_activity_date": 1525306142, "last_edit_date": 1525306142, "creation_date": 1525305920, "answer_id": 50145173, "question_id": 50145015, "link": "https://stackoverflow.com/questions/50145015/need-help-in-debugging-a-function-to-get-the-xy-of-a-character-in-an-array/50145173#50145173", "title": "Need help in debugging a function to get the XY of a character in an array", "body": "<p>The problem is that you're taking in a <code>string</code> argument, and then comparing each character of each line with that string to try to find a match. In this case, passing a string to the equals method of a char will call the overload that takes an <code>object</code>, and it will always return <code>false</code>. </p>\n\n<p>To fix this, you can either take a <code>char</code> as your input argument:</p>\n\n<pre><code>public Position getXY(char sym)\n</code></pre>\n\n<p>Or you can do a string comparison:</p>\n\n<pre><code>public Position getXY(string sym)\n{\n    var lines = _draw.GetBackground();\n\n    // lines.Length assumes a lines is a string[]\n    for (int y = 0; y &lt; lines.Length; y++)\n    { \n        var matchIndex = lines[y].IndexOf(sym);\n\n        // If the index is &gt; -1, we found a  match\n        if (matchIndex &gt; -1)\n        {\n            return new Position(matchIndex, y);\n        }\n    }\n\n    // It was not found, so return something that indicates that...\n    return null;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9732694, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jack Griggs", "link": "https://stackoverflow.com/users/9732694/jack-griggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 50145173, "answer_count": 1, "score": 1, "last_activity_date": 1525306142, "creation_date": 1525304669, "last_edit_date": 1525305066, "question_id": 50145015, "link": "https://stackoverflow.com/questions/50145015/need-help-in-debugging-a-function-to-get-the-xy-of-a-character-in-an-array", "title": "Need help in debugging a function to get the XY of a character in an array", "body": "<p>My current code is as follows:</p>\n\n<pre><code>public Position getXY(string sym)\n{\n    int y = 0;\n    int x = 0;\n    var lines = _draw.GetBackground();\n    foreach (string line in lines)\n    {\n        x = 0;\n        for (int i = 0; i &lt; line.Length; i++)\n        {\n            if (line[i].Equals(sym))\n                goto End;\n            x++;\n        }\n        y++;\n    }\n    End:          \n    return new Position(x, y);\n}\n</code></pre>\n\n<p>The Position class is from Roy-T.Astar, a pathfinding library (it's used here to store coordinates).</p>\n\n<p>The function will only output the maximum X and Y values in my array, and never pinpoint the character I am looking for.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 1578, "user_id": 342842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98efa40198faaa312c6465b969f1fae?s=128&d=identicon&r=PG", "display_name": "Immersive", "link": "https://stackoverflow.com/users/342842/immersive"}, "edited": false, "score": 0, "creation_date": 1525336024, "post_id": 50144997, "comment_id": 87318395, "body": "Are you unloading your current scene when you load the new one?"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 9003520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323357474458898/picture?type=large", "display_name": "Issam Otoz", "link": "https://stackoverflow.com/users/9003520/issam-otoz"}, "edited": false, "score": 0, "creation_date": 1525305032, "post_id": 50145025, "comment_id": 87308210, "body": "wait for the new scene to be loaded not work I tried it"}, {"owner": {"reputation": 49, "user_id": 9003520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323357474458898/picture?type=large", "display_name": "Issam Otoz", "link": "https://stackoverflow.com/users/9003520/issam-otoz"}, "edited": false, "score": 0, "creation_date": 1525305140, "post_id": 50145025, "comment_id": 87308235, "body": "There is no way to Instantiate prefab in another scene?"}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "reply_to_user": {"reputation": 49, "user_id": 9003520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323357474458898/picture?type=large", "display_name": "Issam Otoz", "link": "https://stackoverflow.com/users/9003520/issam-otoz"}, "edited": false, "score": 0, "creation_date": 1525320237, "post_id": 50145025, "comment_id": 87311679, "body": "@IssamOtoz No, the other scene doesn&#39;t exist yet."}], "tags": [], "owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "is_accepted": false, "score": -1, "last_activity_date": 1525304760, "creation_date": 1525304760, "answer_id": 50145025, "question_id": 50144997, "link": "https://stackoverflow.com/questions/50144997/instantiate-prefab-in-another-scene/50145025#50145025", "title": "Instantiate prefab in (another) scene", "body": "<p>Two options:</p>\n\n<ol>\n<li>Use a coroutine to wait for the new scene to be loaded\n\n<ul>\n<li>I am not entirely sure this would even work, as the first scene would get unloaded and the script potentially terminated early, unless its part of a DoNotDestroyOnLoad object</li>\n</ul></li>\n<li>Use a script in the new scene to spawn the prefab instead</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 9003520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323357474458898/picture?type=large", "display_name": "Issam Otoz", "link": "https://stackoverflow.com/users/9003520/issam-otoz"}, "edited": false, "score": 0, "creation_date": 1525374640, "post_id": 50145438, "comment_id": 87342480, "body": "The GameObject was successfully moved Thank you very very much But gameObject.activeInHierarchy is false why ??"}, {"owner": {"reputation": 49, "user_id": 9003520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323357474458898/picture?type=large", "display_name": "Issam Otoz", "link": "https://stackoverflow.com/users/9003520/issam-otoz"}, "edited": false, "score": 0, "creation_date": 1525389230, "post_id": 50145438, "comment_id": 87347932, "body": "Your explanation \u0650is a a genius ,and comment in you code is Creative . Thankssssss."}], "tags": [], "owner": {"reputation": 2124, "user_id": 9481503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zBTZ2.png?s=128&g=1", "display_name": "Lece", "link": "https://stackoverflow.com/users/9481503/lece"}, "is_accepted": true, "score": 3, "last_activity_date": 1525308671, "creation_date": 1525308671, "answer_id": 50145438, "question_id": 50144997, "link": "https://stackoverflow.com/questions/50144997/instantiate-prefab-in-another-scene/50145438#50145438", "title": "Instantiate prefab in (another) scene", "body": "<p>Instantiate the prefab and use <a href=\"https://docs.unity3d.com/ScriptReference/SceneManagement.SceneManager.MoveGameObjectToScene.html\" rel=\"nofollow noreferrer\"><code>SceneManager.MoveGameObjectToScene</code></a> to move the object from the old scene to the new scene. From the docs:</p>\n\n<blockquote>\n  <p><strong>MoveGameObjectToScene</strong></p>\n  \n  <p>Moves a GameObject from its current Scene to a new Scene.</p>\n  \n  <p>You can only move root GameObjects from one Scene to another. This means the\n  GameObject to move must not be a child of any other GameObject in its\n  Scene. This only works on GameObjects being moved to a Scene that is\n  already loaded (additive). If you want to load single Scenes, make\n  sure to use DontDestroyOnLoad on the GameObject you would like to move\n  to a new Scene, otherwise Unity deletes it when it loads a new Scene.</p>\n</blockquote>\n\n<p><em>And the example:</em></p>\n\n<pre class=\"lang-c# prettyprint-override\"><code>public class Example : MonoBehaviour\n{\n    // Type in the name of the Scene you would like to load in the Inspector\n    public string m_Scene;\n\n    // Assign your GameObject you want to move Scene in the Inspector\n    public GameObject m_MyGameObject;\n\n    void Update()\n    {\n        // Press the space key to add the Scene additively and move the GameObject to that Scene\n        if (Input.GetKeyDown(KeyCode.Space))\n        {\n            StartCoroutine(LoadYourAsyncScene());\n        }\n    }\n\n    IEnumerator LoadYourAsyncScene()\n    {\n        // Set the current Scene to be able to unload it later\n        Scene currentScene = SceneManager.GetActiveScene();\n\n        // The Application loads the Scene in the background at the same time as the current Scene.\n        AsyncOperation asyncLoad = SceneManager.LoadSceneAsync(m_Scene, LoadSceneMode.Additive);\n\n        // Wait until the last operation fully loads to return anything\n        while (!asyncLoad.isDone)\n        {\n            yield return null;\n        }\n\n        // Move the GameObject (you attach this in the Inspector) to the newly loaded Scene\n        SceneManager.MoveGameObjectToScene(m_MyGameObject, SceneManager.GetSceneByName(m_Scene));\n        // Unload the previous Scene\n        SceneManager.UnloadSceneAsync(currentScene);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 498, "user_id": 832560, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/eba4af4e49644cd45640665ff84aa1e0?s=128&d=identicon&r=PG", "display_name": "Cerzi", "link": "https://stackoverflow.com/users/832560/cerzi"}, "edited": false, "score": 0, "creation_date": 1616148070, "post_id": 66699236, "comment_id": 117917379, "body": "This is part of the UnityEditor API and will not work in builds."}], "tags": [], "owner": {"reputation": 46, "user_id": 1273775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de7c86104f0d2a41287c2a64e61eda9?s=128&d=identicon&r=PG", "display_name": "Bohdan Tsymbala", "link": "https://stackoverflow.com/users/1273775/bohdan-tsymbala"}, "is_accepted": false, "score": 0, "last_activity_date": 1616102089, "creation_date": 1616102089, "answer_id": 66699236, "question_id": 50144997, "link": "https://stackoverflow.com/questions/50144997/instantiate-prefab-in-another-scene/66699236#66699236", "title": "Instantiate prefab in (another) scene", "body": "<p>Use <a href=\"https://docs.unity3d.com/ScriptReference/PrefabUtility.InstantiatePrefab.html\" rel=\"nofollow noreferrer\">PrefabUtility.InstantiatePrefab</a>. It allows to specify target Scene.</p>\n"}], "owner": {"reputation": 49, "user_id": 9003520, "user_type": "registered", "profile_image": "https://graph.facebook.com/1323357474458898/picture?type=large", "display_name": "Issam Otoz", "link": "https://stackoverflow.com/users/9003520/issam-otoz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2471, "favorite_count": 1, "accepted_answer_id": 50145438, "answer_count": 3, "score": 1, "last_activity_date": 1616102089, "creation_date": 1525304521, "question_id": 50144997, "link": "https://stackoverflow.com/questions/50144997/instantiate-prefab-in-another-scene", "title": "Instantiate prefab in (another) scene", "body": "<p>when I click button,I load a new Scene and Instantiate prefab.\nthe problem is :the prefab is created in old Scene not new Scene\nhow can Instantiate prefab in next Scene or specific Scene?</p>\n"}, {"tags": ["c#", "interface", "abstract-class", "overloading"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9732567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a7d0db6ce5ee59aac730efa8feae5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex B.", "link": "https://stackoverflow.com/users/9732567/alex-b"}, "edited": false, "score": 0, "creation_date": 1525332291, "post_id": 50145330, "comment_id": 87316238, "body": "Even though it&#39;s not how I would like to have it it&#39;s still a nice approach I didn&#39;t think of. But as you said the consumer can now even cast the object to bypass the mechanism which actually makes it worse."}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "reply_to_user": {"reputation": 21, "user_id": 9732567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a7d0db6ce5ee59aac730efa8feae5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex B.", "link": "https://stackoverflow.com/users/9732567/alex-b"}, "edited": false, "score": 0, "creation_date": 1525333029, "post_id": 50145330, "comment_id": 87316618, "body": "It doesn&#39;t really make it any worse, the consumer can always case it to the interface if it&#39;s implemented by the class. Ultimately, I don&#39;t think there&#39;s a way to prevent it at compile time."}, {"owner": {"reputation": 21, "user_id": 9732567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a7d0db6ce5ee59aac730efa8feae5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex B.", "link": "https://stackoverflow.com/users/9732567/alex-b"}, "edited": false, "score": 0, "creation_date": 1525333144, "post_id": 50145330, "comment_id": 87316687, "body": "That&#39;s true but in approach 1 of my post this wouldn&#39;t make a difference, isn&#39;t it?"}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "reply_to_user": {"reputation": 21, "user_id": 9732567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a7d0db6ce5ee59aac730efa8feae5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex B.", "link": "https://stackoverflow.com/users/9732567/alex-b"}, "edited": false, "score": 0, "creation_date": 1525333200, "post_id": 50145330, "comment_id": 87316719, "body": "Right, I was concentrating on how you might be able to mitigate the error at compile time."}, {"owner": {"reputation": 21, "user_id": 9732567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a7d0db6ce5ee59aac730efa8feae5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex B.", "link": "https://stackoverflow.com/users/9732567/alex-b"}, "edited": false, "score": 0, "creation_date": 1525333446, "post_id": 50145330, "comment_id": 87316866, "body": "I guess what I&#39;d like to achieve is not possible."}], "tags": [], "owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "is_accepted": false, "score": 0, "last_activity_date": 1525307403, "creation_date": 1525307403, "answer_id": 50145330, "question_id": 50144967, "link": "https://stackoverflow.com/questions/50144967/specifying-method-with-interface-parameter/50145330#50145330", "title": "Specifying method with interface parameter", "body": "<p>You could implement the interface explicitly, which would prevent unwanted event types on a concrete instance:</p>\n\n<pre><code>public abstract class EntityBase : IEventSourcable\n{\n    ICollection&lt;IEvent&gt; IEventSourcable.History { get; }\n\n    void IEventSourcable.ApplyEvent(IEvent e)\n    {\n        // Do the magic\n    }\n\n    protected void ApplyEvent(IEvent e)\n    {\n        (this as IEventSourcable).ApplyEvent(e);\n    }\n}\n\npublic class User : EntityBase\n{\n    public void ApplyEvent(UserCreated e)\n    {\n        base.ApplyEvent(e);\n    }\n}\n</code></pre>\n\n<p>However that wouldn't prevent a consumer from casting to an <code>IEventSourcable</code> and adding arbitrary events:</p>\n\n<pre><code>IEventSourcable u = new User();\nu.ApplyEvent(new UserCreated());\nu.ApplyEvent(new UserDeleted());\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9732567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67a7d0db6ce5ee59aac730efa8feae5f?s=128&d=identicon&r=PG&f=1", "display_name": "Alex B.", "link": "https://stackoverflow.com/users/9732567/alex-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1525307403, "creation_date": 1525304227, "last_edit_date": 1525306346, "question_id": 50144967, "link": "https://stackoverflow.com/questions/50144967/specifying-method-with-interface-parameter", "title": "Specifying method with interface parameter", "body": "<p>I spent some time learning how \"Event Sourcing\" works and how one would implement that in C# and i got stuck at some point.\nAs it is very difficult to describe my problem without code I'll first give you a simplified version of my code. I removed all the unneeded code and left the relevant parts.</p>\n\n<pre><code>public interface IEvent { }\npublic class UserCreated : IEvent { }\npublic class UserDeleted : IEvent { }\n\npublic interface IEventSourcable\n{\n    ICollection&lt;IEvent&gt; History { get; }\n    void ApplyEvent(IEvent e);\n}\n\npublic abstract class EntityBase : IEventSourcable\n{\n    public ICollection&lt;IEvent&gt; History { get; }\n    public void ApplyEvent(IEvent e)\n    {\n        History.Add(e);\n    }\n}\n\npublic class User : EntityBase\n{\n    public void ApplyEvent(UserCreated e)\n    {\n        base.ApplyEvent(e)\n    }\n}\n</code></pre>\n\n<p>What I would like to do is to prevent the base method to be used if a matching method is not implemented i. e. </p>\n\n<pre><code>User u = new User();\nu.ApplyEvent(new UserCreated());\n</code></pre>\n\n<p>should work and call the method in User (which it does) but</p>\n\n<pre><code>u.ApplyEvent(new UserDeleted()); \n</code></pre>\n\n<p>should not call the base method but give an error at compile time.</p>\n\n<p>I've seen different approaches which would give a runtime error or simply ignore the problem if a matching method is not implemented like</p>\n\n<ol>\n<li><p>Simply override the method and check the type</p>\n\n<pre><code>public class User : EntityBase\n{\n    public override void ApplyEvent(IEvent e)\n    {\n        if (e is UserCreated)\n            ApplyEvent((UserCreated)e);\n        else if (e is UserDeleted)\n            ApplyEvent((UserDeleted)e);\n        else\n            throw new UnknownEventException(); // Or handle it however\n    }\n}\n</code></pre></li>\n<li><p>Use the dynamic operator</p>\n\n<pre><code>public abstract class EntityBase : IEventSourcable\n{\n    public ICollection&lt;IEvent&gt; History { get; }\n    public void ApplyEvent(IEvent e)\n    {\n        History.Add(e);\n        ((dynamic)this).Apply((dynamic)e);\n    }\n}\n\npublic class User : EntityBase\n{\n    public override void Apply(UserCreated e)\n    {\n        // do something\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>I know I could do it in either one of mentioned ways but I'm more interested in whether what I'm thinking of is possible or not.</p>\n"}, {"tags": ["c#", ".net", "vb.net"], "comments": [{"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1525304716, "post_id": 50144953, "comment_id": 87308148, "body": "Don&#39;t try to parse the RTF. Instead, put the text in a RichTextBox and use the attributes of that control to determine formatting and location of that formatting and use it to write out your own text. You don&#39;t have to display the RichTextBox to do so."}, {"owner": {"reputation": 39513, "user_id": 584183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc31dff5555e427e5829e385376c46c4?s=128&d=identicon&r=PG", "display_name": "jmcilhinney", "link": "https://stackoverflow.com/users/584183/jmcilhinney"}, "edited": false, "score": 0, "creation_date": 1525312333, "post_id": 50144953, "comment_id": 87309752, "body": "If there was something like the HTML Agility Pack for RTF then I&#39;d say use that but, while I haven&#39;t looked for a while, I&#39;ve never seen anything like that for free. As suggested, if you use a <code>RichTextBox</code> then you can set the <code>SelectionStart</code> and then use the <code>SelectionFont</code> to determine the font styles at that location.  Do that for each character location in the text and you can find all bold, italic and underlined sections."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525332789, "post_id": 50144953, "comment_id": 87316492, "body": "I agree with the advice of scanning the characters, watching out for font changes. - If you would go for the rtf text you need to undetstand the rtf file format; possible but non-trivial. The way to go there is parsing for font tables, color tables and their ids. Also: Knowing what you can and can&#39;t expect.. <a href=\"https://stackoverflow.com/search?q=user%3A3152130+rtf+font+table\">Here</a> are two examples; not sure I would do that myself.."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9732585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f147149c459d0b7816c18846ef975c?s=128&d=identicon&r=PG&f=1", "display_name": "Ben C", "link": "https://stackoverflow.com/users/9732585/ben-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1525554232, "creation_date": 1525554232, "answer_id": 50194027, "question_id": 50144953, "link": "https://stackoverflow.com/questions/50144953/windows-form-richtextbox-how-to-find-bold-underline-and-other-text-formatting/50194027#50194027", "title": "Windows Form Richtextbox. How to find bold, underline, and other text formatting in &#39;rtf&#39; and insert other tags for 3rd party vendor", "body": "<p>Thanks for all of your comments. Although not very efficient nor elegant this is getting what I need. Thank you all again.</p>\n\n<pre><code> Public Shared Function ParseRTF(ByRef rtf As RichTextBox) As String\n        Dim returnText As String = \"\"\n        Dim isBold As Boolean = False\n        Dim isUnderline As Boolean = False\n        Dim isItalics As Boolean = False\n        Dim isBullets As Boolean = False\n\n        Dim isBoldBegin As Boolean = False\n        Dim isUnderlineBegin As Boolean = False\n        Dim isItalicsBegin As Boolean = False\n        Dim isBulletsBegin As Boolean = False\n\n        Dim isBoldEnd As Boolean = False\n        Dim isUnderlineEnd As Boolean = False\n        Dim isItalicsEnd As Boolean = False\n        Dim isBulletsEnd As Boolean = False\n\n        Dim tags As String = String.Empty\n\n        Dim bold As String = \"&lt;B&gt;\"\n        Dim underline As String = \"&lt;U&gt;\"\n        Dim italics As String = \"&lt;I&gt;\"\n        Dim bullet As String = \"&lt;T2&gt;&lt;BULLET&gt;\"\n        Dim newLine As String = \"&lt;NL&gt;\"\n        Dim lastChar As String = String.Empty\n\n        rtf.SelectionStart = 0\n        rtf.SelectionLength = 0\n\n        Try\n\n            For x As Integer = 0 To rtf.TextLength - 1\n                rtf.SelectionStart = x\n                rtf.SelectionLength = 1\n                tags = String.Empty\n                isBoldBegin = False\n                isBoldEnd = False\n                isUnderlineBegin = False\n                isUnderlineEnd = False\n                isItalicsBegin = False\n                isItalicsEnd = False\n\n                'Test if text has formatting\n                If rtf.SelectionFont.Bold Then\n                    If Not isBold Then\n                        isBoldBegin = True\n                        isBold = True\n                        isBoldEnd = False\n                    End If\n                Else\n                    If isBold Then\n                        isBoldBegin = False\n                        isBold = False\n                        isBoldEnd = True\n                    End If\n                End If\n\n                If rtf.SelectionFont.Italic Then\n                    If Not isItalics Then\n                        isItalicsBegin = True\n                        isItalics = True\n                        isItalicsEnd = False\n                    End If\n                Else\n                    If isItalics Then\n                        isItalicsBegin = False\n                        isItalics = False\n                        isItalicsEnd = True\n                    End If\n                End If\n\n                If rtf.SelectionFont.Underline Then\n                    If Not isUnderline Then\n                        isUnderlineBegin = True\n                        isUnderline = True\n                        isUnderlineEnd = False\n                    End If\n                Else\n                    If isUnderline Then\n                        isUnderlineBegin = False\n                        isUnderline = False\n                        isUnderlineEnd = True\n                    End If\n                End If\n                'END Test if text has formatting\n\n\n                ' Do reverse order if for any \"END\" tags\n                If isUnderlineEnd Then\n                    tags += underline\n                End If\n\n                If isItalicsEnd Then\n                    tags += italics\n                End If\n\n                If isBoldEnd Then\n                    tags += bold\n                End If\n\n                'Work with beginning tags\n                If isBoldBegin Then\n                    tags += bold\n                End If\n\n                If isItalicsBegin Then\n                    tags += italics\n                End If\n\n                If isUnderlineBegin Then\n                    tags += underline\n                End If\n\n                If x = rtf.TextLength - 1 Then\n                    If isUnderline Then\n                        lastChar += underline\n                    End If\n                    If isItalics Then\n                        lastChar += italics\n                    End If\n                    If isBold Then\n                        lastChar += bold\n                    End If\n                End If\n\n                If rtf.SelectedText.Contains(vbLf) Then\n                    If Not String.IsNullOrWhiteSpace(tags) Then\n                        If isBoldBegin Or isUnderlineBegin Or isItalicsBegin Then\n                            returnText += newLine &amp; tags\n                        End If\n\n                        If isBoldEnd Or isUnderlineEnd Or isItalicsEnd Then\n                            returnText += tags &amp; newLine\n                        End If\n                    Else\n                        returnText += newLine\n                    End If\n                Else\n                    returnText += tags &amp; rtf.SelectedText\n                End If\n\n                If Not String.IsNullOrWhiteSpace(lastChar) Then\n                    returnText += lastChar\n                End If\n            Next\n\n            Return returnText\n\n\n        Catch ex As Exception\n            Throw New CvrException(ex, ErrorCodes.UNKNOWN_ERROR)\n        Finally\n        End Try\n    End Function\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9732585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f147149c459d0b7816c18846ef975c?s=128&d=identicon&r=PG&f=1", "display_name": "Ben C", "link": "https://stackoverflow.com/users/9732585/ben-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 50194027, "answer_count": 1, "score": 0, "last_activity_date": 1525554232, "creation_date": 1525304107, "question_id": 50144953, "link": "https://stackoverflow.com/questions/50144953/windows-form-richtextbox-how-to-find-bold-underline-and-other-text-formatting", "title": "Windows Form Richtextbox. How to find bold, underline, and other text formatting in &#39;rtf&#39; and insert other tags for 3rd party vendor", "body": "<p>Thanks for reading. </p>\n\n<p>I am storing RTF text in a database column that can contain bold, italics, underline, and other text formatting from a Windows form Richtextbox. We need to export the text to a 3rd party vendor that has a different defined set of tags that tells the vendor how to format the text. Unfortunately, the 3rd party vendor cannot read RTF format nor can they read HTML, XML, etc. </p>\n\n<p>We need to export the 'plain' text in the richtextbox but find where the user added bold, italic, underline, and other formatting to the text and replace with the 3rd party vendor tags.</p>\n\n<p>For example... I need to parse through something like the rtf below...</p>\n\n<p>{\\rtf1\\ansi\\ansicpg1252\\deff0\\deflang1033{\\fonttbl{\\f0\\fnil\\fcharset0 Verdana;}}  \\viewkind4\\uc1\\pard\\f0\\fs18 This is \\b bold\\par  \\par  \\b0 This is\\b  \\b0\\i italics\\par  \\par  \\i0 This is \\ul underline\\ulnone\\par  }</p>\n\n<p>and create something like this:</p>\n\n<p>\"this is [B]bold[B]</p>\n\n<p>this is [I]italics[I]</p>\n\n<p>this is [U]underline[U]\"</p>\n\n<p>Does anyone know how this could be accomplished?</p>\n\n<p>Greatly appreciate any help.</p>\n"}, {"tags": ["c#", "winforms", "visual-studio"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 2, "creation_date": 1525303824, "post_id": 50144905, "comment_id": 87307973, "body": "You need to adjust your anchors/docking for the controls, or use WPF/UWP which is designed to scale much more dynamically."}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 1, "creation_date": 1525304038, "post_id": 50144905, "comment_id": 87308017, "body": "Yes, you will have to dock these items. Winforms are not very good at this but you can achieve by creating multiple panels and then docking the list boxes in them."}, {"owner": {"reputation": 209, "user_id": 5020863, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc3d96ce1411ce7064767e50fc4fa363?s=128&d=identicon&r=PG&f=1", "display_name": "AmishJohn81", "link": "https://stackoverflow.com/users/5020863/amishjohn81"}, "edited": false, "score": 0, "creation_date": 1525306425, "post_id": 50144905, "comment_id": 87308509, "body": "Thank you both! I don&#39;t understand the downvote(s) haha"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1525309817, "post_id": 50144905, "comment_id": 87309217, "body": "@AmishJohn81 I didn&#39;t DV, it seems to be a theme around here to DV every new question that isn&#39;t above an &quot;Advanced&quot; level. Don&#39;t let it discourage you."}], "answers": [{"tags": [], "owner": {"reputation": 23885, "user_id": 20382, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cf2d51b76b8f3d77a12fa4c945096fb2?s=128&d=identicon&r=PG", "display_name": "TcKs", "link": "https://stackoverflow.com/users/20382/tcks"}, "is_accepted": true, "score": 1, "last_activity_date": 1525309839, "creation_date": 1525309839, "answer_id": 50145594, "question_id": 50144905, "link": "https://stackoverflow.com/questions/50144905/how-to-use-visual-studios-c-windows-forms-design-view-for-a-scalable-resizable/50145594#50145594", "title": "How to use Visual Studio&#39;s C# Windows Forms Design View for a Scalable/Resizable Window?", "body": "<p>The anchors was always (I don't know why) littlebit broken. Use the composition of nested <code>Panel</code>s and use the <code>Dock</code> and <code>Padding</code> properties instead of anchros.</p>\n"}], "owner": {"reputation": 209, "user_id": 5020863, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc3d96ce1411ce7064767e50fc4fa363?s=128&d=identicon&r=PG&f=1", "display_name": "AmishJohn81", "link": "https://stackoverflow.com/users/5020863/amishjohn81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 50145594, "answer_count": 1, "score": 0, "last_activity_date": 1525309839, "creation_date": 1525303659, "question_id": 50144905, "link": "https://stackoverflow.com/questions/50144905/how-to-use-visual-studios-c-windows-forms-design-view-for-a-scalable-resizable", "title": "How to use Visual Studio&#39;s C# Windows Forms Design View for a Scalable/Resizable Window?", "body": "<p>I am attempting to create a Windows Forms Application that will have components that scale when the window is being resized. I am running into issues with the Form when attempting to resize it when the application is running. First of all, this is what it looks like in the editor at its Minimum Size:<a href=\"https://i.stack.imgur.com/8wUci.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8wUci.png\" alt=\"in the design view\"></a></p>\n\n<p>Then I stretch it out at run time and it is even on both sides (after tinkering with the Fixed-Splitter position:<a href=\"https://i.stack.imgur.com/GFt1S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GFt1S.png\" alt=\"wider\"></a></p>\n\n<p>I run into more problems when attempting to put List Boxes in the blue and red panels. In design:<a href=\"https://i.stack.imgur.com/z3YlC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3YlC.png\" alt=\"with list box\"></a></p>\n\n<p>Stretched:<a href=\"https://i.stack.imgur.com/0gIlx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0gIlx.png\" alt=\"with list box\"></a></p>\n\n<p>I want the list boxes to nicely fill most of the width of each side, but when I attempt to use the Anchor tags it gets messed up.</p>\n\n<p>So to sum up: Why is the designer all asymmetrical compared to the finished product and how do I make the List Boxes fit and scale in width when the window is resized?</p>\n\n<p>I am using VS17 if that helps! Thanks!</p>\n"}, {"tags": ["c#", ".net", "automapper"], "answers": [{"tags": [], "owner": {"reputation": 16731, "user_id": 8601760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9348fa94d90ab91964df9cc40f6d6d27?s=128&d=identicon&r=PG&f=1", "display_name": "aaron", "link": "https://stackoverflow.com/users/8601760/aaron"}, "is_accepted": true, "score": 1, "last_activity_date": 1525314601, "creation_date": 1525314601, "answer_id": 50146083, "question_id": 50144830, "link": "https://stackoverflow.com/questions/50144830/automapper-overwriting-nested-field-with-null/50146083#50146083", "title": "AutoMapper overwriting nested field with null", "body": "<p>That's because you specified:</p>\n\n<pre><code>new EntityAdditional\n{\n    Editable = i.Additional.Editable\n//, NotEditable = null // Default value\n}));\n</code></pre>\n\n<p>No need for custom mapping:</p>\n\n<pre><code>Mapper.CreateMap&lt;EntityAdditional, DtoAdditional&gt;()\n    .ReverseMap();\n\nMapper.CreateMap&lt;Entity, Dto&gt;()\n    .ReverseMap();\n</code></pre>\n"}], "owner": {"reputation": 6163, "user_id": 985012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/CAxo1.png?s=128&g=1", "display_name": "TomSelleck", "link": "https://stackoverflow.com/users/985012/tomselleck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 50146083, "answer_count": 1, "score": 0, "last_activity_date": 1525314601, "creation_date": 1525302973, "question_id": 50144830, "link": "https://stackoverflow.com/questions/50144830/automapper-overwriting-nested-field-with-null", "title": "AutoMapper overwriting nested field with null", "body": "<p>I have the following piece of code which should:</p>\n\n<ol>\n<li>Convert entity to dto</li>\n<li>Update property in dto</li>\n<li>Convert dto back to entity</li>\n<li>Update original entity with updated properties</li>\n</ol>\n\n<p>This nearly works but during the final update - one of the fields is being set to null, but it should not be touched.</p>\n\n<p>Main:</p>\n\n<pre><code>Entity e = new Entity(\"Id\")\n{\n    Additional = new EntityAdditional()\n    {\n        Editable = \"Change Me!\",\n        NotEditable = \"Don't Change Me!\"\n    }\n};\n\nDto dto = Mapper.Map&lt;Dto&gt;(e);\n\ndto.Additional.Editable = \"Changed!\";\n\nMapper.Map&lt;Dto, Entity&gt;(dto, e); // e NotEditable is null!\n</code></pre>\n\n<p>Mapping:</p>\n\n<pre><code>config.CreateMap&lt;Entity, Dto&gt;()\n    .ForMember(d =&gt; d.Additional,\n    input =&gt; input.MapFrom(i =&gt; new DtoAdditional{\n        Editable = i.Additional.Editable\n    }));\n\nconfig.CreateMap&lt;Dto, Entity&gt;()\n    .ForMember(d =&gt; d.Additional,\n    input =&gt; input.MapFrom(i =&gt; new EntityAdditional\n    {\n        Editable = i.Additional.Editable\n    }));\n</code></pre>\n\n<p>Entity:</p>\n\n<pre><code>public class Entity\n{\n    public string Id { get; set; }\n    public EntityAdditional Additional { get; set; }\n\n    public Entity(string id) {\n        Id = id;\n        Additional = new EntityAdditional()\n        {\n            Editable = \"Editable\",\n            NotEditable = \"UnEditable\"\n        };\n    }\n}\n\npublic class EntityAdditional\n{\n    public string Editable { get; set; }\n    public string NotEditable { get; set; }\n}\n</code></pre>\n\n<p>Dto:</p>\n\n<pre><code>public class Dto\n{\n    public DtoAdditional Additional { get; set; }\n}\n\npublic class DtoAdditional\n{\n    public string Editable { get; set; }\n}\n</code></pre>\n"}, {"tags": ["c#", "css", "itext", "html-to-pdf"], "comments": [{"owner": {"reputation": 6048, "user_id": 766786, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/5uuw5.jpg?s=128&g=1", "display_name": "Amedee Van Gasse", "link": "https://stackoverflow.com/users/766786/amedee-van-gasse"}, "edited": false, "score": 2, "creation_date": 1525326013, "post_id": 50144727, "comment_id": 87313487, "body": "iText 5 (formerly known as iTextSharp) does not have full CSS support. iText 7 (latest version 7.1.2), with the pdfHTML add-on, supports a lot more CSS."}, {"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 1, "creation_date": 1525345721, "post_id": 50144727, "comment_id": 87324576, "body": "Please read the question <a href=\"https://stackoverflow.com/questions/47895935\">Converting HTML to PDF using iText</a>, and my answer to that question."}], "owner": {"reputation": 67, "user_id": 3530415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b2f3117aed408fd312fd19826ba87cd?s=128&d=identicon&r=PG&f=1", "display_name": "II Basil II", "link": "https://stackoverflow.com/users/3530415/ii-basil-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1950, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1535582915, "creation_date": 1525302144, "question_id": 50144727, "link": "https://stackoverflow.com/questions/50144727/itextsharp-converting-from-html-to-pdf-some-css-doesnt-work", "title": "iTextSharp converting from HTML to PDF some CSS doesn&#39;t work", "body": "<p>I'm converting from html to pdf using iTextSharp. the problem is some css style doesn't work when converted to pdf when I try something like  margin-right:500px; or float:left; it doesn't work. however when I try something like color:red; it works.\nI'm using external css and this is how I'm converting </p>\n\n<pre><code>       MemoryStream cssStream = new MemoryStream(cssByteArray);\n   MemoryStream htmlStream = new MemoryStream(htmlByteArray);\nXMLWorkerHelper.GetInstance().ParseXHtml(writer,document,htmlStream,cssStream);\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/*css*/\r\n/*this one doesn't work */\r\n .example{\r\nfloat:right;\r\n}\r\n\r\n/*this one doesn't work */\r\n .secondexample{\r\nmargin-right:500px;\r\n}\r\n\r\n/*this one works*/\r\n.thirdexample{\r\n  color:red;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>am I missing something? does iTextSharp has full CSS support ? </p>\n\n<p>Thank You</p>\n"}, {"tags": ["c#", ".net", "web-services", "asp.net-web-api", "http-post"], "answers": [{"tags": [], "owner": {"reputation": 7843, "user_id": 441664, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/506c540d0148b7040a790ae7fff572c7?s=128&d=identicon&r=PG", "display_name": "Sharpeye500", "link": "https://stackoverflow.com/users/441664/sharpeye500"}, "is_accepted": false, "score": 0, "last_activity_date": 1525305835, "creation_date": 1525305835, "answer_id": 50145162, "question_id": 50144708, "link": "https://stackoverflow.com/questions/50144708/formurlencodedcontent-with-list-object-and-other-mixed-datatypes-for-post-method/50145162#50145162", "title": "FormUrlEncodedContent with LIST object and other mixed datatypes for POST method", "body": "<p>Serializing the class objecto JSON</p>\n\n<pre><code>var content = JsonConvert.SerializeObject(myDetails); //myDetails is my class object.\nvar buffer = System.Text.Encoding.UTF8.GetBytes(content);\nvar byteContent = new ByteArrayContent(buffer);\nbyteContent.Headers.ContentType = new MediaTypeHeaderValue(\"application/json\");   \n\n var response = await client.PostAsync(url, byteContent);\n</code></pre>\n\n<p>Yielded the right result.</p>\n"}, {"tags": [], "owner": {"reputation": 707, "user_id": 3090913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JYveg.png?s=128&g=1", "display_name": "MayankGaur", "link": "https://stackoverflow.com/users/3090913/mayankgaur"}, "is_accepted": false, "score": 0, "last_activity_date": 1566480037, "last_edit_date": 1566480037, "creation_date": 1565087378, "answer_id": 57374019, "question_id": 50144708, "link": "https://stackoverflow.com/questions/50144708/formurlencodedcontent-with-list-object-and-other-mixed-datatypes-for-post-method/57374019#57374019", "title": "FormUrlEncodedContent with LIST object and other mixed datatypes for POST method", "body": "<p>I have done like that. \nHere is my class details</p>\n\n<pre><code> public class AddTenantRequestdto\n{\n    public IFormFile TenantLogo { get; set; }    \n    public string TenantTitle { get; set; } \n    public List&lt;string&gt; ApplicationName { get; set; }  \n    public bool EnableOTP { get; set; }\n\n}\n</code></pre>\n\n<p>Here is my API</p>\n\n<pre><code>    public async Task Tenant_Create_Success(AddTenantRequestdto addTenantRequest)\n            {\n                HttpClient Client = new HttpClient();\n\n               var tenantData = addTenantRequestdto.ToFormData();          \n\n    var response = await _TestFixture.Client.PostAsync(\"http://localhost:61234/Tenants/CreateTenant\", tenantData);\n\n                response.StatusCode.Should().Be(HttpStatusCode.OK);\n            }\n</code></pre>\n\n<p>Extension Method is here, Add Newtonsoft.Json Package:-</p>\n\n<pre><code> public static class ExtensionMethods\n{\n    public static IDictionary&lt;string, string&gt; ToKeyValue(this object metaToken)\n    {\n        if (metaToken == null)\n        {\n            return null;\n        }\n\n        // Added by me: avoid cyclic references\n        var serializer = new JsonSerializer { ReferenceLoopHandling = ReferenceLoopHandling.Ignore };\n        var token = metaToken as JToken;\n        if (token == null)\n        {\n            // Modified by me: use serializer defined above\n            return ToKeyValue(JObject.FromObject(metaToken, serializer));\n        }\n\n        if (token.HasValues)\n        {\n            var contentData = new Dictionary&lt;string, string&gt;();\n            foreach (var child in token.Children().ToList())\n            {\n                var childContent = child.ToKeyValue();\n                if (childContent != null)\n                {\n                    contentData = contentData.Concat(childContent)\n                                             .ToDictionary(k =&gt; k.Key, v =&gt; v.Value);\n                }\n            }\n\n            return contentData;\n        }\n\n        var jValue = token as JValue;\n        if (jValue?.Value == null)\n        {\n            return null;\n        }\n\n        var value = jValue?.Type == JTokenType.Date ?\n                        jValue?.ToString(\"o\", CultureInfo.InvariantCulture) :\n                        jValue?.ToString(CultureInfo.InvariantCulture);\n\n        return new Dictionary&lt;string, string&gt; { { token.Path, value } };\n    }\n\n    public static FormUrlEncodedContent ToFormData(this object obj)\n    {\n        var formData = obj.ToKeyValue();\n\n        return new FormUrlEncodedContent(formData);\n    }\n}\n</code></pre>\n\n<p>Hope I have explained well, and it's working fine for me</p>\n"}], "owner": {"reputation": 7843, "user_id": 441664, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/506c540d0148b7040a790ae7fff572c7?s=128&d=identicon&r=PG", "display_name": "Sharpeye500", "link": "https://stackoverflow.com/users/441664/sharpeye500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1242, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566480037, "creation_date": 1525301985, "question_id": 50144708, "link": "https://stackoverflow.com/questions/50144708/formurlencodedcontent-with-list-object-and-other-mixed-datatypes-for-post-method", "title": "FormUrlEncodedContent with LIST object and other mixed datatypes for POST method", "body": "<p>POST method</p>\n\n<pre><code>SaveData([FromBody]MyDetails myDetails)\n</code></pre>\n\n<p>MyDetails is a class with</p>\n\n<pre><code>public int Id;\npublic int LocationId;\npublic List&lt;Employee&gt; Employee;\npublic bool Status;\n</code></pre>\n\n<p>Employee is a class with </p>\n\n<pre><code>public int EmployeeId;\npublic Name EmployeeName;\n\n\n\nvar values = new Dictionary&lt;string, string&gt;\n                        {\n                            {\"Id\",myDetails.Id.ToString()},\n                            {\"LocationId\", myDetails.LocationId.ToString()},\n                            {\"Status\", myDetails.Status.ToString()},\n                 {\"Employee\", myDetails.Employee.ToString()} -- How do i send List Employee part of FormURLEncodedContent, i know this is wrong, i am having hard time getting this to work?\n\n                        };\n\nvar encodedContent = new FormUrlEncodedContent(values);\n var response = await client.PostAsync(url, encodedContent); //url points to POST method SaveData, which accepts MyDetails class object as parameter.\n</code></pre>\n"}, {"tags": ["c#", "unity3d", "timer"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9732530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ee1bc3caebb1cff3bcf28abb99d79a?s=128&d=identicon&r=PG&f=1", "display_name": "learningToCode", "link": "https://stackoverflow.com/users/9732530/learningtocode"}, "edited": false, "score": 0, "creation_date": 1525365066, "post_id": 50144916, "comment_id": 87337517, "body": "Thank you.  @Draco18s. Yes I am being inefficient! I guess I am putting too many things in one class?  Could you explain how I can do option 1? To use for different modes and still run the game ?   2. I am giving this a shot based on examples and will let you know..."}, {"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "reply_to_user": {"reputation": 1, "user_id": 9732530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ee1bc3caebb1cff3bcf28abb99d79a?s=128&d=identicon&r=PG&f=1", "display_name": "learningToCode", "link": "https://stackoverflow.com/users/9732530/learningtocode"}, "edited": false, "score": 0, "creation_date": 1525380036, "post_id": 50144916, "comment_id": 87345028, "body": "its going to be pretty specific for your use-case, but the general idea is to have some kind of common structure that all of your timed-things have and encapsulate it in an abstract class or an interface, which you then extend and implement specific functionality for."}], "tags": [], "owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "is_accepted": false, "score": 0, "last_activity_date": 1525303769, "creation_date": 1525303769, "answer_id": 50144916, "question_id": 50144673, "link": "https://stackoverflow.com/questions/50144673/how-to-manage-multiple-timers-to-control-various-elements-of-unity-game/50144916#50144916", "title": "How to manage multiple timers to control various elements of Unity game?", "body": "<pre><code>public static float timeLefts;\npublic float timeBeforeChange;\nprivate static TimeSpan time1, time2, homeTime, dwellTime, requiredDwellTime;\nprivate DateTime time12, startTime, dwellTimeStart;\n</code></pre>\n\n<p>Oh geezus. You have TEN timer values you're keeping track of inside a <em>single class</em>. This is Not The Way To Go.</p>\n\n<p>You have two options:</p>\n\n<ol>\n<li>Custom object(s) that you can instantiate and hold their time value and perform whatever-task as needed, you store these in a list that you update every frame.</li>\n<li><a href=\"https://docs.unity3d.com/Manual/Coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a>, where you say \"execute this function as a coroutine\" and inside that function you can do things like <code>yield return new WaitForSeconds(5)</code> to make the execution of that function pause for 5 seconds (or however long).</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 9732530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1ee1bc3caebb1cff3bcf28abb99d79a?s=128&d=identicon&r=PG&f=1", "display_name": "learningToCode", "link": "https://stackoverflow.com/users/9732530/learningtocode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525303769, "creation_date": 1525301738, "last_edit_date": 1525303228, "question_id": 50144673, "link": "https://stackoverflow.com/questions/50144673/how-to-manage-multiple-timers-to-control-various-elements-of-unity-game", "title": "How to manage multiple timers to control various elements of Unity game?", "body": "<p>My end goal is to have a tile game with Home tile and surrounding tiles- character moves to highlighted square and back to home square at the speed in which the game is presented. I am trying to design a game with few speed modes. \nTwo Instances being-</p>\n\n<ol>\n<li><em>HomeTile</em> highlighted then <em>Tile 3</em> (highlighted for x seconds) then\n<em>HomeTile</em> then <em>Tile 8</em> (highlighted for x seconds) then <em>HomeTile</em>.... so\non. The x seconds can be increased or decreased by a UI slider. Points are given as the charachter enters the correct highlighted tile.</li>\n<li><em>HomeTile</em> highlighted then <em>Tile 3</em> (highlighted for x seconds) &amp;\ncharacter needs to be on this tile for y seconds to get point then\n<em>HomeTile</em> highlighted then <em>Tile 8</em> (highlighted for x seconds) and character\nstays for y seconds for point then <em>HomeTile</em>... and so on... Again speed\nis controlled by UI slider. </li>\n</ol>\n\n<blockquote>\n  <p>y= 80% of x seconds.</p>\n</blockquote>\n\n<pre><code>using UnityEngine;\nusing System.Collections;\nusing UnityEngine.UI;\nusing System.IO;\nusing System;\nusing System.Collections.Generic;\n\npublic class MultiDirection_short : MonoBehaviour\n{\n    public Slider speedSlider;\n    public int scoreValue;\n    public static bool onTargetFlag = false; // flag to indicate character on target\n    public static bool failedTargetReachFlag = false; // flag to indicate character did not reach the target\n\n    public int currentRowNumber;\n    public int randomNumber;\n\n    private Double elapsedTime;\n    public static float timeLefts;\n    public float timeBeforeChange;\n\n    private static TimeSpan time1, time2, homeTime, dwellTime, requiredDwellTime;\n    private DateTime time12, startTime, dwellTimeStart;\n    private bool homeSquareLit = true; // To indicate if the home Tile is on.\n    private bool targetTile = false; //to indicate if any of the target tiles are on.\n\n    void Start()\n    {\n        startTime = DateTime.Now; // time declared at the start of the program. This is valid for first iteration. \n    }\n\n    void Update()\n    {\n        timeBeforeChange = Scaler.speedPres;\n        time2 = new TimeSpan(0, 0, (int)timeBeforeChange);\n        Debug.Log(\"TimeBeforeChange: \" + (int)timeBeforeChange);\n        homeTime = new TimeSpan(0, 0, 1);\n        Debug.Log(\"t2/2=\" + time2.Seconds / 2);\n\n        elapsedTime = (timeLefts % 60) - DateTime.Now.Second;\n        time12 = DateTime.Now; // the current time\n\n        TimeSpan time1 = time12 - startTime;\n        Debug.Log(\"Time1: \" + time1);\n\n        if (gameManager.Instance.Play)\n        {\n            if (!gameManager.Instance.Paused)\n            {\n                Scaler.speedPres = speedSlider.value;  // to ensure the values dont change randomly before the play button is pressed. \n            }\n        }\n\n        if (gameManager.Instance.Paused)\n        {\n            Scaler.speedPres = speedSlider.value;  // to ensure the values dont change randomly before the play button is pressed. \n            randomNumber = 0;\n\n            //highlight the home square and make everything else white\n            HomeTile.GetComponent&lt;Renderer&gt;().material.color = Color.grey;\n            FrontLeftTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;\n            FrontRightTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;\n        }\n\n        if ((time1 &gt; homeTime) &amp;&amp; (homeSquareLit)) // TARGET SQUARE lit\n        {\n            randomNumber = UnityEngine.Random.Range(1, 10);\n\n            //Defining the conditions in which the squares light up- EACH CASE per square\n            switch ((randomNumber))\n            {\n                case 1:\n                    FrontLeftTile.GetComponent&lt;Renderer&gt;().material.color = Color.blue;//1 \n                    HomeTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//0\n                    FrontRightTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//4\n\n                    break;\n                case 2:\n                    FrontRightTile.GetComponent&lt;Renderer&gt;().material.color = Color.red;//2\n                    HomeTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//0 \n                    FrontLeftTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//3\n\n                    break;\n\n                default:\n                    targetTile = false;\n                    homeSquareLit = false;\n                    break;\n            }\n            startTime = time12;\n            Debug.Log(\"startTime: \" + startTime);\n\n        }\n\n        if ((time1 &gt; time2) &amp;&amp; (!homeSquareLit)) // HOME SQUARE BLOCK\n        {\n            Debug.Log(\"inside home square block, randNum_ now:  \" + randomNumber);\n\n            switch ((randomNumber))\n            {\n                case 1:\n\n                    HomeTile.GetComponent&lt;Renderer&gt;().material.color = Color.blue;\n                    FrontLeftTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//3\n                    FrontRightTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//4\n                    break;\n\n                case 2:\n\n                    HomeTile.GetComponent&lt;Renderer&gt;().material.color = Color.red;\n                    FrontLeftTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//3\n                    FrontRightTile.GetComponent&lt;Renderer&gt;().material.color = Color.white;//4\n                default:\n                    break;\n            }\n            startTime = time12;\n        }\n    }\n\nvoid OnTriggerEnter(Collider other)\n{\n    dwellTimeStart = DateTime.Now;\n    requiredDwellTime = new TimeSpan(0, 0, 1);\n    DateTime requiredDwellTime = 1.5f;\n    if ((dwellTimeStart.Second &gt; requiredDwellTime.Seconds)) // TARGET SQUARE lit\n    {//trigger or change color of tile as above.\n}\n</code></pre>\n\n<p>So for the First Scenario- This code works fine as is.. However when I reduce the time on the slider below 2 seconds then the the half equals 0 as int. Then the game stops working with the if statements... Or if statements are removed then it works so fast that it looks like its flickering between the targets. </p>\n\n<p>Am I supposed to use a different timer? AM i mistakenly taking update time?</p>\n"}, {"tags": ["c#", ".net", "msbuild"], "answers": [{"tags": [], "owner": {"reputation": 35588, "user_id": 573218, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/m5syD.png?s=128&g=1", "display_name": "John Koerner", "link": "https://stackoverflow.com/users/573218/john-koerner"}, "is_accepted": false, "score": 0, "last_activity_date": 1526310891, "creation_date": 1526310891, "answer_id": 50333748, "question_id": 50144653, "link": "https://stackoverflow.com/questions/50144653/is-it-possible-to-force-msbuild-to-only-build-a-project-once-regardless-of-prop/50333748#50333748", "title": "Is it possible to force MSBuild to Only Build A Project Once, Regardless of Properties?", "body": "<p>This is a <a href=\"https://github.com/Microsoft/msbuild/issues/2366\" rel=\"nofollow noreferrer\">bug</a> in MSBuild when referencing C++ CLI projects from multi-targeting projects. It appears they are putting in a fix to address this.  </p>\n\n<p>To work around the bug, the property can be removed from the reference using the <code>GlobalPropertiesToRemove</code> attribute:</p>\n\n<pre><code>&lt;ProjectReference Include=\"..\\B.CppCLILibrary\\B.CppCLILibrary.vcxproj\" GlobalPropertiesToRemove=\"TargetFramework\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14371, "user_id": 321866, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/25e93a50d485eca289f887868e1bcea5?s=128&d=identicon&r=PG", "display_name": "C Johnson", "link": "https://stackoverflow.com/users/321866/c-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1526316204, "creation_date": 1526316204, "answer_id": 50335235, "question_id": 50144653, "link": "https://stackoverflow.com/questions/50144653/is-it-possible-to-force-msbuild-to-only-build-a-project-once-regardless-of-prop/50335235#50335235", "title": "Is it possible to force MSBuild to Only Build A Project Once, Regardless of Properties?", "body": "<p>Only you could have correctly solved this since we do not have access to your code. But generally MSBuild and all build systems operate under the rule that a build 'target' is only processed once. No matter how many projects refer to it. </p>\n\n<p>A build system should provide language for the user to specify dependencies between different 'targets'. And then it is up to the build system to figure out in which order to build these things in. (i.e. called a topological sort). Beginning or starting with making the most independent targets all the way to the least independent target.</p>\n\n<p>If something is getting built twice it could be:\n1. A bug in the build system. \n2. The user forcing the project to build twice.</p>\n\n<p>Anyways glad you got it sorted out.</p>\n"}], "owner": {"reputation": 35588, "user_id": 573218, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/m5syD.png?s=128&g=1", "display_name": "John Koerner", "link": "https://stackoverflow.com/users/573218/john-koerner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1526316204, "creation_date": 1525301569, "last_edit_date": 1525358989, "question_id": 50144653, "link": "https://stackoverflow.com/questions/50144653/is-it-possible-to-force-msbuild-to-only-build-a-project-once-regardless-of-prop", "title": "Is it possible to force MSBuild to Only Build A Project Once, Regardless of Properties?", "body": "<p>I am currently migrating a large solution from the old <code>csproj</code> file format to the new <code>csproj</code> format.  I am doing this a few projects at a time, so I have a mixed environment with some projects using the old project file format and some projects using the new project file format.</p>\n\n<p>I have started to notice some builds failing because files are in use. My theory (based on <a href=\"https://stackoverflow.com/a/17408407/573218\">this answer</a>) is that MSBuild is building some projects twice because the properties are different (i.e. the new project file format specify the <code>TargetFramework</code> property while old projects do not).</p>\n\n<p>The projects that seem to have concurrency issues are projects that are referenced by other projects, where the referencing projects are split between the project file formats.</p>\n\n<p>The command I am using to build the project is:</p>\n\n<pre><code>msbuild.exe /maxcpucount:6 /property:Configuration=Debug;Platform=x64 /t:Rebuild my.sln\n</code></pre>\n\n<p>Is there a way to instruct MSBuild to only build a given project once (regardless of properties) until I am able to convert all of the projects in the solution over to the new project file format?</p>\n\n<p>Note that building single threaded does correct the concurrency issues, but that significantly slows down the build and the projects are still built multiple times.</p>\n"}, {"tags": ["c#", "asp.net-core", "swagger"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525301310, "post_id": 50144567, "comment_id": 87307447, "body": "You are telling Swagger to require authentication, but you are not enabling authentication nor configuring it in the ASP.NET Core side"}, {"owner": {"reputation": 15734, "user_id": 560660, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/05b5db3474d863fd69426ce3c7ee500c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/560660/craig"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525301456, "post_id": 50144567, "comment_id": 87307477, "body": "Thanks @CamiloTerevinto - that does seem to be the issue, but I&#39;m not sure where/how to define it."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525301703, "post_id": 50144567, "comment_id": 87307539, "body": "I won&#39;t flag as duplicate (because that would be a lie), but you can find a sample implementation <a href=\"https://stackoverflow.com/questions/45715394/asp-net-core-2-0-bearer-auth-without-identity\">here</a>. As you can see, it&#39;s not an easy/fast job. It would be quite good if you implemented that and posted an answer with that + swagger working"}], "owner": {"reputation": 15734, "user_id": 560660, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/05b5db3474d863fd69426ce3c7ee500c?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/560660/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1831, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1525301258, "creation_date": 1525300835, "last_edit_date": 1525301258, "question_id": 50144567, "link": "https://stackoverflow.com/questions/50144567/swagger-with-core-2-0-and-jwt-authentication", "title": "Swagger with Core 2.0 and JWT Authentication", "body": "<p>I'm moving my Asp.Net WebAPI endpoints to a .Net Core 2.0 project, but am battling with Swagger for API testing. At the moment, I am getting the following error:</p>\n\n<blockquote>\n  <p>InvalidOperationException: No authenticationScheme was specified, and\n  there was no DefaultChallengeScheme found.</p>\n</blockquote>\n\n<p>I am running Swashbuckle.AspNetCore 2.4.0</p>\n\n<p>I added my AddSwashbuckle to my ConfigureService in <code>Startup.cs</code></p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    services.AddCors();\n    services.AddSwaggerDocumentation();\n    services.AddMvc();\n}\n</code></pre>\n\n<p>And in the Configure method, I added the Add line for swashbuckle. </p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n{\n    if (env.IsDevelopment())\n    {\n        app.UseDeveloperExceptionPage();\n        app.UseSwaggerDocumentation();\n    }\n\n    app.UseCors(builder =&gt; builder.WithOrigins(\"*\"));\n    app.UseMvc();\n}\n</code></pre>\n\n<p>I added the extension method for handling Swagger.</p>\n\n<pre><code>using Microsoft.AspNetCore.Builder;\nusing Microsoft.Extensions.DependencyInjection;\nusing Swashbuckle.AspNetCore.Swagger;\nusing System.Collections.Generic;\n\nnamespace JwtSwaggerDemo.Infrastructure\n{\n    public static class SwaggerServiceExtensions\n    {\n        public static IServiceCollection AddSwaggerDocumentation(this IServiceCollection services)\n        {\n            services.AddSwaggerGen(c =&gt;\n            {\n                c.SwaggerDoc(\"v1.0\", new Info { Title = \"Main API v1.0\", Version = \"v1.0\" });\n\n                // Swagger 2.+ support\n                var security = new Dictionary&lt;string, IEnumerable&lt;string&gt;&gt;\n                {\n                    {\"Bearer\", new string[] { }},\n                };\n\n                c.AddSecurityDefinition(\"Bearer\", new ApiKeyScheme\n                {\n                    Description = \"JWT Authorization header using the Bearer scheme. Example: \\\"Authorization: Bearer {token}\\\"\",\n                    Name = \"Authorization\",\n                    In = \"header\",\n                    Type = \"apiKey\"\n                });\n                c.AddSecurityRequirement(security);\n            });\n\n            return services;\n        }\n\n        public static IApplicationBuilder UseSwaggerDocumentation(this IApplicationBuilder app)\n        {\n            app.UseSwagger();\n            app.UseSwaggerUI(c =&gt;\n            {\n                c.SwaggerEndpoint(\"/swagger/v1.0/swagger.json\", \"Versioned API v1.0\");\n\n                c.DocumentTitle = \"Title Documentation\";\n                c.DocExpansion(DocExpansion.None);\n            });\n\n            return app;\n        }\n    }\n}\n</code></pre>\n\n<p>(Note this was following <a href=\"https://ppolyzos.com/2017/10/30/add-jwt-bearer-authorization-to-swagger-and-asp-net-core/\" rel=\"nofollow noreferrer\">this post</a>.</p>\n\n<p>However, I get the error as stated above, and cannot see how I can get this to work. I seem to be missing something somewhere. How can I resolve this issue or see where the problem lies?</p>\n"}, {"tags": ["c#", "graphics", "drawing", "drawstring"], "comments": [{"owner": {"reputation": 30659, "user_id": 1210053, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8cee821e7bf4acaa7f0de12d603b9f1d?s=128&d=identicon&r=PG", "display_name": "Nico Schertler", "link": "https://stackoverflow.com/users/1210053/nico-schertler"}, "edited": false, "score": 0, "creation_date": 1525328667, "post_id": 50144460, "comment_id": 87314560, "body": "<a href=\"https://msdn.microsoft.com/en-US/library/system.drawing.graphics.measurecharacterranges(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MeasureCharacterRanges()</a> might help you."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525339919, "post_id": 50144460, "comment_id": 87320847, "body": "Use the Stringformat along with a Rectangle. Much better than any measuring: using (StringFormat fmt = new StringFormat()               { Alignment = StringAlignment.Center, LineAlignment = StringAlignment.Center }) `"}], "owner": {"reputation": 321, "user_id": 3280061, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0244d2242ba08dd7ad2284272aa62222?s=128&d=identicon&r=PG&f=1", "display_name": "Sierramike", "link": "https://stackoverflow.com/users/3280061/sierramike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 874, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525418337, "creation_date": 1525300042, "last_edit_date": 1525385004, "question_id": 50144460, "link": "https://stackoverflow.com/questions/50144460/really-center-text-vertically-in-c-with-drawstring", "title": "Really center text vertically in C# with DrawString", "body": "<p>I need to draw a string in a panel perfectly centered, horizontally and vertically.</p>\n\n<p>Centering horizontally is not a big deal using the MeasureString function.</p>\n\n<p>Bug, the MeasureString function returns a height that takes care of every possible char (like P and p), but not the real height of the actual string.</p>\n\n<p>Here is the sample code I'm using :</p>\n\n<pre><code>using (Graphics gr = Graphics.FromImage(mBackImage))\n{\n    gr.TextRenderingHint = System.Drawing.Text.TextRenderingHint.AntiAlias;\n    gr.FillRectangle(new SolidBrush(BackColor), new Rectangle(0, 0, this.Width, this.Height));\n    var f = new Font(Font.FontFamily, this.ClientSize.Height, FontStyle.Bold, GraphicsUnit.Pixel);\n    var sz = gr.MeasureString(Label, f);\n    var pt = new PointF((this.ClientSize.Width - sz.Width) / 2, (this.ClientSize.Height - sz.Height) / 2);\n\n    gr.DrawString(Label, f, new SolidBrush(ForeColor), pt);\n}\n</code></pre>\n\n<p>My target is to draw numbers, and the result is that numbers are drawn a little bit too high.</p>\n\n<p>Even if I change the text from \"10\" to \"P\", to \"p\", and I see that the text stays aligned on a \"base line\".</p>\n\n<p>I really would like to center the text, depending on the real footprint.</p>\n\n<p>How can I achieve this?</p>\n\n<p>Note: this question is absolutely not duplicate of \"Center text for receipt printing\", because I'm talking about vertical centering, not horizontal centering.</p>\n\n<p>MeasureString or MeasureCharacterRanges are returning sizes taller than the real printed chars, causing vertical alignment issues.</p>\n"}, {"tags": ["c#", "ado.net"], "comments": [{"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1525300826, "post_id": 50144441, "comment_id": 87307315, "body": "Did you step through with a debugger? Also, where are you instantiating <code>product</code>?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525300995, "post_id": 50144441, "comment_id": 87307367, "body": "What is the value of the <code>code</code> variable? Why are you setting up <code>pCode</code> and not using it?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525301044, "post_id": 50144441, "comment_id": 87307382, "body": "Put a breakpoint on <code>return null;</code>. Are you hitting it?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525301168, "post_id": 50144441, "comment_id": 87307410, "body": "Why isn&#39;t <code>product</code> defined within this method? Why are you creating all those other parameters? Especially another one for <code>@ProductCode</code>"}, {"owner": {"reputation": 49661, "user_id": 781754, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4ee1072483e3ab3c7302820d04935328?s=128&d=identicon&r=PG", "display_name": "Daniel Mann", "link": "https://stackoverflow.com/users/781754/daniel-mann"}, "edited": false, "score": 0, "creation_date": 1525301338, "post_id": 50144441, "comment_id": 87307454, "body": "You&#39;re calling <code>GetProduct</code>, but not returning the results of the method. Please step through this code with a debugger, I guarantee that will lead you in the right direction."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525301479, "post_id": 50144441, "comment_id": 87307483, "body": "Is there a different <code>static product</code> defined in both classes? Instead of using a private static field, you should just return the <code>Product</code> from the method. I have a feeling that you&#39;re setting the <code>static Product</code> in your <code>ProductDb</code> class, but trying to access a different one in your <code>frmProductSearch</code> class."}], "answers": [{"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1525303014, "creation_date": 1525303014, "answer_id": 50144834, "question_id": 50144441, "link": "https://stackoverflow.com/questions/50144441/getproductstring-code-method-always-returns-product-not-found/50144834#50144834", "title": "GetProduct(string code) method always returns product not found", "body": "<p>You should probably get rid of any <code>private static Product product</code> fields you have. I think this may be what's causing you confusion because it appears that you're referencing one in your <code>ProductDB</code> class and a different one in your <code>frmProductSearch</code> class. If this is the case, that would explain why you're getting null - because the <code>ProductDB</code> class never touches the static field of the <code>frmProductSearch</code> class (and it shouldn't).</p>\n\n<p>You should simply have all your methods return a <code>Product</code>, and have the calling methods use the returned value rather than relying on a static field to get updated.</p>\n\n<p>So, to modify your code a little, your 'ProductDB' method should return a new product:</p>\n\n<pre><code>public static Product GetProduct(string code)\n{        \n    try\n    {                        \n        SqlConnection connection = Connection.GetConnection();\n\n        string select = @\"SELECT ProductCode, Description, UnitPrice \" + \n            \"FROM Products WHERE ProductCode = @ProductCode\";\n\n        SqlCommand selectCommand = new SqlCommand(select, connection);\n        selectCommand.Parameters.AddWithValue(\"@ProductCode\", code);\n        connection.Open();\n\n        SqlDataReader prodReader = \n            selectCommand.ExecuteReader(CommandBehavior.SingleRow);\n\n        if (prodReader.Read())\n        {\n            return new Product\n            {\n                Code = prodReader[\"ProductCode\"].ToString(),\n                Description = prodReader[\"Description\"].ToString(),\n                Price = (decimal) prodReader[\"UnitPrice\"]\n            };\n        }\n        else\n        {\n            return null;\n        }\n    }\n    catch (SqlException)\n    {\n        throw;\n    }\n    finally\n    {\n        connection.Close();\n        connection.Dispose();\n    }\n}\n</code></pre>\n\n<p>Your form method can now consume the return value of this method directly, and pass it along:</p>\n\n<pre><code>private Product GetProduct(string code)\n{\n    // Add a statement here to call the GetProduct method of the ProductDB class.\n    return ProductDB.GetProduct(code); \n}\n</code></pre>\n\n<p>Finally, you can consume the returned product in your other form method and pass it to your <code>DisplayProduct</code> method:</p>\n\n<pre><code>private void btnGetProduct_Click(object sender, EventArgs e)\n{\n    if (Validator.IsPresent(txtCode))\n    {\n        Product product = this.GetProduct(txtCode.Text);\n\n        if (product == null)\n        {\n            MessageBox.Show(\"No product found with this code. Please try again.\", \n                \"Product Not Found\");\n\n            this.ClearControls();\n        }\n        else\n        {\n            this.DisplayProduct(product);\n        }\n    }\n}\n</code></pre>\n\n<p>Of course this means you'll need to update your <code>DisplayProduct</code> method to take in the parameter and use that instead of a static field:</p>\n\n<pre><code>private static void DisplayProduct(Product product)\n{\n    // Implementation here...\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9718568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f785f90b8e262b866ec4a7bd392155ab?s=128&d=identicon&r=PG&f=1", "display_name": "GSto", "link": "https://stackoverflow.com/users/9718568/gsto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 360, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1525303014, "creation_date": 1525299982, "last_edit_date": 1525301184, "question_id": 50144441, "link": "https://stackoverflow.com/questions/50144441/getproductstring-code-method-always-returns-product-not-found", "title": "GetProduct(string code) method always returns product not found", "body": "<p>My GetProduct() method always returns that a product is not found and I have no idea why! I am connected to a database, and I am trying to use the search box on my form to search for an exact product code, and return the code, description, and price.</p>\n\n<p><strong>Exact instructions:</strong>\nAdd a static method named GetProduct to the ProductDB class. This method should receive the product code of the product to be retrieved, and it should return a Product object for that product. If a product with the product code isn\u2019t found, this method should return null. Place the code that works with the database in the try block of a try-catch statement, include a catch block that catches and then throws any SqlException that occurs, and include a finally block that closes the connection.  </p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>    static Product product = new Product();\n\n    public static Product GetProduct(string code)\n    {\n        SqlConnection connection = Connection.GetConnection();\n\n        string select = @\"SELECT ProductCode, Description, UnitPrice FROM Products WHERE ProductCode = @ProductCode\";\n\n        SqlCommand selectCommand = new SqlCommand(select, connection);\n\n\n        SqlParameter pCode = new SqlParameter();\n        pCode.ParameterName = \"@ProductCode\";\n        pCode.Value = product.Code;\n        SqlParameter pDesc = new SqlParameter();\n        pDesc.ParameterName = \"@Description\";\n        pDesc.Value = product.Description;\n        SqlParameter pPrice = new SqlParameter();\n        pPrice.ParameterName = \"@UnitPrice\";\n        pPrice.Value = product.Price;\n\n        selectCommand.Parameters.AddWithValue(\"@ProductCode\", code);\n\n        try\n        {\n            connection.Open();\n\n            SqlDataReader prodReader = selectCommand.ExecuteReader(CommandBehavior.SingleRow);\n\n            if (prodReader.Read())\n            {\n                product.Code = prodReader[\"ProductCode\"].ToString(); ;\n                product.Description = prodReader[\"Description\"].ToString();\n                product.Price = ((decimal)prodReader[\"UnitPrice\"]);\n\n                return product;\n            }\n            else\n            {\n                return null;\n            }\n        }\n</code></pre>\n\n<p>Here is the frmProductSearch.cs</p>\n\n<pre><code> private void btnGetProduct_Click(object sender, EventArgs e)\n    {\n        if (Validator.IsPresent(txtCode))\n        {\n            this.GetProduct(txtCode.Text);\n            if (product == null)\n            {\n                MessageBox.Show(\"No product found with this code. \" +\n                     \"Please try again.\", \"Product Not Found\");\n                this.ClearControls();\n            }\n            else\n                this.DisplayProduct();\n        }\n    }\n\n    private void GetProduct(string code)\n    {\n        try\n        {\n            ProductDB.GetProduct(code); // Add a statement here to call the GetProduct method of the ProductDB class.\n        }\n        catch (Exception ex)\n        {\n            MessageBox.Show(ex.Message, ex.GetType().ToString());\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 11, "user_id": 9732560, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Wiktor G&#243;rowski", "link": "https://stackoverflow.com/users/9732560/wiktor-g%c3%b3rowski"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525300309, "post_id": 50144406, "comment_id": 87307179, "body": "added image for reference"}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 0, "creation_date": 1525300376, "post_id": 50144406, "comment_id": 87307199, "body": "I think maybe you need to make your &quot;data&quot; and pfc a static or member"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1525300448, "post_id": 50144406, "comment_id": 87307210, "body": "The Red Cross of failure tells you that the OnPaint() method of a control failed with an exception.  That is a pretty common mishap with PrivateFontCollection.AddMemoryFont(), memory corruption is the usual trouble maker.  I however don&#39;t see the standard Marshal.FreeCoTaskMem() call that is responsible for it, a bug that is very, very common since the top Google hit gets that wrong.  There is a very tempting empty line at the bottom of that snippet, we can&#39;t see what was there."}, {"owner": {"reputation": 40865, "user_id": 10431, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22aac6106c44ae4078bd4c0a564714e0?s=128&d=identicon&r=PG", "display_name": "Keith Nicholas", "link": "https://stackoverflow.com/users/10431/keith-nicholas"}, "edited": false, "score": 0, "creation_date": 1525300449, "post_id": 50144406, "comment_id": 87307211, "body": "also, you need to keep track of it so you can clean it up, if you allocate memory you need to deallocate it at some point"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1525300455, "post_id": 50144406, "comment_id": 87307212, "body": "Use <a href=\"https://www.pinvoke.net/default.aspx/gdi32.addfontmemresourceex\" rel=\"nofollow noreferrer\">AddFontMemResourceEx</a> - <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd183325(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a> instead  and <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd162921(v=vs.85).aspx\" rel=\"nofollow noreferrer\">RemoveFontMemResourceEx</a> after."}], "owner": {"reputation": 11, "user_id": 9732560, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Wiktor G&#243;rowski", "link": "https://stackoverflow.com/users/9732560/wiktor-g%c3%b3rowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564774337, "creation_date": 1525299757, "last_edit_date": 1525328360, "question_id": 50144406, "link": "https://stackoverflow.com/questions/50144406/custom-fonts-c-error", "title": "Custom fonts c# error", "body": "<p>I have a problem when loading custom fonts in winforms with c#.</p>\n\n<p>Below is my implementation:</p>\n\n<pre><code>public Form2()\n{\n    InitializeComponent();\n\n    //font\n    {\n        PrivateFontCollection pfc = new PrivateFontCollection();\n        int fontLength = Properties.Resources.ARCADECLASSIC.Length;\n        byte[] fontdata = Properties.Resources.ARCADECLASSIC;\n        IntPtr data = Marshal.AllocCoTaskMem(fontLength);\n        Marshal.Copy(fontdata, 0, data, fontLength);\n        pfc.AddMemoryFont(data, fontLength);\n        button12.Font = new Font(pfc.Families[0], button12.Font.Size);\n        button9.Font = new Font(pfc.Families[0], button9.Font.Size);\n        label1.Font = new Font(pfc.Families[0], label1.Font.Size);\n        button5.Font = new Font(pfc.Families[0], button5.Font.Size);\n        button1.Font = new Font(pfc.Families[0], button1.Font.Size);\n        button3.Font = new Font(pfc.Families[0], button3.Font.Size);\n        button4.Font = new Font(pfc.Families[0], button4.Font.Size);\n    }\n}\n</code></pre>\n\n<p>It is working but sometimes I have this red cross instead of my text:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bOf4I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bOf4I.png\" alt=\"enter image description here\"></a></p>\n\n<p>What is the solution to this? Am I going out of scope?</p>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 1151, "user_id": 4205675, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-Ipk1nc7zEF8/AAAAAAAAAAI/AAAAAAAAATg/sE42_gtGXg8/photo.jpg?sz=128", "display_name": "Zexks Marquise", "link": "https://stackoverflow.com/users/4205675/zexks-marquise"}, "edited": false, "score": 0, "creation_date": 1525362770, "post_id": 50144719, "comment_id": 87336169, "body": "This all exists within a windows service. It&#39;s only purpose is to count down the time to the next task to run. I was afraid of it getting disposed of before it could finish with Method 2. Method 1 is what I&#39;m currently using and it works, I was just worried about creating a memory leak with how it&#39;s implemented. Created new for each iteration and used in the lambda then dropped from scope and recreated. I guess I could make a higher scoped timer, but at that point it will never get disposed, just reset. Not sure if that is better or not."}, {"owner": {"reputation": 2710, "user_id": 622140, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ba04227d363caf1724948e11e1743e24?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/622140/james"}, "reply_to_user": {"reputation": 1151, "user_id": 4205675, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-Ipk1nc7zEF8/AAAAAAAAAAI/AAAAAAAAATg/sE42_gtGXg8/photo.jpg?sz=128", "display_name": "Zexks Marquise", "link": "https://stackoverflow.com/users/4205675/zexks-marquise"}, "edited": false, "score": 0, "creation_date": 1525435757, "post_id": 50144719, "comment_id": 87366053, "body": "For a one-shot timer, you should dispose of it inside the event delegate."}], "tags": [], "owner": {"reputation": 2710, "user_id": 622140, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ba04227d363caf1724948e11e1743e24?s=128&d=identicon&r=PG", "display_name": "James", "link": "https://stackoverflow.com/users/622140/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1525302079, "creation_date": 1525302079, "answer_id": 50144719, "question_id": 50144399, "link": "https://stackoverflow.com/questions/50144399/timer-scoping-and-proper-disposal/50144719#50144719", "title": "Timer scoping and proper disposal", "body": "<p>Although it's not technically required, Timers should always be disposed properly (just like nearly everything that inherits from IDisposable).  What will happen if you don't dispose the timers?  They will build up until a garbage collection detects that they're no longer reachable and then they will be finalized (which should automatically do the same thing as disposing of them, but it isn't as efficient).</p>\n\n<p>In your method 2, the timer will likely not ever fire because it will be disposed immediately after it is created (before the Elapsed delegate runs).</p>\n\n<p>So, the question becomes, when should you dispose of the timer?  Well, that depends on how it is used.  If you're only using it to execute that little code block once, you can dispose of it at the end of that execution.  If it's supposed to trigger more than once, you'll need to have some other outside owner of the timer that disposes of it when it is no longer needed.</p>\n"}, {"tags": [], "owner": {"reputation": 1151, "user_id": 4205675, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-Ipk1nc7zEF8/AAAAAAAAAAI/AAAAAAAAATg/sE42_gtGXg8/photo.jpg?sz=128", "display_name": "Zexks Marquise", "link": "https://stackoverflow.com/users/4205675/zexks-marquise"}, "is_accepted": false, "score": 0, "last_activity_date": 1526317534, "creation_date": 1526317534, "answer_id": 50335567, "question_id": 50144399, "link": "https://stackoverflow.com/questions/50144399/timer-scoping-and-proper-disposal/50335567#50335567", "title": "Timer scoping and proper disposal", "body": "<p>For closure, I ended up creating a list of timers for each action, and then just update the intervals, and recycle them as needed. Then added a specific function to properly stop and dispose of all of them, when stopping the service. The setup I have above fails once there are 2 tasks scheduled for the same time, so it wouldn't have worked either way. With this new way, I don't have to worry about it as they're either recycled indefinitely or specifically disposed of.</p>\n"}], "owner": {"reputation": 1151, "user_id": 4205675, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-Ipk1nc7zEF8/AAAAAAAAAAI/AAAAAAAAATg/sE42_gtGXg8/photo.jpg?sz=128", "display_name": "Zexks Marquise", "link": "https://stackoverflow.com/users/4205675/zexks-marquise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1526317534, "creation_date": 1525299705, "question_id": 50144399, "link": "https://stackoverflow.com/questions/50144399/timer-scoping-and-proper-disposal", "title": "Timer scoping and proper disposal", "body": "<p>So I'm working on a Task Scheduling program using a System.Timers.Timer object to wait between tasks. For using this timer I'm throwing it into a static (extension) method on instantiation and using it only there. My question is will it be properly disposed of at the conclusion of that static method or do I need to do something more? Here's what I'm working with.</p>\n\n<pre><code>public static void Use&lt;T&gt;(this T o, Action&lt;object&gt; work) =&gt; work(o);\n\nprivate void RunLoop()\n{\n    while (!Stop)\n    {\n        try\n        {\n            //Method 1\n            new System.Timers.Timer((task.NextRun - DateTime.Now).TotalMilliseconds).Use(timer =&gt; {\n                timer.Elapsed += (s, e) =&gt; {\n                    new Thread(new ThreadStart(RunProc)) {\n                        Name = task.Title,\n                        IsBackground = true\n                    }.Start();\n                };\n                timer.AutoReset = false;\n                timer.Start();\n            });\n\n            //Method 2\n            using (var timer = new System.Timers.Timer((task.NextRun - DateTime.Now).TotalMilliseconds))\n            {\n                timer.Elapsed += (s, e) =&gt;\n                {\n                    new Thread(new ThreadStart(RunProc))\n                    {\n                        Name = task.Title,\n                        IsBackground = true\n                    }.Start();\n                };\n                timer.AutoReset = false;\n                timer.Start();\n            }\n\n        } catch(SqlException ex)\n        { //Omitted for size }\n        catch (Exception ex)\n        { //Omitted for size }\n    }\n}\n</code></pre>\n\n<p>Will method 1 properly dispose of my timer, or do I have to call dispose or deal with a using statement for GC to get it? From what I've been reading for most objects they will get GC'ed when they fall out of scope of that lambda call in Use. But apparently Timers are different in that they connect to some un-managed resources which can cause them to persist even when you would expect they'd get cleaned up, like say going out of scope.</p>\n"}, {"tags": ["c#", "android", "firebase", "unity3d", "firebase-authentication"], "owner": {"reputation": 67, "user_id": 3328666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1288885114/picture?type=large", "display_name": "DannyFar94", "link": "https://stackoverflow.com/users/3328666/dannyfar94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 744, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1525337458, "creation_date": 1525299576, "last_edit_date": 1525337458, "question_id": 50144371, "link": "https://stackoverflow.com/questions/50144371/firebase-modules-failed-to-initialize-auth-missing-dependency", "title": "Firebase modules failed to initialize: auth (missing dependency)", "body": "<p>I created a mobile application with unity. For my login I am using the Firebase Email and Password Authentication, After I click the login button this error is coming up on the android device monitor:\n05-03 00:18:15.779: E/Unity(28007): InitializationException:  Firebase modules failed to initialize: auth (missing dependency)\n05-03 00:18:15.779: E/Unity(28007):   at Firebase.FirebaseApp.CreateAndTrack (Firebase.CreateDelegate createDelegate, Firebase.FirebaseApp existingProxy) [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at Firebase.FirebaseApp.Create () [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at Firebase.FirebaseApp.get_DefaultInstance () [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at Firebase.Auth.FirebaseAuth.get_DefaultInstance () [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at FirebaseScript.btnLoginClientPressed () [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at UnityEngine.Events.InvokableCall.Invoke () [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at UnityEngine.Events.UnityEvent.Invoke () [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at UnityEngine.UI.Button.Press () [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at UnityEngine.UI.Button.OnPointerClick (UnityEngine.EventSystems.PointerEventData eventData) [0x00000] in :0 \n05-03 00:18:15.779: E/Unity(28007):   at UnityEngine.EventSystems.ExecuteEvents.Execute (IPointerClickHandler handler, UnityE</p>\n\n<p>From the emulator of unity the application works fine.</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 1, "creation_date": 1525300213, "post_id": 50144337, "comment_id": 87307149, "body": "<a href=\"http://www.wpf-tutorial.com/rich-text-controls/richtextbox-control/\" rel=\"nofollow noreferrer\">wpf-tutorial.com/rich-text-controls/richtextbox-control</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525355073, "post_id": 50144674, "comment_id": 87330950, "body": "why is it minus 2?"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "reply_to_user": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525357581, "post_id": 50144674, "comment_id": 87332727, "body": "@erotavlas Honestly, I&#39;m not completely sure. But, I tested it multiple times and it was minus 2 for the index."}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525365322, "post_id": 50144674, "comment_id": 87337670, "body": "I don&#39;t think you need the offset of 2.  There are no characters preceding it based on your answer to my other question.  <a href=\"https://stackoverflow.com/q/50158510/1462656\">stackoverflow.com/q/50158510/1462656</a>"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "reply_to_user": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525366931, "post_id": 50144674, "comment_id": 87338523, "body": "@erotavlas I accepted your edit. Does this now fully answer the question for you?"}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525797622, "post_id": 50144674, "comment_id": 87494196, "body": "Actually this isn&#39;t working as expected <a href=\"https://stackoverflow.com/q/50237312/1462656\">stackoverflow.com/q/50237312/1462656</a>"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "reply_to_user": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525801692, "post_id": 50144674, "comment_id": 87496232, "body": "@erotavlas Your issue in your other question is probably not related to this. <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.documents.textpointer.getoffsettoposition(v=vs.110).aspx\" rel=\"nofollow noreferrer\">This</a> documentation shows very similar code. Try breaking the problem down into simpler code to see if it goes away or you can pinpoint where the issue comes from."}, {"owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525801857, "post_id": 50144674, "comment_id": 87496313, "body": "I know, I think it may be the right way to get the index as seen by the text pointer, but for actual index it is not the correct value that I need to store. I&#39;m still investigating...."}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "reply_to_user": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525801969, "post_id": 50144674, "comment_id": 87496377, "body": "@erotavlas Good luck! At first I found it odd that your text started at index 2, but then I read &quot;Any of the following is considered to be a symbol: An opening or closing tag for a TextElement element...&quot; in the link. I believe this means the Paragraph and Run are counted as symbols. Perhaps the highlighting produces other TextElements that are being counted in the indexes."}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "reply_to_user": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "edited": false, "score": 0, "creation_date": 1525807956, "post_id": 50144674, "comment_id": 87499531, "body": "@erotavlas awesome! I had wondered if the solution might involve TextRanges."}], "tags": [], "owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "is_accepted": true, "score": 3, "last_activity_date": 1525807891, "last_edit_date": 1525807891, "creation_date": 1525301741, "answer_id": 50144674, "question_id": 50144337, "link": "https://stackoverflow.com/questions/50144337/how-do-i-get-the-start-and-end-index-from-a-selection-inside-richtextbox/50144674#50144674", "title": "How do I get the start and end index from a selection inside RichTextBox?", "body": "<p>You can find the index of the Selection's start and end with this...</p>\n\n<pre><code>        var docStart = textBox.Document.ContentStart;\n\n        var selectionStart = textBox.Selection.Start;\n        var selectionEnd = textBox.Selection.End;\n\n        //these will give you the positions needed to apply highlighting\n        var indexStart = docStart.GetOffsetToPosition(selectionStart);\n        var indexEnd = docStart.GetOffsetToPosition(selectionEnd);\n\n        //these values will give you the absolute character positions relative to the very beginning of the text.\n        TextRange start = new TextRange(docStart, selectionStart);\n        TextRange end = new TextRange(docStart, selectionEnd);\n        int indexStart_abs = start.Text.Length;\n        int indexEnd_abs = end.Text.Length;\n</code></pre>\n"}], "owner": {"reputation": 3295, "user_id": 1462656, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/j8vB6.png?s=128&g=1", "display_name": "erotavlas", "link": "https://stackoverflow.com/users/1462656/erotavlas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1232, "favorite_count": 0, "accepted_answer_id": 50144674, "answer_count": 1, "score": 2, "last_activity_date": 1525807891, "creation_date": 1525299403, "last_edit_date": 1525807029, "question_id": 50144337, "link": "https://stackoverflow.com/questions/50144337/how-do-i-get-the-start-and-end-index-from-a-selection-inside-richtextbox", "title": "How do I get the start and end index from a selection inside RichTextBox?", "body": "<p>I have a rich text box that I'm allowing user to highlight text.  Text being loaded is coming from a simple plain text file. But I need to store the absolute start and end character position (relative to beginning of document) of the highlighted text so that when they save it, it can reload with highlights.</p>\n\n<p>So far I can do this to apply the highlighting </p>\n\n<pre><code>    private void textBox_PreviewMouseLeftButtonUp(object sender, MouseButtonEventArgs e)\n    {\n        HighlightWordInTextBox(this.textBox, this.textBox.Selection.ToString(), new SolidColorBrush(Colors.Yellow));\n    }\n\n    public void HighlightWordInTextBox(RichTextBox textbox, string word, SolidColorBrush color)\n    {\n        TextRange tr = new TextRange(this.textBox.Selection.Start, this.textBox.Selection.End);\n        tr.ApplyPropertyValue(TextElement.BackgroundProperty, color);\n\n    }\n</code></pre>\n\n<p>But I do not see anywhere inside the Start or End objects of Selection anything that provides the character position? Almost all the methods return another TextPointer - but how do you get the character position from a TextPointer?</p>\n\n<p>Assuming all the text is loaded into a single </p>\n\n<pre><code>   this.textBox.Document.Blocks.Add(new Paragraph(new Run(fullText)));\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>In the immediate window when debugging I can access something called CharOffset and Offset but cannot do so in the source code, it gives a compile error.  Also those properties although present when inspecting the object at runtime, they are not in the documentation.   </p>\n\n<p><a href=\"https://i.stack.imgur.com/Wqtvr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wqtvr.png\" alt=\"enter image description here\"></a></p>\n\n<p>And yet...</p>\n\n<p><a href=\"https://i.stack.imgur.com/kjFSI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjFSI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1525299454, "post_id": 50144290, "comment_id": 87306901, "body": "Since you are just learning c#, I will tell you that any use of the <code>ref</code> keyword is strongly discouraged. There are not many common use cases for it and you certainly do not need it in that method"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1525299628, "post_id": 50144290, "comment_id": 87306960, "body": "and for sure its not needed here (ref). And in general dont make the calculation function do the UI. (Separation of logic and presentation). Add2numbers should return the value and then the caller should display it"}], "answers": [{"comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1525299496, "post_id": 50144306, "comment_id": 87306916, "body": "and maybe a ToString() - cant assign a number to a string value"}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1525299659, "post_id": 50144306, "comment_id": 87306970, "body": "In VB.net it works without the ToString as well. Should be the same in C# i believe, if not, yes a ToString will fix it."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525299782, "post_id": 50144306, "comment_id": 87307013, "body": "c# is not VB.NET. Different rules apply, and implicit conversion is one of them"}, {"owner": {"reputation": 15, "user_id": 9362262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b76842036ca56f275de1aa459b80e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/9362262/robert"}, "edited": false, "score": 0, "creation_date": 1525301161, "post_id": 50144306, "comment_id": 87307408, "body": "I tried your suggestion and I get a red squiggly under the &quot;.text&quot; that says &#39;TextBox&#39; does not contain a definition for &#39;text&#39; and no extension method &#39;text&#39; accepting a first argument of type &#39;TextBox&#39; could be found (are you missing a using directive or an assembly reference?)"}, {"owner": {"reputation": 15, "user_id": 9362262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b76842036ca56f275de1aa459b80e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/9362262/robert"}, "edited": false, "score": 0, "creation_date": 1525364744, "post_id": 50144306, "comment_id": 87337288, "body": "weird, I tried it again this morning and that worked! I must have had a typo. I will use this code for my project since this was how I wanted it to work. Thanks!!"}], "tags": [], "owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "is_accepted": true, "score": 2, "last_activity_date": 1525299934, "last_edit_date": 1525299934, "creation_date": 1525299189, "answer_id": 50144306, "question_id": 50144290, "link": "https://stackoverflow.com/questions/50144290/how-to-pass-data-from-form-to-class-method/50144306#50144306", "title": "How to pass data from Form to Class method?", "body": "<p>You need to use text property of the textbox. Answer is in the error message <code>\"Cannot inplicitly convert type 'int' to 'System.Windows.Forms.Textbox'\"</code></p>\n\n<pre><code>TxtResult.Text = (FirstNumber + SecondNumber).ToString();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59348, "user_id": 522663, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/OKOEw.png?s=128&g=1", "display_name": "Jonathan Wood", "link": "https://stackoverflow.com/users/522663/jonathan-wood"}, "is_accepted": false, "score": 1, "last_activity_date": 1525299666, "creation_date": 1525299666, "answer_id": 50144394, "question_id": 50144290, "link": "https://stackoverflow.com/questions/50144290/how-to-pass-data-from-form-to-class-method/50144394#50144394", "title": "How to pass data from Form to Class method?", "body": "<p><code>TxtResult</code> is a TextBox control. You are assigning the sum of two numbers (an integer) to that control. You can't do that. They are not the same type.</p>\n\n<p>You could however convert the integer to a string, and then assign that string to the <code>Text</code> property of the TextBox control like this:</p>\n\n<pre><code>TxtResult.Text = (FirstNumber + SecondNumber).ToString();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": 0, "last_activity_date": 1525300014, "creation_date": 1525300014, "answer_id": 50144451, "question_id": 50144290, "link": "https://stackoverflow.com/questions/50144290/how-to-pass-data-from-form-to-class-method/50144451#50144451", "title": "How to pass data from Form to Class method?", "body": "<p>Keep logic separate from presentation</p>\n\n<pre><code>class class1\n{\n    public static int AddTwoNumbers(int FirstNumber, int SecondNumber)\n    {\n        return FirstNumber + SecondNumber;\n    }\n}\n\npublic partial class form1 : Form\n{\n    private void BtnCalculate_Click(object sender, EventArgs e)\n    {\n       int v1 = Convert.ToInt32(TxtFirstNumber.Text);\n       int v2 = Convert.ToInt32(TxtSecondNumber.Text);\n       int result = Class1.AddTwoNumbers(v1, v2);\n       TxtResult.Text = result.ToString();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 9362262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b76842036ca56f275de1aa459b80e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/9362262/robert"}, "edited": false, "score": 0, "creation_date": 1525301858, "post_id": 50144486, "comment_id": 87307577, "body": "this code definitely works, thanks. Side question: Is there a way to use TryParse instead of convert when sending the data? Or do I have to use a try catch block to catch the exception thrown if someone enters a non-numerical value in the textbox?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 15, "user_id": 9362262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b76842036ca56f275de1aa459b80e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/9362262/robert"}, "edited": false, "score": 0, "creation_date": 1525302006, "post_id": 50144486, "comment_id": 87307600, "body": "@Robert Glad to help. Sure, I just edited the answer to show a basic example. In fact, using <code>Convert</code> is quite discouraged. Always prefer <i>Try</i> methods that don&#39;t raise exceptions"}], "tags": [], "owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "is_accepted": false, "score": 2, "last_activity_date": 1525301988, "last_edit_date": 1525301988, "creation_date": 1525300219, "answer_id": 50144486, "question_id": 50144290, "link": "https://stackoverflow.com/questions/50144290/how-to-pass-data-from-form-to-class-method/50144486#50144486", "title": "How to pass data from Form to Class method?", "body": "<p>Don't pass the UI controls to the back-end (where your logic is). Instead, ask the back-end for the result so the front-end can decide what to do with it:</p>\n\n<pre><code>internal static class Calculator\n{\n    public static int Add(int firstNumber, int secondNumber)\n    {\n        return firstNumber + secondNumber;\n    }\n}\n\npublic partial class Form1 : Form\n{\n    private void BtnCalculate_Click(object sender, EventArgs e)\n    {\n        int firstNumber;\n        int secondNumber;\n\n        if (!int.TryParse(TxtFirstNumber.Text, out firstNumber))\n        {\n            MessageBox.Show(\"first number is not a number\");\n            return;\n        }\n        else if (!int.TryParse(TxtSecondNumber.Text, out secondNumber))\n        {\n            MessageBox.Show(\"second number is not a number\");\n            return;\n        }\n\n        TxtResult.Text = Calculator.Add(firstNumber, secondNumber).ToString();\n    }\n}\n</code></pre>\n\n<p>As you can see, I have also updated the names so that they reflect their meaning and comply with c# standard conventions.</p>\n"}], "owner": {"reputation": 15, "user_id": 9362262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b76842036ca56f275de1aa459b80e5c?s=128&d=identicon&r=PG&f=1", "display_name": "Robert", "link": "https://stackoverflow.com/users/9362262/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 50144306, "answer_count": 4, "score": -2, "last_activity_date": 1525301988, "creation_date": 1525299116, "last_edit_date": 1525299357, "question_id": 50144290, "link": "https://stackoverflow.com/questions/50144290/how-to-pass-data-from-form-to-class-method", "title": "How to pass data from Form to Class method?", "body": "<p>I can't figure out how to pass data from a form's TextBox to a class method for calculation and then get the result back to the form to display in a TextBox or ListBox or whatever. I keep getting </p>\n\n<blockquote>\n  <p>Cannot implicitly convert type <code>int</code> to <code>System.Windows.Forms.Textbox</code> </p>\n</blockquote>\n\n<p>exception in my class. </p>\n\n<p>For my setup I have a form with three textboxes (TxtFirstNumber, TxtSecondNumber, TxtResult) and a button (BtnCalculate). When I click the button I want the two numbers to get passed to the class to add and the result to appear on the form textbox TxtResult. I have a form called \"form1\" and a class called \"class1\".</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>class class1\n{\n    public static void AddTwoNumbers(int FirstNumber, int SecondNumber, ref TextBox TxtResult)\n    {\n        TxtResult = FirstNumber + SecondNumber;\n    }\n}\n\npublic partial class form1 : Form\n{\n    private void BtnCalculate_Click(object sender, EventArgs e)\n    {\n        Class1.AddTwoNumbers(Convert.ToInt32(TxtFirstNumber.Text), Convert.ToInt32(TxtSecondNumber.Text), ref TxtResult);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 2932725, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ec786bdaab1fc44974a0d54e1ae4f63?s=128&d=identicon&r=PG&f=1", "display_name": "eg_dac", "link": "https://stackoverflow.com/users/2932725/eg-dac"}, "edited": false, "score": 0, "creation_date": 1525462515, "post_id": 50146528, "comment_id": 87381234, "body": "Hey sorry for the delay. I am using web deploy, but i&#39;ve tried all types of different combinations of file deletion, precompile views etc. I&#39;ve also tried deploying to a brand new azure app, and i am getting hte same issue."}, {"owner": {"reputation": 144, "user_id": 4615333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e501708f87db8850737de9dfc79bf3?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/4615333/ethan"}, "reply_to_user": {"reputation": 701, "user_id": 2932725, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ec786bdaab1fc44974a0d54e1ae4f63?s=128&d=identicon&r=PG&f=1", "display_name": "eg_dac", "link": "https://stackoverflow.com/users/2932725/eg-dac"}, "edited": false, "score": 0, "creation_date": 1525491615, "post_id": 50146528, "comment_id": 87388045, "body": "Do you have access to the temp files on the web server instance being deployed to? You could try deleting that file from that location on the server itself.  If not, it looks like this person tried adding a temporary file to the bin directory specifically to trigger the actual file removal. <a href=\"https://stackoverflow.com/questions/19408271/clear-temp-asp-net-files-from-azure-web-site\">Clear Temp ASP.NET Files</a>"}, {"owner": {"reputation": 701, "user_id": 2932725, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ec786bdaab1fc44974a0d54e1ae4f63?s=128&d=identicon&r=PG&f=1", "display_name": "eg_dac", "link": "https://stackoverflow.com/users/2932725/eg-dac"}, "edited": false, "score": 0, "creation_date": 1525803887, "post_id": 50146528, "comment_id": 87497407, "body": "I had to go another route. Customers can&#39;t delete temp files from Azure, as it&#39;s a shared environment."}], "tags": [], "owner": {"reputation": 144, "user_id": 4615333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e501708f87db8850737de9dfc79bf3?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan", "link": "https://stackoverflow.com/users/4615333/ethan"}, "is_accepted": false, "score": 0, "last_activity_date": 1525318338, "creation_date": 1525318338, "answer_id": 50146528, "question_id": 50144277, "link": "https://stackoverflow.com/questions/50144277/azure-web-app-asp-razor-precompiled-view-error/50146528#50146528", "title": "Azure Web App ASP Razor Precompiled View Error", "body": "<p>Are you publishing this Web App through Web Deploy?</p>\n\n<p>If so, I would suggest checking the \"Remove additional files at destination\" box under the Settings area, if you haven't already.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/dd465337.aspx\" rel=\"nofollow noreferrer\">How to Deploy Web Project from Visual Studio</a></p>\n"}], "owner": {"reputation": 701, "user_id": 2932725, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5ec786bdaab1fc44974a0d54e1ae4f63?s=128&d=identicon&r=PG&f=1", "display_name": "eg_dac", "link": "https://stackoverflow.com/users/2932725/eg-dac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525318338, "creation_date": 1525299049, "question_id": 50144277, "link": "https://stackoverflow.com/questions/50144277/azure-web-app-asp-razor-precompiled-view-error", "title": "Azure Web App ASP Razor Precompiled View Error", "body": "<p>I am having an issue publishing an mvc web project. There was an old version of the site from months ago, but the application has since changed significantly. </p>\n\n<p>I am getting an error like the following CS0246: The type or namespace name 'MvcSiteMapProvider' could not be found (are you missing a using directive or an assembly reference?)</p>\n\n<p>This code is not anywhere in the application. The code runs perfect locally. The error is triggered by a temp file for the views. Source File: D:\\local\\Temporary ASP.NET Files\\root\\447331cc\\dd5a3321\\App_Web_index.cshtml.a8d08dba.hasupjvq.0.cs    Line: 28 </p>\n\n<p>I can't get the new view to overwrite the file. I have never had this issue in deploying well over 100 applications to Azure. </p>\n\n<p>I've tried adding a custom tempdirectory to the web app, but it's still generating the error / invalid source code. I've also tried to enable precompile views on publish. This is still not helping. </p>\n\n<p>I am at a loss, and we have to use that web app, as the cms licensing is bound to the domain. Has anyone had this issue?</p>\n"}, {"tags": ["c#", "json.net"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1525307074, "post_id": 50144202, "comment_id": 87308629, "body": "You can configure a naming strategy as an attribute on the class as shown in <a href=\"https://stackoverflow.com/a/40687963/3744182\">Issue with serializing data using JSON.Net</a> (forces default) and <a href=\"https://stackoverflow.com/a/44805815/3744182\">Configure Json.NET serialization settings on a class level</a> (forces camel case).  Is this what you want?"}], "answers": [{"comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1525299369, "post_id": 50144237, "comment_id": 87306876, "body": "I don&#39;t want <i>any</i> property on <code>Body</code> to be camel cased. I&#39;d rather not force everyone to attribute their properties if I can help it. An example of this would help."}], "tags": [], "owner": {"reputation": 6943, "user_id": 449688, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8Hbt.jpg?s=128&g=1", "display_name": "mariocatch", "link": "https://stackoverflow.com/users/449688/mariocatch"}, "is_accepted": false, "score": 1, "last_activity_date": 1525298835, "creation_date": 1525298835, "answer_id": 50144237, "question_id": 50144202, "link": "https://stackoverflow.com/questions/50144202/using-json-net-serializer-to-camel-case-some-properties-but-not-others/50144237#50144237", "title": "Using Json.NET serializer to camel case some properties, but not others", "body": "<p>You can create your own resolver to behave this way.</p>\n\n<p>You'd create one, possibly have it look for a new attribute (which you'd create), that you can then use to decorate the properties you don't want camelCased.</p>\n"}, {"comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 1, "creation_date": 1525387327, "post_id": 50164283, "comment_id": 87347526, "body": "<code>OverrideSpecifiedNames</code> is by default set to false. Second, I was looking for a solution where you don&#39;t have to attribute every property with <code>JsonProperty</code>. Imagine that the value of <code>Body</code> comes from god knows where, and I don&#39;t have access to it. I was looking for a more general solution where I could make <i>every</i> property inside <code>Body</code> not turn into camel case."}, {"owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "reply_to_user": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1525388475, "post_id": 50164283, "comment_id": 87347794, "body": "Check this <a href=\"https://github.com/ErikSchierboom/JsonDotNetCustomContractResolvers\" rel=\"nofollow noreferrer\">JSON.NET custom contract resolvers library</a> Wildcards section"}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1525477047, "post_id": 50164283, "comment_id": 87385949, "body": "From a glance, it doesn&#39;t look like that&#39;s what I want. It excludes all props <i>of a class</i>. In my case, I have a property named <code>Body</code>, and I want to exclude all of <i>its</i> properties."}, {"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1525540732, "post_id": 50164283, "comment_id": 87401072, "body": "It looks like that attribute is applied to the whole class. I want everything to be camelcased except properties in <code>Body</code>. You changed <code>Header</code> to a string, but in my example it&#39;s not. It&#39;s an object, and I still want to camel case its properties."}, {"owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "reply_to_user": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 0, "creation_date": 1525557296, "post_id": 50164283, "comment_id": 87405804, "body": "Yes, this will camelcased all properties except properties in <code>Body</code>, check updated answer for example"}, {"owner": {"reputation": 1326, "user_id": 3524426, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/kvcU7.jpg?s=128&g=1", "display_name": "Dagrooms", "link": "https://stackoverflow.com/users/3524426/dagrooms"}, "edited": false, "score": 1, "creation_date": 1559856180, "post_id": 50164283, "comment_id": 99560604, "body": "This answer saved me and it is apparently rare, took way too long to find it after searching for NamingStrategy exclusions for an hour"}], "tags": [], "owner": {"reputation": 5282, "user_id": 3134112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8990b8e611d60bd869d1c4f06ab6351e?s=128&d=identicon&r=PG&f=1", "display_name": "ElasticCode", "link": "https://stackoverflow.com/users/3134112/elasticcode"}, "is_accepted": false, "score": 4, "last_activity_date": 1525557124, "last_edit_date": 1525557124, "creation_date": 1525383963, "answer_id": 50164283, "question_id": 50144202, "link": "https://stackoverflow.com/questions/50144202/using-json-net-serializer-to-camel-case-some-properties-but-not-others/50164283#50164283", "title": "Using Json.NET serializer to camel case some properties, but not others", "body": "<p>You can configure a <code>CamelCaseNamingStrategy</code> to not camel case properties that already have a name specified with an attribute, Check documentation <a href=\"https://www.newtonsoft.com/json/help/html/NamingStrategySkipSpecifiedNames.htm\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Specify property name as below </p>\n\n<pre><code>[JsonProperty(PropertyName = \"Name\")]\npublic string Name{ get; set; }\n</code></pre>\n\n<p>And in <code>CamelCaseNamingStrategy</code> set <code>OverrideSpecifiedNames = false</code></p>\n\n<pre><code>string stringRepresentationOfObj = JsonConvert.SerializeObject(obj, new JsonSerializerSettings\n{\n    ContractResolver = new DefaultContractResolver\n    {\n        NamingStrategy = new CamelCaseNamingStrategy()\n        {\n            OverrideSpecifiedNames = false\n        }\n    }\n});\n</code></pre>\n\n<p>Another way is to modify your type only using <code>JsonObject</code> attribute as below,\nthis will force your type properties only to be in camelCase and any nested properties will not be affected.</p>\n\n<pre><code>[JsonObject(NamingStrategyType = typeof(CamelCaseNamingStrategy))]\npublic class ApiMessage\n{\n    public HeaderType Header { get; set; }\n\n    public object Body { get; set; }\n}\n</code></pre>\n\n<p>Also, add <code>JsonObject</code> attribute to <code>HeaderType</code> class</p>\n\n<pre><code>[JsonObject(NamingStrategyType = typeof(CamelCaseNamingStrategy))]\npublic class HeaderType\n{\n    public string MyPropertyA { get; set; }\n\n    public string MyPropertyB { get; set; }\n}\n</code></pre>\n\n<p>Your result should be as below </p>\n\n<pre><code>{\n  \"header\": {\n    \"myPropertyA\": \"AAA\",\n    \"myPropertyB\": \"BBB\"\n  },\n  \"body\": {\n    \"ObjectPropertyA\": \"Value A\",\n    \"ObjectPropertyB\": \"Value B\",\n    \"ObjectPropertyC\": \"Value C\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7054, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1525557124, "creation_date": 1525298668, "question_id": 50144202, "link": "https://stackoverflow.com/questions/50144202/using-json-net-serializer-to-camel-case-some-properties-but-not-others", "title": "Using Json.NET serializer to camel case some properties, but not others", "body": "<p>I am serializing an object of this format using Newtonsoft.JSON:</p>\n\n<pre><code>class Message\n{\n    public HeaderType Header { get; set; }\n    public object Body { get; set; }\n}\n</code></pre>\n\n<p>I want to turn the <code>Header</code> and <code>Body</code> properties into camel case, while presevering the case of the properties of the thing assigned to <code>Body</code>.</p>\n\n<p>So if the message looks like:</p>\n\n<pre><code>var result = new Message() { Header = myHeader, Body = new SomeClass() { A = 1 }});\n</code></pre>\n\n<p>I want the output to look like:</p>\n\n<pre><code>{ header = myHeader, body = { A = 1 } } // I realize this isn't valid C#\n</code></pre>\n\n<p>Right now, I'm doing this to get the camel case conversion, but of course it's affecting everything.</p>\n\n<pre><code>string stringRepresentationOfObj = JsonConvert.SerializeObject(obj, new JsonSerializerSettings {\n    ContractResolver = new DefaultContractResolver {\n        NamingStrategy = new CamelCaseNamingStrategy()\n    }\n});\n</code></pre>\n\n<p>Is there a way to ignore certain parts of the object? I see that the <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Serialization_CamelCaseNamingStrategy.htm\" rel=\"nofollow noreferrer\">docs</a> call out <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_NamingStrategy_OverrideSpecifiedNames.htm\" rel=\"nofollow noreferrer\"><code>OverrideSpecifiedNames</code></a>, <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_NamingStrategy_ProcessDictionaryKeys.htm\" rel=\"nofollow noreferrer\"><code>ProcessDictionaryKeys</code></a>, and <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_NamingStrategy_ProcessExtensionDataNames.htm\" rel=\"nofollow noreferrer\"><code>ProcessExtensionDataNames</code></a>, but it doesn't look like that's what I want.</p>\n\n<p>Am I forced to use a some kind of custom naming strategy? How can I achieve this?</p>\n"}, {"tags": ["c#", "azure", ".net-core", "azure-functions"], "comments": [{"owner": {"reputation": 6943, "user_id": 449688, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8Hbt.jpg?s=128&g=1", "display_name": "mariocatch", "link": "https://stackoverflow.com/users/449688/mariocatch"}, "edited": false, "score": 0, "creation_date": 1525298469, "post_id": 50144132, "comment_id": 87306573, "body": "Not sure about that particular issue, but azure functions can also read from environment variables. So if you can&#39;t find a solution to local settings on a mac, you can use environment variables to store/get those values."}, {"owner": {"reputation": 3365, "user_id": 90890, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5e054f7d487f48b4ef104475c67bdee?s=128&d=identicon&r=PG", "display_name": "bbqchickenrobot", "link": "https://stackoverflow.com/users/90890/bbqchickenrobot"}, "reply_to_user": {"reputation": 6943, "user_id": 449688, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8Hbt.jpg?s=128&g=1", "display_name": "mariocatch", "link": "https://stackoverflow.com/users/449688/mariocatch"}, "edited": false, "score": 0, "creation_date": 1525298598, "post_id": 50144132, "comment_id": 87306613, "body": "Thanks, will try that as a work around."}], "answers": [{"tags": [], "owner": {"reputation": 15558, "user_id": 9191057, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLVDw.png?s=128&g=1", "display_name": "Jerry Liu", "link": "https://stackoverflow.com/users/9191057/jerry-liu"}, "is_accepted": true, "score": 2, "last_activity_date": 1526045559, "last_edit_date": 1526045559, "creation_date": 1525320046, "answer_id": 50146748, "question_id": 50144132, "link": "https://stackoverflow.com/questions/50144132/azure-function-not-able-to-read-access-local-settings-json-when-debugging-w-vs2/50146748#50146748", "title": "Azure Function not Able to Read/Access local.settings.json when Debugging w/ VS2017 for Mac", "body": "<p>Azure function v2 running on runtime 2.x(.net core) doesn't support ConfigurationManager any more. See <a href=\"https://github.com/Azure/azure-functions-core-tools/issues/328#issuecomment-355697529\" rel=\"nofollow noreferrer\">Azure Team's reply on github</a>.</p>\n\n<p>When I debug a v2 function on Windows, <code>System.Configuration.ConfigurationErrorsException</code> thrown. And v1 still works well as you have found.</p>\n\n<p>So as @mariocatch has said, try to read enviroment variables instead.</p>\n\n<p>Two options for you to refer.</p>\n\n<ol>\n<li><p>Read environment variables directly</p>\n\n<pre><code>string connectionString = Environment.GetEnvironmentVariable(\"ConnectionStrings:connName\");\n</code></pre></li>\n<li><p>Add <code>ExecutionContext context</code> to your function method parameters and read local settings.</p>\n\n<pre><code>[FunctionName(\"FunctionName\")]\npublic static void Run(...,ExecutionContext context)\n{\n    var config = new ConfigurationBuilder()\n        .SetBasePath(context.FunctionAppDirectory)\n        .AddJsonFile(\"local.settings.json\", optional: true, reloadOnChange: true)\n        .AddEnvironmentVariables()\n        .Build();\n    string connectionString = config.GetConnectionString(\"connName\");\n    .....\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 3365, "user_id": 90890, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d5e054f7d487f48b4ef104475c67bdee?s=128&d=identicon&r=PG", "display_name": "bbqchickenrobot", "link": "https://stackoverflow.com/users/90890/bbqchickenrobot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "accepted_answer_id": 50146748, "answer_count": 1, "score": 2, "last_activity_date": 1526062552, "creation_date": 1525298181, "last_edit_date": 1525328524, "question_id": 50144132, "link": "https://stackoverflow.com/questions/50144132/azure-function-not-able-to-read-access-local-settings-json-when-debugging-w-vs2", "title": "Azure Function not Able to Read/Access local.settings.json when Debugging w/ VS2017 for Mac", "body": "<p>Empty/null value returned when attempting to read from the local.settings.json config file when debugging an Azure Function locally using VS2017 for Mac...  after scanning the internet I wasn't able to determine if this is a known issue or if there is a work around.  This is how I'm accessing the configuration settings: </p>\n\n<pre><code>ConfigurationManager.ConnectionStrings[\"connName\"].ConnectionString\n</code></pre>\n\n<p>This works fine if the Function app is debugged on a Windows Machine (same git code base)</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1525298035, "post_id": 50143956, "comment_id": 87306433, "body": "If I understand correctly, you could simplify some of your code like this... <code>var newList = MyTableList.Where(n =&gt; n.ID != null).Select(n =&gt; getnewinfo.GetSinglerows(n.ID)).ToList();</code>"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1525298067, "post_id": 50143956, "comment_id": 87306446, "body": "What issue are you having with adding the new list, avoiding duplicates?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525298305, "post_id": 50143956, "comment_id": 87306517, "body": "<code>var MyTableList = List&lt;ExportDto&gt;(List);</code> Does that compile?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525298339, "post_id": 50143956, "comment_id": 87306523, "body": "I would suggest changing <code>IEnumerable&lt;int?&gt; rowselect = MyTableList.Where(n =&gt; n.ID != null)                                          .Select(n =&gt; n.ID);</code> to <code>IEnumerable&lt;int&gt; rowselect = MyTableList.Where(n =&gt; n.ID != null)                                          .Select(n =&gt; n.ID.Value);</code>"}], "answers": [{"tags": [], "owner": {"reputation": 3624, "user_id": 8013471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh4jO.jpg?s=128&g=1", "display_name": "cse", "link": "https://stackoverflow.com/users/8013471/cse"}, "is_accepted": true, "score": 2, "last_activity_date": 1525297667, "creation_date": 1525297667, "answer_id": 50144028, "question_id": 50143956, "link": "https://stackoverflow.com/questions/50143956/adding-list-to-a-new-list/50144028#50144028", "title": "Adding list to a new list", "body": "<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/z883w3dc(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>List&lt;T&gt;.AddRange Method</code></a> as following:</p>\n\n<pre><code>MyTableList.AddRange(getnewlist );\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 2543190, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aad365adb7d3e9a605e6d5e4b85e4dce?s=128&d=identicon&r=PG", "display_name": "Sevensnake", "link": "https://stackoverflow.com/users/2543190/sevensnake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 50144028, "answer_count": 1, "score": 0, "last_activity_date": 1525297667, "creation_date": 1525297301, "last_edit_date": 1525297403, "question_id": 50143956, "link": "https://stackoverflow.com/questions/50143956/adding-list-to-a-new-list", "title": "Adding list to a new list", "body": "<p>Take if from the top. have a list that I return MyTableList.</p>\n\n<pre><code>var MyTableList = List&lt;ExportDto&gt;(List);\n</code></pre>\n\n<p>this tableList returns ID's that is needed to select another level from the same table.</p>\n\n<pre><code>IEnumerable&lt;int?&gt; rowselect = MyTableList.Where(n =&gt; n.ID != null)\n                                         .Select(n =&gt; n.ID);\n</code></pre>\n\n<p>this provides me with a list of ID's are then returned;\nI use a </p>\n\n<pre><code>foreach (var item in rowselect)\n    getnewlist = getnewinfo.GetSinglerows(item.Value);\n</code></pre>\n\n<p>The main problem is for me Adding this new list and merging it with MyTableList.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1525297348, "post_id": 50143953, "comment_id": 87306191, "body": "Are you trying to enable attribute routing ?"}, {"owner": {"reputation": 33, "user_id": 3751573, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100000155767509/picture?type=large", "display_name": "Fuad Ahmad", "link": "https://stackoverflow.com/users/3751573/fuad-ahmad"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1525297453, "post_id": 50143953, "comment_id": 87306231, "body": "the attribute routing is enable . But if i need to make a special attribute on controller like this [Route (&quot;Cars/Index&quot;)] . I can&#39;t"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525298980, "post_id": 50143953, "comment_id": 87306748, "body": "<code>and give me an error</code> What error?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3751573, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100000155767509/picture?type=large", "display_name": "Fuad Ahmad", "link": "https://stackoverflow.com/users/3751573/fuad-ahmad"}, "edited": false, "score": 0, "creation_date": 1525327146, "post_id": 50145633, "comment_id": 87313948, "body": "where should i put this method ?             routes.MapAttributeRoutes(config =&gt;             {                 config.AddRoutesFromController&lt;ControllerName&gt;();             });"}, {"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "reply_to_user": {"reputation": 33, "user_id": 3751573, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100000155767509/picture?type=large", "display_name": "Fuad Ahmad", "link": "https://stackoverflow.com/users/3751573/fuad-ahmad"}, "edited": false, "score": 0, "creation_date": 1525327917, "post_id": 50145633, "comment_id": 87314241, "body": "You can add <code>MapAttributeRoutes</code> in <code>RegisterRoutes</code> method inside <code>RouteConfig</code> as mentioned in <a href=\"https://github.com/mccalltd/AttributeRouting/wiki/1.-Getting-Started\" rel=\"nofollow noreferrer\">this wiki</a>. Then modify route registration in <code>Global.asax</code> (i.e. <code>Application_Start()</code> method) to set it."}], "tags": [], "owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "is_accepted": true, "score": 2, "last_activity_date": 1525327582, "last_edit_date": 1525327582, "creation_date": 1525310324, "answer_id": 50145633, "question_id": 50143953, "link": "https://stackoverflow.com/questions/50143953/can-i-use-routes-mapmvcattributeroutes-on-mvc4/50145633#50145633", "title": "Can i use routes.MapMvcAttributeRoutes(); on MVC4?", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.routecollectionattributeroutingextensions.mapmvcattributeroutes(v=vs.118).aspx\" rel=\"nofollow noreferrer\"><code>MapMvcAttributeRoutes()</code></a> extension method only available in MVC version 5 or higher, because <code>RouteCollectionAttributeRoutingExtensions</code> class doesn't exist in previous versions. Using that method in MVC 4 or below will show this error:</p>\n\n<blockquote>\n  <p>'RouteCollection' does not contain a definition for\n  'MapMvcAttributeRoutes' and no extension method\n  'MapMvcAttributeRoutes' accepting a first argument of type\n  'RouteCollection' could be found.</p>\n</blockquote>\n\n<p>If you want to use attribute routing in MVC versions older than MVC 5, install <a href=\"https://www.nuget.org/packages/AttributeRouting/\" rel=\"nofollow noreferrer\"><code>AttributeRouting</code></a> package then use <code>AddRoutesFromController()</code> method to add controller name into routing configuration inside <code>RegisterRoutes</code> method (<code>ControllerName</code> belongs to any controller class name):</p>\n\n<pre><code>public static void RegisterRoutes(RouteCollection routes)\n{\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n    routes.MapAttributeRoutes(config =&gt;\n    {\n        config.AddRoutesFromController&lt;ControllerName&gt;();\n    });\n}\n</code></pre>\n\n<p>Then, you can use <code>RouteAttribute</code> (and <code>RoutePrefixAttribute</code>) similar to MVC 5 fashion:</p>\n\n<pre><code>[RoutePrefix(\"Cars\")]\npublic class CarsController : Controller\n{\n    [Route(\"Cars/Index\")]\n    public ActionResult Index()\n    {\n        // do something\n    }\n}\n</code></pre>\n\n<p>You can found detailed information of <code>AttributeRouting</code> package usage <a href=\"http://mccalltd.github.io/AttributeRouting/#asp-net-mvc\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 3751573, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/100000155767509/picture?type=large", "display_name": "Fuad Ahmad", "link": "https://stackoverflow.com/users/3751573/fuad-ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 1, "accepted_answer_id": 50145633, "answer_count": 1, "score": 0, "last_activity_date": 1525327582, "creation_date": 1525297290, "question_id": 50143953, "link": "https://stackoverflow.com/questions/50143953/can-i-use-routes-mapmvcattributeroutes-on-mvc4", "title": "Can i use routes.MapMvcAttributeRoutes(); on MVC4?", "body": "<p>I try to create a controller on MVC4 \nand i need links on special attribute \nso when I open RouteConfig.cs \nI can't found this : \nroutes.MapMvcAttributeRoutes();\nand give me an error . \nSo how can i make a special attribute to the each control and action on MVC 4 </p>\n"}, {"tags": ["c#", "html-agility-pack"], "comments": [{"owner": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1525301498, "post_id": 50143942, "comment_id": 87307487, "body": "<i>... scrape the wiki to see if anything has changed and if so to update/notify me...</i> - IMHO, depends on what your scope on &quot;change&quot; means. e.g. if you&#39;re looking to monitor <i>all</i> the &quot;inner text&quot; then maybe giving that a signature for future comparison will suffice (?)"}, {"owner": {"reputation": 3, "user_id": 8372548, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mxT6KsaovK8/AAAAAAAAAAI/AAAAAAAAABU/sbvL30UL9io/photo.jpg?sz=128", "display_name": "Lone Wolf Productions", "link": "https://stackoverflow.com/users/8372548/lone-wolf-productions"}, "reply_to_user": {"reputation": 10219, "user_id": 304683, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pPt7E.jpg?s=128&g=1", "display_name": "EdSF", "link": "https://stackoverflow.com/users/304683/edsf"}, "edited": false, "score": 0, "creation_date": 1525302639, "post_id": 50143942, "comment_id": 87307717, "body": "What I mean by changes is like when new options are added and/or removed also current options the are getting a revision yes or no. If this happens I know I need to update my classes to reflect these changes so I can stil configure my configuration files using a GUI. Right now the only option I have is done by text edting and that is kinda tidious after a while. I&#39;m looking everywhere for descent documentation on htmlagiltypack but it is hard to find. The examples they provide are not very in depth. But that aside. its doing what I want. I just think I am taking the hard route to code it in."}], "owner": {"reputation": 3, "user_id": 8372548, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mxT6KsaovK8/AAAAAAAAAAI/AAAAAAAAABU/sbvL30UL9io/photo.jpg?sz=128", "display_name": "Lone Wolf Productions", "link": "https://stackoverflow.com/users/8372548/lone-wolf-productions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525297228, "creation_date": 1525297228, "question_id": 50143942, "link": "https://stackoverflow.com/questions/50143942/htmlagilitypack-is-there-a-better-way-to-write-this", "title": "HtmlAgilityPack : Is there a better way to write this", "body": "<p>I recently started experimenting with HtmlAgilityPack, and the following code is working for what I want to achieve.</p>\n\n<p>But since I just started exploring this, I was wondering if there was a better way then using so many <strong>PreviousSibling</strong> tags</p>\n\n<pre><code>var Application_Html = @\"https://wiki.profittrailer.com/doku.php?id=application.properties\";\n        HtmlWeb Internet_Load_Connection = new HtmlWeb();\n        var Application_Html_Loaded = Internet_Load_Connection.Load(Application_Html);\n        var Wiki_Application_Part_Loaded = Application_Html_Loaded.DocumentNode.SelectSingleNode(\"//div[@class ='dw-content']\");\n\n        var divs = Application_Html_Loaded.DocumentNode.Descendants(\"div\").Where(node =&gt; node.GetAttributeValue(\"class\", \"\").Equals(\"level5\")).Where(node =&gt; node.ParentNode.GetAttributeValue(\"class\", \"\").Equals(\"dw-content\")).ToList();\n\n        foreach (var s in divs)\n        {\n            if (s.InnerText.IndexOf(\" \") &gt; 0)\n            {\n                if (s.PreviousSibling.PreviousSibling.Id.Contains(\"default_api\") || s.PreviousSibling.PreviousSibling.Id.Contains(\"trading_api\"))\n                {\n                    textBox1.AppendText(s.PreviousSibling.PreviousSibling.PreviousSibling.PreviousSibling.PreviousSibling.PreviousSibling.Id + \"\\n\");\n                    textBox1.AppendText(s.PreviousSibling.PreviousSibling.PreviousSibling.PreviousSibling.PreviousSibling.PreviousSibling.InnerText + \"\\n\");\n                    textBox1.AppendText(s.ChildNodes[3].InnerText + \"\\n\");\n                    textBox1.AppendText(\"\\n\");\n\n                    textBox1.AppendText(s.PreviousSibling.PreviousSibling.Id + \"\\n\");\n                    textBox1.AppendText(s.PreviousSibling.PreviousSibling.InnerText + \"\\n\");\n                    textBox1.AppendText(s.ChildNodes[3].InnerText + \"\\n\");\n                    textBox1.AppendText(\"\\n\");                       \n                }\n                else\n                {\n                    textBox1.AppendText(s.PreviousSibling.PreviousSibling.Id + \"\\n\");\n                    textBox1.AppendText(s.PreviousSibling.PreviousSibling.InnerText + \"\\n\");\n                    textBox1.AppendText(s.ChildNodes[3].InnerText + \"\\n\");\n                    textBox1.AppendText(\"\\n\");\n                }   \n            }\n\n        }\n</code></pre>\n\n<p>The idea behind this is to scrape the wiki to see if anything has changed and if so to update/notify me if changes are needed.</p>\n\n<p>Example html piece for reference</p>\n\n<pre><code>&lt;h5 id=\"tradingexchange\"&gt;trading.exchange&lt;/h5&gt;\n&lt;div class=\"level5\"&gt;\n&lt;pre class=\"code file java\"&gt;trading.&lt;span class=\"me1\"&gt;exchange&lt;/span&gt; &lt;span \nclass=\"sy0\"&gt;=&lt;/span&gt; BITTREX&lt;/pre&gt;\n\n&lt;p&gt;\nUse to set the exchange you want the bot to connect to. Possible values \n(POLONIEX, BITTREX, BINANCE).\nMust be in CAPITALS.\n&lt;/p&gt;\n&lt;hr /&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>all is in the <strong>div class=\"dw-content\"</strong> wich I extract first</p>\n\n<p><strong>h5 id</strong> is needed to check if new option are added</p>\n\n<p><strong>h5 innertext</strong> is need to check the formating</p>\n\n<p><strong>p innertext</strong> to check if the description is updated or not</p>\n"}, {"tags": ["c#", "properties", "naming-conventions", "inner-classes"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525297347, "post_id": 50143923, "comment_id": 87306190, "body": "What is the question here? You can&#39;t do that with inner types, there is already something named &quot;B&quot;. Its the same as if you had 2 properties with the same name..."}, {"owner": {"reputation": 2494, "user_id": 370132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/32962f2e057da55303dd023bab7e2617?s=128&d=identicon&r=PG", "display_name": "Eleno", "link": "https://stackoverflow.com/users/370132/eleno"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525297810, "post_id": 50143923, "comment_id": 87306371, "body": "Added question."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525299808, "post_id": 50143923, "comment_id": 87307025, "body": "<code>CONSIDER</code> means &#39;try if it makes sense and is possible&#39;. It isn&#39;t possible here (without changing the class to not be inner) so you can&#39;t do it."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525301304, "post_id": 50143923, "comment_id": 87307445, "body": "<code>Is there any special syntax for these cases?</code> No."}, {"owner": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1588224140, "post_id": 50143923, "comment_id": 108818183, "body": "@RonBeyer, the question which raises here: &quot;What would be a naming convention here which makes sense, and more or less consistent with other naming conventions?&quot; I mean if there is a type named: <code>Foo</code> then all naming conventions dictates, that a property which is a type of Foo should be declared as <code>Foo Foo {get; set;}</code>.  Now what...? Should we call the inner class as <code>FooClass</code>?  or should we call the property <code>Foo FooProperty {get; set;}</code>?"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "reply_to_user": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "edited": false, "score": 1, "creation_date": 1588248845, "post_id": 50143923, "comment_id": 108829409, "body": "@g.pickardou I think you should ask that question on <a href=\"https://softwareengineering.stackexchange.com/\">Software Engineering.SE</a> but I think the answer will boil down to &quot;don&#39;t use inner classes that need to be exposed externally&quot;. If that&#39;s the case, make it a separate class. Only use inner classes for something that needs to be used internally in the class. Inner classes make it difficult to define interfaces (chicken and egg problem) or do things like injection."}, {"owner": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "reply_to_user": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1588271880, "post_id": 50143923, "comment_id": 108842590, "body": "@RonBeyer: Fair enough. I was just trying answer your question in the comment."}], "answers": [{"tags": [], "owner": {"reputation": 23981, "user_id": 1157814, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Nk7LK.png?s=128&g=1", "display_name": "g.pickardou", "link": "https://stackoverflow.com/users/1157814/g-pickardou"}, "is_accepted": false, "score": 0, "last_activity_date": 1588272009, "creation_date": 1588272009, "answer_id": 61530514, "question_id": 50143923, "link": "https://stackoverflow.com/questions/50143923/same-name-for-inner-class-and-property/61530514#61530514", "title": "Same name for inner class and property", "body": "<p>After two years... but better later than never...</p>\n\n<p>Credit goes to RonBeyer's comment to my comment.</p>\n\n<p><strong>Don't use inner classes that need to be exposed externally</strong>, then the problem will not even raise.</p>\n"}], "owner": {"reputation": 2494, "user_id": 370132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/32962f2e057da55303dd023bab7e2617?s=128&d=identicon&r=PG", "display_name": "Eleno", "link": "https://stackoverflow.com/users/370132/eleno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1588272009, "creation_date": 1525297141, "last_edit_date": 1525297789, "question_id": 50143923, "link": "https://stackoverflow.com/questions/50143923/same-name-for-inner-class-and-property", "title": "Same name for inner class and property", "body": "<p><a href=\"https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/names-of-type-members\" rel=\"nofollow noreferrer\">Framework naming conventions</a> say \"CONSIDER giving a property the same name as its type.\"  However, it seems that this cannot be done with inner classes, as this code does not compile:</p>\n\n<pre><code>class A\n{\n    public class B\n    {\n        public string C { get; set; }\n    }\n    public B B { get; set; }\n}\n</code></pre>\n\n<p>Is there any special syntax for these cases?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1525297439, "post_id": 50143876, "comment_id": 87306227, "body": "How did you instantiate <code>Program.HttpClient</code>?"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1525297532, "post_id": 50143876, "comment_id": 87306254, "body": "What is the StatusCode? Are you using Https for the connection? How is HttpClient instantiated?"}, {"owner": {"reputation": 466, "user_id": 5754559, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZITa6.jpg?s=128&g=1", "display_name": "Leonardo Menezes", "link": "https://stackoverflow.com/users/5754559/leonardo-menezes"}, "edited": false, "score": 0, "creation_date": 1525298300, "post_id": 50143876, "comment_id": 87306515, "body": "What&#39;s the version of your System.Net.Http dll? I&#39;m running on version 4.2.0.0 and it works perfectly, no ObjectDiposedException. This could be the issue."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525298481, "post_id": 50143876, "comment_id": 87306578, "body": "<code>saying something like</code> Please update your question with the actual message."}, {"owner": {"reputation": 437, "user_id": 8959415, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae0a12a8d8b00f6a820b9fd04b2dbb77?s=128&d=identicon&r=PG&f=1", "display_name": "Janilson", "link": "https://stackoverflow.com/users/8959415/janilson"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1525313676, "post_id": 50143876, "comment_id": 87310043, "body": "@Win , Jimi,  HttpClient is instantiated with the parameterless constructor, only altered property is timeout set to 30 seconds instead of the default 100 seconds. Yes I&#39;m using https for the connection, but there&#39;s no status code as the exception mentioned only triggers if the request timedout (so no response was received)."}, {"owner": {"reputation": 437, "user_id": 8959415, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae0a12a8d8b00f6a820b9fd04b2dbb77?s=128&d=identicon&r=PG&f=1", "display_name": "Janilson", "link": "https://stackoverflow.com/users/8959415/janilson"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1525313682, "post_id": 50143876, "comment_id": 87310044, "body": "@mjwills I say <code>saying something like</code> because my system is not in english and I had to translate the message. The meaning of the message is exactly the one stated here, that <code>StringContent</code> (the content I&#39;m trying to send with <code>SendAsync</code>) got disposed somewhere, just the wording of the english message might be a little different"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1525379721, "post_id": 50143876, "comment_id": 87344875, "body": "Https: you might need to exchange Cookies, but also to validate a Server certificate. Use an <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.httpclienthandler(VS.110).aspx\" rel=\"nofollow noreferrer\">HttpClientHandler()</a> to manage the Cookies. <a href=\"https://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.securityprotocol(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ServicePointManager.SecurityProtocol</a> to set the SSL protocols you support, <a href=\"https://msdn.microsoft.com/en-us/library/system.net.servicepointmanager.servercertificatevalidationcallback(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ServicePointManager.ServerCertificateValidationCallback</a> (...)"}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1525379795, "post_id": 50143876, "comment_id": 87344905, "body": "to specify the server certificate validation callback used to validate the server certificate. Also, add a User Agent to the HttpClient headers. You can find reference code for all this in SO (a lot of references)."}, {"owner": {"reputation": 437, "user_id": 8959415, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae0a12a8d8b00f6a820b9fd04b2dbb77?s=128&d=identicon&r=PG&f=1", "display_name": "Janilson", "link": "https://stackoverflow.com/users/8959415/janilson"}, "reply_to_user": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1525392907, "post_id": 50143876, "comment_id": 87348717, "body": "@Jimi I was sending requests to an API I built myself, I really doubt headers or certificates would be an issue. I&#39;ve found the problem and the solution as stated in the answer I&#39;ve posted below, but thanks for the help reagrdless."}, {"owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "edited": false, "score": 0, "creation_date": 1525393727, "post_id": 50143876, "comment_id": 87348896, "body": "What I wrote is about a generic context. If you try to access a resource through SSL, you code will have a very high probability to fail to retrieve anything because it&#39;s not supporting the SSL standard. This will possibly cause a TimeOut, when the Client/Server Handshake fails to find a resolution. The point is, why <code>SendAsync()</code> would fail? First thing, you look at the StatusCode of the response (if readable) or the Error Status of the Exception."}], "answers": [{"tags": [], "owner": {"reputation": 437, "user_id": 8959415, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae0a12a8d8b00f6a820b9fd04b2dbb77?s=128&d=identicon&r=PG&f=1", "display_name": "Janilson", "link": "https://stackoverflow.com/users/8959415/janilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1525348841, "creation_date": 1525348841, "answer_id": 50154618, "question_id": 50143876, "link": "https://stackoverflow.com/questions/50143876/httprequestmessage-getting-disposed-after-sending-request/50154618#50154618", "title": "HttpRequestMessage getting disposed after sending request", "body": "<p>Ok I've been able to replicate the issue by disconnecting from the internet (to throw an exception on <code>SendAsync()</code>) and running the following code:</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        var client = new HttpClient();\n        var content = new StringContent(\"Hi\");\n        while (true)\n        {\n            here:\n            var request = new HttpRequestMessage()\n            {\n                RequestUri = new Uri(\"https://httpbin.org/post\"),\n                Method = HttpMethod.Post,\n                Content = content\n            };\n            try\n            {\n                var response = client.SendAsync(request).Result;\n            }\n            catch (Exception e)\n            {\n                goto here;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>So basically the <code>HttpClient</code> source code I looked saying that \"the request used to be discarted but no longer does\" is the source code for the .NET Core <code>HttpClient</code>. In .NET framework (which is what I'm using) <code>HttpClient</code> still disposes the request when <code>SendAsync</code> throws an exception.</p>\n\n<p>So I guess the way to fix this is to pass the string as a parameter rather than the <code>StringContent</code>, then make a new <code>StringContent</code> before every <code>SendAsync()</code>. Rather lame but is what I can think of right now.</p>\n"}], "owner": {"reputation": 437, "user_id": 8959415, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae0a12a8d8b00f6a820b9fd04b2dbb77?s=128&d=identicon&r=PG&f=1", "display_name": "Janilson", "link": "https://stackoverflow.com/users/8959415/janilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 875, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1525348841, "creation_date": 1525296861, "question_id": 50143876, "link": "https://stackoverflow.com/questions/50143876/httprequestmessage-getting-disposed-after-sending-request", "title": "HttpRequestMessage getting disposed after sending request", "body": "<p>I have a class in my program that calls an API, and every request goes through the following function to retry the request a few times in case of timeouts.</p>\n\n<pre><code>protected async Task&lt;HttpResponseMessage&gt; RetryIfExceptionAsync(string urlString, HttpMethod httpMethod, HttpContent httpContent, byte exceptionRetries)\n{\n    HttpResponseMessage httpResponse = null;\n\n    byte retries = exceptionRetries;\n    while (retries != 0)\n    {\n        var httpRequest = new HttpRequestMessage()\n        {\n            RequestUri = new Uri(urlString),\n            Method = httpMethod,\n            Content = httpContent\n        };\n        try\n        {\n            httpResponse = await Program.HttpClient.SendAsync(httpRequest);  // &lt;--- This is line 93\n        }\n        catch (TaskCanceledException taskCanceledException)\n        {\n            if (!taskCanceledException.CancellationToken.IsCancellationRequested)\n            {\n                Program.TimeoutDebugLog.Append(String.Format(\"{0} timeout, retries: {1}, url: {2}\", httpMethod, retries, urlString));   //TimeoutDebugLog is a StringBuilder\n                await Task.Delay(200);\n                retries--;\n                continue;\n            }\n        }\n        break;\n    }\n    if (httpResponse == null)\n    {\n        using (var stream = new System.IO.FileStream(\"TimeoutDebugLog.txt\", System.IO.FileMode.Append))\n        using (var writer = new System.IO.StreamWriter(stream))\n        {\n            writer.Write(Program.TimeoutDebugLog.ToString());\n        }\n        Program.TimeoutDebugLog.Clear();\n        throw new CustomHttpRequestException(\"Failed to obtain response after 5 attemps\")\n        {\n            RequestUrl = urlString,\n            RequestMethod = httpMethod,\n            RequestContent = httpContent.ReadAsStringAsync().Result\n        };\n    }\n    else\n    {\n        return httpResponse;\n    }\n}\n</code></pre>\n\n<p>For some reason though I'm getting an <code>ObjectDiposedException</code> saying something like \"Not possible to access discarted object objectname: System.Net.Http.StringContent\". Here's is the stack trace pointing the exception is thrown at line 93, which I've indicated in the code:</p>\n\n<pre><code>   at System.Net.Http.HttpContent.CheckDisposed()\n   at System.Net.Http.HttpContent.CopyToAsync(Stream stream, TransportContext context)\n   at System.Net.Http.HttpClientHandler.GetRequestStreamCallback(IAsyncResult ar)\n--- end of stack trace from previous location where exception was thrown ---\n   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)\n   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()\n   at AuditLogsDownload.ConsoleApp.Net.ApiCall.&lt;RetryIfExceptionAsync&gt;d__6.MoveNext() at {filepath}:line 93\n</code></pre>\n\n<p>I've checked <a href=\"https://github.com/dotnet/corefx/blob/master/src/System.Net.Http/src/System/Net/Http/HttpClient.cs\" rel=\"nofollow noreferrer\">the HttpClient source code at github</a>, and there's a comment there saying <code>SendAsync()</code> used to dispose the content of the request but that is no longer the case. What am I missing? How can I work around this error? The fact that every class is a reference type in C# makes me unsure on how to proceed.</p>\n"}, {"tags": ["c#", "asp.net-core-mvc", "asp.net-core-2.0"], "comments": [{"owner": {"reputation": 113, "user_id": 7767623, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1437238389659937/picture?type=large", "display_name": "Nada Janjetovic", "link": "https://stackoverflow.com/users/7767623/nada-janjetovic"}, "edited": false, "score": 0, "creation_date": 1525296965, "post_id": 50143874, "comment_id": 87306022, "body": "This is my controllor method: [HttpPost]                 public IActionResult AddNewSubjects(IEnumerable&lt;Subject&gt; subjects)                 {                     var newSubjects= (from p in subjects                                         where p.State== Status.New                                         select p);                         var result = _subjectService.SaveTeacherSubjects(newSubjects);                     return View(&quot;ProfesorPages&quot;);                    }                     return View(&quot;ProfesorPages&quot;);                    }"}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 7767623, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1437238389659937/picture?type=large", "display_name": "Nada Janjetovic", "link": "https://stackoverflow.com/users/7767623/nada-janjetovic"}, "edited": false, "score": 0, "creation_date": 1525537488, "post_id": 50145571, "comment_id": 87400096, "body": "I am not using my model from database. I call my web api and load list of all subjects and also i have a partial view where teacher can add new subject. When add all new subjects I call web api and save all new subjects. I change @model  in razor to be IList, and add input types as you suggest me and now it&#39;s works!"}, {"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "reply_to_user": {"reputation": 113, "user_id": 7767623, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1437238389659937/picture?type=large", "display_name": "Nada Janjetovic", "link": "https://stackoverflow.com/users/7767623/nada-janjetovic"}, "edited": false, "score": 0, "creation_date": 1525589895, "post_id": 50145571, "comment_id": 87410970, "body": "<code>IEnumerable</code> should work fine. Also maybe I was mistaken but the <code>Subject</code> seems like the model from the database. Anyway glad that worked out for you :)"}], "tags": [], "owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "is_accepted": true, "score": 0, "last_activity_date": 1525309614, "creation_date": 1525309614, "answer_id": 50145571, "question_id": 50143874, "link": "https://stackoverflow.com/questions/50143874/asp-net-core-mvc-on-form-posting-to-controller-ienumerable-model-in-controller/50145571#50145571", "title": "Asp.net Core MVC - on form posting to controller IEnumerable model in controller action is empty", "body": "<p>I have no idea what you're trying to do here. Your form doesn't have any input element except the submit button. Of course you're not seeing anything posted back.</p>\n\n<pre><code>@model IEnumerable&lt;Subject&gt;\n\n&lt;form&gt;\n    ...\n    &lt;tbody&gt;\n        @for(int i = 0; i &lt; Model.Count(); i++)\n        {\n            &lt;tr&gt;\n                &lt;td&gt;\n                    &lt;input type=\"hidden\" asp-for=\"Model[i].ID\" /&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=\"text\" asp-for=\"Model[i].Name\" /&gt;\n                &lt;/td&gt;\n                ...\n            &lt;/tr&gt;\n        }\n    &lt;/tbody&gt;\n    ...\n&lt;/form&gt;\n</code></pre>\n\n<p>Why??</p>\n\n<ul>\n<li>Why did you convert your IEnumerable to a list named item? Why not just enumerate your subjects directly?</li>\n<li>Why not create a different set of models called ViewModel and pass that to the View, instead of using your model from your database directly on the View?</li>\n</ul>\n"}], "owner": {"reputation": 113, "user_id": 7767623, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1437238389659937/picture?type=large", "display_name": "Nada Janjetovic", "link": "https://stackoverflow.com/users/7767623/nada-janjetovic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1514, "favorite_count": 0, "accepted_answer_id": 50145571, "answer_count": 1, "score": 0, "last_activity_date": 1525309614, "creation_date": 1525296854, "last_edit_date": 1525297200, "question_id": 50143874, "link": "https://stackoverflow.com/questions/50143874/asp-net-core-mvc-on-form-posting-to-controller-ienumerable-model-in-controller", "title": "Asp.net Core MVC - on form posting to controller IEnumerable model in controller action is empty", "body": "<p>I have a problem  when I am trying to post IEnumerable from razor view to Controllor action method. Also result is the same if I use List. \nI post my controllor action method also in comment. In my controllor action method I got list that is empty. </p>\n\n<p>This is my View:</p>\n\n<pre><code>@model IEnumerable&lt;Subject&gt;\n&lt;form asp-action=\"AddNewSubjects\" asp-controller=\"Teacher\" method=\"post\" role=\"form\" class=\"form-horizontal\"&gt;\n    &lt;table class=\"table\"&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;ID&lt;/th&gt;\n                &lt;th&gt;Name&lt;/th&gt;\n                &lt;th&gt;Number of class&lt;/th&gt;\n                &lt;th&gt;Level&lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            @if (Model != null)\n            {\n\n    var item = Model.ToList();\n    @for(int i=0;i&lt;Model.Count();i++)\n                {\n            &lt;tr&gt;\n                &lt;td&gt;@item[i].ID&lt;/td&gt;\n                &lt;td&gt;@item[i].Name&lt;/td&gt;\n                &lt;td&gt;@item[i].ClassNumber&lt;/td&gt;\n                &lt;td&gt;@item[i].Level&lt;/td&gt;\n\n            &lt;/tr&gt;\n\n                }\n            }\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"col-md-offset-2 col-md-5\"&gt;\n            &lt;input type=\"submit\" class=\"btn btn-primary\" value=\"Save all subjects\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This is my Controller:</p>\n\n<pre><code>            private readonly ISubjectService _subjectService;\n\n            public TeacherController(ISubjectService subjectService)\n            {\n                _subjectService= subjectService;\n            }\n\n     [HttpPost]\n            public IActionResult AddNewSubjects(IEnumerable&lt;Subject&gt; subjects)\n            {\n                var newSubjects= (from p in subjects\n                                    where p.State== Status.New\n                                    select p);\n                    var result = _subjectService.SaveTeacherSubjects(newSubjects);\n                return View(\"ProfesorPages\");   \n            }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525297000, "post_id": 50143861, "comment_id": 87306041, "body": "It isn&#39;t valid C#, I assume your <code>new Runner...</code> is in the <code>Main</code> method? Is your <code>Main</code> marked <code>async</code>? You can do that, depending on the C# version you are compiling against, then you just call <code>await new Runner().Run(...);</code>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525297004, "post_id": 50143861, "comment_id": 87306043, "body": "<code>message As Message</code>, <code>await new Email()</code>? Is that supposed to be pseudo-code?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 1, "creation_date": 1525297053, "post_id": 50143861, "comment_id": 87306072, "body": "@CamiloTerevinto: There are also executable statements outside of a method, methods outside any class.  It&#39;s definitely not compile-ready."}, {"owner": {"reputation": 5620, "user_id": 7148391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KIlov.png?s=128&g=1", "display_name": "Zohir Salak", "link": "https://stackoverflow.com/users/7148391/zohir-salak"}, "edited": false, "score": 0, "creation_date": 1525297117, "post_id": 50143861, "comment_id": 87306098, "body": "Where is your main method though ?"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525297385, "post_id": 50143861, "comment_id": 87306208, "body": "<code>public static Main()</code> does not compile. Please read how to and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525297589, "post_id": 50143861, "comment_id": 87306280, "body": "How does <code>await new Email();</code> compile for you? <code>await</code> can only be applied to <code>Task</code> and <code>Task&lt;T&gt;</code>"}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525298174, "post_id": 50143861, "comment_id": 87306476, "body": "Now, the only thing missing is the implementation of <code>MailNotificationChannel.Send</code>, or is that some library?"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1525298911, "post_id": 50143861, "comment_id": 87306723, "body": "<code>MailNotificationChannel.Send</code> could be returning an already completed Task. As Camilo has asked, do you know how that method is implemented?"}, {"owner": {"reputation": 82, "user_id": 9649548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da3089278c5bea080767ecf070a2c2e?s=128&d=identicon&r=PG&f=1", "display_name": "StudentOfLifeTMistakeTResult", "link": "https://stackoverflow.com/users/9649548/studentoflifetmistaketresult"}, "edited": false, "score": 0, "creation_date": 1525299756, "post_id": 50143861, "comment_id": 87307002, "body": "Modified once again to make it simpler."}, {"owner": {"reputation": 579, "user_id": 5593631, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd12224f5e48ad3011d820a87ff442b?s=128&d=identicon&r=PG&f=1", "display_name": "Luminous_Dev", "link": "https://stackoverflow.com/users/5593631/luminous-dev"}, "edited": false, "score": 0, "creation_date": 1525300605, "post_id": 50143861, "comment_id": 87307256, "body": "<code>new Runner().GetAwaiter().GetResult();</code>"}, {"owner": {"reputation": 82, "user_id": 9649548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da3089278c5bea080767ecf070a2c2e?s=128&d=identicon&r=PG&f=1", "display_name": "StudentOfLifeTMistakeTResult", "link": "https://stackoverflow.com/users/9649548/studentoflifetmistaketresult"}, "reply_to_user": {"reputation": 579, "user_id": 5593631, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd12224f5e48ad3011d820a87ff442b?s=128&d=identicon&r=PG&f=1", "display_name": "Luminous_Dev", "link": "https://stackoverflow.com/users/5593631/luminous-dev"}, "edited": false, "score": 0, "creation_date": 1525301523, "post_id": 50143861, "comment_id": 87307491, "body": "@Luminous_Dev i assume it make await internallyhowever why Wait() doesnt wait?"}], "answers": [{"tags": [], "owner": {"reputation": 579, "user_id": 5593631, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fd12224f5e48ad3011d820a87ff442b?s=128&d=identicon&r=PG&f=1", "display_name": "Luminous_Dev", "link": "https://stackoverflow.com/users/5593631/luminous-dev"}, "is_accepted": false, "score": 1, "last_activity_date": 1525302379, "creation_date": 1525302379, "answer_id": 50144751, "question_id": 50143861, "link": "https://stackoverflow.com/questions/50143861/wait-doesnt-wait-for-task-completion/50144751#50144751", "title": "Wait doesn&#39;t wait for Task completion", "body": "<p>Code seem fine to me when I tested it.</p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        System.Diagnostics.Debug.WriteLine(\"1\");\n        new Runner().Run().Wait();\n        System.Diagnostics.Debug.WriteLine(\"4\");\n    }\n}\n\npublic class Runner\n{\n    public async Task Run()\n    {\n        var hc = new HttpClient();\n        System.Diagnostics.Debug.WriteLine(\"2\");\n        var result = await hc.GetStringAsync(\"http://www.google.com\");\n        System.Diagnostics.Debug.WriteLine(result);\n        System.Diagnostics.Debug.WriteLine(\"3\");\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1\n2\n&lt;!doctype html&gt;......some long google page response\n3\n4\n</code></pre>\n\n<p>So it actually works fine.</p>\n\n<p><strong>Now if this isnt clear then try with Thread.Sleep(5000) // sleep for 5 second\nthe main is definitly waiting</strong></p>\n\n<pre><code>class Program\n{\n    static void Main(string[] args)\n    {\n        System.Diagnostics.Debug.WriteLine(\"1\");\n        new Runner().Run().Wait();\n        System.Diagnostics.Debug.WriteLine(\"4\");\n    }\n}\n\npublic class Runner\n{\n    public async Task Run()\n    {\n        var hc = new HttpClient();\n        System.Diagnostics.Debug.WriteLine(\"2\");\n        Thread.Sleep(5000);\n        System.Diagnostics.Debug.WriteLine(\"3\");\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1\n2\n...waiting 5 seconds\n3\n4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 1, "last_activity_date": 1525304298, "creation_date": 1525304298, "answer_id": 50144974, "question_id": 50143861, "link": "https://stackoverflow.com/questions/50143861/wait-doesnt-wait-for-task-completion/50144974#50144974", "title": "Wait doesn&#39;t wait for Task completion", "body": "<p>Ultimately, when you call <code>.Wait()</code> (or <code>.Result</code>) on an incomplete task, all bets are off; that simply isn't a well-defined scenario. Fortunately, recent C# versions include <code>async</code> support for entry-points, so: use it!</p>\n\n<pre><code>   static async Task Main(string[] args)\n   {\n       await new Runner().Run();\n   }\n</code></pre>\n\n<p>This <em>could</em> also be simplified in this case to:</p>\n\n<pre><code>   static Task Main(string[] args)\n   {\n       return new Runner().Run();\n   }\n</code></pre>\n"}], "owner": {"reputation": 82, "user_id": 9649548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da3089278c5bea080767ecf070a2c2e?s=128&d=identicon&r=PG&f=1", "display_name": "StudentOfLifeTMistakeTResult", "link": "https://stackoverflow.com/users/9649548/studentoflifetmistaketresult"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1525304298, "creation_date": 1525296787, "last_edit_date": 1525299085, "question_id": 50143861, "link": "https://stackoverflow.com/questions/50143861/wait-doesnt-wait-for-task-completion", "title": "Wait doesn&#39;t wait for Task completion", "body": "<p>I have console application and executes get stream which takes long time. I added Wait() to wait that, however for some reasons it doesn't wait and immediatly closing console application. From my udnerstanding Wait() should block until task is finished. Can anyone explain me why it not happend. P.S My url get stream takes at least 10 sec therefore now way it finifhes so fast.</p>\n\n<pre><code> class Program\n   {\n       static void Main(string[] args)\n       {\n       new Runner().Run().Wait();\n       }\n   }\n\n   public class Runner\n   {      \n       public async Task Run()\n       {\n          var hc = new HttpClient();\n          await hc.GetStreamAsync(\"whateverURLwhichtakeslongtime\");\n       }\n    }  \n</code></pre>\n"}, {"tags": ["c#", "cross-domain", "access-token", "impersonation", "privileges"], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 7354452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii8yY.png?s=128&g=1", "display_name": "C Sharp Conner", "link": "https://stackoverflow.com/users/7354452/c-sharp-conner"}, "is_accepted": true, "score": 2, "last_activity_date": 1525795723, "creation_date": 1525795723, "answer_id": 50237994, "question_id": 50143818, "link": "https://stackoverflow.com/questions/50143818/impersonate-access-token-with-backup-and-restore-privilege-for-copying-file-acro/50237994#50237994", "title": "Impersonate Access Token with Backup And Restore Privilege for Copying File Across Domain", "body": "<p>So after much research it turns out this is locked down in Windows.  Unless the current process token has SeTcbPrivilege (Act as Part of Operating System) and it's enabled, you cannot get an unrestricted/elevated token when deciding to impersonate from a non-elevated token.</p>\n\n<p>Also if you then try to get the LinkedToken/Unrestricted Token of an Access Token but do not have the SeTcbPrivilege enabled, you will end up with a Token that has a <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa378832%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">SECURITY_IMPERSONATION_LEVEL</a> of <strong>SecurityIdentification which cannot be used for impersonation</strong>.  Without SECURITY_IMPERSONATION_LEVEL being SecurityImpersonation (Local Access) or SecurityDelegation (Local+Remote Access), you cannot impersonate the Unrestricted Access Token and will result in failure with LastError being ERROR_BAD_IMPERSONATION_LEVEL (Either a required impersonation level was not provided, or the provided impersonation level is invalid).</p>\n\n<p>This means if you do not have SeTcbPrivilege and it is not enable on the token, it is required to have an elevated process token (ex.  Run As Admin was used to start the program manually or forcefully via requestedExecutionLevel level=\"requireAdministrator\") then Windows will not strip the privileges on Access Token when you decide to impersonate the Access Token.</p>\n\n<p>By using a local administrator account that runs the program as administrator, and then using domain account credentials that are an admin on another machine to get an access token using the params of LOGON32_LOGONTYPE.LOGON32_LOGON_NEW_CREDENTIALS and LOGON32_LOGONPROVIDER.LOGON32_PROVIDER_WINNT50.  It is then possible to elevate privileges on the NEWCRED token, impersonate the NEWCRED token which will not strip away the privileges, and have it successfully connect to another computer and read from a file and write to a file on another computer to which it has no permissions or is even explicitly denied, proving it was using the token backup and restore privileges!</p>\n\n<p>Helpful Sources:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/5704537/how-do-i-convert-restricted-user-token-to-unrestricted-one\">how do i convert restricted user token to unrestricted one?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/39403050/how-to-call-logonuser-to-get-a-non-restricted-full-token-inside-a-windows-serv\">How to call LogonUser() to get a non-restricted full token inside a Windows Service with UAC enabled?</a></li>\n</ul>\n"}], "owner": {"reputation": 328, "user_id": 7354452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ii8yY.png?s=128&g=1", "display_name": "C Sharp Conner", "link": "https://stackoverflow.com/users/7354452/c-sharp-conner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 50237994, "answer_count": 1, "score": 0, "last_activity_date": 1525795723, "creation_date": 1525296599, "question_id": 50143818, "link": "https://stackoverflow.com/questions/50143818/impersonate-access-token-with-backup-and-restore-privilege-for-copying-file-acro", "title": "Impersonate Access Token with Backup And Restore Privilege for Copying File Across Domain", "body": "<ul>\n<li>Computer A is on Domain A</li>\n<li>Computer B is on Domain B</li>\n<li>Domain A and Domain B have a trust allowing Accounts to connect to the other domain's computers</li>\n<li>Account A is Admin on Computer A and has Backup&amp;Restore Privileges</li>\n<li>Account B is Admin on Computer B and has Backup&amp;Restore Privileges</li>\n<li>Account A IS NOT Admin on Computer B and does not have Backup&amp;Restore Privileges</li>\n<li>Account B IS NOT Admin on Computer A and does not have Backup&amp;Restore Privileges</li>\n</ul>\n\n<p>A person owns both Account A and Account B.<br>\nThey want to copy a file from Computer A to Computer B.<br>\nThey wish to copy this file from and into a folder they do not have permissions for.  Therefore, they must both enable Backup&amp;Restore Privileges on their Access Token they got from LogonUser</p>\n\n<p>It is <strong>not allowed</strong> to change the DACL to grant these permissions on any folders or files and instead both Account A and Account B must enable B&amp;R privileges which is recognized by the Computer, only then will they be able to copy the file without Access Denied.</p>\n\n<hr>\n\n<p>The problem is I have tried using NETWORK, INTERACTIVE, and NEW_CREDENTIALS Access Tokens and enabling privileges on them, but only NETWORK contains the privileges and they are already enabled by default.  Then when I try to WindowsIdentity.Impersonate the NETWORK token and then call \"CreateFile\" to open the file with privileges, it fails and returns an invalid file handle of -1.  I can use INTERACTIVE to read an unrestricted file but it didn't have Access Token Privileges needed ( SeBackupPrivilege &amp; SeRestorePrivilege ) when it was returned from LogonUser.  I assume once Impersonate happens it generates a Token that \"might\" have those privileges, but I assume that's based on the machine the code is running on.</p>\n\n<p>Is there a way to Impersonate Access Token -> Enable Access Token B&amp;R Privileges on the remote computers they would have normally when at that machine running as administrator which could be enabled.</p>\n\n<p>OR</p>\n\n<p>Is there a way to use the NETWORK Token with Impersonation to successfully copy the file from Computer on Domain A to Computer on Domain B.  If I run the program as Account B who isn't admin trying to impersonate Account A with network credential, it appears to not work on impersonation</p>\n\n<p>Below is demo code in a Console Application that emulates the situation.  You must change parts of it to test it accordingly:\nYou must create the file paths and the file to be read.\nYou must edit permissions on \"DENYTHEIMPERSONATINGUSERHERE\" folder so the impersonating user account is denied and must use privileges.\nYou must enter an actual account credentials to get an AccessToken.</p>\n\n<pre><code>class Program\n{\nstatic void Main(string[] args)\n{\n    //Credentials of Account A\n    string usernameA = \"AccountA\";\n    string DomainA = \"DomainA.com\";\n    SecureString passwordA = new SecureString();\n    passwordA.AppendChar('P');\n    passwordA.AppendChar('W');\n    passwordA.AppendChar('D');\n    passwordA.AppendChar('A');\n\n\n    IntPtr AccessToken = IntPtr.Zero;\n\n    //Getting Network Access Token. (Network is an Impersonation Token, most other types are returned as Primary Tokens)\n    AccessTokenHelper.LOGON32_LOGONERROR lgnCode = AccessTokenHelper.GetAccessToken(DomainA, usernameA, passwordA, AccessTokenHelper.LOGON32_LOGONTYPE.LOGON32_LOGON_NETWORK, AccessTokenHelper.LOGON32_LOGONPROVIDER.LOGON32_PROVIDER_WINNT50, out AccessToken);\n\n\n\n    /*\n        //Getting INTERACTIVE Access Token. (returns Primary Token)\n        //Impersonation will work but won't have enabled privileges so will error when trying to write file.\n        AccessTokenHelper.LOGON32_LOGONERROR lgnCode = AccessTokenHelper.GetAccessToken(DomainA, usernameA, passwordA, AccessTokenHelper.LOGON32_LOGONTYPE.LOGON32_LOGON_INTERACTIVE, AccessTokenHelper.LOGON32_LOGONPROVIDER.LOGON32_PROVIDER_WINNT50, out AccessToken);\n\n    */\n\n\n    if(AccessToken == IntPtr.Zero || AccessToken.ToInt32() == -1)\n    {\n        //Not valid creds\n        System.Diagnostics.Debug.WriteLine(lgnCode.ToString());\n        return;\n    }\n\n\n    //Enable Token Security Privileges\n    AccessTokenHelper.ElevateSecurityPrivileges(AccessToken);\n\n    //List Enabled Token Privileges\n    List&lt;string&gt; tokenEnabledPrivileges = AccessTokenHelper.ListEnabledPrivileges(AccessToken);\n    foreach(string s in tokenEnabledPrivileges)\n    {\n        System.Diagnostics.Debug.WriteLine(s);\n    }\n\n    string sourceFile = @\"C:\\Temp\\Test1\\TestData.txt\";\n    string destFile = @\"C:\\Temp\\Test1\\DENYTHEIMPERSONATINGUSERHERE\\PrivCopy.txt\";\n\n    bool bCopied = PrivilegedEnterpriseCopyFile(sourceFile, destFile, AccessToken, AccessToken);\n    System.Diagnostics.Debug.WriteLine(\"DID THE COPY WORK? \" + bCopied.ToString().ToUpper());\n\n\n}\n\n[DllImport(\"kernel32.dll\", CharSet = CharSet.Unicode, SetLastError = true)]\nprivate static extern IntPtr CreateFile(\n                                string lpFileName,\n                                uint dwDesiredAccess,\n                                OPENFILE_SHAREACCESS dwShareMode, //If you are reading folders you better have OPENFILE_SHAREACCESS.FILE_SHARE_READ\n                                IntPtr SecurityAttributes,\n                                uint dwCreationDisposition,\n                                uint dwFlagsAndAttributes,\n                                IntPtr hTemplateFile\n                                );\n\nprivate enum OPENFILE_SHAREACCESS : uint\n{\n    NO_SHARING = 0x00000000,\n    FILE_SHARE_READ = 0x00000001,\n    FILE_SHARE_WRITE = 0x00000002,\n    FILE_SHARE_DELETE = 0x00000004\n};\n\n[DllImport(\"kernel32.dll\", CharSet = CharSet.Unicode)]\nprivate static extern bool CloseHandle(IntPtr hObject);\n\n[DllImport(\"kernel32.dll\", CharSet = CharSet.Unicode, SetLastError = true)]\nprivate static extern bool GetFileSizeEx(IntPtr hFile, out long lpFileSize);\n\n/// &lt;summary&gt;\n/// Goal:   Enterprise Level Copy.... can copy file data between remote machines between domains.\n/// &lt;/summary&gt;\npublic static bool PrivilegedEnterpriseCopyFile(string sourceAbsoluteFileName, string destAbsoluteFileName, IntPtr sourceAccessToken, IntPtr destAccessToken, bool bOverwrite = false)\n{\n    const uint GENERIC_READ = 0x80000000;\n    const uint GENERIC_WRITE = 0x40000000; //If you are writing to a file, best allow both READ and WRITE because Windows Performance suffers without.\n    const uint CREATE_ALWAYS = 2; //Create and overwrite if necesarry\n    const uint OPEN_EXISTING = 3; //Open only if exists\n    const uint FILE_FLAG_BACKUP_SEMANTICS = 0x02000000; //This makes it take enabled Backup&amp;Restore privileges into account\n    const uint FILE_FLAG_SEQUENTIAL_SCAN = 0x08000000; //This helps speed up reading.\n    const uint FILE_FLAG_WRITE_THROUGH = 0x80000000;  //This helps speed up writing!\n    //We pick a value that is the largest multiple of 4096 that is still smaller than the large object heap threshold (85K).\n    // The CopyTo/CopyToAsync buffer is short-lived and is likely to be collected at Gen0, and it offers a significant\n    // improvement in Copy performance.\n    const int DefaultCopyBufferSize = 81920; //80kb\n\n    bool bSuccess = false;\n\n    //Get File Ptr Handles. DO NOT ALLOW DELETE ON SOURCE OR DEST WHILE THIS IS HAPPENING.\n    //Get the file pointer by using an access token with access.\n    IntPtr pSource = IntPtr.Zero;\n    IntPtr pDest = IntPtr.Zero;\n\n    //As source user, connect for optimized READING\n    using (WindowsImpersonationContext impersonatedUser = WindowsIdentity.Impersonate(sourceAccessToken))\n    {\n        pSource = CreateFile(sourceAbsoluteFileName, GENERIC_READ, OPENFILE_SHAREACCESS.FILE_SHARE_READ,\n                                IntPtr.Zero, OPEN_EXISTING,\n                                FILE_FLAG_BACKUP_SEMANTICS | FILE_FLAG_SEQUENTIAL_SCAN, IntPtr.Zero);\n    }\n\n    if (pSource == IntPtr.Zero || pSource.ToInt32() == -1)\n    {\n        //Failed to get Source, return false\n        return bSuccess;\n    }\n\n    //Get Dest Path\n    string DestPath = Path.GetDirectoryName(destAbsoluteFileName);\n    string DestFileName = Path.GetFileName(destAbsoluteFileName);\n\n\n    //As dest user\n    using (WindowsImpersonationContext impersonatedUser = WindowsIdentity.Impersonate(destAccessToken))\n    {\n        try\n        {\n            bool bProceed = true;\n            if (!bOverwrite)\n            {\n                //We don't want to overwrite existing file, ensure it doesn't exist.\n                List&lt;string&gt; files = Directory.EnumerateFiles(DestPath).ToList();\n                if (files.Any(s =&gt; s.Equals(DestFileName, StringComparison.OrdinalIgnoreCase)))\n                {\n                    //File exists, do not proceed\n                    bProceed = false;\n                }\n            }\n            //Do we proceed?\n            if (bProceed)\n            {\n                //Create/Overwrite existing File\n                pDest = CreateFile(destAbsoluteFileName, GENERIC_READ | GENERIC_WRITE, OPENFILE_SHAREACCESS.NO_SHARING,\n                                    IntPtr.Zero, CREATE_ALWAYS,\n                                    FILE_FLAG_BACKUP_SEMANTICS | FILE_FLAG_WRITE_THROUGH, IntPtr.Zero);\n            }\n        }\n        catch(Exception ex)\n        {\n            System.Diagnostics.Debug.WriteLine(ex.Message);\n        }\n    }\n\n\n    //If we successfully have both File Handles, we can proceed with Reading from source and writing to Dest.\n    //If valid file pointers!!!\n    if (pSource != IntPtr.Zero &amp;&amp; pSource.ToInt32() != -1 &amp;&amp;\n        pDest != IntPtr.Zero &amp;&amp; pDest.ToInt32() != -1)\n    {\n        //Put Handle into more supported SafeFileHandle Ptr.\n        SafeFileHandle safeSourcePtr = new SafeFileHandle(pSource, false); //We will close handle manually\n        SafeFileHandle safeDestPtr = new SafeFileHandle(pDest, false);  //We will close handle manually\n\n        try\n        {\n            using (FileStream fsSource = new FileStream(safeSourcePtr, FileAccess.Read, DefaultCopyBufferSize))\n            {\n                using (FileStream fsDest = new FileStream(safeDestPtr, FileAccess.ReadWrite, DefaultCopyBufferSize))\n                {\n                    //Here we read X bytes up to limit from fsSource and write to fsDest, until no more bytes!\n                    // Read the source file into a byte array.\n\n                    byte[] buffer = new byte[DefaultCopyBufferSize];\n                    int bytesRead = -1;\n                    while ((bytesRead = fsSource.Read(buffer, 0, buffer.Length)) &gt; 0)\n                    {\n                        fsDest.Write(buffer, 0, bytesRead);\n                    }\n                    //Force data to be flushed to harddisk.\n                    fsDest.Flush(true);\n                }\n            }\n        }\n        catch { }\n\n        //Compare File Size to know if we successfully wrote bytes to destination!\n        //We'll assume it'd error out if it didn't.\n        GetFileSizeEx(pSource, out long sourceSize);\n        GetFileSizeEx(pDest, out long destSize);\n        if (sourceSize == destSize)\n        {\n            //consider it a success\n            bSuccess = true;\n        }\n    }\n\n    if (pSource != IntPtr.Zero &amp;&amp; pSource.ToInt32() != -1)\n    {\n        //Close file handle manually\n        CloseHandle(pSource);\n    }\n\n    if (pDest != IntPtr.Zero &amp;&amp; pDest.ToInt32() != -1)\n    {\n        //Close file handle manually\n        CloseHandle(pDest);\n    }\n\n    return bSuccess;\n}\n\n\n\n}\n\npublic class AccessTokenHelper\n{\npublic enum LOGON32_LOGONTYPE : int\n{\n    LOGON32_LOGON_INTERACTIVE = 2,\n    LOGON32_LOGON_NETWORK = 3,\n    LOGON32_LOGON_BATCH = 4,\n    LOGON32_LOGON_SERVICE = 5,\n    LOGON32_LOGON_UNLOCK = 7,\n    LOGON32_LOGON_NETWORK_CLEARTEXT = 8,\n    LOGON32_LOGON_NEW_CREDENTIALS = 9,\n};\n\npublic enum LOGON32_LOGONPROVIDER : int\n{\n    LOGON32_PROVIDER_DEFAULT = 0,\n    LOGON32_PROVIDER_WINNT40 = 2,\n    LOGON32_PROVIDER_WINNT50 = 3,\n};\n\npublic enum LOGON32_LOGONERROR : int\n{\n    ERROR_SUCCESS = 0,\n    ERROR_NO_LOGON_SERVERS = 1311,\n    ERROR_INVALID_ACCOUNT_NAME = 1315,\n    ERROR_LOGON_FAILURE = 1326,\n    ERROR_ACCOUNT_RESTRICTION = 1327,\n    ERROR_INVALID_LOGON_HOURS = 1328,\n    ERROR_INVALID_WORKSTATION_LOGONDENIED = 1329,\n    ERROR_PASSWORD_EXPIRED = 1330,\n    ERROR_ACCOUNT_DISABLED = 1331,\n    ERROR_INVALID_LOGON_TYPE = 1367,\n    ERROR_LOGON_NOT_GRANTED = 1380,\n    ERROR_NETLOGON_NOT_STARTED = 1792,\n    ERROR_ACCOUNT_EXPIRED = 1793,\n    ERROR_PASSWORD_MUST_CHANGE = 1907,\n    ERROR_ACCOUNT_LOCKED_OUT = 1909,\n};\n\n[DllImport(\"advapi32.dll\", SetLastError = true, CharSet = CharSet.Unicode)]\nprivate extern static bool LogonUser(string username, string domain, IntPtr password, LOGON32_LOGONTYPE logonType, LOGON32_LOGONPROVIDER logonProvider, out IntPtr token);\n\n/// &lt;summary&gt;\n/// Attempts to create Access token from information given.\n/// &lt;/summary&gt;\npublic static LOGON32_LOGONERROR GetAccessToken(string domain, string username, SecureString securepassword, LOGON32_LOGONTYPE eLOGONTYPE, LOGON32_LOGONPROVIDER eLOGONPROVIDER, out IntPtr token)\n{\n    token = IntPtr.Zero;\n    // Marshal the SecureString to unmanaged memory.  I hate doing this but it's currently most secure way offered by Microsoft to get Access Token from Credentials.\n    IntPtr passwordPtr = Marshal.SecureStringToGlobalAllocUnicode(securepassword);\n\n    bool bSuccess = LogonUser(username,\n                                domain,\n                                passwordPtr,\n                                eLOGONTYPE,\n                                eLOGONPROVIDER,\n                                out token);\n    //return the error code, useful if not successful.\n    int errResult = Marshal.GetLastWin32Error();\n\n    // Zero-out and free the unmanaged string reference.\n    Marshal.ZeroFreeGlobalAllocUnicode(passwordPtr);\n\n    return (LOGON32_LOGONERROR)errResult;\n}\n\n\n\n\n\n\n[DllImport(\"advapi32.dll\", CharSet = CharSet.Unicode, SetLastError = true)]\nprivate static extern bool LookupPrivilegeName(string lpSystemName, IntPtr lpLuid, StringBuilder lpName, ref int cchName);\n\n[DllImport(\"advapi32.dll\", CharSet = CharSet.Unicode, SetLastError = true)]\nprivate static extern bool LookupPrivilegeDisplayName(string systemName, string privilegeName, StringBuilder displayName, ref int cchDisplayName, out uint languageId);\n\n[DllImport(\"advapi32.dll\", CharSet = CharSet.Unicode, SetLastError = true)]\nprivate static extern bool LookupPrivilegeValue(string lpSystemName, string lpName, out long lpLuid);\n\n[DllImport(\"advapi32.dll\", CharSet = CharSet.Unicode, SetLastError = true)]\nprivate static extern bool AdjustTokenPrivileges(\nIntPtr TokenHandle,\n[MarshalAs(UnmanagedType.Bool)]bool DisableAllPrivileges,\nref TOKEN_PRIVILEGES NewState,\nuint prevStateBuffer,\nIntPtr prevStateNA,\nIntPtr prevBufferNA);\n\n[DllImport(\"advapi32.dll\", CharSet = CharSet.Unicode, SetLastError = true)]\nprivate static extern bool GetTokenInformation(\nIntPtr hToken,\nuint TokenInformationClass,\nIntPtr TokenInformation,\nint TokenInformationLength,\nout int ReturnLength);\n\n[StructLayout(LayoutKind.Sequential)]\npublic struct LUID\n{\n    public uint LowPart;\n    public uint HighPart;\n};\n\n[StructLayout(LayoutKind.Sequential)]\npublic struct LUID_AND_ATTRIBUTES\n{\n    public LUID Luid;\n    public uint Attributes;\n}\n\n[StructLayout(LayoutKind.Sequential)]\npublic struct TOKEN_PRIVILEGES\n{\n    public int PrivilegeCount;\n    [MarshalAs(UnmanagedType.ByValArray, SizeConst = 1)]\n    public LUID_AND_ATTRIBUTES[] Privileges;\n};\n\n[Flags]\npublic enum SE_PRIVILEGE_STATE : uint\n{\n    SE_PRIVILEGE_DISABLED = 0x00,\n    SE_PRIVILEGE_ENABLED_BY_DEFAULT = 0x01,\n    SE_PRIVILEGE_ENABLED = 0x02,\n    SE_PRIVILEGE_REMOVED = 0x04,\n    SE_PRIVILEGE_USED_FOR_ACCESS = 0x80000000\n};\n\n/// &lt;summary&gt;\n/// Will elevate Backup and Restore Privileges of Access Token (be it Primary Type or Impersonation Type) if Access Token has Privilege\n///    1) SeBackupPrivilege -- this grants read access regardless of DACL entries.\n///    2) SeRestorePrivilege -- this grants write access regardless of DACL entries.\n///    3) SeSecurityPrivilege -- this grants access to SACL for audits/security log.\n/// &lt;/summary&gt;\npublic static void ElevateSecurityPrivileges(IntPtr hToken, bool bEnabled = true)\n{\n    SE_PRIVILEGE_STATE privSTATE = bEnabled ? SE_PRIVILEGE_STATE.SE_PRIVILEGE_ENABLED : SE_PRIVILEGE_STATE.SE_PRIVILEGE_DISABLED;\n    List&lt;string&gt; SecurityPrivNames = new List&lt;string&gt;() { \"SeBackupPrivilege\", \"SeRestorePrivilege\", \"SeSecurityPrivilege\" };\n    if (hToken != IntPtr.Zero)\n    {\n        AdjustAccessTokenPrivileges(hToken, SecurityPrivNames, privSTATE);\n    }\n}\n\npublic static void AdjustAccessTokenPrivileges(IntPtr TokenHandle, List&lt;string&gt; PrivilegeNames, SE_PRIVILEGE_STATE eNewPrivilegeState, string remoteMachineName = null)\n{\n    if (TokenHandle != IntPtr.Zero &amp;&amp; PrivilegeNames != null &amp;&amp; PrivilegeNames.Count &gt; 0)\n    {\n        DataTable privDT = GetAccessTokenPrivilegesAsDataTable(TokenHandle, remoteMachineName);\n        if (privDT != null &amp;&amp; privDT.Rows.Count &gt; 0)\n        {\n            //If we have privileges, try to set state!\n            foreach (string privName in PrivilegeNames)\n            {\n                DataRow row = privDT.Select(string.Format(\"[{0}]='{1}'\", privDT.Columns[1].ColumnName, privName)).FirstOrDefault();\n                if (row != null)\n                {\n                    UpdateExistingTokenPrivilege(TokenHandle, row.Field&lt;LUID&gt;(0), eNewPrivilegeState);\n                }\n            }\n        }\n    }\n}\n\nprivate static bool UpdateExistingTokenPrivilege(IntPtr tokenHandle, LUID privLuid, SE_PRIVILEGE_STATE eNewPrivilegeState)\n{\n    //Create our updated tokenPriv to send what privs we want updated.\n    TOKEN_PRIVILEGES tokenPrivs = new TOKEN_PRIVILEGES();\n    tokenPrivs.PrivilegeCount = 1;\n    tokenPrivs.Privileges = new LUID_AND_ATTRIBUTES[] { new LUID_AND_ATTRIBUTES() { Luid = privLuid, Attributes = (uint)eNewPrivilegeState } };\n    //Adjust Token Privilege!\n    bool bSuccess = AdjustTokenPrivileges(tokenHandle, false, ref tokenPrivs, 0, IntPtr.Zero, IntPtr.Zero);\n    //Return result of trying to adjust token privilege.\n    return bSuccess;\n}\n\npublic static DataTable GetAccessTokenPrivilegesAsDataTable(IntPtr TokenHandle, string remoteMachineName = null)\n{\n    TOKEN_PRIVILEGES tokenPrivData = GetAccessTokenPrivileges(TokenHandle);\n\n    DataTable privDT = new DataTable();\n    privDT.Columns.Add(\"PrivilegeLUID\", typeof(LUID));\n    privDT.Columns.Add(\"PrivilegeName\");\n    privDT.Columns.Add(\"PrivilegeState\", typeof(SE_PRIVILEGE_STATE));\n\n    foreach (LUID_AND_ATTRIBUTES privData in tokenPrivData.Privileges)\n    {\n        string PrivilegeName = LookupPrivilegeName(privData.Luid, remoteMachineName);\n        if (!string.IsNullOrEmpty(PrivilegeName))\n        {\n            DataRow row = privDT.NewRow();\n            row[0] = privData.Luid;\n            row[1] = PrivilegeName;\n            row[2] = (SE_PRIVILEGE_STATE)privData.Attributes;\n            //Add Row\n            privDT.Rows.Add(row);\n        }\n    }\n    return privDT;\n}\n\nprivate static TOKEN_PRIVILEGES GetAccessTokenPrivileges(IntPtr TokenHandle)\n{\n    uint TOKEN_INFORMATION_CLASS_TokenPrivileges = 3;\n\n    if (TokenHandle != IntPtr.Zero)\n    {\n        int nBufferSize = 0;\n        bool TokenInfoResult;\n        //First call is to get buffer size!\n        TokenInfoResult = GetTokenInformation(TokenHandle, TOKEN_INFORMATION_CLASS_TokenPrivileges, IntPtr.Zero, nBufferSize, out nBufferSize);\n        //Allocate Token Info correctly.\n        IntPtr pTokenInfo = Marshal.AllocHGlobal(nBufferSize);\n        //Get our Token Info Data\n        TokenInfoResult = GetTokenInformation(TokenHandle, TOKEN_INFORMATION_CLASS_TokenPrivileges, pTokenInfo, nBufferSize, out nBufferSize);\n\n        if (TokenInfoResult)\n        {\n            TOKEN_PRIVILEGES returnedPrivilegeSet = (TOKEN_PRIVILEGES)Marshal.PtrToStructure(pTokenInfo, typeof(TOKEN_PRIVILEGES));\n            int PrivilegeCount = returnedPrivilegeSet.PrivilegeCount;\n\n            //lets create the array we should have had returned in the first place\n            LUID_AND_ATTRIBUTES[] AllPrivs = new LUID_AND_ATTRIBUTES[PrivilegeCount]; //initialize an array to the right size, including 0!\n            if (PrivilegeCount &gt; 0)\n            {\n                LUID_AND_ATTRIBUTES currentPriv = new LUID_AND_ATTRIBUTES();\n                //pPrivileges will hold our new location to read from by taking the last pointer plus the size of the last structure read\n                IntPtr pPrivilege = new IntPtr(pTokenInfo.ToInt32() + sizeof(int)); //pointer math, we point to the first element of Privileges array in the struct.\n                currentPriv = (LUID_AND_ATTRIBUTES)Marshal.PtrToStructure(pPrivilege, typeof(LUID_AND_ATTRIBUTES)); //Get Privilege from pointer\n                AllPrivs[0] = currentPriv; //We'll add the first element to our array.\n\n                //After getting our first structure we can loop through the rest since they will all be the same\n                for (int i = 1; i &lt; PrivilegeCount; ++i)\n                {\n                    pPrivilege = new IntPtr(pPrivilege.ToInt32() + Marshal.SizeOf(currentPriv)); //This will point to the next Privilege element in the array\n                    currentPriv = (LUID_AND_ATTRIBUTES)Marshal.PtrToStructure(pPrivilege, typeof(LUID_AND_ATTRIBUTES)); //Get Privilege from pointer\n                    AllPrivs[i] = currentPriv; //Add element to the array\n                }\n            }\n            //Create our complete struct of TOKEN_PRIVILEGES\n            TOKEN_PRIVILEGES completePrivilegeSet = new TOKEN_PRIVILEGES();\n            completePrivilegeSet.PrivilegeCount = PrivilegeCount;\n            completePrivilegeSet.Privileges = AllPrivs;\n\n            //We can get release all the pointers now, we got what we wanted!\n            Marshal.FreeHGlobal(pTokenInfo);  //Free up the reserved space in unmanaged memory (Should be done any time AllocHGlobal is used)\n\n            //Return our completePrivilegeSet!\n            return completePrivilegeSet;\n        }\n    }\n    return new TOKEN_PRIVILEGES() { PrivilegeCount = 0, Privileges = new LUID_AND_ATTRIBUTES[] { } };\n}\n\nprivate static string LookupPrivilegeName(LUID privLuid, string remoteMachineName = null)\n{\n    string PrivilegeName = null;\n    StringBuilder sb = new StringBuilder();\n    int cchName = 0; //Holds the length of structure we will be receiving LookupPrivilagename\n    IntPtr ipLuid = Marshal.AllocHGlobal(Marshal.SizeOf(privLuid)); //Allocate a block of memory large enough to hold the structure\n    Marshal.StructureToPtr(privLuid, ipLuid, true); //Write the structure into the reserved space in unmanaged memory\n    LookupPrivilegeName(remoteMachineName, ipLuid, null, ref cchName); // call once to get the name length we will be receiving\n    sb.Capacity = cchName; //Our string builder is buffered for the name!\n    if (LookupPrivilegeName(remoteMachineName, ipLuid, sb, ref cchName))\n    {\n        // Successfully retrieved name!\n        PrivilegeName = sb.ToString();\n    }\n    Marshal.FreeHGlobal(ipLuid); //Free up the reserved space in unmanaged memory\n    return PrivilegeName;\n}\n\npublic static List&lt;string&gt; ListEnabledPrivileges(IntPtr TokenHandle, string remoteMachineName = null)\n{\n    List&lt;string&gt; enabledPrivs = null;\n\n    DataTable dt = GetAccessTokenPrivilegesAsDataTable(TokenHandle, remoteMachineName);\n\n    if (dt != null &amp;&amp; dt.Rows.Count &gt; 0)\n    {\n        uint nEnabled = (uint)SE_PRIVILEGE_STATE.SE_PRIVILEGE_ENABLED;\n        uint nEnabledAndDefault = (uint)(SE_PRIVILEGE_STATE.SE_PRIVILEGE_ENABLED_BY_DEFAULT | SE_PRIVILEGE_STATE.SE_PRIVILEGE_ENABLED);\n\n\n\n        string query = string.Format(\"[{0}] IN ( {1}, {2} )\"\n                                                        , dt.Columns[2].ColumnName\n                                                        , nEnabled\n                                                        , nEnabledAndDefault);\n        IEnumerable&lt;DataRow&gt; rows = dt.Select(query);\n        if (rows != null &amp;&amp; rows.Count() &gt; 0)\n        {\n            enabledPrivs = dt.Select(query).Select(r =&gt; r.Field&lt;string&gt;(1)).ToList();\n        }\n\n    }\n    return enabledPrivs;\n}\n\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc"], "answers": [{"tags": [], "owner": {"reputation": 466, "user_id": 5754559, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZITa6.jpg?s=128&g=1", "display_name": "Leonardo Menezes", "link": "https://stackoverflow.com/users/5754559/leonardo-menezes"}, "is_accepted": false, "score": 0, "last_activity_date": 1525300771, "creation_date": 1525300771, "answer_id": 50144555, "question_id": 50143800, "link": "https://stackoverflow.com/questions/50143800/setting-httprequest-request-body-for-httpcontext-current/50144555#50144555", "title": "Setting HttpRequest request body for HttpContext.Current", "body": "<p>There is, but it will not be easy.</p>\n\n<p>In order to do this you need to call the method <code>internal void SetRawContent(HttpRawUploadedContent rawContent)</code> from HttpRequest.</p>\n\n<p>The problem is, you cannot call a internal method from a external assembly, however there is some ways to bypass this: <a href=\"https://stackoverflow.com/questions/920844/c-sharp-how-to-access-internal-class-from-external-assembly\">C# - How to access internal class from external assembly</a>.</p>\n"}], "owner": {"reputation": 42796, "user_id": 929902, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/7ORhC.jpg?s=128&g=1", "display_name": "Teoman shipahi", "link": "https://stackoverflow.com/users/929902/teoman-shipahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1403, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525300771, "creation_date": 1525296514, "question_id": 50143800, "link": "https://stackoverflow.com/questions/50143800/setting-httprequest-request-body-for-httpcontext-current", "title": "Setting HttpRequest request body for HttpContext.Current", "body": "<p>I am trying to unit test HttpContext in my test class as follows, but could not find the way how to set request body for this object. </p>\n\n<p>Is there any way to do it? So <code>HttpContext.Current.Request.GetBufferedInputStream()</code>; will return the bytes of the body string I set.</p>\n\n<pre><code>   [TestMethod()]\n    public void GetRequestStringTest2()\n    {\n        string filename = \"\";\n        string url = \"http://www.localhost.com\";\n        string queryString = \"\";\n        HttpRequest request = new HttpRequest(filename, url, queryString);\n        // TODO: set request body here\n        // string requestBody = \"request-test-123\";\n        StringBuilder sb = new StringBuilder(\"response-test-123\");\n        StringWriter writer = new StringWriter(sb);\n        HttpResponse response = new HttpResponse(writer);\n        HttpContext.Current = new HttpContext(request, response);\n        string requestString = HttpUtilities.GetRequestString();\n        Assert.IsNotNull(requestString);\n        Assert.AreEqual(\"request-test-123\", requestString);\n    }\n\n public static string GetRequestString()\n        {\n            if (HttpContext.Current != null)\n            {\n                Stream stream = HttpContext.Current.Request.GetBufferedInputStream();\n                new StreamReader(stream).ReadToEnd();\n                StreamReader bodyStream = new StreamReader(HttpContext.Current.Request.InputStream);\n                bodyStream.BaseStream.Seek(0, SeekOrigin.Begin);\n                string requestString = bodyStream.ReadToEnd();\n                return requestString;\n            }\n\n            throw new InvalidOperationException(\"HttpContext.Current is not available.\");\n        }\n</code></pre>\n"}, {"tags": ["c#", "json.net", "json-deserialization"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525296588, "post_id": 50143793, "comment_id": 87305862, "body": "You need to include what <code>Comment</code> is"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525296796, "post_id": 50143793, "comment_id": 87305959, "body": "<code>ReplyCode</code> should also be an <code>int</code>, not a <code>string</code>."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 2, "creation_date": 1525296884, "post_id": 50143793, "comment_id": 87305988, "body": "In the JSON, <code>&quot;ReplyData&quot;</code> is a 2d jagged array but you model it as a 1d list: <code>public List&lt;Comment&gt; ReplyData { get; set; }</code>.  Change it to <code>public List&lt;List&lt;Comment&gt;&gt; ReplyData { get; set; }</code> and it should work."}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525297162, "post_id": 50143793, "comment_id": 87306115, "body": "@maccettura I added it to the first sentence, not sure how to be more specific. What other info would be helpful?"}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1525297183, "post_id": 50143793, "comment_id": 87306120, "body": "@dbc Just tried that, but it didnt help. I also specified where the error was occuring if it helps"}, {"owner": {"reputation": 53502, "user_id": 55774, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/465e04477e91f60a0dc831f928fc1c49?s=128&d=identicon&r=PG", "display_name": "Frederik Gheysels", "link": "https://stackoverflow.com/users/55774/frederik-gheysels"}, "edited": false, "score": 0, "creation_date": 1525297268, "post_id": 50143793, "comment_id": 87306155, "body": "@Rilcon42, Yet it does work since I&#39;ve tried it myself as well :)  (Although I&#39;ve simplified the Comment class as well, keeping just the first 2 properties)"}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "edited": false, "score": 0, "creation_date": 1525297311, "post_id": 50143793, "comment_id": 87306168, "body": "would one of you mind posting that as a solution please? If it works for you, clearly Im missing something"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1525297441, "post_id": 50143793, "comment_id": 87306228, "body": "@Rilcon42 - <code>public List&lt;List&lt;Comment&gt;&gt; ReplyData</code> works for me, see <a href=\"https://dotnetfiddle.net/w3Z8PT\" rel=\"nofollow noreferrer\">dotnetfiddle.net/w3Z8PT</a>.    Is this your <code>Comment</code> class?  <a href=\"https://github.com/LeanKit/LeanKit.API.Client/blob/master/LeanKit.API.Client.Library/TransferObjects/Comment.cs\" rel=\"nofollow noreferrer\">github.com/LeanKit/LeanKit.API.Client/blob/master/&hellip;</a>"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 1, "creation_date": 1525297572, "post_id": 50143793, "comment_id": 87306273, "body": "@Rilcon42 - If <a href=\"https://dotnetfiddle.net/w3Z8PT\" rel=\"nofollow noreferrer\">dotnetfiddle.net/w3Z8PT</a> does not work, please <a href=\"https://stackoverflow.com/posts/50143793/edit\">edit</a> your question to include the full <code>ToString()</code> output of the exception including the exception type, message, traceback and inner exception, if any."}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1525297679, "post_id": 50143793, "comment_id": 87306312, "body": "@dbc your code works perfectly. No clue how you pulled that together so fast. Im going to read through it and make sure my code follows yours. In the mean time please propose that as an answer"}, {"owner": {"reputation": 10878, "user_id": 303254, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/5WEYC.jpg?s=128&g=1", "display_name": "Orel Eraki", "link": "https://stackoverflow.com/users/303254/orel-eraki"}, "edited": false, "score": 0, "creation_date": 1525297787, "post_id": 50143793, "comment_id": 87306361, "body": "@Rilcon42, <code>[[</code> is a pretty clear sign of <code>Collection of Collection</code>, Collection can be any collection type List, Array etc&#39;"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1525298441, "post_id": 50143793, "comment_id": 87306560, "body": "@Rilcon42 - I edited your question to add what I believe are the correct links to leankit and Comment.cs.  If I found the wrong links, please let me know."}], "answers": [{"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 3, "last_activity_date": 1525297723, "creation_date": 1525297723, "answer_id": 50144038, "question_id": 50143793, "link": "https://stackoverflow.com/questions/50143793/deserialize-listobject-using-newtonsoft-cannot-convert-ilist/50144038#50144038", "title": "Deserialize List&lt;Object&gt; using NewtonSoft. Cannot convert IList", "body": "<p>In the JSON, <code>\"ReplyData\"</code> is a 2d jagged array:</p>\n\n<pre><code>{\n  \"ReplyData\": [ [ ... ] ],\n}\n</code></pre>\n\n<p>In you model it is a 1d list:</p>\n\n<pre><code>public List&lt;Comment&gt; ReplyData { get; set; }.  \n</code></pre>\n\n<p>You need to change it to <code>public List&lt;List&lt;Comment&gt;&gt; ReplyData { get; set; }</code> to reflect the actual JSON:</p>\n\n<pre><code>public class MyCommentList\n{\n    public string ReplyText { get; set; }\n    public List&lt;List&lt;Comment&gt;&gt; ReplyData { get; set; }\n    public string ReplyCode { get; set; }\n} \n</code></pre>\n\n<p>Where I assume <code>Comment</code> is taken from <a href=\"https://github.com/LeanKit/LeanKit.API.Client/blob/master/LeanKit.API.Client.Library/TransferObjects/Comment.cs\" rel=\"nofollow noreferrer\">https://github.com/LeanKit/LeanKit.API.Client/blob/master/LeanKit.API.Client.Library/TransferObjects/Comment.cs</a>.</p>\n\n<p>If there is a chance that it is sometimes a 1d array and sometimes a 2d array, you may need to apply <code>SingleOrArrayConverter&lt;Comment&gt;</code> from <a href=\"https://stackoverflow.com/a/18997172\">this answer</a> to <em><a href=\"https://stackoverflow.com/q/18994685\">How to handle both a single item and an array for the same property using JSON.net</a></em> by <a href=\"https://stackoverflow.com/users/10263/brian-rogers\">Brian Rogers</a> like so:</p>\n\n<pre><code>public class MyCommentList\n{\n    public string ReplyText { get; set; }\n\n    [JsonProperty(ItemConverterType = typeof(SingleOrArrayConverter&lt;Comment&gt;))]\n    public List&lt;List&lt;Comment&gt;&gt; ReplyData { get; set; }\n    public string ReplyCode { get; set; }\n} \n</code></pre>\n\n<p>Working sample .Net fiddle <a href=\"https://dotnetfiddle.net/w3Z8PT\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 50144038, "answer_count": 1, "score": 0, "last_activity_date": 1525357105, "creation_date": 1525296484, "last_edit_date": 1525357105, "question_id": 50143793, "link": "https://stackoverflow.com/questions/50143793/deserialize-listobject-using-newtonsoft-cannot-convert-ilist", "title": "Deserialize List&lt;Object&gt; using NewtonSoft. Cannot convert IList", "body": "<p>I am trying to parse a List of Comment objects <a href=\"https://support.leankit.com/hc/en-us/articles/204412863-Application-API-v1-Get-Card-Comments\" rel=\"nofollow noreferrer\">from here</a>. A comment object is a class in the <a href=\"https://github.com/LeanKit/LeanKit.API.Client\" rel=\"nofollow noreferrer\">leankit</a> namespace: <a href=\"https://github.com/LeanKit/LeanKit.API.Client/blob/master/LeanKit.API.Client.Library/TransferObjects/Comment.cs\" rel=\"nofollow noreferrer\"><code>LeanKit.API.Client.Library.TransferObjects.Comment</code></a> but I get an error in the final line of the block below specifically over <code>responseString</code>:</p>\n\n<blockquote>\n  <p>cannot convert from 'System.Collections.Generic.IList' to string</p>\n</blockquote>\n\n<p>Why am I getting this? I am specifying a custom class I created specifically to deserialize the list:</p>\n\n<pre><code>public class MyCommentList\n{\n    public string ReplyText { get; set; }\n    public List&lt;Comment&gt; ReplyData { get; set; }\n    public string ReplyCode { get; set; }\n} \n</code></pre>\n\n<p>calling the class</p>\n\n<pre><code>var url = \"https://\" + acctName + \".leankit.com/kanban/api/card/getcomments/\" + boardid + \"/\" + cardid;\nvar responseString = await url.WithBasicAuth(\"xxx\", \"yyy\").GetJsonListAsync();\nMyCommentList mycomment = JsonConvert.DeserializeObject&lt;MyCommentList&gt;(responseString);\n</code></pre>\n\n<p><strong>a cleaner version of calling the class (using Flurl):</strong></p>\n\n<pre><code>var url = \"https://\" + acctName + \".leankit.com/kanban/api/card/getcomments/\" + boardid + \"/\" + cardid;\nMyCommentList mycomment = await url.WithBasicAuth(\"xxx\", \"yyy\").GetAsync().ReceiveJson&lt;MyCommentList&gt;();\n</code></pre>\n\n<p>The JSON structure (from the link above) reproduced here:</p>\n\n<pre><code>{\n  \"ReplyData\": [\n    [\n      {\n        \"Id\": 256487698,\n        \"Text\": \"First comment for this card.\",\n        \"TaggedUsers\": null,\n        \"PostDate\": \"10/14/2015 at 04:36:02 PM\",\n        \"PostedByGravatarLink\": \"3ab1249be442027903e1180025340b3f\",\n        \"PostedById\": 62984826,\n        \"PostedByFullName\": \"David Neal\",\n        \"Editable\": true\n      }\n    ]\n  ],\n  \"ReplyCode\": 200,\n  \"ReplyText\": \"Card comments successfully retrieved.\"\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core-2.0", "asp.net-core-webapi", "authorize-attribute", "asp.net-authorization"], "owner": {"reputation": 31, "user_id": 7145998, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V0fTz.jpg?s=128&g=1", "display_name": "David Flury", "link": "https://stackoverflow.com/users/7145998/david-flury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1525337140, "creation_date": 1525296189, "last_edit_date": 1525337140, "question_id": 50143742, "link": "https://stackoverflow.com/questions/50143742/authorizeattribute-on-basecontroller-httpcontext-user-identity-name-in-policy-mi", "title": "AuthorizeAttribute on BaseController HttpContext.User.Identity.Name in policy missing", "body": "<p>In my asp.net core Web API i want to be sure that Users actually exist and are not deactivated when calling some Actions. We use JwtBearer authentication what works pretty fine. Our problem is that using only the <code>Microsoft.AspNetCore.Authorization.AuthorizeAttribute</code> it won't matter, if a user was deleted or deactivated after the token was issued (as long as the token it self is valid).</p>\n\n<p>In my <code>Startup.cs</code> i configured a policy to solve this issue:</p>\n\n<pre><code>     services.AddAuthentication(options =&gt;\n       {\n           options.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\n       }).AddJwtBearer(options =&gt;\n       {\n           options.TokenValidationParameters = AuthenticationHandler.TokenValidationParameters;\n       });\n       services.AddAuthorization(options =&gt;\n       {\n           options.DefaultPolicy = new AuthorizationPolicyBuilder(\n                                     JwtBearerDefaults.AuthenticationScheme)\n               .RequireAuthenticatedUser()\n               .Build();\n           options.AddPolicy(nameof(ExistingUserRequirement), \n                   policy =&gt; policy.Requirements.Add(new ExistingUserRequirement()));\n       });\n       services.AddTransient&lt;IAuthorizationHandler, ExistingUserHandler&gt;();\n</code></pre>\n\n<p>There i query the DataContext if the user is existing and active.\nWhat works:\nIf I configure the <code>Authorization</code> attribute on an action everything works fine:</p>\n\n<pre><code>[HttpPost]\n[Authorize(Policy = nameof(ExistingUserRequirement))]\npublic JsonResult Post([FromBody]CreateStoryViewModel viewModel) { ...}\n</code></pre>\n\n<p>I can access the requests user identity using <code>HttpContextAccessor.HttpContext.User.Identity.Name</code>.</p>\n\n<p><strong>What not works:</strong> If I configure the attribute on my <code>BaseController</code> the Identity-context seems the be missing when the <code>ExistingUserHandler</code> fires up:</p>\n\n<pre><code>[Authorize(Policy = nameof(ExistingUserRequirement))]\npublic abstract class BaseController : Controller { ... }\n</code></pre>\n\n<p>Now Identity.Name returns always <code>NULL</code>:</p>\n\n<pre><code>public class ExistingUserHandler : AuthorizationHandler&lt;ExistingUserRequirement&gt;\n{\n    private IHttpContextAccessor HttpContextAccessor { get; }\n\n    private SaycleContext SaycleContext { get; }\n\n    public ExistingUserHandler(IHttpContextAccessor httpContextAccessor, SaycleContext saycleContext)\n    {\n        HttpContextAccessor = httpContextAccessor;\n        SaycleContext = saycleContext;\n    }\n\n    protected override Task HandleRequirementAsync(AuthorizationHandlerContext authorizationContext, ExistingUserRequirement requirement)\n    {\n        var exists = false;\n        if (Guid.TryParse(HttpContextAccessor.HttpContext.User.Identity.Name, out var currentUserId))\n        {\n            exists = SaycleContext.Users.Any(u =&gt; Equals(u.Id, currentUserId));\n        }\n        if (!exists)\n        {\n            throw new NonExistingUserException();\n        }\n        authorizationContext.Succeed(requirement);\n        return Task.CompletedTask;\n    }\n}\n</code></pre>\n\n<p>Am I missing anything? Why can the identity-context not be resolved using the <code>Authorize</code> attribute on my parent <code>BaseController</code>?</p>\n"}, {"tags": ["c#", "command-line-arguments"], "comments": [{"owner": {"reputation": 5620, "user_id": 7148391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KIlov.png?s=128&g=1", "display_name": "Zohir Salak", "link": "https://stackoverflow.com/users/7148391/zohir-salak"}, "edited": false, "score": 0, "creation_date": 1525296770, "post_id": 50143730, "comment_id": 87305949, "body": "What is the exception that it throws ?"}, {"owner": {"reputation": 61, "user_id": 3566041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1e3b177eec4d24ece7af3cc1d211d7?s=128&d=identicon&r=PG&f=1", "display_name": "user3566041", "link": "https://stackoverflow.com/users/3566041/user3566041"}, "reply_to_user": {"reputation": 5620, "user_id": 7148391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KIlov.png?s=128&g=1", "display_name": "Zohir Salak", "link": "https://stackoverflow.com/users/7148391/zohir-salak"}, "edited": false, "score": 0, "creation_date": 1525297325, "post_id": 50143730, "comment_id": 87306177, "body": "Updated with Exception message."}, {"owner": {"reputation": 3083, "user_id": 3586594, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9753f5f4224802a5687e4f99e367892?s=128&d=identicon&r=PG&f=1", "display_name": "Jack A.", "link": "https://stackoverflow.com/users/3586594/jack-a"}, "edited": false, "score": 0, "creation_date": 1525297745, "post_id": 50143730, "comment_id": 87306344, "body": "Two things to try: 1 - add <code>public</code> to the <code>Options</code> class, 2 - move the <code>Options</code> class outside of the <code>Program</code> class."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1525298033, "post_id": 50143730, "comment_id": 87306432, "body": "You probably need to use <code>typeof</code> on your <code>options</code> variable.   <code>CommandLine.Parser.Default.ParseArguments(args,typeof(option&zwnj;&#8203;s))</code>"}, {"owner": {"reputation": 3083, "user_id": 3586594, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9753f5f4224802a5687e4f99e367892?s=128&d=identicon&r=PG&f=1", "display_name": "Jack A.", "link": "https://stackoverflow.com/users/3586594/jack-a"}, "reply_to_user": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1525298398, "post_id": 50143730, "comment_id": 87306542, "body": "@ChrisDunaway That isn&#39;t valid C#. See <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/typeof\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}, {"owner": {"reputation": 61, "user_id": 3566041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1e3b177eec4d24ece7af3cc1d211d7?s=128&d=identicon&r=PG&f=1", "display_name": "user3566041", "link": "https://stackoverflow.com/users/3566041/user3566041"}, "edited": false, "score": 0, "creation_date": 1525298467, "post_id": 50143730, "comment_id": 87306570, "body": "adding pubilc didn&#39;t solve anything , still have pending moving it outside of program. Typeof changed the error to  &quot;&#39;options&#39; is a variable but its used like a type&quot;"}, {"owner": {"reputation": 3083, "user_id": 3586594, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9753f5f4224802a5687e4f99e367892?s=128&d=identicon&r=PG&f=1", "display_name": "Jack A.", "link": "https://stackoverflow.com/users/3586594/jack-a"}, "edited": false, "score": 0, "creation_date": 1525299190, "post_id": 50143730, "comment_id": 87306817, "body": "It looks like the documentation you&#39;re going from is outdated. See the current docs here: <a href=\"https://github.com/commandlineparser/commandline\" rel=\"nofollow noreferrer\">github.com/commandlineparser/commandline</a>"}, {"owner": {"reputation": 61, "user_id": 3566041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1e3b177eec4d24ece7af3cc1d211d7?s=128&d=identicon&r=PG&f=1", "display_name": "user3566041", "link": "https://stackoverflow.com/users/3566041/user3566041"}, "edited": false, "score": 0, "creation_date": 1525301017, "post_id": 50143730, "comment_id": 87307372, "body": "Yes, the thing is that I tried to install the package of the version 1.9.71 which is the build used in this project and the packagethe .dll file is missing , other versions have it."}, {"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1525353523, "post_id": 50143730, "comment_id": 87329808, "body": "@JackA.- Typo on my part, thanks.  I just guessed at the code based on the error."}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 2083441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3188e580f0aed2cdb2e70f3a64cb3411?s=128&d=identicon&r=PG", "display_name": "HellKnight Hicks", "link": "https://stackoverflow.com/users/2083441/hellknight-hicks"}, "is_accepted": false, "score": 8, "last_activity_date": 1534532957, "creation_date": 1534532957, "answer_id": 51901554, "question_id": 50143730, "link": "https://stackoverflow.com/questions/50143730/cannot-convert-options-to-system-type-on-parser-parsearguments/51901554#51901554", "title": "Cannot convert Options to System.Type on Parser.ParseArguments", "body": "<p>So I did some digging around apparently in the latest version of the Command Line parser application its required that you do things as follows. </p>\n\n<pre><code>CommandLine.Parser.Default.ParseArguments&lt;Options&gt;(args)  \n    .WithParsed&lt;Options&gt;(opts =&gt; options = opts);\n</code></pre>\n\n<p>I had a ruff time finding the proper way to do this as well.</p>\n"}, {"tags": [], "owner": {"reputation": 13491, "user_id": 3093731, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c7b0be040859579c70e028938f4be069?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3093731/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1570890229, "creation_date": 1570890229, "answer_id": 58355130, "question_id": 50143730, "link": "https://stackoverflow.com/questions/50143730/cannot-convert-options-to-system-type-on-parser-parsearguments/58355130#58355130", "title": "Cannot convert Options to System.Type on Parser.ParseArguments", "body": "<p>Their website is outdated, but the github is up to date with full working examples:</p>\n\n<pre><code>Program\n{\n    public class Options\n    {\n        [Option('v', \"verbose\", Required = false, HelpText = \"Set output to verbose messages.\")]\n        public bool Verbose { get; set; }\n    }\n\n    static void Main(string[] args)\n    {\n        Parser.Default.ParseArguments&lt;Options&gt;(args)\n               .WithParsed&lt;Options&gt;(o =&gt;\n               {\n                   if (o.Verbose)\n                   {\n                       Console.WriteLine($\"Verbose output enabled. Current Arguments: -v {o.Verbose}\");\n                       Console.WriteLine(\"Quick Start Example! App is in Verbose mode!\");\n                   }\n                   else\n                   {\n                       Console.WriteLine($\"Current Arguments: -v {o.Verbose}\");\n                       Console.WriteLine(\"Quick Start Example!\");\n                   }\n               });\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/commandlineparser/commandline\" rel=\"nofollow noreferrer\">https://github.com/commandlineparser/commandline</a></p>\n"}], "owner": {"reputation": 61, "user_id": 3566041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1e3b177eec4d24ece7af3cc1d211d7?s=128&d=identicon&r=PG&f=1", "display_name": "user3566041", "link": "https://stackoverflow.com/users/3566041/user3566041"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1337, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1570890229, "creation_date": 1525296140, "last_edit_date": 1525297273, "question_id": 50143730, "link": "https://stackoverflow.com/questions/50143730/cannot-convert-options-to-system-type-on-parser-parsearguments", "title": "Cannot convert Options to System.Type on Parser.ParseArguments", "body": "<p>I'm Trying to compile the following code on a project</p>\n\n<pre><code>...\n\nnamespace Buzzbox\n    {\n        class Program\n        {\n\n            //Command line options through CommandLine: http://commandline.codeplex.com/\n            class Options\n            {\n                [Option('i', \"input\", \n                    Required = true, \n                    HelpText = \"Path to input file to be Encoded, must be in hearthstonejson format.\")]\n                public string InputFile { get; set; }\n\n                [Option('o', \"output\",\n                    HelpText = \"Output file path.\",\n                    Default = \"output.txt\")]\n                public string OutputFile { get; set; }\n\n                [Option('e', \"encoding\",\n                    HelpText = \"Which encoding format to use. Supported formats are scfdivineFormat and MtgEncoderFormat.\",\n                    Default = EncodingFormats.MtgEncoderFormat)]\n                public EncodingFormats EncodingFormat { get; set; }\n\n                [Option(\"shuffle-fields\", Default = false,\n                    HelpText = \"Shuffles the fields of the output in supported Encoding Formats.\")]\n                public bool ShuffleFields { get; set; }\n\n                [Option(\"shuffle-cards\", Default = false,\n                    HelpText = \"Shuffles the the cards, randomizing the order of output.\")]\n                public bool ShuffleCards { get; set; }\n\n                [Option(\"flavor-text\", Default = false,\n                    HelpText = \"Include flavortext field.\")]\n                public bool FlavorText { get; set; }\n\n                [Option(\"verbose\", Default = false,\n                   HelpText = \"Output additional information. Exclusive with the --silent option.\")]\n                public bool Verbose { get; set; }\n\n                [Option(\"silent\", Default = false,\n                   HelpText = \"Never output anything but error messages. Exclusive with the --verbose option.\")]\n                public bool Silent { get; set; }\n\n            }\n\n            private static void Main(string[] args)\n            {\n                //Parse Commandline options\n                var options = new Options();\n                var encode = new Encode\n                {\n                    ShuffleFields = options.ShuffleFields,\n                    IncludeFlavorText = options.FlavorText\n                };\n\n                //Only continue if commandline options fullfilled. CommandLine will handle helptext if something was off.\n                if (CommandLine.Parser.Default.ParseArguments(args,options))\n                {\n                  //extra things\n\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>But I just seem to make it work since there's an error on this line</p>\n\n<pre><code>CommandLine.Parser.Default.ParseArguments(args,options)\n</code></pre>\n\n<p>Exception Thrown </p>\n\n<blockquote>\n  <p>Cannot convert from 'Buzzbox.Program.Options' to 'System.Type'</p>\n</blockquote>\n\n<p>It doesn't allow me to hardcast it and I'haven't found anything whatsoever on ho to solve this issue although I feel like the  solution might be rather simple since I find some other people mentioning it like you can just cast it like this code does without any problem like in here </p>\n\n<p><a href=\"http://simontimms.com/2014/07/09/parsing-command-line-arguments-in-c/\" rel=\"noreferrer\">http://simontimms.com/2014/07/09/parsing-command-line-arguments-in-c/</a></p>\n"}, {"tags": ["c#", "generics", "inheritance"], "answers": [{"comments": [{"owner": {"reputation": 8202, "user_id": 316847, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jAkO8.jpg?s=128&g=1", "display_name": "SeanKilleen", "link": "https://stackoverflow.com/users/316847/seankilleen"}, "edited": false, "score": 0, "creation_date": 1525296563, "post_id": 50143753, "comment_id": 87305850, "body": "Thanks for the quick answer! I figured it&#39;d be unlikely but wanted a sanity check to be sure. Agree on the expensiveness; in this case the builders are being used strictly for some integration test work and the perf hit is negligible; we&#39;re tracking it."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 4, "last_activity_date": 1525296275, "creation_date": 1525296275, "answer_id": 50143753, "question_id": 50143717, "link": "https://stackoverflow.com/questions/50143717/can-a-c-class-reference-its-own-type-as-a-generic-type/50143753#50143753", "title": "Can a C# class reference its own type as a generic type?", "body": "<p>No, generics aren't fond of doing stuff like that. You'll need to pass the type argument.</p>\n\n<p>Total side note; if you are frequently building objects like that the reflection could get quite expensive.</p>\n"}, {"tags": [], "owner": {"reputation": 269, "user_id": 1046155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zuAcd.jpg?s=128&g=1", "display_name": "WolfgangDeveloper", "link": "https://stackoverflow.com/users/1046155/wolfgangdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1525356269, "creation_date": 1525356269, "answer_id": 50157014, "question_id": 50143717, "link": "https://stackoverflow.com/questions/50143717/can-a-c-class-reference-its-own-type-as-a-generic-type/50157014#50157014", "title": "Can a C# class reference its own type as a generic type?", "body": "<p>A potential is to have the <code>with</code> function return <code>AbstractBuilder&lt;TType&gt;</code></p>\n\n<p>For example: </p>\n\n<pre><code>public abstract class AbstractBuilder&lt;T&gt;\n{\n    internal T entity;\n\n    public AbstractBuilder&lt;T&gt; With&lt;TProperty&gt;(Expression&lt;Func&lt;T, TProperty&gt;&gt; expressionToFindProperty, TProperty valueToSet)\n    {\n        // Example usage: With(x =&gt; x.TrackingRecord, new TrackingRecord());\n        MemberExpression member = (MemberExpression)expressionToFindProperty.Body;\n        PropertyInfo property = (PropertyInfo)member.Member;\n        property.SetValue(this.entity, valueToSet, null);\n        return this;\n    }\n\n    public T Build()\n    {\n        return this.entity;\n    }\n}\n</code></pre>\n\n<p>Then you can do the simple extension desired: </p>\n\n<pre><code>public class MyBuilderClass : AbstractBuilder&lt;PaymentRecord&gt;\n</code></pre>\n\n<p>And call it like so: </p>\n\n<pre><code>var builder = new MyBuilderClass();\nvar record = builder\n            .With(f =&gt; f.TrackingRecord, new MyTrackingRecord())\n            .Build();\n</code></pre>\n\n<p>The downside is that it limits your fluent api to the abstract class after a call to <code>with</code>, unless you override the function call to return the specific builder type. </p>\n"}], "owner": {"reputation": 8202, "user_id": 316847, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jAkO8.jpg?s=128&g=1", "display_name": "SeanKilleen", "link": "https://stackoverflow.com/users/316847/seankilleen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 50143753, "answer_count": 2, "score": 2, "last_activity_date": 1525356269, "creation_date": 1525296056, "last_edit_date": 1525296977, "question_id": 50143717, "link": "https://stackoverflow.com/questions/50143717/can-a-c-class-reference-its-own-type-as-a-generic-type", "title": "Can a C# class reference its own type as a generic type?", "body": "<h3>Background</h3>\n\n<p>We're using the builder pattern in several places throughout the application. \nSo far, we've written the following method in some of our builders, which has worked well. </p>\n\n<pre><code>public class MyBuilderClass\n{\n    private MyConcreteType entity;\n\n    public MyBuilderClass() { this.entity = new MyConcreteType(); }\n\n    public MyBuilderClass With&lt;TProperty&gt;(Expression&lt;Func&lt;T, TProperty&gt;&gt; expressionToFindProperty, TProperty valueToSet)\n    {\n     MemberExpression member = (MemberExpression)expressionToFindProperty.Body;\n                PropertyInfo property = (PropertyInfo)member.Member;\n                property.SetValue(this.entity, valueToSet, null);\n                return this;\n    }\n}\n</code></pre>\n\n<p>Allows us to do something along the lines of:</p>\n\n<pre><code>new MyBuilderClass().With(x=&gt; x.MyProperty, \"TheValue\")\n</code></pre>\n\n<p>And and it infers that <code>MyProperty</code> in this case is a string.</p>\n\n<h2>Goal</h2>\n\n<p>This is useful, so we'd like to be able to do it in an abstract fashion. Something along the lines of:</p>\n\n<pre><code>public abstract class AbstractBuilder&lt;T, TBuilder&gt; where TBuilder : AbstractBuilder&lt;T, TBuilder&gt;\n{\n    internal T entity;\n\n    public TBuilder With&lt;TProperty&gt;(Expression&lt;Func&lt;T, TProperty&gt;&gt; expressionToFindProperty, TProperty valueToSet)\n    {\n        // Example usage: With(x =&gt; x.TrackingRecord, new TrackingRecord());\n        MemberExpression member = (MemberExpression)expressionToFindProperty.Body;\n        PropertyInfo property = (PropertyInfo)member.Member;\n        property.SetValue(this.entity, valueToSet, null);\n        return (TBuilder)this;\n    }\n\n    public T Build()\n    {\n        return this.entity;\n    }\n}\n</code></pre>\n\n<p>So then our concrete builder would be along the lines of:</p>\n\n<pre><code>public class MyBuilderClass : AbstractBuilder&lt;MyType, MyBuilderClass&gt;\n{\n    // Code here\n}\n</code></pre>\n\n<h2>Problem / Question</h2>\n\n<p>In the example above, we need to use <code>MyBuilderClass : AbstractBuilder&lt;MyType, MyBuilderClass&gt;</code>, referencing <code>MyBuilderClass</code> twice so that the <code>TBuilder</code> generic type of our abstract builder works out correctly.</p>\n\n<p>Is there a change we could make to the <code>AbstractBuilder</code> in this case such that the syntax for our child classes could be shortened from:</p>\n\n<pre><code>public class MyBuilderClass : AbstractBuilder&lt;PaymentRecord, MyBuilderClass&gt;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>public class MyBuilderClass : AbstractBuilder&lt;PaymentRecord&gt;\n</code></pre>\n\n<p>where <code>TBuilder</code> is inferred to be <code>MyBuilderClass</code>?</p>\n\n<p>I'd love to get the syntactical sugar of not having to explicitly pass along the type of the builder. </p>\n"}, {"tags": ["c#", "windows", "usb", "communication", "libusbdotnet"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525296128, "post_id": 50143675, "comment_id": 87305673, "body": "Really depends on what the USB-&gt;USB device enumerates as..."}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1525296150, "post_id": 50143675, "comment_id": 87305683, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9317823/pc-to-pc-usb-communication\">PC to PC USB communication</a>"}, {"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 0, "creation_date": 1525297334, "post_id": 50143675, "comment_id": 87306184, "body": "See also <a href=\"https://stackoverflow.com/questions/995004/opening-a-socket-over-a-rs232-connection\">Opening a socket over a RS232 connection</a> which might help for the other part of your question."}], "owner": {"reputation": 21, "user_id": 4949954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de9d10c8dacea6c0b0c2ab7b5d443fc?s=128&d=identicon&r=PG&f=1", "display_name": "Conor McCarthy", "link": "https://stackoverflow.com/users/4949954/conor-mccarthy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525295785, "creation_date": 1525295785, "question_id": 50143675, "link": "https://stackoverflow.com/questions/50143675/using-a-usb-to-usb-cable-bridge-to-communicate-information-between-two-computers", "title": "Using a USB-to-USB cable bridge to communicate information between two computers", "body": "<p>I am wondering if it is possible for me to use a USB-to-USB cable bridge to establish a communication link between my applications on two different computers.</p>\n\n<p>Currently I have an application which runs embedded on an industrial Linux computer and I have a configuration application which runs on a user's laptop and the configuration application discovers and connects to the embedded application over the local network.</p>\n\n<p>I am trying to determine if I am able to use a USB link to communicate between the two applications instead of using the local network.</p>\n\n<p>I know direct USB-to-USB does not work by design, but I am aware of USB-to-USB bridge cables which can be used to for example transfer files between two directly connected computers.</p>\n\n<p>Is there a way for me to programmatically leverage such a cable (specifically in C#) in a way that allows me to have the same communication capabilities I have over a local network socket?</p>\n\n<p>I am aware of libraries like LibUsbDotNet, but they don't seem to provide the capabilities I am describing.</p>\n\n<p>Thanks in advance. :)</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-web-api", "entity-framework-core"], "comments": [{"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 0, "creation_date": 1525296000, "post_id": 50143636, "comment_id": 87305622, "body": "Because you are returning anonymous type."}], "answers": [{"tags": [], "owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "is_accepted": false, "score": 1, "last_activity_date": 1525296698, "last_edit_date": 1525296698, "creation_date": 1525296158, "answer_id": 50143735, "question_id": 50143636, "link": "https://stackoverflow.com/questions/50143636/joining-tables-in-entity-framework-cannot-implicitly-convert-type-error/50143735#50143735", "title": "Joining tables in Entity Framework cannot implicitly convert type error", "body": "<p>You are returning anonymous type. You need to project to the actual type.\nReplace <code>select new {</code> with <code>select new Category  {</code></p>\n\n<pre><code>    var q = challenges.Join(\n        categories,\n        ch =&gt; ch.Category,\n        cc =&gt; cc.Id,\n        (ch, cc) =&gt; new {ch, cc}\n        ).ToList().Select(x=&gt;  new Category  \n          {\n            id = x.ch.Id,\n            title = x.ch.Title,\n            createdAt = x.ch.CreatedAt,\n            daysNeeded = x.ch.DaysNeeded,\n            reward = x.ch.Reward,\n            difficulty = x.ch.Difficulty,\n            completedBy = x.ch.CompletedBy,\n            imgUrl = x.ch.ImgUrl,\n            subcategory = x.cc.Title,\n            category = x.cc.Title,\n            instructions = x.ch.Instructions\n        });\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>         var challengesQ = ( from ch in challengeContext.Challenges\n                      join cc in challengeContext.ChallengeCategories\n                      on ch.Category equals cc.Id \n                      select new Category  {\n                          id = ch.Id,\n                          title = ch.Title,\n                          createdAt = ch.CreatedAt,\n                          daysNeeded = ch.DaysNeeded,\n                          reward = ch.Reward,\n                          difficulty = ch.Difficulty,\n                          completedBy = ch.CompletedBy,\n                          imgUrl = ch.ImgUrl,\n                          subcategory = cc.Title,\n                          category = cc.Title,\n                          instructions = ch.Instructions\n                      }\n                       );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "edited": false, "score": 0, "creation_date": 1525327172, "post_id": 50144134, "comment_id": 87313953, "body": "Thank you! This actually solved my problem (though I came to a new one how to convert subcategory from int to string in a query) but this was helpful!"}, {"owner": {"reputation": 86, "user_id": 9732445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/503b62c3b1999b57190ab073becd7dfd?s=128&d=identicon&r=PG&f=1", "display_name": "EntityFrameworkToday", "link": "https://stackoverflow.com/users/9732445/entityframeworktoday"}, "reply_to_user": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "edited": false, "score": 0, "creation_date": 1525358871, "post_id": 50144134, "comment_id": 87333661, "body": "That was something that I was afraid might happen--even though I saw it coming for Categories, not SubCategories. I originally noticed that you had Challenges.Category behaving like the foreign key to ChallengeCateories in your join statement; this led me to be afraid that you were heading toward a type mismatch when you switched what information from the Categories table the Category property in your POCO contains.  I understand that this might not be the most helpful comment, but if you can outline some of your goals and efforts, I&#39;ll be happy to try to help you realize them."}], "tags": [], "owner": {"reputation": 86, "user_id": 9732445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/503b62c3b1999b57190ab073becd7dfd?s=128&d=identicon&r=PG&f=1", "display_name": "EntityFrameworkToday", "link": "https://stackoverflow.com/users/9732445/entityframeworktoday"}, "is_accepted": true, "score": 2, "last_activity_date": 1525312705, "last_edit_date": 1525312705, "creation_date": 1525298185, "answer_id": 50144134, "question_id": 50143636, "link": "https://stackoverflow.com/questions/50143636/joining-tables-in-entity-framework-cannot-implicitly-convert-type-error/50144134#50144134", "title": "Joining tables in Entity Framework cannot implicitly convert type error", "body": "<p><strong>It appears your main problem is that you're attempting to pass out an IQueryable of an anonymous type instead of an IQueryable of Challenges</strong>.</p>\n\n<p>Ideally, you'd  have provided the definition of your POCO objects (if code-first) or the classes under the .edmx if you're using a design interface for your EF context. That way we can verify that you are actually mapping the join information to Challenge objects. As far as I can tell, you are doing so, and I'm going answer this under that assumption; it would be nice to be sure though.</p>\n\n<p>I was able to define the following as a simple EF example:</p>\n\n<pre><code> class Program\n{\n    static ChallengeContext Context = null;\n    static void Main(string[] args)\n    {\n        try\n        {\n            var test = GetChallenges();\n        }\n        finally\n        {\n            Context.Dispose();\n        }\n    }\n    public static IQueryable&lt;Challenge&gt; GetChallenges()\n    {\n        Context = new ChallengeContext();\n        DbSet&lt;Challenge&gt; challenges = Context.Challenges;\n        DbSet&lt;ChallengeCategory&gt; categories = Context.Categories;\n\n       return challenges.Join(\n            categories,\n            ch =&gt; ch.Category,\n            cc =&gt; cc.Id,\n            (ch, cc) =&gt; new Challenge()\n            {\n                Id = ch.Id\n\n            });\n\n    }\n}\n\ninternal class ChallengeContext:DbContext\n{\n    public DbSet&lt;Challenge&gt; Challenges { get; set; }\n    public DbSet&lt;ChallengeCategory&gt; Categories { get; set; }\n}\n\ninternal class ChallengeCategory\n{\n    public int Id { get; set; }\n}\n\npublic class Challenge\n{\n    public int Id { get; set; }\n    public int Category { get; set; }\n}\n</code></pre>\n\n<p>Which suggests to me that the following should work:</p>\n\n<pre><code>public IQueryable&lt;Challenges&gt; GetChallenges()\n{\n\n    DbSet&lt;Challenges&gt; challenges = challengeContext.Challenges;\n    DbSet&lt;ChallengeCategories&gt; categories = challengeContext.ChallengeCategories;\n\n    return challenges.Join(\n        categories,\n        ch =&gt; ch.Category,\n        cc =&gt; cc.Id,\n        (ch, cc) =&gt; new Challenges()\n        {\n            id = ch.Id,\n            title = ch.Title,\n            createdAt = ch.CreatedAt,\n            daysNeeded = ch.DaysNeeded,\n            reward = ch.Reward,\n            difficulty = ch.Difficulty,\n            completedBy = ch.CompletedBy,\n            imgUrl = ch.ImgUrl,\n            subcategory = cc.Title,\n            category = cc.Title,\n            instructions = ch.Instructions\n        });\n\n}\n</code></pre>\n\n<p>Please let me know if this does not fix your problem.</p>\n"}], "owner": {"reputation": 1553, "user_id": 3624141, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5c94f5b55339017d3ec654c65d07cc3f?s=128&d=identicon&r=PG&f=1", "display_name": "user122222", "link": "https://stackoverflow.com/users/3624141/user122222"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 804, "favorite_count": 0, "accepted_answer_id": 50144134, "answer_count": 2, "score": 0, "last_activity_date": 1525323642, "creation_date": 1525295557, "last_edit_date": 1525323642, "question_id": 50143636, "link": "https://stackoverflow.com/questions/50143636/joining-tables-in-entity-framework-cannot-implicitly-convert-type-error", "title": "Joining tables in Entity Framework cannot implicitly convert type error", "body": "<p>I've been stuck around for quite a long this evening trying to join to tables. \nI have table <code>Challenges</code> which has category Id and I want to join it with <code>Category</code> table to get actual title instead of having to do indexing in frontend which I am doing now. </p>\n\n<pre><code>public List&lt;Challenges&gt; GetChallenges()\n{\n        var list = new List&lt;Challenges&gt;();\n        var queryable = list.AsQueryable();\n\n        var challengesQ = (from ch in challengeContext.Challenges\n                           join cc in challengeContext.ChallengeCategories\n                                on ch.Category equals cc.Id \n                           select new {\n                              id = ch.Id,\n                              title = ch.Title,\n                              createdAt = ch.CreatedAt,\n                              daysNeeded = ch.DaysNeeded,\n                              reward = ch.Reward,\n                              difficulty = ch.Difficulty,\n                              completedBy = ch.CompletedBy,\n                              imgUrl = ch.ImgUrl,\n                              subcategory = cc.Title,\n                              category = cc.Title,\n                              instructions = ch.Instructions\n                          }\n                           );\n        DbSet&lt;Challenges&gt; challenges = challengeContext.Challenges;\n        DbSet&lt;ChallengeCategories&gt; categories = challengeContext.ChallengeCategories;\n\n        var q = challenges.Join(\n            categories,\n            ch =&gt; ch.Category,\n            cc =&gt; cc.Id,\n            (ch, cc) =&gt; new\n            {\n                id = ch.Id,\n                title = ch.Title,\n                createdAt = ch.CreatedAt,\n                daysNeeded = ch.DaysNeeded,\n                reward = ch.Reward,\n                difficulty = ch.Difficulty,\n                completedBy = ch.CompletedBy,\n                imgUrl = ch.ImgUrl,\n                subcategory = cc.Title,\n                category = cc.Title,\n                instructions = ch.Instructions\n            });\n        return challengesQ;\n}\n</code></pre>\n\n<p><code>challengesQ</code> and <code>q</code> are some of the things I've tried so far, yet I'm getting this or similar error:</p>\n\n<blockquote>\n  <p>CS0266    Cannot implicitly convert type 'System.Linq.IQueryable&lt;>' to 'System.Collections.Generic.List'. An explicit conversion exists (are you missing a cast?)   challenge.EF    </p>\n</blockquote>\n\n<p>I know this is because I need <code>IQueryable</code> list or different way of executing query, but I couldn't come up with the right solution yet. Does anyone had similar problem ?</p>\n"}, {"tags": ["c#", "asp.net-core", "nuget"], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": true, "score": 3, "last_activity_date": 1525297314, "creation_date": 1525297314, "answer_id": 50143957, "question_id": 50143590, "link": "https://stackoverflow.com/questions/50143590/nuget-always-takes-fallbackfolder/50143957#50143957", "title": "Nuget always takes FallbackFolder", "body": "<p>The fallback folder is a local offline cache for NuGet packages that were provided with the SDK. This being there prevents you from having to download those packages from NuGet directly all the time.</p>\n\n<p>In general, this should not cause problems from you at all. The path being gray (instead of white) also means that this is an implicit value that was automatically resolved. There is no configuration of the dependency that will prevent this from working on other machines, so you don\u2019t need to worry about it.</p>\n"}], "owner": {"reputation": 123, "user_id": 6456605, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9d8782c1cf86a6346b049994ff9b6a64?s=128&d=identicon&r=PG&f=1", "display_name": "B.Pumpkin", "link": "https://stackoverflow.com/users/6456605/b-pumpkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 50143957, "answer_count": 1, "score": 0, "last_activity_date": 1525297314, "creation_date": 1525295353, "question_id": 50143590, "link": "https://stackoverflow.com/questions/50143590/nuget-always-takes-fallbackfolder", "title": "Nuget always takes FallbackFolder", "body": "<p>I just created my very first asp.net Core application and added Microsoft.EntityFrameworkCore to it via Nuget.</p>\n\n<p>I took a closer look at the reference and noticed that it points to the FallbackFolder. Now like I said, I'm really not experienced with asp.net core but why does it go to the FallbackFolder and not to the primary one for nuget?</p>\n\n<p><a href=\"https://i.stack.imgur.com/09Pgt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/09Pgt.png\" alt=\"Path of the Reference\"></a></p>\n\n<p>Is that something I should worry about or is it ok if I just leave it how it is because it's not really interfering with anything I do, right now?</p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["c#", "excel"], "comments": [{"owner": {"reputation": 121871, "user_id": 478884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLckc.jpg?s=128&g=1", "display_name": "Tim Williams", "link": "https://stackoverflow.com/users/478884/tim-williams"}, "edited": false, "score": 0, "creation_date": 1525321625, "post_id": 50143566, "comment_id": 87312029, "body": "<a href=\"https://stackoverflow.com/questions/910400/reading-from-excel-range-into-multidimensional-array-c-sharp\" title=\"reading from excel range into multidimensional array c sharp\">stackoverflow.com/questions/910400/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4838766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fze4q.png?s=128&g=1", "display_name": "adamj537", "link": "https://stackoverflow.com/users/4838766/adamj537"}, "edited": false, "score": 0, "creation_date": 1546276426, "post_id": 50150436, "comment_id": 94817278, "body": "This worked!  Not sure how to post the working code, so I&#39;ll do so in a separate answer."}], "tags": [], "owner": {"reputation": 921, "user_id": 1401884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d622079250d6a93e1c1c04f93e7c0453?s=128&d=identicon&r=PG", "display_name": "steveo40", "link": "https://stackoverflow.com/users/1401884/steveo40"}, "is_accepted": true, "score": 1, "last_activity_date": 1525336335, "creation_date": 1525336335, "answer_id": 50150436, "question_id": 50143566, "link": "https://stackoverflow.com/questions/50143566/c-excel-read-to-multidimensional-array/50150436#50150436", "title": "C# Excel Read to Multidimensional Array", "body": "<p>This is because you are trying to cast values from an array that could contain strings, doubles, dates, etc to a single type. Instead, change the return type of your function from T[,] to a non-generic object [,] (and all the other bits in the function too, obviously). Then it should work.</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 4838766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fze4q.png?s=128&g=1", "display_name": "adamj537", "link": "https://stackoverflow.com/users/4838766/adamj537"}, "is_accepted": false, "score": 2, "last_activity_date": 1546276734, "creation_date": 1546276734, "answer_id": 53989873, "question_id": 50143566, "link": "https://stackoverflow.com/questions/50143566/c-excel-read-to-multidimensional-array/53989873#53989873", "title": "C# Excel Read to Multidimensional Array", "body": "<p>The answer from @steveo40 is correct.  Here's the new, working, code:</p>\n\n<pre><code>public object[,] ReadMultiCellValues(int row, int column, int numRows, int numColumns)\n{\n    // Check for invalid arguments.\n    ValidateCell(row, column);\n\n    // Create an Excel Range object emcompassing the workbook's starting cell.\n    Range range = (Range)_worksheet.Cells[row, column];\n\n    // Resize the range to the desired dimensions.\n    range = range.get_Resize(numRows, numColumns);\n\n    // Read the cells' values from the spreadsheet.\n    return (object[,])range.Value2;\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4838766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fze4q.png?s=128&g=1", "display_name": "adamj537", "link": "https://stackoverflow.com/users/4838766/adamj537"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "accepted_answer_id": 50150436, "answer_count": 2, "score": 2, "last_activity_date": 1546276734, "creation_date": 1525295258, "question_id": 50143566, "link": "https://stackoverflow.com/questions/50143566/c-excel-read-to-multidimensional-array", "title": "C# Excel Read to Multidimensional Array", "body": "<p>I am writing a C# class to automate reading and writing data in an Excel spreadsheet, where that data can be of type double, int, or string.  I've gotten the following method for writing data to a spreadsheet to work (using Microsoft.Office.Interop.Excel):</p>\n\n<pre><code>    public void WriteMultiCellValues&lt;T&gt;(int row, int column, T[,] values)\n    {\n        // Create an Excel Range object encompassing the workbook's starting cell.\n        Range range = (Range)_worksheet.Cells[row, column];\n\n        // Get the width and height of the \"values\" multidimensional array.\n        int rows = values.GetLength(0);\n        int columns = values.GetLength(1);\n\n        // Resize the range to be the same size as the values array.\n        range = range.get_Resize(rows, columns);\n\n        // Write the range data to Excel.\n        range.set_Value(value: values);\n    }\n</code></pre>\n\n<p>I would like to make an analogue method which reads from a spreadsheet to a multidimensional array.  But this does not work:</p>\n\n<pre><code>    public T[,] ReadMultiCellValues&lt;T&gt;(int row, int column, int numRows, int numColumns)\n    {\n        // Create an Excel Range object encompassing the workbook's starting cell.\n        Range range = (Range)_worksheet.Cells[row, column];\n\n        // Resize the range to the desired dimensions.\n        range = range.get_Resize(numRows, numColumns);\n\n        // Read the cells' values from the spreadsheet.\n        return (T[,])range.Value2;\n    }\n</code></pre>\n\n<p>When run, the return statement fails because the object \"range.Value2\" can't be cast to an array.  Does anyone know how to convert the object to a multidimensional array?  Also, I'm open to solutions which don't use arrays if there is something more convenient, but it must work for data types of double, int, and string, and I would like the read and write methods to be analogous.</p>\n"}, {"tags": ["c#", "arrays", "visual-studio", "dynamic", "textbox"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 2, "creation_date": 1525295311, "post_id": 50143531, "comment_id": 87305342, "body": "Just create a <code>List&lt;TextBox&gt;</code> where you store the created set of textboxes. Then you can use the code to loop over this list and retrieve the content of each textbox"}, {"owner": {"reputation": 65, "user_id": 8542722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834c227215edd9b65869df3a0008f742?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Vlad", "link": "https://stackoverflow.com/users/8542722/vlad-vlad"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1525295402, "post_id": 50143531, "comment_id": 87305383, "body": "Thank you for your time Steve, I will implement and come back with feedback :D"}, {"owner": {"reputation": 65, "user_id": 8542722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834c227215edd9b65869df3a0008f742?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Vlad", "link": "https://stackoverflow.com/users/8542722/vlad-vlad"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1525295800, "post_id": 50143531, "comment_id": 87305553, "body": "Could you provide a source of information, from where can I learn how to use this &quot;List&lt;TextBox&gt;&quot; please ?"}, {"owner": {"reputation": 65, "user_id": 8542722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834c227215edd9b65869df3a0008f742?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Vlad", "link": "https://stackoverflow.com/users/8542722/vlad-vlad"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1525296047, "post_id": 50143531, "comment_id": 87305640, "body": "I use the <code>grp.Controls.Add(textBoxes);</code> to create a new text box. Do I need to add it to the list before I create it ? Or after ?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525297626, "post_id": 50143531, "comment_id": 87306295, "body": "It doesn&#39;t matter when you add it. Just create a <code>private List&lt;GroupBox&gt; groupBoxes = new List&lt;GroupBox&gt;();</code> in your form class, and then do <code>groupBoxes.Add(grp);</code> in your <code>AddNewGroupBox</code> method."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525297729, "post_id": 50143531, "comment_id": 87306336, "body": "Then later you can do <code>string allGroupBoxTexts = string.Join(&quot;, &quot;, groupBoxes.Select(groupBox =&gt; groupBox.Text));</code> or <code>List&lt;string&gt; allGroupBoxTexts = groupBoxes.Select(groupBox =&gt; groupBox.Text).ToList();</code>"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525298238, "post_id": 50143531, "comment_id": 87306495, "body": "Another way to do it would be to add a common but unique string for the <code>.Name</code> property of each one: <code>grp.Name = &quot;myDynamicGB&quot;;</code>, and then you can just search your controls collection for them: <code>List&lt;GroupBox&gt; myGroupBoxes = Controls.Find(&quot;myDynamicGB&quot;, true).Cast&lt;GroupBox&gt;().ToList();</code>"}, {"owner": {"reputation": 65, "user_id": 8542722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834c227215edd9b65869df3a0008f742?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Vlad", "link": "https://stackoverflow.com/users/8542722/vlad-vlad"}, "edited": false, "score": 0, "creation_date": 1525298434, "post_id": 50143531, "comment_id": 87306553, "body": "Thank you Rufus I almost figured it out, thing is, I dont need the text of the groupBox, I need the text of the TextBox that is located inside the groupbox."}, {"owner": {"reputation": 65, "user_id": 8542722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834c227215edd9b65869df3a0008f742?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Vlad", "link": "https://stackoverflow.com/users/8542722/vlad-vlad"}, "edited": false, "score": 0, "creation_date": 1525298965, "post_id": 50143531, "comment_id": 87306743, "body": "SOLVED IT :D I had to edit the method given by you <code>private List&lt;GroupBox&gt; groupBoxes = new List&lt;GroupBox&gt;();</code> and <code>groupBoxes.Add(grp);</code> but just needed to change it from GroupBox to TextBox. Thank you, ur a godsend! =)"}], "owner": {"reputation": 65, "user_id": 8542722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/834c227215edd9b65869df3a0008f742?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad Vlad", "link": "https://stackoverflow.com/users/8542722/vlad-vlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1525295062, "creation_date": 1525295062, "question_id": 50143531, "link": "https://stackoverflow.com/questions/50143531/array-string-of-dynamically-created-textboxes-in-visual-studio-c", "title": "Array/String of dynamically created textBoxes in Visual Studio - C#", "body": "<p>I created, dynamically, a number of textBoxes. The user will write input in those textBoxes and then press a button (\"SAVE\"). </p>\n\n<p>I want to save the info from those textBoxes in an array(or string). Is it possible to implement something like this: <code>for(i = 0; i &lt; the_number_of_textBoxes; i++) MY_ARRAY_or_MY_STRING += textBox[i].Text; //I know this isn't correct</code> </p>\n\n<p>I'm sure there should be something similar to my \"way of thinking\", but I can't find it.</p>\n\n<p>If I would always have the same number of texboxes, lets say 2, I could implement it like this: <code>MY_ARRAY_or_MY_STRING = textBox1.Text + textBox2.Text;</code>, but my textBoxes are dynamicaly generated.</p>\n\n<p>Here is the code I use (although I don't think it will be of need), my program has 2 Forms (Form1 is noted as frm1) - It has nothing to do with my question, but maybe it helps, idk. If you need more info about what the program does, ask away, I wont write it here, because it may be useless info.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n//Add MySql Library\nusing MySql.Data.MySqlClient;\n\nnamespace Proiect\n{\n    public partial class Form2 : Form\n    {\n        public Form1 frm1;\n        public int numar_textBox = 5;\n        public int numar_eticheta = 5;\n        public int numar_groupBox = 0;\n        public int LastTextBoxLeft = 15;\n        public int LastEtichetaLeft = 15;\n        public int LastGroupBoxLeft = 3;\n\n\n        public Form2()\n        {\n            InitializeComponent();\n            frm1 = new Form1();\n        }\n\n\n\n        private void Form2_Load(object sender, EventArgs e)\n        {\n            int i;\n\n            for (i = 0; i &lt; frm1.get_nr_coloane(); i++)\n                AddNewGroupBox();\n\n        }\n\n        private void Form2_Click(object sender, EventArgs e)\n        {\n            Deselect.Focus(); //Deseleceaza orice element, mutand focusul pe un label fara text\n        }\n\n        private void textBox1_TextChanged(object sender, EventArgs e)\n        {\n\n        }\n        /*\n        public int verifica_spatii(TextBox New_text_box)\n        {\n            int i, k=0;\n\n            if (New_text_box.Text == \"\") return 1;\n            else\n            {\n                for (i = 0; i &lt; New_text_box.TextLength; i++) \n                    if (New_text_box.Text[i] != ' ')\n                    {\n                        return 1;\n                    }\n                return 0; // are numai spatii\n            }\n        }\n        */\n        public void On_click()\n        {\n\n        }\n\n        public event EventHandler Click_event;\n\n        public System.Windows.Forms.GroupBox AddNewGroupBox()\n        {\n            EventHandler handler = Click_event;\n            System.Windows.Forms.GroupBox grp = new System.Windows.Forms.GroupBox();\n            this.Controls.Add(grp);\n            grp.Width = 133;\n            grp.Height = 50;\n            grp.Top = 10;\n            grp.Left = LastGroupBoxLeft;\n            LastGroupBoxLeft += grp.Width;\n            grp.Text = frm1.get_nume_coloane()[numar_groupBox];\n            numar_groupBox += 1;\n            TextBox txt = new TextBox();\n            txt.Top = 20;\n            txt.Left = 10;\n            numar_textBox = numar_textBox + 1;\n            grp.Controls.Add(txt);\n            txt.Leave += textBoxGeneral_LostFocus;\n            /////New_text_box.Click += handler(this,);\n\n            return grp;\n        }\n\n        private void textBoxGeneral_LostFocus(object sender, EventArgs e)\n        {\n            //ToolStripItem item = (ToolStripItem)sender;\n           // MessageBox.Show(item.Text);\n        }\n\n        private void button1_Click(object sender, EventArgs e)\n        {\n            string valorile_de_adaugat=\"\";\n            int i;\n\n            for(i=0;i&lt;numar_groupBox-1;i++)\n                valorile_de_adaugat+=textBox[i]\n\n\n            //MySqlCommand Salveaza_in_baza_de_date = new MySqlCommand(\"INSERT INTO \" + frm1.get_nume_tabel_selectat() + \" (\"+ frm1.get_unirea_coloanelor + \") VALUES(22056, 15, 2000, 2004));\n        }\n        /*\nTextbox myTxtbx = new Textbox();\nmyTxtbx.Text = \"Enter text here...\";\n\nmyTxtbx.GotFocus += GotFocus.EventHandle(RemoveText);\nmyTxtbx.LostFocus += LostFocus.EventHandle(AddText);\n\npublic RemoveText(object sender, EventArgs e)\n{\nmyTxtbx.Text = \"\";\n}\n\npublic AddText(object sender, EventArgs e)\n{\nif (String.IsNullOrWhiteSpace(myTxtbx.Text))\nmyTxtbx.Text = \"Enter text here...\";\n}\n*/\n    }\n} \n</code></pre>\n\n<p><em>Thank you for your time,</em></p>\n\n<p><em>Vlad</em></p>\n"}, {"tags": ["c#", "wpf", "mvvm", "combobox", "observablecollection"], "comments": [{"owner": {"reputation": 790, "user_id": 4207883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZKFKq.jpg?s=128&g=1", "display_name": "Shivani Katukota", "link": "https://stackoverflow.com/users/4207883/shivani-katukota"}, "edited": false, "score": 1, "creation_date": 1525327922, "post_id": 50143384, "comment_id": 87314244, "body": "You could always check if the values are valid in the view model before making an API call"}], "answers": [{"tags": [], "owner": {"reputation": 3577, "user_id": 2596334, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/30ba99c74af2eff0394b66c550486f59?s=128&d=identicon&r=PG", "display_name": "Scott Solmer", "link": "https://stackoverflow.com/users/2596334/scott-solmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1525352087, "last_edit_date": 1592644375, "creation_date": 1525352087, "answer_id": 50155634, "question_id": 50143384, "link": "https://stackoverflow.com/questions/50143384/automatically-return-data-using-arguments-from-cascading-comboboxes/50155634#50155634", "title": "Automatically Return Data using Arguments from Cascading ComboBoxes", "body": "<p>I managed to solve this issue with a kind of lock.</p>\n<p>Now <code>GetDataPoint()</code> is only called once, and it always happens after finding foos and bars so I have valid arguments to pass.</p>\n<h2>The Solution:</h2>\n<pre><code>    private bool ignoreSelectionChanges = false;\n\n    private void Selected_ID_Changed()\n    {\n        ignoreSelectionChanges = true;\n        Find_Foos();\n        Find_Bars();\n        ignoreSelectionChanges = false;\n\n        GetDataPoint();\n    }\n\n    private void Selected_Foo_Changed()\n    {\n        if (!ignoreSelectionChanges)\n        {\n            ignoreSelectionChanges = true;\n            Find_Bars();\n            ignoreSelectionChanges = false;\n\n            GetDataPoint();\n        }\n    }\n\n    private void Selected_Bar_Changed()\n    {\n        if (!ignoreSelectionChanges)\n        {\n            GetDataPoint();\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 3577, "user_id": 2596334, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/30ba99c74af2eff0394b66c550486f59?s=128&d=identicon&r=PG", "display_name": "Scott Solmer", "link": "https://stackoverflow.com/users/2596334/scott-solmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525352087, "creation_date": 1525294312, "question_id": 50143384, "link": "https://stackoverflow.com/questions/50143384/automatically-return-data-using-arguments-from-cascading-comboboxes", "title": "Automatically Return Data using Arguments from Cascading ComboBoxes", "body": "<p>Please refer to the <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> example below.  </p>\n\n<p>My project uses an API to retrieve data about an object <code>ExampleObject</code>.<br>\n3 items are required <code>ID</code>, <code>Foo</code>, and optionally <code>Bar</code> before other queries can be made through the API: <code>GetDataPoint()</code> in the example.  </p>\n\n<p>I provide 3 ComboBoxes for each of these items, which are bound to ObservableCollections.</p>\n\n<p>Because I want to automatically return results, I call <code>GetDataPoint()</code> any time any ComboBox changes SelectedIndex.</p>\n\n<h2>The Problem:</h2>\n\n<blockquote>\n  <p><code>GetDataPoint()</code> is called excessively (<strong>8 times</strong> when <code>Refresh()</code> is caled), and typically only the last call in a sequence contains valid arguments.<br>\n  This is a problem not only for performance, but making API calls with bad parameters is throwing exceptions in the background. </p>\n</blockquote>\n\n<p>Example Console Output: </p>\n\n<pre><code>Call: 1, ID: 4177, Foo: -1, Bar: -1  \nCall: 2, ID: 4177, Foo: -1, Bar: -1  \nCall: 3, ID: 4177, Foo: 32, Bar: 74  \nCall: 4, ID: 4177, Foo: 32, Bar: 74  \nCall: 5, ID: 4177, Foo: 32, Bar: -1  \nCall: 6, ID: 4177, Foo: 32, Bar: 74  \nCall: 7, ID: 4177, Foo: 32, Bar: 74  \n</code></pre>\n\n<h1>Question:</h1>\n\n<blockquote>\n  <p>Is there any way to call <code>GetDataPoint()</code> exactly once, after all arguments are valid (after <code>Find_Foos()</code> and <code>Find_Bars()</code> have done their thing) when the selected <code>ID</code>, <code>Foo</code>, or <code>Bar</code> changes? </p>\n</blockquote>\n\n<h2>The Example Project \"CascadingDropDownLists\"</h2>\n\n<p><a href=\"https://i.stack.imgur.com/SETDM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SETDM.png\" alt=\"GUI\"></a>\n<strong>MainWindow.xaml</strong></p>\n\n<pre><code>&lt;Window x:Class=\"CascadingDropDownLists.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:CascadingDropDownLists\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"200\" Width=\"600\"&gt;\n    &lt;Window.DataContext&gt;\n        &lt;local:ViewModel/&gt;\n    &lt;/Window.DataContext&gt;\n    &lt;Grid&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"Auto\"/&gt;\n            &lt;RowDefinition Height=\"Auto\"/&gt;\n            &lt;RowDefinition Height=\"Auto\"/&gt;\n            &lt;RowDefinition/&gt;\n        &lt;/Grid.RowDefinitions&gt;\n        &lt;Button Margin=\"10\" Content=\"Refresh\" Width=\"100\" \n                Command=\"{Binding RefreshCommand}\" /&gt;\n        &lt;StackPanel Grid.Row=\"1\" Margin=\"10\" Orientation=\"Horizontal\"&gt;\n            &lt;Label Content=\"Example Object ID: \" Margin=\"20,0,0,0\"/&gt;\n            &lt;ComboBox MinWidth=\"80\"\n                      ItemsSource=\"{Binding IDCollection}\" \n                      SelectedIndex=\"{Binding Selected_ID, Mode=TwoWay}\"/&gt;\n\n            &lt;Label Content=\"Foo: \" Margin=\"20,0,0,0\" /&gt;\n            &lt;ComboBox MinWidth=\"80\"\n                      ItemsSource=\"{Binding FooCollection}\" \n                      SelectedIndex=\"{Binding Selected_Foo, Mode=TwoWay}\"/&gt;\n\n            &lt;Label Content=\"Bar: \" Margin=\"20,0,0,0\" /&gt;\n            &lt;ComboBox MinWidth=\"80\"\n                      ItemsSource=\"{Binding BarCollection}\" \n                      SelectedIndex=\"{Binding Selected_Bar, Mode=TwoWay}\"/&gt;\n        &lt;/StackPanel&gt;\n        &lt;TextBlock Grid.Row=\"2\" Margin=\"10\" Text=\"{Binding Result}\" /&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p><strong>ViewModel.cs</strong></p>\n\n<pre><code>namespace CascadingDropDownLists\n{\n    using System;\n    using System.ComponentModel;\n    using System.Collections.Generic;\n    using System.Collections.ObjectModel;\n\n    class ViewModel : INotifyPropertyChanged\n    { \n        private ObservableCollection&lt;int&gt; _idCollection;\n        public ObservableCollection&lt;int&gt; IDCollection\n        {\n            get { return _idCollection; }\n            set { _idCollection = value;\n                OnPropertyChanged(\"IDCollection\");\n            }\n        }\n\n        private int _selected_ID;\n        public int Selected_ID\n        {\n            get { return _selected_ID; }\n            set { _selected_ID = value;\n                OnPropertyChanged(\"Selected_ID\");\n                Selected_ID_Changed();\n            }\n        }\n\n        private ObservableCollection&lt;int&gt; _fooCollection;\n        public ObservableCollection&lt;int&gt; FooCollection\n        {\n            get { return _fooCollection; }\n            set { _fooCollection = value;\n                OnPropertyChanged(\"FooCollection\");\n            }\n        }\n\n        private int _selected_Foo;\n        public int Selected_Foo\n        {\n            get { return _selected_Foo; }\n            set { _selected_Foo = value;\n                OnPropertyChanged(\"Selected_Foo\");\n                Selected_Foo_Changed();\n            }\n        }\n\n        private ObservableCollection&lt;int&gt; _barCollection;\n        public ObservableCollection&lt;int&gt; BarCollection\n        {\n            get { return _barCollection; }\n            set { _barCollection = value;\n                OnPropertyChanged(\"BarCollection\");\n            }\n        }\n\n        private int _selected_Bar;\n        public int Selected_Bar\n        {\n            get { return _selected_Bar; }\n            set { _selected_Bar = value;\n                OnPropertyChanged(\"Selected_Bar\");\n                Selected_Bar_Changed();\n            }\n        }\n\n        private string result;\n        public string Result\n        {\n            get { return result; }\n            set { result = value;\n                OnPropertyChanged(\"Result\");\n            }\n        }\n\n        private bool AlwaysExecute = true;\n        private DelegateCommand&lt;bool&gt; _refreshCommand;\n        public DelegateCommand&lt;bool&gt; RefreshCommand\n        {\n            get\n            {\n                if (_refreshCommand == null)\n                {\n                    _refreshCommand = new DelegateCommand&lt;bool&gt;(\n                        (s) =&gt; { Refresh(); },\n                        (s) =&gt; { return AlwaysExecute; }\n                        );\n                }\n                return _refreshCommand;\n            }\n        }\n\n        public ViewModel()\n        {\n            IDCollection = new ObservableCollection&lt;int&gt;();\n            FooCollection = new ObservableCollection&lt;int&gt;();\n            BarCollection = new ObservableCollection&lt;int&gt;();\n        }\n\n        public void Refresh()\n        {      \n            DataFromModel.RefreshData();\n            Find_ExampleObjects();\n        }\n\n        private void Selected_ID_Changed()\n        {\n            Find_Foos();\n            Find_Bars();\n            GetDataPoint();\n        }\n\n        private void Selected_Foo_Changed()\n        {\n            Find_Bars();\n            GetDataPoint();\n        }\n\n        private void Selected_Bar_Changed()\n        {\n            GetDataPoint();\n        }\n\n        private void Find_ExampleObjects()\n        {\n            IDCollection.Clear();\n            FooCollection.Clear();\n            BarCollection.Clear();\n\n            foreach (int id in DataFromModel.GetExampleIDs())\n            {\n                IDCollection.Add(id);\n            }\n            if (IDCollection.Count &gt; 0)\n            {\n                Selected_ID = 0;\n            }\n        }\n\n        private void Find_Foos()\n        {\n            FooCollection.Clear();\n            BarCollection.Clear();\n\n            if (IDCollection.Count &gt; 0 &amp;&amp; Selected_ID &gt;= 0)\n            {\n               foreach (int foo in DataFromModel.GetFoos(IDCollection[Selected_ID]))\n                {\n                    FooCollection.Add(foo);\n                }\n            }\n            if (FooCollection.Count &gt; 0)\n            {\n                Selected_Foo = 0;\n            }\n        }\n\n        private void Find_Bars()\n        {\n            BarCollection.Clear();\n\n            if (IDCollection.Count &gt; 0 &amp;&amp; Selected_ID &gt;= 0)\n            {\n                if (FooCollection.Count &gt; 0 &amp;&amp; Selected_Foo &gt;= 0)\n                {\n                    foreach (int ot in DataFromModel.GetBars(IDCollection[Selected_ID], FooCollection[Selected_Foo]))\n                    {\n                        this._barCollection.Add(ot);\n                    }\n                }\n            }\n\n            if (BarCollection.Count &gt; 0)\n            {\n                Selected_Bar = 0;\n            }\n        }\n\n\n        private DateTime lastCalled = DateTime.Now;\n        private int timesCalled = 0;\n\n        private void GetDataPoint()\n        {\n            int ID;\n            int Foo = -1;\n            int Bar = -1;\n\n            if (DateTime.Now.Ticks - lastCalled.Ticks &gt;= 10000000)\n            {\n                lastCalled = DateTime.Now;\n                timesCalled = 1;\n                Console.WriteLine(Environment.NewLine + Environment.NewLine);\n            }\n            else { timesCalled++; }\n\n            if (IDCollection.Count &gt; 0 &amp;&amp; Selected_ID &gt;= 0)\n            {\n                ID = IDCollection[Selected_ID];\n\n                if (this.FooCollection.Count &gt; 0 &amp;&amp; Selected_Foo &gt;= 0)\n                {\n                    Foo = this.FooCollection[Selected_Foo];\n                }\n\n                if (this.BarCollection.Count &gt; 0 &amp;&amp; Selected_Bar &gt;= 0)\n                {\n                    Bar = this.BarCollection[Selected_Bar];\n                }\n\n                Result = DataFromModel.GetSomeInterestingData(ID, Foo, Bar) + Environment.NewLine\n                    + \"Times GetDataPoint() Called in the last second: \" + timesCalled.ToString();\n\n                Console.WriteLine(\"Call: {0}, ID: {1}, Foo: {2}, Bar: {3}\", timesCalled, ID, Foo, Bar);\n            }\n        }\n\n        public event PropertyChangedEventHandler PropertyChanged;\n        protected void OnPropertyChanged(string name)\n        {\n            PropertyChangedEventHandler handler = PropertyChanged;\n            if (handler != null)\n            {\n                handler(this, new PropertyChangedEventArgs(name));\n            }\n        }\n    }\n\n\n    /// &lt;summary&gt;\n    /// Each Object must have an ID.\n    /// Each Object will have at least 1 Foo, up to max 10.\n    /// Each Foo must have a Foo Number (1 to 100)\n    /// Each Foo might or might not contain any bars (1 to 100)\n    /// &lt;/summary&gt;\n    public class ExampleObject\n    {\n        public int ID { get; set; }\n        public List&lt;Foo&gt; Foos { get; private set; }\n\n        public ExampleObject(Random rnd, int id)\n        { \n            // Generate example data\n            int howManyFoos = rnd.Next(1, 10);\n            Foos = new List&lt;Foo&gt;();\n\n            for (int f = 0; f &lt; howManyFoos; f++)\n            {\n                int newFooNumber = rnd.Next(1, 100);\n                Foo foo = new Foo(newFooNumber);\n\n                int howManyBars = rnd.Next(0, 12);\n\n                for (int b = 0; b &lt; howManyBars; b++)\n                {\n                    int newBar = rnd.Next(1, 100);\n                    foo.Bars.Add(newBar);\n                }\n                Foos.Add(foo);\n            }\n\n            ID = id;\n        }\n    }\n\n    public class Foo\n    {\n        public int FooNumber { get; private set; }\n        public List&lt;int&gt; Bars { get; set; }\n\n        public Foo(int fooNumber)\n        {\n            FooNumber = fooNumber;\n            Bars = new List&lt;int&gt;();\n        }\n    }\n\n    // Mock-up of a data source API\n    public static class DataFromModel\n    {\n        private static Dictionary&lt;int, ExampleObject&gt; HiddenStuff;\n\n        static DataFromModel()\n        {\n            HiddenStuff = new Dictionary&lt;int, ExampleObject&gt;();\n        }\n\n        public static void RefreshData()\n        {\n            HiddenStuff.Clear();\n            Random rnd = new Random();\n            // Create up to 10 example objects\n            for (int i = 0; i &lt; 10; i++)\n            {\n                int newID = rnd.Next(1, 5000);\n                if (!HiddenStuff.ContainsKey(newID))\n                {\n                    HiddenStuff.Add(newID, new ExampleObject(rnd, newID));\n                }\n            }            \n        }\n\n        public static List&lt;int&gt; GetExampleIDs()\n        {\n            List&lt;int&gt; l = new List&lt;int&gt;();\n            foreach (KeyValuePair&lt;int, ExampleObject&gt; kvp in HiddenStuff)\n            {\n                l.Add(kvp.Key);\n            }\n            return l;\n        }\n\n        public static List&lt;int&gt; GetFoos(int id)\n        {\n            List&lt;int&gt; foos = new List&lt;int&gt;();\n\n            if (HiddenStuff.ContainsKey(id))\n            {\n                foreach (Foo f in HiddenStuff[id].Foos)\n                {\n                    foos.Add(f.FooNumber);\n                }\n            }\n            return foos;\n        }\n\n        public static List&lt;int&gt; GetBars(int id, int fooNumber)\n        {\n            List&lt;int&gt; bars = new List&lt;int&gt;();\n\n            if (HiddenStuff.ContainsKey(id))\n            {\n                foreach (Foo f in HiddenStuff[id].Foos)\n                {\n                    if (f.FooNumber == fooNumber)\n                    {\n                        foreach (int bar in f.Bars)\n                        {\n                            bars.Add(bar);\n                        }\n                    }\n                }\n            }\n            return bars;\n        }\n\n        public static string GetSomeInterestingData(int id, int foo, int bar = -1)\n        {\n            if (bar == -1)\n            {\n                return \"Something Returned: \" + id.ToString() + \", \" + foo.ToString();\n            }\n            else\n            {\n                return \"Something Returned: \" + id.ToString() + \", \" + foo.ToString() + \", \" + bar.ToString();\n            } \n        }\n    }\n}\n</code></pre>\n\n<p><strong>DelegateCommand.cs</strong></p>\n\n<pre><code>using System;\n\nnamespace CascadingDropDownLists\n{\n    public class DelegateCommand&lt;T&gt; : System.Windows.Input.ICommand\n    {\n        private readonly Predicate&lt;T&gt; _canExecute;\n        private readonly Action&lt;T&gt; _execute;\n\n        public DelegateCommand(Action&lt;T&gt; execute)\n            : this(execute, null)\n        {\n        }\n\n        public DelegateCommand(Action&lt;T&gt; execute, Predicate&lt;T&gt; canExecute)\n        {\n            _execute = execute;\n            _canExecute = canExecute;\n        }\n\n        public bool CanExecute(object parameter)\n        {\n            if (_canExecute == null)\n                return true;\n\n            return _canExecute((parameter == null) ? default(T) : (T)Convert.ChangeType(parameter, typeof(T)));\n        }\n\n        public void Execute(object parameter)\n        {\n            _execute((parameter == null) ? default(T) : (T)Convert.ChangeType(parameter, typeof(T)));\n        }\n\n        public event EventHandler CanExecuteChanged;\n        public void RaiseCanExecuteChanged()\n        {\n            if (CanExecuteChanged != null)\n                CanExecuteChanged(this, EventArgs.Empty);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1525295449, "post_id": 50143351, "comment_id": 87305405, "body": "Are you implementing A-Star?"}, {"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1525295744, "post_id": 50143351, "comment_id": 87305531, "body": "yes, I want to create a A-Star algorithm"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1525298244, "post_id": 50143351, "comment_id": 87306497, "body": "If you&#39;re interested in some thoughts on how you might implement this in C#, I wrote a series of articles about that in 2010. <a href=\"https://blogs.msdn.microsoft.com/ericlippert/tag/astar/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/ericlippert/tag/astar</a> -- <b>what you really need is a priority queue.</b>  Your approach works but you can get performance wins by using a properly implemented queue."}], "answers": [{"tags": [], "owner": {"reputation": 42405, "user_id": 1250301, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e757934cd08da0be2cc08517e86e2cab?s=128&d=identicon&r=PG", "display_name": "Matt Burland", "link": "https://stackoverflow.com/users/1250301/matt-burland"}, "is_accepted": true, "score": 3, "last_activity_date": 1525294506, "creation_date": 1525294506, "answer_id": 50143428, "question_id": 50143351, "link": "https://stackoverflow.com/questions/50143351/create-new-object-within-c-linq-syntax-on-select/50143428#50143428", "title": "create new object within C# Linq syntax on Select", "body": "<p>After this line:</p>\n\n<p><code>.Select(x =&gt; new { Vector2 = x, Value = GetCostToTarget(x, targetPosition) + GetCell(x).Cost.GetValueOrDefault() })</code></p>\n\n<p>You have a collection of anonymous objects with <code>Vector2</code> and <code>Value</code> properties. This is <em>not</em> a <code>Vector2</code>. </p>\n\n<p>At the end when you use <code>First</code> you are still selecting the <em>first</em> of those anonymous objects. It's not a <code>Vector2</code>, so you can't assign it to a variable of type <code>Vector2</code>.</p>\n\n<p>But if you just change it to:</p>\n\n<p><code>.First().Vector2</code></p>\n\n<p>That will get the <code>Vector2</code> property of the first anonymous object you selected. This <em>is</em> a <code>Vector2</code>, so it should be assignable to <code>cheapestCellPosition</code></p>\n\n<p>Although it's not the easiest thing to read, but your error is telling you this:</p>\n\n<blockquote>\n  <p>CS0029 C# Cannot implicitly convert anonymous type: Sym.Vector2 Vector2, int Value to Sym.Vector2</p>\n</blockquote>\n\n<p>It's telling you it can't convert the anonymous type with a <code>Vector2</code> property of type <code>Sym.Vector2</code> and a <code>Value</code> property of type <code>int</code> to type <code>Sym.Vector2</code></p>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1525295123, "last_edit_date": 1525295123, "creation_date": 1525294797, "answer_id": 50143486, "question_id": 50143351, "link": "https://stackoverflow.com/questions/50143351/create-new-object-within-c-linq-syntax-on-select/50143486#50143486", "title": "create new object within C# Linq syntax on Select", "body": "<p>The problem is that you're selecting the anonymous type which has both a <code>Vector2</code> property and a <code>Value</code> property, but then you're trying to assign the first one to a <code>Vector2</code> type. </p>\n\n<p>If <code>openCells</code> is indeed an <code>IEnumerable&lt;Vector2&gt;</code>, then you can just remove the <code>Select</code> and put your ordering code directly in the <code>OrderBy</code> clause, and then return the <code>First</code> one:</p>\n\n<pre><code>Vector2 cheapestCellPosition = openCells\n    .OrderBy(cell =&gt; GetCostToTarget(cell, targetPosition) + \n                     GetCell(cell).Cost.GetValueOrDefault())\n    .First();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": false, "score": 5, "last_activity_date": 1525298329, "last_edit_date": 1525298329, "creation_date": 1525295327, "answer_id": 50143586, "question_id": 50143351, "link": "https://stackoverflow.com/questions/50143351/create-new-object-within-c-linq-syntax-on-select/50143586#50143586", "title": "create new object within C# Linq syntax on Select", "body": "<p>UPDATE: You are using this to implement the A-star algorithm.  Though the approach you are using works, you will probably be better off if you implement a priority queue; you can get significant performance wins by doing so.</p>\n\n<hr>\n\n<p>It's unclear why you are going to the trouble of creating a sequence of anonymous types in the first place; why not simply write:</p>\n\n<pre><code>Vector2 cheapestCellPosition = openCells\n  .OrderBy(x =&gt; GetCostToTarget(x, targetPosition) + GetCell(x).Cost.GetValueOrDefault())\n  .First();\n</code></pre>\n\n<p>?</p>\n\n<p>Note that though this is more efficient than what you wrote, is <em>not as  efficient as it could be</em>.  </p>\n\n<p>What you really want is the smallest item in a set. Unfortunately, that is not an operation that is provided in the standard sequence library.</p>\n\n<p>Let's fix that.</p>\n\n<p>What we want to write is:</p>\n\n<pre><code>Vector2 cheapestCellPosition = openCells\n  .MinBy(x =&gt; GetCostToTarget(x, targetPosition) + GetCell(x).Cost.GetValueOrDefault());\n</code></pre>\n\n<p>Let's suppose the cost is a double, to make it easier.</p>\n\n<pre><code>static class Extensions \n{\n  public static T MinBy(this IEnumerable&lt;T&gt; items, Func&lt;T, double&gt; cost) \n  {\n    T minItem = default(T);\n    double? minCost = null;\n    foreach(T item in items) \n    {\n      double current = cost(item);\n      if (minCost == null || current &lt; minCost)\n      {\n        minCost = current;\n        minItem = item;\n      }\n    }\n    if (minCost == null) throw InvalidOperationException();\n    return minItem;\n  }\n}\n</code></pre>\n\n<p>And we're done. We don't have to sort a list to find the smallest item!</p>\n\n<p><strong>Exercise</strong>: Suppose the cost function does not return a double. Can you genericize <code>MinBy</code> further, so that it can take any cost function?</p>\n"}], "owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 50143428, "answer_count": 3, "score": 0, "last_activity_date": 1525298329, "creation_date": 1525294192, "last_edit_date": 1525294579, "question_id": 50143351, "link": "https://stackoverflow.com/questions/50143351/create-new-object-within-c-linq-syntax-on-select", "title": "create new object within C# Linq syntax on Select", "body": "<p>I have a list of <code>Vector2</code> objects. I want to select a value from each element and sort these values. After that, I want to get the lowest value.</p>\n\n<pre><code>Vector2 cheapestCellPosition = openCells.Select(x =&gt; new {\n        Vector2 = x,\n        Value = GetCostToTarget(x, targetPosition) + GetCell(x).Cost.GetValueOrDefault()\n    })\n    .OrderBy(x =&gt; x.Value)\n    .First();\n</code></pre>\n\n<p>This code throws an error</p>\n\n<blockquote>\n  <p>CS0029  C# Cannot implicitly convert anonymous type: Sym.Vector2\n  Vector2, int Value to Sym.Vector2</p>\n</blockquote>\n\n<p>How can I fix this? I need to setup the Value property based on the current element.</p>\n"}, {"tags": ["c#", "json", "asp.net-core"], "comments": [{"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525294352, "post_id": 50143287, "comment_id": 87304939, "body": "You didn&#39;t post how you are serializing, but I&#39;d assume it&#39;s something like <code>JsonConvert.SerializeObject(People)</code>?"}, {"owner": {"reputation": 18255, "user_id": 384808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/533bb0d50b50ca57511dbe7051c0b0bd?s=128&d=identicon&r=PG", "display_name": "Brian Driscoll", "link": "https://stackoverflow.com/users/384808/brian-driscoll"}, "reply_to_user": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "edited": false, "score": 0, "creation_date": 1525294633, "post_id": 50143287, "comment_id": 87305059, "body": "Yes, I\u2019m using JsonConvert.SerializeObject on the IFormCollection."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1525294748, "post_id": 50143287, "comment_id": 87305114, "body": "It looks like you want to populate a <code>JToken</code> hierarchy with a set of paths and values.  There&#39;s nothing built in to Json.NET for that so you will need to parse the path yourself.  <a href=\"https://stackoverflow.com/q/17455052\">how to set the value of a json path using json.net</a> has a partial answer that doesn&#39;t handle arrays.  <a href=\"https://stackoverflow.com/q/33828942\">Set JSON attribute by path</a> and <a href=\"https://stackoverflow.com/q/31929433\">JSON.net - Write into JSON / JObject using path string</a> only work if the intermediate containers already exist."}, {"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1525316153, "post_id": 50143287, "comment_id": 87310607, "body": "Is the parameter type <code>IFormCollection</code> in your action method where the form is originally posted to?  If so, have you tried change this type to <code>IEnumerable&lt;Person&gt;</code>?"}, {"owner": {"reputation": 18255, "user_id": 384808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/533bb0d50b50ca57511dbe7051c0b0bd?s=128&d=identicon&r=PG", "display_name": "Brian Driscoll", "link": "https://stackoverflow.com/users/384808/brian-driscoll"}, "edited": false, "score": 0, "creation_date": 1525349462, "post_id": 50143287, "comment_id": 87327025, "body": "Yes, it\u2019s an IFormCollection. I cannot change the type because the controller action is a catch-all that passes the request payload on to a microservice, so it handles many different data shapes."}, {"owner": {"reputation": 4047, "user_id": 5782634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cab870f0dff7ba711aec822b4c57c64?s=128&d=identicon&r=PG&f=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/5782634/brad"}, "edited": false, "score": 0, "creation_date": 1525350303, "post_id": 50143287, "comment_id": 87327553, "body": "Is it possible to change it to extract just the People data from the <code>IFormCollection</code> for sending to the microservice as the correct type?"}, {"owner": {"reputation": 18255, "user_id": 384808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/533bb0d50b50ca57511dbe7051c0b0bd?s=128&d=identicon&r=PG", "display_name": "Brian Driscoll", "link": "https://stackoverflow.com/users/384808/brian-driscoll"}, "edited": false, "score": 0, "creation_date": 1525350491, "post_id": 50143287, "comment_id": 87327682, "body": "Here\u2019s the thing: the MVC controller action doesn\u2019t know what kind of data it\u2019s getting. It is effectively acting as a router for underlying UI microservices in a composite application. The only solution that I can think of that works is posting form data rather than JSON to the underlying microservices, but that won\u2019t work in all cases."}], "owner": {"reputation": 18255, "user_id": 384808, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/533bb0d50b50ca57511dbe7051c0b0bd?s=128&d=identicon&r=PG", "display_name": "Brian Driscoll", "link": "https://stackoverflow.com/users/384808/brian-driscoll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1004, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525296676, "creation_date": 1525293896, "question_id": 50143287, "link": "https://stackoverflow.com/questions/50143287/how-to-convert-indexed-collection-from-formcollection-to-json-array-in-c", "title": "How to convert indexed collection from FormCollection to JSON array in C#", "body": "<p>I am currently working on an ASP.NET Core MVC project and I am facing a problem with binding collections from IFormCollection to a JSON array.</p>\n\n<p>Currently I have a web application that passes data from an IFormCollection through to other Web API microservices.</p>\n\n<p>So, my form collection might look something like this pseudocode:</p>\n\n<pre><code>People[0].Name=\"Jon Skeet\"&amp;People[1].Name=\"SLaks\"\n</code></pre>\n\n<p>When it is posted to my MVC controller as an IFormCollection, it pretty much looks the same, where the keys are \"People[0].Name\", \"People[1].Name\" and the values are \"Jon Skeet\" and \"SLaks\".</p>\n\n<p>This is problematic because when I eventually serialize to JSON, instead of getting this:</p>\n\n<pre><code>{ People: [ { Name: \"Jon Skeet\" }, { Name: \"SLaks\"} ] }\n</code></pre>\n\n<p>I get this instead:</p>\n\n<pre><code>{ \"People[0].Name\": \"Jon Skeet\", \"People[1].Name\": \"SLaks\" }\n</code></pre>\n\n<p>Which does not bind to <code>[FromBody]IEnumerable&lt;Person&gt; People</code> when I post from my MVC controller to my microservice's controller for obvious reasons.</p>\n\n<p>So, my question is, how can I get my IFormCollection to serialize to JSON in such a way that indexed collections serialize properly to a JSON array? Is there some kind of custom converter or something else I need to implement in order to make it work?</p>\n\n<p>Please note that my MVC controller must take an IFormCollection because it acts as a catch-all controller that routes to the proper microservice based on the Request URL.</p>\n"}, {"tags": ["c#", "git", "iis", "bonobo"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525294154, "post_id": 50143274, "comment_id": 87304839, "body": "Did you read through <a href=\"https://stackoverflow.com/questions/32260\">Sending email in .NET through Gmail</a>? There&#39;s some steps you have to take to modify your Gmail settings. Look particularly at the answer from BCS Software."}, {"owner": {"reputation": 452, "user_id": 5405532, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f768018f18925cdacd67faf6e92ff3a9?s=128&d=identicon&r=PG&f=1", "display_name": "joab", "link": "https://stackoverflow.com/users/5405532/joab"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525294441, "post_id": 50143274, "comment_id": 87304971, "body": "The thing is I already use this same configuration in other projects and it  works."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525294511, "post_id": 50143274, "comment_id": 87305014, "body": "I&#39;m unfamiliar with Bonobo. Are you sure it reads the mailSettings from the config file? Perhaps it&#39;s not."}, {"owner": {"reputation": 452, "user_id": 5405532, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f768018f18925cdacd67faf6e92ff3a9?s=128&d=identicon&r=PG&f=1", "display_name": "joab", "link": "https://stackoverflow.com/users/5405532/joab"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525294646, "post_id": 50143274, "comment_id": 87305063, "body": "I saw a thread here on stackoverflow,  <a href=\"https://stackoverflow.com/questions/29737754/bonobo-git-server-smtp-settings/feed/\" title=\"bonobo git server smtp settings\">stackoverflow.com/questions/29737754/&hellip;</a>  The guy said it does"}], "owner": {"reputation": 452, "user_id": 5405532, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f768018f18925cdacd67faf6e92ff3a9?s=128&d=identicon&r=PG&f=1", "display_name": "joab", "link": "https://stackoverflow.com/users/5405532/joab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 306, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525293806, "creation_date": 1525293806, "question_id": 50143274, "link": "https://stackoverflow.com/questions/50143274/bonobo-unable-to-send-email-validate-smtp-settings", "title": "Bonobo Unable to send email. Validate SMTP settings", "body": "<p>I have installed bonobo version 6.3.0 and I'm having hard time to recover passwords, it is giving me this error \"Unable to send email. Validate SMTP settings\".</p>\n\n<p>I already set up my mailSettings in webconfig</p>\n\n<pre><code>  &lt;system.net&gt;\n    &lt;mailSettings&gt;\n      &lt;smtp deliveryMethod=\"Network\"&gt;\n        &lt;network host=\"smtp.gmail.com\" port=\"587\" userName=\"user name\" password=\"password\" enableSsl=\"true\" /&gt;\n      &lt;/smtp&gt;\n    &lt;/mailSettings&gt;\n &lt;/system.net&gt;\n</code></pre>\n\n<p>This still doesn't work, I thought the problem was with my remote machine where my bonobo server is, then I created one here on my local machine and I'm getting the same error.</p>\n\n<p>Does somebody have any idea?</p>\n"}, {"tags": ["c#", "wpf", "leanft", "uft14"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "edited": false, "score": 0, "creation_date": 1525354117, "post_id": 50149847, "comment_id": 87330239, "body": "I followed the example and created a whitelist file   C:\\Users\\Burak\\AppData\\Local\\Hewlett-Packard\\LeanFT\\config\\a&zwnj;&#8203;utconfig.json   with this configuration    {     &quot;allowedAuts&quot;: [     {             &quot;fileName&quot;: &quot;FlightsGUI.exe&quot;, \t\t\t&quot;args&quot;: [], \t\t\t&quot;workingDirectory&quot;: &quot;C:\\Program Files (x86)\\HPE\\Unified Functional Testing\\samples\\Flights Application&quot;     }   ] } and added this code"}, {"owner": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "edited": false, "score": 0, "creation_date": 1525355536, "post_id": 50149847, "comment_id": 87331267, "body": "IAut flightsgui = Desktop.LaunchAut(&quot;FlightsGUI.exe&quot;); but when I ran it, I got this error HP.LFT.SDK.GeneralLeanFtException : AUT launch is not allowed. Verify that the AUT is configured in autConfig.json."}, {"owner": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "edited": false, "score": 0, "creation_date": 1525355543, "post_id": 50149847, "comment_id": 87331272, "body": "fileName=FlightsGUI.exe, args=[undefined], workingDirectory=undefined"}, {"owner": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "reply_to_user": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "edited": false, "score": 0, "creation_date": 1525355604, "post_id": 50149847, "comment_id": 87331321, "body": "file name is case sensitive. you wrote <code>autconfig.json</code> not <code>autConfig.json</code> as you used"}, {"owner": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "edited": false, "score": 0, "creation_date": 1525356525, "post_id": 50149847, "comment_id": 87331935, "body": "Sorry, that was a typo. The a actual file on the computer is autConfig.json"}, {"owner": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "reply_to_user": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "edited": false, "score": 0, "creation_date": 1525356736, "post_id": 50149847, "comment_id": 87332079, "body": "autConfig.json is not configured correctly. It\u2019s used with only one param and configured with 3. You\u2019d be better of not configuring args and working directory in autConfig.json, and providing full path both in json and in code"}, {"owner": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "reply_to_user": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "edited": false, "score": 0, "creation_date": 1525357311, "post_id": 50149847, "comment_id": 87332494, "body": "That error says you didn\u2019t configure the autConfig.json as you are using it. It\u2019s hard to follow why through these comments. Try editing the question or better yet post a new one for this very issue"}], "tags": [], "owner": {"reputation": 6751, "user_id": 3233388, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/33ad2d4deac3458258ad6d62a6b6f350?s=128&d=identicon&r=PG&f=1", "display_name": "Adelin", "link": "https://stackoverflow.com/users/3233388/adelin"}, "is_accepted": false, "score": 0, "last_activity_date": 1525334449, "creation_date": 1525334449, "answer_id": 50149847, "question_id": 50143073, "link": "https://stackoverflow.com/questions/50143073/leanft-wpf-testing-what-is-flightguisamplewpfapp-in-the-flight-gui-sample-w/50149847#50149847", "title": "LeanFT WPF testing: What is &quot;FlightGuiSampleWpfApp()&quot; in the Flight GUI Sample WPF App testing code sample?", "body": "<p>It's a bug in their documentation. Indeed there is no such class defined.</p>\n\n<p>You can create one yourself using (for example) <a href=\"https://admhelp.microfocus.com/leanft/en/14.03/HelpCenter/Content/CodeSamples_.NET/LaunchAUT_Samples.htm\" rel=\"nofollow noreferrer\"><code>Desktop.LaunchAut</code> API</a></p>\n\n<p>So instead of that <code>using</code> statement, just do something like</p>\n\n<pre><code>[Test]\npublic void TestAutFullPath()\n{\n    IAut flightsgui= Desktop.LaunchAut(\"flightsgui\");\n    _flightGUIAapplicationWindow = Desktop.Describe&lt;IWindow&gt;(new WindowDescription\n    {\n        ObjectName = @\"HP MyFlight Sample Application\",\n        FullType = @\"window\",\n        WindowTitleRegExp = @\"HP MyFlight Sample Application\"\n    });\n\n    PerformLogin();\n    SearchForFlight();\n    OpenFlightsTable();\n    SelectFlight();\n    FinishOrder();\n    VerifyOrderCompleted();\n\n    flightsgui.Close();\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9516982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02480ba40626115a097bf28bb8b99e10?s=128&d=identicon&r=PG", "display_name": "Burak", "link": "https://stackoverflow.com/users/9516982/burak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525334449, "creation_date": 1525292953, "question_id": 50143073, "link": "https://stackoverflow.com/questions/50143073/leanft-wpf-testing-what-is-flightguisamplewpfapp-in-the-flight-gui-sample-w", "title": "LeanFT WPF testing: What is &quot;FlightGuiSampleWpfApp()&quot; in the Flight GUI Sample WPF App testing code sample?", "body": "<p>I am trying to use LeanFT to test the Flight GUI WPF app that comes with UFT.  MicroFocus has provided the code to do this at the location below</p>\n\n<p><a href=\"https://admhelp.microfocus.com/leanft/en/14.03/HelpCenter/Content/CodeSamples_.NET/CodeEx.NETWPF.htm\" rel=\"nofollow noreferrer\">https://admhelp.microfocus.com/leanft/en/14.03/HelpCenter/Content/CodeSamples_.NET/CodeEx.NETWPF.htm</a></p>\n\n<p>Howevere, there is a mention of  FlightGuiSampleWpfApp()) in the code as shown below</p>\n\n<pre><code>using (new FlightGuiSampleWpfApp()) {\n</code></pre>\n\n<p>I can not find where  FlightGuiSampleWpfApp() (class?) is  defined. I think it holds the code to launch the Flight GUI app (HPE MyFlight Sample Application).</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "unity3d", "sprite", "gameobject"], "comments": [{"owner": {"reputation": 1491, "user_id": 2367830, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/APRDW.gif?s=128&g=1", "display_name": "Chico3001", "link": "https://stackoverflow.com/users/2367830/chico3001"}, "edited": false, "score": 1, "creation_date": 1525293104, "post_id": 50143066, "comment_id": 87304363, "body": "Can you improve your question to share what have you done so far? <a href=\"https://stackoverflow.com/help/quality-standards-error\">stackoverflow.com/help/quality-standards-error</a>"}, {"owner": {"reputation": 6943, "user_id": 449688, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8Hbt.jpg?s=128&g=1", "display_name": "mariocatch", "link": "https://stackoverflow.com/users/449688/mariocatch"}, "edited": false, "score": 2, "creation_date": 1525293106, "post_id": 50143066, "comment_id": 87304365, "body": "You should not be randomizing the sprites as the primary decider on what a card is. You should be randomizing card suits/numbers, and then assign a sprite to that card based on its suit/number. Once you have the metadata for what a card is, grabbing its sprite should be an easy lookup."}, {"owner": {"reputation": 6943, "user_id": 449688, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8Hbt.jpg?s=128&g=1", "display_name": "mariocatch", "link": "https://stackoverflow.com/users/449688/mariocatch"}, "edited": false, "score": 0, "creation_date": 1525293804, "post_id": 50143066, "comment_id": 87304679, "body": "I added that as an answer so we can close this out if it works for you."}, {"owner": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "edited": false, "score": 0, "creation_date": 1525293925, "post_id": 50143066, "comment_id": 87304724, "body": "yes it sounds good i will try it out"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "edited": false, "score": 0, "creation_date": 1525298790, "post_id": 50143271, "comment_id": 87306675, "body": "depending on which card is chosen ,what is the best technique to use to assign its sprite .Since there is 52 cards using switch or If-ElseIf would be very long."}, {"owner": {"reputation": 6943, "user_id": 449688, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8Hbt.jpg?s=128&g=1", "display_name": "mariocatch", "link": "https://stackoverflow.com/users/449688/mariocatch"}, "reply_to_user": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "edited": false, "score": 0, "creation_date": 1525298948, "post_id": 50143271, "comment_id": 87306734, "body": "If you have some sort of naming convention to your sprites, you could possibly construct a string based on the card suit/number to match a sprite name. Otherwise, you&#39;ll need a helper method somewhere where you can pass it a card, and it&#39;ll give you back a sprite to use. And that method would basically be the long list of if conditions you mentioned."}, {"owner": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "edited": false, "score": 0, "creation_date": 1525299744, "post_id": 50143271, "comment_id": 87306998, "body": "Thanks for the support and the very fast replies."}], "tags": [], "owner": {"reputation": 6943, "user_id": 449688, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8Hbt.jpg?s=128&g=1", "display_name": "mariocatch", "link": "https://stackoverflow.com/users/449688/mariocatch"}, "is_accepted": false, "score": 1, "last_activity_date": 1525293787, "creation_date": 1525293787, "answer_id": 50143271, "question_id": 50143066, "link": "https://stackoverflow.com/questions/50143066/card-game-in-unity-how-to-set-value-and-suit-on-card-game-object/50143271#50143271", "title": "Card Game In unity how to set value and suit on card game object?", "body": "<p>You should not be randomizing the sprites as the primary decider on what a card is. You should be randomizing card suits/numbers, and then assign a sprite to that card based on its suit/number. Once you have the metadata for what a card is, grabbing its sprite should be an easy lookup.</p>\n"}], "owner": {"reputation": 47, "user_id": 9732280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3541331a22ef52fe856d69261e2ffe0a?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks19", "link": "https://stackoverflow.com/users/9732280/aleks19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525293787, "creation_date": 1525292931, "question_id": 50143066, "link": "https://stackoverflow.com/questions/50143066/card-game-in-unity-how-to-set-value-and-suit-on-card-game-object", "title": "Card Game In unity how to set value and suit on card game object?", "body": "<p>How would i give a value and a suit to the card game object depending on the sprite it has.The sprite is randomised from an array so the the game object will be a different card each time.Thanks</p>\n"}, {"tags": ["c#", "sql-server", "linq", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1525293226, "post_id": 50143058, "comment_id": 87304426, "body": "That&#39;s because you&#39;re selected an anonymous type.  Instead what you really should do is create a model that you populate and not let your entities leak out of your DAL."}, {"owner": {"reputation": 619, "user_id": 3866750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb19bc47936439dd37ebec3aeaeaacf2?s=128&d=identicon&r=PG&f=1", "display_name": "shahaf", "link": "https://stackoverflow.com/users/3866750/shahaf"}, "reply_to_user": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 0, "creation_date": 1525295682, "post_id": 50143058, "comment_id": 87305505, "body": "hi @juharr thanks for your reply. i\u2019m afraid i didn\u2019t fully understand it, can you please explain your answer?"}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 0, "creation_date": 1525295759, "post_id": 50143058, "comment_id": 87305536, "body": "@shahaf when you use this <code>Select(t =&gt; new {</code> the query will return a anonymous type as you haven&#39;t specified a type after <code>new</code> keyword."}], "answers": [{"comments": [{"owner": {"reputation": 619, "user_id": 3866750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb19bc47936439dd37ebec3aeaeaacf2?s=128&d=identicon&r=PG&f=1", "display_name": "shahaf", "link": "https://stackoverflow.com/users/3866750/shahaf"}, "edited": false, "score": 0, "creation_date": 1525295985, "post_id": 50143622, "comment_id": 87305607, "body": "(1) why are you using ToList() after the first Select()? although the Messages are a list, the object itself that contains the messages is a single object. shouldn\u2019t it be SingleOrDefault()?"}, {"owner": {"reputation": 619, "user_id": 3866750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb19bc47936439dd37ebec3aeaeaacf2?s=128&d=identicon&r=PG&f=1", "display_name": "shahaf", "link": "https://stackoverflow.com/users/3866750/shahaf"}, "edited": false, "score": 0, "creation_date": 1525296050, "post_id": 50143622, "comment_id": 87305641, "body": "(2) if i also want each message to contain its user how would i do that in your suggestion?"}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 619, "user_id": 3866750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb19bc47936439dd37ebec3aeaeaacf2?s=128&d=identicon&r=PG&f=1", "display_name": "shahaf", "link": "https://stackoverflow.com/users/3866750/shahaf"}, "edited": false, "score": 0, "creation_date": 1525296298, "post_id": 50143622, "comment_id": 87305749, "body": "(1) Did you try to execute the code? If you remove the ToList, you won&#39;t be able to project to the <code>Topic</code> type."}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 619, "user_id": 3866750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb19bc47936439dd37ebec3aeaeaacf2?s=128&d=identicon&r=PG&f=1", "display_name": "shahaf", "link": "https://stackoverflow.com/users/3866750/shahaf"}, "edited": false, "score": 0, "creation_date": 1525296350, "post_id": 50143622, "comment_id": 87305774, "body": "(2) try using the <code>Include</code> after the Where clause, it should fetch the messages with User."}, {"owner": {"reputation": 619, "user_id": 3866750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb19bc47936439dd37ebec3aeaeaacf2?s=128&d=identicon&r=PG&f=1", "display_name": "shahaf", "link": "https://stackoverflow.com/users/3866750/shahaf"}, "edited": false, "score": 0, "creation_date": 1525296818, "post_id": 50143622, "comment_id": 87305969, "body": "im not near the code to try it now, will do it later and inform you if it works;   regarding the Include() you suggested to get the user data - i read somewhere that Select disables all Includes, and that in ef core v2 for some reason it is possible to use Include inside Select so it could eigther be a bug or misinformation in the documentations. could this be done with another Select inside the messages Select?"}, {"owner": {"reputation": 29989, "user_id": 302918, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bcc0c35cdf5199daf005566c2a921a0d?s=128&d=identicon&r=PG", "display_name": "juharr", "link": "https://stackoverflow.com/users/302918/juharr"}, "edited": false, "score": 2, "creation_date": 1525314066, "post_id": 50143622, "comment_id": 87310148, "body": "It&#39;s better to use <code>AsEnumerable</code> instead of <code>ToList</code> when you want to switch between DB and in memory to avoid creating an unnecessary intermediate list."}], "tags": [], "owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "is_accepted": true, "score": 1, "last_activity_date": 1525795776, "last_edit_date": 1525795776, "creation_date": 1525295490, "answer_id": 50143622, "question_id": 50143058, "link": "https://stackoverflow.com/questions/50143058/get-relations-with-conditions-in-entity-framework-core/50143622#50143622", "title": "Get relations with conditions in Entity Framework Core", "body": "<p>You are returning an anonymous type. You will have to project the final output to your <code>Topic</code> object. This might look a bit ugly, but it should hit the database just once and get just the required records. Do run a profiler to see the resulting query.</p>\n\n<pre><code>   return context.Topics\n   .Where(t =&gt; t.TopicID == topicId)\n   .Select(t =&gt; new {\n                   TopicId = t.TopicID,\n                   Messages = t.Messages\n                               .Where(m =&gt; m.MessageID &lt; messageId)\n                               .Take(2)\n           }).AsNoTracking()\n             .AsEnumerable().Select(x =&gt; new Topic\n                                  {\n                                   TopicId = x.TopicId ,\n                                   Bookings = x.Messages.ToList()\n                                   }).SingleOrDefault();\n</code></pre>\n"}], "owner": {"reputation": 619, "user_id": 3866750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cb19bc47936439dd37ebec3aeaeaacf2?s=128&d=identicon&r=PG&f=1", "display_name": "shahaf", "link": "https://stackoverflow.com/users/3866750/shahaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 50143622, "answer_count": 1, "score": 1, "last_activity_date": 1525795776, "creation_date": 1525292898, "last_edit_date": 1525293693, "question_id": 50143058, "link": "https://stackoverflow.com/questions/50143058/get-relations-with-conditions-in-entity-framework-core", "title": "Get relations with conditions in Entity Framework Core", "body": "<p>I am working on an app with .net core 2 and Entity Framework Core 2.</p>\n\n<p>I have the following models:</p>\n\n<pre><code>Topic {\n   int TopicID,\n   List&lt;Message&gt; Messages,\n   \u2026\n}\n\nMessage {\n   int MessageID,\n   int TopicID,\n   Topic Topic,\n   int UserID,\n   User User,\n   \u2026\n}\n\nUser {\n   int UserID,\n   \u2026\n}\n</code></pre>\n\n<p>I want to fetch all data for a topic and its relations, so that if I have a topic with 3 messages, each written by a different user, I would get the following object:</p>\n\n<pre><code>var topic = new Topic() {\n   TopicID: 1,\n   Messages: new Message[] {\n      new Message() { MessageID: 1, TopicID: 1, UserID: 1, User: new User() { UserID: 1 } },\n      new Message() { MessageID: 2, TopicID: 1, UserID: 2, User: new User() { UserID: 2 } },\n      new Message() { MessageID: 3, TopicID: 1, UserID: 1, User: new User() { UserID: 3 } }\n   }\n}\n</code></pre>\n\n<p>This was simple and I did it with the following implementation:</p>\n\n<pre><code>return context.Topics\n   .Include(t =&gt; t.Messages)\n   .ThenInclude(m =&gt; m.User)\n   .AsNoTracking()\n   .SingleOrDefault(t =&gt; t.TopicID == topicId);\n</code></pre>\n\n<p>but now I want to add some conditions to the messages:</p>\n\n<ol>\n<li>take only 2 messages at a time</li>\n<li>pass a parameter indicating I want to take only messages where <code>messageID</code> is less than a given parameter</li>\n</ol>\n\n<p>I checked and found out that <code>Include()</code> does not have the ability to use <code>Take()</code> and <code>Where()</code>, so I tried to implement this with <code>Select()</code>:</p>\n\n<pre><code>return context.Topics\n   .Where(t =&gt; t.TopicID == topicId)\n   .Select(t =&gt; new {\n      TopicId = t.TopicID,\n      Messages = t.Messages\n         .Where(m =&gt; m.MessageID &lt; messageId)\n         .Take(2)\n   })\n   .AsNoTracking()\n   .SingleOrDefault();\n</code></pre>\n\n<p>When I remove the <code>Where()</code> and <code>Take()</code> from inside the <code>Select()</code>, it works (but without the conditions I want to implement), but if I keep them, it returns errors:</p>\n\n<blockquote>\n  <p>{System.ArgumentException: Expression of type 'System.Collections.Generic.IEnumerable<code>1[Microsoft.EntityFrameworkCore.Storage.ValueBuffer]' cannot be used for parameter of type 'System.Collections.Generic.IEnumerable</code>1[Dal.Models.Message]' of method 'System.Collections.Generic.IEnumerable<code>1[Dal.Models.Message] _ToEnumerable[Message](System.Collections.Generic.IEnumerable</code>1[Dal.Models.Message])'Parameter name: arg0   at System.Dynamic.Utils.ExpressionUtils.ValidateOneArgument(MethodBase method, ExpressionType nodeKind, Expression arguments, ParameterInfo pi, String methodParamName, String argumentParamName, Int32 index)   at System.Linq.Expressions.Expression.Call(MethodInfo method, Expression arg0)   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.ProjectionExpressionVisitor.VisitSubQuery(SubQueryExpression expression)   at Remotion.Linq.Clauses.Expressions.SubQueryExpression.Accept(ExpressionVisitor visitor)   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.RelationalProjectionExpressionVisitor.Visit(Expression expression)   at System.Linq.Expressions.ExpressionVisitor.VisitAndConvert[T](ReadOnlyCollection<code>1 nodes, String callerName)   at Remotion.Linq.Parsing.RelinqExpressionVisitor.VisitNew(NewExpression expression)   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.RelationalProjectionExpressionVisitor.VisitNew(NewExpression newExpression)   at System.Linq.Expressions.NewExpression.Accept(ExpressionVisitor visitor)   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)   at Microsoft.EntityFrameworkCore.Query.ExpressionVisitors.RelationalProjectionExpressionVisitor.Visit(Expression expression)   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.VisitSelectClause(SelectClause selectClause, QueryModel queryModel)   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.VisitSelectClause(SelectClause selectClause, QueryModel queryModel)   at Remotion.Linq.Clauses.SelectClause.Accept(IQueryModelVisitor visitor, QueryModel queryModel)   at Remotion.Linq.QueryModelVisitorBase.VisitQueryModel(QueryModel queryModel)   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.VisitQueryModel(QueryModel queryModel)   at Microsoft.EntityFrameworkCore.Query.RelationalQueryModelVisitor.VisitQueryModel(QueryModel queryModel)   at Microsoft.EntityFrameworkCore.Query.EntityQueryModelVisitor.CreateQueryExecutor[TResult](QueryModel queryModel)   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](QueryModel queryModel)   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](Expression query, INodeTypeProvider nodeTypeProvider, IDatabase database, IDiagnosticsLogger</code>1 logger, Type contextType)   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.&lt;>c__DisplayClass15_0<code>1.&lt;Execute&gt;b__0()   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQueryCore[TFunc](Object cacheKey, Func</code>1 compiler)   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func<code>1 compiler)   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)   at System.Linq.Queryable.SingleOrDefault[TSource](IQueryable</code>1 source)   at Features.Topic.TopicMessagesQueries.getTopic(RbbContext context, Int32 entitiesFetchLimit, Int32 topicId) in TopicQueries.cs:line 20   at Features.Topic.TopicService.getTopic(RbbContext context, ITopicQueries topicQueries, Int32 topicId) in TopicService.cs:line 43   at Features.Topic.TopicController.Get(Int32 id) in TopicController.cs:line 34}</p>\n</blockquote>\n\n<p>I also want to get the user relation from the messages, I tried adding another <code>Select()</code> inside <code>t.Messages</code>, but that also did not work.</p>\n\n<p>I can't find similar references in google/stackoverflow of queries with 2-level relationships and conditions on the relationships.</p>\n\n<p>Can anyone here can direct me to get this query right?</p>\n"}, {"tags": ["c#", "json", "unity3d", "deserialization"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525292820, "post_id": 50143023, "comment_id": 87304230, "body": "Why are you creating strings on your own instead of serializing an existing object?  Also, you have the wording backwards.  Serialize means <code>object -&gt; json</code>, deserialiing is <code>json -&gt; object</code>"}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525293010, "post_id": 50143023, "comment_id": 87304316, "body": "The plan is to build a string from queries to mysql to collect the data, then pass that string to the playerdata class&#39;s static method to generate and instance of playerdata with the data provided from the queries. So I won&#39;t have actualy JSON files, just values pulled from a database."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525293077, "post_id": 50143023, "comment_id": 87304346, "body": "You should not be building strings, the whole point of serialization/deserialization is to work with objects.  You can gather the values you need from MySql, but you need to add those values to an object, and then serialize that object to get the JSON."}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525293106, "post_id": 50143023, "comment_id": 87304366, "body": "I am deserializing, i just named my method incorrectly. I have the JSON in string format, I want to turn it into an object. json -&gt; object... deserializing."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525293171, "post_id": 50143023, "comment_id": 87304399, "body": "I can tell from the code you were deserializing, I just wanted you to be aware that it shouldnt be called <code>Serialize()</code>.  Don&#39;t worry, I understood"}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525293211, "post_id": 50143023, "comment_id": 87304418, "body": "Ok so I get what you are saying, I am only doing half the work, the json is never serialized. thus it can&#39;t be deserialized?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525293267, "post_id": 50143023, "comment_id": 87304444, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/170246/discussion-between-maccettura-and-codinablack\">continue this discussion in chat</a>."}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525293315, "post_id": 50143023, "comment_id": 87304462, "body": "This is the reference I was trying to build up from. <a href=\"https://docs.unity3d.com/ScriptReference/JsonUtility.FromJson.html\" rel=\"nofollow noreferrer\">docs.unity3d.com/ScriptReference/JsonUtility.FromJson.html</a>"}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1525302429, "post_id": 50143023, "comment_id": 87307677, "body": "<b>1</b>. Remove <code>{get; protected set;}</code> from the variables in <code>PlayerData</code>. Unity cannot serialize/de-serialize properties. <b>2</b>. Your json is not valid. Do not create json by hand if you are not sure how to create json. Generate the json by code. You can do this by creating instance of <code>PlayerData</code>, initialize it with values you want then convert it to json with <code>JsonUtility.ToJson</code>. This will give you a valid you will be using to test deserializing. To use that json in a code, use <a href=\"https://www.freeformatter.com/java-dotnet-escape.html#ad-output\" rel=\"nofollow noreferrer\">this</a> to escape it first."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1525302461, "post_id": 50143023, "comment_id": 87307681, "body": "If you still have issues, see <i>4.TROUBLESHOOTING JsonUtility:</i> from the duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295012, "post_id": 50143434, "comment_id": 87305221, "body": "Damn man I was so hopeful, but it didn&#39;t work. Same exact error.       ArgumentException: JSON parse error: Missing a name for object member."}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295049, "post_id": 50143434, "comment_id": 87305234, "body": "Serialize field just makes it visible in the editor. Doesn&#39;t do anything else."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295120, "post_id": 50143434, "comment_id": 87305264, "body": "@Codinablack it also serializes the private property when you perform serialization."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295144, "post_id": 50143434, "comment_id": 87305273, "body": "@Codinablack can you post the exact JSON you are using if its different from what you included in your question"}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295234, "post_id": 50143434, "comment_id": 87305316, "body": "Tried removing all the protected keywords, still same result."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295296, "post_id": 50143434, "comment_id": 87305333, "body": "@Codinablack then there has to be something wrong with your json.  The json you included in your question seems valid, but if thats the exact same json you are using maybe try removing the trailing comma after <code>MagicLevel</code>"}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295305, "post_id": 50143434, "comment_id": 87305340, "body": "What is in my question is exact, copy and paste, plus added spaces to the front from formatting."}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295388, "post_id": 50143434, "comment_id": 87305378, "body": "Ok! Error is gone! However the data returned in the debug is incorrect. It returns 0, still using without protected keywords"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295439, "post_id": 50143434, "comment_id": 87305401, "body": "@Codinablack are the <code>protected set</code>&#39;s back in?  Try using the <code>[SerializeField]</code> with the <code>protected set</code> and I think that will do the trick"}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525295667, "post_id": 50143434, "comment_id": 87305496, "body": "Nope. However I was able to figure it out. Apparently it doesn&#39;t work with the properties period. Now I just gotta try to use protected or private fields and public properties. Thanks for all your help man. I think I will post the finished working version when I get it right."}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525296041, "post_id": 50143434, "comment_id": 87305638, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/170249/discussion-between-codinablack-and-maccettura\">continue this discussion in chat</a>."}, {"owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525296157, "post_id": 50143434, "comment_id": 87305684, "body": "Protected, or private fields don&#39;t work either... Maybe I shouldn&#39;t use unity&#39;s method..."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "edited": false, "score": 0, "creation_date": 1525296197, "post_id": 50143434, "comment_id": 87305701, "body": "@Codinablack protected or private fields will work with that attribute <code>SerializeField</code>"}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": false, "score": 1, "last_activity_date": 1525296073, "last_edit_date": 1592644375, "creation_date": 1525294534, "answer_id": 50143434, "question_id": 50143023, "link": "https://stackoverflow.com/questions/50143023/how-to-deserialize-string-for-unity-jsonutility-fromjson-method-properly/50143434#50143434", "title": "How to deserialize string for unity JsonUtility.fromJson() method, properly", "body": "<p>You have two issues.  The first one is Unity does not like your trailing comma after <code>MagicLevel</code>.  Remove that:</p>\n<pre><code>String test = @&quot;{\n    &quot;&quot;Name&quot;&quot;: &quot;&quot;Chase&quot;&quot;,\n    &quot;&quot;Attack&quot;&quot; : 50,\n    &quot;&quot;Defense&quot;&quot; : 35,\n    &quot;&quot;Armor&quot;&quot; : 12,\n    &quot;&quot;MovementSpeed&quot;&quot; : 60,\n    &quot;&quot;MagicLevel&quot;&quot; : 15\n}&quot;;\n</code></pre>\n<p>Second you are having issues because your properties have a <code>protected set</code>.  This means Unity can never assign those values because <code>JsonUtility.FromJson()</code> is not your <code>PlayerData</code> class or a class that inherits from it so it does not have the access to set those properties.</p>\n<p>I understand that you want to keep these properties from being set by anything other than the serialization (or later a constructor).  To do that in unity specifically, you need the <a href=\"https://docs.unity3d.com/ScriptReference/SerializeField.html\" rel=\"nofollow noreferrer\"><code>[SerializeField]</code></a> attribute:</p>\n<pre><code>[System.Serializable]\npublic class PlayerData\n{\n    [SerializeField]\n    protected string _name \n    \n    public string Name {get { return _name;}}\n\n    [SerializeField]\n    protected uint _attack;\n    \n    public uint Attack {get { return _attack;}}\n\n    [SerializeField]\n    protected uint _defense;\n    \n    public uint Defense {get { return _defense;}}\n\n    [SerializeField]\n    protected uint _armor;\n    \n    public uint Armor {get { return _armor;}}\n\n    [SerializeField]\n    protected uint _movementSpeed;\n    \n    public uint MovementSpeed {get { return _movementSpeed;}}\n\n    [SerializeField]\n    protected uint _magicLevel;\n    \n    public uint MagicLevel {get { return _magicLevel;}}\n\n    public static PlayerData Deserialize(string obj)\n    {\n        return JsonUtility.FromJson&lt;PlayerData&gt;(obj);\n    }\n}\n</code></pre>\n<p>I went and renamed your <code>Serialize()</code> method to <code>Deserialize()</code> because that's what its actually doing.</p>\n<h2>Edit</h2>\n<p>Based on your trial and error it seems that Unity takes issue with serializing properties.  Which is unfortunate because properties are the prefered way to handle setting and getting of data in an object.  I have edited my example code to reflect protected fields with public properties</p>\n"}], "owner": {"reputation": 35, "user_id": 6582978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa9adb62b709eaf267cd9f87c0d62bf5?s=128&d=identicon&r=PG&f=1", "display_name": "Codinablack", "link": "https://stackoverflow.com/users/6582978/codinablack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1465, "favorite_count": 0, "closed_date": 1525301439, "answer_count": 1, "score": 1, "last_activity_date": 1525296073, "creation_date": 1525292710, "last_edit_date": 1525294929, "question_id": 50143023, "link": "https://stackoverflow.com/questions/50143023/how-to-deserialize-string-for-unity-jsonutility-fromjson-method-properly", "closed_reason": "Duplicate", "title": "How to deserialize string for unity JsonUtility.fromJson() method, properly", "body": "<p>Ok so basically I am trying to get the hang of de-serializing and serializing custom classes in C# (unity) from strings. Json seemed to be the obvious method and is usable with mysql which I plan to use to store player data. </p>\n\n<p>I can't get past a test string example I am trying to run to make a \"Dummy\" playerdata object. From there I will pass the player object to an Initialize method on the player at login. </p>\n\n<p>Again I am just trying to use a (dummy) string (Which is the results of mysql queries right?) to generate a player data object. This is what I have.</p>\n\n<p>PlayerData.cs</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\n[System.Serializable]\npublic class PlayerData\n{\n    public string Name {get; protected set;}\n    public uint Attack {get; protected set;}\n    public uint Defense {get; protected set;}\n    public uint Armor {get; protected set;}\n    public uint MovementSpeed {get; protected set;}\n    public uint MagicLevel {get; protected set;}\n\n    public static PlayerData Serialize(string obj)\n    {\n      return JsonUtility.FromJson&lt;PlayerData&gt;(obj);\n    }\n}\n</code></pre>\n\n<p>the code I use to run it is this:</p>\n\n<pre><code>String test = @\"{\n    \"\"Name\"\": \"\"Chase\"\",\n    \"\"Attack\"\" : 50,\n    \"\"Defense\"\" : 35,\n    \"\"Armor\"\" : 12,\n    \"\"MovementSpeed\"\" : 60,\n    \"\"MagicLevel\"\" : 15,\n}\";\nPlayerData data = PlayerData.Serialize(test);\nDebug.Log(data.Attack);\n</code></pre>\n\n<p>The error I get is this.</p>\n\n<blockquote>\n  <p>ArgumentException: JSON parse error: Missing a name for object member.</p>\n</blockquote>\n\n<p>I really need help here, I have tried to ecapsulate the int variables with the double quotation marks, tried to do the same with all values, hell I have tried it so many ways, each time either that error or invalid value. Please any help would be much appreciated.</p>\n"}, {"tags": ["c#", "itext", "character", "culture"], "comments": [{"owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "edited": false, "score": 1, "creation_date": 1525292590, "post_id": 50142970, "comment_id": 87304099, "body": "&quot;can have characters&quot; where  ?"}, {"owner": {"reputation": 174, "user_id": 6668786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E6pd0.jpg?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/6668786/justin"}, "edited": false, "score": 0, "creation_date": 1525292859, "post_id": 50142970, "comment_id": 87304249, "body": "Perhaps you need to alter the <code>Thread.CurrentThread.CurrentCulture</code> to <code>Thread.CurrentThread.CurrentUICulture</code>?"}, {"owner": {"reputation": 174, "user_id": 6668786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E6pd0.jpg?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/6668786/justin"}, "edited": false, "score": 0, "creation_date": 1525292943, "post_id": 50142970, "comment_id": 87304280, "body": "Not sure it&#39;s the answer for you, but here&#39;s a link that explains it: <a href=\"https://stackoverflow.com/a/329041/6668786\">stackoverflow.com/a/329041/6668786</a>"}, {"owner": {"reputation": 77029, "user_id": 1729265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VMMeP.jpg?s=128&g=1", "display_name": "mkl", "link": "https://stackoverflow.com/users/1729265/mkl"}, "edited": false, "score": 0, "creation_date": 1525323999, "post_id": 50142970, "comment_id": 87312755, "body": "<i>&quot;so i can have characters &#39;\u010c&#39; &#39;\u0106&#39;&quot;</i> - which characters you can use,  does not depend on the culture. In itext you have to <b>a</b> use a font that includes the characters and <b>b</b> use a encoding for that font which supports them."}], "owner": {"reputation": 87, "user_id": 9565210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5774e38141a15cf6fa9a5fdc5c968e3?s=128&d=identicon&r=PG&f=1", "display_name": "MikisaMaliDojnik", "link": "https://stackoverflow.com/users/9565210/mikisamalidojnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525292603, "creation_date": 1525292533, "last_edit_date": 1525292603, "question_id": 50142970, "link": "https://stackoverflow.com/questions/50142970/not-printing-characters-like-%c4%8c-%c4%86-in-my-culture", "title": "Not printing characters like &#39;\u010c&#39; &#39;\u0106&#39; in my Culture", "body": "<p>I changed culture to my, Serbian Latin, culture, so i can have characters  '\u010c' '\u0106'  </p>\n\n<pre><code>Thread.CurrentThread.CurrentCulture = new CultureInfo(\"sr-SP-Latn\");\n</code></pre>\n\n<p>Anybody knows why?\nIm using iTextSharp 5.1 for making pdf</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "entity-framework-core"], "comments": [{"owner": {"reputation": 1940, "user_id": 310601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/50d2bf90452f406c68e2a10eddb5d222?s=128&d=identicon&r=PG", "display_name": "Mark G", "link": "https://stackoverflow.com/users/310601/mark-g"}, "edited": false, "score": 0, "creation_date": 1525296432, "post_id": 50142968, "comment_id": 87305803, "body": "So we&#39;re talking about initial migration for identity here?  If so, what does <code>dotnet ef migrations script</code> show and how does it compare with scenario 2?"}], "owner": {"reputation": 45, "user_id": 2310761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82e50f6311dacb77e53f81dd368928ba?s=128&d=identicon&r=PG", "display_name": "mapledreams", "link": "https://stackoverflow.com/users/2310761/mapledreams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1525293796, "creation_date": 1525292528, "last_edit_date": 1525293796, "question_id": 50142968, "link": "https://stackoverflow.com/questions/50142968/how-to-set-numeric-round-abort-in-entity-framework", "title": "How to set numeric round abort in Entity Framework", "body": "<p>I am working on enhancing an application and using Microsoft .NET Core Identity for IAM in our application [Microsoft.AspNetCore.Identity.EntityFrameworkCore]. \nThe database is Microsoft SQL Server. The database setup is pretty much standard except the \"NUMERIC_ROUNDABORT\" will be turned ON.</p>\n\n<p>But when we start the application we are getting the below exception. </p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException:<br>\n  'CREATE INDEX failed because the following SET options have incorrect settings: 'NUMERIC_ROUNDABORT'.<br>\n  Verify that SET options are correct for use with indexed views and/or indexes on computed columns and/or filtered indexes and/or query notifications and/or XML data type </p>\n</blockquote>\n\n<p>Working scenarios :</p>\n\n<p>Scenario 1: When the \"NUMERIC_ROUNDABORT\" is turned OFF in server level, the application works fine and no issues.</p>\n\n<p>Scenario 2: When I extract the table creation queries from the database and execute them with \"NUMERIC_ROUNDABORT\" turned ON, still everything works.</p>\n\n<p>Scenario 3: When the  \"NUMERIC_ROUNDABORT\" is turned OFF in server level, and started application first time (letting all the tables created by ef core) and turned ON, next time onwards app works, as the necessary tables and indexes are created already.</p>\n\n<p>Non-working scenario : </p>\n\n<p>When the \"NUMERIC_ROUNDABORT\" is turned ON in server level, and when we run the application first time, it throws an exception.</p>\n\n<p>I understand the reason that it is expected to get the exception after a loss of precision occurs in an expression and when creating or changing indexes on computed columns or indexed views.</p>\n\n<p>Could you please help me, can we fix this programmatically. Is that possible? </p>\n\n<p>P.S: Changing in the database will not be a possible option[In my case].</p>\n\n<p>Thank you all for your advice and help.</p>\n"}, {"tags": ["c#", ".net", "com", "interop", "com-interop"], "comments": [{"owner": {"reputation": 404, "user_id": 2929848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xDJbX.png?s=128&g=1", "display_name": "Trey", "link": "https://stackoverflow.com/users/2929848/trey"}, "edited": false, "score": 2, "creation_date": 1525291943, "post_id": 50142775, "comment_id": 87303779, "body": "Post samples please, especially of the ones not showing up, but a contrast between what works and what does not will be educational as well."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1525292911, "post_id": 50142775, "comment_id": 87304264, "body": "COM has no support for static methods, an inevitable consequence of COM only ever using interfaces.  Remove the <i>static</i> keyword from the GetData() method declaration to get ahead.  Similarly, a [ComVisible] .NET class must have a public parameterless constructor.  Consider to create an xyz factory class for a more natural fit to an interface-based programming style."}], "owner": {"reputation": 543, "user_id": 2838966, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0688e3050e369f6aefcf36009a755fc9?s=128&d=identicon&r=PG&f=1", "display_name": "user2838966", "link": "https://stackoverflow.com/users/2838966/user2838966"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525292221, "creation_date": 1525291783, "last_edit_date": 1525292221, "question_id": 50142775, "link": "https://stackoverflow.com/questions/50142775/com-interop-not-exposing-some-public-classes", "title": "COM interop not exposing some public classes", "body": "<p>I have a .NET project built with VS 2017. The option \"Make assembly COM-visible\" is selected and the assembly is strongly named. Some of my public classes, however, are not exposed to COM.</p>\n\n<p>For example, assume my namespace is aa.bb.  Within this namespace I have various public classes, like foo, bar, and xyz.  I'm registering with regasm /codebase /tlb:test.tlb and it says it exported the tlb and registered successfully.</p>\n\n<p>Checking the registry shows that only some of the public classes are exposed, while them most important public class is not.  For instance it has aa.bb.foo, and aa.bb.bar, but not aa.bb.xyz.</p>\n\n<p>I ran regasm with /regfile:test.reg and it is not putting anything about the xyz class in there - only the foo and bar classes.  I also tried explictly listing it as com visible by doing this:</p>\n\n<pre><code>[ComVisible(true)]\npublic class xyz\n</code></pre>\n\n<p>however that made no difference.</p>\n\n<p>From native .NET code like ASP.NET c# I can do \"using aa.bb;\" and then \"xyz myObj = xyz.GetData();\" and that works just fine. What are some of the reasons and things to look for as to why this class is not getting exposed to COM? How can I troubleshoot this further please? Thank you!</p>\n"}, {"tags": ["c#", "asp.net", "service"], "comments": [{"owner": {"reputation": 1414, "user_id": 4828786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c8d5c626ee16240cbb7b21cb1782fa9?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/4828786/kevin"}, "edited": false, "score": 2, "creation_date": 1525292493, "post_id": 50142733, "comment_id": 87304051, "body": "I don&#39;t think there is a way to allow a non-administrator (not server admin) to start and stop services and on top of that I believe that IIS adds a layer of security that disallows it because it is a very BAD idea, from a security standpoint, to expose control of a server&#39;s services through the web."}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525292591, "post_id": 50142733, "comment_id": 87304100, "body": "You would have to pass in the credentials."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1525293167, "post_id": 50142733, "comment_id": 87304396, "body": "You could have another service that&#39;s always running that&#39;s running with the correct permissions that&#39;s responsible for starting/stopping the service. The user facing application would make a call to this service in order to perform the starting/stopping."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5601226"}, "edited": false, "score": 0, "creation_date": 1525375110, "post_id": 50142733, "comment_id": 87342711, "body": "Thanks all, Kevin raises a good point, this does sound like the start of a major security flaw. I will look at other methods to carrying this out, another service as mason has mentioned or possibly polling the database for new config from the original service. Appreciate the advice."}], "owner": {"user_type": "does_not_exist", "display_name": "user5601226"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 414, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525291631, "creation_date": 1525291631, "question_id": 50142733, "link": "https://stackoverflow.com/questions/50142733/asp-net-start-service-programmatically-access-denied", "title": "ASP.NET start service programmatically access denied", "body": "<p>I'm building a ASP.NET MVC application, when a user logs in as admin (not windows authentication, admin for this application only) they need to have the ability to start and stop a service. I'm getting access denied every time I attempt this programmatically, the service runs as localsystem. Is it possible to use the <code>ServiceController</code> to start a windows service as a specific user that does have the correct permissions? There are a few threads on this but none have answered my question. See code below:</p>\n\n<pre><code>private static System.ServiceProcess.ServiceController svc = new System.ServiceProcess.ServiceController(\"CanCam Review Service\");\n\npublic static void StartService()\n{\n    string[] args = new string[] { Configuration.databaseConnectionString, Configuration.intervalInSeconds.ToString(), Configuration.packetLimit.ToString(), Configuration.suspectedHackTimeOutInSeconds.ToString(), Configuration.writeToFile.ToString(), Configuration.path, Configuration.maxFileAgeInDays.ToString() };\n\n    if (serviceStatus == ServiceControllerStatus.Stopped)\n            svc.Start(args);\n}\n</code></pre>\n"}, {"tags": ["c#", "mysql", "winforms", "datagridview"], "comments": [{"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 3, "creation_date": 1525292074, "post_id": 50142720, "comment_id": 87303846, "body": "Do not bind to the DataTable directly but insert e.g. a DataView to each of the DGVs.. DataView has filter and also sorting capabilties."}, {"owner": {"reputation": 9, "user_id": 9465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06d163b66b568185b41d06fef995af0?s=128&d=identicon&r=PG&f=1", "display_name": "Thoiruddin", "link": "https://stackoverflow.com/users/9465715/thoiruddin"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525312247, "post_id": 50142720, "comment_id": 87309733, "body": "Do you mean, drag and drop the DGV and call the Data from the form? Like, using Object?"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525315058, "post_id": 50142720, "comment_id": 87310358, "body": "Huh? No I guess not. I mean, replace  <code>dgvDebitList.DataSource = dtdebit;</code> by <code>DataView dvdebit = new DataView(dtdebit,someFilterString, &quot;&quot;, DataViewRowState.Added);dgvDebitList.DataSource =dvdebit ;</code> etc.."}, {"owner": {"reputation": 9, "user_id": 9465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06d163b66b568185b41d06fef995af0?s=128&d=identicon&r=PG&f=1", "display_name": "Thoiruddin", "link": "https://stackoverflow.com/users/9465715/thoiruddin"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525332807, "post_id": 50142720, "comment_id": 87316504, "body": "Hi, I trying to use your given code  and check references for DataView and DataViewRowState but all not showing the result I need. Can you share some code with us here?"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525333228, "post_id": 50142720, "comment_id": 87316743, "body": "Well, not sure which part is the issue. Try to create the DataViews by the simpler constructor: <code>DataView dvdebit = new DataView(dtdebit);..</code> - Now the rows should all show up. Do they? Next create a RowFilter and assign it; does it work? As expected? Yes, done; no:show the filter string. The correct RowStateFilter can be tricky, depending on the source of the data.. Default is <code>CurrentRows</code> - Also: I just noticed that on code 1 you never assign a DataSource to dgvCreditList."}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525336412, "post_id": 50142720, "comment_id": 87318617, "body": "I may not have gotten the whole issue; upon rereading and looking at the image I wonder: Do you have 2 sources and want to filter them and merge the result into a 3rd dgv?"}, {"owner": {"reputation": 9, "user_id": 9465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06d163b66b568185b41d06fef995af0?s=128&d=identicon&r=PG&f=1", "display_name": "Thoiruddin", "link": "https://stackoverflow.com/users/9465715/thoiruddin"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525336421, "post_id": 50142720, "comment_id": 87318624, "body": "Sorry if I trouble you so much. Thanks for the hint about the dgvCreditList. I didn&#39;t plan to show the result into 3rd dgv, what I need is right now, this is the last part of my project that I can&#39;t solve,"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525336517, "post_id": 50142720, "comment_id": 87318678, "body": "No problem, I have fun solving problems. So: How many Tables do you have? 2? And how many DGVs do you want to show? 1? 2? Also: In the image: Do the lines point to different cells or to different rows?"}, {"owner": {"reputation": 9, "user_id": 9465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06d163b66b568185b41d06fef995af0?s=128&d=identicon&r=PG&f=1", "display_name": "Thoiruddin", "link": "https://stackoverflow.com/users/9465715/thoiruddin"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525337811, "post_id": 50142720, "comment_id": 87319455, "body": "Sorry if I trouble you so much.  I only have 1 database which contains Credit and Debit tables and want to filter Credit just for Credit form, Debit just for Debit Form. But as you see the screenshot before, that the result from Credit Form and the Debit values appear there and I want to filter them.   Here is my screenshot.  Credit Form  [link]<a href=\"https://imgur.com/4nryQMo\" rel=\"nofollow noreferrer\">imgur.com/4nryQMo</a>  Debit Form  [link]<a href=\"https://imgur.com/UGXx01H\" rel=\"nofollow noreferrer\">imgur.com/UGXx01H</a>  Database  [link]<a href=\"https://imgur.com/1UsfZB9\" rel=\"nofollow noreferrer\">imgur.com/1UsfZB9</a>  Code (Credit and Debit Form using Same code but different DGV)  [link]<a href=\"https://pastebin.com/SvCbanUf\" rel=\"nofollow noreferrer\">pastebin.com/SvCbanUf</a>"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525339266, "post_id": 50142720, "comment_id": 87320404, "body": "OK. So do you need any filtering? If so a DataView is what you want. But DataViews can&#39;t be merged directly. So you need to create a mergeTable like the anser <a href=\"https://stackoverflow.com/questions/7614150/how-to-merge-multiple-dataviews-into-one/28815653#28815653\">here</a> shows (Yan&#39;s answer). This should then be the DataSource for the DGV. But: after copying the filtered rows into a new table I doubt you will be able to write any changes back directly.."}, {"owner": {"reputation": 9, "user_id": 9465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06d163b66b568185b41d06fef995af0?s=128&d=identicon&r=PG&f=1", "display_name": "Thoiruddin", "link": "https://stackoverflow.com/users/9465715/thoiruddin"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1525342457, "post_id": 50142720, "comment_id": 87322576, "body": "I will test it at home tonight. I will update you as soon as possible."}, {"owner": {"reputation": 9, "user_id": 9465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06d163b66b568185b41d06fef995af0?s=128&d=identicon&r=PG&f=1", "display_name": "Thoiruddin", "link": "https://stackoverflow.com/users/9465715/thoiruddin"}, "reply_to_user": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1526445233, "post_id": 50142720, "comment_id": 87741392, "body": "Hi. I test the code with DataView, merge table. But I still can&#39;t hide or remove the blank rows because the rows contains data from other form. Can you check the the screenshot and my code?  [link]<a href=\"https://imgur.com/a/NQ0sMKa\" rel=\"nofollow noreferrer\">imgur.com/a/NQ0sMKa</a>   and my code for this form only.  [link]<a href=\"https://pastebin.com/FRmuX8Ge\" rel=\"nofollow noreferrer\">pastebin.com/FRmuX8Ge</a>  And here is my Database Table for this Form.  [link]<a href=\"https://imgur.com/a/puq4j4P\" rel=\"nofollow noreferrer\">imgur.com/a/puq4j4P</a>"}], "owner": {"reputation": 9, "user_id": 9465715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06d163b66b568185b41d06fef995af0?s=128&d=identicon&r=PG&f=1", "display_name": "Thoiruddin", "link": "https://stackoverflow.com/users/9465715/thoiruddin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525291590, "creation_date": 1525291590, "question_id": 50142720, "link": "https://stackoverflow.com/questions/50142720/c-two-form-two-datagridview-with-same-datasource", "title": "C# Two Form, Two Datagridview with same Datasource", "body": "<p>I'm bit confuse with my code. I don't know what is the problem. I search on the internet about this and the answer said I need to FILTER the DataGridView and show the exact values from database. But nothing work if I put the code and change from DataSet, DataAdapter. How to filter the values?</p>\n\n<p>Here my code.</p>\n\n<p><em>Form 1, Code 1, DataGridView 1.</em></p>\n\n<pre><code> public void DataView()\n    {\n        Connection.Open();\n        MySqlCommand Command = new MySqlCommand(\"Select * From clientaccountcreditdebitdb\", Connection);\n        DataTable dt = new DataTable();\n        MySqlDataAdapter da = new MySqlDataAdapter(Command);\n        da.Fill(dt);\n        dgvCreditList.DataSource = null;\n        dgvCreditList.AllowUserToAddRows = false;\n        dgvCreditList.AutoGenerateColumns = false;\n        dgvCreditList.ColumnCount = 9;\n        dgvCreditList.Columns[0].HeaderText = \"id\";\n        dgvCreditList.Columns[0].DataPropertyName = \"ID\";\n        dgvCreditList.Columns[1].HeaderText = \"Account Name\";\n        dgvCreditList.Columns[1].DataPropertyName = \"CreditAccountName\";\n        dgvCreditList.Columns[2].HeaderText = \"Account Number\";\n        dgvCreditList.Columns[2].DataPropertyName = \"CreditAccountNumber\";\n        dgvCreditList.Columns[3].HeaderText = \"Description\";\n        dgvCreditList.Columns[3].DataPropertyName = \"CreditDescription\";\n        dgvCreditList.Columns[4].HeaderText = \"References / Cheque No\";\n        dgvCreditList.Columns[4].DataPropertyName = \"CreditReferencesCheque\";\n        dgvCreditList.Columns[5].HeaderText = \"Bank Name\";\n        dgvCreditList.Columns[5].DataPropertyName = \"CreditBankName\";\n        dgvCreditList.Columns[6].HeaderText = \"Date\";\n        dgvCreditList.Columns[6].DataPropertyName = \"CreditDate\";\n        dgvCreditList.Columns[7].HeaderText = \"Transaction Type\";\n        dgvCreditList.Columns[7].DataPropertyName = \"CreditTransactionType\";\n        dgvCreditList.Columns[8].HeaderText = \"Amount\";\n        dgvCreditList.Columns[8].DataPropertyName = \"CreditAmount\";\n        dgvCreditList.Columns[0].Visible = false;\n        Connection.Close();\n    }\n</code></pre>\n\n<p>Form 2, Code 2, DataGrid 2.</p>\n\n<pre><code>public void DataView()\n    {\n        Connection.Open();\n        MySqlCommand Command = new MySqlCommand(\"Select * From clientaccountcreditdebitdb\", Connection);\n        DataTable dtdebit = new DataTable();\n        MySqlDataAdapter da = new MySqlDataAdapter(Command);\n        da.Fill(dtdebit);\n        dgvDebitList.DataSource = null;\n        dgvDebitList.AllowUserToAddRows = false;\n        dgvDebitList.AutoGenerateColumns = false;\n        dgvDebitList.ColumnCount = 9;\n        dgvDebitList.Columns[0].HeaderText = \"id\";\n        dgvDebitList.Columns[0].DataPropertyName = \"ID\";\n        dgvDebitList.Columns[1].HeaderText = \"Account Name\";\n        dgvDebitList.Columns[1].DataPropertyName = \"DebitAccountName\";\n        dgvDebitList.Columns[2].HeaderText = \"Account Number\";\n        dgvDebitList.Columns[2].DataPropertyName = \"DebitAccountNumber\";\n        dgvDebitList.Columns[3].HeaderText = \"Description\";\n        dgvDebitList.Columns[3].DataPropertyName = \"DebitDescription\";\n        dgvDebitList.Columns[4].HeaderText = \"References / Cheque No\";\n        dgvDebitList.Columns[4].DataPropertyName = \"DebitReferencesCheque\";\n        dgvDebitList.Columns[5].HeaderText = \"Bank Name\";\n        dgvDebitList.Columns[5].DataPropertyName = \"DebitBankName\";\n        dgvDebitList.Columns[6].HeaderText = \"Date\";\n        dgvDebitList.Columns[6].DataPropertyName = \"DebitDate\";\n        dgvDebitList.Columns[7].HeaderText = \"Transaction Type\";\n        dgvDebitList.Columns[7].DataPropertyName = \"DebitTransactionType\";\n        dgvDebitList.Columns[8].HeaderText = \"Amount\";\n        dgvDebitList.Columns[8].DataPropertyName = \"DebitAmount\";\n        dgvDebitList.Columns[0].Visible = false;\n        dgvDebitList.DataSource = dtdebit;\n        Connection.Close();\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ByNWT.png\" rel=\"nofollow noreferrer\">And here my form.</a></p>\n\n<p>Is there something wrong here?</p>\n"}, {"tags": ["c#", "mysql", "entity-framework"], "comments": [{"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "edited": false, "score": 0, "creation_date": 1525292320, "post_id": 50142651, "comment_id": 87303957, "body": "@AussieJoe Got a quick hint how to that?"}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525292331, "post_id": 50142651, "comment_id": 87303962, "body": "what&#39;s the generated SQL that is being executed by Entity Framework? Have you inspected the failing SQL?"}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 1, "creation_date": 1525292378, "post_id": 50142651, "comment_id": 87303981, "body": "yes <a href=\"https://stackoverflow.com/questions/1412863/how-do-i-view-the-sql-generated-by-the-entity-framework\" title=\"how do i view the sql generated by the entity framework\">stackoverflow.com/questions/1412863/&hellip;</a>"}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 1, "creation_date": 1525292558, "post_id": 50142651, "comment_id": 87304082, "body": "@AussieJoe Well, that only works with access to the <code>IQueryable</code> - howerver found this one, when using <code>context</code>: <code>context.Database.Log = Console.WriteLine;</code>  (I&#39;ll be right back with an update) <a href=\"https://stackoverflow.com/questions/16880687/how-can-i-log-the-generated-sql-from-dbcontext-savechanges-in-my-program?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"how can i log the generated sql from dbcontext savechanges in my program\">stackoverflow.com/questions/16880687/&hellip;</a>"}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525292703, "post_id": 50142651, "comment_id": 87304159, "body": "yes, there are several approaches I am afraid."}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525292967, "post_id": 50142651, "comment_id": 87304289, "body": "@AussieJoe, well that doesn&#39;t help at all... It shows an Invalid query, yes - but why would EMF generate this? <code>-- Failed in 1 ms with error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;(SELECT Permission_to_Role.PermissionId,  Permission_to_Role.RoleId FROM&#39; at line 1</code> - Its&#39; missing the table name it seems... but why?"}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 1, "creation_date": 1525293198, "post_id": 50142651, "comment_id": 87304411, "body": "Heres the keyPoint I guess: That looks like none-sence to me (Or is higher skilled SQL :P ) <code>INSERT INTO (SELECT Permission_to_Role.PermissionId,  Permission_to_Role.RoleId FROM Permission_to_Role AS Permission_to_Role)( PermissionId,  RoleId) VALUES ( 2,  1)</code>"}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525293198, "post_id": 50142651, "comment_id": 87304412, "body": "Have you tried setting a key on &#39;Permission_to_Role&#39; entity object (in the designer)? We always have to explicitly give it a foreign key, just to make compiler happy. It just needs an index?"}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525293785, "post_id": 50142651, "comment_id": 87304671, "body": "But it makes a little sence... Because there is no <code>Permission_To_Role</code> ENTITY, EMF replaces this expression with <code>(SELECT Permission_to_Role.PermissionId, Permission_to_Role.RoleId FROM Permission_to_Role AS Permission_to_Role)</code> - Therefore, the insert looks like above, while it should be <code>INSERT INTO Permission_To_Role ( PermissionId, RoleId) VALUES ( 2, 1)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525297267, "post_id": 50143695, "comment_id": 87306153, "body": "I, too, would love to know and understand this answer :) and I think we face similar issue in our application, and we use MSSQL."}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 1, "creation_date": 1525297578, "post_id": 50143695, "comment_id": 87306276, "body": "@AussieJoe I&#39;ll keep you updated... I&#39;ve now updated the application as described  - but quess what? Getting the same error-prone query for &quot;3 Foreign-Key-Columns&quot;.... Now trying it with an 4th nullable &quot;throwAway Column&quot; :-) (I&#39;m Updating relations about &quot;Everywhere&quot; - works... There has to be something different causing this...)"}, {"owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "reply_to_user": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525304257, "post_id": 50143695, "comment_id": 87308058, "body": "@AussieJoe See my second reply. I Hope this helps you as well."}], "tags": [], "owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "is_accepted": false, "score": 1, "last_activity_date": 1525305223, "last_edit_date": 1525305223, "creation_date": 1525295902, "answer_id": 50143695, "question_id": 50142651, "link": "https://stackoverflow.com/questions/50142651/entity-framework-create-many-to-many-relations/50143695#50143695", "title": "Entity-Framework: Create Many-To-Many-Relations", "body": "<p>I'd really like to figure out the \"cause\" of this issue - but for now, I added another column <code>grantedById</code> (referencing <code>user.id</code>) to that relation table. </p>\n\n<p><a href=\"https://i.stack.imgur.com/crVuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/crVuu.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, this caused the intermediate entity <code>Permission_To_Role</code> to be generated in the Model, and made me believe it's going to work now! (Cause done that hundreds of times, like this: )</p>\n\n<pre><code> using (MyDb db = new MyDB()){\n   Permission_To_Role ptr = new Permission_To_Role();\n   ptr.PermissionId = 5;\n   ptr.RoleId = 8;\n   ptr.GrantedById = Session.CurrentUser.Id;\n\n   db.Permission_To_Role.Add(ptr);\n   db.SaveChanges();\n}\n</code></pre>\n\n<p>But It should be possible to do Database-Inserts for <code>Many-To-Many-Mappings</code> with 2 <code>Foreign-Key-Constraint Columns</code> ONLY as well, shouldn't it?  </p>\n"}, {"comments": [{"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525360277, "post_id": 50144965, "comment_id": 87334586, "body": "Yes, we have to setup primary key on tables we don&#39;t have any type of keys with. Sorry, I had told you foreign key above. For whatever reason, Entity Framework requires an index for lookup."}], "tags": [], "owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "is_accepted": false, "score": 1, "last_activity_date": 1525304973, "last_edit_date": 1525304973, "creation_date": 1525304211, "answer_id": 50144965, "question_id": 50142651, "link": "https://stackoverflow.com/questions/50142651/entity-framework-create-many-to-many-relations/50144965#50144965", "title": "Entity-Framework: Create Many-To-Many-Relations", "body": "<p>I'm a little tired right now, but finally got it to work. </p>\n\n<p>I'm not 100% sure to outline the <em>real</em> problem, cause I changed a lot of things - but the following \"findings\" are kind of milestones while resolving this problem: </p>\n\n<h3>First,</h3>\n\n<p>I tried to add more columns as mentioned above, which did nor work out. It caused the Mapping-Table to be present as entity, but the insert showed the same problem. (Insert Query, containing wired \"SELECT\" Statement instead of table name)</p>\n\n<h3>Second,</h3>\n\n<p>I noted, that the generated Mapping-Table (In EM-Designer) took ALL columns into account for the <strong>primary key</strong>, <em>while I designed the table without any (composite) Primary Key in the MySQL-Designer</em> (only a unique key was setup accross all columns):</p>\n\n<p><a href=\"https://i.stack.imgur.com/gfl6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gfl6q.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Third,</h3>\n\n<p>I was like f*** y** - and added a surrogate Primary Key-Column to the mapping-table (In the database designer)...</p>\n\n<p><a href=\"https://i.stack.imgur.com/XmXEs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XmXEs.png\" alt=\"enter image description here\"></a></p>\n\n<p>and unchecked any Primary-Key-Membership in the EF-Designer for any remaining column:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N1pqF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N1pqF.png\" alt=\"enter image description here\"></a></p>\n\n<p>And guess what? It works :-) </p>\n\n<pre><code>using (MyDb db = new MyDB()){\n    Permission_to_Role ptr = new Permission_to_Role();\n    ptr.PermissionId = permissionId;\n    ptr.RoleId = r.Id;\n    ptr.GrantedById = u.Id;\n    ptr.GrantedAt = DateTime.Now;\n\n    db.Permission_to_Role.Add(ptr);\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>So, there are three things left to say: </p>\n\n<ul>\n<li>First (I noted this quite some time) - When synchronsizing your Model with the database - there are changes that aren't picked up... And you'll have a hard time figuring it out. It might only be \"Indexes\", but it also can be stuff like \"Foreign Key Constraints\" or even \"Primary-Key-Settings\". (Consider <em>Hibernate</em> (Java) as the master of the 80/20 rule: Hibernate does 80% - Searching the final 20% is up to the user!)</li>\n<li>Second: This <em>problem</em> might be a combination of a special database-schema, relying on third-party-frameworks and expecting about everything to be nice and clean automatically... Only trust \"yourself\"!</li>\n<li>Third: Always use a surrogate Primary Key for every table. It doesn't hurt at all, but avoids all the hassle with native-primary keys. (Which you can setup as unique keys anyway)</li>\n</ul>\n"}], "owner": {"reputation": 18893, "user_id": 1057547, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6pskS.jpg?s=128&g=1", "display_name": "dognose", "link": "https://stackoverflow.com/users/1057547/dognose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1525421148, "creation_date": 1525291321, "last_edit_date": 1525421148, "question_id": 50142651, "link": "https://stackoverflow.com/questions/50142651/entity-framework-create-many-to-many-relations", "title": "Entity-Framework: Create Many-To-Many-Relations", "body": "<p>We are using the \"DB-First\" approach for an application, cause the Database is shared between various applications, so it should be the \"master\". (MySQL)</p>\n\n<p>We have 3 simple tables, responsible for the <em>Role-To-Permission</em> Assignment, like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/5YUaM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5YUaM.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The Visual-Studio Model Designer (after building the model from the database) perfectly fine recocnices this as a \"Many-To-Many\" relation, not even generating a \"Role_to_permission\"-Entity, as there are no further attributes on the assignment)</p>\n\n<p><a href=\"https://i.stack.imgur.com/kSqdO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kSqdO.png\" alt=\"enter image description here\"></a></p>\n\n<p>Until now, we created those entries in the database, which lead to the expected outcome within the application. (Accessing mappings)</p>\n\n<p>Currently we are working on an Interface, allowing to assign \"Permissions\" to \"Roles\". And here, I'm a little stuck: </p>\n\n<ul>\n<li>If such a relation has another attribute (such as <code>required</code> or a <code>date</code>), the EMF creates an own entity for the relation - let's assume <code>Permission_To_Role</code>.</li>\n</ul>\n\n<p>then, I can \"easily\" create a relation, with the following code: </p>\n\n<pre><code>using (MyDb db = new MyDB()){\n   Permission_To_Role ptr = new Permission_To_Role();\n   ptr.PermissionId = 5;\n   ptr.RoleId = 8;\n   ptr.CreationDate = DateTime.Now();\n\n   db.Permission_To_Role.Add(ptr);\n   db.SaveChanges();\n}\n</code></pre>\n\n<p>Whatsoever - in this case - we don't have any additional attribute on the mapping, so the additional class is <em>avoided</em> by the EF Framework.</p>\n\n<p>Im now trying hard to create a relation, but without success: </p>\n\n<pre><code>using (MyDB db = new MyDB())\n{\n    //Get ids.\n    long permissionId = 2;\n    long roleID = 5;\n\n    Permission p = db.Permission.Find(permissionId);\n    Role r = db.Role.Find(roleID);\n\n    r.Permissions.Add(p);\n\n    db.SaveChanges();\n}\n</code></pre>\n\n<p>This always results in an Exception, and I can't figure out why (IDs are existing and correct) ... </p>\n\n<p>Exception of <code>db.SaveChanges()</code>:</p>\n\n<blockquote>\n  <p>An exception of type\n  'System.Data.Entity.Infrastructure.DbUpdateException' occurred in\n  EntityFramework.dll but was not handled in user code</p>\n  \n  <p>Additional information: An error occurred while saving entities that\n  do not expose foreign key properties for their relationships. The\n  EntityEntries property will return null because a single entity cannot\n  be identified as the source of the exception. Handling of exceptions\n  while saving can be made easier by exposing foreign key properties in\n  your entity types. See the InnerException for details.</p>\n</blockquote>\n\n<p>Inner Exception: </p>\n\n<blockquote>\n  <p>An error occurred while updating the entries. See the inner exception\n  for details.</p>\n</blockquote>\n\n<p>Inner Inner Exception: </p>\n\n<blockquote>\n  <p>You have an error in your SQL syntax; check the manual that\n  corresponds to your MySQL server version for the right syntax to use\n  near '(SELECT <code>Permission_to_Role</code>.<code>PermissionId</code>, \n  <code>Permission_to_Role</code>.<code>RoleId</code> FROM' at line 1</p>\n</blockquote>\n\n<p>Ideas?</p>\n\n<hr>\n\n<h3>Update:</h3>\n\n<pre><code>SHOW CREATE TABLE Permission_to_Role;\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>CREATE TABLE `Permission_to_Role` (\n  `PermissionId` bigint(19) NOT NULL,\n  `RoleId` bigint(19) NOT NULL,\n  UNIQUE KEY `Permission_to_Role_unique` (`PermissionId`,`RoleId`),\n  KEY `Permission_Mapping_idx` (`PermissionId`),\n  KEY `Role_Mapping_idx` (`RoleId`),\n  CONSTRAINT `Permission_Mapping` FOREIGN KEY (`PermissionId`) REFERENCES `permission` (`Id`) ON DELETE CASCADE ON UPDATE NO ACTION,\n  CONSTRAINT `Role_Mapping` FOREIGN KEY (`RoleId`) REFERENCES `role` (`Id`) ON DELETE CASCADE ON UPDATE NO ACTION\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n</code></pre>\n\n<h3>Update2:</h3>\n\n<p>As of the current comments: I enabled the output for queries generated by the EF, and found this charm - which is obviously a malformated Query: </p>\n\n<pre><code>INSERT INTO \n  (SELECT \n    Permission_to_Role.PermissionId,\n    Permission_to_Role.RoleId  \n   FROM \n     Permission_to_Role AS Permission_to_Role\n  )\n  ( PermissionId, RoleId) VALUES ( 2, 1)\n</code></pre>\n\n<p>The query actual should be: </p>\n\n<pre><code>INSERT INTO \n  Permission_To_Role\n  ( PermissionId, RoleId) VALUES ( 2, 1)\n</code></pre>\n\n<p>So, I think this looks like a \"bug\"? As mentioned above: </p>\n\n<blockquote>\n  <p>Whatsoever - in this case - we don't have any additional attribute on the mapping, so the additional class is <em>avoided</em> by the EF Framework.</p>\n</blockquote>\n\n<p>there is no intermediate <code>Permission_To_Role</code> Entity, hence it seems like EF is trying to replace this <strong>table name</strong> with the query </p>\n\n<pre><code>  SELECT \n    Permission_to_Role.PermissionId,\n    Permission_to_Role.RoleId  \n   FROM \n     Permission_to_Role AS Permission_to_Role\n</code></pre>\n\n<p>EVEN upon inserts... (Maybe this works for <strong>MsSQL</strong> and is a bad implementation for the <strong>MySQL</strong> Connector?)</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 0, "creation_date": 1525291356, "post_id": 50142616, "comment_id": 87303512, "body": "There are a lot of ways to simplify, but for a start can we create a function?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1525291377, "post_id": 50142616, "comment_id": 87303520, "body": "For three of the options, the array you&#39;re sorting isn&#39;t the array you&#39;re printing. Is that deliberate?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9090260"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1525292093, "post_id": 50142616, "comment_id": 87303852, "body": "@DaisyShipton Yeah that&#39;s an error thanks for pointing that out"}], "answers": [{"comments": [{"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1525292254, "post_id": 50142736, "comment_id": 87303929, "body": "<code>dataset = map[arraychoice.Key]</code> in the foreach?"}, {"owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "reply_to_user": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1525292310, "post_id": 50142736, "comment_id": 87303954, "body": "@JimW: <code>map[arraychoice.Key]</code> returns a sort order"}], "tags": [], "owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "is_accepted": false, "score": 2, "last_activity_date": 1525294908, "last_edit_date": 1525294908, "creation_date": 1525291640, "answer_id": 50142736, "question_id": 50142616, "link": "https://stackoverflow.com/questions/50142616/can-i-simplify-the-printing-of-the-contents-of-multiple-arrays-using-a-switch-c/50142736#50142736", "title": "Can i simplify the printing of the contents of multiple arrays using a switch? C#", "body": "<p>Not sure about types in your program, but I would think about something like this, at this point (pseudocode) : </p>\n\n<pre><code>//init map of relation between the key pressed and sort order to execute\nvar map = new Dictionary&lt;Console.Key, SortType&gt; { \n             {ConsoleKey.A, dataset.Num128_change},\n             {ConsoleKey.B, dataset.Num128_close},\n             {ConsoleKey.C, dataset.Num128_high}  \n}\n\n.. after somewhere in the code  \n\nConsole.Clear();\nbubblesort.Bubblesort(map[arraychoice.Key]);\nforeach (var item in dataset) //iterator over results\n        Console.WriteLine(item); //`ToString()` invocation on type\n</code></pre>\n\n<p>It's not a \"copy/paste\" solution, but hopefully you got the point. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9090260"}, "edited": false, "score": 0, "creation_date": 1525292781, "post_id": 50142856, "comment_id": 87304205, "body": "Thank you for your help this was the most elegant solution and worked well with the current arrangements of my program"}], "tags": [], "owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1525292090, "creation_date": 1525292090, "answer_id": 50142856, "question_id": 50142616, "link": "https://stackoverflow.com/questions/50142616/can-i-simplify-the-printing-of-the-contents-of-multiple-arrays-using-a-switch-c/50142856#50142856", "title": "Can i simplify the printing of the contents of multiple arrays using a switch? C#", "body": "<p>Think of variables like a box.  You declare your variable/box and decide what 'type' of data goes into it.</p>\n\n<p>You can then use that variable with one chunk of code, regardless of what actual data went into the variable (or box).</p>\n\n<p>So where you have several arrays of <code>double</code> type data: <code>dataset.Num128_change</code>, <code>dataset.Num128_close</code>, you can put one of those arrays into a variable (<code>chosenArray</code>) before working on it.</p>\n\n<p>Eg. this isn't as succinct as other answer(s) but I think it is clearer for you.</p>\n\n<pre><code>double[] chosenArray = double[0];\nswitch (arraychoice.Key)\n{\n  case ConsoleKey.A:\n    chosenArray = dataset.Num128_change;\n    break;\n  case ConsoleKey.B:\n    chosenArray = dataset.Num128_close;\n    break;\n\n  //add the other cases\n  ....\n}\n\nbubblesort.Bubblesort(chosenArray);\nforeach (double item in chosenArray)\n{\n   Console.WriteLine(item);\n}\n\nConsole.ReadKey();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5620, "user_id": 7148391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KIlov.png?s=128&g=1", "display_name": "Zohir Salak", "link": "https://stackoverflow.com/users/7148391/zohir-salak"}, "is_accepted": false, "score": 0, "last_activity_date": 1525292666, "creation_date": 1525292666, "answer_id": 50143011, "question_id": 50142616, "link": "https://stackoverflow.com/questions/50142616/can-i-simplify-the-printing-of-the-contents-of-multiple-arrays-using-a-switch-c/50143011#50143011", "title": "Can i simplify the printing of the contents of multiple arrays using a switch? C#", "body": "<p>I don't really see the point of trying to simplify your code.</p>\n\n<p>Your five loops aren't gonna execute at the same time, not even one after the other, but only when the condition hits. </p>\n\n<p>Trying to simplify this will cause your application to use more resource hence using come sort of list and indexing on it.</p>\n\n<p>Anyway, you can put your loop in a function and call it.</p>\n\n<pre><code>switch (arraychoice.Key)\n{\n    case ConsoleKey.A:\n         Console.Clear();\n         bubblesort.Bubblesort(dataset.Num128_close);\n         theloop(dataset.Num128_change);\n        break;\n    case ConsoleKey.B:\n        Console.Clear();\n        bubblesort.Bubblesort(dataset.Num128_close);\n        theloop(dataset.Num128_change);\n        break;\n    default: \n        break;\n}\n\nvoid theloop&lt;T&gt;(IEnumerable&lt;T&gt; List )\n{\n    foreach (var item in List)\n    {\n        Console.WriteLine(item);\n    }\n}\n</code></pre>\n\n<p>This uses a single loop if you understand what happens when you call a function.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9090260"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 50142856, "answer_count": 3, "score": 0, "last_activity_date": 1525294908, "creation_date": 1525291230, "question_id": 50142616, "link": "https://stackoverflow.com/questions/50142616/can-i-simplify-the-printing-of-the-contents-of-multiple-arrays-using-a-switch-c", "title": "Can i simplify the printing of the contents of multiple arrays using a switch? C#", "body": "<p>I want to be able to change the array that is printed by the foreach loop by using a switch statement however the only way I found to do this is by using 5 foreach loops. I want to be able to use one to simplify my code and make it easier to add new arrays is this possible? </p>\n\n<pre><code>switch (arraychoice.Key)\n{\n  case ConsoleKey.A:\n    Console.Clear();\n    bubblesort.Bubblesort(dataset.Num128_change);\n\n    foreach (double item in dataset.Num128_change)\n    {\n        Console.WriteLine(item);\n    }\n\n    Console.ReadKey();\n    break;\n\n    case ConsoleKey.B:\n    Console.Clear();\n    bubblesort.Bubblesort(dataset.Num128_close);\n\n    foreach (double item in dataset.Num128_close)\n    {\n        Console.WriteLine(item);\n    }\n\n    Console.ReadKey();\n    break;\n\n case ConsoleKey.C:\n    Console.Clear();\n    bubblesort.Bubblesort(dataset.Num128_high);\n\n    foreach (double item in dataset.Num128_close)\n    {\n        Console.WriteLine(item);\n    }\n\n    break;\n\n case ConsoleKey.D:\n    Console.Clear();\n    bubblesort.Bubblesort(dataset.Num128_low);\n\n    foreach (double item in dataset.Num128_close)\n    {\n        Console.WriteLine(item);\n    }\n\n    break;\n\n case ConsoleKey.E:\n    Console.Clear();\n    bubblesort.Bubblesort(dataset.Num128_open);\n\n    foreach (double item in dataset.Num128_close)\n    {\n        Console.WriteLine(item);\n    }\n\n    break;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "edited": false, "score": 0, "creation_date": 1525293266, "post_id": 50142554, "comment_id": 87304442, "body": "what do you mean by &quot;i want the bullet to transform towards the center of the camera&quot;. are you saying you want the bullet to move towards the center?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9608906"}, "reply_to_user": {"reputation": 3923, "user_id": 6837889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148983ab46f8c60cf357c240c183c751?s=128&d=identicon&r=PG&f=1", "display_name": "ryeMoss", "link": "https://stackoverflow.com/users/6837889/ryemoss"}, "edited": false, "score": 0, "creation_date": 1525293674, "post_id": 50142554, "comment_id": 87304619, "body": "Yes i want to shoot an array from the center of the camera, then instantiate a bullet from the gun which will move to the array hit or RaycastHit."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 0, "creation_date": 1582745037, "post_id": 50142554, "comment_id": 106886897, "body": "This is about <a href=\"https://stackoverflow.com/questions/tagged/c%23\">c#</a>, not <a href=\"https://stackoverflow.com/questions/tagged/unityscript\">unityscript</a>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9608906"}, "edited": false, "score": 0, "creation_date": 1525462912, "post_id": 50143662, "comment_id": 87381413, "body": "I just get a bunch of errors, so i cant get this to work. Maybe i am just writing it wrong, so if its not to much to ask. Could you implement it in the code?"}, {"owner": {"reputation": 123, "user_id": 9721768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tom Moon", "link": "https://stackoverflow.com/users/9721768/tom-moon"}, "edited": false, "score": 0, "creation_date": 1525524506, "post_id": 50143662, "comment_id": 87396030, "body": "Hey man, sorry that cSharp was pretty sloppy. I&#39;ve edited my original answer with a working script."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9608906"}, "edited": false, "score": 1, "creation_date": 1525548681, "post_id": 50143662, "comment_id": 87403660, "body": "Thank you so much, Tom! I really appreciate this, thanks again :)"}, {"owner": {"reputation": 123, "user_id": 9721768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tom Moon", "link": "https://stackoverflow.com/users/9721768/tom-moon"}, "edited": false, "score": 0, "creation_date": 1525559418, "post_id": 50143662, "comment_id": 87406216, "body": "your most welcome. Let me know when its finished. I would love to play it!"}], "tags": [], "owner": {"reputation": 123, "user_id": 9721768, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tom Moon", "link": "https://stackoverflow.com/users/9721768/tom-moon"}, "is_accepted": true, "score": 2, "last_activity_date": 1525524477, "last_edit_date": 1525524477, "creation_date": 1525295665, "answer_id": 50143662, "question_id": 50142554, "link": "https://stackoverflow.com/questions/50142554/transform-instantiated-bullet-towards-camera-center/50143662#50143662", "title": "Transform instantiated bullet towards camera center", "body": "<p>So i think you want to fire a projectile from a \"gun\" object towards whatever is at the centre of your screen (regardless of central objects distance)</p>\n\n<p>This script is working for me and shoots dead into the centre of the view.</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Gun : MonoBehaviour\n{\n\npublic Transform bulletCapTransform;\npublic GameObject bulletCap;\n\npublic float ammo;\npublic float magAmmo;\n\npublic GameObject shootEffect;\npublic Transform bulletTransform;\npublic GameObject bullet;\npublic float bulletForce;\n\npublic GameObject crossHair;\n\npublic float fireRate = 0.3333f;\nprivate float timeStamp;\n\nAnimator anim;\n\n// Use this for initialization\nvoid Start()\n{\n    anim = gameObject.GetComponent&lt;Animator&gt;();\n}\n\n// Update is called once per frame\nvoid Update()\n{\n\n   Shoot();\n   Aim();\n\n}\n\npublic void OnGUI()\n{\n    GUI.Box(new Rect(10, 10, 50, 25), magAmmo + \" / \" + ammo);\n}\n\npublic void Shoot()\n{\n    if (Time.time &gt;= timeStamp &amp;&amp; Input.GetButton(\"Fire1\") &amp;&amp; magAmmo &gt; 0)\n    {\n        Debug.Log(\"shoot\");\n        GameObject bulletCapInstance;\n        bulletCapInstance = Instantiate(bulletCap, bulletCapTransform.transform.position, bulletCapTransform.rotation) as GameObject;\n        bulletCapInstance.GetComponent&lt;Rigidbody&gt;().AddForce(bulletCapTransform.right * 10000);\n\n\n        //This will send a raycast straight forward from your camera centre.\n        Ray ray = Camera.main.ViewportPointToRay(new Vector3(0.5f, 0.5f, 0));\n        RaycastHit hit;\n        //check for a hit\n        if (Physics.Raycast(ray, out hit))\n        {\n            // take the point of collision (make sure all objects have a collider)\n            Vector3 colisionPoint = hit.point;\n\n            //Create a vector for the path of the bullet from the 'gun' to the target\n            Vector3 bulletVector = colisionPoint - bullet.transform.position;\n\n            GameObject bulletInstance = Instantiate(bullet, bulletTransform) as GameObject;\n\n            //See it on it's way\n            bulletInstance.GetComponent&lt;Rigidbody&gt;().AddForce(bulletVector * bulletForce);\n\n        }\n\n\n        Instantiate(shootEffect, bulletTransform);\n\n        timeStamp = Time.time + fireRate;\n\n        magAmmo = magAmmo - 1;\n    }\n\n    if (Input.GetKeyDown(KeyCode.R))\n    {\n        //This is just for testing\n        magAmmo = magAmmo + 10;\n    }\n}\n\nvoid Aim()\n{\n    if (Input.GetButton(\"Fire2\"))\n    {\n        anim.SetBool(\"Aiming\", true);\n        crossHair.SetActive(false);\n    }\n    else\n    {\n        anim.SetBool(\"Aiming\", false);\n        crossHair.SetActive(true);\n    }\n}\n}\n</code></pre>\n\n<p>The crucial point to remember is this:</p>\n\n<pre><code>Camera.main.ViewportPointToRay(0.5, 0.5, 0);\n</code></pre>\n\n<p>Will shoot a raycast dead ahead from the centre of your screen.</p>\n\n<p>It's worth really getting to know raycasting and it's ins and outs. it seems daunting at first but its so useful once you've got it down and it's pretty intuitive. There are a lot of good youtube tutorials.</p>\n\n<p>Hope your game turns out good! </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9608906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1545, "favorite_count": 0, "accepted_answer_id": 50143662, "answer_count": 1, "score": 0, "last_activity_date": 1582745035, "creation_date": 1525290958, "last_edit_date": 1582745035, "question_id": 50142554, "link": "https://stackoverflow.com/questions/50142554/transform-instantiated-bullet-towards-camera-center", "title": "Transform instantiated bullet towards camera center", "body": "<p>I have made a very simple gun script, currently the bullet transform in the same direction as the GameObject i have set as the bullet spawn position. but i want the bullet to transform towards the center of the camera, i have a couple of different ideas. The 1st one is shooting a raycast when the raycast hit something transform the bullet form bulletpos to raycasthit position. But i dont quite know how to do this, can anyone help me?</p>\n\n<p>Here is my script: </p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class Gun : MonoBehaviour {\n\n    public Transform bulletCapTransform;\n    public GameObject bulletCap;\n\n    public float ammo;\n    public float magAmmo;\n\n    public GameObject shootEffect;\n    public Transform bulletTransform;\n    public GameObject bullet;\n    public float bulletForce;\n\n    public GameObject crossHair;\n\n    public float fireRate = 0.3333f;\n    private float timeStamp;\n\n    Animator anim;\n\n    // Use this for initialization\n    void Start ()\n    {\n        anim = gameObject.GetComponent&lt;Animator&gt;();\n    }\n\n    // Update is called once per frame\n    void Update ()\n    {\n        Shoot();\n        Aim();\n    }\n\n    public void OnGUI()\n    {\n        GUI.Box(new Rect(10, 10, 50, 25), magAmmo + \" / \" + ammo);\n    }\n\n    public void Shoot()\n    {\n        if(Time.time &gt;= timeStamp &amp;&amp; Input.GetButton(\"Fire1\") &amp;&amp; magAmmo &gt; 0)\n        {\n            GameObject bulletCapInstance;\n            bulletCapInstance = Instantiate(bulletCap, bulletCapTransform.transform.position, bulletCapTransform.rotation) as GameObject;\n            bulletCapInstance.GetComponent&lt;Rigidbody&gt;().AddForce(bulletCapTransform.right *10000);\n\n            GameObject bulletInstance;\n            bulletInstance = Instantiate(bullet, bulletTransform) as GameObject;\n            bulletInstance.GetComponent&lt;Rigidbody&gt;().AddForce(bulletTransform.forward * bulletForce);\n\n            Instantiate(shootEffect, bulletTransform);\n\n            timeStamp = Time.time + fireRate;\n\n            magAmmo = magAmmo -1;\n        }\n\n        if(Input.GetKeyDown(KeyCode.R))\n        {\n            //This is just for testing\n            magAmmo = magAmmo + 10;\n        }\n    }\n\n    void Aim()\n    {\n        if(Input.GetButton(\"Fire2\"))\n        {\n            anim.SetBool(\"Aiming\", true);\n            crossHair.SetActive(false);\n        }\n        else\n        {\n            anim.SetBool(\"Aiming\", false);\n            crossHair.SetActive(true);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "concurrency"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525291490, "post_id": 50142516, "comment_id": 87303582, "body": "What sets the value for <code>message.number</code>? Are those guaranteed to be unique? If so, could you use a <a href=\"https://msdn.microsoft.com/en-us/library/dd287191(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>ConcurrentDictionary</code></a> with <code>message.number</code> as the <code>Key</code>?"}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525291621, "post_id": 50142516, "comment_id": 87303636, "body": "@RufusL Those are set on the server. No, they are not guaranteed to be unique. However, the last to arrive is always correct. I thought about <code>ConcurrentDictionary</code> and if the key exists, just overwrite the value. Not sure that is suitable, though."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1525291639, "post_id": 50142516, "comment_id": 87303644, "body": "I would re-evaluate how this is setup. But, if I was stuck in this scenario, I would probably end up with a custom class where I managed a List myself using <code>lock</code>. Not ideal, but I don&#39;t see any of the thread-safe collections being viable in this scenario. Hopefully I am wrong and would love to see a proper answer."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 2, "creation_date": 1525291957, "post_id": 50142516, "comment_id": 87303784, "body": "Just saw your comment about <code>last to arrive is always correct</code>. Perhaps <code>ConcurrentStack&lt;T&gt;</code>? It&#39;s LIFO."}, {"owner": {"reputation": 72582, "user_id": 27204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29671a1757eb710d42d327926b5e08b5?s=128&d=identicon&r=PG", "display_name": "gnud", "link": "https://stackoverflow.com/users/27204/gnud"}, "edited": false, "score": 0, "creation_date": 1525291996, "post_id": 50142516, "comment_id": 87303806, "body": "&quot;No, they are not guaranteed to be unique. However, the last to arrive is always correct. &quot; Doesn&#39;t this mean you shouldn&#39;t process <i>any</i> messages until they&#39;ve all arrived? Or am I misunderstanding something?"}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "reply_to_user": {"reputation": 72582, "user_id": 27204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29671a1757eb710d42d327926b5e08b5?s=128&d=identicon&r=PG", "display_name": "gnud", "link": "https://stackoverflow.com/users/27204/gnud"}, "edited": false, "score": 0, "creation_date": 1525292165, "post_id": 50142516, "comment_id": 87303888, "body": "@gnud I must check if the message with the required <code>number</code> has arrived, so I need to check each message. However, the message might be invalid and so it can be thrown away as the valid one will arrive later."}, {"owner": {"reputation": 72582, "user_id": 27204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29671a1757eb710d42d327926b5e08b5?s=128&d=identicon&r=PG", "display_name": "gnud", "link": "https://stackoverflow.com/users/27204/gnud"}, "edited": false, "score": 0, "creation_date": 1525292453, "post_id": 50142516, "comment_id": 87304022, "body": "OK. If the message is invalid, will the valid one that you receive later have the same number as the invalid one? Or is this a sequence number that always rises as the server creates new messages, even though you might receive them in any order?"}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "reply_to_user": {"reputation": 72582, "user_id": 27204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29671a1757eb710d42d327926b5e08b5?s=128&d=identicon&r=PG", "display_name": "gnud", "link": "https://stackoverflow.com/users/27204/gnud"}, "edited": false, "score": 0, "creation_date": 1525292532, "post_id": 50142516, "comment_id": 87304070, "body": "@gnud &quot;If the message is invalid, will the valid one that you receive later have the same number as the invalid one?&quot;. Yup, exactly. The latest message is essentially an <code>updated</code> one."}, {"owner": {"reputation": 72582, "user_id": 27204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29671a1757eb710d42d327926b5e08b5?s=128&d=identicon&r=PG", "display_name": "gnud", "link": "https://stackoverflow.com/users/27204/gnud"}, "edited": false, "score": 2, "creation_date": 1525292603, "post_id": 50142516, "comment_id": 87304108, "body": "See - I thought that when you received message &quot;1&quot; you only cared about message &quot;2&quot; and up. But you always need to store all messages, at most one for each number. So why not just use a ConcurrentDictionary?"}, {"owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "edited": false, "score": 0, "creation_date": 1525336376, "post_id": 50142516, "comment_id": 87318603, "body": "Thanks @all. In the end, the <code>ConcurrentDictionary</code> turned out to be suitable. Nevertheless, it would be nice if there was a thread-safe sorted collection in .Net. I&#39;m lucky that the key <code>number</code> can simply be overwritten, but that may not always be the case."}], "owner": {"reputation": 2861, "user_id": 596841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9f4e5364ebc28bbbb6744e50e08e1447?s=128&d=identicon&r=PG", "display_name": "pookie", "link": "https://stackoverflow.com/users/596841/pookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 969, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525290800, "creation_date": 1525290800, "question_id": 50142516, "link": "https://stackoverflow.com/questions/50142516/how-to-sort-a-concurrentbag", "title": "How to sort a ConcurrentBag?", "body": "<p>I am working on a client/server application. The server sends messages to the client, but the order cannot be guaranteed. I am using TCP... I don't want to get into why the order cannot be guaranteed (it is to do with threads on the server).</p>\n\n<p>Anyway, on the client, I am processing messages like this:</p>\n\n<pre><code>private Queue&lt;byte[]&gt; rawMessagesIn = new Queue&lt;byte[]&gt;();\npublic ConcurrentBag&lt;ServerToClient&gt; messages = new ConcurrentBag&lt;ServerToClient&gt;();\n\npublic void Start()\n{\n    var processTask = Task.Factory.StartNew(() =&gt;\n    {\n        while (run)\n        {\n            process();\n        }\n    });\n}\n\nvoid process(){\n    if(rawMessagesIn.Count &gt; 0){\n        var raw_message = rawMessagesIn.Dequeue();\n        var message = (ServerToClient)Utils.Deserialize(raw_message);\n            messages.Add(message);\n    }\n}\n\nprivate void OnDataReceived(object sender, byte[] data)\n{\n    rawMessagesIn.Enqueue(data);\n}\n</code></pre>\n\n<p>Now, it is important that when I call <code>messages.TryTake()</code> or <code>messages.TryPeek()</code> that the message <code>out</code> is the next in the sequence. Every message has a number/integer representing its order. For example, <code>message.number = 1</code></p>\n\n<p>I need to use <code>TryPeek</code> because the message at index 0 might be the correct message or it might be the wrong message, in which case we remove the message from the bag. However, there is a possibility that the message is a future required message, and so it should not be removed.</p>\n\n<p>I have tried using <code>message.OrderBy(x=&gt;x.number).ToList();</code> but I cannot see how it will work. If I use the <code>OrderBy</code> and get a sorted list <code>SL</code> and the item at index 0 is the correct one, I cannot simply remove or modify <code>messages</code> because I do not know its position in the <code>ConcurrentBag</code>!</p>\n\n<p>Does anyone have a suggestion for me? </p>\n"}, {"tags": ["c#", "wpf", "imagesource"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525293511, "post_id": 50142617, "comment_id": 87304554, "body": "Thank you for your answer. I&#39;ve tried to put the pieces together and it seems like the images created does not appear. I have the following in the XAML file: &lt;Image Grid.Row=&quot;1&quot; Stretch=&quot;Fill&quot; Source=&quot;{Binding Source, Mode=TwoWay}&quot; Width=&quot;60&quot; Height=&quot;80&quot; VerticalAlignment=&quot;Top&quot; Visibility=&quot;Visible&quot;&gt;  I&#39;ve assigned the returned value to a property called Source (public ImageSource Source)."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525293707, "post_id": 50142617, "comment_id": 87304629, "body": "You&#39;ve bound the Image&#39;s Source property to a Source property in your view model (where Mode=TwoWay makes no sense). Does the view model property notify about value changes, e.g. by firing the PropertyChanged event of the INotifyPropertyChanged interface?"}, {"owner": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525293931, "post_id": 50142617, "comment_id": 87304728, "body": "Yes, it does. Here it is: private ImageSource _source;         public ImageSource Source         {             get { return this._source; }             set             {                 this._source = value;                 this.RaisePropertyChanged();             }         }  The RaisePropertyChanged method is part of a class which implements the INotifyPropertyChanged interface.  For other properties it works well."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525294037, "post_id": 50142617, "comment_id": 87304778, "body": "That should work. Try to use ActualWidth and ActualHeight of the RootGrid instead of Width and Height, as shown in the edited answer."}, {"owner": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525294122, "post_id": 50142617, "comment_id": 87304825, "body": "I&#39;ve changed it and still nothing, it doesn&#39;t appear."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525294218, "post_id": 50142617, "comment_id": 87304873, "body": "Does it work if you assign any other image to the Source property, e.g. one created from an existing image file path, e.g. <code>Source = new BitmapImage(new Uri(filePath));</code>?"}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525294843, "post_id": 50142617, "comment_id": 87305156, "body": "That&#39;s certainly out of the scope of your initial question, but you may have forgotton to assign the Window&#39;s DataContext to your view model instance, so that the Binding has no source object."}, {"owner": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525297596, "post_id": 50142617, "comment_id": 87306283, "body": "You were right. I&#39;ve forgotten to set the data context. Yet, by setting it, now it displays an image that is on the hard drive, but it doesn&#39;t do anything when it&#39;s bound."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "reply_to_user": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "edited": false, "score": 0, "creation_date": 1525325193, "post_id": 50142617, "comment_id": 87313182, "body": "What does that mean? If you load a BitmapImage from file and assign that to the <i>view model</i> Source property it works? But not with the ImageSource returned from your method?"}], "tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": true, "score": 0, "last_activity_date": 1525293570, "last_edit_date": 1525293570, "creation_date": 1525291236, "answer_id": 50142617, "question_id": 50142401, "link": "https://stackoverflow.com/questions/50142401/show-a-rendered-image-of-a-uielementvisual-in-an-image-control-wpf/50142617#50142617", "title": "Show a rendered image of a UIelement(Visual) in an Image control WPF", "body": "<p>You don't need to do any image encoding.</p>\n\n<p>Assuming that there is an Image element named <code>image</code>, you could directly assign the RenderTargetBitmap to its Source property like this:</p>\n\n<pre><code>image.Source = renderTargetBitmap;\n</code></pre>\n\n<hr>\n\n<p>You may change your method to this:</p>\n\n<pre><code>private ImageSource CreateImageOfPage()\n{\n    var rootGrid = WorkSheetViewModelList.Last().RootGrid;\n    var width = (int)rootGrid.ActualWidth;\n    var height = (int)rootGrid.ActualHeight;\n    var renderTargetBitmap = new RenderTargetBitmap(\n        width, height, 96, 96, PixelFormats.Pbgra32);\n    renderTargetBitmap.Render(rootGrid);\n    return renderTargetBitmap;\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>image.Source = CreateImageOfPage();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7322258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2dc105c9e8ad45935936b584975412c?s=128&d=identicon&r=PG&f=1", "display_name": "Kocsis Elod", "link": "https://stackoverflow.com/users/7322258/kocsis-elod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 50142617, "answer_count": 1, "score": 0, "last_activity_date": 1525293570, "creation_date": 1525290266, "question_id": 50142401, "link": "https://stackoverflow.com/questions/50142401/show-a-rendered-image-of-a-uielementvisual-in-an-image-control-wpf", "title": "Show a rendered image of a UIelement(Visual) in an Image control WPF", "body": "<p>I'm developing an application and I would like to implement a feature similar to Microsoft Power Point's paging system where there is a smaller image of the sheets you are working on on the side. </p>\n\n<p>I have the following function which renders an image of the Grid in which the user has to work.</p>\n\n<pre><code>private void CreateImageOfPage()\n    {\n        int width = (int)this.WorkSheetViewModelList.Last().RootGrid.Width;\n        int height = (int)this.WorkSheetViewModelList.Last().RootGrid.Height;\n        RenderTargetBitmap renderTargetBitmap = new RenderTargetBitmap(width, height, 96, 96, PixelFormats.Pbgra32);\n        renderTargetBitmap.Render(this.WorkSheetViewModelList.Last().RootGrid);\n        PngBitmapEncoder pngImage = new PngBitmapEncoder();\n        pngImage.Frames.Add(BitmapFrame.Create(renderTargetBitmap));\n\n        JpegBitmapEncoder encoder = new JpegBitmapEncoder();\n        encoder.Frames.Add(BitmapFrame.Create(renderTargetBitmap));\n        Guid photoID = System.Guid.NewGuid();\n\n        String photolocation = \"Temp/\"+photoID.ToString() + \".png\";\n        using (var filestream = new FileStream(photolocation, FileMode.Create))\n            encoder.Save(filestream);\n        Console.WriteLine(Path.GetFullPath(photoID.ToString() + \".png\"));\n    }\n</code></pre>\n\n<p>My question is, how to get, set or format the path of the saved image to be set as Source of an Image in a XAML? In its current form the path looks like this : \"D:\\Project\\bin\\Debug\\7fd77420-f62e-44e7-b206-b5ce19f01a9e.png\", and it says it could not get the file at this location(for now I just copied the output in, but it will be bound, as it should be).</p>\n\n<p>If the path I've taken is not elegant, is there any other way to do it better, or without saving the image to the disk at all? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "api", "unity3d", "callout"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525289624, "post_id": 50142166, "comment_id": 87302656, "body": "The API expects a json body?"}, {"owner": {"reputation": 45, "user_id": 3648673, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6206510ea5932f1f42b0e4ce8fc38b8a?s=128&d=identicon&r=PG&f=1", "display_name": "user3648673", "link": "https://stackoverflow.com/users/3648673/user3648673"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525290104, "post_id": 50142166, "comment_id": 87302901, "body": "The string being used as the body is a json string. Unity only supports string or byte[] as body parameters, which is why im confused about this. Neither string or byte[] works. My assumption (going along with what you say) is that the unity put method doesn&#39;t convert it to a json body like it should."}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525290447, "post_id": 50142166, "comment_id": 87303075, "body": "<a href=\"https://www.google.com.sg/amp/s/codetolight.wordpress.com/2017/01/18/unity-rest-api-interaction-with-unitywebrequest-and-besthttp/amp/\" rel=\"nofollow noreferrer\">google.com.sg/amp/s/codetolight.wordpress.com/2017/01/18/&hellip;</a>"}, {"owner": {"reputation": 45, "user_id": 3648673, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6206510ea5932f1f42b0e4ce8fc38b8a?s=128&d=identicon&r=PG&f=1", "display_name": "user3648673", "link": "https://stackoverflow.com/users/3648673/user3648673"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525292542, "post_id": 50142166, "comment_id": 87304076, "body": "Thanks for sharing that link. I hadn&#39;t run across that while researching. Unfortunately, that is using a unity asset which I don&#39;t want to pay for."}, {"owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "edited": false, "score": 0, "creation_date": 1525303795, "post_id": 50142166, "comment_id": 87307963, "body": "You need to set the <i>&quot;Content-Type&quot;</i> header as <i>&quot;application/json&quot;</i>  See the <i>POST request with Json:</i> section from the duplicate. You can easily change that to PUT request."}], "owner": {"reputation": 45, "user_id": 3648673, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6206510ea5932f1f42b0e4ce8fc38b8a?s=128&d=identicon&r=PG&f=1", "display_name": "user3648673", "link": "https://stackoverflow.com/users/3648673/user3648673"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "closed_date": 1525303520, "answer_count": 0, "score": 0, "last_activity_date": 1525289400, "creation_date": 1525289400, "question_id": 50142166, "link": "https://stackoverflow.com/questions/50142166/unity-c-rest-put-request-body-is-blank-on-server-side", "closed_reason": "Duplicate", "title": "Unity C# REST PUT request body is blank on server side", "body": "<p>The Unity C# code below is sending a username and a new and old password to a server that should be using PUT to update the database. The body in the request is blank on the server. uriBase is the base domain for the endpoint. The only way I can get my data to the server is to use URL parameters like a GET and using reqest.query to get the values but that is not the proper way to do it. Server is running NodeJs and MongoDB. Any ideas why the body would be received as empty? Alternatively, if anyone has any better suggestions without buying a Unity Asset to get the put request to work correctly, that would be appreciated. Thanks guys.</p>\n\n<pre><code>IEnumerator changePasswordCallout() {\n    string jsonRequest = \"{\\\"username\\\":\\\"\" + UsernameField.text + \"\\\",\\\"oldPassword\\\":\\\"\" + OldPasswordField.text + \"\\\",\\\"newPassword\\\":\\\"\" + NewPasswordField.text + \"\\\"}\";\n    byte[] body = System.Text.Encoding.UTF8.GetBytes(jsonRequest);\n\n    UnityWebRequest request = UnityWebRequest.Put(uriBase + \"/password/change\", body);\n    yield return request.SendWebRequest();\n    if (request.isNetworkError || request.isHttpError) {\n        // error code\n    } else {\n        // not error code\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "datagrid"], "comments": [{"owner": {"reputation": 549, "user_id": 9285072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91754ec0d7abac7f446c52290a964b2?s=128&d=identicon&r=PG&f=1", "display_name": "Shloime Rosenblum", "link": "https://stackoverflow.com/users/9285072/shloime-rosenblum"}, "edited": false, "score": 0, "creation_date": 1525290306, "post_id": 50142148, "comment_id": 87302994, "body": "<a href=\"https://stackoverflow.com/a/27057670/9285072\">stackoverflow.com/a/27057670/9285072</a>"}], "answers": [{"tags": [], "owner": {"reputation": 634, "user_id": 4991973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60e56b658a89c0af645bbde45af4aea?s=128&d=identicon&r=PG&f=1", "display_name": "Bulutay Sara&#231;", "link": "https://stackoverflow.com/users/4991973/bulutay-sara%c3%a7"}, "is_accepted": true, "score": 3, "last_activity_date": 1525373013, "last_edit_date": 1525373013, "creation_date": 1525367490, "answer_id": 50160558, "question_id": 50142148, "link": "https://stackoverflow.com/questions/50142148/changing-background-of-datagridtextcolumn-if-value-is-between-a-and-b/50160558#50160558", "title": "Changing background of DataGridTextColumn if value is between a and b", "body": "<p>I solved this with writing a Converter which implements from IValueConverter interface.</p>\n\n<p>if you wanna see your converter in XAML you need to reference it to a static resource like that </p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;local:myConverter x:Key=\"myConverter\"/&gt;\n&lt;/Window.Resources&gt;\n</code></pre>\n\n<p>My Design;</p>\n\n<pre><code>    &lt;Grid&gt;\n        &lt;DataGrid Name=\"dgList\" Background=\"LightGray\" AutoGenerateColumns=\"False\" IsReadOnly=\"True\"&gt;\n            &lt;DataGrid.Columns &gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"ID\" Binding=\"{Binding ID}\"&gt;&lt;/DataGridTextColumn&gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"Batterie\" Binding=\"{Binding Battery}\" &gt;\n                    &lt;DataGridTextColumn.ElementStyle&gt;\n                        &lt;Style TargetType=\"{x:Type TextBlock}\"&gt;\n                            &lt;Setter Property=\"Background\" Value=\"{Binding Battery, Converter={StaticResource myConverter}}\"&gt;&lt;/Setter&gt;\n                        &lt;/Style&gt;\n                    &lt;/DataGridTextColumn.ElementStyle&gt;\n                &lt;/DataGridTextColumn&gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"Current Use\" Binding=\"{Binding CurrentUse}\"&gt;&lt;/DataGridTextColumn&gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"Occupancy\" Binding=\"{Binding Occupancy}\"&gt;&lt;/DataGridTextColumn&gt;\n            &lt;/DataGrid.Columns&gt;\n        &lt;/DataGrid&gt;\n    &lt;/Grid&gt;\n</code></pre>\n\n<p><strong>This Binding takes your data Battery(10,30,40,80, etc.) and sends to converter.The converter returns an object and our object have to be a SolidColorBrush to bind it for BackGround.That's all.I solved like that</strong></p>\n\n<pre><code>&lt;Setter Property=\"Background\" Value=\"{Binding Battery, Converter={StaticResource myConverter}}\"&gt;&lt;/Setter&gt;\n</code></pre>\n\n<p>myConverter for Converting data to background;</p>\n\n<pre><code>public class myConverter : IValueConverter\n{\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        SolidColorBrush clr;\n        if (int.Parse(value.ToString()) &gt;= 80)\n            clr = new SolidColorBrush(Colors.Green);\n        else if (int.Parse(value.ToString()) &gt;= 40)\n            clr = new SolidColorBrush(Colors.Orange);\n        else if (int.Parse(value.ToString()) &gt;= 0)\n            clr = new SolidColorBrush(Colors.Red);\n        else\n            clr = new SolidColorBrush(Colors.White);\n\n        return clr;\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>I created a class for your example(i did not see yours if i am wrong sorry)</p>\n\n<pre><code>public class Class1\n{\n    public int ID { get; set; }       \n    public string Battery { get; set; }\n    public string CurrentUse { get; set; }\n    public string Occupancy { get; set; }\n\n    public static List&lt;Class1&gt; myList = new List&lt;Class1&gt;()\n    {\n        new Class1() {ID = 1, Battery = \"70\", CurrentUse = \"xxxx\", Occupancy = \"xxxx\" },\n        new Class1() {ID = 2, Battery = \"100\", CurrentUse = \"xxxx\", Occupancy = \"xxxx\" },\n        new Class1() {ID = 3, Battery = \"10\", CurrentUse = \"xxxx\", Occupancy = \"xxxx\" },\n        new Class1() {ID = 4, Battery = \"50\", CurrentUse = \"xxxx\", Occupancy = \"xxxx\" },\n        new Class1() {ID = 5, Battery = \"80\", CurrentUse = \"xxxx\", Occupancy = \"xxxx\" },\n        new Class1() {ID = 6, Battery = \"40\", CurrentUse = \"xxxx\", Occupancy = \"xxxx\" },\n        new Class1() {ID = 7, Battery = \"39\", CurrentUse = \"xxxx\", Occupancy = \"xxxx\" }\n    };\n}\n</code></pre>\n\n<p>On MainWindow</p>\n\n<pre><code>private void Window_Loaded(object sender, RoutedEventArgs e)\n{\n    dgList.ItemsSource = Class1.myList;\n}\n</code></pre>\n\n<p>My Screenshots from project.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2XMkD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2XMkD.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/FpT0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FpT0h.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 77, "user_id": 7403252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e054622c22dac849c86a67a6cfc719a4?s=128&d=identicon&r=PG&f=1", "display_name": "Simon SCH&#214;NEGGER", "link": "https://stackoverflow.com/users/7403252/simon-sch%c3%96negger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 50160558, "answer_count": 1, "score": 0, "last_activity_date": 1525373013, "creation_date": 1525289338, "last_edit_date": 1525367728, "question_id": 50142148, "link": "https://stackoverflow.com/questions/50142148/changing-background-of-datagridtextcolumn-if-value-is-between-a-and-b", "title": "Changing background of DataGridTextColumn if value is between a and b", "body": "<p>So I'm trying to change the background of a cell in Datagrid depending on its value. So if i would want to change it depending on a static value i would use a StyleTrigger but that's not the case.</p>\n\n<p>For example: I want a green background if the value of the cell is between 80 and 100, an orange background if the value is between 40 and 79 and a red background if it's below 40... How would i accomplish that?</p>\n\n<p>Currently I'm using a StyleTrigger just for testing so don't mind that...</p>\n\n<p>Here's my XAML code:</p>\n\n<pre><code>&lt;DataGrid Background=\"LightGray\" ItemsSource=\"{Binding Source={StaticResource Properties}, Path=TableData}\"\n                  AutoGenerateColumns=\"False\" IsReadOnly=\"True\"&gt;\n            &lt;DataGrid.Columns &gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"ID\" Binding=\"{Binding ID}\"&gt;&lt;/DataGridTextColumn&gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"Batterie\" Binding=\"{Binding Battery}\" &gt;\n                    &lt;DataGridTextColumn.ElementStyle&gt;\n                        &lt;Style TargetType=\"{x:Type TextBlock}\"&gt;\n                            &lt;Style.Triggers&gt;\n                                &lt;Trigger Property=\"Text\" Value=\"83\"&gt;\n                                    &lt;Setter Property=\"Background\" Value=\"LightGreen\"/&gt;\n                                &lt;/Trigger&gt;\n                            &lt;/Style.Triggers&gt;\n                        &lt;/Style&gt;\n                    &lt;/DataGridTextColumn.ElementStyle&gt;\n                &lt;/DataGridTextColumn&gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"Current Use\" Binding=\"{Binding CurrentUse}\"&gt;&lt;/DataGridTextColumn&gt;\n                &lt;DataGridTextColumn Width=\"100\" Header=\"Occupancy\" Binding=\"{Binding Occupancy}\"&gt;&lt;/DataGridTextColumn&gt;\n            &lt;/DataGrid.Columns&gt;\n        &lt;/DataGrid&gt;\n</code></pre>\n\n<p>Any help is appreciated!!</p>\n"}, {"tags": ["c#", "class", "dll"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1525289509, "post_id": 50142132, "comment_id": 87302595, "body": "is this DLL a .net dll or a plain windows dll. How did you call its functions"}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 4, "creation_date": 1525289509, "post_id": 50142132, "comment_id": 87302596, "body": "It is a .NET/CLR object, not a C# object."}, {"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 1, "creation_date": 1525289514, "post_id": 50142132, "comment_id": 87302600, "body": "In the IL - which is what the dll (assembly) consists of - there&#180;s no such thing as a language, at least not C# or VB. It&#180;s just IL. Thus even your C#-code is translated to IL. So it doesn&#180;t matter in which language you wrote your code, it gets transformed to IL. However the details are far too broad for a single answer here, which is why I&#180;m voting to close this question as &quot;too broad&quot;."}, {"owner": {"reputation": 1672, "user_id": 4697963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DIJum.jpg?s=128&g=1", "display_name": "Markiian Benovskyi", "link": "https://stackoverflow.com/users/4697963/markiian-benovskyi"}, "edited": false, "score": 0, "creation_date": 1525289570, "post_id": 50142132, "comment_id": 87302625, "body": "It is unclear if you are writing your DLL or using external. For example if you are developing C# DLL then you should make your C# class exposed to COM and then you can use it with C++"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1525291199, "post_id": 50142132, "comment_id": 87303442, "body": "Any compiler that can generate code that runs in .NET generates IL.  An acronym for Intermediate Language.  That language has support for objects, the way they behave in IL is not fundamentally different from the way they behave in C#.  Specific to DBConnection, the provider for a database is often written in the C language.  Made usable to any .NET compatible language by a wrapper written in the C++/CLI language extension.  Sometimes by using pinvoke."}], "answers": [{"tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": true, "score": 3, "last_activity_date": 1525290703, "last_edit_date": 1525290703, "creation_date": 1525290090, "answer_id": 50142358, "question_id": 50142132, "link": "https://stackoverflow.com/questions/50142132/classes-in-a-dll/50142358#50142358", "title": "Classes in a DLL", "body": "<p>Not all DLLs are created equal. Some are COM-specific. Some are not. Some are .Net IL assemblies. Some are not. This DLL is a .Net assembly. The class objects it provides for your are <em>not</em> strictly C# objects. They are <em>.Net</em> objects. </p>\n\n<p>This works out for you because C# is itself built for .Net, and uses .Net objects. If you were using VB.Net, F#, IronPython, C++CLR, or other platform that uses .Net, you'd also be able to use the DLL. But C, Java, VBA etc would have a much harder time.</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 3058487, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000913586290/picture?type=large", "display_name": "Paulo", "link": "https://stackoverflow.com/users/3058487/paulo"}, "is_accepted": false, "score": 1, "last_activity_date": 1525983916, "last_edit_date": 1525983916, "creation_date": 1525290339, "answer_id": 50142415, "question_id": 50142132, "link": "https://stackoverflow.com/questions/50142132/classes-in-a-dll/50142415#50142415", "title": "Classes in a DLL", "body": "<p>The .NET assembly is a standard independent of language. \nIf you write a code in c# it will generate the same \"assembly\" .NET than VB .NET or F#. </p>\n\n<p>The DLL does not return a \"C# Object\". The DLL return a .NET object. </p>\n"}], "owner": {"reputation": 23, "user_id": 9552622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7fc20ef2d8db744e6453eeb67cb5a26?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme Albertini", "link": "https://stackoverflow.com/users/9552622/guilherme-albertini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 50142358, "answer_count": 2, "score": 2, "last_activity_date": 1525983916, "creation_date": 1525289275, "question_id": 50142132, "link": "https://stackoverflow.com/questions/50142132/classes-in-a-dll", "title": "Classes in a DLL", "body": "<p>I was using a DLL in C# and called a method which returned me a C# object of the DBConnection class. My question is, if the DLL don\u2019t know which language it will be used on, how can it return an object of a C# class?</p>\n"}, {"tags": ["c#", ".net", "multithreading", "httpclient"], "answers": [{"tags": [], "owner": {"reputation": 722, "user_id": 9533368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hZ61C.png?s=128&g=1", "display_name": "egnomerator", "link": "https://stackoverflow.com/users/9533368/egnomerator"}, "is_accepted": true, "score": 2, "last_activity_date": 1525289398, "creation_date": 1525289398, "answer_id": 50142165, "question_id": 50142026, "link": "https://stackoverflow.com/questions/50142026/is-httpclientextension-postasjsonasync-thread-safe/50142165#50142165", "title": "Is HttpClientExtension.PostAsJsonAsync thread safe?", "body": "<p>Based on this <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.httpclientextensions(v=vs.118).aspx#Anchor_3\" rel=\"nofollow noreferrer\">reference</a>, I believe it is thread safe.</p>\n\n<blockquote>\n  <p>Any public static (Shared in Visual Basic) members of this type are thread safe. Any instance members are not guaranteed to be thread safe.</p>\n</blockquote>\n"}], "owner": {"reputation": 2938, "user_id": 2080104, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b10f165a6f9e787721f06decff6afa75?s=128&d=identicon&r=PG", "display_name": "CamHart", "link": "https://stackoverflow.com/users/2080104/camhart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 50142165, "answer_count": 1, "score": 0, "last_activity_date": 1525289398, "creation_date": 1525288809, "question_id": 50142026, "link": "https://stackoverflow.com/questions/50142026/is-httpclientextension-postasjsonasync-thread-safe", "title": "Is HttpClientExtension.PostAsJsonAsync thread safe?", "body": "<p>The correct way to use HttpClient, is to create one for the lifetime of the application.  However, there are only a subset of methods on HttpClient that are thread safe.  (see <a href=\"https://msdn.microsoft.com/en-us/library/system.net.http.httpclient(v=vs.110).aspx#Anchor_5\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.net.http.httpclient(v=vs.110).aspx#Anchor_5</a>)</p>\n\n<p>My question is, are HttpClientExtension methods thread safe, like PostAsJsonAsync.</p>\n\n<p>I understand that it's an extension method, which basically means its a static method.  However if it uses a thread unsafe method of the HttpClient passed in, then it wouldn't be thread safe.  There's also the slight chance that some static state is maintained internally (I really hope not), as well.</p>\n\n<p>I've tried looking for source code but couldn't find it, and I can't find any documentation about it.</p>\n"}, {"tags": ["c#", "xaml", "uwp", "uwp-xaml"], "comments": [{"owner": {"reputation": 132837, "user_id": 872395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fda7547e45dc39d83202c20e7786ef0?s=128&d=identicon&r=PG", "display_name": "nemesv", "link": "https://stackoverflow.com/users/872395/nemesv"}, "edited": false, "score": 0, "creation_date": 1525288891, "post_id": 50142011, "comment_id": 87302272, "body": "How and where do you set the DataContext for your view? Does your Character class have a public name property?"}, {"owner": {"reputation": 53, "user_id": 9715808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jhthewow", "link": "https://stackoverflow.com/users/9715808/jhthewow"}, "reply_to_user": {"reputation": 132837, "user_id": 872395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fda7547e45dc39d83202c20e7786ef0?s=128&d=identicon&r=PG", "display_name": "nemesv", "link": "https://stackoverflow.com/users/872395/nemesv"}, "edited": false, "score": 0, "creation_date": 1525289587, "post_id": 50142011, "comment_id": 87302639, "body": "Yes it has a public name property. I also edited the post, including how I set the data context."}, {"owner": {"reputation": 13162, "user_id": 194717, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/iqPjY.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/194717/tony"}, "edited": false, "score": 0, "creation_date": 1525289709, "post_id": 50142011, "comment_id": 87302702, "body": "Try to use ObservableCollection instead of List"}, {"owner": {"reputation": 53, "user_id": 9715808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jhthewow", "link": "https://stackoverflow.com/users/9715808/jhthewow"}, "edited": false, "score": 0, "creation_date": 1525290005, "post_id": 50142011, "comment_id": 87302847, "body": "Using Observable collection works, thank you!"}, {"owner": {"reputation": 13162, "user_id": 194717, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/iqPjY.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/194717/tony"}, "edited": false, "score": 0, "creation_date": 1525290175, "post_id": 50142011, "comment_id": 87302936, "body": "I will post as answer, so you can mark it, ok?"}], "answers": [{"tags": [], "owner": {"reputation": 13162, "user_id": 194717, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/iqPjY.jpg?s=128&g=1", "display_name": "Tony", "link": "https://stackoverflow.com/users/194717/tony"}, "is_accepted": true, "score": 0, "last_activity_date": 1525290198, "creation_date": 1525290198, "answer_id": 50142382, "question_id": 50142011, "link": "https://stackoverflow.com/questions/50142011/bindig-list-to-listview-in-xaml-not-working/50142382#50142382", "title": "Bindig List to ListView in XAML not working?", "body": "<p>Try to use ObservableCollection instead of List</p>\n\n<pre><code>private ObservableCollection&lt;Character&gt; _Characters;\n\npublic ObservableCollection&lt;Character&gt; Characters\n{\n    get { return _Characters; }\n    set { Set(ref _Characters, value);}\n}\n</code></pre>\n\n<p>also give a look at <a href=\"https://github.com/Fody/PropertyChanged\" rel=\"nofollow noreferrer\">https://github.com/Fody/PropertyChanged</a></p>\n"}], "owner": {"reputation": 53, "user_id": 9715808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jhthewow", "link": "https://stackoverflow.com/users/9715808/jhthewow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 50142382, "answer_count": 1, "score": 1, "last_activity_date": 1525290198, "creation_date": 1525288759, "last_edit_date": 1525289549, "question_id": 50142011, "link": "https://stackoverflow.com/questions/50142011/bindig-list-to-listview-in-xaml-not-working", "title": "Bindig List to ListView in XAML not working?", "body": "<p>I have read all the similar posts but did not found a solution for my problem.</p>\n\n<p>I have the following List:</p>\n\n<pre><code>private List&lt;Character&gt; _Characters;\n\npublic List&lt;Character&gt; Characters\n{\n    get { return _Characters; }\n    set { Set(ref _Characters, value);}\n}\n</code></pre>\n\n<p>As I debugged the code, all the items (around 500) are added to the list properly.</p>\n\n<p>My XAML looks like this:</p>\n\n<pre><code>&lt;StackPanel Orientation=\"Horizontal\"&gt;\n    &lt;TextBlock Text=\"Characters: \" FontWeight=\"Bold\" VerticalAlignment=\"Top\" /&gt;\n    &lt;ScrollViewer VerticalScrollBarVisibility=\"Visible\"&gt;\n        &lt;ItemsControl ItemsSource=\"{Binding Characters}\" &gt;\n            &lt;ItemsControl.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;TextBlock  Text=\"{Binding Path=name}\" IsTextSelectionEnabled=\"True\" Margin=\"12\" /&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ItemsControl.ItemTemplate&gt;\n        &lt;/ItemsControl&gt;\n    &lt;/ScrollViewer&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>However, when I run the program, the names are not displayed at all.</p>\n\n<p><strong>EDIT: Datacontext is set in the XAML:</strong></p>\n\n<pre><code>&lt;Page.DataContext&gt;\n    &lt;vm:MyViewModel /&gt;\n&lt;/Page.DataContext&gt;\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "answers": [{"tags": [], "owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "is_accepted": true, "score": 2, "last_activity_date": 1525291271, "last_edit_date": 1525291271, "creation_date": 1525288996, "answer_id": 50142074, "question_id": 50141979, "link": "https://stackoverflow.com/questions/50141979/ef-one-to-one-update-fails/50142074#50142074", "title": "EF One-to-One Update fails", "body": "<p>This is because you are adding the entity again. You need to attach the object first by calling <code>db.Accounts.Attach(account);</code>.</p>\n\n<p>Or a better approach would be to first fetch based on Id and then modify the desired fields like this :</p>\n\n<pre><code>       using (var db = new MainContext())\n        {\n            var account =  db.Accounts.SingleOrDefault(x =&gt; x.id == accountId);\n            account.AccountNumber = \"9876\"\n            db.SaveChanges();\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": false, "score": 2, "last_activity_date": 1525291509, "creation_date": 1525291509, "answer_id": 50142696, "question_id": 50141979, "link": "https://stackoverflow.com/questions/50141979/ef-one-to-one-update-fails/50142696#50142696", "title": "EF One-to-One Update fails", "body": "<p>This is a side effect of the <code>db.Accounts.Add(account);</code> call. It sets some shadow state to <code>Added</code> which cannot be negated by the next <code>State</code> manipulations.</p>\n\n<p><code>Attach</code> in advance doesn't work in this case. So either use the second suggestion by @Harsh, or if you want to do forced update, don't call <code>Add</code> but simply set the <code>State</code> of the <code>account</code> to <code>Modified</code>. This will attach it and mark it as modified w/o affecting the associated <code>Customer</code>.</p>\n\n<pre><code>using (var db = new MainContext())\n{\n    // disconnected record\n    var account = new Account()\n    {\n        Id = accountId,\n        AccountNumber = \"9876\",\n        Customer = new Customer() {Id = customerId}\n    };\n\n    db.Entry(account).State = EntityState.Modified; // &lt;-- enough\n\n    db.SaveChanges();\n}\n</code></pre>\n"}], "owner": {"reputation": 7009, "user_id": 115652, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b719f841be16f5f8fbcc5bb314a08ee0?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/115652/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 50142074, "answer_count": 2, "score": 2, "last_activity_date": 1525291509, "creation_date": 1525288626, "last_edit_date": 1525288956, "question_id": 50141979, "link": "https://stackoverflow.com/questions/50141979/ef-one-to-one-update-fails", "title": "EF One-to-One Update fails", "body": "<p>I have one-to-one relationship defined in EF6 which works for Inserts. Unfortunately when I try an update with a disconnected record, I receive an error. Here are details:</p>\n\n<p><strong>.NET Source:</strong></p>\n\n<pre><code>namespace EF_ConsoleApp_Test\n{\n    public class Program\n    {\n        public static void Main(string[] args)\n        {\n            int? accountId;\n            int? customerId;\n\n            using (var db = new MainContext())\n            {\n                var account = new Account\n                {\n                    AccountNumber = \"1234\",\n                    Customer = new Customer {FirstName = \"John\"}\n                };\n\n                db.Accounts.Add(account);\n                db.SaveChanges();\n\n                accountId = account.Id;\n                customerId = account.Customer.Id;\n            }\n\n            using (var db = new MainContext())\n            {\n                // disconnected record\n                var account = new Account()\n                {\n                    Id = accountId,\n                    AccountNumber = \"9876\",\n                    Customer = new Customer() {Id = customerId}\n                };\n\n                db.Accounts.Add(account);\n                db.Entry(account).State = EntityState.Modified;\n                db.Entry(account.Customer).State = EntityState.Unchanged;\n\n                db.SaveChanges(); // Error occurs here\n            }\n        }\n\n        [Serializable]\n        [Table(\"CUSTOMERS\")]\n        public class Customer\n        {\n            [Key] [Column(\"CUSTOMER_ID\")] public int? Id { get; set; }\n\n            [Required]\n            [Column(\"FIRST_NAME\")]\n            [StringLength(45)]\n            public string FirstName { get; set; }\n\n            public virtual Account Account { get; set; }\n\n            public Customer() { }\n        }\n\n        [Serializable]\n        [Table(\"ACCOUNTS\")]\n        public class Account\n        {\n            [Key]\n            [DatabaseGeneratedAttribute(DatabaseGeneratedOption.Identity)]\n            [Column(\"ACCOUNT_ID\")]\n            public int? Id { get; set; }\n\n            [Required]\n            [Column(\"ACCOUNT_NUMBER\")]\n            [Display(Name = \"Account Number\")]\n            [StringLength(16)]\n            public string AccountNumber { get; set; }\n\n            public virtual Customer Customer { get; set; }\n\n            /// &lt;summary&gt;\n            /// Default Constructor\n            /// &lt;/summary&gt;\n            public Account() { }\n        }\n\n        internal class MainContext : DbContext\n        {\n            internal MainContext() : base(\"name=ACHRE.Context\")\n            {\n                Database.SetInitializer&lt;MainContext&gt;(null);\n            }\n\n            public virtual DbSet&lt;Account&gt; Accounts { get; set; }\n\n            public virtual DbSet&lt;Customer&gt; Customers { get; set; }\n\n            protected override void OnModelCreating(DbModelBuilder modelBuilder)\n            {\n                // Configure FK\n                modelBuilder.Entity&lt;Customer&gt;()\n                    .HasRequired(c =&gt; c.Account)\n                    .WithRequiredPrincipal(a =&gt; a.Customer)\n                    .Map(m =&gt; m.MapKey(\"CUSTOMER_ID\"));\n\n                base.OnModelCreating(modelBuilder);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Database Table Create statements:</strong></p>\n\n<pre><code>CREATE TABLE [dbo].[CUSTOMERS](\n    [CUSTOMER_ID] [INT] IDENTITY(1,1) NOT NULL,\n    [FIRST_NAME] [varchar](45) NOT NULL,\n CONSTRAINT [PK_CUSTOMERS] PRIMARY KEY CLUSTERED \n(\n    [CUSTOMER_ID] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY]\nGO\n\nCREATE TABLE [dbo].[ACCOUNTS](\n    [ACCOUNT_ID] [INT] IDENTITY(1,1) NOT NULL,\n    [CUSTOMER_ID] [int] NOT NULL,\n    [ACCOUNT_NUMBER] [varchar](16) NOT NULL,\n CONSTRAINT [PK_ACCOUNTS] PRIMARY KEY CLUSTERED \n(\n    [ACCOUNT_ID] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]\n) ON [PRIMARY]\n\nALTER TABLE [dbo].[ACCOUNTS]  WITH CHECK ADD  CONSTRAINT [FK_ACCOUNTS_CUSTOMERS] FOREIGN KEY([CUSTOMER_ID])\nREFERENCES [dbo].[CUSTOMERS] ([CUSTOMER_ID])\nGO\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>A relationship from the 'Customer_Account' AssociationSet is in the\n  'Added' state. Given multiplicity constraints, a corresponding\n  'Customer_Account_Target' must also in the 'Added' state.</p>\n</blockquote>\n\n<p>What do I need to update to make this work?</p>\n\n<p><strong>Notes</strong> </p>\n\n<ul>\n<li>This related to <a href=\"https://stackoverflow.com/questions/50011305/entity-framework-one-to-one-referentialconstraint-is-mapped-to-a-store-gener\">question</a> I asked before that was related to Inserts. The Insert was resolved but introduced this issue when the Foreign Keys were removed.</li>\n<li>Using EF 6.2 and .NET 4.7.1.</li>\n</ul>\n"}, {"tags": ["c#", "clr", "embedded-resource", "unmanaged", "managed"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1525293281, "post_id": 50141970, "comment_id": 87304449, "body": "This question contains hard facts, a mixed-mode assembly that contains machine code cannot be embedded as a resource.  And the CLR does <i>not</i> use the PATH environment variables to search for assemblies.  You already discovered how to do this correctly.  The proper way to create a single deployable file is by using an installer creator utility, many to chose from."}], "owner": {"reputation": 97, "user_id": 5265160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26c26bf4672e8ad61f82a96d43b646d3?s=128&d=identicon&r=PG&f=1", "display_name": "user5265160", "link": "https://stackoverflow.com/users/5265160/user5265160"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525288575, "creation_date": 1525288575, "question_id": 50141970, "link": "https://stackoverflow.com/questions/50141970/load-clr-assembly-with-unmanaged-code-as-embedded-resource-in-c-exe", "title": "Load CLR assembly (with unmanaged code) as embedded resource in C# exe", "body": "<p>I would like to have a CLR assembly stored as an embedded resource within my C# application and loaded during runtime.\nI included the dll as an embedded resource and attempted to retrieve the data bytes during runtime and load the assembly as follows</p>\n\n<pre><code>        using (var stream = Assembly.GetExecutingAssembly().GetManifestResourceStream(\"MyNamespace.MyCLRAssembly.dll\"))\n        {\n            byte[] assemblyData = new byte[stream.Length];\n            stream.Read(assemblyData, 0, assemblyData.Length);\n            return Assembly.Load(assemblyData);\n        }\n</code></pre>\n\n<p>However, this failed, reporting</p>\n\n<pre><code>Attempt to load an unverifiable executable with fixups (IAT with more than 2 sections or a TLS section.) (Exception from HRESULT: 0x80131019)\n</code></pre>\n\n<p>To prevent this error, the CLR dll needs to be compiled with the /CLR:Pure switch, however this is not possible because the CLR dll contains unmanaged code.</p>\n\n<p>Therefore I tried an alternative solution to extract the assembly and copy to a temp folder in the user AppData path, then setting the PATH variable accordingly. This failed, reporting file not found exception when the application attempted to access the CLR assembly. I can copy to the installation path of the C# application and this runs okay but not in a remote folder.</p>\n\n<p>As a test, I copied the CLR dll to a folder within the PATH variable but this failed. Can someone tell me what I am doing wrong? Does the problem relate to a difference in assembly types  i.e. C# assembly loading an assembly with managed and unmanaged C++. </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "sql", "entity-framework-core"], "comments": [{"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525288786, "post_id": 50141925, "comment_id": 87302225, "body": "You can not avoid using temp table? <code>update blogs set rating = @rating where BlogId in (select BlogId from blogs where rating &gt;= 10)</code> you can&#39;t use update query like this?"}, {"owner": {"reputation": 69, "user_id": 2475364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d27ba9cd2f75106de7d9c6076a70fcf6?s=128&d=identicon&r=PG", "display_name": "Dylan Orr", "link": "https://stackoverflow.com/users/2475364/dylan-orr"}, "reply_to_user": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525288906, "post_id": 50141925, "comment_id": 87302280, "body": "No, we use something like this to do bulk batched deletes creating the Temp table is very heavy so we need it run only once and be usable during the batch delete."}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525289031, "post_id": 50141925, "comment_id": 87302330, "body": "The simplified logic of your code is, you are updating rating column value to 10 for all the blogs which has rating &gt;=10. So you update query should be as simple as <code>UPDATE blogs set rating=10 WHERE rating &gt;=10</code>. With this you don&#39;t need temp table or subquery. One simple update statement would do the job"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1525289154, "post_id": 50141925, "comment_id": 87302401, "body": "Or you can have this entire thing written in stored procedure and execute stored proc from EF."}], "owner": {"reputation": 69, "user_id": 2475364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d27ba9cd2f75106de7d9c6076a70fcf6?s=128&d=identicon&r=PG", "display_name": "Dylan Orr", "link": "https://stackoverflow.com/users/2475364/dylan-orr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 296, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525290116, "creation_date": 1525288392, "last_edit_date": 1525290116, "question_id": 50141925, "link": "https://stackoverflow.com/questions/50141925/entity-framework-core-transactions-with-parameters", "title": "Entity Framework Core transactions with parameters", "body": "<p>This is a simplistic example but shows the error I am running into. I am trying to run in a transaction two commands which both have parameters. </p>\n\n<p>Example</p>\n\n<pre><code>using (var db = new BloggingContext())\n{\n    using (IDbContextTransaction t = db.Database.BeginTransaction())\n    { \n        using (var cmd = (IDbCommand) new SqlCommand())\n        {\n            cmd.CommandText = \"CREATE TABLE [#sessionlist] (Id bigint);\" +\n                \"Insert into #sessionlist \" +\n                \"select BlogId from blogs \" +\n                \"where rating &gt;= 10\";\n            cmd.CommandType = CommandType.Text;\n\n            var p = cmd.CreateParameter();\n            p.ParameterName = \"rating\";\n            p.Value = 10;\n            cmd.Parameters.Add(p);\n\n            cmd.Connection = db.Database.GetDbConnection();\n            cmd.Transaction = t.GetDbTransaction();\n            cmd.ExecuteNonQuery();\n        }\n\n        using (var cmd = (IDbCommand) new SqlCommand())\n        {\n            cmd.CommandText = \"update blogs set rating = @rating where BlogId in (select * from #sessionList)\";\n            cmd.CommandType = CommandType.Text;\n\n            var p = cmd.CreateParameter();\n            p.ParameterName = \"rating\";\n            p.Value = 10;\n            cmd.Parameters.Add(p);\n\n            cmd.Connection = db.Database.GetDbConnection();\n            cmd.Transaction = t.GetDbTransaction();\n            cmd.ExecuteNonQuery();\n        }\n\n        t.Commit();\n    }\n}\n</code></pre>\n\n<p>Running this command fails with Invalid object name #sessionlist as it doesn't seem to run in the same transaction. If in the first cmd is modified so NO parameters are added, and instead the parameter is hardcoded. It executes ok. </p>\n\n<p>How can I run multiple commands in a single transaction, both of which have their own parameters? </p>\n\n<p>The production code is more complex and does require both commands be separate, as it creates a heavy temp table that is referenced in the second command. </p>\n"}, {"tags": ["c#", "selenium-webdriver"], "comments": [{"owner": {"reputation": 1378, "user_id": 5120498, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh5.googleusercontent.com/-pOaiINOsGB8/AAAAAAAAAAI/AAAAAAAAAgM/WiAV7hJgU78/photo.jpg?sz=128", "display_name": "Striter Alfa", "link": "https://stackoverflow.com/users/5120498/striter-alfa"}, "edited": false, "score": 1, "creation_date": 1525289458, "post_id": 50141920, "comment_id": 87302567, "body": "Please, can you explain the html code? There are 4 input tags, but the two above are equals the others. Also, there is no class with <code>invalid</code> class to compare with the first input"}, {"owner": {"reputation": 577, "user_id": 3980994, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/65714e6a7993c40e1358b0b63afb6a31?s=128&d=identicon&r=PG&f=1", "display_name": "deasa", "link": "https://stackoverflow.com/users/3980994/deasa"}, "edited": false, "score": 0, "creation_date": 1525292971, "post_id": 50141920, "comment_id": 87304292, "body": "What is the html code for the element you are finding for inputFirst? Based on your html code you have inserted in your question now, your <code>By inputTwoSrc</code> would find both the first and the third input elements, which might be causing you this headache."}, {"owner": {"reputation": 79, "user_id": 9731863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff0bfe5ec6128fce6e9b989bc37ca1?s=128&d=identicon&r=PG&f=1", "display_name": "SixtySeven", "link": "https://stackoverflow.com/users/9731863/sixtyseven"}, "edited": false, "score": 0, "creation_date": 1525296690, "post_id": 50141920, "comment_id": 87305908, "body": "Now I see. They are the same. Should I use xpath? To catch secound element after change of first one?"}, {"owner": {"reputation": 1378, "user_id": 5120498, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh5.googleusercontent.com/-pOaiINOsGB8/AAAAAAAAAAI/AAAAAAAAAgM/WiAV7hJgU78/photo.jpg?sz=128", "display_name": "Striter Alfa", "link": "https://stackoverflow.com/users/5120498/striter-alfa"}, "edited": false, "score": 0, "creation_date": 1525351038, "post_id": 50141920, "comment_id": 87328084, "body": "Yes, you can use <code>[n]</code> xpath helper, where n is the element number of a list of result that you want to obtain. Also, you can do the same with <code>nth-child(n)</code> from CssSelector, but it also depends how the html is renderized."}], "owner": {"reputation": 79, "user_id": 9731863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff0bfe5ec6128fce6e9b989bc37ca1?s=128&d=identicon&r=PG&f=1", "display_name": "SixtySeven", "link": "https://stackoverflow.com/users/9731863/sixtyseven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525296948, "creation_date": 1525288376, "last_edit_date": 1525296948, "question_id": 50141920, "link": "https://stackoverflow.com/questions/50141920/openqa-selenium-elementnotinteracable-cant-reach-element", "title": "OpenQA.Selenium.ElementNotInteracable - Can&#39;t reach element", "body": "<p>I have no idea why my code doesn't see secound input. When add text to first input successfully receive <code>OpenQA.Selenium.ElementNotInteracable: Element input.k-formatted-value.ng-pristine.ng-untouched.ng-valid.k-input is not reachable by keyboard</code> error.</p>\n\n<pre><code>By inputOneSrc = By.CssSelector(\"input.invalid\");\nBy inputTwoSrc = By.CssSelector(\"input.k-formatted-value.ng-pristine.ng-untouched.ng-valid.k-input\");\n\nIWebElement inputFirst = driver.findElement(inputOneSrc);\nIWebElement inputSecound = driver.findElement(inputTwoSrc);\n\ninputFirst.SendKeys(\"abc\");\ninputSecound.SendKeys(\"cba\");\n</code></pre>\n\n<p>I have tried to use <em>Clear()</em> after sending text to <em>inputFirst</em> but still couldn't add text to secound input. I think this text is hidden somehow because i can see it using:</p>\n\n<pre><code>inputFirst.GetAttribute(\"value\");\ninputSecound.GetAttribute(\"value\");\n</code></pre>\n\n<p>But can't just use Text(). Do you know how to resolve it to see text in input?</p>\n\n<pre><code>&lt;input type=\"text\" class=\"k-formatted-value ng-pristine ng-untouched ng-valid k-input\" title=\"\" tabindex=\"0\" role=\"spinbutton\" aria-valuemin=\"-999999999999999\" aria-valuemax=\"999999999999999\" aria-title=\"\" aria-valuenow=\"\" aria-disabled=\"false\" aria-readonly=\"false\" style=\"display: inline-block;\"&gt;\n&lt;input next-focus=\"\" kendo-numeric-text-box=\"c.numeric\" k-options=\"numericOptions\" ng-model=\"c.Value\" style=\"display: none;\" ng-class=\"{'flow-required': !c.AllowEmpty}\" required=\"\" class=\"ng-pristine k-input ng-invalid ng-invalid-required flow-required invalid ng-touched\" data-role=\"numerictextbox\" role=\"spinbutton\" type=\"text\" aria-valuemin=\"-999999999999999\" aria-valuemax=\"999999999999999\" aria-valuenow=\"\" aria-disabled=\"false\" aria-readonly=\"false\"&gt;\n\n&lt;input type=\"text\" class=\"k-formatted-value ng-pristine ng-untouched ng-valid k-input\" title=\"\" tabindex=\"0\" role=\"spinbutton\" aria-valuemin=\"-999999999999999\" aria-valuemax=\"999999999999999\" aria-title=\"\" aria-valuenow=\"\" aria-disabled=\"false\" aria-readonly=\"false\" style=\"display: inline-block;\"&gt;\n&lt;input next-focus=\"\" kendo-numeric-text-box=\"c.numeric\" k-options=\"numericOptions\" ng-model=\"c.Value\" style=\"display: none;\" ng-class=\"{'flow-required': !c.AllowEmpty}\" required=\"\" class=\"ng-pristine k-input ng-invalid ng-invalid-required flow-required invalid ng-touched\" data-role=\"numerictextbox\" role=\"spinbutton\" type=\"text\" aria-valuemin=\"-999999999999999\" aria-valuemax=\"999999999999999\" aria-valuenow=\"\" aria-disabled=\"false\" aria-readonly=\"false\"&gt;&lt;span class=\"k-select\"&gt;\n</code></pre>\n"}, {"tags": ["c#", "unit-testing", "visual-studio-2015", "resharper"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7898069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D5uaP.jpg?s=128&g=1", "display_name": "JBizzle", "link": "https://stackoverflow.com/users/7898069/jbizzle"}, "edited": false, "score": 1, "creation_date": 1525290410, "post_id": 50141930, "comment_id": 87303051, "body": "The second suggestion, &quot;create a test helper which initializes these values&quot;, was the one that worked best for my situation. I then made gave the <code>TestInitialize</code> methods in the derived classes the <code>new</code> keyword and called <code>base.TestInitialize()</code>. I&#39;d upvote your answer if I had enough rep. Please, anyone who sees this, give the guy an upvote!"}], "tags": [], "owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "is_accepted": true, "score": 5, "last_activity_date": 1525288406, "creation_date": 1525288406, "answer_id": 50141930, "question_id": 50141891, "link": "https://stackoverflow.com/questions/50141891/why-are-some-of-my-unit-tests-being-run-multiple-times/50141930#50141930", "title": "Why are some of my Unit Tests being run multiple times?", "body": "<p>You are inheriting class <code>CalculateGrainDepthMethod</code> inherits from <code>AerationEngineTests</code>. Because of this tests in class <code>AerationEngineTests</code> are executing twice.</p>\n\n<pre><code>[TestClass]\npublic class CalculateGrainDepthMethod : AerationEngineTests\n{\n</code></pre>\n\n<p>Either have the dependencies contained in class <code>CalculateGrainDepthMethod</code> or create a test helper which initializes these values and use it in both your test classes.</p>\n"}], "owner": {"reputation": 53, "user_id": 7898069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D5uaP.jpg?s=128&g=1", "display_name": "JBizzle", "link": "https://stackoverflow.com/users/7898069/jbizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 50141930, "answer_count": 1, "score": 4, "last_activity_date": 1525288406, "creation_date": 1525288240, "question_id": 50141891, "link": "https://stackoverflow.com/questions/50141891/why-are-some-of-my-unit-tests-being-run-multiple-times", "title": "Why are some of my Unit Tests being run multiple times?", "body": "<p>When I run all of the Unit Tests in my solution using Visual Studio's built-in testing engine, I'll see that some tests are run multiple times, while others are only run once: </p>\n\n<p><a href=\"https://i.stack.imgur.com/VHNRu.jpg\" rel=\"nofollow noreferrer\">Test Result Window</a>\n<br></p>\n\n<p>It appears that if there are multiple <code>TestClass</code>es in the same file, things get confusing. In this file, for example:</p>\n\n<pre><code>[TestClass]\npublic class AerationEngineTests\n{\n    protected IAerationEngine aerationEngine;\n    protected AerationPackage aerationPackage;\n    protected BinPackage bin;\n\n    [TestInitialize]\n    public void TestInitialize()\n    {\n        aerationEngine = new AerationEngine();\n        aerationPackage = new AerationPackage();\n        bin = new BinPackage();\n        bin.Children.Add(new Shell {ShellDiameter = 75, RingCount = 15, RingHeight = RingHeights.RingHeight32});\n    }\n\n    [TestMethod]\n    public void ShouldCalculateFloorArea()\n    {\n        // Arrange\n\n\n        // Act\n        var floorArea = aerationEngine.CalculateFloorArea(aerationPackage, bin);\n\n        // Assert\n        floorArea.ShouldBeInRange(4417.86, 4417.87);\n    }\n\n    [TestMethod]\n    public void ShouldCalculateBinCapacity()\n    {\n        // Arrange\n        aerationPackage.FillType = FillTypes.Peaked;\n        var grainDepth = aerationEngine.CalculateGrainDepth(aerationPackage, bin);\n        var floorArea = aerationEngine.CalculateFloorArea(aerationPackage, bin);\n        var calculations = new FanCalculations {GrainDepth = grainDepth, FloorArea = floorArea};\n\n        // Act\n        var binCapacity = aerationEngine.CalculateMaxBinCapacity(calculations);\n\n        // Assert\n        binCapacity.ShouldBeInRange(175525.88, 175525.9);\n    }\n\n    [TestMethod]\n    public void ShouldCalculateTargetAirFlow()\n    {\n        // Arrange\n        aerationPackage.FillType = FillTypes.Peaked;\n        aerationPackage.DesiredAirFlow = AirFlowRates.AirFlowOne4th;\n        var grainDepth = aerationEngine.CalculateGrainDepth(aerationPackage, bin);\n        var floorArea = aerationEngine.CalculateFloorArea(aerationPackage, bin);\n        var calculations = new FanCalculations {GrainDepth = grainDepth, FloorArea = floorArea};\n        var binCapacity = aerationEngine.CalculateMaxBinCapacity(calculations);\n        calculations.MaxBinCapacity = binCapacity;\n\n        // Act\n        var airflow = aerationEngine.CalculateTargetAirflow(aerationPackage, calculations);\n\n        // Assert\n        airflow.ShouldBeInRange(43881.46, 43881.48);\n    }\n\n    [TestMethod]\n    public void ShouldCalculateTargetAirFlowPerFan()\n    {\n        // Arrange\n        aerationPackage.FillType = FillTypes.Peaked;\n        aerationPackage.DesiredAirFlow = AirFlowRates.AirFlowOne4th;\n        aerationPackage.FanCount = 4;\n        var grainDepth = aerationEngine.CalculateGrainDepth(aerationPackage, bin);\n        var floorArea = aerationEngine.CalculateFloorArea(aerationPackage, bin);\n        var calculations = new FanCalculations {GrainDepth = grainDepth, FloorArea = floorArea};\n        var binCapacity = aerationEngine.CalculateMaxBinCapacity(calculations);\n        calculations.MaxBinCapacity = binCapacity;\n        var airflow = aerationEngine.CalculateTargetAirflow(aerationPackage, calculations);\n        calculations.TargetAirFlow = airflow;\n        // Act\n        var flowPerFan = aerationEngine.CalculateTargetAirflowPerFan(aerationPackage, calculations);\n\n        // Assert\n        flowPerFan.ShouldBeInRange(10970.3, 10970.4);\n    }\n\n    [TestMethod]\n    public void ShouldCalculateFloorPressure()\n    {\n        // Arrange\n\n        // Act\n        var floorPressure = aerationEngine.CalculateFloorPressure(aerationPackage, bin);\n\n        // Assert\n        floorPressure.ShouldBeInRange(1943.0, 1945.0);\n    }\n\n    [TestMethod]\n    public void ShouldCalculateTrenchWidth()\n    {\n        // Arrange\n        aerationPackage.FillType = FillTypes.Peaked;\n        aerationPackage.DesiredAirFlow = AirFlowRates.AirFlowOne4th;\n        aerationPackage.FanCount = 4;\n        var grainDepth = aerationEngine.CalculateGrainDepth(aerationPackage, bin);\n        var floorArea = aerationEngine.CalculateFloorArea(aerationPackage, bin);\n        var calculations = new FanCalculations {GrainDepth = grainDepth, FloorArea = floorArea};\n        var binCapacity = aerationEngine.CalculateMaxBinCapacity(calculations);\n        calculations.MaxBinCapacity = binCapacity;\n        var airflow = aerationEngine.CalculateTargetAirflow(aerationPackage, calculations);\n        calculations.TargetAirFlow = airflow;\n        var flowPerFan = aerationEngine.CalculateTargetAirflowPerFan(aerationPackage, calculations);\n        calculations.TargetAirFlowPerFan = flowPerFan;\n\n        // Act\n        var trenchWidth = aerationEngine.CalculateTrenchWidth(calculations);\n\n        // Assert\n        trenchWidth.ShouldBe(72);\n    }\n}\n\n[TestClass]\npublic class CalculateGrainDepthMethod : AerationEngineTests\n{\n    [TestInitialize]\n    public new void TestInitialize()\n    {\n        base.TestInitialize();\n    }\n\n    [TestMethod]\n    public void ShouldCalculateLevelFillHeight()\n    {\n        // Arrange\n        aerationPackage.FillType = FillTypes.Level;\n\n        // Act\n        var grainDepth = aerationEngine.CalculateGrainDepth(aerationPackage, bin);\n\n        // Assert\n        grainDepth.ShouldBe(40.0);\n    }\n\n    [TestMethod]\n    public void ShouldCalculatePeakedFillHeight()\n    {\n        // Arrange\n        aerationPackage.FillType = FillTypes.Peaked;\n\n        // Act\n        var grainDepth = aerationEngine.CalculateGrainDepth(aerationPackage, bin);\n\n        // Assert\n        grainDepth.ShouldBeInRange(46.64, 46.66);\n    }\n}\n</code></pre>\n\n<p>The tests inside of <code>CalculateGrainDepthMethod</code> get run once, but the rest of the test methods get run twice, and they're grouped under <code>CalculateGrainDepthMethod</code>. See this pic (using ReSharper's tools):</p>\n\n<p><a href=\"https://i.stack.imgur.com/jGnz0.jpg\" rel=\"nofollow noreferrer\">ReSharper Test result window</a></p>\n\n<p>It doesn't appear that there are two testing engines running at the same time, but maybe there are? Or maybe I just structured the tests themselves incorrectly? Does anyone know why these tests would run more than once, and why they'd be grouped under classes to which they don't belong?</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525288272, "post_id": 50141870, "comment_id": 87301973, "body": "You likely want <code>FirstOrDefault()</code> instead of <code>Where().Select()</code>.  Also, <code>looserPoints</code> should probably be <code>loserPoints</code> (its a typo)"}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1525288418, "post_id": 50141870, "comment_id": 87302043, "body": "The <code>Select()</code> will return an <code>IEnumerable&lt;List&lt;int&gt;&gt;</code> not a <code>List&lt;int&gt;</code>."}, {"owner": {"reputation": 26461, "user_id": 2141621, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/525cb8cf58e22b35b9bfc99d52cde986?s=128&d=identicon&r=PG&f=1", "display_name": "Camilo Terevinto", "link": "https://stackoverflow.com/users/2141621/camilo-terevinto"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525288536, "post_id": 50141870, "comment_id": 87302095, "body": "@maccettura That should be an answer IMO"}, {"owner": {"reputation": 1272, "user_id": 8684954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458bb7a23a1fa4e543a621635958fd12?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hawkins", "link": "https://stackoverflow.com/users/8684954/mike-hawkins"}, "edited": false, "score": 0, "creation_date": 1525288776, "post_id": 50141870, "comment_id": 87302221, "body": "I can&#39;t use FirstOrDefault() as i must select a random of the two Player objects in the list. I tried adding .ToList() after Select() followed by .Add(winnerPoints) but i receive an error saying i cant convert from int (winnerPoints) to List&lt;int&gt; - however that should be possible in theory?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525288829, "post_id": 50141870, "comment_id": 87302240, "body": "@MikeHawkins that makes no sense.  <code>FirstOrDefault()</code> is the same logic you have now (but working).  Also, there is nothing &quot;random&quot; about the code you have posted.  If there is some other requirement it needs to be included in the question.  Please see how to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 1272, "user_id": 8684954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458bb7a23a1fa4e543a621635958fd12?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hawkins", "link": "https://stackoverflow.com/users/8684954/mike-hawkins"}, "edited": false, "score": 0, "creation_date": 1525289027, "post_id": 50141870, "comment_id": 87302328, "body": "If i use FirstOrDefault() ill always get the first object of the two in the sequence, however if i select by an Id property randomly chosen from either of the two objects it can be one or the other - how is that the same logic?"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1525289112, "post_id": 50141870, "comment_id": 87302380, "body": "@MikeHawkins <code>First</code> and <code>FirstOrDefault</code> can take a lambda just like a <code>where</code> can (i.e. first that matches the criteria)"}], "answers": [{"comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 1272, "user_id": 8684954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458bb7a23a1fa4e543a621635958fd12?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hawkins", "link": "https://stackoverflow.com/users/8684954/mike-hawkins"}, "edited": false, "score": 0, "creation_date": 1525289299, "post_id": 50141991, "comment_id": 87302480, "body": "@MikeHawkins I was going to reply to the parent question, but I will do it here.  Can you elaborate on the &quot;random&quot; thing you mentioned?  I wanna make sure I clear that up (if its still unclear)"}, {"owner": {"reputation": 1272, "user_id": 8684954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458bb7a23a1fa4e543a621635958fd12?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hawkins", "link": "https://stackoverflow.com/users/8684954/mike-hawkins"}, "edited": false, "score": 0, "creation_date": 1525290574, "post_id": 50141991, "comment_id": 87303140, "body": "It&#39;s clear to me now that you have explained that FIrstOrDefault() can be used with an expression to select a Player object (in this case, by Id) and then access the list of that object. See my updated question for the logic i tried to accomplish."}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 1, "last_activity_date": 1525289063, "last_edit_date": 1592644375, "creation_date": 1525288687, "answer_id": 50141991, "question_id": 50141870, "link": "https://stackoverflow.com/questions/50141870/c-linq-add-element-to-list-of-object-where-condition-is-met/50141991#50141991", "title": "C# Linq add element to list of object where condition is met", "body": "<h2>If you want a single matching <code>Player</code> object:</h2>\n<p>The code you are using now does not do what you think it does:</p>\n<pre><code>Players.Where(p =&gt; p.Id == winnerId).Select(p =&gt; p.SetPoints)\n</code></pre>\n<p>What this is doing is looking for <em>all</em> matches on <code>winnerId</code>, then selecting <em>all</em> of the matching lists properties.  This results in an <code>IEnumerable&lt;List&lt;int&gt;&gt;</code>.</p>\n<p>If you need just one <code>Player</code>, to do that you need to use <code>FirstOrDefault()</code>:</p>\n<pre><code>var player = Players.FirstOrDefault(p =&gt; p.Id == winnerId);\n//Check if player is not null, then add\n</code></pre>\n<p>This will give you a <code>Player</code> as the return, or the <code>default(Player)</code> (null) if there is no match.</p>\n<p>Now that you have the <code>Player</code> object you can access the <code>SetPoints</code> property and <code>Add()</code> from there.</p>\n<h2>If you want all matching <code>Player</code> objects:</h2>\n<p>If you want <em>all</em> matching <code>Player</code> objects you just need to iterate over your <code>Where()</code> query results:</p>\n<pre><code>//Where() returns an IEnumerable&lt;Player&gt;\nforeach(Player p in Players.Where(p =&gt; p.Id == winnerId))\n{\n    p.SetPoints.Add(winnerPoints);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1525289008, "post_id": 50142042, "comment_id": 87302320, "body": "<code>FirstOrDefault</code> can return <code>null</code>, which will crash on <code>.SetPoints</code>. If you know you should have a matching element, use <code>First(...)</code>, otherwise you should <code>null</code> check or use null propagation (<code>?.</code>)."}], "tags": [], "owner": {"reputation": 12073, "user_id": 1447296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba3556ac502bba7118253d5e4240a5a4?s=128&d=identicon&r=PG&f=1", "display_name": "adjan", "link": "https://stackoverflow.com/users/1447296/adjan"}, "is_accepted": false, "score": 1, "last_activity_date": 1525289021, "last_edit_date": 1525289021, "creation_date": 1525288869, "answer_id": 50142042, "question_id": 50141870, "link": "https://stackoverflow.com/questions/50141870/c-linq-add-element-to-list-of-object-where-condition-is-met/50142042#50142042", "title": "C# Linq add element to list of object where condition is met", "body": "<p>Assuming that <code>winnerId</code> is unique, it would be sufficient to find a single result using <code>FirstOrDefault</code>:</p>\n\n<pre><code>Players.FirstOrDefault(p =&gt; p.Id == winnerId)?.SetPoints.Add(winnerPoints);\n</code></pre>\n\n<p>For the case (or rather, another use case) that it isn't unique, and you actually <em>want</em> a list of results, you could use <code>ForEach()</code> after a call to <code>ToList()</code> (or a standard <code>foreach</code> loop):</p>\n\n<pre><code>Players.Where(p =&gt; p.Id == winnerId).ToList().ForEach(p =&gt; p.SetPoints.Add(winnerPoints));\n</code></pre>\n"}], "owner": {"reputation": 1272, "user_id": 8684954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/458bb7a23a1fa4e543a621635958fd12?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hawkins", "link": "https://stackoverflow.com/users/8684954/mike-hawkins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5717, "favorite_count": 0, "accepted_answer_id": 50141991, "answer_count": 2, "score": 1, "last_activity_date": 1525290576, "creation_date": 1525288174, "last_edit_date": 1525290576, "question_id": 50141870, "link": "https://stackoverflow.com/questions/50141870/c-linq-add-element-to-list-of-object-where-condition-is-met", "title": "C# Linq add element to list of object where condition is met", "body": "<p>I have a player class</p>\n\n<pre><code>public class Player : Person\n{\n    public List&lt;int&gt; SetPoints;\n}\n</code></pre>\n\n<p>And a game class</p>\n\n<pre><code>private List&lt;Player&gt; Players;\n\npublic Game(List&lt;Player&gt; players)\n{\n    Players = players;\n}\n\npublic void Simulate()\n{\n    var winnerPoints = 6;\n    var looserPoints = Tournament.Random.Next(0, 5);\n    var winnerId = Players[Tournament.Random.Next(0, 1)].Id;\n\n    Players.Where(p =&gt; p.Id == winnerId).Select(p =&gt; p.SetPoints).Add(winnerPoints);\n}\n</code></pre>\n\n<p>The code demonstrates what im trying to accomplish but i cant access the SetPoints list for updating, in the selected player object. Can anyone point out what modification i need to make in order for this to work?</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>My goal was to add <code>winnerPoints</code> to SetPoints of one random <code>Player</code> object in <code>Players</code>, and <code>loserPoints</code> to the other (<code>Players</code> is always a list of two objects, provided by the constructor) thanks to maccettura i accomplished this by using <code>FirstOrDefault()</code></p>\n\n<pre><code>    public void Simulate()\n    {\n        var winnerPoints = 6;\n        var loserPoints = Tournament.Random.Next(0, 5);\n        var winnerId = Players[Tournament.Random.Next(0, 1)].Id;\n\n        Players.FirstOrDefault(p =&gt; p.Id == winnerId).SetPoints.Add(winnerPoints);\n        Players.FirstOrDefault(p =&gt; p.Id != winnerId).SetPoints.Add(loserPoints);\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1525287954, "post_id": 50141765, "comment_id": 87301798, "body": "Please show your WPF that does the binding, and it would be helpful to see the class you are binding to (as  well as the collection)."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2191259"}, "edited": false, "score": 0, "creation_date": 1525288643, "post_id": 50141906, "comment_id": 87302152, "body": "Ah, that&#39;s exactly what I was looking for.  Thank you."}], "tags": [], "owner": {"reputation": 56, "user_id": 9591383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08332790878469d5d3388729d64057bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rich", "link": "https://stackoverflow.com/users/9591383/rich"}, "is_accepted": true, "score": 2, "last_activity_date": 1525288334, "creation_date": 1525288334, "answer_id": 50141906, "question_id": 50141765, "link": "https://stackoverflow.com/questions/50141765/binding-properties-of-icollectionview/50141906#50141906", "title": "Binding properties of ICollectionView", "body": "<p>Have you tried using the <code>DisplayMemberPath</code> property on the ComboBox? For example, to display the 'Name' property in your ComboBoxItems, you'd write something along the lines of this:</p>\n\n<pre><code>&lt;ComboBox ItemsSource=\"{Binding MySource}\" DisplayMemberPath=\"Name\"&gt;&lt;/ComboBox&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2191259"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 50141906, "answer_count": 1, "score": -1, "last_activity_date": 1525288334, "creation_date": 1525287743, "question_id": 50141765, "link": "https://stackoverflow.com/questions/50141765/binding-properties-of-icollectionview", "title": "Binding properties of ICollectionView", "body": "<p>I'm a bit new to WPF and I've run into a problem I haven't been able to find a solution for.  </p>\n\n<p>I've implemented an ICollectionView of an IEnumerable list of a custom class.  I can bind a combo box to the ICollectionView and everything works exactly as I want with the exception that elements in the combo box show up as the namespace and object name.  I need to bind the display for the items in the combo box to a property within the object of each item in the enumerable.</p>\n\n<p>Basically the custom object has a string \"Name\" property I need to show up in the combo box, but I'm having trouble finding any examples on how to do that.</p>\n"}, {"tags": ["c#", "console-application"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525287665, "post_id": 50141719, "comment_id": 87301652, "body": "You want to read whats in the console?  Or you just want to display the console?"}, {"owner": {"reputation": 272630, "user_id": 105929, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/414213a8181616151fe73334532746ab?s=128&d=identicon&r=PG", "display_name": "Remus Rusanu", "link": "https://stackoverflow.com/users/105929/remus-rusanu"}, "edited": false, "score": 0, "creation_date": 1525287752, "post_id": 50141719, "comment_id": 87301692, "body": "Use a logging framework. <a href=\"https://logging.apache.org/log4net/\" rel=\"nofollow noreferrer\">Log4Net</a>, <a href=\"http://nlog-project.org/\" rel=\"nofollow noreferrer\">NLog</a> etc"}, {"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1525287830, "post_id": 50141719, "comment_id": 87301738, "body": "Is it a console app that opens Forms? That is also possible."}, {"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 0, "creation_date": 1525287855, "post_id": 50141719, "comment_id": 87301754, "body": "When do you call <code>AllocConsole</code>? Since you are writing to the console in the Form Load event, I assume you aren&#39;t allocating the console until later?"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1525287868, "post_id": 50141719, "comment_id": 87301763, "body": "You can change the solution from a Windows application to a Console application. This will open a console and your form."}], "owner": {"user_type": "does_not_exist", "display_name": "user9107376"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1525287787, "answer_count": 0, "score": 0, "last_activity_date": 1525287577, "creation_date": 1525287577, "question_id": 50141719, "link": "https://stackoverflow.com/questions/50141719/console-writeline-is-not-working", "closed_reason": "Duplicate", "title": "Console.WriteLine Is Not Working", "body": "<p>I'm doing a windows form application. I want to get information from console. I found this code:</p>\n\n<pre><code>using System.Runtime.InteropServices;\nusing System;\n\n[DllImport(\"kernel32.dll\", SetLastError=true)]\n[return: MarshalAs(UnmanagedType.Bool)]\nstatic extern bool AllocConsole();\n\nprivate void Form_Load(object sender, EventArgs e)\n{\n     Console.WriteLine(\"Test\");\n}\n</code></pre>\n\n<p>Console is opening, but I couldn't see any output. I also tried <code>System.Diagnostics.Debug.WriteLine(string message)</code> and <code>System.Diagnostics.Trace.WriteLine(string message)</code>. What should I do?</p>\n"}, {"tags": ["c#", "directorysearcher"], "comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1525287808, "post_id": 50141674, "comment_id": 87301723, "body": "Please explain what made you conclude \u201cMy program goes from 0 to 2 GB of memory used in no time flat\u201d. Are you looking at Task Manager? That <a href=\"https://msdn.microsoft.com/en-us/library/dn342825.aspx\" rel=\"nofollow noreferrer\">does not show how much memory your program uses</a>; you need to use a memory profiler."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 1, "creation_date": 1525288179, "post_id": 50141674, "comment_id": 87301915, "body": "Also memory usage being very high is not necessarily a memory leak.  Memory usage <i>staying</i> high when the memory in question is no longer needed is a memory leak, and you haven&#39;t said anything about that."}], "answers": [{"comments": [{"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1525293608, "post_id": 50141877, "comment_id": 87304591, "body": "Wow, did not know that!"}, {"owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1525349323, "post_id": 50141877, "comment_id": 87326928, "body": "@DourHighArch I know right?! I have been doing AD programming in C# for years without knowing that. I just happened to stumble across it."}], "tags": [], "owner": {"reputation": 28745, "user_id": 1202807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09276b9edb245e928e7163b27b15691?s=128&d=identicon&r=PG", "display_name": "Gabriel Luci", "link": "https://stackoverflow.com/users/1202807/gabriel-luci"}, "is_accepted": false, "score": 4, "last_activity_date": 1525288193, "creation_date": 1525288193, "answer_id": 50141877, "question_id": 50141674, "link": "https://stackoverflow.com/questions/50141674/memory-leak-in-directorysearcher-loop/50141877#50141877", "title": "Memory leak in DirectorySearcher loop", "body": "<p>Here's something I learned just a few weeks ago from the <a href=\"https://docs.microsoft.com/en-ca/dotnet/api/system.directoryservices.directorysearcher.findall?view=netframework-4.7.1#System_DirectoryServices_DirectorySearcher_FindAll\" rel=\"nofollow noreferrer\">documentation for the <code>FindAll</code> method</a>:</p>\n\n<blockquote>\n  <p>Due to implementation restrictions, the SearchResultCollection class\n  cannot release all of its unmanaged resources when it is garbage\n  collected. To prevent a memory leak, you must call the Dispose method\n  when the SearchResultCollection object is no longer needed.</p>\n</blockquote>\n\n<p>You're using <code>using</code> on the <code>DirectorySearcher</code>, but not on the result collection. Try assigning the resulting collection to a variable that can be disposed later:</p>\n\n<pre><code>using (var results = mySearcher.FindAll())\n{\n    foreach (SearchResult result in results)\n    {\n        ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8544935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b2ee4350ef3700051c56f5fe072e52?s=128&d=identicon&r=PG&f=1", "display_name": "Deeeyewhy", "link": "https://stackoverflow.com/users/8544935/deeeyewhy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525288193, "creation_date": 1525287449, "question_id": 50141674, "link": "https://stackoverflow.com/questions/50141674/memory-leak-in-directorysearcher-loop", "title": "Memory leak in DirectorySearcher loop", "body": "<p>I  am using DirectorySearcher in a using statement to loop through about 5000 objects. It appears through troubleshooting that the PropertiesToLoad property is causing a massive memory leak. My program goes from 0 to 2 GB of memory used in no time flat if I set the propertiesToLoad property on each object. In this manner the search is very fast but has the memory leak.</p>\n\n<p>If I set the PropertiesToLoad at the beginning and not on each loop the memory leak does not occur but the search is slow. I have tried clearing the Properties on each loop which fixes the memory leak but again causes the search to slowdown. I am hoping to find the best of both worlds here.</p>\n\n<p>NOTE: My app is Multi-Threaded so the AD search is happening on 10 threads at once.</p>\n\n<pre><code>using (DirectorySearcher mySearcher = new DirectorySearcher(new DirectoryEntry(\"LDAP://rootDSE\", null, null, AuthenticationTypes.FastBind)))\n            { \n                        try\n                        {\n                            mySearcher.Filter = (\"(&amp;(objectClass=user)(sAMAccountName=\" + object + \"))\");\n                            mySearcher.SearchScope = SearchScope.Subtree;\n                            mySearcher.CacheResults = false;\n                            mySearcher.PropertiesToLoad.AddRange(new string[] { \"canonicalName\", \"displayName\", \"userAccountControl\" });\n\n                            foreach (SearchResult result in mySearcher.FindAll())\n                            {\n                                try\n                                {\n                                    shareInfo.displayname = result.Properties[\"displayName\"][0].ToString();\n                                }\n                                catch\n                                {\n                                    shareInfo.displayname = \"N/A\";\n                                }\n\n                                shareInfo.canName = result.Properties[\"canonicalName\"][0].ToString();\n\n                                int userAccountControl = Convert.ToInt32(result.Properties[\"userAccountControl\"][0]);\n                                bool disabled = ((userAccountControl &amp; 2) &gt; 0);\n                                if (disabled == true)\n                                    shareInfo.acctstatus = \"Disabled\";\n                                else\n                                    shareInfo.acctstatus = \"Enabled\";\n                            }\n                        }\n                        catch\n                        {\n\n                        }\n            }  \n</code></pre>\n"}, {"tags": ["c#", "wpf", "autofac"], "comments": [{"owner": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1525288140, "post_id": 50141658, "comment_id": 87301890, "body": "Could you add a breakpoint on the constructor and post the stack trace ? The type may not be initialized by Autofac."}, {"owner": {"reputation": 3709, "user_id": 1258671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0afad6679a5c92c3d5ae2742b1fb0b45?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1258671/joe"}, "reply_to_user": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1525288982, "post_id": 50141658, "comment_id": 87302311, "body": "What stack trace?  There is no error thrown so there is no stack trace.  It never hits the constructor with the <code>IServiceFactory serviceFactory</code> parameter."}, {"owner": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1525289895, "post_id": 50141658, "comment_id": 87302792, "body": "I meant call stack when the parameterless constructor is hitted."}, {"owner": {"reputation": 3709, "user_id": 1258671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0afad6679a5c92c3d5ae2742b1fb0b45?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1258671/joe"}, "reply_to_user": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1525290412, "post_id": 50141658, "comment_id": 87303053, "body": "It&#39; been posted."}, {"owner": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1525291556, "post_id": 50141658, "comment_id": 87303604, "body": "Your class is not constructed by Autofac but by WPF. How do you link your <code>AutoFacLoader</code> to your WPF application ? I don&#39;t know enough about WPF but the problem seems to be there."}, {"owner": {"reputation": 3709, "user_id": 1258671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0afad6679a5c92c3d5ae2742b1fb0b45?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1258671/joe"}, "reply_to_user": {"reputation": 14047, "user_id": 814735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18289d1d90dd23a3c9f2f4c039b8bdae?s=128&d=identicon&r=PG", "display_name": "Cyril Durand", "link": "https://stackoverflow.com/users/814735/cyril-durand"}, "edited": false, "score": 0, "creation_date": 1525292477, "post_id": 50141658, "comment_id": 87304040, "body": "I call the <code>AutoFacLoader.Init</code> from the <code>OnStartUp</code> in the <code>App.xaml.cs</code>.  I added the <code>App.xaml.cs</code> to the post."}], "answers": [{"tags": [], "owner": {"reputation": 3709, "user_id": 1258671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0afad6679a5c92c3d5ae2742b1fb0b45?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1258671/joe"}, "is_accepted": true, "score": 1, "last_activity_date": 1526071261, "creation_date": 1526071261, "answer_id": 50299971, "question_id": 50141658, "link": "https://stackoverflow.com/questions/50141658/autofac-not-hitting-constructor-with-parameter/50299971#50299971", "title": "Autofac not hitting constructor with parameter", "body": "<p>The <code>ViewModelBase</code> class contains the <code>AutoFac</code> <code>Container</code> which gets populated in the <code>App.xaml.cs</code>. Initialize the <code>ViewModels</code> by resolving them from the <code>Container</code>.</p>\n\n<p>Updated MainViewModel.cs</p>\n\n<pre><code>  public class MainViewModel : ViewModelBase\n  {\n    public MainViewModel() { } \n\n    public DashboardViewModel DashboardViewModel {\n      get { return Container.Resolve&lt;DashboardViewModel&gt;(); }    private set { } }\n\n    public MaintainAlbumsViewModel MaintainAlbumsViewModel {\n      get { return Container.Resolve&lt;MaintainAlbumsViewModel&gt;(); }     private set { } }\n\n    public OrdersViewModel OrdersViewModel {\n      get { return Container.Resolve&lt;OrdersViewModel&gt;(); }       private set { }\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 3709, "user_id": 1258671, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0afad6679a5c92c3d5ae2742b1fb0b45?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1258671/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 0, "accepted_answer_id": 50299971, "answer_count": 1, "score": 2, "last_activity_date": 1526071261, "creation_date": 1525287382, "last_edit_date": 1526071099, "question_id": 50141658, "link": "https://stackoverflow.com/questions/50141658/autofac-not-hitting-constructor-with-parameter", "title": "Autofac not hitting constructor with parameter", "body": "<p>Autofac's default is to use the constructor with the most parameters yet it keeps hitting the parameterless default constructor.</p>\n\n<p>Consuming class:</p>\n\n<pre><code>using AlbumApp.Core.Common.Contracts;\nusing AlbumApp.Core.Common.UI.Core;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace AlbumApp.Admin.ViewModels\n{\n  public class MainViewModel : ViewModelBase\n  {\n    private static IServiceFactory _serviceFactory;\n\n    public MainViewModel() { }\n\n    public MainViewModel(IServiceFactory serviceFactory)\n    { _serviceFactory = serviceFactory; }\n\n    private DashboardViewModel _dashboardViewModel = new DashboardViewModel(_serviceFactory);\n\n    public DashboardViewModel DashboardViewModel { get { return _dashboardViewModel; } private set { } } // = new DashboardViewModel();\n  }\n}\n</code></pre>\n\n<p>AutofacLoader:</p>\n\n<pre><code>using AlbumApp.Client.Proxies;\nusing AlbumApp.Core.Common.Contracts;\nusing Autofac;\nusing System.Reflection;\n\nnamespace AlbumApp.Admin.Bootstrapper\n{\n  public static class AutoFacLoader\n  {\n    public static IContainer Init() { \n      var builder = Builder();\n      return builder.Build(); }\n\n    public static ContainerBuilder Builder() {\n      var builder = new ContainerBuilder();\n      builder.RegisterAssemblyTypes(Assembly.GetExecutingAssembly())\n        .InNamespace(\"AlbumApp.Admin.ViewModels\").SingleInstance();\n      builder.RegisterType&lt;ServiceFactory&gt;().As&lt;IServiceFactory&gt;();\n\n      return builder; }\n  }\n}\n</code></pre>\n\n<p>App.xaml.cs</p>\n\n<pre><code>using AlbumApp.Admin.Bootstrapper;\nusing AlbumApp.Core.Common.Core;\nusing System.Windows;\n\nnamespace AlbumApp.Admin\n{\n  /// &lt;summary&gt;\n  /// Interaction logic for App.xaml\n  /// &lt;/summary&gt;\n  public partial class App : Application\n  {\n    protected override void OnStartup(StartupEventArgs e)\n    {\n      base.OnStartup(e);\n\n      ObjectBase.Container = AutoFacLoader.Init();\n\n    }\n  }\n}\n</code></pre>\n\n<p>When I set a <code>breakpoint</code> on the <code>builder.Build</code> and check the <code>ComponentRegistry</code> it contains the <code>ServiceFactory</code>.</p>\n\n<p><code>{Activator = ServiceFactory (ReflectionActivator), Services = [AlbumApp.Core.Common.Contracts.IServiceFactory], Lifetime = Autofac.Core.Lifetime.CurrentScopeLifetime, Sharing = None, Ownership = OwnedByLifetimeScope}</code></p>\n\n<p>I also set a breakpoint on the two constructors of the <code>MainViewModel</code> and only the default constructor is hit so the <code>_serviceFactory</code> is null.</p>\n\n<p>How do I get Autofac to inject a <code>ServiceFactory</code>?</p>\n\n<p>Call Stack on parameterless constructor:</p>\n\n<blockquote>\n  <p>AlbumApp.Admin.exe!AlbumApp.Admin.ViewModels.MainViewModel.MainViewModel() Line 15  C#\n      AlbumApp.Admin.exe!AlbumApp.Admin.MainWindow.MainWindow() Line 30   C#\n      [Native to Managed Transition]<br>\n      [Managed to Native Transition]<br>\n      mscorlib.dll!System.RuntimeType.CreateInstanceSlow(bool publicOnly, bool skipCheckThis, bool fillCache, ref System.Threading.StackCrawlMark stackMark)  Unknown\n      mscorlib.dll!System.Activator.CreateInstance(System.Type type, bool nonPublic)  Unknown\n      mscorlib.dll!System.RuntimeType.CreateInstanceImpl(System.Reflection.BindingFlags bindingAttr, System.Reflection.Binder binder, object[] args, System.Globalization.CultureInfo culture, object[] activationAttributes, ref System.Threading.StackCrawlMark stackMark)  Unknown\n      mscorlib.dll!System.Activator.CreateInstance(System.Type type, System.Reflection.BindingFlags bindingAttr, System.Reflection.Binder binder, object[] args, System.Globalization.CultureInfo culture, object[] activationAttributes) Unknown\n      mscorlib.dll!System.Activator.CreateInstance(System.Type type, object[] args)   Unknown\n      System.Xaml.dll!System.Xaml.Schema.SafeReflectionInvoker.CreateInstanceCritical(System.Type type, object[] arguments)   Unknown\n      System.Xaml.dll!System.Xaml.Schema.SafeReflectionInvoker.CreateInstance(System.Type type, object[] arguments)   Unknown\n      System.Xaml.dll!System.Xaml.Schema.XamlTypeInvoker.CreateInstanceWithActivator(System.Type type, object[] arguments)    Unknown\n      System.Xaml.dll!System.Xaml.Schema.XamlTypeInvoker.CreateInstance(object[] arguments)   Unknown\n      System.Xaml.dll!MS.Internal.Xaml.Runtime.ClrObjectRuntime.CreateInstanceWithCtor(System.Xaml.XamlType xamlType, object[] args)  Unknown\n      System.Xaml.dll!MS.Internal.Xaml.Runtime.ClrObjectRuntime.CreateInstance(System.Xaml.XamlType xamlType, object[] args)  Unknown\n      System.Xaml.dll!MS.Internal.Xaml.Runtime.PartialTrustTolerantRuntime.CreateInstance(System.Xaml.XamlType xamlType, object[] args)   Unknown\n      System.Xaml.dll!System.Xaml.XamlObjectWriter.Logic_CreateAndAssignToParentStart(MS.Internal.Xaml.Context.ObjectWriterContext ctx)   Unknown\n      System.Xaml.dll!System.Xaml.XamlObjectWriter.WriteStartMember(System.Xaml.XamlMember property)  Unknown\n      System.Xaml.dll!System.Xaml.XamlWriter.WriteNode(System.Xaml.XamlReader reader) Unknown\n      PresentationFramework.dll!System.Windows.Markup.WpfXamlLoader.TransformNodes(System.Xaml.XamlReader xamlReader, System.Xaml.XamlObjectWriter xamlWriter, bool onlyLoadOneNode, bool skipJournaledProperties, bool shouldPassLineNumberInfo, System.Xaml.IXamlLineInfo xamlLineInfo, System.Xaml.IXamlLineInfoConsumer xamlLineInfoConsumer, MS.Internal.Xaml.Context.XamlContextStack stack, System.Windows.Markup.IStyleConnector styleConnector)  Unknown\n      PresentationFramework.dll!System.Windows.Markup.WpfXamlLoader.Load(System.Xaml.XamlReader xamlReader, System.Xaml.IXamlObjectWriterFactory writerFactory, bool skipJournaledProperties, object rootObject, System.Xaml.XamlObjectWriterSettings settings, System.Uri baseUri)   Unknown\n      PresentationFramework.dll!System.Windows.Markup.WpfXamlLoader.LoadBaml(System.Xaml.XamlReader xamlReader, bool skipJournaledProperties, object rootObject, System.Xaml.Permissions.XamlAccessLevel accessLevel, System.Uri baseUri) Unknown\n      PresentationFramework.dll!System.Windows.Markup.XamlReader.LoadBaml(System.IO.Stream stream, System.Windows.Markup.ParserContext parserContext, object parent, bool closeStream)    Unknown\n      PresentationFramework.dll!System.Windows.Application.LoadBamlStreamWithSyncInfo(System.IO.Stream stream, System.Windows.Markup.ParserContext pc)    Unknown\n      PresentationFramework.dll!System.Windows.Application.LoadComponent(System.Uri resourceLocator, bool bSkipJournaledProperties)   Unknown\n      PresentationFramework.dll!System.Windows.Application.DoStartup()    Unknown\n      PresentationFramework.dll!System.Windows.Application..ctor.AnonymousMethod__1_0(object unused)  Unknown\n      WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)  Unknown\n      WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.WrappedInvoke(System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Unknown\n      WindowsBase.dll!System.Windows.Threading.DispatcherOperation.InvokeImpl()   Unknown\n      WindowsBase.dll!System.Windows.Threading.DispatcherOperation.InvokeInSecurityContext(object state)  Unknown\n      mscorlib.dll!System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx)   Unknown\n      mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx)   Unknown\n      mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state) Unknown\n      WindowsBase.dll!MS.Internal.CulturePreservingExecutionContext.Run(MS.Internal.CulturePreservingExecutionContext executionContext, System.Threading.ContextCallback callback, object state)  Unknown\n      WindowsBase.dll!System.Windows.Threading.DispatcherOperation.Invoke()   Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.ProcessQueue()  Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.WndProcHook(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam, ref bool handled)  Unknown\n      WindowsBase.dll!MS.Win32.HwndWrapper.WndProc(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam, ref bool handled) Unknown\n      WindowsBase.dll!MS.Win32.HwndSubclass.DispatcherCallbackOperation(object o) Unknown\n      WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)  Unknown\n      WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.WrappedInvoke(System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority priority, System.TimeSpan timeout, System.Delegate method, object args, int numArgs)   Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.Invoke(System.Windows.Threading.DispatcherPriority priority, System.Delegate method, object arg)    Unknown\n      WindowsBase.dll!MS.Win32.HwndSubclass.SubclassWndProc(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam)  Unknown\n      [Native to Managed Transition]<br>\n      [Managed to Native Transition]<br>\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.TranslateAndDispatchMessage(ref System.Windows.Interop.MSG msg) Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.PushFrameImpl(System.Windows.Threading.DispatcherFrame frame)   Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.PushFrame(System.Windows.Threading.DispatcherFrame frame)   Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.Run()   Unknown\n      PresentationFramework.dll!System.Windows.Application.RunDispatcher(object ignore)   Unknown\n      PresentationFramework.dll!System.Windows.Application.RunInternal(System.Windows.Window window)  Unknown\n      PresentationFramework.dll!System.Windows.Application.Run(System.Windows.Window window)  Unknown\n      PresentationFramework.dll!System.Windows.Application.Run()  Unknown\n      AlbumApp.Admin.exe!AlbumApp.Admin.App.Main()    Unknown\n      [Native to Managed Transition]<br>\n      [Managed to Native Transition]<br>\n      mscorlib.dll!System.AppDomain.nExecuteAssembly(System.Reflection.RuntimeAssembly assembly, string[] args)   Unknown\n      mscorlib.dll!System.AppDomain.ExecuteAssembly(string assemblyFile, System.Security.Policy.Evidence assemblySecurity, string[] args) Unknown\n      Microsoft.VisualStudio.HostingProcess.Utilities.dll!Microsoft.VisualStudio.HostingProcess.HostProc.RunUsersAssembly()   Unknown\n      mscorlib.dll!System.Threading.ThreadHelper.ThreadStart_Context(object state)    Unknown\n      mscorlib.dll!System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx)   Unknown\n      mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state, bool preserveSyncCtx)   Unknown\n      mscorlib.dll!System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext executionContext, System.Threading.ContextCallback callback, object state) Unknown\n      mscorlib.dll!System.Threading.ThreadHelper.ThreadStart()    Unknown</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "windows", "visual-studio-2010", "iis"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525287753, "post_id": 50141492, "comment_id": 87301693, "body": "Why do you want to register them? Why don&#39;t you just place the DLL where the the consuming application can reference it, such as the bin folder?"}, {"owner": {"reputation": 81, "user_id": 6231197, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4ffd72bc11058104ce1db863e1e4c658?s=128&d=identicon&r=PG&f=1", "display_name": "vinisha9", "link": "https://stackoverflow.com/users/6231197/vinisha9"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525344805, "post_id": 50141492, "comment_id": 87324042, "body": "It is a third party dll which is compiled by some one else. SO i want to register this on the new windows server 2012 which is a 64 bit machine."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1525349965, "post_id": 50141492, "comment_id": 87327331, "body": "But that doesn&#39;t explain why you want to put it in the GAC. Why now just distribute it in the bin folder of your web application?"}], "owner": {"reputation": 81, "user_id": 6231197, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4ffd72bc11058104ce1db863e1e4c658?s=128&d=identicon&r=PG&f=1", "display_name": "vinisha9", "link": "https://stackoverflow.com/users/6231197/vinisha9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 519, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1525288190, "creation_date": 1525286698, "question_id": 50141492, "link": "https://stackoverflow.com/questions/50141492/register-a-32-bit-dll-on-a-64-bit-machine", "title": "Register a 32 bit dll on a 64 bit machine", "body": "<p>I have 32-bit  DLL which was registered on Windows Server 2000. Now, we are process of upgrading it to 64 bit windows server 2012 so i want to use this DLL on the new server.</p>\n\n<p>I tried using 32-bit tools (c:\\windows\\syswow64\\regsvr32.exe) to register them to registry. I also made sure the entry exist in registry (using syswow64\\regedit32.exe) at HKey_Classes_Root\\Wow6432Node\\CLSID[GUID] with AppID registered with DLL GUID and DLLSurrogate is enabled at HKey_Classes_Root\\Wow6432Node\\AppID[GUID]</p>\n\n<p>I also made sure i have enabled 32-bit applications on the Application Pool inside the IIS.</p>\n\n<p>But when i run the code, In my code where it is trying to create a com object for the dll, it sits there executing with a timeout error.</p>\n\n<p>Can anyone please help what can i do/add to make this working. Thanks </p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1525287161, "post_id": 50141451, "comment_id": 87301411, "body": "Check your spelling and grammar, please."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9731867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/723dfdd971f97be67e82ed7b3866f2e1?s=128&d=identicon&r=PG&f=1", "display_name": "Kastan", "link": "https://stackoverflow.com/users/9731867/kastan"}, "edited": false, "score": 0, "creation_date": 1525293919, "post_id": 50141583, "comment_id": 87304720, "body": "Thanks, i got the foreign key in my database. However i got an error from my ItemController: &#39;Multiple object sets per type are not supported. The object sets &#39;ApplicationUsers&#39; and &#39;Users&#39; can both contain instances of type &#39;WebProject.Models.ApplicationUser&#39;.&#39;"}, {"owner": {"reputation": 2940, "user_id": 5957979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3377f790e54e36e2ce2c70c346c63db9?s=128&d=identicon&r=PG&f=1", "display_name": "RickL", "link": "https://stackoverflow.com/users/5957979/rickl"}, "reply_to_user": {"reputation": 11, "user_id": 9731867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/723dfdd971f97be67e82ed7b3866f2e1?s=128&d=identicon&r=PG&f=1", "display_name": "Kastan", "link": "https://stackoverflow.com/users/9731867/kastan"}, "edited": false, "score": 0, "creation_date": 1525294462, "post_id": 50141583, "comment_id": 87304979, "body": "Sounds like you&#39;ve got two instances of &quot;User&quot;. Using Identity for authentication, the &quot;User&quot;, whatever it is called, must inherit from &quot;IdentityUser&quot;. The code given in the answer IS the &quot;User&quot; (in this case, called ApplicationUser). I would try removing your (presumably other) User class and just use the above class (ApplicationUser) until things are established, and then, if you want, change the name to &quot;User&quot; and move it to where you want. The key thing is that the &quot;User&quot; (only one class, not two) must inherit from IdentityUser."}, {"owner": {"reputation": 2940, "user_id": 5957979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3377f790e54e36e2ce2c70c346c63db9?s=128&d=identicon&r=PG&f=1", "display_name": "RickL", "link": "https://stackoverflow.com/users/5957979/rickl"}, "reply_to_user": {"reputation": 11, "user_id": 9731867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/723dfdd971f97be67e82ed7b3866f2e1?s=128&d=identicon&r=PG&f=1", "display_name": "Kastan", "link": "https://stackoverflow.com/users/9731867/kastan"}, "edited": false, "score": 0, "creation_date": 1525294651, "post_id": 50141583, "comment_id": 87305066, "body": "... just replicate what you have in your other User class (in terms of relationships and other fields) into the code above, remove your other instance of User, and try again."}, {"owner": {"reputation": 2940, "user_id": 5957979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3377f790e54e36e2ce2c70c346c63db9?s=128&d=identicon&r=PG&f=1", "display_name": "RickL", "link": "https://stackoverflow.com/users/5957979/rickl"}, "reply_to_user": {"reputation": 11, "user_id": 9731867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/723dfdd971f97be67e82ed7b3866f2e1?s=128&d=identicon&r=PG&f=1", "display_name": "Kastan", "link": "https://stackoverflow.com/users/9731867/kastan"}, "edited": false, "score": 0, "creation_date": 1525342749, "post_id": 50141583, "comment_id": 87322762, "body": "Nice. Glad it helped :-)"}], "tags": [], "owner": {"reputation": 2940, "user_id": 5957979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3377f790e54e36e2ce2c70c346c63db9?s=128&d=identicon&r=PG&f=1", "display_name": "RickL", "link": "https://stackoverflow.com/users/5957979/rickl"}, "is_accepted": false, "score": 0, "last_activity_date": 1525287590, "last_edit_date": 1525287590, "creation_date": 1525287096, "answer_id": 50141583, "question_id": 50141451, "link": "https://stackoverflow.com/questions/50141451/one-to-many-mvc-individual-user-accounts/50141583#50141583", "title": "One-to-many MVC Individual User Accounts", "body": "<p>From the template in the Models folder, in IdentityModels:</p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n{\n    public async Task&lt;ClaimsIdentity&gt; GenerateUserIdentityAsync(UserManager&lt;ApplicationUser&gt; manager)\n    {\n        // Note the authenticationType must match the one defined in CookieAuthenticationOptions.AuthenticationType\n        var userIdentity = await manager.CreateIdentityAsync(this, DefaultAuthenticationTypes.ApplicationCookie);\n        // Add custom user claims here\n        return userIdentity;\n    }\n\n    // Add here ..\n    public string DisplayName { get; set; }\n    public virtual ICollection&lt;Item&gt; Items { get; set; }\n}\n</code></pre>\n\n<p>Using Identity ties in the <code>ApplicationUser</code> model this way. You can change the name <code>ApplicationUser</code> to <code>User</code> here as well, provided all other references to <code>ApplicationUser</code> are also updated.</p>\n"}], "owner": {"reputation": 11, "user_id": 9731867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/723dfdd971f97be67e82ed7b3866f2e1?s=128&d=identicon&r=PG&f=1", "display_name": "Kastan", "link": "https://stackoverflow.com/users/9731867/kastan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525287680, "creation_date": 1525286533, "last_edit_date": 1525287680, "question_id": 50141451, "link": "https://stackoverflow.com/questions/50141451/one-to-many-mvc-individual-user-accounts", "title": "One-to-many MVC Individual User Accounts", "body": "<p>I am using asp.net mvc with the individual user accounts template where i try to make an one to many relationship from User to Items.</p>\n\n<p>In a project without the individual user account template i can simply do the following:</p>\n\n<pre><code>public class User\n{\n    public int UserID { get; set; }\n    public string Username { get; set; }\n\n    public virtual ICollection&lt;Item&gt; Items { get; set; }\n\n}\n</code></pre>\n\n<p>And </p>\n\n<pre><code>  public class Item\n{\n    public int ItemID { get; set; }\n    public string ItemName { get; set; }\n    public int UserID { get; set; }\n\n    public virtual User User { get; set; }\n}\n</code></pre>\n\n<p>Problem is that i cannot find a complete model for the User (ApplicationUser) in the Individual user account template. So i dont know how to add the Items to the User and generate a controller for the User (In the individual user template)</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 368279, "user_id": 1288, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fc763c6ff6c160ddad05741e87e517b6?s=128&d=identicon&r=PG", "display_name": "Bill the Lizard", "link": "https://stackoverflow.com/users/1288/bill-the-lizard"}, "edited": false, "score": 4, "creation_date": 1525286413, "post_id": 50141397, "comment_id": 87301072, "body": "Look for <code>&quot;quit&quot;</code> before you do the conversion."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 2, "creation_date": 1525286623, "post_id": 50141397, "comment_id": 87301176, "body": "It&#39;s C#.  The currently-posted code should be sufficient."}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 5, "creation_date": 1525286702, "post_id": 50141397, "comment_id": 87301217, "body": "<b>Hint:</b> Use a <code>while</code> loop.  Put the code you want to repeat inside the loop.  Check for the string &quot;quit&quot; in the <code>while</code> condition.  You&#39;ll need two Console.Readline calls; one just before the loop, the other just before the loop&#39;s closing brace."}, {"owner": {"reputation": 338, "user_id": 7219167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ft5t.jpg?s=128&g=1", "display_name": "Lemjur", "link": "https://stackoverflow.com/users/7219167/lemjur"}, "edited": false, "score": 1, "creation_date": 1525286807, "post_id": 50141397, "comment_id": 87301263, "body": "Int32.TryParse(String s, out int result) returns False if conversion fails. It will secure app from crashing."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 1854, "user_id": 224935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/59h0o.jpg?s=128&g=1", "display_name": "Jay Elston", "link": "https://stackoverflow.com/users/224935/jay-elston"}, "edited": false, "score": 0, "creation_date": 1525287144, "post_id": 50141397, "comment_id": 87301406, "body": "@JayElston While I agree with what you want to express, we almost never want any &quot;entire code&quot;. What we usually want is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Use this shortcut in future similar comments <code>[mcve]</code>."}, {"owner": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525287187, "post_id": 50141397, "comment_id": 87301421, "body": "You need to look at this answer: <a href=\"https://stackoverflow.com/questions/13106493/how-do-i-only-allow-number-input-into-my-c-sharp-console-application\" title=\"how do i only allow number input into my c sharp console application\">stackoverflow.com/questions/13106493/&hellip;</a>"}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "reply_to_user": {"reputation": 1113, "user_id": 5900683, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/8GSDS.jpg?s=128&g=1", "display_name": "AussieJoe", "link": "https://stackoverflow.com/users/5900683/aussiejoe"}, "edited": false, "score": 0, "creation_date": 1525287230, "post_id": 50141397, "comment_id": 87301438, "body": "@AussieJoe Do you mean it is a duplicate?"}, {"owner": {"reputation": 153, "user_id": 9731851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f771193639a997f18de34824d9860a8?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/9731851/luke"}, "edited": false, "score": 0, "creation_date": 1525415251, "post_id": 50141397, "comment_id": 87354395, "body": "Thanks for the help everyone. I&#39;ve not yet learned parsing so can&#39;t implement most solutions, but see useful tips throughout. Thanks again."}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 9731851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f771193639a997f18de34824d9860a8?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/9731851/luke"}, "edited": false, "score": 0, "creation_date": 1525415501, "post_id": 50141539, "comment_id": 87354506, "body": "This is extremely helpful. While I appreciate all the other tips, many were using things I haven&#39;t learned yet. Your technique is pure order and enabled me to complete it. Thanks!"}, {"owner": {"reputation": 124, "user_id": 6764854, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-7qldIMLvddw/AAAAAAAAAAI/AAAAAAAAADg/ty9jotc0CVw/photo.jpg?sz=128", "display_name": "Kurt Anderson", "link": "https://stackoverflow.com/users/6764854/kurt-anderson"}, "reply_to_user": {"reputation": 153, "user_id": 9731851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f771193639a997f18de34824d9860a8?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/9731851/luke"}, "edited": false, "score": 0, "creation_date": 1525782555, "post_id": 50141539, "comment_id": 87484675, "body": "No problem! Glad to help. If you think this is the right answer to your question, make sure to mark it as such so others will see!"}], "tags": [], "owner": {"reputation": 124, "user_id": 6764854, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh6.googleusercontent.com/-7qldIMLvddw/AAAAAAAAAAI/AAAAAAAAADg/ty9jotc0CVw/photo.jpg?sz=128", "display_name": "Kurt Anderson", "link": "https://stackoverflow.com/users/6764854/kurt-anderson"}, "is_accepted": true, "score": 1, "last_activity_date": 1525286934, "creation_date": 1525286934, "answer_id": 50141539, "question_id": 50141397, "link": "https://stackoverflow.com/questions/50141397/noob-needing-help-on-breaking-out-of-loop/50141539#50141539", "title": "Noob needing help on breaking out of loop", "body": "<p>This change should be fairly simple. What you need to do is to create a while loop, and then a check before you actually parse for an int. The psuedocode for this would be something like. </p>\n\n<pre><code>while(true) {\n//Ask for input \n//Check if it equals \"quit\" \n//If so -&gt; break; \n//If not convert to int\n//For Loop for dice rolls\n//Print Total\n}\n</code></pre>\n\n<p>I'm sure it could be a little more elegant than this, and you would want to put some more checks to make sure that invalid input doesn't crash the program, but it should get the job done. </p>\n"}, {"comments": [{"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1525287474, "post_id": 50141638, "comment_id": 87301560, "body": "I&#39;m going to downvote for two reasons.  1) No need not to use a traditional loop structure (<code>goto BeginLoop</code> is not needed) and 2) <code>break</code> is preferred to <code>goto EndLoop</code>."}, {"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1525288029, "post_id": 50141638, "comment_id": 87301833, "body": "The basic idea here of comparing the string to test for &quot;quit&quot; before attempting to parse an integer is totally reasonable though."}], "tags": [], "owner": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "is_accepted": false, "score": -3, "last_activity_date": 1525287291, "creation_date": 1525287291, "answer_id": 50141638, "question_id": 50141397, "link": "https://stackoverflow.com/questions/50141397/noob-needing-help-on-breaking-out-of-loop/50141638#50141638", "title": "Noob needing help on breaking out of loop", "body": "<p>I'm not a C# programmer, but you can test for \"quit\" explicitly and use a <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/goto\" rel=\"nofollow noreferrer\">goto</a></p>\n\n<pre><code>BeginLoop:\n    Console.WriteLine(\"Enter a number of dice to roll:\");\n    string numberDiceString = Console.ReadLine();\n    if (numberDiceString == \"quit\")\n    {\n        goto EndLoop;\n    }\n    int numberDice = Convert.ToInt32(numberDiceString);\n\n    /* Rest of code you want to do per iteration */\n\n    goto BeginLoop;\n\nEndLoop:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 338, "user_id": 7219167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ft5t.jpg?s=128&g=1", "display_name": "Lemjur", "link": "https://stackoverflow.com/users/7219167/lemjur"}, "is_accepted": false, "score": -1, "last_activity_date": 1525287430, "creation_date": 1525287430, "answer_id": 50141669, "question_id": 50141397, "link": "https://stackoverflow.com/questions/50141397/noob-needing-help-on-breaking-out-of-loop/50141669#50141669", "title": "Noob needing help on breaking out of loop", "body": "<p>Try this code:</p>\n\n<pre><code>    static void Main(string[] args)\n    {\n        Random random = new Random();\n        while(true)\n        {\n            String numberDiceString = \"\";\n            int numberDice = 0;\n            Console.WriteLine(\"Enter a number of dice to roll:\");\n            numberDiceString = Console.ReadLine();\n            if (numberDiceString == \"quit\") { return; }\n            int total = 0;\n            if (Int32.TryParse(numberDiceString, out numberDice))\n            {\n                total = 0;\n\n                for (int index = 0; index &lt; numberDice; index++)\n                {\n                    int DieRoll = random.Next(6) + 1;\n                    total += DieRoll;\n                }\n            }\n            Console.WriteLine(total);\n        }            \n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9131905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575692168707f41b248bccefbb148864?s=128&d=identicon&r=PG", "display_name": "Radovan Surjancev", "link": "https://stackoverflow.com/users/9131905/radovan-surjancev"}, "is_accepted": false, "score": 0, "last_activity_date": 1525288215, "creation_date": 1525288215, "answer_id": 50141884, "question_id": 50141397, "link": "https://stackoverflow.com/questions/50141397/noob-needing-help-on-breaking-out-of-loop/50141884#50141884", "title": "Noob needing help on breaking out of loop", "body": "<p>This is a very simple solution that shows how to parse the user input. </p>\n\n<pre><code>using System;\n\nnamespace Simpleton\n{\n    class Program\n    {\n        static public int GetChoice()\n        {\n            int choice = 0;\n            while (true)\n            {\n                Console.Write(\"Enter number of rolls or \\\"quit\\\" to finish: \");\n                var answer = Console.ReadLine();\n                if (String.Compare(answer, \"quit\", true) == 0)\n                {\n                    return 0; // Done\n                }\n                if (Int32.TryParse(answer, out choice))\n                {\n                    return choice;\n                }\n            }\n        }\n\n        static void Main(string[] args)\n        {\n            var choice = 0;\n            while ((choice = GetChoice()) &gt; 0)\n            {\n                Console.WriteLine($\"You'll be looping {choice} times.\");\n                for (int tries = 0; tries &lt; choice; tries++)\n                {\n                    // Looping\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 9486465, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Franco Fusaro", "link": "https://stackoverflow.com/users/9486465/franco-fusaro"}, "is_accepted": false, "score": 2, "last_activity_date": 1525288717, "creation_date": 1525288717, "answer_id": 50141997, "question_id": 50141397, "link": "https://stackoverflow.com/questions/50141397/noob-needing-help-on-breaking-out-of-loop/50141997#50141997", "title": "Noob needing help on breaking out of loop", "body": "<p>I wouldn't use a \"while(true)\" statement. As someone pointed out in the comments i would prefer using the right condition in there. \nThat being said i would do it this way:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Random random = new Random();\n    string numberDiceString;\n    int numberDice;\n    Console.WriteLine(\"Enter a number of dice to roll:\");\n    while ((numberDiceString = Console.ReadLine()) != \"quit\")\n    {\n        bool parsed = int.TryParse(numberDiceString, out numberDice);\n        if (!parsed)\n        {\n            //Handle the error. The user input was not a number or \"quit\" word\n            break;\n        }\n        int total = 0;\n\n        for (int index = 0; index &lt; numberDice; index++)\n        {\n            int DieRoll = random.Next(6) + 1;\n            total += DieRoll;\n        }\n\n        Console.WriteLine(total);\n        Console.WriteLine(\"Enter a number of dice to roll:\");\n    }\n}\n</code></pre>\n\n<p>I have to say that i prefer this way because you can easily see when the loop will stop. Also i added an error handling that you should be doing (What happen if the user enters any words that are not numbers?).</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 153, "user_id": 9731851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f771193639a997f18de34824d9860a8?s=128&d=identicon&r=PG&f=1", "display_name": "Luke", "link": "https://stackoverflow.com/users/9731851/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 50141539, "answer_count": 5, "score": 1, "last_activity_date": 1525288717, "creation_date": 1525286295, "last_edit_date": 1525286567, "question_id": 50141397, "link": "https://stackoverflow.com/questions/50141397/noob-needing-help-on-breaking-out-of-loop", "title": "Noob needing help on breaking out of loop", "body": "<p>I'm very sorry this is such an easy question, I'm just starting out. I've created code that allows a user to enter a number of random dice rolls, and outputs the sum of those rolls. I've now been asked to create a loop that repeats these steps, including the prompt, until the user types 'quit'. My issue is that my code converts the string to an integer, so typing anything kills the code. Any tips of how to insert the loop and break? My code is:</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Random random = new Random();\n\n    Console.WriteLine(\"Enter a number of dice to roll:\");\n    string numberDiceString = Console.ReadLine();\n    int numberDice = Convert.ToInt32(numberDiceString);\n\n    int total = 0;\n\n    for (int index = 0; index &lt; numberDice; index++)\n    {\n        int DieRoll = random.Next(6) + 1;\n        total += DieRoll;\n    }\n\n    Console.WriteLine(total);\n    Console.ReadKey();\n}\n</code></pre>\n"}, {"tags": ["c#", "image", "unity3d", "button"], "comments": [{"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1525286954, "post_id": 50141320, "comment_id": 87301334, "body": "The image you assigned is in the scene I assume? Generally, linking in prefabs (it&#39;s only a prefab when it is in the assets folder) can be problematic since in the game you will need references to objects in the scene (which might be instances of a prefab)."}, {"owner": {"reputation": 23, "user_id": 9559630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UlVLd7sVR-A/AAAAAAAAAAI/AAAAAAAAAE4/5E49glKjjv4/photo.jpg?sz=128", "display_name": "coder5777", "link": "https://stackoverflow.com/users/9559630/coder5777"}, "reply_to_user": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1525288463, "post_id": 50141320, "comment_id": 87302065, "body": "@GunnarB. yeah its all in the same scene. And yeah I&#39;m realizing this now. Is there another way to go around this?"}, {"owner": {"reputation": 2304, "user_id": 4251829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2e4559d674d70d38f3bd5cdb9c3b39?s=128&d=identicon&r=PG&f=1", "display_name": "Gunnar B.", "link": "https://stackoverflow.com/users/4251829/gunnar-b"}, "edited": false, "score": 0, "creation_date": 1525297281, "post_id": 50141320, "comment_id": 87306157, "body": "Well, if everything is in one prefab, the links should actually work properly when you instantiate it, not quite sure about that though. Otherwise, if you can&#39;t combine it, you will have to set up the references in code (if you do this on runtime). Otherwise you can set it up in the inspector off course, just need to make sure to do it for the actual instance(s) of the button(s), not the prefab. For more specific solutions you&#39;d need to give some more information about what you have, e.g. with some screenshots."}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 7735177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fde76629bbb847270ec92d2ab8da0d08?s=128&d=identicon&r=PG&f=1", "display_name": "Umair Gul", "link": "https://stackoverflow.com/users/7735177/umair-gul"}, "is_accepted": false, "score": 0, "last_activity_date": 1525299564, "creation_date": 1525299564, "answer_id": 50144368, "question_id": 50141320, "link": "https://stackoverflow.com/questions/50141320/unity-onclick-event-for-prefab-button-not-working/50144368#50144368", "title": "unity onclick event for prefab button not working", "body": "<p>changing 'Order in Layer' may work fine.</p>\n\n<p>Select your image from Hierarchy and in Inspector->Sprite Renderer->Order in Layer change the order of layer from 0 to 1 or 2 and run your game to check if it works.</p>\n"}], "owner": {"reputation": 23, "user_id": 9559630, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UlVLd7sVR-A/AAAAAAAAAAI/AAAAAAAAAE4/5E49glKjjv4/photo.jpg?sz=128", "display_name": "coder5777", "link": "https://stackoverflow.com/users/9559630/coder5777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 999, "favorite_count": 0, "closed_date": 1525344056, "answer_count": 1, "score": 0, "last_activity_date": 1525299564, "creation_date": 1525285947, "question_id": 50141320, "link": "https://stackoverflow.com/questions/50141320/unity-onclick-event-for-prefab-button-not-working", "closed_reason": "Duplicate", "title": "unity onclick event for prefab button not working", "body": "<p>Right now in my Unity project I have a list of buttons that are spawned in a scroll list when I start my game. Each of these buttons are linked to a prefab button. I am trying to make it so that when I click any of these buttons, an image pops up. I have this code attached to my prefab button, and I tested it using a debug log, and that works fine, but the image will not actually pop up. I am not sure what the issue is. It is all dealing with my UI. Here is my code:</p>\n\n<pre><code>public Image popUpImage;\n\nvoid Start () \n{\n    popUpImage.enabled = false;\n    button.onClick.AddListener (activatePopUp);\n}\n\npublic void activatePopUp()\n{\n    popUpImage.enabled = true;\n    Debug.Log(\"pop up is active\");\n}\n</code></pre>\n\n<p>Why won't my image actually pop up if the debug is working? I attached my image to the inspector as well.</p>\n"}, {"tags": ["c#", "sql-server", "localdb"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525285788, "post_id": 50141268, "comment_id": 87300757, "body": "FYI, your code is vulnerable to SQL injection attacks.  You need to <a href=\"https://stackoverflow.com/a/35163362/2457029\">parameterize your queries</a> to prevent these attacks"}, {"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1525285847, "post_id": 50141268, "comment_id": 87300788, "body": "You say this was working 2 days ago.  If nothing changed code wise, I would check the data.  Can you run your SQL query directly in Sql  Server to confirm that is working properly/returning data"}, {"owner": {"reputation": 23, "user_id": 4445487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada0c66a96fc571e55db446bd90a90df?s=128&d=identicon&r=PG&f=1", "display_name": "Cem B.", "link": "https://stackoverflow.com/users/4445487/cem-b"}, "edited": false, "score": 0, "creation_date": 1525285853, "post_id": 50141268, "comment_id": 87300791, "body": "-maccettura None gonna use this program except me. I&#39;ll work on totally local.  -Brad yes i tried and it worked on SQL query."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525285915, "post_id": 50141268, "comment_id": 87300831, "body": "@CemB. Still good practice to do things the right way, especially considering it is easier than concatenating strings.  Plus it makes your code easier to debug"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 1, "creation_date": 1525285921, "post_id": 50141268, "comment_id": 87300837, "body": "So what? Parameterizing queries is so simple. Besides you may decide to let others use it. Or you, or someone else, may copy and paste the code elsewhere as an example. My friend bobby tables loves this type of thing. <a href=\"http://bobby-tables.com/\" rel=\"nofollow noreferrer\">bobby-tables.com</a>"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1525286046, "post_id": 50141268, "comment_id": 87300893, "body": "To solve the problem at hand you need to debug your code. This means you have to put in breakpoints and evaluate what is happening. The query you are executing is not returning a row. The ONLY way to figure out why is to know what query you are executing. And the easiest way to do that is putting a break point and looking at the runtime value."}, {"owner": {"reputation": 23, "user_id": 4445487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada0c66a96fc571e55db446bd90a90df?s=128&d=identicon&r=PG&f=1", "display_name": "Cem B.", "link": "https://stackoverflow.com/users/4445487/cem-b"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1525286676, "post_id": 50141268, "comment_id": 87301204, "body": "@SeanLange I just found out that If my combobox2&#39;s value includes &quot;\u0131,\u015f,\u011f&quot; letters (and my first value includes &quot;\u015f&quot;)  i got this error. Do you know why?"}, {"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1525287265, "post_id": 50141268, "comment_id": 87301453, "body": "Because those characters result in a where clause that selects no rows."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 1, "creation_date": 1525287632, "post_id": 50141268, "comment_id": 87301635, "body": "Yes I do. Because you are not using parameters. Those are unicode characters and you don&#39;t have N in front of your string literal. Using parameters with the correct datatype would solve this. Or you could continue the unsafe code you have. where adsoyad=N&#39;...."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525287733, "post_id": 50141268, "comment_id": 87301680, "body": "@CemB. this all comes back to using parameters.  It not only make your code safe but it handles the types appropriately."}, {"owner": {"reputation": 23, "user_id": 4445487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada0c66a96fc571e55db446bd90a90df?s=128&d=identicon&r=PG&f=1", "display_name": "Cem B.", "link": "https://stackoverflow.com/users/4445487/cem-b"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1525288013, "post_id": 50141268, "comment_id": 87301823, "body": "@maccettura I know I will update my queries with parameters. But still I was able to query unicode characters 2 days ago, and now I can&#39;t. What   I can do for undo whatevery happens and just query without N&#39;.."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1525288258, "post_id": 50141268, "comment_id": 87301964, "body": "If the code you posted is the same thing you had 2 days ago there is no way it returned unicode correctly 2 days ago, unless the character is part of the extended ascii set. Regardless if you handle the data correctly the whole issue goes away. Why not just fix the code now and be done with it? It will seriously take about 2 minutes."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4445487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada0c66a96fc571e55db446bd90a90df?s=128&d=identicon&r=PG&f=1", "display_name": "Cem B.", "link": "https://stackoverflow.com/users/4445487/cem-b"}, "edited": false, "score": 0, "creation_date": 1525289535, "post_id": 50142029, "comment_id": 87302607, "body": "Still the same error. &quot;An exception of type &#39;System.IndexOutOfRangeException&#39; occurred in System.Data.dll but was not handled in user code. There is no row at position 0&quot;"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "reply_to_user": {"reputation": 23, "user_id": 4445487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada0c66a96fc571e55db446bd90a90df?s=128&d=identicon&r=PG&f=1", "display_name": "Cem B.", "link": "https://stackoverflow.com/users/4445487/cem-b"}, "edited": false, "score": 1, "creation_date": 1525289695, "post_id": 50142029, "comment_id": 87302694, "body": "Well...your code doesn&#39;t even attempt to evaluate if there is data. You would normally put that sort of thing inside if(dy.Tables[0].Rows.Count &gt; 0). I can&#39;t help you debug your logic here. What is your query that is actually running? Do you have a row with that value in the table? I can&#39;t just magically solve this for you. You have to put in some effort here."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "reply_to_user": {"reputation": 23, "user_id": 4445487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada0c66a96fc571e55db446bd90a90df?s=128&d=identicon&r=PG&f=1", "display_name": "Cem B.", "link": "https://stackoverflow.com/users/4445487/cem-b"}, "edited": false, "score": 0, "creation_date": 1525289750, "post_id": 50142029, "comment_id": 87302720, "body": "What is the table structure? How about some sample data? And the value you are searching for?"}], "tags": [], "owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "is_accepted": false, "score": 1, "last_activity_date": 1525289127, "last_edit_date": 1525289127, "creation_date": 1525288814, "answer_id": 50142029, "question_id": 50141268, "link": "https://stackoverflow.com/questions/50141268/trying-to-get-data-to-textbox-from-sql-there-is-no-row-at-position-0-exception/50142029#50142029", "title": "Trying to get data to textbox from sql. there is no row at position 0 exception", "body": "<p>The right way to fix this is to use parameterized queries. This is really easy to fix. It prevents this type of error and also 100% prevents sql injection. It is so simple to parameterize queries that not doing it is just lazy.</p>\n\n<pre><code>SqlDataAdapter du = new SqlDataAdapter(\"Select * From ogrenciler Where adsoyad = @CombBox2\", con);\ndu.SelectCommand.Parameters.Add(\"@ComboBox2\", SqlDbType.NVarChar, 20).Value = comboBox2.SelectedValue.ToString();\nDataSet dy = new DataSet();\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4445487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada0c66a96fc571e55db446bd90a90df?s=128&d=identicon&r=PG&f=1", "display_name": "Cem B.", "link": "https://stackoverflow.com/users/4445487/cem-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525289127, "creation_date": 1525285719, "last_edit_date": 1525287891, "question_id": 50141268, "link": "https://stackoverflow.com/questions/50141268/trying-to-get-data-to-textbox-from-sql-there-is-no-row-at-position-0-exception", "title": "Trying to get data to textbox from sql. there is no row at position 0 exception", "body": "<pre><code> public void doldur()\n    {\n        SqlConnection con = new SqlConnection(@\"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\Odev.mdf;Integrated Security=True\");\n        con.Open();\n\n        SqlDataAdapter da = new SqlDataAdapter(\"Select * From ogrenciler Order By adsoyad ASC\", con);\n        DataSet dts = new DataSet();\n\n        da.Fill(dts, \"ogrenciler\");\n        comboBox1.DataSource = dts.Tables[\"ogrenciler\"];\n        comboBox1.ValueMember = \"adsoyad\";\n        comboBox1.DisplayMember = \"adsoyad\";\n\n        comboBox2.DataSource = dts.Tables[\"ogrenciler\"];\n        comboBox2.ValueMember = \"adsoyad\";\n        comboBox2.DisplayMember = \"adsoyad\";\n\n        con.Close();\n    }\n</code></pre>\n\n<p>-<em>combobox2 gets the data correctly</em>-</p>\n\n<pre><code> private void ogrenci_Load(object sender, EventArgs e)\n    {\n        doldur();\n\n    }\n</code></pre>\n\n<p>-<em>it is working either</em>-</p>\n\n<pre><code> private void comboBox2_SelectedIndexChanged(object sender, EventArgs e)\n    {\n        textBox7.Text = \"\";\n        textBox8.Text = \"\";\n        textBox9.Text = \"\";\n        textBox10.Text = \"\";\n\n        SqlConnection con = new SqlConnection(@\"Data Source=(LocalDB)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\Odev.mdf;Integrated Security=True\");\n        con.Open();\n\n        SqlDataAdapter du = new SqlDataAdapter(\"Select * From ogrenciler Where adsoyad='\"+ comboBox2.SelectedValue.ToString() +\"'\", con);\n        DataSet dy = new DataSet();\n\n        du.Fill(dy, \"ogrenciler\");\n\n        textBox7.Text = dy.Tables[0].Rows[0][\"adsoyad\"].ToString();\n        textBox8.Text = dy.Tables[0].Rows[0][\"mail\"].ToString();\n        textBox9.Text = dy.Tables[0].Rows[0][\"sinif\"].ToString();\n        textBox10.Text = dy.Tables[0].Rows[0][\"sube\"].ToString();\n\n        con.Close();\n    }\n</code></pre>\n\n<p>In here im getting:</p>\n\n<blockquote>\n  <p>\"An exception of type 'System.IndexOutOfRangeException' occurred in System.Data.dll but was not handled in user code\"(On textbox7 row)</p>\n</blockquote>\n\n<p>I checked my table to be sure if I wrote correct SQL statement.(Everything is correct)\n Then I realize my dataadapter or dataset getting literally no data. Thats why I can't fill my textboxes. I tried to use datatable/rows.count, executescalar, datareader/dr.read, executereader. None of these worked. Then I started to suspect about my SQL Statement.\n Don't know how to fix. New to this language. I'm done. Please help me with this.</p>\n\n<p>ps: This code was running properly 2days ago. </p>\n\n<p>Edit 1:  I just found out that If my combobox2's value includes \"\u0131,\u015f,\u011f\" letters (and my first value includes \"\u015f\") i got this error.</p>\n"}, {"tags": ["c#", "linux", ".net-core", "ubuntu-16.04", "daemon"], "comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 2, "creation_date": 1525307715, "post_id": 50141260, "comment_id": 87308779, "body": "When running as a deamon your process probably lacks privileges to call <code>sudo</code> - or <code>sudo</code> starts but it immediately prompts for a password, so it sits idle."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 9731836, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IX92", "link": "https://stackoverflow.com/users/9731836/ix92"}, "edited": false, "score": 0, "creation_date": 1525313511, "post_id": 50145598, "comment_id": 87310009, "body": "Thanks for the reply. I tried to implement it in this way but got the error as -1 from reboot(). Do you know what could be the reason?"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "reply_to_user": {"reputation": 29, "user_id": 9731836, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IX92", "link": "https://stackoverflow.com/users/9731836/ix92"}, "edited": false, "score": 0, "creation_date": 1525315716, "post_id": 50145598, "comment_id": 87310505, "body": "@IX92 My apologies. I misread the documentation. I&#39;ve updated my answer. If it returns <code>-1</code> then you get the error number via <code>errno</code> (<code>Marshal.GetLastWin32Error()</code> - even on Linux). The error-number is <i>not</i> the return value."}, {"owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1550598387, "post_id": 50145598, "comment_id": 96324239, "body": "It appears several of the values may need to be marked <code>unchecked</code> since they can&#39;t be held by a signed integer in C#. For example, <code>public const int LINUX_REBOOT_CMD_CAD_ON = unchecked((int)0x89ABCDEF)</code>."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "reply_to_user": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1550608878, "post_id": 50145598, "comment_id": 96329218, "body": "@TravisIllig The C# compiler defaults to <code>unchecked</code>. Does your project have checked arithmetic enabled by default?"}, {"owner": {"reputation": 20225, "user_id": 8116, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5b473ad19f5781cd5f17a65a670f3b37?s=128&d=identicon&r=PG", "display_name": "Travis Illig", "link": "https://stackoverflow.com/users/8116/travis-illig"}, "edited": false, "score": 0, "creation_date": 1550614655, "post_id": 50145598, "comment_id": 96331517, "body": "This potentially could be something that changed. <code>dotnet new console</code> to get a new console app, then add <code>public const Int32 LINUX_REBOOT_MAGIC1 = 0xfee1dead;</code> to <code>Program.cs</code> yields the compile error &quot;Cannot implicitly convert type &#39;uint&#39; to &#39;int&#39;. An explicit conversion exists (are you missing a cast?)&quot;"}, {"owner": {"reputation": 576, "user_id": 2770573, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Gd9LV.png?s=128&g=1", "display_name": "Max R.", "link": "https://stackoverflow.com/users/2770573/max-r"}, "edited": false, "score": 1, "creation_date": 1560955363, "post_id": 50145598, "comment_id": 99908161, "body": "@Dai  got always <code>EINVAL</code> (Bad magic numbers) as error code. Using libc.so.6 on an ARM processor."}, {"owner": {"reputation": 326, "user_id": 845615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DNgDJ.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/845615/tom"}, "reply_to_user": {"reputation": 576, "user_id": 2770573, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Gd9LV.png?s=128&g=1", "display_name": "Max R.", "link": "https://stackoverflow.com/users/2770573/max-r"}, "edited": false, "score": 2, "creation_date": 1573274162, "post_id": 50145598, "comment_id": 103838331, "body": "I was getting the same as @MaxR. Using strace, I could see something strange was going on: <code>reboot(LINUX_REBOOT_MAGIC1, LINUX_REBOOT_MAGIC2, 0xfee1dead &#47;* LINUX_REBOOT_CMD_??? *&#47;) = -1 EINVAL (Invalid argument)</code> - It appears the first two magic numbers are not required for this invocation method. Changing the DllImport to <code>public static extern Int32 reboot(Int32 cmd, IntPtr arg);</code> and invoking via <code>reboot(LINUX_REBOOT_CMD_POWER_OFF, IntPtr.Zero);</code> works fine."}, {"owner": {"reputation": 1113, "user_id": 1702827, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/rkwO1.jpg?s=128&g=1", "display_name": "johnstaveley", "link": "https://stackoverflow.com/users/1702827/johnstaveley"}, "edited": false, "score": 0, "creation_date": 1610295202, "post_id": 50145598, "comment_id": 116081643, "body": "When I run dotnet run &lt;MyProg&gt; I get unauthorized. When I run sudo dotnet run &lt;MyProg&gt; it says dotnet is not installed"}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": false, "score": 2, "last_activity_date": 1560976700, "last_edit_date": 1560976700, "creation_date": 1525309866, "answer_id": 50145598, "question_id": 50141260, "link": "https://stackoverflow.com/questions/50141260/how-to-shutdown-computer-from-a-net-core-application-running-on-linux/50145598#50145598", "title": "How to shutdown computer from a .NET Core application running on Linux", "body": "<p>I recommend changing your code to use P/Invoke to call Linux's <code>reboot</code> function directly, this will also give you more details if it fails.</p>\n\n<p>While invoking other executables to perform tasks is the convention on Unix/Linux (especially from shell scripts), .NET programs really don't fit in well and the code required is very brittle (e.g. as you're seeing with <code>sudo</code>), especially as in the .NET world processing Standard IO (<code>stdin</code>, <code>stdout</code>, <code>stderr</code>) from other processes is very difficult.</p>\n\n<pre><code>internal static class NativeMethods\n{\n    [DllImport( \"libc.so\", SetLastError = true)] // You may need to change this to \"libc.so.6\" or \"libc.so.7\" depending on your platform)\n    public static extern Int32 reboot(Int32 magic, Int32 magic2, Int32 cmd, IntPtr arg);\n\n    public const Int32 LINUX_REBOOT_MAGIC1 = unchecked((int)0xfee1dead);\n    public const Int32 LINUX_REBOOT_MAGIC2 = 672274793;\n    public const Int32 LINUX_REBOOT_MAGIC2A = 85072278;\n    public const Int32 LINUX_REBOOT_MAGIC2B = 369367448;\n    public const Int32 LINUX_REBOOT_MAGIC2C = 537993216;\n\n\n    public const Int32 LINUX_REBOOT_CMD_RESTART = 0x01234567;\n    public const Int32 LINUX_REBOOT_CMD_HALT = unchecked((int)0xCDEF0123);\n    public const Int32 LINUX_REBOOT_CMD_CAD_ON = unchecked((int)0x89ABCDEF);\n    public const Int32 LINUX_REBOOT_CMD_CAD_OFF = 0x00000000;\n    public const Int32 LINUX_REBOOT_CMD_POWER_OFF = 0x4321FEDC;\n    public const Int32 LINUX_REBOOT_CMD_RESTART2 = unchecked((int)0xA1B2C3D4);\n    public const Int32 LINUX_REBOOT_CMD_SW_SUSPEND = unchecked((int)0xD000FCE2);\n    public const Int32 LINUX_REBOOT_CMD_KEXEC = 0x45584543;\n\n    public const Int32 EPERM  =  1;\n    public const Int32 EFAULT = 14;\n    public const Int32 EINVAL = 22;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>using static NativeMethods;\n\npublic static void Shutdown()\n{\n    Int32 ret = reboot( LINUX_REBOOT_MAGIC1, LINUX_REBOOT_MAGIC2, LINUX_REBOOT_CMD_POWER_OFF, IntPtr.Zero );\n\n    // `reboot(LINUX_REBOOT_CMD_POWER_OFF)` never returns if it's successful, so if it returns 0 then that's weird, we should treat it as an error condition instead of success:\n    if( ret == 0 ) throw new InvalidOperationException( \"reboot(LINUX_REBOOT_CMD_POWER_OFF) returned 0.\");\n\n    // ..otherwise we expect it to return -1 in the event of failure, so any other value is exceptional:\n    if( ret != -1 ) throw new InvalidOperationException( \"Unexpected reboot() return value: \" + ret );\n\n    // At this point, ret == -1, which means check `errno`!\n    // `errno` is accessed via Marshal.GetLastWin32Error(), even on non-Win32 platforms and especially even on Linux\n\n    Int32 errno = Marshal.GetLastWin32Error();\n    switch( errno )\n    {\n    case EPERM:\n        throw new UnauthorizedAccessException( \"You do not have permission to call reboot()\" );\n\n    case EINVAL:\n        throw new ArgumentException( \"Bad magic numbers (stray cosmic-ray?)\" );\n\n    case EFAULT:\n    default:\n        throw new InvalidOperationException( \"Could not call reboot():\" + errno.ToString() );\n    }\n}\n</code></pre>\n\n<p>Note that a successful call to <code>reboot()</code> will never return.</p>\n"}], "owner": {"reputation": 29, "user_id": 9731836, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "IX92", "link": "https://stackoverflow.com/users/9731836/ix92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1234, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1560976700, "creation_date": 1525285687, "last_edit_date": 1525307558, "question_id": 50141260, "link": "https://stackoverflow.com/questions/50141260/how-to-shutdown-computer-from-a-net-core-application-running-on-linux", "title": "How to shutdown computer from a .NET Core application running on Linux", "body": "<p>I have a .net core 2.0 program running on Linux (Ubuntu Server 16.04 LTS). </p>\n\n<p>I'm trying to shutdown the computer by invoking a process with the following command: <code>sudo shutdown -h now</code>, though when the program is running in the background as daemon service, the shutdown process does not work. </p>\n\n<p>Here is the code:</p>\n\n<pre><code>var process = new Process\n{\n    StartInfo =\n    {\n        CreateNoWindow = true,\n        RedirectStandardError = true,\n        RedirectStandardInput = true,\n        RedirectStandardOutput = true,\n        UseShellExecute = false,\n        FileName = Environment.GetEnvironmentVariable(\"SHELL\"),\n        Arguments = \"-s\"\n    },\n    EnableRaisingEvents = true\n};\n\nif (process.Start())\n{\n    process.BeginErrorReadLine();\n    process.BeginOutputReadLine();\n    process.StandardInput.WriteLine(\"sudo shutdown -h now\");\n}\n</code></pre>\n\n<p>My assumption is that the service runs as a separate session so it doesn't have any control. How can I get the application to shutdown the computer when it is running as a Linux daemon?</p>\n"}, {"tags": ["c#", "regex", "specflow"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 6101205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/739f7173614370c1a3d47f0ed79c06b8?s=128&d=identicon&r=PG&f=1", "display_name": "Razkar", "link": "https://stackoverflow.com/users/6101205/razkar"}, "edited": false, "score": 0, "creation_date": 1525286586, "post_id": 50141353, "comment_id": 87301156, "body": "Excellent. I have actually tried non-matching group, but forgot to include the coma and space inside non-matching group bracket. Thank you!"}, {"owner": {"reputation": 3271, "user_id": 7607701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-0eLxeTB_SdQ/AAAAAAAAAAI/AAAAAAAAABg/XZT1oaa0wqA/photo.jpg?sz=128", "display_name": "Aaron N. Brock", "link": "https://stackoverflow.com/users/7607701/aaron-n-brock"}, "reply_to_user": {"reputation": 409, "user_id": 6101205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/739f7173614370c1a3d47f0ed79c06b8?s=128&d=identicon&r=PG&f=1", "display_name": "Razkar", "link": "https://stackoverflow.com/users/6101205/razkar"}, "edited": false, "score": 0, "creation_date": 1525286897, "post_id": 50141353, "comment_id": 87301312, "body": "@Razkar I will admit having capturing groups inside of non-capturing groups is a bit messy.  But this is regex, so that&#39;s kinda the point!  Also, don&#39;t forget to accept the answer!"}, {"owner": {"reputation": 409, "user_id": 6101205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/739f7173614370c1a3d47f0ed79c06b8?s=128&d=identicon&r=PG&f=1", "display_name": "Razkar", "link": "https://stackoverflow.com/users/6101205/razkar"}, "edited": false, "score": 0, "creation_date": 1525287293, "post_id": 50141353, "comment_id": 87301467, "body": "One thing I have to do though is use &quot;&quot; instead of \\&quot; [Given(@&quot;I do &quot;&quot;(.*)&quot;&quot;(?:, &quot;&quot;(.*)?&quot;&quot;)?(?:, &quot;&quot;(.*)?&quot;&quot;)?]"}, {"owner": {"reputation": 3271, "user_id": 7607701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-0eLxeTB_SdQ/AAAAAAAAAAI/AAAAAAAAABg/XZT1oaa0wqA/photo.jpg?sz=128", "display_name": "Aaron N. Brock", "link": "https://stackoverflow.com/users/7607701/aaron-n-brock"}, "reply_to_user": {"reputation": 409, "user_id": 6101205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/739f7173614370c1a3d47f0ed79c06b8?s=128&d=identicon&r=PG&f=1", "display_name": "Razkar", "link": "https://stackoverflow.com/users/6101205/razkar"}, "edited": false, "score": 0, "creation_date": 1525287366, "post_id": 50141353, "comment_id": 87301507, "body": "@Razkar I&#39;m guessing that&#39;s a <code>C#</code> thing, I&#39;m not sure as I&#39;m a filthy python-only dev."}, {"owner": {"reputation": 409, "user_id": 6101205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/739f7173614370c1a3d47f0ed79c06b8?s=128&d=identicon&r=PG&f=1", "display_name": "Razkar", "link": "https://stackoverflow.com/users/6101205/razkar"}, "edited": false, "score": 0, "creation_date": 1525287919, "post_id": 50141353, "comment_id": 87301784, "body": "It is. It&#39;s a c# verbatim string, starting with @"}], "tags": [], "owner": {"reputation": 3271, "user_id": 7607701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-0eLxeTB_SdQ/AAAAAAAAAAI/AAAAAAAAABg/XZT1oaa0wqA/photo.jpg?sz=128", "display_name": "Aaron N. Brock", "link": "https://stackoverflow.com/users/7607701/aaron-n-brock"}, "is_accepted": true, "score": 2, "last_activity_date": 1525286080, "creation_date": 1525286080, "answer_id": 50141353, "question_id": 50141259, "link": "https://stackoverflow.com/questions/50141259/specflow-c-regex-optional-parameter-in-double-quotes/50141353#50141353", "title": "SpecFlow C# Regex optional parameter in double quotes", "body": "<p>I believe this matches/groups what you're trying to match</p>\n\n<pre><code>I do \\\"(.*?)\\\"(?:, \\\"(.*?)\\\")?(?:, \\\"(.*?)\\\")?\n</code></pre>\n\n<p><a href=\"https://regexr.com/3os2v\" rel=\"nofollow noreferrer\">Regexr Example</a></p>\n"}, {"tags": [], "owner": {"reputation": 3388, "user_id": 9534819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fdbae473f8d26eb6a10d85ab897e91e?s=128&d=identicon&r=PG&f=1", "display_name": "Matt.G", "link": "https://stackoverflow.com/users/9534819/matt-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1525286245, "creation_date": 1525286245, "answer_id": 50141391, "question_id": 50141259, "link": "https://stackoverflow.com/questions/50141259/specflow-c-regex-optional-parameter-in-double-quotes/50141391#50141391", "title": "SpecFlow C# Regex optional parameter in double quotes", "body": "<p>Regex:</p>\n\n<pre><code>I do \\\".*?\\\"(?:, \\\".*?\\\")*\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/EL6B8o/2\" rel=\"nofollow noreferrer\">Demo</a></p>\n\n<p>Explanation:</p>\n\n<pre><code>/I do \\\".*?\\\"(?:, \\\".*?\\\")*/\n    I do  matches the characters I do  literally (case sensitive)\n    \\\" matches the character \" literally (case sensitive)\n    .*? matches any character (except for line terminators)\n    *? Quantifier \u2014 Matches between zero and unlimited times, as few times as possible, expanding as needed (lazy)\n    \\\" matches the character \" literally (case sensitive)\n    Non-capturing group (?:, \\\".*?\\\")*\n    * Quantifier \u2014 Matches between zero and unlimited times, as many times as possible, giving back as needed (greedy)\n        ,  matches the characters ,  literally (case sensitive)\n        \\\" matches the character \" literally (case sensitive)\n        .*? matches any character (except for line terminators)\n        \\\" matches the character \" literally (case sensitive)\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 6101205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/739f7173614370c1a3d47f0ed79c06b8?s=128&d=identicon&r=PG&f=1", "display_name": "Razkar", "link": "https://stackoverflow.com/users/6101205/razkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 1, "accepted_answer_id": 50141353, "answer_count": 2, "score": 1, "last_activity_date": 1525287825, "creation_date": 1525285687, "last_edit_date": 1525287825, "question_id": 50141259, "link": "https://stackoverflow.com/questions/50141259/specflow-c-regex-optional-parameter-in-double-quotes", "title": "SpecFlow C# Regex optional parameter in double quotes", "body": "<p>I want to write step definition, that will work for either of three steps below.\nI need to make last two parameters in double quotes optional.</p>\n\n<pre><code>Given I do \"x\"\nGiven I do \"x\", \"y \"\nGiven I do \"x\", \"y \", \" z\"\n</code></pre>\n\n<p>I've tried several expressions:</p>\n\n<pre><code>[Given(@\"I do \"\"(.*)\"\", \"\"(.*)?\"\", \"\"(.*)?\"\"\")]\n[Given(@\"I do \"\"(.*)\"\", \"\"(.*)\"\"?, \"\"(.*)\"\"?\")]\n[Given(@\"I do \"\"(.*)\"\", (\"\"(.*)\"\")?, (\"\"(.*)\"\")?\")]\n[Given(@\"I do \"\"(.*)\"\", [\"\"(.*)\"\"]?, [\"\"(.*)\"\"]?\")]\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "multithreading", "file", "asynchronous"], "comments": [{"owner": {"reputation": 10220, "user_id": 70104, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/859c44ae8a94cf8def8a9728369fcd2e?s=128&d=identicon&r=PG", "display_name": "Chris Dunaway", "link": "https://stackoverflow.com/users/70104/chris-dunaway"}, "edited": false, "score": 0, "creation_date": 1525294465, "post_id": 50141227, "comment_id": 87304980, "body": "Why not have your &quot;Master&quot; thread put the data into a queue.  Have a set number of worker threads that each pull from the queue.  You will have to make sure the queue is synchronized so that two worker threads will not dequeue the same data."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 2284846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7fcb1600544529d8184ea1f10aa43d85?s=128&d=identicon&r=PG", "display_name": "JDCAce", "link": "https://stackoverflow.com/users/2284846/jdcace"}, "edited": false, "score": 0, "creation_date": 1525286982, "post_id": 50141502, "comment_id": 87301342, "body": "This sounds like <i>precisely</i> what I&#39;m looking for! Thank you very much! I&#39;m going to hold off on marking this as an answer until I&#39;ve read more into Semaphore and SemaphoreSlim."}, {"owner": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "reply_to_user": {"reputation": 97, "user_id": 2284846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7fcb1600544529d8184ea1f10aa43d85?s=128&d=identicon&r=PG", "display_name": "JDCAce", "link": "https://stackoverflow.com/users/2284846/jdcace"}, "edited": false, "score": 2, "creation_date": 1525291013, "post_id": 50141502, "comment_id": 87303337, "body": "@JDCAce, It&#39;s precisely what you <i>asked</i> for, but it&#39;s not the best solution to your problem. Creating and destroying threads has a cost, and that cost probably is more than you want to pay if you create and destroy one thread for every record in the file.  If you want no more than <i>N</i> threads to run at the same time, then your program should create <i>N</i> threads up-front, and then re-use them.  That&#39;s what a <i>thread pool</i> does for you (seeuser270576&#39;s answer)."}, {"owner": {"reputation": 386, "user_id": 7007925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20c65576e0e1a912180d2617470a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wiz", "link": "https://stackoverflow.com/users/7007925/wiz"}, "edited": false, "score": 0, "creation_date": 1525291343, "post_id": 50141502, "comment_id": 87303507, "body": "I&#39;m not too familiar with how the thread pool works, but it was my understanding that it is not meant for long running tasks - which may or may not be the case here. My second thought is how many threads could be queued at a time if the main thread was much faster than the worker threads. I&#39;m not sure if there are any limitations to the queue or resources it could hold."}], "tags": [], "owner": {"reputation": 386, "user_id": 7007925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20c65576e0e1a912180d2617470a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wiz", "link": "https://stackoverflow.com/users/7007925/wiz"}, "is_accepted": false, "score": 2, "last_activity_date": 1525286779, "creation_date": 1525286779, "answer_id": 50141502, "question_id": 50141227, "link": "https://stackoverflow.com/questions/50141227/how-to-pause-creating-new-threads-until-older-threads-have-ended/50141502#50141502", "title": "How to pause creating new threads until older threads have ended", "body": "<p>I believe you are looking for a Semaphore (Or perhaps SemaphoreSlim may work for you as well). A semaphore \"Limits the number of threads that can access a resource or pool of resources concurrently.\"  The Semaphore is created with a specific number of slots. Then, you can call \"WaitOne\" to wait for an available slot, and \"Release\" when done with a slot. If there are no slots available, \"WaitOne\" can either wait forever, or until a timeout occurs. </p>\n\n<p>So in your case, the main thread would call WaitOne to wait for an available slot. Then, in at the end of the worker threads, you could call Release to free up a slot.</p>\n\n<p>The .NET Semaphore:\n<a href=\"https://msdn.microsoft.com/en-us/library/system.threading.semaphore(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.threading.semaphore(v=vs.110).aspx</a></p>\n\n<p>.NET SemaphoreSlim (lightweight semaphore):\n<a href=\"https://msdn.microsoft.com/en-us/library/system.threading.semaphoreslim(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.threading.semaphoreslim(v=vs.110).aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 386, "user_id": 7007925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20c65576e0e1a912180d2617470a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wiz", "link": "https://stackoverflow.com/users/7007925/wiz"}, "edited": false, "score": 1, "creation_date": 1525351331, "post_id": 50141682, "comment_id": 87328285, "body": "Parallel.ForEach may also be an option that doesn&#39;t require the number of records to be known, as long as they can create an enumerator that reads record by record."}, {"owner": {"reputation": 937, "user_id": 270576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f543531b9b0e44397d7ee3fc883f9a30?s=128&d=identicon&r=PG", "display_name": "user270576", "link": "https://stackoverflow.com/users/270576/user270576"}, "reply_to_user": {"reputation": 386, "user_id": 7007925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e20c65576e0e1a912180d2617470a76?s=128&d=identicon&r=PG&f=1", "display_name": "Wiz", "link": "https://stackoverflow.com/users/7007925/wiz"}, "edited": false, "score": 0, "creation_date": 1525370212, "post_id": 50141682, "comment_id": 87340272, "body": "@wiz true that!"}], "tags": [], "owner": {"reputation": 937, "user_id": 270576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f543531b9b0e44397d7ee3fc883f9a30?s=128&d=identicon&r=PG", "display_name": "user270576", "link": "https://stackoverflow.com/users/270576/user270576"}, "is_accepted": false, "score": 2, "last_activity_date": 1525287479, "creation_date": 1525287479, "answer_id": 50141682, "question_id": 50141227, "link": "https://stackoverflow.com/questions/50141227/how-to-pause-creating-new-threads-until-older-threads-have-ended/50141682#50141682", "title": "How to pause creating new threads until older threads have ended", "body": "<p><strong>Solution1:</strong></p>\n\n<p>Use <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.threadpool(v=vs.110).aspx\" rel=\"nofollow noreferrer\" title=\"ThreadPool\">ThreadPool</a>. Set <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.threadpool.setmaxthreads(v=vs.110).aspx\" rel=\"nofollow noreferrer\">MaxThreads</a>, which</p>\n\n<blockquote>\n  <p>Sets the number of requests to the thread pool that can be active concurrently. All requests above that number remain queued until thread pool threads become available.</p>\n</blockquote>\n\n<p>Something like:</p>\n\n<pre><code>System.Threading.ThreadPool.SetMaxThreads(50, 1000);\n// inside loop\nThreadPool.QueueUserWorkItem(ProcessRequest);\n// end loop\n</code></pre>\n\n<p>Where <code>ProcessRequest</code> is your method that does the work.</p>\n\n<p><strong>Solution2:</strong></p>\n\n<p>If you know number of records: use <code>Parallel.For</code> and set <code>MaxDegreeOfParallelism</code> accordingly.</p>\n\n<pre><code>Parallel.For(0, 1000, new ParallelOptions { MaxDegreeOfParallelism = 10 },\ni =&gt; { \n    ProcessRequest(i);\n});\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 2284846, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7fcb1600544529d8184ea1f10aa43d85?s=128&d=identicon&r=PG", "display_name": "JDCAce", "link": "https://stackoverflow.com/users/2284846/jdcace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1525287479, "creation_date": 1525285569, "question_id": 50141227, "link": "https://stackoverflow.com/questions/50141227/how-to-pause-creating-new-threads-until-older-threads-have-ended", "title": "How to pause creating new threads until older threads have ended", "body": "<h2>Background</h2>\n\n<p>I have a very large binary data file (20+ GB) that I need to parse, process the data, then write my output. I have very little experience working with such large amounts of data, and while I'm having a little trouble conceptualizing how to deal with it, I do have an idea. Note: The input data contains a number of records retrieved from an IBM mainframe, so it is formatted like so:</p>\n\n<p>The first 4 bytes of each record (row/line) is the RDW (record descriptor word). The RDW contains the length of the record (including the RDW). Because of the RDWs, even though the file is one constant stream of bytes, I do know where each record ends. I could translate this binary file into a text file, converting each two bytes to its hexadecimal representation, and also include a new line character at the end of the record, but I'm afraid how large a 20+ GB binary file would be if translated like that.</p>\n\n<p>Because I want to leave the file as a binary file, I have one idea how to proceed:</p>\n\n<ol>\n<li>Read the file sequentially using one \"master\" thread.</li>\n<li>Once the master has reached the end of a record (using the information found in the RDW), it spawns a new \"worker\" thread, passing the thread the data it read from the file.\n\n<ul>\n<li>The worker thread parses the data, processes the data, and outputs it somewhere. (I'm thinking I'll house the data in a SQLite database.)</li>\n</ul></li>\n<li>While the worker thread is working, the master thread continues reading the file, and when it finishes reading another record, it spawns a second worker thread to work on the second record. This continues until all records have been processed.</li>\n</ol>\n\n<h2>Problem</h2>\n\n<p>Unfortunately, I envision a problem. The reading \"master\" thread will be working so much faster than the threads it spawns that I'm afraid too many threads will be created. To prevent this, I imagined this solution (in pseudocode):</p>\n\n<pre><code>record = file.ReadRecord()\nif(numberOfRunningWorkerThreads &lt; MAX_THREADS)\n    SpawnWorkerThread(record);\nelse\n    WaitUntil(numberOfRunningWorkerThreads &lt; MAX_THREADS)\n</code></pre>\n\n<p>However, I have no idea how to implement such functionality, especially that last <code>else</code> condition. I'm new to multithreading and asynchrony, and I'm not even sure what the difference between those two terms is.</p>\n\n<p>Can anyone point me in the right direction?</p>\n"}, {"tags": ["c#", "sortedlist", "alphabetic"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525285538, "post_id": 50141183, "comment_id": 87300634, "body": "You cannot add duplicate keys in a <a href=\"https://msdn.microsoft.com/en-us/library/system.collections.sortedlist.add(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>SortedList</code></a>, thats why you are getting that error.  So stop doing that"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1525285696, "post_id": 50141183, "comment_id": 87300718, "body": "<code>SortedList</code> is a terrible name because it <a href=\"https://stackoverflow.com/questions/3663613/\">isn&#39;t a list</a>."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 2, "creation_date": 1525286257, "post_id": 50141183, "comment_id": 87300984, "body": "@Harsh this is not a duplicate. you would have to know that sorted list is a dictionary first"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1525286284, "post_id": 50141183, "comment_id": 87300996, "body": "I agree, this is not a duplicate (at least of the linked question)"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1525286390, "post_id": 50141183, "comment_id": 87301055, "body": "Also, <code>letters.Values</code> is an <code>int</code>. <code>letters.Keys</code> is a <code>char</code>. So you&#39;re going to end up with a sorted list based on the character, not the count. And you can&#39;t have the count as a key since there may be duplicates."}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1525286659, "post_id": 50141183, "comment_id": 87301198, "body": "@johnny5 Yes, you&#39;ll have to know that it is a dictionary. And the OP could have known that by reading the Error message?"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1525286772, "post_id": 50141183, "comment_id": 87301246, "body": "I think it&#39;s a dupe based on the exact same error message, and that the resolution to that error message is the same."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 1, "creation_date": 1525286782, "post_id": 50141183, "comment_id": 87301252, "body": "@Harsh, If I were new to programming and I were to see that message I would be even more confused because I don&#39;t have a dictionary on the page."}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1525286879, "post_id": 50141183, "comment_id": 87301299, "body": "@johnny5 And then you would set the cursor on <code>SortedDictionary</code> and press <code>F12</code>, and see: <code>public class SortedList : IDictionary, ICollection, IEnumerable, ICloneable</code>"}, {"owner": {"reputation": 5391, "user_id": 5525311, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hzYIS.png?s=128&g=1", "display_name": "Grizzly", "link": "https://stackoverflow.com/users/5525311/grizzly"}, "edited": false, "score": 0, "creation_date": 1525286888, "post_id": 50141183, "comment_id": 87301305, "body": "Here is my <a href=\"https://dotnetfiddle.net/lrP3aQ\" rel=\"nofollow noreferrer\">solution</a>"}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1525286928, "post_id": 50141183, "comment_id": 87301320, "body": "@johnny5 Especially as a new programmer, we should be learning to infer from analyzing the error message."}, {"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 1, "creation_date": 1525286954, "post_id": 50141183, "comment_id": 87301335, "body": "@RufusL,  New people might not know to check the definition either"}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "reply_to_user": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1525287017, "post_id": 50141183, "comment_id": 87301357, "body": "@johnny5 Then that is the first thing to learn :)"}], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 1, "last_activity_date": 1525287787, "last_edit_date": 1525287787, "creation_date": 1525286488, "answer_id": 50141436, "question_id": 50141183, "link": "https://stackoverflow.com/questions/50141183/random-letters-sorted-by-sorted-list-c/50141436#50141436", "title": "Random letters sorted by sorted list C#", "body": "<p>As noted in the comments, the reason <code>SortedList</code> causes a problem here is that it's actually a <em>dictionary</em>, despite the name. You can't call <code>Add</code> with the same key twice. (You can use the indexer to set a new value for a key, whether it previously existed or not, but <code>Add</code> checks whether there's already a value for the key.)</p>\n\n<p>You <em>could</em> use <code>SortedList</code> for its sortedness, but keep the count in the value. That's harder than it needs to be though. I would use LINQ for this - it makes it very easy to do both aspects of this.</p>\n\n<pre><code>var orderedGroups = text\n   .GroupBy(c =&gt; c, (c, g) =&gt; new { Letter = c, Count = g.Count() })\n   .OrderBy(g =&gt; g.Key);\n\nforeach (var element in orderedGroups)\n{\n    Console.WriteLine(element);\n}\n</code></pre>\n\n<p>It also makes it easier to do the first part, actually - no need for a <code>for</code> loop and string concatenation. Here's a complete example:</p>\n\n<pre><code>using System;\nusing System.Linq;\n\npublic class Program\n{\n    static void Main()\n    {\n        Random rng = new Random();\n        var letters = Enumerable.Range(0, 50)\n            .Select(_ =&gt; (char) rng.Next(65,91))\n            .ToArray();\n\n        Console.WriteLine($\"Letters: {new string(letters)}\");\n        var orderedGroups = letters\n            .GroupBy(c =&gt; c, (c, g) =&gt; new { Letter = c, Count = g.Count() })\n            .OrderBy(g =&gt; g.Key);\n\n        foreach (var element in orderedGroups)\n        {\n            Console.WriteLine(element);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9731801, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "El Gato", "link": "https://stackoverflow.com/users/9731801/el-gato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "closed_date": 1525286700, "answer_count": 1, "score": 1, "last_activity_date": 1525287787, "creation_date": 1525285395, "last_edit_date": 1525285457, "question_id": 50141183, "link": "https://stackoverflow.com/questions/50141183/random-letters-sorted-by-sorted-list-c", "closed_reason": "Duplicate", "title": "Random letters sorted by sorted list C#", "body": "<p>I have to generate randomly letters in a string</p>\n\n<pre><code>this.text = \"\";\nRandom rndChar = new Random();\n\nfor (int i = 0; i &lt; 50; i++)\n{\n    this.text = this.text + (char)rndChar.Next(65,91);\n}\n</code></pre>\n\n<p>The result is something about\nGUHZBVUTSUZHBF...</p>\n\n<p>Now i have to generate a list of the characters in\nascending order with the number of times each character has been repeated.\nI tried it with</p>\n\n<pre><code>SortedList letters = new SortedList();\nfor(int i = 0; i &lt; 50; i++)\n{\n    letters.Add(this.text[i], i);\n}\n\nforeach (Char entry in letters.Values)\n    Console.WriteLine(entry);\n</code></pre>\n\n<p>, but that doesn't work:</p>\n\n<blockquote>\n  <p>\"System.ArgumentException: 'Item has already been added. Key in dictionary: 'J'  Key being added: 'J''\n  .\"</p>\n</blockquote>\n\n<p>What does that mean? How can i solve that issue?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 1, "creation_date": 1525285256, "post_id": 50141018, "comment_id": 87300513, "body": "What about if you go with <code>Linq to Entites</code> but following change --- Create a child property of <code>AppointmentStatusType</code> (with internal accessor) which maps the required property like <code>cancel_ind</code> e.t.c. Then have <code>AppointmentStatus</code> as get only property which is being computed based on <code>AppointmentStatusType</code> object. Does this improve your performance?"}, {"owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "reply_to_user": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "edited": false, "score": 0, "creation_date": 1525285841, "post_id": 50141018, "comment_id": 87300787, "body": "I appreciate the idea, but Igor&#39;s answer below is going to require a lot less effort. Thank you for responding--I appreciate it!"}, {"owner": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1525288399, "post_id": 50141018, "comment_id": 87302033, "body": "both look terrible. post the sql, and then get someone to convert it properly."}, {"owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "reply_to_user": {"reputation": 2295, "user_id": 1262541, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8d7544724fcfc5be9d94eb10cc3ec47c?s=128&d=identicon&r=PG", "display_name": "Seabizkit", "link": "https://stackoverflow.com/users/1262541/seabizkit"}, "edited": false, "score": 0, "creation_date": 1525288540, "post_id": 50141018, "comment_id": 87302098, "body": "@Seabizkit - Turns out that I can continue to use the first approach with the answer from Igor below."}, {"owner": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 1, "creation_date": 1525291148, "post_id": 50141018, "comment_id": 87303409, "body": "&quot;It&#39;s my understanding that the &quot;Linq to Objects&quot; approach slows things down because it&#39;s loading more data into memory so Entity Framework can generate the proper SQL query&quot;: No, it slows things down because it&#39;s pulling all the data into memory and <i>not generating a SQL query.</i> If you&#39;ve got 200 <code>ReferralListViewModel</code>s and 2 distinct values, it calls <code>new ReferralListViewModel()</code> 200 times, sets the specified properties 200 times, and uses the default equality comparer to exclude 198 of them. LINQ to objects operates directly on the objects; the methods take delegates, not expression trees."}, {"owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "reply_to_user": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 0, "creation_date": 1525291271, "post_id": 50141018, "comment_id": 87303469, "body": "@phoog - Thank you for the clarification. I am not too old to learn! :-)"}, {"owner": {"reputation": 39314, "user_id": 385844, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/21ffea7aa8a0cf833901322567c61df9?s=128&d=identicon&r=PG", "display_name": "phoog", "link": "https://stackoverflow.com/users/385844/phoog"}, "edited": false, "score": 2, "creation_date": 1525291831, "post_id": 50141018, "comment_id": 87303725, "body": "You&#39;re welcome! I&#39;m glad I managed to make enough sense despite cramming that all into 600 characters. Another benefit of understanding the difference between <code>System.Linq.Queryable</code> and <code>System.Linq.Enumerable</code> is that the reason for the &quot;dreaded &#39;cannot be translated&#39; error&quot; becomes clear: with <code>S.L.Enumerable</code> there&#39;s no translation; you&#39;re just calling .NET code directly."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 1, "creation_date": 1525285770, "post_id": 50141153, "comment_id": 87300749, "body": "Dear @Igor, you are my hero! This is exactly what I needed. Thank you so much--I really appreciate your help! Also, you are right that it would be better to be able to change the schema, but in this case I do not have control over it. Again, thank you so much for the help--this is exactly what I needed and I already confirmed that it works. :-)"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1525285810, "post_id": 50141153, "comment_id": 87300772, "body": "Going by the list of Canonical Functions, <code>String.Compare</code> isn&#39;t one of them??? Wouldn&#39;t just using <code>&lt;=</code> be sufficient?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1525285856, "post_id": 50141153, "comment_id": 87300794, "body": "@NetMage - it is though as I have used it many times in the past, let me see where I can find it in the documentation..."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1525286632, "post_id": 50141153, "comment_id": 87301185, "body": "@NetMage - I can&#39;t find it anywhere. It is supported but I will need some time to figure out where there is documentation that states it. I have had to use this from time to time for the exact same reason as the in the OP in querying a legacy DB where I had no control over the schema. I will look a little later and hit you up if I find anything."}, {"owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 0, "creation_date": 1525286815, "post_id": 50141153, "comment_id": 87301266, "body": "NetMage - If you mean can you just do something like this: <code>ap.appt_date &lt; today) ? &quot;No-show&quot;</code> then no, that doesn&#39;t work in this case. The compiler states that the &#39;&lt;&#39; operator cannot be used to compare strings."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 0, "creation_date": 1525287202, "post_id": 50141153, "comment_id": 87301428, "body": "@BillKron Thanks, I use that so little I didn&#39;t realize C# had such a hole. I can imagine the extensions being created once extensions everywhere is available."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 1, "creation_date": 1525289154, "post_id": 50141153, "comment_id": 87302402, "body": "@Igor @BillKron BTW, shouldn&#39;t that be <code>&lt; 0</code> not <code>&lt; 1</code> for &quot;before today&#39;s date&quot;?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 0, "creation_date": 1525289379, "post_id": 50141153, "comment_id": 87302539, "body": "@BillKron / Netmage - Good catch."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 3, "last_activity_date": 1525289389, "last_edit_date": 1592644375, "creation_date": 1525285279, "answer_id": 50141153, "question_id": 50141018, "link": "https://stackoverflow.com/questions/50141018/linq-to-entities-versus-linq-to-objects-performance-issue/50141153#50141153", "title": "Linq to Entities versus Linq to Objects Performance Issue", "body": "<blockquote>\n<p>In order to determine a no-show, I need to look at the appt_date field to see if it is before today's date. However, the appt_date is stored as a VARCHAR in the yyyyMMdd format. In order to compare it to today's date, I need to convert the appt_date value to a Datetime value.</p>\n<p>Does anyone have any suggestions on how I could overcome this problem and maintain good performance with the query? I would greatly appreciate any advice you can provide.</p>\n</blockquote>\n<p>Go the other direction, convert todays date to a varchar and use that in your comparison. This will allow you to use your existing indexes on the table as well.</p>\n<pre><code>var today = DateTime.Today.ToString(&quot;yyyyMMdd&quot;);\n\n// in your query down below\nstring.Compare(r.appt_date, today) &lt; 0 ? &quot;No-show&quot; : ....\n</code></pre>\n<p>See also <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ef/language-reference/canonical-functions\" rel=\"nofollow noreferrer\">Canonical Functions</a> for what functions can be translated into store expressions by EF. As you had noticed <code>DateTime.ParseExact</code> is not one of them which is why you would be required to get the data into memory and then filter that in memory data again based on your condition. The sloweness comes from having to pull much more data than necessary from the database.</p>\n<hr />\n<p>A better solution, but one which requires more work, is to change your schema and actually persist a DateTime as a Date or DateTime type. This is my recommendation but if you do not have control over the schema then it is not possible.</p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 0, "creation_date": 1525288052, "post_id": 50141771, "comment_id": 87301848, "body": "Yes, you&#39;re right to prefer IQueryable. The reason I had to switch over to IEnumerable was because of the dreaded &quot;Method cannot be translated into a store expression&quot; error. @Igor was able to help me understand how to get around the problem without going to IEnumerable. Thanks for responding--I really appreciate it!"}, {"owner": {"reputation": 1747, "user_id": 6800303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86ffb4271b65f9121097792b5f77af1?s=128&d=identicon&r=PG&f=1", "display_name": "NitinSingh", "link": "https://stackoverflow.com/users/6800303/nitinsingh"}, "reply_to_user": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 0, "creation_date": 1525324576, "post_id": 50141771, "comment_id": 87312963, "body": "How about moving everything into a stored procedure so all data stays in database without any transportation over the network?"}, {"owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "edited": false, "score": 0, "creation_date": 1525367609, "post_id": 50141771, "comment_id": 87338890, "body": "Thanks for the suggestion. The accepted answer by Igor is working well for me. Thanks again!"}], "tags": [], "owner": {"reputation": 1747, "user_id": 6800303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d86ffb4271b65f9121097792b5f77af1?s=128&d=identicon&r=PG&f=1", "display_name": "NitinSingh", "link": "https://stackoverflow.com/users/6800303/nitinsingh"}, "is_accepted": false, "score": 0, "last_activity_date": 1525287759, "creation_date": 1525287759, "answer_id": 50141771, "question_id": 50141018, "link": "https://stackoverflow.com/questions/50141018/linq-to-entities-versus-linq-to-objects-performance-issue/50141771#50141771", "title": "Linq to Entities versus Linq to Objects Performance Issue", "body": "<p>Ideally when using Entity Framework, all your operations should be doing Querable to allow parse tree evaluation at sql server level.\nYour query is running slow not due to some underlying db reasons, but due to the fact that using Enumerable fetches the <strong>entire</strong> table into memory and then does the operations onto those.</p>\n\n<p>If u do Querable, your entire expression will get converted into an sql query which runs on db and returns only matching records and once you have required data, on top of it feel free to apply Enumerable to suit your specific operations.</p>\n\n<p>Try replacing and placing a profiler and see the generated query and how it runs, you will get to know the difference easily</p>\n\n<p>Pseudo code below</p>\n\n<pre><code>Var query = from obj in db.AsQueryable()\n</code></pre>\n\n<p>Select obj.Name,........\nWhere obj.Id == myId</p>\n\n<p>Query.AsEnumerable().where........</p>\n"}], "owner": {"reputation": 113, "user_id": 912854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/681552671/picture?type=large", "display_name": "Bill Kron", "link": "https://stackoverflow.com/users/912854/bill-kron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 50141153, "answer_count": 2, "score": 1, "last_activity_date": 1525289389, "creation_date": 1525284684, "last_edit_date": 1525285136, "question_id": 50141018, "link": "https://stackoverflow.com/questions/50141018/linq-to-entities-versus-linq-to-objects-performance-issue", "title": "Linq to Entities versus Linq to Objects Performance Issue", "body": "<p>In one of my applications, I'm trying to add the appointment \"status\" information in my view. I can do it without too much trouble and it doesn't slow the overall query down too much--except when I try to calculate one of the particular statuses.</p>\n\n<p>Here is some additional background: the appointment's status has to be evaluated by examining a handful of fields. For the most part, it's not too bad, except when I need to calculate whether the patient was a \"no-show\" for their appointment.</p>\n\n<p>In order to determine a no-show, I need to look at the <code>appt_date</code> field to see if it is before today's date. However, the appt_date is stored as a <code>VARCHAR</code> in the <code>yyyyMMdd</code> format. In order to compare it to today's date, I need to convert the <code>appt_date</code> value to a <code>Datetime</code> value.</p>\n\n<p>However, in order to do that, it seems I need to switch from \"Linq to Entites\" to \"Linq to Objects\" by calling <code>AsEnumerable()</code> on the query (and making some other minor changes). Of course, then the problem is that the query becomes unacceptably slow. It's my understanding that the \"Linq to Objects\" approach slows things down because it's loading more data into memory so Entity Framework can generate the proper SQL query.</p>\n\n<p>Does anyone have any suggestions on how I could overcome this problem and maintain good performance with the query? I would greatly appreciate any advice you can provide.</p>\n\n<p>For reference, here is the query using Linq to Entites (and without the \"no-show\" calculation):</p>\n\n<pre><code>var referrals = \n               (from r in _context.Referrals\n                join cu in _context.ClinicUsers on r.ClinicId equals cu.ClinicId\n                from ppa in _context.ReferralPPAs\n                            .Where(p =&gt; p.ref_id == r.seq_no.ToString())\n                            .DefaultIfEmpty()\n                from ap in _context.Appointments\n                .Where(a =&gt; a.appt_id.ToString() == ppa.appt_id)\n                .DefaultIfEmpty()\n                join ec in _context.EnrolledClinics on r.ClinicId equals ec.ClinicId\n                join pm in _context.ProviderMasters on ec.ClinicId equals pm.ClinicId\n                join ml in _context.MasterLists on pm.HealthSystemGuid equals ml.Id\n                join au in _context.Users on r.ApplicationUserId equals au.Id\n                where cu.UserId == userId\n                select new ReferralListViewModel()\n                {\n                    ClinicName = pm.Description,\n                    ClinicId = r.ClinicId,\n                    ReferralId = r.seq_no,\n                    EnteredBy = (au.FirstName ?? string.Empty) + \" \" + (au.LastName ?? string.Empty),\n                    PatientName = (r.LastName ?? string.Empty) + \", \" + (r.FirstName ?? string.Empty),\n                    DateEntered = r.create_timestamp,\n                    AppointmentDate = ap != null ? ap.appt_date : string.Empty,\n                    AppointmentTime = ap != null ? ap.begintime : string.Empty,\n                    Status = ppa != null ? ppa.Status : string.Empty,\n                    AppointmentStatus = (ap != null &amp; ap.cancel_ind == \"N\" &amp; ap.confirm_ind == \"N\" &amp; ap.resched_ind == \"N\" &amp; ap.appt_kept_ind == \"N\") ? \"Scheduled\" :\n                                        (ap != null &amp; ap.cancel_ind == \"Y\") ? \"Cancelled\" :\n                                        (ap != null &amp; ap.confirm_ind == \"Y\") ? \"Confirmed\" :\n                                        (ap != null &amp; ap.resched_ind == \"Y\") ? \"Rescheduled\" :\n                                        (ap != null &amp; ap.appt_kept_ind == \"Y\") ? \"Kept\" : string.Empty\n                }).Distinct();\n</code></pre>\n\n<p>Using Linq to Objects works, but it is unacceptably slow:</p>\n\n<pre><code>var referrals = \n               (from r in _context.Referrals\n                join cu in _context.ClinicUsers on r.ClinicId equals cu.ClinicId\n                from ppa in _context.ReferralPPAs\n                            .Where(p =&gt; p.ref_id == r.seq_no.ToString())\n                            .DefaultIfEmpty()\n                from ap in _context.Appointments\n                .Where(a =&gt; a.appt_id.ToString() == ppa.appt_id)\n                .DefaultIfEmpty()\n                join ec in _context.EnrolledClinics on r.ClinicId equals ec.ClinicId\n                join pm in _context.ProviderMasters on ec.ClinicId equals pm.ClinicId\n                join ml in _context.MasterLists on pm.HealthSystemGuid equals ml.Id\n                join au in _context.Users on r.ApplicationUserId equals au.Id\n                where cu.UserId == userId\n                select new { pm.Description, r.ClinicId, r.seq_no, au.FirstName, au.LastName, PatientLastName = r.LastName, PatientFirstName = r.FirstName, r.create_timestamp, ppa.Status, ap.cancel_ind, ap.confirm_ind, ap.resched_ind, ap.appt_kept_ind, ap.appt_date, ap.begintime })\n                //Calling .AsEnumerable() converts it to Linq to Objects, which allows me to do the date conversion\n                .AsEnumerable()\n                    .Select(r =&gt; new ReferralListViewModel()\n                    {\n                        ClinicName = r.Description,\n                        ClinicId = r.ClinicId,\n                        ReferralId = r.seq_no,\n                        EnteredBy = (r.FirstName ?? string.Empty) + \" \" + (r.LastName ?? string.Empty),\n                        PatientName = (r.PatientLastName ?? string.Empty) + \", \" + (r.PatientFirstName ?? string.Empty),\n                        DateEntered = r.create_timestamp,\n                        Status = r.Status != null ? r.Status : string.Empty,\n                        AppointmentStatus = (r.cancel_ind != null &amp; r.cancel_ind == \"N\" &amp; r.confirm_ind == \"N\" &amp; r.resched_ind == \"N\" &amp; r.appt_kept_ind == \"N\") ? \"Scheduled\" :\n                                            (r.cancel_ind != null &amp; r.cancel_ind == \"Y\") ? \"Cancelled\" :\n                                            (r.cancel_ind != null &amp; r.confirm_ind == \"Y\") ? \"Confirmed\" :\n                                            (r.cancel_ind != null &amp; r.resched_ind == \"Y\") ? \"Rescheduled\" :\n                                            //Here is the line used to calculate a \"no-show\" appointment\n                                            (r.cancel_ind != null &amp; r.appt_kept_ind == \"N\" &amp; DateTime.ParseExact(r.appt_date, \"yyyyMMdd\", CultureInfo.InvariantCulture) &lt; today) ? \"No-show\" :\n                                            (r.cancel_ind != null &amp; r.appt_kept_ind == \"Y\") ? \"Kept\" : string.Empty\n                    }).Distinct();\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "http", "asp.net-mvc-5"], "answers": [{"comments": [{"owner": {"reputation": 1535, "user_id": 3808982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2a5d873f0ca16359a3dc7c0adb62098?s=128&d=identicon&r=PG", "display_name": "Luke Hammer", "link": "https://stackoverflow.com/users/3808982/luke-hammer"}, "edited": false, "score": 0, "creation_date": 1525364780, "post_id": 50150605, "comment_id": 87337308, "body": "I can but I my preference is to handle via HTTP errors such that other dependencies work like logging."}], "tags": [], "owner": {"reputation": 2455, "user_id": 1183088, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaa57863cd499773656be513bb4e1b83?s=128&d=identicon&r=PG", "display_name": "Jack M", "link": "https://stackoverflow.com/users/1183088/jack-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1525336872, "creation_date": 1525336872, "answer_id": 50150605, "question_id": 50140984, "link": "https://stackoverflow.com/questions/50140984/how-to-display-status-description-for-a-403-error-in-asp-net-mvc5/50150605#50150605", "title": "How to Display Status Description for a 403 error in ASP.net MVC5?", "body": "<p>Well you can redirect to you controller action and pass in the error message instead.</p>\n"}, {"tags": [], "owner": {"reputation": 2307, "user_id": 2126088, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/y1zob.jpg?s=128&g=1", "display_name": "ANJYR", "link": "https://stackoverflow.com/users/2126088/anjyr"}, "is_accepted": false, "score": 1, "last_activity_date": 1525349833, "creation_date": 1525349833, "answer_id": 50154908, "question_id": 50140984, "link": "https://stackoverflow.com/questions/50140984/how-to-display-status-description-for-a-403-error-in-asp-net-mvc5/50154908#50154908", "title": "How to Display Status Description for a 403 error in ASP.net MVC5?", "body": "<p>Here's a good general article for custom error page in ASP.NET MVC</p>\n\n<p><a href=\"https://www.c-sharpcorner.com/UploadFile/618722/custom-error-page-in-Asp-Net-mvc/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/UploadFile/618722/custom-error-page-in-Asp-Net-mvc/</a></p>\n"}], "owner": {"reputation": 1535, "user_id": 3808982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2a5d873f0ca16359a3dc7c0adb62098?s=128&d=identicon&r=PG", "display_name": "Luke Hammer", "link": "https://stackoverflow.com/users/3808982/luke-hammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "accepted_answer_id": 50150605, "answer_count": 2, "score": 0, "last_activity_date": 1525349833, "creation_date": 1525284504, "question_id": 50140984, "link": "https://stackoverflow.com/questions/50140984/how-to-display-status-description-for-a-403-error-in-asp-net-mvc5", "title": "How to Display Status Description for a 403 error in ASP.net MVC5?", "body": "<p>I'm attempting to create custom 403 error page that will display the <strong>status description</strong> from the error. </p>\n\n<p>I'm using the following code to trigger the 403 error </p>\n\n<p>from both Controllers and Action Filters</p>\n\n<p><strong>Controller Call</strong></p>\n\n<pre><code> return new HttpStatusCodeResult(HttpStatusCode.Forbidden,\n                                \"String_Of_Why_This_Request_is_Forbiden\")\n</code></pre>\n\n<p><strong>Actionfilter Call</strong></p>\n\n<pre><code> filterContext.Result = new HttpStatusCodeResult(HttpStatusCode.Forbidden,\n                                \"String_Of_Why_This_Request_is_Forbiden\")\n</code></pre>\n\n<p>Both of these get redirected to my Custom 403 error page. </p>\n\n<p>but as the request passes through my Web config and errors controller I lose both the <em>HTTP status code</em> and the <em>status description</em>.</p>\n\n<p><strong>Web.Config</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;httpErrors errorMode=\"Custom\" existingResponse=\"Auto\"&gt;\r\n  &lt;remove statusCode=\"403\" subStatusCode=\"0\" /&gt;\r\n  &lt;error statusCode=\"403\" subStatusCode=\"0\" path=\"/Error/Forbidden\" responseMode=\"ExecuteURL\" /&gt;\r\n&lt;/httpErrors&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>ErrorControllerAction</strong></p>\n\n<pre><code>   public ViewResult Forbidden(string errorMessage)\n    {\n        Response.StatusCode = 403;\n        return View(\"Forbidden\", errorMessage);\n    }\n</code></pre>\n\n<p>My assumption is that my current handling is simply generating a new request via my errors controller.</p>\n\n<p><strong>Question</strong></p>\n\n<p>How can I do this in such a way that I can pass the Original Status Description through the Errors Controller to my View?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "angular"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 1, "creation_date": 1525284477, "post_id": 50140906, "comment_id": 87300139, "body": "Are you using Angular or AngularJS?  If you&#39;re using AngularJS (and I&#39;m guessing you are), you&#39;d use the <code>$http</code> library.  There&#39;s excellent documentation on the AngularJS doc site."}, {"owner": {"reputation": 597, "user_id": 3776749, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d5f12213cd9e39fc7cd1af05f292be6b?s=128&d=identicon&r=PG&f=1", "display_name": "user3776749", "link": "https://stackoverflow.com/users/3776749/user3776749"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1525284849, "post_id": 50140906, "comment_id": 87300320, "body": "We are using AngularJS, but our Data isn&#39;t coming directly from a server or a Database. Business Requirements abstract the Data Request into a C# API call to a service, this has to happen in a controller outside of the view, the Data is then cached locally. The request that the Angular has to make is to a ViewModel that already exists locally in the application."}, {"owner": {"reputation": 1100, "user_id": 1296580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mzVGZ.jpg?s=128&g=1", "display_name": "salah-1", "link": "https://stackoverflow.com/users/1296580/salah-1"}, "edited": false, "score": 0, "creation_date": 1525285519, "post_id": 50140906, "comment_id": 87300627, "body": "Can the data service be handled or based by Angular service? If so that will take care of the issue you asked and automatically update when data changes without the need for AJAX"}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1525285764, "post_id": 50140906, "comment_id": 87300745, "body": "Your requirements conflict with one another...you can&#39;t retrieve data from the Server-side api without either a page reload or an AJAX call.  SOMETHING has to call the service to update the local cache.  You should use the <code>$http</code> library to do that."}, {"owner": {"reputation": 3495, "user_id": 1003243, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/8a5ba1c40059a2167374be5290513c2e?s=128&d=identicon&r=PG", "display_name": "Harsh", "link": "https://stackoverflow.com/users/1003243/harsh"}, "edited": false, "score": 0, "creation_date": 1525285859, "post_id": 50140906, "comment_id": 87300797, "body": "You can use <code>SignalR</code> instead. And push the data to UI whenever the server detects that there is a change. Better than hitting the server every 10 seconds."}, {"owner": {"reputation": 597, "user_id": 3776749, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d5f12213cd9e39fc7cd1af05f292be6b?s=128&d=identicon&r=PG&f=1", "display_name": "user3776749", "link": "https://stackoverflow.com/users/3776749/user3776749"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1525287144, "post_id": 50140906, "comment_id": 87301405, "body": "@David L the Service isn&#39;t server-side. It&#39;s a locally installed Connected Service package that runs internally within the application. We make the service call in a C# function by invoking &quot;MyLocalServiceInstance.GetData()&quot;"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1525292418, "post_id": 50140906, "comment_id": 87304004, "body": "@user3776749 &quot;Service isn&#39;t server-side. It&#39;s a locally installed&quot;...I think there is maybe some terminology confusion: when you&#39;re talking about a web application, the bit which is part of the C# MVC part is generally referred to as the server-side, and the bit which runs in browser (HTML and Javascript) is the client-side. Of course if your MVC app then makes a call to <i>another</i> server (e.g. your data service API), you&#39;d have to make a distinction between the two servers when describing the flow of data."}, {"owner": {"reputation": 597, "user_id": 3776749, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d5f12213cd9e39fc7cd1af05f292be6b?s=128&d=identicon&r=PG&f=1", "display_name": "user3776749", "link": "https://stackoverflow.com/users/3776749/user3776749"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1525292935, "post_id": 50140906, "comment_id": 87304278, "body": "@ADyson this is correct. My apologies. But I still can&#39;t access the service call via a url etc in order to load the data directly from the service into the View. In fact that kind of feels like it would break the whole point of MVC."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1525293017, "post_id": 50140906, "comment_id": 87304321, "body": "@user3776749 No need to apologise, it helps to try and describe what&#39;s happening in consistent terminology which everyone is likely to understand. If you can do that for this situation, we&#39;ll all probably grasp it a lot better."}], "owner": {"reputation": 597, "user_id": 3776749, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d5f12213cd9e39fc7cd1af05f292be6b?s=128&d=identicon&r=PG&f=1", "display_name": "user3776749", "link": "https://stackoverflow.com/users/3776749/user3776749"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 504, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1525293629, "creation_date": 1525284216, "last_edit_date": 1525293629, "question_id": 50140906, "link": "https://stackoverflow.com/questions/50140906/loading-data-into-an-mvc-view-without-reloading-the-page", "title": "Loading Data into an MVC View without reloading the page", "body": "<p>I am building an MVC Web Application with a cshtml + Angular front-end. An important aspect of the application is for the View to update the angular data-table automatically when new Data is retrieved from the custom Data Service.</p>\n\n<p>The Data Service is accessed via an API call in a C# Class on the backend which gets fresh data as a ViewModel List&lt;> on a set interval (roughly 5 minutes) which it then caches. The ViewModel List&lt;> is then passed to the view as an ActionResult parameter <code>return View(List&lt;model&gt;)</code>, serialized in our Angular controller and displayed in a table using ng-repeat.</p>\n\n<p>I am relatively new to MVC and right now the only way I know how to get Data from a controller into a View is by passing it directly as an ActionResult parameter. As a result the only way for me to get data into the view requires me to reload the entire page via an explicit action (HTTPPOST, Forced Refresh, FormSubmit etc).</p>\n\n<p>I want to try and use Angular and maybe AJAX(?) or a similar library, to \"ask\" the Controller that makes the API call and caches the data if there is new data every 10 seconds or so. Then, if there is new data (which there will be once ever ~5min) it will load that data into the View <em>in the background</em> WITHOUT reloading the page, so that Angular can Serialize it and then reload just the table. </p>\n\n<p>This is just to enable users to get the most current data without having the make an explicit action or refresh the page.</p>\n\n<p>I know how to do every part of this except getting the Angular to ask the C# class that makes the API Call if it has made a new Service Call (and stored it in the ViewModel) and then \"pulling\" the fresh data from that ViewModel into the view without having to return an ActionResult</p>\n\n<p>Edit:</p>\n\n<p>Since this is where most of our problems/confusion have come up, our data service isn't located outside of our application and as far as I know cannot be accessed via a reference to an internal URL. It is a \"Connected Service Package\" that we have to invoke via a C# function ie</p>\n\n<pre><code>using ServicePackage;\nMyDataService = new DataService();\n\nViewModel.DataList = MyDataService.getData();\n</code></pre>\n\n<p>This all happens in a Controller Class. I know it's hackey and not how modern web app architecture is done, but it's the best the client could give us to work with. Believe me if we had a data-server or Web-API we could query we would be using $http or Ajax or any of the dozen other ways a View can pull data from an <em>external</em> source. </p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc"], "comments": [{"owner": {"reputation": 95, "user_id": 5579074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e4cffd0e2fdab11e9b22ae74f5805?s=128&d=identicon&r=PG&f=1", "display_name": "Viju", "link": "https://stackoverflow.com/users/5579074/viju"}, "edited": false, "score": 0, "creation_date": 1525284294, "post_id": 50140874, "comment_id": 87300073, "body": "In VMDetallePeriodoPAgo constructor make sure you create a new instance as  public VMDetallePeriodoPAgo() {  Modelo1 = new DetallePeriodoPagoViewModel();  }  if not withing foreach make sure you create a new instance before assignment like  DPVM.Modelo1 = new DetallePeriodoPagoViewModel();   DPVM.Modelo1.IdRecibo = i.IdRecibo;                 DPVM.Modelo1.Empleado = i.Empleado.Codigo;                 DPVM.Modelo1.Descripcion = i.Descripcion;                 DPVM.Modelo1.MontoISR = i.MontoIRS;                 LDPVM.Add(DPVM);"}], "answers": [{"tags": [], "owner": {"reputation": 7735, "user_id": 1672994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56278338c1a328fee5a80471a18bfc82?s=128&d=identicon&r=PG", "display_name": "user1672994", "link": "https://stackoverflow.com/users/1672994/user1672994"}, "is_accepted": true, "score": 2, "last_activity_date": 1525284637, "last_edit_date": 1525284637, "creation_date": 1525284282, "answer_id": 50140927, "question_id": 50140874, "link": "https://stackoverflow.com/questions/50140874/getting-null-when-trying-to-populate-nested-viewmodel/50140927#50140927", "title": "Getting null when trying to populate nested ViewModel", "body": "<p>You should initialize the child object before you can use it:</p>\n\n<p>Update the code in <code>DPVM</code> object initialization as </p>\n\n<pre><code>VMDetallePeriodoPAgo DPVM = new VMDetallePeriodoPAgo() {Modelo1 = new DetallePeriodoPagoViewModel() , Modelo2 = new PerspectivaRealViewModel() };\n</code></pre>\n\n<p>When an object is instantiated, it is allocated with a block of memory and configured as per the blueprint provided by the class underlying the object. </p>\n"}, {"tags": [], "owner": {"reputation": 6781, "user_id": 6542896, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AXVK0.jpg?s=128&g=1", "display_name": "Willy David Jr", "link": "https://stackoverflow.com/users/6542896/willy-david-jr"}, "is_accepted": false, "score": 1, "last_activity_date": 1525284299, "creation_date": 1525284299, "answer_id": 50140934, "question_id": 50140874, "link": "https://stackoverflow.com/questions/50140874/getting-null-when-trying-to-populate-nested-viewmodel/50140934#50140934", "title": "Getting null when trying to populate nested ViewModel", "body": "<p>Add this above your code:</p>\n\n<pre><code>DPVM.Modelo1 = new DetallePeriodoPagoViewModel(); //Added code.\nDPVM.Modelo1.IdRecibo = i.IdRecibo;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9730160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BYJS4lgeFyQ/AAAAAAAAAAI/AAAAAAAAAC4/hr6K0rHMsZQ/photo.jpg?sz=128", "display_name": "\u041c\u0430\u0442\u0432\u0435\u0439 \u041c\u0430\u0440\u0438\u0435\u043d\u0433\u043e\u0444", "link": "https://stackoverflow.com/users/9730160/%d0%9c%d0%b0%d1%82%d0%b2%d0%b5%d0%b9-%d0%9c%d0%b0%d1%80%d0%b8%d0%b5%d0%bd%d0%b3%d0%be%d1%84"}, "is_accepted": false, "score": -1, "last_activity_date": 1525285394, "last_edit_date": 1525285394, "creation_date": 1525284862, "answer_id": 50141053, "question_id": 50140874, "link": "https://stackoverflow.com/questions/50140874/getting-null-when-trying-to-populate-nested-viewmodel/50141053#50141053", "title": "Getting null when trying to populate nested ViewModel", "body": "<p>Your problem is not related to nesting or ViewModel. \nModelo1 and Modelo2 was not initialized in code you provided.   </p>\n\n<p>You can try the following:</p>\n\n<pre><code>public class VMDetallePeriodoPAgo\n{\n    public DetallePeriodoPagoViewModel Modelo1 { get; set; }\n    public PerspectivaRealViewModel Modelo2 { get; set; }\n\n    public VMDetallePeriodoPAgo()\n    {\n            Modelo1 = new DetallePeriodoPagoViewModel();\n            Modelo2 = new PerspectivaRealViewModel();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 775, "user_id": 9452841, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/405ad115779fd0c08a48f1b98d5ca208?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/9452841/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1525298572, "accepted_answer_id": 50140927, "answer_count": 3, "score": -1, "last_activity_date": 1525285394, "creation_date": 1525284085, "question_id": 50140874, "link": "https://stackoverflow.com/questions/50140874/getting-null-when-trying-to-populate-nested-viewmodel", "closed_reason": "Duplicate", "title": "Getting null when trying to populate nested ViewModel", "body": "<p>I have a models like this:</p>\n\n<pre><code>   public class VMDetallePeriodoPAgo\n    {\n        public DetallePeriodoPagoViewModel Modelo1 { get; set; }\n        public PerspectivaRealViewModel Modelo2 { get; set; }\n    }\n\n    public class DetallePeriodoPagoViewModel\n    {\n        public int ID { get; set; }\n\n        public int IdRecibo { get; set; }\n\n        public string Descripcion { get; set; }\n\n        public int IdPeriodoPago { get; set; }\n\n        public string Empleado { get; set; }\n\n        public decimal Ingresos { get; set; }\n\n        public decimal MontoISR { get; set; }\n    }\n\n    public class PerspectivaRealViewModel\n    {\n        public decimal PersepcionesReales { get; set; }\n    }\n</code></pre>\n\n<p>And in controller I want to fill it as:</p>\n\n<pre><code>List&lt;VMDetallePeriodoPAgo&gt; LDPVM = new List&lt;VMDetallePeriodoPAgo&gt;();\n            foreach (var i in periodos)\n            {\n                VMDetallePeriodoPAgo DPVM = new VMDetallePeriodoPAgo();\n\n                DPVM.Modelo1.IdRecibo = i.IdRecibo;\n                DPVM.Modelo1.Empleado = i.Empleado.Codigo;\n                DPVM.Modelo1.Descripcion = i.Descripcion;\n                DPVM.Modelo1.MontoISR = i.MontoIRS;\n                LDPVM.Add(DPVM);\n            }\n</code></pre>\n\n<p>Problem is when I try to execute it, when trying to fill model in line:</p>\n\n<pre><code> DPVM.Modelo1.IdRecibo = i.IdRecibo;\n</code></pre>\n\n<p>I always getting:</p>\n\n<blockquote>\n  <p>Object reference not set to an instance of an object.</p>\n</blockquote>\n\n<p>Why it happen, am I doing something wrong with my modeling? Regards</p>\n"}, {"tags": ["c#", "datagridview"], "comments": [{"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1525284141, "post_id": 50140854, "comment_id": 87299992, "body": "Mostly other users will redirect you here: <a href=\"https://stackoverflow.com/questions/4660142/what-is-a-nullreferenceexception-and-how-do-i-fix-it/4660186#4660186\">What is a NullReferenceException, and how do I fix it?</a>"}, {"owner": {"reputation": 95, "user_id": 5579074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e4cffd0e2fdab11e9b22ae74f5805?s=128&d=identicon&r=PG&f=1", "display_name": "Viju", "link": "https://stackoverflow.com/users/5579074/viju"}, "edited": false, "score": 0, "creation_date": 1525284152, "post_id": 50140854, "comment_id": 87299997, "body": "try to check for null or empty before adding it into stringList. try using using as instead of cast."}, {"owner": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "reply_to_user": {"reputation": 95, "user_id": 5579074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e4cffd0e2fdab11e9b22ae74f5805?s=128&d=identicon&r=PG&f=1", "display_name": "Viju", "link": "https://stackoverflow.com/users/5579074/viju"}, "edited": false, "score": 0, "creation_date": 1525284391, "post_id": 50140854, "comment_id": 87300110, "body": "@Viju i need to cast because i need convert the object type to string type"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1525284494, "post_id": 50140854, "comment_id": 87300155, "body": "Remove the static word from the function and try referencing the actual objects.  Or, change your call to <code>public static List&lt;string&gt; LoadStringList(DataGridView dgv)</code> and pass the existing control as a reference."}, {"owner": {"reputation": 95, "user_id": 5579074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e4cffd0e2fdab11e9b22ae74f5805?s=128&d=identicon&r=PG&f=1", "display_name": "Viju", "link": "https://stackoverflow.com/users/5579074/viju"}, "edited": false, "score": 0, "creation_date": 1525284512, "post_id": 50140854, "comment_id": 87300164, "body": "You can always do  var stringData = contactDataGridView.Rows[i].Cells[2].Value as string;  if(!string.IsNullOrEmpty(stringData )) {   add stringData to stringList }"}, {"owner": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1525284848, "post_id": 50140854, "comment_id": 87300319, "body": "@LarsTech i have two forms one with a datagridview and one with a combobox and i need the list to populate the combobox and i need to use the function to"}, {"owner": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1525285979, "post_id": 50140854, "comment_id": 87300860, "body": "@LarsTech  why remove the static keyword ?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1525286488, "post_id": 50140854, "comment_id": 87301107, "body": "If you don&#39;t know what &quot;static&quot; does, why did you put it in your function?"}], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "edited": false, "score": 0, "creation_date": 1525285060, "post_id": 50141037, "comment_id": 87300426, "body": "will not work because object reference is required for the non-static field, method, or property &#39;frmPRG299.contactDataGridView&#39;"}, {"owner": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "edited": false, "score": 0, "creation_date": 1525285902, "post_id": 50141037, "comment_id": 87300826, "body": "why remove the static keyword ? could you explain"}, {"owner": {"reputation": 95, "user_id": 5579074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e4cffd0e2fdab11e9b22ae74f5805?s=128&d=identicon&r=PG&f=1", "display_name": "Viju", "link": "https://stackoverflow.com/users/5579074/viju"}, "reply_to_user": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "edited": false, "score": 0, "creation_date": 1525286206, "post_id": 50141037, "comment_id": 87300962, "body": "if contactDataGridView was accessible in the instance then static would not work , But if you are passing the DataGridView to the method it can be static."}], "tags": [], "owner": {"reputation": 95, "user_id": 5579074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e4cffd0e2fdab11e9b22ae74f5805?s=128&d=identicon&r=PG&f=1", "display_name": "Viju", "link": "https://stackoverflow.com/users/5579074/viju"}, "is_accepted": false, "score": -1, "last_activity_date": 1525286104, "last_edit_date": 1525286104, "creation_date": 1525284803, "answer_id": 50141037, "question_id": 50140854, "link": "https://stackoverflow.com/questions/50140854/how-to-load-a-listt-from-a-datagridview/50141037#50141037", "title": "how to load a list&lt;t&gt; from a datagridview", "body": "<pre><code>  public List&lt;string&gt; LoadStringList(DataGridView contactDataGridView)\n    {\n        List&lt;string&gt; stringList = new List&lt;string&gt;();\n\n        if (contactDataGridView.RowCount != 0)\n        {\n            for (int i = 0; i &lt; contactDataGridView.Rows.Count; i++)\n            {\n                var stringData = contactDataGridView.Rows[i].Cells[2].Value as string;\n                if(!string.IsNullOrEmpty(stringData))\n                {\n                    stringList.Add(stringData);\n                }\n            }\n\n        }\n        return stringList;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "edited": false, "score": 0, "creation_date": 1525285168, "post_id": 50141110, "comment_id": 87300471, "body": "An object reference is required for the non-static field, method, or property &#39;frmPRG299.contactDataGridView"}, {"owner": {"reputation": 147, "user_id": 3750025, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000924324614/picture?type=large", "display_name": "babin raj", "link": "https://stackoverflow.com/users/3750025/babin-raj"}, "reply_to_user": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "edited": false, "score": 0, "creation_date": 1525285404, "post_id": 50141110, "comment_id": 87300577, "body": "Remove static keyword from the function"}], "tags": [], "owner": {"reputation": 147, "user_id": 3750025, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000924324614/picture?type=large", "display_name": "babin raj", "link": "https://stackoverflow.com/users/3750025/babin-raj"}, "is_accepted": false, "score": 0, "last_activity_date": 1546415141, "last_edit_date": 1546415141, "creation_date": 1525285095, "answer_id": 50141110, "question_id": 50140854, "link": "https://stackoverflow.com/questions/50140854/how-to-load-a-listt-from-a-datagridview/50141110#50141110", "title": "how to load a list&lt;t&gt; from a datagridview", "body": "<p>Instead of using \nstringList.Add((string)contactDataGridView.Rows[i].Cells[2].Value);\nchaange the code to\nstringList.Add(contactDataGridView.Rows[i].Cells[\"YOUR COLUMN NAME\"].Value+\"\");</p>\n"}, {"tags": [], "owner": {"reputation": 22110, "user_id": 7444103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HcyKP.jpg?s=128&g=1", "display_name": "Jimi", "link": "https://stackoverflow.com/users/7444103/jimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1525334087, "last_edit_date": 1525334087, "creation_date": 1525287545, "answer_id": 50141707, "question_id": 50140854, "link": "https://stackoverflow.com/questions/50140854/how-to-load-a-listt-from-a-datagridview/50141707#50141707", "title": "how to load a list&lt;t&gt; from a datagridview", "body": "<p>Use a method that allows you to reference an object (a Control in this case), and pass to the method a reference to that object.<br>\nWithout a hard-coded object reference, your method is more flexible.<br></p>\n\n<p>Here I'm passing to the method a <code>DataGridView</code> control reference and a cell number from which to extract the current value.<br></p>\n\n<p>Since the <code>Cell.Value</code> could be <code>null</code>, you have to verify it before attempting to read it and/or transforming it to the required type.<br></p>\n\n<pre><code>List&lt;string&gt; MyList = LoadStringList(this.dataGridView1, 2);\n\n\npublic List&lt;string&gt; LoadStringList(DataGridView dgv, int cell)\n{\n    if ((dgv == null) || (dgv.RowCount == 0)) return null;\n\n    List&lt;string&gt; result = dgv.Rows.Cast&lt; DataGridViewRow&gt;()\n        .Select(r =&gt; { return r.Cells[cell].Value != null \n                            ? r.Cells[cell].Value.ToString() \n                            : default; })\n        .ToList();\n\n    return result;\n}\n</code></pre>\n\n<p>If a more generic input type is needed:<br></p>\n\n<pre><code>try\n{ \n    List&lt;int&gt; MyList = LoadList&lt;int&gt;(this.dataGridView1, 2).ToList();\n}\ncatch (Exception ex)\n{\n    //Handle the exception/Update the UI/Prompt the User\n    Console.WriteLine(ex.Message);\n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>public IEnumerable&lt;T&gt; LoadList&lt;T&gt;(DataGridView dgv, int cell)\n{\n    if ((dgv == null) || (dgv.RowCount == 0)) return null;\n\n    IEnumerable&lt;T&gt; result = null;\n\n    try\n    {\n        result = dgv.Rows.Cast&lt;DataGridViewRow&gt;()\n                         .Select(r =&gt; { return r.Cells[cell].Value != null\n                                   ? (T)Convert.ChangeType(r.Cells[cell].Value, typeof(T))\n                                   : default;\n                            })\n                         .ToList();\n    }\n    catch (Exception ex) {\n        //Manage the exception as required\n        throw ex;\n    }\n    return result;\n}\n</code></pre>\n"}], "owner": {"reputation": 100, "user_id": 8875775, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1oF4mTxnc-I/AAAAAAAAAAI/AAAAAAAACuc/cCnuEk0Y1NQ/photo.jpg?sz=128", "display_name": "Andrey Kaplun", "link": "https://stackoverflow.com/users/8875775/andrey-kaplun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1546415141, "creation_date": 1525283960, "last_edit_date": 1525288201, "question_id": 50140854, "link": "https://stackoverflow.com/questions/50140854/how-to-load-a-listt-from-a-datagridview", "title": "how to load a list&lt;t&gt; from a datagridview", "body": "<p>i have a gridview and i am trying to load up the list with a column from the grid view and i m getting a null reference exception</p>\n\n<p>i have tried this </p>\n\n<pre><code>    public static List&lt;string&gt; LoadStringList()\n    {\n        List&lt;string&gt; stringList = new List&lt;string&gt;();\n\n        if (contactDataGridView.RowCount != 0)\n        {\n            for (int i = 0; i &lt; contactDataGridView.Rows.Count; i++)\n            {\n                stringList.Add((string)contactDataGridView.Rows[i].Cells[2].Value);\n            }\n\n        }\n        return stringList;\n    }\n</code></pre>\n\n<p>and i tried this </p>\n\n<pre><code>    public static List&lt;string&gt; LoadStringList()\n    {\n        List&lt;string&gt; stringList = new List&lt;string&gt;();\n\n        if (frmPRG299.mainForm.contactDataGridView.RowCount != 0)\n        {\n            for (int i = 0; i &lt;frmPRG299.mainForm.contactDataGridView.Rows.Count; i++)\n            {\n                stringList.Add((string)frmPRG299.mainForm.contactDataGridView.Rows[i].Cells[2].Value);\n            }\n\n        }\n        return stringList;\n    }\n</code></pre>\n\n<p>farther explanation </p>\n\n<p>i have two forms frmMain and frmSub where the gridview is in frmMain and a combobox in frmSub i need to call the  function <code>LoadStringList()</code> to populate the Combobox </p>\n"}, {"tags": ["c#", "linq", "ienumerable", "linq-extensions"], "comments": [{"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1525284199, "post_id": 50140779, "comment_id": 87300021, "body": "Well, that&#39;s quite confusing. I&#39;d probably just rely on the non-generic <code>IEnumerable</code> portion of your inheritance and <code>.Cast&lt;ITestInterface&gt;()</code> to bring it back to a &quot;LINQable&quot; state."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 6815008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0875c1c4430dd49a099199299a6bf41e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/6815008/alex"}, "edited": false, "score": 0, "creation_date": 1525292136, "post_id": 50142479, "comment_id": 87303873, "body": "Wow, that was pretty dumb of me to not even try to specify the type. I guess I was just thrown off by the method not appearing in Intellisense. Thanks!"}], "tags": [], "owner": {"reputation": 25889, "user_id": 245183, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/78abf6a54b468eea1a39282e705878a8?s=128&d=identicon&r=PG", "display_name": "Ondrej Tucny", "link": "https://stackoverflow.com/users/245183/ondrej-tucny"}, "is_accepted": false, "score": 1, "last_activity_date": 1525290608, "creation_date": 1525290608, "answer_id": 50142479, "question_id": 50140779, "link": "https://stackoverflow.com/questions/50140779/ienumerable-extension-methods-system-linq-unavailable-when-inheriting-from-col/50142479#50142479", "title": "IEnumerable extension methods (System.Linq) unavailable when inheriting from collection and implementing enumerable interfaces", "body": "<p>The reason is the compiler has no enough type information to unambiguously infer the type parameter of the generic <code>First&lt;T&gt;()</code> method. The possible type parameters in your case are <code>TestClass</code> and <code>ITestInterface</code>.</p>\n\n<p>You can help the compiler by specifying the type argument explicitly. The following will compile:</p>\n\n<pre><code>var item1 = t.First&lt;TestClass&gt;();\nvar item2 = t.First&lt;ITestInterface&gt;();\n</code></pre>\n\n<p>And yes, the compiler could have produced a better error message.</p>\n"}, {"comments": [{"owner": {"reputation": 151, "user_id": 6815008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0875c1c4430dd49a099199299a6bf41e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/6815008/alex"}, "edited": false, "score": 0, "creation_date": 1525293341, "post_id": 50142808, "comment_id": 87304473, "body": "thanks for the info! Is there anything at all to be gained from doing this? Even if the benefits don&#39;t outweigh the costs? Like I mentioned at the bottom of my post, I stumbled across this in a third party library, so just curious if there is a reason it was built like this."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 151, "user_id": 6815008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0875c1c4430dd49a099199299a6bf41e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/6815008/alex"}, "edited": false, "score": 0, "creation_date": 1525293782, "post_id": 50142808, "comment_id": 87304670, "body": "@Alex: You&#39;d have to ask the library authors. A possible factor is that perhaps the type was designed before we added covariance to C# 4, and they had a scenario for supporting two different kinds of sequences in the same object."}], "tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 5, "last_activity_date": 1525292693, "last_edit_date": 1525292693, "creation_date": 1525291912, "answer_id": 50142808, "question_id": 50140779, "link": "https://stackoverflow.com/questions/50140779/ienumerable-extension-methods-system-linq-unavailable-when-inheriting-from-col/50142808#50142808", "title": "IEnumerable extension methods (System.Linq) unavailable when inheriting from collection and implementing enumerable interfaces", "body": "<p>First off: <strong>please do not do this</strong>. You have implemented both <code>IEnumerable&lt;TestClass&gt;</code> and <code>IEnumerable&lt;ITestInterface&gt;</code> on the same type and this can cause some <em>really</em> nasty problems.  </p>\n\n<p>For example: <code>IEnumerable&lt;T&gt;</code> is covariant, so if you convert your type to <code>IEnumerable&lt;Object&gt;</code>, what happens? Does the sequence of objects contain only <code>TestClass</code> objects or can it contain any object that implements <code>ITestInterface</code>?  Hard to say! (For an extended discussion of this point, see the comments on my 2007 article on this subject: <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2007/11/09/covariance-and-contravariance-in-c-part-ten-dealing-with-ambiguity/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/ericlippert/2007/11/09/covariance-and-contravariance-in-c-part-ten-dealing-with-ambiguity/</a>)</p>\n\n<p>The particularly nasty situation you're in is, as the other answer notes, the type inference step of overload resolution is unable to deduce what the type argument of <code>First&lt;T&gt;</code> should be because there are two incompatible options. A smaller repro would be:</p>\n\n<pre><code>public class C : IEnumerable&lt;string&gt;, IEnumerable&lt;object&gt;\n{\n    IEnumerator&lt;string&gt; IEnumerable&lt;string&gt;.GetEnumerator() =&gt; null;\n    IEnumerator&lt;object&gt; IEnumerable&lt;object&gt;.GetEnumerator() =&gt; null;\n    IEnumerator IEnumerable.GetEnumerator() =&gt; null;\n} \n</code></pre>\n\n<p>And now <code>new C().First()</code> gives you the same error.</p>\n\n<p>The error message is horrid, and I apologize for that. The common case is that there is no such applicable extension method and the error message is optimized for that case. It would have been better to detect that the <em>reason</em> that there was no applicable extension method was due to type inference failure. In other error reporting scenarios I did that, but not this one.  </p>\n\n<p>Consider reporting an issue on GitHub and perhaps this one can get fixed.</p>\n"}], "owner": {"reputation": 151, "user_id": 6815008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0875c1c4430dd49a099199299a6bf41e?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/6815008/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "accepted_answer_id": 50142808, "answer_count": 2, "score": 1, "last_activity_date": 1525292693, "creation_date": 1525283670, "question_id": 50140779, "link": "https://stackoverflow.com/questions/50140779/ienumerable-extension-methods-system-linq-unavailable-when-inheriting-from-col", "title": "IEnumerable extension methods (System.Linq) unavailable when inheriting from collection and implementing enumerable interfaces", "body": "<p><strong>Problem</strong><br>\nIf I have a class with a definition like this:  </p>\n\n<pre><code>public class TestList : ObservableCollection&lt;TestClass&gt;, IList&lt;ITestInterface&gt;, ICollection&lt;ITestInterface&gt;, IEnumerable&lt;ITestInterface&gt;, IEnumerable\n</code></pre>\n\n<p>I cannot use the <code>IEnumerable</code> extension methods (<code>System.Linq</code> namespace) on objects of this class.  </p>\n\n<p><strong>Things to Note</strong></p>\n\n<ul>\n<li>The type in the <code>ObservableCollection</code> is different than the type in the collection interfaces, but <code>TestClass</code> does implement <code>ITestInterface</code></li>\n<li>It is still possible to <code>foreach</code> over the items in a <code>TestList</code> object. Doing so gives the items the type of <code>TestClass</code></li>\n<li>I do have a <code>using</code> statement for <code>System.Linq</code> at the top of the file</li>\n</ul>\n\n<p>It clearly has something to do with the fact that the type in the <code>ObservableCollection</code> is different than the other types in the class definition, but why? The collection can still be enumerated in a <code>foreach</code> statement, and that is basically what those extension methods do anyways (with additional logic of course).  </p>\n\n<p><strong>Question</strong><br>\nWhy does creating a class that inherits from a collection of one type and implements collection interfaces of another type cause the extension methods in <code>System.Linq</code> to be unavailable to use on objects of the class?  </p>\n\n<p><strong>Minimal, Complete, and Verifiable Example</strong></p>\n\n<pre><code>using System;\nusing System.Collections;\nusing System.Collections.Generic;\nusing System.Linq;\n\nnamespace TestApp\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var t = new TestList();\n\n            t.First(); //Extension method unavailable, compiler error\n\n            foreach (var item in t)\n            {\n                //item is of type TestClass\n            }\n        }\n\n    }\n\n    public interface ITestInterface { }\n\n\n    public class TestClass : ITestInterface { }\n\n\n    public class TestList : System.Collections.ObjectModel.ObservableCollection&lt;TestClass&gt;, IList&lt;ITestInterface&gt;, ICollection&lt;ITestInterface&gt;, IEnumerable&lt;ITestInterface&gt;, IEnumerable\n    {\n        //Method implementations are unnecessary for the example\n        ITestInterface IList&lt;ITestInterface&gt;.this[int index] { get =&gt; throw new NotImplementedException(); set =&gt; throw new NotImplementedException(); }\n\n        public bool IsReadOnly =&gt; throw new NotImplementedException();\n\n        public void Add(ITestInterface item) =&gt; throw new NotImplementedException();\n\n        public bool Contains(ITestInterface item) =&gt; throw new NotImplementedException();\n\n        public void CopyTo(ITestInterface[] array, int arrayIndex) =&gt; throw new NotImplementedException();\n\n        public int IndexOf(ITestInterface item) =&gt; throw new NotImplementedException();\n\n        public void Insert(int index, ITestInterface item) =&gt; throw new NotImplementedException();\n\n        public bool Remove(ITestInterface item) =&gt; throw new NotImplementedException();\n\n        IEnumerator&lt;ITestInterface&gt; IEnumerable&lt;ITestInterface&gt;.GetEnumerator() =&gt; throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p><strong>Background</strong><br>\nFor those that are curious, I came across this while working with the Telerik RadGridView control (WPF). I was trying to use the <code>.First()</code> extension method on the <code>Columns</code> property of the grid, but the type of the <code>Columns</code> property has a class definition that is similar to what I provided above.</p>\n"}, {"tags": ["c#", "mongodb-.net-driver", "cancellation-token"], "comments": [{"owner": {"reputation": 364, "user_id": 998286, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6e507230c36d68cc460042cdf7d1a702?s=128&d=identicon&r=PG", "display_name": "Jpst", "link": "https://stackoverflow.com/users/998286/jpst"}, "edited": false, "score": 1, "creation_date": 1557412648, "post_id": 50140776, "comment_id": 98763829, "body": "The token can be used to signal that the operation should be cancelled, if it is not yet completed. If the operation is already completed, attempting to cancel it will have no effect. See: <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.cancellationtoken?view=netframework-4.8\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1256, "user_id": 7493756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/unsso.png?s=128&g=1", "display_name": "cl0ud", "link": "https://stackoverflow.com/users/7493756/cl0ud"}, "is_accepted": true, "score": 4, "last_activity_date": 1613573555, "last_edit_date": 1613573555, "creation_date": 1559035555, "answer_id": 56338986, "question_id": 50140776, "link": "https://stackoverflow.com/questions/50140776/mongodb-c-driver-cancellationtoken/56338986#56338986", "title": "MongoDB C# driver CancellationToken", "body": "<p>A <code>CancellationToken</code> is generally used while writing asynchronous I/O code through the mongodb driver (<code>InsertOneAsync</code> for example). Lets take the following scenario into consideration. You are making breakfast. <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">Example taken from here.</a></p>\n<pre><code>static async Task Main(string[] args)\n{\n    //Find eggs and bacon in database\n    Task&lt;List&lt;Egg&gt;&gt; eggTask = FindEggsAsync(2);\n    Task&lt;List&lt;Bacon&gt;&gt; baconTask = FindBaconAsync(3);\n\n    Coffee cup = PourCoffee();\n    Console.WriteLine(&quot;coffee is ready&quot;);\n    \n    Juice oj = PourOJ();\n    Console.WriteLine(&quot;oj is ready&quot;);\n    \n    List&lt;Egg&gt; eggs = await eggTask;\n    List&lt;Bacon&gt; bacon = await baconTask;\n    \n    FryEggs(eggs);\n    Console.WriteLine(&quot;eggs are ready&quot;);\n\n    FryBacon(bacon);\n    Console.WriteLine(&quot;bacon is ready&quot;);\n    \n    Console.WriteLine(&quot;Breakfast is ready!&quot;);\n}\n</code></pre>\n<p>This is good asynchronous code right ? We are awaiting our tasks only when we need the result from them.</p>\n<p>We first need to find our eggs and bacon via I/O , lets imagine our eggs and bacon are stored in a mongodb as opposed to the pantry. So we send your 2 imaginary children with two <code>tasks</code> to find the eggs and bacon from the pantry(database).</p>\n<p>While they find you pour yourself a cup of OJ and coffee that was already on hand(Basically Any CPU work).</p>\n<p>With coffee and juice in hand you realize you are ready to prepare your ingredients , so you <code>await</code> the return of both tasks given to your kids and <code>FryEggs</code> and <code>FryBacon</code>.</p>\n<p>Great breakfast is done - but lets assume you are a grumpy person and had a terrible morning , your coffee spills and this puts you completely off breakfast entirely(absurd I know), you need to tell your kids with tasks to stop searching. Lets amend the above code to integrate this.</p>\n<pre><code>static async Task Main(string[] args)\n{\n     var cancellationToken = new CancellationTokenSource(); \n    //Find eggs and bacon in database\n    Task&lt;List&lt;Egg&gt;&gt; eggTask = FindEggsAsync(2,cancellationToken.Token);\n    Task&lt;List&lt;Bacon&gt;&gt; baconTask = FindBaconAsync(3,cancellationToken.Token);\n\n    Coffee cup = PourCoffee();\n    if(cup.IsSpilled())\n    {\n        //Freak out and cancel tasks\n        cancellationToken.Cancel();\n        //Quit\n        Environment.Exit(0)\n    }  \n    Console.WriteLine(&quot;coffee is ready&quot;);\n    \n    Juice oj = PourOJ();\n    Console.WriteLine(&quot;oj is ready&quot;);\n    \n    List&lt;Egg&gt; eggs = await eggTask;\n    List&lt;Bacon&gt; bacon = await baconTask;\n    \n    FryEggs(eggs);\n    Console.WriteLine(&quot;eggs are ready&quot;);\n\n    FryBacon(bacon);\n    Console.WriteLine(&quot;bacon is ready&quot;);\n\n    Console.WriteLine(&quot;Breakfast is ready!&quot;);\n    //Dispose of token\n    cancellationToken.Dispose();\n}\n</code></pre>\n<p>The cancellation token itself will be passed to the async version of the mongodb driver method in Question. <code>FindAsync</code> will be called in the case of our two find methods and our cancellation token is passed in. If the task has not yet completed it will cancel the I/O operation accordingly.</p>\n"}], "owner": {"reputation": 1713, "user_id": 4207922, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/C0cCP.png?s=128&g=1", "display_name": "StuiterSlurf", "link": "https://stackoverflow.com/users/4207922/stuiterslurf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1106, "favorite_count": 0, "accepted_answer_id": 56338986, "answer_count": 1, "score": 6, "last_activity_date": 1613573555, "creation_date": 1525283664, "last_edit_date": 1525288094, "question_id": 50140776, "link": "https://stackoverflow.com/questions/50140776/mongodb-c-driver-cancellationtoken", "title": "MongoDB C# driver CancellationToken", "body": "<p>Does anyone know what the CancellationToken does if you add it with a parameter in the for example </p>\n\n<pre><code>public static UpdateResult UpdateMany&lt;TDocument&gt;(\n    this IMongoCollection&lt;TDocument&gt; collection,\n    Expression&lt;Func&lt;TDocument, bool&gt;&gt; filter,\n    UpdateDefinition&lt;TDocument&gt; update,\n    UpdateOptions options = null,\n    CancellationToken cancellationToken = null\n)\n</code></pre>\n\n<p><a href=\"https://mongodb.github.io/mongo-csharp-driver/2.3/apidocs/html/M_MongoDB_Driver_IMongoCollectionExtensions_UpdateMany__1.htm\" rel=\"noreferrer\">https://mongodb.github.io/mongo-csharp-driver/2.3/apidocs/html/M_MongoDB_Driver_IMongoCollectionExtensions_UpdateMany__1.htm</a></p>\n\n<p>Is it a rollback? Or what does it do?</p>\n"}, {"tags": ["c#", "file-read"], "comments": [{"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 0, "creation_date": 1525283597, "post_id": 50140690, "comment_id": 87299731, "body": "There are some steps you need to do: read the file, split on line breaks, split on <code>:</code>, (put the results in a dictionary,) and display the results in a textbox. - Are you having specific problems with any of these steps?"}, {"owner": {"reputation": 35, "user_id": 8218225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-tOL0EEd425w/AAAAAAAAAAI/AAAAAAAAAr4/eH-kCaajrfI/photo.jpg?sz=128", "display_name": "n0degg", "link": "https://stackoverflow.com/users/8218225/n0degg"}, "reply_to_user": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 0, "creation_date": 1525283910, "post_id": 50140690, "comment_id": 87299887, "body": "I really don&#39;t know how to do all of that, if you have any links that could help me i would appreciate it"}, {"owner": {"reputation": 681, "user_id": 4268340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qfoHW.png?s=128&g=1", "display_name": "Pieter Alberts", "link": "https://stackoverflow.com/users/4268340/pieter-alberts"}, "edited": false, "score": 0, "creation_date": 1525284149, "post_id": 50140690, "comment_id": 87299996, "body": "Have a look a the post below, might just get you started <a href=\"https://stackoverflow.com/questions/8037070/whats-the-fastest-way-to-read-a-text-file-line-by-line\" title=\"whats the fastest way to read a text file line by line\">stackoverflow.com/questions/8037070/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 8218225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-tOL0EEd425w/AAAAAAAAAAI/AAAAAAAAAr4/eH-kCaajrfI/photo.jpg?sz=128", "display_name": "n0degg", "link": "https://stackoverflow.com/users/8218225/n0degg"}, "edited": false, "score": 0, "creation_date": 1525284307, "post_id": 50140824, "comment_id": 87300079, "body": "Thanks for the quick reply, if i want to get line 3 as well for 2 more textboxes do i have to change the code like this  <code>var thirdLine = txtLines.ToList().Skip(2).First();</code>  <code>var splittedText = thirdLine.Split(&#39;:&#39;);</code>"}, {"owner": {"reputation": 15061, "user_id": 1287857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ENQC5.jpg?s=128&g=1", "display_name": "Akash KC", "link": "https://stackoverflow.com/users/1287857/akash-kc"}, "reply_to_user": {"reputation": 35, "user_id": 8218225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-tOL0EEd425w/AAAAAAAAAAI/AAAAAAAAAr4/eH-kCaajrfI/photo.jpg?sz=128", "display_name": "n0degg", "link": "https://stackoverflow.com/users/8218225/n0degg"}, "edited": false, "score": 1, "creation_date": 1525284473, "post_id": 50140824, "comment_id": 87300135, "body": "yeah, you can do in that way too. But I recommend to get necessary item list once so it would be one fetch from list instead of two fetch."}, {"owner": {"reputation": 15061, "user_id": 1287857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ENQC5.jpg?s=128&g=1", "display_name": "Akash KC", "link": "https://stackoverflow.com/users/1287857/akash-kc"}, "reply_to_user": {"reputation": 35, "user_id": 8218225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-tOL0EEd425w/AAAAAAAAAAI/AAAAAAAAAr4/eH-kCaajrfI/photo.jpg?sz=128", "display_name": "n0degg", "link": "https://stackoverflow.com/users/8218225/n0degg"}, "edited": false, "score": 0, "creation_date": 1525303811, "post_id": 50140824, "comment_id": 87307970, "body": "@downvoter : Care to comment so that I can improve my answer."}], "tags": [], "owner": {"reputation": 15061, "user_id": 1287857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ENQC5.jpg?s=128&g=1", "display_name": "Akash KC", "link": "https://stackoverflow.com/users/1287857/akash-kc"}, "is_accepted": true, "score": 0, "last_activity_date": 1525283843, "creation_date": 1525283843, "answer_id": 50140824, "question_id": 50140690, "link": "https://stackoverflow.com/questions/50140690/fill-textboxes-with-information-from-txt-file/50140824#50140824", "title": "Fill Textboxes With Information From .txt File", "body": "<p>You can do like this :</p>\n\n<pre><code>// Reading all lines of files\nvar txtLines =  File.ReadAllLines(\"your_file_path\");\n\n// Make sure, there should be atleast more than one line\n// as you want to get username/password from second line\nif(txtLines != null &amp;&amp; txtLines.Count() &gt; 1)\n{\n    // Skip first line and after that get first line \n    var secondLine = txtLines.ToList().Skip(1).First();\n\n    // split it by colon\n    var splittedText = secondLine.Split(':');\n    if(splittedText.Count() &gt; 1)\n    {\n        Textbox1.Text = splittedText[0];\n        Textbox2.Text = splittedText[1];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8218225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-tOL0EEd425w/AAAAAAAAAAI/AAAAAAAAAr4/eH-kCaajrfI/photo.jpg?sz=128", "display_name": "n0degg", "link": "https://stackoverflow.com/users/8218225/n0degg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 50140824, "answer_count": 1, "score": 0, "last_activity_date": 1525293734, "creation_date": 1525283351, "last_edit_date": 1525293734, "question_id": 50140690, "link": "https://stackoverflow.com/questions/50140690/fill-textboxes-with-information-from-txt-file", "title": "Fill Textboxes With Information From .txt File", "body": "<p>I have this text in a .txt file</p>\n\n<pre><code>Username:Password\nUsername2:Password2\nUsername3:Password3\n</code></pre>\n\n<p>And i want to set the value of line 2(example) inside the .txt file to the textboxes</p>\n\n<p>This is what i mean:</p>\n\n<pre><code>Textbox1.text = Username2;\nTextbox2.text = Password2;\n</code></pre>\n\n<p>Any links that could provide help are really appreciated, thanks in advance</p>\n"}, {"tags": ["c#", ".net", "file", "file.readalllines"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 4, "creation_date": 1525283589, "post_id": 50140689, "comment_id": 87299729, "body": "Looks like file encoding to me, what encoding is the file using?"}], "answers": [{"comments": [{"owner": {"reputation": 7274, "user_id": 1453076, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1aa3fec00c56d24b82051525a76cb90?s=128&d=identicon&r=PG", "display_name": "Vladimirs", "link": "https://stackoverflow.com/users/1453076/vladimirs"}, "edited": false, "score": 0, "creation_date": 1525283795, "post_id": 50140784, "comment_id": 87299818, "body": "That is it. Thanks!"}, {"owner": {"reputation": 7274, "user_id": 1453076, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1aa3fec00c56d24b82051525a76cb90?s=128&d=identicon&r=PG", "display_name": "Vladimirs", "link": "https://stackoverflow.com/users/1453076/vladimirs"}, "edited": false, "score": 0, "creation_date": 1525283873, "post_id": 50140784, "comment_id": 87299866, "body": "Do you know why it results into this odd behaviour?"}, {"owner": {"reputation": 4573, "user_id": 395685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/506a37c8660a6faa6382086e4a538811?s=128&d=identicon&r=PG", "display_name": "Nyerguds", "link": "https://stackoverflow.com/users/395685/nyerguds"}, "edited": false, "score": 0, "creation_date": 1525292461, "post_id": 50140784, "comment_id": 87304030, "body": "It&#39;s not &quot;odd behaviour&quot;; whoever/whatever wrote that file made it save the characters like that."}], "tags": [], "owner": {"reputation": 12073, "user_id": 1447296, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba3556ac502bba7118253d5e4240a5a4?s=128&d=identicon&r=PG&f=1", "display_name": "adjan", "link": "https://stackoverflow.com/users/1447296/adjan"}, "is_accepted": true, "score": 4, "last_activity_date": 1525284016, "last_edit_date": 1525284016, "creation_date": 1525283683, "answer_id": 50140784, "question_id": 50140689, "link": "https://stackoverflow.com/questions/50140689/file-readlines-returns-null-char-after-each-other-char/50140784#50140784", "title": "File.ReadLines returns null char after each other char", "body": "<p>Your file seems to be encoded in UTF-16. Specify the encoding in the second parameter to <code>ReadLines()</code></p>\n\n<pre><code>var readLines = File.ReadLines(file, Encoding.Unicode);\n</code></pre>\n\n<hr>\n\n<p><code>File.ReadLines()</code> without the second parameter assumes UTF-8 as the encoding of the file. UTF-16 files use two bytes to encode a character (latin characters use the first one in UTF-16, and only one byte in UTF-8). So to UTF-8, in your text every other character is <code>\\0</code>.</p>\n"}], "owner": {"reputation": 7274, "user_id": 1453076, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a1aa3fec00c56d24b82051525a76cb90?s=128&d=identicon&r=PG", "display_name": "Vladimirs", "link": "https://stackoverflow.com/users/1453076/vladimirs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 50140784, "answer_count": 1, "score": 2, "last_activity_date": 1525299935, "creation_date": 1525283347, "last_edit_date": 1525299935, "question_id": 50140689, "link": "https://stackoverflow.com/questions/50140689/file-readlines-returns-null-char-after-each-other-char", "title": "File.ReadLines returns null char after each other char", "body": "<p>I am trying to read all lines from the file, however I am getting some unexpected results, code:</p>\n\n<pre><code>var readLines = File.ReadLines(file);\n\nforeach (var line in readLines)\n{\n    //line = \"T\\0e\\0s\\0t\\0\"\n}\n</code></pre>\n\n<p>File contents:</p>\n\n<blockquote>\n  <p>Test</p>\n</blockquote>\n\n<p>If I will do <code>line.Replace(\"\\0\", \"\")</code> then it works fine however I would like to understand why this is happening and how I can get correct value from the file using ReadLines?</p>\n"}, {"tags": ["c#", "drop-down-menu", "sitecore", "sitecore8"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9856003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqiP4.jpg?s=128&g=1", "display_name": "Dan Wallace", "link": "https://stackoverflow.com/users/9856003/dan-wallace"}, "is_accepted": false, "score": 0, "last_activity_date": 1527506641, "creation_date": 1527506641, "answer_id": 50565286, "question_id": 50140620, "link": "https://stackoverflow.com/questions/50140620/sitecore-drop-down-search-menu/50565286#50565286", "title": "Sitecore: Drop Down Search Menu", "body": "<p>So if I understand you correctly, you're taking multiple inputs and producing results for that combination of them. I'll make some assumptions and try to give you enough direction to get started. This will take a bit of explaining.</p>\n\n<p>Starting from scratch, we've got a Contact template that has, at least, a Country and Department field. You'll need templates and lists of items for each of those two fields. You could get these values from another source, but let's just keep it simple for now and use lists of items. This sounds hierarchical, so I'd suggest you define your departments as children of your Country items. What other fields are on these items doesn't really matter at the moment.</p>\n\n<p>Next, you'll want to communicate the end-user's selections back to your Sitecore instance. I'll assume that you're using Sitecore MVC, but the same principles apply for web forms.</p>\n\n<p>Set up a controller to parse your parameters, <code>country</code> and <code>department</code>, and a form in your View with <code>&lt;select&gt;</code> elements populated from the lists of countries and departments. When the country selector is changed, you can either reload the page with the value set as a request parameter or use AJAX to ask your controller directly. If you structure the model so that it doesn't rely on the rendering context, you can submit your form results to <code>/api/sitecore/{controllername}/{actionname}?country={values}&amp;department={values}</code> and get the data that way. (If you want an example of the kind of JS you need to do this I can provide one.) You could disable or hide the Department <code>&lt;select&gt;</code> until this is selected so that users don't get confused, then use the same technique to also set the Department parameter/submit that value. Once those two values are in the request, you have enough information to get a list or single Contact and display that information, also using the same technique.</p>\n\n<p>If you have a more specific question about a particular aspect of this process I'd be happy to explain.</p>\n"}], "owner": {"reputation": 1, "user_id": 4008910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542063253c6d08a46fd22c23be2e90db?s=128&d=identicon&r=PG&f=1", "display_name": "ImSobesBoosted", "link": "https://stackoverflow.com/users/4008910/imsobesboosted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527506641, "creation_date": 1525283062, "question_id": 50140620, "link": "https://stackoverflow.com/questions/50140620/sitecore-drop-down-search-menu", "title": "Sitecore: Drop Down Search Menu", "body": "<p>I am in need of hopefully an example for a drop down list search function. Not sure what the correct terminology would be.</p>\n\n<p>Needed:\nTwo drop down lists then a submit button. First being of Country, then the second being of Department. So say you picked France and HR, it would display a contact person below. </p>\n\n<p>Is there any examples of something of this sort? Would be nice have code in CS then have my end user be able to add and link the two together in Sitecore. So they could add Countries they would like, departments they would like, then the respected person linked to the two fields.  </p>\n"}, {"tags": ["c#", "openxml", "openxml-sdk"], "comments": [{"owner": {"reputation": 23462, "user_id": 3077495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZE6fb.png?s=128&g=1", "display_name": "Cindy Meister", "link": "https://stackoverflow.com/users/3077495/cindy-meister"}, "edited": false, "score": 1, "creation_date": 1525366780, "post_id": 50140524, "comment_id": 87338445, "body": "Create a small (one slide) presentation with the image, but no hyperlink. Save it. Add a hyperlink and save under a different name. Open the first presentation in the Open XML SDK Productivity Tool. The use the &quot;Compare&quot; feature to open the second presentation. The tool will show you the code to turn the first into the second."}], "answers": [{"tags": [], "owner": {"reputation": 3672, "user_id": 187030, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1bcbe645d6219ed596a23fa92371944f?s=128&d=identicon&r=PG", "display_name": "Kram", "link": "https://stackoverflow.com/users/187030/kram"}, "is_accepted": true, "score": 0, "last_activity_date": 1525431579, "creation_date": 1525431579, "answer_id": 50173384, "question_id": 50140524, "link": "https://stackoverflow.com/questions/50140524/adding-hyperlink-to-existing-image-using-open-xml-sdk/50173384#50173384", "title": "Adding hyperlink to existing image using Open XML SDK", "body": "<p>Thanks to the help from the comment from @Cindy Mester, I was able to strip down the suggested migration code from the Open XML SDK Productivity Tool to this:</p>\n\n<pre><code>        using (var ms = new MemoryStream())\n        {\n            var original = File.OpenRead(\"withoutlink.pptx\");\n            original.CopyTo(ms);\n\n            using (var ppt = PresentationDocument.Open(ms, true))\n            {\n                var slidePart1 = ppt.PresentationPart.SlideParts.First();\n\n                var slide1 = slidePart1.Slide;\n\n                var commonSlideData1 = slide1.GetFirstChild&lt;CommonSlideData&gt;();\n\n                var shapeTree1 = commonSlideData1.GetFirstChild&lt;ShapeTree&gt;();\n\n                var picture1 = shapeTree1.GetFirstChild&lt;Picture&gt;();\n\n                var nonVisualPictureProperties1 = picture1.GetFirstChild&lt;NonVisualPictureProperties&gt;();\n\n                var nonVisualDrawingProperties1 =\n                    nonVisualPictureProperties1.GetFirstChild&lt;NonVisualDrawingProperties&gt;();\n\n                var nonVisualDrawingPropertiesExtensionList1 = nonVisualDrawingProperties1\n                    .GetFirstChild&lt;A.NonVisualDrawingPropertiesExtensionList&gt;();\n\n                var relationshipId = \"rId\" + nonVisualPictureProperties1.Count();\n\n                var hyperlinkOnClick1 = new A.HyperlinkOnClick {Id = relationshipId};\n                nonVisualDrawingProperties1.InsertBefore(hyperlinkOnClick1,\n                    nonVisualDrawingPropertiesExtensionList1);\n\n                slidePart1.AddHyperlinkRelationship(new Uri(\"http://www.google.com/\", UriKind.Absolute), true,\n                    relationshipId);\n\n                ppt.SaveAs(\"withlink.pptx\");\n            }\n</code></pre>\n\n<p>In order that I could edit the file without modifying the original I copied to memory stream and opened that - In my web app I can the stream this memory stream back to the client.</p>\n"}], "owner": {"reputation": 3672, "user_id": 187030, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1bcbe645d6219ed596a23fa92371944f?s=128&d=identicon&r=PG", "display_name": "Kram", "link": "https://stackoverflow.com/users/187030/kram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 50173384, "answer_count": 1, "score": 0, "last_activity_date": 1579616134, "creation_date": 1525282702, "question_id": 50140524, "link": "https://stackoverflow.com/questions/50140524/adding-hyperlink-to-existing-image-using-open-xml-sdk", "title": "Adding hyperlink to existing image using Open XML SDK", "body": "<p>I am struggling to work out a concise way to do what I'd imagine would be quite simple... I have a simple existing PowerPoint presentation with one slide and in it one image.</p>\n\n<p>I want to programatically open this with the Open XML SDK (hosted in a .Net Core web application) and add a hyperlink to this, and save it... such that when it's reopened in PowerPoint, one can control+click on the image to visit the link.</p>\n\n<pre><code>        using (var ppt = PresentationDocument.Open(\"powerpoint.pptx\", true))\n        {\n            var image = ppt.PresentationPart.SlideParts.First().ImageParts.First();\n\n            // Code to add hyperlink to image here - a bit like:\n            // image.HyperLink = \"http://somewebpage\"\n\n            ppt.Save();\n        }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1525297720, "post_id": 50140443, "comment_id": 87306332, "body": "Very likely you need MSBuild 15."}, {"owner": {"reputation": 13, "user_id": 5424815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fd7c530a0405a502b0a3bc82f907dfe?s=128&d=identicon&r=PG&f=1", "display_name": "Franklin S.", "link": "https://stackoverflow.com/users/5424815/franklin-s"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1525353014, "post_id": 50140443, "comment_id": 87329446, "body": "Thanks, I ended up getting MSBuild 15 (per your suggestion) via nuget package and stumbled through a few more complications to get it working."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 5424815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fd7c530a0405a502b0a3bc82f907dfe?s=128&d=identicon&r=PG&f=1", "display_name": "Franklin S.", "link": "https://stackoverflow.com/users/5424815/franklin-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1525353111, "creation_date": 1525353111, "answer_id": 50155935, "question_id": 50140443, "link": "https://stackoverflow.com/questions/50140443/compiling-a-project-with-microsoft-build-the-default-namespace-of-the-project-m/50155935#50155935", "title": "Compiling a project with Microsoft.Build: The default namespace of the project must be the MSBuild XML namespace", "body": "<p>I ended up needing to get MSBuild 15 via nuget package.  I also encountered a few more issues that would have left me seeking alternatives if I had not stumbled across this link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/43662328/msbuild-15-the-error-task-could-not-be-instantiated\">MSBuild 15: The &quot;Error&quot; task could not be instantiated</a></p>\n"}], "owner": {"reputation": 13, "user_id": 5424815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fd7c530a0405a502b0a3bc82f907dfe?s=128&d=identicon&r=PG&f=1", "display_name": "Franklin S.", "link": "https://stackoverflow.com/users/5424815/franklin-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 580, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1525353111, "creation_date": 1525282397, "question_id": 50140443, "link": "https://stackoverflow.com/questions/50140443/compiling-a-project-with-microsoft-build-the-default-namespace-of-the-project-m", "title": "Compiling a project with Microsoft.Build: The default namespace of the project must be the MSBuild XML namespace", "body": "<p>I'm trying to use the Microsoft.Build libraries to compile a project from my application. All of the projects I will possibly use this to build are .Net 4.7.1 projects in VS2017. Here is the code I have in question and the error I am receiving:</p>\n\n<pre><code>var loggerPath = $\"C:\\\\temp\\\\{FilenameOnly}BuildLog.txt\";\n\nvar collection = ProjectCollection.GlobalProjectCollection;\n\nvar logger = new FileLogger();\nlogger.Parameters =  $\"logfile={loggerPath}\";\n\ncollection.RegisterLogger(logger);\n\nvar project = collection.LoadProject(FileWithPath);\nproject.SetProperty(\"Configuration\", buildConfiguration);\nproject.Build();\n</code></pre>\n\n<p>Microsoft.Build.Exceptions.InvalidProjectFileException: 'The default XML namespace of the project must be the MSBuild XML namespace. If the project is authored in the MSBuild 2003 format, please add xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\" to the  element. If the project has been authored in the old 1.0 or 1.2 format, please convert it to MSBuild 2003 format.</p>\n\n<p>It sounds like I'm using the wrong MSBuild and I figured I was referencing the wrong Microsoft.Build.x.dlls so I tried switching to the ones in \nC:\\Program Files (x86)\\MSBuild\\14.0\\Bin\nfor the same exception.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1525282394, "post_id": 50140347, "comment_id": 87299082, "body": "You don&#39;t have any markup that ties the button to the click handler. Are you assigning it in code?"}, {"owner": {"reputation": 245, "user_id": 6627918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1209884332389406/picture?type=large", "display_name": "Errol Chaves Moya", "link": "https://stackoverflow.com/users/6627918/errol-chaves-moya"}, "reply_to_user": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1525283133, "post_id": 50140347, "comment_id": 87299466, "body": "What do you mean? this?    <b>OnClick=&quot;btnSalir_Click&quot;</b>"}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 6627918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1209884332389406/picture?type=large", "display_name": "Errol Chaves Moya", "link": "https://stackoverflow.com/users/6627918/errol-chaves-moya"}, "edited": false, "score": 0, "creation_date": 1525283577, "post_id": 50140713, "comment_id": 87299718, "body": "You&#39;re right I did not notice this. Thanks, this was the problem."}], "tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": true, "score": 0, "last_activity_date": 1525283443, "creation_date": 1525283443, "answer_id": 50140713, "question_id": 50140347, "link": "https://stackoverflow.com/questions/50140347/response-redirect-not-working-when-button-on-mastepage-is-clicked/50140713#50140713", "title": "Response.Redirect not working when button on mastepage is clicked", "body": "<p>You have an invalid html comment in your code. <code>&lt;!--</code> is the reason not  triggering <code>btnSalir_Click</code> event. </p>\n\n<p>Removing <code>&lt;!--</code> should fix the issue. </p>\n\n<pre><code>&lt;link href=\"https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700\" rel=\"stylesheet\"&gt;\n      &lt;!--\n      ^^^^^\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 6627918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1209884332389406/picture?type=large", "display_name": "Errol Chaves Moya", "link": "https://stackoverflow.com/users/6627918/errol-chaves-moya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 50140713, "answer_count": 1, "score": 0, "last_activity_date": 1525283443, "creation_date": 1525282026, "question_id": 50140347, "link": "https://stackoverflow.com/questions/50140347/response-redirect-not-working-when-button-on-mastepage-is-clicked", "title": "Response.Redirect not working when button on mastepage is clicked", "body": "<p>I created a button on the masterpage to logout when I click it it's supposed to close session and redirect to Login. </p>\n\n<p>Login is the start page and it's not within the mastepage, it's just a sigle aspx page.</p>\n\n<p>I have no idea why it's not working. I put a breakpoint in the button method but when I click the button the event is not fired.</p>\n\n<p>The Button is <strong>Salir</strong></p>\n\n<p>Please help me out.</p>\n\n<p>this is the code fo the masterpage:</p>\n\n<pre><code>    &lt;%@ Master Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"Principal.master.cs\" Inherits=\"Web.Principal\" %&gt;\n    &lt;!DOCTYPE html&gt;\n        &lt;html lang=\"zxx\" class=\"no-js\"&gt;\n        &lt;head&gt;\n            &lt;!-- Mobile Specific Meta --&gt;\n            &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"&gt;\n            &lt;!-- Favicon--&gt;\n            &lt;link rel=\"shortcut icon\" href=\"img/fav.png\"&gt;\n            &lt;!-- Author Meta --&gt;\n            &lt;meta name=\"author\" content=\"Colorlib\"&gt;\n            &lt;!-- Meta Description --&gt;\n            &lt;meta name=\"description\" content=\"\"&gt;\n            &lt;!-- Meta Keyword --&gt;\n            &lt;meta name=\"keywords\" content=\"\"&gt;\n            &lt;!-- meta character set --&gt;\n            &lt;meta charset=\"UTF-8\"&gt;\n            &lt;!-- Site Title --&gt;\n            &lt;title&gt;Destinos Naturales S.A&lt;/title&gt;\n\n            &lt;link href=\"https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700\" rel=\"stylesheet\"&gt;\n                &lt;!--\n\n            &lt;/head&gt;\n            &lt;body&gt;\n                &lt;form id=\"form1\" runat=\"server\"&gt;\n                &lt;!-- Start Header Area --&gt;\n                &lt;header class=\"default-header\"&gt;\n                    &lt;div class=\"container\"&gt;\n                        &lt;div class=\"header-wrap\"&gt;\n                            &lt;div class=\"header-top d-flex justify-content-between align-items-center\"&gt;\n                                &lt;div class=\"logo\"&gt;\n                                    &lt;a href=\"Principal.aspx\"&gt;&lt;img src=\"img/logo.png\" alt=\"\"&gt;&lt;/a&gt;\n                                &lt;/div&gt;\n                                &lt;div class=\"main-menubar d-flex align-items-center\"&gt;\n                                    &lt;nav class=\"hide\"&gt;\n                                        &lt;a href=\"Principal.aspx\"&gt;\n                                            &lt;asp:Button ID=\"bntInicio\" runat=\"server\" Text=\"Inicio\" BorderWidth=\"0\" BackColor=\"Transparent\"/&gt;\n                                        &lt;/a&gt;\n                                        &lt;a href=\"Usuario.aspx\"&gt;\n                                            &lt;asp:Button ID=\"btnUsuarios\" runat=\"server\" Text=\"Usuarios\" BorderWidth=\"0\" BackColor=\"Transparent\"/&gt;\n                                        &lt;/a&gt;\n                                        &lt;a href=\"Articulos.aspx\"&gt;\n                                            &lt;asp:Button ID=\"btnArticulos\" runat=\"server\" Text=\"Art\u00edculos\" BorderWidth=\"0\" BackColor=\"Transparent\"/&gt;\n                                        &lt;/a&gt;\n                                        &lt;a&gt;\n                                            &lt;asp:Button ID=\"btnSalir\" runat=\"server\" Text=\"Salir\" ForeColor=\"#800000\" BorderWidth=\"0\" BackColor=\"Transparent\" OnClick=\"btnSalir_Click\"/&gt;\n                                        &lt;/a&gt;\n                                    &lt;/nav&gt;\n                                    &lt;div class=\"menu-bar\"&gt;&lt;span class=\"lnr lnr-menu\"&gt;&lt;/span&gt;&lt;/div&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/header&gt;\n                &lt;!-- End Header Area --&gt;\n        &lt;div&gt;\n            &lt;asp:ContentPlaceHolder ID=\"ContentPlaceHolder1\" runat=\"server\"&gt;\n\n            &lt;/asp:ContentPlaceHolder&gt;\n        &lt;/div&gt;\n        &lt;/form&gt;\n&lt;!-- start footer Area --&gt;\n            &lt;footer class=\"footer-area section-gap\"&gt;\n                &lt;div class=\"container\"&gt;\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-lg-3  col-md-6 col-sm-6\"&gt;\n                            &lt;div class=\"single-footer-widget\"&gt;\n                                &lt;h6&gt;Destinos Naturales S.A&lt;/h6&gt;\n                                &lt;p&gt;\n                                    Destinos tur\u00edsticos nacionales e internacionales.\n                                &lt;/p&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-lg-3  col-md-6 col-sm-6\"&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-lg-3  col-md-6 col-sm-6\"&gt;\n                            &lt;div class=\"single-footer-widget mail-chimp\"&gt;\n                                &lt;h6 class=\"mb-20\"&gt;Instragram&lt;/h6&gt;\n                                &lt;ul class=\"instafeed d-flex flex-wrap\"&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i1.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i2.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i3.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i4.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i5.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i6.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i7.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;img src=\"img/i8.jpg\" alt=\"\"&gt;&lt;/li&gt;\n                                &lt;/ul&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-lg-3 col-md-6 col-sm-6\"&gt;\n                            &lt;div class=\"single-footer-widget\"&gt;\n                                &lt;h6&gt;\u00a1S\u00edguenos!&lt;/h6&gt;\n                                &lt;p&gt;&lt;/p&gt;\n                                &lt;div class=\"footer-social d-flex align-items-center\"&gt;\n                                    &lt;a href=\"#\"&gt;&lt;i class=\"fa fa-facebook\"&gt;&lt;/i&gt;&lt;/a&gt;\n                                    &lt;a href=\"#\"&gt;&lt;i class=\"fa fa-twitter\"&gt;&lt;/i&gt;&lt;/a&gt;\n                                &lt;/div&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"footer-bottom d-flex justify-content-center align-items-center flex-wrap\"&gt;\n                        &lt;p class=\"footer-text m-0\"&gt;\n                        &lt;!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --&gt;\n                        Copyright &amp;copy;&lt;script&gt;document.write(new Date().getFullYear());&lt;/script&gt; All rights reserved | Hecho por Alejandra Porras Araya&lt;/a&gt;\n                        &lt;!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --&gt;\n                        &lt;/p&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/footer&gt;\n            &lt;!-- End footer Area --&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>and This is button  code:</p>\n\n<pre><code>protected void btnSalir_Click(object sender, EventArgs e)\n    {\n        Session[\"UsuarioIngresado\"] = null;\n        Response.Redirect(\"Login.aspx\");\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "internet-explorer-9"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1525281941, "post_id": 50140315, "comment_id": 87298849, "body": "Start with User agent header ? Return view conditionally based on that"}, {"owner": {"reputation": 27, "user_id": 5576462, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7de31878b3261aebe2d741c0e43cfd19?s=128&d=identicon&r=PG&f=1", "display_name": "Sedighe Rahimi", "link": "https://stackoverflow.com/users/5576462/sedighe-rahimi"}, "edited": false, "score": 0, "creation_date": 1525282169, "post_id": 50140315, "comment_id": 87298969, "body": "read this article.i think it help you. <a href=\"https://stackoverflow.com/questions/5916900/how-can-you-detect-the-version-of-a-browser\" title=\"how can you detect the version of a browser\">stackoverflow.com/questions/5916900/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 63070, "user_id": 1280410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JLmGV.png?s=128&g=1", "display_name": "Darren", "link": "https://stackoverflow.com/users/1280410/darren"}, "is_accepted": false, "score": 1, "last_activity_date": 1525330985, "last_edit_date": 1525330985, "creation_date": 1525282214, "answer_id": 50140393, "question_id": 50140315, "link": "https://stackoverflow.com/questions/50140315/how-to-display-view-by-browser-type-in-asp-net-mvc/50140393#50140393", "title": "how to display View by browser type in asp.net mvc?", "body": "<p>In your Controller you could inspect the UserAgent property of the Request.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.web.httprequest.useragent(v=vs.110).aspx\" rel=\"nofollow noreferrer\">HttpContext.Current.Request.UserAgent</a></p>\n\n<p>Full code example:</p>\n\n<pre><code>private const string IEUserAgent = \"Mozilla/4.0 (compatible; MSIE 9.0; Windows NT 6.0; Trident/5.0)\";\n\npublic ActionResult Index()\n{\n    string userAgent = HttpContext.Current.Request.UserAgent;\n\n    if (userAgent == IEUserAgent) \n    {\n       return View(\"IE9View\");\n    }\n\n    return View();\n}\n</code></pre>\n\n<p>You may want to encapsulate the UserAgent string(s) in a constants file which would serve a more appropriate place rather than at the Controller level.</p>\n\n<p>An alternative approach would be to use a <a href=\"https://msdn.microsoft.com/en-us/library/system.web.webpages.displaymodeprovider(v=vs.111).aspx\" rel=\"nofollow noreferrer\">DisplayModeProvider</a> within the Global.asax</p>\n\n<pre><code>DisplayModeProvider.Instance.Modes.Insert(1, new DefaultDisplayMode(\"IE9\")  \n{  \n    ContextCondition = (ctx =&gt; ctx.GetOverriddenUserAgent()  \n    .IndexOf(\"MSIE 9\", StringComparison.OrdinalIgnoreCase) &gt; 0)     \n});  \n</code></pre>\n\n<p>You would then create a Index.IE9.cshtml file within your View section of your application containing the markup to be displayed to users utilising Internet Explorer 9.</p>\n"}, {"tags": [], "owner": {"reputation": 1604, "user_id": 1732726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fT4xK.jpg?s=128&g=1", "display_name": "Morteza Jangjoo", "link": "https://stackoverflow.com/users/1732726/morteza-jangjoo"}, "is_accepted": true, "score": 2, "last_activity_date": 1525282246, "creation_date": 1525282246, "answer_id": 50140403, "question_id": 50140315, "link": "https://stackoverflow.com/questions/50140315/how-to-display-view-by-browser-type-in-asp-net-mvc/50140403#50140403", "title": "how to display View by browser type in asp.net mvc?", "body": "<p>you must use Custom DisplayMode in mvc and User-agent in browsers.</p>\n\n<p>any browser have a unique user-agent that internet explorer 9 is \"MSIE 9\".</p>\n\n<p>if view name is First.cshtml,</p>\n\n<p>create view that is name: First.IE9.cshtml</p>\n\n<p>and in global.asax</p>\n\n<pre><code>protected void Application_Start(){\n//other code\n\nDisplayModeProvider.Instance.Modes.Insert(0,new DefaultDisplayMode(\"IE9\")\n{\n    ContextCondition=context=&gt; context.request.UserAgent.Contains(\"MSIE 9\")\n});\n}\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 9708910, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joe herman", "link": "https://stackoverflow.com/users/9708910/joe-herman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 0, "accepted_answer_id": 50140403, "answer_count": 2, "score": 1, "last_activity_date": 1525330985, "creation_date": 1525281804, "question_id": 50140315, "link": "https://stackoverflow.com/questions/50140315/how-to-display-view-by-browser-type-in-asp-net-mvc", "title": "how to display View by browser type in asp.net mvc?", "body": "<p>i use many css and javascript in my project which not support Only by IE9 browser,</p>\n\n<p>so i create two verson for all view, First version for IE browser that does not have css and javascript, and second version for other browser that does all css and javascript.</p>\n\n<p>i want if user browser is IE9 (only Version 9) then display firts view else display second View.</p>\n"}, {"tags": ["c#", "asp.net", "internet-explorer", "iis"], "comments": [{"owner": {"reputation": 17, "user_id": 9693818, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215743021385676/picture?type=large", "display_name": "Ludmila Klimkina", "link": "https://stackoverflow.com/users/9693818/ludmila-klimkina"}, "edited": false, "score": 0, "creation_date": 1525284820, "post_id": 50140243, "comment_id": 87300299, "body": "It is a single Windows server. I already tried &lt;pages validateRequest=&quot;false&quot; enableEventValidation=&quot;false&quot; viewStateEncryptionMode =&quot;Never&quot;&gt; in web.config and it doesn&#39;t work"}, {"owner": {"reputation": 17, "user_id": 9693818, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215743021385676/picture?type=large", "display_name": "Ludmila Klimkina", "link": "https://stackoverflow.com/users/9693818/ludmila-klimkina"}, "edited": false, "score": 0, "creation_date": 1525291181, "post_id": 50140243, "comment_id": 87303431, "body": "If I deploy on another server, login works fine."}, {"owner": {"reputation": 17, "user_id": 9693818, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215743021385676/picture?type=large", "display_name": "Ludmila Klimkina", "link": "https://stackoverflow.com/users/9693818/ludmila-klimkina"}, "edited": false, "score": 0, "creation_date": 1525296274, "post_id": 50140243, "comment_id": 87305738, "body": "Actually all pages have this error after postback."}, {"owner": {"reputation": 17, "user_id": 9693818, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215743021385676/picture?type=large", "display_name": "Ludmila Klimkina", "link": "https://stackoverflow.com/users/9693818/ludmila-klimkina"}, "edited": false, "score": 0, "creation_date": 1525296381, "post_id": 50140243, "comment_id": 87305787, "body": "And I tried generating machine keys and putting it to web.config"}, {"owner": {"reputation": 17, "user_id": 9693818, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215743021385676/picture?type=large", "display_name": "Ludmila Klimkina", "link": "https://stackoverflow.com/users/9693818/ludmila-klimkina"}, "edited": false, "score": 0, "creation_date": 1525306149, "post_id": 50140243, "comment_id": 87308455, "body": "This is one of the logs:"}], "owner": {"reputation": 17, "user_id": 9693818, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215743021385676/picture?type=large", "display_name": "Ludmila Klimkina", "link": "https://stackoverflow.com/users/9693818/ludmila-klimkina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 848, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550170923, "creation_date": 1525281529, "question_id": 50140243, "link": "https://stackoverflow.com/questions/50140243/validation-of-viewstate-mac-failed-in-ie-works-in-chrome", "title": "Validation of viewstate MAC failed in IE. Works in Chrome", "body": "<p>Can't log in to intranet website from IE. From Chrome everything works fine. ASP.Net.Identity used to check if email is in DB. We don't use passwords, only corporate emails.\nIIS used to host web-site.</p>\n\n<pre><code>Validation of viewstate MAC failed. If this application is hosted by a Web Farm or cluster, ensure that &lt;machineKey&gt; configuration specifies the same validationKey and validation algorithm. AutoGenerate cannot be used in a cluster.\n\nSee http://go.microsoft.com/fwlink/?LinkID=314055 for more information. \n  Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. \n\n Exception Details: System.Web.HttpException: Validation of viewstate MAC failed. If this application is hosted by a Web Farm or cluster, ensure that &lt;machineKey&gt; configuration specifies the same validationKey and validation algorithm. AutoGenerate cannot be used in a cluster.\n\nSee http://go.microsoft.com/fwlink/?LinkID=314055 for more information.\n\nSource Error: \n\n\n An unhandled exception was generated during the execution of the current web request. Information regarding the origin and location of the exception can be identified using the exception stack trace below.  \n\nStack Trace: \n\n\n\n[ViewStateException: Invalid viewstate. \n    Client IP: 10.9.67.57\n    Port: 53656\n    Referer: http://idt_val_vm_srv/Account/Login?ReturnUrl=%2FAccount%2FEnterHours%2F%3Fdate%3D2018-05-01\n    Path: /Account/Login\n    User-Agent: Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko\n    ViewState: NLiXWsLtnB/N9glviq6iJpahHR6xrvla7oVYkgXEW5YLbmw0ybMslZZmm3wm8hEhTtfD6CoQGX6STbZ0ZqSrjGSjBZIg+CbZ7yT+zbC2WntSQp4BBFYRnkV0kvIEs9ITyI4bTXQHu5hwYXEmgT7pe9gSxy1VYXtpkt7C50bx5NI4Ka/Tj1oFvjV2cllBDYE0n3HEUo7x003pbI7yQllr3A==]\n\n[HttpException (0x80004005): Validation of viewstate MAC failed. If this application is hosted by a Web Farm or cluster, ensure that &lt;machineKey&gt; configuration specifies the same validationKey and validation algorithm. AutoGenerate cannot be used in a cluster.\n\nSee http://go.microsoft.com/fwlink/?LinkID=314055 for more information.]\n   System.Web.UI.ViewStateException.ThrowError(Exception inner, String persistedState, String errorPageMessage, Boolean macValidationError) +153\n   System.Web.UI.ObjectStateFormatter.Deserialize(String inputString, Purpose purpose) +912\n   System.Web.UI.Util.DeserializeWithAssert(IStateFormatter2 formatter, String serializedState, Purpose purpose) +61\n   System.Web.UI.HiddenFieldPageStatePersister.Load() +309\n   System.Web.UI.Page.LoadPageStateFromPersistenceMedium() +367\n   System.Web.UI.Page.LoadAllState() +46\n   System.Web.UI.&lt;ProcessRequestMainAsync&gt;d__523.MoveNext() +13873\n   System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() +31\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +62\n   System.Web.Util.WithinCancellableCallbackTaskAwaiter.GetResult() +32\n   System.Web.UI.&lt;ProcessRequestAsync&gt;d__515.MoveNext() +790\n   System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() +31\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +62\n   System.Web.UI.&lt;ProcessRequestAsync&gt;d__554.MoveNext() +616\n   System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw() +31\n   System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task) +62\n   System.Web.TaskAsyncHelper.EndTask(IAsyncResult ar) +64\n   System.Web.CallHandlerExecutionStep.System.Web.HttpApplication.IExecutionStep.Execute() +607\n   System.Web.HttpApplication.ExecuteStep(IExecutionStep step, Boolean&amp; completedSynchronously) +134\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "sql-server"], "comments": [{"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 2, "creation_date": 1525281768, "post_id": 50140231, "comment_id": 87298760, "body": "you are adding a string from dr1  but your datareader is just dr??"}, {"owner": {"reputation": 53, "user_id": 9509296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46009e978d8ef7bcb8e303176602dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Gulshan Sonwar", "link": "https://stackoverflow.com/users/9509296/gulshan-sonwar"}, "reply_to_user": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1525282252, "post_id": 50140231, "comment_id": 87299005, "body": "yeah , that&#39;s my mistake, there will be dr instead of dr1"}, {"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1525282504, "post_id": 50140231, "comment_id": 87299142, "body": "That was a typo and your still getting the error?  If you debug and step through is it looping multiple times for your str.Add?  When you debug are all the values appearing in the dr.Read when looping?  Just the str array is not being populateed correctly?"}, {"owner": {"reputation": 53, "user_id": 9509296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46009e978d8ef7bcb8e303176602dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Gulshan Sonwar", "link": "https://stackoverflow.com/users/9509296/gulshan-sonwar"}, "reply_to_user": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1525282840, "post_id": 50140231, "comment_id": 87299316, "body": "well i supposed to get all code in that list and show all code through foreach loop but i am wrong somewhere, it just shows 1 data"}, {"owner": {"reputation": 3279, "user_id": 1459036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/yeDJp.jpg?s=128&g=1", "display_name": "Brad", "link": "https://stackoverflow.com/users/1459036/brad"}, "edited": false, "score": 0, "creation_date": 1525283166, "post_id": 50140231, "comment_id": 87299487, "body": "Your code looks right, that is why I suggested you debug and step through it line by line (also fix the error in your post I mentioned)"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1525283310, "post_id": 50140231, "comment_id": 87299565, "body": "Please read <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How To Debug</a>."}], "answers": [{"comments": [{"owner": {"reputation": 921, "user_id": 2455124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/630967566848a1a75dfba19c5928c6e6?s=128&d=identicon&r=PG", "display_name": "edixon", "link": "https://stackoverflow.com/users/2455124/edixon"}, "edited": false, "score": 0, "creation_date": 1525285212, "post_id": 50140849, "comment_id": 87300493, "body": "You only chnaged <code>dr1</code> to <code>dr</code>? That has already been noticed and fixed in the first comments."}, {"owner": {"reputation": 1, "user_id": 6358015, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DkWn1S6w3eE/AAAAAAAAAAI/AAAAAAAAKAU/tfNJOBD0rac/photo.jpg?sz=128", "display_name": "Juan Luis Olguin Lopez", "link": "https://stackoverflow.com/users/6358015/juan-luis-olguin-lopez"}, "reply_to_user": {"reputation": 921, "user_id": 2455124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/630967566848a1a75dfba19c5928c6e6?s=128&d=identicon&r=PG", "display_name": "edixon", "link": "https://stackoverflow.com/users/2455124/edixon"}, "edited": false, "score": 0, "creation_date": 1525289788, "post_id": 50140849, "comment_id": 87302734, "body": "I also wrote &quot;;&quot; at the end of the connection string and I changed executeReader() for ExecuteReader()"}, {"owner": {"reputation": 921, "user_id": 2455124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/630967566848a1a75dfba19c5928c6e6?s=128&d=identicon&r=PG", "display_name": "edixon", "link": "https://stackoverflow.com/users/2455124/edixon"}, "edited": false, "score": 0, "creation_date": 1525290714, "post_id": 50140849, "comment_id": 87303206, "body": "These are typo errors that cause compilation errors. This does not answer the question why only the first row is returned?"}, {"owner": {"reputation": 1, "user_id": 6358015, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DkWn1S6w3eE/AAAAAAAAAAI/AAAAAAAAKAU/tfNJOBD0rac/photo.jpg?sz=128", "display_name": "Juan Luis Olguin Lopez", "link": "https://stackoverflow.com/users/6358015/juan-luis-olguin-lopez"}, "reply_to_user": {"reputation": 921, "user_id": 2455124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/630967566848a1a75dfba19c5928c6e6?s=128&d=identicon&r=PG", "display_name": "edixon", "link": "https://stackoverflow.com/users/2455124/edixon"}, "edited": false, "score": 0, "creation_date": 1525291421, "post_id": 50140849, "comment_id": 87303540, "body": "Follow this code and you will get the list with all the rows."}], "tags": [], "owner": {"reputation": 1, "user_id": 6358015, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DkWn1S6w3eE/AAAAAAAAAAI/AAAAAAAAKAU/tfNJOBD0rac/photo.jpg?sz=128", "display_name": "Juan Luis Olguin Lopez", "link": "https://stackoverflow.com/users/6358015/juan-luis-olguin-lopez"}, "is_accepted": false, "score": 0, "last_activity_date": 1525283942, "creation_date": 1525283942, "answer_id": 50140849, "question_id": 50140231, "link": "https://stackoverflow.com/questions/50140231/how-to-store-list-of-data-from-database-to-arraylist-or-list-in-c/50140849#50140849", "title": "How to Store list of data from Database to ArrayList or List in C#", "body": "<p>The only error that I saw was you iterate dr and then you try to get data from dr1?</p>\n\n<p>Try this code:</p>\n\n<pre><code>SqlConnection cn = new SqlConnection();\n            SqlCommand cmd = new SqlCommand();\n            cn.ConnectionString = \"ConnectionString\";\n            List&lt;string&gt; str = new List&lt;string&gt;();\n            cmd.Connection = cn;\n            cmd.Connection.Open();\n            cmd.CommandText = \"SELECT code FROM employee WHERE Left = 'Y'\";\n            SqlDataReader dr = cmd.ExecuteReader();\n            while (dr.Read())\n            {\n                str.Add(dr.GetValue(0).ToString());\n            }\n\n            foreach (string p in str)\n            {\n                Console.WriteLine(p);\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2469, "user_id": 6327676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LezXI.jpg?s=128&g=1", "display_name": "DxTx", "link": "https://stackoverflow.com/users/6327676/dxtx"}, "is_accepted": false, "score": 0, "last_activity_date": 1525289687, "last_edit_date": 1525289687, "creation_date": 1525284324, "answer_id": 50140938, "question_id": 50140231, "link": "https://stackoverflow.com/questions/50140231/how-to-store-list-of-data-from-database-to-arraylist-or-list-in-c/50140938#50140938", "title": "How to Store list of data from Database to ArrayList or List in C#", "body": "<p>These are the errors I founded.</p>\n\n<p><code>executeReader()</code> should be <code>ExecuteReader()</code><br>\n<code>dr1.GetValue(0)</code> should be <code>dr.GetValue(0)</code><br>\n<code>\"&lt;CONNECTION STRING&gt;\"</code> should be <code>\"&lt;CONNECTION STRING&gt;\";</code> ('<strong><code>;</code></strong>' is missing)</p>\n\n<p>If you fix these errors (I'm assuming these are typing mistakes?), then your code should be working fine. I have checked your code and it's fetching data.</p>\n\n<p>Please double check your connection string (since it's fetching data, we can assume it's working. but, check whether you're connected to the right database or not) &amp; query (query also looks good. But, check the table and data again. run it on SSMS).  </p>\n\n<p><a href=\"https://i.stack.imgur.com/fsi7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fsi7R.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>SqlConnection cn = new SqlConnection();\nSqlCommand cmd = new SqlCommand();\ncn.ConnectionString = @\"Data Source=localhost; Initial Catalog=Testing; \nIntegrated Security = True\"; // Changed\nList&lt;string&gt; str = new List&lt;string&gt;();\ncmd.Connection = cn;\ncmd.Connection.Open();\ncmd.CommandText = \"SELECT distinct column1 FROM testTable\"; // Changed\nSqlDataReader dr = cmd.ExecuteReader();  // Changed\nwhile (dr.Read())\n{\n    str.Add(dr.GetValue(0).ToString());  // Changed\n}\n\nforeach (string p in str)\n{\n    Response.Write(p);\n}\n</code></pre>\n\n<p>If your code is still not working as you expected, please debug your code (as already suggested in the comments).</p>\n\n<p><a href=\"https://youtu.be/u-HdLtqEOog\" rel=\"nofollow noreferrer\">YouTube: Debugging C# Code in Visual Studio by Programming with Mosh</a><br>\n<a href=\"https://msdn.microsoft.com/en-us/library/y740d9d3.aspx\" rel=\"nofollow noreferrer\">Microsoft: Navigating through Code with the Debugger</a><br>\n<a href=\"https://www.dotnetperls.com/debugging\" rel=\"nofollow noreferrer\">Dot Net Perls: Debugging</a><br>\n<a href=\"http://csharp.net-tutorials.com/debugging/introduction/\" rel=\"nofollow noreferrer\">Csharp.Net-Tutorials.com: Introduction to debugging</a><br>\n<a href=\"http://michaelscodingspot.com/2018/01/09/7-debugging-techniques-know-c-net/\" rel=\"nofollow noreferrer\">Michael's Coding Spot: 7 Debugging Techniques you should know in C#.NET</a>   </p>\n"}, {"tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": false, "score": 1, "last_activity_date": 1616532940, "last_edit_date": 1616532940, "creation_date": 1525287973, "answer_id": 50141829, "question_id": 50140231, "link": "https://stackoverflow.com/questions/50140231/how-to-store-list-of-data-from-database-to-arraylist-or-list-in-c/50141829#50141829", "title": "How to Store list of data from Database to ArrayList or List in C#", "body": "<p>There are several basic flaws, but as it also sounds like you've successfully retrieved at least one record or column, I'll treat those as simple typos.</p>\n<p>With that in mind, four changes are still needed:</p>\n<ol>\n<li>Use a type other than string for the collection, that has a place for each attribute you need.</li>\n<li>Ask for more than one column in the SQL string's SELECT clause</li>\n<li>Save all of the attributes from the query results with the collection</li>\n<li>Write all of the fields to the Response</li>\n</ol>\n<p>There are some other changes I will demonstrate here as well, to help show some better practices.</p>\n<pre><code>//Change #1 -- new type with space for each attribute\npublic class Employee\n{\n    public string Name {get;set;}\n    public string code {get;set;}\n    public bool Left {get;set;}\n}\n\n// ...\n\npublic IEnumerable&lt;Employee&gt; GetEmployees(bool Left)\n{\n    //Change #2 -- ask for other fields in the SQL select clause\n    string sql = &quot;SELECT code, Name, Left FROM employee WHERE Left= @Left&quot;;\n\n    using (var cn = new SqlConnection(&quot;&lt;CONNECTION STRING&gt;&quot;))\n    using (var cmd = new SqlCommand(sql, cn))\n    {\n        cmd.Parameters.Add(&quot;@Left&quot;, SqlDbType.Char, 1).Value = Left?&quot;Y&quot;:&quot;N&quot;;\n        cn.Open();\n\n        using (var rdr = cmd.ExecuteReader())\n        {\n            while(rdr.Read())\n            {\n                //Change #3 -- use all fields from the query results \n                yield return new Employee() {\n                    Name = rdr[&quot;Name&quot;], \n                    code = rdr[&quot;code&quot;], \n                    Left = (rdr[&quot;Left&quot;] == &quot;Y&quot;)?true:false\n                };\n            }\n            rdr.Close();\n        }\n    }\n}\n\n// ...\n\nvar employees = GetEmployees(true);\nforeach (var e in employees)\n{ \n    //Change #4 -- Write all fields to the response.\n    Response.Write($&quot;&lt;span&gt;{e.Name}&lt;/span&gt;&lt;span&gt;{e.code}&lt;/span&gt;&lt;span&gt;{e.Left}&lt;/span&gt;&quot;);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 666, "user_id": 4551549, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PGzST.jpg?s=128&g=1", "display_name": "novice_dev", "link": "https://stackoverflow.com/users/4551549/novice-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1525291812, "creation_date": 1525291812, "answer_id": 50142782, "question_id": 50140231, "link": "https://stackoverflow.com/questions/50140231/how-to-store-list-of-data-from-database-to-arraylist-or-list-in-c/50142782#50142782", "title": "How to Store list of data from Database to ArrayList or List in C#", "body": "<p>Use LINQ to get the data. \"db\" is you Database Context.</p>\n\n<pre><code>List&lt;String&gt; codes = db.Employee.Where(c =&gt; c.Left == \"Y\").Select(c =&gt; c.code).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 921, "user_id": 2455124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/630967566848a1a75dfba19c5928c6e6?s=128&d=identicon&r=PG", "display_name": "edixon", "link": "https://stackoverflow.com/users/2455124/edixon"}, "is_accepted": false, "score": 0, "last_activity_date": 1525291981, "creation_date": 1525291981, "answer_id": 50142827, "question_id": 50140231, "link": "https://stackoverflow.com/questions/50140231/how-to-store-list-of-data-from-database-to-arraylist-or-list-in-c/50142827#50142827", "title": "How to Store list of data from Database to ArrayList or List in C#", "body": "<p>I suppose that the <code>Left</code> values aren't exactly <code>'Y'</code>.  Maybe some rows have it in lower case or some spaces trailing... To cover these cases you could try:</p>\n\n<pre><code>WHERE UPPER(Left) LIKE '%Y%'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 7696373, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0ymyNp-d01I/AAAAAAAAAAI/AAAAAAAAPkw/oMp4L--UMPI/photo.jpg?sz=128", "display_name": "Paula Cruz Morales", "link": "https://stackoverflow.com/users/7696373/paula-cruz-morales"}, "is_accepted": false, "score": 0, "last_activity_date": 1525363076, "creation_date": 1525363076, "answer_id": 50159321, "question_id": 50140231, "link": "https://stackoverflow.com/questions/50140231/how-to-store-list-of-data-from-database-to-arraylist-or-list-in-c/50159321#50159321", "title": "How to Store list of data from Database to ArrayList or List in C#", "body": "<p>I think it would be better if you work with stored procedures in sql server... you can create one for the query </p>\n\n<pre><code>USE [DBName]\nGO\n/****** Object:  StoredProcedure [dbo].[GetCode]    Script Date: 03/05/2018 10:51:19 a.m. ******/\nSET ANSI_NULLS ON\nGO\nSET QUOTED_IDENTIFIER ON\nGO\nALTER PROCEDURE [dbo].[GetCode]\n(\n@Left char\n)\nAS \nBEGIN\nSET NOCOUNT ON;\nSELECT Code FROM Employee WHERE Employee.Left in (@Left) \n\n\nEND\n</code></pre>\n\n<p>...</p>\n\n<p>Then, you can call it from c# this way:</p>\n\n<pre><code>private List&lt;Type&gt; GetCode(string Left)\n        {\n            List&lt;Type&gt; List = new List&lt;Type&gt;();\n\n            DbConnection();\n            con.Open();\n            DynamicParameters Parm = new DynamicParameters();\n            Parm.Add(\"@Left\", Left, DbType.String, ParameterDirection.Input, 2);\n//Parm.Add(nameOfParameter,valueOfParameter,typeOfParameter,directionOfParameter,sizeOfParameter);\n            List = SqlMapper.Query&lt;Type&gt;(con, \"Entities.GetCode\", Parm, commandType: CommandType.StoredProcedure).ToList();\n            con.Close();\n            return List;\n        }\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 9509296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46009e978d8ef7bcb8e303176602dfc?s=128&d=identicon&r=PG&f=1", "display_name": "Gulshan Sonwar", "link": "https://stackoverflow.com/users/9509296/gulshan-sonwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12060, "favorite_count": 0, "answer_count": 6, "score": 2, "last_activity_date": 1616532940, "creation_date": 1525281498, "last_edit_date": 1525281515, "question_id": 50140231, "link": "https://stackoverflow.com/questions/50140231/how-to-store-list-of-data-from-database-to-arraylist-or-list-in-c", "title": "How to Store list of data from Database to ArrayList or List in C#", "body": "<p>Table: employee</p>\n\n<pre><code>code|Name|Left\n----+----+----\n1   | A  | Y\n2   | B  | N\n3   | C  | N\n4   | D  | Y\n5   | E  | N\n6   | F  | Y\n</code></pre>\n\n<p>now i am doing ,</p>\n\n<pre><code>        SqlConnection cn=new SqlConnection();\n        SqlCommand cmd = new SqlCommand();\n        cn.ConnectionString=\"&lt;CONNECTION STRING&gt;\"\n        List&lt;string&gt; str = new List&lt;string&gt;();\n        cmd.Connection=cn;\n        cmd.Connection.Open();\n        cmd.CommandText=\"Select code from employee where Left='Y'\";\n        SqlDataReader dr=cmd.executeReader();\n        while(dr.Read())\n        {\n                       str.Add(dr1.GetValue(0).ToString());\n\n        }\n\n        foreach (string p in str)\n        {\n                 Response.Write(p);\n        }\n</code></pre>\n\n<p>This code fetch only 1 data, how may i get all data whose Left='Y'</p>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 1, "creation_date": 1525280999, "post_id": 50140057, "comment_id": 87298331, "body": "WARNING: SQL INJECTION RISK!!!"}, {"owner": {"reputation": 458695, "user_id": 20860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=128&g=1", "display_name": "Bill Karwin", "link": "https://stackoverflow.com/users/20860/bill-karwin"}, "reply_to_user": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1525281039, "post_id": 50140057, "comment_id": 87298348, "body": "@rory.ap I think that is true of nearly all Stack Overflow SQL questions."}, {"owner": {"reputation": 85, "user_id": 9698997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64f1e4100aa1ab21a56a98823fe35c?s=128&d=identicon&r=PG&f=1", "display_name": "cojac", "link": "https://stackoverflow.com/users/9698997/cojac"}, "reply_to_user": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1525281053, "post_id": 50140057, "comment_id": 87298351, "body": "@rory.ap I run this locally on my machine, this app will never pushed online"}, {"owner": {"reputation": 458695, "user_id": 20860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=128&g=1", "display_name": "Bill Karwin", "link": "https://stackoverflow.com/users/20860/bill-karwin"}, "edited": false, "score": 0, "creation_date": 1525281094, "post_id": 50140057, "comment_id": 87298372, "body": "@cojac, It doesn&#39;t matter if it&#39;s online, you can SQL injection yourself. Not all SQL injection problems are due to malicious web users."}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1525281117, "post_id": 50140057, "comment_id": 87298381, "body": "@cojac -- That matters not.  Why would you code it the sub-optimal way when it&#39;s so straightforward to use query params?"}, {"owner": {"reputation": 458695, "user_id": 20860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=128&g=1", "display_name": "Bill Karwin", "link": "https://stackoverflow.com/users/20860/bill-karwin"}, "reply_to_user": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 1, "creation_date": 1525281159, "post_id": 50140057, "comment_id": 87298405, "body": "@rory.ap, It&#39;s not possible to use query parameters for table names or column names."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1525281201, "post_id": 50140057, "comment_id": 87298419, "body": "Also what you have posted wouldn&#39;t even compile, this is why we usually use <code>string.Format</code> or string interpolation to build short strings like this."}, {"owner": {"reputation": 21283, "user_id": 796085, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/o27aB.png?s=128&g=1", "display_name": "Tommaso Belluzzo", "link": "https://stackoverflow.com/users/796085/tommaso-belluzzo"}, "edited": false, "score": 0, "creation_date": 1525281211, "post_id": 50140057, "comment_id": 87298425, "body": "I see a missing string concatenation: <code>WHERE &quot; + column &quot; = @&quot; + column</code>. The <code>+</code> is missing after the first column reference."}, {"owner": {"reputation": 85, "user_id": 9698997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64f1e4100aa1ab21a56a98823fe35c?s=128&d=identicon&r=PG&f=1", "display_name": "cojac", "link": "https://stackoverflow.com/users/9698997/cojac"}, "reply_to_user": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1525281243, "post_id": 50140057, "comment_id": 87298448, "body": "@rory.ap I know, but please don&#39;t go off topic, my question is not about security"}, {"owner": {"reputation": 31066, "user_id": 2704659, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wObcB.jpg?s=128&g=1", "display_name": "rory.ap", "link": "https://stackoverflow.com/users/2704659/rory-ap"}, "edited": false, "score": 0, "creation_date": 1525460303, "post_id": 50140057, "comment_id": 87380272, "body": "@cojac -- It&#39;s like if I said &quot;WARNING: EXPLOSION RISK!!!&quot; to a guy who was holding a lit match and a bottle of gasoline asking about why he can&#39;t seem to fit the match into the bottle.  It doens&#39;t matter what the topic is: people could come across this question on this public site, and they should be made well aware that there is a major risk in the code you have provided."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 9698997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64f1e4100aa1ab21a56a98823fe35c?s=128&d=identicon&r=PG&f=1", "display_name": "cojac", "link": "https://stackoverflow.com/users/9698997/cojac"}, "edited": false, "score": 0, "creation_date": 1525281479, "post_id": 50140142, "comment_id": 87298587, "body": "Thank you Bill, this was the problem that afflicted me for hours, I&#39;m grateful. Wish you a good day :)"}], "tags": [], "owner": {"reputation": 458695, "user_id": 20860, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=128&g=1", "display_name": "Bill Karwin", "link": "https://stackoverflow.com/users/20860/bill-karwin"}, "is_accepted": true, "score": 3, "last_activity_date": 1525281212, "creation_date": 1525281212, "answer_id": 50140142, "question_id": 50140057, "link": "https://stackoverflow.com/questions/50140057/syntax-error-in-query-but-query-is-correct/50140142#50140142", "title": "Syntax error in query but query is correct", "body": "<p>See <a href=\"https://dev.mysql.com/doc/refman/5.7/en/keywords.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.7/en/keywords.html</a></p>\n\n<p><code>MATCH</code> is a reserved keyword in MySQL.</p>\n\n<p>You can use reserved words as identifiers only if you enclose them in delimiters. MySQL's default delimiter for identifiers is the back-tick.</p>\n\n<p>See <a href=\"https://dev.mysql.com/doc/refman/5.7/en/identifiers.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/5.7/en/identifiers.html</a></p>\n"}], "owner": {"reputation": 85, "user_id": 9698997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a64f1e4100aa1ab21a56a98823fe35c?s=128&d=identicon&r=PG&f=1", "display_name": "cojac", "link": "https://stackoverflow.com/users/9698997/cojac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1525281242, "accepted_answer_id": 50140142, "answer_count": 1, "score": 2, "last_activity_date": 1525281212, "creation_date": 1525280908, "last_edit_date": 1525281008, "question_id": 50140057, "link": "https://stackoverflow.com/questions/50140057/syntax-error-in-query-but-query-is-correct", "closed_reason": "Duplicate", "title": "Syntax error in query but query is correct", "body": "<p>I wrote a general method to search if a value exists in a specific table, the method is really simple:</p>\n\n<pre><code>public bool CheckRecordExist(int id, string tableName, string column)\n{\n    string connection = string.Format(\"Server=localhost; database={0}; UID=root; password=root; SslMode=none; CharSet=utf8;\", \"myDb\");\n    MySqlConnection conn = new MySqlConnection(connection);\n\n    string query = \"SELECT * FROM \" + tableName + \" WHERE \" + column \" = @\" + column;\n    MySqlCommand = new MySqlCommand(query, conn);\n    MySqlCommand.Parameters.AddWithValue(\"@\" + column, id);\n\n   return Convert.ToBoolean(MySqlCommand.ExecuteScalar());\n}\n</code></pre>\n\n<p>Suppose I want check if the record with id <code>2538782</code> exist on the table match, I do:</p>\n\n<pre><code>CheckRecordExist(2538782, \"match\", \"id\");\n</code></pre>\n\n<p>so the <code>query</code> variable will be:</p>\n\n<pre><code>SELECT * FROM match WHERE id = @id\n</code></pre>\n\n<p>if I run this in <code>PhpMyAdmin</code>, replacing the <code>id</code> with the value, I'll get the correct response, but inside my app I'll get:</p>\n\n<blockquote>\n  <p>MySql.Data.MySqlClient.MySqlException: 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'match WHERE id = 2538782' at line 1'</p>\n</blockquote>\n\n<p>what is wrong?</p>\n"}, {"tags": ["c#", "firebase", "xamarin", "firebase-realtime-database"], "answers": [{"tags": [], "owner": {"reputation": 195, "user_id": 7043483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1382715298421275/picture?type=large", "display_name": "John", "link": "https://stackoverflow.com/users/7043483/john"}, "is_accepted": true, "score": 0, "last_activity_date": 1525284443, "creation_date": 1525284443, "answer_id": 50140968, "question_id": 50140004, "link": "https://stackoverflow.com/questions/50140004/how-to-update-the-database/50140968#50140968", "title": "How to update the database?", "body": "<p>From Your Code it seems like you're creating a DB instance in the onCreate and inputing data in same onCreate method. I can't see how your db is implemented or what kind of db it is, but i would suggest you input your notification in the Db in the OnMessageReceived handler which is called every-time you receive a new notification and not in your onCreate because onCreate is called sparingly and due to certain device configurations like orientation changes.</p>\n"}], "owner": {"reputation": 13, "user_id": 9698624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7c35c1d26db40247ed048d642610b45?s=128&d=identicon&r=PG&f=1", "display_name": "\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 ", "link": "https://stackoverflow.com/users/9698624/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d0%bc%d0%b8%d1%80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 50140968, "answer_count": 1, "score": 0, "last_activity_date": 1525338086, "creation_date": 1525280691, "last_edit_date": 1525338086, "question_id": 50140004, "link": "https://stackoverflow.com/questions/50140004/how-to-update-the-database", "title": "How to update the database?", "body": "<p>I have an application that accepts push notifications. I have to write the push notifications to the database. The problem is that in the database it writes only the last message (after I re-enter the application) and when the application is in the background and when in the foreground. What can be done to keep the database up-to-date when new data arrives?</p>\n\n<p>I accept push, after which I write its data into variables</p>\n\n<pre><code>      [Service]\n\n   [IntentFilter(new[] { \"com.google.firebase.MESSAGING_EVENT\" })]\n    public class MyFirebaseMessagingService : FirebaseMessagingService\n    {\n\n        const string TAG = \"MyFirebaseMsgService\";\n\n        public override void HandleIntent(Intent intent)\n        {\n            try\n            {\n                if (intent.Extras != null)\n                {\n                    var builder = new RemoteMessage.Builder(\"MyFirebaseMessagingService\");\n\n                    foreach (string key in intent.Extras.KeySet())\n                    {\n                        builder.AddData(key, intent.Extras.Get(key).ToString());\n                    }\n\n                    this.OnMessageReceived(builder.Build());\n                }\n                else\n                {\n                    base.HandleIntent(intent);\n\n                }\n            }\n            catch (Exception)\n            {\n                base.HandleIntent(intent);\n            }\n        }\n\n        public override void OnMessageReceived(RemoteMessage message)\n        {\n\n            Log.Debug(TAG, \"From: \" + message.From);\n            Log.Debug(TAG, \"Notification Message Body: \" + message.GetNotification().Body);\n            SendNotification(message.GetNotification().Body, message.Data, message.GetNotification().Title);\n           // Here I write the push - notification data into variables\n            X.Instance.title = message.GetNotification().Title;\n            X.Instance.body = message.GetNotification().Body;\n\n        }\n\n        private void OnStartCommand()\n        {\n            throw new NotImplementedException();\n        }\n\n        public class X\n        {\n\n            public static X Instance = new X();\n\n            public  string title;\n            public string body;\n        }\n</code></pre>\n\n<p>Here in this class I fill the database:</p>\n\n<pre><code>[Service]\n[Activity(Label = \"Message\")]\npublic class FormMessageActivity : Activity\n{\n    ListView lstData;\n    List&lt;Message&gt; lstSource = new List&lt;Message&gt;();\n     DataBase db;\n\n\n    protected override void OnCreate(Bundle savedInstanceState)\n    {\n        base.OnCreate(savedInstanceState);\n        SetContentView(Resource.Layout.FormMessage);\n        db = new DataBase();\n        db.CreateDataBase();\n        lstData = FindViewById&lt;ListView&gt;(Resource.Id.listView);\n        Message message = new Message()\n        {\n            //And here I add to the database\n            Some = MyFirebaseMessagingService.X.Instance.title,\n            Notification = MyFirebaseMessagingService.X.Instance.body\n        };\n        if (message.Notification != null)\n        {\n            db.InsertIntoTableMessage(message);\n            LoadData();\n        }\n\n        LoadData();\n        lstData.ItemClick += (s, e) =&gt;\n        {\n            //Set background for selected item\n            for (int i = 0; i &lt; lstData.Count; i++)\n            {\n                if (e.Position == i) StartActivity(typeof(MessageActivity));\n\n            }\n        };\n    }\n   public void LoadData()\n    {\n        lstSource = db.SelectTableMessage();\n        var adapter = new ListViewAdapter(this, lstSource);\n        lstData.Adapter = adapter;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "reactjs", "safari", "redux"], "answers": [{"tags": [], "owner": {"reputation": 1077, "user_id": 4553797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22ed32fd1b8eda2d54a5f20c8135db13?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Thakur", "link": "https://stackoverflow.com/users/4553797/yash-thakur"}, "is_accepted": false, "score": 0, "last_activity_date": 1525282730, "creation_date": 1525282730, "answer_id": 50140538, "question_id": 50139939, "link": "https://stackoverflow.com/questions/50139939/redirect-replace-url-safari/50140538#50140538", "title": "Redirect / replace URL Safari", "body": "<p>Use <code>history.push();</code> or <code>history.replace();</code> or <code>dispatch(push(\"url here\"));</code></p>\n"}], "owner": {"reputation": 1398, "user_id": 2890876, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/w1GaW.jpg?s=128&g=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/2890876/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1525282730, "creation_date": 1525280439, "last_edit_date": 1525282497, "question_id": 50139939, "link": "https://stackoverflow.com/questions/50139939/redirect-replace-url-safari", "title": "Redirect / replace URL Safari", "body": "<p>For the life of me, I cant seem to figure this out (I'm sure I will kick myself once an answer gets posted and it works immediately)</p>\n\n<p>I am trying to redirect a user once they click <code>Logout</code> (Sounds simple, I know). But this just refuses to redirect or go anywhere in <code>Safari 11</code>, it works in almost every other browser I have tested.</p>\n\n<p>I am using <code>ReactJs</code> which will call an <code>action</code>. See code below:</p>\n\n<p><strong>On the <code>JSX</code> page:</strong></p>\n\n<pre><code>    logout(e) {\n    e.currentTarget.className += \"preventDoubleClick\";\n    this.props.logout();\n} //This pretty much just calls my action.\n</code></pre>\n\n<p><strong>Then my <code>action</code> looks like this:</strong></p>\n\n<pre><code>actions.logoutUser = function () {\n\n    return dispatch =&gt; {\n        dispatch(actions.sendUserDataToSegment(\"Logout\")); //Dont worry about me, im for tracking\n        window.location.replace(\"/Auth/Logout\");\n       return Promise.resolve();\n\n    }\n};\n</code></pre>\n\n<p>Every article / forum I have read says that I should avoid using <code>window.location.replace</code> as this doesn't work, but everything I try to substitute it with, doesn't work either.</p>\n\n<p>Pleaaaaassseeee help me, I am going insane with this simple thing. Also, let me know if I need to clarify anything further in this question.</p>\n\n<p><strong>EDIT:</strong> If I manually enter the <code>https://0edca8c6.ngrok.io/Auth/Logout</code> into the address bar on Safari, it hits my controllers and redirects :/ </p>\n\n<p>Thanks in advance for your time!</p>\n\n<p>Mike</p>\n"}]