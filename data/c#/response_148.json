[{"tags": ["c#", "sql", "asp.net"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1510185687, "post_id": 47191756, "comment_id": 81332867, "body": "A scalar is a single result. You want <a href=\"https://msdn.microsoft.com/en-us/library/9kcbe65k(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ExecuteReader()</a> instead. There&#39;s an example of how to use it at the bottom of that linked-to page."}, {"owner": {"reputation": 311, "user_id": 7847549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-TaigDZz5ueY/AAAAAAAAAAI/AAAAAAAAC8Q/HFnB851yKMs/photo.jpg?sz=128", "display_name": "SlothGod", "link": "https://stackoverflow.com/users/7847549/slothgod"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1510186017, "post_id": 47191756, "comment_id": 81332958, "body": "Thanks so much, if you want to provide this as an answer, I&#39;d be happy to mark it as answer : )"}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 1, "creation_date": 1510186465, "post_id": 47191756, "comment_id": 81333084, "body": "<a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">Beware of little bobby tables.</a> Use parameterized queries."}], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 7847549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-TaigDZz5ueY/AAAAAAAAAAI/AAAAAAAAC8Q/HFnB851yKMs/photo.jpg?sz=128", "display_name": "SlothGod", "link": "https://stackoverflow.com/users/7847549/slothgod"}, "edited": false, "score": 0, "creation_date": 1510204903, "post_id": 47192034, "comment_id": 81337845, "body": "The data used in the string is retrieved from an API using purely code behind, would SQL injection still be an issue in this case?"}, {"owner": {"reputation": 139, "user_id": 2997367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YPEIb.jpg?s=128&g=1", "display_name": "SniperLegacy", "link": "https://stackoverflow.com/users/2997367/sniperlegacy"}, "reply_to_user": {"reputation": 311, "user_id": 7847549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-TaigDZz5ueY/AAAAAAAAAAI/AAAAAAAAC8Q/HFnB851yKMs/photo.jpg?sz=128", "display_name": "SlothGod", "link": "https://stackoverflow.com/users/7847549/slothgod"}, "edited": false, "score": 0, "creation_date": 1510245668, "post_id": 47192034, "comment_id": 81363276, "body": "There&#39;s always a way to compromise a system. Not knowing your current system architecture I would still recommend using parameterized queries. Better safe than sorry."}], "tags": [], "owner": {"reputation": 139, "user_id": 2997367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YPEIb.jpg?s=128&g=1", "display_name": "SniperLegacy", "link": "https://stackoverflow.com/users/2997367/sniperlegacy"}, "is_accepted": true, "score": 3, "last_activity_date": 1510187535, "creation_date": 1510187535, "answer_id": 47192034, "question_id": 47191756, "link": "https://stackoverflow.com/questions/47191756/return-numerous-sql-results-to-c-array/47192034#47192034", "title": "Return numerous SQL results to C# array", "body": "<p>ExecuteScalar is for single result, you will need to use <a href=\"https://msdn.microsoft.com/en-us/library/9kcbe65k(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ExecuteReader</a> instead.</p>\n\n<p>Also as a side note, you should never use variables to perform a query because of an attack called SQLI or <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">SQL Injection</a>. Here is a link with some examples on <a href=\"https://msdn.microsoft.com/library/bb738521(v=vs.100).aspx\" rel=\"nofollow noreferrer\">how to execute parameterized queries</a>.</p>\n"}], "owner": {"reputation": 311, "user_id": 7847549, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-TaigDZz5ueY/AAAAAAAAAAI/AAAAAAAAC8Q/HFnB851yKMs/photo.jpg?sz=128", "display_name": "SlothGod", "link": "https://stackoverflow.com/users/7847549/slothgod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "accepted_answer_id": 47192034, "answer_count": 1, "score": 2, "last_activity_date": 1510187535, "creation_date": 1510185406, "last_edit_date": 1510185718, "question_id": 47191756, "link": "https://stackoverflow.com/questions/47191756/return-numerous-sql-results-to-c-array", "title": "Return numerous SQL results to C# array", "body": "<p>I have seen a few questions asked about this kind of thing already, but whenever I try anything it just doesn't work with this exact instance. I have a remote SQL SERVER database set up, and it has over 2000 rows.</p>\n\n<p>This is my C#:</p>\n\n<pre><code>command.Connection = connectionString;\ncommand.CommandType = CommandType.Text;\ncommand.CommandText = \"SELECT IconUrl FROM Items WHERE DefIndex IN \" + iconSqlString;\nconnection.Open();\nstring iconString = command.ExecuteScalar().ToString();\nconnection.Close();\n</code></pre>\n\n<p>I do have the SqlConnection set up and all that, I just don't think it is necessary to be included.</p>\n\n<p>iconSqlString is in the format of <code>(32, 126, 68)</code>. The string has over 150 items and is different each time. I need to return the IconUrl for all items in the string. The current query for some reason only returns on IconUrl, for the item with the value of 35 in the 51st position (out of 196). I know that the iconString is in the format of a string, but it is only for testing purposes, I was expecting it to have returned all the results, separated by commas or something else. I wish to return all the values possible to an array, to be called later with something like sqlItem[5]. How would I do this?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "inheritance"], "comments": [{"owner": {"reputation": 410, "user_id": 819338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99c85d0b8bce84528dbc6a9aba270856?s=128&d=identicon&r=PG", "display_name": "theoretical", "link": "https://stackoverflow.com/users/819338/theoretical"}, "edited": false, "score": 0, "creation_date": 1510189686, "post_id": 47191711, "comment_id": 81333916, "body": "Sample code would be helpful to be able to understand your hierarchy and to identify where you are getting a null object. I&#39;m guessing the problem is model binding though and the solution would be to using custom model binding. Microsoft doc: <a href=\"https://docs.microsoft.com/en-us/aspnet/core/mvc/advanced/custom-model-binding\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/mvc/advanced/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 2286788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BI5Y8.jpg?s=128&g=1", "display_name": "chandrabhan", "link": "https://stackoverflow.com/users/2286788/chandrabhan"}, "edited": false, "score": 0, "creation_date": 1510283039, "post_id": 47192238, "comment_id": 81379485, "body": "Thank you Craig for your prompt reply. I have added my codes, please have a look."}, {"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "reply_to_user": {"reputation": 25, "user_id": 2286788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BI5Y8.jpg?s=128&g=1", "display_name": "chandrabhan", "link": "https://stackoverflow.com/users/2286788/chandrabhan"}, "edited": false, "score": 0, "creation_date": 1510331846, "post_id": 47192238, "comment_id": 81404944, "body": "From what I can see you should not be using inheritance but rather a view-model. It does not seem like an ItemDetail &quot;is-a&quot; PurchaseDetail (which is the litmus test for inheritance). Change your model and see if you still have a problem."}], "tags": [], "owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1510189094, "creation_date": 1510189094, "answer_id": 47192238, "question_id": 47191711, "link": "https://stackoverflow.com/questions/47191711/passing-multiple-class-objects-to-razor-view-through-controller-in-mvc-asp-net/47192238#47192238", "title": "Passing multiple class objects to razor view through controller in mvc, asp.net", "body": "<p>Without seeing the class definitions in question it's hard to answer definitively, but it sounds like what you've got is an Order Header/Order Line type relationship. If that's the case, using inheritance is absolutely the wrong approach for solving this. You should use a view model that encapsulates the other two objects and pass that. Something like:</p>\n\n<pre><code>public class OrderViewModel\n{\n    public PurchaseDetail PurchaseDetail { get; set; }\n    public ItemDetail ItemDetail { get; set; }\n}\n</code></pre>\n\n<p>Or, if there could be many <code>ItemDetail</code>s for a single <code>PurchaseDetail</code>:</p>\n\n<pre><code>public class OrderViewModel\n{\n    public PurchaseDetail PurchaseDetail { get; set; }\n    public IEnumerable&lt;ItemDetail&gt; ItemDetails { get; set; }\n}\n</code></pre>\n\n<p>Alternatively, you could have the view model pass only the properties of interest to the view. Again, without seeing the definition of the classes it's hard to be more specific.</p>\n"}], "owner": {"reputation": 25, "user_id": 2286788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BI5Y8.jpg?s=128&g=1", "display_name": "chandrabhan", "link": "https://stackoverflow.com/users/2286788/chandrabhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1242, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1510282982, "creation_date": 1510185134, "last_edit_date": 1510282982, "question_id": 47191711, "link": "https://stackoverflow.com/questions/47191711/passing-multiple-class-objects-to-razor-view-through-controller-in-mvc-asp-net", "title": "Passing multiple class objects to razor view through controller in mvc, asp.net", "body": "<p>I am trying to perform CRUD operations on two classes <code>PurchaseDetail</code> and <code>ItemDetail</code>. Made <code>PurchaseDetail</code> a base class and <code>ItemDetail</code> as child class. So on a single razor view I am passing the child class object. Now when I'm performing CRUD operation on child class everything works fine. But when trying the same with base class I'm getting null object while adding data by calling a create(ItemDetail obj), on HttpPost.</p>\n\n<p>Any solution for this? Is it a good practice to pass multiple classes to a view by using inheritance?</p>\n\n<p>Edit\nElaboration:</p>\n\n<pre><code>public class PurchaseDetail\n{\n    public int ID { get; set; }\n\n    [Required]\n    [Display(Name = \"PPRF Name\")]\n    public string pprfName { get; set; }\n    public int DepartmentID { get; set; }\n\n    [Display(Name =\"Department\")]\n    public string DepartmentName { get; set; }\n    public int DepartmentSerial { get; set; }\n    public List&lt;SelectListItem&gt; MaterialTypes { get; set; }\n</code></pre>\n\n<p>Above class is my base class with few properties. Then Below is my child class.</p>\n\n<pre><code>public class ItemDetail: PurchaseDetail\n{\n    public int ItemID { get; set; }\n    public int ItemCategoryID { get; set; }\n    public string ItemCategoryName { get; set; }\n    public int ProductID { get; set; }\n</code></pre>\n\n<p>If I would take both in different pages there was not any problem. But I want to pass both class onto same view so I went for Inheritance. I am popping up form for ItemDetail from the same view, to add an item.</p>\n\n<pre><code>@model AIIMSINTRANET.Models.ItemDetail\n</code></pre>\n\n<p>Firstly I am inserting ItemDetail by using Ajax call. Here things are working fine. </p>\n\n<pre><code>public JsonResult Add(ItemDetail item)\n{ \n    //Insert Logic\n}\n</code></pre>\n\n<p>After this I want to insert PurchaseDetail in it's respective table. Since the view was same so every fields like TextBox, Dropdowns were filled while calling this method.</p>\n\n<pre><code> public ActionResult Create()\n    {\n        ItemDetail obj = new ItemDetail(); \n\n        obj.DeptIndentNo = GetIndentNumber2();\n        obj.IndentDate = DateTime.Now.Date;\n        obj.MaterialTypes = PurchaseProposalDO.PopulateMaterialType();\n        //Initialized all other fields \n     }\n</code></pre>\n\n<p>Even fields like DropDown of ItemDetail class got populated during above function call. Now when I am submitting the form to Insert PurchaseDetail, it calls below function:</p>\n\n<pre><code>    [HttpPost]\n    public ActionResult Create(ItemDetail obj)\n    {\n        // Insert Logic Here\n    }\n</code></pre>\n\n<p>Now here is my problem. Why am I getting obj as null ?\nEven when I am inputting everything.</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt;model.pprfName, htmlAttributes: new { @class = \"control-label col-md-2\" })\n        &lt;div class=\"col-md-10\"&gt;\n            @Html.EditorFor(model =&gt;model.pprfName, new { htmlAttributes = new { @class = \"form-control\" } })\n            @Html.ValidationMessageFor(model =&gt; model.pprfName, \"\", new { @class = \"text-danger\" })\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 5, "creation_date": 1510185687, "post_id": 47191701, "comment_id": 81332866, "body": "Don&#39;t. Users choose poorly. Use the task parallel library, and have it decide how much parallelism to use.  It&#39;s good at that. Typically you want to add threads until every processor is servicing exactly one thread and those threads are going flat out 100% all the time; the TPL will try to adjust to meet those conditions when given CPU-heavy tasks."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1510185759, "post_id": 47191701, "comment_id": 81332891, "body": "Also, I note that using threads correctly is one of the hardest tasks in modern programming, and you are having some difficulty with having the user input a number, which indicates to me you&#39;re a beginner. This is probably not a suitable task for a beginner."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1510187045, "post_id": 47191701, "comment_id": 81333256, "body": "You should also keep in mind that unless <code>doStuff</code> is processor intensive then you won&#39;t get a huge benefit from multiple tasks/threads. You should measure your processing time with different numbers of tasks running and see what benefit, if any, you get."}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 8810594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f328824a4e8a28de0f0e536503d4045?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phanie Autire", "link": "https://stackoverflow.com/users/8810594/st%c3%a9phanie-autire"}, "edited": false, "score": 0, "creation_date": 1510185420, "post_id": 47191729, "comment_id": 81332799, "body": "Thanks for your fast response, so if I understand it correctly, &#39;j&#39; will be the user choosed threads, right ?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 129, "user_id": 8810594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f328824a4e8a28de0f0e536503d4045?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phanie Autire", "link": "https://stackoverflow.com/users/8810594/st%c3%a9phanie-autire"}, "edited": false, "score": 0, "creation_date": 1510185680, "post_id": 47191729, "comment_id": 81332864, "body": "No, <code>n</code> is the number of threads (and the number of array elements). There is no <code>j</code>."}, {"owner": {"reputation": 129, "user_id": 8810594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f328824a4e8a28de0f0e536503d4045?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phanie Autire", "link": "https://stackoverflow.com/users/8810594/st%c3%a9phanie-autire"}, "edited": false, "score": 0, "creation_date": 1510186527, "post_id": 47191729, "comment_id": 81333107, "body": "Thanks a lot, my program will need to read each line of a text file and start a thread for each, imagine the text file contains 100 lines, will the threads continue creating and the program will only stop when it will have executed the task for all the lines, or will it only read the first 10 lines if the user choose 10 threads ? Thanks"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 129, "user_id": 8810594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f328824a4e8a28de0f0e536503d4045?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phanie Autire", "link": "https://stackoverflow.com/users/8810594/st%c3%a9phanie-autire"}, "edited": false, "score": 0, "creation_date": 1510187408, "post_id": 47191729, "comment_id": 81333350, "body": "That would depend on how you program the rest of your problem."}, {"owner": {"reputation": 129, "user_id": 8810594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f328824a4e8a28de0f0e536503d4045?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phanie Autire", "link": "https://stackoverflow.com/users/8810594/st%c3%a9phanie-autire"}, "edited": false, "score": 0, "creation_date": 1510188039, "post_id": 47191729, "comment_id": 81333504, "body": "I&#39;m gonna make an other question."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 2, "creation_date": 1510188591, "post_id": 47191729, "comment_id": 81333662, "body": "A Task is not a 1:1 to a thread.   All you are doing is limiting <i>how many tasks</i> are created at a time not <i>threads</i>. You might fire up 4 tasks but due to the CPU specs, only 2 run at a time.  <a href=\"https://blogs.msdn.microsoft.com/benwilli/2015/09/10/tasks-are-still-not-threads-and-async-is-not-parallel/\" rel=\"nofollow noreferrer\">blogs.msdn.microsoft.com/benwilli/2015/09/10/&hellip;</a>"}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 2, "last_activity_date": 1510185260, "creation_date": 1510185260, "answer_id": 47191729, "question_id": 47191701, "link": "https://stackoverflow.com/questions/47191701/make-user-choose-how-many-threads-he-want/47191729#47191729", "title": "Make user choose how many threads he want?", "body": "<p>This seems like an ideal use of arrays:</p>\n\n<pre><code>static void Main(string[] args) {\n    var tasks = new Task[n];\n    for (int j1 = 0; j1 &lt; n; ++j1)\n        tasks[j1] = Task.Factory.StartNew(() =&gt; doStuff());\n\n    Task.WaitAll(tasks);\n            Console.WriteLine(\"Done !\");\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8910343, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/5e45be8e2efe0e0f4930a82d8b858307?s=128&d=identicon&r=PG", "display_name": "Starscream", "link": "https://stackoverflow.com/users/8910343/starscream"}, "is_accepted": false, "score": -1, "last_activity_date": 1510185333, "creation_date": 1510185333, "answer_id": 47191739, "question_id": 47191701, "link": "https://stackoverflow.com/questions/47191701/make-user-choose-how-many-threads-he-want/47191739#47191739", "title": "Make user choose how many threads he want?", "body": "<p>Maybe you should use an Array with the Length the user wants and you just initalize every Element of the Array with your Task.Factory.StartNew(()); ? Hope this helps a bit ^^</p>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 8810594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f328824a4e8a28de0f0e536503d4045?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phanie Autire", "link": "https://stackoverflow.com/users/8810594/st%c3%a9phanie-autire"}, "edited": false, "score": 0, "creation_date": 1510186386, "post_id": 47191834, "comment_id": 81333063, "body": "Thanks a lot, my program will need to read each line of a text file and start a thread for each, imagine the text file contains 100 lines, will the threads continue creating and the program will only stop when it will have executed the task for all the lines, or will it only read the first 10 lines if the user choose 10 threads ? Thanks"}, {"owner": {"reputation": 9919, "user_id": 599180, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/afdc79c6e1d9fe76cd075fb1cf50f15f?s=128&d=identicon&r=PG", "display_name": "Sean B", "link": "https://stackoverflow.com/users/599180/sean-b"}, "edited": false, "score": 0, "creation_date": 1510189141, "post_id": 47191834, "comment_id": 81333812, "body": "Enumerable.Range() returns IEnumerable&lt;int&gt;"}], "tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1510187099, "last_edit_date": 1510187099, "creation_date": 1510185971, "answer_id": 47191834, "question_id": 47191701, "link": "https://stackoverflow.com/questions/47191701/make-user-choose-how-many-threads-he-want/47191834#47191834", "title": "Make user choose how many threads he want?", "body": "<p>The simplest approach would be to allow the user to enter the number of threads as a command-line argument. </p>\n\n<pre><code>int numberOfThreads = int.Parse(args[0]);\n</code></pre>\n\n<p>In this example I use <code>Enum.Range</code> to generate an IEnumerable with the right number of elements, then use LINQ to start the tasks.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    int numberOfThreads = int.Parse(args[0]);\n    Task.WaitAll(\n        Enum.Range(0, numberOfThreads)\n            .Select(\n                Task.Factory.StartNew(() =&gt; doStuff())\n            )\n            .ToArray()\n        )\n    );\n    Console.WriteLine(\"Done !\");\n}\n</code></pre>\n\n<p>Or you could just use <a href=\"https://msdn.microsoft.com/en-us/library/dd781401(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Parallel.For</code></a>, depending if you really need to have those Tasks.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    int numberOfThreads = int.Parse(args[0]);\n\n    Parallel.For(1, numberOfThreads, (i) =&gt; doStuff());\n    Console.WriteLine(\"Done !\");\n}\n</code></pre>\n\n<p>If you need more iterations but want to limit the number of threads, you can use <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.tasks.paralleloptions(v=vs.110).aspx\" rel=\"nofollow noreferrer\">ParallelOptions</a>. In this example I allow for 100 iterations, but only using the number of threads specified by the user.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    int numberOfThreads = int.Parse(args[0]);\n\n    Parallel.For(\n        1, \n        100, \n        new ParallelOptions\n        {\n            MaxDegreeOfParallelism = numberOfThreads\n        },\n        (i) =&gt; doStuff()\n    );\n    Console.WriteLine(\"Done !\");\n}\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 8810594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f328824a4e8a28de0f0e536503d4045?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phanie Autire", "link": "https://stackoverflow.com/users/8810594/st%c3%a9phanie-autire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "closed_date": 1510194581, "answer_count": 3, "score": 4, "last_activity_date": 1510187099, "creation_date": 1510185086, "question_id": 47191701, "link": "https://stackoverflow.com/questions/47191701/make-user-choose-how-many-threads-he-want", "closed_reason": "Duplicate", "title": "Make user choose how many threads he want?", "body": "<p>I'm trying to make a C# tool where the user can choose how many threads he want for the tool to execute at the same time.\nSo for example he put \"10\" in the threadsTextBox so when he will click the startButton the program will start and will execute the needed task on 10 threads at the same time.</p>\n\n<p>Here is the current code I have for 3 threads, but I don't know how to make the user able to choose how many threads he want the program to use.</p>\n\n<pre><code>static void Main(string[] args)\n{\n    Task task1 = Task.Factory.StartNew(() =&gt; doStuff());\n    Task task2 = Task.Factory.StartNew(() =&gt; doStuff());\n    Task task3 = Task.Factory.StartNew(() =&gt; doStuff());\n\n    Task.WaitAll(task1, task2, task3);\n            Console.WriteLine(\"Done !\");\n}\n\nstatic void doStuff()\n{\n    // do stuff here\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "visual-studio-2015", "ssis"], "comments": [{"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1510185186, "post_id": 47191647, "comment_id": 81332746, "body": "It would be more helpful if you showed your code instead. Your explanation is ok, but you may be missing something in the translation."}, {"owner": {"reputation": 946, "user_id": 4925487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h_P8MR61Dmc/AAAAAAAAAAI/AAAAAAAAABE/KBLTx9Sl_k8/photo.jpg?sz=128", "display_name": "siddhartha jain", "link": "https://stackoverflow.com/users/4925487/siddhartha-jain"}, "edited": false, "score": 0, "creation_date": 1510202664, "post_id": 47191647, "comment_id": 81337128, "body": "if you want to run the script task for each loop then include that into foreach"}, {"owner": {"reputation": 2768, "user_id": 5470214, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dkV25.png?s=128&g=1", "display_name": "Prabhat G", "link": "https://stackoverflow.com/users/5470214/prabhat-g"}, "edited": false, "score": 0, "creation_date": 1510213256, "post_id": 47191647, "comment_id": 81341401, "body": "Best way to debug such stuff is by using <code>Exec Script Task</code> in for-each loop and print the variables before run: eg: <code>MessageBox.Show(Dts.Variables[&quot;User::variableName&quot;].Value.To&zwnj;&#8203;String());</code>"}, {"owner": {"reputation": 30431, "user_id": 1507566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40b799a199eda9317d64e854c9fc8858?s=128&d=identicon&r=PG", "display_name": "Tab Alleman", "link": "https://stackoverflow.com/users/1507566/tab-alleman"}, "edited": false, "score": 0, "creation_date": 1510233576, "post_id": 47191647, "comment_id": 81354086, "body": "Please show screenshots of your foreach loop properties.   Sounds like you set it up wrong.\\"}, {"owner": {"reputation": 63, "user_id": 5626643, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10207955770392568/picture?type=large", "display_name": "Blake Norwood", "link": "https://stackoverflow.com/users/5626643/blake-norwood"}, "reply_to_user": {"reputation": 30431, "user_id": 1507566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40b799a199eda9317d64e854c9fc8858?s=128&d=identicon&r=PG", "display_name": "Tab Alleman", "link": "https://stackoverflow.com/users/1507566/tab-alleman"}, "edited": false, "score": 0, "creation_date": 1510237065, "post_id": 47191647, "comment_id": 81356745, "body": "@TabAlleman added a screenshot of the properties."}, {"owner": {"reputation": 63, "user_id": 5626643, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10207955770392568/picture?type=large", "display_name": "Blake Norwood", "link": "https://stackoverflow.com/users/5626643/blake-norwood"}, "reply_to_user": {"reputation": 946, "user_id": 4925487, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h_P8MR61Dmc/AAAAAAAAAAI/AAAAAAAAABE/KBLTx9Sl_k8/photo.jpg?sz=128", "display_name": "siddhartha jain", "link": "https://stackoverflow.com/users/4925487/siddhartha-jain"}, "edited": false, "score": 0, "creation_date": 1510237160, "post_id": 47191647, "comment_id": 81356831, "body": "@siddharthajain the loop would still pull both files first, then run the script, thus only pulling in one part number rather than both."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 5626643, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10207955770392568/picture?type=large", "display_name": "Blake Norwood", "link": "https://stackoverflow.com/users/5626643/blake-norwood"}, "is_accepted": true, "score": 0, "last_activity_date": 1510245563, "creation_date": 1510245563, "answer_id": 47207177, "question_id": 47191647, "link": "https://stackoverflow.com/questions/47191647/loop-in-file-extract-file-name-add-name-to-table-repeat-flow-on-each-file/47207177#47207177", "title": "Loop in file, extract file name, add name to table, repeat flow on each file", "body": "<p>I was able to find an answer thanks to this site. <a href=\"https://www.mssqltips.com/sqlservertip/2874/loop-through-flat-files-in-sql-server-integration-services/\" rel=\"nofollow noreferrer\">https://www.mssqltips.com/sqlservertip/2874/loop-through-flat-files-in-sql-server-integration-services/</a></p>\n\n<p>Here is my final flow. The Flat File Source uses a connection string initiated by the Foreach Loop of the file name/location.</p>\n\n<p><a href=\"https://i.stack.imgur.com/T3vDR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T3vDR.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 63, "user_id": 5626643, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/10207955770392568/picture?type=large", "display_name": "Blake Norwood", "link": "https://stackoverflow.com/users/5626643/blake-norwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 387, "favorite_count": 0, "accepted_answer_id": 47207177, "answer_count": 1, "score": 0, "last_activity_date": 1510245585, "creation_date": 1510184771, "last_edit_date": 1510245585, "question_id": 47191647, "link": "https://stackoverflow.com/questions/47191647/loop-in-file-extract-file-name-add-name-to-table-repeat-flow-on-each-file", "title": "Loop in file, extract file name, add name to table, repeat flow on each file", "body": "<p><strong>ANSWER BELOW</strong></p>\n\n<p>I'm having trouble figuring out the correct flow to import each file in a folder, extract the file name, run a script on the file name to use only a portion of the file name, then insert into a master table. </p>\n\n<p>I have all the pieces I need: I'm able to loop through all the files with a Foreach loop and take the file name as a variable. Inside the Foreach container is a Data Flow Task to import the records from a flat file to a SQL table. Move out of the loop and my next step is to run a script to get the part of the file name that I need. Then the last step is a SQL query to run some transformations and move the records to a MasterStageFinal table.</p>\n\n<p>The issue I'm having is the Foreach loop runs each step an equal number of times to the enumerator instead of running each step once and running the entire sequence per enumeration. </p>\n\n<p>So for example, in the folder I have two files, one with 250 records, one with 500. My current flow will insert 1500 records into the database (imports both files twice because of the enumeration) and all with the part number from only one of the files.</p>\n\n<p>So, how would I best solve this? </p>\n\n<p><a href=\"https://i.stack.imgur.com/0KyuW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0KyuW.png\" alt=\"enter image description here\"></a></p>\n\n<p>Foreach Loop Properties</p>\n\n<p><a href=\"https://i.stack.imgur.com/7AEmx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AEmx.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms"], "answers": [{"tags": [], "owner": {"reputation": 1423, "user_id": 726667, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d841727b813112b6008accabb52e7a11?s=128&d=identicon&r=PG", "display_name": "yehe", "link": "https://stackoverflow.com/users/726667/yehe"}, "is_accepted": true, "score": 0, "last_activity_date": 1510184888, "creation_date": 1510184888, "answer_id": 47191671, "question_id": 47191596, "link": "https://stackoverflow.com/questions/47191596/xamarin-forms-messaging-center-not-working/47191671#47191671", "title": "Xamarin Forms Messaging Center Not Working", "body": "<p>Try to remove <code>unsubscribe</code> and swap the order of these two:</p>\n\n<pre><code>await Navigation.PopModalAsync();\nMessagingCenter.Send&lt;Info, string[]&gt;(this, \"nameUpdate\", message);\n</code></pre>\n\n<p>It seems the <code>unsubscribe</code> happens before the <code>send</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 297, "user_id": 10329199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c5fc60c736eed271a6eaf2a4887a9e9?s=128&d=identicon&r=PG&f=1", "display_name": "Mac", "link": "https://stackoverflow.com/users/10329199/mac"}, "is_accepted": false, "score": -2, "last_activity_date": 1551431384, "last_edit_date": 1551431384, "creation_date": 1549288489, "answer_id": 54517653, "question_id": 47191596, "link": "https://stackoverflow.com/questions/47191596/xamarin-forms-messaging-center-not-working/54517653#54517653", "title": "Xamarin Forms Messaging Center Not Working", "body": "<p>If you're new to xamarin like me, <strong>you might give the subscriber's (receiver's) name while you do MessagingCenter.Subscribe &lt; TSender > or Subscribe &lt; TSender, TArgs ></strong> , if incase you use any arguments to pass from sender to the subscriber (receiver) <strong>in the place where you should give sender's name in subscribe syntax</strong></p>\n\n<p>This simple ignorance was hindering the Xamarin Forms Messaging Center from not working as expected. </p>\n\n<blockquote>\n  <p>The API for MessagingCenter is simple:</p>\n</blockquote>\n\n<pre><code>Subscribe&lt;TSender&gt; (object subscriber, string message, Action&lt;TSender&gt; callback, TSender source = null) \nSubscribe&lt;TSender, TArgs&gt; (object subscriber, string message, Action&lt;TSender, TArgs&gt; callback, TSender source = null) \nSend&lt;TSender&gt; (TSender sender, string message) \nSend&lt;TSender, TArgs&gt; (TSender sender, string message, TArgs args) Unsubscribe&lt;TSender, TArgs&gt; (object subscriber, string message) Unsubscribe&lt;TSender&gt; (object subscriber, string message)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6684661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d60f4214edad2f258cd8bdc8dc4676b3?s=128&d=identicon&r=PG&f=1", "display_name": "ajflj", "link": "https://stackoverflow.com/users/6684661/ajflj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3004, "favorite_count": 0, "accepted_answer_id": 47191671, "answer_count": 2, "score": 2, "last_activity_date": 1551431384, "creation_date": 1510184403, "question_id": 47191596, "link": "https://stackoverflow.com/questions/47191596/xamarin-forms-messaging-center-not-working", "title": "Xamarin Forms Messaging Center Not Working", "body": "<p>I am new to C# and Xamarin Forms and am trying to implement Messaging Center in my project. I am trying to push a modal page and then send data from the modal back to the original page. However, it isn't quite working as I expected.</p>\n\n<p>Here is the code from the main page: </p>\n\n<pre><code>MessagingCenter.Subscribe&lt;Info, string[]&gt;(this, \"nameUpdate\", (sender2, name) =&gt;\n        {\n            dataName.Text = name[0];\n        });\n\nawait Navigation.PushModalAsync(new Info(dataName.Text));\n\nMessagingCenter.Unsubscribe&lt;Info, string[]&gt;(this, \"nameUpdate\");\n</code></pre>\n\n<p>And here is the code to execute when a button is pressed on the modal page, where message is a string[]:</p>\n\n<pre><code>await Navigation.PopModalAsync();\nMessagingCenter.Send&lt;Info, string[]&gt;(this, \"nameUpdate\", message);\n</code></pre>\n\n<p>MyPage is the name of the original page, and Info is the name of the page that is being called as a modal. I am not getting any errors, just the statements in the subscribe block are not executing.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 1, "creation_date": 1510184869, "post_id": 47191578, "comment_id": 81332651, "body": "I&#39;m assuming you have downloaded all the necessary .net core 2 installers? I just created a new project using core 2 and it is running fine on 4.6"}, {"owner": {"reputation": 6833, "user_id": 240564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/U17en.png?s=128&g=1", "display_name": "Alexan", "link": "https://stackoverflow.com/users/240564/alexan"}, "edited": false, "score": 2, "creation_date": 1510185091, "post_id": 47191578, "comment_id": 81332712, "body": "<a href=\"https://docs.microsoft.com/en-us/aspnet/core/migration/proper-to-2x/\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/migration/proper-to-2x</a>"}, {"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "edited": false, "score": 0, "creation_date": 1510193290, "post_id": 47191578, "comment_id": 81334739, "body": "How can I check if I have everything installed correctly? I just installed dotnet-sdk-2.0.2-win-gs-x64.exe again, but it just gave me the option to repair or uninstall so I assume I have it installed."}, {"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "reply_to_user": {"reputation": 6833, "user_id": 240564, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/U17en.png?s=128&g=1", "display_name": "Alexan", "link": "https://stackoverflow.com/users/240564/alexan"}, "edited": false, "score": 0, "creation_date": 1510193349, "post_id": 47191578, "comment_id": 81334751, "body": "@Alexan this article is for .NET Core. In .NET Core, it&#39;s simple. You just install the Microsoft.AspNetCore.All package, but this does not work in .NET Framework."}, {"owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1510238249, "post_id": 47191578, "comment_id": 81357661, "body": "Just target .NET Standard 2.0, instead. With .NET Standard 2.0, you can reference virtually any .NET Framework library you might need."}, {"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "reply_to_user": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "edited": false, "score": 0, "creation_date": 1510262990, "post_id": 47191578, "comment_id": 81373122, "body": "@chrispratt that&#39;s doubtful. We need to serve up WCF. Does .net standard now support serving up WCF?"}, {"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "reply_to_user": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1510287052, "post_id": 47191578, "comment_id": 81380484, "body": "@JohanP , you might want to write your suggestion up as answer &quot;I just created a new project using core 2 and it is running fine on 4.6&quot;. You were right. I was able to create a new project from scratch. This is going to suck, but it appears that we will be able to create a new project and migrate all the content in to the new project. If it works, you&#39;ve won the rep."}], "answers": [{"comments": [{"owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "edited": false, "score": 0, "creation_date": 1510288697, "post_id": 47215731, "comment_id": 81380866, "body": "Sorry, what I meant was Download the latest .Net Core 2.0 installers -&gt; Create a new ASP.NET Core 2.0 - .NET Framework Project -&gt; Migrate old content in to new project. Along the way, they will need to fix up broken namespaces and references that Microsoft have changed."}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "reply_to_user": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "edited": false, "score": 0, "creation_date": 1510289254, "post_id": 47215731, "comment_id": 81381008, "body": "My bad, fixed it up"}], "tags": [], "owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "is_accepted": true, "score": 1, "last_activity_date": 1510289177, "last_edit_date": 1510289177, "creation_date": 1510288425, "answer_id": 47215731, "question_id": 47191578, "link": "https://stackoverflow.com/questions/47191578/how-to-upgrade-to-asp-net-core-2-0/47215731#47215731", "title": "How to Upgrade to ASP.NET Core 2.0", "body": "<p>As per @Melbourne Developer's suggestion:</p>\n\n<ol>\n<li><p>Make sure you download the latest <a href=\"https://www.microsoft.com/net/download/windows\" rel=\"nofollow noreferrer\">.Net Core 2.0 installers</a>.</p></li>\n<li><p>Create new ASP.Net Core Web Application</p></li>\n<li><p>Choose .NET Framework from dropdownlist in wizard and ASP.Net Core 2.0</p></li>\n<li><p>Copy content over to new project. Fixing up all namespace issues/compilation errors</p></li>\n</ol>\n"}], "owner": {"reputation": 4651, "user_id": 1878141, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/XYDte.jpg?s=128&g=1", "display_name": "Christian Findlay", "link": "https://stackoverflow.com/users/1878141/christian-findlay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1078, "favorite_count": 0, "accepted_answer_id": 47215731, "answer_count": 1, "score": 2, "last_activity_date": 1510289177, "creation_date": 1510184230, "question_id": 47191578, "link": "https://stackoverflow.com/questions/47191578/how-to-upgrade-to-asp-net-core-2-0", "title": "How to Upgrade to ASP.NET Core 2.0", "body": "<p>I have an ASP.NET Core project. It is .NET Framework based. I have been working with .NET Version 4.6, but am happy to upgrade to 4.6.2 or 4.7. I have both installed on my machine. The referenced NuGet packages are numerous and version numbers varied. But, it seems that roughly speaking, I am using version 1.1.3 of ASP.NET Core. </p>\n\n<p>I want to upgrade to the latest version of ASP.NET Core and ASP.NET Core MVC but every time I try, I get this error message:</p>\n\n<blockquote>\n  <p>Could not install package 'Microsoft.AspNetCore.Mvc.Core 2.0.0'. You\n  are trying to install this package into a project that targets\n  '.NETFramework,Version=v4.7', but the package does not contain any\n  assembly references or content files that are compatible with that\n  framework. For more information, contact the package author.</p>\n</blockquote>\n\n<p>After Googling for this, I came across this disconcerting Github thread:\n<a href=\"https://github.com/aspnet/home/issues/2022\" rel=\"nofollow noreferrer\">https://github.com/aspnet/home/issues/2022</a></p>\n\n<p>This seems to imply that at some point, V2 was not supported by the .NET Framework. I read through the thread to some extent, but these words from another user basically some up my thoughts on the subject:</p>\n\n<blockquote>\n  <p>I really don't know what is happening. Why do have many dotnet this\n  and that. This is really crazy. How do we have keep tracks of this?</p>\n  \n  <p>No proper documentation on migration from one to another.</p>\n</blockquote>\n\n<p>The OP was edited to say this:</p>\n\n<blockquote>\n  <p>Edit: the \"no .NET Framework support for ASP.NET Core 2.0\" plan has\n  been officially cancelled and running ASP.NET Core 2.0 on .NET Desktop\n  will be supported in the next previews. For more information, read\n  Announcing ASP.NET Core 2.0.0-Preview1 and Updates for .NET Web\n  Developers or watch .NET Standard 2.0 and .NET Core 2.0.</p>\n</blockquote>\n\n<p>I guess that means that Microsoft planned to fix the problem at some point. But, what I can't work out is whether or not Microsoft have actually fixed this problem.</p>\n\n<p><strong>Is anyone running ASP.NET Core on .NET Framework? Which .NET version? How did you get it working?</strong></p>\n"}, {"tags": ["c#", "forms", "visual-studio", "drag-and-drop"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1510184184, "post_id": 47191516, "comment_id": 81332461, "body": "I&#39;m guessing by &quot;list&quot; you mean a <code>ListBox</code>?  MouseDown is only half the action for a drag-drop Windows users are familiar with.  Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>; the code inside some of those methods would be more appropriate to show"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 2997367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YPEIb.jpg?s=128&g=1", "display_name": "SniperLegacy", "link": "https://stackoverflow.com/users/2997367/sniperlegacy"}, "is_accepted": true, "score": 0, "last_activity_date": 1510188222, "creation_date": 1510188222, "answer_id": 47192119, "question_id": 47191516, "link": "https://stackoverflow.com/questions/47191516/visual-studio-doesnt-register-dragdrop-function-moving-string-from-one-list-t/47192119#47192119", "title": "Visual Studio doesn&#39;t register &quot;DragDrop&quot; function moving string from one list to another", "body": "<p>I had a similar problem with drag and drop functions. When a drag operation is performed if you don't assign the effect another value it will be at <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.control.dragenter(v=vs.110).aspx\" rel=\"nofollow noreferrer\">None by default</a>.</p>\n\n<p>To change the effect, you can assign it in the DragEnter event handler.</p>\n\n<pre><code>private void yourDragEnterHandler(object sender, DragEventArgs e) \n{\n    e.Effect = DragDropEffects.Move;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8910128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7spQirH8euc/AAAAAAAAAAI/AAAAAAAA8ls/BTYGsKmmXx8/photo.jpg?sz=128", "display_name": "Brandon Smith", "link": "https://stackoverflow.com/users/8910128/brandon-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 47192119, "answer_count": 1, "score": 1, "last_activity_date": 1510188222, "creation_date": 1510183914, "question_id": 47191516, "link": "https://stackoverflow.com/questions/47191516/visual-studio-doesnt-register-dragdrop-function-moving-string-from-one-list-t", "title": "Visual Studio doesn&#39;t register &quot;DragDrop&quot; function moving string from one list to another", "body": "<p><a href=\"https://i.stack.imgur.com/XN5ht.png\" rel=\"nofollow noreferrer\"></a>\nAs the title implies, I have a form that populates three list from uploaded spreadsheets. Each line item is converted into its own string, and the user needs to be able to grab a string, and drag it from one list to another. </p>\n\n<p>While MouseDown registers to grab the string, DragLeave registers to remove the string from its original list, and DragEnter registers to drop the string in a new list, I cannot get DragDrop to work. It is already set up in for the list like so:</p>\n\n<pre><code>this.lstCKWMissingJobs.DragEnter += new System.Windows.Forms.DragEventHandler(this.lstCKWMissingJobs_DragEnter);\nthis.lstCKWMissingJobs.DragDrop += new System.Windows.Forms.DragEventHandler(this.lstCKWMissingJobs_DragDrop);\nthis.lstCKWMissingJobs.DragLeave += new System.EventHandler(this.lstCKWMissingJobs_DragLeave);\nthis.lstCKWMissingJobs.MouseDown += new System.Windows.Forms.MouseEventHandler(this.lstCKWMissingJobs_MouseDown);\n</code></pre>\n"}, {"tags": ["c#", "design-patterns", "notifications", "factory-pattern", "open-closed-principle"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 1, "creation_date": 1510183456, "post_id": 47191360, "comment_id": 81332265, "body": "I think making the sender format a message blindly is a poor choice. What if the constraint of one of the senders is a character limit (let&#39;s say 50 characters, maybe it&#39;s a pager!) How will the sender know which characters to include in the message? The first 50? That might not be ideal for getting the message across. I feel like the responsibility for formatting the message should belong to a type that knows something about the specific message. As another example, maybe one of the senders supports HTML and you want to <b>bold</b> important words. You&#39;ll need that message knowledge to do so."}, {"owner": {"reputation": 45, "user_id": 1577757, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/kgJkc.jpg?s=128&g=1", "display_name": "Omar Olivo", "link": "https://stackoverflow.com/users/1577757/omar-olivo"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1510184872, "post_id": 47191360, "comment_id": 81332654, "body": "@itsme86 this is one of the problem that I am not able to solve. In the case of an email and SMS, they both require a different message. I am having difficulties with the most suitable pattern for this scenario."}], "answers": [{"comments": [{"owner": {"reputation": 39014, "user_id": 1211528, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/88f7b504ba3fffac19860abd3aa7cf91?s=128&d=identicon&r=PG", "display_name": "plalx", "link": "https://stackoverflow.com/users/1211528/plalx"}, "edited": false, "score": 0, "creation_date": 1510190285, "post_id": 47191402, "comment_id": 81334043, "body": "I like the idea but that could become a mess with all these independent subscribers, especially when trying to figure out which messaging channel supports which message. I think there should be at least some kind centralized notification dispatcher, working off abstract notifications (e.g. perhaps just a code and correlation info) rather than leveraging the event dispatch system directly from each channel."}], "tags": [], "owner": {"reputation": 612, "user_id": 8718143, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-MxbhMAREQ7g/AAAAAAAAAAI/AAAAAAAAABM/CZ-pHx7XsWM/photo.jpg?sz=128", "display_name": "Lauraducky", "link": "https://stackoverflow.com/users/8718143/lauraducky"}, "is_accepted": false, "score": 1, "last_activity_date": 1510183317, "creation_date": 1510183317, "answer_id": 47191402, "question_id": 47191360, "link": "https://stackoverflow.com/questions/47191360/what-is-the-most-appropriate-design-pattern-for-a-notification-system-with-multi/47191402#47191402", "title": "What is the most appropriate design pattern for a notification system with multiple delivery channels?", "body": "<p>What comes immediately to mind for me is the <a href=\"https://en.wikipedia.org/wiki/Observer_pattern\" rel=\"nofollow noreferrer\">Observer Pattern</a>. Hope that helps.</p>\n\n<p>Edit:\nYou could separate your message sending from the logic which determines which messages should be sent. To provide a more concrete example of what I'm talking about, try firing an event whenever a message should be sent. Then you can add event subscribers for each message sending type. That code which determines when messages need to be sent never needs to change and each time you add a new type, you just add a new subscriber.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12258422, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC2ra0id_oopLBqDAqIYGG4vtr6vdAuNlvYXJqC=k-s128", "display_name": "Tigran Sargsyan", "link": "https://stackoverflow.com/users/12258422/tigran-sargsyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1617646904, "creation_date": 1617646904, "answer_id": 66957810, "question_id": 47191360, "link": "https://stackoverflow.com/questions/47191360/what-is-the-most-appropriate-design-pattern-for-a-notification-system-with-multi/66957810#66957810", "title": "What is the most appropriate design pattern for a notification system with multiple delivery channels?", "body": "<p>Here I'll use decorator pattern its adds a lot of flexibility related to user settings you may send email sms telegram and so each sender separate decorator also easy to add new senders in future just implement decorator interface with send method</p>\n"}], "owner": {"reputation": 45, "user_id": 1577757, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/kgJkc.jpg?s=128&g=1", "display_name": "Omar Olivo", "link": "https://stackoverflow.com/users/1577757/omar-olivo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1504, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1617646904, "creation_date": 1510183059, "question_id": 47191360, "link": "https://stackoverflow.com/questions/47191360/what-is-the-most-appropriate-design-pattern-for-a-notification-system-with-multi", "title": "What is the most appropriate design pattern for a notification system with multiple delivery channels?", "body": "<p>I am working on a student information where I would like to send notifications based on certain system events. For example, when a student is marked late or absent, the application will notify a list of users(parents, school admins, etc). This notification will be sent using all available methods(SMS,Email) to deliver the message. Each method is responsible for formatting the notification based on its constraints. </p>\n\n<p>Here is a list of some events that will generate a notification:</p>\n\n<ul>\n<li>Assignment marked missing </li>\n<li>Average drops below passing grade Become</li>\n<li>Student gets honor roll</li>\n<li>Perfect attendance for month</li>\n</ul>\n\n<p>I would like the message/notification to be delivered using SMS and Email. In the future, I would like to be able to add new delivery methods without violating the open/close principle.</p>\n\n<p>A similar question <a href=\"https://stackoverflow.com/questions/9735578/building-a-notification-system\">similar question</a>, but it does not mention anything about the design pattern to implement this system. I also looked into <a href=\"https://stackoverflow.com/questions/17760169/which-design-pattern-to-use-for-flexible-message-sending\">this question</a>, but my problem is that each sender method needs to send a custom message.</p>\n\n<p>How can I implement this system such that it will allow me to add new delivery methods and have each delivery method format the notification/message based on its capabilities? What is the most applicable design pattern for this scenario?\nDo I need to use the Factory Pattern to create the message for all the notifications mechanism?</p>\n\n<p>Here is what I have so far...</p>\n\n<pre><code> public class NotificationEmailMessage \n{\n    public string ToEmail { get; set; }\n    public string Subject { get; set; }\n    public string Body { get; set; }\n}\n\npublic class NotificationSMSMessage  \n{\n    public string PhoneNumber { get; set; }\n    public string Message { get; set; }\n}\n\npublic interface INotificationSender\n{\n    void Send();\n}\n\npublic class NotificationEmailSender : INotificationSender\n{\n    public void Send()\n    {\n        System.Diagnostics.Debug.Write(\"Sending Email\");\n    }\n}\n\npublic class NotificationSMSSender : INotificationSender\n{\n    public void Send()\n    {\n        System.Diagnostics.Debug.Write(\"Sending SMS\");\n    }\n}\n\npublic class NotificationMultiSender : INotificationSender\n{\n    public List&lt;INotificationSender&gt; _senders;\n\n    public NotificationMultiSender()\n    {\n        _senders = new List&lt;INotificationSender&gt;();\n    }\n\n    public void Send()\n    {\n        _senders.ForEach(sender =&gt; sender.Send());\n    }\n\n    public void AddSender(INotificationSender sender)\n    {\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xamarin", "xamarin.ios", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 938933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682a23acbcad08d1112fe57abf9a4947?s=128&d=identicon&r=PG&f=1", "display_name": "M&#229;rten", "link": "https://stackoverflow.com/users/938933/m%c3%a5rten"}, "edited": false, "score": 0, "creation_date": 1510212326, "post_id": 47192399, "comment_id": 81340910, "body": "Ok, I haved looked at this blogpost <a href=\"https://www.martinnorin.se/combining-xamarin-forms-with-ios-storyboard/\" rel=\"nofollow noreferrer\">martinnorin.se/combining-xamarin-forms-with-ios-storyboard</a> in which the author seem to have a solution but I cannot make it work, mainly because my ExportRenderer does not have the IntPtr constructor that you mention, do you know if there is a better way to instantiate the storyboard items?"}, {"owner": {"reputation": 8212, "user_id": 10116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a47f1d509ad6ef38f226017c4b285289?s=128&d=identicon&r=PG", "display_name": "Larry OBrien", "link": "https://stackoverflow.com/users/10116/larry-obrien"}, "reply_to_user": {"reputation": 349, "user_id": 938933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682a23acbcad08d1112fe57abf9a4947?s=128&d=identicon&r=PG&f=1", "display_name": "M&#229;rten", "link": "https://stackoverflow.com/users/938933/m%c3%a5rten"}, "edited": false, "score": 0, "creation_date": 1510252814, "post_id": 47192399, "comment_id": 81367610, "body": "Not sure exactly what you&#39;re facing, but it&#39;s common for your custom class to have an <code>IntPtr</code> that calls the <code>base</code> constructor. That&#39;s common when using a custom class in conjunction with Storyboard/NIB deserialization."}, {"owner": {"reputation": 349, "user_id": 938933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682a23acbcad08d1112fe57abf9a4947?s=128&d=identicon&r=PG&f=1", "display_name": "M&#229;rten", "link": "https://stackoverflow.com/users/938933/m%c3%a5rten"}, "edited": false, "score": 0, "creation_date": 1510261079, "post_id": 47192399, "comment_id": 81372220, "body": "<code>PageRenderer</code> which is my base now does not have a constructor that takes an <code>IntPtr</code> so I tried to set base.Handle = handle in the body of my Controllers constructor instead to pass intptr to my base.  This actually gives me a controller with instances of the objects but instead now I get a null reference exception thrown from <code>Xamarin.Forms.Platform.iOS.PageRenderer.ViewDidAppear (System.Boolean animated) [0x0001f] in D:\\agent\\_work\\1\\s\\Xamarin.Forms.Platform.iOS\\Renderers\\Page&zwnj;&#8203;Renderer.cs:76</code>."}, {"owner": {"reputation": 8212, "user_id": 10116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a47f1d509ad6ef38f226017c4b285289?s=128&d=identicon&r=PG", "display_name": "Larry OBrien", "link": "https://stackoverflow.com/users/10116/larry-obrien"}, "reply_to_user": {"reputation": 349, "user_id": 938933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682a23acbcad08d1112fe57abf9a4947?s=128&d=identicon&r=PG&f=1", "display_name": "M&#229;rten", "link": "https://stackoverflow.com/users/938933/m%c3%a5rten"}, "edited": false, "score": 0, "creation_date": 1510261476, "post_id": 47192399, "comment_id": 81372409, "body": "I&#39;m afraid I&#39;m flying a little too blind to suggest anything. Can you either this question or open a new one, showing some code?"}, {"owner": {"reputation": 349, "user_id": 938933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682a23acbcad08d1112fe57abf9a4947?s=128&d=identicon&r=PG&f=1", "display_name": "M&#229;rten", "link": "https://stackoverflow.com/users/938933/m%c3%a5rten"}, "edited": false, "score": 0, "creation_date": 1510268120, "post_id": 47192399, "comment_id": 81375544, "body": "Basically i have no code specific to the problem to post, I have tested a few different approaches but non have worked so far. I will look around for a working example of using a storyboard in forms and try to update my question if i can think of a good way to make it more clear. Thanks a lot for all your help so far!"}, {"owner": {"reputation": 349, "user_id": 938933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682a23acbcad08d1112fe57abf9a4947?s=128&d=identicon&r=PG&f=1", "display_name": "M&#229;rten", "link": "https://stackoverflow.com/users/938933/m%c3%a5rten"}, "edited": false, "score": 0, "creation_date": 1510268462, "post_id": 47192399, "comment_id": 81375666, "body": "About your suggestion &quot;<i>to port from that model to building the UI in code, you have to recreate that process, instantiating the instances and building the view-controller and view hierarchies</i>&quot;  Do you know of any example on how to actually do that in a <code>PageRenderer</code> that I could look into?"}], "tags": [], "owner": {"reputation": 8212, "user_id": 10116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a47f1d509ad6ef38f226017c4b285289?s=128&d=identicon&r=PG", "display_name": "Larry OBrien", "link": "https://stackoverflow.com/users/10116/larry-obrien"}, "is_accepted": false, "score": 0, "last_activity_date": 1510190472, "creation_date": 1510190472, "answer_id": 47192399, "question_id": 47191233, "link": "https://stackoverflow.com/questions/47191233/unable-to-access-page-controls-when-changing-a-xamarin-ios-controller-from-uivie/47192399#47192399", "title": "Unable to access page controls when changing a Xamarin.iOS controller from UIViewController into a PageRenderer", "body": "<p>When you define a UI using a storyboard, when the system deserializes the XML the system takes care of creating new instances of all the objects you've defined and \"wiring them together\" in terms of adding them to the <code>UIViewController</code> or their parent <code>UIView</code> objects or what-have-you.</p>\n\n<p>If you want to port from that model to building the UI in code, you have to recreate that process, instantiating the instances and building the view-controller and view hierarchies. (If you defined transitions and so forth in the storyboard, you'll have to programmatically instantiate and wire them together as well.) </p>\n\n<p>PS: The Storyboard deserialization process uses constructors that take an <code>IntPtr</code>, while when you do it in code, you'll most likely use a default ctor. If there's any custom code inside your existing <code>IntPtr</code> ctors, you'll need to move that into the constructor you use. </p>\n"}], "owner": {"reputation": 349, "user_id": 938933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682a23acbcad08d1112fe57abf9a4947?s=128&d=identicon&r=PG&f=1", "display_name": "M&#229;rten", "link": "https://stackoverflow.com/users/938933/m%c3%a5rten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510190472, "creation_date": 1510182360, "last_edit_date": 1510182715, "question_id": 47191233, "link": "https://stackoverflow.com/questions/47191233/unable-to-access-page-controls-when-changing-a-xamarin-ios-controller-from-uivie", "title": "Unable to access page controls when changing a Xamarin.iOS controller from UIViewController into a PageRenderer", "body": "<p>I am moving a Xamarin iOS project into Xamarin Forms, working in Visual Studio 2017.</p>\n\n<p>In my iOS project i have a controller that  has its components (UIWebView, UIImageView among others) in a storyboard. I have changed so that my controller now inherit fom <code>PageRenderer</code> instead of <code>UIViewController</code> and i use <code>ExportRenderer</code> to reference it from within Forms and that part works just fine.</p>\n\n<p>My issue is that the components that are used in my controller that are declared in the controller.designer.cs file are now all null when I try to use them in the controller.cs file, I guess I am missing some step to actually get the component instances set.</p>\n\n<p>Any hint on what to try next would be appreciated.</p>\n"}, {"tags": ["c#", "vb.net", "linq"], "comments": [{"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1510182742, "post_id": 47191202, "comment_id": 81332003, "body": "What are the types of the tables? What field relates <code>tblFriends</code> to <code>tblPost</code>?"}, {"owner": {"reputation": 13, "user_id": 2482168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDbF3.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/2482168/ali"}, "reply_to_user": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1510187149, "post_id": 47191202, "comment_id": 81333280, "body": "the db is ms sql"}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183051, "creation_date": 1510183051, "answer_id": 47191357, "question_id": 47191202, "link": "https://stackoverflow.com/questions/47191202/find-all-posts-of-user-friend-list-by-linq/47191357#47191357", "title": "find all posts of user friend list by linq", "body": "<p>First, find the friends of <code>user1</code>:</p>\n\n<pre><code>var friends = from f in tblFriends\n              where f.User1 == user1\n              select f.User2;\n</code></pre>\n\n<p>Then find all the posts sent by those friends:</p>\n\n<pre><code>var friendsPosts = from p in tblPost\n                   where friends.Contains(p.PostSender)\n                   select p;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 2482168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDbF3.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/2482168/ali"}, "edited": false, "score": 0, "creation_date": 1510187038, "post_id": 47191914, "comment_id": 81333253, "body": "But now I have another problem ! , How can I get just one post of each friend not all posts of each friend"}, {"owner": {"reputation": 99, "user_id": 5798919, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208417340892867/picture?type=large", "display_name": "Taylor Fraley", "link": "https://stackoverflow.com/users/5798919/taylor-fraley"}, "edited": false, "score": 0, "creation_date": 1510187999, "post_id": 47191914, "comment_id": 81333492, "body": "If you just want the first of these posts, you can do this after <code>q.First()</code>"}], "tags": [], "owner": {"reputation": 13, "user_id": 2482168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDbF3.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/2482168/ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1510186608, "creation_date": 1510186608, "answer_id": 47191914, "question_id": 47191202, "link": "https://stackoverflow.com/questions/47191202/find-all-posts-of-user-friend-list-by-linq/47191914#47191914", "title": "find all posts of user friend list by linq", "body": "<pre><code>    Dim q = From fr In db.tblFriends, post In db.tblPosts\n                Where fr.User1 = Username And post.Username = fr.User2\n                Order By post.RegDate Descending\n                Select post\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5509577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4TPK.jpg?s=128&g=1", "display_name": "Mehul Prajapati", "link": "https://stackoverflow.com/users/5509577/mehul-prajapati"}, "is_accepted": false, "score": 0, "last_activity_date": 1510202515, "creation_date": 1510202515, "answer_id": 47194049, "question_id": 47191202, "link": "https://stackoverflow.com/questions/47191202/find-all-posts-of-user-friend-list-by-linq/47194049#47194049", "title": "find all posts of user friend list by linq", "body": "<p>Your question is not completed. So write clearly with a relationship of the table and proper format of the output. If you want all posts of belonging user1 then try the following query.</p>\n\n<pre><code>     var val = (from a in tblPost\n                 join b in tblFriends on a.PostSender equals b.User1\n                 select a).ToList();\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2482168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDbF3.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/2482168/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1510202515, "creation_date": 1510182199, "last_edit_date": 1510187364, "question_id": 47191202, "link": "https://stackoverflow.com/questions/47191202/find-all-posts-of-user-friend-list-by-linq", "title": "find all posts of user friend list by linq", "body": "<p>I have 2 tables ( <code>tblPosts</code> , <code>tblFriends</code> ) like bellow tables :</p>\n\n<pre><code>tblPost:\n--------\nPostID         ( nvarchar )\nPostValue      ( nvarchar )\nPostSender     ( nvarchar )\n</code></pre>\n\n<p>'\n'</p>\n\n<pre><code>tblFriends:\n------------\nID             ( int )\nUser1          ( nvarchar )\nUser2          ( nvarchar )\n</code></pre>\n\n<p>now my question is , how can I find all posts of <code>user1</code> friends by LINQ ?</p>\n"}, {"tags": ["c#", "uwp", "uwp-xaml", "template10"], "answers": [{"comments": [{"owner": {"reputation": 1177, "user_id": 1381820, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6e7fdca997d1add0b681d97f0fcf0315?s=128&d=identicon&r=PG", "display_name": "Geoffrey Lallou&#233;", "link": "https://stackoverflow.com/users/1381820/geoffrey-lallou%c3%a9"}, "edited": false, "score": 0, "creation_date": 1510647542, "post_id": 47193577, "comment_id": 81511803, "body": "Thank you Jayden. You are right, but i can&#39;t edit template. The only choice given is &quot;create from empty...&quot;. Do you know if i there is another solution ?"}, {"owner": {"reputation": 1177, "user_id": 1381820, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6e7fdca997d1add0b681d97f0fcf0315?s=128&d=identicon&r=PG", "display_name": "Geoffrey Lallou&#233;", "link": "https://stackoverflow.com/users/1381820/geoffrey-lallou%c3%a9"}, "edited": false, "score": 0, "creation_date": 1513890830, "post_id": 47193577, "comment_id": 82834625, "body": "Hi Jayden, found how to edit a copy by updating to VS2017. But if i do it i have only ControlTemplate generated. Where can i find the template content to edit ?"}], "tags": [], "owner": {"reputation": 3146, "user_id": 5527203, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsRjr.jpg?s=128&g=1", "display_name": "Jayden", "link": "https://stackoverflow.com/users/5527203/jayden"}, "is_accepted": false, "score": 1, "last_activity_date": 1510199269, "creation_date": 1510199269, "answer_id": 47193577, "question_id": 47191016, "link": "https://stackoverflow.com/questions/47191016/template10-resizer-doesnt-focus-on-tab-key-pressed/47193577#47193577", "title": "template10 : resizer doesn&#39;t focus on tab key pressed", "body": "<p>When you tap the \"Tab\", the <code>TextBox</code> in <code>Resizer</code>can get focus. But you need to tap three times \"Tab\" to make the <code>TextBox</code> in <code>Resizer</code> to get focus.</p>\n\n<p>If you want to keep focus on <code>TextBox</code> inclued on <code>Resizer</code> control by pressing tab key, you should be able to set <code>False</code> to <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.control#Windows_UI_Xaml_Controls_Control_IsTabStop\" rel=\"nofollow noreferrer\"><code>IsTabStop</code></a> property of the <code>Resizer</code> control and set <code>False</code> to <code>IsTabStop</code> property of the <code>ContentControl</code> in <code>Resizer</code>'s template. If IsTabStop is false, the control is excluded from tab navigation and the control cannot receive input focus. </p>\n\n<p>To modify the template of <code>Resizer</code>, we can select the <code>Resizer</code> in \"<strong>Document Outline</strong>\" and right click, then select \"<strong>Edit Template</strong>\"\u2192 \"<strong>Edit a Copy...</strong>\".</p>\n"}], "owner": {"reputation": 1177, "user_id": 1381820, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6e7fdca997d1add0b681d97f0fcf0315?s=128&d=identicon&r=PG", "display_name": "Geoffrey Lallou&#233;", "link": "https://stackoverflow.com/users/1381820/geoffrey-lallou%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510199269, "creation_date": 1510181234, "question_id": 47191016, "link": "https://stackoverflow.com/questions/47191016/template10-resizer-doesnt-focus-on-tab-key-pressed", "title": "template10 : resizer doesn&#39;t focus on tab key pressed", "body": "<p>I use a resizer control from template10 library in ma uwp xaml page.\nWhen i tap on tab key on my keyboard, focus is going to next input on my form, but when I arrive to resizer control, focus is lost.</p>\n\n<pre><code>&lt;TextBox    TextWrapping=\"Wrap\"\n            AcceptsReturn=\"True\"\n            Width=\"500\" Height=\"30\"\n            Text=\"{Binding ContactForm.Subject, Mode=TwoWay}\" \n            HorizontalAlignment=\"Left\"/&gt;\n\n&lt;controls:Resizer Margin=\"0,0,0,24\"&gt;\n    &lt;TextBox    TextWrapping=\"Wrap\"\n                AcceptsReturn=\"True\"\n                MinWidth=\"500\" MinHeight=\"100\"\n                Text=\"{Binding ContactForm.Message, Mode=TwoWay}\"\n                HorizontalAlignment=\"Left\"&gt;\n    &lt;/TextBox&gt;\n&lt;/controls:Resizer&gt;\n</code></pre>\n\n<p>Does anyone know how to keep focus on textbox inclued on resizer control by pressing tab key ?</p>\n"}, {"tags": ["c#", "class", "object", "casting"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510183414, "post_id": 47191010, "comment_id": 81332250, "body": "Something is wrong with your mental model of reference types here; are you by chance a C++ programmer who is new to C#?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1510184602, "post_id": 47191010, "comment_id": 81332592, "body": "Something is also wrong with your understanding of casts, but this can be forgiven because casts are a bit crazy. A cast can mean many things in C#, including &quot;do a runtime type test of this reference and throw if it fails&quot;, &quot;given an object of type X, find me an &#39;equivalent&#39; object of type Y&quot;, &quot;unbox this boxed value&quot;, &quot;box this unboxed value&quot;, and a few others. It&#39;s an all purpose operator. If you have a <i>specific</i> question about casts, my advice would be to create a new question."}, {"owner": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510256658, "post_id": 47191010, "comment_id": 81369745, "body": "@EricLippert Nope, I&#39;ve been working with c# for about 1 year by now but casually did some c++, to understand pointers and the memory-system better. Well apparently I haven&#39;t understood it completely yet. :) Do you know a great book or something to learn about references, pointers and memory handling etc.? I know the syntax, but I really want to learn more about what happens &quot;under the hood&quot;."}, {"owner": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510256984, "post_id": 47191010, "comment_id": 81369944, "body": "@EricLippert Yeah, I actually always thought that a cast would create a new object on the heap and box the old type into another somehow... So basically always creating a new instance. But after thinking about it that wouldn&#39;t make that much sense indeed, because you can also handle an object as an interface/abstract class ^^ So is the type of an object just something that grants us type-safety and compile-time-errors and the runtime doesn&#39;t really care?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1510257203, "post_id": 47191010, "comment_id": 81370075, "body": "I have not read it myself, but Jeff Richter&#39;s book is apparently good for that; I&#39;ve often seen it recommended for that purpose."}, {"owner": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510257272, "post_id": 47191010, "comment_id": 81370118, "body": "This one: <a href=\"https://rads.stackoverflow.com/amzn/click/com/0735667454\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/CLR-via-4th-Developer-Reference/dp/0735667454</a>?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510257372, "post_id": 47191010, "comment_id": 81370192, "body": "Be careful to distinguish between the <i>run time type of a referred-to-object</i> and the <i>compile time type of a variable or expression</i>. The compiler rules and the runtime rules work together to ensure that there is no way to, say, put a reference to a Giraffe into a variable of type Tiger.  Attempts to do so at compile time will fail with type errors; if you do an end-run around the compiler by using casts, the runtime will throw exceptions."}], "answers": [{"comments": [{"owner": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "edited": false, "score": 0, "creation_date": 1510181972, "post_id": 47191057, "comment_id": 81331736, "body": "Ah I see... Why does boxing/unboxing always have quite some overhead on performance if it&#39;s basically just a copy of the reference?"}, {"owner": {"reputation": 78357, "user_id": 3603, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7eaba3dd7c0fdce655ab50f001f23cc0?s=128&d=identicon&r=PG", "display_name": "Richard Szalay", "link": "https://stackoverflow.com/users/3603/richard-szalay"}, "reply_to_user": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "edited": false, "score": 1, "creation_date": 1510182255, "post_id": 47191057, "comment_id": 81331840, "body": "@DamienFlury boxing/unboxing only applies to values that live on the stack (ie. structs), and occurs when you reference/dereference a value object as a heap object (ie. <code>object</code>)"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "edited": false, "score": 3, "creation_date": 1510183536, "post_id": 47191057, "comment_id": 81332291, "body": "@DamienFlury: Please ignore that comment; <b>value types do not &quot;live on the stack&quot;</b>.  Value types are <b>copied by value</b> and <b>inhabit variables by value</b>.  Do you think that if you make an array of a million ints, those four megs of ints somehow live on a one-meg stack? Of course not. Value types values no more &quot;live on the stack&quot; than references do; value types values live <i>in variables</i> and variables live <i>in a storage pool determined by an analysis of their lifetimes</i>."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "edited": false, "score": 0, "creation_date": 1510183607, "post_id": 47191057, "comment_id": 81332317, "body": "@DamienFlury: If you want to really understand the boxing penalty, you might start with my answer from earlier today on the subject: <a href=\"https://stackoverflow.com/questions/47182453/memory-usage-difference-between-generic-and-non-generic-collections-in-net/47183183#47183183\" title=\"memory usage difference between generic and non generic collections in net\">stackoverflow.com/questions/47182453/&hellip;</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "edited": false, "score": 1, "creation_date": 1510183763, "post_id": 47191057, "comment_id": 81332354, "body": "@DamienFlury: Also note that Andrew&#39;s answer cheerfully conflates <i>references</i> with <i>pointers</i>. Though references are typically <i>implemented</i> as pointers behind the scenes, references and pointers have very different rules in C#. You would do better to think of references as <i>references</i>; they are <i>values which refer to an object of reference type, or null</i>. Thinking of references as <i>pointers to a storage location in memory</i> will lead you astray."}, {"owner": {"reputation": 40467, "user_id": 25216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WurYy.jpg?s=128&g=1", "display_name": "Andrew Shepherd", "link": "https://stackoverflow.com/users/25216/andrew-shepherd"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1510184109, "post_id": 47191057, "comment_id": 81332438, "body": "@EricLippert I&#39;ve changed my answer to replace the word <code>pointers</code> with <code>references</code>, hopefully this makes the answer more correct."}], "tags": [], "owner": {"reputation": 40467, "user_id": 25216, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/WurYy.jpg?s=128&g=1", "display_name": "Andrew Shepherd", "link": "https://stackoverflow.com/users/25216/andrew-shepherd"}, "is_accepted": true, "score": 9, "last_activity_date": 1511402938, "last_edit_date": 1511402938, "creation_date": 1510181440, "answer_id": 47191057, "question_id": 47191010, "link": "https://stackoverflow.com/questions/47191010/c-how-does-a-cast-to-a-base-type-work/47191057#47191057", "title": "C# - How does a cast to a base-type work?", "body": "<p>It's all about references.</p>\n\n<p><code>personAsObject</code> is not an <em>instance</em> of an <em>object</em>.</p>\n\n<p>When you called <code>new Person</code>, you created an instance of a <code>Person</code> in managed memory. </p>\n\n<p>The variable <code>personAsObject</code> is a reference: a pointer to the managed memory location where the <code>Person</code> object resides.</p>\n\n<p>The same goes for <code>person</code>: it is not an <em>instance</em> of a <code>Person</code>, it's a reference to a <code>Person</code> (which happens to be the same object that <code>personAsObject</code> is referencing) in memory.</p>\n\n<pre><code>VARIABLES                  MANAGED MEMORY\n=========                  ==============\n\npersonAsObject----|     +-----------------+\n                  |----&gt;| Person Instance |\nperson------------|     +-----------------+\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21110, "user_id": 5101046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iTaTr.png?s=128&g=1", "display_name": "Scott Hannen", "link": "https://stackoverflow.com/users/5101046/scott-hannen"}, "is_accepted": false, "score": 1, "last_activity_date": 1510194109, "last_edit_date": 1510194109, "creation_date": 1510192068, "answer_id": 47192594, "question_id": 47191010, "link": "https://stackoverflow.com/questions/47191010/c-how-does-a-cast-to-a-base-type-work/47192594#47192594", "title": "C# - How does a cast to a base-type work?", "body": "<p>To paraphrase an overused example - and this isn't necessarily an example of good class design:</p>\n\n<pre><code>public class Employee\n{\n    public string Name { get; set; }\n    public Guid EmployeeId { get; set; }\n}\n\npublic class Manager : Employee\n{\n    public IEnumerable&lt;Employee&gt; DirectReports { get; set; }\n}\n</code></pre>\n\n<p>If you cast a <code>Manager</code> as an <code>Employee</code></p>\n\n<pre><code>var manager = GetManager(guid employeeId);\nvar employee = manager as Employee;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var employee = (Employee)manager;\n</code></pre>\n\n<p>You're not turning the <code>Manager</code> into an <code>Employee</code>, because the <code>Manager</code> already is an <code>Employee</code>. </p>\n\n<p>In effect what you're saying is that you don't care what else this object is other than that it's an <code>Employee</code>. Because in some cases you might not care. Suppose you want to create a list of employees - <code>List&lt;Employee&gt;</code> -  approaching their five-year anniversaries so that you can invite them to a party. It's important that you can add every sort of <code>Employee</code> to that list. </p>\n\n<p>That also enables polymorphism. Another common example:</p>\n\n<pre><code>public interface IAnimal\n{\n    string MakeSound();\n}\n\npublic class Cow : IAnimal\n{\n    public string MakeSound()\n    {\n        return \"Moo\";\n    }\n}\n\npublic class Giraffe : IAnimal\n{\n    public string MakeSound()\n    {\n        return \"I don't make any sound. Bad example.\";\n    }\n}\n</code></pre>\n\n<p>Now you can do this:</p>\n\n<pre><code>var animals = new List&lt;IAnimal&gt;();\nanimals.Add(new Cow());\nanimals.Add(new Giraffe());\nforeach(var animal in animals) // or IAnimal in animals\n{\n    Console.WriteLine(animal.MakeSound());\n}\n</code></pre>\n\n<p>which would display</p>\n\n<blockquote>\n  <p>Moo<br>\n  I don't make any sound. Bad example.</p>\n</blockquote>\n\n<p>When you go through the items in your <code>List&lt;IAnimal&gt;</code> you don't know what the actual class is for each. All you know is that each item is an <code>IAnimal</code> and implements <code>MakeSound()</code>. It doesn't change the \"concrete\" type for each one. It just means that for the purpose of what you're doing, you don't care about the concrete type.</p>\n\n<p>This makes all sorts of things possible. You can have a class like this</p>\n\n<pre><code>public class Cow : IAnimal, ITastesGood\n{\n    public string MakeSound()\n    {\n        return \"Croak\";\n    }\n}\n\nvar cow = new Cow();\nvar animals = new List&lt;IAnimal&gt;();\nvar food = new List&lt;ITastesGood&gt;();\nanimals.Add(cow);\nfood.Add(cow);\n</code></pre>\n\n<p>The same instance of <code>Cow</code> can be cast as any class it inherits from or any interface it implements. </p>\n"}], "owner": {"reputation": 599, "user_id": 6920888, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KsGXL.png?s=128&g=1", "display_name": "Damien Flury", "link": "https://stackoverflow.com/users/6920888/damien-flury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 2, "accepted_answer_id": 47191057, "answer_count": 2, "score": 2, "last_activity_date": 1511402938, "creation_date": 1510181196, "question_id": 47191010, "link": "https://stackoverflow.com/questions/47191010/c-how-does-a-cast-to-a-base-type-work", "title": "C# - How does a cast to a base-type work?", "body": "<p>This is possibly a duplicate, but I couldn't find a similar question. I don't understand how an implicit cast to a base-type works without data-loss. For example I created the class <code>Person</code>:</p>\n\n<pre><code>class Person\n{\n    public string Name { get; set; }\n    public int Age { get; set; }\n}\n</code></pre>\n\n<p>Now, when I do following:</p>\n\n<pre><code>object personAsObject = new Person { Name = \"Foo\", Age = 1 };\nvar person = (Person) personAsObject;\nConsole.WriteLine(person.Name);\nConsole.WriteLine(person.Age);\n</code></pre>\n\n<p>How was the <code>object</code> able to keep the values of the properties <code>Name</code> and <code>Age</code> since it only has the 4 methods <code>Equals</code>, <code>GetHashCode</code>, <code>GetType</code> and <code>ToString</code>? And why does a cast to a subclass throw an <code>InvalidCastException</code>? I would've expected that to be possible, since members are inherited if they're not private.</p>\n"}, {"tags": ["c#", "arrays", "primes", "object-reference"], "comments": [{"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1510181013, "post_id": 47190881, "comment_id": 81331344, "body": "Since your code does not produce correct results it can be optimized to always return same value thus continue current behavior. If that&#39;s not enough you need to scope down question to single proble with solid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1510181080, "post_id": 47190881, "comment_id": 81331370, "body": "@therapt cr is not the right place for non working code."}, {"owner": {"reputation": 5132, "user_id": 860539, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/67357f937a65dfdb36192e0f47f6b044?s=128&d=identicon&r=PG", "display_name": "PeteGO", "link": "https://stackoverflow.com/users/860539/petego"}, "edited": false, "score": 0, "creation_date": 1510181181, "post_id": 47190881, "comment_id": 81331413, "body": "The challenge doesn&#39;t want you to calculate whether or not the number is prime - it wants you to calculate and return all of the positive divisors (except 1 and the number itself).  Only when there are none (and thus it is prime) return &quot;n is prime&quot;."}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 1, "creation_date": 1510181362, "post_id": 47190881, "comment_id": 81331490, "body": "That return inside the for...loop seems to be totally wrong. I am curious to see the <i>main</i> of this snippet"}, {"owner": {"reputation": 3, "user_id": 8909951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c981730b1443c856c4964e9d20d4ff13?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Gandi", "link": "https://stackoverflow.com/users/8909951/andrei-gandi"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1510181836, "post_id": 47190881, "comment_id": 81331689, "body": "@Steve: static void Main(string[] args)         {             //var watch = System.Diagnostics.Stopwatch.StartNew();             int[] divizori = Divisors(24);             for (int i = 0; i &lt; divizori.Length; i++)             {                 Console.Write(divizori[i] + &quot; &quot;);             }             //watch.Stop();             Console.WriteLine();             //Console.WriteLine(watch.ElapsedMilliseconds);         } My output is : 2 3 4 6 8 12"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 0, "creation_date": 1510183306, "post_id": 47190881, "comment_id": 81332215, "body": "@AlexeiLevenkov Did this get moved? I thought we were on SO?"}, {"owner": {"reputation": 725, "user_id": 8672765, "user_type": "registered", "profile_image": "https://graph.facebook.com/1996264813992755/picture?type=large", "display_name": "Daniel Loudon", "link": "https://stackoverflow.com/users/8672765/daniel-loudon"}, "edited": false, "score": 2, "creation_date": 1510183594, "post_id": 47190881, "comment_id": 81332313, "body": "Dont&#39;t cheat on codewars!"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8909951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c981730b1443c856c4964e9d20d4ff13?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Gandi", "link": "https://stackoverflow.com/users/8909951/andrei-gandi"}, "edited": false, "score": 0, "creation_date": 1510184246, "post_id": 47191463, "comment_id": 81332482, "body": "Thank you @joefarrel. Now I realize what I&#39;m wrong with and I did not understand the exact requirement."}], "tags": [], "owner": {"reputation": 3402, "user_id": 3628863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y1lHi.jpg?s=128&g=1", "display_name": "Joe Farrell", "link": "https://stackoverflow.com/users/3628863/joe-farrell"}, "is_accepted": true, "score": 0, "last_activity_date": 1510183656, "creation_date": 1510183656, "answer_id": 47191463, "question_id": 47190881, "link": "https://stackoverflow.com/questions/47190881/how-to-optimize-this-c-code/47191463#47191463", "title": "How to optimize this c# code?", "body": "<p>In the comments on your question, others have noted that your program has correctness issues that you need to address before you worry about performance, and that's absolutely true. However, since you asked about performance, consider that the <code>while</code> loop in <code>IsPrime</code> and the <code>for</code> loop in <code>Divisors</code> are both doing essentially the same thing: iterating through a set of potential factors and determining whether they evenly divide <code>n</code>. So:</p>\n\n<ol>\n<li><p>Why are you doing this twice? Since you need to produce a complete list of factors in the case of a composite <code>n</code>, why not just produce the whole list upfront and then infer whether <code>n</code> is prime from the size of the list?</p></li>\n<li><p>More importantly, why is the <code>for</code> loop in <code>Divisors</code> using <code>n/2+1</code> as its upper bound when your <code>while</code> loop in <code>IsPrime</code> correctly observes that you only really need to go up to <code>\u221an</code>? Yes, a composite <code>n</code> will have factors that are greater than <code>\u221an</code>, but you don't need to iterate above that point to find them, because for any <code>k</code> that evenly divides <code>n</code>, you know that <code>n/k</code> also evenly divides <code>n</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 8909951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c981730b1443c856c4964e9d20d4ff13?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Gandi", "link": "https://stackoverflow.com/users/8909951/andrei-gandi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "closed_date": 1510185136, "accepted_answer_id": 47191463, "answer_count": 1, "score": -3, "last_activity_date": 1510187235, "creation_date": 1510180545, "last_edit_date": 1510187235, "question_id": 47190881, "link": "https://stackoverflow.com/questions/47190881/how-to-optimize-this-c-code", "closed_reason": "Needs more focus", "title": "How to optimize this c# code?", "body": "<p>I have a challenge on a programming platform (CodeWars - \"Find the divisors\") and my algorithm seems to be too slowly. \nThis is error which I get from platform: Process was terminated. It took longer than 12000ms to complete</p>\n\n<p><strong>This is instructions for challenge:</strong>\nCreate a function named divisors/Divisors that takes an integer and returns an array with all of the integer's divisors(except for 1 and the number itself). If the number is prime return the string '(integer) is prime' (null in C#)</p>\n\n<pre><code>public static int[] Divisors(int n /* out int numfactors*/)\n{\n    List&lt;int&gt; divArray = new List&lt;int&gt;(); \n    int div;\n\n    if (isPrime(n))\n    {\n        return divArray.ToArray();\n    }\n    else\n    {\n\n        for (div = 2; div &lt; n / 2 + 1; div++)\n        {\n            if (n % div == 0)\n            {\n                divArray.Add(div);\n            }\n\n            return divArray.ToArray();\n        }\n    }\n}\n\npublic static bool isPrime(int n)\n{\n    int d = 2;\n\n    if (n == 1 &amp;&amp; n % 2 == 0 &amp;&amp; n != 2) return false;\n\n    while (d * d &lt;= n)\n    {\n        if (n % d == 0) return false;\n\n        d = d + 1;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>What i'm doing wrong, how I could optimize this algorithm? If I test a prime number, my code return \"nothing\" this I think it's another problem. \nif the number is prime, and I'm trying to <strong>return null</strong> my program crashes with :\n<strong>\"Object reference not set to an instance of an object\"</strong></p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 10168, "user_id": 344638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dieij.jpg?s=128&g=1", "display_name": "antiduh", "link": "https://stackoverflow.com/users/344638/antiduh"}, "edited": false, "score": 1, "creation_date": 1510181511, "post_id": 47190560, "comment_id": 81331564, "body": "There is no URI scheme that begins with <code>www:&#47;&#47;</code>. See here for all currently registered URI schemes: <a href=\"https://www.iana.org/assignments/uri-schemes/uri-schemes.xhtml#uri-schemes-1\" rel=\"nofollow noreferrer\">iana.org/assignments/uri-schemes/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 5422888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e55ceffd42345ec280e8040ffe6668?s=128&d=identicon&r=PG&f=1", "display_name": "omijn", "link": "https://stackoverflow.com/users/5422888/omijn"}, "is_accepted": true, "score": 1, "last_activity_date": 1510179664, "creation_date": 1510179664, "answer_id": 47190702, "question_id": 47190560, "link": "https://stackoverflow.com/questions/47190560/how-can-i-find-text-containing-url-using-regular-expression/47190702#47190702", "title": "How can I find text containing url using regular expression?", "body": "<p>Remove the square brackets around <code>[\\w+?\\.\\w+]</code> and you should be good. Characters within square brackets are matched in any order.</p>\n\n<p>Try it here: <a href=\"https://regex101.com/r/X2nUNA/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/X2nUNA/1</a></p>\n"}], "owner": {"reputation": 2384, "user_id": 3508762, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qgOsF.png?s=128&g=1", "display_name": "brinch", "link": "https://stackoverflow.com/users/3508762/brinch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 47190702, "answer_count": 1, "score": 0, "last_activity_date": 1510179664, "creation_date": 1510178999, "last_edit_date": 1510179436, "question_id": 47190560, "link": "https://stackoverflow.com/questions/47190560/how-can-i-find-text-containing-url-using-regular-expression", "title": "How can I find text containing url using regular expression?", "body": "<p>I am trying to create a method that will return true, if the passed in text parameter contains a url. Here is what I have so far:</p>\n\n<pre><code>private bool TextContainsUrl(string text)\n{\n  Regex rgx = new Regex(@\"((http|ftp|https|www)://)?([\\w+?\\.\\w+])+([a-zA-Z0-9\\~\\!\\@\\#\\$\\%\\^\\&amp;\\*\\(\\)_\\-\\=\\+\\\\\\/\\?\\.\\:\\;\\'\\,]*)?\");\n  bool match = rgx.IsMatch(text);\n\n  return match;\n}\n</code></pre>\n\n<p>I might call it like:</p>\n\n<pre><code>TextContainsUrl(\"here is a text with url http://something.net bla bla.\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>TextContainsUrl(\"here is a text with no url bla bla.\");\n</code></pre>\n\n<p>Problem is, that both calls above return true.</p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["c#", "json"], "answers": [{"tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": true, "score": 1, "last_activity_date": 1510179770, "last_edit_date": 1510179770, "creation_date": 1510179466, "answer_id": 47190667, "question_id": 47190490, "link": "https://stackoverflow.com/questions/47190490/c-json-derialization-single-class-for-any-property-name/47190667#47190667", "title": "C# JSON Derialization - single class for any property name", "body": "<p>Just change <em>NestedStatEntries</em> declaration as </p>\n\n<pre><code>public partial class NestedStatEntries\n{\n    [JsonProperty(\"activeMemberCnt\")]\n    public Dictionary&lt;string,long&gt; ActiveMemberCnt { get; set; }\n}\n</code></pre>\n\n<p><em>Similar Dictionary trick as your <a href=\"https://stackoverflow.com/questions/47189558/c-sharp-jsonconverter-custom-serialization\">previous question</a></em></p>\n"}], "owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 47190667, "answer_count": 1, "score": -1, "last_activity_date": 1510179770, "creation_date": 1510178712, "question_id": 47190490, "link": "https://stackoverflow.com/questions/47190490/c-json-derialization-single-class-for-any-property-name", "title": "C# JSON Derialization - single class for any property name", "body": "<p>I have the following classes that the JSON (which will follow) can deserialize into:</p>\n\n<pre><code>public partial class Root\n{\n    [JsonProperty(\"entries\")]\n    public NestedStatEntries Entries { get; set; }\n}\n\npublic partial class NestedStatEntries\n{\n    [JsonProperty(\"activeMemberCnt\")]\n    public LongValue ActiveMemberCnt { get; set; }\n}\n\npublic class LongValue\n{\n    [JsonProperty(\"value\")]\n    public long Value { get; set; }\n}\n</code></pre>\n\n<p><strong>JSON:</strong></p>\n\n<pre><code>{\n    \"entries\": {\n        \"activeMemberCnt\": {\n            \"value\": 0\n        }\n    }\n}\n</code></pre>\n\n<p>I want to be able to use that same <code>LongValue</code> wrapper class for similar JSON responses that would have just a single value that's an integer as below, put perhaps, instead of \"value\", the key would be something like \"metric\".</p>\n\n<p><strong>Other JSON:</strong></p>\n\n<pre><code>{\n    \"entries\": {\n        \"activeMemberCnt\": {\n            \"metric\": 0\n        }\n    }\n}\n</code></pre>\n\n<p>Is there a way to <strong>remove</strong> the <code>[JsonProperty(\"value\")]</code> from <code>LongValue</code>, and dynamically set it from outside this class, so that I can re-use that same object for responses that have the same value type, but a key, such as the one above?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510178611, "post_id": 47190449, "comment_id": 81330327, "body": "Are you grabbing these values hunderds+ times a second or anything like that?  If not, 160ms is not really worth trying to optimize."}, {"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1510180651, "post_id": 47190449, "comment_id": 81331204, "body": "You should try using classes from this namespace: <a href=\"https://msdn.microsoft.com/en-us/library/system.directoryservices.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/system.directoryservices.as&zwnj;&#8203;px</a>  That will give you an option to create a query that will select ONLY these 2 properties from your objects, kind of how <code>ldp.exe</code> does it."}, {"owner": {"reputation": 21, "user_id": 1564192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee77c57d5e3169ec4465889fc28e7044?s=128&d=identicon&r=PG", "display_name": "user1564192", "link": "https://stackoverflow.com/users/1564192/user1564192"}, "edited": false, "score": 0, "creation_date": 1510183546, "post_id": 47190449, "comment_id": 81332294, "body": "I just did a test using DirectoryServices and it is substantially faster.  It&#39;s the fastest of the 3.  I&#39;ll use that option if needed.  However, I like the implementation of DirectoryServices.AccountManagement a lot more and it also seems to be the way MS recommends doing it since .NET 3.5.  I just don&#39;t understand why it&#39;s so slow in comparison."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 1564192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee77c57d5e3169ec4465889fc28e7044?s=128&d=identicon&r=PG", "display_name": "user1564192", "link": "https://stackoverflow.com/users/1564192/user1564192"}, "edited": false, "score": 0, "creation_date": 1510183594, "post_id": 47190549, "comment_id": 81332312, "body": "In the C# version it is still defined before the query is executed.  It&#39;s defined in the User Principle implementation."}], "tags": [], "owner": {"reputation": 1846, "user_id": 139200, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5cfc04977f66ed3ebcdfced6318bf3fd?s=128&d=identicon&r=PG", "display_name": "Joon", "link": "https://stackoverflow.com/users/139200/joon"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178956, "creation_date": 1510178956, "answer_id": 47190549, "question_id": 47190449, "link": "https://stackoverflow.com/questions/47190449/extended-userprinciple-extremely-slow/47190549#47190549", "title": "Extended UserPrinciple Extremely Slow", "body": "<p>The obvious difference for me is that in the Powershell example you are specifying the properties you want before you execute the command.</p>\n\n<p>In the C# version you are querying the .title property after having searched AD. This probably goes and fetches the record from AD again as that property was not loaded</p>\n\n<p>Is it maybe possible for you to to tell the PrincipalSearcher object what fields you want included in the result?</p>\n"}], "owner": {"reputation": 21, "user_id": 1564192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee77c57d5e3169ec4465889fc28e7044?s=128&d=identicon&r=PG", "display_name": "user1564192", "link": "https://stackoverflow.com/users/1564192/user1564192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1510178956, "creation_date": 1510178506, "question_id": 47190449, "link": "https://stackoverflow.com/questions/47190449/extended-userprinciple-extremely-slow", "title": "Extended UserPrinciple Extremely Slow", "body": "<p>I'm working on a program that needs to loop over 30k AD users. For the initial incarnation I used System.Management.Automation.PowerShell.  This works perfect, but I didn't like the taste of executing PowerShell from within a C# all. </p>\n\n<p>I then switched to using DirectoryServices.AccountManagement as a more \"pure\" solution.  I need to get the user's Title and Manager.  Due to this I had to extend UserPrinciple.  However, after doing this I found it takes an extremely long time to get either Title or Manager.  For my environment it's takes about 160ms to retrieve those 2 properties. </p>\n\n<p>The delay seems to come when I attempt to access either the Title or Manager properties. </p>\n\n<p>Examples:</p>\n\n<p>Original Code - Each loop iteration takes less than 2ms: </p>\n\n<pre><code>ps.AddCommand(\"Get-Aduser\");\nps.AddParameter(\"Filter\", \"*\");\nps.AddParameter(\"SearchBase\", dName);\nstring[] props = { \"Name\", \"EmailAddress\", \"GivenName\", \"Surname\", \"Title\", \"Manager\", \"Enabled\", \"EmployeeID\" };\nps.AddParameter(\"Properties\", props);\n\nforeach (PSObject i in ps.Invoke())\n{\n    Console.WriteLine(i.Properties[\"Title\"].Value.ToString());\n}\n</code></pre>\n\n<p>New Code - Each loop iteration takes about 165ms:</p>\n\n<pre><code>PrincipalContext ctx = new PrincipalContext(ContextType.Domain, \"*******\", distinguishedName);\n\nUserPrincipalsEx qbeUser = new UserPrincipalsEx(ctx);\nPrincipalSearcher srch = new PrincipalSearcher(qbeUser);\nPrincipalSearchResult&lt;Principal&gt; res = srch.FindAll();\nforeach (UserPrincipalsEx i in res)\n{\n    Console.WriteLine(i.Title);\n}\n</code></pre>\n\n<p>Is there something I am missing here or does it just take extra time to individually query the extended properties? </p>\n"}, {"tags": ["c#", "asp.net", "sql-server", "asp.net-mvc", "stored-procedures"], "comments": [{"owner": {"reputation": 166, "user_id": 5744754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oNRWn.png?s=128&g=1", "display_name": "cChacon", "link": "https://stackoverflow.com/users/5744754/cchacon"}, "edited": false, "score": 0, "creation_date": 1510179176, "post_id": 47190413, "comment_id": 81330570, "body": "Have you tried <code>&lt;input type=&quot;submit&quot;</code>?"}, {"owner": {"reputation": 666, "user_id": 3580728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3d0747ec51dd3692812f13859463398?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Hirsu", "link": "https://stackoverflow.com/users/3580728/andrei-hirsu"}, "edited": false, "score": 0, "creation_date": 1510179762, "post_id": 47190413, "comment_id": 81330826, "body": "Are you seeing any exceptions being thrown when the code gets executed?Can you put the whole form code instead of only the button code in your post? And the table definitions might help as well."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8869595"}, "edited": false, "score": 0, "creation_date": 1510180162, "post_id": 47190413, "comment_id": 81331020, "body": "there was no exception thrown"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8869595"}, "edited": false, "score": 0, "creation_date": 1510180191, "post_id": 47190413, "comment_id": 81331035, "body": "when I try to debug it doesn&#39;t pick up the function&#39;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8869595"}, "reply_to_user": {"reputation": 166, "user_id": 5744754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oNRWn.png?s=128&g=1", "display_name": "cChacon", "link": "https://stackoverflow.com/users/5744754/cchacon"}, "edited": false, "score": 0, "creation_date": 1510180385, "post_id": 47190413, "comment_id": 81331106, "body": "@cChacon; the page just5 refresh with using submit"}, {"owner": {"reputation": 14991, "user_id": 1690193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hac9.jpg?s=128&g=1", "display_name": "Nick.McDermaid", "link": "https://stackoverflow.com/users/1690193/nick-mcdermaid"}, "edited": false, "score": 0, "creation_date": 1510183196, "post_id": 47190413, "comment_id": 81332162, "body": "Do you mean the <code>public ActionResult RequestItem(Requisition requisition)</code> function is not called when you debug? There are a lot of debugging steps you can take to check this. First in the browser, press F12, go to the network tab, press your submit button and see if anything is being posted to your controller."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8869595"}, "edited": false, "score": 0, "creation_date": 1510235016, "post_id": 47190413, "comment_id": 81355284, "body": "I get this warning The code on this page disabled back and forward caching"}, {"owner": {"reputation": 14991, "user_id": 1690193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hac9.jpg?s=128&g=1", "display_name": "Nick.McDermaid", "link": "https://stackoverflow.com/users/1690193/nick-mcdermaid"}, "edited": false, "score": 0, "creation_date": 1510313022, "post_id": 47190413, "comment_id": 81392933, "body": "That warning is fine. You can ignore it. Now go to the network tab, press your submit button, and see if anything is posted"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8869595"}, "edited": false, "score": 0, "creation_date": 1510322442, "post_id": 47190413, "comment_id": 81398762, "body": "Nothing is posted"}], "owner": {"user_type": "does_not_exist", "display_name": "user8869595"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 7691, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1605999960, "creation_date": 1510178355, "last_edit_date": 1510180287, "question_id": 47190413, "link": "https://stackoverflow.com/questions/47190413/how-to-insert-data-into-database-using-asp-net-mvc-and-stored-procedure", "title": "How to insert data into database using asp,net mvc and stored procedure", "body": "<p>I'm using stored procedure to insert data into a table database; however whenever I do a button, the data is not sent to the database. In addition; I would like to give an error if nothing was entered in the database or success message saying that it was entered. Not sure how to insert data into the database; what did I leave out</p>\n\n<p><strong>Form</strong></p>\n\n<pre><code>&lt;h2&gt;Requisition Screen&lt;/h2&gt;\n\n\n{\n    @Html.AntiForgeryToken()\n&lt;div class=\"form-horizontal\"&gt;\n    &lt;h4&gt;Request Item&lt;/h4&gt;\n    &lt;hr /&gt;\n    @Html.ValidationSummary(true, \"\", new { @class = \"text-danger\" })\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.reqDate, htmlAttributes: new { @class = \"col-md-2\" })\n\n        @Html.EditorFor(model =&gt; model.reqDate, new { htmlAttributes = new { @readonly = \"readonly\", @id = \"reqDate\", @class = \"form-control\" } })\n        @Html.ValidationMessageFor(model =&gt; model.reqDate, \"\", new { @class = \"text-danger\" })\n\n    &lt;/div&gt;\n\n\n   &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.count, htmlAttributes: new { @class = \"col-md-2\" })\n       &lt;text&gt; @Html.Encode(Model.items.Count()) &lt;/text&gt;\n    &lt;/div&gt;\n\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.reqNumber, htmlAttributes: new { @class = \"col-md-2\" })\n\n        @Html.EditorFor(model =&gt; model.reqNumber, new { htmlAttributes = new { @readonly = \"readonly\", @id = \"reqnum\", @class = \"form-control\" } })\n        @Html.ValidationMessageFor(model =&gt; model.reqNumber, \"\", new { @class = \"text-danger\" })\n\n    &lt;/div&gt;\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.department, htmlAttributes: new { @class = \"col-md-2\" })\n\n        @*@Html.EditorFor(model =&gt; model.department, new { htmlAttributes = new { @class = \"form-control\" } })*@\n        @Html.DropDownListFor(model =&gt; model.department, new SelectList(Model.departmentsList, \"Text\", \"Value\"), new { @id = \"department\", @class = \"form-control\" })\n        @Html.ValidationMessageFor(model =&gt; model.department, \"\", new { @class = \"text-danger\" })\n\n    &lt;/div&gt;\n\n\n    &lt;div class=\"form-group\"&gt;\n        @Html.LabelFor(model =&gt; model.employeeDetails, htmlAttributes: new { @class = \"col-md-2\" })\n        @*@Html.Label(\"Requested by:\", htmlAttributes: new { @class = \"col-md-2\" })*@\n        @if (Model.department == null)\n        {\n            @Html.DropDownListFor(model =&gt; model.employeeDetails.employeeNum, new SelectList(string.Empty, \"Value\", \"Text\"), new { @id = \"empname\", @class = \"form-control\" })\n        }\n        else\n        {\n            @Html.DropDownListFor(model =&gt; model.employeeDetails.employeeNum, new SelectList(ViewBag.ReceivedByReps, \"Value\", \"Text\"), \"select\", new { @id = \"empname\", @class = \"form-control\" })\n        }\n\n        @*@Html.EditorFor(model =&gt; model.employeeName, new { htmlAttributes = new { @class = \"form-control\" } })*@\n        @Html.ValidationMessageFor(model =&gt; model.employeeDetails.employeeNum, \"\", new { @class = \"text-danger\" })\n\n\n    &lt;/div&gt;\n\n\n    @*@Html.DropDownListFor(model =&gt; model.employeeDetails.employeeNum, new SelectList((System.Collections.IEnumerable)TempData[\"company_dd3\"], \"Value\", \"Text\"), \"select\", new { @class = \"form-control\" })*@\n\n    @Html.HiddenFor(m =&gt; m.employeeDetails.firstName)\n    @Html.HiddenFor(m =&gt; m.employeeDetails.lastName)\n    @Html.HiddenFor(m =&gt; m.employeeDetails.Name)\n\n\n\n\n    &lt;fieldset class=\"form-group\"&gt;\n        &lt;div class=\"form-horizontal\"&gt;\n            &lt;h4&gt;Enter Requested Item(s)&lt;/h4&gt;\n\n            &lt;hr /&gt;\n\n            &lt;div class=\"Row form-group\"&gt;\n                &lt;div class=\"col-md-5\"&gt;\n                    @Html.LabelFor(model =&gt; model.item.itemNumber, htmlAttributes: new { @class = \"col-md-3\" })\n                    @Html.TextBoxFor(model =&gt; model.item.itemNumber, null, new { @readonly = \"readonly\", @id = \"itemNumber\", @class = \"form-control\" })\n                    @Html.ValidationMessageFor(model =&gt; model.item.itemNumber, \"\", new { @class = \"text-danger\" })\n                &lt;/div&gt;\n\n                &lt;div class=\"col-md-5\"&gt;\n                    @Html.LabelFor(model =&gt; model.item.description, htmlAttributes: new { @class = \"col-md-3\" })\n                    @Html.TextBoxFor(model =&gt; model.item.description, null, new { @id = \"description\", @class = \"form-control\" })\n                    @*&lt;font color=\"blue\"&gt;Please use your keyboard arrow keys to select items&lt;/font&gt;*@\n                    @*  @Html.EditorFor(model =&gt; model.item.description, new { @class = \"control-label col-md-2\", @id = \"txtItem\" })*@\n                    @Html.ValidationMessageFor(model =&gt; model.item.description, \"\", new { @class = \"text-danger\" })\n                   &lt;font color=\"red\"&gt;@ViewBag.errorMessage&lt;/font&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            @Html.HiddenFor(m =&gt; m.item.lineNum)\n\n\n\n\n            &lt;div class=\"Row  form-group\"&gt;\n                &lt;div class=\"col-md-5\"&gt;\n                    @Html.LabelFor(model =&gt; model.item.price, htmlAttributes: new { @class = \"col-md-3\" })\n                    @Html.TextBoxFor(model =&gt; model.item.price, new { @readonly = \"readonly\", @id = \"price\", @class = \"form-control\" })\n                    @Html.ValidationMessageFor(model =&gt; model.item.price, \"\", new { @class = \"text-danger\" })\n                &lt;/div&gt;\n\n                &lt;div class=\"col-md-5\"&gt;\n                    @Html.LabelFor(model =&gt; model.item.expense_account, htmlAttributes: new { @class = \"col-md-3\" })\n                    @Html.DropDownListFor(model =&gt; model.item.expense_account.index, new SelectList(Model.accountlist, \"Value\", \"Text\"), new { @class = \"form-control\" })\n                    @Html.ValidationMessageFor(model =&gt; model.item.expense_account, \"\", new { @class = \"text-danger\" })\n\n                &lt;/div&gt;\n\n\n                @Html.HiddenFor(model =&gt; model.item.selecteduomtext, new { @id = \"selecteduomtext\" })\n                @Html.HiddenFor(model =&gt; model.item.lineNum)\n                @Html.HiddenFor(model =&gt; model.items)\n\n\n                &lt;div class=\"col-md-5\"&gt;\n                    @Html.LabelFor(model =&gt; model.item.quantity, htmlAttributes: new { @class = \"col-md-3\" })\n                    @Html.EditorFor(model =&gt; model.item.quantity, new { htmlAttributes = new { @class = \"form-control\" } })\n                    @Html.ValidationMessageFor(model =&gt; model.item.quantity, \"\", new { @class = \"text-danger\" })\n                &lt;/div&gt;\n\n                @Html.HiddenFor(model =&gt; model.inventory_account, new { htmlAttributes = new { @class = \"form-control\" } })  \n\n                    &lt;div class=\"col-md-5\"&gt;\n                        @Html.LabelFor(model =&gt; model.item.UofM, htmlAttributes: new { @class = \"col-md-3\" })\n                        @Html.DropDownListFor(model =&gt; model.item.UofM, new SelectList(string.Empty, \"Text\", \"Value\"), new { @id = \"uofm\", @class = \"form-control\" })\n                        @Html.ValidationMessageFor(model =&gt; model.item.UofM, \"\", new { @class = \"text-danger\" })\n                    &lt;/div&gt;\n\n\n\n                &lt;/div&gt;\n\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;div class=\"col-md-offset-4 col-md-12\"&gt;\n\n                        &lt;input type=\"submit\" value=\"Add\" name=\"Add\" class=\"btn btn-default\" width=\"89\" /&gt;\n                        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n\n                        &lt;input type=\"button\" value=\"Cancel\" name=\"Cancel\" margin=\"50px\" onclick=\"location.href='@Url.Action(\"Cancel\", \"Requisition\")' \" class=\"btn btn-default\" /&gt;\n\n\n                    &lt;/div&gt;\n                &lt;/div&gt;\n\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;table id=\"myTable\"&gt;\n                        &lt;tr&gt;\n                            &lt;th class=\"col-md-2\"&gt;Item Number&lt;/th&gt;\n                            &lt;th class=\"col-md-2\"&gt;Item Description&lt;/th&gt;\n                            &lt;th class=\"col-md-3\"&gt;Expense Account&lt;/th&gt;\n                            &lt;th class=\"col-sm-1\"&gt;Quantity&lt;/th&gt;\n                            &lt;th class=\"col-sm-1\"&gt;UOM&lt;/th&gt;\n\n                            &lt;th class=\"col-sm-1\"&gt;Item Price&lt;/th&gt;\n\n\n                            &lt;th&gt;&lt;/th&gt;\n                        &lt;/tr&gt;\n                        @{\n\n                                if (@Model.items.Count &gt; 0)\n                                {\n                                    foreach (var item in @Model.items)\n                                    {\n                                        &lt;tr&gt;\n                                            &lt;td class=\"col-md-3\"&gt;@item.itemNumber&lt;/td&gt;\n                                            &lt;td class=\"col-md-2\"&gt;@item.description&lt;/td&gt;\n                                            &lt;td class=\"col-md-3\"&gt;@item.expense_account.getDescription&lt;/td&gt;\n                                            &lt;td class=\"col-sm-1\"&gt;@item.quantity.ToString()&lt;/td&gt;\n                                            &lt;td class=\"col-sm-1\"&gt;@item.selecteduomtext&lt;/td&gt;\n\n                                            &lt;td class=\"col-sm-1\"&gt;@item.price.ToString()&lt;/td&gt;\n\n\n\n                                            &lt;td&gt;\n                                                @Html.ActionLink(\"Edit\", \"Edit\", new { id = item.lineNum }) |\n                                                @Html.ActionLink(\"Remove\", \"Remove\", new { id = item.lineNum }, new { onclick = \"return confirm('Are you sure you would like to remove this item?'); \" })\n                                            &lt;/td&gt;\n\n                                        &lt;/tr&gt;\n\n\n                                }\n\n                            }\n                        }\n\n\n                    &lt;/table&gt;\n\n\n                &lt;/div&gt;\n\n\n\n                &lt;div class=\"form-group\"&gt;\n                    &lt;div class=\"col-md-offset-4 col-md-12\"&gt;\n\n\n                        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;\n                        @*&lt;input type=\"button\" value=\"Finish\" name=\"Issue\" margin=\"50px\" onclick=\"location.href='/Requisition/ViewRequisition' \" class=\"btn btn-default\" /&gt;*@\n                        &lt;input type=\"button\" id=\"RequestItem\" value=\"Request\" name=\"Request\"  class=\"btn btn-default\" /&gt;\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>[HttpPost]\npublic ActionResult RequestItem(Requisition requisition)\n{\n    IssueDAO dbdata = new IssueDAO();\n    dbdata.connectionString = ConfigurationManager.ConnectionStrings[\"TWCL_OPERATIONSConnectionString\"].ConnectionString;\n    getRequisition.reqDate = DateTime.Now; //Sets the transaction date to current date\n    //getIssue.status = -1;\n    Item item = new Item();\n    try\n    {\n        dbdata.createRequisition(getRequisition, item);//Creates the issue in the database\n    }\n    catch (Exception ex)\n    {\n        LogWrite logWriter = new LogWrite(ex.ToString());\n        ViewBag.errorMessage = \"Unable to complete the Issue. Please see Log file for more Information\";\n        return View(\"RequisitionItem\", getRequisition);\n    }\n    return View(\"RequisitionItem\", getRequisition);\n}\n</code></pre>\n\n<p><strong>createRequisition Function</strong></p>\n\n<pre><code> public bool createRequisition(Requisition requisition, Item requisitionitem)\n{\n    int rec_upd = 0;\n    bool status;\n    using (SqlConnection TWCLOPConnect = new SqlConnection(connectionString.ToString()))\n    {\n    SqlCommand command = new SqlCommand();\n    SqlCommand requestcommand = new SqlCommand();\n\n    //Command to update the requisition table with the header information\n    requestcommand.Connection = TWCLOPConnect;\n    requestcommand.CommandType = CommandType.StoredProcedure;\n    requestcommand.CommandText = \"requisition_sp_createRequestion\";\n    //issuecommand.Parameters.Add(\"@docnum\", SqlDbType.VarChar).Value = issue.docNumber;\n    //issuecommand.Parameters.Add(\"@doctype\", SqlDbType.VarChar).Value = issue.docType;\n    requestcommand.Parameters.Add(\"@req_num\", SqlDbType.VarChar).Value = requisition.reqNumber;\n    //issuecommand.Parameters.Add(\"@stores_rep_id\", SqlDbType.VarChar).Value = issue.processedbyDetails.employeeNum;\n    //issuecommand.Parameters.Add(\"@dept_rep_id\", SqlDbType.VarChar).Value = issue.employeeDetails.employeeNum;\n    //issuecommand.Parameters.Add(\"@inventory_acc_indx\", SqlDbType.Int).Value = issue.inventory_acccount;\n    requestcommand.Parameters.Add(\"@description\", SqlDbType.Int).Value =requisitionitem.description;\n    requestcommand.Parameters.Add(\"@Req_Date\", SqlDbType.DateTime).Value = requisition.reqDate;\n    requestcommand.Parameters.Add(\"@qty\", SqlDbType.Float);\n    //issuecommand.Parameters.Add(\"@department\", SqlDbType.VarChar).Value = issue.department;\n    //issuecommand.Parameters.Add(\"@status\", SqlDbType.Int).Value = issue.status;\n\n    //Command to update the issueitem table with details of the transaction \n    command.Connection = TWCLOPConnect;\n    command.CommandType = CommandType.StoredProcedure;\n    command.CommandText = \"createRequestedItem\";\n    command.Parameters.Add(\"@req_num\", SqlDbType.VarChar).Value = requisition.reqNumber;\n    //command.Parameters.Add(\"@inventory_acc_indx\", SqlDbType.Int).Value = requisition.inventory_account;\n    //command.Parameters.Add(\"@line_num\", SqlDbType.Int);\n    command.Parameters.Add(\"@itemnum\", SqlDbType.VarChar);\n    command.Parameters.Add(\"@qty\", SqlDbType.Float);\n    command.Parameters.Add(\"@issue_price\", SqlDbType.Float);\n    command.Parameters.Add(\"@expense_acc\", SqlDbType.Int);\n    //command.Parameters.Add(\"@inventory_acc\", SqlDbType.Int);\n    command.Parameters.Add(\"@uofm\", SqlDbType.VarChar);\n    try\n    {\n        TWCLOPConnect.Open();\n        requestcommand.ExecuteNonQuery();\n        foreach (var item in requisition.items)\n        {\n            //command.Parameters[\"@line_num\"].Value = item.lineNum;\n            command.Parameters[\"@itemnum\"].Value = item.itemNumber;\n            command.Parameters[\"@issue_price\"].Value = item.price;\n            command.Parameters[\"@qty\"].Value = item.quantity;\n            command.Parameters[\"@expense_acc\"].Value = item.expense_account.index;\n            //command.Parameters[\"@inventory_acc\"].Value = item.inventory_account.index;\n            command.Parameters[\"@uofm\"].Value = item.selecteduomtext.Trim();\n            rec_upd = command.ExecuteNonQuery();\n        }\n    }\n    catch (Exception ex)\n    {\n        throw ex;\n    }\n    finally\n    {\n        TWCLOPConnect.Close();\n    }\n    if (rec_upd &gt; 0)\n    {\n        status = true;\n    }\n    else\n    {\n        status = false;\n    }\n}\nreturn status;\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Stored Procedures</strong></p>\n\n<pre><code>      CREATE PROCEDURE createrequesteditem\n            @expense_acc varchar(50),\n            @quantity_requested int,\n            @inventory_acc varchar(50),\n            @Req_No varchar(50),\n            @unit_of_measure varchar(15), \n            @issue_price float\n        AS\n        BEGIN\n            -- SET NOCOUNT ON added to prevent extra result sets from\n            -- interfering with SELECT statements.\n            SET NOCOUNT ON;\n\n            -- Insert statements for procedure here\n            Insert Into RequestedItem Values (\n                @expense_acc, \n                @quantity_requested ,\n                @inventory_acc ,\n                @Req_No ,\n                @unit_of_measure, \n                @issue_price );\n        END\n\n    CREATE PROCEDURE requisition_sp_createRequisition\n            @Req_No varchar(50),    \n            @Req_Date datetime,\n            @description varchar,\n            @quantity int\n        AS\n        BEGIN\n            -- SET \n\nNOCOUNT ON added to prevent extra result sets from\n        -- interfering with SELECT statements.\n        SET NOCOUNT ON;\n\n        -- Insert statements for procedure here\n        INSERT INTO Requisition VALUES (@Req_No,    \n        @Req_Date, \n        @description,\n        @quantity )\n    END\n</code></pre>\n"}, {"tags": ["c#", "activex", "vlc", "aspect-ratio", "libvlc"], "comments": [{"owner": {"reputation": 578, "user_id": 341407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb5dfd061a78889c6b9322c0a058f140?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Davis", "link": "https://stackoverflow.com/users/341407/neal-davis"}, "edited": false, "score": 0, "creation_date": 1541187748, "post_id": 47190320, "comment_id": 93144492, "body": "Hi Jody - I don&#39;t know how to answer your question but I was wondering if you know of a way to fit the video to the axVLCPlayer control window?"}, {"owner": {"reputation": 322, "user_id": 6307037, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7e215657c374ebd88a16e0b0fcb5e01a?s=128&d=identicon&r=PG&f=1", "display_name": "Jody Sowald", "link": "https://stackoverflow.com/users/6307037/jody-sowald"}, "reply_to_user": {"reputation": 578, "user_id": 341407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb5dfd061a78889c6b9322c0a058f140?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Davis", "link": "https://stackoverflow.com/users/341407/neal-davis"}, "edited": false, "score": 0, "creation_date": 1541293239, "post_id": 47190320, "comment_id": 93166847, "body": "You cannot. The axVLCPlayer control is a canvas that hooks up to a video buffer. That video buffer will exclusively produce the video in a given aspect ratio. It will automatically pad black wherever there is extra space in the canvas it displays that buffer on, always maintaining aspect ratio. The solution was that i had to do all the math to figure out where the padding was and how much there should be at any given time given the current dimensions and the video&#39;s dimension and apply that transformation to all measurements."}, {"owner": {"reputation": 578, "user_id": 341407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb5dfd061a78889c6b9322c0a058f140?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Davis", "link": "https://stackoverflow.com/users/341407/neal-davis"}, "edited": false, "score": 0, "creation_date": 1541452926, "post_id": 47190320, "comment_id": 93215172, "body": "Thanks for the info Jody - it certainly works a lot different than the Windows Media Player activex control window: using the WMP activex control I can easily tell the video to fit to the window."}, {"owner": {"reputation": 322, "user_id": 6307037, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7e215657c374ebd88a16e0b0fcb5e01a?s=128&d=identicon&r=PG&f=1", "display_name": "Jody Sowald", "link": "https://stackoverflow.com/users/6307037/jody-sowald"}, "reply_to_user": {"reputation": 578, "user_id": 341407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb5dfd061a78889c6b9322c0a058f140?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Davis", "link": "https://stackoverflow.com/users/341407/neal-davis"}, "edited": false, "score": 0, "creation_date": 1541566181, "post_id": 47190320, "comment_id": 93257227, "body": "To be fair. Its been a while since I&#39;ve used it, but iirc you cannot. You only have the option of a few preset aspect ratios."}, {"owner": {"reputation": 322, "user_id": 6307037, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7e215657c374ebd88a16e0b0fcb5e01a?s=128&d=identicon&r=PG&f=1", "display_name": "Jody Sowald", "link": "https://stackoverflow.com/users/6307037/jody-sowald"}, "reply_to_user": {"reputation": 578, "user_id": 341407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb5dfd061a78889c6b9322c0a058f140?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Davis", "link": "https://stackoverflow.com/users/341407/neal-davis"}, "edited": false, "score": 0, "creation_date": 1550161651, "post_id": 47190320, "comment_id": 96177347, "body": "@NealDavis Hi, i don&#39;t know if this is still an ongoing issue for you, but i have recently found the open source project MPV. It is <b>very</b> robust and will likely provide you with better functionality than axVLC, also crossplatform. <a href=\"https://mpv.io/\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 578, "user_id": 341407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb5dfd061a78889c6b9322c0a058f140?s=128&d=identicon&r=PG&f=1", "display_name": "Neal Davis", "link": "https://stackoverflow.com/users/341407/neal-davis"}, "edited": false, "score": 1, "creation_date": 1550257081, "post_id": 47190320, "comment_id": 96216744, "body": "Thanks Jody looking into MPV!"}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 1, "creation_date": 1590343000, "post_id": 47190320, "comment_id": 109638997, "body": "Did you ever find a solution?  I&#39;m curious about what you ended up doing.  I&#39;m at the point of tracing through the VLC source code."}, {"owner": {"reputation": 322, "user_id": 6307037, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7e215657c374ebd88a16e0b0fcb5e01a?s=128&d=identicon&r=PG&f=1", "display_name": "Jody Sowald", "link": "https://stackoverflow.com/users/6307037/jody-sowald"}, "edited": false, "score": 0, "creation_date": 1590464342, "post_id": 47190320, "comment_id": 109681804, "body": "Hey Scott. I abandoned vlc because it presented many more issues than that in various way, from buffering issues to time tracking issues. As far as i was aware at the time, VLC&#39;s development had basically come to a stand still other than maintenance. so i unless i was wrong all along or they&#39;ve redone a bunch of code(this is total conjecture) I recommend that you look into MPV or any other open source solution. MPV is versatile and i bet it can handle what you&#39;d like to throw at it. Give it a try and see if you can have it embedding video in a standalone application within a day. Resizing too."}], "owner": {"reputation": 322, "user_id": 6307037, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7e215657c374ebd88a16e0b0fcb5e01a?s=128&d=identicon&r=PG&f=1", "display_name": "Jody Sowald", "link": "https://stackoverflow.com/users/6307037/jody-sowald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1245, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510177952, "creation_date": 1510177952, "question_id": 47190320, "link": "https://stackoverflow.com/questions/47190320/vlc-aspect-ratio-snapping-explanation", "title": "VLC Aspect Ratio Snapping Explanation", "body": "<p>I am programming a measuring tool which makes use of the AxVLC library. I have successfully created the tool, but when someone loaded a <em>720x480</em> video, some measurements were off. </p>\n\n<p>After some digging in the VideoLAN forums and my code, I learned that VLC snaps the video to a 16:9 aspect ratio when it displays, but the height and width listed in AxVLCPlugin.video is still <em>720x480</em>, which would be a \"3:2\" aspect ratio. </p>\n\n<p>I can program my measurements to account for this, but</p>\n\n<hr>\n\n<p>I need to know whether VLC always snaps to 16:9 if it encounters an unknown aspect ratio or if it snaps according to some algorithm or lookup table, because i would like to fix this for all video dimensions rather than just <em>720x480</em>.</p>\n\n<hr>\n\n<p>No information is available to suggest the current aspect ratio of the displayed video in the ActiveX control as the AxVLCPlugin.video.aspectRatio field is always blank, unless the value existed in the video's metadata and setting it in code does nothing to the actual displayed video.</p>\n\n<p>the set of all available aspect ratios in VLC is as follows:</p>\n\n<ul>\n<li>(null)</li>\n<li>Default</li>\n<li>16:9</li>\n<li>4:3</li>\n<li>1:1</li>\n<li>16:10</li>\n<li>2.21:1</li>\n<li>2.35:1</li>\n<li>2.39:1</li>\n<li>5:4</li>\n</ul>\n\n<p>according to this <a href=\"https://www.vlchelp.com/fix-stretched-video-in-vlc-by-changing-aspect-ratio\" rel=\"nofollow noreferrer\">https://www.vlchelp.com/fix-stretched-video-in-vlc-by-changing-aspect-ratio</a>\nas well as according to opening VLC media player myself and just looking at the list.</p>\n\n<p>so far i have not found a way to force source aspect ratio as you can from a vlc command line execution(as listed in the official VLC docs) but if i could force it to display the video at its original aspect ratio, that would work just as well.</p>\n\n<p>3:2 gets snapped to 16:9, which skips right over 16:10 between them, so i know it is not simply snapping to the next highest or lowest aspect ratio, but for the sake of good code, I would like to know what it actually snaps to.\nIf it just snaps to 16:9 by default, i can work with that,\nif it snaps in some strange order or according to some odd range table, i can work with that,\nif you know how to force the original aspect ratio in the activeX control through C#, i can work with that.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["c#", "pdf", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1510178514, "post_id": 47190270, "comment_id": 81330278, "body": "What is your issue? converting a pdf file to text? or some web  related one?"}, {"owner": {"reputation": 4184, "user_id": 3389346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GBYgb.png?s=128&g=1", "display_name": "eat-sleep-code", "link": "https://stackoverflow.com/users/3389346/eat-sleep-code"}, "reply_to_user": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1510179963, "post_id": 47190270, "comment_id": 81330911, "body": "Both.  :-)   Don&#39;t have a solution yet, but I was mainly look for assistance on the question of whether you can pull text from a web-based file.   Per below, seems like it is possible but smarter to pull it into the local server and process it accordingly."}], "answers": [{"comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1510178442, "post_id": 47190384, "comment_id": 81330243, "body": "not entirely true, one can always open a stream and perform read operation directly without storing the entire pdf on disk. Though it is a nightmare to parse the file that way so I will take your answer as a right statement."}, {"owner": {"reputation": 1055, "user_id": 6879319, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/989f9654b35b5b1f8bdf2dd6ee05403c?s=128&d=identicon&r=PG&f=1", "display_name": "Clay07g", "link": "https://stackoverflow.com/users/6879319/clay07g"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1510178598, "post_id": 47190384, "comment_id": 81330322, "body": "Good point. Fair enough. I won&#39;t edit my statement, because you still need the data on your machine to read it, even if you do it one byte at a time, disposing of the previous (the use-cases of which are few)."}, {"owner": {"reputation": 4184, "user_id": 3389346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GBYgb.png?s=128&g=1", "display_name": "eat-sleep-code", "link": "https://stackoverflow.com/users/3389346/eat-sleep-code"}, "edited": false, "score": 0, "creation_date": 1510179041, "post_id": 47190384, "comment_id": 81330499, "body": "When you say delete file, would this be the method you would take: <code>System.IO.File.Delete(@&quot;filepath.pdf&quot;);</code> ?"}, {"owner": {"reputation": 1055, "user_id": 6879319, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/989f9654b35b5b1f8bdf2dd6ee05403c?s=128&d=identicon&r=PG&f=1", "display_name": "Clay07g", "link": "https://stackoverflow.com/users/6879319/clay07g"}, "edited": false, "score": 0, "creation_date": 1510179897, "post_id": 47190384, "comment_id": 81330883, "body": "Yes, but that method might only be for the full .Net Framework, and therefore only work on a Windows machine. I don&#39;t know if you&#39;re using Core. Either way, there are alternatives to deleting files."}, {"owner": {"reputation": 4184, "user_id": 3389346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GBYgb.png?s=128&g=1", "display_name": "eat-sleep-code", "link": "https://stackoverflow.com/users/3389346/eat-sleep-code"}, "edited": false, "score": 0, "creation_date": 1510180143, "post_id": 47190384, "comment_id": 81331008, "body": "Nah, just using full framework on this one.   Any particular PDF library that seems to have more support in C# land these days?"}], "tags": [], "owner": {"reputation": 1055, "user_id": 6879319, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/989f9654b35b5b1f8bdf2dd6ee05403c?s=128&d=identicon&r=PG&f=1", "display_name": "Clay07g", "link": "https://stackoverflow.com/users/6879319/clay07g"}, "is_accepted": true, "score": 1, "last_activity_date": 1510178196, "creation_date": 1510178196, "answer_id": 47190384, "question_id": 47190270, "link": "https://stackoverflow.com/questions/47190270/extracting-text-contents-of-web-hosted-pdf-using-c/47190384#47190384", "title": "Extracting text contents of web-hosted PDF using C#?", "body": "<p>The thing about web-hosted files is that you cannot see their contents unless your machine has a copy of that file. Even when you open a PDF file in your browser, it still downloads it to your machine, even if temporarily.</p>\n\n<p>Therefore, a program cannot read a file it does not have. </p>\n\n<p>So, you need to download the file into your filesystem, then reference it. </p>\n\n<p>You could use the <a href=\"https://msdn.microsoft.com/en-us/library/system.net.webclient(v=vs.110).aspx\" rel=\"nofollow noreferrer\">WebClient class</a> to accomplish this:</p>\n\n<pre><code>using System.Net;\n//...\nWebClient Client = new WebClient ();\nClient.DownloadFile(\"http://website.com/mypdf.pdf\", @\"filepath.pdf\");\n</code></pre>\n\n<p>From there, you can use one of those algorithms on \"filepath.pdf\", display the text, then delete that file.</p>\n\n<p>Note: <a href=\"https://msdn.microsoft.com/en-us/library/system.net.webclient(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Webclient</a> is disposable. Make sure to dispose of it or make use of the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/using-statement\" rel=\"nofollow noreferrer\">using keyword</a>.</p>\n\n<p><strong>Fair warning:</strong> I'm not a security expert, but I would try to find ways to ensure the files aren't malicious, and ensure your PDF Reader algorithm accounts for this, or your application is specific to websites you know don't host malware.</p>\n"}], "owner": {"reputation": 4184, "user_id": 3389346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GBYgb.png?s=128&g=1", "display_name": "eat-sleep-code", "link": "https://stackoverflow.com/users/3389346/eat-sleep-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 47190384, "answer_count": 1, "score": 0, "last_activity_date": 1510178196, "creation_date": 1510177696, "question_id": 47190270, "link": "https://stackoverflow.com/questions/47190270/extracting-text-contents-of-web-hosted-pdf-using-c", "title": "Extracting text contents of web-hosted PDF using C#?", "body": "<p>In C# (<strong>ASP.NET MVC5</strong>), I simply need to be able to extract the text contents from a <strong>web-hosted</strong> PDF and return them as a string.</p>\n\n<p>I see plenty of (probably-old) examples of how to do this with a local file, but none of one that is web-hosted.</p>\n\n<p>Anyone have any ideas?</p>\n"}, {"tags": ["c#", "exception", "formatexception"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1510177933, "post_id": 47190252, "comment_id": 81329993, "body": "Probably because it is interpreting the date as day first and then month. You need to use DateTime.ParseExact"}, {"owner": {"reputation": 1709, "user_id": 2914896, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Yup3g.png?s=128&g=1", "display_name": "Arijoon", "link": "https://stackoverflow.com/users/2914896/arijoon"}, "edited": false, "score": 0, "creation_date": 1510177957, "post_id": 47190252, "comment_id": 81330004, "body": "Because American way of writing dates is invalid unless you specify custom formatting."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1510177995, "post_id": 47190252, "comment_id": 81330027, "body": "Most likely because the second is being interpreted as day 9 of month 12 ( December 12, 2017, a valid date) while the first is being interpreted as day 8 of month 31,  2017 and there is no 31st month."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 7103771, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b4cd8d31723a90e8879da711fa8d79?s=128&d=identicon&r=PG&f=1", "display_name": "Jc Balantakbo", "link": "https://stackoverflow.com/users/7103771/jc-balantakbo"}, "edited": false, "score": 0, "creation_date": 1510178340, "post_id": 47190324, "comment_id": 81330185, "body": "trying this out."}, {"owner": {"reputation": 105, "user_id": 7103771, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b4cd8d31723a90e8879da711fa8d79?s=128&d=identicon&r=PG&f=1", "display_name": "Jc Balantakbo", "link": "https://stackoverflow.com/users/7103771/jc-balantakbo"}, "edited": false, "score": 0, "creation_date": 1510178642, "post_id": 47190324, "comment_id": 81330345, "body": "working now. Thanks"}], "tags": [], "owner": {"reputation": 3812, "user_id": 3085985, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/888a12312ba45899c6c6f1eb409930c6?s=128&d=identicon&r=PG&f=1", "display_name": "Compufreak", "link": "https://stackoverflow.com/users/3085985/compufreak"}, "is_accepted": true, "score": 2, "last_activity_date": 1510178170, "last_edit_date": 1510178170, "creation_date": 1510177959, "answer_id": 47190324, "question_id": 47190252, "link": "https://stackoverflow.com/questions/47190252/why-is-this-throwing-system-formatexceptionstring-was-not-recognized-as-a-valid/47190324#47190324", "title": "Why is this throwing System.FormatException:String was not recognized as a valid DateTime", "body": "<p>The default order for this date format on your computers culture is Day/Month/Year, as 31 is not a valid month it fails. If you want this order, you need to provide the format with it:</p>\n\n<pre><code>var x = DateTime.ParseExact(\"08/31/2017\", \"MM/dd/yyyy\",CultureInfo.InvariantCulture);\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 7103771, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05b4cd8d31723a90e8879da711fa8d79?s=128&d=identicon&r=PG&f=1", "display_name": "Jc Balantakbo", "link": "https://stackoverflow.com/users/7103771/jc-balantakbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1510178003, "accepted_answer_id": 47190324, "answer_count": 1, "score": 0, "last_activity_date": 1510179517, "creation_date": 1510177623, "last_edit_date": 1510179517, "question_id": 47190252, "link": "https://stackoverflow.com/questions/47190252/why-is-this-throwing-system-formatexceptionstring-was-not-recognized-as-a-valid", "closed_reason": "Duplicate", "title": "Why is this throwing System.FormatException:String was not recognized as a valid DateTime", "body": "<p>Why does this: </p>\n\n<pre><code>Convert.ToDateTime(\"08/31/2017\")\n</code></pre>\n\n<p>throw an System.FormatException but not this:</p>\n\n<pre><code>Convert.ToDateTime(\"09/12/2017\")\n</code></pre>\n\n<p>If you need more information please ask and I will update or comment.  I have no clue what is causing this issue, so I don't know what details you need.</p>\n"}, {"tags": ["c#", "sql-server", "entity-framework", "linq"], "comments": [{"owner": {"reputation": 1709, "user_id": 2914896, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Yup3g.png?s=128&g=1", "display_name": "Arijoon", "link": "https://stackoverflow.com/users/2914896/arijoon"}, "edited": false, "score": 0, "creation_date": 1510178967, "post_id": 47190247, "comment_id": 81330478, "body": "Are you using EntityFramework?"}, {"owner": {"reputation": 632, "user_id": 2583946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4289bfc09dd284cbeafe9a8b26e9577?s=128&d=identicon&r=PG", "display_name": "Shoter", "link": "https://stackoverflow.com/users/2583946/shoter"}, "reply_to_user": {"reputation": 1709, "user_id": 2914896, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Yup3g.png?s=128&g=1", "display_name": "Arijoon", "link": "https://stackoverflow.com/users/2914896/arijoon"}, "edited": false, "score": 0, "creation_date": 1510179203, "post_id": 47190247, "comment_id": 81330586, "body": "Yes. I would like to not write SQL SP btw,"}, {"owner": {"reputation": 14991, "user_id": 1690193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hac9.jpg?s=128&g=1", "display_name": "Nick.McDermaid", "link": "https://stackoverflow.com/users/1690193/nick-mcdermaid"}, "edited": false, "score": 3, "creation_date": 1510179738, "post_id": 47190247, "comment_id": 81330816, "body": "Is there a logic or performance issue with your query? If not then I suggest you just don&#39;t look at it!!"}, {"owner": {"reputation": 632, "user_id": 2583946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4289bfc09dd284cbeafe9a8b26e9577?s=128&d=identicon&r=PG", "display_name": "Shoter", "link": "https://stackoverflow.com/users/2583946/shoter"}, "edited": false, "score": 0, "creation_date": 1510180721, "post_id": 47190247, "comment_id": 81331234, "body": "I think that I eliminated most issues and performance is very good. My concern is that this query will be performed on ~90% of requests so, if it can work better then it will improve user experience."}, {"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 2, "creation_date": 1510180919, "post_id": 47190247, "comment_id": 81331307, "body": "@Shoter EF can only approximate the real SQL you can write, specifically because it doesn&#39;t know all THAT much about your data and thus has to account for all possibilities; the best performance would be achieved by something like Dapper (or even with EF you can drop down to ADO.NET) where you&#39;d write this complex query yourself and return the results.  Another thing you can try is create a SQL view with your nice query and then map it as a simple table in EF"}, {"owner": {"reputation": 632, "user_id": 2583946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4289bfc09dd284cbeafe9a8b26e9577?s=128&d=identicon&r=PG", "display_name": "Shoter", "link": "https://stackoverflow.com/users/2583946/shoter"}, "reply_to_user": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1510181670, "post_id": 47190247, "comment_id": 81331620, "body": "@zaitsman thanks! I think that view may be a nice idea. I did not think about that and it is so simple :)"}, {"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "reply_to_user": {"reputation": 14991, "user_id": 1690193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hac9.jpg?s=128&g=1", "display_name": "Nick.McDermaid", "link": "https://stackoverflow.com/users/1690193/nick-mcdermaid"}, "edited": false, "score": 2, "creation_date": 1510190207, "post_id": 47190247, "comment_id": 81334028, "body": "I&#39;m with @Nick.McDermaid, if it performs adequately then don&#39;t worry about it. Pre-optimizing something just because the generated code doesn&#39;t look nice isn&#39;t a good use of your time."}, {"owner": {"reputation": 1423, "user_id": 5121114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3bpRy.png?s=128&g=1", "display_name": "TheRock", "link": "https://stackoverflow.com/users/5121114/therock"}, "edited": false, "score": 1, "creation_date": 1510244156, "post_id": 47190247, "comment_id": 81362169, "body": "IMO it&#39;s always good practice to examine sql that&#39;s generated by EF on complex queries like this. I&#39;m only familiar with MS SQL so I would examine the execution plan. Missing indexes - scans vs seeks.  Depending on the size of the data - what runs fast today might not necessarily run as fast in a month.  So the due diligence in pre-optimizing in this situation I believe is justified."}], "owner": {"reputation": 632, "user_id": 2583946, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d4289bfc09dd284cbeafe9a8b26e9577?s=128&d=identicon&r=PG", "display_name": "Shoter", "link": "https://stackoverflow.com/users/2583946/shoter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510177606, "creation_date": 1510177606, "question_id": 47190247, "link": "https://stackoverflow.com/questions/47190247/linq-query-the-most-inner-select-takes-a-lot-of-data-from-db-and-carries-it-ac", "title": "Linq Query - the most inner select takes a lot of data from db and carries it across all selects", "body": "<p>I am trying to optimize my LINQ query to the database. At first i done everything doind linq methods.</p>\n\n<pre><code>Where(citizen =&gt; citizen.ID == citizenID)\n                .Select(c =&gt; new CitizenSummaryInfo()\n                {\n                    Name = c.Entity.Name,\n                    AvatarUrl = c.Entity.ImgUrl,\n                    CanWork = c.Worked == false,\n                    Experience = c.Experience,\n                    Trained = c.Trained,\n                    JobID = c.CompanyEmployee.CompanyID,\n                    ID = c.ID,\n                    GoldAmount = ((double?)c.Entity.Wallet.WalletMoneys\n                    .FirstOrDefault(wm =&gt; wm.CurrencyID == (int)CurrencyTypeEnum.Gold).Amount) ?? 0.0,\n                    HitPoints = c.HitPoints,\n                    UnreadMessages = c.Entity.MailboxMessages.Count(msg =&gt; msg.Unread),\n                    UnreadWarnings = c.Entity.Warnings.Count(w =&gt; w.Unread),\n                    Strength = (double)c.Strength,\n                    MilitaryRank = (double)c.MilitaryRank,\n                    EatingSafety = c.Entity.Equipment.EquipmentItems\n                    .Where(item =&gt; item.ProductID == (int)ProductTypeEnum.Bread)\n                    .Count() &gt; 0,\n                    CountryID = c.Region.CountryID ?? 0,\n                    CountryCurrencyID = c.Region.Country.CurrencyID,\n                    CountryMoneyAmount = c.Entity.Wallet.WalletMoneys\n                    .Where(m =&gt; m.CurrencyID == c.Region.Country.CurrencyID)\n                    .Select(m =&gt; (double?)m.Amount)\n                    .FirstOrDefault() ?? 0.0,\n                     Level = c.ExperienceLevel\n                }).First();\n</code></pre>\n\n<p>But sql generated from this method was pretty horrible. It had about 20 queries inside which were doing crazy stuff around.<br>\nThen I used Linq Query because it has similar syntax to SQL so i thought that it could produce less selects compared to linq methods. I was fortunately right.</p>\n\n<p>This is actual code:</p>\n\n<pre><code>return (from citizen in context.Citizens\n                    join entity in context.Entities on citizen.ID equals entity.EntityID\n                    join employee in context.CompanyEmployees on citizen.ID equals employee.CitizenID into employee\n                    join region in context.Regions on citizen.RegionID equals region.ID\n                    join country in context.Countries on region.CountryID equals country.ID\n                    join gold in context.WalletMoneys.Where(wm =&gt; wm.CurrencyID == goldID) on entity.WalletID equals gold.WalletID\n                    join countryMoney in context.WalletMoneys on\n                    new { WalletID = entity.WalletID, CurrencyID = country.CurrencyID } equals\n                    new { WalletID = countryMoney.WalletID, CurrencyID = countryMoney.CurrencyID }\n                    join warning in context.Warnings.Where(w =&gt; w.Unread) on citizen.ID equals warning.EntityID into warnings\n                    join message in context.MailboxMessages.Where(m =&gt; m.Unread) on citizen.ID equals message.Viewers_EntityID into messages\n                    join bread in context.EquipmentItems.Where(i =&gt; i.ProductID == breadID) on entity.EquipmentID equals bread.EquipmentID into breads\n                    select new CitizenSummaryInfo()\n                    {\n                        AvatarUrl = entity.ImgUrl,\n                        CanWork = citizen.Worked == false,\n                        CountryCurrencyID = country.CurrencyID,\n                        CountryID = country.ID,\n                        EatingSafety = breads.Any(),\n                        CountryMoneyAmount = (double)countryMoney.Amount,\n                        Experience = citizen.Experience,\n                        GoldAmount = (double)gold.Amount,\n                        HitPoints = citizen.HitPoints,\n                        ID = citizen.ID,\n                        JobID = employee.Select(e =&gt; e.CompanyID).FirstOrDefault(),\n                        Level = citizen.ExperienceLevel,\n                        MilitaryRank = (double)citizen.MilitaryRank,\n                        Name = entity.Name,\n                        Strength = (double)citizen.Strength,\n                        Trained = citizen.Trained,\n                        UnreadMessages = messages.Count(),\n                        UnreadWarnings = warnings.Count()\n                    }).First();\n</code></pre>\n\n<p>It works fast so it's nice. But i have aesthetics problem with my SQL Query. The most inner Query selects a lot of information from citizen and it is carrying that information across queries to the outermost one.</p>\n\n<p>This is actual SQL query: </p>\n\n<pre><code>SELECT\n    [Limit3].[ID] AS [ID],\n    [Limit3].[ImgUrl] AS [ImgUrl],\n    [Limit3].[C1] AS [C1],\n    [Limit3].[CurrencyID] AS [CurrencyID],\n    [Limit3].[ID1] AS [ID1],\n    [Limit3].[C2] AS [C2],\n    [Limit3].[C3] AS [C3],\n    [Limit3].[Experience] AS [Experience],\n    [Limit3].[C4] AS [C4],\n    [Limit3].[HitPoints] AS [HitPoints],\n    [Limit3].[C5] AS [C5],\n    [Limit3].[ExperienceLevel] AS [ExperienceLevel],\n    [Limit3].[C6] AS [C6],\n    [Limit3].[Name] AS [Name],\n    [Limit3].[C7] AS [C7],\n    [Limit3].[Trained] AS [Trained],\n    [Limit3].[C8] AS [C8],\n    [Limit3].[C9] AS [C9]\n    FROM ( SELECT TOP (1)\n        [Project9].[ID] AS [ID],\n        [Project9].[Experience] AS [Experience],\n        [Project9].[ExperienceLevel] AS [ExperienceLevel],\n        [Project9].[HitPoints] AS [HitPoints],\n        [Project9].[Trained] AS [Trained],\n        [Project9].[Name] AS [Name],\n        [Project9].[ImgUrl] AS [ImgUrl],\n        [Project9].[ID1] AS [ID1],\n        [Project9].[CurrencyID] AS [CurrencyID],\n        CASE WHEN (0 = [Project9].[Worked]) THEN cast(1 as bit) WHEN (0 &lt;&gt; [Project9].[Worked]) THEN cast(0 as bit) END AS [C1],\n        CASE WHEN ( EXISTS (SELECT\n            1 AS [C1]\n            FROM [dbo].[EquipmentItems] AS [Extent11]\n            WHERE ([Extent11].[ProductID] = 1 /* @p__linq__1 */) AND ([Project9].[EquipmentID] = [Extent11].[EquipmentID])\n        )) THEN cast(1 as bit) ELSE cast(0 as bit) END AS [C2],\n        CAST( [Project9].[Amount1] AS float) AS [C3],\n        CAST( [Project9].[Amount] AS float) AS [C4],\n        CASE WHEN ([Project9].[C1] IS NULL) THEN 0 ELSE [Project9].[C2] END AS [C5],\n        CAST( [Project9].[MilitaryRank] AS float) AS [C6],\n        CAST( [Project9].[Strength] AS float) AS [C7],\n        [Project9].[C3] AS [C8],\n        [Project9].[C4] AS [C9]\n        FROM ( SELECT\n            [Project8].[ID] AS [ID],\n            [Project8].[Experience] AS [Experience],\n            [Project8].[ExperienceLevel] AS [ExperienceLevel],\n            [Project8].[HitPoints] AS [HitPoints],\n            [Project8].[Strength] AS [Strength],\n            [Project8].[MilitaryRank] AS [MilitaryRank],\n            [Project8].[Worked] AS [Worked],\n            [Project8].[Trained] AS [Trained],\n            [Project8].[Name] AS [Name],\n            [Project8].[ImgUrl] AS [ImgUrl],\n            [Project8].[EquipmentID] AS [EquipmentID],\n            [Project8].[ID1] AS [ID1],\n            [Project8].[CurrencyID] AS [CurrencyID],\n            [Project8].[Amount] AS [Amount],\n            [Project8].[Amount1] AS [Amount1],\n            [Project8].[C1] AS [C1],\n            [Project8].[C2] AS [C2],\n            [Project8].[C3] AS [C3],\n            (SELECT\n                COUNT(1) AS [A1]\n                FROM [dbo].[Warnings] AS [Extent10]\n                WHERE ([Extent10].[Unread] = 1) AND ([Project8].[ID] = [Extent10].[EntityID])) AS [C4]\n            FROM ( SELECT\n                [Project7].[ID] AS [ID],\n                [Project7].[Experience] AS [Experience],\n                [Project7].[ExperienceLevel] AS [ExperienceLevel],\n                [Project7].[HitPoints] AS [HitPoints],\n                [Project7].[Strength] AS [Strength],\n                [Project7].[MilitaryRank] AS [MilitaryRank],\n                [Project7].[Worked] AS [Worked],\n                [Project7].[Trained] AS [Trained],\n                [Project7].[Name] AS [Name],\n                [Project7].[ImgUrl] AS [ImgUrl],\n                [Project7].[EquipmentID] AS [EquipmentID],\n                [Project7].[ID1] AS [ID1],\n                [Project7].[CurrencyID] AS [CurrencyID],\n                [Project7].[Amount] AS [Amount],\n                [Project7].[Amount1] AS [Amount1],\n                [Project7].[C1] AS [C1],\n                [Project7].[C2] AS [C2],\n                (SELECT\n                    COUNT(1) AS [A1]\n                    FROM [dbo].[MailboxMessage] AS [Extent9]\n                    WHERE ([Extent9].[Unread] = 1) AND ([Project7].[ID] = [Extent9].[Viewers_EntityID])) AS [C3]\n                FROM ( SELECT\n                    [Project6].[ID] AS [ID],\n                    [Project6].[Experience] AS [Experience],\n                    [Project6].[ExperienceLevel] AS [ExperienceLevel],\n                    [Project6].[HitPoints] AS [HitPoints],\n                    [Project6].[Strength] AS [Strength],\n                    [Project6].[MilitaryRank] AS [MilitaryRank],\n                    [Project6].[Worked] AS [Worked],\n                    [Project6].[Trained] AS [Trained],\n                    [Project6].[Name] AS [Name],\n                    [Project6].[ImgUrl] AS [ImgUrl],\n                    [Project6].[EquipmentID] AS [EquipmentID],\n                    [Project6].[ID1] AS [ID1],\n                    [Project6].[CurrencyID] AS [CurrencyID],\n                    [Project6].[Amount] AS [Amount],\n                    [Project6].[Amount1] AS [Amount1],\n                    [Project6].[C1] AS [C1],\n                    [Project6].[C2] AS [C2]\n                    FROM ( SELECT\n                        [Project4].[ID] AS [ID],\n                        [Project4].[Experience] AS [Experience],\n                        [Project4].[ExperienceLevel] AS [ExperienceLevel],\n                        [Project4].[HitPoints] AS [HitPoints],\n                        [Project4].[Strength] AS [Strength],\n                        [Project4].[MilitaryRank] AS [MilitaryRank],\n                        [Project4].[Worked] AS [Worked],\n                        [Project4].[Trained] AS [Trained],\n                        [Project4].[Name] AS [Name],\n                        [Project4].[ImgUrl] AS [ImgUrl],\n                        [Project4].[EquipmentID] AS [EquipmentID],\n                        [Project4].[ID1] AS [ID1],\n                        [Project4].[CurrencyID] AS [CurrencyID],\n                        [Project4].[Amount] AS [Amount],\n                        [Project4].[Amount1] AS [Amount1],\n                        [Project4].[C1] AS [C1],\n                        (SELECT TOP (1)\n                            [Extent8].[CompanyID] AS [CompanyID]\n                            FROM [dbo].[CompanyEmployees] AS [Extent8]\n                            WHERE [Project4].[ID] = [Extent8].[CitizenID]) AS [C2]\n                        FROM ( SELECT\n                            [Project3].[ID] AS [ID],\n                            [Project3].[Experience] AS [Experience],\n                            [Project3].[ExperienceLevel] AS [ExperienceLevel],\n                            [Project3].[HitPoints] AS [HitPoints],\n                            [Project3].[Strength] AS [Strength],\n                            [Project3].[MilitaryRank] AS [MilitaryRank],\n                            [Project3].[Worked] AS [Worked],\n                            [Project3].[Trained] AS [Trained],\n                            [Project3].[Name] AS [Name],\n                            [Project3].[ImgUrl] AS [ImgUrl],\n                            [Project3].[EquipmentID] AS [EquipmentID],\n                            [Project3].[ID1] AS [ID1],\n                            [Project3].[CurrencyID] AS [CurrencyID],\n                            [Project3].[Amount] AS [Amount],\n                            [Project3].[Amount1] AS [Amount1],\n                            [Project3].[C1] AS [C1]\n                            FROM ( SELECT\n                                [Project1].[ID] AS [ID],\n                                [Project1].[Experience] AS [Experience],\n                                [Project1].[ExperienceLevel] AS [ExperienceLevel],\n                                [Project1].[HitPoints] AS [HitPoints],\n                                [Project1].[Strength] AS [Strength],\n                                [Project1].[MilitaryRank] AS [MilitaryRank],\n                                [Project1].[Worked] AS [Worked],\n                                [Project1].[Trained] AS [Trained],\n                                [Project1].[Name] AS [Name],\n                                [Project1].[ImgUrl] AS [ImgUrl],\n                                [Project1].[EquipmentID] AS [EquipmentID],\n                                [Project1].[ID1] AS [ID1],\n                                [Project1].[CurrencyID] AS [CurrencyID],\n                                [Project1].[Amount] AS [Amount],\n                                [Project1].[Amount1] AS [Amount1],\n                                (SELECT TOP (1)\n                                    [Extent7].[CompanyID] AS [CompanyID]\n                                    FROM [dbo].[CompanyEmployees] AS [Extent7]\n                                    WHERE [Project1].[ID] = [Extent7].[CitizenID]) AS [C1]\n                                FROM ( SELECT\n                                    [Extent1].[ID] AS [ID],\n                                    [Extent1].[Experience] AS [Experience],\n                                    [Extent1].[ExperienceLevel] AS [ExperienceLevel],\n                                    [Extent1].[HitPoints] AS [HitPoints],\n                                    [Extent1].[Strength] AS [Strength],\n                                    [Extent1].[MilitaryRank] AS [MilitaryRank],\n                                    [Extent1].[Worked] AS [Worked],\n                                    [Extent1].[Trained] AS [Trained],\n                                    [Extent2].[Name] AS [Name],\n                                    [Extent2].[ImgUrl] AS [ImgUrl],\n                                    [Extent2].[EquipmentID] AS [EquipmentID],\n                                    [Extent4].[ID] AS [ID1],\n                                    [Extent4].[CurrencyID] AS [CurrencyID],\n                                    [Extent5].[Amount] AS [Amount],\n                                    [Extent6].[Amount] AS [Amount1]\n                                    FROM      [dbo].[Citizens] AS [Extent1]\n                                    INNER JOIN [dbo].[Entities] AS [Extent2] ON [Extent1].[ID] = [Extent2].[EntityID]\n                                    INNER JOIN [dbo].[Regions] AS [Extent3] ON [Extent1].[RegionID] = [Extent3].[ID]\n                                    INNER JOIN [dbo].[Countries] AS [Extent4] ON [Extent3].[CountryID] = [Extent4].[ID]\n                                    INNER JOIN [dbo].[WalletMoneys] AS [Extent5] ON [Extent2].[WalletID] = [Extent5].[WalletID]\n                                    INNER JOIN [dbo].[WalletMoneys] AS [Extent6] ON ([Extent2].[WalletID] = [Extent6].[WalletID]) AND ([Extent4].[CurrencyID] = [Extent6].[CurrencyID])\n                                    WHERE [Extent5].[CurrencyID] = 2 /* @p__linq__0 */\n                                )  AS [Project1]\n                            )  AS [Project3]\n                        )  AS [Project4]\n                    )  AS [Project6]\n                )  AS [Project7]\n            )  AS [Project8]\n        )  AS [Project9]\n    )  AS [Limit3]\n</code></pre>\n\n<p>Personally I think that this result could be achieveable with 1 (maybe 2?) selects that have a lot of inner joins. </p>\n\n<p>Does this construction of query cause performance issues?<br>\n(Personally I think that there is an issue with performance giving that SQL compared to 1 select with inner joins. But I cannot prove that. It's just my opinion.)</p>\n\n<p>What Can I do to improve my query?<br>\n(Can I do anything?)</p>\n"}, {"tags": ["c#", "xamarin.forms"], "answers": [{"comments": [{"owner": {"reputation": 890, "user_id": 7564855, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa34d50774407101115cae6a1b49f7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Bailey Miller", "link": "https://stackoverflow.com/users/7564855/bailey-miller"}, "edited": false, "score": 0, "creation_date": 1510178232, "post_id": 47190316, "comment_id": 81330136, "body": "Why does this require me to create a new class just for binding when I should be able to have a list of TextCell&#39;s and just make that my source?"}, {"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "reply_to_user": {"reputation": 890, "user_id": 7564855, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa34d50774407101115cae6a1b49f7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Bailey Miller", "link": "https://stackoverflow.com/users/7564855/bailey-miller"}, "edited": false, "score": 0, "creation_date": 1510178594, "post_id": 47190316, "comment_id": 81330319, "body": "If you want to manually build a list of TextCells, use a TableView instead.  You don&#39;t have to create a new class, I just did that for the example.  If your &quot;news&quot; object is an IEnumberable you could just use that as your data source."}], "tags": [], "owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "is_accepted": true, "score": 1, "last_activity_date": 1510177931, "creation_date": 1510177931, "answer_id": 47190316, "question_id": 47190202, "link": "https://stackoverflow.com/questions/47190202/xamarin-forms-list-view-with-simple-primary-text-detail-text/47190316#47190316", "title": "Xamarin.Forms List view with simple primary text / detail text", "body": "<p>You bind a list by creating an IEnumerable and assigning to it to ItemSource, and them by using a template to specify which properties from your data to display.  </p>\n\n<pre><code>public class Data {\n  public string Primary { get; set; }\n  public string Secondary { get; set; }\n}\n\n// in your page's OnAppearing\nlistView.ItemsSource = new List&lt;Data&gt;() { // initialize your list // };\n\n// XAML\n&lt;ListView x:Name=\"listView\"&gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;TextCell Text=\"{Binding Primary}\" DetailText=\"{Binding Secondary}\"&gt;\n        &lt;DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n"}], "owner": {"reputation": 890, "user_id": 7564855, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa34d50774407101115cae6a1b49f7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Bailey Miller", "link": "https://stackoverflow.com/users/7564855/bailey-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 47190316, "answer_count": 1, "score": 0, "last_activity_date": 1510177931, "creation_date": 1510177417, "question_id": 47190202, "link": "https://stackoverflow.com/questions/47190202/xamarin-forms-list-view-with-simple-primary-text-detail-text", "title": "Xamarin.Forms List view with simple primary text / detail text", "body": "<p>The example on the Xamarin website doesn't have code that shows how to simple take a list of data objects and populate a ListView with TextCells with primary text and detail text.</p>\n\n<p>My code looks like this: </p>\n\n<pre><code>var newsListings = await App.Api.News.GetNewsAsync(true);\n                var simpleNews = new List&lt;TextCell&gt;();\n\n                foreach (var newsData in newsListings.news)\n                {\n                    simpleNews.Add(new TextCell() { Text = $\"{newsData.displayText}\", TextColor = Color.SlateGray, Detail = $\"{MonthHelper.GetShortMonth(newsData.displayDate.Month,'.')} {newsData.displayDate.Day}, {newsData.displayDate.Year}\", DetailColor=Color.DarkGray });\n                }\n\n                NewsListing.ItemsSource = simpleNews;\n</code></pre>\n\n<p>Simple XAML:</p>\n\n<pre><code>&lt;ScrollView&gt;\n    &lt;ListView x:Name=\"NewsListing\"&gt;&lt;/ListView&gt;\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p>The output is a ListView that says Xamarin.Forms.TextCell 27 times...</p>\n"}, {"tags": ["c#", "sqlite", "unit-testing", "sqlbulkcopy"], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 8625899, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/04cf26f8d9936892977a9d563e20c605?s=128&d=identicon&r=PG&f=1", "display_name": "G.Dealmeida", "link": "https://stackoverflow.com/users/8625899/g-dealmeida"}, "edited": false, "score": 0, "creation_date": 1525438010, "post_id": 47204578, "comment_id": 87367601, "body": "I want to load a data table from SQLite then &quot;bulk copy&quot; it in other databases (MySQL, Oracle, Postgre and SQL Server). I think it is possible with BulkOperation but a code sample would help a lot"}, {"owner": {"reputation": 339, "user_id": 3335731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GqXeV.jpg?s=128&g=1", "display_name": "David Liebeherr", "link": "https://stackoverflow.com/users/3335731/david-liebeherr"}, "edited": false, "score": 0, "creation_date": 1600124257, "post_id": 47204578, "comment_id": 112983325, "body": "I have tried the Z.BulkOperations NuGet package to insert 100,000 simple records (Id INTEGER, Name TEXT) into a SQLite database. On my machine using BulkOperation.BulkInsert (DataTable or Entities) is about 2 times slower than manually inserting the records via a SQLiteCommand.  Which is too bad, since I was hoping for some solution that would allow me to bulk insert records into a SQLite database faster than with a SQLiteCommand."}, {"owner": {"reputation": 9228, "user_id": 5619143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01615deeac61a4ab97c164b94c5e92c4?s=128&d=identicon&r=PG", "display_name": "Jonathan Magnan", "link": "https://stackoverflow.com/users/5619143/jonathan-magnan"}, "edited": false, "score": 0, "creation_date": 1600172923, "post_id": 47204578, "comment_id": 112998754, "body": "Hello David, if you can provide a runnable solution here: info@zzzprojects.com, we will be happy to look at it and find out why this is slower in your case."}], "tags": [], "owner": {"reputation": 9228, "user_id": 5619143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01615deeac61a4ab97c164b94c5e92c4?s=128&d=identicon&r=PG", "display_name": "Jonathan Magnan", "link": "https://stackoverflow.com/users/5619143/jonathan-magnan"}, "is_accepted": false, "score": 1, "last_activity_date": 1525441094, "last_edit_date": 1525441094, "creation_date": 1510238311, "answer_id": 47204578, "question_id": 47190192, "link": "https://stackoverflow.com/questions/47190192/connecting-to-a-sqllite-db-with-sqlbulkcopy/47204578#47204578", "title": "Connecting to a SQLLite db with SqlBulkCopy", "body": "<p>You cannot use <code>SqlBulkCopy</code> for SQLite. <code>SqlBulkCopy</code> has been done for SQL Server.</p>\n\n<p>Normally the trick to dramatically improve performance for SQLite is making sure a transaction is used.</p>\n\n<hr>\n\n<p><strong>Disclaimer</strong>: I'm the owner of <a href=\"http://bulk-operations.net/\" rel=\"nofollow noreferrer\">.NET Bulk Operations</a></p>\n\n<p>This library is not free but allows you to easily perform and customize all bulk operations:</p>\n\n<ul>\n<li>Bulk Insert</li>\n<li>Bulk Delete</li>\n<li>Bulk Update</li>\n<li>Bulk Merge</li>\n</ul>\n\n<p>Example</p>\n\n<pre><code>// Easy to use\nvar bulk = new BulkOperation(connection);\nbulk.BulkInsert(dt);\nbulk.BulkUpdate(dt);\nbulk.BulkDelete(dt);\nbulk.BulkMerge(dt);\n\n// Easy to customize\nvar bulk = new BulkOperation&lt;Customer&gt;(connection);\nbulk.BatchSize = 1000;\nbulk.ColumnInputExpression = c =&gt; new { c.Name,  c.FirstName };\nbulk.ColumnOutputExpression = c =&gt; c.CustomerID;\nbulk.ColumnPrimaryKeyExpression = c =&gt; c.Code;\nbulk.BulkMerge(customers);\n</code></pre>\n\n<p><strong>EDIT:</strong> Answer comment</p>\n\n<blockquote>\n  <p>I want to load a data table from SQLite then \"bulk copy\" it in other databases</p>\n</blockquote>\n\n<p>This situation is possible but requires 2 connection</p>\n\n<pre><code>DbConnection sourceConnection = // connection from the source\nDbConnection destinationConnection = // connection from the destination\n\n// Fill the DataTable using the sourceConnection\ndt = ...;\n\n// BulkInsert using the destinationConnection\nvar bulk = new BulkOperation(destinationConnection);\nbulk.BulkInsert(dt);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 549, "user_id": 6419909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwwhO.jpg?s=128&g=1", "display_name": "Mattkwish", "link": "https://stackoverflow.com/users/6419909/mattkwish"}, "is_accepted": true, "score": 1, "last_activity_date": 1583156277, "last_edit_date": 1583156277, "creation_date": 1547520965, "answer_id": 54192130, "question_id": 47190192, "link": "https://stackoverflow.com/questions/47190192/connecting-to-a-sqllite-db-with-sqlbulkcopy/54192130#54192130", "title": "Connecting to a SQLLite db with SqlBulkCopy", "body": "<p>The answer to this was that you cannot connect SqlBulkCopy to a SQLite instance.  </p>\n\n<p>What I did to solve my problem (unit test a part of the code that used SqlBulkCopy) was to create a wrapper around SqlBulkCopy that is implemented using SqlBulkCopy for production code, and with a mock bulk copy in test code.  Effectively decoupling the dependency on SqlBulkCopy itself.</p>\n\n<p>Specifically, I created</p>\n\n<pre><code>public interface IBulkCopy : IDisposable {\n    string DestinationTableName { get; set; }\n    void CreateColumnMapping(string from, string to);\n    Task WriteToServerAsync(DataTable dt);\n}\n</code></pre>\n\n<p>Then, I implemented this as </p>\n\n<pre><code>public class SQLBulkCopy : IBulkCopy { \n\n    private SqlBulkCopy _sbc;\n\n    public string DestinationTableName {\n        get { return _sbc.DestinationTableName; }\n        set { _sbc.DestinationTableName = value; }\n    }\n\n    public SQLBulkCopy(IDBContext ctx) { \n        _sbc = new SqlBulkCopy((SqlConnection)ctx.GetConnection());\n    }\n\n    public void CreateColumnMapping(string from, string to) {\n        _sbc.ColumnMappings.Add(new SqlBulkCopyColumnMapping(from, to));\n    }\n\n    public Task WriteToServerAsync(DataTable dt) {\n        return _sbc.WriteToServerAsync(dt);\n    }\n\n}\n</code></pre>\n\n<p>And in my test utilities I mocked out \"bulk copy\" with just inserts:</p>\n\n<pre><code>class MockBulkCopy : IBulkCopy {\n\n    private IDBContext _context;\n\n    public MockBulkCopyHelper(IDBContext context) {\n        _context = context;\n    }\n\n    public string DestinationTableName { get; set; }\n\n    public void CreateColumnMapping(string fromName, string toName) {\n        //We don't need a column mapping for raw SQL Insert statements.\n        return;\n    }\n\n    public virtual Task WriteToServerAsync(DataTable dt) {\n        return Task.Run(() =&gt; {\n            using (var cn = _context.GetConnection()) {\n                using (var cmd = cn.CreateCommand()) {\n                    cmd.CommandText = $\"INSERT INTO {DestinationTableName}({GetCsvColumnList(dt)}) VALUES {GetCsvValueList(dt)}\";\n                    cmd.ExecuteNonQuery();\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>Where <code>GetCsvColumnList</code> and <code>GetCsvValueList</code> I implemented as helper functions.</p>\n"}], "owner": {"reputation": 549, "user_id": 6419909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwwhO.jpg?s=128&g=1", "display_name": "Mattkwish", "link": "https://stackoverflow.com/users/6419909/mattkwish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3395, "favorite_count": 0, "accepted_answer_id": 54192130, "answer_count": 2, "score": 1, "last_activity_date": 1583156277, "creation_date": 1510177377, "question_id": 47190192, "link": "https://stackoverflow.com/questions/47190192/connecting-to-a-sqllite-db-with-sqlbulkcopy", "title": "Connecting to a SQLLite db with SqlBulkCopy", "body": "<p>I'm writing a unit test in c# for a function that is responsible for using System.Data.SqlClient.SqlBulkCopy to copy a DataTable to a database server.</p>\n\n<p>I use SQLLite for unit tests, and wanted to connect to my SQLLite in memory database with SqlBulkCopy, and then bulk copy that test data into the SQLLite db.</p>\n\n<p>However, I can't seem to get the connection string right.</p>\n\n<p>I originally tried </p>\n\n<pre><code>var bcp = new SqlBulkCopy(\"FullUri=file::memory:?cache=shared\")\n</code></pre>\n\n<p>Then </p>\n\n<pre><code>var bcp = new SqlBulkCopy(\"Data Source=:memory:;Cache=Shared\")\n</code></pre>\n\n<p>Which didn't recognize <code>Cache</code>\nSo then I tried</p>\n\n<pre><code>var bcp = new SqlBulkCopy(\"Data Source=:memory:\")\n</code></pre>\n\n<p>out of desperation, which simply timed out when attempting to connect to the database.</p>\n\n<p>Is what I'm trying to accomplish here possible?  If it is, can someone please help me with the connection string?</p>\n"}, {"tags": ["c#", "entity-framework", "linq", "linq-to-sql", "linq-to-entities"], "comments": [{"owner": {"reputation": 1709, "user_id": 2914896, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Yup3g.png?s=128&g=1", "display_name": "Arijoon", "link": "https://stackoverflow.com/users/2914896/arijoon"}, "edited": false, "score": 0, "creation_date": 1510178097, "post_id": 47190156, "comment_id": 81330070, "body": "you&#39;re passing a lambda to that Select, you can store that in a variable and reuse. You can also save the Model part into a function and pass everything you need to it as arguments, you can also create a map between type of your variable <code>d</code> and <code>CustomerDevice</code> or <code>Model</code> via Automapper or similar tool and map with that."}], "answers": [{"tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183064, "creation_date": 1510183064, "answer_id": 47191362, "question_id": 47190156, "link": "https://stackoverflow.com/questions/47190156/is-it-possible-to-reuse-parts-of-a-linq-to-entities-select-statement/47191362#47191362", "title": "Is it possible to reuse parts of a LINQ to Entities select statement?", "body": "<p>If those tables have a common base class or implement the same interface you can do it.</p>\n\n<p>To make it simple assume I have a <code>IQueryable&lt;string&gt; names</code>. I can sort it like this:</p>\n\n<pre><code>IQueryable&lt;string&gt; sorted = names.OrderBy(name =&gt; name);\n</code></pre>\n\n<p>But if I want to keep this particular sort to use later I can do this:</p>\n\n<pre><code>Func&lt;IQueryable&lt;string&gt;, IQueryable&lt;string&gt;&gt; orderBy = q =&gt; q.OrderBy(x =&gt; x);\n</code></pre>\n\n<p>Now to call it I just pass any <code>IQueryable&lt;string&gt;</code> in:</p>\n\n<pre><code>IQueryable&lt;string&gt; sorted = orderBy(names);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 8909806, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206414096774484/picture?type=large", "display_name": "PessimisticPaperClip", "link": "https://stackoverflow.com/users/8909806/pessimisticpaperclip"}, "edited": false, "score": 0, "creation_date": 1510326505, "post_id": 47191481, "comment_id": 81401534, "body": "Thank for the feedback, but unfortunately this doesn&#39;t work because LINQ to entities only accepts parameterless constructors."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 15, "user_id": 8909806, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206414096774484/picture?type=large", "display_name": "PessimisticPaperClip", "link": "https://stackoverflow.com/users/8909806/pessimisticpaperclip"}, "edited": false, "score": 0, "creation_date": 1510332775, "post_id": 47191481, "comment_id": 81405481, "body": "Sorry, I didn&#39;t think about that. I think you should look into LINQKit."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1510332272, "last_edit_date": 1510332272, "creation_date": 1510183726, "answer_id": 47191481, "question_id": 47190156, "link": "https://stackoverflow.com/questions/47190156/is-it-possible-to-reuse-parts-of-a-linq-to-entities-select-statement/47191481#47191481", "title": "Is it possible to reuse parts of a LINQ to Entities select statement?", "body": "<p>You would need to create a constructor for <code>Model</code> that takes a <code>CustomerDevice</code>? (what ever the entity is for <code>PTT_CUSTOMER_DEVICES</code>:</p>\n\n<pre><code>public Model(CustomerDevice d) {\n    ModelID = d.PTS_MODELS.ModelID;\n    Name = d.PTS_MODELS.Name;\n    Make = new Make() {\n        MakeID = d.PTS_MODELS.PTS_MAKES.MakeID,\n        Name = d.PTS_MODELS.PTS_MAKES.Name\n    };\n}\n</code></pre>\n\n<p>Then you could just call that constructor in the LINQ:</p>\n\n<pre><code>Model = new Model(d),\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 8909806, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206414096774484/picture?type=large", "display_name": "PessimisticPaperClip", "link": "https://stackoverflow.com/users/8909806/pessimisticpaperclip"}, "edited": false, "score": 0, "creation_date": 1510340458, "post_id": 47211029, "comment_id": 81409451, "body": "This worked beautifully!  I would have never thought to do the conversion in memory like that.  You just made my life a thousand times easier."}], "tags": [], "owner": {"reputation": 36, "user_id": 8902317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f4ea0d619143c6a6d5157aff8d7451b?s=128&d=identicon&r=PG&f=1", "display_name": "Kerry", "link": "https://stackoverflow.com/users/8902317/kerry"}, "is_accepted": true, "score": 1, "last_activity_date": 1510259539, "creation_date": 1510259539, "answer_id": 47211029, "question_id": 47190156, "link": "https://stackoverflow.com/questions/47190156/is-it-possible-to-reuse-parts-of-a-linq-to-entities-select-statement/47211029#47211029", "title": "Is it possible to reuse parts of a LINQ to Entities select statement?", "body": "\n\n<p>As an alternative to <code>Func&lt;&gt;</code>s, you can also make use of extension methods to reuse the conversions between your entity types to and other POCOs.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static IQueryable&lt;CustomerDevice&gt; ToCustomerDevice(this IQueryable&lt;PTT_CUSTOMER_DEVICES&gt; devices)\n{\n    return devices.Select(d =&gt; new CustomerDevice\n    {\n        customerAssetTag = d.CustomerAssetTag,\n        customerDeviceID = d.CustomerDeviceID\n    }\n}\n</code></pre>\n\n<p>However, EF will not allow you to nest these, and will complain that it cannot convert the nested extension method to SQL.</p>\n\n<p>A work around for this can be to perform the transform in memory, rather than in SQL:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static Model ToModel(this PTS_MODELS model)\n{\n    return new Model()\n    {\n        ModelID = model.ModelID,\n        Name = model.Name,\n        Make = new Make()\n        {\n            MakeID = model.PTS_MAKES.MakeID,\n            Name = model.PTS_MAKES.Name\n        }\n    };\n}\n\npublic static IEnumerable&lt;CustomerDevice&gt; ToCustomerDevice(this IQueryable&lt;PTT_CUSTOMER_DEVICES&gt; devices)\n{\n    return devices\n        .Include(d =&gt; d.PTS_MODELS.PTS_MAKES)\n        .AsEnumerable() // Evaulate everything that follows in memory\n        .Select(d =&gt; new CustomerDevice\n        {\n            customerAssetTag = d.CustomerAssetTag,\n            customerDeviceID = d.CustomerDeviceID,\n            Model = d.PTS_MODELS.ToModel()\n        });\n}\n</code></pre>\n\n<p>Since you are now returning an <code>IEnumerable&lt;&gt;</code> any further <code>Where()</code> conditions will be evaluated in memory, rather than in SQL, so its important that <code>ToCustomerDevice()</code> is your last call.</p>\n"}, {"comments": [{"owner": {"reputation": 2127, "user_id": 11936678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d57966e93e6697f9ebca80653feed1dd?s=128&d=identicon&r=PG", "display_name": "Plutian", "link": "https://stackoverflow.com/users/11936678/plutian"}, "edited": false, "score": 0, "creation_date": 1581603661, "post_id": 60209611, "comment_id": 106497797, "body": "Hi and welcome to stackoverflow, and thank you for answering. While this code might answer the question, can you consider adding some explanation for what the problem was you solved, and how you solved it? This will help future readers to understand your answer better and learn from it."}], "tags": [], "owner": {"reputation": 1, "user_id": 6025266, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209170183599926/picture?type=large", "display_name": "Kleberson Leite", "link": "https://stackoverflow.com/users/6025266/kleberson-leite"}, "is_accepted": false, "score": 0, "last_activity_date": 1581602447, "creation_date": 1581602447, "answer_id": 60209611, "question_id": 47190156, "link": "https://stackoverflow.com/questions/47190156/is-it-possible-to-reuse-parts-of-a-linq-to-entities-select-statement/60209611#60209611", "title": "Is it possible to reuse parts of a LINQ to Entities select statement?", "body": "<p>You can use Expression:</p>\n\n<pre><code>public static Expression&lt;Func&lt;PTT_CUSTOMER_DEVICES, CustomerDevice&gt;&gt;\n            CustomerDeviceExpression = d =&gt;\n                new CustomerDevice\n                {\n                    customerAssetTag = d.CustomerAssetTag,\n                    customerDeviceID = d.CustomerDeviceID,\n\n                    Model = new Model()\n                    {\n                        ModelID = d.PTS_MODELS.ModelID,\n                        Name = d.PTS_MODELS.Name,\n                        Make = new Make()\n                        {\n                            MakeID = d.PTS_MODELS.PTS_MAKES.MakeID,\n                            Name = d.PTS_MODELS.PTS_MAKES.Name\n                        }\n                    }\n                 };\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>list = context.PTT_CUSTOMER_DEVICES\n            .Include(...)\n            .Select(CustomerDeviceExpression)...\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8909806, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206414096774484/picture?type=large", "display_name": "PessimisticPaperClip", "link": "https://stackoverflow.com/users/8909806/pessimisticpaperclip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 780, "favorite_count": 0, "accepted_answer_id": 47211029, "answer_count": 4, "score": 1, "last_activity_date": 1581602447, "creation_date": 1510177221, "last_edit_date": 1510178016, "question_id": 47190156, "link": "https://stackoverflow.com/questions/47190156/is-it-possible-to-reuse-parts-of-a-linq-to-entities-select-statement", "title": "Is it possible to reuse parts of a LINQ to Entities select statement?", "body": "<p>When using LINQ to Entities, is there a way to reuse a block of a select statment in other select stements?  <br>\nFor example, in the below code, I'm using LINQ to select a customer device object from my database.  I also select a related Model object from a table that is joined to the customer devices table. </p>\n\n<pre><code>            list = context.PTT_CUSTOMER_DEVICES\n                .Include(...)\n                .Select(d =&gt; new CustomerDevice\n                {\n                    customerAssetTag = d.CustomerAssetTag,\n                    customerDeviceID = d.CustomerDeviceID,\n                    //This section is used in several LINQ statements throughout the application.\n                    Model = new Model()\n                    {\n                        ModelID = d.PTS_MODELS.ModelID,\n                        Name = d.PTS_MODELS.Name,\n                        Make = new Make()\n                        {\n                            MakeID = d.PTS_MODELS.PTS_MAKES.MakeID,\n                            Name = d.PTS_MODELS.PTS_MAKES.Name\n                        }\n                    }\n                 })...\n</code></pre>\n\n<p>There are, however, other objects in the database that also reference the Model table.  In my select statements for those other tables, I basically copied the same Model = new Model() code to a select statement for those different tables.  <br>\nWhat I'm wondering is, is it possible to store and reuse that block of code in multiple selects?  Possibly using an extension method?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 86752, "user_id": 87399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6rBH5.png?s=128&g=1", "display_name": "Joe White", "link": "https://stackoverflow.com/users/87399/joe-white"}, "edited": false, "score": 0, "creation_date": 1510179259, "post_id": 47190105, "comment_id": 81330615, "body": "Can you show minimal code that reproduces the problem?"}, {"owner": {"reputation": 585, "user_id": 2885898, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ae5cf2cd5c70e0eb156c5db0c81f736?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2885898/john-smith"}, "reply_to_user": {"reputation": 86752, "user_id": 87399, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6rBH5.png?s=128&g=1", "display_name": "Joe White", "link": "https://stackoverflow.com/users/87399/joe-white"}, "edited": false, "score": 0, "creation_date": 1510180558, "post_id": 47190105, "comment_id": 81331175, "body": "Ill try to add some parts"}, {"owner": {"reputation": 35071, "user_id": 316799, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0fa8da5d4aacf3078d23d33c4effadd5?s=128&d=identicon&r=PG", "display_name": "Felipe Oriani", "link": "https://stackoverflow.com/users/316799/felipe-oriani"}, "edited": false, "score": 0, "creation_date": 1510181309, "post_id": 47190105, "comment_id": 81331467, "body": "Not sure, but there is a method called <code>Focus()</code> from <code>Control</code>, you could try to call it."}, {"owner": {"reputation": 585, "user_id": 2885898, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ae5cf2cd5c70e0eb156c5db0c81f736?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2885898/john-smith"}, "edited": false, "score": 0, "creation_date": 1510181514, "post_id": 47190105, "comment_id": 81331565, "body": "Oh I think we misunderstood, I do not want my Form to get the Focus, I want to prevent that"}, {"owner": {"reputation": 2931, "user_id": 3242103, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/zmsJQ.jpg?s=128&g=1", "display_name": "snow_FFFFFF", "link": "https://stackoverflow.com/users/3242103/snow-ffffff"}, "edited": false, "score": 0, "creation_date": 1510183447, "post_id": 47190105, "comment_id": 81332259, "body": "Can you clarify what you mean by &quot;the application I&#39;m working&quot;.  Is this part of your WinForm project (so, another form)?  Or, is this some completely separate application outside of your project (ie, excel or something else)?"}, {"owner": {"reputation": 585, "user_id": 2885898, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ae5cf2cd5c70e0eb156c5db0c81f736?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2885898/john-smith"}, "edited": false, "score": 0, "creation_date": 1510184200, "post_id": 47190105, "comment_id": 81332467, "body": "Completly separate, I think the problem is with the WebBrowserControl. Upon navigating it seems to take the focus. Even if I minimize the form the focus is lost on my other application, whatever that might be (a game, a browser, anything)"}], "owner": {"reputation": 585, "user_id": 2885898, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8ae5cf2cd5c70e0eb156c5db0c81f736?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/2885898/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510180811, "creation_date": 1510177001, "last_edit_date": 1510180811, "question_id": 47190105, "link": "https://stackoverflow.com/questions/47190105/form-gets-focused-when-i-add-a-control", "title": "Form gets focused when I add a control", "body": "<p>Im programatically adding controls to one of five panels in a form every 10 seconds. When all 5 panels are filled I clean the first one and add my new control in there and so on.</p>\n\n<p>Now everytime I add a new control my form gets focused and the application I'm working is loses focus.</p>\n\n<p>How can I prevent my form from beeing focused?</p>\n\n<p>//EDIT\nI found out that the last focused control (in my case a button) gets the focus upon the new created control, but I still dont know how to give my previous application the focus again </p>\n\n<p>Code:</p>\n\n<pre><code>        System.Threading.Timer timer = new System.Threading.Timer(x =&gt; {\n            if (!startStopBool) return;\n            if (controlIdx == 5) controlIdx = 0;\n            {\n                if (controlArray[controlIdx] != null)\n                {\n                    DisposeControl(controlArray[controlIdx]);\n                }\n                controlArray[controlIdx] = AddControl(controlIdx);\n                controlIdx++;\n            }\n        }, null, 0, 10000);\n</code></pre>\n\n<p>after adding the control in the AddControl-function (a WebBrowser) the last used control from my form (the button) steals the focus</p>\n"}, {"tags": ["c#", "windows-update"], "comments": [{"owner": {"reputation": 199, "user_id": 4199229, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0ac51ff21440bacfd96908282ccea677?s=128&d=identicon&r=PG&f=1", "display_name": "UpTide", "link": "https://stackoverflow.com/users/4199229/uptide"}, "edited": false, "score": 0, "creation_date": 1510180022, "post_id": 47190067, "comment_id": 81330940, "body": "My system (win 10 pro) writes a 1074 to the system log for planned windows updates. <a href=\"https://superuser.com/questions/1028374/determine-whether-a-shutdown-is-pending\" title=\"determine whether a shutdown is pending\">superuser.com/questions/1028374/&hellip;</a> EDIT: specifically it says <code>Operating System: Upgrade (Planned)</code>"}, {"owner": {"reputation": 125, "user_id": 3022840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2e78d06086a57ea0da648da16c41b3?s=128&d=identicon&r=PG&f=1", "display_name": "okiedev", "link": "https://stackoverflow.com/users/3022840/okiedev"}, "reply_to_user": {"reputation": 199, "user_id": 4199229, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0ac51ff21440bacfd96908282ccea677?s=128&d=identicon&r=PG&f=1", "display_name": "UpTide", "link": "https://stackoverflow.com/users/4199229/uptide"}, "edited": false, "score": 0, "creation_date": 1510183027, "post_id": 47190067, "comment_id": 81332100, "body": "Thanks, UpTide.  That may be useful as a last resort but (from the included link) it appears that you can&#39;t determine when the shutdown is to occur.  I&#39;ll dig deeper down this line of thinking to see if I can uncover more and let you know."}], "owner": {"reputation": 125, "user_id": 3022840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2e78d06086a57ea0da648da16c41b3?s=128&d=identicon&r=PG&f=1", "display_name": "okiedev", "link": "https://stackoverflow.com/users/3022840/okiedev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1528262279, "creation_date": 1510176822, "question_id": 47190067, "link": "https://stackoverflow.com/questions/47190067/is-it-possible-to-determine-when-windows-update-is-scheduled-to-auto-reboot", "title": "Is it possible to determine when Windows Update is scheduled to auto-reboot?", "body": "<p>I have a C# Windows services that needs to know in advance if and when Windows Update has scheduled a system reboot to complete an update.  Is there any way to monitor this from a C# application?  The service runs on unmanned Windows 7 &amp; 10 machines.  I have spent a considerable amount of time searching for this and have come up empty-handed.  I examined the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa387292(v=vs.85).aspx\" rel=\"nofollow noreferrer\">Windows Update Agent (WUA) API</a> but did not find anything applicable (perhaps I missed something?).</p>\n"}, {"tags": ["c#", ".net", "sql-server", "entity-framework", "visual-studio-2017"], "owner": {"reputation": 50682, "user_id": 117700, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/1a350b4a18da2ffab7bde4bc753909bd?s=128&d=identicon&r=PG", "display_name": "Alex Gordon", "link": "https://stackoverflow.com/users/117700/alex-gordon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510177872, "creation_date": 1510176788, "last_edit_date": 1510177872, "question_id": 47190054, "link": "https://stackoverflow.com/questions/47190054/scripting-a-stored-procedure-database-first-including-readonly-parameter", "title": "Scripting a stored procedure database first including READONLY parameter", "body": "<p>Why was the READONLY parameter not generated through a database-first EF migration?</p>\n\n<p>I've got a stored procedure with the following signature:</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[PWz_P_GetshowOfferings]\n    (@showID INT = NULL,\n     @SegmentID INT = NULL,\n     @SegmentKey VARCHAR(40) = NULL,\n     @ChannelID INT,\n     @ChannelKey VARCHAR(40) = NULL,\n     @SalesRegionID INT,\n     @ReturnExpiredOfferings BIT,\n     @AccountID INT = NULL,\n     @AccountFilterPairs PWz_TT_KeyValuePair READONLY)\n</code></pre>\n\n<p>The following was generated in the context:</p>\n\n<pre><code>public virtual ObjectResult&lt;PWzPGetAvailableOfferingsResult&gt; PWz_P_GetshowOfferings(Nullable&lt;int&gt; showID, Nullable&lt;int&gt; segmentID, Nullable&lt;int&gt; channelID, Nullable&lt;int&gt; salesRegionID, Nullable&lt;bool&gt; returnExpiredOfferings, Nullable&lt;int&gt; accountID)\n{\n    var showIDParameter = showID.HasValue ?\n            new ObjectParameter(\"showID\", showID) :\n            new ObjectParameter(\"showID\", typeof(int));\n\n    var segmentIDParameter = segmentID.HasValue ?\n            new ObjectParameter(\"SegmentID\", segmentID) :\n            new ObjectParameter(\"SegmentID\", typeof(int));\n\n    var channelIDParameter = channelID.HasValue ?\n            new ObjectParameter(\"ChannelID\", channelID) :\n            new ObjectParameter(\"ChannelID\", typeof(int));\n\n    var salesRegionIDParameter = salesRegionID.HasValue ?\n            new ObjectParameter(\"SalesRegionID\", salesRegionID) :\n            new ObjectParameter(\"SalesRegionID\", typeof(int));\n\n    var returnExpiredOfferingsParameter = returnExpiredOfferings.HasValue ?\n            new ObjectParameter(\"ReturnExpiredOfferings\", returnExpiredOfferings) :\n            new ObjectParameter(\"ReturnExpiredOfferings\", typeof(bool));\n\n    var accountIDParameter = accountID.HasValue ?\n            new ObjectParameter(\"AccountID\", accountID) :\n            new ObjectParameter(\"AccountID\", typeof(int));\n\n    return ((IObjectContextAdapter)this).ObjectContext.ExecuteFunction&lt;PWzPGetAvailableOfferingsResult&gt;(\"PWz_P_GetshowOfferings\", showIDParameter, segmentIDParameter, channelIDParameter, salesRegionIDParameter, returnExpiredOfferingsParameter, accountIDParameter);\n}\n</code></pre>\n\n<p>Why was this parameter not generated in the context?</p>\n\n<pre><code>@AccountFilterPairs PWz_TT_KeyValuePair READONLY\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 0, "creation_date": 1510176829, "post_id": 47189991, "comment_id": 81329478, "body": "What is the type of the collection your are calling OrderBy on?"}, {"owner": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "edited": false, "score": 0, "creation_date": 1510176883, "post_id": 47189991, "comment_id": 81329499, "body": "Did you hit F12? Depending on your settings in VS this will load the source code from the .Net Framework and you can find out yourself."}, {"owner": {"reputation": 2276, "user_id": 4925121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TTcs.jpg?s=128&g=1", "display_name": "d219", "link": "https://stackoverflow.com/users/4925121/d219"}, "edited": false, "score": 0, "creation_date": 1510177060, "post_id": 47189991, "comment_id": 81329576, "body": "Have a look at this answer (it appears they will be the same with LINQ objects in a List) <a href=\"https://stackoverflow.com/questions/25922348/linq-orderby-does-it-always-return-the-same-ordered-list\" title=\"linq orderby does it always return the same ordered list\">stackoverflow.com/questions/25922348/&hellip;</a>"}, {"owner": {"reputation": 5685, "user_id": 855203, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0134d243fa8c7348c1047c3cfba21aea?s=128&d=identicon&r=PG", "display_name": "sapbucket", "link": "https://stackoverflow.com/users/855203/sapbucket"}, "reply_to_user": {"reputation": 2276, "user_id": 4925121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TTcs.jpg?s=128&g=1", "display_name": "d219", "link": "https://stackoverflow.com/users/4925121/d219"}, "edited": false, "score": 0, "creation_date": 1510177602, "post_id": 47189991, "comment_id": 81329827, "body": "@d219: yes that confirms what I am afraid of. That post indicates it is unstable. Someone just posted Orderby().Then() and that seems like a plausible solution in my case because I can force my own sort behavior and not rely on the default (unstable) behavior. Weird that he deleted the post I was about to accept it as the answer."}, {"owner": {"reputation": 2276, "user_id": 4925121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TTcs.jpg?s=128&g=1", "display_name": "d219", "link": "https://stackoverflow.com/users/4925121/d219"}, "edited": false, "score": 0, "creation_date": 1510178740, "post_id": 47189991, "comment_id": 81330384, "body": "@sapbucket - from that link then, if you are using LINQ objects (rather than LINQ to SQL), I don&#39;t think you need to specify a second order if you know the items are always in the same order, if however you always wanted them to appear A, B, C but didn&#39;t know if the original order was A, B, C then yes you would have to. Note I&#39;ve not played with this in practice though!"}], "answers": [{"comments": [{"owner": {"reputation": 5685, "user_id": 855203, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0134d243fa8c7348c1047c3cfba21aea?s=128&d=identicon&r=PG", "display_name": "sapbucket", "link": "https://stackoverflow.com/users/855203/sapbucket"}, "edited": false, "score": 0, "creation_date": 1510177380, "post_id": 47190146, "comment_id": 81329736, "body": "It&#39;s exactly because of dictionary not guaranteeing order that I am concerned about the same for OrderBy on a list. By any chance do you know where I can read the official documentation on this behavior?"}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "reply_to_user": {"reputation": 5685, "user_id": 855203, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0134d243fa8c7348c1047c3cfba21aea?s=128&d=identicon&r=PG", "display_name": "sapbucket", "link": "https://stackoverflow.com/users/855203/sapbucket"}, "edited": false, "score": 1, "creation_date": 1510177482, "post_id": 47190146, "comment_id": 81329783, "body": "Let me have a hunt around. Lists remain in the same order because you can access them by index. So they have to stay in that order otherwise a call to myList[1] twice could yield different results for example which is not the case"}, {"owner": {"reputation": 2276, "user_id": 4925121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TTcs.jpg?s=128&g=1", "display_name": "d219", "link": "https://stackoverflow.com/users/4925121/d219"}, "edited": false, "score": 1, "creation_date": 1510177649, "post_id": 47190146, "comment_id": 81329852, "body": "Have a look here; <a href=\"https://msdn.microsoft.com/en-us/library/bb534966.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb534966.aspx</a> . Key paragraph is &quot;This method performs a stable sort; that is, if the keys of two elements are equal, the order of the elements is preserved. In contrast, an unstable sort does not preserve the order of elements that have the same key.&quot;"}], "tags": [], "owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "is_accepted": false, "score": 2, "last_activity_date": 1510179465, "last_edit_date": 1510179465, "creation_date": 1510177157, "answer_id": 47190146, "question_id": 47189991, "link": "https://stackoverflow.com/questions/47189991/c-datetime-orderby-when-list-contains-some-identical-datetime-values/47190146#47190146", "title": "C# DateTime OrderBy when list contains some identical DateTime values", "body": "<p>In short the OrderBy won't change the order if the OrderBy value is identical. So if the collection you called it on is ordered then it will keep that order. If it's a list then you're all good but other collection types do not guarantee order, such as dictionary or hashset so I imagine the order of them could change as you can't guarantee their order in the underlying collection.</p>\n\n<p>Edit: as someone has mentioned in the comments linq to objects OrderBy is a stable (or deterministic sort) so the order will be the same every time and items considered equal will not have their order changed </p>\n"}, {"tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": true, "score": 4, "last_activity_date": 1510182399, "last_edit_date": 1510182399, "creation_date": 1510181384, "answer_id": 47191043, "question_id": 47189991, "link": "https://stackoverflow.com/questions/47189991/c-datetime-orderby-when-list-contains-some-identical-datetime-values/47191043#47191043", "title": "C# DateTime OrderBy when list contains some identical DateTime values", "body": "<p>The formal name for the concept you're asking about is called a <a href=\"https://stackoverflow.com/questions/1517793/what-is-stability-in-sorting-algorithms-and-why-is-it-important\"><em>Stable Sort</em></a>. </p>\n\n<p>Knowing this, you can check the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.linq.enumerable.orderby?view=netframework-4.7.1\" rel=\"nofollow noreferrer\">documentation for Enumerable.OrderBy</a> and see that it does, indeed, use a stable sorting algorithm. From near the end of the <a href=\"https://msdn.microsoft.com/en-us/library/bb534966(v=vs.110).aspx?f=255&amp;mspperror=-2147217396#Anchor_2\" rel=\"nofollow noreferrer\"><strong>Remarks</strong></a> section:</p>\n\n<blockquote>\n  <p>This method performs a stable sort; that is, if the keys of two elements are equal, the order of the elements is preserved.</p>\n</blockquote>\n\n<p>Additionally, there was some confustion with Linq-to-SQL in the comments on the question. If your data is already in a <code>List&lt;T&gt;</code> object you are <em>not</em> using Linq-to-SQL anymore. However, it's worth noting that Linq-to-SQL uses <code>IQueryable.OrderBy</code> rather than <code>Enumerable.ORderBy</code>, and <code>IQueryable.OrderBy</code> does <em>not</em> guarantee a stable sort. You <em>may</em> get a stable sort, but it depends on what the database engine does.</p>\n"}, {"tags": [], "owner": {"reputation": 14805, "user_id": 2441442, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/0Aevu.jpg?s=128&g=1", "display_name": "Christian Gollhardt", "link": "https://stackoverflow.com/users/2441442/christian-gollhardt"}, "is_accepted": false, "score": 1, "last_activity_date": 1510182452, "creation_date": 1510182452, "answer_id": 47191248, "question_id": 47189991, "link": "https://stackoverflow.com/questions/47189991/c-datetime-orderby-when-list-contains-some-identical-datetime-values/47191248#47191248", "title": "C# DateTime OrderBy when list contains some identical DateTime values", "body": "<p>First make sure you read the <a href=\"https://stackoverflow.com/a/47191043/2441442\">excelent answer of Joel</a>.</p>\n\n<p>That said, if you can not rely on Linq2Object's <em>Stable Sort</em> (EF for example), you also have the option of <code>ThenBy</code>:</p>\n\n<pre><code>OrderBy(c =&gt; c.MyDate).ThenBy(n =&gt; n.MyId)\n</code></pre>\n\n<p>This way you can apply a second order, if the first one has multiple same values.</p>\n"}], "owner": {"reputation": 5685, "user_id": 855203, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/0134d243fa8c7348c1047c3cfba21aea?s=128&d=identicon&r=PG", "display_name": "sapbucket", "link": "https://stackoverflow.com/users/855203/sapbucket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 47191043, "answer_count": 3, "score": 2, "last_activity_date": 1510182452, "creation_date": 1510176571, "question_id": 47189991, "link": "https://stackoverflow.com/questions/47189991/c-datetime-orderby-when-list-contains-some-identical-datetime-values", "title": "C# DateTime OrderBy when list contains some identical DateTime values", "body": "<p>I have a list of reference types that are sorted by a <code>DateTime</code> property. Some of them have identical <code>DateTime's</code>. For example, multiple baseball games starting at the exact same time.</p>\n\n<p>I want to confirm that <code>OrderBy</code> will sort the same way every time; that is to say because I provided the input in the order of A->B->C; that the output will also be A->B->C (all items have identical <code>DateTime</code>).</p>\n\n<p>I wrote a unit test to confirm that the order is preserved. The test passed. But without really knowing what is going on I still don't feel confident. </p>\n\n<p>Can someone please confirm the <code>OrderBy</code> behavior for me? I tried searching via google and couldn't find anything definitive.</p>\n"}, {"tags": ["c#", "dapper"], "answers": [{"tags": [], "owner": {"reputation": 4201, "user_id": 5516339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R0E88.jpg?s=128&g=1", "display_name": "Palle Due", "link": "https://stackoverflow.com/users/5516339/palle-due"}, "is_accepted": true, "score": 2, "last_activity_date": 1510227217, "creation_date": 1510227217, "answer_id": 47200786, "question_id": 47189983, "link": "https://stackoverflow.com/questions/47189983/object-datasource-returns-0-and-empty-values-using-get-set-database-mapping-c/47200786#47200786", "title": "object datasource returns 0 and empty values using get; set; database mapping C# while using dapper orm", "body": "<p>Your mapping is wrong. You have RowLines in your database, but RowNumber in your DTO.</p>\n\n<p>Declare it like this: \n</p>\n\n<pre><code>public class classInvoiceNumberSQL\n{\n    public  int RowLines { get; set; }\n    public int invoiceNumber { get; set; }\n    public DateTime InvoiceDate { get; set; }        \n    public string CustomerID { get; set; }\n    public double InvoiceTotal { get; set; }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6589725"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 47200786, "answer_count": 1, "score": -1, "last_activity_date": 1510227217, "creation_date": 1510176537, "question_id": 47189983, "link": "https://stackoverflow.com/questions/47189983/object-datasource-returns-0-and-empty-values-using-get-set-database-mapping-c", "title": "object datasource returns 0 and empty values using get; set; database mapping C# while using dapper orm", "body": "<blockquote>\n  <p>I'm trying to retrieve data from SQL server into a gridView Control, but however get 0 values in my first column and an empty column in my second column. My mapping class to get data from sql server:</p>\n</blockquote>\n\n<pre><code>    public class classInvoiceNumberSQL\n{\n    public  int RowNumber { get; set; }\n    public int invoiceNumber { get; set; }\n    public DateTime InvoiceDate { get; set; }\n    public string CustomerID { get; set; }\n    public double InvoiceTotal { get; set; }\n}\n</code></pre>\n\n<blockquote>\n  <p>And this part is where i execute to pull through the data from sql</p>\n</blockquote>\n\n<pre><code>        private void btnLoadByDate_Click(object sender, EventArgs e)\n    {\n        using (IDbConnection db = new SqlConnection(ConfigurationManager.ConnectionStrings[\"Invo_X.P.Properties.Settings.conSQL\"].ConnectionString))\n        {\n            if (db.State == ConnectionState.Closed)\n            {\n                db.Open();\n                string query = \"Select RowLines, invoiceNumber, InvoiceDate, CustomerID, invoiceTotal From tblInvoiceNumber\";\n                classInvoiceNumberSQLBindingSource.DataSource = db.Query&lt;classInvoiceNumberSQL&gt;(query, commandType: CommandType.Text);\n            }\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>Here an overview of whats happening when i run the project.\n  <a href=\"https://i.stack.imgur.com/GVdJW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n</blockquote>\n\n<p>And the data which is in sql server.\n<a href=\"https://i.stack.imgur.com/iMh4Y.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["c#", "delegates"], "comments": [{"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1510176653, "post_id": 47189942, "comment_id": 81329396, "body": "Take a Func&lt;int,int,int&gt;?"}, {"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "reply_to_user": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1510177478, "post_id": 47189942, "comment_id": 81329780, "body": "OK and how do I get that from the declaration of SomeLibrary.DoSomething?"}, {"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 1, "creation_date": 1510177928, "post_id": 47189942, "comment_id": 81329991, "body": "I understand what you mean, but I don&#39;t know a way to do this (before run time). I guess you have to be explicit here. The <code>Func&lt;&gt;</code> may save you some typing, though."}, {"owner": {"reputation": 561, "user_id": 3507547, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/138198821a077c95cd0a8990162f03d2?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Kuypers", "link": "https://stackoverflow.com/users/3507547/dennis-kuypers"}, "edited": false, "score": 0, "creation_date": 1510178090, "post_id": 47189942, "comment_id": 81330068, "body": "Oh well, you could do code generation using <a href=\"https://msdn.microsoft.com/en-us/library/bb126445.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/bb126445.aspx</a> but I don&#39;t know if that helps in your case."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1510192950, "post_id": 47189942, "comment_id": 81334668, "body": "I have no idea what you&#39;re actually trying to do. Your question isn&#39;t making much sense. Why should any specific existing method serve as a prototype for a delegate type? If you really don&#39;t want to declare a new type, why don&#39;t you just use <code>Func&lt;int, int, int&gt;</code> (as proposed above)? You can&#39;t do literally what you&#39;re asking for, but if you could explain why you think this is useful and/or what <i>specific</i> problem you think it solves, you might get a useful answer."}, {"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510198910, "post_id": 47189942, "comment_id": 81336144, "body": "I&#39;m trying to wrap a C DLL interface with a C# class which can either use &#39;static&#39; binding with <code>DllImport</code> which will search the executable&#39;s directory and system paths for the DLL or &#39;dynamic&#39; binding with <code>Marshal.GetDelegateForFunctionPointer</code> to a path to the DLL specified by the user, so that the wrapper(s) may support loading multiple versions of the same DLL. Thus I have <code>[DllImport(&quot;SomeLibrary.dll&quot;)] public static extern int DoSomething(int x, int y);</code> written out in the file and would simply like to use that function declaration as the basis for the delegates I marshal."}, {"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510199108, "post_id": 47189942, "comment_id": 81336189, "body": "I think the question is fairly simple - why can&#39;t an existing function define the signature for a delegate? There would be lots of situations where not having to declare the signature multiple times for a function that is <i>right there in the same code file</i> would be handy. WinForms GUIs where you want to invoke functions would be a classic example."}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510177465, "post_id": 47190026, "comment_id": 81329774, "body": "Yeah obviously I have an actual reason to use delegates, I just kept the example brief. Do you have an answer to the question? How can I create TheFunc from the signature of SomeLibrary.DoSomething?"}, {"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510178016, "post_id": 47190026, "comment_id": 81330039, "body": "I&#39;m talking about the declaration of the delegate, now how to call it..."}, {"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "reply_to_user": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510178196, "post_id": 47190026, "comment_id": 81330119, "body": "Imagine you didn&#180;t want to execute <code>DoSomething</code>, but <code>SomethingDifferent</code>. The point of delegates is to be able to call both - either <code>DoSomething</code> or <code>SomethingDifferent</code> as they <i>both</i> satisfy the signature. Binding a delegate to a fix method would make the delegate complety useless. Having said this you <i>have</i> to define the delegates signature <i>explicitely</i>."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1510183197, "post_id": 47190026, "comment_id": 81332163, "body": "What does &quot;FFS&quot; mean?"}, {"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510184173, "post_id": 47190026, "comment_id": 81332457, "body": "&quot;Feeling Frustrated Sorry&quot; ;-)"}, {"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510184449, "post_id": 47190026, "comment_id": 81332546, "body": "Yes, and DoSomething and SomethingDifferent would have the same signature. So <i>either</i> of them would be a place where I could get the <i>declaration</i> of the delegate from. I know how to call a function!"}, {"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 0, "creation_date": 1510252518, "post_id": 47190026, "comment_id": 81367441, "body": "So you want to create a delegate from a template?"}, {"owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "edited": false, "score": 0, "creation_date": 1510253388, "post_id": 47190026, "comment_id": 81367898, "body": "But I can&#180;t imagine what you want to do with that delegate. You&#180;d have to assign any method to it to use it in any way. Even if you <i>could</i> create a delegate from a template, how would you use it as it&#180;s just the <b>declaration</b> of your delegate. So all you get is <code>Func&lt;int, int, int&gt;</code>, but you have to assign some method to that delegate."}, {"owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "edited": false, "score": 0, "creation_date": 1510259943, "post_id": 47190026, "comment_id": 81371624, "body": "Give up dude. I know why I&#39;m using a delegate and what they&#39;re for. If you &quot;can&#39;t imagine what I want to do with that delegate&quot; then you&#39;re clearly not going to be able to answer a question about declaring one. You&#39;re not going to get upvoted for repeatedly explaining what a delegate is."}], "tags": [], "owner": {"reputation": 31953, "user_id": 2528063, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5776e315b2aeae4338bee6b40ef1104d?s=128&d=identicon&r=PG", "display_name": "HimBromBeere", "link": "https://stackoverflow.com/users/2528063/himbrombeere"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177876, "last_edit_date": 1510177876, "creation_date": 1510176677, "answer_id": 47190026, "question_id": 47189942, "link": "https://stackoverflow.com/questions/47189942/c-declare-delegate-signature-from-existing-function/47190026#47190026", "title": "C# declare delegate signature from existing function", "body": "<p>You\u00b4re missing an assential - not to say the important point - on delegates. You can register <em>any</em> method with the same signature. Thus it\u00b4s not really helpful to bind your delegate to just one fix method. If you\u00b4re only invoking the same method, than you shouldn\u00b4t use a delegate at all. Simply call your <code>DoSomething</code>-method directly in your <code>Run</code>-method instead of invoking the delegate:</p>\n\n<pre><code>Run()\n{\n    var retVal = DoSomething(3, 5)\n}\n</code></pre>\n\n<p>In fact a delegate is nothing but a signature which may be satisified by multiple methods as well. Moreover that\u00b4s the basis for events where you can register multiple event-handlers via the same delegate-definition.</p>\n\n<p>So all a delegate does it to indicate that there is a method that expects two int-values and returns an int. However it doesn\u00b4t make any assumption on where this method is defined - it might also be an anonymous one, e.g.:</p>\n\n<pre><code>Run((x, y) =&gt; x + y);\n</code></pre>\n\n<p>Of course this is some duplicated typing. However it ensures that you can\u00b4t invoke a method that doesn\u00b4t fit the delegates signature. So the only thing you can do is to use the <code>Func</code>-delegate instead of creating your own one:</p>\n\n<pre><code>public TheFunc Func&lt;int, int, int&gt; { get; set; }\n</code></pre>\n\n<p>You can set this via this statement:</p>\n\n<pre><code>Run(instanceOfMyLibrary.DoSomething);\n</code></pre>\n\n<p>or also:</p>\n\n<pre><code>Func&lt;int, int, int&gt; f = instanceOfyLibrary.DoSomething;\nRun(f);\n</code></pre>\n\n<p>NB: Your delegate must be <code>public</code> in order to provide it as parameter to your <code>Run</code>-method.</p>\n"}], "owner": {"reputation": 441, "user_id": 2977520, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/feb610afa4430f513f5807b2c35d913c?s=128&d=identicon&r=PG&f=1", "display_name": "Derf Skren", "link": "https://stackoverflow.com/users/2977520/derf-skren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 489, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510177876, "creation_date": 1510176323, "last_edit_date": 1510177753, "question_id": 47189942, "link": "https://stackoverflow.com/questions/47189942/c-declare-delegate-signature-from-existing-function", "title": "C# declare delegate signature from existing function", "body": "<p>I would like to avoid declaring the function signature twice for a delegate when I already have the function sitting there in the code. I feel like I'm missing something obvious but I can't seem to find how to do this by googling.</p>\n\n<pre><code>public class SomeLibraryV1\n{\n  public int DoSomething(int x, int y);\n}\n\npublic class SomeLibraryV2\n{\n  public int DoSomething(int x, int y);\n}\n\npublic class SomeConsumer\n{\n  // Create the delegate by manually declaring the signature again :-(\n  private delegate int DoSthDelegate(int x, int y);\n\n  public void Run(DoSthDelegate aDelegate)\n  {\n    aDelegate(1, 2);\n  }\n}\n</code></pre>\n\n<p>So what I'd like to do is just avoid the second declaration of <code>int fn(int, int)</code>. Something like</p>\n\n<pre><code>public class SomeConsumer\n{\n  // Create the delegate from the function signature we already know :-)\n  public delegate DoSthDelegate(SomeLibrary.DoSomething);\n\n  public void Run(DoSthDelegate aDelegate)\n  {\n    aDelegate(1, 2);\n  }\n}\n</code></pre>\n\n<p>This would not only save me typing every single declaration twice but would save me having to maintain things in two places should the signature of <code>DoSomething</code> change.</p>\n"}, {"tags": ["c#", "modulus"], "comments": [{"owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "edited": false, "score": 1, "creation_date": 1510176394, "post_id": 47189863, "comment_id": 81329255, "body": "For what its worth, I can&#39;t reproduce this on VS for Mac v7.2 (636). Both remainders are <code>0.0</code>"}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1510176424, "post_id": 47189863, "comment_id": 81329271, "body": "Dotnetfiddle shows 0 for both results: <a href=\"https://dotnetfiddle.net/XTHswt\" rel=\"nofollow noreferrer\">dotnetfiddle.net/XTHswt</a>  I tried the exact same code as what is in the dotnetfiddle link with <a href=\"https://www.jdoodle.com/compile-c-sharp-online\" rel=\"nofollow noreferrer\">jdoodle.com/compile-c-sharp-online</a> and it shows the issue you are describing."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1510176425, "post_id": 47189863, "comment_id": 81329272, "body": "Reproducible here: <a href=\"https://ideone.com/JHomEl\" rel=\"nofollow noreferrer\">ideone.com/JHomEl</a>"}, {"owner": {"reputation": 6063, "user_id": 3225495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/57OBG.jpg?s=128&g=1", "display_name": "BJ Myers", "link": "https://stackoverflow.com/users/3225495/bj-myers"}, "edited": false, "score": 0, "creation_date": 1510176506, "post_id": 47189863, "comment_id": 81329304, "body": "Reproduced in VS2017 version 15.4.2."}, {"owner": {"reputation": 100, "user_id": 7709709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CD60rRnUz3o/AAAAAAAAAAI/AAAAAAAAACY/ziWm7yfULFM/photo.jpg?sz=128", "display_name": "Donnoh", "link": "https://stackoverflow.com/users/7709709/donnoh"}, "edited": false, "score": 0, "creation_date": 1510176604, "post_id": 47189863, "comment_id": 81329365, "body": "what version of visual studio do you use?"}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1510176632, "post_id": 47189863, "comment_id": 81329384, "body": "Reproduced with JetBrains Rider 2017.2"}, {"owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "reply_to_user": {"reputation": 100, "user_id": 7709709, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CD60rRnUz3o/AAAAAAAAAAI/AAAAAAAAACY/ziWm7yfULFM/photo.jpg?sz=128", "display_name": "Donnoh", "link": "https://stackoverflow.com/users/7709709/donnoh"}, "edited": false, "score": 0, "creation_date": 1510176664, "post_id": 47189863, "comment_id": 81329401, "body": "@Donnoh Just added that, but it is not restricted to just this version apparently."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 2, "creation_date": 1510176895, "post_id": 47189863, "comment_id": 81329505, "body": "Oddly behaviour is different if <code>stepAmount</code> is const."}, {"owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "edited": false, "score": 0, "creation_date": 1510177070, "post_id": 47189863, "comment_id": 81329581, "body": "On my machine if I change third line to: float remainder = t % (1f / 100); I&#39;m getting two zeros and same results as you otherwise, but I&#39;d also like to know why."}, {"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 2, "creation_date": 1510178294, "post_id": 47189863, "comment_id": 81330163, "body": "Why are you using floats if precision is necessary? Using your version of VS and using decimal will not provide inconsistent results."}, {"owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "reply_to_user": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1510178559, "post_id": 47189863, "comment_id": 81330305, "body": "@SamMarion float precision is enough for me. But I just encountered this in my code and find it very strange behavior. There where several ways I could solve it but actually pin pointing the bug I had to these lines took hours, since &quot;it really should return 0&quot;."}, {"owner": {"reputation": 22589, "user_id": 542251, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c6a0ac3e18f1cd8d0f1be4c2e3a4cfbd?s=128&d=identicon&r=PG", "display_name": "Liam", "link": "https://stackoverflow.com/users/542251/liam"}, "edited": false, "score": 0, "creation_date": 1512401713, "post_id": 47189863, "comment_id": 82231594, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2342396/why-does-this-floating-point-calculation-give-different-results-on-different-mac\">Why does this floating-point calculation give different results on different machines?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "edited": false, "score": 0, "creation_date": 1510177290, "post_id": 47190081, "comment_id": 81329699, "body": "I just don&#39;t know enough to make a good comment on this but doesn&#39;t make the &quot;f&quot; in the <code>(1f &#47; stepAmount)</code> operation an entire <code>float</code> operation? Also (even more strangely?), making <code>stepamount</code> a <code>const</code> fixes the issue."}, {"owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "edited": false, "score": 0, "creation_date": 1510192094, "post_id": 47190081, "comment_id": 81334461, "body": "I think this is correct. When changing the types of t, remainder, and fractions to double in LinqPad I get <code>Remainder: 0.00999999955296516</code> for both operations."}, {"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 0, "creation_date": 1510235247, "post_id": 47190081, "comment_id": 81355423, "body": "Note that theres just a single <code>div</code> instruction in msil. There&#39;s no <code>div</code> specific for floats or doubles."}], "tags": [], "owner": {"reputation": 30926, "user_id": 767890, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e169a8a6d170a77b83dd8244df5f6890?s=128&d=identicon&r=PG", "display_name": "InBetween", "link": "https://stackoverflow.com/users/767890/inbetween"}, "is_accepted": true, "score": 8, "last_activity_date": 1510179257, "last_edit_date": 1510179257, "creation_date": 1510176901, "answer_id": 47190081, "question_id": 47189863, "link": "https://stackoverflow.com/questions/47189863/modulus-gives-wrong-outcome/47190081#47190081", "title": "Modulus gives wrong outcome?", "body": "<p>My best bet is that this is due to the liberty the runtime has to perform floating point operations with higher precision than the types involved and then truncating the result to the type's precision when assigning:</p>\n\n<blockquote>\n  <p>The CLI specification in section 12.1.3 dictates an exact precision for floating point numbers, float and double, when used in storage locations. However it allows for the precision to be exceeded when floating point numbers are used in other locations like the execution stack, arguments return values, etc \u2026 What precision is used is left to the runtime and underlying hardware. This extra precision can lead to subtle differences in floating point evaluations between different machines or runtimes.</p>\n</blockquote>\n\n<p>Source <a href=\"http://blog.paranoidcoding.com/2014/12/22/redundant-cast.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>In you first example <code>t % (1f / stepAmount)</code> can be performed entirely with a higher precision than <code>float</code> and then truncated when the result is assigned to <code>remainder</code>, while in the second example, <code>1f / stepAmount</code> is truncated and assigned to <code>fractions</code> prior to the modulus operation.</p>\n\n<p>As to why making <code>stepamount</code> a <code>const</code> makes both modulus operations consistent, the reason is that <code>1f / stepamount</code> immediately becomes a constant expression that is evaluated and truncated to float precision at <em>compile time</em> and is no different from writing <code>0.01f</code> which essentially makes both examples equivalent.</p>\n"}], "owner": {"reputation": 7554, "user_id": 1322271, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a87d7d548a034485028d036e6844006f?s=128&d=identicon&r=PG", "display_name": "Madmenyo", "link": "https://stackoverflow.com/users/1322271/madmenyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 4, "accepted_answer_id": 47190081, "answer_count": 1, "score": 14, "last_activity_date": 1510179257, "creation_date": 1510175924, "last_edit_date": 1510176713, "question_id": 47189863, "link": "https://stackoverflow.com/questions/47189863/modulus-gives-wrong-outcome", "title": "Modulus gives wrong outcome?", "body": "<p>Could anyone tell me why these two modulus calculations yield two different outcomes? I just need to blame someone or something but me for all those hours I lost finding this bug.</p>\n\n<pre><code>public void test1()\n{\n    int stepAmount = 100;\n    float t = 0.02f;\n    float remainder = t % (1f / stepAmount);\n    Debug.Log(\"Remainder: \" + remainder);\n    // Remainder: 0.01\n\n    float fractions = 1f / stepAmount;\n    remainder = t % fractions;\n    Debug.Log(\"Remainder: \" + remainder);\n    // Remainder: 0\n}\n</code></pre>\n\n<p>Using VS-2017 V15.3.5</p>\n"}, {"tags": ["c#", "asp.net-mvc", "entity-framework", "model", "data-annotations"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 3, "creation_date": 1510176080, "post_id": 47189832, "comment_id": 81329128, "body": "<code>[DisplayName]</code> is a view specific attribute and should be applied to your view models, not your data models (<a href=\"https://stackoverflow.com/questions/11064316/what-is-viewmodel-in-mvc\">What is ViewModel in MVC?</a>). And as a side note, use <code>[Display(Name = &quot;...&quot;)]</code> rather than <code>[DisplayName]</code> (<a href=\"https://stackoverflow.com/questions/5243665/displayname-attribute-vs-display-attribute\">displayname attribute vs display attribute</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 17765, "user_id": 95710, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6rg2j.png?s=128&g=1", "display_name": "DForck42", "link": "https://stackoverflow.com/users/95710/dforck42"}, "edited": false, "score": 0, "creation_date": 1510176248, "post_id": 47189885, "comment_id": 81329205, "body": "I&#39;m still learning all of this.  What od you mean by &quot;directly as View Models&quot;?"}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 1, "last_activity_date": 1510177836, "last_edit_date": 1510177836, "creation_date": 1510176037, "answer_id": 47189885, "question_id": 47189832, "link": "https://stackoverflow.com/questions/47189832/preserve-displayname-between-code-regeneration/47189885#47189885", "title": "Preserve DisplayName between code regeneration", "body": "<p>Your best option is to not use Entity Framework entities directly as View Models.  Instead create view models that represent what needs to be displayed and map the values from the entities onto the view models (using <a href=\"http://automapper.org\" rel=\"nofollow noreferrer\">AutoMapper</a> makes this a cake walk).</p>\n\n<blockquote>\n  <p>What do you mean by \"directly as View Models\"</p>\n</blockquote>\n\n<p>Your code probably looks like like:</p>\n\n<pre><code>public class MyContextDb\n{\n  public DbSet&lt;EmployeeType&gt; EmployeeTypes { get; set; }\n}\n\npublic class MyController\n{\n  public ActionResult Index()\n  {\n    using (var db = new MyDbContext)\n    {\n      var emp = db.EmployeeTypes.FirstOrDefault();\n      return View(emp);  // &lt;-- passing EF entity as view model\n    }\n  }\n}\n</code></pre>\n\n<p>Instead</p>\n\n<pre><code>public EmployeeTypeVM\n{\n  // Properties you want to expose and annotate\n}\n\n    using (var db = new MyDbContext)\n    {\n      var emp = db.EmployeeTypes.FirstOrDefault();\n      var vm = Mapper.Map&lt;EmployeeTypeVM&gt;(emp);\n      return View(vm);  // &lt;-- passing view model\n    }\n</code></pre>\n\n<p>I always recommend this approach as you don't normally change the emp, just the vm with logic and an accidental <code>SaveChanged()</code> doesn't affect real data.</p>\n"}, {"comments": [{"owner": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "reply_to_user": {"reputation": 17765, "user_id": 95710, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6rg2j.png?s=128&g=1", "display_name": "DForck42", "link": "https://stackoverflow.com/users/95710/dforck42"}, "edited": false, "score": 1, "creation_date": 1510178126, "post_id": 47189994, "comment_id": 81330082, "body": "<a href=\"https://www.exceptionnotfound.net/entity-framework-and-wcf-mapping-entities-to-dtos-with-automapper/\" rel=\"nofollow noreferrer\">This</a> seems to be a solid article on a quick Google search. I would however advise to start by mapping by hand before you use AutoMapper to really understand the mapping process and where the benefits are. AutoMapper can act as a magic wand when you don&#39;t really understand the process."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510178215, "post_id": 47189994, "comment_id": 81330125, "body": "@Ric.Net especially when Lazy Loading is turned on, Automapper can severely degrade systems."}, {"owner": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510179514, "post_id": 47189994, "comment_id": 81330713, "body": "@ErikPhilips exactly! I therefore don&#39;t use AutoMapper anymore. Good point!"}], "tags": [], "owner": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "is_accepted": true, "score": 2, "last_activity_date": 1510176578, "creation_date": 1510176578, "answer_id": 47189994, "question_id": 47189832, "link": "https://stackoverflow.com/questions/47189832/preserve-displayname-between-code-regeneration/47189994#47189994", "title": "Preserve DisplayName between code regeneration", "body": "<p>EF is using T4 templates to generate the code. You should never edit these files, because they could be regenerated anytime when you open the designer.</p>\n\n<p>There is a way to do this, using the <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\"><code>MetadataTypeAttribute</code></a>`</p>\n\n<p>EF generates the models as partial classes, so you can add another part in a different file, which won't be regenerated and a the <code>MetadataTypeAttribute</code> to it. This will point to yet another class in which you can duplicate the properties and supply the <code>DisplayNameAttribute</code>. Like this:</p>\n\n<pre><code>[MetadataType(typeof(EmployeeTypeMetaData))]\npublic partial class EmployeeType  { }\n\npublic class EmployeeTypeMetaData\n{\n    [Required(ErrorMessage = \"Title is required.\")]\n    public object Title;\n\n    // etc\n}\n</code></pre>\n\n<p>This would the job... However:</p>\n\n<p>You should not use this for the following reasons:</p>\n\n<ul>\n<li>This will give you a maintenance nightmare. Any time your model changes you need to change the metadata also</li>\n<li>You should never use your ef models directly in views of some kind. Use <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">DTO</a> objects in between and map between the ef models and the DTO. Mapping can be done either by hand of by a tool like <a href=\"http://automapper.org/\" rel=\"nofollow noreferrer\">AutoMapper</a></li>\n</ul>\n"}], "owner": {"reputation": 17765, "user_id": 95710, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6rg2j.png?s=128&g=1", "display_name": "DForck42", "link": "https://stackoverflow.com/users/95710/dforck42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 47189994, "answer_count": 2, "score": 0, "last_activity_date": 1510177836, "creation_date": 1510175768, "last_edit_date": 1510177026, "question_id": 47189832, "link": "https://stackoverflow.com/questions/47189832/preserve-displayname-between-code-regeneration", "title": "Preserve DisplayName between code regeneration", "body": "<p>I have created a database in SQL Server and have used Entity Framework to create a model in my C# MVC 5 project.  In my models I am using System.ComponentModel to give a DisplayName to several properties (or columns).  Example:</p>\n\n<pre><code>namespace ProjectTracking.Models\n{\n    using System;\n    using System.Collections.Generic;\n    using System.ComponentModel;\n\n    public partial class EmployeeType\n    {\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2214:DoNotCallOverridableMethodsInConstructors\")]\n        public EmployeeType()\n        {\n            this.Employees = new HashSet&lt;Employee&gt;();\n        }\n\n        [DisplayName(\"Employee Type ID\")]\n        public int PK_EmployeeTypeID { get; set; }\n\n        [DisplayName(\"Employee Type Name\")]\n        public string EmployeeTypeName { get; set; }\n\n        [System.Diagnostics.CodeAnalysis.SuppressMessage(\"Microsoft.Usage\", \"CA2227:CollectionPropertiesShouldBeReadOnly\")]\n        public virtual ICollection&lt;Employee&gt; Employees { get; set; }\n    }\n}\n</code></pre>\n\n<p>The problem that I've run into is that, if I update the database and update my model, I lose all of this information as all of the model classes are regenerated.  Is there a way to persist this information?</p>\n"}, {"tags": ["c#", "datetime", "reflection", "nullable"], "comments": [{"owner": {"reputation": 3812, "user_id": 3085985, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/888a12312ba45899c6c6f1eb409930c6?s=128&d=identicon&r=PG&f=1", "display_name": "Compufreak", "link": "https://stackoverflow.com/users/3085985/compufreak"}, "edited": false, "score": 0, "creation_date": 1510175926, "post_id": 47189799, "comment_id": 81329055, "body": "It would help if you provide the CloneProcedure-method."}, {"owner": {"reputation": 159, "user_id": 4583547, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-T6lw9wfsRZg/AAAAAAAAAAI/AAAAAAAAAY0/eP7C_bac1EA/photo.jpg?sz=128", "display_name": "Kavya Shetty", "link": "https://stackoverflow.com/users/4583547/kavya-shetty"}, "reply_to_user": {"reputation": 3812, "user_id": 3085985, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/888a12312ba45899c6c6f1eb409930c6?s=128&d=identicon&r=PG&f=1", "display_name": "Compufreak", "link": "https://stackoverflow.com/users/3085985/compufreak"}, "edited": false, "score": 0, "creation_date": 1510176060, "post_id": 47189799, "comment_id": 81329116, "body": "@Compufreak Updated my question"}], "answers": [{"tags": [], "owner": {"reputation": 3812, "user_id": 3085985, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/888a12312ba45899c6c6f1eb409930c6?s=128&d=identicon&r=PG&f=1", "display_name": "Compufreak", "link": "https://stackoverflow.com/users/3085985/compufreak"}, "is_accepted": false, "score": 0, "last_activity_date": 1510177439, "creation_date": 1510177439, "answer_id": 47190212, "question_id": 47189799, "link": "https://stackoverflow.com/questions/47189799/c-reflection-deep-copy-set-datetime-values/47190212#47190212", "title": "c# Reflection deep copy set Datetime values", "body": "<p>You are not returing anything if your if is false.</p>\n\n<p>This code is working in a .Net 4.5.2 Console application :</p>\n\n<pre><code>public class Program\n{\n    public static void Main()\n    {\n        ComplexClass t = new ComplexClass()\n        {\n            x = DateTime.Now\n        };\n        object t2 = CloneProcedure(t);\n        Console.WriteLine(t.x);\n        Console.ReadLine();\n    }\n    private static object CloneProcedure(Object obj)\n    {\n        var type = obj.GetType();\n        if (type.IsPrimitive || type.IsEnum || type == typeof(string))\n        {\n            return obj;\n        }\n        else if (type.IsClass || type.IsValueType)\n        {\n            object copiedObject = Activator.CreateInstance(obj.GetType());\n            // Get all PropertyInfo.\n            PropertyInfo[] properties = type.GetProperties(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance);\n            foreach (PropertyInfo property in properties)\n            {\n                object propertyValue = property.GetValue(obj);\n                if (propertyValue != null &amp;&amp; property.CanWrite &amp;&amp; property.GetSetMethod() != null)\n                {\n                    property.SetValue(copiedObject, CloneProcedure(propertyValue));\n                }\n            }\n        }\n        return obj;\n    }\n\n    public class ComplexClass\n    {\n        public DateTime x { get; set; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4583547, "user_type": "registered", "accept_rate": 21, "profile_image": "https://lh5.googleusercontent.com/-T6lw9wfsRZg/AAAAAAAAAAI/AAAAAAAAAY0/eP7C_bac1EA/photo.jpg?sz=128", "display_name": "Kavya Shetty", "link": "https://stackoverflow.com/users/4583547/kavya-shetty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510177439, "creation_date": 1510175606, "last_edit_date": 1510176034, "question_id": 47189799, "link": "https://stackoverflow.com/questions/47189799/c-reflection-deep-copy-set-datetime-values", "title": "c# Reflection deep copy set Datetime values", "body": "<p>I am trying to deep copy a complex object that has some date properties. I am getting \"The value '' could not be converted to a valid date\" error. I am using below code for copying:-</p>\n\n<pre><code>private static object CloneProcedure(Object obj)\n{\n    if (type.IsPrimitive || type.IsEnum || type == typeof(string))\n    {\n        return obj;\n    }\n    else if (type.IsClass || type.IsValueType)\n    {\n        object copiedObject = Activator.CreateInstance(obj.GetType());\n        // Get all PropertyInfo.\n        PropertyInfo[] properties = type.GetProperties(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance);\n        foreach (PropertyInfo property in properties)\n        {\n            object propertyValue = property.GetValue(obj);\n            if (propertyValue != null &amp;&amp; property.CanWrite &amp;&amp; property.GetSetMethod() != null)\n            {\n                property.SetValue(copiedObject, CloneProcedure(propertyValue));\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc", "iterator", "yield-return"], "comments": [{"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510174901, "post_id": 47189593, "comment_id": 81328554, "body": "return <code>IEnumerable</code> of what type?"}, {"owner": {"reputation": 171, "user_id": 3044096, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d6c4bd5a98372fa3e35d8a59cf8e7f33?s=128&d=identicon&r=PG&f=1", "display_name": "user3044096", "link": "https://stackoverflow.com/users/3044096/user3044096"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510174921, "post_id": 47189593, "comment_id": 81328567, "body": "object would suffice"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510175014, "post_id": 47189593, "comment_id": 81328618, "body": "Then your method should be <code>IEnumerable&lt;object&gt;</code> not just <code>IEnumerable</code>?"}, {"owner": {"reputation": 171, "user_id": 3044096, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d6c4bd5a98372fa3e35d8a59cf8e7f33?s=128&d=identicon&r=PG&f=1", "display_name": "user3044096", "link": "https://stackoverflow.com/users/3044096/user3044096"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510175233, "post_id": 47189593, "comment_id": 81328729, "body": "Tried that, it didn&#39;t work, and I just found out it&#39;s not even getting to the controller, I mean I can&#39;t debug"}, {"owner": {"reputation": 49639, "user_id": 231716, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f983f7a23d33aa383453583cbf20bf2a?s=128&d=identicon&r=PG", "display_name": "Brian Mains", "link": "https://stackoverflow.com/users/231716/brian-mains"}, "edited": false, "score": 0, "creation_date": 1510178238, "post_id": 47189593, "comment_id": 81330141, "body": "$.ajax uses <code>error:</code>, not <code>failure:</code>, so try tapping into that and seeing what error is returned..."}, {"owner": {"reputation": 171, "user_id": 3044096, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d6c4bd5a98372fa3e35d8a59cf8e7f33?s=128&d=identicon&r=PG&f=1", "display_name": "user3044096", "link": "https://stackoverflow.com/users/3044096/user3044096"}, "edited": false, "score": 0, "creation_date": 1510178636, "post_id": 47189593, "comment_id": 81330341, "body": "there&#39;s no error, it&#39;s printing &quot;GetData_21&quot; at   console.log(result);"}], "owner": {"reputation": 171, "user_id": 3044096, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d6c4bd5a98372fa3e35d8a59cf8e7f33?s=128&d=identicon&r=PG&f=1", "display_name": "user3044096", "link": "https://stackoverflow.com/users/3044096/user3044096"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 650, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510174919, "creation_date": 1510174712, "last_edit_date": 1510174919, "question_id": 47189593, "link": "https://stackoverflow.com/questions/47189593/can-i-use-yield-return-on-an-mvc-method-if-so-how-do-i-get-data-in-ajax-reques", "title": "Can I use &quot;yield return&quot; on an mvc method if so how do I get data in ajax request?", "body": "<p>I can't find any information/question regarding this issue, I have a controller with a method that returns a yield return, I'm using ajax to do the request but all I get back is text, let me show you. </p>\n\n<pre><code>[HttpPost]\npublic IEnumerable GetData(int par1, int par2)\n{ \n    foreach(var data in GetData())\n    {\n        yield return data ; \n    }\n}\n</code></pre>\n\n<p>This is the response I'm getting: </p>\n\n<p>GetData_21</p>\n\n<p>I'm calling the method like this: </p>\n\n<pre><code>$.ajax({\n            type: 'POST',\n            url: url,\n            data: {\n                par1: 2,\n                par2: 2\n            },  \n            success: function (result) {\n                console.log(result); \n            },\n            failure: function () {\n            }\n        });\n</code></pre>\n"}, {"tags": ["c#", "json"], "answers": [{"tags": [], "owner": {"reputation": 11630, "user_id": 5149474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atyzF.jpg?s=128&g=1", "display_name": "Eser", "link": "https://stackoverflow.com/users/5149474/eser"}, "is_accepted": true, "score": 1, "last_activity_date": 1510175868, "creation_date": 1510175868, "answer_id": 47189853, "question_id": 47189558, "link": "https://stackoverflow.com/questions/47189558/c-jsonconverter-custom-serialization/47189853#47189853", "title": "C# JSONConverter custom Serialization", "body": "<p>If you declare a mode like</p>\n\n<pre><code>public class NestedStats\n{\n    public string kind { get; set; }\n    public string selfLink { get; set; }\n}\n\npublic class Entry\n{\n    public NestedStats NestedStats { get; set; }\n}\n\npublic class Root\n{\n    public string kind { get; set; }\n    public int generation { get; set; }\n    public string selfLink { get; set; }\n    public Dictionary&lt;string, Entry&gt; entries { get; set; }\n}\n</code></pre>\n\n<p>Then you can deserialize as</p>\n\n<pre><code>var obj = JsonConvert.DeserializeObject&lt;Root&gt;(json);\n</code></pre>\n"}], "owner": {"reputation": 3785, "user_id": 2659189, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/aa5208474e7a4c1b7f5dc483beb9e222?s=128&d=identicon&r=PG", "display_name": "blgrnboy", "link": "https://stackoverflow.com/users/2659189/blgrnboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 47189853, "answer_count": 1, "score": -1, "last_activity_date": 1510214657, "creation_date": 1510174623, "last_edit_date": 1510214657, "question_id": 47189558, "link": "https://stackoverflow.com/questions/47189558/c-jsonconverter-custom-serialization", "title": "C# JSONConverter custom Serialization", "body": "<p>I am receiving JSON  from a certain API has a dynamic property. </p>\n\n<p>I have taken a a custom JsonConverter approach. Is there a simpler way to deal with this?</p>\n\n<p><strong>Here is the JSON returned</strong>:</p>\n\n<pre><code>{\n    \"kind\": \"tm:ltm:pool:poolstats\",\n    \"generation\": 1,\n    \"selfLink\": \"https://localhost/mgmt/tm/ltm/pool/test-mypoolname_https_main/stats?ver=12.1.2\",\n    \"entries\": {\n        \"https://localhost/mgmt/tm/ltm/pool/test-mypoolname_https_main/~Common~test-mypoolname_https_main/stats\": {\n            \"nestedStats\": {\n                \"kind\": \"tm:ltm:pool:poolstats\",\n                \"selfLink\": \"https://localhost/mgmt/tm/ltm/pool/test-mypoolname_https_main/~Common~test-mypoolname_https_main/stats?ver=12.1.2\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>\"entries\": { \"https://...\" }</code> is that part that always changes, depending on what I request from the API.</p>\n\n<p><strong>Here is the class structure that will hold this information:</strong></p>\n\n<pre><code>public partial class PoolStatistics\n{\n    [JsonProperty(\"entries\")]\n    public EntriesWrapper Entries { get; set; }\n\n    [JsonProperty(\"generation\")]\n    public long Generation { get; set; }\n\n    [JsonProperty(\"kind\")]\n    public string Kind { get; set; }\n\n    [JsonProperty(\"selfLink\")]\n    public string SelfLink { get; set; }\n\n\n    [JsonConverter(typeof(PoolEntriesConverter))]\n    public partial class EntriesWrapper\n    {\n        public string Name { get; set; }\n\n        [JsonProperty(\"nestedStats\")]\n        public NestedStats NestedStats { get; set; }\n    }\n\n    public partial class NestedStats\n    {\n        [JsonProperty(\"kind\")]\n        public string Kind { get; set; }\n\n        [JsonProperty(\"selfLink\")]\n        public string SelfLink { get; set; }\n    }\n}\n</code></pre>\n\n<p><strong>Override to Deserialize, via the following on the <code>PoolEntriesConverter</code>:</strong></p>\n\n<pre><code>public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n{\n    JObject jo = JObject.Load(reader);\n    NestedStats nestedStats = (jo.First.First[NESTED_STATS]).ToObject&lt;NestedStats&gt;();\n\n    EntriesWrapper entries = new EntriesWrapper\n    {\n        NestedStats = nestedStats,\n        Name = jo.First.Path\n    };\n\n    return entries;\n}\n</code></pre>\n\n<p><strong>Overriden WriteJson (Serialization) - which is throwing an exception:</strong></p>\n\n<pre><code>public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n{\n    EntriesWrapper entries = (EntriesWrapper)value;\n\n    JObject jo = new JObject(\n        new JProperty(NESTED_STATS, entries.NestedStats),\n        new JProperty(entries.Name, entries.Name));\n}\n</code></pre>\n\n<p>The error states:</p>\n\n<blockquote>\n  <p>System.ArgumentException: 'Could not determine JSON object type for\n  type F5IntegrationLib.Models.Pools.PoolStatistics+NestedStats.'</p>\n</blockquote>\n"}, {"tags": ["c#", "mstest"], "owner": {"reputation": 1236, "user_id": 1162324, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d33728a4fd234a9c00e390766928525f?s=128&d=identicon&r=PG", "display_name": "Max Young", "link": "https://stackoverflow.com/users/1162324/max-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510174608, "creation_date": 1510174608, "question_id": 47189552, "link": "https://stackoverflow.com/questions/47189552/initialize-testcontext-without-using-mstest", "title": "Initialize TestContext without using mstest", "body": "<p>I am building a WPF application to run our UIA tests so that our QA testers can run them as well. The TestContext is set when I run from the test explorer or from mstest but is null when running from my application. From what I have read mstest is doing something to initialize the TestContext on each of my test classes and I would like to mimic what it is doing. Here is my code so you can see what my test class looks like.</p>\n\n<pre><code>[TestClass]\npublic class Tests\n{\n    public TestContext TestContext { get; set; }\n\n    [TestInitialize]\n    public void TestInitialize()\n    {\n        Logger.StartTestCaseRun(TestContext.TestName);\n    }\n\n    [TestCleanup]\n    public void TestCleanup()\n    {\n        Logger.EndTestCaseRun(TestContext.CurrentTestOutcome);\n    }\n\n\n    [TestMethod]\n    public void TestMethod()\n    {\n        //DO WORK\n    }\n}\n</code></pre>\n\n<p>Does anyone know what I would need to do to create a instance of the <code>TestContext</code> for each of my tests so I can mimic mstest?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-core", "automapper"], "comments": [{"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510176570, "post_id": 47189545, "comment_id": 81329341, "body": "Can you add your mapping configuration for the related objects?"}, {"owner": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510176707, "post_id": 47189545, "comment_id": 81329417, "body": "@12seconds Added."}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510176833, "post_id": 47189545, "comment_id": 81329484, "body": "What about the mapping between <code>UserResponse</code> and <code>User</code>? Is it just the standard <code>MapFrom</code>?"}, {"owner": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510177070, "post_id": 47189545, "comment_id": 81329580, "body": "@12seconds No, sorry. Added the mapping for that too."}, {"owner": {"reputation": 2940, "user_id": 2876310, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8444f15b861a110d9bd1b99cc3c4b499?s=128&d=identicon&r=PG&f=1", "display_name": "neustart47", "link": "https://stackoverflow.com/users/2876310/neustart47"}, "edited": false, "score": 0, "creation_date": 1512733510, "post_id": 47189545, "comment_id": 82387250, "body": "Did you resolve you problem ?"}, {"owner": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "reply_to_user": {"reputation": 2940, "user_id": 2876310, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8444f15b861a110d9bd1b99cc3c4b499?s=128&d=identicon&r=PG&f=1", "display_name": "neustart47", "link": "https://stackoverflow.com/users/2876310/neustart47"}, "edited": false, "score": 0, "creation_date": 1512773582, "post_id": 47189545, "comment_id": 82407309, "body": "@neustart47 No. I stopped working with Automapper."}], "answers": [{"comments": [{"owner": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1510312380, "post_id": 47206074, "comment_id": 81392521, "body": "Thank you for your reply. The first option is probably not feasible because <code>ApplicationDbContext</code> is managed by ASP.NET core&#39;s dependency injection mechanism. Trying to make it automatically inject a db context into a <code>Profile</code> led to similar errors. I&#39;m not sure where the second option should be described. Should I put that initialization in the <code>Profile</code> constructor?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "reply_to_user": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1510315946, "post_id": 47206074, "comment_id": 81394710, "body": "@Shoe the <code>Mapper.Initialize</code> I usually initialise my profiles in the Startup. How did you initialise yours?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "reply_to_user": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1510316165, "post_id": 47206074, "comment_id": 81394856, "body": "@Shoe take a look at this, might help. 3rd snippet <a href=\"https://lostechies.com/jimmybogard/2016/07/20/integrating-automapper-with-asp-net-core-di/\" rel=\"nofollow noreferrer\">lostechies.com/jimmybogard/2016/07/20/&hellip;</a>"}, {"owner": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "edited": false, "score": 0, "creation_date": 1538850610, "post_id": 47206074, "comment_id": 92292418, "body": "What is <code>container</code> here?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "reply_to_user": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "edited": false, "score": 0, "creation_date": 1538850723, "post_id": 47206074, "comment_id": 92292440, "body": "@Zenexer, that would be dependent on what Dependency Injection you are using, in answer above is <code>SimpleInjector</code>"}, {"owner": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "reply_to_user": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "edited": false, "score": 0, "creation_date": 1538850832, "post_id": 47206074, "comment_id": 92292470, "body": "If I had to guess, I would say this question is using the built-in DI in ASP.NET Core, which is why @Shoe was never able to get it to work.  Is there a way to use AutoMapper in this context without breaking the DI paradigm?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "reply_to_user": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "edited": false, "score": 0, "creation_date": 1538850985, "post_id": 47206074, "comment_id": 92292508, "body": "@Zenexer, the link to jimmybogard on my comment above, shows you an example with dotnet core."}, {"owner": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "edited": false, "score": 1, "creation_date": 1538851136, "post_id": 47206074, "comment_id": 92292571, "body": "@penleychan That seems like it&#39;s reinventing the wheel when <a href=\"https://github.com/AutoMapper/AutoMapper.Extensions.Microsoft.DependencyInjection/\" rel=\"nofollow noreferrer\">this exists</a>, plus it&#39;s extremely complicated and defeats the purpose."}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1538851321, "post_id": 47206074, "comment_id": 92292617, "body": "Yah I agree, however I don&#39;t have a solution for what you are looking for. I don&#39;t use automapper anymore in my projects."}, {"owner": {"reputation": 16193, "user_id": 1188377, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/63f3c02db51b338549e6e7aff4afbb36?s=128&d=identicon&r=PG", "display_name": "Zenexer", "link": "https://stackoverflow.com/users/1188377/zenexer"}, "edited": false, "score": 0, "creation_date": 1538851921, "post_id": 47206074, "comment_id": 92292778, "body": "Looks like my problem was slightly different: I was making <a href=\"https://github.com/AutoMapper/AutoMapper.Extensions.Microsoft.DependencyInjection/issues/18\" rel=\"nofollow noreferrer\">this mistake</a>.  Dropping a link to that issue here in case anyone else runs into it."}], "tags": [], "owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "is_accepted": true, "score": 6, "last_activity_date": 1510243016, "last_edit_date": 1510243016, "creation_date": 1510242480, "answer_id": 47206074, "question_id": 47189545, "link": "https://stackoverflow.com/questions/47189545/no-parameterless-constructor-defined-for-this-object-in-automapper/47206074#47206074", "title": "No parameterless constructor defined for this object in automapper", "body": "<p>sorry for long response time since yesterday was exhausted after work.</p>\n\n<p>I was able to replicate your issue. You have 2 options:</p>\n\n<p>1st Option Resolve your <code>StudentResolver</code> with your <code>DbContext</code>: </p>\n\n<pre><code>CreateMap&lt;Lesson, LessonResponse&gt;()\n            .ForMember(\n                dest =&gt; dest.Student,\n                opts =&gt; opts.ResolveUsing(new StudentResolver(ApplicationDbContext.Create())));\n</code></pre>\n\n<p>2nd Option, configure your mapper configuration <code>ConstructServicesUsing</code>. In my case I was using Simple Injector to test things out.</p>\n\n<pre><code>Mapper.Initialize(cfg =&gt;\n        {\n            cfg.ConstructServicesUsing(type =&gt; container.GetInstance(typeof(StudentResolver)));\n            cfg.AddProfile&lt;MappingProfile&gt;();\n        });\n</code></pre>\n\n<p>For my testing, I was getting an error thrown <code>var lessonResponse = Mapper.Map&lt;LessonResponse&gt;(lesson);</code></p>\n\n<p>So if your is thrown for <code>Mapper.Map&lt;UserResponse&gt;(user);</code> you may have to ConstructService for <code>IsAdminResolver</code>, <code>IsInstructorResolver</code> and <code>IsClientResolver</code></p>\n"}, {"tags": [], "owner": {"reputation": 2940, "user_id": 2876310, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8444f15b861a110d9bd1b99cc3c4b499?s=128&d=identicon&r=PG&f=1", "display_name": "neustart47", "link": "https://stackoverflow.com/users/2876310/neustart47"}, "is_accepted": false, "score": 8, "last_activity_date": 1536657565, "last_edit_date": 1536657565, "creation_date": 1512747256, "answer_id": 47717456, "question_id": 47189545, "link": "https://stackoverflow.com/questions/47189545/no-parameterless-constructor-defined-for-this-object-in-automapper/47717456#47717456", "title": "No parameterless constructor defined for this object in automapper", "body": "<p>I had the same problem because of my inattention... I generate by Visual Studio quick tip default constructor for class inherited from <code>Profile</code> which was <code>protected</code> instead of <code>public</code>. Probably that will help somebody because I spent a few hours to figure out that</p>\n"}, {"tags": [], "owner": {"reputation": 860, "user_id": 7957152, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Zau9s.jpg?s=128&g=1", "display_name": "Shawn Beachy", "link": "https://stackoverflow.com/users/7957152/shawn-beachy"}, "is_accepted": false, "score": 3, "last_activity_date": 1539041285, "creation_date": 1539041285, "answer_id": 52711343, "question_id": 47189545, "link": "https://stackoverflow.com/questions/47189545/no-parameterless-constructor-defined-for-this-object-in-automapper/52711343#52711343", "title": "No parameterless constructor defined for this object in automapper", "body": "<p>In case anyone else does the same thing I did, here's what my problem was:</p>\n\n<pre><code>public sealed class MyProfile : Profile\n{\n    MyProfile()\n    {\n        // Configuration\n    }\n}\n</code></pre>\n\n<p>As you can see, I forgot to mark the constructor as <code>public</code>. Once I marked it public everything worked fine.</p>\n"}, {"tags": [], "owner": {"reputation": 3026, "user_id": 1288473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/6NhQ5.jpg?s=128&g=1", "display_name": "Eternal21", "link": "https://stackoverflow.com/users/1288473/eternal21"}, "is_accepted": false, "score": 0, "last_activity_date": 1563909976, "creation_date": 1563909976, "answer_id": 57170943, "question_id": 47189545, "link": "https://stackoverflow.com/questions/47189545/no-parameterless-constructor-defined-for-this-object-in-automapper/57170943#57170943", "title": "No parameterless constructor defined for this object in automapper", "body": "<p>In my case I had the following mapper:</p>\n\n<pre><code>public class Mapper : Profile\n{\n   public Mapper(IConfiguration configuration)\n   {\n\n   }\n}\n</code></pre>\n\n<p>The fix was removing configuration parameter from the constructor (and thus making it parameterless constructor).</p>\n"}, {"tags": [], "owner": {"reputation": 987, "user_id": 5007985, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206047215432826/picture?type=large", "display_name": "Mohsen Tabareh", "link": "https://stackoverflow.com/users/5007985/mohsen-tabareh"}, "is_accepted": false, "score": 1, "last_activity_date": 1587452090, "last_edit_date": 1587452090, "creation_date": 1587128661, "answer_id": 61272379, "question_id": 47189545, "link": "https://stackoverflow.com/questions/47189545/no-parameterless-constructor-defined-for-this-object-in-automapper/61272379#61272379", "title": "No parameterless constructor defined for this object in automapper", "body": "<p>We had the same problem and it turned out that this line of code should have been the last line of code in our startup</p>\n\n<p><code>services.AddAutoMapper(AppDomain.CurrentDomain.GetAssemblies());</code></p>\n\n<p>Furthermore, when loading autofac modules, we moved our local registrations to the last lines so they overwrite the ones comming from nuget packages.</p>\n\n<p>Pleased note that removing a constructor is not the solution so try to fix your dependency injection issues as mentioned above.</p>\n"}], "owner": {"reputation": 69792, "user_id": 493122, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1f90ae01c2e24801c2df9189179b0ccd?s=128&d=identicon&r=PG", "display_name": "Shoe", "link": "https://stackoverflow.com/users/493122/shoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9084, "favorite_count": 0, "accepted_answer_id": 47206074, "answer_count": 5, "score": 3, "last_activity_date": 1587452090, "creation_date": 1510174593, "last_edit_date": 1592644375, "question_id": 47189545, "link": "https://stackoverflow.com/questions/47189545/no-parameterless-constructor-defined-for-this-object-in-automapper", "title": "No parameterless constructor defined for this object in automapper", "body": "<h3>Question</h3>\n<p>I have the following value resolver:</p>\n<pre><code>public class StudentResolver : IValueResolver&lt;Lesson, LessonResponse, UserResponse&gt;\n{\n    private readonly ApplicationDbContext _dbContext;\n\n    public StudentResolver(ApplicationDbContext dbContext)\n    {\n        _dbContext = dbContext;\n    }\n    \n    public UserResponse Resolve(\n        Lesson lesson, \n        LessonResponse response, \n        UserResponse member, \n        ResolutionContext context)\n    {\n        var user = _dbContext.Users\n            .Where(x =&gt; x.Id == lesson.StudentId)\n            .FirstOrDefault();\n        if (user == null)\n            return null;\n        var result = Mapper.Map&lt;UserResponse&gt;(user); // this line triggers a &quot;no parameterless constructor&quot;, why?\n        return result;\n    }\n}\n</code></pre>\n<p>This resolver tries to fetch the <code>Student</code> attribute for this model:</p>\n<pre><code>public class LessonResponse\n{\n    public string Id { get; set; }\n\n    public UserResponse Student { get; set; }\n}\n</code></pre>\n<p>But on the line:</p>\n<pre><code>var result = Mapper.Map&lt;UserResponse&gt;(user);\n</code></pre>\n<p>I get:</p>\n<blockquote>\n<p>{System.MissingMethodException: No parameterless constructor defined for this object.   at System.RuntimeTypeHandle.CreateInstance(RuntimeType type, Boolean publicOnly, Boolean&amp; canBeCached, RuntimeMethodHandleInternal&amp; ctor)   at System.RuntimeType.CreateInstanceSlow(Boolean publicOnly, Boolean skipCheckThis, Boolean fillCache, StackCrawlMark&amp; stackMark)   at System.Activator.CreateInstance(Type type, Boolean nonPublic)   at System.Activator.CreateInstance(Type type)   at AutoMapper.MappingOperationOptions`2.CreateInstanceT}</p>\n</blockquote>\n<p>The only type in that expression that should be created is <code>UserResponse</code> which is defined as follows:</p>\n<pre><code>public class UserResponse\n{\n    public string Id { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string FullName { get; set; }\n    public string UserName { get; set; }\n    public string Email { get; set; }\n    public string PhoneNumber { get; set; }\n    public string Picture { get; set; }\n    public string X { get; set; }\n\n    public bool IsAdmin { get; set; }\n    public bool IsClient { get; set; }\n    public bool IsInstructor { get; set; }\n}\n</code></pre>\n<p>But it is constructible, so what am I doing wrong?</p>\n<hr>\n<h3>Extra</h3>\n<p>The mapping profile is the following:</p>\n<pre><code>public class MappingProfile : Profile \n{\n    public MappingProfile() {\n        CreateMap&lt;Lesson, LessonResponse&gt;()                \n            .ForMember(\n                dest =&gt; dest.Student,\n                opts =&gt; opts.ResolveUsing&lt;StudentResolver&gt;());\n\n    }\n}\n</code></pre>\n<p>And the mapping for the user is:</p>\n<pre><code>public class MappingProfile : Profile \n{\n    public MappingProfile() {\n        CreateMap&lt;ApplicationUser, UserResponse&gt;()\n            .ForMember(\n                dest =&gt; dest.FullName, \n                opts =&gt; opts.MapFrom(\n                    origin =&gt; origin.FirstName + &quot; &quot; + origin.LastName))\n            .ForMember(\n                dest =&gt; dest.IsAdmin,\n                opts =&gt; opts.ResolveUsing&lt;IsAdminResolver&gt;())\n            .ForMember(\n                dest =&gt; dest.IsInstructor,\n                opts =&gt; opts.ResolveUsing&lt;IsInstructorResolver&gt;())\n            .ForMember(\n                dest =&gt; dest.IsClient,\n                opts =&gt; opts.ResolveUsing&lt;IsClientResolver&gt;());\n    }\n}\n</code></pre>\n<p>The boolean resolvers are all similar to:</p>\n<pre><code>public class IsAdminResolver : IValueResolver&lt;ApplicationUser, UserResponse, bool&gt;\n{\n    private readonly UserManager&lt;ApplicationUser&gt; _userManager;\n\n    public IsAdminResolver(UserManager&lt;ApplicationUser&gt; userManager)\n    {\n        _userManager = userManager;\n    }\n    \n    public bool Resolve(ApplicationUser user, UserResponse response, bool member, ResolutionContext context)\n    {\n        return _userManager.IsInRoleAsync(user, &quot;Admin&quot;).Result;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 61, "user_id": 7206085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64614508719939f0bca99981a728c9fb?s=128&d=identicon&r=PG&f=1", "display_name": "MiniKh", "link": "https://stackoverflow.com/users/7206085/minikh"}, "edited": false, "score": 1, "creation_date": 1511979499, "post_id": 47189505, "comment_id": 82076202, "body": "This was extensiblity project and was giving error with x64. I changed to x86 it builds fine."}], "owner": {"reputation": 61, "user_id": 7206085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/64614508719939f0bca99981a728c9fb?s=128&d=identicon&r=PG&f=1", "display_name": "MiniKh", "link": "https://stackoverflow.com/users/7206085/minikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 950, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1510174440, "creation_date": 1510174440, "question_id": 47189505, "link": "https://stackoverflow.com/questions/47189505/getting-error-on-build-server-the-getdependsonnetstandard-task-failed-unexpect", "title": "Getting error on build server The &quot;GetDependsOnNETStandard&quot; task failed unexpectedly", "body": "<p>I am building a project on my development machine it builds fine but on build server its gives following error. Can anybody tell me what can be the problem?</p>\n\n<blockquote>\n  <p>2017-11-08T20:38:30.5249293Z (ImplicitlyExpandNETStandardFacades\n  target) ->  2017-11-08T20:38:30.5249293Z   C:\\Program Files\n  (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018: The \"GetDependsOnNETStandard\" task failed unexpectedly.\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5249293Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018: System.Runtime.InteropServices.COMException\n  (0x8013110B): No .CLB data in the memory or stream. (Exception from\n  HRESULT: 0x8013110B)\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5249293Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018:    at\n  Microsoft.NET.Build.Tasks.GetDependsOnNETStandard.IMetaDataDispenser.OpenScope(String\n  szScope, UInt32 dwOpenFlags, Guid&amp; riid)\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5249293Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018:    at\n  Microsoft.NET.Build.Tasks.GetDependsOnNETStandard.GetFileDependsOnNETStandard(String\n  filePath)\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5249293Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018:    at\n  Microsoft.NET.Build.Tasks.GetDependsOnNETStandard.AnyReferenceDependsOnNETStandard()\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5249293Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018:    at\n  Microsoft.NET.Build.Tasks.GetDependsOnNETStandard.ExecuteCore()\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5405544Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018:    at Microsoft.NET.Build.Tasks.TaskBase.Execute()\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5405544Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018:    at\n  Microsoft.Build.BackEnd.TaskExecutionHost.Microsoft.Build.BackEnd.ITaskExecutionHost.Execute()\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5405544Z C:\\Program Files (x86)\\Microsoft Visual\n  Studio\\2017\\Enterprise\\MSBuild\\Microsoft\\Microsoft.NET.Build.Extensions\\Microsoft.NET.Build.Extensions.NETFramework.targets(48,5):\n  error MSB4018:    at\n  Microsoft.Build.BackEnd.TaskBuilder.d__26.MoveNext()\n  [e:\\vs\\a_w\\332\\s\\Net\\CompiledScriptSupport\\PrecompiledService\\LoadersReportsManagementService\\LoadersReportsManagementService.csproj]\n  2017-11-08T20:38:30.5405544Z  2017-11-08T20:38:30.5405544Z     0\n  Warning(s) 2017-11-08T20:38:30.5405544Z     1 Error(s)</p>\n</blockquote>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 238, "user_id": 2659549, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/036dc690de0cb5a745980551d5212775?s=128&d=identicon&r=PG", "display_name": "nicusor", "link": "https://stackoverflow.com/users/2659549/nicusor"}, "edited": false, "score": 0, "creation_date": 1510174530, "post_id": 47189480, "comment_id": 81328324, "body": "Check this question <a href=\"https://stackoverflow.com/q/4765084/2659549\">stackoverflow.com/q/4765084/2659549</a>"}, {"owner": {"reputation": 825, "user_id": 837438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccb3b50245ff19e6fb71eed782980c7a?s=128&d=identicon&r=PG", "display_name": "Christos Karapapas", "link": "https://stackoverflow.com/users/837438/christos-karapapas"}, "reply_to_user": {"reputation": 238, "user_id": 2659549, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/036dc690de0cb5a745980551d5212775?s=128&d=identicon&r=PG", "display_name": "nicusor", "link": "https://stackoverflow.com/users/2659549/nicusor"}, "edited": false, "score": 0, "creation_date": 1510174863, "post_id": 47189480, "comment_id": 81328533, "body": "Taking a look with debuger, I see that both the results of the first query are returned inside brackets and with fieldnames, however the way I chose to &quot;print&quot; them doesn&#39;t &quot;print&quot; the brackets of the main query results. Let me edit the question to include the way I export the data."}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 837438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccb3b50245ff19e6fb71eed782980c7a?s=128&d=identicon&r=PG", "display_name": "Christos Karapapas", "link": "https://stackoverflow.com/users/837438/christos-karapapas"}, "edited": false, "score": 0, "creation_date": 1510175253, "post_id": 47189672, "comment_id": 81328741, "body": "I can&#39;t believe it was really that simple! Thank you!"}], "tags": [], "owner": {"reputation": 36, "user_id": 3687827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MlG8v.png?s=128&g=1", "display_name": "Jeff D.", "link": "https://stackoverflow.com/users/3687827/jeff-d"}, "is_accepted": true, "score": 2, "last_activity_date": 1510175048, "creation_date": 1510175048, "answer_id": 47189672, "question_id": 47189480, "link": "https://stackoverflow.com/questions/47189480/linq-subquery-returns-brackets-and-fieldnames-how-to-get-just-the-value/47189672#47189672", "title": "LINQ subquery returns brackets and fieldnames, how to get just the value?", "body": "<p>I think rather than selecting as a new object you could just select the value like this: </p>\n\n<pre><code>var TheSettlements = from settlement in context_.Settlements\n                     select new\n                     {\n                         asettlementid = settlement.SettlementId,\n                         SqBills = string.Join(\",\",\n                         (\n                         from b in context_.Bills\n                         .Where(b =&gt; b.SettlementId == settlement.SettlementId)\n                         select b.BillMunicipalityId\n                         ))\n                     };\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 825, "user_id": 837438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccb3b50245ff19e6fb71eed782980c7a?s=128&d=identicon&r=PG", "display_name": "Christos Karapapas", "link": "https://stackoverflow.com/users/837438/christos-karapapas"}, "edited": false, "score": 0, "creation_date": 1510176530, "post_id": 47189775, "comment_id": 81329315, "body": "Thank you for the advice! That is a much cleaner approach."}], "tags": [], "owner": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "is_accepted": false, "score": 2, "last_activity_date": 1510175504, "creation_date": 1510175504, "answer_id": 47189775, "question_id": 47189480, "link": "https://stackoverflow.com/questions/47189480/linq-subquery-returns-brackets-and-fieldnames-how-to-get-just-the-value/47189775#47189775", "title": "LINQ subquery returns brackets and fieldnames, how to get just the value?", "body": "<p>Your Linq statement looks really strange to me. As it shows in the question you're mixing Linq with extensions methods. </p>\n\n<p>If <code>context</code> is a DbContext which is going to the database, concating the results with string.Join won't work as this statement can't be translated to SQL code. If <code>context</code> however contains in memory data this may work. I advise however to not use <code>string.Join</code> within Linq unless you add a clear comment to the code, this Linq should never hit the database.  </p>\n\n<p>When this code will hit the database, you'll get an <code>NotSupportedException</code> with the message:</p>\n\n<blockquote>\n  <p>LINQ to Entities does not recognize the method 'System.String Join[Int32]'</p>\n</blockquote>\n\n<p>The second thing I notice in your query, normally the one-to-many relation is known by the datamodel and you shouldn't need to join the results yourself. </p>\n\n<p>The easiest way to solve this, is to use an intermediate query, which gets the results from the database and after running the query and getting the data into memory, perform the conversion with <code>string.Join()</code></p>\n\n<p>This would look like:</p>\n\n<pre><code>var TheSettlements =\n    from settlement in context_.Settlements\n    select new\n    {\n        asettlementid = settlement.SettlementId,\n        SqBills = (\n            from b in settlement.Bills\n            select b.BillMunicipalityId\n            ).ToList(),\n    };\n\n// Get the results in memory:\nvar results = TheSettlements.ToArray();\n\n// Format the results:\nvar printResults = results.Select(s =&gt; \n      s.asettlementid.ToString() + \", \" + string.Join(\", \",s.SqBills));\n</code></pre>\n"}], "owner": {"reputation": 825, "user_id": 837438, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccb3b50245ff19e6fb71eed782980c7a?s=128&d=identicon&r=PG", "display_name": "Christos Karapapas", "link": "https://stackoverflow.com/users/837438/christos-karapapas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 1, "accepted_answer_id": 47189672, "answer_count": 2, "score": 0, "last_activity_date": 1510175504, "creation_date": 1510174342, "last_edit_date": 1510175089, "question_id": 47189480, "link": "https://stackoverflow.com/questions/47189480/linq-subquery-returns-brackets-and-fieldnames-how-to-get-just-the-value", "title": "LINQ subquery returns brackets and fieldnames, how to get just the value?", "body": "<p>My LINQ query is the following, I query two tables, Settlements and Bills which have a one to many relationship, in particular there can be one settlement with one or more bills.</p>\n\n<pre><code>var TheSettlements = from settlement in context_.Settlements\n                                 select new\n                                 {\n                                     asettlementid = settlement.SettlementId,\n                                     SqBills = string.Join(\",\",\n                                     (\n                                     from b in context_.Bills\n                                     .Where(b =&gt; b.SettlementId == settlement.SettlementId)\n                                     select new { b.BillMunicipalityId }\n                                     ))\n                                 };\n</code></pre>\n\n<p>Now the trivial part (for me), is that I would like the bills concatenated, so after many hours of trial and error, I got my results but the Bills(BillMunicipalityId) are presented inside brackets including the fieldname, like this.  </p>\n\n<p>The way I export the data, to a txt to be more precise, is this.</p>\n\n<pre><code>foreach (var settlement in TheSettlements)\n            {\n                SettlementsText\n                    .Append(settlement.asettlementid).Append(Delimiter)\n                    .Append(settlement.SqBills.ToString()).Append(Delimiter)\n                    .Append(Newline);\n            }\n</code></pre>\n\n<p>And the results I get in the txt.</p>\n\n<pre><code>3,{ BillMunicipalityId = f9e47f81-fc97-4008-b93d-d384230c53aa },\n6,,\n7,{ BillMunicipalityId = 8b66610a-20c1-4f47-9f37-489d1a8ce31a },{ BillMunicipalityId = 003d59d4-7bcb-4603-b42c-dc389dd8fb06 },{ BillMunicipalityId = 0070bb29-e3a1-4317-b5e2-3d1ef08dd20b },\n</code></pre>\n\n<p>How should I handle this to get only the values?<br>\nJust the GUID of every BillMunicipalityId, without the <code>{ BillMunicipalityId = }</code> part.</p>\n"}, {"tags": ["c#", "wpf", "c#-3.0"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1510174739, "post_id": 47189471, "comment_id": 81328451, "body": "Assign the MemoryStream to the StreamSource property of a BitmapImage. Then assign the BitmapImage to the Source property of an Image element in your UI."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8173704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bad685d295c526c959d6210b036b088?s=128&d=identicon&r=PG", "display_name": "zahra", "link": "https://stackoverflow.com/users/8173704/zahra"}, "edited": false, "score": 0, "creation_date": 1510261437, "post_id": 47190670, "comment_id": 81372395, "body": "Can you explain more where should I write it? I added this function, but still I do not know how to display the photos in image control?"}, {"owner": {"reputation": 1, "user_id": 8173704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bad685d295c526c959d6210b036b088?s=128&d=identicon&r=PG", "display_name": "zahra", "link": "https://stackoverflow.com/users/8173704/zahra"}, "edited": false, "score": 0, "creation_date": 1510261579, "post_id": 47190670, "comment_id": 81372450, "body": "The app is made with WPF"}, {"owner": {"reputation": 475, "user_id": 2043252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32620c59ebda24999282d6f796702dd?s=128&d=identicon&r=PG", "display_name": "Wr4thon", "link": "https://stackoverflow.com/users/2043252/wr4thon"}, "reply_to_user": {"reputation": 1, "user_id": 8173704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bad685d295c526c959d6210b036b088?s=128&d=identicon&r=PG", "display_name": "zahra", "link": "https://stackoverflow.com/users/8173704/zahra"}, "edited": false, "score": 0, "creation_date": 1510262127, "post_id": 47190670, "comment_id": 81372691, "body": "Do you use the MVVM Pattern in your Application? If so you have to put the Property in your ViewModel and from the View you use the Binding MarkupExtension to display the Image in the View. If not Assign a x:Name to the Image Control and in Code behind set the Source Property of that control to the Image you got from the Database. But I Highly recommend locking up MVVM (and use it) if you are not already."}], "tags": [], "owner": {"reputation": 475, "user_id": 2043252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d32620c59ebda24999282d6f796702dd?s=128&d=identicon&r=PG", "display_name": "Wr4thon", "link": "https://stackoverflow.com/users/2043252/wr4thon"}, "is_accepted": false, "score": 1, "last_activity_date": 1510219957, "last_edit_date": 1510219957, "creation_date": 1510179468, "answer_id": 47190670, "question_id": 47189471, "link": "https://stackoverflow.com/questions/47189471/how-can-i-display-a-recovered-image-from-sql-on-image-control-in-wpf/47190670#47190670", "title": "How can I display a recovered image from sql on image control in wpf?", "body": "<p>Assuming that you are using Bindings to display your data in your UI and thus using viewmodels, I would suggest utilizing an ImageSource.</p>\n\n<p>To initialize an ImageSource from a byte array I wrote the following method:</p>\n\n<pre><code>public ImageSource LoadImageSourceFromBytes(byte[] imageBytes)\n{\n    BitmapImage bitmapImage = new BitmapImage();\n\n    using (MemoryStream imageStream = new MemoryStream(imageBytes))\n    {\n        bitmapImage.BeginInit();\n        bitmapImage.StreamSource = imageStream;\n        bitmapImage.CacheOption = BitmapCacheOption.OnLoad;\n        bitmapImage.EndInit();\n    }\n\n    bitmapImage.Freeze();\n\n    return bitmapImage;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8173704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bad685d295c526c959d6210b036b088?s=128&d=identicon&r=PG", "display_name": "zahra", "link": "https://stackoverflow.com/users/8173704/zahra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510219957, "creation_date": 1510174311, "question_id": 47189471, "link": "https://stackoverflow.com/questions/47189471/how-can-i-display-a-recovered-image-from-sql-on-image-control-in-wpf", "title": "How can I display a recovered image from sql on image control in wpf?", "body": "<p>I put my pictures of letters in a separate table and I defined an foriegn key for that\nI now want to click on any data in the data grid view to show the photos of that level in the control of the image.\nI wrote the order for the retrieval of the photos, Of course, I do not know if it's right and I do not know how to control the image.\ncode</p>\n\n<pre><code>        SqlConnection imageConnection = new SqlConnection(@\"Data Source = ZAHRA; Initial Catalog = Baygani; inte\");\n\n        SqlCommand imageCommand = new SqlCommand(@\"select Pictures.pic1,Pictures.pic2,Pictures.pic3,Pictures.pic4,Pictures.pic5,Pictures.pic6,Pictures.pic7,Pictures.pic8,Pictures.pic9,\n         Pictures.pic10 from Pictures,Latters where Pictures.idlatter=Latters.id \", imageConnection);\n\n        imageConnection.Open();\n        SqlDataReader imageReader = imageCommand.ExecuteReader();\n\n        string imageFilename = (string)imageReader.GetValue(0);\n        byte[] imageBytes = (byte[])imageReader.GetValue(1);\n        MemoryStream ms = new MemoryStream(imageBytes);\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "charts", "aspchart"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8217724"}, "edited": false, "score": 1, "creation_date": 1510257971, "post_id": 47189238, "comment_id": 81370529, "body": "Are you using Memory or a File to render the chart each time?  I seem to recall there being an option to specify which and in the case of File, permissions may  be an issue."}, {"owner": {"reputation": 274, "user_id": 2247115, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/590c1468cffed99730a1cfd97a0bb8c0?s=128&d=identicon&r=PG", "display_name": "mac", "link": "https://stackoverflow.com/users/2247115/mac"}, "edited": false, "score": 0, "creation_date": 1510341231, "post_id": 47189238, "comment_id": 81409800, "body": "That was the issue. I was using a file."}], "answers": [{"tags": [], "owner": {"reputation": 274, "user_id": 2247115, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/590c1468cffed99730a1cfd97a0bb8c0?s=128&d=identicon&r=PG", "display_name": "mac", "link": "https://stackoverflow.com/users/2247115/mac"}, "is_accepted": false, "score": 0, "last_activity_date": 1510341293, "creation_date": 1510341293, "answer_id": 47229689, "question_id": 47189238, "link": "https://stackoverflow.com/questions/47189238/asp-net-chart-error/47229689#47229689", "title": "ASP.NET Chart Error", "body": "<p>The solution was to change this line in my web.config from:</p>\n\n<pre><code>&lt;add key=\"ChartImageHandler\" value=\"storage=file;timeout=20;\" /&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>&lt;add key=\"ChartImageHandler\" value=\"storage=memory;deleteAfterServicing=true;\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 274, "user_id": 2247115, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/590c1468cffed99730a1cfd97a0bb8c0?s=128&d=identicon&r=PG", "display_name": "mac", "link": "https://stackoverflow.com/users/2247115/mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 780, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510341293, "creation_date": 1510173577, "question_id": 47189238, "link": "https://stackoverflow.com/questions/47189238/asp-net-chart-error", "title": "ASP.NET Chart Error", "body": "<p>On a page (I've called Cashflow.aspx) I have an asp.net chart to plot out some data. It works wonderfully when debugging on my local machine. However, when I try to deploy the site to my staging server there is an error that I can't seem to track down. It fails and redirects back to my default.aspx page. If I comment out the chart and deploy again the rest of the page works just fine.</p>\n\n<p><strong>aspx Page:</strong></p>\n\n<pre><code>&lt;%@ Register Assembly=\"System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" Namespace=\"System.Web.UI.DataVisualization.Charting\" TagPrefix=\"asp\" %&gt;\n&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"MainContent\" runat=\"server\"&gt;\n\n\n&lt;div class=\"container-fluid\"&gt;\n    &lt;div class=\"row\"&gt;&amp;nbsp;&lt;/div&gt;\n    &lt;div class=\"panel panel-success\"&gt;\n        &lt;div class=\"panel-heading\"&gt;Cashflow&lt;/div&gt;\n        &lt;div class=\"panel-body\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;asp:Chart ID=\"Chart1\" runat=\"server\" Width=\"1400px\" Height=\"500px\"&gt;\n                    &lt;Series&gt;\n                        &lt;asp:Series Name=\"As Bid Projected Cashflow\" ChartType=\"Line\" ChartArea=\"ChartArea1\" BorderWidth=\"3\" BorderColor=\"#86a44a\"&gt;&lt;/asp:Series&gt;\n                        &lt;asp:Series Name=\"Actual Cashflow\" ChartType=\"Line\" ChartArea=\"ChartArea1\" BorderWidth=\"3\" BorderColor=\"#da8137\"&gt;&lt;/asp:Series&gt;\n                    &lt;/Series&gt;\n                    &lt;ChartAreas&gt;\n                        &lt;asp:ChartArea Name=\"ChartArea1\" /&gt;\n                    &lt;/ChartAreas&gt;\n                &lt;/asp:Chart&gt;\n            &lt;/div&gt;&lt;div class=\"row\"&gt;&amp;nbsp;&lt;/div&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/asp:Content&gt;\n</code></pre>\n\n<p><strong>Code Behind:</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Configuration;\nusing System.Data;\nusing System.Data.Entity;\nusing System.Data.SqlClient;\nusing System.Drawing;\nusing System.Linq;\nusing System.Web;\nusing System.Web.UI;\nusing System.Web.UI.DataVisualization.Charting;\nusing System.Web.UI.WebControls;\n\nnamespace MySite\n{\n    public partial class Cashflow : System.Web.UI.Page\n    {\n    DataTable tbl;\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        if (!IsPostBack)\n        {\n\n            LoadData();\n            decimal maxValue = 0;\n\n            Chart1.DataSource = tbl;\n            Chart1.Series[\"As Bid Projected Cashflow\"].XValueMember = \"Period\";\n            Chart1.Series[\"As Bid Projected Cashflow\"].YValueMembers = \"AsBidProjectedCashflow\";\n            Chart1.Series[\"Actual Cashflow\"].XValueMember = \"Period\";\n            Chart1.Series[\"Actual Cashflow\"].YValueMembers = \"ActualCashflow\";\n            Chart1.Series[\"Actual Cashflow\"].Sort(PointSortOrder.Ascending);\n\n            Chart1.ChartAreas[0].AxisX.LabelStyle.Angle = 45;\n            Chart1.ChartAreas[0].AxisY.LabelStyle.Format = \"C\";\n            Chart1.Legends.Add(\"As Bid Projected Cashflow\");\n            Chart1.Legends[\"As Bid Projected Cashflow\"].Position.Auto = false;\n            Chart1.Legends[\"As Bid Projected Cashflow\"].Position = new ElementPosition(0, 0, 30, 15);\n            Chart1.Legends[\"As Bid Projected Cashflow\"].Docking = Docking.Right;\n            Chart1.Legends[\"As Bid Projected Cashflow\"].DockedToChartArea = \"ChartArea1\";\n            Chart1.Legends[\"As Bid Projected Cashflow\"].IsDockedInsideChartArea = false;\n            Chart1.ChartAreas[0].Position.Auto = false;\n            Chart1.ChartAreas[0].Position = new ElementPosition(0, 15, 105, 85);\n            Chart1.DataBind();\n        }\n    }\n\n    private void LoadData()\n    {\n        SqlConnection con = new SqlConnection();\n        con.ConnectionString = ConfigurationManager.ConnectionStrings[\"Connection\"].ConnectionString;\n        con.Open();\n        SqlCommand cmd = new SqlCommand();\n        SqlDataAdapter da = new SqlDataAdapter();\n        tbl = new DataTable();\n        cmd = new SqlCommand(\"GetCashflow\", con);\n        cmd.CommandType = CommandType.StoredProcedure;\n        da.SelectCommand = cmd;\n        da.Fill(tbl);\n    }\n\n    protected void btnRefreshCharts_Click(object sender, EventArgs e)\n    {\n        Response.Redirect(\"Cashflow.aspx?pnum=\" + Request.QueryString[\"pnum\"]);\n    }\n}\n}\n</code></pre>\n\n<p><strong>(Relevant) Web.config</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;configuration&gt;\n  &lt;configSections&gt;\n&lt;section name=\"entityFramework\" type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\" requirePermission=\"false\" /&gt;\n  &lt;/configSections&gt;\n  &lt;system.web&gt;\n    &lt;httpHandlers&gt;\n      &lt;add verb=\"GET,HEAD,POST\" path=\"ChartImg.axd\"  type=\"System.Web.UI.DataVisualization.Charting.ChartHttpHandler, System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\"  /&gt;\n    &lt;/httpHandlers&gt;\n    &lt;compilation debug=\"true\" targetFramework=\"4.6\"&gt;\n      &lt;buildProviders&gt;\n        &lt;add extension=\".rdlc\" type=\"Microsoft.Reporting.RdlBuildProvider, Microsoft.ReportViewer.WebForms, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91\" /&gt;\n      &lt;/buildProviders&gt;\n      &lt;assemblies&gt;\n        &lt;add assembly=\"Microsoft.ReportViewer.WebForms, Version=12.0.0.0, Culture=neutral, PublicKeyToken=89845DCD8080CC91\" /&gt;\n        &lt;add assembly=\"Microsoft.ReportViewer.Common, Version=12.0.0.0, Culture=neutral, PublicKeyToken=89845DCD8080CC91\" /&gt;\n        &lt;add assembly=\"Microsoft.Build.Framework, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B03F5F7F11D50A3A\" /&gt;\n      &lt;/assemblies&gt;\n    &lt;/compilation&gt;\n    &lt;httpRuntime targetFramework=\"4.6\" requestValidationMode=\"2.0\" maxRequestLength=\"262144000\" executionTimeout=\"110\" /&gt;\n    &lt;pages&gt;\n      &lt;namespaces&gt;\n        &lt;add namespace=\"System.Web.Optimization\" /&gt;\n        &lt;add namespace=\"Microsoft.AspNet.Identity\" /&gt;\n      &lt;/namespaces&gt;\n      &lt;controls&gt;\n        &lt;add tagPrefix=\"asp\" namespace=\"System.Web.UI.DataVisualization.Charting\"\n      assembly=\"System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" /&gt;\n      &lt;/controls&gt;\n    &lt;/pages&gt;\n  &lt;/system.web&gt;\n  &lt;system.webServer&gt;\n    &lt;!--&lt;modules&gt;\n      &lt;remove name=\"FormsAuthentication\" /&gt;\n    &lt;/modules&gt;--&gt;\n    &lt;validation validateIntegratedModeConfiguration=\"false\" /&gt;\n    &lt;handlers&gt;\n      &lt;remove name=\"ChartImageHandler\" /&gt;\n      &lt;add name=\"ChartImageHandler\" preCondition=\"integratedMode\"  verb=\"GET,HEAD,POST\"\n    path=\"ChartImg.axd\" type=\"System.Web.UI.DataVisualization.Charting.ChartHttpHandler, System.Web.DataVisualization, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" /&gt;\n    &lt;/handlers&gt;\n  &lt;/system.webServer&gt;\n  &lt;entityFramework&gt;\n    &lt;defaultConnectionFactory  type=\"System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework\" /&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\" type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n  &lt;appSettings&gt;\n    &lt;add key=\"ChartImageHandler\" value=\"storage=file;timeout=20;\" /&gt;\n  &lt;/appSettings&gt;\n  &lt;system.codedom&gt;\n    &lt;compilers&gt;\n      &lt;compiler language=\"c#;cs;csharp\" extension=\".cs\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.CSharpCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:6 /nowarn:1659;1699;1701\" /&gt;\n      &lt;compiler language=\"vb;vbs;visualbasic;vbscript\" extension=\".vb\" type=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform.VBCodeProvider, Microsoft.CodeDom.Providers.DotNetCompilerPlatform, Version=1.0.3.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35\" warningLevel=\"4\" compilerOptions=\"/langversion:14 /nowarn:41008 /define:_MYTYPE=\\&amp;quot;Web\\&amp;quot; /optionInfer+\" /&gt;\n    &lt;/compilers&gt;\n  &lt;/system.codedom&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p><strong>Network Monitor</strong>\n<a href=\"https://i.stack.imgur.com/3Zhbd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Zhbd.png\" alt=\"enter image description here\"></a></p>\n\n<p>All relevant dlls are installed and up to date. Not really sure where to look next to track down the issue. Any pointers are greatly appreciated.</p>\n"}, {"tags": ["c#", "linq", "entity-framework-6"], "comments": [{"owner": {"reputation": 5430, "user_id": 3294832, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUCr2.jpg?s=128&g=1", "display_name": "Ric .Net", "link": "https://stackoverflow.com/users/3294832/ric-net"}, "edited": false, "score": 0, "creation_date": 1510173948, "post_id": 47189230, "comment_id": 81327997, "body": "Can you show the People model? Do you use code first or the designer?"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1510174390, "post_id": 47189230, "comment_id": 81328251, "body": "Assuming your models are correct, you can do <code>var people = db.People.Include(p =&gt; p.Company).ToList();</code>."}, {"owner": {"reputation": 53, "user_id": 8596834, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5a8fc59c4fbf2d3e36b698c8a2fddd05?s=128&d=identicon&r=PG&f=1", "display_name": "tomek-a", "link": "https://stackoverflow.com/users/8596834/tomek-a"}, "edited": false, "score": 0, "creation_date": 1510238260, "post_id": 47189230, "comment_id": 81357671, "body": "Hello, sorry for late answers: I have made database using EF, code first method (I&#39;m used do python&#39;s django framework). I edited my previous post to show my models."}], "answers": [{"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1510186327, "creation_date": 1510186327, "answer_id": 47191874, "question_id": 47189230, "link": "https://stackoverflow.com/questions/47189230/one-to-many-query-linq-entity-framework/47191874#47191874", "title": "One to Many query, Linq, Entity Framework", "body": "<p>More idiomatically,</p>\n\n<pre><code>List&lt;Person&gt; people;\n\nusing (var db = new DataContext()) {\n    people = db.People.ToList();\n}\n</code></pre>\n\n<p>Assuming you don't have an EF connection from <code>Person</code> to <code>Company</code>, you could do a left join:</p>\n\n<pre><code>var employeesWithCompany = from p in db.People\n                           join c in db.Company on p.CompanyID == c.ID into cj\n                           from c in cj.DefaultIfEmpty()\n                           select new { p, c };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 8596834, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5a8fc59c4fbf2d3e36b698c8a2fddd05?s=128&d=identicon&r=PG&f=1", "display_name": "tomek-a", "link": "https://stackoverflow.com/users/8596834/tomek-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1510245326, "creation_date": 1510245326, "answer_id": 47207098, "question_id": 47189230, "link": "https://stackoverflow.com/questions/47189230/one-to-many-query-linq-entity-framework/47207098#47207098", "title": "One to Many query, Linq, Entity Framework", "body": "<p>For now I have done this:</p>\n\n<pre><code>using (var db = new DataContext())\n{\n    var new_list = from p in db.People\n                   join c in db.Companies on p.Company.Id equals c.Id\n                   select new { p, c };\n}\n</code></pre>\n\n<p>This code works, I have checked it in LinqPad and it shows good result, but I have no idea how to iterate on <code>new_list</code> and get data I want :(<br><br>\nAlso I feel I am not using relations I have had put in my model. If I have one-to-many relation I should have instant access to all information about company using People model without making additional query for company data, because one person can have only one company...</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 8596834, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5a8fc59c4fbf2d3e36b698c8a2fddd05?s=128&d=identicon&r=PG&f=1", "display_name": "tomek-a", "link": "https://stackoverflow.com/users/8596834/tomek-a"}, "edited": false, "score": 0, "creation_date": 1510256021, "post_id": 47208309, "comment_id": 81369387, "body": "If I use <code>var new_list = db.People.Include(p =&gt; p.Company).ToList();</code> I get: &quot;Cannot convert lambda expression to type &#39;string&#39; because it is not a delegate type&quot;"}], "tags": [], "owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "is_accepted": false, "score": 0, "last_activity_date": 1510249250, "creation_date": 1510249250, "answer_id": 47208309, "question_id": 47189230, "link": "https://stackoverflow.com/questions/47189230/one-to-many-query-linq-entity-framework/47208309#47208309", "title": "One to Many query, Linq, Entity Framework", "body": "<p>If you want a list of people and their company that is pretty easy since you have the navigation properties:</p>\n\n<pre><code>using (var db = new DataContext())\n{\n    var peopleWithCompany = db.People.Include(p =&gt; p.Company).ToList();\n}\n</code></pre>\n\n<p>Now if you want to iterate:</p>\n\n<pre><code>foreach (var currentPerson in peopleWithCompany)\n{\n     var personName = currentPerson.Name;\n     var job= currentPerson.Job;\n     ...\n     var companyName = currentPerson.Company.Name;\n     var companyAddress = currentPerson.Company.Address;\n     ...\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8596834, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5a8fc59c4fbf2d3e36b698c8a2fddd05?s=128&d=identicon&r=PG&f=1", "display_name": "tomek-a", "link": "https://stackoverflow.com/users/8596834/tomek-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1506, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1510249250, "creation_date": 1510173564, "last_edit_date": 1510238321, "question_id": 47189230, "link": "https://stackoverflow.com/questions/47189230/one-to-many-query-linq-entity-framework", "title": "One to Many query, Linq, Entity Framework", "body": "<p>I have two models in my database, <code>Company</code> and <code>Employee</code>, with a one-to-many relationship (one company can have many employees).</p>\n\n<p>I want to get list of employees and their companies and have access to all employee information and related company (Person is my employee model [table is called People], Company - company model)</p>\n\n<p>So I wrote:</p>\n\n<pre><code>List&lt;Person&gt; people = new List&lt;Person&gt;();\n\nusing (var db = new DataContext())\n{\n    var list_of_people = db.People;\n\n    foreach (Person p in list_of_people)\n    {\n        people.Add(p);\n    }\n}\n</code></pre>\n\n<p>Now I have list of <code>Person</code> objects, but it doesn't have information about company name.</p>\n\n<p>Can someone explain me how to get list of employees and their companies?</p>\n\n<p>What would that query return? A <code>DbSet</code>?<br><br></p>\n\n<pre><code>public class Person\n    {\n        public Person()\n        {\n\n        }\n        public int PersonId { get; set; }\n        public string Name { get; set; }\n        public string Surname { get; set; }\n        public string Job { get; set; }\n        public int Phone { get; set; }\n        public int Mobile { get; set; }\n\n        public Company Company { get; set; }\n    }\n\npublic class Company\n    {\n        public Company()\n        {\n\n        }\n        public int Id { get; set; }\n        public string Name { get; set; }\n        public int NIP { get; set; }\n        public string Address { get; set; }\n        public string City { get; set; }\n        public int Code { get; set; }\n        public int Phone { get; set; }\n        public string Notes { get; set; }\n\n        public ICollection&lt;Person&gt; Person { get; set; }\n    }\n</code></pre>\n"}, {"tags": ["c#", "arrays", "asp.net-mvc", "razor"], "answers": [{"tags": [], "owner": {"reputation": 800, "user_id": 4412545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abac63864ae9f03f8efb0915e568b69?s=128&d=identicon&r=PG", "display_name": "Snziv Gupta", "link": "https://stackoverflow.com/users/4412545/snziv-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1510183335, "last_edit_date": 1510183335, "creation_date": 1510182936, "answer_id": 47191338, "question_id": 47189192, "link": "https://stackoverflow.com/questions/47189192/how-to-pass-list-of-arrays-within-list-of-object-to-the-razor-view/47191338#47191338", "title": "How to pass list of arrays within list of object to the Razor view?", "body": "<p>as per your code @abcc seems to be list of list of Movies, so type cast it and iterate through that list to get Movies properties. </p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 7377528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01e3e66b6b1546b7a335e4a757beea3?s=128&d=identicon&r=PG&f=1", "display_name": "Malik Basit", "link": "https://stackoverflow.com/users/7377528/malik-basit"}, "edited": false, "score": 0, "creation_date": 1510258887, "post_id": 47191443, "comment_id": 81371012, "body": "I have been accurately done what you have been said, but now it gives an Error in View :  Cannot apply indexing with [] to an expression of type &#39;IEnumerable&lt;Movies&gt;&#39;  Kindly help me."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "reply_to_user": {"reputation": 61, "user_id": 7377528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01e3e66b6b1546b7a335e4a757beea3?s=128&d=identicon&r=PG&f=1", "display_name": "Malik Basit", "link": "https://stackoverflow.com/users/7377528/malik-basit"}, "edited": false, "score": 0, "creation_date": 1510260688, "post_id": 47191443, "comment_id": 81372010, "body": "@MalikBasit My bad. I changed it to use <code>List</code> instead of <code>IEnumerable</code>"}], "tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 0, "last_activity_date": 1510261339, "last_edit_date": 1510261339, "creation_date": 1510183550, "answer_id": 47191443, "question_id": 47189192, "link": "https://stackoverflow.com/questions/47189192/how-to-pass-list-of-arrays-within-list-of-object-to-the-razor-view/47191443#47191443", "title": "How to pass list of arrays within list of object to the Razor view?", "body": "<p>You have two issues:</p>\n\n<ol>\n<li><p><code>@abcc.GetValue(0)</code> returns a <code>Movie</code> which you are trying to display.  By default, classes do not overload the <code>ToString</code> method, and use the default <code>object</code> implementation, which just displays the type name.  </p></li>\n<li><p>You are using an untyped <code>Array</code> to store your data in <code>Show_data</code>, so you don't know the type of its contents at compile-time.  Use a strongly-typed collection instead:</p>\n\n<pre><code>var final33 = new List&lt;List&lt;Movie&gt;&gt;();\n....\nfor (int i = 0; i &lt; acd.Count(); i++)\n{\n    final33.Add(final1.Where(c =&gt; c.Id == acd[i]).ToList());\n}\n</code></pre></li>\n</ol>\n\n<p>Then in your view you can iterate over the movie arrays within the model, accessing the properties of the <code>Movie</code> type:</p>\n\n<pre><code>  @model Project.Models.ViewModels.ShowRecommendationGenreViewModel\n    @foreach (var abcc in Model.Show_data)\n    {   \n       @abcc[0].MovieTitle    \n    }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7377528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01e3e66b6b1546b7a335e4a757beea3?s=128&d=identicon&r=PG&f=1", "display_name": "Malik Basit", "link": "https://stackoverflow.com/users/7377528/malik-basit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 47191443, "answer_count": 2, "score": 0, "last_activity_date": 1510261339, "creation_date": 1510173430, "last_edit_date": 1510180166, "question_id": 47189192, "link": "https://stackoverflow.com/questions/47189192/how-to-pass-list-of-arrays-within-list-of-object-to-the-razor-view", "title": "How to pass list of arrays within list of object to the Razor view?", "body": "<p>I have a list of arrays which contains Model. I am passing this list to view but not able to access properties of the Model, only getting description written on indexes of arrays.</p>\n\n<p>This is my Controller :</p>\n\n<pre><code>**final1 = list contains model with specific query**            \n\n           var final22 = new List&lt;Movies&gt;();\n           var final33 = new Array[acd.Count()];\n           for (int i = 0; i &lt; acc.Count(); i++)\n            {\n                final22 = final1.Where(c =&gt; c.Id == acc[i]).ToList();\n            }\n            for (int i = 0; i &lt; acd.Count(); i++)\n            {\n                final33[i] = final1.Where(c =&gt; c.Id == acd[i]).ToArray();\n            }\n            var viewmodel = new ShowRecommendationGenreViewModel\n            {\n               Show_data = final33.ToList() };\n\n                return View(\"ShowRecommendationGenre\", viewmodel);\n            }\n</code></pre>\n\n<p>This is my View :</p>\n\n<pre><code>      @model Project.Models.ViewModels.ShowRecommendationGenreViewModel\n        @foreach (var abcc in Model.Show_data)\n        {   \n           @abcc.GetValue(0)    \n        }\n</code></pre>\n\n<p>Output i am getting :</p>\n\n<pre><code>     Project.Models.Movies\n     Project.Models.Movies\n</code></pre>\n\n<p>Kindly help me.</p>\n"}, {"tags": ["c#", ".net", "transactions", "rollback", "transactionscope"], "comments": [{"owner": {"reputation": 4535, "user_id": 1319147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/53LDq.jpg?s=128&g=1", "display_name": "Eugene D. Gubenkov", "link": "https://stackoverflow.com/users/1319147/eugene-d-gubenkov"}, "edited": false, "score": 0, "creation_date": 1545829168, "post_id": 47189110, "comment_id": 94705202, "body": "I know this is an old post, but did you figure this one out? May it&#39;s &quot;Enlist=false&quot; on a connection string? (<a href=\"https://stackoverflow.com/questions/35716193/what-is-enlist-false-means-in-connection-string-for-sql-server\" title=\"what is enlist false means in connection string for sql server\">stackoverflow.com/questions/35716193/&hellip;</a>)"}], "owner": {"reputation": 7702, "user_id": 1389813, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8b7cace6620ed08e8f2f723671537ec4?s=128&d=identicon&r=PG", "display_name": "peter", "link": "https://stackoverflow.com/users/1389813/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510184568, "creation_date": 1510173164, "last_edit_date": 1510184568, "question_id": 47189110, "link": "https://stackoverflow.com/questions/47189110/sqlconnection-doesnt-automatically-enlist-to-transactionscope", "title": "SqlConnection doesn&#39;t automatically enlist to TransactionScope", "body": "<p>I read the following StackOverflow posts about nested transactionScope, but I couldn't get it to work in one of my integration tests. I wanted to insert some records into the database and verify the writes afterward immediately, and then rollback at the end of the test to its origin. </p>\n\n<p>The problem is that I would need to explicitly call <code>connection.EnlistTransaction(Transaction.Current)</code> in order to have it working. One thing that I am not sure about is whether everything has to be in the same layer or file, because in my case (code example on the bottom) the transaction scope is defined in the service tier, and it calls multiple downstream repository objects for low level SQL query operations (CRUD) </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28191333/transactionscope-error-in-ambient-transaction-does-not-rollback-the-transaction\">TransactionScope error in ambient transaction does not rollback the transaction</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2884863/under-what-circumstances-is-an-sqlconnection-automatically-enlisted-in-an-ambien\">Under what circumstances is an SqlConnection automatically enlisted in an ambient TransactionScope Transaction?</a></li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/ms973865.aspx\" rel=\"nofollow noreferrer\">Introducing System.Transactions in the .NET Framework 2.0</a></li>\n</ul>\n\n<p>Here's the code I've had so far</p>\n\n<pre><code>using(TransactionScope scope = new TransactionScope())\n{\n   repository1.CreateEntries(expectedList);\n   repository2.UpdateEntries(expectedList);\n\n   scope.Dispose();\n}\n</code></pre>\n\n<p>this is from repository1 class</p>\n\n<pre><code>void CreateEntries(List&lt;Object&gt; list) {\n   using (var conn = new SqlConection(CONNECTION_STRING))\n   {\n            conn.Open();\n\n            // i need to explicitly call this\n            conn.EnlistTransaction(Transaction.Current);\n            ....\n   }\n}\n</code></pre>\n\n<p>this is from repository2 class</p>\n\n<pre><code>void UpdateEntries(List&lt;Object&gt; list) {\n   using (var conn = new SqlConection(CONNECTION_STRING))\n   {\n            conn.Open();\n\n            conn.EnlistTransaction(Transaction.Current);\n            ....\n   }\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc", "kendo-ui"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1510173178, "post_id": 47188980, "comment_id": 81327571, "body": "Your method is returning a partial view, so you need to add that partial to the DOM in the success callback - <code>$(someElemeny).html(data)</code> or you need to return just the <code>base64string</code> if the image element already exists in the DOM"}, {"owner": {"reputation": 174, "user_id": 3720760, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lYHho.jpg?s=128&g=1", "display_name": "Krazy Dev", "link": "https://stackoverflow.com/users/3720760/krazy-dev"}, "edited": false, "score": 0, "creation_date": 1510176764, "post_id": 47188980, "comment_id": 81329441, "body": "That did it! Thanks man!"}], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 3720760, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lYHho.jpg?s=128&g=1", "display_name": "Krazy Dev", "link": "https://stackoverflow.com/users/3720760/krazy-dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1510178984, "last_edit_date": 1510178984, "creation_date": 1510176808, "answer_id": 47190060, "question_id": 47188980, "link": "https://stackoverflow.com/questions/47188980/mvc-partial-view-not-displaying-image/47190060#47190060", "title": "MVC Partial View Not Displaying Image", "body": "<p>As Stephen have suggested, adding this to my ajax solved the problem!</p>\n\n<pre><code>$.ajax({\n    datatype: \"html\",\n    type: \"GET\",\n    url: '@Url.Action(\"OpenImagePopUp\", \"Help\")',\n    data: { id: item.id },\n    success: function (html) {\n\n        $(\"#ImagePopUp\").html(html);\n        $(\"#ImagePopUp\").data(\"kendoWindow\").open().center(true);\n    }\n})\n</code></pre>\n\n<p>I also made my controller return html content instead and removed the image tag on my partial view-</p>\n\n<pre><code>public ActionResult OpenImagePopUp(int? id)\n        {\n            if (id != null)\n            {\n                string html = string.Empty;\n                Help request2 = new Help();\n                request2.id = id;\n                var response = apiHelp.GetHelpRecords(request2);\n                if (response.Error != null)\n                {\n                    ErrorLogRequest errorReq = new ErrorLogRequest()\n                    {\n                        LogDate = DateTime.Now,\n                        LogMethod = \"GetHelpRecords\",\n                        LogPage = \"Canopy Help\",\n                        LogPerson = User.Identity.Name,\n                        LogInfo = response.Error.ErrorCode + \" \" + response.Error.ErrorMessage + \" \" + response.Error.ExceptionObject.Message\n                    };\n                    apiErrorLog.InsertErrorLog(errorReq);\n                }\n                var helpRecords = response.data.Select(s =&gt; new Help()\n                {\n                    id = s.id,\n                    Image = s.Image\n\n                }).Where(w =&gt; w.id == id).FirstOrDefault();\n\n                if (helpRecords.Image != null)\n                {\n                    var base64string = Convert.ToBase64String(helpRecords.Image);\n                    request2.ImgSrcBase64 = string.Format(\"data:image/gif;base64,{0}\", base64string);\n\n                    html = string.Format(\"&lt;img id='imgPopUp' src='{0}' alt='Image'/&gt;\", request2.ImgSrcBase64);\n\n                    return Content(html, \"text/html\");\n                }\n                else\n                {\n                    html = \"&lt;h4&gt;This record has no image attached!&lt;/h4&gt;\";\n                    return Content(html, \"text/html\");\n                }\n            }\n            else return new EmptyResult();\n        }\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 3720760, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lYHho.jpg?s=128&g=1", "display_name": "Krazy Dev", "link": "https://stackoverflow.com/users/3720760/krazy-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1510178984, "creation_date": 1510172679, "question_id": 47188980, "link": "https://stackoverflow.com/questions/47188980/mvc-partial-view-not-displaying-image", "title": "MVC Partial View Not Displaying Image", "body": "<p>I have a Kendo Grid where one of the columns is actually a link to open a pop up to view the image. I'm able to get the image back but I'm unsuccessful so far. Here is what I have so far-</p>\n\n<p><strong>Controller-</strong></p>\n\n<pre><code>     public ActionResult OpenImagePopUp(int? id)\n        {\n            Help request2 = new Help();\n            request2.id = id;\n            var response = apiHelp.GetHelpRecords(request2);\n            if (response.Error != null)\n            {\n                ErrorLogRequest errorReq = new ErrorLogRequest()\n                {\n                    LogDate = DateTime.Now,\n                    LogMethod = \"GetHelpRecords\",\n                    LogPage = \"Canopy Help\",\n                    LogPerson = User.Identity.Name,\n                    LogInfo = response.Error.ErrorCode + \" \" + response.Error.ErrorMessage + \" \" + response.Error.ExceptionObject.Message\n                };\n                apiErrorLog.InsertErrorLog(errorReq);\n            }\n            var helpRecords = response.data.Select(s =&gt; new Help()\n            {\n                Image = s.Image\n\n            }).FirstOrDefault();\n\n            var base64string = Convert.ToBase64String(helpRecords.Image);\n            request2.ImgSrcBase64 = String.Format(\"data:image/gif;base64,{0}\", base64string);\n            return PartialView(\"ImagePopUp\", request2);\n        }\n</code></pre>\n\n<p><strong>My View / Javascript -</strong> </p>\n\n<pre><code>&lt;div&gt;\n    @(Html.Kendo().Window()\n        .Name(\"ImagePopUp\")\n        //.LoadContentFrom(\"OpenPopUpWindow\", \"BlueButtonView\")\n        .Draggable()\n        .Actions(actions =&gt; actions.Close())\n        .Modal(true).Visible(false)\n        .HtmlAttributes(new { style = \"margin: 10px\" })\n        .LoadContentFrom(\"OpenImagePopUp\", \"Help\")\n    .Draggable()\n    .Resizable()\n    .Width(600)\n    .Actions(actions =&gt; actions.Close())\n    )\n\n&lt;/div&gt;\n\nfunction showImage(e) {\n        var grid = $(\"#CanopyHelpGrid\").getKendoGrid();\n        var item = grid.dataItem($(e.target).closest(\"tr\"));\n\n        $(\"#ImagePopUp\").data(\"kendoWindow\").open().center(true);\n        $.ajax({\n            datatype: \"image\",\n            type: \"GET\",\n            url: '@Url.Action(\"OpenImagePopUp\", \"Help\")',\n            data: { id: item.id },\n            success: function (data) {\n                //$(\"#imgPopUp\").attr('src', data);\n            }\n        })\n    }\n</code></pre>\n\n<p>Then finally my partial view - </p>\n\n<pre><code>@model OSH.Domain.Models.CanopyHelp.Help\n\n&lt;img id=\"imgPopUp\" alt=\"Image\" src='@Model.ImgSrcBase64'&gt;\n</code></pre>\n\n<p>I tried to convert the array to a base64 string then format it to be the image source but I keep seeing no image. </p>\n"}, {"tags": ["c#", "unity3d", "networking"], "answers": [{"tags": [], "owner": {"reputation": 470, "user_id": 5441030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10877ae9ebb1c19a22791516184228a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sergiy Klimkov", "link": "https://stackoverflow.com/users/5441030/sergiy-klimkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1510226658, "last_edit_date": 1510226658, "creation_date": 1510226340, "answer_id": 47200497, "question_id": 47188905, "link": "https://stackoverflow.com/questions/47188905/unity-networking-change-gameobject-sprite/47200497#47200497", "title": "unity networking change gameobject sprite", "body": "<p>If you want to execute code on all clients you will use \"Rpc\" methods with <code>ClientRpc</code> attribute.</p>\n\n<p>For example in your case it must be like this:</p>\n\n<pre><code>private void OnClick()\n{\n    Vector2 origin = new Vector2(\n                  Camera.main.ScreenToWorldPoint(Input.mousePosition).x,\n                  Camera.main.ScreenToWorldPoint(Input.mousePosition).y);\n\n    CmdOnClick(origin.x, origin.y);        \n}\n\n//this code will be executed on host only, but can be called from any client\n[Command(channel = 0)]\nprivate void CmdClickHandling(float x, float y)\n{\n    RpcClick(x, y);\n}\n\n//this code will be executed on all clients\n[ClientRpc(channel = 0)]\nprivate void RpcClickHandling(float x, float y)\n{\n    //quit if network behaviour not local for preventing executing code for all network behaviours\n    if (!isLocalPlayer)\n    {\n        return;\n    }\n\n    Vector2 osrigin = new Vector2(x, y);\n    RaycastHit2D hit = Physics2D.Raycast(origin, Vector2.zero, 0f);\n\n    if (hit &amp;&amp; hit.transform.gameObject.tag.Equals(\"Untagged\"))\n    {\n\n        hit.transform.gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite = blueBarre.GetComponent&lt;SpriteRenderer&gt;().sprite;\n        hit.transform.gameObject.tag = \"ok\";\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8487371, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086250421539957/picture?type=large", "display_name": "Amine Ouam", "link": "https://stackoverflow.com/users/8487371/amine-ouam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 47200497, "answer_count": 1, "score": 0, "last_activity_date": 1510256458, "creation_date": 1510172347, "last_edit_date": 1510174501, "question_id": 47188905, "link": "https://stackoverflow.com/questions/47188905/unity-networking-change-gameobject-sprite", "title": "unity networking change gameobject sprite", "body": "<p>I am creating a small online multiplayer game.\nand I managed some steps. I configured the player prefab and I managed to instantiate an object in the scene thanks to that:</p>\n\n<pre><code>[Command]\nvoid Cmdbars()\n{\n    GameObject bar = Instantiate(barH, GameObject.Find(\"pos1\").GetComponent&lt;Transform&gt;().transform.position, Quaternion.identity) as GameObject;\n\n    NetworkServer.Spawn(bar);\n}\n</code></pre>\n\n<p>Now I want that if we click on this object its sprite changes.\nfor that I use this method:</p>\n\n<pre><code>[Command]\nvoid Cmdclick()\n{\n    if (Input.GetMouseButtonDown(0))\n    {\n        Vector2 origin = new Vector2(\n                      Camera.main.ScreenToWorldPoint(Input.mousePosition).x,\n                      Camera.main.ScreenToWorldPoint(Input.mousePosition).y);\n\n        RaycastHit2D hit = Physics2D.Raycast(origin, Vector2.zero, 0f);\n\n\n        if (hit &amp;&amp; hit.transform.gameObject.tag.Equals(\"Untagged\"))\n        {\n            hit.transform.gameObject.GetComponent&lt;SpriteRenderer&gt;().sprite = blueBarre.GetComponent&lt;SpriteRenderer&gt;().sprite;\n            hit.transform.gameObject.tag = \"ok\";\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that the sprite changes only locally and not in all players.</p>\n"}, {"tags": ["c#", "algorithm"], "comments": [{"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 1, "creation_date": 1510173540, "post_id": 47188880, "comment_id": 81327763, "body": "Is this a homework question a professor gave? If so, did he give parameters that the program should be capable of handling? Its possible that the problem is just too big for that many parameters. I can&#39;t tell if its the algorithm that is slow or just that the problem is too big because its not obvious what the code is doing."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 1, "creation_date": 1510173624, "post_id": 47188880, "comment_id": 81327813, "body": "First thing is first - rename all your variables. Give them meaningful names. You&#39;ll thank me a year or so in the future, when you are 6 months into your first job as a programmer and have to do some maintenance work on an old code you wrote."}, {"owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "edited": false, "score": 0, "creation_date": 1510173730, "post_id": 47188880, "comment_id": 81327876, "body": "The code finds all the permutations for a given sets of numbers you input.  The only parameters is a list of integers and a ceiling that the summation of that particular summation can&#39;t exceed, if it does, it doesn&#39;t need to be included."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1510173735, "post_id": 47188880, "comment_id": 81327881, "body": "Shouldn&#39;t it be maximum 5 elements?"}, {"owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 0, "creation_date": 1510173890, "post_id": 47188880, "comment_id": 81327963, "body": "@ZoharPeled I updated those numbers"}, {"owner": {"reputation": 35084, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "edited": false, "score": 0, "creation_date": 1510183971, "post_id": 47188880, "comment_id": 81332408, "body": "This looks like an X-Y problem.  See <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a> for what that is.   That said, what does &quot;the summation of that particular summation&quot; mean?  It doesn&#39;t matter what order you put an array into, its sum should always be the same."}, {"owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "edited": false, "score": 0, "creation_date": 1510184433, "post_id": 47188880, "comment_id": 81332544, "body": "I mean when you add array[i] + array[i+1] + array[i+2]....if the sum is &gt; the limit. that combination is removed."}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1510184624, "post_id": 47188880, "comment_id": 81332595, "body": "You still aren&#39;t at all clear - what is <code>i</code>? As mentioned, order doesn&#39;t matter for summation. Where in your code are you testing the summation?"}, {"owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "edited": false, "score": 0, "creation_date": 1510185122, "post_id": 47188880, "comment_id": 81332724, "body": "i worded it wrong. I&#39;ll fix it.  When I input 13 numbers to into the program, there are a lot of combination/permutations.  The applications never finishes in a timely manner.  Is there a way to optimize what I have?"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 1, "creation_date": 1510185969, "post_id": 47188880, "comment_id": 81332943, "body": "The sum of an array is invariant under permutations. You have not precisely or accurately stated what problem you&#39;re really trying to solve here. Clarify the problem."}, {"owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510186120, "post_id": 47188880, "comment_id": 81332995, "body": "@EricLippert Is there anyway to make it not take forever to finish the list when I use an array with 13 indexes."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510186135, "post_id": 47188880, "comment_id": 81333001, "body": "Are you actually trying to solve a variation on the subset-sum problem? <b>That problem is not concerned with permutations; it is concerned with subsets</b>."}, {"owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510186744, "post_id": 47188880, "comment_id": 81333185, "body": "@EricLippert I&#39;m trying to make sure that my current implementation isn&#39;t extremely inefficient. Right now, there are a lot of returned results and it takes forever for the it to finish(longer than anyone would want to wait).  Is this going to happen regardless of the implementation(because of the set size) or is there maybe another approach that isn&#39;t so time heavy?"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 1, "creation_date": 1510187752, "post_id": 47188880, "comment_id": 81333434, "body": "No one can answer your question because you haven&#39;t explained your problem at all. For example, combinations and permutations are not the same thing, and if you don&#39;t know that, perhaps you need to understand your problem so you can explain it to others."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "edited": false, "score": 0, "creation_date": 1510186067, "post_id": 47191819, "comment_id": 81332978, "body": "That&#39;s one problem. The first issue I want to tackle, is handling the list of permutations. Is there anyway to make it not take forever to finish the list when I use an array with 13 indexes."}, {"owner": {"reputation": 1498, "user_id": 5578348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99783dcf33b635d3a81e0ad0b6b72c83?s=128&d=identicon&r=PG&f=1", "display_name": "Wilfredo", "link": "https://stackoverflow.com/users/5578348/wilfredo"}, "reply_to_user": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "edited": false, "score": 0, "creation_date": 1510186704, "post_id": 47191819, "comment_id": 81333172, "body": "If your algorithm is correct it won&#39;t matter if you&#39;re able to finish it quickly enough because then you can be asked to run against an array of 14 digits and you&#39;ll try to optimize it, and there&#39;s no way to optimize it beyond <code>Omega(n!)</code> (assuming your print function somehow takes constant time, which clearly wont) because there exists <code>n!</code> permutations, so you shouldn&#39;t be trying to print all permutations (unless the whole array is less than the sum). In fact I think that your problem isn&#39;t correctly stated: If the sum of the array is less than a number you should not print any permutation"}], "tags": [], "owner": {"reputation": 1498, "user_id": 5578348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99783dcf33b635d3a81e0ad0b6b72c83?s=128&d=identicon&r=PG&f=1", "display_name": "Wilfredo", "link": "https://stackoverflow.com/users/5578348/wilfredo"}, "is_accepted": false, "score": 0, "last_activity_date": 1510185832, "creation_date": 1510185832, "answer_id": 47191819, "question_id": 47188880, "link": "https://stackoverflow.com/questions/47188880/finding-all-permutations-in-a-list-of-numbers/47191819#47191819", "title": "Finding all permutations in a list of numbers", "body": "<p>So the problem is that you need to exclude the permutations whose sum is greater than a threshold is a perfect candidate for backtracking (don't search this term yet), think about a way to speed this up (there's n! permutations so it won't finish in a while). </p>\n\n<p>Imagine this like a tree were the leaves are the permutations themselves and answer:</p>\n\n<ul>\n<li>Do you need to know the full permutation before being able to exclude it?</li>\n<li>What calculations can you make in a non-leaf node?</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": false, "score": 0, "last_activity_date": 1510187660, "creation_date": 1510187660, "answer_id": 47192048, "question_id": 47188880, "link": "https://stackoverflow.com/questions/47188880/finding-all-permutations-in-a-list-of-numbers/47192048#47192048", "title": "Finding all permutations in a list of numbers", "body": "<p>I would suggest you look at using the Permutation library from here</p>\n\n<p><a href=\"https://www.codeproject.com/Articles/26050/Permutations-Combinations-and-Variations-using-C-G\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/26050/Permutations-Combinations-and-Variations-using-C-G</a></p>\n\n<p>and then write your filtering on top of that.</p>\n"}], "owner": {"reputation": 25, "user_id": 8909043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff852397058439d2c1d2357f475592f8?s=128&d=identicon&r=PG&f=1", "display_name": "Amiri Kazuo", "link": "https://stackoverflow.com/users/8909043/amiri-kazuo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 667, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1510187660, "creation_date": 1510172243, "last_edit_date": 1510185156, "question_id": 47188880, "link": "https://stackoverflow.com/questions/47188880/finding-all-permutations-in-a-list-of-numbers", "title": "Finding all permutations in a list of numbers", "body": "<p>Currently I have an array of 13 values and I want to find all the permutations of it and exclude the ones that summations that exceed a given threshold.  The problem is that there are so many values it never finishes. Is there a way to optimize what I have?</p>\n\n<pre><code> public class formPermut\n        {\n            public void swapTwoNumber(ref int a, ref int b)\n            {\n                int temp = a;\n                a = b;\n                b = temp;\n            }\n            public void prnPermut(int[] list, int k, int m)\n            {\n                int i;\n                if (k == m)\n                {\n                    for (i = 0; i &lt;= m; i++)\n                        Console.Write(\"{0}\", list[i]);\n                    Console.Write(\" \");\n                }\n                else\n                    for (i = k; i &lt;= m; i++)\n                    {\n                        swapTwoNumber(ref list[k], ref list[i]);\n                        prnPermut(list, k + 1, m);\n                        swapTwoNumber(ref list[k], ref list[i]);\n                    }\n            }\n        }\n        public static void RecExercise11()\n        {\n            int n, i;\n            formPermut test = new formPermut();\n            int[] arr1 = new int[13];\n\n            Console.WriteLine(\"\\n\\n Recursion : Generate all possible permutations of an array :\");\n            Console.WriteLine(\"------------------------------------------------------------------\");\n\n            Console.Write(\" Input the number of elements to store in the array [maximum 13 digits ] :\");\n            n = Convert.ToInt32(Console.ReadLine());\n            Console.Write(\" Input {0} number of elements in the array :\\n\", n);\n            for (i = 0; i &lt; n; i++)\n            {\n                Console.Write(\" element - {0} : \", i);\n                arr1[i] = Convert.ToInt32(Console.ReadLine());\n            }\n\n            Console.Write(\"\\n The Permutations with a combination of {0} digits are : \\n\", n);\n            test.prnPermut(arr1, 0, n - 1);\n            Console.Write(\"\\n\\n\");\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "user-interface"], "comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1510174452, "post_id": 47188825, "comment_id": 81328279, "body": "As a note, setting <code>Mode=TwoWay</code> and <code>UpdateSourceTrigger=PropertyChanged</code> on the DataTrigger Bindings is pointless. It has no effect."}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1510174636, "post_id": 47188825, "comment_id": 81328385, "body": "That said, here&#39;s the standard stupid question: you have implemented INotifyPropertyChanged and you are firing the PropertyChanged event when the IsRunning property changes?"}, {"owner": {"reputation": 835, "user_id": 5642380, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c1bee24162d961dd94950c6235bd35a?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5642380/j-doe"}, "reply_to_user": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1510175114, "post_id": 47188825, "comment_id": 81328673, "body": "Thanks! And I have implemented yep that&#39;s why it makes no sense :("}, {"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 1, "creation_date": 1510175322, "post_id": 47188825, "comment_id": 81328784, "body": "It displays PlayIcon, but not StopIcon when IsRunning is true? Your MetroFlatButton Style doesn&#39;t somehow bend the DataContext property? And IsRunning is a <i>public</i> property? Why do I have to ask all this? Show <i>all the relevant</i> parts of your code please."}], "answers": [{"tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": false, "score": 0, "last_activity_date": 1510237218, "creation_date": 1510237218, "answer_id": 47204187, "question_id": 47188825, "link": "https://stackoverflow.com/questions/47188825/wpf-image-styles-datatrigger-binding-not-working-on-change/47204187#47204187", "title": "WPF Image styles DataTrigger binding not working on change?", "body": "<p>You only need a single <code>DataTrigger</code>:</p>\n\n<pre><code>&lt;Button x:Name=\"btn_PluginPlay\" Padding=\"0\" Height=\"26\" Style=\"{StaticResource MetroFlatButton}\" \n        Background=\"Transparent\" VerticalContentAlignment=\"Top\" HorizontalContentAlignment=\"Left\" \n        Click=\"btn_PluginPlay_Click\"&gt;\n    &lt;Image Width=\"26\" Height=\"26\"&gt;\n        &lt;Image.Style&gt;\n            &lt;Style TargetType=\"{x:Type Image}\"&gt;\n                &lt;Setter Property=\"Source\" Value=\"{StaticResource PlayIcon}\"/&gt;\n                &lt;Style.Triggers&gt;\n                    &lt;DataTrigger Binding=\"{Binding IsRunning}\" Value=\"True\"&gt;\n                        &lt;Setter Property=\"Source\" Value=\"{StaticResource StopIcon}\"/&gt;\n                    &lt;/DataTrigger&gt;\n                &lt;/Style.Triggers&gt;\n            &lt;/Style&gt;\n        &lt;/Image.Style&gt;\n    &lt;/Image&gt;\n&lt;/Button&gt;\n</code></pre>\n\n<p>Then it should work provided that the <code>PluginItem</code> class, or whatever you call it, has a public <code>bool</code> property called <code>IsRunning</code> that raises change notifications whenever it's set to a new value.</p>\n"}], "owner": {"reputation": 835, "user_id": 5642380, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7c1bee24162d961dd94950c6235bd35a?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5642380/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1510237218, "creation_date": 1510172048, "question_id": 47188825, "link": "https://stackoverflow.com/questions/47188825/wpf-image-styles-datatrigger-binding-not-working-on-change", "title": "WPF Image styles DataTrigger binding not working on change?", "body": "<p>I have the following datagrid:</p>\n\n<pre><code>&lt;DataGrid ItemsSource=\"{Binding PluginItems}\" DataContext=\"{Binding RelativeSource={RelativeSource AncestorType=Window}}\" x:Name=\"dtg_Plugins\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Top\" Height=\"315\" Width=\"446\" CanUserAddRows=\"False\" AutoGenerateColumns=\"False\" SelectionMode=\"Single\" Padding=\"0\" RowHeight=\"26\"&gt;\n</code></pre>\n\n<p>And it contains column:</p>\n\n<pre><code>&lt;DataGridTemplateColumn CanUserResize=\"False\" CanUserReorder=\"False\" Width=\"26\"&gt;\n                    &lt;DataGridTemplateColumn.CellTemplate&gt;\n                        &lt;DataTemplate&gt;\n                            &lt;Button x:Name=\"btn_PluginPlay\" Padding=\"0\" Height=\"26\" Style=\"{StaticResource MetroFlatButton}\" Background=\"Transparent\" VerticalContentAlignment=\"Top\" HorizontalContentAlignment=\"Left\" Click=\"btn_PluginPlay_Click\"&gt;\n                                &lt;Image Width=\"26\" Height=\"26\"&gt;\n                                    &lt;Image.Style&gt;\n                                        &lt;Style TargetType=\"{x:Type Image}\"&gt;\n                                            &lt;Setter Property=\"Source\" Value=\"{StaticResource PlayIcon}\"/&gt;\n                                            &lt;Style.Triggers&gt;\n                                                &lt;DataTrigger Binding=\"{Binding IsRunning, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\" Value=\"False\"&gt;\n                                                    &lt;Setter Property=\"Source\" Value=\"{StaticResource PlayIcon}\"/&gt;\n                                                &lt;/DataTrigger&gt;\n                                                &lt;DataTrigger Binding=\"{Binding IsRunning, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\" Value=\"True\"&gt;\n                                                    &lt;Setter Property=\"Source\" Value=\"{StaticResource StopIcon}\"/&gt;\n                                                &lt;/DataTrigger&gt;\n                                            &lt;/Style.Triggers&gt;\n                                        &lt;/Style&gt;\n                                    &lt;/Image.Style&gt;\n                                &lt;/Image&gt;\n                            &lt;/Button&gt;\n                        &lt;/DataTemplate&gt;\n                    &lt;/DataGridTemplateColumn.CellTemplate&gt;\n                &lt;/DataGridTemplateColumn&gt;\n</code></pre>\n\n<p>I'm not sure why but the DataTrigger to change the image as shown, doesn't work.\nThe ItemsSource is ObservableCollection, the rest works just fine.</p>\n\n<p>What could be the cause for this?</p>\n"}, {"tags": ["c#", "xaml", "xamarin.forms"], "answers": [{"tags": [], "owner": {"reputation": 12813, "user_id": 7292772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g3IQ0.png?s=128&g=1", "display_name": "Sharada Gururaj", "link": "https://stackoverflow.com/users/7292772/sharada-gururaj"}, "is_accepted": true, "score": 1, "last_activity_date": 1510173652, "creation_date": 1510173652, "answer_id": 47189269, "question_id": 47188783, "link": "https://stackoverflow.com/questions/47188783/xamarin-forms-how-to-use-custom-ui-in-xaml/47189269#47189269", "title": "Xamarin forms how to use custom ui in Xaml", "body": "<p>First add namespace declaration attribute to the root tag in the XAML file:</p>\n\n<pre><code>xmlns:controls=\"clr-namespace:M.Helpers\"\n</code></pre>\n\n<p>And, use it while declaring your custom control: </p>\n\n<pre><code>&lt;controls:LinkingLabel Uri=\"\" Text=\"\"&gt;\n...\n&lt;/controls:LinkingLabel&gt;\n</code></pre>\n\n<p>Also, because you don't have a default constructor in your custom control, you will need to pass in the arguments as parameters. More details <a href=\"https://developer.xamarin.com/guides/xamarin-forms/xaml/passing-arguments/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 890, "user_id": 7564855, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa34d50774407101115cae6a1b49f7ba?s=128&d=identicon&r=PG&f=1", "display_name": "Bailey Miller", "link": "https://stackoverflow.com/users/7564855/bailey-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 47189269, "answer_count": 1, "score": 0, "last_activity_date": 1510173652, "creation_date": 1510171829, "question_id": 47188783, "link": "https://stackoverflow.com/questions/47188783/xamarin-forms-how-to-use-custom-ui-in-xaml", "title": "Xamarin forms how to use custom ui in Xaml", "body": "<p>I have extended the label class to create a slightly different piece of UI and would rather add it to my page with XAML rather than C# code. How can I do this?</p>\n\n<p>Code:</p>\n\n<pre><code>namespace M.Helpers\n{\n    public class LinkingLabel: Label\n    {\n        public LinkingLabel(Uri uri, String labelText = null)\n        {\n            Text = labelText ?? uri.ToString();\n            TextColor = Color.Blue;\n            GestureRecognizers.Add(new TapGestureRecognizer { Command = new Command(() =&gt; Device.OpenUri(uri)) });\n\n        }\n    }\n}\n</code></pre>\n\n<p>How can I simply write <code>&lt;LinkingLabel Uri=\"\" Text=\"\"&gt;&lt;/LinkingLabel&gt;</code> inside of my pages XAML. I am getting errors but no intellisense to help me import.</p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 0, "creation_date": 1510172281, "post_id": 47188733, "comment_id": 81327085, "body": "The first condition on each of the \u201cwhere\u201d clause is redundant. Anything you don\u2019t need remove it. Could you provide more info on \u201cdoesn\u2019t provide successful join\u201d?"}, {"owner": {"reputation": 677, "user_id": 7545390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlpak.jpg?s=128&g=1", "display_name": "Lab Lab", "link": "https://stackoverflow.com/users/7545390/lab-lab"}, "edited": false, "score": 0, "creation_date": 1510172293, "post_id": 47188733, "comment_id": 81327091, "body": "What kind of problem you have faced? Those values you get are not acceptable?"}, {"owner": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 0, "creation_date": 1510172537, "post_id": 47188733, "comment_id": 81327257, "body": "The inner join condition will handle the first condition on each of the where clauses hence why I said it\u2019s redundant."}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510172669, "post_id": 47188733, "comment_id": 81327318, "body": "I don&#39;t think the <code>where</code> statement is referencing the correct table. You may have to do another approach."}, {"owner": {"reputation": 677, "user_id": 7545390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlpak.jpg?s=128&g=1", "display_name": "Lab Lab", "link": "https://stackoverflow.com/users/7545390/lab-lab"}, "reply_to_user": {"reputation": 49855, "user_id": 5862071, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/II4q8.jpg?s=128&g=1", "display_name": "Ousmane D.", "link": "https://stackoverflow.com/users/5862071/ousmane-d"}, "edited": false, "score": 0, "creation_date": 1510172681, "post_id": 47188733, "comment_id": 81327323, "body": "@Aomin&#232; What you mean?"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "reply_to_user": {"reputation": 677, "user_id": 7545390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nlpak.jpg?s=128&g=1", "display_name": "Lab Lab", "link": "https://stackoverflow.com/users/7545390/lab-lab"}, "edited": false, "score": 1, "creation_date": 1510172714, "post_id": 47188733, "comment_id": 81327342, "body": "@LabLab <code>client.Id equals bank.ClientId</code> should take care of the <code>where (client.Id == bank.ClientId)</code>"}, {"owner": {"reputation": 57, "user_id": 7545982, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bQMSD_BQV5o/AAAAAAAAAAI/AAAAAAAAAB4/nDKJbq7aq-w/photo.jpg?sz=128", "display_name": "ex1t3", "link": "https://stackoverflow.com/users/7545982/ex1t3"}, "reply_to_user": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1510172799, "post_id": 47188733, "comment_id": 81327374, "body": "@12seconds Yeap, I know. But changing this won&#39;t solve the problem, right?"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 7545982, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bQMSD_BQV5o/AAAAAAAAAAI/AAAAAAAAAB4/nDKJbq7aq-w/photo.jpg?sz=128", "display_name": "ex1t3", "link": "https://stackoverflow.com/users/7545982/ex1t3"}, "edited": false, "score": 0, "creation_date": 1510173117, "post_id": 47189044, "comment_id": 81327534, "body": "Well, I dont think that this is the problem, but ill try this, thanks"}], "tags": [], "owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "is_accepted": false, "score": 0, "last_activity_date": 1510172944, "creation_date": 1510172944, "answer_id": 47189044, "question_id": 47188733, "link": "https://stackoverflow.com/questions/47188733/linq-join-with-3-tables-where-two-of-them-have-many-to-one-relations/47189044#47189044", "title": "LINQ JOIN with 3 tables where two of them have many-to-one relations", "body": "<p>I am assuming that the <code>where</code> statement is not referencing the correct table.</p>\n\n<p>Try this: (might be syntax error)</p>\n\n<pre><code>var totals = from client in _db.Clients\n        join bank in _db.Banking.Where(x =&gt; DateTime.Compare(x.BankDate, (DateTime) fromDate) &gt;= 0 &amp;&amp;\n                DateTime.Compare(x.BankDate, (DateTime) toDate) &lt;= 0) on client.Id equals bank.ClientId\n        join market in _db.Marketing.Where(x =&gt; DateTime.Compare(x.MarketDate, (DateTime) fromDate) &gt;= 0 &amp;&amp;\n                DateTime.Compare(x.MarketDate, (DateTime) toDate) &lt;= 0) on client.Id equals market.ClientId\n        select new {client.Username, bank, market};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 809, "user_id": 5292749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7042ab63af8b6ddb9a117004c434a98?s=128&d=identicon&r=PG&f=1", "display_name": "Ram Pratap", "link": "https://stackoverflow.com/users/5292749/ram-pratap"}, "is_accepted": false, "score": 0, "last_activity_date": 1510176777, "creation_date": 1510176777, "answer_id": 47190049, "question_id": 47188733, "link": "https://stackoverflow.com/questions/47188733/linq-join-with-3-tables-where-two-of-them-have-many-to-one-relations/47190049#47190049", "title": "LINQ JOIN with 3 tables where two of them have many-to-one relations", "body": "<p>By many-to-one I guess you are looking for left outer join, try this.</p>\n\n<pre><code>var totals = from client in _db.Clients\n                         join bank in _db.Banking on client.Id equals bank.ClientId into banks\n                         from bank in banks.DefaultIfEmpty()\n                         where (client.Id == bank.ClientId &amp;&amp;\n                                DateTime.Compare(bank.BankDate, (DateTime)fromDate) &gt;= 0 &amp;&amp;\n                                DateTime.Compare(bank.BankDate, (DateTime)toDate) &lt;= 0)\n                         join market in _db.Marketing on client.Id equals market.ClientId into markets\n                         from market in markets.DefaultIfEmpty()\n                         where (client.Id == market.ClientId &amp;&amp;\n                                DateTime.Compare(market.MarketDate, (DateTime)fromDate) &gt;= 0 &amp;&amp;\n                                DateTime.Compare(market.MarketDate, (DateTime)toDate) &lt;= 0)\n                         select new { client.Username, bank, market };\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 7545982, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-bQMSD_BQV5o/AAAAAAAAAAI/AAAAAAAAAB4/nDKJbq7aq-w/photo.jpg?sz=128", "display_name": "ex1t3", "link": "https://stackoverflow.com/users/7545982/ex1t3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510176777, "creation_date": 1510171607, "question_id": 47188733, "link": "https://stackoverflow.com/questions/47188733/linq-join-with-3-tables-where-two-of-them-have-many-to-one-relations", "title": "LINQ JOIN with 3 tables where two of them have many-to-one relations", "body": "<p>Hy. I'm working on a query, which should join 3 tables like</p>\n\n<ul>\n<li>client - has ID - take his name</li>\n<li>banking - has clientid - take some data from bankDate to bankDate</li>\n<li>marketing - has clientid - take some data from marketDate to marketDate</li>\n</ul>\n\n<p>code:</p>\n\n<pre><code>var totals = from client in _db.Clients\n                join bank in _db.Banking on client.Id equals bank.ClientId\n                where (client.Id == bank.ClientId  &amp;&amp;\n                       DateTime.Compare(bank.BankDate, (DateTime) fromDate) &gt;= 0 &amp;&amp;\n                       DateTime.Compare(bank.BankDate, (DateTime) toDate) &lt;= 0)\n                join market in _db.Marketing on client.Id equals market.ClientId\n                where (client.Id == market.ClientId &amp;&amp; \n                       DateTime.Compare(market.MarketDate, (DateTime) fromDate) &gt;= 0 &amp;&amp;\n                       DateTime.Compare(market.MarketDate, (DateTime) toDate) &lt;= 0)\n                select new {client.Username, bank, market};\n</code></pre>\n\n<p>This algorithm doesn't provide successful join for the tables with many-to-one  relations.\nWho has ever faced this problem and knows how to solve it? I'll be very appreciated for any help</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1510171621, "post_id": 47188719, "comment_id": 81326734, "body": "WPF or WinForms?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8857966"}, "reply_to_user": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1510171697, "post_id": 47188719, "comment_id": 81326776, "body": "Sorry for not specifying... WinForms. Will update."}, {"owner": {"reputation": 4573, "user_id": 5718868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lMKOf.png?s=128&g=1", "display_name": "jonathana", "link": "https://stackoverflow.com/users/5718868/jonathana"}, "edited": false, "score": 1, "creation_date": 1510178448, "post_id": 47188719, "comment_id": 81330245, "body": "Well... i have tried to find a property but did not found such property..very strange, why not to use <code>DataGridView</code> ? it is more improved control then a ListView."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1510184583, "post_id": 47188719, "comment_id": 81332586, "body": "The visual appearance of <code>ListView</code> is dictated by the user&#39;s selected Visual Style (Theme) and cannot be controlled in WinForms unless you manually paint the column headers yourself. (Note that since Windows 8, users cannot change Windows&#39; Visual Style - compare with Windows XP which had Classic, 3 colors for Luna (Blue, Green, and Silver), &quot;Royale Noir&quot;, Media Center Theme, and the Zune theme."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8857966"}, "edited": false, "score": 0, "creation_date": 1510254853, "post_id": 47191634, "comment_id": 81368739, "body": "I considered using a <code>DataGridView</code>, but it seems as though it requires data binding from something like a database, however I&#39;m just pulling data from text files so I don&#39;t know how I&#39;d bind it to the <code>DataGridView</code>"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1510255710, "post_id": 47191634, "comment_id": 81369203, "body": "@KianStevens You don&#39;t need to use data-binding, you can manually add to the <code>DataGridview.Rows</code> and <code>Row.Cells</code> collections - whereas with <code>DataGrid</code> (not <code>DataGridView</code>) you can only do it with binding."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8857966"}, "edited": false, "score": 0, "creation_date": 1510311937, "post_id": 47191634, "comment_id": 81392217, "body": "Thanks for the help. I will consider implementing it, however, the <code>ListView</code> seems to work pretty well too (apart from the problem I have above!)"}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": false, "score": 0, "last_activity_date": 1510184659, "creation_date": 1510184659, "answer_id": 47191634, "question_id": 47188719, "link": "https://stackoverflow.com/questions/47188719/no-separation-between-column-headers-and-first-row-of-data/47191634#47191634", "title": "No separation between column headers and first row of data", "body": "<p>I see you're displaying \"data\" to users in a grid - except you're using a <code>ListView</code> - which is really intended for filesystem display, not data.</p>\n\n<p>I recommend you switch to using <code>DataGridView</code> (avoid <code>System.Windows.Forms.DataGrid</code> as it's older and doesn't let you (easily) control the data being displayed).</p>\n\n<p>Also, protip for usability: if a table cell contains numeric data then it should be formatted with Right alignment, otherwise give it a Left alignment - avoid Middle/Center alignment in non-header table cells as it makes it difficult to visually scan a table.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8857966"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1510184659, "creation_date": 1510171532, "last_edit_date": 1510184246, "question_id": 47188719, "link": "https://stackoverflow.com/questions/47188719/no-separation-between-column-headers-and-first-row-of-data", "title": "No separation between column headers and first row of data", "body": "<p>I have a list view in WinForms that works and looks fine. However, the grid lines are formatted in such a way that there's no separation between the column headers and the first row of data. This makes it look like the first row of data is part of the column headers. You can see what I mean here:</p>\n\n<p><img src=\"https://i.stack.imgur.com/QHJwf.png\" alt=\"\"></p>\n\n<p>Is there any way I can format the list to stop this from happening, and make it look 'proper'? Thanks for any help.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510171545, "post_id": 47188678, "comment_id": 81326698, "body": "Please provide the code that caused this exception."}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1510172905, "post_id": 47188678, "comment_id": 81327422, "body": "Try <a href=\"https://msdn.microsoft.com/en-us/library/jj592886(v=vs.113).aspx\" rel=\"nofollow noreferrer\">disabling proxy creation</a>."}, {"owner": {"reputation": 407, "user_id": 7687058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b815e54a14b87bc49cd1046f9d9825c3?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7687058/john"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1510173542, "post_id": 47188678, "comment_id": 81327765, "body": "@SteveGreene if i disable proxy creation then lazy loading wont work. Is that true?"}, {"owner": {"reputation": 407, "user_id": 7687058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b815e54a14b87bc49cd1046f9d9825c3?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7687058/john"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510173652, "post_id": 47188678, "comment_id": 81327832, "body": "@ErikPhilips  var account = _dbcontext.Account.AsNoTracking().SingleOrDefault(m=&gt;m.id == 1);  var contactName = account.Contact.Name &lt;-- this where the exception occurs"}, {"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1510174105, "post_id": 47188678, "comment_id": 81328086, "body": "Turn it on when you need it, off when you don&#39;t. Set the default to be the most common scenario."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 2, "creation_date": 1510174113, "post_id": 47188678, "comment_id": 81328095, "body": "Don&#39;t add code or directly related comments as comments, just update your question so other users don&#39;t have to wade through comments to understand the question."}, {"owner": {"reputation": 4241, "user_id": 3994482, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/GzsFL.png?s=128&g=1", "display_name": "Mahbubur Rahman", "link": "https://stackoverflow.com/users/3994482/mahbubur-rahman"}, "edited": false, "score": 0, "creation_date": 1606729705, "post_id": 47188678, "comment_id": 115039498, "body": "setting <code>Configuration.ProxyCreationEnabled</code> to <code>false</code> resolved my issue. <a href=\"https://stackoverflow.com/questions/8292149/load-can-only-be-called-when-the-entitycollection-or-entityreference-does-not-co\" title=\"load can only be called when the entitycollection or entityreference does not co\">stackoverflow.com/questions/8292149/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "edited": false, "score": 6, "creation_date": 1527100475, "post_id": 47189458, "comment_id": 88003210, "body": "This really makes for a catch-22 when you need to load recursive entities as no tracking...."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "reply_to_user": {"reputation": 6452, "user_id": 3547347, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/15780fe731005d0f3e5c56dedeb12039?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Gaskell", "link": "https://stackoverflow.com/users/3547347/douglas-gaskell"}, "edited": false, "score": 0, "creation_date": 1549915144, "post_id": 47189458, "comment_id": 96068350, "body": "@DouglasGaskell not at all."}, {"owner": {"reputation": 199, "user_id": 8358565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/366ab719aed5ea28c285b2502b56dc44?s=128&d=identicon&r=PG&f=1", "display_name": "antoninod", "link": "https://stackoverflow.com/users/8358565/antoninod"}, "edited": false, "score": 0, "creation_date": 1589882881, "post_id": 47189458, "comment_id": 109462709, "body": "@ErikPhilips Thank you for this answer. I&#39;m really not convinced that using AsNoTracking prevents from using lazy loading, but it is not very easy to find information about that. Could you please provide references about what you are saying?"}, {"owner": {"reputation": 381, "user_id": 3103269, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe25fa9b5e4a333b7f8d96371981a2f8?s=128&d=identicon&r=PG&f=1", "display_name": "m12lrpv", "link": "https://stackoverflow.com/users/3103269/m12lrpv"}, "edited": false, "score": 1, "creation_date": 1595892037, "post_id": 47189458, "comment_id": 111626043, "body": "Seeing the same here too. Lazy loading with AsNoTracking... you can flip a coin as to whether it will work or not. Sometimes it does, sometmes it doesn&#39;t."}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": true, "score": 17, "last_activity_date": 1589998959, "last_edit_date": 1589998959, "creation_date": 1510174264, "answer_id": 47189458, "question_id": 47188678, "link": "https://stackoverflow.com/questions/47188678/entity-framework-lazy-loading-with-asnotracking/47189458#47189458", "title": "Entity Framework lazy loading with AsNoTracking()", "body": "<p>You've specified for EF to not track your instantiated <code>Account</code> value:</p>\n\n<pre><code>var account = _dbcontext.Account.AsNoTracking().SingleOrDefault(m=&gt;m.id == 1);\n</code></pre>\n\n<p>Thus trying to access navigation properties off of them will never work:</p>\n\n<pre><code>var contactName = account.Contact.Name\n</code></pre>\n\n<p>You can explicitly include navigation properties you want by using the <code>Include()</code>.  So the following should work:</p>\n\n<pre><code>var account = _dbcontext.Account\n  .Include(a =&gt; a.Contact)\n  .AsNoTracking()\n  .SingleOrDefault(m=&gt;m.id == 1);\n\nvar contactName = account.Contact.Name;  // no exception, it's already loaded\n</code></pre>\n\n<blockquote>\n  <p>I'm really not convinced that using AsNoTracking prevents from using lazy loading</p>\n</blockquote>\n\n<p>It can be tested really quickly:</p>\n\n<p><a href=\"https://dotnetfiddle.net/6iyahU\" rel=\"noreferrer\">DotNetFiddle Full Example</a></p>\n\n<pre><code>public static void Main()\n{\n    var actor1 = new Actor { Id = 1, Name = \"Vin Diesel\" }; \n    var movie1 = new Movie { Id = 1, Title = \"Fast and Furious\", PrimaryActor = actor1 };\n    using (var context = new MovieDb())\n    {\n\n        Console.WriteLine(\"========= Start Add: movie1 ==============\");\n        context.Movies.Add(movie1);\n        context.SaveChanges();\n        Console.WriteLine(\"========= END Add: movie1 ==============\");\n\n        var m1 = context.Movies.First();\n        Console.WriteLine(m1.PrimaryActor.Name);\n\n        var m2 = context.Movies.Include(m =&gt; m.PrimaryActor).AsNoTracking().First();\n        Console.WriteLine(m2.PrimaryActor.Name);\n\n        var m3 = context.Movies.AsNoTracking().First();\n        Console.WriteLine(m3.PrimaryActor.Name);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>========= Start Add: movie1 ==============<br>\n  ========= END Add: movie1 ==============<br>\n  Vin Diesel<br>\n  Vin Diesel<br>\n  Run-time exception (line 31): Object reference not set to an instance of an object.  </p>\n</blockquote>\n\n<p>The variable <code>m1</code> is tracked by the context, thus it can Lazy Load the navigation property and prints the value.  <code>m2</code> is not tracked, but I've explicitly included the navigation property so it prints the value.  <code>m3</code> is not tracked and I have not included it explicitly thus the value is <code>null</code> and we get a NRE.</p>\n"}], "owner": {"reputation": 407, "user_id": 7687058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b815e54a14b87bc49cd1046f9d9825c3?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/7687058/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10719, "favorite_count": 3, "accepted_answer_id": 47189458, "answer_count": 1, "score": 13, "last_activity_date": 1589998959, "creation_date": 1510171393, "last_edit_date": 1510177069, "question_id": 47188678, "link": "https://stackoverflow.com/questions/47188678/entity-framework-lazy-loading-with-asnotracking", "title": "Entity Framework lazy loading with AsNoTracking()", "body": "<p>We are currently using lazy loading for Entity Framework and running into <code>out of memory exception</code>. The reason why we're running into this exception is because the Linq query loads a lot of data and at latter stages it's using lazy loading to load navigation properties. But because we don't use <code>NoTrackingChanges</code> Entity Framework cache builds up really quickly which results in out of memory error. </p>\n\n<p>My understanding with EF is the we should always use <code>NoTrackingChanges</code> on query unless you want to update the returned object from the query.</p>\n\n<p>I then tested using <code>NoChangeTracking</code>:</p>\n\n<pre><code>var account = _dbcontext.Account\n                        .AsNoTracking()\n                        .SingleOrDefault(m =&gt; m.id == 1); \nvar contactName = account.Contact.Name\n</code></pre>\n\n<p>but I get the following error:</p>\n\n<blockquote>\n  <p>System.InvalidOperationException: When an object is returned with a NoTracking merge option, Load can only be called when the EntityCollection or EntityReference does not contain objects.</p>\n</blockquote>\n"}, {"tags": ["c#", "database", "entity-framework-6", "vertica"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1510172808, "post_id": 47188662, "comment_id": 81327375, "body": "Not unless there&#39;s a provider library available for EF."}, {"owner": {"reputation": 1, "user_id": 8909450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3073ac7602adef4dfd972c43f53b0bc9?s=128&d=identicon&r=PG", "display_name": "Joe B", "link": "https://stackoverflow.com/users/8909450/joe-b"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1510664906, "post_id": 47188662, "comment_id": 81523164, "body": "Anyone know if there is one?  I haven&#39;t had much searching so I&#39;m thinking no...."}], "answers": [{"tags": [], "owner": {"reputation": 3017, "user_id": 949297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/S2ohb.jpg?s=128&g=1", "display_name": "Nicolas Riousset", "link": "https://stackoverflow.com/users/949297/nicolas-riousset"}, "is_accepted": false, "score": 0, "last_activity_date": 1511271059, "creation_date": 1511271059, "answer_id": 47414342, "question_id": 47188662, "link": "https://stackoverflow.com/questions/47188662/can-hp-vertica-be-used-as-an-c-entity-framework-provider/47414342#47414342", "title": "Can HP Vertica be used as an C# Entity Framework provider?", "body": "<p>That's not the answer you expect, and you probably already read about it, but even if there's a way to use Vertica with a C# Entity provider, you probably don't want to go down this way.</p>\n\n<p>We tried to achieve the same thing in Java, using hibernate to store objects in Vertica. This was for the sake of convenience : storing all of our data in a single place seemed like a good idea. We created a couple of tables with a few thousand lines max, storing objects loaded by Hibernate. The content of the tables was updated several times per hour. </p>\n\n<p><strong>It quickly brought Vertica on its knees</strong>. The update process was filling the Vertica  Write Optimized Store (WOS), causing a <a href=\"https://my.vertica.com/docs/6.1.x/HTML/index.htm#4983.htm\" rel=\"nofollow noreferrer\">WOS overflow</a>. Reading performance was bad, since all columns of each table were retrieved (given the column oriented structure of Vertica tables, this would be equivalent to creating a table for each column in a row oriented database, and then joining all these tables to retrieve a single row). We ended up storing hibernate objects in a MySQL database, in order to only keep in Vertica the large volume of data which was intended to be analyzed/aggregated.</p>\n\n<p>In short, before looking for a Vertica C# Entity provider, just make sure you do know exactly how your provider will be used, the structure and complexity of your entities, and how Vertica will handle it.</p>\n\n<p>Good luck :)</p>\n"}], "owner": {"reputation": 1, "user_id": 8909450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3073ac7602adef4dfd972c43f53b0bc9?s=128&d=identicon&r=PG", "display_name": "Joe B", "link": "https://stackoverflow.com/users/8909450/joe-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511271059, "creation_date": 1510171335, "last_edit_date": 1510745657, "question_id": 47188662, "link": "https://stackoverflow.com/questions/47188662/can-hp-vertica-be-used-as-an-c-entity-framework-provider", "title": "Can HP Vertica be used as an C# Entity Framework provider?", "body": "<p>I have been trying to add as I do with MS SQL Server but its never appears in the list as a type to select from</p>\n"}, {"tags": ["c#", "wpf", "xaml", "user-interface", "mvvm"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1510176548, "post_id": 47188616, "comment_id": 81329328, "body": "You&#39;re doing work in the UI thread, so the UI thread is occupied with your work, not responding to changes and updating itself. You have to execute your code in a background thread."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1510193251, "post_id": 47188616, "comment_id": 81334731, "body": "long-running operations should <i>never</i> be executed in the UI thread. Use e.g. <code>Task.Run()</code>. Then, you can await the task and interleave UI updates as needed. See marked duplicate for examples."}, {"owner": {"reputation": 3, "user_id": 7908586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf13b4d32f1321a0833a35e1744fe17f?s=128&d=identicon&r=PG&f=1", "display_name": "user438461", "link": "https://stackoverflow.com/users/7908586/user438461"}, "edited": false, "score": 0, "creation_date": 1510238071, "post_id": 47188616, "comment_id": 81357553, "body": "Thanks! I&#39;m new to C#/WPF and wasn&#39;t thinking of the main thread as the UI thread. Most of my attempts were to send the Messenger to a different thread, but it&#39;s so obvious now why that doesn&#39;t make sense. Once I update my code, I&#39;ll post my own answer so that this question is still useful to someone."}], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 8756956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d2343000a3a8762a1df80f7cacbc808?s=128&d=identicon&r=PG&f=1", "display_name": "Nymau", "link": "https://stackoverflow.com/users/8756956/nymau"}, "is_accepted": false, "score": -1, "last_activity_date": 1510177656, "creation_date": 1510177656, "answer_id": 47190260, "question_id": 47188616, "link": "https://stackoverflow.com/questions/47188616/how-do-i-update-the-ui-from-a-method-in-my-viewmodel-before-the-method-finishes/47190260#47190260", "title": "How do I update the UI from a method in my ViewModel before the method finishes?", "body": "<p>Don't call a method who take several time in the UI thread.</p>\n\n<p>You can try by created a custom window. \nIn this you can show all custom information for your user.\nAs your method take several time, you can add a cancel button for exemple.\nYou can also add a progress bar. When a method take time, it's great to know the state of the system.</p>\n\n<p>Try this, when you press your button -> call a command to lunch a thread</p>\n\n<p>In your command :</p>\n\n<pre><code>void Command()`\n{\n    // run a thread, create a window and show it\n    // you can declare the thread outside if you want use something like join\n    Thread threadExecute = new Thread(Execute);\n    w = new WinTest();\n    w.Topmost = true;\n    w.Show();\n    threadExecute.Start();\n}\n\n// Call when your thread terminated\nvoid finish()\n{\n    w.Close();\n}\n\nvoid Execute()\n{\n    // Your big method 1\n    // Change the window information\n    // big method 2\n    this.Dispatcher.Invoke( finish );\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7908586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf13b4d32f1321a0833a35e1744fe17f?s=128&d=identicon&r=PG&f=1", "display_name": "user438461", "link": "https://stackoverflow.com/users/7908586/user438461"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1510193200, "answer_count": 1, "score": -1, "last_activity_date": 1510244644, "creation_date": 1510171138, "last_edit_date": 1510244644, "question_id": 47188616, "link": "https://stackoverflow.com/questions/47188616/how-do-i-update-the-ui-from-a-method-in-my-viewmodel-before-the-method-finishes", "closed_reason": "Duplicate", "title": "How do I update the UI from a method in my ViewModel before the method finishes?", "body": "<p>I have a MainWindow.xaml that gets populated with UserControls. I have a control in the MainWindow.xaml that has a button. The button is bound to the following command in MyViewModel.cs:</p>\n\n<pre><code>    public ICommand MyCommand\n    {\n        get\n        {\n            return Get(() =&gt; MyCommand, () =&gt; new RelayCommand(ExecuteMyCommand, CanExecuteMyCommand));\n        }\n    }\n\n    public void ExecuteMyCommand()\n    {\n        Messenger.Default.Send(new NotificationMessage(this, MainWindowMessageBus.ShowPopup1), MainWindowMessageBus.Token);\n        Method1();\n        Messenger.Default.Send(new NotificationMessage(this, MainWindowMessageBus.ShowPopup2), MainWindowMessageBus.Token);\n        Method2();\n    }\n\n    public bool CanExecuteInsertBedCommand()\n    {\n        return true;\n    }\n</code></pre>\n\n<p>Method1() and Method2() execute code that take about 5 seconds each. The messengers are sending messages to the codebehind MainWindow.xaml.cs:</p>\n\n<pre><code>    Popup1 popup1;\n    Popup2 popup2;\n\n    private void NotificationMessageReceived(NotificationMessage msg)\n    {\n        switch(msg.Notification)\n        {\n            case MainWindowMessageBus.ShowPopup1:\n                popup1 = new Popup1();\n                ControlContainer.Children.Add(popup1);\n                break;\n            case MainWindowMessageBus.ShowPopup2:\n                // Remove popup1\n                ControlContainer.Children.Remove(popup1);\n                popup1 = null;\n                // Add popup2\n                popup2 = new Popup2();\n                ControlContainer.Children.Add(popup2);\n                break;\n            default:\n                break;\n        }\n    }\n</code></pre>\n\n<p>Expected results: upon pressing my button, Popup1 shows immediately and stays in the window while Method1() executes. Then, Popup2 replaces Popup1 in the window and Method2() executes.</p>\n\n<p>Actual results: upon pressing my button, nothing happens in the UI. Method1() and Method2() execute as expected, and after they both run (~10 seconds), Popup2 is displayed. I never see Popup1.</p>\n\n<p>I tried a couple threading/async methods, but they didn't work. How can I get ExecuteMyCommand() to update the UI as it goes?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Ok so I can't answer my own question for some reason. I don't think this question is a duplicate of the specified thread, since that would imply that I already knew I needed to run Method1() in the background, which I did not. Anyways, here's what I changed:</p>\n\n<pre><code>public async void ExecuteMyCommand()\n        {\n            Messenger.Default.Send(new NotificationMessage(this, MainWindowMessageBus.ShowPopup1), MainWindowMessageBus.Token);\n            await Task.Run(() =&gt;\n            {\n                Method1();\n            });\n            Messenger.Default.Send(new NotificationMessage(this, MainWindowMessageBus.ShowPopup2), MainWindowMessageBus.Token);\n            Method2();\n        }\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "edited": false, "score": 1, "creation_date": 1510172824, "post_id": 47188569, "comment_id": 81327386, "body": "Don&#39;t have time to write the code, but the typical solution to this problem is to copy your 90 remaining &quot;random&quot; items to a different array or list and then <a href=\"https://stackoverflow.com/questions/273313/randomize-a-listt\"><i>shuffle</i></a> the list."}, {"owner": {"reputation": 106158, "user_id": 932418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/245e0f0dce8e71cb477b5aa8dff496a6?s=128&d=identicon&r=PG", "display_name": "L.B", "link": "https://stackoverflow.com/users/932418/l-b"}, "edited": false, "score": 0, "creation_date": 1510174283, "post_id": 47188569, "comment_id": 81328192, "body": "<i>Please clarify your specific problem or add additional details to highlight exactly what you need. As it&#39;s currently written, it\u2019s hard to tell exactly what you&#39;re asking.</i>"}, {"owner": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1510174366, "post_id": 47188569, "comment_id": 81328241, "body": "For shuffling, see <a href=\"https://stackoverflow.com/questions/1651619/optimal-linq-query-to-get-a-random-sub-collection-shuffle/1653204#1653204\" title=\"optimal linq query to get a random sub collection shuffle\">stackoverflow.com/questions/1651619/&hellip;</a>"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "reply_to_user": {"reputation": 34313, "user_id": 121309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a620f1f95441b8bde0e6c2c5140581d?s=128&d=identicon&r=PG", "display_name": "Hans Ke\ufb06ing", "link": "https://stackoverflow.com/users/121309/hans-ke%ef%ac%86ing"}, "edited": false, "score": 0, "creation_date": 1510181098, "post_id": 47188569, "comment_id": 81331379, "body": "@HansKesting - The OP&#39;s approach to shuffling is perfectly fine."}], "answers": [{"comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1510181146, "post_id": 47189141, "comment_id": 81331401, "body": "99 is the <b>exclusive</b> max. It might be worth stating that."}], "tags": [], "owner": {"reputation": 142, "user_id": 7051305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e0989a6ea843a5e7e994ac4c49a4fc?s=128&d=identicon&r=PG&f=1", "display_name": "bird", "link": "https://stackoverflow.com/users/7051305/bird"}, "is_accepted": false, "score": 0, "last_activity_date": 1510173282, "creation_date": 1510173282, "answer_id": 47189141, "question_id": 47188569, "link": "https://stackoverflow.com/questions/47188569/how-to-loop-randomly-through-certain-parts-of-an-array/47189141#47189141", "title": "How to loop randomly through certain parts of an array?", "body": "<p>you could do something like </p>\n\n<pre><code>var rand = new Random();\nint value = rand.Next(0, 99); // 0 is the min and 99 is the max\n</code></pre>\n\n<p>And to get a random element in an array you would just do </p>\n\n<pre><code>var result = randomingArray[value];  \n</code></pre>\n\n<p>If you need to check to see if the number was 9 you could do</p>\n\n<p>if(value == 9)</p>\n\n<p>{</p>\n\n<p>}</p>\n\n<p>If you just need to pick the 9th element each time you could just do</p>\n\n<pre><code>var result = randomingArray[9];  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 5963495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-BABTHH7FxnE/AAAAAAAAAAI/AAAAAAAAADo/4aTtBaUT0b0/photo.jpg?sz=128", "display_name": "Ralfs R", "link": "https://stackoverflow.com/users/5963495/ralfs-r"}, "edited": false, "score": 0, "creation_date": 1510247839, "post_id": 47191158, "comment_id": 81364789, "body": "Hello! Thank you for your answer. This line gives me an error when compiling .Select(i =&gt; assignments[i]) &quot;System.IndexOutOfRangeException: &#39;Index was outside the bounds of the array.&#39;&quot; How can i fix that?"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "reply_to_user": {"reputation": 77, "user_id": 5963495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-BABTHH7FxnE/AAAAAAAAAAI/AAAAAAAAADo/4aTtBaUT0b0/photo.jpg?sz=128", "display_name": "Ralfs R", "link": "https://stackoverflow.com/users/5963495/ralfs-r"}, "edited": false, "score": 0, "creation_date": 1510260992, "post_id": 47191158, "comment_id": 81372183, "body": "@RalfsR - Sorry, I made a small mistake. I fixed it."}], "tags": [], "owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "is_accepted": true, "score": 1, "last_activity_date": 1510260943, "last_edit_date": 1510260943, "creation_date": 1510181942, "answer_id": 47191158, "question_id": 47188569, "link": "https://stackoverflow.com/questions/47188569/how-to-loop-randomly-through-certain-parts-of-an-array/47191158#47191158", "title": "How to loop randomly through certain parts of an array?", "body": "<p>I think this will give you the results you want:</p>\n\n<pre><code>private Random rnd = new Random();\npublic MainWindow()\n{\n    InitializeComponent();\n    string[] assignments = new string[]\n    {\n        \"https://cdn2.iconfinder.com/data/icons/animals/48/Turtle.png\",\n        \"https://cdn2.iconfinder.com/data/icons/animals/48/Butterfly.png\",\n        \"https://cdn2.iconfinder.com/data/icons/animals/48/Dolphin.png\",\n        \"https://cdn2.iconfinder.com/data/icons/animals/48/Elephant.png\",\n        \"https://cdn2.iconfinder.com/data/icons/animals/48/Hippopotamus.png\",\n        \"https://cdn2.iconfinder.com/data/icons/animals/48/Panda.png\"\n    }.OrderBy(x =&gt; rnd.Next()).ToArray();\n\n    string[] animals =\n        Enumerable\n            .Range(0, 99)\n            .Select(i =&gt; assignments[i % assignments.Length])\n            .ToArray();\n\n    foreach (int i in Enumerable.Range(1, 9))\n    {\n        animals[i * 9] = assignments[9 % assignments.Length];\n    }\n\n    ItemsControl1.ItemsSource = animals;\n}\n</code></pre>\n\n<p>Just a small hint to save you trouble, always make your <code>Random</code> variable a single field - this will avoid potential mistakes with rapidly call code repeating random numbers. That won't happen in this code, but it's just a good habit to get in to.</p>\n\n<hr>\n\n<p>I just realised that I could lose the <code>foreach</code> loop by doing this:</p>\n\n<pre><code>    string[] animals =\n        Enumerable\n            .Range(0, 99)\n            .Select(i =&gt; assignments[i % 9 == 0 ? 9 : i % assignments.Length])\n            .ToArray();\n</code></pre>\n\n<p>That's even better.</p>\n"}], "owner": {"reputation": 77, "user_id": 5963495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-BABTHH7FxnE/AAAAAAAAAAI/AAAAAAAAADo/4aTtBaUT0b0/photo.jpg?sz=128", "display_name": "Ralfs R", "link": "https://stackoverflow.com/users/5963495/ralfs-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 47191158, "answer_count": 2, "score": -2, "last_activity_date": 1510666738, "creation_date": 1510170981, "last_edit_date": 1510666738, "question_id": 47188569, "link": "https://stackoverflow.com/questions/47188569/how-to-loop-randomly-through-certain-parts-of-an-array", "title": "How to loop randomly through certain parts of an array?", "body": "<p>I was making a loop that picks the correct 9th element of an array randomly each time it loops through. </p>\n\n<p>There are 99 elements in my loop in total.</p>\n\n<p>Each 9th element will be the same( % 9 ). I need to make the rest 90 of them loop randomly each time i open the application.</p>\n\n<p>Check my code:</p>\n\n<pre><code>    public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n        string[] assignments = new string[] { \"https://cdn2.iconfinder.com/data/icons/animals/48/Turtle.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Butterfly.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Dolphin.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Elephant.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Hippopotamus.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Panda.png\" };\n        Random rnd = new Random();\n\n        string[] randomingArray = assignments.OrderBy(x =&gt; rnd.Next()).ToArray();\n\n        string repeatNumber = \"\";\n\n        List&lt;string&gt; animals = new List&lt;string&gt;();\n\n        for (int i = 1; i &lt; 100; i++)\n        {\n            if (i == 9)\n            {\n                repeatNumber = randomingArray[i % randomingArray.Length];\n                animals.Add(repeatNumber);\n            }\n            else if ((i % 9) == 0)\n            {\n                animals.Add(repeatNumber);\n            }\n            else\n            {\n                // random animals.Add(); &lt;-- it should loop randomly here.\n            }\n            ItemsControl1.ItemsSource = animals;\n        }\n    }\n}\n</code></pre>\n\n<p>After that i add my elements to a list and send that list to xaml via binding. </p>\n"}, {"tags": ["c#", "xml", "xml-deserialization"], "comments": [{"owner": {"reputation": 53946, "user_id": 113794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7fbfca0882062e4be43e0ee3514c6338?s=128&d=identicon&r=PG", "display_name": "Rubens Farias", "link": "https://stackoverflow.com/users/113794/rubens-farias"}, "edited": false, "score": 0, "creation_date": 1510173086, "post_id": 47188550, "comment_id": 81327517, "body": "<a href=\"http://xmltocsharp.azurewebsites.net/\" rel=\"nofollow noreferrer\">xmltocsharp.azurewebsites.net</a> ?"}, {"owner": {"reputation": 83, "user_id": 7571768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b52b03abee5793df717cd5240bd470d1?s=128&d=identicon&r=PG&f=1", "display_name": "HelpinCodingpls", "link": "https://stackoverflow.com/users/7571768/helpincodingpls"}, "reply_to_user": {"reputation": 53946, "user_id": 113794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7fbfca0882062e4be43e0ee3514c6338?s=128&d=identicon&r=PG", "display_name": "Rubens Farias", "link": "https://stackoverflow.com/users/113794/rubens-farias"}, "edited": false, "score": 0, "creation_date": 1510173144, "post_id": 47188550, "comment_id": 81327550, "body": "Yes, I tried using it to convert my xml file to c# class."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 7571768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b52b03abee5793df717cd5240bd470d1?s=128&d=identicon&r=PG&f=1", "display_name": "HelpinCodingpls", "link": "https://stackoverflow.com/users/7571768/helpincodingpls"}, "edited": false, "score": 0, "creation_date": 1510173847, "post_id": 47189165, "comment_id": 81327943, "body": "Thanks! the lowercase of the class names was an issue. But also I was casting the deserialize as XmlSerializeGpx instead of XmlSerializeGpx.Gpx."}], "tags": [], "owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "is_accepted": true, "score": 1, "last_activity_date": 1510173344, "creation_date": 1510173344, "answer_id": 47189165, "question_id": 47188550, "link": "https://stackoverflow.com/questions/47188550/xml-deserializer-doesnt-work-for-my-gpx-file/47189165#47189165", "title": "Xml Deserializer doesn&#39;t work for my gpx file", "body": "<p>You need to get the capital and lower case letter correct.  See tested code below</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Xml;\nusing System.Xml.Serialization;\nusing System.IO;\n\n\nnamespace ConsoleApplication1\n{\n    class Program\n    {\n        const string FILENAME = @\"c:\\temp\\test.xml\";\n        static void Main(string[] args)\n        {\n            XmlSerializer xmlSerializer = new XmlSerializer(typeof(XmlSerializeGpx.Gpx), \"http://www.topografix.com/GPX/1/1\");\n\n            FileStream fs = new FileStream(FILENAME, FileMode.Open);\n            XmlReader reader = XmlReader.Create(fs);\n\n            XmlSerializeGpx.Gpx gpxObj = (XmlSerializeGpx.Gpx)xmlSerializer.Deserialize(reader);\n\n        }\n    }\n    public class XmlSerializeGpx\n    {\n\n        [XmlRoot(ElementName = \"start\", Namespace = \"http://www.topografix.com/GPX/1/1\")]\n        public class Start\n        {\n            public double ele { get; set; }\n            public DateTime time { get; set; }\n            [XmlAttribute(\"lat\")]\n            public double lat { get; set; }\n            [XmlAttribute(\"lon\")]\n            public double lon { get; set; }\n        }\n\n        [XmlRoot(ElementName = \"trkpt\", Namespace = \"http://www.topografix.com/GPX/1/1\")]\n        public class Trkpt\n        {\n            public double ele { get; set; }\n            public DateTime time { get; set; }\n            [XmlAttribute(\"lat\")]\n            public double lat { get; set; }\n            [XmlAttribute(\"lon\")]\n            public double lon { get; set; }\n        }\n\n        [XmlRoot(ElementName = \"trkseg\", Namespace = \"http://www.topografix.com/GPX/1/1\")]\n        public class Trkseg\n        {\n            [XmlElement(\"start\")]\n            public List&lt;Start&gt; start { get; set; }\n            [XmlElement(\"trkpt\")]\n            public List&lt;Trkpt&gt; trkpt { get; set; }\n        }\n\n        [XmlRoot(ElementName = \"trk\", Namespace = \"http://www.topografix.com/GPX/1/1\")]\n        public class Trk\n        {\n            public Trkseg trkseg { get; set; }\n        }\n\n        [XmlRoot(ElementName = \"gpx\", Namespace = \"http://www.topografix.com/GPX/1/1\")]\n        public class Gpx\n        {\n            public Trk trk { get; set; }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7571768, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b52b03abee5793df717cd5240bd470d1?s=128&d=identicon&r=PG&f=1", "display_name": "HelpinCodingpls", "link": "https://stackoverflow.com/users/7571768/helpincodingpls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 47189165, "answer_count": 1, "score": 0, "last_activity_date": 1510173344, "creation_date": 1510170918, "last_edit_date": 1510173015, "question_id": 47188550, "link": "https://stackoverflow.com/questions/47188550/xml-deserializer-doesnt-work-for-my-gpx-file", "title": "Xml Deserializer doesn&#39;t work for my gpx file", "body": "<p>I am trying to deserialize a gpx file into a class, but I am having trouble. I have tried inputting the gpx file text into Xml2CSharp and generating a class that way, but I'm not sure if it is correct (<a href=\"http://xmltocsharp.azurewebsites.net/\" rel=\"nofollow noreferrer\">http://xmltocsharp.azurewebsites.net/</a>). When I use debugger, gpx is null. Can someone give me some insight on what I am doing wrong? Thanks.</p>\n\n<p>Gpx Text: </p>\n\n<pre><code>&lt;gpx xmlns=\"http://www.topografix.com/GPX/1/1\" version=\"1.0\"&gt;\n   &lt;trk&gt;\n      &lt;trkseg&gt;\n         &lt;start lat=\"37.48996833333333\" lon=\"-122.20991333333335\"&gt;\n            &lt;ele&gt;127.1&lt;/ele&gt;\n            &lt;time&gt;2017-11-07T02:53:07Z&lt;/time&gt;\n         &lt;/start&gt;\n         &lt;trkpt lat=\"37.48996833333333\" lon=\"-122.20991333333335\"&gt;\n            &lt;ele&gt;127.1&lt;/ele&gt;\n            &lt;time&gt;2017-11-07T02:53:07Z&lt;/time&gt;\n         &lt;/trkpt&gt;\n         &lt;trkpt lat=\"37.48996833333333\" lon=\"-122.20991333333335\"&gt;\n            &lt;ele&gt;127.1&lt;/ele&gt;\n            &lt;time&gt;2017-11-07T02:53:07Z&lt;/time&gt;\n         &lt;/trkpt&gt;\n      &lt;/trkseg&gt;\n   &lt;/trk&gt;\n&lt;/gpx&gt;\n</code></pre>\n\n<p>Current class:</p>\n\n<pre><code>public class XmlSerializeGpx\n{\n    public Gpx gpx { get; set; }\n\n    public class Start\n    {\n        public string Ele { get; set; }\n        public string Time { get; set; }\n        public string Lat { get; set; }\n        public string Lon { get; set; }\n    }\n\n    public class Trkpt\n    {\n        public string Ele { get; set; }\n        public string Time { get; set; }\n        public string Lat { get; set; }\n        public string Lon { get; set; }\n    }\n\n    public class Trkseg\n    {\n        public Start Start { get; set; }\n        public List&lt;Trkpt&gt; Trkpt { get; set; }\n    }\n\n    public class Trk\n    {\n        public Trkseg Trkseg { get; set; }\n    }\n\n    public class Gpx\n    {\n        public Trk Trk { get; set; }\n        public string Xmlns { get; set; }\n        public string Version { get; set; }\n    }\n}\n</code></pre>\n\n<p>This is my deserializer:</p>\n\n<pre><code>XmlRootAttribute xRoot = new XmlRootAttribute();\nxRoot.ElementName = \"gpx\";\nxRoot.Namespace = gpxNs.NamespaceName;\nxRoot.IsNullable = true;\n\nXmlSerializer xmlSerializer = new XmlSerializer(typeof(XmlSerializeGpx),xRoot);\nFileStream fs = new FileStream(file.Path, FileMode.Open);\nXmlReader reader = XmlReader.Create(fs);\n\nXmlSerializeGpx gpxObj;\n\ngpxObj = (XmlSerializeGpx)xmlSerializer.Deserialize(reader);\n\nfs.Close();\n</code></pre>\n"}, {"tags": ["c#", "botframework", "azure-language-understanding", "qnamaker"], "comments": [{"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1510171010, "post_id": 47188523, "comment_id": 81326395, "body": "Can you post the top of the class? the usings"}, {"owner": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "reply_to_user": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1510174311, "post_id": 47188523, "comment_id": 81328206, "body": "using System;   using System.Configuration;   using System.Threading.Tasks;   using System.Web.Http;      using Microsoft.Bot.Connector;   using Microsoft.Bot.Builder.Dialogs;   using System.Web.Http.Description;   using System.Net.Http;   using System.Diagnostics;   using Microsoft.Bot.Builder.Luis;   using Microsoft.Bot.Builder.Luis.Models;"}, {"owner": {"reputation": 7957, "user_id": 86646, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/z9iB2.jpg?s=128&g=1", "display_name": "Eric Dahlvang", "link": "https://stackoverflow.com/users/86646/eric-dahlvang"}, "edited": false, "score": 0, "creation_date": 1510186352, "post_id": 47188523, "comment_id": 81333054, "body": "CancellationToken is in System.Threading, so you should also have &quot;using System.Threading;&quot;  I&#39;m not sure why BasicQnAMakerDialog isn&#39;t found.  Please add the entire dialog&#39;s code, as it is, to the question."}, {"owner": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "edited": false, "score": 0, "creation_date": 1510250000, "post_id": 47188523, "comment_id": 81366078, "body": "Updated. The using System.Threading got rid of the first error."}, {"owner": {"reputation": 25686, "user_id": 33051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ef3e872b7359633a74dc57bd708fde22?s=128&d=identicon&r=PG", "display_name": "Zhaph - Ben Duguid", "link": "https://stackoverflow.com/users/33051/zhaph-ben-duguid"}, "edited": false, "score": 0, "creation_date": 1510250153, "post_id": 47188523, "comment_id": 81366157, "body": "What namespace is your <code>BasicQnAMakerDialog</code> in?"}, {"owner": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "edited": false, "score": 0, "creation_date": 1510251473, "post_id": 47188523, "comment_id": 81366861, "body": "It is in namespace Microsoft.Bot.Sample.QnABot - It is in a file named BasicQnAMakerDialog.cs that is in the same folder, Dialogs"}, {"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1510251831, "post_id": 47188523, "comment_id": 81367069, "body": "You need to add an using Microsoft.Bot.Sample.QnABot;"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "edited": false, "score": 0, "creation_date": 1510253389, "post_id": 47209030, "comment_id": 81367900, "body": "I now have the issue: Dialogs\\BasicLuisDialog.cs(14,28): error CS0234: The type or namespace name &#39;QnABot&#39; does not exist in the namespace &#39;Microsoft.Bot.Sample&#39; (are you missing an assembly reference?)"}, {"owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "reply_to_user": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "edited": false, "score": 0, "creation_date": 1510272131, "post_id": 47209030, "comment_id": 81376808, "body": "are these different projects in visual studio?"}, {"owner": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "edited": false, "score": 0, "creation_date": 1510330893, "post_id": 47209030, "comment_id": 81404352, "body": "They are different .cs files. But they are in the same folder, Dialogs"}, {"owner": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "reply_to_user": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "edited": false, "score": 0, "creation_date": 1510334705, "post_id": 47209030, "comment_id": 81406527, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/158721/discussion-between-sharon-fang-and-ezequiel-jadib\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 14579, "user_id": 90081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/061363ce8de1f79af81d2766c75fe4d6?s=128&d=identicon&r=PG", "display_name": "Ezequiel Jadib", "link": "https://stackoverflow.com/users/90081/ezequiel-jadib"}, "is_accepted": false, "score": 0, "last_activity_date": 1510251873, "creation_date": 1510251873, "answer_id": 47209030, "question_id": 47188523, "link": "https://stackoverflow.com/questions/47188523/qna-luis-chatbot-c/47209030#47209030", "title": "QnA &amp; LUIS Chatbot C#", "body": "<p>Add a <code>using</code> for the namespace where the <code>BasicQnAMakerDialog.cs</code> is at.</p>\n\n<pre><code>using Microsoft.Bot.Sample.QnABot \n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 8845827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6DhCo.jpg?s=128&g=1", "display_name": "Sharon Fang", "link": "https://stackoverflow.com/users/8845827/sharon-fang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 812, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1510336480, "creation_date": 1510170825, "last_edit_date": 1510336480, "question_id": 47188523, "link": "https://stackoverflow.com/questions/47188523/qna-luis-chatbot-c", "title": "QnA &amp; LUIS Chatbot C#", "body": "<p>I am trying to implement a QnaMakerDialog after LUIS recognizes that it is a QnA Intent. In my Dialogs folder, I have two files: BasicLuisDialog.cs and BasicQnAMakerDialog.cs. In my Controller, it calls BasicLuisDialog, and I want to call the QnAMakerDialog within that. Here is my full BasicLuisDialog code:</p>\n\n<pre><code>using System;\nusing System.Configuration;\nusing System.Threading.Tasks;\nusing System.Web.Http;\n\nusing Microsoft.Bot.Connector;\nusing Microsoft.Bot.Builder.Dialogs;\nusing System.Web.Http.Description;\nusing System.Net.Http;\nusing System.Diagnostics;\nusing Microsoft.Bot.Builder.Luis;\nusing Microsoft.Bot.Builder.Luis.Models;\nusing System.Threading;\nusing Microsoft.Bot.Sample.QnABot;\n\n\n\n\nnamespace Microsoft.Bot.Sample.LuisBot\n{\n    [Serializable]\n    public class BasicLuisDialog : LuisDialog&lt;object&gt;\n    {\n        public BasicLuisDialog() : base(new LuisService(new LuisModelAttribute(\"asdf\", \"asdf\")))\n//replace asdf with keys \n        {\n        }\n\n        [LuisIntent(\"None\")]\n        public async Task NoneIntent(IDialogContext context, LuisResult result)\n        {\n            await context.PostAsync($\"You have reached the none intent. You said: {result.Query}\"); //\n            context.Wait(MessageReceived);\n        }\n\n        [LuisIntent(\"Weather.GetCondition\")]\n        public async Task ConditionIntent(IDialogContext context, LuisResult result)\n        {\n            await context.PostAsync($\"You have reached the Condition intent. You said: {result.Query}\"); //\n            context.Wait(MessageReceived);\n        }\n\n        [LuisIntent(\"Weather.GetForecast\")]\n        public async Task ForecastIntent(IDialogContext context, LuisResult result)\n        {\n            await context.PostAsync($\"You have reached the ForecastIntent intent. You said: {result.Query}\"); //\n            context.Wait(MessageReceived);\n        }\n\n        [LuisIntent(\"GetQnA\")]\n        public async Task GetQnA(IDialogContext context, IAwaitable&lt;IMessageActivity&gt; activity, LuisResult result)\n        {\n        var msg = await activity;\n        var cts = new CancellationTokenSource();\n        var faq = new BasicQnAMakerDialog();\n        await context.Forward(faq, AfterFAQDialog, msg, CancellationToken.None);\n\n        }\n\n        private async Task AfterFAQDialog(IDialogContext context, IAwaitable&lt;object&gt; result)\n        {\n        context.Wait(MessageReceived);\n        }\n\n    }\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>Dialogs\\BasicLuisDialog.cs(51,23): error CS0246: The type or namespace name 'BasicQnAMakerDialog' could not be found (are you missing a using directive or an assembly reference?) </p>\n</blockquote>\n\n<p>Code for BasicQnAMakerDialog.cs:</p>\n\n<pre><code>using System;\nusing System.Configuration;\n\nusing Microsoft.Bot.Builder.CognitiveServices.QnAMaker;\n\nnamespace Microsoft.Bot.Sample.QnABot\n{\n    [Serializable]\n    public class BasicQnAMakerDialog : QnAMakerDialog\n    {\n        public BasicQnAMakerDialog() : base(new QnAMakerService(new QnAMakerAttribute(\"asdf\", \"asdf\",\"No good match in FAQ\",0.2,3))) \n        {\n        }\n\n        protected override async Task DefaultWaitNextMessageAsync(IDialogContext context, IMessageActivity message, QnAMakerResults results)\n        {\n            Console.WriteLine(\"KB Question: \" + results.Answers.First().Questions.First());\n            Console.WriteLine(\"KB Answer: \" + results.Answers.First().Answer);\n            await base.DefaultWaitNextMessageAsync(context, message, results);\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c#", "android", "xamarin.forms"], "answers": [{"tags": [], "owner": {"reputation": 8446, "user_id": 7718924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iQFOf.jpg?s=128&g=1", "display_name": "Eren Shen", "link": "https://stackoverflow.com/users/7718924/eren-shen"}, "is_accepted": false, "score": 1, "last_activity_date": 1510229380, "last_edit_date": 1510229380, "creation_date": 1510222455, "answer_id": 47199140, "question_id": 47188376, "link": "https://stackoverflow.com/questions/47188376/xamarin-forms-listview-deselect-item-on-android/47199140#47199140", "title": "Xamarin.Forms ListView deselect item on Android", "body": "<p>Because the type of <code>e.SelectedItem</code> is not <code>MainPage</code>, so it will always be null.</p>\n\n<h2>Solution :</h2>\n\n<h3>Create a <code>ViewModel</code> :</h3>\n\n<p>Add a property in your <code>ListView</code> item  to indicate whether the item is currently selected :</p>\n\n<pre><code>public class ItemViewModel : BaseViewModel\n{\n    public string Title { get; set; }\n\n    private bool isVisible;\n    public bool IsVisible\n    {\n        get { return isVisible; }\n        set { SetField(ref isVisible, value); }\n    }\n}\n</code></pre>\n\n<p><strong>BaseViewModel</strong> :</p>\n\n<pre><code>public class BaseViewModel : INotifyPropertyChanged\n{\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    protected void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        PropertyChangedEventHandler handler = PropertyChanged;\n        if (handler != null)\n        {\n            PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n\n    protected bool SetField&lt;T&gt;(ref T field, T value, [CallerMemberName] string propertyName = null)\n    {\n        if (Object.Equals(field, value)) return false;\n        field = value;\n        OnPropertyChanged(propertyName);\n        return true;\n    }\n}\n</code></pre>\n\n<p>Then in the page's <code>ViewModel</code> , you could set the <code>SelectedItem</code>'s <code>IsSelected</code> value in <code>SelectedItem</code> event :</p>\n\n<p>XAML :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n         xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n         xmlns:local=\"clr-namespace:App7\"\n         x:Class=\"App7.MainPage\"&gt;\n\n&lt;ContentPage.BindingContext&gt;\n    &lt;local:MainViewModel/&gt;\n&lt;/ContentPage.BindingContext&gt;\n\n&lt;ListView x:Name=\"ChallengeList\" \n          SeparatorColor=\"#3d122c\" \n          HasUnevenRows=\"True\"\n          ItemsSource=\"{Binding Title}\" \n          SelectedItem=\"{Binding SelectedItem}\"  \n          RelativeLayout.YConstraint=\"{ConstraintExpression ElementName=Lab, Constant=0,Factor=1,Property=Height,Type=RelativeToView}\"\n          RelativeLayout.HeightConstraint=\"{ConstraintExpression Property=Height,Factor=0.8,Type=RelativeToParent}\"&gt;\n    &lt;ListView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;ViewCell&gt;\n                &lt;StackLayout \n                    Orientation=\"Horizontal\" \n                    BackgroundColor=\"#40FFFFFF\"\n                    Padding=\"10\"&gt;\n\n                    &lt;StackLayout HorizontalOptions=\"CenterAndExpand\"&gt;\n                        &lt;Label Text=\"{Binding Title}\" \n                               TextColor=\"#ff3f50\" \n                               FontSize=\"17\" \n                               FontAttributes=\"Bold\" \n                               HorizontalOptions=\"Center\"/&gt;\n                        &lt;StackLayout \n                            HorizontalOptions=\"CenterAndExpand\" \n                            IsVisible=\"{Binding IsVisible}\" \n                            x:Name=\"More\" \n                            Padding=\"5\"&gt;\n                            &lt;Label \n                                Text=\"QWER\" \n                                TextColor=\"#ff3f50\" \n                                FontSize=\"17\" \n                                FontAttributes=\"Bold\" \n                                HorizontalOptions=\"Center\"\n                                LineBreakMode=\"WordWrap\"/&gt;\n                        &lt;/StackLayout&gt;\n                    &lt;/StackLayout&gt;\n\n                &lt;/StackLayout&gt;\n            &lt;/ViewCell&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n\n&lt;/ContentPage&gt;\n</code></pre>\n\n<p>In your <code>MainViewModel</code> :</p>\n\n<pre><code>public class MainViewModel : BaseViewModel\n{\n\n    private ObservableCollection&lt;ItemViewModel&gt; _title;\n    public ObservableCollection&lt;ItemViewModel&gt; Title\n    {\n        get { return _title; }\n        set { SetField(ref _title, value); }\n    }\n\n    public MainViewModel()\n    {\n        var query = Enumerable.Range(0, 10)\n                         .Select(o =&gt; new ItemViewModel\n                         {\n                             Title = $\"I am item no. {o}\"\n                         });\n        Title = new ObservableCollection&lt;ItemViewModel&gt;(query);\n    }\n\n    private ItemViewModel _selectedItem;\n    public ItemViewModel SelectedItem\n    {\n        get { return _selectedItem; }\n        set\n        {\n            if (_selectedItem != value)\n            {\n                if (_selectedItem != null) _selectedItem.IsVisible = false;\n                value.IsVisible = true;\n                _selectedItem = value;\n                OnPropertyChanged();\n            }\n        }\n    }\n}\n</code></pre>\n\n<h2>Effect :</h2>\n\n<p><a href=\"https://i.stack.imgur.com/PaEWt.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PaEWt.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 3187, "user_id": 15904, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/7aec99975e9fa8fc8f6efcde09b3145c?s=128&d=identicon&r=PG", "display_name": "David Conlisk", "link": "https://stackoverflow.com/users/15904/david-conlisk"}, "is_accepted": true, "score": 1, "last_activity_date": 1510227233, "creation_date": 1510227233, "answer_id": 47200792, "question_id": 47188376, "link": "https://stackoverflow.com/questions/47188376/xamarin-forms-listview-deselect-item-on-android/47200792#47200792", "title": "Xamarin.Forms ListView deselect item on Android", "body": "<p>Try removing your variables li and licz and just toggle the IsVisible value, like this:</p>\n\n<pre><code>private void ChallengeList_ItemSelected(object sender, SelectedItemChangedEventArgs e)\n{\n   if (e.SelectedItem == null)\n     return;\n\n    viewModel.IsVisible = !viewModel.IsVisible;\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 7634607, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e67c40b4b4d627ed7a11f7cddd271ed6?s=128&d=identicon&r=PG&f=1", "display_name": "J.J", "link": "https://stackoverflow.com/users/7634607/j-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 875, "favorite_count": 0, "accepted_answer_id": 47200792, "answer_count": 2, "score": 0, "last_activity_date": 1510229380, "creation_date": 1510170240, "question_id": 47188376, "link": "https://stackoverflow.com/questions/47188376/xamarin-forms-listview-deselect-item-on-android", "title": "Xamarin.Forms ListView deselect item on Android", "body": "<p>I have problem with deselect item. I want that after again click stacklayout IsVisible = false; but i don't know why my code not working after click again. StackLayout is still visible</p>\n\n<pre><code>private bool _isVisible;\n\npublic new bool IsVisible\n{\n  get { return _isVisible; }\n  set { _isVisible = value; OnPropertyChanged(nameof(IsVisible)); }\n}\n\nprivate void ChallengeList_ItemSelected(object sender, SelectedItemChangedEventArgs e)\n{\n   if (e.SelectedItem == null)\n     return;\n   int licz = 0;\n   if (e.SelectedItem is MainPage viewModel &amp;&amp; licz == 0)\n   {\n       int li = 0;\n       li++;\n       viewModel.IsVisible = true;\n\n       if (li == 2)\n       {\n          viewModel.IsVisible = false;\n          licz = 0;\n       }\n   }\n}\n</code></pre>\n\n<p>Xaml:</p>\n\n<pre><code>&lt;ListView x:Name=\"ChallengeList\" SeparatorColor=\"#3d122c\" HasUnevenRows=\"True\"\n            ItemSelected=\"ChallengeList_ItemSelected\"  RelativeLayout.YConstraint=\"{ConstraintExpression ElementName=Lab, Constant=0,Factor=1,Property=Height,Type=RelativeToView}\"\n      RelativeLayout.HeightConstraint=\"{ConstraintExpression Property=Height,Factor=0.8,Type=RelativeToParent}\"&gt;\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;ViewCell&gt;\n                        &lt;StackLayout Orientation=\"Horizontal\"  BackgroundColor=\"#40FFFFFF\" Padding=\"10\"&gt;\n                            &lt;StackLayout HorizontalOptions=\"CenterAndExpand\"&gt;\n                                &lt;Label Text=\"{Binding Title}\" TextColor=\"#ff3f50\" FontSize=\"17\" FontAttributes=\"Bold\" HorizontalOptions=\"Center\"/&gt;\n                                &lt;StackLayout HorizontalOptions=\"CenterAndExpand\" IsVisible=\"{Binding IsVisible}\" x:Name=\"More\" Padding=\"5\"&gt;\n                                    &lt;Label Text=\"sdfghjkhgfdsfghjkljhgfdsadfghjkljhgfdsaSDFGHJKJHGFDSAsdfghjkhgfds\" TextColor=\"#ff3f50\" FontSize=\"17\" FontAttributes=\"Bold\" HorizontalOptions=\"Center\"\n                                           LineBreakMode=\"WordWrap\"/&gt;\n                                &lt;/StackLayout&gt;\n                            &lt;/StackLayout&gt;\n                        &lt;/StackLayout&gt;\n                    &lt;/ViewCell&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n&lt;/ListView&gt;\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "reflection"], "comments": [{"owner": {"reputation": 7825, "user_id": 1660123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGsht.jpg?s=128&g=1", "display_name": "Cake or Death", "link": "https://stackoverflow.com/users/1660123/cake-or-death"}, "edited": false, "score": 0, "creation_date": 1510172298, "post_id": 47188375, "comment_id": 81327097, "body": "If you are looking to map from one entity to a &#39;historical&#39; entity, try <a href=\"http://automapper.org/\" rel=\"nofollow noreferrer\">Automapper</a>"}, {"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "reply_to_user": {"reputation": 7825, "user_id": 1660123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGsht.jpg?s=128&g=1", "display_name": "Cake or Death", "link": "https://stackoverflow.com/users/1660123/cake-or-death"}, "edited": false, "score": 1, "creation_date": 1510172372, "post_id": 47188375, "comment_id": 81327144, "body": "I have a list of historical entities and im trying to map to a variable type. I&#39;m pretty familiar with automapper and havent seen a way to do this"}, {"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "reply_to_user": {"reputation": 7825, "user_id": 1660123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGsht.jpg?s=128&g=1", "display_name": "Cake or Death", "link": "https://stackoverflow.com/users/1660123/cake-or-death"}, "edited": false, "score": 0, "creation_date": 1561048542, "post_id": 47188375, "comment_id": 99946250, "body": "For all who may be interested in doing something like this, I felt it important to note that this implementation had pretty huge performance impacts in saving sizable amounts of data due to the amount of reflection that is being used and I&#39;d suggest to stay away from it. Currently, check out sql server 2016 temporal tables as it&#39;s the cleanest implemel server 2016 or later as its the cleanest implementation of history tracking ive seen so far"}], "answers": [{"comments": [{"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1510174045, "post_id": 47189330, "comment_id": 81328058, "body": "The problem with this is that you&#39;re using <code>typedHistories[1] as FooHistory</code> and I won&#39;t necessarily know to cast the object as a <code>FooHistory</code>. There can&#39;t be any hard references to types in the code since the type is variable"}, {"owner": {"reputation": 7825, "user_id": 1660123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGsht.jpg?s=128&g=1", "display_name": "Cake or Death", "link": "https://stackoverflow.com/users/1660123/cake-or-death"}, "reply_to_user": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1510174359, "post_id": 47189330, "comment_id": 81328239, "body": "Have edited the above to make it clearer (see commented line). Can you AddRange with an IList? It does at least compile, but I haven&#39;t tried it."}, {"owner": {"reputation": 7825, "user_id": 1660123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGsht.jpg?s=128&g=1", "display_name": "Cake or Death", "link": "https://stackoverflow.com/users/1660123/cake-or-death"}, "reply_to_user": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1510175406, "post_id": 47189330, "comment_id": 81328819, "body": "OK, we can use a foreach on the IList as just use <code>Add()</code> directly on the context. See above edit."}, {"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 1, "creation_date": 1510175653, "post_id": 47189330, "comment_id": 81328923, "body": "Thanks for the input- I am trying to work this into the solution and will get back to you (and will happily mark as accepted if this works for me)"}], "tags": [], "owner": {"reputation": 7825, "user_id": 1660123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGsht.jpg?s=128&g=1", "display_name": "Cake or Death", "link": "https://stackoverflow.com/users/1660123/cake-or-death"}, "is_accepted": true, "score": 1, "last_activity_date": 1510225309, "last_edit_date": 1510225309, "creation_date": 1510173837, "answer_id": 47189330, "question_id": 47188375, "link": "https://stackoverflow.com/questions/47188375/implementing-history-tracking-in-savechanges-override/47189330#47189330", "title": "Implementing history tracking in SaveChanges override", "body": "<p>You could use <a href=\"http://automapper.org/\" rel=\"nofollow noreferrer\">AutoMapper</a> to map your historical entities. I just created a little test, hopefully it replicates your situation:</p>\n\n<pre><code>IList dogs = new List&lt;Dog&gt;() { new Dog { Id = 1, Name = \"Alsatian\" }, new Dog { Id = 2, Name = \"Westie\" } };\nvar dogHistoryType = typeof(DogHistory);\nvar listType = typeof(List&lt;&gt;).MakeGenericType(new[] { dogHistoryType });\nvar typedHistories = (IList)Activator.CreateInstance(listType);\n\nmapper.Map(dogs, typedHistories);\n\nforeach (var historyItem in typedHistories)\n{\n    this.Add(historyItem);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3484, "user_id": 1343684, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aMizb.jpg?s=128&g=1", "display_name": "Rudresha Parameshappa", "link": "https://stackoverflow.com/users/1343684/rudresha-parameshappa"}, "is_accepted": false, "score": 1, "last_activity_date": 1510993811, "last_edit_date": 1510993811, "creation_date": 1510579177, "answer_id": 47265303, "question_id": 47188375, "link": "https://stackoverflow.com/questions/47188375/implementing-history-tracking-in-savechanges-override/47265303#47265303", "title": "Implementing history tracking in SaveChanges override", "body": "<p>I will try to explain the way I have implemented in my application.</p>\n\n<p>I have created Models with name ending <strong>History</strong> for models for which application needs to insert before deleting the record from the original table.</p>\n\n<p><strong>BaseModel.cs</strong></p>\n\n<pre><code>namespace ProductVersionModel.Model\n{\n    using System;\n    using System.ComponentModel.DataAnnotations;\n    using System.ComponentModel.DataAnnotations.Schema;\n\n    /// &lt;summary&gt;\n    /// all common properties of the tables are defined here\n    /// &lt;/summary&gt;\n    public class BaseModel\n    {\n        /// &lt;summary&gt;\n        /// id of the table\n        /// &lt;/summary&gt;\n        [Key]\n        public int Id { get; set; }\n\n        /// &lt;summary&gt;\n        /// user id of the user who modified last \n        /// &lt;/summary&gt;\n        public string LastModifiedBy { get; set; }\n\n        /// &lt;summary&gt;\n        /// last modified time\n        /// &lt;/summary&gt;\n        public DateTime LastModifiedTime { get; set; }\n\n\n        /// &lt;summary&gt;\n        /// record created user id\n        /// &lt;/summary&gt;\n        [Required]\n        public string CreatedBy { get; set; }\n\n        /// &lt;summary&gt;\n        /// record creation time\n        /// &lt;/summary&gt;\n        public DateTime CreationTime { get; set; }\n\n        /// &lt;summary&gt;\n        /// Not mapped to database, only for querying used\n        /// &lt;/summary&gt;\n        [NotMapped]\n        public int RowNumber { get; set; }\n    }\n}\n</code></pre>\n\n<p><strong>Product.cs</strong></p>\n\n<pre><code>namespace ProductVersionModel.Model\n{\n    using System;\n    using System.Collections.Generic;\n    using System.ComponentModel.DataAnnotations;\n\n    /// &lt;summary&gt;\n    /// store detals of the product\n    /// &lt;/summary&gt;\n    public class ProductStatus : BaseModel\n    {\n        /// &lt;summary&gt;\n        /// Name of the product\n        /// &lt;/summary&gt;\n        [Required, MaxLength(100)]\n        public string Name { get; set; }\n\n\n        /// &lt;summary&gt;\n        /// product version validity start date\n        /// &lt;/summary&gt;\n\n        public DateTime ValidFrom { get; set; }\n\n        /// &lt;summary&gt;\n        /// product version valid till\n        /// &lt;/summary&gt;\n        public DateTime? ValidTill { get; set; }\n\n        /// &lt;summary&gt;\n        /// This field used to keep track of history of a product\n        /// &lt;/summary&gt;\n        public int ProductNumber { get; set; }\n\n    }\n}\n</code></pre>\n\n<p><strong>HistoryBaseModel.cs</strong></p>\n\n<pre><code>using System;\nusing System.ComponentModel.DataAnnotations;\nusing System.ComponentModel.DataAnnotations.Schema;\n\nnamespace ProductVersionModel.Model.History\n{\n    public class HistroyBaseModel\n    {\n\n        /// &lt;summary&gt;\n        /// id of the table\n        /// &lt;/summary&gt;\n        [Key,  DatabaseGenerated(DatabaseGeneratedOption.None)]\n        public int Id { get; set; }\n\n        public string DeletedBy { get; set; }\n\n        public DateTime? DeletedTime { get; set; }\n        /// &lt;summary&gt;\n        /// record created user id\n        /// &lt;/summary&gt;\n        [Required]\n        public string CreatedBy { get; set; }\n\n        /// &lt;summary&gt;\n        /// record creation time\n        /// &lt;/summary&gt;\n        public DateTime CreationTime { get; set; }\n    }\n}\n</code></pre>\n\n<p><strong>ProductStatusHistory.cs</strong></p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel.DataAnnotations;\nusing ProductVersionModel.Model.History;\n\n// ReSharper disable once CheckNamespace\nnamespace ProductVersionModel.Model.History\n{\n    public class ProductStatusHistory : HistroyBaseModel\n    {\n\n        /// &lt;summary&gt;\n        /// Name of the product\n        /// &lt;/summary&gt;\n        [MaxLength(100)]\n        public string Name { get; set; }\n\n        /// &lt;summary&gt;\n        /// product version validity start date\n        /// &lt;/summary&gt;\n        public DateTime ValidFrom { get; set; }\n\n        /// &lt;summary&gt;\n        /// product version valid till\n        /// &lt;/summary&gt;\n        public DateTime? ValidTill { get; set; }\n\n        /// &lt;summary&gt;\n        /// This field used to keep track of history of a product\n        /// &lt;/summary&gt;\n        public int ProductNumber { get; set; }\n\n    }\n}\n</code></pre>\n\n<p>In <strong>Delete</strong> method of your <strong>CrudRepository</strong></p>\n\n<pre><code>    public virtual int Delete(List&lt;object&gt; ids, string userName)\n    {\n        try\n        {\n            foreach (var id in ids)\n            {\n                var dbObject = _table.Find(id);\n                HistroyBaseModel historyRecord = null;\n                var modelAssembly = Assembly.Load(nameof(ProductVersionModel));\n                var historyType =\n                    modelAssembly.GetType(\n                        // ReSharper disable once RedundantNameQualifier   - dont remove namespace it is required\n                        $\"{typeof(ProductVersionModel.Model.History.HistroyBaseModel).Namespace}.{typeof(TModel).Name}History\");\n\n                if (historyType != null)\n                {\n                    var historyObject = Activator.CreateInstance(historyType);\n\n                    historyRecord = MapDeletingObjectToHistoyObject(dbObject, historyObject, userName);\n\n                    DatabaseContext.Entry(historyRecord).State = EntityState.Added;\n                }\n                DatabaseContext.Entry(dbObject).State = EntityState.Deleted;\n            }\n            return DatabaseContext.SaveChanges();\n        }\n        catch (DbUpdateException ex)\n        {\n            throw HandleDbException(ex);\n        }\n    }\n\n    protected virtual HistroyBaseModel MapDeletingObjectToHistoyObject(object inputObject, object outputObject, string userName)\n    {\n        var historyRecord = MapObjectToObject(inputObject, outputObject) as HistroyBaseModel;\n        if (historyRecord != null)\n        {\n            historyRecord.DeletedBy = userName;\n            historyRecord.DeletedTime = DateTime.UtcNow;\n        }\n        return historyRecord;\n    }\n\n    protected virtual object MapObjectToObject(object inputObject, object outputObject)\n    {\n        var inputProperties = inputObject.GetType().GetProperties();\n        var outputProperties = outputObject.GetType().GetProperties();//.Where(x =&gt; !x.HasAttribute&lt;IgnoreMappingAttribute&gt;());\n        outputProperties.ForEach(x =&gt;\n        {\n            var prop =\n                inputProperties.FirstOrDefault(y =&gt; y.Name.Equals(x.Name) &amp;&amp; y.PropertyType == x.PropertyType);\n            if (prop != null)\n                x.SetValue(outputObject, prop.GetValue(inputObject));\n        });\n\n        return outputObject;\n    }\n</code></pre>\n\n<p>Where <strong>TModel</strong> is the type of the model</p>\n\n<pre><code>public class CrudRepository&lt;TModel&gt; : DataAccessBase, ICrudRepository&lt;TModel&gt; where TModel : class, new()\npublic class ProductStatusRepository : CrudRepository&lt;ProductStatus&gt;, IProductStatusRepository\n</code></pre>\n\n<p>You can override methods <strong>MapDeletingObjectToHistoyObject</strong> and <strong>MapObjectToObject</strong> in your related repository if you want to map complex entitites like child element list.</p>\n"}], "owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 1, "accepted_answer_id": 47189330, "answer_count": 2, "score": 6, "last_activity_date": 1510993811, "creation_date": 1510170237, "last_edit_date": 1510255287, "question_id": 47188375, "link": "https://stackoverflow.com/questions/47188375/implementing-history-tracking-in-savechanges-override", "title": "Implementing history tracking in SaveChanges override", "body": "<p>I am currently trying to implement history tracking on all of my tables in my app in a generic way by overriding the <code>SaveChanges</code> method and making use of reflection. As a simple case, let's say I have 2 classes/dbsets for my domain objects and a history table for each like the following:</p>\n\n<pre><code>DbSet&lt;Cat&gt; Cats { get; set; }\nDbSet&lt;CatHistory&gt; CatHistories { get; set; }\nDbSet&lt;Dog&gt; Dogs { get; set; }\nDbSet&lt;DogHistory&gt; DogHistories { get; set; }\n</code></pre>\n\n<p>The <code>CatHistory</code> class looks like the following (<code>DogHistory</code> follows the same scheme):</p>\n\n<pre><code>public class CatHistory : HistoricalEntity\n{\n  public int CatId { get; set; }\n\n  public virtual Cat Cat{ get; set; }\n}\n</code></pre>\n\n<p>My Goal is when an object is saved, I would like to insert a record in the appropriate history table. I am having trouble overcoming type difference when using reflection. My current attempt is below and I seem to be stuck on the <code>//TODO:</code> line:</p>\n\n<pre><code>        var properties = entry.CurrentValues.PropertyNames.Where(x =&gt; entry.Property(x).IsModified).ToList();\n\n        //get the history entry type from our calculated typeName\n        var historyType = Assembly.GetExecutingAssembly().GetTypes().FirstOrDefault(x =&gt; x.Name == historyTypeName);\n\n        if(historyType != null)\n        {\n\n          //modified entries\n          if (dbSet != null &amp;&amp; historyDbSet != null &amp;&amp; entry.State == EntityState.Modified)\n          {\n            var existingEntry = dbSet.Find(entry.Property(\"Id\").CurrentValue);\n\n            //create history record and add entry to table\n            var newHistories = GetHistoricalEntities(existingEntry, type, entry);\n\n            var listType = typeof(List&lt;&gt;).MakeGenericType(new[] { historyType });\n            var typedHistories = (IList)Activator.CreateInstance(listType);\n\n            //TODO: turn newHistories (type = List&lt;HistoricalEntity&gt;) into specific list type (List&lt;MyObjectHistory&gt;) so I can addrange on appropriate DbSet (MDbSet&lt;MyObjectHistory&gt;)\n\n            historyDbSet.AddRange(newHistories);\n          }\n        }\n</code></pre>\n"}, {"tags": ["c#", "uwp", "cortana"], "comments": [{"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 2, "creation_date": 1510171420, "post_id": 47188345, "comment_id": 81326624, "body": "You want to do something like have a string of text read out over the speaker, and have Cortana react as if it was actually spoken by the user of the computer, or am I misunderstanding your request?"}, {"owner": {"reputation": 970, "user_id": 7703854, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b4965de16d4754e940b7da9a005ee33c?s=128&d=identicon&r=PG&f=1", "display_name": "Dtb49", "link": "https://stackoverflow.com/users/7703854/dtb49"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1510173138, "post_id": 47188345, "comment_id": 81327544, "body": "That is what I want to do or if I could send her a string or something to her that would work too"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1510173369, "post_id": 47188345, "comment_id": 81327669, "body": "It looks like <a href=\"https://docs.microsoft.com/en-us/uwp/api/Windows.ApplicationModel.VoiceCommands\" rel=\"nofollow noreferrer\">this</a> might be what you are looking for?"}, {"owner": {"reputation": 970, "user_id": 7703854, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b4965de16d4754e940b7da9a005ee33c?s=128&d=identicon&r=PG&f=1", "display_name": "Dtb49", "link": "https://stackoverflow.com/users/7703854/dtb49"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1510174837, "post_id": 47188345, "comment_id": 81328513, "body": "From what I read it sounds like this is for creating commands, what about commands that are already built into Cortana like &quot;Call John Doe&quot; or &quot;What&#39;s the weather like today&quot;? Or did I read that wrong?"}, {"owner": {"reputation": 970, "user_id": 7703854, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b4965de16d4754e940b7da9a005ee33c?s=128&d=identicon&r=PG&f=1", "display_name": "Dtb49", "link": "https://stackoverflow.com/users/7703854/dtb49"}, "reply_to_user": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1510175408, "post_id": 47188345, "comment_id": 81328820, "body": "It talks about get commands from an XML file. All I want to do is send known commands to Cortana via text instead of voice through a Unity UWP app."}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1510186319, "post_id": 47188345, "comment_id": 81333046, "body": "I&#39;m not sure, this is outside the scope of anything I&#39;ve tried to do myself."}], "answers": [{"tags": [], "owner": {"reputation": 25248, "user_id": 7254781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FsIFV.jpg?s=128&g=1", "display_name": "Nico Zhu - MSFT", "link": "https://stackoverflow.com/users/7254781/nico-zhu-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1510209854, "last_edit_date": 1510209854, "creation_date": 1510209452, "answer_id": 47195393, "question_id": 47188345, "link": "https://stackoverflow.com/questions/47188345/is-there-a-way-to-send-text-or-strings-to-cortana-similar-of-that-to-the-windows/47195393#47195393", "title": "Is there a way to send Text or Strings to Cortana similar of that to the Windows Search bar?", "body": "<blockquote>\n  <p>All I want to do is send known commands to Cortana via text instead of voice through a Unity UWP app. </p>\n</blockquote>\n\n<p>Well, there are many uri schemes within Cortana. You could use it to launch Cortana to get result. You could use the <a href=\"https://docs.microsoft.com/en-us/uwp/api/Windows.System.Launcher#Windows_System_Launcher_LaunchUriAsync_Windows_Foundation_Uri_\" rel=\"nofollow noreferrer\"><code>LaunchUriAsync</code></a> method to launch a URI. </p>\n\n<pre><code>await Windows.System.Launcher.LaunchUriAsync(new Uri(\"ms-cortana://search/?q=web:uwp\"));\n</code></pre>\n\n<p>You could also use <code>Run</code> window(<kbd>Win</kbd>+<kbd>R</kbd>) to run the following quick command.</p>\n\n<pre><code>ms-cortana://search/?q=web:uwp\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/NL4ct.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NL4ct.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 970, "user_id": 7703854, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b4965de16d4754e940b7da9a005ee33c?s=128&d=identicon&r=PG&f=1", "display_name": "Dtb49", "link": "https://stackoverflow.com/users/7703854/dtb49"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 453, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1510209854, "creation_date": 1510170138, "last_edit_date": 1510177772, "question_id": 47188345, "link": "https://stackoverflow.com/questions/47188345/is-there-a-way-to-send-text-or-strings-to-cortana-similar-of-that-to-the-windows", "title": "Is there a way to send Text or Strings to Cortana similar of that to the Windows Search bar?", "body": "<p>EDIT: Is there a way to \"speak\" to Cortana similarly to the Search box on windows computers? I don't want to create new commands but, just be able to use Cortana through typing and pre-defined strings without having to use a microphone.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1510170191, "post_id": 47188251, "comment_id": 81325978, "body": "The code you posted looks fine. It should post to the HttpPost action method."}, {"owner": {"reputation": 9, "user_id": 7163334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0299d419b119b72fa72b2fefb676bb?s=128&d=identicon&r=PG&f=1", "display_name": "Hossein Gholizadeh", "link": "https://stackoverflow.com/users/7163334/hossein-gholizadeh"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1510215645, "post_id": 47188251, "comment_id": 81342612, "body": "but it doesn&#39;t do it ... i really confused!!!:/"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1510267352, "post_id": 47188251, "comment_id": 81375205, "body": "Check you do not have a <code>&lt;form&gt;</code> tag in your layout (a common cause is you have nested forms which is invalid html)"}, {"owner": {"reputation": 9, "user_id": 7163334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0299d419b119b72fa72b2fefb676bb?s=128&d=identicon&r=PG&f=1", "display_name": "Hossein Gholizadeh", "link": "https://stackoverflow.com/users/7163334/hossein-gholizadeh"}, "edited": false, "score": 0, "creation_date": 1510334547, "post_id": 47188251, "comment_id": 81406463, "body": "@StephenMuecke that was the problem ... i had a form tag in layout navbar"}], "owner": {"reputation": 9, "user_id": 7163334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0299d419b119b72fa72b2fefb676bb?s=128&d=identicon&r=PG&f=1", "display_name": "Hossein Gholizadeh", "link": "https://stackoverflow.com/users/7163334/hossein-gholizadeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1502, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1541837082, "creation_date": 1510169834, "last_edit_date": 1541837082, "question_id": 47188251, "link": "https://stackoverflow.com/questions/47188251/html-beginform-formmethod-post-is-not-working", "title": "Html.BeginForm FormMethod.Post is not working", "body": "<p>I want to post my data to the action which is HttpPost. I always do it but this time I don't know what happens here. Submit button sends view data to Get action (I mean Detail action which is HttpGet) the button type is submit as you see and in the Html.BeginForm as you see I have used <code>FormMethod.Post</code> but just sends dar. I searched here but found nothing.</p>\n\n<p>View:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@using MF_Urmia.Models.ViewModels\r\n@using Kendo.Mvc.UI\r\n@model CourseVm\r\n@{\r\n    Layout = \"~/Areas/Admin/Views/Shared/_LayoutPage.cshtml\";\r\n}\r\n@using(Html.BeginForm(\"Detail\", \"Course\", FormMethod.Post))\r\n{\r\n    @Html.HiddenFor(m =&gt; m.CourseId)\r\n    @Html.ValidationSummary(true)\r\n    &lt;div class=\"form-column\"&gt;\r\n        &lt;h1 class=\"form-title-box\"&gt;\r\n\t        &lt;span class=\"form-title\"&gt;\r\n                @ViewBag.title\r\n            &lt;/span&gt;\r\n        &lt;/h1&gt;\r\n\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.CourseName)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @Html.TextBoxFor(m =&gt; m.CourseName, new { @class = \"k-textbox\" })\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.TypeName)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @(Html.Kendo().DropDownListFor(m =&gt; m.CourseTypeId)\r\n                    .BindTo((IEnumerable&lt;SelectListItem&gt;)ViewBag.CourseTypeList)\r\n                    .OptionLabel(\"(Select One)\")\r\n                    .DataValueField(\"Value\")\r\n                    .DataTextField(\"Text\")\r\n                    .HtmlAttributes(new { id = \"CourseType\" }))\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.Price)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @Html.TextBoxFor(m =&gt; m.Price, new { @class = \"k-textbox\", @type = \"number\"})\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;br /&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.Copacity)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @Html.TextBoxFor(m =&gt; m.Copacity, new { @class = \"k-textbox\", @type = \"number\" })\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.TeacherName)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @Html.TextBoxFor(m =&gt; m.TeacherName, new { @class = \"k-textbox\" })\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.DurationTime)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @Html.TextBoxFor(m =&gt; m.DurationTime, new { @class = \"k-textbox\", @type = \"number\" })\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;br /&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.ClassStart)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @Html.TextBoxFor(model =&gt; model.ClassStart, new { @class = \"form-control kendo-date-picker\", value = \"\", placeholder = \"\u0645\u062b\u0627\u0644 :1396/05/20\" })\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label\"&gt;\r\n                @Html.LabelFor(m =&gt; m.RegisterLimit)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field\"&gt;\r\n                @Html.TextBoxFor(model =&gt; model.RegisterLimit, new { @class = \"form-control kendo-date-picker\", value = \"\", placeholder = \"\u0645\u062b\u0627\u0644 :1396/05/20\" })\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;hr /&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label form-required\"&gt;\r\n                @Html.LabelFor(m =&gt; m.CourseImage)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field-2xl\"&gt;\r\n                @Html.Kendo().Upload().Name(\"ImageFile\").Messages(m =&gt; m.Select(\"select\")).Multiple(false)\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;hr /&gt;\r\n        &lt;div class=\"frm-group\"&gt;\r\n            &lt;div class=\"form-label\"&gt;\r\n                @Html.LabelFor(m =&gt; m.Description)\r\n            &lt;/div&gt;\r\n            &lt;div class=\"form-field full-width\"&gt;\r\n                @Html.TextAreaFor(m =&gt; m.Description, new { @class = \"k-textbox ck-editor-box\" })\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;hr /&gt;\r\n        &lt;input value=\"submit\" type=\"submit\" class=\"btn btn-success form-btn\" /&gt;\r\n    &lt;/div&gt;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Controller:</p>\n\n<pre><code>public ActionResult Detail(int? id)\n{\n    var courseId = id;\n    using (var db = new MFUEntities())\n    {\n        var courseTypeList = db.CourseType.ToList();\n        ViewBag.CourseTypeList = new SelectList(courseTypeList,\n            nameof(CourseType.CourseTypeId), nameof(CourseType.DisplayName));\n\n        if (courseId.HasValue)\n        {\n            //\u0648\u064a\u0631\u0627\u064a\u0634\n            ViewBag.title = \"Edit\";\n\n            return View();\n        }\n        else\n        {\n            //\u062b\u0628\u062a\n            ViewBag.title = \"Create\";\n\n            return View();\n        }\n    }\n}\n\n[HttpPost]\npublic ActionResult Detail(CourseVm vm)\n{\n    var courseId = vm.CourseId;\n    using (var db = new MFUEntities())\n    {\n        if (courseId &gt; 0)\n        {\n            //Edit\n            var course = db.Course.FirstOrDefault(c =&gt; c.CourseId == vm.CourseId);\n            if (course == null)\n            {\n                return HttpNotFound();\n            }\n\n            //\u0648\u064a\u0631\u0627\u064a\u0634 \u0639\u06a9\u0633 \u062f\u0648\u0631\u0647\n            var oldImage = course.CourseImage;\n            //\u0639\u06a9\u0633 \u0642\u0628\u0644\u064a \u0631\u0627 \u067e\u0627\u06a9 \u06a9\u0646\u062f\n            System.IO.File.Delete(Server.MapPath(\"/Images/CourseImage/Images/\" + oldImage));\n            System.IO.File.Delete(Server.MapPath(\"/Images/CourseImage/Thumb/\" + oldImage));\n\n            vm.CourseImage = Guid.NewGuid().ToString().Replace(\"-\", \"\") +\n                         Path.GetExtension(vm.ImageFile.FileName);\n\n            vm.ImageFile.SaveAs(Server.MapPath(\"/Images/CourseImage/Images/\" + vm.CourseImage));\n\n            ImageResizer img = new ImageResizer();\n            img.Resize(Server.MapPath(\"/Images/CourseImage/Images/\" + vm.CourseImage),\n                Server.MapPath(\"/Images/CourseImage/Thumb/\" + vm.CourseImage));\n\n            Mapper.Map(vm, course);\n        }\n        else\n        {\n            //Create\n            //\u062b\u0628\u062a \u0639\u06a9\u0633 \u062f\u0648\u0631\u0647\n            vm.CourseImage = Guid.NewGuid().ToString().Replace(\"-\", \"\") +\n                         Path.GetExtension(vm.ImageFile.FileName);\n\n            vm.ImageFile.SaveAs(Server.MapPath(\"/Images/CourseImage/Images/\" + vm.CourseImage));\n\n            ImageResizer img = new ImageResizer();\n            img.Resize(Server.MapPath(\"/Images/CourseImage/Images/\" + vm.CourseImage),\n                Server.MapPath(\"/Images/CourseImage/Thumb/\" + vm.CourseImage));\n\n            var course = new Course();\n            Mapper.Map(vm, course);\n\n            course.Remained = vm.Copacity;\n            course.CreateDate = DateTime.Now;\n            db.Course.Add(course);\n        }\n\n        db.SaveChanges();\n        return RedirectToAction(\"Index\", \"Course\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-5"], "answers": [{"comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510171222, "post_id": 47188474, "comment_id": 81326501, "body": "The only limitation is that this won&#39;t allow <i>admins to go to the specific screen and make certain controllers/methods available for certain roles</i> because the cache is not exposed.  Since there is no real read/write contention a ConcurrentDictionary is kinda over kill.  I would just use a Dictionary and store the value in <code>ControllerContext.HttpContext.Application.Item</code>."}, {"owner": {"reputation": 5325, "user_id": 701869, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/23528beff77eca0f655bcf7c58db096e?s=128&d=identicon&r=PG", "display_name": "Pavel Kovalev", "link": "https://stackoverflow.com/users/701869/pavel-kovalev"}, "edited": false, "score": 0, "creation_date": 1510173358, "post_id": 47188474, "comment_id": 81327661, "body": "@CodeFuller Hey guys! Thank you for prompt response! I have a few questions here: 1. Do I need to use CacheKey? Can I just use string key = Role+Controller + Method? 2. It is a silly question, but I felt like I need a singleton to store that Dictionary. Am I missing something about lifecycle of a  AuthorizeExtended attribute? 3. Last one. What if I changed permission for a user (not allowed to go to the method A anymore), how I&#39;m suppose to purge this Dictionary? Should I use timestamp or something of that nature? Thanks!"}, {"owner": {"reputation": 5325, "user_id": 701869, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/23528beff77eca0f655bcf7c58db096e?s=128&d=identicon&r=PG", "display_name": "Pavel Kovalev", "link": "https://stackoverflow.com/users/701869/pavel-kovalev"}, "edited": false, "score": 0, "creation_date": 1510184200, "post_id": 47188474, "comment_id": 81332468, "body": "Is it a good idea to use HttpRuntime.Cache for those purposes instead of private static member of AuthorizeExtended class?"}, {"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1510202398, "post_id": 47188474, "comment_id": 81337044, "body": "Pavel, here are answers on your questions: 1. You can simplify it a bit by using string string key but it&#39;s usually better to have composite key as in my sample. Otherwise you have to consider some separator between key parts to avoid same result key for different input parts. And life will be easier if later you add some other non-string fields to the key. 2. cache is a static field that is shared between all instances of AuthorizeExtended class."}, {"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 0, "creation_date": 1510202403, "post_id": 47188474, "comment_id": 81337046, "body": "3. You could either introduce expiration for the cache or add method for deleting/updating cache entries and call it when actual permission change happens. In both cases I suggest extraction of cache functionality to separate class as it becomes more complicated."}, {"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "edited": false, "score": 1, "creation_date": 1510202880, "post_id": 47188474, "comment_id": 81337201, "body": "And yes, at this point you could use cache provided by ASP.NET. It has both expiration and remove capabilities."}, {"owner": {"reputation": 5325, "user_id": 701869, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/23528beff77eca0f655bcf7c58db096e?s=128&d=identicon&r=PG", "display_name": "Pavel Kovalev", "link": "https://stackoverflow.com/users/701869/pavel-kovalev"}, "edited": false, "score": 0, "creation_date": 1510268026, "post_id": 47188474, "comment_id": 81375503, "body": "@CodeFuller Thank you sir!"}], "tags": [], "owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "is_accepted": true, "score": 2, "last_activity_date": 1510170651, "creation_date": 1510170651, "answer_id": 47188474, "question_id": 47188225, "link": "https://stackoverflow.com/questions/47188225/smart-caching-for-custom-authorizeattribute-in-asp-net/47188474#47188474", "title": "Smart caching for custom AuthorizeAttribute in ASP.NET", "body": "<p>Yes, the cache is what you need to avoid duplicated requests to the DB. Here is the basic implementation:</p>\n\n<pre><code>internal class CacheKey\n{\n    public string Role { get; set; }\n\n    public string Controller { get; set; }\n\n    public string Method { get; set; }\n\n    public override bool Equals(Object obj)\n    {\n        CacheKey cmp = obj as CacheKey;\n        if (cmp == null)\n        {\n            return false;\n        }\n\n        return Role == cmp.Role &amp;&amp; Controller == cmp.Controller &amp;&amp; Method == cmp.Method;\n    }\n\n    public override int GetHashCode()\n    {\n        // Overflow is fine, just wrap\n        unchecked\n        {\n            int hash = 17;\n            hash = hash * 23 + Role.GetHashCode();\n            hash = hash * 23 + Controller.GetHashCode();\n            hash = hash * 23 + Method.GetHashCode();\n            return hash;\n        }\n    }\n}\n\npublic class AuthorizeExtended : AuthorizeAttribute\n{\n    private static ConcurrentDictionary&lt;CacheKey, bool&gt; cache = new ConcurrentDictionary&lt;CacheKey, bool&gt;();\n\n    protected override bool AuthorizeCore(HttpContextBase httpContext)\n    {\n        var isAuthorized = base.AuthorizeCore(httpContext);\n        if (!isAuthorized)\n        {\n            return false;\n        }\n        // Point of interest **HERE**\n\n        //  Looking up in the cache\n        var cacheKey = new CacheKey\n        {\n            Role = role,\n            Controller = controller,\n            Method = method,\n        };\n\n        bool authorized;\n        if (cache.TryGetValue(cacheKey, out authorized))\n        {\n            return authorized;\n        }\n\n        //  Make DB call and get value for authorized\n        //  ...\n\n        //  Store 'authorized' value in the cache\n        cache.TryAdd(cacheKey, authorized);\n\n        return authorized;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5325, "user_id": 701869, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/23528beff77eca0f655bcf7c58db096e?s=128&d=identicon&r=PG", "display_name": "Pavel Kovalev", "link": "https://stackoverflow.com/users/701869/pavel-kovalev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 47188474, "answer_count": 1, "score": 0, "last_activity_date": 1510170651, "creation_date": 1510169759, "question_id": 47188225, "link": "https://stackoverflow.com/questions/47188225/smart-caching-for-custom-authorizeattribute-in-asp-net", "title": "Smart caching for custom AuthorizeAttribute in ASP.NET", "body": "<p>in my app I'd like to add functionality for admins to go to the specific screen and make certain controllers/methods available for certain roles.\nRight now I'm using a build-in role check like </p>\n\n<p><code>[Authorize(Roles = \"APUL_Admin\")]</code> </p>\n\n<p>So I changed that to be <code>[AuthorizeExtended()]</code> and I'm implementing it like that:</p>\n\n<pre><code>public class AuthorizeExtended : AuthorizeAttribute\n    {\n        protected override bool AuthorizeCore(HttpContextBase httpContext)\n        {\n            var isAuthorized = base.AuthorizeCore(httpContext);\n            if (!isAuthorized)\n            {\n                return false;\n            }\n            // Point of interest **HERE**\n\n            return true;\n        }\n    }\n</code></pre>\n\n<p>which is all pretty standard. </p>\n\n<p>At this moment (<strong>HERE</strong> see above) from HttpContextBase I know user's roles, and controller and method. And I can go to the DB and make sure those roles has access to this controller/action.</p>\n\n<p><strong>Here is my problem:</strong>\nI don't want to go to the database for every request since it is slow and it is a lot of overhead for DB. What's the best way to deal with that? Cache it? I'm looking for implementation details.</p>\n\n<p>Any help is appreciated. Thank you!</p>\n"}, {"tags": ["c#", "email", "gmail"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1510170896, "post_id": 47188172, "comment_id": 81326331, "body": "&quot;Must issue a STARTTLS command first&quot; means it not only supports but requires ssl, so you should leave EnableSsl = true. Cannot say anything about authorization though (well it&#39;s clear of course that auth is required but don&#39;t know much about azure to help you fix that)."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1510171987, "post_id": 47188172, "comment_id": 81326937, "body": "Is your azure site using HTTPS?"}, {"owner": {"reputation": 145, "user_id": 8620214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608e08f1c3d4f917ebad47b3310b112a?s=128&d=identicon&r=PG&f=1", "display_name": "Kunyuan Xiao", "link": "https://stackoverflow.com/users/8620214/kunyuan-xiao"}, "edited": false, "score": 0, "creation_date": 1510172115, "post_id": 47188172, "comment_id": 81327001, "body": "I only have free plan so I cannot use https."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1510172617, "post_id": 47188172, "comment_id": 81327288, "body": "All plans support HTTPS unless you use a custom domain and do not buy your own certificate. I know that Google has stopped allowing the sending of mail from insecure sites unless you explicitly go into your google account and enable insecure apps. You may be encountering something like that."}, {"owner": {"reputation": 145, "user_id": 8620214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608e08f1c3d4f917ebad47b3310b112a?s=128&d=identicon&r=PG&f=1", "display_name": "Kunyuan Xiao", "link": "https://stackoverflow.com/users/8620214/kunyuan-xiao"}, "edited": false, "score": 0, "creation_date": 1510173101, "post_id": 47188172, "comment_id": 81327524, "body": "I turned off google secure part. I will try to open https."}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1510173971, "post_id": 47188172, "comment_id": 81328011, "body": "Just add the &quot;s&quot; to &quot;http&quot;. It is already turned on for all *.azurewebsites.net sites."}, {"owner": {"reputation": 145, "user_id": 8620214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608e08f1c3d4f917ebad47b3310b112a?s=128&d=identicon&r=PG&f=1", "display_name": "Kunyuan Xiao", "link": "https://stackoverflow.com/users/8620214/kunyuan-xiao"}, "edited": false, "score": 0, "creation_date": 1510273261, "post_id": 47188172, "comment_id": 81377142, "body": "That&#39;s pretty wired. I used https and outlook email account, it works. But it doesn&#39;t work for my gmail account. Thanks."}], "owner": {"reputation": 145, "user_id": 8620214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/608e08f1c3d4f917ebad47b3310b112a?s=128&d=identicon&r=PG&f=1", "display_name": "Kunyuan Xiao", "link": "https://stackoverflow.com/users/8620214/kunyuan-xiao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1510172470, "creation_date": 1510169589, "last_edit_date": 1510172470, "question_id": 47188172, "link": "https://stackoverflow.com/questions/47188172/send-email-issue-with-ssl", "title": "Send Email issue with SSL", "body": "<p>When I published my website on the internet by free MS Azure, I want to click the button and send a email.</p>\n\n<p>The problem is when I use EnableSsl = true, it give me the error: The server response was: 5.5.1 Authentication Required. It may because I used free azure that doesn't support ssl. </p>\n\n<p>When I comment the EnableSsl = true.\nIt gives me another error:The server response was: 5.7.0 Must issue a STARTTLS command first.</p>\n\n<p>Any idea for this? Thanks!</p>\n"}, {"tags": ["c#", "azure", "oauth", "asp.net-core", "azure-active-directory"], "answers": [{"comments": [{"owner": {"reputation": 4400, "user_id": 5295797, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/v1osj.jpg?s=128&g=1", "display_name": "Emmanuel DURIN", "link": "https://stackoverflow.com/users/5295797/emmanuel-durin"}, "edited": false, "score": 1, "creation_date": 1540544149, "post_id": 47367766, "comment_id": 92913904, "body": "Thank you very much for sharing your work. I was able to port to a .Net Core 2.1 application with small modifications"}], "tags": [], "owner": {"reputation": 986, "user_id": 125332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db7b5e917ad262ed9f1917652ea31a7d?s=128&d=identicon&r=PG", "display_name": "Michael Merrell", "link": "https://stackoverflow.com/users/125332/michael-merrell"}, "is_accepted": true, "score": 2, "last_activity_date": 1511019117, "creation_date": 1511019117, "answer_id": 47367766, "question_id": 47188066, "link": "https://stackoverflow.com/questions/47188066/using-azure-active-directory-oauth-with-identity-model-in-asp-net-core-2-0/47367766#47367766", "title": "Using Azure Active Directory OAuth with Identity Model in ASP.NET Core 2.0", "body": "<p>I ended up resolving my own problem as it ended up being several issues.  I was passing the wrong value in for the resource field, hadn't set my NameIdentifer mapping correctly and then had the wrong endpoint for pulling down user information.  The user information piece being the biggest as that is the token I found out that the external login piece was looking for. </p>\n\n<h2>Updated Code</h2>\n\n<p>Startup.cs</p>\n\n<pre><code>services.AddAuthentication()\n.AddAzureAd(options =&gt;\n{\n    options.ClientId = Configuration[\"AzureAd:ClientId\"];\n    options.AuthorizationEndpoint = $\"{Configuration[\"AzureAd:Instance\"]}{Configuration[\"AzureAd:TenantId\"]}/oauth2/authorize\";\n    options.TokenEndpoint = $\"{Configuration[\"AzureAd:Instance\"]}{Configuration[\"AzureAd:TenantId\"]}/oauth2/token\";\n    options.ClientSecret = Configuration[\"AzureAd:ClientSecret\"];\n    options.CallbackPath = Configuration[\"AzureAd:CallbackPath\"];\n});\n</code></pre>\n\n<p>AzureADOptions &amp; Defaults</p>\n\n<pre><code>public class AzureAdOptions : OAuthOptions\n{\n\n    public string Instance { get; set; }\n\n    public string Resource { get; set; }\n\n    public string TenantId { get; set; }\n\n    public AzureAdOptions()\n    {\n        CallbackPath = new PathString(\"/signin-azureAd\");\n        AuthorizationEndpoint = AzureAdDefaults.AuthorizationEndpoint;\n        TokenEndpoint = AzureAdDefaults.TokenEndpoint;\n        UserInformationEndpoint = AzureAdDefaults.UserInformationEndpoint;\n        Resource = AzureAdDefaults.Resource;\n        Scope.Add(\"user.read\");\n\n        ClaimActions.MapJsonKey(ClaimTypes.NameIdentifier, \"id\");\n        ClaimActions.MapJsonKey(ClaimTypes.Name, \"displayName\");\n        ClaimActions.MapJsonKey(ClaimTypes.GivenName, \"givenName\");\n        ClaimActions.MapJsonKey(ClaimTypes.Surname, \"surname\");\n        ClaimActions.MapJsonKey(ClaimTypes.MobilePhone, \"mobilePhone\");\n        ClaimActions.MapCustomJson(ClaimTypes.Email, user =&gt; user.Value&lt;string&gt;(\"mail\") ?? user.Value&lt;string&gt;(\"userPrincipalName\"));       \n    }\n}\n\npublic static class AzureAdDefaults\n{\n    public static readonly string DisplayName = \"AzureAD\";\n    public static readonly string AuthorizationEndpoint = \"https://login.microsoftonline.com/common/oauth2/authorize\";\n    public static readonly string TokenEndpoint = \"https://login.microsoftonline.com/common/oauth2/token\";\n    public static readonly string Resource =  \"https://graph.microsoft.com\";\n    public static readonly string UserInformationEndpoint =  \"https://graph.microsoft.com/v1.0/me\";\n    public const string AuthenticationScheme = \"AzureAD\";\n}\n</code></pre>\n"}], "owner": {"reputation": 986, "user_id": 125332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db7b5e917ad262ed9f1917652ea31a7d?s=128&d=identicon&r=PG", "display_name": "Michael Merrell", "link": "https://stackoverflow.com/users/125332/michael-merrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2894, "favorite_count": 4, "accepted_answer_id": 47367766, "answer_count": 1, "score": 11, "last_activity_date": 1540551930, "creation_date": 1510169175, "last_edit_date": 1510188717, "question_id": 47188066, "link": "https://stackoverflow.com/questions/47188066/using-azure-active-directory-oauth-with-identity-model-in-asp-net-core-2-0", "title": "Using Azure Active Directory OAuth with Identity Model in ASP.NET Core 2.0", "body": "<h1>The problem statement</h1>\n\n<p>We are developing a new enterprise level application and want to utilize Azure Active Directory for signing into the application so that we do not have to create another set of user credentials.  However, our permissions model for this application is more complex than what can be handled via groups inside of AAD.</p>\n\n<h2>The thought</h2>\n\n<p>The thought was that we could use Azure Active Directory OAuth 2.0 in addition to the ASP.NET Core Identity framework to force users to authenticate through Azure Active Directory and then use the identity framework to handle authorization/permissions. </p>\n\n<h2>The Issues</h2>\n\n<p>You can create projects out of the box using Azure OpenId authentication and then you can easily add Microsoft account authentication (Not AAD) to any project using Identity framework.  But there was nothing built in to add OAuth for AAD to the identity model.  </p>\n\n<p>After trying to hack those methods to get them to work like I needed I finally went through trying to home-brew my own solution building off of the <code>OAuthHandler</code> and <code>OAuthOptions</code> classes.  </p>\n\n<p>I ran into a lot of issues going down this route but managed to work through most of them.  Now I am to a point where I am getting a token back from the endpoint but my ClaimsIdentity doesn't appear to be valid.  Then when redirecting to the ExternalLoginCallback my SigninManager is unable to get the external login information.  </p>\n\n<p>There almost certainly must be something simple that I am missing but I can't seem to determine what it is.  </p>\n\n<h2>The Code</h2>\n\n<p>Startup.cs</p>\n\n<pre><code>services.AddAuthentication()\n.AddAzureAd(options =&gt;\n{\n    options.ClientId = Configuration[\"AzureAd:ClientId\"];\n    options.AuthorizationEndpoint = $\"{Configuration[\"AzureAd:Instance\"]}{Configuration[\"AzureAd:TenantId\"]}/oauth2/authorize\";\n    options.TokenEndpoint = $\"{Configuration[\"AzureAd:Instance\"]}{Configuration[\"AzureAd:TenantId\"]}/oauth2/token\";\n    options.UserInformationEndpoint = $\"{Configuration[\"AzureAd:Instance\"]}{Configuration[\"AzureAd:TenantId\"]}/openid/userinfo\";\n    options.Resource = Configuration[\"AzureAd:ClientId\"];\n    options.ClientSecret = Configuration[\"AzureAd:ClientSecret\"];\n    options.CallbackPath = Configuration[\"AzureAd:CallbackPath\"];\n});\n</code></pre>\n\n<p>AzureADExtensions</p>\n\n<pre><code>namespace Microsoft.AspNetCore.Authentication.AzureAD\n{\n    public static class AzureAdExtensions\n    {\n        public static AuthenticationBuilder AddAzureAd(this AuthenticationBuilder builder)\n            =&gt; builder.AddAzureAd(_ =&gt; { });\n\n        public static AuthenticationBuilder AddAzureAd(this AuthenticationBuilder builder, Action&lt;AzureAdOptions&gt; configureOptions)\n        {\n            return builder.AddOAuth&lt;AzureAdOptions, AzureAdHandler&gt;(AzureAdDefaults.AuthenticationScheme, AzureAdDefaults.DisplayName, configureOptions);\n        }\n\n        public static ChallengeResult ChallengeAzureAD(this ControllerBase controllerBase, SignInManager&lt;ApplicationUser&gt; signInManager, string redirectUrl)\n        {\n            return controllerBase.Challenge(signInManager.ConfigureExternalAuthenticationProperties(AzureAdDefaults.AuthenticationScheme, redirectUrl), AzureAdDefaults.AuthenticationScheme);\n        }\n    }\n}\n</code></pre>\n\n<p>AzureADOptions &amp; Defaults</p>\n\n<pre><code>public class AzureAdOptions : OAuthOptions\n{\n\n    public string Instance { get; set; }\n\n    public string Resource { get; set; }\n\n    public string TenantId { get; set; }\n\n    public AzureAdOptions()\n    {\n        CallbackPath = new PathString(\"/signin-azureAd\");\n        AuthorizationEndpoint = AzureAdDefaults.AuthorizationEndpoint;\n        TokenEndpoint = AzureAdDefaults.TokenEndpoint;\n        UserInformationEndpoint = AzureAdDefaults.UserInformationEndpoint;\n        Scope.Add(\"https://graph.windows.net/user.read\");\n        ClaimActions.MapJsonKey(\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name\", \"unique_name\");\n        ClaimActions.MapJsonKey(\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname\", \"given_name\");\n        ClaimActions.MapJsonKey(\"http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname\", \"family_name\");\n        ClaimActions.MapJsonKey(\"http://schemas.microsoft.com/ws/2008/06/identity/claims/groups\", \"groups\");\n        ClaimActions.MapJsonKey(\"http://schemas.microsoft.com/identity/claims/objectidentifier\", \"oid\");\n        ClaimActions.MapJsonKey(\"http://schemas.microsoft.com/ws/2008/06/identity/claims/role\", \"roles\");            \n    }\n}\n\n\npublic static class AzureAdDefaults\n{\n    public static readonly string DisplayName = \"AzureAD\";\n    public static readonly string AuthorizationEndpoint = \"https://login.microsoftonline.com/common/oauth2/authorize\";\n    public static readonly string TokenEndpoint = \"https://login.microsoftonline.com/common/oauth2/token\";\n    public static readonly string UserInformationEndpoint = \"https://login.microsoftonline.com/common/openid/userinfo\"; // \"https://graph.windows.net/v1.0/me\";\n    public const string AuthenticationScheme = \"AzureAD\";\n}\n</code></pre>\n\n<p>AzureADHandler</p>\n\n<pre><code>internal class AzureAdHandler : OAuthHandler&lt;AzureAdOptions&gt;\n{\n    public AzureAdHandler(IOptionsMonitor&lt;AzureAdOptions&gt; options, ILoggerFactory logger, UrlEncoder encoder, ISystemClock clock)\n      : base(options, logger, encoder, clock)\n    {\n    }\n\n    protected override async Task&lt;AuthenticationTicket&gt; CreateTicketAsync(ClaimsIdentity identity, AuthenticationProperties properties, OAuthTokenResponse tokens)\n    {\n        HttpRequestMessage httpRequestMessage = new HttpRequestMessage(HttpMethod.Get, Options.UserInformationEndpoint);\n        httpRequestMessage.Headers.Authorization = new AuthenticationHeaderValue(\"Bearer\", tokens.AccessToken);\n        HttpResponseMessage httpResponseMessage = await Backchannel.SendAsync(httpRequestMessage, Context.RequestAborted);\n        if (!httpResponseMessage.IsSuccessStatusCode)\n            throw new HttpRequestException(message: $\"Failed to retrived Azure AD user information ({httpResponseMessage.StatusCode}) Please check if the authentication information is correct and the corresponding Microsoft Account API is enabled.\");\n        JObject user = JObject.Parse(await httpResponseMessage.Content.ReadAsStringAsync());\n        OAuthCreatingTicketContext context = new OAuthCreatingTicketContext(new ClaimsPrincipal(identity), properties, Context, Scheme, Options, Backchannel, tokens, user);\n        context.RunClaimActions();\n        await Events.CreatingTicket(context);\n        return new AuthenticationTicket(context.Principal, context.Properties, Scheme.Name);\n    }\n\n    protected override async Task&lt;OAuthTokenResponse&gt; ExchangeCodeAsync(string code, string redirectUri)\n    {\n        Dictionary&lt;string, string&gt; dictionary = new Dictionary&lt;string, string&gt;();\n        dictionary.Add(\"grant_type\", \"authorization_code\");\n        dictionary.Add(\"client_id\", Options.ClientId);\n        dictionary.Add(\"redirect_uri\", redirectUri);\n        dictionary.Add(\"client_secret\", Options.ClientSecret);\n        dictionary.Add(nameof(code), code);\n        dictionary.Add(\"resource\", Options.Resource);\n\n        HttpRequestMessage httpRequestMessage = new HttpRequestMessage(HttpMethod.Post, Options.TokenEndpoint);\n        httpRequestMessage.Headers.Accept.Add(new MediaTypeWithQualityHeaderValue(\"application/json\"));\n        httpRequestMessage.Content = new FormUrlEncodedContent(dictionary);\n        HttpResponseMessage response = await Backchannel.SendAsync(httpRequestMessage, Context.RequestAborted);\n        if (response.IsSuccessStatusCode)\n            return OAuthTokenResponse.Success(JObject.Parse(await response.Content.ReadAsStringAsync()));\n        return OAuthTokenResponse.Failed(new Exception(string.Concat(\"OAuth token endpoint failure: \", await Display(response))));\n    }\n\n    protected override string BuildChallengeUrl(AuthenticationProperties properties, string redirectUri)\n    {\n        Dictionary&lt;string, string&gt; dictionary = new Dictionary&lt;string, string&gt;();\n        dictionary.Add(\"client_id\", Options.ClientId);\n        dictionary.Add(\"scope\", FormatScope());\n        dictionary.Add(\"response_type\", \"code\");\n        dictionary.Add(\"redirect_uri\", redirectUri);\n        dictionary.Add(\"state\", Options.StateDataFormat.Protect(properties));\n        dictionary.Add(\"resource\", Options.Resource);\n        return QueryHelpers.AddQueryString(Options.AuthorizationEndpoint, dictionary);\n    }\n\n    private static async Task&lt;string&gt; Display(HttpResponseMessage response)\n    {\n        StringBuilder output = new StringBuilder();\n        output.Append($\"Status: { response.StatusCode };\");\n        output.Append($\"Headers: { response.Headers.ToString() };\");\n        output.Append($\"Body: { await response.Content.ReadAsStringAsync() };\");\n        return output.ToString();\n    }\n}\n</code></pre>\n\n<p>AccountController.cs</p>\n\n<pre><code>    [HttpGet]\n    [AllowAnonymous]\n    public async Task&lt;IActionResult&gt; SignIn()\n    {\n        var redirectUrl = Url.Action(nameof(ExternalLoginCallback), \"Account\");\n        return this.ChallengeAzureAD(_signInManager, redirectUrl);\n    }\n\n    [HttpGet]\n    [AllowAnonymous]\n    public async Task&lt;IActionResult&gt; ExternalLoginCallback(string returnUrl = null, string remoteError = null)\n    {\n        if (remoteError != null)\n        {\n            _logger.LogInformation($\"Error from external provider: {remoteError}\");\n            return RedirectToAction(nameof(SignedOut));\n        }\n        var info = await _signInManager.GetExternalLoginInfoAsync();\n        if (info == null) //This always ends up true!\n        {\n            return RedirectToAction(nameof(SignedOut));\n        }\n    }\n</code></pre>\n\n<h3>There you have it!</h3>\n\n<p>This is the code I have, and I'm almost sure that at this point there is something simple I am missing but am unsure of what it is.  I know that my CreateTicketAsync method is problematic as well since I'm not hitting the correct user information endpoint (or hitting it correctly) but that's another problem all together as from what I understand the claims I care about should come back as part of the token.  </p>\n\n<p>Any assistance would be greatly appreciated!  </p>\n"}, {"tags": ["c#", "ios", "xamarin", "xamarin.ios", "xamarin.android"], "comments": [{"owner": {"reputation": 2065, "user_id": 5474400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6w6U5.jpg?s=128&g=1", "display_name": "Kevin Li", "link": "https://stackoverflow.com/users/5474400/kevin-li"}, "edited": false, "score": 0, "creation_date": 1510216550, "post_id": 47188003, "comment_id": 81343109, "body": "Do you mean, if you didn&#39;t click the tab or disuse CollectionChanged subscription, there will be nothing in <code>ModelList</code>?"}, {"owner": {"reputation": 429, "user_id": 4990578, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dd30b756167b06a996ef7941902a56c3?s=128&d=identicon&r=PG&f=1", "display_name": "Ubarjohade", "link": "https://stackoverflow.com/users/4990578/ubarjohade"}, "reply_to_user": {"reputation": 2065, "user_id": 5474400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6w6U5.jpg?s=128&g=1", "display_name": "Kevin Li", "link": "https://stackoverflow.com/users/5474400/kevin-li"}, "edited": false, "score": 0, "creation_date": 1510243357, "post_id": 47188003, "comment_id": 81361546, "body": "Case 1: I don&#39;t comment out CollectionChanged. Adds new models to the Modellist only has a problem removing if I switch tabs.   Case 2: I comment out CollectionChanged. Adds and removes models correctly in either tab but no notification is sent to the view that the data has updated."}], "owner": {"reputation": 429, "user_id": 4990578, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/dd30b756167b06a996ef7941902a56c3?s=128&d=identicon&r=PG&f=1", "display_name": "Ubarjohade", "link": "https://stackoverflow.com/users/4990578/ubarjohade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510173039, "creation_date": 1510168962, "last_edit_date": 1510173039, "question_id": 47188003, "link": "https://stackoverflow.com/questions/47188003/xamarin-iphone-android-pass-by-reference", "title": "Xamarin Iphone / Android pass by reference", "body": "<p>I am using Xamarin to develop ios and android apps on one platefrom, c# is the language used. </p>\n\n<p>I have a design that mimics the one below. A manager class that handles operations done to a collection, a Model class that groups data, and a View that displays the models it gets from the manager. I am displaying the models in a table, the view below is how I am doing so on iOS. </p>\n\n<p>The view subscribes to any changes done to the collection in the manager and triggers a view update whenever one occurs. The model is responsible for removing itself from the collection if it is no longer used after a certain amount of time, thus I pass a reference to the list when the model is created.</p>\n\n<p>This pattern is working on android devices but doesn't seem to work when ran on iOS. I've traced the problem to the removeDevice in the model class but can't seem to figure out why it isn't working. My guess if a pass by reference / value problem but I am not sure. Is there something obvious I am missing or do I need to use a different pattern for iOS?      </p>\n\n<p><strong>New Information</strong><br>\nAfter experimenting more this seems relevant. The iOS table is in a tab view and not the initial tab which means ViewController is not initialized until the tab is clicked. I found that if I didn't click the tab it would remove the Models from the list. Something else interesting is if I removed the CollectionChanged subscription it would as well.   </p>\n\n<pre><code>public partial class ViewController: UIViewController\n{\n  private List&lt;Model&gt; itemList;\n  private BlueTooth ble;\n  private UITableView deviceTable;\n\n  public ViewController (IntPtr handle) : base (handle)\n    {\n      ble = BlueTooth.Instance;\n    }\n\n  public override void ViewDidLoad ()\n    {\n      manager = ble.getManager();\n      itemList = manager.modelList.ToList();\n      manager.modelList.CollectionChanged += UpdateView;\n\n      deviceTable = new UITableView\n      {\n        Source = new DeviceTableSource(itemList)\n      };\n      View.AddSubview(deviceTable);\n    }\n\n    void UpdateView(object sender, EventArgs e)\n    {\n      itemList = ble.getManager().ModelList.ToList();\n      deviceTable.Source = new DeviceTableSource(itemList);\n      deviceTable.ReloadData();\n     }\n}\n</code></pre>\n\n<p>Manager Class</p>\n\n<pre><code>class Manager{\n   public ObservableCollection&lt;Model&gt; modelList {get; set;}\n\n   public Manager(){\n     modelList= new ObervableCollection&lt;Model&gt;();\n   }\n\n  public addModel(){\n   Create a Model object with reference to ModelList\n   Add Model to ModelList\n  }\n\n  public updateModel(){\n    update Model in List\n  }\n}\n</code></pre>\n\n<p>Model Class </p>\n\n<pre><code>class Model{\n   private ObservableCollection&lt;Model&gt; list;\n   private Timer removeTimer;\n\n   Model(modelList){\n     removeTimer += onTimedEvent\n   }\n\n   OnTimedEvent(){\n     removeDevice();\n   }\n\n   removeDevice(){\n     modelList.remove(this);\n   }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "linq", "where"], "comments": [{"owner": {"reputation": 34058, "user_id": 6400526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pyp3g.jpg?s=128&g=1", "display_name": "Gilad Green", "link": "https://stackoverflow.com/users/6400526/gilad-green"}, "edited": false, "score": 1, "creation_date": 1510169068, "post_id": 47188002, "comment_id": 81325274, "body": "the <code>Select</code> is redundant and the <code>Where</code> can be replaced with the <code>FirstOrDefault</code>. No real surprise the <code>Take</code> &quot;works&quot; as long as you got data in your table, but the where - just means no element with <code>ID == 1</code>"}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 4, "creation_date": 1510169079, "post_id": 47188002, "comment_id": 81325285, "body": "As an aside, you can vastly simplify to <code>context.Data.FirstOrDefault(x =&gt; x.ID == 1);</code>."}, {"owner": {"reputation": 999, "user_id": 5185389, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8c63dbf6d7df7773c3757322d70486b7?s=128&d=identicon&r=PG&f=1", "display_name": "DevilSuichiro", "link": "https://stackoverflow.com/users/5185389/devilsuichiro"}, "edited": false, "score": 1, "creation_date": 1510169092, "post_id": 47188002, "comment_id": 81325293, "body": "if context.Data returns an IEnumerable, that has nothing to do with EF or LINQ2SQL. Also, both statements do vastly different things. the first &quot;should&quot; return the first object with the Id==1, or null if none exists, the second should return a List containing the first object, no condition applied."}, {"owner": {"reputation": 423, "user_id": 8422530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BnngnpCDyAA/AAAAAAAAAAI/AAAAAAAABFA/Paam3NW2oFU/photo.jpg?sz=128", "display_name": "Xeorge Xeorge", "link": "https://stackoverflow.com/users/8422530/xeorge-xeorge"}, "edited": false, "score": 0, "creation_date": 1510169378, "post_id": 47188002, "comment_id": 81325479, "body": "use .ToList() to convert the enumerable to List"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1510169474, "post_id": 47188002, "comment_id": 81325538, "body": "What is the result of <code>context.Data.Take(1).ID</code>?"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1510169486, "post_id": 47188002, "comment_id": 81325550, "body": "What you mean by &quot;works&quot;? <code>Take(1)</code> will return <code>IEnumerable&lt;T&gt;</code> where <code>FirstOrDefault</code> will return instance of <code>T</code>. How you check that <code>Take</code> works?"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1510169535, "post_id": 47188002, "comment_id": 81325587, "body": "@ErikPhilips - <code>Take(1).ID</code> will not compile"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1510169740, "post_id": 47188002, "comment_id": 81325709, "body": "If you checking both results for being <code>null</code>, then <code>Take</code> will never return <code>null</code>, <code>Take</code> will return empty collection if there are no items."}, {"owner": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 0, "creation_date": 1510169749, "post_id": 47188002, "comment_id": 81325719, "body": "As others have said it all boils down to what you want.  If you want a &#39;collection&#39; (IEnumerable, List, Array, etc) you can have a collection with a single element.  If you do a First, Last, Single, etc.  That is an extension method that gets an individual item in that collection, that may or may not be overloaded with a predicate.  If I want a single Item but still a collection I could do context.Where(x =&gt; x.ID == 1).ToList() (minus First());  I made a very narrowing scope with my predicate to be a single item(unless you have multiple ID&#39;s with the same value) but it&#39;s still a collection."}, {"owner": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "edited": false, "score": 0, "creation_date": 1510170707, "post_id": 47188002, "comment_id": 81326244, "body": "OK, but FirstOrDefault(x=&gt;x.ID==1) also doesnt work, so?"}, {"owner": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 0, "creation_date": 1510170967, "post_id": 47188002, "comment_id": 81326377, "body": "It shouldn&#39;t work in a method as it will not be the same return type as your method expects.  It is returning an object of T when you expect an IEnumerable&lt;T&gt;.  They are different objects.   Set your return to &#39;object&#39; and it will &#39;work&#39;(compile) but not as you expect."}, {"owner": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "edited": false, "score": 0, "creation_date": 1510171191, "post_id": 47188002, "comment_id": 81326483, "body": "It compiles even now, but it returns null."}, {"owner": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "edited": false, "score": 0, "creation_date": 1510172389, "post_id": 47188002, "comment_id": 81327156, "body": "You probably have more code you are not displaying that may explain that behavior.  If you have a try catch or some type of &#39;FirstOrDefault&#39; it may just swallow up what you are expecting a return null.  You may want to add more to your question with extra code.  The first line also has no need need of the &#39;Select&#39; as that is used for defining WHAT you return (object, string, int, POCO).  A great tool to play with Linq with when you are learning is Linqpad.  <a href=\"https://www.linqpad.net/\" rel=\"nofollow noreferrer\">linqpad.net</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "reply_to_user": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "edited": false, "score": 0, "creation_date": 1510171736, "post_id": 47188504, "comment_id": 81326797, "body": "As i said, there is no ID == 1 in your database"}, {"owner": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "edited": false, "score": 0, "creation_date": 1510172128, "post_id": 47188504, "comment_id": 81327011, "body": "There is ID==1 in my database. When I get all elements I can with if clause get the element I want to."}, {"owner": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "reply_to_user": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "edited": false, "score": 0, "creation_date": 1510172384, "post_id": 47188504, "comment_id": 81327150, "body": "Well, include the if part in your question if you want further help"}, {"owner": {"reputation": 13266, "user_id": 2599907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63f17faccbdfa8265806fc3f2b5ca45?s=128&d=identicon&r=PG", "display_name": "Aydin", "link": "https://stackoverflow.com/users/2599907/aydin"}, "edited": false, "score": 0, "creation_date": 1510223801, "post_id": 47188504, "comment_id": 81347696, "body": "When searching for a specific element with a specific Id, you use FirstOrDefault, not where clauses, and not executing with ToList, you use Where clauses when for instance you&#39;re searching for Homes in a certain district, where you expect a collection of results back"}, {"owner": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "reply_to_user": {"reputation": 13266, "user_id": 2599907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63f17faccbdfa8265806fc3f2b5ca45?s=128&d=identicon&r=PG", "display_name": "Aydin", "link": "https://stackoverflow.com/users/2599907/aydin"}, "edited": false, "score": 0, "creation_date": 1510235404, "post_id": 47188504, "comment_id": 81355538, "body": "@AydinAdn I already know all that, i was showing how to make your query return different types (in case there would be 2 line with ID == 1, but in that case again, it&#39;s would be a bad database design)"}], "tags": [], "owner": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "is_accepted": false, "score": 0, "last_activity_date": 1510170765, "creation_date": 1510170765, "answer_id": 47188504, "question_id": 47188002, "link": "https://stackoverflow.com/questions/47188002/linq-where-clause-doesnt-work-in-entity-framework/47188504#47188504", "title": "Linq where clause doesn&#39;t work in Entity Framework", "body": "<p>The simple answer is : it should work. Although your line could be optimized to :</p>\n\n<pre><code>var v = context.Data.FirstOrDefault(x =&gt; x.ID == 1);\n</code></pre>\n\n<p>So, basically there is no <code>ID == 1</code> in your database, or you misspelled something.</p>\n\n<p>If you wanted a <code>IEnumerable&lt;T&gt;</code> type then :</p>\n\n<pre><code>var v = context.Data.Where(x =&gt; x.ID == 1);\n</code></pre>\n\n<p>But I'd rather use list :</p>\n\n<pre><code>var v = context.Data.Where(x =&gt; x.ID == 1).ToList();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "edited": false, "score": 0, "creation_date": 1510172775, "post_id": 47188693, "comment_id": 81327361, "body": "You are right, but I have another question why when I type x.Name=&quot;Name&quot;  instead of ID it doesn&#39;t work?"}, {"owner": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "reply_to_user": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "edited": false, "score": 0, "creation_date": 1510172981, "post_id": 47188693, "comment_id": 81327467, "body": "There is no &quot;Name&quot; just &quot;A&quot; or &quot;B&quot; in my example as a property of Name off of the POCO Faker.  It would only work for a lambda like (x =&gt; x.Name == &quot;A&quot;).  A single equals in .NET would be assignment and not determination of equality."}], "tags": [], "owner": {"reputation": 12540, "user_id": 580428, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/d2vzg.jpg?s=128&g=1", "display_name": "djangojazz", "link": "https://stackoverflow.com/users/580428/djangojazz"}, "is_accepted": true, "score": 0, "last_activity_date": 1510171443, "creation_date": 1510171443, "answer_id": 47188693, "question_id": 47188002, "link": "https://stackoverflow.com/questions/47188002/linq-where-clause-doesnt-work-in-entity-framework/47188693#47188693", "title": "Linq where clause doesn&#39;t work in Entity Framework", "body": "<p>This is a question that has really nothing to do with Entity Framework but the nature of how LINQ works with collections with it's extension methods.  Let do a simple example in a console application in C#:</p>\n\n<pre><code>class Program\n{\n    public class Faker\n    {\n        public int Id { get; set; }\n        public string Name { get; set; }\n\n        public Faker(int id, string name)\n        {\n            Id = id;\n            Name = name;\n        }\n    }\n\n\n    static void Main(string[] args)\n    {\n        var ls = new List&lt;Faker&gt;\n        {\n            new Faker(1, \"A\"),\n            new Faker(2, \"B\")\n        };\n\n        Faker singleItem = ls.FirstOrDefault(x =&gt; x.Id == 1);\n        IEnumerable&lt;Faker&gt; collectionWithSingleItem = ls.Where(x =&gt; x.Id == 1);\n\n        Console.ReadLine();\n    }\n}\n</code></pre>\n\n<p>When I pause under 'Locals' I see the variables populated as such:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j96i8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j96i8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 81, "user_id": 7376760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89fcd014d26c10dce92677af72a5268?s=128&d=identicon&r=PG&f=1", "display_name": "Newb1996", "link": "https://stackoverflow.com/users/7376760/newb1996"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1025, "favorite_count": 0, "accepted_answer_id": 47188693, "answer_count": 2, "score": -3, "last_activity_date": 1510171443, "creation_date": 1510168957, "last_edit_date": 1510169254, "question_id": 47188002, "link": "https://stackoverflow.com/questions/47188002/linq-where-clause-doesnt-work-in-entity-framework", "title": "Linq where clause doesn&#39;t work in Entity Framework", "body": "<p>This code doesn't work (returns null):   </p>\n\n<pre><code>var result = context.Data\n                    .Select(x =&gt; x)\n                    .Where(x =&gt; x.ID == 1)\n                    .FirstOrDefault();\n</code></pre>\n\n<p>But this:</p>\n\n<pre><code>var result = context.Data.Take(1);\n</code></pre>\n\n<p>works.</p>\n\n<p>My question is why while I am using EF and the <code>context.Data</code> returns an <code>IEnumerable&lt;Data&gt;</code> the first code doesn't work? (And yes, the data contains element with ID equals 1)</p>\n"}, {"tags": ["c#", "json", "serialization", "json.net"], "comments": [{"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1510169301, "post_id": 47187996, "comment_id": 81325435, "body": "In the test class how about public Dictionary&lt;string, data&gt; data. Instead of List&lt;List&lt;data&gt;&gt;"}, {"owner": {"reputation": 1619, "user_id": 8400446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48f5bf2a08d14f3c9b7dd92f835354a9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8400446/michael"}, "edited": false, "score": 0, "creation_date": 1510170461, "post_id": 47187996, "comment_id": 81326127, "body": "You can generate JSON-classes from JSON code from within visual studio. Select your JSON code, copy it to the clipboard, then go to <code>EDIT -&gt; PASTE SPECIAL -&gt; JSON TO CLASSES</code>. Then you can use the generated classes for deserialization."}, {"owner": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "reply_to_user": {"reputation": 1619, "user_id": 8400446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48f5bf2a08d14f3c9b7dd92f835354a9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8400446/michael"}, "edited": false, "score": 0, "creation_date": 1510171536, "post_id": 47187996, "comment_id": 81326688, "body": "@Michael while that&#39;s a very good tip it will not work for this example."}, {"owner": {"reputation": 1239, "user_id": 7255875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad68cb2930651b600be31d83ce4b11b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhand Jumah", "link": "https://stackoverflow.com/users/7255875/muhand-jumah"}, "reply_to_user": {"reputation": 660, "user_id": 4921218, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc3a36b66cdff29c046c4e7035a764a2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Marion", "link": "https://stackoverflow.com/users/4921218/sam-marion"}, "edited": false, "score": 0, "creation_date": 1510171916, "post_id": 47187996, "comment_id": 81326901, "body": "@SamMarion Thank you! I got it to work using Dictionary."}, {"owner": {"reputation": 1239, "user_id": 7255875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad68cb2930651b600be31d83ce4b11b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhand Jumah", "link": "https://stackoverflow.com/users/7255875/muhand-jumah"}, "reply_to_user": {"reputation": 1619, "user_id": 8400446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48f5bf2a08d14f3c9b7dd92f835354a9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8400446/michael"}, "edited": false, "score": 0, "creation_date": 1510171954, "post_id": 47187996, "comment_id": 81326921, "body": "@Michael Thanks for the tip, I took a look into it as well, its great but like SamMarion said, it&#39;s not what I was looking for in this example, but thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 3812, "user_id": 3085985, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/888a12312ba45899c6c6f1eb409930c6?s=128&d=identicon&r=PG&f=1", "display_name": "Compufreak", "link": "https://stackoverflow.com/users/3085985/compufreak"}, "is_accepted": true, "score": 6, "last_activity_date": 1510169485, "creation_date": 1510169485, "answer_id": 47188139, "question_id": 47187996, "link": "https://stackoverflow.com/questions/47187996/deserialize-complex-json-object-using-c/47188139#47188139", "title": "Deserialize complex JSON object using c#", "body": "<p>You are looking for a dictionary.</p>\n\n<p>Use this as your class definition:</p>\n\n<pre><code>public class Rootobject\n    {\n        public Dictionary&lt;string, DataObject&gt; data { get; set; }\n        public string type { get; set; }\n        public string version { get; set; }\n    }\n    public class DataObject\n    {\n        public int id { get; set; }\n        public string key { get; set; }\n        public string name { get; set; }\n        public string title { get; set; }\n    }\n</code></pre>\n\n<p>And this demonstrates that reading your object works:</p>\n\n<pre><code>var vals = @\"{\n\n\"\"data\"\": {\n    \"\"A\"\": {\n        \"\"id\"\": 24,\n        \"\"key\"\": \"\"key\"\",\n        \"\"name\"\": \"\"name\"\",\n        \"\"title\"\": \"\"title\"\"\n    },\n    \"\"B\"\": {\n        \"\"id\"\": 37,\n        \"\"key\"\": \"\"key\"\",\n        \"\"name\"\": \"\"name\"\",\n        \"\"title\"\": \"\"title\"\"\n    },\n    \"\"C\"\": {\n        \"\"id\"\": 18,\n        \"\"key\"\": \"\"key\"\",\n        \"\"name\"\": \"\"name\"\",\n        \"\"title\"\": \"\"title\"\"\n    },\n    \"\"D\"\": {\n        \"\"id\"\": 110,\n        \"\"key\"\": \"\"key\"\",\n        \"\"name\"\": \"\"name\"\",\n        \"\"title\"\": \"\"title\"\"\n    }\n  },\n\"\"type\"\": \"\"type\"\",\n\"\"version\"\": \"\"1.0.0\"\"\n}\";\nvar obj = JsonConvert.DeserializeObject&lt;Rootobject&gt;(vals);\n</code></pre>\n"}], "owner": {"reputation": 1239, "user_id": 7255875, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cad68cb2930651b600be31d83ce4b11b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhand Jumah", "link": "https://stackoverflow.com/users/7255875/muhand-jumah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6343, "favorite_count": 0, "accepted_answer_id": 47188139, "answer_count": 1, "score": 0, "last_activity_date": 1510171444, "creation_date": 1510168932, "last_edit_date": 1510171444, "question_id": 47187996, "link": "https://stackoverflow.com/questions/47187996/deserialize-complex-json-object-using-c", "title": "Deserialize complex JSON object using c#", "body": "<p>I know how to deserialize basic Json object. I am having a problem with nested objects; for example, here is an example json i want to deserialize.</p>\n\n<pre><code>{\n    \"data\": {\n        \"A\": {\n            \"id\": 24,\n            \"key\": \"key\",\n            \"name\": \"name\",\n            \"title\": \"title\"\n        },\n        \"B\": {\n            \"id\": 37,\n            \"key\": \"key\",\n            \"name\": \"name\",\n            \"title\": \"title\"\n        },\n        \"C\": {\n            \"id\": 18,\n            \"key\": \"key\",\n            \"name\": \"name\",\n            \"title\": \"title\"\n        },\n        \"D\": {\n            \"id\": 110,\n            \"key\": \"key\",\n            \"name\": \"name\",\n            \"title\": \"title\"\n        }\n      },\n    \"type\": \"type\",\n    \"version\": \"1.0.0\"\n}\n</code></pre>\n\n<p>Now <code>\"data\"</code> has an unknown number of objects, could be 100 could be 1000 or could be just 1 and all of them with different name. My ultimate goal is to get the information of each object inside data.</p>\n\n<p>I tried basic json but didn't work at all.</p>\n\n<p>Anyways, this is what I have tried...</p>\n\n<p>I made class called data</p>\n\n<pre><code>public class data\n{\n    public long id { get; set; }\n    public string key { get; set; }\n    public string name { get; set; }\n    public string title { get; set; }\n}\n</code></pre>\n\n<p>then I made another class called test</p>\n\n<pre><code>public class test\n{\n    /*\n    I have also tried this, which works but then I don't know what to do with it and how to deserialize the information of it.\n    //public Newtonsoft.Json.Linq.JContainer data { get; set; }\n    */\n    public List&lt;List&lt;data&gt;&gt; data { get; set; }\n    public string type { get; set; }\n    public string version { get; set; }\n}\n</code></pre>\n\n<p>and in my driver application I did this</p>\n\n<pre><code> string downloadedData = w.DownloadString(link);\n test t = JsonConvert.DeserializeObject&lt;test&gt;(downloadedData);\n</code></pre>\n\n<p>But this didn't work as I expected to.\nAny help would be appreciated.</p>\n"}, {"tags": ["c#", ".net", "sql-server"], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 374188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8fca0bc07c72b0350ca07739e13d3d6?s=128&d=identicon&r=PG", "display_name": "Vadim Sentiaev", "link": "https://stackoverflow.com/users/374188/vadim-sentiaev"}, "edited": false, "score": 0, "creation_date": 1510170213, "post_id": 47187943, "comment_id": 81325990, "body": "Also if you need UTC date do not forgot to specify DateTimeKind: <code>new DateTime(2018, 1, 2, 0, 1, 0, DateTimeKind.Utc);</code>"}], "tags": [], "owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1510168765, "creation_date": 1510168765, "answer_id": 47187943, "question_id": 47187855, "link": "https://stackoverflow.com/questions/47187855/one-minute-after-midnight-c-and-sql-server/47187943#47187943", "title": "One Minute After Midnight - C# and SQL Server", "body": "<p>The dates are fixed so there is no need to parse from a string, use the <a href=\"https://msdn.microsoft.com/en-us/library/272ba130(v=vs.110).aspx\" rel=\"nofollow noreferrer\">appropriate constructor</a>:</p>\n\n<pre><code>sDate = new DateTime(2018, 1, 2, 0, 1, 0);\n</code></pre>\n"}], "owner": {"reputation": 725, "user_id": 265780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2eebc3bf40f7788a5c94359331e5b3cc?s=128&d=identicon&r=PG", "display_name": "Bad Programmer", "link": "https://stackoverflow.com/users/265780/bad-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 47187943, "answer_count": 1, "score": 0, "last_activity_date": 1510168765, "creation_date": 1510168504, "question_id": 47187855, "link": "https://stackoverflow.com/questions/47187855/one-minute-after-midnight-c-and-sql-server", "title": "One Minute After Midnight - C# and SQL Server", "body": "<p>Scenario:  I am passing a date to SQL server from a C# application and want the value to be the first minute of Jan 02, 2018. Which would be the correct way to parse this?</p>\n\n<pre><code>DateTime sDate = DateTime.ParseExact(\"2018-01-02 0:01:00\", \"yyyy-MM-dd H:mm:ss\", null);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>DateTime sDate = DateTime.ParseExact(\"2018-01-02 12:01:00:AM\", \"yyyy-MM-dd hh:mm:ss:tt\", null);\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "data-binding", "datagrid"], "answers": [{"comments": [{"owner": {"reputation": 1499, "user_id": 1372577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4819b4e5fd753e26319b41b632182e0?s=128&d=identicon&r=PG", "display_name": "Constantine Georgiou", "link": "https://stackoverflow.com/users/1372577/constantine-georgiou"}, "edited": false, "score": 0, "creation_date": 1510330755, "post_id": 47194720, "comment_id": 81404261, "body": "Many, many Thanks! Changed the code as you suggested and it works. So, you basically bind cells directly to each item of the indexed property, instead of setting the bindings in the xaml to an indexed element. This was what I was after, but your solution works, and is therefore very much OK. Thanks again!"}], "tags": [], "owner": {"reputation": 9221, "user_id": 2018357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l8gp3.jpg?s=128&g=1", "display_name": "Grx70", "link": "https://stackoverflow.com/users/2018357/grx70"}, "is_accepted": false, "score": 2, "last_activity_date": 1510206493, "creation_date": 1510206493, "answer_id": 47194720, "question_id": 47187850, "link": "https://stackoverflow.com/questions/47187850/binding-datagrid-cells-to-an-indexed-property/47194720#47194720", "title": "Binding DataGrid Cells to an Indexed Property", "body": "<p>One solution is to create custom column type (deriving from <code>DataGridTemplateColumn</code>) which exposes an additional <code>Binding</code> property, which we will use to bind cell content. Here's the column code:</p>\n\n<pre><code>public class DataGridBoundColumn : DataGridTemplateColumn\n{\n    public BindingBase Binding { get; set; }\n\n    protected override FrameworkElement GenerateEditingElement(DataGridCell cell, object dataItem)\n    {\n        var element = base.GenerateEditingElement(cell, dataItem);\n        if (element != null &amp;&amp; Binding != null)\n            element.SetBinding(ContentPresenter.ContentProperty, Binding);\n        return element;\n    }\n\n    protected override FrameworkElement GenerateElement(DataGridCell cell, object dataItem)\n    {\n        var element = base.GenerateElement(cell, dataItem);\n        if (element != null &amp;&amp; Binding != null)\n            element.SetBinding(ContentPresenter.ContentProperty, Binding);\n        return element;\n    }\n}\n</code></pre>\n\n<p>Then we need to slightly modify the column generation code:</p>\n\n<pre><code>private void Page_Loaded(object sender, RoutedEventArgs e)\n{\n    var col = new DataGridTemplateColumn\n    {\n        Header = \"Shift\",\n        CellTemplate = (DataTemplate)FindResource(\"SPI_Template\")\n    };\n    grdSch.Columns.Add(col);\n    for (int i = 0; i &lt; 30; i++)\n    {\n        col = new DataGridBoundColumn\n        {\n            Header = \"Employee \" + (i + 1),\n            Binding = new Binding($\"data[{i}]\"),\n            Width = 100,\n            CellTemplate = (DataTemplate)FindResource(\"SEI_Template\"),\n        };\n        grdSch.Columns.Add(col);\n    }\n}\n</code></pre>\n\n<p>Lastly, since our generated columns are already displaying <code>data[i]</code>, we need to modify the <code>SEI_Template</code> accordingly:</p>\n\n<pre><code>&lt;DataTemplate x:Key=\"SEI_Template\"&gt;\n    &lt;StackPanel&gt;\n        &lt;TextBlock Text=\"{Binding emplName}\" /&gt;\n        &lt;TextBlock Text=\"{Binding shftDate}\" /&gt;\n    &lt;/StackPanel&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n"}], "owner": {"reputation": 1499, "user_id": 1372577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4819b4e5fd753e26319b41b632182e0?s=128&d=identicon&r=PG", "display_name": "Constantine Georgiou", "link": "https://stackoverflow.com/users/1372577/constantine-georgiou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1510320994, "creation_date": 1510168493, "last_edit_date": 1510320994, "question_id": 47187850, "link": "https://stackoverflow.com/questions/47187850/binding-datagrid-cells-to-an-indexed-property", "title": "Binding DataGrid Cells to an Indexed Property", "body": "<p>I have created an indexed property in a class, and I need to set bindings for each cell of a <code>DataGridTemplateColumn</code> in a <code>DataGrid</code> (each cell to its corresponding item of the indexed property).</p>\n\n<p>It is for a work-schedule generating application. Each cell in the grid will be displaying data relevant to an employee and shift - more employees in the shift will be growing the grid rightwards, ie adding more columns. The grid displays data structures created and filled programmatically, and not bound to a database table. For the purposes of easier presentation and code inspections in this forum, I have reduced everything to just the essentials.</p>\n\n<p>Here is a pic:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bdxiS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bdxiS.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is obviously wrong, as I can't set the bindings properly. I can bind the fields in the StackPanel to the first (or any other) item of the indexed property, but not in an indexed/parameterized setting.</p>\n\n<p>Here is my xaml (part of):</p>\n\n<pre><code>&lt;Grid HorizontalAlignment=\"Left\"&gt;\n    &lt;DataGrid x:Name=\"grdSch\" HorizontalAlignment=\"Left\" Height=\"400\" VerticalAlignment=\"Top\" Margin=\"8,0,0,0\" AutoGenerateColumns=\"False\" SelectionUnit=\"Cell\"/&gt;\n&lt;/Grid&gt;\n&lt;Page.Resources&gt;\n    &lt;DataTemplate x:Key=\"SPI_Template\"&gt;\n        &lt;StackPanel&gt;\n            &lt;TextBlock Text=\"{Binding Path=shftDate}\"/&gt;\n            &lt;TextBlock Text=\"{Binding Path=shftKind}\"/&gt;\n        &lt;/StackPanel&gt;\n    &lt;/DataTemplate&gt;\n    &lt;DataTemplate x:Key=\"SEI_Template\"&gt;\n        &lt;StackPanel&gt;\n            &lt;TextBlock Text=\"{Binding Path=data[0].emplName}\"/&gt;\n            &lt;TextBlock Text=\"{Binding Path=data[0].shftTime}\"/&gt;\n        &lt;/StackPanel&gt;\n    &lt;/DataTemplate&gt;\n&lt;/Page.Resources&gt;\n</code></pre>\n\n<p>And the code generating the columns:</p>\n\n<pre><code>    private void Page_Loaded(object sender, RoutedEventArgs e)\n    {\n        // Create the grid columns\n        DataGridTemplateColumn col = new DataGridTemplateColumn();\n        col.Header = \"Shift\";\n        col.CellTemplate = (DataTemplate)FindResource(\"SPI_Template\");\n        grdSch.Columns.Add(col);\n        for (int i = 0; i &lt; 30; i++)\n        {\n            col = new DataGridTemplateColumn();\n            col.Header = \"Employee \" + (i + 1);\n            col.Width = 100;\n            col.CellTemplate = (DataTemplate)FindResource(\"SEI_Template\");\n            // for now show only the 5 first elements\n            col.Visibility = i &gt;= 5 ? Visibility.Hidden : Visibility.Visible;\n            grdSch.Columns.Add(col);\n        }\n    }\n</code></pre>\n\n<p>The <code>data[]</code> property is indexed. The bindings as they are now (eg <code>\"{Binding Path=data[0].emplName}\"</code>) work for the 1st item of the property. If I change it to <code>\"{Binding Path=data[1].emplName}\"</code> it will bind to the 2nd one and so on. But this is not what I need of course. Is there some way to change the binding to something like.... <code>\"{Binding Path=data[Grid.ColumnIndex-1].emplName}\"</code>? Searched and found some posts about \"parameterized binding\" etc, but couldn't find something quite obvious or straightforward. Of course I could go the dumb way and add 30 similar templates in the xaml (differing only in the index of the indexed property) - and this will definitely work, but I'm looking into making it in a better way.</p>\n\n<p>Could someone help please?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["c#", "winforms", "wcf", "endpoint", "wcf-endpoint"], "comments": [{"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1510168782, "post_id": 47187791, "comment_id": 81325107, "body": "Any exception info?"}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 0, "creation_date": 1510169409, "post_id": 47187791, "comment_id": 81325504, "body": "How is your form constructed and initialized? I would make sure that there is no communication setup when in design mode."}, {"owner": {"reputation": 4443, "user_id": 1237135, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HXf7n.jpg?s=128&g=1", "display_name": "Jim W says reinstate Monica", "link": "https://stackoverflow.com/users/1237135/jim-w-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1510170218, "post_id": 47187791, "comment_id": 81325994, "body": "I was assuming he wanted communication in design mode."}, {"owner": {"reputation": 1401, "user_id": 845230, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/18c7cbdfc443199a8e8da27cf6df9f7d?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/845230/dave"}, "edited": false, "score": 0, "creation_date": 1510186143, "post_id": 47187791, "comment_id": 81333003, "body": "I&#39;m going to try to not have any communication in design mode as a temporary hack, but ideally it would &quot;just work&quot; without any coding around it... so if I can make it work in design mode, please let me know how!"}], "owner": {"reputation": 1401, "user_id": 845230, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/18c7cbdfc443199a8e8da27cf6df9f7d?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/845230/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510169445, "creation_date": 1510168290, "last_edit_date": 1510169445, "question_id": 47187791, "link": "https://stackoverflow.com/questions/47187791/wcf-endoint-works-live-but-not-in-winforms-designer", "title": "WCF endoint works live, but not in WinForms designer", "body": "<p>I have a Winforms application that talks to a WCF service.  When run, it works.</p>\n\n<p>However, when you load a form that has a dependency on one of the datatypes in the service, it fails.  In fact, it then crashes VS2017 and VS2015, making it tougher.</p>\n\n<p>The error, if I can catch it before VS restarts, is that the client configuration for the endpoint is wrong.  Yet it does work when you press F5 and run the app!  I'm hoping that if I post the servicemodel sections of the service and the app someone will be able to spot the misconfiguration:</p>\n\n<p>In the service library's app.config I have:</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n&lt;services&gt;\n  &lt;service name=\"SapphireServiceLib.SapphireService\"\n           behaviorConfiguration=\"SoapToRESTfullDemo.Service1Behavior\"&gt;\n\n    &lt;endpoint address=\"\"\n              binding=\"wsHttpBinding\"\n              contract=\"SapphireServiceLib.ISapphireService\"&gt;\n      &lt;identity&gt;\n        &lt;dns value=\"localhost\" /&gt;\n      &lt;/identity&gt;\n    &lt;/endpoint&gt;\n    &lt;endpoint address=\"mex\" binding=\"mexHttpBinding\" contract=\"IMetadataExchange\" /&gt;\n    &lt;host&gt;\n      &lt;baseAddresses&gt;\n        &lt;add baseAddress=\"http://localhost:8888/sapphireservice\" /&gt;\n      &lt;/baseAddresses&gt;\n    &lt;/host&gt;\n  &lt;/service&gt;\n&lt;/services&gt;\n&lt;behaviors&gt;\n  &lt;serviceBehaviors&gt;\n    &lt;behavior name=\"SoapToRESTfullDemo.Service1Behavior\"&gt;\n      &lt;!-- To avoid disclosing metadata information, \n      set the value below to false and remove the metadata endpoint above before deployment --&gt;\n      &lt;serviceMetadata httpGetEnabled=\"True\"/&gt;\n      &lt;!-- To receive exception details in faults for debugging purposes, \n      set the value below to true.  Set to false before deployment \n      to avoid disclosing exception information --&gt;\n      &lt;serviceDebug includeExceptionDetailInFaults=\"False\" /&gt;\n    &lt;/behavior&gt;\n  &lt;/serviceBehaviors&gt;\n&lt;/behaviors&gt;\n&lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>...and in the EXE's app.config I have the following:</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n    &lt;bindings&gt;\n        &lt;wsHttpBinding&gt;\n            &lt;binding name=\"WSHttpBinding_ISapphireService\" /&gt;\n        &lt;/wsHttpBinding&gt;\n    &lt;/bindings&gt;\n    &lt;client&gt;\n        &lt;endpoint address=\"http://localhost:8888/sapphireservice\" \n            binding=\"wsHttpBinding\"\n            bindingConfiguration=\"WSHttpBinding_ISapphireService\" \n            contract=\"SapphireServiceReference.ISapphireService\"\n            name=\"WSHttpBinding_ISapphireService\"&gt;\n            &lt;identity&gt;\n                &lt;dns value=\"localhost\" /&gt;\n            &lt;/identity&gt;\n        &lt;/endpoint&gt;\n    &lt;/client&gt;\n&lt;/system.serviceModel&gt;\n</code></pre>\n\n<p>Can anyone spot anything obvious?  Clearly the VS designer needs to be able to connect to the endpoint at design time to access the classes that it needs for the form, but <strong>that endpoint connection is only working at runtime, not at design time.</strong></p>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1510168151, "post_id": 47187701, "comment_id": 81324730, "body": "Honestly, I&#39;m not sure its silly. I think my first solution would have been more complicated than that, this seems pretty solid to me."}, {"owner": {"reputation": 24411, "user_id": 292411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d8fdeba51c2ba145110541a5bb19696?s=128&d=identicon&r=PG&f=1", "display_name": "C.Evenhuis", "link": "https://stackoverflow.com/users/292411/c-evenhuis"}, "edited": false, "score": 4, "creation_date": 1510168449, "post_id": 47187701, "comment_id": 81324903, "body": "To be on the safe side, make sure you specify <code>CultureInfo.InvariantCulture</code> so the decimal separator is always a dot."}], "answers": [{"comments": [{"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 1, "creation_date": 1510171222, "post_id": 47187868, "comment_id": 81326503, "body": "Isn&#39;t the output for the negative number incorrect if it is 0021? I think you just need to change the ToString on it to be just three 0&#39;s instead of four."}, {"owner": {"reputation": 1450, "user_id": 5893316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349965de4bb3b5e4d0efaacaa3c6f211?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Backasch", "link": "https://stackoverflow.com/users/5893316/martin-backasch"}, "reply_to_user": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1510171532, "post_id": 47187868, "comment_id": 81326685, "body": "@BlakeThingstad: Thanks for pointing that out. You are right. I will fix it."}], "tags": [], "owner": {"reputation": 1450, "user_id": 5893316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349965de4bb3b5e4d0efaacaa3c6f211?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Backasch", "link": "https://stackoverflow.com/users/5893316/martin-backasch"}, "is_accepted": false, "score": 2, "last_activity_date": 1510171741, "last_edit_date": 1510171741, "creation_date": 1510168538, "answer_id": 47187868, "question_id": 47187701, "link": "https://stackoverflow.com/questions/47187701/printing-only-the-decimals-value/47187868#47187868", "title": "Printing only the decimals value", "body": "<p>You can use Math:</p>\n\n<pre><code>decimal test = 50.021m;\ndecimal absTest = Math.Abs(test);\ndecimal floor = Math.Floor(absTest);                       // 50\ndecimal digits = Math.Floor((absTest - floor) * 10000);    // 210\nstring output = digits.ToString(\"0000\")                    // if you need the leeding 0\n</code></pre>\n\n<hr>\n\n<p><strong>Explanation:</strong></p>\n\n<p>At first you need to take the absolute value of your <code>test</code> value, since the <a href=\"https://msdn.microsoft.com/en-us/library/k7ycc7xh(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>Math.Floor()</code></a></p>\n\n<blockquote>\n  <p>Returns the largest integer less than or equal to the specified double-precision floating-point number. </p>\n</blockquote>\n\n<p>After taking the floor of your value and subtracting it from the absolute <code>test</code> value, you will get a delta. Now you have to multiply the delta with <code>Math.Pow(10, NumberOfDigits])</code> and cut following decimal places with another <code>Math.Floor</code>.</p>\n\n<hr>\n\n<p>As extension method:</p>\n\n<pre><code>public static decimal GetDecimalPlaces(this decimal value, int numberOfPlaces)\n{\n    decimal absoluteValue = Math.Abs(value);\n    decimal floor = Math.Floor(absoluteValue);\n    decimal delta = absoluteValue - floor;\n\n    decimal decimalPlaces = Math.Floor(delta * (decimal)Math.Pow(10, numberOfPlaces));\n\n    return decimalPlaces;\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>decimal posTest = 50.0210m;\ndecimal negTest = -50.0210m;\n\n// Output: 0210\nConsole.WriteLine( posTest.GetDecimalPlaces(4).ToString(\"0000\") );\n\n// Output 021\nConsole.WriteLine( negTest.GetDecimalPlaces(3).ToString(\"000\") );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1510172567, "post_id": 47188188, "comment_id": 81327266, "body": "Still not a big fan of the suggestion, I wish you could do something like <code>string.Format(&quot;{:N4}&quot;, test);</code>, but this works. Thanks"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "reply_to_user": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "edited": false, "score": 0, "creation_date": 1510173753, "post_id": 47188188, "comment_id": 81327889, "body": "Well, for decimal it will be exact, for float/double not so much, and the generic version apparently uses <code>Math.Truncate(decimal)</code> by default. I do think it is a shame <code>Math</code> doesn&#39;t include some versions of <code>modf</code> for C#&#39;s floating types. I added an alternative I found using <code>%</code> (modulus)."}], "tags": [], "owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "is_accepted": true, "score": 3, "last_activity_date": 1510694613, "last_edit_date": 1510694613, "creation_date": 1510169661, "answer_id": 47188188, "question_id": 47187701, "link": "https://stackoverflow.com/questions/47187701/printing-only-the-decimals-value/47188188#47188188", "title": "Printing only the decimals value", "body": "<p>I would suggest an extension method (or static method, if you prefer) for the fraction. Unfortunately a generic version is tricky, though it can be done instead:</p>\n\n<pre><code>public static decimal Fraction(this decimal d) =&gt; d - Math.Truncate(d);\n\npublic static TNum Fraction&lt;TNum&gt;(this TNum d) =&gt; d - Math.Truncate((dynamic)d);\n</code></pre>\n\n<p>Then you can just format the fraction:</p>\n\n<pre><code>decimal test = 50.021m;\ntest.Fraction().ToString(\".0000\").Substring(1).Dump();\n</code></pre>\n\n<p>Another alternative is to use the modulus operator:</p>\n\n<pre><code>(test % 1).ToString(\".0000\").Substring(1).Dump();\n</code></pre>\n\n<p>Update: I added a <code>Substring</code> to skip the decimal separator, assuming it is one character.</p>\n\n<p>Instead of math, you can do string processing, but rather than the overhead of <code>Split</code>, just use <code>Substring</code> and <code>IndexOf</code>:</p>\n\n<pre><code>((Func&lt;string, string&gt;)((s) =&gt; s.Substring(s.IndexOf('.')+1)))(test.ToString(\".0000\",CultureInfo.InvariantCulture)).Dump();\n</code></pre>\n\n<p>As an extension method:</p>\n\n<pre><code>public static string Fractional4&lt;TNum&gt;(this TNum num) {\n    var strNum = ((IFormattable)num).ToString(\".0000\", CultureInfo.InvariantCulture);\n    return strNum.Substring(strNum.IndexOf('.')+1);\n}\n</code></pre>\n\n<p>Which you can call with</p>\n\n<pre><code>test.Fractional4().Dump();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1450, "user_id": 5893316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349965de4bb3b5e4d0efaacaa3c6f211?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Backasch", "link": "https://stackoverflow.com/users/5893316/martin-backasch"}, "edited": false, "score": 0, "creation_date": 1510172711, "post_id": 47188815, "comment_id": 81327339, "body": "&quot;Keep it simple, stupid!&quot; This should be marked as answer. <i>To fit also for negative values you can just write <code>string.Format(&quot;{0:0000}&quot;, Math.Abs(test) % 1.0m * 10000)</code>.</i>"}], "tags": [], "owner": {"reputation": 46, "user_id": 8908915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fe55b9e3fb9ebaaf86907aec48c56b6?s=128&d=identicon&r=PG", "display_name": "simo", "link": "https://stackoverflow.com/users/8908915/simo"}, "is_accepted": false, "score": 1, "last_activity_date": 1510171993, "creation_date": 1510171993, "answer_id": 47188815, "question_id": 47187701, "link": "https://stackoverflow.com/questions/47187701/printing-only-the-decimals-value/47188815#47188815", "title": "Printing only the decimals value", "body": "<p>Can also edit the remaining part after dividing 1.0 by the display digit.</p>\n\n<pre><code>        decimal test = 5.021m;\n\n        Debug.Print(string.Format(\"{0:0000}\", test % 1.0m * 10000));\n</code></pre>\n"}], "owner": {"reputation": 1406, "user_id": 3924743, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/KZLkt.png?s=128&g=1", "display_name": "Dispersia", "link": "https://stackoverflow.com/users/3924743/dispersia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 47188188, "answer_count": 3, "score": 1, "last_activity_date": 1510694613, "creation_date": 1510167973, "question_id": 47187701, "link": "https://stackoverflow.com/questions/47187701/printing-only-the-decimals-value", "title": "Printing only the decimals value", "body": "<p>For instance:</p>\n\n<pre><code>decimal test = 5.021m;\n</code></pre>\n\n<p>I would like to print 4 decimals after the decimal point (so in this case, 0210). My only solution I could think of is </p>\n\n<pre><code>decimal test = 50.021m;\ntest.ToString(\"0.0000\").Split('.')[1].Dump();\n</code></pre>\n\n<p>which does print 0210... but seems incredibly silly to me. Is there a better format I can use to do this?</p>\n"}, {"tags": ["c#", "android", "google-maps", "xamarin.android"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7524298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6088e46d2efe05e13735c53fc5c0c1?s=128&d=identicon&r=PG&f=1", "display_name": "sura77", "link": "https://stackoverflow.com/users/7524298/sura77"}, "edited": false, "score": 0, "creation_date": 1510246430, "post_id": 47189382, "comment_id": 81363807, "body": "Hey, that was pretty much what I was asking for, but i&#39;m still having a problem, because it draws absolutely random lines. Screenshot: <a href=\"https://ibb.co/fRsdNb\" rel=\"nofollow noreferrer\">ibb.co/fRsdNb</a> , can you tell me where I made a mistake?"}, {"owner": {"reputation": 35, "user_id": 7524298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6088e46d2efe05e13735c53fc5c0c1?s=128&d=identicon&r=PG&f=1", "display_name": "sura77", "link": "https://stackoverflow.com/users/7524298/sura77"}, "edited": false, "score": 0, "creation_date": 1510247012, "post_id": 47189382, "comment_id": 81364239, "body": "and also I can&#39;t find out how to get distance from JSON response."}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 35, "user_id": 7524298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6088e46d2efe05e13735c53fc5c0c1?s=128&d=identicon&r=PG&f=1", "display_name": "sura77", "link": "https://stackoverflow.com/users/7524298/sura77"}, "edited": false, "score": 0, "creation_date": 1510247339, "post_id": 47189382, "comment_id": 81364439, "body": "Hi from Latvia :) Can you share an initial link that you send to google?  <a href=\"https://maps.googleapis.com/maps/api/directions/json?origin=lat1,lon1&amp;destination=lat2,lon2&amp;key=yourApiKey\" rel=\"nofollow noreferrer\">maps.googleapis.com/maps/api/directions/&hellip;</a> .You can share it without apikey"}, {"owner": {"reputation": 35, "user_id": 7524298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6088e46d2efe05e13735c53fc5c0c1?s=128&d=identicon&r=PG&f=1", "display_name": "sura77", "link": "https://stackoverflow.com/users/7524298/sura77"}, "edited": false, "score": 0, "creation_date": 1510248836, "post_id": 47189382, "comment_id": 81365403, "body": "Hey from Lithuania :) ! <a href=\"https://maps.googleapis.com/maps/api/directions/json?origin=54.915511,23.962297&amp;destination=54.849478,23.842907&amp;key=\" rel=\"nofollow noreferrer\">maps.googleapis.com/maps/api/directions/&hellip;</a>"}, {"owner": {"reputation": 35, "user_id": 7524298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6088e46d2efe05e13735c53fc5c0c1?s=128&d=identicon&r=PG&f=1", "display_name": "sura77", "link": "https://stackoverflow.com/users/7524298/sura77"}, "edited": false, "score": 0, "creation_date": 1510257843, "post_id": 47189382, "comment_id": 81370458, "body": "Any idea&#39;s how to fix ? :/"}, {"owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "reply_to_user": {"reputation": 35, "user_id": 7524298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6088e46d2efe05e13735c53fc5c0c1?s=128&d=identicon&r=PG&f=1", "display_name": "sura77", "link": "https://stackoverflow.com/users/7524298/sura77"}, "edited": false, "score": 0, "creation_date": 1510293286, "post_id": 47189382, "comment_id": 81382348, "body": "distance is written in &#39;routes-&gt; legs&#39;. There are dictionary called &#39;distance&#39; that contains distance in meters and string representation of it. To get point that you need to pass into parser &#39;FnDecodePolylinePoints&#39; contains in &#39;routes-&gt; overview_polyline-&gt;points&#39;"}], "tags": [], "owner": {"reputation": 2011, "user_id": 2757447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQg87.png?s=128&g=1", "display_name": "Taier", "link": "https://stackoverflow.com/users/2757447/taier"}, "is_accepted": true, "score": 2, "last_activity_date": 1510174005, "creation_date": 1510174005, "answer_id": 47189382, "question_id": 47187694, "link": "https://stackoverflow.com/questions/47187694/xamarin-android-google-maps-api-calculate-and-display-route-and-calculate-routes/47189382#47189382", "title": "Xamarin android Google Maps API Calculate and display route and calculate routes distance", "body": "<p>To display a route, you need at first calculate it. You can use google Direction API to do that. The cool thing is, that it will return you a total distance as well. So it's only one request to satisfy all your requirements. </p>\n\n<p>Google Directions API have a lot of requests examples, you can calculate road between two places by referencing them by name. But the most straightforward is to use a latitude and longitude. For example:</p>\n\n<pre><code>https://maps.googleapis.com/maps/api/directions/json?origin=lat1,lon1&amp;destination=lat2,lon2&amp;key=yourApiKey\n</code></pre>\n\n<p>You can get the API key from a Google console. </p>\n\n<p>You can play and just change variables in this link and open it in browser, to see the returning object.</p>\n\n<p>When you receive the return object, you will need to parse it. </p>\n\n<p>The distance will be at <code>googleApiRouteObject.routes[0].legs[0].distance;</code>\nThere you will find a int representation in meeters, and string representation like 2.3km.</p>\n\n<p>The waypoints will be coded in Polylines, you will need to parst them. You can find how to do that with code examples here: <a href=\"https://developers.google.com/maps/documentation/utilities/polylineutility\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/utilities/polylineutility</a></p>\n\n<p>There is one of the examples:</p>\n\n<pre><code>List&lt;Android.Locations.Location&gt; FnDecodePolylinePoints(string encodedPoints) \n        {\n            if ( string.IsNullOrEmpty ( encodedPoints ) )\n                return null;\n            var poly = new List&lt;Android.Locations.Location&gt;();\n            char[] polylinechars = encodedPoints.ToCharArray();\n            int index = 0;\n\n            int currentLat = 0;\n            int currentLng = 0;\n            int next5bits;\n            int sum;\n            int shifter;\n\n            try\n            {\n                while (index &lt; polylinechars.Length)\n                {\n                    // calculate next latitude\n                    sum = 0;\n                    shifter = 0;\n                    do\n                    {\n                        next5bits = (int)polylinechars[index++] - 63;\n                        sum |= (next5bits &amp; 31) &lt;&lt; shifter;\n                        shifter += 5;\n                    } while (next5bits &gt;= 32 &amp;&amp; index &lt; polylinechars.Length);\n\n                    if (index &gt;= polylinechars.Length)\n                        break;\n\n                    currentLat += (sum &amp; 1) == 1 ? ~(sum &gt;&gt; 1) : (sum &gt;&gt; 1);\n\n                    //calculate next longitude\n                    sum = 0;\n                    shifter = 0;\n                    do\n                    {\n                        next5bits = (int)polylinechars[index++] - 63;\n                        sum |= (next5bits &amp; 31) &lt;&lt; shifter;\n                        shifter += 5;\n                    } while (next5bits &gt;= 32 &amp;&amp; index &lt; polylinechars.Length);\n\n                    if (index &gt;= polylinechars.Length &amp;&amp; next5bits &gt;= 32)\n                        break;\n\n                    currentLng += (sum &amp; 1) == 1 ? ~(sum &gt;&gt; 1) : (sum &gt;&gt; 1);\n                    Android.Locations.Location p = new Android.Locations.Location(\"\");\n                    p.Latitude = Convert.ToDouble(currentLat) / 100000.0;\n                    p.Longitude = Convert.ToDouble(currentLng) / 100000.0;\n                    poly.Add(p);\n                } \n            }\n            catch \n            {\n\n\n            }\n            return poly;\n        }\n</code></pre>\n\n<p>Now, you will need to draw them on a map. I'll advice you to use google maps for that. </p>\n\n<pre><code>    // Decode the points\n    var lstDecodedPoints = FnDecodePolylinePoints(encodedPoints);\n    //convert list of location point to array of latlng type\n    var latLngPoints = new LatLng[lstDecodedPoints.Count];\n    int index = 0;\n    foreach (Android.Locations.Location loc in lstDecodedPoints){\n      latLngPoints[index++] = new LatLng(loc.Latitude, loc.Longitude);}\n    // Create polyline \n    var polylineoption = new PolylineOptions();\n    polylineoption.InvokeColor(Android.Graphics.Color.GRREN);\n    polylineoption.Geodesic(true);\n    polylineoption.Add(latLngPoints);\n    // Don't forget to add it to the main quie, if you was doing the request for a cordinate in background\n   // Add polyline to map\n    this.Activity.RunOnUiThread(() =&gt;\n        _map.AddPolyline(polylineoption));\n    }\n</code></pre>\n\n<p>And that basically it, you will get a very close result as on the img. </p>\n"}], "owner": {"reputation": 35, "user_id": 7524298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca6088e46d2efe05e13735c53fc5c0c1?s=128&d=identicon&r=PG&f=1", "display_name": "sura77", "link": "https://stackoverflow.com/users/7524298/sura77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3101, "favorite_count": 1, "accepted_answer_id": 47189382, "answer_count": 1, "score": 1, "last_activity_date": 1510174005, "creation_date": 1510167958, "question_id": 47187694, "link": "https://stackoverflow.com/questions/47187694/xamarin-android-google-maps-api-calculate-and-display-route-and-calculate-routes", "title": "Xamarin android Google Maps API Calculate and display route and calculate routes distance", "body": "<p>I'm working on mobile android app in C# where I need to display a route and calculate it's distance. </p>\n\n<p><a href=\"https://i.stack.imgur.com/FjZn2.png\" rel=\"nofollow noreferrer\">I need a result similar like in this picture</a></p>\n"}, {"tags": ["c#", "xamarin", "mvvm", "xamarin.forms", "xamarin-studio"], "comments": [{"owner": {"reputation": 72617, "user_id": 1338, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/IUjpi.png?s=128&g=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/1338/jason"}, "edited": false, "score": 2, "creation_date": 1510167820, "post_id": 47187635, "comment_id": 81324550, "body": "your VM needs to implement INotifyPropertyChanged and raise a PropertyChanged event when the value of View changes"}, {"owner": {"reputation": 9906, "user_id": 336378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/ee9272dbc4fd98a65807b5149559b1eb?s=128&d=identicon&r=PG", "display_name": "Alex AIT", "link": "https://stackoverflow.com/users/336378/alex-ait"}, "edited": false, "score": 0, "creation_date": 1510168020, "post_id": 47187635, "comment_id": 81324656, "body": "Is the button invisible if you always return false? Then the binding probably doesn&#39;t know that &quot;view&quot; changed when &quot;state&quot;  changed."}, {"owner": {"reputation": 95, "user_id": 5579074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23e4cffd0e2fdab11e9b22ae74f5805?s=128&d=identicon&r=PG&f=1", "display_name": "Viju", "link": "https://stackoverflow.com/users/5579074/viju"}, "edited": false, "score": 0, "creation_date": 1510168454, "post_id": 47187635, "comment_id": 81324912, "body": "Also, make sure the DataContext of the control is set to your ViewModel correctly"}, {"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 1, "creation_date": 1510170319, "post_id": 47187635, "comment_id": 81326034, "body": "I would consider binding <code>IsVisible</code> directly to <code>State</code> using an <code>IValueConverter</code> that knows how to map the states to the visibility you want.  That way you don&#39;t have to worry about raising <code>PropertyChanged</code> on multiple properties, and you can get rid of <code>View</code> completely, simplifying your code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1510174148, "post_id": 47187635, "comment_id": 81328115, "body": "<a href=\"https://stackoverflow.com/questions/26924718/ivalueconverter-and-visibility\" title=\"ivalueconverter and visibility\">stackoverflow.com/questions/26924718/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15541, "user_id": 526724, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5fafcd128fb9ba805b41d8770c0345cc?s=128&d=identicon&r=PG", "display_name": "Bradley Uffner", "link": "https://stackoverflow.com/users/526724/bradley-uffner"}, "edited": false, "score": 0, "creation_date": 1510186223, "post_id": 47189472, "comment_id": 81333026, "body": "You may have to include some namespaces based on your existing code.  And if your real code doesn&#39;t match your example code exactly, he may have gotten some of the class names wrong.  But from a high level, this is all correct and complete."}], "tags": [], "owner": {"reputation": 439, "user_id": 1518887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91cc2d08db94c4bd4647f87c6f62984b?s=128&d=identicon&r=PG", "display_name": "romerotg", "link": "https://stackoverflow.com/users/1518887/romerotg"}, "is_accepted": false, "score": 2, "last_activity_date": 1510174311, "creation_date": 1510174311, "answer_id": 47189472, "question_id": 47187635, "link": "https://stackoverflow.com/questions/47187635/bind-a-buttons-visibility-in-xaml-to-a-viewmodel/47189472#47189472", "title": "Bind a buttons visibility in XAML to a viewmodel?", "body": "<p>You can create an <code>IValueConverter</code> from <code>State</code> to <code>Visibility</code></p>\n\n<pre><code>public class StateToVisibilityConverter : IValueConverter\n{\n    public object Convert(object value, Type targetType, object parameter, \n            System.Globalization.CultureInfo culture)\n    {\n        if (value is State)\n        {\n            State state = (State)value;\n            switch (state)\n            {\n                case State.Away:\n                case State.Gone:\n                    return Visibility.Visible;\n                default:\n                    return Visibility.Collapsed;\n            }\n        }\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, \n            System.Globalization.CultureInfo culture)\n    {\n        return State.None; // your default state\n    }\n}\n</code></pre>\n\n<p>Then you bind your button to the converter</p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;local:StateToVisibilityConverter x:Key=\"StateToVisibilityConverter\"/&gt;\n&lt;/Window.Resources&gt;\n\n&lt;Button Text=\"Hello\" Visibility=\"{Binding Path=State, Converter={StaticResource StateToVisibilityConverter}}\"/&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8680831"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1541784987, "creation_date": 1510167713, "last_edit_date": 1541784987, "question_id": 47187635, "link": "https://stackoverflow.com/questions/47187635/bind-a-buttons-visibility-in-xaml-to-a-viewmodel", "title": "Bind a buttons visibility in XAML to a viewmodel?", "body": "<p>I want the button to be visible in <code>State.Away</code> and <code>State.Stop</code> but for some reason the button is always visible even if the <code>State</code> is different than <code>State.Away</code> and <code>State.Stop</code>.</p>\n\n<p><strong>Xaml:</strong></p>\n\n<pre><code>&lt;Button Text=\"Hello\" IsVisible=\"{Binding View}\"/&gt;\n</code></pre>\n\n<p><strong>ViewModel:</strong></p>\n\n<pre><code>private bool myBool;\n\npublic bool View\n{\n    get\n    {\n        if (State == State.Away || State == State.Gone)\n        {\n            myBool = true;\n        }\n        else\n        {\n            myBool = false;                   \n        }\n        return myBool;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "jquery", "asp.net", "asp.net-mvc", "signalr"], "comments": [{"owner": {"reputation": 4035, "user_id": 4162955, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LXfGt.png?s=128&g=1", "display_name": "Ziv Weissman", "link": "https://stackoverflow.com/users/4162955/ziv-weissman"}, "edited": false, "score": 0, "creation_date": 1510168315, "post_id": 47187579, "comment_id": 81324826, "body": "Are you loading jQuery? I don&#39;t see it in your cshtml"}, {"owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "reply_to_user": {"reputation": 4035, "user_id": 4162955, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LXfGt.png?s=128&g=1", "display_name": "Ziv Weissman", "link": "https://stackoverflow.com/users/4162955/ziv-weissman"}, "edited": false, "score": 0, "creation_date": 1510168454, "post_id": 47187579, "comment_id": 81324909, "body": "Oh yeas I do, let me put that in here"}, {"owner": {"reputation": 2744, "user_id": 4098052, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8cf60de4dccb4a7525e0d49f5b20a99f?s=128&d=identicon&r=PG", "display_name": "Stephu", "link": "https://stackoverflow.com/users/4098052/stephu"}, "edited": false, "score": 0, "creation_date": 1510169379, "post_id": 47187579, "comment_id": 81325481, "body": "Any browser console log.?"}, {"owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "edited": false, "score": 0, "creation_date": 1510169497, "post_id": 47187579, "comment_id": 81325561, "body": "yes the &quot;ok lol&quot; get&#39;s logged but the &quot;ok cuck&quot; doesn&#39;t, I also have no JS errors"}, {"owner": {"reputation": 4035, "user_id": 4162955, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LXfGt.png?s=128&g=1", "display_name": "Ziv Weissman", "link": "https://stackoverflow.com/users/4162955/ziv-weissman"}, "edited": false, "score": 0, "creation_date": 1510171454, "post_id": 47187579, "comment_id": 81326638, "body": "Strange... Do you see anything wrong in &quot;Network&quot; tab? (on chrome console) - i.e. any connection error, loading js file error or whatever"}, {"owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "edited": false, "score": 0, "creation_date": 1510173690, "post_id": 47187579, "comment_id": 81327854, "body": "Nope, everything loads correctly, no errors to be seen"}, {"owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "edited": false, "score": 0, "creation_date": 1510174526, "post_id": 47187579, "comment_id": 81328322, "body": "And somehow it seems that the script inside $(.....) won&#39;t be executed by jQuery, but I don&#39;t know why."}, {"owner": {"reputation": 4035, "user_id": 4162955, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LXfGt.png?s=128&g=1", "display_name": "Ziv Weissman", "link": "https://stackoverflow.com/users/4162955/ziv-weissman"}, "edited": false, "score": 0, "creation_date": 1510177234, "post_id": 47187579, "comment_id": 81329669, "body": "Where is the Render.Section(&quot;scripts&quot;)?"}, {"owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "edited": false, "score": 0, "creation_date": 1510178001, "post_id": 47187579, "comment_id": 81330031, "body": "I had this in my shared layout at the bottom: @RenderSection(&quot;scripts&quot;, required: false)"}], "answers": [{"tags": [], "owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "is_accepted": true, "score": 0, "last_activity_date": 1510178716, "creation_date": 1510178716, "answer_id": 47190491, "question_id": 47187579, "link": "https://stackoverflow.com/questions/47187579/asp-net-mvc-signalr-script-not-running/47190491#47190491", "title": "ASP.NET mvc signalr script not running", "body": "<p>I got it. This problem was caused by the use of sections an layouts. I just discovered that you had to put the following order:</p>\n\n<pre><code>RenderBody()\nRenderSection(\"scripts\", required: false)\n</code></pre>\n\n<p>in this order:</p>\n\n<pre><code>RenderSection(\"scripts\", required: false)\nRenderBody()\n</code></pre>\n\n<p>My chat function still gives some errors regarding the functions I'm using, but this I can handle. I'm just new to ASP.NET MVC.</p>\n"}], "owner": {"reputation": 950, "user_id": 6003092, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/13c6a18d98bca4b5b04fec3f8a5e0d8b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Hulshof", "link": "https://stackoverflow.com/users/6003092/b-hulshof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "accepted_answer_id": 47190491, "answer_count": 1, "score": 0, "last_activity_date": 1510178716, "creation_date": 1510167449, "last_edit_date": 1510168527, "question_id": 47187579, "link": "https://stackoverflow.com/questions/47187579/asp-net-mvc-signalr-script-not-running", "title": "ASP.NET mvc signalr script not running", "body": "<p>So I have implemented a simple signalR chat module within my ASP.NET mvc application. But the JavaScript on my chat page isn't being executed. I have the latest jquery libraries which I needed to install through NuGet for SignalR but it still doesn't work.</p>\n\n<p>Here is how I load my javascripts:</p>\n\n<pre><code>&lt;head&gt;\n&lt;meta charset=\"utf-8\" /&gt;\n&lt;title&gt;Studiemeter Tech Support&lt;/title&gt;\n@Styles.Render(\"~/Content/Site.css\")\n@Styles.Render(\"~/Content/bootstrap.min.css\")\n@Styles.Render(\"~/Content/sb-admin-2.min.css\")\n@Styles.Render(\"~/Scripts/vendor/metisMenu/metisMenu.min.css\")\n@Styles.Render(\"~/Scripts/vendor/morrisjs/morris.css\")\n@Styles.Render(\"~/Scripts/vendor/font-awesome/css/font-awesome.min.css\")\n@Styles.Render(\"~/Content/login.css\")\n@Scripts.Render(\"~/Scripts/jquery-1.12.4.min.js\")\n@Scripts.Render(\"~/Scripts/jquery-ui-1.12.1.min.js\")\n@Scripts.Render(\"~/Scripts/vendor/morrisjs/morris.min.js\")\n@Scripts.Render(\"~/Scripts/vendor/bootstrap/js/bootstrap.min.js\")\n@Scripts.Render(\"~/Scripts/vendor/metisMenu/metisMenu.min.js\")\n@Scripts.Render(\"~/Scripts/vendor/raphael/raphael.min.js\")\n@Scripts.Render(\"~/Scripts/dist/js/sb-admin-2.js\")\n@Scripts.Render(\"~/Scripts/modernizr-2.6.2.js\")\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n&lt;meta name=\"description\" content=\"\"&gt;\n&lt;meta name=\"author\" content=\"\"&gt;\n\n&lt;title&gt;Studiemeter Ticket Systeem&lt;/title&gt;\n\n&lt;!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries --&gt;\n&lt;!-- WARNING: Respond.js doesn't work if you view the page via file:// --&gt;\n&lt;!--[if lt IE 9]&gt;\n    &lt;script src=\"https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js\"&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;/head&gt;\n</code></pre>\n\n<p>Here is my chat page:</p>\n\n<p><strong>SignaRChat.cshtml</strong></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;input type=\"text\" id=\"message\" /&gt;\n    &lt;input type=\"button\" id=\"sendmessage\" value=\"Send\" /&gt;\n    &lt;input type=\"hidden\" id=\"displayname\" /&gt;\n    &lt;ul id=\"discussion\"&gt;&lt;/ul&gt;\n&lt;/div&gt;\n@section scripts {\n    &lt;script src=\"~/Scripts/jquery.signalR-2.2.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/signalr/Hubs\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        console.log(\"ok lol\");\n        $(function () {\n            console.log(\"ok cuck\");\n            var chat = $.connection.chathub;\n            chat.client.addNewMessageToPage = function (name, message) {\n                $('#discussion').append('&lt;li&gt;&lt;strong&gt;' + htmlEncode(name)\n                + '&lt;/strong&gt;: ' + htmlEncode(message) + '&lt;/li&gt;');\n            };\n            $('#displayname').val(prompt('Enter your name:', ''));\n            $('#message').focus();\n            $.connection.hub.start().done(function () {\n                $('#sendmessage').click(function () {\n                chat.server.send($('#displayname').val(), $('#message').val());\n                $('#message').val('').focus();\n            });\n        });\n    });\n\n    function htmlEncode(value) {\n        var encodedValue = $('&lt;div /&gt;').text(value).html();\n        return encodedValue;\n    }\n&lt;/script&gt;\n}\n</code></pre>\n\n<p>I also have created the ChatHub class and the Startup script, as you can see below:</p>\n\n<p><strong>ChatHub.cs</strong></p>\n\n<pre><code>namespace TicketSystem.Hubs\n{\n    public class ChatHub : Hub\n    {\n        public void Send(string name, string message)\n        {\n            // Call the addNewMessageToPage method to update clients.\n            Clients.All.addNewMessageToPage(name, message);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Startup.cs</strong></p>\n\n<pre><code>[assembly: OwinStartup(typeof(TicketSystem.Hubs.Startup))]\nnamespace TicketSystem.Hubs\n{\n    public class Startup\n    {\n        public void Configuration(IAppBuilder app)\n        {\n            // Any connection or hub wire up and configuration should go here\n            app.MapSignalR();\n        }\n    }\n}\n</code></pre>\n\n<p>When I go to the chat page there's no dialog and the javascript doesn't work. I quite new to this and I don't know what I'm doing wrong here. Can someone please tell me what's going wrong here?</p>\n"}, {"tags": ["c#", "json"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1510167717, "post_id": 47187546, "comment_id": 81324456, "body": "You forgot the part where you ask a question."}, {"owner": {"reputation": 681, "user_id": 374188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8fca0bc07c72b0350ca07739e13d3d6?s=128&d=identicon&r=PG", "display_name": "Vadim Sentiaev", "link": "https://stackoverflow.com/users/374188/vadim-sentiaev"}, "edited": false, "score": 1, "creation_date": 1510167749, "post_id": 47187546, "comment_id": 81324488, "body": "It will be great if you add how your XML should look like."}, {"owner": {"reputation": 16352, "user_id": 932728, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/4PyNZ.jpg?s=128&g=1", "display_name": "Peter Bons", "link": "https://stackoverflow.com/users/932728/peter-bons"}, "edited": false, "score": 1, "creation_date": 1510168818, "post_id": 47187546, "comment_id": 81325135, "body": "And it would be even greater if you show what you have tried so far."}, {"owner": {"reputation": 789, "user_id": 4659089, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9bdb9f0ba256952e98888bfd549c715b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4659089/john"}, "edited": false, "score": 0, "creation_date": 1510171244, "post_id": 47187546, "comment_id": 81326515, "body": "Sorry, the question is how to do a recursive traverse through the JSON object to pull the object parents Name from the ParentProductCategoryID?"}], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 374188, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8fca0bc07c72b0350ca07739e13d3d6?s=128&d=identicon&r=PG", "display_name": "Vadim Sentiaev", "link": "https://stackoverflow.com/users/374188/vadim-sentiaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1510169909, "last_edit_date": 1510169909, "creation_date": 1510169378, "answer_id": 47188111, "question_id": 47187546, "link": "https://stackoverflow.com/questions/47187546/traversing-a-json-file-from-the-inner-nodes-out-c/47188111#47188111", "title": "Traversing a JSON file from the inner nodes out c#", "body": "<p>There is how you can traverse this structure recursively</p>\n\n<pre><code>public void Traverse(obj)\n{\n    // your logic with item\n\n    foreach (var childItem in obj.Children)\n    {\n        Traverse(childItem);\n    }\n}\n</code></pre>\n\n<p>But if you need more detailed answer, please update your question.</p>\n"}, {"tags": [], "owner": {"reputation": 789, "user_id": 4659089, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9bdb9f0ba256952e98888bfd549c715b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4659089/john"}, "is_accepted": false, "score": 0, "last_activity_date": 1510181945, "creation_date": 1510181945, "answer_id": 47191159, "question_id": 47187546, "link": "https://stackoverflow.com/questions/47187546/traversing-a-json-file-from-the-inner-nodes-out-c/47191159#47191159", "title": "Traversing a JSON file from the inner nodes out c#", "body": "<p>Here is the code I used to traverse the JSON file knowing that for now it will only be three levels deep.  When I come back to refactor, I will create a recursive function to do this.</p>\n\n<pre><code> foreach (ProductCategoryMapItem catMap in cats)\n       {\n           var xCategory = new XElement(bv + \"Category\",\n               new XElement(bv + \"ExternalId\", catMap.ProductCategoryId),\n               new XElement(bv + \"Name\", catMap.Description.Title));\n           xCategories.Add(xCategory);\n           if (catMap.Children.Count &gt; 0)\n           {\n               foreach (ProductCategoryMapItem subcat in catMap.Children)\n               {\n                   var xSubCategory = new XElement(bv + \"Category\",\n                   new XElement(bv + \"ExternalId\", subcat.ProductCategoryId),\n                   new XElement(bv + \"ParentExternalId\", subcat.ParentProductCategoryId),\n                   new XElement(bv + \"Name\", subcat.Description.Title));\n                   xCategories.Add(xSubCategory);\n                   if(subcat.Children.Count &gt; 0 )\n                   {\n                       foreach(ProductCategoryMapItem subsubcat in subcat.Children)\n                       {\n                            var xSubSubCategory = new XElement(bv + \"Category\",\n                            new XElement(bv + \"ExternalId\", subsubcat.ProductCategoryId),\n                            new XElement(bv + \"ParentExternalId\",subsubcat.ParentProductCategoryId),\n                            new XElement(bv + \"Name\", subsubcat.Description.Title));\n                            xCategories.Add(xSubSubCategory);\n                       }\n                   }\n               }\n           }\n       }\n</code></pre>\n"}], "owner": {"reputation": 789, "user_id": 4659089, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9bdb9f0ba256952e98888bfd549c715b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4659089/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510181945, "creation_date": 1510167344, "last_edit_date": 1510171348, "question_id": 47187546, "link": "https://stackoverflow.com/questions/47187546/traversing-a-json-file-from-the-inner-nodes-out-c", "title": "Traversing a JSON file from the inner nodes out c#", "body": "<p>I have a JSON file that contains a nested structure.  The levels are:</p>\n\n<ul>\n<li>Top Level</li>\n<li>Mid Level</li>\n<li>Bottom level</li>\n</ul>\n\n<p>So for every top level object there may be 1 or more children and for the mid level there may be one or more children.  Here is a sample of the JSON file:</p>\n\n<pre><code> \"Description\": {\n  \"ProductCategoryID\": \"12345\",\n  \"Title\": \"Tables\",\n  \"Description\": \"Tables\",\n  \"LanguageId\": 57\n},\n\"Display\": {\n  \"ProductCategoryId\": \"12345\",\n  \"ShowWeb\": true,\n  \"ShowMobile\": true,\n  \"ShowDatavault\": true\n},\n\"Image\": null,\n\"Children\": [\n  {\n    \"Description\": {\n      \"ProductCategoryDescriptionId\": \"abc123\",\n      \"ProductCategoryId\": \"ABCDE\",\n      \"Title\": \"Rectangular\",\n      \"Description\": \"Rectangular\",\n      \"LanguageId\": 57\n    },\n    \"Display\": {\n      \"ProductCategoryId\": \"xxxxxxx\",\n      \"ShowWeb\": true,\n      \"ShowMobile\": true,\n      \"ShowDatavault\": true\n    },\n    \"Image\": null,\n    \"Children\": [\n      {\n        \"Description\": {\n          \"ProductCategoryDescriptionId\": \"xxx\",\n          \"ProductCategoryId\": \"xxxxx\",\n          \"Title\": \"8-Foot Folding\",\n          \"Description\": \"8-Foot Folding\",\n          \"LanguageId\": 57\n        },\n        \"Display\": {\n          \"ProductCategoryId\": \"xxx\",\n          \"ShowWeb\": true,\n          \"ShowMobile\": true,\n          \"ShowDatavault\": true\n        },\n        \"Image\": null,\n        \"Children\": [],\n        \"ProductCategoryId\": \"xxxx\",\n        \"ParentProductCategoryId\": \"ABCDE\",\n        \"MenuOrder\": 0,\n        \"ProductCategoryTypeId\": 2\n      }\"Image\": null,\n        \"Children\": [],\n        \"ProductCategoryId\": \"xxxxxx\",\n        \"ParentProductCategoryId\": \"12345\",\n        \"MenuOrder\": 7,\n        \"ProductCategoryTypeId\": 2\n      },\n</code></pre>\n\n<p>So if I start at a top level item, I want to traverse down the children and the children's children to build an XML structure using the Title, ProductCategoryID, and ParentCategoryID.  Ideally I would like to use the Title for the ParentCategoryID (using this a \"lookup\" for the title) instead of the ProductCategoryID. </p>\n\n<p>How do I use the ParentProductCategoryID to pull the Title from the parent?\nThanks.</p>\n"}, {"tags": ["c#", "async-await", "task"], "comments": [{"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "edited": false, "score": 4, "creation_date": 1510167979, "post_id": 47187544, "comment_id": 81324637, "body": "You only mark a method as <code>async</code> if you&#39;re planning on using an <code>await</code> (directly) inside of it. The fact that it returns a <code>Task</code> is enough to satisfy the interface; <code>async&#47;await</code> are irrespective of interfaces."}], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 289545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d619df3dd3d6499c30d7a52f4ceac2dd?s=128&d=identicon&r=PG", "display_name": "m3z", "link": "https://stackoverflow.com/users/289545/m3z"}, "edited": false, "score": 3, "creation_date": 1531143936, "post_id": 47187623, "comment_id": 89472782, "body": "I get that the fourth option is not recommended but you don&#39;t give a reason why?"}, {"owner": {"reputation": 7199, "user_id": 2385218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1da27354c3389d229f58bffc5b28a11?s=128&d=identicon&r=PG", "display_name": "sellotape", "link": "https://stackoverflow.com/users/2385218/sellotape"}, "reply_to_user": {"reputation": 940, "user_id": 289545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d619df3dd3d6499c30d7a52f4ceac2dd?s=128&d=identicon&r=PG", "display_name": "m3z", "link": "https://stackoverflow.com/users/289545/m3z"}, "edited": false, "score": 2, "creation_date": 1531151462, "post_id": 47187623, "comment_id": 89477855, "body": "@m3z - the compiler will generate a warning along the lines of &quot;the async method lacks await operators and will run synchronously&quot;.  More importantly, though, the compiler will generate an entire <code>IAsyncStateMachine</code> for what is otherwise a very simple method.  An intelligent compiler might optimise this away, but from a brief visit to <a href=\"https://sharplab.io/\" rel=\"nofollow noreferrer\">sharplab.io</a>, it seems there&#39;s every chance it won&#39;t, and on NET47x it JITs to 259 bytes of x86 assembly for the async method vs 71 for the sync."}, {"owner": {"reputation": 940, "user_id": 289545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d619df3dd3d6499c30d7a52f4ceac2dd?s=128&d=identicon&r=PG", "display_name": "m3z", "link": "https://stackoverflow.com/users/289545/m3z"}, "edited": false, "score": 0, "creation_date": 1531249154, "post_id": 47187623, "comment_id": 89522770, "body": "Makes sense. Thanks"}, {"owner": {"reputation": 12253, "user_id": 11956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/545b1236d68c50702e2559640d1c04ed?s=128&d=identicon&r=PG", "display_name": "Vegar", "link": "https://stackoverflow.com/users/11956/vegar"}, "edited": false, "score": 1, "creation_date": 1554804668, "post_id": 47187623, "comment_id": 97877358, "body": "<code>No need for the async</code> - but does it harm?  I kinda like to trade the <code>return Task.ComletedTask;</code> line for an <code>async</code> keyword if it doesn&#39;t harm in any way.."}, {"owner": {"reputation": 1044, "user_id": 3206884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25d541157637617056ed00f107f6b21?s=128&d=identicon&r=PG&f=1", "display_name": "GiriB", "link": "https://stackoverflow.com/users/3206884/girib"}, "edited": false, "score": 0, "creation_date": 1557911823, "post_id": 47187623, "comment_id": 98921122, "body": "@vegar-  As sellotape mentioned, async methods have an overhead associated with them and should only be used to implement something that is I/O intensive (like writing to a file, making an external Http call). For simple methods or the ones that are &quot;Compute intensive&quot; (like adding two numbers, calculating factorial of 10^10), async doesn&#39;t help and thus creating additional additional state overhead is unnecessary."}, {"owner": {"reputation": 81, "user_id": 1084847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eabb55bcbf53a0be53cf89d6dde84cdf?s=128&d=identicon&r=PG", "display_name": "tom", "link": "https://stackoverflow.com/users/1084847/tom"}, "edited": false, "score": 0, "creation_date": 1582246941, "post_id": 47187623, "comment_id": 106721166, "body": "for the #4, it is better to do  <code>return await Task.FromResult(new Result());</code>"}], "tags": [], "owner": {"reputation": 7199, "user_id": 2385218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1da27354c3389d229f58bffc5b28a11?s=128&d=identicon&r=PG", "display_name": "sellotape", "link": "https://stackoverflow.com/users/2385218/sellotape"}, "is_accepted": true, "score": 42, "last_activity_date": 1571390485, "last_edit_date": 1571390485, "creation_date": 1510167633, "answer_id": 47187623, "question_id": 47187544, "link": "https://stackoverflow.com/questions/47187544/c-async-task-method-without-await-or-return/47187623#47187623", "title": "C# Async Task Method Without Await or Return", "body": "<pre><code>public Task DoSomething()\n{\n    return Task.CompletedTask;\n}\n</code></pre>\n\n<p>No need for the <code>async</code>.</p>\n\n<p>If you're using an older version of .NET, use this:</p>\n\n<pre><code>public Task DoSomething()\n{\n    return Task.FromResult(0);\n}\n</code></pre>\n\n<p>If you find you need to return a result but you still dont need to <code>await</code> anything, try;</p>\n\n<pre><code>public Task&lt;Result&gt; DoSomething()\n{\n    return Task.FromResult(new Result())\n}\n</code></pre>\n\n<p>or, if you really want to use async (not recommended);</p>\n\n<pre><code>public async Task&lt;Result&gt; DoSomething()\n{\n    return new Result();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2809, "user_id": 6720987, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0TSHr.png?s=128&g=1", "display_name": "Jan-Fokke", "link": "https://stackoverflow.com/users/6720987/jan-fokke"}, "is_accepted": false, "score": 3, "last_activity_date": 1559893867, "creation_date": 1559893867, "answer_id": 56490137, "question_id": 47187544, "link": "https://stackoverflow.com/questions/47187544/c-async-task-method-without-await-or-return/56490137#56490137", "title": "C# Async Task Method Without Await or Return", "body": "<p>I see that most people prefer to leave out the <code>async</code> and use <code>Task.ComletedTask</code> instead. But even if <code>await</code> is not used, there is still a big difference in exception handling</p>\n\n<p>Consider the following example</p>\n\n<pre><code>static async Task Main(string[] args)\n{\n\n    Task task = test(); // Will throw exception here\n    await task;\n\n    Task taskAsync = testWithAsync();\n    await taskAsync; // Will throw exception here\n}\n\nstatic Task test()\n{\n    throw new Exception();\n    return Task.CompletedTask; //Unreachable, but left in for the example\n}\n\nstatic async Task testWithAsync()\n{\n    throw new Exception();\n}\n</code></pre>\n\n<p>Using </p>\n\n<p><code>test().ContinueWith(...);</code> or <code>Task.WhenAll(test())</code></p>\n\n<p>may result in unexpected behaviour.</p>\n\n<p>Therefore, I prefer <code>async</code> instead of <code>Task.CompletedTask</code> or <code>Task.FromResult</code>.</p>\n"}], "owner": {"reputation": 6630, "user_id": 3453898, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MjQi5.png?s=128&g=1", "display_name": "pixel", "link": "https://stackoverflow.com/users/3453898/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28452, "favorite_count": 2, "accepted_answer_id": 47187623, "answer_count": 2, "score": 15, "last_activity_date": 1571390485, "creation_date": 1510167342, "last_edit_date": 1510169325, "question_id": 47187544, "link": "https://stackoverflow.com/questions/47187544/c-async-task-method-without-await-or-return", "title": "C# Async Task Method Without Await or Return", "body": "<p>I have an Interface I that is implemented in two places like:</p>\n\n<pre><code>interface I \n{ \n   Task DoSomething();\n}\n</code></pre>\n\n<p>The interface has async Task DoSomething method API that is then implemented in class A like:</p>\n\n<pre><code>class A : I {....}\n\nclass B : I {....}\n</code></pre>\n\n<p>In class A, the implementation of DoSomething is like below and that is OK:</p>\n\n<pre><code>public async Task DoSomething()\n{\n    if (...)\n    {\n        await DoIt();\n    }\n}\n</code></pre>\n\n<p>However, in class B, the implementation of DoSomething() should not do anything. \n So, its implementation looks like this:</p>\n\n<pre><code>public async Task DoSomething()\n{\n    // nothing\n}\n</code></pre>\n\n<p>This compiles but I am not sure how correct it is do do something like this beside the fact that the method is useless.  </p>\n\n<p>But being \"useless\" in this case is ok in this case since it is implemented just because it is required by class B implementing the interface I.</p>\n\n<p>I wonder if this is a correct way to implement a method that returns async Task but has no await or return?  I know that this method will simple do nothing and execute synchronously as there is no call to await.</p>\n\n<p>UPDATE: Similar questions have been asked here on SO and I have checked all of them before asking this one.  None is asking what I am asking though</p>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1510173841, "post_id": 47187542, "comment_id": 81327937, "body": "Do your terms always contain only word chars (letters, digits, and <code>_</code>)? You are using whitespace boundaries a bit wrong and the pattern is just not doing what you need."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1510174245, "post_id": 47187542, "comment_id": 81328170, "body": "I think it is enough to use <a href=\"http://regexstorm.net/tester?p=%5cbnot%5cW%2b%28%3f%3a%5cw%2b%5cW%2b%29%7b0%2c2%7dalcohol%5cb&amp;i=Not+alcohol!+Again...%0d%0aI+am+not+taking+alcohol+these+days.%0d%0aI+am+not+feeling+like+taking+alcohol+these+days.&amp;o=i\" rel=\"nofollow noreferrer\"><code>(?i)\\bnot\\W+(?:\\w+\\W+){0,2}alcohol\\b</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 915, "user_id": 1428006, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9554f8ef3b5408758388036cfb737212?s=128&d=identicon&r=PG", "display_name": "A Developer", "link": "https://stackoverflow.com/users/1428006/a-developer"}, "edited": false, "score": 0, "creation_date": 1510243562, "post_id": 47187770, "comment_id": 81361695, "body": "This works for last 1 or 2 terms. But this is not working for 0th or 3rd terms if I add the same way {{0,1,2,3}}  Any idea what I am missing"}, {"owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "reply_to_user": {"reputation": 915, "user_id": 1428006, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9554f8ef3b5408758388036cfb737212?s=128&d=identicon&r=PG", "display_name": "A Developer", "link": "https://stackoverflow.com/users/1428006/a-developer"}, "edited": false, "score": 0, "creation_date": 1510243995, "post_id": 47187770, "comment_id": 81362039, "body": "In this regex {1,2} is not a term index. It&#39;s a quantifier that require that there should be min 1 and max 2 words between negative term and searched term. That&#39;s what you asked for. What are you trying to achieve?"}, {"owner": {"reputation": 915, "user_id": 1428006, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9554f8ef3b5408758388036cfb737212?s=128&d=identicon&r=PG", "display_name": "A Developer", "link": "https://stackoverflow.com/users/1428006/a-developer"}, "edited": false, "score": 0, "creation_date": 1510244083, "post_id": 47187770, "comment_id": 81362106, "body": "Makes sense, let me try 0-4..I was testing some ranges thanks"}], "tags": [], "owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "is_accepted": true, "score": 0, "last_activity_date": 1510168230, "creation_date": 1510168230, "answer_id": 47187770, "question_id": 47187542, "link": "https://stackoverflow.com/questions/47187542/regex-pattern-to-find-a-terms-existence-in-last-3-words-of-another-term-in-a-st/47187770#47187770", "title": "Regex pattern to find a term&#39;s existence in last 3 words of another term in a string", "body": "<p>This regex should do the job:</p>\n\n<pre><code>//var textLine = \"I am not taking alcohol these days.\";\nvar textLine = \"I am not feeling like taking alcohol these days\";\nvar negativeTerm = \"not\";\nvar searchedTerm = \"Alcohol\";\n\nvar matched = Regex.IsMatch(textLine, $@\"\\b{negativeTerm}\\W+(?:\\w+\\W+){{1,2}}?{searchedTerm}\\b\", RegexOptions.IgnoreCase);\n</code></pre>\n"}], "owner": {"reputation": 915, "user_id": 1428006, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9554f8ef3b5408758388036cfb737212?s=128&d=identicon&r=PG", "display_name": "A Developer", "link": "https://stackoverflow.com/users/1428006/a-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 47187770, "answer_count": 1, "score": 0, "last_activity_date": 1510168230, "creation_date": 1510167329, "question_id": 47187542, "link": "https://stackoverflow.com/questions/47187542/regex-pattern-to-find-a-terms-existence-in-last-3-words-of-another-term-in-a-st", "title": "Regex pattern to find a term&#39;s existence in last 3 words of another term in a string", "body": "<p>Need to write RegEx in C# for the below req.</p>\n\n<p><strong>Input - A String, Term 1 (No), Term 2 (Alcohol)</strong></p>\n\n<p>I want to find out, if a term like \"not\" is present in last 2 or 3 words before  term like \"alcohol\".</p>\n\n<pre><code>1. String : I am not taking alcohol these days.\n</code></pre>\n\n<p>Answer - Yes</p>\n\n<pre><code>2. String : I am not feeling like taking alcohol these days.\n</code></pre>\n\n<p>Answer - No</p>\n\n<p>I tried something like below, but its not working :</p>\n\n<pre><code>Regex.IsMatch(textLine, @\"(^|\\s)\" + negativeTerm + @\"(\\s|$)\", RegexOptions.IgnoreCase)\n</code></pre>\n"}, {"tags": ["c#", "sockets", "tcp"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1510193484, "post_id": 47187488, "comment_id": 81334785, "body": "without a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reliably reproduces the problem, it&#39;s impossible to say for sure what the problem is. However, most likely the issue is that the code you posted is running in the UI thread, preventing UI updates from being shown when you comment out the lines. When you use <code>MessageBox</code>, it runs an event-pumping loop and allows the update messages to get to the window, which in turn allows the text box to be redrawn. You should learn about asynchronous I/O and use that to deal with the network connection, and leave the UI thread to handle UI."}, {"owner": {"reputation": 9, "user_id": 8908952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98476f8f8d3476b35a92dbf274d4e574?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Vacca", "link": "https://stackoverflow.com/users/8908952/davide-vacca"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1510219013, "post_id": 47187488, "comment_id": 81344469, "body": "@Peter... I guess you&#39;re right, infact I start listening once pressed a &#39;start listening button&#39;, using the code I posted in its event handler; once connected. Anyway is there a way to use syncronous TCP(UDP) sockets in UI application ? Thanks for answering me. Davide"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1510219415, "post_id": 47187488, "comment_id": 81344721, "body": "<i>&quot;is there a way to use syncronous TCP(UDP) sockets in UI application&quot;</i> -- yes, but not any way worth learning. The two main mechanisms you might use are to 1) put the socket I/O in a dedicated thread, other than the UI thread, or 2) use polling on the socket in the UI thread. The latter is a particularly bad choice; the dedicated thread is fine for low-bandwidth, low-connection-count, but since you have to learn <i>something</i> new regardless, you might as well just focus on asynchronous. FWIW, you might find <a href=\"https://stackoverflow.com/a/44942011\">an answer I wrote</a> earlier this year helpful."}, {"owner": {"reputation": 9, "user_id": 8908952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98476f8f8d3476b35a92dbf274d4e574?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Vacca", "link": "https://stackoverflow.com/users/8908952/davide-vacca"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1510233741, "post_id": 47187488, "comment_id": 81354211, "body": "@Peter, well the bandwith is very low, just few bytes/seconds; at least for my needs. Anyway I will try to asynchronous socket, just in order to have something else to learn. Very helpful, thank you very much"}], "owner": {"reputation": 9, "user_id": 8908952, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98476f8f8d3476b35a92dbf274d4e574?s=128&d=identicon&r=PG&f=1", "display_name": "Davide Vacca", "link": "https://stackoverflow.com/users/8908952/davide-vacca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510167154, "creation_date": 1510167154, "question_id": 47187488, "link": "https://stackoverflow.com/questions/47187488/strange-issue-on-a-syncronous-tcp-ip-socket-in-c", "title": "Strange issue on a syncronous TCP/IP socket in c#", "body": "<p>I am trying to develop a simple sender/listener TCP/IP socket in C#; i.e. once connected, the sender application reads a character string typed in a textbox and sends it to a listener Windows Application throgh a syncronous TCP/IP socket.\nThe listener code is here</p>\n\n<pre><code>receivingExit = true;\nbtnStopReceiving.Enabled  = true;\nbtnStartReceiving.Enabled = false;\nwhile (receivingExit) {\n   byte[] bytes = new byte[1024];\n   MessageBox.Show(\"Waiting !!!\"); //Line to be commented\n   int bytesRec = workingSocket.Receive(bytes);\n   MessageBox.Show(\"Received \"+bytesRec+\" bytes\"); //Line to be commented\n   String data =Encoding.ASCII.GetString(bytes,0,bytesRec);\n   MessageBox.Show(data); //Line to be commented\n   txtDiplay.Text = txtDiplay.Text+data+\"\\r\\n\";\n}\n</code></pre>\n\n<p>If I leave the comments, everything works fine; i.e. in txtDisplay text box I can see the characters string I typed and sent by my sender application.... obviously I see the MessageBox(es) displaying; but once inserted the comments as above, it seems the listener Windows App blocks after get the connection with the sender and anything appears in txtDisplay... the same issue if I use a syncronous UDP/IP socket.\nWith console application instaed, everything works fine.\nWhat the problems, and how could solve them ?\nAdvanced thanks.\nDavide</p>\n"}, {"tags": ["c#", "asp.net-mvc", "unity-container"], "answers": [{"tags": [], "owner": {"reputation": 27293, "user_id": 5740031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Una92.jpg?s=128&g=1", "display_name": "CodeFuller", "link": "https://stackoverflow.com/users/5740031/codefuller"}, "is_accepted": true, "score": 0, "last_activity_date": 1510167451, "creation_date": 1510167451, "answer_id": 47187580, "question_id": 47187470, "link": "https://stackoverflow.com/questions/47187470/fulfilling-iuserstore-dependency-with-unity/47187580#47187580", "title": "Fulfilling IUserStore Dependency with Unity", "body": "<blockquote>\n  <p>What should I put in my UnityConfig to ensure that both the\n  IDealFinderDb and IUserStore dependencies are satisfied and that only\n  a single context is instantiated each my controller is instantiated?</p>\n</blockquote>\n\n<p>You should use per-graph lifetime manager which is called <code>PerResolveLifetimeManager</code> in Unity:</p>\n\n<pre><code>container.RegisterType&lt;IDealFinderDb, DealFinderDb&gt;(new PerResolveLifetimeManager());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 1025593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db82aa699bc9fa316e7cd2651fd0e1e?s=128&d=identicon&r=PG", "display_name": "erzulie", "link": "https://stackoverflow.com/users/1025593/erzulie"}, "edited": false, "score": 0, "creation_date": 1510256902, "post_id": 47188290, "comment_id": 81369897, "body": "I have read several articles about avoiding making a DbContext a singleton, specifically due to memory &amp; lazy loading issues. I suppose lifetime management of DbContext is a pretty complex thing. I think I&#39;d like to avoid making it a singleton at this point but thanks for the link."}], "tags": [], "owner": {"reputation": 314, "user_id": 5066872, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2HnRnHPqFAo/AAAAAAAAAAI/AAAAAAAAAF4/Op4uTjdXkU8/photo.jpg?sz=128", "display_name": "Debashish Saha", "link": "https://stackoverflow.com/users/5066872/debashish-saha"}, "is_accepted": false, "score": 0, "last_activity_date": 1510170283, "last_edit_date": 1510170283, "creation_date": 1510169967, "answer_id": 47188290, "question_id": 47187470, "link": "https://stackoverflow.com/questions/47187470/fulfilling-iuserstore-dependency-with-unity/47188290#47188290", "title": "Fulfilling IUserStore Dependency with Unity", "body": "<p>According to best practice to software design pattern, you should always follow Singleton Pattern while creating database context and logger context and many other things as per business requirement if you feel there is a need for singleton object go for that and while using singleton pattern do take care of thread safety singleton if you are implementing threads.its so easy and for help, you can refer  MSDN, it has an implementation of the singleton.\n<a href=\"https://msdn.microsoft.com/en-us/library/ff647854.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ff647854.aspx</a>\nHope this helps.</p>\n"}], "owner": {"reputation": 191, "user_id": 1025593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0db82aa699bc9fa316e7cd2651fd0e1e?s=128&d=identicon&r=PG", "display_name": "erzulie", "link": "https://stackoverflow.com/users/1025593/erzulie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 47187580, "answer_count": 2, "score": 0, "last_activity_date": 1510170283, "creation_date": 1510167079, "last_edit_date": 1510169506, "question_id": 47187470, "link": "https://stackoverflow.com/questions/47187470/fulfilling-iuserstore-dependency-with-unity", "title": "Fulfilling IUserStore Dependency with Unity", "body": "<p>I'm having some problems with getting unity to provide dependencies for my MVC controllers.</p>\n\n<p>I want my ApplicationUser data and my business data in the same database and I am using code-first migrations with Entity Framework. To that end my DbContext inherits from IdentityDbContext and then implements an interface which represents my business data:</p>\n\n<pre><code>public class DealFinderDb : IdentityDbContext&lt;ApplicationUser&gt;, IDealFinderDb\n{\n    public DealFinderDb() : base(\"name=DealFinderConnectionString\", false)\n    {\n    }\n    public IDbSet&lt;Deal&gt; Deals { get; set; }\n    public IDbSet&lt;Category&gt; Categories { get; set; }\n    public IDbSet&lt;SavedSearch&gt; SavedSearches { get; set; }\n    public static DealFinderDb Create()\n    {\n        return new DealFinderDb();\n    }\n}\n\npublic interface IDealFinderDb : IDisposable\n{\n    IDbSet&lt;Deal&gt; Deals { get; set; }\n    IDbSet&lt;Category&gt; Categories { get; set; }\n    IDbSet&lt;SavedSearch&gt; SavedSearches { get; set; }\n    int SaveChanges();\n    DbEntityEntry&lt;TEntity&gt; Entry&lt;TEntity&gt;(TEntity entity)\n        where TEntity : class;\n}\n</code></pre>\n\n<p>In my controller I need to be able to get the current user which means my controller has a dependency, not only on a IDealFinderDb but also on a UserManager. I understand that the best way to test this is to mock an IUserStore and pass that into the constructor of my controller. I have written the tests that mock both the IUserStore and the controller's HttpContext and these tests work as expected. This means my controller looks like this:</p>\n\n<pre><code>public class SavedSearchesController : Controller\n{\n    private readonly IDealFinderDb dealFinderDb;\n    private readonly UserManager&lt;ApplicationUser&gt; userManager;\n\n    public SavedSearchesController(IDealFinderDb dealFinderDb, IUserStore&lt;ApplicationUser&gt; userStore)\n    {\n        this.dealFinderDb = dealFinderDb;\n        this.userManager = new UserManager&lt;ApplicationUser&gt;(userStore);\n    }\n\n    public ActionResult Index()\n    {\n        var user = this.userManager.FindById(this.User.Identity.GetUserId());\n        var usersSavedSearches = this.dealFinderDb.SavedSearches.Where(s =&gt; s.User.Id == user.Id);\n        return this.View(usersSavedSearches);\n    }\n\n    // Snip unrelated action methods.\n\n    protected override void Dispose(bool disposing)\n    {\n        if (disposing)\n        {\n            this.dealFinderDb.Dispose();\n        }\n        base.Dispose(disposing);\n    }\n}\n</code></pre>\n\n<p>This seems fine but I am using Unity to provide implementations for these interfaces at run-time and this is where I'm stuck. My first attempt at my UnityConfig looks like this:</p>\n\n<pre><code>container.RegisterType&lt;IDealFinderDb, DealFinderDb&gt;();\ncontainer.RegisterType&lt;IUserStore&lt;ApplicationUser&gt;, UserStore&lt;ApplicationUser&gt;&gt;(\n    new InjectionConstructor(typeof(DealFinderDb)));\n</code></pre>\n\n<p>...but the problem with that is I end up with a DbContext being instantiated twice leading to an error of \"System.InvalidOperationException: 'An entity object cannot be referenced by multiple instances of IEntityChangeTracker.'\" when I call <code>Add()</code> on any of my IDBSets in my DbContext I guess this is because unity is instantiating my DbContext twice.</p>\n\n<p>So my next attempt was to ensure that only a single instance of DealFinderDb is created and that looks like this in my UnityConfig:</p>\n\n<pre><code>container.RegisterType&lt;DealFinderDb, DealFinderDb&gt;(new ContainerControlledLifetimeManager());\ncontainer.RegisterType&lt;IDealFinderDb, DealFinderDb&gt;();\ncontainer.RegisterType&lt;IUserStore&lt;ApplicationUser&gt;, UserStore&lt;ApplicationUser&gt;&gt;(\n    new InjectionConstructor(typeof(DealFinderDb)));\n</code></pre>\n\n<p>...but when <code>this.userManager.FindById()</code> is called in my controller I get the error \"System.InvalidOperationException: 'The operation cannot be completed because the DbContext has been disposed.'\". Obviously I could avoiding calling Dispose on my Context but this is bad as I assume means I am actually using the same DBContext instance for the entire life-cycle of my application.</p>\n\n<p>What should I put in my UnityConfig to ensure that both the IDealFinderDb and IUserStore dependencies are satisfied and that only a single context is instantiated each time my controller is instantiated?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "signalr", "signalr.client", "signalr-2"], "answers": [{"tags": [], "owner": {"reputation": 1925, "user_id": 667449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/227033d3a89ac5484dec630bfd94438c?s=128&d=identicon&r=PG", "display_name": "Fabske", "link": "https://stackoverflow.com/users/667449/fabske"}, "is_accepted": true, "score": 0, "last_activity_date": 1510252964, "creation_date": 1510252964, "answer_id": 47209339, "question_id": 47187346, "link": "https://stackoverflow.com/questions/47187346/signalr-doesnt-deserialize-custom-object/47209339#47209339", "title": "SignalR doesn&#39;t deserialize custom object", "body": "<p>This problem is clearly due to a bug in SignalR</p>\n\n<p>The workaround posted in this <a href=\"https://github.com/SignalR/SignalR/issues/3304\" rel=\"nofollow noreferrer\">link</a> works, i.e. register a custom resolver:</p>\n\n<pre><code>private class Resolver : DefaultParameterResolver\n{\n    private readonly JsonSerializer _serializer;\n\n    public Resolver(JsonSerializer serializer)\n    {\n        _serializer = serializer;\n    }\n\n    private FieldInfo _valueField;\n    public override object ResolveParameter(ParameterDescriptor descriptor, Microsoft.AspNet.SignalR.Json.IJsonValue value)\n    {\n        if (value.GetType() == descriptor.ParameterType)\n        {\n            return value;\n        }\n\n        if (_valueField == null)\n            _valueField = value.GetType().GetField(\"_value\", BindingFlags.Instance | BindingFlags.NonPublic);\n\n        var json = (string)_valueField.GetValue(value);\n        using (var reader = new StringReader(json))\n            return _serializer.Deserialize(reader, descriptor.ParameterType);\n    }\n}\n</code></pre>\n\n<p>The discussion on how to resolve this bug is now on <a href=\"https://github.com/SignalR/SignalR/issues/3885\" rel=\"nofollow noreferrer\">this ticket</a>, so you could find there when it'll (hopefully) be resolved</p>\n"}], "owner": {"reputation": 1925, "user_id": 667449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/227033d3a89ac5484dec630bfd94438c?s=128&d=identicon&r=PG", "display_name": "Fabske", "link": "https://stackoverflow.com/users/667449/fabske"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1158, "favorite_count": 0, "accepted_answer_id": 47209339, "answer_count": 1, "score": 0, "last_activity_date": 1510252964, "creation_date": 1510166628, "last_edit_date": 1510250199, "question_id": 47187346, "link": "https://stackoverflow.com/questions/47187346/signalr-doesnt-deserialize-custom-object", "title": "SignalR doesn&#39;t deserialize custom object", "body": "<p>I'm using SignalR 2.2.2 (Latest release) with .NET 4.5.2</p>\n\n<p>I've this error:</p>\n\n<blockquote>\n  <p>Could not create an instance of type\n  DF.ApplicationBlocks.IPropertyValueData. Type is an interface or\n  abstract class and cannot be instantiated. Path 'Properties[0].Id',\n  line 1, position 881.</p>\n</blockquote>\n\n<p>The problem is :</p>\n\n<p>I've a SignalR client (written in .NET, using Signal.Client package) that send a custom object, on this object there is an array of object typed as an interface (IPropertyValueData). The values in the array is an implementation of this interface.</p>\n\n<p>In the signalR client, I've configured to use TypeNameHandling.Auto :</p>\n\n<pre><code>        this._connection.JsonSerializer.TypeNameHandling = TypeNameHandling.Auto;\n        this._connection.JsonSerializer.PreserveReferencesHandling = PreserveReferencesHandling.Objects;\n        this._connection.JsonSerializer.ReferenceLoopHandling = ReferenceLoopHandling.Serialize;\n</code></pre>\n\n<p>and it does it correctly, as here is an extract of what's sent by the client:</p>\n\n<pre><code>\"Properties\":[  \n    {  \n       \"$id\":\"20\",\n       \"$type\":\"DF.MailFlow.Services.Contract.Data.MailDataProperty, DF.MailFlow.Services.Contract\",\n       \"Id\":\"5588ce9e-30fb-45b1-afbe-1e6ad0c3e8d4\",\n</code></pre>\n\n<p>So the $type property is defined and the value is correct.\nBut anyway, the server still trigger the error when the message is received.</p>\n\n<p>I've also configured the server to use TypeNameHandling.Auto, here is how the hub is configured (I use Castle Windsor as IoC):</p>\n\n<pre><code>        var resolver = new WindsorDependencyResolver(WebAPILoader.Container);\n\n        var hubConfig = new HubConfiguration()\n        {\n            EnableJSONP = true,\n            EnableDetailedErrors = true,\n            EnableJavaScriptProxies = true,\n            Resolver = resolver\n        };\n\n\n        GlobalHost.DependencyResolver = resolver;\n\n        // Configure signalR and run it\n        app.UseCors(CorsOptions.AllowAll);\n        app.Map(\"/live\", map =&gt;\n        {\n            map.UseCors(CorsOptions.AllowAll);\n            map.RunSignalR(hubConfig);\n        });\n\n        var serializerSettings = new JsonSerializerSettings\n        {\n            TypeNameHandling = TypeNameHandling.Auto,\n            PreserveReferencesHandling = PreserveReferencesHandling.Objects,\n            ReferenceLoopHandling = ReferenceLoopHandling.Serialize\n        };\n        GlobalConfiguration.Configuration.Formatters.JsonFormatter.SerializerSettings = serializerSettings;\n        GlobalConfiguration.Configuration.Formatters.JsonFormatter.UseDataContractJsonSerializer = false;\n\n        // Register in Castle.Windsor container\n        WebAPILoader.Container.Register(Castle.MicroKernel.Registration.Component\n                              .For&lt;JsonSerializer&gt;()\n                              .UsingFactoryMethod(() =&gt; JsonSerializer.Create(serializerSettings)));\n</code></pre>\n\n<p>I've checked that when the 1st message is received, the the factory method is called and the setting still have the correct TypeNameHandling.Auto.</p>\n\n<p>I also tested to register the serializer this way:</p>\n\n<pre><code>GlobalHost.DependencyResolver.Register(typeof(JsonSerializer), () =&gt; JsonSerializer.Create(serializerSettings));\n</code></pre>\n\n<p>But no way, the server always trigger the same error when the message is received.</p>\n\n<p>Adding to the complexity, the application run both signalr and webapi component (in differnt url). I've checked that the webapi doesn't register any JsonSerializer, and Windsor container used is the same for both component.</p>\n\n<p>Any idea ?</p>\n\n<p><strong>Edit #1:</strong></p>\n\n<p>I just ran on this ticket <a href=\"https://github.com/SignalR/SignalR/issues/3304\" rel=\"nofollow noreferrer\">https://github.com/SignalR/SignalR/issues/3304</a><br>\nSeems just incredible that a bug is listed there without any fix for more than 3 years, even when someone made a PR (<a href=\"https://github.com/SignalR/SignalR/pull/3343\" rel=\"nofollow noreferrer\">https://github.com/SignalR/SignalR/pull/3343</a>)<br>\nSo now I'm trying to find a workaround...</p>\n"}, {"tags": ["c#", "ios", "uialertcontroller", "uitextborderstyle"], "comments": [{"owner": {"reputation": 1503, "user_id": 7668778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZMDDJcTz31c/AAAAAAAAAAI/AAAAAAAAAHA/xRtDlUrzYts/photo.jpg?sz=128", "display_name": "alegelos", "link": "https://stackoverflow.com/users/7668778/alegelos"}, "edited": false, "score": 0, "creation_date": 1510167215, "post_id": 47187303, "comment_id": 81324131, "body": "I am against &quot;-1&quot; without a comment. +1"}, {"owner": {"reputation": 1503, "user_id": 7668778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZMDDJcTz31c/AAAAAAAAAAI/AAAAAAAAAHA/xRtDlUrzYts/photo.jpg?sz=128", "display_name": "alegelos", "link": "https://stackoverflow.com/users/7668778/alegelos"}, "edited": false, "score": 0, "creation_date": 1510233200, "post_id": 47187303, "comment_id": 81353829, "body": "Did u solve the problem?"}, {"owner": {"reputation": 21, "user_id": 5468301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a0Q0F.jpg?s=128&g=1", "display_name": "Roy RW", "link": "https://stackoverflow.com/users/5468301/roy-rw"}, "reply_to_user": {"reputation": 1503, "user_id": 7668778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZMDDJcTz31c/AAAAAAAAAAI/AAAAAAAAAHA/xRtDlUrzYts/photo.jpg?sz=128", "display_name": "alegelos", "link": "https://stackoverflow.com/users/7668778/alegelos"}, "edited": false, "score": 0, "creation_date": 1510250960, "post_id": 47187303, "comment_id": 81366568, "body": "Not yet, i tried the same code you post, and didn&#39;t work i don&#39;t understand why isn&#39;t working so the borders keep appearing"}], "answers": [{"tags": [], "owner": {"reputation": 1503, "user_id": 7668778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZMDDJcTz31c/AAAAAAAAAAI/AAAAAAAAAHA/xRtDlUrzYts/photo.jpg?sz=128", "display_name": "alegelos", "link": "https://stackoverflow.com/users/7668778/alegelos"}, "is_accepted": false, "score": 0, "last_activity_date": 1510167164, "creation_date": 1510167164, "answer_id": 47187491, "question_id": 47187303, "link": "https://stackoverflow.com/questions/47187303/uialertcontroller-textfield-borderstyle-ios/47187491#47187491", "title": "UIAlertController TextField BorderStyle, IOS", "body": "<p>On the part that u add the textfield, u can set its properties.</p>\n\n<pre><code>alert.addTextField { (textField) in\n      textField.placeholder     = \"Bla sheep\"\n      textField.borderStyle     = .none   //remove borders\n      textField.backgroundColor = .clear  //transparent background\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5468301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a0Q0F.jpg?s=128&g=1", "display_name": "Roy RW", "link": "https://stackoverflow.com/users/5468301/roy-rw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 177, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548085516, "creation_date": 1510166489, "last_edit_date": 1548085516, "question_id": 47187303, "link": "https://stackoverflow.com/questions/47187303/uialertcontroller-textfield-borderstyle-ios", "title": "UIAlertController TextField BorderStyle, IOS", "body": "<p>i created a UIAlertController and within the AlertController i added a UITextfield, and i want it without any kind of borders around. \nThere is an image below with the borders, and i would like to delete that square border. </p>\n\n<p><img src=\"https://i.stack.imgur.com/3vKqn.png\" alt=\"\"></p>\n\n<p>I would like to end up with a non-border TextField, and the only thing you could see is the text you are typing. Something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/5eLce.png\" alt=\"\"></p>\n"}, {"tags": ["c#", "windows", "winapi", "touch", "virtual-keyboard"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1510167265, "post_id": 47187216, "comment_id": 81324175, "body": "Does opening it hurt if it&#39;s already open?"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 3, "creation_date": 1510171402, "post_id": 47187216, "comment_id": 81326609, "body": "Maybe <code>GetKeyboardWindowHandle</code> is failing. We don&#39;t know what it is. Also, your definition for <code>WS_VISIBLE</code> isn&#39;t quite what it should be (see <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms632600.aspx\" rel=\"nofollow noreferrer\">window styles</a>)."}, {"owner": {"reputation": 4863, "user_id": 332528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc1cf00b47308ea716fb26c46cde8cf?s=128&d=identicon&r=PG", "display_name": "torvin", "link": "https://stackoverflow.com/users/332528/torvin"}, "edited": false, "score": 1, "creation_date": 1510185274, "post_id": 47187216, "comment_id": 81332766, "body": "Yeah, it&#39;s definitely your <code>WS_VISIBLE</code> that is wrong. Yours is actually <code>WS_POPUP | WS_VISIBLE | WS_CLIPSIBLINGS</code>, but in 15063 the keyboard window doesn&#39;t have <code>WS_POPUP</code> anymore. Anyway, you should only test for <code>WS_VISIBLE</code> which is <code>0x10000000</code>"}, {"owner": {"reputation": 2086, "user_id": 323900, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7a97d0acd8f781c1b412c79a11e8077?s=128&d=identicon&r=PG", "display_name": "mikesl", "link": "https://stackoverflow.com/users/323900/mikesl"}, "edited": false, "score": 0, "creation_date": 1510260932, "post_id": 47187216, "comment_id": 81372146, "body": "Good call. I changed code to above but Win 10 is returning <code>0x84000000</code> which is not visible even after I open the keyboard and I see the keyboard on the screen."}, {"owner": {"reputation": 4863, "user_id": 332528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc1cf00b47308ea716fb26c46cde8cf?s=128&d=identicon&r=PG", "display_name": "torvin", "link": "https://stackoverflow.com/users/332528/torvin"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1511239018, "post_id": 47187216, "comment_id": 81764046, "body": "@JonathanPotter there is no reliable way to &quot;just open&quot; it. Only toggling works. See <a href=\"https://stackoverflow.com/a/40921638/332528\">stackoverflow.com/a/40921638/332528</a>"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 262124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36a99ff92bb9d4d714e476cbfee8c9d?s=128&d=identicon&r=PG", "display_name": "Tom&#225;\u0161 Holan", "link": "https://stackoverflow.com/users/262124/tom%c3%a1%c5%a1-holan"}, "edited": false, "score": 0, "creation_date": 1511273224, "post_id": 47405060, "comment_id": 81783611, "body": "Excellent, Great. This is only solution that works on Windows 10 1709. Thanks."}], "tags": [], "owner": {"reputation": 4863, "user_id": 332528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc1cf00b47308ea716fb26c46cde8cf?s=128&d=identicon&r=PG", "display_name": "torvin", "link": "https://stackoverflow.com/users/332528/torvin"}, "is_accepted": true, "score": 5, "last_activity_date": 1523576090, "last_edit_date": 1523576090, "creation_date": 1511237634, "answer_id": 47405060, "question_id": 47187216, "link": "https://stackoverflow.com/questions/47187216/determine-if-windows-10-touch-keyboard-is-visible-or-hidden/47405060#47405060", "title": "Determine if Windows 10 Touch Keyboard is Visible or Hidden", "body": "<p>I've done some research with <a href=\"https://docs.microsoft.com/en-us/visualstudio/debugger/introducing-spy-increment\" rel=\"nofollow noreferrer\">Spy++ </a>. Looks like the new keyboard in Fall Creators Update (ver. 1709) is hosted by another window. This window has <code>Windows.UI.Core.CoreWindow</code> class and <code>Microsoft Text Input Application</code> as its title. </p>\n\n<p>The following code works for all Windows 10 versions including the new 1803 and older Windows versions as well (starting with Windows 8, I believe).</p>\n\n<pre><code>static class TouchKeyboard\n{\n    public static bool GetIsOpen()\n    {\n        return GetIsOpen1709() ?? GetIsOpenLegacy();\n    }\n\n    private static bool? GetIsOpen1709()\n    {\n        var parent = IntPtr.Zero;\n        for (;;)\n        {\n            parent = FindWindowEx(IntPtr.Zero, parent, WindowParentClass1709);\n            if (parent == IntPtr.Zero)\n                return null; // no more windows, keyboard state is unknown\n\n            // if it's a child of a WindowParentClass1709 window - the keyboard is open\n            var wnd = FindWindowEx(parent, IntPtr.Zero, WindowClass1709, WindowCaption1709);\n            if (wnd != IntPtr.Zero)\n                return true;\n        }\n    }\n\n    private static bool GetIsOpenLegacy()\n    {\n        var wnd = FindWindowEx(IntPtr.Zero, IntPtr.Zero, WindowClass);\n        if (wnd == IntPtr.Zero)\n            return false;\n\n        var style = GetWindowStyle(wnd);\n        return style.HasFlag(WindowStyle.Visible)\n            &amp;&amp; !style.HasFlag(WindowStyle.Disabled);\n    }\n\n    private const string WindowClass = \"IPTip_Main_Window\";\n    private const string WindowParentClass1709 = \"ApplicationFrameWindow\";\n    private const string WindowClass1709 = \"Windows.UI.Core.CoreWindow\";\n    private const string WindowCaption1709 = \"Microsoft Text Input Application\";\n\n    private enum WindowStyle : uint\n    {\n        Disabled = 0x08000000,\n        Visible = 0x10000000,\n    }\n\n    private static WindowStyle GetWindowStyle(IntPtr wnd)\n    {\n        return (WindowStyle)GetWindowLong(wnd, -16);\n    }\n\n    [DllImport(\"user32.dll\", SetLastError = false)]\n    private static extern IntPtr FindWindowEx(IntPtr parent, IntPtr after, string className, string title = null);\n\n    [DllImport(\"user32.dll\", SetLastError = false)]\n    private static extern uint GetWindowLong(IntPtr wnd, int index);\n}\n</code></pre>\n\n<p><strong>Update:</strong> I updated the answer and the code to be compatible with Redstone 4 (v1803) as well.</p>\n"}, {"comments": [{"owner": {"reputation": 750, "user_id": 289518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78de8cfe807ebc8629455f7d672a2e8b?s=128&d=identicon&r=PG", "display_name": "HolaJan", "link": "https://stackoverflow.com/users/289518/holajan"}, "edited": false, "score": 0, "creation_date": 1526561124, "post_id": 47502687, "comment_id": 87799183, "body": "Great. This work for Windows 10 1709 and for Windows 10 1803 too."}], "tags": [], "owner": {"reputation": 4863, "user_id": 332528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9bc1cf00b47308ea716fb26c46cde8cf?s=128&d=identicon&r=PG", "display_name": "torvin", "link": "https://stackoverflow.com/users/332528/torvin"}, "is_accepted": false, "score": 1, "last_activity_date": 1511744701, "creation_date": 1511744701, "answer_id": 47502687, "question_id": 47187216, "link": "https://stackoverflow.com/questions/47187216/determine-if-windows-10-touch-keyboard-is-visible-or-hidden/47502687#47502687", "title": "Determine if Windows 10 Touch Keyboard is Visible or Hidden", "body": "<p>I discovered yet another undocumented COM API that returns the position of the touch keyboard. It returns the bounds of the keyboard window or zeroes if the keyboard is hidden. I tested it in <code>Windows 8.1</code>, <code>Windows 10</code> and <code>Windows 10 Fall Creators Update</code> and it works fine. </p>\n\n<p>Now some bad news: in all versions prior to <code>Fall Creators Update</code> it only reports accurate results if the active window and the touch keyboard are located on the same monitor. If this is not the case - the API just returns the previous cached value. I'm guessing it has something to do with the fact that this API was meant to be used to calculate occlusion of the touch keyboard and your app's window. (It's called inside <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.viewmanagement.inputpane#Windows_UI_ViewManagement_InputPane_OccludedRect\" rel=\"nofollow noreferrer\"><code>Windows::UI::ViewManagement::InputPane.get_OccludedRect()</code></a> UWP API).</p>\n\n<p>So if you don't care about supporting older versions or multi-monitor scenarios - use it. Otherwise I would suggest checking the Windows version and falling back to the previous method (<a href=\"https://stackoverflow.com/a/47405060/332528\"><code>GetIsOpenLegacy()</code></a> from my other answer).</p>\n\n<p>The API:</p>\n\n<pre><code>[ComImport, Guid(\"228826af-02e1-4226-a9e0-99a855e455a6\")]\nclass ImmersiveShellBroker\n{\n}\n\n[ComImport, Guid(\"9767060c-9476-42e2-8f7b-2f10fd13765c\")]\n[InterfaceType(ComInterfaceType.InterfaceIsIUnknown)]\ninterface IImmersiveShellBroker\n{\n    void Dummy();\n    IInputHostManagerBroker GetInputHostManagerBroker();\n}\n\n[ComImport, Guid(\"2166ee67-71df-4476-8394-0ced2ed05274\")]\n[InterfaceType(ComInterfaceType.InterfaceIsIUnknown)]\ninterface IInputHostManagerBroker\n{\n    void GetIhmLocation(out Rect rect, out DisplayMode mode);\n}\n\n[StructLayout(LayoutKind.Sequential)]\nstruct Rect\n{\n    public int Left, Top, Right, Bottom;\n}\n\nenum DisplayMode\n{\n    NotSupported = 0,\n    Floating = 2,\n    Docked = 3,\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>// do this once:\nvar brokerClass = new ImmersiveShellBroker();\nvar broker = (IImmersiveShellBroker)brokerClass;\nvar ihm = broker.GetInputHostManagerBroker();\nMarshal.ReleaseComObject(broker);\n\n// now ihm reference can be cached and used later:\nRect rect;\nDisplayMode mode;\nihm.GetIhmLocation(out rect, out mode);\n</code></pre>\n\n<p>Note: looks like <code>GetIhmLocation()</code> always returns <code>DisplayMode.NotSupported</code> instead of the actual <code>mode</code> prior to Windows 10.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 5887913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc9fc3bff3b1f661442d4da86e627f59?s=128&d=identicon&r=PG&f=1", "display_name": "Andrea S.", "link": "https://stackoverflow.com/users/5887913/andrea-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1554388869, "last_edit_date": 1554388869, "creation_date": 1554373290, "answer_id": 55513524, "question_id": 47187216, "link": "https://stackoverflow.com/questions/47187216/determine-if-windows-10-touch-keyboard-is-visible-or-hidden/55513524#55513524", "title": "Determine if Windows 10 Touch Keyboard is Visible or Hidden", "body": "<p>I'm using this solution, and it is working on Windows 1607, 1709 and 1803 (check the Main method below on the code): </p>\n\n<pre><code>using System;\nusing System.Drawing;\nusing System.Runtime.InteropServices;\n\nnamespace ConsoleApp1\n{\n    class Program\n    {\n\n        [ComImport, Guid(\"D5120AA3-46BA-44C5-822D-CA8092C1FC72\")]\n        public class FrameworkInputPane\n        {\n        }\n\n        [ComImport, System.Security.SuppressUnmanagedCodeSecurity,\n        InterfaceType(ComInterfaceType.InterfaceIsIUnknown),\n        Guid(\"5752238B-24F0-495A-82F1-2FD593056796\")]\n        public interface IFrameworkInputPane\n        {\n            [PreserveSig]\n            int Advise(\n                [MarshalAs(UnmanagedType.IUnknown)] object pWindow,\n                [MarshalAs(UnmanagedType.IUnknown)] object pHandler,\n                out int pdwCookie\n                );\n\n            [PreserveSig]\n            int AdviseWithHWND(\n                IntPtr hwnd,\n                [MarshalAs(UnmanagedType.IUnknown)] object pHandler,\n                out int pdwCookie\n                );\n\n            [PreserveSig]\n            int Unadvise(\n                int pdwCookie\n                );\n\n            [PreserveSig]\n            int Location(\n                out Rectangle prcInputPaneScreenLocation\n                );\n        }\n\n\n        static void Main(string[] args)\n        {\n            var inputPane = (IFrameworkInputPane)new FrameworkInputPane();\n            inputPane.Location(out var rect);\n            Console.WriteLine((rect.Width == 0 &amp;&amp; rect.Height == 0) ? \"Keyboard not visible\" : \"Keyboard visible\");\n        }\n    }\n}\n</code></pre>\n\n<p>It uses the <em>IFrameworkInputPane</em> interface (<a href=\"https://docs.microsoft.com/en-us/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iframeworkinputpane\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iframeworkinputpane</a>)</p>\n"}], "owner": {"reputation": 2086, "user_id": 323900, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c7a97d0acd8f781c1b412c79a11e8077?s=128&d=identicon&r=PG", "display_name": "mikesl", "link": "https://stackoverflow.com/users/323900/mikesl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3649, "favorite_count": 2, "accepted_answer_id": 47405060, "answer_count": 3, "score": 4, "last_activity_date": 1554388869, "creation_date": 1510166187, "last_edit_date": 1511245687, "question_id": 47187216, "link": "https://stackoverflow.com/questions/47187216/determine-if-windows-10-touch-keyboard-is-visible-or-hidden", "title": "Determine if Windows 10 Touch Keyboard is Visible or Hidden", "body": "<p>I am trying to find out if the windows 10 virtual touch keyboard is visible or not to know whether to open it or not from my application. THe following code has worked fine up until the latest Windows 10 update 15063 or possible the one right before it. Seems like Microsoft changed something with the window styles possibly but I can't figure it out.</p>\n\n<pre><code>    public static bool IsKeyboardVisible()\n    {\n        IntPtr keyboardHandle = GetKeyboardWindowHandle();\n        // Specifies we wish to retrieve window styles.\n        int GWL_STYLE = -16;\n\n        //The window is disabled. See http://msdn.microsoft.com/en-gb/library/windows/desktop/ms632600(v=vs.85).aspx.\n        UInt32 WS_VISIBLE =               0x10000000;\n        UInt32 WS_DISABLED =              0x08000000;\n        UInt32 WS_POPUP =                 0x80000000;\n\n\n        bool visible = false;\n        bool disabled = false;\n\n        if (keyboardHandle != IntPtr.Zero)\n        {\n            UInt32 style = GetWindowLong(keyboardHandle, GWL_STYLE);\n            visible = ((style &amp; WS_VISIBLE) == WS_VISIBLE);\n            disabled = ((style &amp; WS_DISABLED) == WS_DISABLED); // ref https://stackoverflow.com/questions/11065026/get-window-state-of-another-process\n            log.InfoFormat(\"style:{0:X4} visible:{1} disabled:{2}\", style, visible, disabled);\n        }\n\n        return visible &amp;&amp; !disabled ;\n    }\n</code></pre>\n\n<p>This is related to: <a href=\"https://stackoverflow.com/questions/38774139/show-touch-keyboard-tabtip-exe-in-windows-10-anniversary-edition\">Show touch keyboard (TabTip.exe) in Windows 10 Anniversary edition</a></p>\n"}, {"tags": ["c#", "swagger", "swashbuckle", ".net-core-2.0"], "comments": [{"owner": {"reputation": 9920, "user_id": 7599833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ae2f4b27f5f727270818eba261aa0b?s=128&d=identicon&r=PG", "display_name": "Helder Sepulveda", "link": "https://stackoverflow.com/users/7599833/helder-sepulveda"}, "edited": false, "score": 1, "creation_date": 1510184543, "post_id": 47187189, "comment_id": 81332577, "body": "If it as clear cut as you mention, there is nothing anyone can do... Report the bug on the project page"}, {"owner": {"reputation": 189, "user_id": 4380155, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d807912a2e1caa459162fc97d3cd1e99?s=128&d=identicon&r=PG", "display_name": "Jaydeep", "link": "https://stackoverflow.com/users/4380155/jaydeep"}, "reply_to_user": {"reputation": 9920, "user_id": 7599833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ae2f4b27f5f727270818eba261aa0b?s=128&d=identicon&r=PG", "display_name": "Helder Sepulveda", "link": "https://stackoverflow.com/users/7599833/helder-sepulveda"}, "edited": false, "score": 0, "creation_date": 1510860605, "post_id": 47187189, "comment_id": 81627337, "body": "Yes I have reported there but just wanted to make sure if that kind of issue exist or not or am I the only person who is facing that issue. I know I can raise issue there but stackoverflow has large audience and they would also love to reply/understand the issue."}, {"owner": {"reputation": 9920, "user_id": 7599833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ae2f4b27f5f727270818eba261aa0b?s=128&d=identicon&r=PG", "display_name": "Helder Sepulveda", "link": "https://stackoverflow.com/users/7599833/helder-sepulveda"}, "edited": false, "score": 0, "creation_date": 1510864841, "post_id": 47187189, "comment_id": 81629521, "body": "Looking at the amount of responses people don&#39;t care much about this issue... I will try my best to help you... Can you take a look at the Swagger doc, there should be your description there, can you post that section of your doc?"}, {"owner": {"reputation": 189, "user_id": 4380155, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d807912a2e1caa459162fc97d3cd1e99?s=128&d=identicon&r=PG", "display_name": "Jaydeep", "link": "https://stackoverflow.com/users/4380155/jaydeep"}, "reply_to_user": {"reputation": 9920, "user_id": 7599833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ae2f4b27f5f727270818eba261aa0b?s=128&d=identicon&r=PG", "display_name": "Helder Sepulveda", "link": "https://stackoverflow.com/users/7599833/helder-sepulveda"}, "edited": false, "score": 0, "creation_date": 1510875043, "post_id": 47187189, "comment_id": 81634064, "body": "Thank you! Do you want me to post the screenshot of my swagger page?"}, {"owner": {"reputation": 9920, "user_id": 7599833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ae2f4b27f5f727270818eba261aa0b?s=128&d=identicon&r=PG", "display_name": "Helder Sepulveda", "link": "https://stackoverflow.com/users/7599833/helder-sepulveda"}, "edited": false, "score": 0, "creation_date": 1510930064, "post_id": 47187189, "comment_id": 81658689, "body": "Just paste the JSON section that shows the description in question"}, {"owner": {"reputation": 9920, "user_id": 7599833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ae2f4b27f5f727270818eba261aa0b?s=128&d=identicon&r=PG", "display_name": "Helder Sepulveda", "link": "https://stackoverflow.com/users/7599833/helder-sepulveda"}, "edited": false, "score": 0, "creation_date": 1510930368, "post_id": 47187189, "comment_id": 81658911, "body": "Or post a link to the swagger doc if is publicly accessible, here is mine: <a href=\"http://swashbuckletest.azurewebsites.net/swagger/docs/V1\" rel=\"nofollow noreferrer\">swashbuckletest.azurewebsites.net/swagger/docs/V1</a>"}], "owner": {"reputation": 189, "user_id": 4380155, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d807912a2e1caa459162fc97d3cd1e99?s=128&d=identicon&r=PG", "display_name": "Jaydeep", "link": "https://stackoverflow.com/users/4380155/jaydeep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510166077, "creation_date": 1510166077, "question_id": 47187189, "link": "https://stackoverflow.com/questions/47187189/swaggerresponse-isnt-working-with-p-tag-in-net-core-2", "title": "SwaggerResponse isn&#39;t working with &lt;p&gt; tag in .Net Core 2", "body": "<p>I am migrating my swagger web api page from .net framework to .net core 2. In the older page, I was using SwaggerResponse with error code and as I had same status code for two errors, I was using</p>\n\n<p>tag hence description of error will be displayed in two lines.\nIn .net core 2, it's printing</p>\n\n<p>as it is and not able to parse it properly. This seems to be issue with NuGet package Swashbuckle.AspNetCore.SwaggerGen.</p>\n\n<pre><code>[SwaggerResponse(400, typeof(string), \"&lt;p&gt;\" + WebApiErrorMessages.EmptyQueryText\n                                          + \"&lt;/p&gt;&lt;p&gt;\" + WebApiErrorMessages.InvalidQuerySyntax\n                                          + \"&lt;/p&gt;\")]\n</code></pre>\n"}, {"tags": ["c#", "cefsharp", ".net-4.6"], "comments": [{"owner": {"reputation": 5915, "user_id": 1271037, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uiecW.png?s=128&g=1", "display_name": "dovid", "link": "https://stackoverflow.com/users/1271037/dovid"}, "edited": false, "score": 0, "creation_date": 1510166708, "post_id": 47187131, "comment_id": 81323848, "body": "<a href=\"https://github.com/cefsharp/CefSharp/issues/1956\" rel=\"nofollow noreferrer\">github.com/cefsharp/CefSharp/issues/1956</a>"}, {"owner": {"reputation": 1, "user_id": 8908552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9847DfuMLuo/AAAAAAAAAAI/AAAAAAAARNY/gwY1_6xncD4/photo.jpg?sz=128", "display_name": "Sadaf Arezoomand", "link": "https://stackoverflow.com/users/8908552/sadaf-arezoomand"}, "reply_to_user": {"reputation": 5915, "user_id": 1271037, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uiecW.png?s=128&g=1", "display_name": "dovid", "link": "https://stackoverflow.com/users/1271037/dovid"}, "edited": false, "score": 0, "creation_date": 1510600932, "post_id": 47187131, "comment_id": 81494755, "body": "Unfortunately, I couldn&#39;t find any solutions to the blank browser problem in this link."}], "owner": {"reputation": 1, "user_id": 8908552, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9847DfuMLuo/AAAAAAAAAAI/AAAAAAAARNY/gwY1_6xncD4/photo.jpg?sz=128", "display_name": "Sadaf Arezoomand", "link": "https://stackoverflow.com/users/8908552/sadaf-arezoomand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510165810, "creation_date": 1510165810, "question_id": 47187131, "link": "https://stackoverflow.com/questions/47187131/upgarding-cefsharp-from-49-0-1-to-57-0-0", "title": "Upgarding CefSharp from 49.0.1 to 57.0.0", "body": "<p>The chromium browser was working perfectly in CefSharp 49.0.1 and .NET 4.5. As we moved to .NET 4.6.1 I decided to upgrade CefSharp. I tried v55.0.0 and v57.0.0. But nothing is shown in the browser... What is missing here?</p>\n\n<pre><code>&lt;Grid&gt;\n        &lt;cefSharp:ChromiumWebBrowser Address=\"{Binding Url}\" /&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>I set url to \"www.google.com\" in the ViewModel but the browser is blank.\nAlso when I close the window I see these lines in the output window:</p>\n\n<pre><code>Exception thrown: 'System.OperationCanceledException' in mscorlib.dll\nException thrown: 'System.OperationCanceledException' in mscorlib.dll\nException thrown: 'System.OperationCanceledException' in System.dll\n</code></pre>\n"}, {"tags": ["c#", "wpf", "gridsplitter", "gridlength"], "answers": [{"comments": [{"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1510167011, "post_id": 47187402, "comment_id": 81324026, "body": "In other words, that value alone is not enough.  I would have to capture and restore both panels&#39; widths to get this right."}, {"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 1, "creation_date": 1510167299, "post_id": 47187402, "comment_id": 81324207, "body": "@DonBoitnott Either that, or give up the proportional sizing and have the left (or right) column be sized by units, and make the other one <code>*</code>."}], "tags": [], "owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "is_accepted": true, "score": 3, "last_activity_date": 1510176288, "last_edit_date": 1592644375, "creation_date": 1510166816, "answer_id": 47187402, "question_id": 47187057, "link": "https://stackoverflow.com/questions/47187057/why-does-this-data-binding-not-change-the-gridunittype/47187402#47187402", "title": "Why does this data binding not change the GridUnitType?", "body": "<pre><code>&lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=&quot;{Binding GridPanelWidth, Mode=TwoWay}&quot; /&gt;\n        &lt;ColumnDefinition Width=&quot;4&quot; /&gt;\n        &lt;!--splitter itself is in this column--&gt;\n        &lt;ColumnDefinition x:Name=&quot;RightColumn&quot; Width=&quot;2*&quot; /&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=&quot;*&quot; /&gt;\n        &lt;RowDefinition Height=&quot;Auto&quot; /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n\n    &lt;Border\n        BorderBrush=&quot;Gray&quot;\n        BorderThickness=&quot;1&quot;\n        Grid.Column=&quot;0&quot;\n        Grid.Row=&quot;0&quot;\n        /&gt;\n\n    &lt;GridSplitter\n        Background=&quot;SteelBlue&quot;\n        ResizeBehavior=&quot;PreviousAndNext&quot;\n        ResizeDirection=&quot;Columns&quot;\n        VerticalAlignment=&quot;Stretch&quot;\n        HorizontalAlignment=&quot;Stretch&quot;\n        ShowsPreview=&quot;False&quot;\n        Grid.Column=&quot;1&quot;\n        Grid.Row=&quot;0&quot;\n        /&gt;\n\n    &lt;Border\n        BorderBrush=&quot;Gray&quot;\n        BorderThickness=&quot;1&quot;\n        Grid.Column=&quot;2&quot;\n        Grid.Row=&quot;0&quot;\n        /&gt;\n\n    &lt;StackPanel\n        Grid.Row=&quot;1&quot;\n        Grid.ColumnSpan=&quot;3&quot;\n        Grid.Column=&quot;0&quot;\n        &gt;\n        &lt;TextBlock&gt;\n            &lt;Run&gt;GridPanelWidth: &lt;/Run&gt;\n            &lt;Run Text=&quot;{Binding GridPanelWidth.Value, Mode=OneWay}&quot; /&gt;\n            &lt;Run Text=&quot;{Binding GridPanelWidth.GridUnitType, Mode=OneWay}&quot; /&gt;\n        &lt;/TextBlock&gt;\n        &lt;TextBlock&gt;\n            &lt;Run&gt;RightColumn.Width: &lt;/Run&gt;\n            &lt;Run Text=&quot;{Binding Width.Value, ElementName=RightColumn, Mode=OneWay}&quot; /&gt;\n            &lt;Run Text=&quot;{Binding Width.GridUnitType, ElementName=RightColumn, Mode=OneWay}&quot; /&gt;\n        &lt;/TextBlock&gt;\n    &lt;/StackPanel&gt;\n&lt;/Grid&gt;\n</code></pre>\n<p>Screenshot 1:</p>\n<p><a href=\"https://i.stack.imgur.com/TxlhE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TxlhE.png\" alt=\"enter image description here\" /></a></p>\n<p>Screenshot 2:</p>\n<p><a href=\"https://i.stack.imgur.com/2W4k8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2W4k8.png\" alt=\"enter image description here\" /></a></p>\n<p>Screenshot 3:</p>\n<p><a href=\"https://i.stack.imgur.com/COqX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/COqX2.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Res ipsa loquitor</em>, as far as I'm concerned, but just to be on the safe side:</p>\n<p>Because the parent may be resized, the grid splitter changes the ratio between the two columns, while preserving the <code>GridUnitType.Star</code> for each one so that when the parent is resized, the ratio will naturally remain constant. This preserves the intent of the initial Width values in the XAML.</p>\n<p><code>Width.Value</code> for the left column turns out to be identical to the left Border's <code>ActualWidth</code>, and the same holds true for the right column. You'll have to grab both and save the ratio.</p>\n<h2>Update</h2>\n<p>I find <code>Grid</code>/<code>GridSplitter</code> a bit overengineered for everyday use when all I want is Yet Another Navigation Pane, so I recently wrote a <code>SplitterControl</code> that has two content properties and sets up the grid and splitter, with styling, in the template. I hadn't gotten around to making the split ratio persistent, so I did that just now.</p>\n<p>What I did was rather painful because the control is configurable, and the code isn't all that great, but I can share if you're interested.</p>\n<p>The business end is simple:</p>\n<p>When a column resizes, set a flag to block recursion and</p>\n<pre><code>PaneRatio = _PART_ContentColumn.Width.Value / _PART_NavColumn.Width.Value;\n</code></pre>\n<p>When <code>PaneRatio</code> changes, if it wasn't set by the column size change handler</p>\n<pre><code>_PART_NavColumn.Width = new GridLength(1, GridUnitType.Star);\n_PART_ContentColumn.Width = new GridLength(PaneRatio, GridUnitType.Star);\n</code></pre>\n<p>In practice, the navigator/content columns can be swapped, or they can be rows instead. Both of those are done by switching templates on a <code>HeaderedContentControl</code> that's a child of the split control template.</p>\n"}], "owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 47187402, "answer_count": 1, "score": 1, "last_activity_date": 1510176288, "creation_date": 1510165527, "question_id": 47187057, "link": "https://stackoverflow.com/questions/47187057/why-does-this-data-binding-not-change-the-gridunittype", "title": "Why does this data binding not change the GridUnitType?", "body": "<p>My goal is to save a <code>GridSplitter</code> position for later recall.  The splitter is inside a <code>Grid</code> control that has three columns defined thusly:</p>\n\n<pre><code>&lt;Grid.ColumnDefinitions&gt;\n    &lt;ColumnDefinition Width=\"{Binding GridPanelWidth, Mode=TwoWay}\" /&gt;\n    &lt;ColumnDefinition Width=\"3\" /&gt;  &lt;!--splitter itself is in this column--&gt;\n    &lt;ColumnDefinition Width=\"2*\" /&gt;\n&lt;/Grid.ColumnDefinitions&gt;\n</code></pre>\n\n<p>The property <code>GridPanelWidth</code> is defined this way in the view model:</p>\n\n<pre><code>private GridLength _gridPanelWidth = new GridLength(1, GridUnitType.Star);\npublic GridLength GridPanelWidth\n{\n    get { return _gridPanelWidth; }\n    set\n    {\n        if (_gridPanelWidth != value)\n            SetProperty(ref _gridPanelWidth, value, () =&gt; GridPanelWidth);\n    }\n}\n</code></pre>\n\n<p>The problem I am having is that when the splitter is moved, the binding updates only the <code>Double</code> (Value) component of the bound property, but not the <code>GridUnitType</code> part of it.</p>\n\n<p>Example:  the property defaults to <code>1*</code>.  User drags the splitter and the value becomes <code>354*</code>, instead of just <code>354</code>.  On restoring the value, then, it's huge (354 times, not 354 pixels).</p>\n\n<p>Why is this happening, and what would you do about it?</p>\n"}, {"tags": ["c#", ".net", "windows-store-apps", "desktop-bridge"], "comments": [{"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1510234211, "post_id": 47187049, "comment_id": 81354590, "body": "if I remember correctly, certification will fail when you submit your app or you will see an error when trying to make an app package."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "reply_to_user": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1510748155, "post_id": 47187049, "comment_id": 81564493, "body": "@MehrzadChehraz how it can fail at that points? OP targets .NET 4.7, packs that as UWP application and distributes. Using .NET 4.7 for that seems valid. Then at later point someone installs application from store but does not have .NET 4.7 installed, only .NET 4.6 for example. What would happen?"}, {"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1510750369, "post_id": 47187049, "comment_id": 81566074, "body": "@Evk It may fail in certification process when you submit the app to the Store since their test machine may not have .NET 4.7 installed. I remember I had the wrong version for the first time and something went wrong during the process. I should be the certification that failed."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "reply_to_user": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1510750415, "post_id": 47187049, "comment_id": 81566096, "body": "@MehrzadChehraz then that basically means not all versions greater than 4.6.1 are supported?"}, {"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1510750866, "post_id": 47187049, "comment_id": 81566436, "body": "@Evk I&#39;m not sure about that. <a href=\"https://blogs.msdn.microsoft.com/appconsult/2017/08/28/package-a-net-desktop-application-using-the-desktop-bridge-and-visual-studio-preview/\" rel=\"nofollow noreferrer\">Here</a> recommends at least 4.6.1. It also may depend on the minimum target OS build since different versions of .NET are installed on different builds."}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "reply_to_user": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1510758288, "post_id": 47187049, "comment_id": 81571958, "body": "@MehrzadChehraz As far as I know there is no upper limit on the .net version possible for certification. The question is only about the target machine."}, {"owner": {"reputation": 4894, "user_id": 3956290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ZsQ0z.png?s=128&g=1", "display_name": "Mehrzad Chehraz", "link": "https://stackoverflow.com/users/3956290/mehrzad-chehraz"}, "edited": false, "score": 0, "creation_date": 1510763094, "post_id": 47187049, "comment_id": 81575678, "body": "@ispiro Your app will be tested on a machine to pass the certification. If the target machine does not have that version of .NET installed, your app won&#39;t pass the certification. Not all the Windows 10 versions have the most new .NET installed."}], "answers": [{"comments": [{"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1511120562, "post_id": 47377674, "comment_id": 81714794, "body": "How do you know that Windows won&#39;t download the newer version of .net (perhaps asking the user first)?"}, {"owner": {"reputation": 7394, "user_id": 1093508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/745c6e48a5e09036b23b4f57caab5bec?s=128&d=identicon&r=PG", "display_name": "D&#225;vid Moln&#225;r", "link": "https://stackoverflow.com/users/1093508/d%c3%a1vid-moln%c3%a1r"}, "reply_to_user": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1511166553, "post_id": 47377674, "comment_id": 81728523, "body": "Why would it? How would it know?"}, {"owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1511299595, "post_id": 47377674, "comment_id": 81800636, "body": "The Windows Store app, which is how you download it, will know. Just like Clickonce. There is no question of whether it will know. Just what will it do."}, {"owner": {"reputation": 7394, "user_id": 1093508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/745c6e48a5e09036b23b4f57caab5bec?s=128&d=identicon&r=PG", "display_name": "D&#225;vid Moln&#225;r", "link": "https://stackoverflow.com/users/1093508/d%c3%a1vid-moln%c3%a1r"}, "reply_to_user": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "edited": false, "score": 0, "creation_date": 1511376133, "post_id": 47377674, "comment_id": 81838607, "body": "I can hardly imagine that it would download a newer version of .NET. ClickOnce is completely different, in a Centennial app I can do anything, even use a completely different framework. If you don&#39;t specify your need to use a specific framework in a configuration or somewhere, then Centennial would not know about it. That&#39;s my point..."}], "tags": [], "owner": {"reputation": 7394, "user_id": 1093508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/745c6e48a5e09036b23b4f57caab5bec?s=128&d=identicon&r=PG", "display_name": "D&#225;vid Moln&#225;r", "link": "https://stackoverflow.com/users/1093508/d%c3%a1vid-moln%c3%a1r"}, "is_accepted": false, "score": 0, "last_activity_date": 1511099859, "creation_date": 1511099859, "answer_id": 47377674, "question_id": 47187049, "link": "https://stackoverflow.com/questions/47187049/centennial-app-targeting-net-higher-than-installed-what-will-happen/47377674#47377674", "title": "Centennial app targeting .net higher than installed - What will happen?", "body": "<p>It depends. Keep in mind that Centennial is a bridge. </p>\n\n<p>Centennial apps run on Windows 10 Anniversary edition (10.0; Build 14393) or later. On this Windows version the default installed .NET version is <a href=\"https://blogs.msdn.microsoft.com/astebner/2007/03/14/mailbag-what-version-of-the-net-framework-is-included-in-what-version-of-the-os/\" rel=\"nofollow noreferrer\">4.6.2</a>. Windows 10 Creators Update comes with .NET 4.7 by default.</p>\n\n<p>So, if someone downloads your application on Windows 10 Anniversary edition and tries to run it, the following can happen:</p>\n\n<ul>\n<li>.NET 4.6.2 is installed, your application doesn't use anything from .NET 4.7.1: your application works properly</li>\n<li>.NET 4.6.2 is installed, your application is using .NET 4.7.1 <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/whats-new/\" rel=\"nofollow noreferrer\">specific features</a>: your application doesn't work properly</li>\n<li>.NET 4.7.1 is installed, your application doesn't use anything form .NET 4.7.1: your application works properly</li>\n<li>.NET 4.7.1 is installed, your application is using .NET 4.7.1 specific features: your application works properly</li>\n</ul>\n\n<p>You can apply the same logic for the later versions of Windows 10.</p>\n\n<p>Another interesting option would be to package .NET 4.7.1 along with your application. If I understand it <a href=\"https://docs.microsoft.com/en-us/windows/uwp/porting/desktop-to-uwp-behind-the-scenes\" rel=\"nofollow noreferrer\">correctly</a>, the Centennial apps have a virtual file system, which is basically merged with the real one. So, you should be able to install .NET 4.7.1 with your application and then package it together with your application. Then it will work on Windows 10 Anniversary edition as well on the later editions.</p>\n"}], "owner": {"reputation": 23403, "user_id": 939213, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/85abdf3e1c88011c45e1a0cae01df78b?s=128&d=identicon&r=PG", "display_name": "ispiro", "link": "https://stackoverflow.com/users/939213/ispiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511299864, "creation_date": 1510165504, "last_edit_date": 1511299864, "question_id": 47187049, "link": "https://stackoverflow.com/questions/47187049/centennial-app-targeting-net-higher-than-installed-what-will-happen", "title": "Centennial app targeting .net higher than installed - What will happen?", "body": "<p>I have .net 4.7.1 installed. What if I build a .net application targeting that version of .net, and then package it as a Centennial app - What if someone with an older version of .net tries to install it (from the Windows Store)?</p>\n\n<p>An official link confirming the answer would be nice, if possible.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Since this seems to be unclear. The Windows Store presumably knows about your computer. The question is just what will it do about it. Will it prompt you to install the newer version like Clickonce can do, or just not let you install the app, or something else?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq"], "answers": [{"comments": [{"owner": {"reputation": 541, "user_id": 1066567, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/84009dbf22183e65b79822602c513a94?s=128&d=identicon&r=PG", "display_name": "Diin", "link": "https://stackoverflow.com/users/1066567/diin"}, "edited": false, "score": 1, "creation_date": 1510165780, "post_id": 47187055, "comment_id": 81323323, "body": "Thanks the error was because the userId was nullable  I added .value to it and error resolved"}], "tags": [], "owner": {"reputation": 34608, "user_id": 84206, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/144fd462785db33cf6665cafd54101c7?s=128&d=identicon&r=PG", "display_name": "AaronLS", "link": "https://stackoverflow.com/users/84206/aaronls"}, "is_accepted": true, "score": 2, "last_activity_date": 1510165525, "creation_date": 1510165525, "answer_id": 47187055, "question_id": 47186940, "link": "https://stackoverflow.com/questions/47186940/using-linq-to-filter-a-list-from-a-list/47187055#47187055", "title": "Using linq to filter a list from a list", "body": "<p>I'm betting you are missing the Linq namespace, add this at the beginning:</p>\n\n<pre><code>using System.Linq;\n</code></pre>\n\n<p>Also change the <code>var</code> to be sure that UserId is an <code>int</code>.  This won't have any effect except if UserId is not actually an <code>int</code>, then you'll get an error indicating UserId is not an <code>int</code>:</p>\n\n<pre><code>List&lt;int&gt; alldps = db.Deposits.Select(a =&gt; a.UserId).Distinct().ToList();\n</code></pre>\n"}], "owner": {"reputation": 541, "user_id": 1066567, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/84009dbf22183e65b79822602c513a94?s=128&d=identicon&r=PG", "display_name": "Diin", "link": "https://stackoverflow.com/users/1066567/diin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 47187055, "answer_count": 1, "score": 0, "last_activity_date": 1510165525, "creation_date": 1510165099, "last_edit_date": 1510165396, "question_id": 47186940, "link": "https://stackoverflow.com/questions/47186940/using-linq-to-filter-a-list-from-a-list", "title": "Using linq to filter a list from a list", "body": "<p>I am generating two lists with int values and select all ids of list one not found in list 2 using linq:</p>\n\n<pre><code>var clerkRole = db.Roles.SingleOrDefault(m =&gt; m.Name == \"Clerk\");\nList&lt;ApplicationUser&gt;lstUser = db.Users.Where(x =&gt; x.Roles.Select(y =&gt; y.RoleId).Contains(clerkRole.Id)).ToList();\nList&lt;int&gt; lstUId = lstUser.Select(c =&gt; c.Id).ToList();\n\nvar alldps = db.Deposits.Select(a =&gt; a.UserId).Distinct().ToList();\n\nvar clerkNotIn = lstUId.Except(alldps).ToList();  // error here and below\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>Error 25  'System.Collections.Generic.List' does not contain a definition for 'Except' and the best extension method overload 'System.Linq.ParallelEnumerable.Except(System.Linq.ParallelQuery, System.Collections.Generic.IEnumerable)' has some invalid arguments   </p>\n</blockquote>\n\n<p>Could you help? thanks</p>\n"}, {"tags": ["c#", "docusignapi"], "comments": [{"owner": {"reputation": 37, "user_id": 995490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1d22c03c9eb5a3f06baff9e6d847c296?s=128&d=identicon&r=PG", "display_name": "Captain Hammer", "link": "https://stackoverflow.com/users/995490/captain-hammer"}, "edited": false, "score": 0, "creation_date": 1510166856, "post_id": 47186902, "comment_id": 81323931, "body": "Don&#39;t understand the downvote without a reason why..."}, {"owner": {"reputation": 6367, "user_id": 3530898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7alH5.jpg?s=128&g=1", "display_name": "Amit K Bist", "link": "https://stackoverflow.com/users/3530898/amit-k-bist"}, "edited": false, "score": 0, "creation_date": 1510186245, "post_id": 47186902, "comment_id": 81333033, "body": "Can you please share why you want to grab a specific page of the document?"}, {"owner": {"reputation": 37, "user_id": 995490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1d22c03c9eb5a3f06baff9e6d847c296?s=128&d=identicon&r=PG", "display_name": "Captain Hammer", "link": "https://stackoverflow.com/users/995490/captain-hammer"}, "reply_to_user": {"reputation": 6367, "user_id": 3530898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7alH5.jpg?s=128&g=1", "display_name": "Amit K Bist", "link": "https://stackoverflow.com/users/3530898/amit-k-bist"}, "edited": false, "score": 0, "creation_date": 1510236055, "post_id": 47186902, "comment_id": 81355966, "body": "The first page of the document contains information that I&#39;d like to save separately from the whole document combined."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 995490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1d22c03c9eb5a3f06baff9e6d847c296?s=128&d=identicon&r=PG", "display_name": "Captain Hammer", "link": "https://stackoverflow.com/users/995490/captain-hammer"}, "edited": false, "score": 0, "creation_date": 1510233558, "post_id": 47191870, "comment_id": 81354071, "body": "After talking with DocuSign, it does seem like this is the only way. They actually replied with having the template itself to be split up into two documents (the first page being one document, and the rest being a separate document). Thanks Amit!"}], "tags": [], "owner": {"reputation": 6367, "user_id": 3530898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7alH5.jpg?s=128&g=1", "display_name": "Amit K Bist", "link": "https://stackoverflow.com/users/3530898/amit-k-bist"}, "is_accepted": false, "score": 1, "last_activity_date": 1510186279, "creation_date": 1510186279, "answer_id": 47191870, "question_id": 47186902, "link": "https://stackoverflow.com/questions/47186902/docusign-how-to-get-a-specific-page/47191870#47191870", "title": "DocuSign - How to get a specific page?", "body": "<p>Try calling GET <code>/v2/accounts/{accountId}/envelopes/{envelopeId}/documents/{documentId}/pages/{pageNumber}</code></p>\n"}], "owner": {"reputation": 37, "user_id": 995490, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/1d22c03c9eb5a3f06baff9e6d847c296?s=128&d=identicon&r=PG", "display_name": "Captain Hammer", "link": "https://stackoverflow.com/users/995490/captain-hammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510186279, "creation_date": 1510164989, "question_id": 47186902, "link": "https://stackoverflow.com/questions/47186902/docusign-how-to-get-a-specific-page", "title": "DocuSign - How to get a specific page?", "body": "<p>I'm using C# to grab the document from envelopesapi.getdocument(). It returns a  stream which is great for saving the whole envelope. My question is how do I only grab the first page of the first document? Is there a way that supports this?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "edited": false, "score": 0, "creation_date": 1510165616, "post_id": 47186893, "comment_id": 81323238, "body": "Either you have not installed access components or are running a 64 bits exe but have the 32 bit version. Looks like duplicated. Search for &quot;oledb not registered&quot; and if you find a similar question already answered  please delete this."}, {"owner": {"reputation": 2730, "user_id": 2265446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/39Qa6.png?s=128&g=1", "display_name": "Cleptus", "link": "https://stackoverflow.com/users/2265446/cleptus"}, "edited": false, "score": 0, "creation_date": 1510165666, "post_id": 47186893, "comment_id": 81323265, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13811179/where-how-can-i-download-and-install-the-microsoft-jet-oledb-4-0-for-windows-8\">Where/how can I download (and install) the Microsoft.Jet.OLEDB.4.0 for Windows 8, 64 bit?</a>"}], "owner": {"reputation": 9, "user_id": 8908790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf4c1ab29c08abf3de684be19ff7a7c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ntokozo Ngubane", "link": "https://stackoverflow.com/users/8908790/ntokozo-ngubane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510167226, "creation_date": 1510164976, "last_edit_date": 1510167226, "question_id": 47186893, "link": "https://stackoverflow.com/questions/47186893/how-do-i-connect-a-ms-access-database-with-a-password-and-a-mdb-accdb-databas", "title": "How do I connect a MS Access database with a password and a .mdb , accdb database", "body": "<p>I want to connect different access database (they have same tables, same columns) to my system to make a report and this database has a password. I use a <code>openfileDialog</code> to take this database from my files and I want to connect both <code>.mdb</code>, <code>.accdb</code> but but when I use Microsoft.jet.oledb.12.0, I get an error </p>\n\n<blockquote>\n  <p>The microsoft.jet.olebd.12.0 provider is not registered on local machine</p>\n</blockquote>\n\n<p>This is my code:</p>\n\n<pre><code> private void tileBrowse_Click(object sender, EventArgs e)\n {\n        OpenFileDialog fdlg = new OpenFileDialog();\n        fdlg.Title = \"C# Corner Open file Dialog\";\n        fdlg.InitialDirectory = @\"C:\\Desktop\";\n        fdlg.Filter = \"(*.mdb)|*.mdb|(*.accdb)|*accdb\";\n        //fdlg.Filter = \"All Files (*.*)|*.mdb|*.accdb\" + \"MS-Access Database Files (*.accdb)|*.accdb, (*.mdb)|*.mdb\";\n\n        if (fdlg.ShowDialog() == DialogResult.OK)\n        {\n            txtFilePath.Text = fdlg.FileName;\n        }\n }\n\n private void txtRead_Click(object sender, EventArgs e)\n {\n     //connection string \n     String strDSN = \"Provider=Microsoft.Jet.OLEDB.12.0;\" + \"Data Source=\" + txtFilePath.Text; \n\n     try\n     {\n            //Create a connection and open it \n            OleDbConnection conn = new OleDbConnection(strDSN);\n            conn.Open();\n\n            String strSQl = \"SELECT * FROM Student;\";\n\n            //create data adapter\n            OleDbDataAdapter myCmd = new OleDbDataAdapter(strSQl, conn);\n\n            // Create and fill dataset\n            DataSet dtSet = new DataSet();\n            myCmd.Fill(dtSet);\n            DataTable dt = dtSet.Tables[0];\n            dataGridView1.DataSource = dtSet.Tables[0];\n\n            //add items to the list box\n            listBox1.Items.Add(\"ID,F_Name,S_Name,\" + \"Age\");\n            listBox1.Items.Add(\"=====================================\");\n\n            foreach (DataColumn dc in dt.Columns)\n            {\n                listBox1.Items.Add(dc.ColumnName + \",\" + dc.DataType + \",\" + dc.Unique + \",\" + dc.AutoIncrement + \",\" + dc.AllowDBNull);\n            }\n\n            OleDbCommand cmd = new OleDbCommand(\"SELECT student.ID, student.F_name, student.S_name, student.Age, Teachers_Info.Teachers_ID, Teachers_Info.Firstname, Teachers_Info.Surname, Teachers_Info.Teachers_Subject, Teachers_Info.Teachers_code FROM student, Teachers_Info ORDER BY student.ID;\", conn);\n            OleDbDataReader Reader = cmd.ExecuteReader();\n\n            //if (Reader.HasRows)\n            if (Reader.HasRows)\n            {\n                Reader.Read();\n                txtID.Text = (Reader[\"ID\"].ToString());\n                txtF_name.Text = (Reader[\"F_name\"].ToString());\n                txtS_name.Text = (Reader[\"S_name\"].ToString());\n                txtAge.Text = (Reader[\"Age\"].ToString());\n\n                txtTeachers_ID.Text = (Reader[\"Teachers_ID\"].ToString());\n                txtFirstname.Text = (Reader[\"Firstname\"].ToString());\n                txtSurname.Text = (Reader[\"Surname\"].ToString());\n                txtTeachers_Subject.Text = (Reader[\"Teachers_Subject\"].ToString());\n                txtTeachers_code.Text = (Reader[\"Teachers_code\"].ToString());\n            }\n\n            //close connection\n            conn.Close();\n        }\n        catch (Exception exp)\n        {\n            MessageBox.Show(exp.Message.ToString());\n        }\n}\n</code></pre>\n"}, {"tags": ["c#", "multithreading"], "comments": [{"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1510164985, "post_id": 47186803, "comment_id": 81322867, "body": "That depends entirely on what the main thread is doing. How do events normally get executed on the main thread? Also: <i>why</i> does the work need to be done on the main thread? You seem to be doing just fine executing the deserialization on the worker thread, so what is stopping you from doing the checking and disk serialization on the worker thread? For that matter, <b>why do you have two threads at all</b> in an I/O bound program? Just use <code>await</code> and keep everything on one thread."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510165741, "post_id": 47186803, "comment_id": 81323304, "body": "There are lots of articles on how to use async await with sockets to keep everything on the main thread; here&#39;s one for example: <a href=\"https://msdn.microsoft.com/en-us/magazine/dn605876.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/magazine/&hellip;</a>"}, {"owner": {"reputation": 7399, "user_id": 800524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02839e8311c198171b66b57d1d0cc023?s=128&d=identicon&r=PG", "display_name": "acelent", "link": "https://stackoverflow.com/users/800524/acelent"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1510169579, "post_id": 47186803, "comment_id": 81325615, "body": "@EricLippert, one situation I can think of right away is that name resolution is still synchronous in <code>HttpWebRequest</code> in .NET framework, even if you use the asynchronous methods.  The documentation even says to avoid using them in a UI thread."}], "owner": {"reputation": 51, "user_id": 5379629, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/be3481a71b745b17fe03318b41763c69?s=128&d=identicon&r=PG&f=1", "display_name": "Jyeomans", "link": "https://stackoverflow.com/users/5379629/jyeomans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1510193621, "answer_count": 0, "score": 0, "last_activity_date": 1510164655, "creation_date": 1510164655, "question_id": 47186803, "link": "https://stackoverflow.com/questions/47186803/what-is-the-best-way-to-pass-an-object-form-one-thread-to-the-main-thread", "closed_reason": "Duplicate", "title": "what is the best way to pass an object form one thread to the main thread", "body": "<p>I have a small program that watches a web socket for changes. \nafter a change it grabs a json file and Deserialize the Object. \nthe thread that does this stores the data in an instance of a class. </p>\n\n<p>i want to pass that object with all the new data to a method in the main thread.\nso i can check it for changes and write it out to a file.  </p>\n\n<p>what is the best way to pass the hole object to the main threads method?</p>\n\n<pre><code>public partial class MainWindow : Window\n\n{\n\n    public class JsonData\n    {\n        public  string[] Highlights { get; set; }\n        public string[] Images { get; set; }\n        public string Cur_carno { get; set; }\n        public string Cur_desc { get; set; }\n        public string Cur_bid_disp { get; set; }\n        public string Message { get; set; }\n\n    }\n\n    public MainWindow()\n    {\n        InitializeComponent();\n    }\n\n    private void socketIoManager(string ip)\n    {\n     var socket = IO.Socket(ip);\n\n            socket.On(Quobject.SocketIoClientDotNet.Client.Socket.EVENT_CONNECT, () =&gt;\n            {\n                Console.WriteLine(\"Connected\");\n            });\n      socket.On(\"_DATA\", (data) =&gt;\n            {\n                var Info = JsonConvert.DeserializeObject&lt;JsonData&gt;(data.ToString());\n\n             // need to pass Info object to UpdateFeed()\n            }\n    }\n\n    private void connect_click(object sender, RoutedEventArgs e)\n    {\n        socketIoManager(json_ip.Text);\n\n\n    }\n\n    private void UpdateFeed(object info)\n    {\n\n        // do stuff with info\n\n\n        string json = JsonConvert.SerializeObject(info);\n\n        //write string to file\n        System.IO.File.WriteAllText(@\"dataX.json\", json);\n\n     }\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 25686, "user_id": 33051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ef3e872b7359633a74dc57bd708fde22?s=128&d=identicon&r=PG", "display_name": "Zhaph - Ben Duguid", "link": "https://stackoverflow.com/users/33051/zhaph-ben-duguid"}, "edited": false, "score": 0, "creation_date": 1510164849, "post_id": 47186784, "comment_id": 81322764, "body": "You need to fetch the role back out of the Database, and then Pass it&#39;s ID into the new user."}], "answers": [{"tags": [], "owner": {"reputation": 25686, "user_id": 33051, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ef3e872b7359633a74dc57bd708fde22?s=128&d=identicon&r=PG", "display_name": "Zhaph - Ben Duguid", "link": "https://stackoverflow.com/users/33051/zhaph-ben-duguid"}, "is_accepted": true, "score": 3, "last_activity_date": 1510165496, "creation_date": 1510165496, "answer_id": 47187048, "question_id": 47186784, "link": "https://stackoverflow.com/questions/47186784/how-to-pass-the-foreign-key-during-the-seed-in-entity-framework/47187048#47187048", "title": "How to pass the foreign key during the seed in Entity Framework", "body": "<p>The easiest way is to fetch the role back from the data context and pass it in to the user:</p>\n\n<pre><code>// Create/Update the roles\ncontext.Roleses.AddOrUpdate(x =&gt; x.RoleName,\n                            new Roles { RoleName = \"Admin\", Weightage = 3 },\n                            new Roles { RoleName = \"User\", Weightage = 1 }\n                           );\n\n// Ensure the roles are in the database\ncontext.SaveChanges();\n\n// Fetch the \"user\" role\nRoles userRole = context.Roleses.Single(r =&gt; r.RoleName == \"User\");\n\n// Create/Update the user\ncontext.Userses.AddOrUpdate(x=&gt;x.EmailId,\n                            new Users() {\n                                         FirstName = \"vir\",\n                                         LastName = \"acker\",\n                                         EmailId = \"vir.acker@xyz.com\",\n                                         Password = password,\n                                         Gender = \"Male\",\n                                         Islocked = \"false\",\n                                         CreatedDate = DateTime.Now,\n                                         RoleId = userRole.Id\n                                        }\n                           );\n</code></pre>\n\n<p>Obviously, if you're allowing a user to be in more than one role, or you expose the <code>Role</code> property as the <code>Roles</code> class, then you can just assign the value directly.</p>\n"}], "owner": {"reputation": 229, "user_id": 5729812, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/19c467ec0ec332e253406b4230ed69be?s=128&d=identicon&r=PG&f=1", "display_name": "Virender Thakur", "link": "https://stackoverflow.com/users/5729812/virender-thakur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2060, "favorite_count": 0, "accepted_answer_id": 47187048, "answer_count": 1, "score": 2, "last_activity_date": 1510167380, "creation_date": 1510164596, "last_edit_date": 1510167380, "question_id": 47186784, "link": "https://stackoverflow.com/questions/47186784/how-to-pass-the-foreign-key-during-the-seed-in-entity-framework", "title": "How to pass the foreign key during the seed in Entity Framework", "body": "<p>I am working on an ASP.NET MVC application with Entity Framework. My requirements are to insert the some default values into the tables using seed functionality.</p>\n\n<p>I have successfully done this when there is no relation between the values. But I am not able to insert the foreign key reference using seed in Entity Framework. </p>\n\n<p>This is the seed method:</p>\n\n<pre><code>protected override void Seed(VBlog.DbLayer.DbInitializer context)\n{\n    //this(AddOrUpdate) will check first is there is alrady record exists or not in the database.\n    context.Roleses.AddOrUpdate(x =&gt; x.RoleName,\n            // master data\n            new Roles { RoleName = \"Admin\", Weightage = 3 },\n            new Roles { RoleName = \"User\", Weightage = 1 }\n           );\n\n    //adding the mast data for user table\n    context.Userses.AddOrUpdate(x=&gt;x.EmailId,\n             new Users()\n              {\n                  FirstName = \"vir\",\n                  LastName = \"acker\",\n                  EmailId = \"vir.acker@xyz.com\",\n                  Password = password,\n                  Gender = \"Male\",\n                  Islocked = \"false\",\n                  CreatedDate = DateTime.Now,\n                 **Foreign key for Users table**\n              }\n            ); \n\n    //context.Userses.AddRange(defaultUserDataList);\n    base.Seed(context);\n}\n</code></pre>\n\n<p>In the above code I have passed the default for Roles and Users table. Only one column is left i.e <code>RoleId</code> in <code>Users</code> table. </p>\n\n<p>How can I get the primary key of <code>Roles</code> table as a foreign key for the <code>Users</code> table?</p>\n"}, {"tags": ["c#", "redis", "cachemanager"], "answers": [{"tags": [], "owner": {"reputation": 12384, "user_id": 2801687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOuuH.jpg?s=128&g=1", "display_name": "MichaC", "link": "https://stackoverflow.com/users/2801687/michac"}, "is_accepted": true, "score": 2, "last_activity_date": 1510302969, "creation_date": 1510302969, "answer_id": 47218601, "question_id": 47186753, "link": "https://stackoverflow.com/questions/47186753/how-to-set-the-redis-server-pool-size-with-the-cachemanager/47218601#47218601", "title": "How to set the Redis Server pool size with the CacheManager?", "body": "<p>The Stackexchange.Redis doesn't use connection pooling, instead, it uses <a href=\"https://github.com/StackExchange/StackExchange.Redis/blob/master/docs/PipelinesMultiplexers.md\" rel=\"nofollow noreferrer\">multiplexing</a>. </p>\n\n<p>You can change the time the library waits for sync calls (defaults to 1000ms) via <a href=\"https://github.com/StackExchange/StackExchange.Redis/blob/master/docs/Configuration.md\" rel=\"nofollow noreferrer\">configuration</a> => syncTimeout. (To use that with CacheManager, use the connection string based configuration or create your <code>Multiplexer</code> yourself).\nThis might improve your experience. </p>\n\n<p>Anyways, timeouts and such connection errors are most of the time unrelated to the client and are caused by the single threaded nature of the Redis server, especially if you hit memory limits on the server and Redis tries to remove keys , or if Redis tries to backup to disk...</p>\n\n<p>I cannot give you a more clear answer as those issues are highly dependent on what you are trying to do and the Redis server you are using...</p>\n\n<p>You'll find many other q/a about that error, e.g. see <a href=\"https://stackoverflow.com/questions/22930856/stackexchange-redis-timeout-and-no-connection-is-available-to-service-this-oper\">StackExchange.Redis timeout and &quot;No connection is available to service this operation&quot;</a></p>\n"}], "owner": {"reputation": 747, "user_id": 1209496, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/bb1157f20f01a7134257f33f2f3e9817?s=128&d=identicon&r=PG", "display_name": "BlueSky", "link": "https://stackoverflow.com/users/1209496/bluesky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4992, "favorite_count": 0, "accepted_answer_id": 47218601, "answer_count": 1, "score": 0, "last_activity_date": 1510302969, "creation_date": 1510164474, "last_edit_date": 1510164664, "question_id": 47186753, "link": "https://stackoverflow.com/questions/47186753/how-to-set-the-redis-server-pool-size-with-the-cachemanager", "title": "How to set the Redis Server pool size with the CacheManager?", "body": "<p>[C#] How to set the Redis Server pool size with the CacheManager ? </p>\n\n<p>I got an error with high concurrency:  No connection is available to service this operation: HMGET , How to set the connection pool size? </p>\n\n<pre><code>No connection is available to service this operation: HMGET U\n\n at StackExchange.Redis.ConnectionMultiplexer.ExecuteSyncImpl[T](Message message, ResultProcessor`1 processor, ServerEndPoint server)\n   at StackExchange.Redis.RedisBase.ExecuteSync[T](Message message, ResultProcessor`1 processor, ServerEndPoint server)\n   at StackExchange.Redis.RedisDatabase.HashGet(RedisKey key, RedisValue[] hashFields, CommandFlags flags)\n   at CacheManager.Redis.RedisCacheHandle`1.&lt;&gt;c__DisplayClass25_0.&lt;GetCacheItemInternal&gt;b__0()\n   at CacheManager.Redis.RetryHelper.Retry[T](Func`1 retryme, Int32 timeOut, Int32 retries)\n   at CacheManager.Redis.RedisCacheHandle`1.Retry[T](Func`1 retryme)\n   at CacheManager.Redis.RedisCacheHandle`1.GetCacheItemInternal(String key, String region)\n   at CacheManager.Redis.RedisCacheHandle`1.GetCacheItemInternal(String key)\n   at CacheManager.Core.Internal.BaseCache`1.GetCacheItem(String key)\n   at CacheManager.Core.BaseCacheManager`1.GetCacheItemInternal(String key, String region)\n   at CacheManager.Core.BaseCacheManager`1.GetCacheItemInternal(String key)\n   at CacheManager.Core.Internal.BaseCache`1.GetCacheItem(String key)\n   at CacheManager.Core.Internal.BaseCache`1.Get(String key)\n   at CacheManager.Core.Internal.BaseCache`1.Get[TOut](String key)\n</code></pre>\n\n<p>=======================   </p>\n\n<pre><code>      var cache = CacheFactory.Build(\"RuntimeCache\", settings =&gt;\n        {\n            settings.WithSystemRuntimeCacheHandle(\"RuntimeCache\")\n            .WithExpiration(ExpirationMode.Sliding, TimeSpan.FromMinutes(10))\n            .And\n            .WithRedisConfiguration(\"RedisCache\", config =&gt;\n            {\n                config.WithAllowAdmin()\n                .WithDatabase(1)\n                .WithPassword(password)\n                .WithEndpoint(host, port);\n            })\n            .WithMaxRetries(100)\n            .WithRetryTimeout(50)\n            .WithRedisBackPlate(\"RedisCache\")   \n            .WithRedisCacheHandle(\"RedisCache\", true)\n            .WithExpiration(ExpirationMode.Sliding, TimeSpan.FromMinutes(30));\n        });\n</code></pre>\n"}, {"tags": ["c#", ".net", "datagram"], "answers": [{"tags": [], "owner": {"reputation": 696, "user_id": 1698480, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/6f443f37856786df1a64b2c96686efcb?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/1698480/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1510195634, "last_edit_date": 1510195634, "creation_date": 1510189464, "answer_id": 47192291, "question_id": 47186751, "link": "https://stackoverflow.com/questions/47186751/udp-datagram-socket-in-c-framework-port-from-uwp/47192291#47192291", "title": "UDP Datagram Socket in C# Framework (port from UWP)", "body": "<p>Found the reason, it was windows firewall blocking access.</p>\n"}], "owner": {"reputation": 696, "user_id": 1698480, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/6f443f37856786df1a64b2c96686efcb?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/1698480/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 538, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1510195634, "creation_date": 1510164470, "last_edit_date": 1510173293, "question_id": 47186751, "link": "https://stackoverflow.com/questions/47186751/udp-datagram-socket-in-c-framework-port-from-uwp", "title": "UDP Datagram Socket in C# Framework (port from UWP)", "body": "<p>I am trying to port the following code from UWP to C# framework (WPF app)</p>\n\n<pre><code>public class DatagramSocket : IDatagramSocket\n{\n    private Windows.Networking.Sockets.DatagramSocket socket;\n\n    public DatagramSocket()\n    {\n        socket = new Windows.Networking.Sockets.DatagramSocket();\n        socket.MessageReceived += Socket_MessageReceived;\n    }\n\n    public event Action&lt;DatagramSocketMessage&gt; MessageReceived;\n\n    public async Task Bind(string profile, int liveViewPort)\n    {\n        Debug.WriteLine($\"Binding to {profile} on port {liveViewPort}\");\n        await socket.BindEndpointAsync(new HostName(profile), liveViewPort.ToString());\n    }\n\n    public void Dispose()\n    {\n        socket.Dispose();\n    }\n\n    private void Socket_MessageReceived(Windows.Networking.Sockets.DatagramSocket sender, Windows.Networking.Sockets.DatagramSocketMessageReceivedEventArgs args)\n    {\n        using (var reader = args.GetDataReader())\n        {\n            var buf = new byte[reader.UnconsumedBufferLength];\n            reader.ReadBytes(buf);\n            MessageReceived?.Invoke(new DatagramSocketMessage(args.RemoteAddress.CanonicalName, buf));\n        }\n    }\n}\n</code></pre>\n\n<p>I tried the following but the OnUdpData callback is never getting called:</p>\n\n<pre><code>public class DatagramSocket : IDatagramSocket\n{\n    public UdpClient socket;\n    public IPEndPoint ep;\n\n    public event Action&lt;DatagramSocketMessage&gt; MessageReceived;\n\n    public async Task Bind(string profile, int liveViewPort)\n    {\n        socket = new UdpClient(profile, liveViewPort);\n        socket.BeginReceive(OnUdpData, socket);\n    }\n\n    void OnUdpData(IAsyncResult result)\n    {\n        if (_isDisposed)\n            return;\n\n        var socket = result.AsyncState as UdpClient;\n\n        // points towards whoever had sent the message:\n        IPEndPoint source = new IPEndPoint(0, 0);\n        // get the actual message and fill out the source:\n        byte[] message = socket.EndReceive(result, ref source);\n\n        MessageReceived?.Invoke(new DatagramSocketMessage(socket.ToString(), message));\n        socket.BeginReceive(OnUdpData, socket);\n    }\n\n    private volatile bool _isDisposed;\n    public void Dispose()\n    {\n        _isDisposed = true;\n        socket.Dispose();\n    }\n}\n</code></pre>\n\n<p>Also tried an async solution which didn't work.</p>\n\n<pre><code>    public async Task Bind(string profile, int liveViewPort)\n    {\n        Task.Run(async () =&gt;\n        {\n            using (var udpClient = new UdpClient(profile, liveViewPort))\n            {\n                while (!_isDisposed)\n                {\n                    var receivedResults = await udpClient.ReceiveAsync();\n                    MessageReceived?.Invoke(new DatagramSocketMessage(udpClient.ToString(), receivedResults.Buffer));\n\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>any suggestions? thank you</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 8919, "user_id": 1159604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZNjba.png?s=128&g=1", "display_name": "Foggzie", "link": "https://stackoverflow.com/users/1159604/foggzie"}, "edited": false, "score": 0, "creation_date": 1510181773, "post_id": 47186685, "comment_id": 81331664, "body": "Can you be more descriptive in what you mean by the intersection points being in &quot;the same order&quot;?  If the positions are different, the intersections are different.  Does same order mean clockwise/counterclockwise along the convex polygon, the test polygon, or something different entirely like they should be sorted by the <code>Vector2</code> values of the intersections themselves?"}, {"owner": {"reputation": 1027, "user_id": 3071712, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7eb0a4cd61e0a4622e171024c5308d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Taht", "link": "https://stackoverflow.com/users/3071712/marko-taht"}, "reply_to_user": {"reputation": 8919, "user_id": 1159604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZNjba.png?s=128&g=1", "display_name": "Foggzie", "link": "https://stackoverflow.com/users/1159604/foggzie"}, "edited": false, "score": 0, "creation_date": 1510219164, "post_id": 47186685, "comment_id": 81344563, "body": "@Foggzie I wrote an example case where the issue is"}], "owner": {"reputation": 1027, "user_id": 3071712, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7eb0a4cd61e0a4622e171024c5308d3f?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Taht", "link": "https://stackoverflow.com/users/3071712/marko-taht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510219132, "creation_date": 1510164233, "last_edit_date": 1510219132, "question_id": 47186685, "link": "https://stackoverflow.com/questions/47186685/2d-polygon-clipping", "title": "2D polygon clipping", "body": "<p>I have 2 polygons, one is always convex, the other can be convex or concave. Vertices on these polygons are sorted anti-clockwise. </p>\n\n<pre><code>for(int i = 0; i &lt; sorted.Count; i++)\n    {\n        Vector2 start1 = sorted[i];\n        Vector2 end1 = sorted[(i + 1) % sorted.Count];\n        for(int j = 0; j &lt; otherPolygon.Count; j++)\n        {\n            Vector2 start2 = otherPolygon[j];\n            Vector2 end2 = otherPolygon[(j + 1) % otherPolygon.Count];\n\n            Vector2 intersection = Intersection(start1, end1, start2, end2);\n            if (!float.IsPositiveInfinity(intersection.x))\n            {\n                intersections.Add(intersection);\n            }\n        }\n    }\n</code></pre>\n\n<p>Using this loop I can find the intersection points of the edges. The issue is that depending on where the convex polygon is, the order in which i find the intersection points changes. Is there a way to guarantee that the intersection points are always found in the same order?</p>\n\n<p>EDIT: \nExample case -\n2 Polygons A(sorted array in the code) and B(otherPolygon array in the code). A is static and can be concave. B is moving around and is always convex. </p>\n\n<p>If B is on the right from the A and intersecting, then the intersection points are found clockwise order. If B is on the left the the intersections points are found in the anti-clockwise order.</p>\n"}, {"tags": ["c#", "uwp", "win-universal-app", "windows-10-iot-core"], "comments": [{"owner": {"reputation": 8787, "user_id": 6601582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0a2f69702729da5aaa628bc58811a7?s=128&d=identicon&r=PG&f=1", "display_name": "Rita Han", "link": "https://stackoverflow.com/users/6601582/rita-han"}, "reply_to_user": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "edited": false, "score": 0, "creation_date": 1510567403, "post_id": 47186657, "comment_id": 81474078, "body": "@VMAtm points out you can get such drive name using the path property of subfolder of <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.knownfolders#Windows_Storage_KnownFolders_RemovableDevices\" rel=\"nofollow noreferrer\">RemovableDevices</a>."}], "answers": [{"tags": [], "owner": {"reputation": 26725, "user_id": 213550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cyZ5c.jpg?s=128&g=1", "display_name": "VMAtm", "link": "https://stackoverflow.com/users/213550/vmatm"}, "is_accepted": true, "score": 2, "last_activity_date": 1510172202, "creation_date": 1510172202, "answer_id": 47188872, "question_id": 47186657, "link": "https://stackoverflow.com/questions/47186657/drive-letter-of-devices-on-uwp-universal-aplication/47188872#47188872", "title": "Drive Letter of Devices on UWP Universal Aplication", "body": "<p>Found <a href=\"http://lunarfrog.com/blog/external-storage-devices\" rel=\"nofollow noreferrer\">this</a> article about the Windows 8, maybe it is still applicable for your case? Basically it says that you can get the devices as folders in two ways:</p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.knownfolders#Windows_Storage_KnownFolders_RemovableDevices\" rel=\"nofollow noreferrer\">KnownFolders.RemovableDevices</a> with <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.storagefolder\" rel=\"nofollow noreferrer\"><code>StorageFolder</code></a> object for each device, which can be used for determine the path</li>\n<li>StorageDevice and DeviceInformation via <code>Windows.Devices.Portable.StorageDevice.FromId(device.Id);</code> for each device you've found in <code>myDevices</code></li>\n</ul>\n\n<p><a href=\"https://docs.microsoft.com/en-us/windows/uwp/files/access-the-sd-card\" rel=\"nofollow noreferrer\">Access the SD card</a> article on MSDN also mentions the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.storage.storagefolder\" rel=\"nofollow noreferrer\"><code>StorageFolder</code></a> class as a way to get information about the path.</p>\n\n<p>Side note: you can use the string interpolation to ease the string constructing:</p>\n\n<pre><code>string s = $\"Kind:{x.Kind} Name:{x.Name} Id:{x.Id})\";\n</code></pre>\n"}], "owner": {"reputation": 2315, "user_id": 2036103, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Q78o6.png?s=128&g=1", "display_name": "Zen Of Kursat", "link": "https://stackoverflow.com/users/2036103/zen-of-kursat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 47188872, "answer_count": 1, "score": 2, "last_activity_date": 1510218440, "creation_date": 1510164117, "last_edit_date": 1510218440, "question_id": 47186657, "link": "https://stackoverflow.com/questions/47186657/drive-letter-of-devices-on-uwp-universal-aplication", "title": "Drive Letter of Devices on UWP Universal Aplication", "body": "<pre><code>var myDevices= await Windows.Devices.\n    Enumeration.DeviceInformation.\n    FindAllAsync(Windows.Devices.Enumeration.DeviceClass.PortableStorageDevice);\n\nforeach(var x in myDevices)\n{\n    string s = string.Format(\"Kind:{0} Name:{1} Id:{2})\",\n        x.Kind.tostring(), x.Name, x.Id);\n    listbox1.items.add(s);\n}\n</code></pre>\n\n<p>this is my example code. is it possible to detect property that I can access drive of myDevices object items ? (something like D:\\ or E:\\ etc). even I can see drive letters in windows IOT dashboard\n(dont know if it makes sense but platform is IOT on rasperry pi3)</p>\n"}, {"tags": ["c#", "wpf", "textbox", "idataerrorinfo"], "comments": [{"owner": {"reputation": 1753, "user_id": 7571526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-hZVE45US79Q/AAAAAAAAAAI/AAAAAAAABUE/qek9UOzU14M/photo.jpg?sz=128", "display_name": "Hille", "link": "https://stackoverflow.com/users/7571526/hille"}, "edited": false, "score": 0, "creation_date": 1510223913, "post_id": 47186554, "comment_id": 81347768, "body": "Can you please post a Code?"}, {"owner": {"reputation": 231, "user_id": 5994845, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YHyhn.gif?s=128&g=1", "display_name": "Maderas", "link": "https://stackoverflow.com/users/5994845/maderas"}, "reply_to_user": {"reputation": 1753, "user_id": 7571526, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-hZVE45US79Q/AAAAAAAAAAI/AAAAAAAABUE/qek9UOzU14M/photo.jpg?sz=128", "display_name": "Hille", "link": "https://stackoverflow.com/users/7571526/hille"}, "edited": false, "score": 0, "creation_date": 1510225484, "post_id": 47186554, "comment_id": 81348837, "body": "@Hille I will try to post some code later today."}], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 5994845, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YHyhn.gif?s=128&g=1", "display_name": "Maderas", "link": "https://stackoverflow.com/users/5994845/maderas"}, "is_accepted": true, "score": 0, "last_activity_date": 1510463503, "last_edit_date": 1510463503, "creation_date": 1510209658, "answer_id": 47195463, "question_id": 47186554, "link": "https://stackoverflow.com/questions/47186554/wpf-c-textbox-idataerrorinfo-bug-clicking-multiple-times-when-isenabled-tr/47195463#47195463", "title": "WPF C# Textbox IDataErrorInfo Bug - Clicking multiple times, when IsEnabled = true erases text", "body": "<p>I never figured out why, but I found that using <code>CellTemplate</code> and <code>CellEditingTemplate</code> fixed my issue.</p>\n\n<p>To the people who downvoted my post and ran off, I'd recommend that you just ignore question in the future if you can't grasp on to the complexity.</p>\n"}], "owner": {"reputation": 231, "user_id": 5994845, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/YHyhn.gif?s=128&g=1", "display_name": "Maderas", "link": "https://stackoverflow.com/users/5994845/maderas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 47195463, "answer_count": 1, "score": -1, "last_activity_date": 1510463503, "creation_date": 1510163793, "last_edit_date": 1510165303, "question_id": 47186554, "link": "https://stackoverflow.com/questions/47186554/wpf-c-textbox-idataerrorinfo-bug-clicking-multiple-times-when-isenabled-tr", "title": "WPF C# Textbox IDataErrorInfo Bug - Clicking multiple times, when IsEnabled = true erases text", "body": "<p>I have created a wpf textbox that is bound to an entity that implements IDataErrorInfo. When the textbox is invalidated (red box around it because it fails the IDataErrorInfo validation) and the textbox's IsEnabled property is set to false, I can click on the textbox multiple times and the text inside of the textbox is erased (string.Empty is passed to the entity).</p>\n\n<p>What is going on here? Is this expected behavior?</p>\n\n<p>Edit: I removed the isEnabled and added isreadonly and focusable. I realized that if I am not clicking in the text box, it erases if the validation fails. </p>\n\n<p>Edit: Then, I removed the focusable and tried again. This time, nothing erased until I click right on the red line representing the validation. </p>\n\n<p>Edit: My textbox lives inside of a DataTemplate inside of a DataGridTemplateColumn.CellTemplate inside of a DataGridTemplateColumn.</p>\n\n<p>The callstack is below:</p>\n\n<blockquote>\n  <p>MyCode.DLL!MyCode.Models.Entity.PropertyName.set(string value) Line 66  C#\n      [Native to Managed Transition]<br>\n      PresentationFramework.dll!MS.Internal.Data.PropertyPathWorker.SetValue(object item, object value)   Unknown\n      PresentationFramework.dll!MS.Internal.Data.ClrBindingWorker.UpdateValue(object value)   Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpression.UpdateSource(object value)  Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpressionBase.UpdateValue()   Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpression.UpdateOverride()    Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpressionBase.Update()    Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpressionBase.ProcessDirty()  Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpressionBase.Dirty() Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpressionBase.SetValue(System.Windows.DependencyObject d, System.Windows.DependencyProperty dp, object value) Unknown\n      WindowsBase.dll!System.Windows.DependencyObject.SetValueCommon(System.Windows.DependencyProperty dp, object value, System.Windows.PropertyMetadata metadata, bool coerceWithDeferredReference, bool coerceWithCurrentValue, System.Windows.OperationType operationType, bool isInternal)    Unknown\n      WindowsBase.dll!System.Windows.DependencyObject.SetValue(System.Windows.DependencyProperty dp, object value)    Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpression.GetInitialValue(System.Windows.DependencyObject target, out System.Windows.Controls.ValidationError error)  Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpression.Activate(object item)   Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpression.AttachToContext(System.Windows.Data.BindingExpression.AttachAttempt attempt)    Unknown\n      PresentationFramework.dll!System.Windows.Data.BindingExpression.MS.Internal.Data.IDataBindEngineClient.AttachToContext(bool lastChance) Unknown\n      PresentationFramework.dll!MS.Internal.Data.DataBindEngine.Task.Run(bool lastChance) Unknown\n      PresentationFramework.dll!MS.Internal.Data.DataBindEngine.Run(object arg)   Unknown\n      PresentationFramework.dll!MS.Internal.Data.DataBindEngine.OnLayoutUpdated(object sender, System.EventArgs e)    Unknown\n      PresentationCore.dll!System.Windows.ContextLayoutManager.fireLayoutUpdateEvent()    Unknown\n      PresentationCore.dll!System.Windows.ContextLayoutManager.UpdateLayout() Unknown\n      PresentationCore.dll!System.Windows.UIElement.UpdateLayout()    Unknown\n      PresentationFramework.dll!System.Windows.Controls.DataGridCell.BeginEdit(System.Windows.RoutedEventArgs e)  Unknown\n      PresentationFramework.dll!System.Windows.Controls.DataGrid.OnExecutedBeginEdit(System.Windows.Input.ExecutedRoutedEventArgs e)  Unknown\n      PresentationFramework.dll!System.Windows.Controls.DataGrid.OnExecutedBeginEdit(object sender, System.Windows.Input.ExecutedRoutedEventArgs e)   Unknown\n      PresentationCore.dll!System.Windows.Input.CommandBinding.OnExecuted(object sender, System.Windows.Input.ExecutedRoutedEventArgs e)  Unknown\n      PresentationCore.dll!System.Windows.Input.CommandManager.ExecuteCommandBinding(object sender, System.Windows.Input.ExecutedRoutedEventArgs e, System.Windows.Input.CommandBinding commandBinding)   Unknown\n      PresentationCore.dll!System.Windows.Input.CommandManager.FindCommandBinding(object sender, System.Windows.RoutedEventArgs e, System.Windows.Input.ICommand command, bool execute)   Unknown\n      PresentationCore.dll!System.Windows.Input.CommandManager.OnExecuted(object sender, System.Windows.Input.ExecutedRoutedEventArgs e)  Unknown\n      PresentationCore.dll!System.Windows.UIElement.OnExecutedThunk(object sender, System.Windows.Input.ExecutedRoutedEventArgs e)    Unknown\n      PresentationCore.dll!System.Windows.Input.ExecutedRoutedEventArgs.InvokeEventHandler(System.Delegate genericHandler, object target) Unknown\n      PresentationCore.dll!System.Windows.RoutedEventArgs.InvokeHandler(System.Delegate handler, object target)   Unknown\n      PresentationCore.dll!System.Windows.RoutedEventHandlerInfo.InvokeHandler(object target, System.Windows.RoutedEventArgs routedEventArgs) Unknown\n      PresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source, System.Windows.RoutedEventArgs args, bool reRaised)    Unknown\n      PresentationCore.dll!System.Windows.UIElement.RaiseEventImpl(System.Windows.DependencyObject sender, System.Windows.RoutedEventArgs args)   Unknown\n      PresentationCore.dll!System.Windows.UIElement.RaiseEvent(System.Windows.RoutedEventArgs args, bool trusted) Unknown\n      PresentationCore.dll!System.Windows.Input.RoutedCommand.ExecuteImpl(object parameter, System.Windows.IInputElement target, bool userInitiated)  Unknown\n      PresentationCore.dll!System.Windows.Input.RoutedCommand.Execute(object parameter, System.Windows.IInputElement target)  Unknown\n      PresentationFramework.dll!System.Windows.Controls.DataGrid.BeginEdit(System.Windows.RoutedEventArgs editingEventArgs)   Unknown\n      PresentationFramework.dll!System.Windows.Controls.DataGridCell.OnAnyMouseLeftButtonDown(System.Windows.Input.MouseButtonEventArgs e)    Unknown\n      PresentationFramework.dll!System.Windows.Controls.DataGridCell.OnAnyMouseLeftButtonDownThunk(object sender, System.Windows.Input.MouseButtonEventArgs e)    Unknown\n      PresentationCore.dll!System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(System.Delegate genericHandler, object genericTarget) Unknown\n      PresentationCore.dll!System.Windows.RoutedEventArgs.InvokeHandler(System.Delegate handler, object target)   Unknown\n      PresentationCore.dll!System.Windows.RoutedEventHandlerInfo.InvokeHandler(object target, System.Windows.RoutedEventArgs routedEventArgs) Unknown\n      PresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source, System.Windows.RoutedEventArgs args, bool reRaised)    Unknown\n      PresentationCore.dll!System.Windows.UIElement.ReRaiseEventAs(System.Windows.DependencyObject sender, System.Windows.RoutedEventArgs args, System.Windows.RoutedEvent newEvent)  Unknown\n      PresentationCore.dll!System.Windows.UIElement.OnMouseDownThunk(object sender, System.Windows.Input.MouseButtonEventArgs e)  Unknown\n      PresentationCore.dll!System.Windows.Input.MouseButtonEventArgs.InvokeEventHandler(System.Delegate genericHandler, object genericTarget) Unknown\n      PresentationCore.dll!System.Windows.RoutedEventArgs.InvokeHandler(System.Delegate handler, object target)   Unknown\n      PresentationCore.dll!System.Windows.RoutedEventHandlerInfo.InvokeHandler(object target, System.Windows.RoutedEventArgs routedEventArgs) Unknown\n      PresentationCore.dll!System.Windows.EventRoute.InvokeHandlersImpl(object source, System.Windows.RoutedEventArgs args, bool reRaised)    Unknown\n      PresentationCore.dll!System.Windows.UIElement.RaiseEventImpl(System.Windows.DependencyObject sender, System.Windows.RoutedEventArgs args)   Unknown\n      PresentationCore.dll!System.Windows.UIElement.RaiseTrustedEvent(System.Windows.RoutedEventArgs args)    Unknown\n      PresentationCore.dll!System.Windows.UIElement.RaiseEvent(System.Windows.RoutedEventArgs args, bool trusted) Unknown\n      PresentationCore.dll!System.Windows.Input.InputManager.ProcessStagingArea() Unknown\n      PresentationCore.dll!System.Windows.Input.InputManager.ProcessInput(System.Windows.Input.InputEventArgs input)  Unknown\n      PresentationCore.dll!System.Windows.Input.InputProviderSite.ReportInput(System.Windows.Input.InputReport inputReport)   Unknown\n      PresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.ReportInput(System.IntPtr hwnd, System.Windows.Input.InputMode mode, int timestamp, System.Windows.Input.RawMouseActions actions, int x, int y, int wheel)   Unknown\n      PresentationCore.dll!System.Windows.Interop.HwndMouseInputProvider.FilterMessage(System.IntPtr hwnd, MS.Internal.Interop.WindowMessage msg, System.IntPtr wParam, System.IntPtr lParam, ref bool handled)   Unknown\n      PresentationCore.dll!System.Windows.Interop.HwndSource.InputFilterMessage(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam, ref bool handled)    Unknown\n      WindowsBase.dll!MS.Win32.HwndWrapper.WndProc(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam, ref bool handled) Unknown\n      WindowsBase.dll!MS.Win32.HwndSubclass.DispatcherCallbackOperation(object o) Unknown\n      WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate callback, object args, int numArgs)  Unknown\n      WindowsBase.dll!System.Windows.Threading.ExceptionWrapper.TryCatchWhen(object source, System.Delegate callback, object args, int numArgs, System.Delegate catchHandler) Unknown\n      WindowsBase.dll!System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority priority, System.TimeSpan timeout, System.Delegate method, object args, int numArgs)   Unknown\n      WindowsBase.dll!MS.Win32.HwndSubclass.SubclassWndProc(System.IntPtr hwnd, int msg, System.IntPtr wParam, System.IntPtr lParam)  Unknown\n      [AppDomain Transition]  </p>\n</blockquote>\n"}, {"tags": ["c#", "bitmap", "image-comparison"], "answers": [{"comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1510196934, "post_id": 47187334, "comment_id": 81335655, "body": "Converting to base64 doesn&#39;t &quot;loose [sic]&quot; pixel values. They just get represented differently. It&#39;s the conversion to PNG first that will prevent effective comparisons. And the increase in data size for base64 is &quot;only&quot; 33%. Even accounting for the fact that six bits in binary gets converted to sixteen (because C# strings are UTF16), that&#39;s &quot;only&quot; a 167% increase in size, not &quot;more then [sic] 200%&quot;. And while reducing image size can improve speed, it really will lose pixel information, as will converting to greyscale. Consider e.g. comparing a solid-color image with other solid-color images."}, {"owner": {"reputation": 1619, "user_id": 8400446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48f5bf2a08d14f3c9b7dd92f835354a9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8400446/michael"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1510215089, "post_id": 47187334, "comment_id": 81342328, "body": "@PeterDuniho You&#39;re right, the pixel values are represented differently - but this makes it more difficult to access the pixel value at point x,y and I (personally) see only disadvantages in the base64 converesion. The lost pixel information by down- and greyscaling is correct (and might be wanted) and 16x16 is surely to small for most cases, but makes it easier to explain the steps on how to start comparing images and getting first results. With this first results he can start adjusting parameters like size or rgb/grayscale or used distances..."}], "tags": [], "owner": {"reputation": 1619, "user_id": 8400446, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48f5bf2a08d14f3c9b7dd92f835354a9?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8400446/michael"}, "is_accepted": false, "score": 0, "last_activity_date": 1510215375, "last_edit_date": 1510215375, "creation_date": 1510166582, "answer_id": 47187334, "question_id": 47186541, "link": "https://stackoverflow.com/questions/47186541/get-most-similar-image/47187334#47187334", "title": "Get most similar image", "body": "<p>Of course there is such way... But you have to code it yourself.</p>\n\n<p><strong>First</strong> you shoud not compare the base64 data... You'll loose direct pixel value access and increase the size of the data to compare by more then 150% (Originaly 200% but corrected thanks to PeterDuniho's comment) in C# due to UTF16.<br>\n<strong>Second</strong> I assume that all pictures have the same fixed size. Before comparing, reduce the image size to something really small, but keep the width/height aspect. This will speed up the comparsion and also eliminates noise.<br>\n<strong>Third</strong> Iterate both pictures and compare their grayscaled pixel values. I Assume that you have resized the picture to 16x16. Since we're comparing their grayscale-values the <em>value</em> of one pixel is between 0 and 255. So the maximum distance between both pictures will be <code>16 * 16 * 256 = 65536</code>. If both pictures are black, the <em>distance</em> between the pictures will be zero (100% similarity). If one picture is black and the other is white the distance will be 65535 (0% similarity).</p>\n\n<p>To compare the images iterate the picture-pixels and subtract the <code>grayscale-pixel-value-from-picture-a</code> from the <code>grayscale-pixel-value-of-picture-b</code> at the point <code>x,y</code> and add the <em>absolute</em> difference value to the counter. This counter will be the total distance between both pictures.\nLets assume this counter has a value of 1000 after the comparison loop, you get the percentage-similarity by <code>1000 / 65535</code> ~ 1.5% difference (or 98.5% similarity) between both pictures.</p>\n\n<p>pseudo-compare-code</p>\n\n<pre><code>long counter = 0;\nlong total = image.Width * image.Height * (Color.White - Color.Black);\nfor(int x = 0; x &lt; image.Width; x++)\n{\n    for(int y = 0; y &lt; image.Height; y++)\n    {\n        var p1 = image.GetPixel(x, y);\n        var p2 = otherImage.GetPixel(x, y);\n        var g1 = ((p1.R + p1.G + p1.B) / 3);\n        var g2 = ((p2.R + p2.G + p2.B) / 3);\n        var distance = Math.Abs(g1 - g2);\n        counter += distance;\n    }\n}\nvar similarity = 100 - ((counter / total) * 100);\n</code></pre>\n\n<p>This is an more or less easy approach, but you have to test this with you scenario/images. Instead of comparing grayscale-values you could also compare rgb-values. Look for distance definitions like the euclidean distance... Start and keep reading :)</p>\n\n<p>EDIT<br>\n<em>This is just a really basic approach that should explain how you can start comparing images. It does not take into account that there might be different image formats (jpeg, png, gif), color formats (indexed, 16bit, 24bit, 32bit) or images with different resolutions.</em></p>\n"}], "owner": {"reputation": 840, "user_id": 5292347, "user_type": "registered", "accept_rate": 24, "profile_image": "https://lh3.googleusercontent.com/-ahmB1uSwJo8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcFI54d1HiMALNuMeDWm_Lt8Ap5Aw/photo.jpg?sz=128", "display_name": "Carlos Siestrup", "link": "https://stackoverflow.com/users/5292347/carlos-siestrup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 887, "favorite_count": 0, "closed_date": 1510196984, "answer_count": 1, "score": -1, "last_activity_date": 1510215375, "creation_date": 1510163743, "question_id": 47186541, "link": "https://stackoverflow.com/questions/47186541/get-most-similar-image", "closed_reason": "Duplicate", "title": "Get most similar image", "body": "<p>I have one Bitmap A and one array of Bitmap, in the array there is a Bitmap that looks the same as Bitmap A. I'm using the code below but it sometimes doesnt work, it iterates the entire array without finding it, it seems there are some minor differences, is there a way to change the function to return true if its 90% similar or pick the most similar image in the array? The array has only 6 images.</p>\n\n<pre><code> for(int i = 0; i &lt; list.Count;i++)\n    {\n        if(ImageCompareString(image,list[i])\n        {\n            answerIndex = i;\n            break;\n        }\n    }\n\nprivate static bool ImageCompareString(Bitmap firstImage, Bitmap secondImage)\n{\n    MemoryStream ms = new MemoryStream();\n    firstImage.Save(ms, System.Drawing.Imaging.ImageFormat.Png);\n    String firstBitmap = Convert.ToBase64String(ms.ToArray());\n    ms.Position = 0;\n\n    secondImage.Save(ms, System.Drawing.Imaging.ImageFormat.Png);\n    String secondBitmap = Convert.ToBase64String(ms.ToArray());\n\n    if (firstBitmap.Equals(secondBitmap))\n    {\n        return true;\n    }\n    else\n    {\n        return false;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio", "visual-studio-2010"], "comments": [{"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1510164362, "post_id": 47186531, "comment_id": 81322470, "body": "Have you tried setting the width and height properties via the properties window?"}, {"owner": {"reputation": 13246, "user_id": 987509, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/gTtzl.png?s=128&g=1", "display_name": "Charleh", "link": "https://stackoverflow.com/users/987509/charleh"}, "edited": false, "score": 0, "creation_date": 1510165288, "post_id": 47186531, "comment_id": 81323045, "body": "Plus usually you&#39;d design the form with resizing in mind, the form should have a minimum size if required, but should be able to size itself dynamically to fit whichever screen size the user has."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1510166485, "post_id": 47186531, "comment_id": 81323725, "body": "It is a rock-hard limitation built in the Form class with no workaround.  A large screen surely has a higher DPI setting, so it is going to grow anyway.  125% would be a typical choice, so you should design for 1152 x 720.  Designing and coding so it is arbitrarily resizable, as a window should be, is always best."}], "owner": {"reputation": 31, "user_id": 8637636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UY6eT.jpg?s=128&g=1", "display_name": "Lee Daniel", "link": "https://stackoverflow.com/users/8637636/lee-daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 634, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1510163712, "creation_date": 1510163712, "question_id": 47186531, "link": "https://stackoverflow.com/questions/47186531/i-cant-increase-window-size-in-visual-studio-designer-because-of-limited-screen", "title": "I can&#39;t increase window size in Visual Studio Designer because of Limited Screen Resolution?", "body": "<p>Visual Studio Experts.\n<a href=\"https://i.stack.imgur.com/eOpD5.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nWhy is it, that in the Visual Studio WinForms designer I cannot increase the size of my Form above the resolution of the screen I am currently working on? I think it should somehow be possible to develop an application aimed at higher resolutions on a lower res system. The fact that this would clip the Form during debugging should not be an issue. Is there perhaps some setting in Visual Studio for this, which I cannot seem to find?</p>\n\n<p>EDIT: My main issue is that I need to be able to design a (for example) 1440x900 sized form on a laptop with a (for example) 1360x768 screen.</p>\n"}, {"tags": ["c#", ".net", "wpf", "xaml"], "comments": [{"owner": {"reputation": 18804, "user_id": 3225, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cplXg.png?s=128&g=1", "display_name": "kenny", "link": "https://stackoverflow.com/users/3225/kenny"}, "edited": false, "score": 0, "creation_date": 1510165366, "post_id": 47186510, "comment_id": 81323096, "body": "Create a ValueConverter that counts and show that value not matter what it&#39;s bound to might work. Or store it a struct with the string."}], "answers": [{"tags": [], "owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "is_accepted": true, "score": 2, "last_activity_date": 1510170967, "creation_date": 1510170967, "answer_id": 47188560, "question_id": 47186510, "link": "https://stackoverflow.com/questions/47186510/how-do-you-display-the-number-for-each-item-in-itemscontrol/47188560#47188560", "title": "How do you display the number for each item in ItemsControl?", "body": "<p>Create a class with Number and Image source as properties and update your ItemTemplate. See below code.</p>\n\n<pre><code>&lt;ListBox x:Name=\"ItemsControl1\" &gt;\n        &lt;ListBox.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Border BorderBrush=\"Black\" BorderThickness=\"2\" Width=\"Auto\" Height=\"Auto\"&gt;\n                    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                        &lt;TextBlock Text=\"{Binding Number}\"/&gt;\n                        &lt;Image Source=\"{Binding Source}\" Margin=\"0,0,5,0\"/&gt;\n                    &lt;/StackPanel&gt;\n\n                &lt;/Border&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListBox.ItemTemplate&gt;\n    &lt;/ListBox&gt;\n\npublic partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n        string[] assignments = new string[] { \"https://cdn2.iconfinder.com/data/icons/animals/48/Turtle.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Butterfly.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Dolphin.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Elephant.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Hippopotamus.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Panda.png\" };\n        Random rnd = new Random();\n\n        string[] randomingArray = assignments.OrderBy(x =&gt; rnd.Next()).ToArray();\n\n        string repeatNumber = \"\";\n\n        List&lt;ImageSource&gt; animals = new List&lt;ImageSource&gt;();\n\n        for (int i = 1; i &lt; 100; i++)\n        {\n            if (i == 9)\n            {\n                repeatNumber = randomingArray[i % randomingArray.Length];\n                animals.Add(new ImageSource(){ Source = repeatNumber, Number=i });\n            }\n            else if ((i % 9) == 0)\n            {\n                animals.Add(new ImageSource() { Source = repeatNumber, Number = i });\n            }\n            else\n            {\n                animals.Add(new ImageSource() { Source = randomingArray[i % randomingArray.Length], Number = i });\n            }\n            ItemsControl1.ItemsSource = animals;\n        }\n    }\n}\n\nclass ImageSource\n{\n    public int Number { get; set; }\n    public string Source { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 5963495, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-BABTHH7FxnE/AAAAAAAAAAI/AAAAAAAAADo/4aTtBaUT0b0/photo.jpg?sz=128", "display_name": "Ralfs R", "link": "https://stackoverflow.com/users/5963495/ralfs-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 47188560, "answer_count": 1, "score": 1, "last_activity_date": 1510170967, "creation_date": 1510163660, "question_id": 47186510, "link": "https://stackoverflow.com/questions/47186510/how-do-you-display-the-number-for-each-item-in-itemscontrol", "title": "How do you display the number for each item in ItemsControl?", "body": "<p>I've got this List which is assigned to itemscontrol in my xaml, I want to display the number for each item in the list:</p>\n\n<pre><code>    public partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        InitializeComponent();\n        string[] assignments = new string[] { \"https://cdn2.iconfinder.com/data/icons/animals/48/Turtle.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Butterfly.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Dolphin.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Elephant.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Hippopotamus.png\", \"https://cdn2.iconfinder.com/data/icons/animals/48/Panda.png\" };\n        Random rnd = new Random();\n\n        string[] randomingArray = assignments.OrderBy(x =&gt; rnd.Next()).ToArray();\n\n        string repeatNumber = \"\";\n\n        List&lt;string&gt; animals = new List&lt;string&gt;(); \n\n        for (int i = 1; i &lt; 100; i++)\n        {\n            if (i == 9)\n            {\n                repeatNumber = randomingArray[i % randomingArray.Length];\n                animals.Add(repeatNumber);\n            }\n            else if ((i % 9) == 0)\n            {\n                animals.Add(repeatNumber);\n            }\n            else\n            {\n                animals.Add(randomingArray[i % randomingArray.Length]);\n            }\n            ItemsControl1.ItemsSource = animals;\n        }\n    }\n}\n</code></pre>\n\n<p>The code of xaml:</p>\n\n<pre><code>&lt;ListBox x:Name=\"ItemsControl1\" &gt;\n        &lt;ListBox.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Border BorderBrush=\"Black\" BorderThickness=\"2\" Width=\"Auto\" Height=\"Auto\"&gt;\n                    &lt;Image Source=\"{Binding}\" Margin=\"0,0,5,0\"/&gt;\n                &lt;/Border&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListBox.ItemTemplate&gt;\n    &lt;/ListBox&gt;\n</code></pre>\n\n<p>Basically, there should be boxes with picture in them numbered from 1 - 99</p>\n\n<p>I have tried List.count method and other things that involve xaml into them, however i can't get it to work.</p>\n"}, {"tags": ["c#", "nullable"], "comments": [{"owner": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 1, "creation_date": 1510163388, "post_id": 47186395, "comment_id": 81321882, "body": "Your parentheses don&#39;t match. Please fix this so it compiles and correctly reflects your intent."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 1, "creation_date": 1510163734, "post_id": 47186395, "comment_id": 81322094, "body": "@Dave: The OP isn&#39;t trying to compare <code>nullableEnumOne</code> and <code>nullableEnumTwo</code> at all."}, {"owner": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1510163897, "post_id": 47186395, "comment_id": 81322191, "body": "@JonSkeet ah yes a very valid point. Apologies I had misread the question"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 2186, "user_id": 6915929, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2e6b032d2154f90233775dc88b84fd91?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/6915929/dave"}, "edited": false, "score": 1, "creation_date": 1510164117, "post_id": 47186395, "comment_id": 81322325, "body": "@Dave: Easy to do, and I&#39;ve done so hundreds of times before :)"}], "answers": [{"comments": [{"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 1, "creation_date": 1510164871, "post_id": 47186467, "comment_id": 81322786, "body": "Everything is better with extension methods :-)  <code>public static class NullableExtensions     {         public static bool NullOrEqual&lt;T&gt;(this T? nullable, T compareTo) where T: struct         {             return nullable == null || nullable.Value.Equals(compareTo);         }     }</code>"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 1, "creation_date": 1510164963, "post_id": 47186467, "comment_id": 81322851, "body": "@ZoharPeled: I&#39;m not sure - maybe in a very limited scope, but I tend to reserve extension methods for generally-useful code. This is pretty specific."}, {"owner": {"reputation": 73201, "user_id": 3094533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/9jbUI.jpg?s=128&g=1", "display_name": "Zohar Peled", "link": "https://stackoverflow.com/users/3094533/zohar-peled"}, "edited": false, "score": 1, "creation_date": 1510173268, "post_id": 47186467, "comment_id": 81327613, "body": "I guess it&#39;s a matter of opinion. To me, it seems that this kind of method is almost begging to be an extension method. IMHO, <code>NullOrEqual&lt;T&gt;</code> is much more readable as an extestion method then as a &quot;regular method&quot;. Also, I tend to use extension methods even if they are specific to a single project or assembly. As soon as a method needs to be used for the same type in more than one class, I usually consider it as a good candidate to be an extension method."}, {"owner": {"reputation": 4174, "user_id": 308451, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d4b2dee32c6cb215b43674ac9a95165d?s=128&d=identicon&r=PG", "display_name": "JBSnorro", "link": "https://stackoverflow.com/users/308451/jbsnorro"}, "edited": false, "score": 0, "creation_date": 1510765144, "post_id": 47186467, "comment_id": 81577185, "body": "As for better naming, I&#39;d prefer the slight modification <code>nullableEnumOne.EqualsNullOr(regularEnumOne)</code>"}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 13, "last_activity_date": 1510323503, "last_edit_date": 1510323503, "creation_date": 1510163542, "answer_id": 47186467, "question_id": 47186395, "link": "https://stackoverflow.com/questions/47186395/what-is-the-cleanest-way-to-see-if-a-nullable-type-has-a-value-and-if-it-does/47186467#47186467", "title": "What is the cleanest way to see if a nullable type has a value, and if it does, to compare the value to another non-nullable type&#39;s value?", "body": "<p>It's probably simplest to use the <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/null-conditional-operator\" rel=\"noreferrer\">null-coalescing operator</a> to \"default\" to the value that you're comparing against:</p>\n\n<pre><code>if ((nullableEnumOne ?? regularEnumOne) == regularEnumOne &amp;&amp;\n    (nullableEnumTwo ?? regularEnumTwo) == regularEnumTwo)\n</code></pre>\n\n<p>Or stick with your current code... or compare against <code>null</code> instead of using a negative condition:</p>\n\n<pre><code>if ((nullableEnumOne == null || nullableEnumOne.Value == regularEnumOne) \n    &amp;&amp; ((nullableEnumTwo == null || nullableEnumTwo.Value == regularEnumTwo))\n</code></pre>\n\n<p>Or slightly weirdly, you could call <code>Equals</code> with the null conditional operator, using the null coalescing operator to make the null case true:</p>\n\n<pre><code>if ((nullableEnumOne?.Equals(regularEnumOne) ?? true)\n   &amp;&amp; (nullableEnumTwo?.Equals(regularEnumTwo) ?? true))\n</code></pre>\n\n<p>None of these are <em>massively</em> readable, admittedly. I'd be tempted to write a helper method, so you can write:</p>\n\n<pre><code>if (NullOrEqual(nullableEnumOne, regularEnumOne) &amp;&amp;\n    NullOrEqual(nullableEnumTwo, regularEnumTwo))\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8817303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b1e4d47b7dc0fa147bfffb1a1cbc24?s=128&d=identicon&r=PG&f=1", "display_name": "arc54", "link": "https://stackoverflow.com/users/8817303/arc54"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 47186467, "answer_count": 1, "score": 1, "last_activity_date": 1510323503, "creation_date": 1510163265, "last_edit_date": 1510163994, "question_id": 47186395, "link": "https://stackoverflow.com/questions/47186395/what-is-the-cleanest-way-to-see-if-a-nullable-type-has-a-value-and-if-it-does", "title": "What is the cleanest way to see if a nullable type has a value, and if it does, to compare the value to another non-nullable type&#39;s value?", "body": "<p>I have two nullable enums which I would like to compare the value of to two regular enums. If the nullable enums do not have a value, I want the comparison to evaluate to true. This is what my logic looks like so far:</p>\n\n<pre><code>if (!nullableEnumOne.HasValue || nullableEnumOne.Value == regularEnumOne) \n    &amp;&amp; (!nullableEnumTwo.HasValue || nullableEnumTwo.Value == regularEnumTwo)\n{\n    //do something\n}\n</code></pre>\n\n<p>Is there a way to simplify this logic which I am missing?</p>\n"}]