[{"tags": ["c#", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7363252, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/710864735743712/picture?type=large", "display_name": "Dinu Adrian", "link": "https://stackoverflow.com/users/7363252/dinu-adrian"}, "edited": false, "score": 0, "creation_date": 1489019092, "post_id": 42684322, "comment_id": 72492951, "body": "How should i modifye the script so i cand get the desiered outcome? I did unity and C# for only like a week so it&#39;s hard for me..."}, {"owner": {"reputation": 10654, "user_id": 476048, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/dhByN.jpg?s=128&g=1", "display_name": "Berin Loritsch", "link": "https://stackoverflow.com/users/476048/berin-loritsch"}, "edited": false, "score": 0, "creation_date": 1489020605, "post_id": 42684322, "comment_id": 72493384, "body": "You need to reset <code>currentPoint</code> within the if statement.  Example: <code>backTracking = true; currentPoint = 0;</code>  Or you handle backTracking differently."}, {"owner": {"reputation": 10654, "user_id": 476048, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/dhByN.jpg?s=128&g=1", "display_name": "Berin Loritsch", "link": "https://stackoverflow.com/users/476048/berin-loritsch"}, "edited": false, "score": 1, "creation_date": 1489020681, "post_id": 42684322, "comment_id": 72493407, "body": "Actually, you <i>also</i> have to make sure that <code>currentPoint</code> is never negative.  Add an if statement to turn off backTracking if <code>currentPoint</code> reaches 0."}, {"owner": {"reputation": 926, "user_id": 5743967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e855822f999e8abdece6bdd5a413e60?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowed", "link": "https://stackoverflow.com/users/5743967/shadowed"}, "reply_to_user": {"reputation": 107, "user_id": 7363252, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/710864735743712/picture?type=large", "display_name": "Dinu Adrian", "link": "https://stackoverflow.com/users/7363252/dinu-adrian"}, "edited": false, "score": 0, "creation_date": 1489048533, "post_id": 42684322, "comment_id": 72503424, "body": "@DinuAdrian, that depends what you want to accomplish. I never used Unity so I can&#39;t recommend anything but you should check <code>if(currentPoint &gt;= pointPosition.Length || currentPoint &lt; 0)</code> and handle that case in any way appropriate to what you are making."}], "tags": [], "owner": {"reputation": 926, "user_id": 5743967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e855822f999e8abdece6bdd5a413e60?s=128&d=identicon&r=PG&f=1", "display_name": "Shadowed", "link": "https://stackoverflow.com/users/5743967/shadowed"}, "is_accepted": false, "score": 1, "last_activity_date": 1489017949, "creation_date": 1489017949, "answer_id": 42684322, "question_id": 42684257, "link": "https://stackoverflow.com/questions/42684257/why-does-it-throw-an-index-out-of-range-error/42684322#42684322", "title": "Why does it throw an index out of range error?", "body": "<p>Your <code>currentPoint</code> becomes too large. You even have checking:</p>\n\n<pre><code>if(currentPoint &gt;= pointPosition.Length) {\n    backTracking = true;\n}\n</code></pre>\n\n<p>but beside setting <code>backTracking</code> to <code>true</code>, you don't do anything about it and in your next line you are using <code>pointPosition[currentPoint]</code>. If it became greater or equal to <code>pointPosition.Length</code> it is out of range.</p>\n"}, {"tags": [], "owner": {"reputation": 10654, "user_id": 476048, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/dhByN.jpg?s=128&g=1", "display_name": "Berin Loritsch", "link": "https://stackoverflow.com/users/476048/berin-loritsch"}, "is_accepted": true, "score": 1, "last_activity_date": 1489020801, "creation_date": 1489020801, "answer_id": 42684722, "question_id": 42684257, "link": "https://stackoverflow.com/questions/42684257/why-does-it-throw-an-index-out-of-range-error/42684722#42684722", "title": "Why does it throw an index out of range error?", "body": "<p>The <code>IndexOutOfRangeException</code> happens in two cases: the index is either too large or too small.  You can't use negative indexers in C#.  You have this:</p>\n\n<pre><code>    if(currentPoint &gt;= pointPosition.Length) {\n        backTracking = true;\n        currentPoint = pointPosition.Length - 1;\n    }\n</code></pre>\n\n<p>Now you need to add this directly afterwards:</p>\n\n<pre><code>    if(currentPoint &lt;= 0) {\n        backTracking = false;\n        currentPoint = 0;\n    }\n</code></pre>\n\n<p>The additional line to clamp the <code>currentPoint</code> to the boundary position ensures that it is within bounds before the next line is called.</p>\n\n<p>At this point if you get an <code>IndexOutOfRangeException</code> then it would be because the pointPosition[] is empty and has no elements.</p>\n"}], "owner": {"reputation": 107, "user_id": 7363252, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/710864735743712/picture?type=large", "display_name": "Dinu Adrian", "link": "https://stackoverflow.com/users/7363252/dinu-adrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 42684722, "answer_count": 2, "score": 0, "last_activity_date": 1489020801, "creation_date": 1489017543, "last_edit_date": 1489019844, "question_id": 42684257, "link": "https://stackoverflow.com/questions/42684257/why-does-it-throw-an-index-out-of-range-error", "title": "Why does it throw an index out of range error?", "body": "<p>So i am tryng to make a game object move back and forth between three points,this is in unity in C#,I assigned 3 game objects in the unity inspector,I want the enamy GameObject to move between the points back and forth like a patrol.The problem is that i get an index out of range error. Why is that and how can i fix it?\nSorry for possible gramatical mestakes.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class Enamy2 : MonoBehaviour {\n\n    public Transform[] pointPosition;\n    public float enamySpeed;\n    private int currentPoint;\n    private bool backTracking = false;\n\n\n    // Use this for initialization\n    void Start () {\n        transform.position = pointPosition [0].position;\n        currentPoint = 0;\n\n    }\n\n    // Update is called once per frame\n    void Update () {\n        if (transform.position == pointPosition[currentPoint].position) {\n            if (backTracking)\n                currentPoint--;\n            else\n                currentPoint++;\n        }\n        if(currentPoint &gt;= pointPosition.Length) {\n            backTracking = true;\n        }\n        transform.position = Vector3.MoveTowards (transform.position, pointPosition [currentPoint].position, Time.deltaTime * enamySpeed);\n    }\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c#", "winforms", "listbox"], "comments": [{"owner": {"reputation": 2021, "user_id": 1518100, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EW5RK.jpg?s=128&g=1", "display_name": "Lei Yang", "link": "https://stackoverflow.com/users/1518100/lei-yang"}, "edited": false, "score": 0, "creation_date": 1489022972, "post_id": 42684059, "comment_id": 72493977, "body": "Then I press a Button to move the Item up.---how? this is not built in behaviour"}, {"owner": {"reputation": 13, "user_id": 7681249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228a7d8ed2b0e0296760a13af6ba5eae?s=128&d=identicon&r=PG&f=1", "display_name": "NBY", "link": "https://stackoverflow.com/users/7681249/nby"}, "reply_to_user": {"reputation": 2021, "user_id": 1518100, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EW5RK.jpg?s=128&g=1", "display_name": "Lei Yang", "link": "https://stackoverflow.com/users/1518100/lei-yang"}, "edited": false, "score": 0, "creation_date": 1489023370, "post_id": 42684059, "comment_id": 72494064, "body": "Created a button and made a click event on that &#39;up&#39; button"}, {"owner": {"reputation": 2021, "user_id": 1518100, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/EW5RK.jpg?s=128&g=1", "display_name": "Lei Yang", "link": "https://stackoverflow.com/users/1518100/lei-yang"}, "edited": false, "score": 0, "creation_date": 1489023432, "post_id": 42684059, "comment_id": 72494076, "body": "Put that code because that is the key. you may need add <code>Focus()</code>"}, {"owner": {"reputation": 48588, "user_id": 3152130, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/RqxLT.jpg?s=128&g=1", "display_name": "TaW", "link": "https://stackoverflow.com/users/3152130/taw"}, "edited": false, "score": 0, "creation_date": 1489048645, "post_id": 42684059, "comment_id": 72503489, "body": "Simply set HideSelection to false!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7681249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228a7d8ed2b0e0296760a13af6ba5eae?s=128&d=identicon&r=PG&f=1", "display_name": "NBY", "link": "https://stackoverflow.com/users/7681249/nby"}, "edited": false, "score": 0, "creation_date": 1489059168, "post_id": 42689324, "comment_id": 72510612, "body": "That looks like what I&#39;m trying to do. Thank you!"}, {"owner": {"reputation": 3935, "user_id": 6272102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GA38P.jpg?s=128&g=1", "display_name": "Berkay", "link": "https://stackoverflow.com/users/6272102/berkay"}, "reply_to_user": {"reputation": 13, "user_id": 7681249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228a7d8ed2b0e0296760a13af6ba5eae?s=128&d=identicon&r=PG&f=1", "display_name": "NBY", "link": "https://stackoverflow.com/users/7681249/nby"}, "edited": false, "score": 0, "creation_date": 1489059956, "post_id": 42689324, "comment_id": 72511108, "body": "Glad to hear that @Nick"}], "tags": [], "owner": {"reputation": 3935, "user_id": 6272102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GA38P.jpg?s=128&g=1", "display_name": "Berkay", "link": "https://stackoverflow.com/users/6272102/berkay"}, "is_accepted": true, "score": 2, "last_activity_date": 1489044939, "creation_date": 1489044939, "answer_id": 42689324, "question_id": 42684059, "link": "https://stackoverflow.com/questions/42684059/c-how-do-you-keep-selected-items-highlighted-in-a-listbox-on-a-windowsform-app/42689324#42689324", "title": "C#: How do you keep selected Items highlighted in a ListBox on a WindowsForm application?", "body": "<p>If I didn't understand wrong you are looking for <code>SetSelected()</code> method.</p>\n\n<pre><code>private void button1_Click(object sender, EventArgs e)\n        {\n            if (listBox1.SelectedIndex &gt; 0)\n            {\n                int selectedIndex = listBox1.SelectedIndex;\n                object selectedItem = listBox1.SelectedItem;\n                listBox1.Items.Remove(selectedItem);\n                listBox1.Items.Insert(selectedIndex - 1, selectedItem);\n                listBox1.SetSelected(selectedIndex -1, true); // here we go\n            }\n        }\n</code></pre>\n\n<p><strong>Result;</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/vatao.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vatao.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Hope helps,</p>\n"}], "owner": {"reputation": 13, "user_id": 7681249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228a7d8ed2b0e0296760a13af6ba5eae?s=128&d=identicon&r=PG&f=1", "display_name": "NBY", "link": "https://stackoverflow.com/users/7681249/nby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 0, "accepted_answer_id": 42689324, "answer_count": 1, "score": 0, "last_activity_date": 1494375349, "creation_date": 1489016483, "last_edit_date": 1489017003, "question_id": 42684059, "link": "https://stackoverflow.com/questions/42684059/c-how-do-you-keep-selected-items-highlighted-in-a-listbox-on-a-windowsform-app", "title": "C#: How do you keep selected Items highlighted in a ListBox on a WindowsForm application?", "body": "<p>I have a <code>ListBox</code> where I select some <code>Item</code>(s) in it which get highlighted. Then I press a <code>Button</code> to move the <code>Item</code> up. After I click that 'up' <code>Button</code> and it does what it's supposed to, that same <code>Item</code> isn't highlighted anymore - which I still want it to be.<br>\nHow come? </p>\n\n<p>I looked up the properties for <code>ListBox</code> and didn't see anything that would match this situation. However, I did see a <code>ListView</code> property called <code>HideSelection</code> that seems to be what I'm looking for, but my <code>Control</code> isn't a <code>ListView</code>, it's a <code>ListBox</code>. </p>\n\n<p>Basically the question is:<br>\nHow do I keep those <code>Item</code>s highlighted after I click the <code>Button</code>?<br>\nI'm a little lost. Any help would be appreciated. </p>\n"}, {"tags": ["c#", "visual-studio-2017", "resharper", "xunit", ".net-standard"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1489120943, "post_id": 42684047, "comment_id": 72542020, "body": "Rarely people include unit test cases in their class libraries. If you put test cases in a separate class library in the past, then changing it to a console app for .NET Core is also of almost no effort at all. I don&#39;t understand why you emphasize on &quot;I don&#39;t want a netcore app&quot;. That&#39;s not an attitude for discussions."}, {"owner": {"reputation": 13852, "user_id": 1489968, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/uHIIM.png?s=128&g=1", "display_name": "Sven-Michael St&#252;be", "link": "https://stackoverflow.com/users/1489968/sven-michael-st%c3%bcbe"}, "reply_to_user": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1489133760, "post_id": 42684047, "comment_id": 72547474, "body": ".NET core is not .netstandard. See: <a href=\"https://msdnshared.blob.core.windows.net/media/2016/09/dotnet-tomorrow.png\" rel=\"nofollow noreferrer\">msdnshared.blob.core.windows.net/media/2016/09/&hellip;</a> netcore is not compatible with Xamarin."}], "answers": [{"comments": [{"owner": {"reputation": 638, "user_id": 369962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9954a26eda7e825968b324be09c6628d?s=128&d=identicon&r=PG", "display_name": "Rory Primrose", "link": "https://stackoverflow.com/users/369962/rory-primrose"}, "edited": false, "score": 0, "creation_date": 1489027010, "post_id": 42685602, "comment_id": 72495017, "body": "Annoyingly dotnet test only executes against the project directory, so you will have to run it many times if you have several test projects in the solution."}, {"owner": {"reputation": 13852, "user_id": 1489968, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/uHIIM.png?s=128&g=1", "display_name": "Sven-Michael St&#252;be", "link": "https://stackoverflow.com/users/1489968/sven-michael-st%c3%bcbe"}, "edited": false, "score": 0, "creation_date": 1489097463, "post_id": 42685602, "comment_id": 72534730, "body": "Thanks for the answer. Unfortunately, it did not work as expected. Please see my edit."}], "tags": [], "owner": {"reputation": 638, "user_id": 369962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9954a26eda7e825968b324be09c6628d?s=128&d=identicon&r=PG", "display_name": "Rory Primrose", "link": "https://stackoverflow.com/users/369962/rory-primrose"}, "is_accepted": false, "score": 1, "last_activity_date": 1489026618, "creation_date": 1489026618, "answer_id": 42685602, "question_id": 42684047, "link": "https://stackoverflow.com/questions/42684047/running-xunit-tests-included-in-a-net-standard-1-6-library/42685602#42685602", "title": "running xunit tests included in a .NET Standard 1.6 library", "body": "<p>If you run dotnet new xunit you will see an additional reference included.</p>\n\n<pre><code>&lt;PackageReference Include=\"Microsoft.NET.Test.Sdk\" Version=\"15.0.0\" /&gt;\n</code></pre>\n\n<p>I have found the same outcome in the current IDE tooling. You can however run the tests on the commandline using</p>\n\n<pre><code>dotnet test -l \"trx\"\n</code></pre>\n\n<p>I'm trying to target netstandard1.5;net452 but only the net452 tests are run, not the netstandard1.5 tests.</p>\n"}, {"comments": [{"owner": {"reputation": 13852, "user_id": 1489968, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/uHIIM.png?s=128&g=1", "display_name": "Sven-Michael St&#252;be", "link": "https://stackoverflow.com/users/1489968/sven-michael-st%c3%bcbe"}, "edited": false, "score": 0, "creation_date": 1489097467, "post_id": 42685800, "comment_id": 72534734, "body": "Thanks for the answer. Unfortunately, it did not work as expected. Please see my edit."}], "tags": [], "owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1489027912, "creation_date": 1489027912, "answer_id": 42685800, "question_id": 42684047, "link": "https://stackoverflow.com/questions/42684047/running-xunit-tests-included-in-a-net-standard-1-6-library/42685800#42685800", "title": "running xunit tests included in a .NET Standard 1.6 library", "body": "<p>It is tricky, but doable, if you refer to the other answer as well as the sample project below,</p>\n\n<p><a href=\"https://github.com/lextm/sharpsnmplib/blob/master/Tests/Tests.NetStandard.csproj\" rel=\"nofollow noreferrer\">https://github.com/lextm/sharpsnmplib/blob/master/Tests/Tests.NetStandard.csproj</a></p>\n\n<p>Of course, some NuGet packages used in the sample have already been updated to stable.</p>\n\n<p>The following are critical,\n<code>\n    &lt;PackageReference Include=\"Microsoft.NET.Test.Sdk\"&gt;\n      &lt;Version&gt;15.0.0-preview-20170125-04&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=\"xunit\"&gt;\n      &lt;Version&gt;2.2.0-beta5-build3474&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n    &lt;PackageReference Include=\"xunit.runner.visualstudio\"&gt;\n      &lt;Version&gt;2.2.0-beta5-build1225&lt;/Version&gt;\n    &lt;/PackageReference&gt;\n</code>\nThe project that contains unit test cases must be a console app targeting .NET Core.</p>\n"}, {"comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1489120834, "post_id": 42707864, "comment_id": 72541988, "body": "Though this should be a comment, I fully agree on your points. Who posted this question should strictly follow Microsoft&#39;s design, not against it."}, {"owner": {"reputation": 13852, "user_id": 1489968, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/uHIIM.png?s=128&g=1", "display_name": "Sven-Michael St&#252;be", "link": "https://stackoverflow.com/users/1489968/sven-michael-st%c3%bcbe"}, "edited": false, "score": 4, "creation_date": 1489133609, "post_id": 42707864, "comment_id": 72547393, "body": "Because they were in a PCL 259, before. That enables me, to run the unit tests on different platforms like Windows, Android and iOS. And .Net standard is the PCL successor. I don&#39;t agree that this is an anti pattern. What is the correct library type for my scenario in your opinion?"}], "tags": [], "owner": {"reputation": 9869, "user_id": 177516, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/G0gqG.jpg?s=128&g=1", "display_name": "MindingData", "link": "https://stackoverflow.com/users/177516/mindingdata"}, "is_accepted": false, "score": 1, "last_activity_date": 1489104375, "creation_date": 1489104375, "answer_id": 42707864, "question_id": 42684047, "link": "https://stackoverflow.com/questions/42684047/running-xunit-tests-included-in-a-net-standard-1-6-library/42707864#42707864", "title": "running xunit tests included in a .NET Standard 1.6 library", "body": "<p>Unfortunately you are correct in that class libraries (Or .net standard libraries) are not made to run unit tests. Infact many tutorials you find on the web (Such as this one : <a href=\"http://dotnetcoretutorials.com/2017/01/30/running-unit-tests-dotnet-test/\" rel=\"nofollow noreferrer\">http://dotnetcoretutorials.com/2017/01/30/running-unit-tests-dotnet-test/</a>) will talk you into creating a <strong>CONSOLE</strong> application and then deleting what you don't need. </p>\n\n<p>I think the issue likely is why does your unit tests need to be in a .net standard library? If you are distributing a library that has associated unit tests, the tests themselves don't need to be in .net standard as nothing will be referencing them. And within your own solution, test assemblies that are to be run shouldn't be referenced from elsewhere. </p>\n"}, {"tags": [], "owner": {"reputation": 4474, "user_id": 1134836, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/eb27fea85ac4312aaea6c32ba027fdf5?s=128&d=identicon&r=PG", "display_name": "valdetero", "link": "https://stackoverflow.com/users/1134836/valdetero"}, "is_accepted": false, "score": 1, "last_activity_date": 1502910412, "creation_date": 1502910412, "answer_id": 45721199, "question_id": 42684047, "link": "https://stackoverflow.com/questions/42684047/running-xunit-tests-included-in-a-net-standard-1-6-library/45721199#45721199", "title": "running xunit tests included in a .NET Standard 1.6 library", "body": "<p>I know this is an older question, but I have had the same problem - writing xunit tests that run in the Visual Studio test runner and Xamarin.iOS/Droid . For netstandard what I ended up doing was creating a Unit test project that was .NET Core 2.0, creating the Xamarin.* test applications (and configuring  them for unit), and creating a <em>Shared project</em> instead of netstandard library. This worked for me.</p>\n\n<p>My test project structure is:</p>\n\n<ul>\n<li>Project.Tests.Droid (Droid UI project)</li>\n<li>Project.Tests.iOS (iOS UI project)</li>\n<li>Project.Tests.Unit (VS Unit test project)</li>\n<li>Project.Tests (shared project)</li>\n</ul>\n\n<p>All my tests are in Project.Tests.</p>\n"}], "owner": {"reputation": 13852, "user_id": 1489968, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/uHIIM.png?s=128&g=1", "display_name": "Sven-Michael St&#252;be", "link": "https://stackoverflow.com/users/1489968/sven-michael-st%c3%bcbe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2059, "favorite_count": 0, "answer_count": 4, "score": 6, "last_activity_date": 1515592022, "creation_date": 1489016423, "last_edit_date": 1515592022, "question_id": 42684047, "link": "https://stackoverflow.com/questions/42684047/running-xunit-tests-included-in-a-net-standard-1-6-library", "title": "running xunit tests included in a .NET Standard 1.6 library", "body": "<p>I just created a netstandard library in Visual Studio 2017 and added references to <code>xunit</code> and <code>xunit.runner.visualstudio</code>, but the VS Test Explorer and Resharper 2017 EAP 3 are not recognizing any tests. I've seen:  <a href=\"https://stackoverflow.com/questions/41350323/unit-testing-a-net-standard-1-6-library\">Unit testing a .NET Standard 1.6 library</a> but project.json is gone and csproj is back in place. </p>\n\n<p>What do I have to do, to be able to run the unit tests included in a netstandard library?</p>\n\n<p><strong>Library.csproj</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;netstandard1.6&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;ItemGroup&gt;\n    &lt;PackageReference Include=\"xunit\" Version=\"2.2.0\" /&gt;\n    &lt;PackageReference Include=\"xunit.runner.visualstudio\" Version=\"2.2.0\" /&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p><strong>Test.cs</strong></p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>namespace ClassLibrary2\n{\n    public class Class1\n    {\n        [Fact]\n        public void RescharperShouldRunTest()\n        {\n            Assert.True(true);\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DGuBI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DGuBI.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Edit</strong></p>\n\n<p>Thanks to the answers I made some progress.</p>\n\n<p>Adding </p>\n\n<pre><code>&lt;PackageReference Include=\"Microsoft.NET.Test.Sdk\" Version=\"15.0.0\" /&gt;  \n&lt;!-- ... and ...  --&gt; \n&lt;ItemGroup&gt;\n    &lt;Service Include=\"{82a7f48d-3b50-4b1e-b82e-3ada8210c358}\" /&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n\n<p>did have no impact. Only if I change the <code>TargetFramework</code> to <code>netcoreapp1.1</code> VS discovered the test and could run them. With <code>netstandard1.6</code> the Test Explorer remains empty. But I don't want a netcore app. I want a .NET standard library.</p>\n"}, {"tags": ["c#", "windows", "printing", "print-spooler-api"], "comments": [{"owner": {"reputation": 2670, "user_id": 313445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fxw3W.jpg?s=128&g=1", "display_name": "Nick Westgate", "link": "https://stackoverflow.com/users/313445/nick-westgate"}, "edited": false, "score": 0, "creation_date": 1489098471, "post_id": 42684035, "comment_id": 72535167, "body": "<a href=\"http://stackoverflow.com/questions/42102898/how-to-programmatically-achieve-editing-of-the-spool-file-header-of-the-normal-w/42124626#42124626\">Here&#39;s an answer you might find relevant</a>. There are a few similar questions on SO if you look around. Unfortunately the print API doesn&#39;t make this particularly easy."}, {"owner": {"reputation": 6675, "user_id": 854742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc3befe29d589c7c34fd1600affc041?s=128&d=identicon&r=PG", "display_name": "Carey Gregory", "link": "https://stackoverflow.com/users/854742/carey-gregory"}, "edited": false, "score": 0, "creation_date": 1489685915, "post_id": 42684035, "comment_id": 72791365, "body": "Doing this in C# is mainly going to make your life harder. Also, be aware that RedMon and similar solutions involving port monitors won&#39;t work with v4 print drivers. So yeah, this is a big complicated project you&#39;ve got."}], "owner": {"reputation": 233, "user_id": 4698692, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/7e61d7171cb5909bf4e036f2f99c60fe?s=128&d=identicon&r=PG&f=1", "display_name": "In the stars", "link": "https://stackoverflow.com/users/4698692/in-the-stars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 974, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1489016366, "creation_date": 1489016366, "question_id": 42684035, "link": "https://stackoverflow.com/questions/42684035/capture-printer-job-data-stream-windows", "title": "Capture printer job data stream - Windows", "body": "<p>I will be working with a mix of networked and local printers and need to capture the actual data sent for printing going to either local or networked printers.</p>\n\n<p>I have looked over the print spooler api and some of it looks promising, but it seems like it would require acquiring jobID and finding the corresponding file (if you enable save to file for printing).</p>\n\n<p>I have also seen an application called redmon that could work for my purposes but I was hoping to write a unique c# application to acquire the data and handle it.</p>\n\n<p>My Goal: gather print data sent from an application I have no access to. I will then need to work with this data and possibly store it for later use. I obviously would prefer gathering this through print spooler api calls but it seems like this isn't functionality built into it. Any help would be appreciated.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "listbox", "click"], "comments": [{"owner": {"reputation": 42140, "user_id": 1011959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60c9e8f9fd67fe50bba96ddbfbb43c9?s=128&d=identicon&r=PG", "display_name": "Nikhil Agrawal", "link": "https://stackoverflow.com/users/1011959/nikhil-agrawal"}, "edited": false, "score": 0, "creation_date": 1489016453, "post_id": 42683934, "comment_id": 72492090, "body": "In your case sender will be List, so cast sender to List. Take out its selected item. cast it to ListItem and cast its <code>DataContext</code> to <code>Item</code> type."}, {"owner": {"reputation": 969, "user_id": 1300186, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g5fak.png?s=128&g=1", "display_name": "PersuitOfPerfection", "link": "https://stackoverflow.com/users/1300186/persuitofperfection"}, "reply_to_user": {"reputation": 42140, "user_id": 1011959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60c9e8f9fd67fe50bba96ddbfbb43c9?s=128&d=identicon&r=PG", "display_name": "Nikhil Agrawal", "link": "https://stackoverflow.com/users/1011959/nikhil-agrawal"}, "edited": false, "score": 0, "creation_date": 1489016699, "post_id": 42683934, "comment_id": 72492178, "body": "@NikhilAgrawal If i&#39;m casting sender to List&lt;item&gt; how do I retrieve the selected item?"}, {"owner": {"reputation": 42140, "user_id": 1011959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60c9e8f9fd67fe50bba96ddbfbb43c9?s=128&d=identicon&r=PG", "display_name": "Nikhil Agrawal", "link": "https://stackoverflow.com/users/1011959/nikhil-agrawal"}, "edited": false, "score": 0, "creation_date": 1489016852, "post_id": 42683934, "comment_id": 72492233, "body": "My bad. <code>sender</code> would be <code>ListBox</code>, so cast sender to ListBox. Take out its selected item. Cast that to <code>ListItem</code> and cast its <code>DataContext</code> to <code>Item</code> type."}, {"owner": {"reputation": 969, "user_id": 1300186, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g5fak.png?s=128&g=1", "display_name": "PersuitOfPerfection", "link": "https://stackoverflow.com/users/1300186/persuitofperfection"}, "reply_to_user": {"reputation": 42140, "user_id": 1011959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b60c9e8f9fd67fe50bba96ddbfbb43c9?s=128&d=identicon&r=PG", "display_name": "Nikhil Agrawal", "link": "https://stackoverflow.com/users/1011959/nikhil-agrawal"}, "edited": false, "score": 0, "creation_date": 1489017038, "post_id": 42683934, "comment_id": 72492307, "body": "@NikhilAgrawal So you mean something like this? <a href=\"https://gist.github.com/DannyGlover/bbf2bf5900510445abf12e8a55854cd8\" rel=\"nofollow noreferrer\">gist.github.com/DannyGlover/bbf2bf5900510445abf12e8a55854cd8</a>  - It still crashes, so perhaps i&#39;m interpreting you incorrectly. Thanks for the help thus far."}], "answers": [{"comments": [{"owner": {"reputation": 969, "user_id": 1300186, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g5fak.png?s=128&g=1", "display_name": "PersuitOfPerfection", "link": "https://stackoverflow.com/users/1300186/persuitofperfection"}, "edited": false, "score": 0, "creation_date": 1489018581, "post_id": 42684404, "comment_id": 72492788, "body": "That worked perfectly! Makes a lot more sense now (the problem and the solution). Thank you very much."}], "tags": [], "owner": {"reputation": 987, "user_id": 693933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/979ed0fa73c9c0b1d768ecf890da035b?s=128&d=identicon&r=PG", "display_name": "Yarik", "link": "https://stackoverflow.com/users/693933/yarik"}, "is_accepted": false, "score": 1, "last_activity_date": 1489018444, "creation_date": 1489018444, "answer_id": 42684404, "question_id": 42683934, "link": "https://stackoverflow.com/questions/42683934/getting-clicked-item-object-using-xaml-databinding/42684404#42684404", "title": "Getting clicked Item object using XAML databinding", "body": "<p>You can get the <code>OriginalSource</code> of the event and examine its <code>DataContext</code>:</p>\n\n<pre><code>var item = (e.OriginalSource as FrameworkElement)?.DataContext as Item;\nif (item != null) { /* Do something with item... */ }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 969, "user_id": 1300186, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g5fak.png?s=128&g=1", "display_name": "PersuitOfPerfection", "link": "https://stackoverflow.com/users/1300186/persuitofperfection"}, "edited": false, "score": 0, "creation_date": 1489020584, "post_id": 42684676, "comment_id": 72493373, "body": "This answer is even better than the previous one, as it results in cleaner (imho) code behind. Thank you very much!"}], "tags": [], "owner": {"reputation": 1663, "user_id": 2906385, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/nEkYf.jpg?s=128&g=1", "display_name": "Leaky", "link": "https://stackoverflow.com/users/2906385/leaky"}, "is_accepted": true, "score": 1, "last_activity_date": 1489020496, "creation_date": 1489020496, "answer_id": 42684676, "question_id": 42683934, "link": "https://stackoverflow.com/questions/42683934/getting-clicked-item-object-using-xaml-databinding/42684676#42684676", "title": "Getting clicked Item object using XAML databinding", "body": "<p>Besides the accepted answer, alternatively you can bind the <code>PreviewMouseDown</code> event directly to the <code>ListBoxItem</code>.</p>\n\n<p>In that case the <strong>XAML</strong> can be (emphasis on the added <code>&lt;ListBox.ItemContainerStyle&gt;</code> node):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;userControls:MyListBox x:Name=\"ItemsListBox\" ItemsSource=\"{Binding ItemsCollection}\" PreviewMouseDown=\"listBoxItems_PreviewMouseDown\"&gt;\n    &lt;ListBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;VirtualizingStackPanel&gt;\n                &lt;Image Source=\"{Binding ImagePath}\" Width=\"200\" Height=\"100\"/&gt;\n                &lt;TextBlock Text=\"{Binding Name}\" /&gt;\n            &lt;/VirtualizingStackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListBox.ItemTemplate&gt;\n    &lt;ListBox.ItemContainerStyle&gt;\n        &lt;Style TargetType=\"{x:Type ListBoxItem}\"&gt;\n            &lt;EventSetter Event=\"PreviewMouseDown\" Handler=\"listBoxItems_PreviewMouseDown\" /&gt;\n        &lt;/Style&gt;\n    &lt;/ListBox.ItemContainerStyle&gt;\n&lt;/userControls:MyListBox&gt;\n</code></pre>\n\n<p>And the <strong>handler</strong>:</p>\n\n<pre><code>    // Handle mouse down events on listbox items\n    private void listBoxItems_PreviewMouseDown(object sender, System.Windows.Input.MouseButtonEventArgs e)\n    {\n\n        // Ideally, i'd like to do something like this\n        Item item = (sender as ListBoxItem).DataContext as Item;\n\n        // So then I could do for example\n        Console.WriteLine(@\"Clicked item SomeString: {0}, SomeInt {1}\", item.SomeString, item.SomeInt);\n    }\n</code></pre>\n"}], "owner": {"reputation": 969, "user_id": 1300186, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/g5fak.png?s=128&g=1", "display_name": "PersuitOfPerfection", "link": "https://stackoverflow.com/users/1300186/persuitofperfection"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 42684676, "answer_count": 2, "score": 1, "last_activity_date": 1489020496, "creation_date": 1489015899, "question_id": 42683934, "link": "https://stackoverflow.com/questions/42683934/getting-clicked-item-object-using-xaml-databinding", "title": "Getting clicked Item object using XAML databinding", "body": "<p>I am binding my ListBox to an items collection, which contains instances of my Item's class. </p>\n\n<p>This part works as expected. The problem i'm having is accessing the clicked ListBox items <code>item</code> instance. I have included the full example and the relevant XAML. </p>\n\n<p>I have also included an example of how I would like to access the <code>Item</code> instance inside the <code>listBoxItems_PreviewMouseDown</code> event handler. </p>\n\n<p>I assume i'm missing something obvious, but the code crashes when I click an item. Am I missing another binding to glue all of this together?</p>\n\n<p>Thank you</p>\n\n<p><strong>Code behind</strong>:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Collections.Generic;\nusing System.Collections.ObjectModel;\nusing System.ComponentModel;\nusing System.Linq;\nusing System.Windows;\nusing System.Windows.Threading;\n\nnamespace WpfApplication1\n{\n    /// &lt;summary&gt;\n    /// Interaction logic for MainWindow.xaml\n    /// &lt;/summary&gt;\n    public partial class MainWindow : Window\n    {\n        // Item class\n        internal class Item : INotifyPropertyChanged\n        {\n            public Item(string name = null)\n            {\n                this.Name = name;\n            }\n\n            public string Name { get; set; }\n            public string ImagePath { get; set; }\n            public string SomeString { get; set; }\n            public int SomeInt { get; set; }\n\n            public event PropertyChangedEventHandler PropertyChanged;\n            private void NotifyPropertyChanged(String propertyName)\n            {\n                if (PropertyChanged != null)\n                {\n                    PropertyChanged(this, new PropertyChangedEventArgs(propertyName));\n                }\n            }\n        }\n\n        // Item collection\n        ObservableCollection&lt;Item&gt; ItemsCollection;\n\n        public MainWindow()\n        {\n            InitializeComponent();\n\n            // Initialize the items collection\n            this.ItemsCollection = new ObservableCollection&lt;Item&gt;();\n\n            for (int i = 0; i &lt; 5; i ++)\n            {\n                Dispatcher.Invoke(new Action(() =&gt;\n                {\n                    Item newItem = new Item\n                    {\n                        Name = \"test \" + i,\n                        ImagePath = @\"Images\\\" + i + \".jpg\",\n                        SomeString = \"example\" + i,\n                        SomeInt = i,\n                    };\n\n                    // Add the new item to the collection\n                    this.ItemsCollection.Add(newItem);\n                }), DispatcherPriority.Background);\n            }\n\n            // Set the items source\n            this.listBoxItems.ItemsSource = this.ItemsCollection;\n        }\n\n        // Handle mouse down events on listbox items\n        private void listBoxItems_PreviewMouseDown(object sender, System.Windows.Input.MouseButtonEventArgs e)\n        {\n            // Ideally, i'd like to do something like this\n            Item item = sender as Item;\n\n            // So then I could do for example\n            Console.WriteLine(@\"Clicked item SomeString: {0}, SomeInt {1}\", item.SomeString, item.SomeInt);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>XAML</strong>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;userControls:MyListBox x:Name=\"ItemsListBox\" ItemsSource=\"{Binding ItemsCollection}\" PreviewMouseDown=\"listBoxItems_PreviewMouseDown\"&gt;\n    &lt;ListBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;VirtualizingStackPanel&gt;\n                &lt;Image Source=\"{Binding ImagePath}\" Width=\"200\" Height=\"100\"/&gt;\n                &lt;TextBlock Text=\"{Binding Name}\" /&gt;\n            &lt;/VirtualizingStackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListBox.ItemTemplate&gt;\n&lt;/userControls:MyListBox&gt;\n</code></pre>\n"}, {"tags": ["c#", "initializer"], "comments": [{"owner": {"reputation": 6063, "user_id": 3225495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/57OBG.jpg?s=128&g=1", "display_name": "BJ Myers", "link": "https://stackoverflow.com/users/3225495/bj-myers"}, "edited": false, "score": 0, "creation_date": 1489015824, "post_id": 42683874, "comment_id": 72491876, "body": "Define &quot;difference.&quot;  Are you looking for differences in performance?  A reason why you would use one or the other?  A justification for why both exist?"}, {"owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "edited": false, "score": 3, "creation_date": 1489016101, "post_id": 42683874, "comment_id": 72491960, "body": "Out of interest do you know the difference between the two syntaxes or is part of the question not understanding why the two different calls are allowed?"}], "answers": [{"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 4, "last_activity_date": 1489016003, "creation_date": 1489016003, "answer_id": 42683959, "question_id": 42683874, "link": "https://stackoverflow.com/questions/42683874/using-or-when-instantiating-class-in-c/42683959#42683959", "title": "Using () or {} when instantiating class in C#", "body": "<p>No, they compile to the same code</p>\n\n<pre><code>.method private hidebysig static void  Main(string[] args) cil managed\n{\n  .entrypoint\n  // Code size       14 (0xe)\n  .maxstack  1\n  .locals init ([0] class ConsoleApplication2.C x1,\n           [1] class ConsoleApplication2.C x2)\n  IL_0000:  nop\n  IL_0001:  newobj     instance void ConsoleApplication2.C::.ctor()\n  IL_0006:  stloc.0\n  IL_0007:  newobj     instance void ConsoleApplication2.C::.ctor()\n  IL_000c:  stloc.1\n  IL_000d:  ret\n} // end of method Program::Main\n</code></pre>\n\n<p>however <code>x2</code> is the standard coding style when dealing with a parameterless constructor and not initializing any values using the object initializer.</p>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 3, "last_activity_date": 1489016081, "creation_date": 1489016081, "answer_id": 42683978, "question_id": 42683874, "link": "https://stackoverflow.com/questions/42683874/using-or-when-instantiating-class-in-c/42683978#42683978", "title": "Using () or {} when instantiating class in C#", "body": "<p>The curly bracket <code>{}</code> is used for object or collection initialization:</p>\n\n<pre><code>new C() { Property1 = \"Value\", Property2 = \"etc...\" };\n</code></pre>\n\n<p>It should be noted that here the <code>()</code> can be omitted, as it is the default constructor. Therefore, <code>new C{}</code> is basically <code>new C() {}</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 933, "user_id": 5969349, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c6a3d63248c8c13c72ff3b100c83ed8?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/5969349/marc"}, "is_accepted": false, "score": 7, "last_activity_date": 1489016724, "creation_date": 1489016724, "answer_id": 42684104, "question_id": 42683874, "link": "https://stackoverflow.com/questions/42683874/using-or-when-instantiating-class-in-c/42684104#42684104", "title": "Using () or {} when instantiating class in C#", "body": "<p>In your example, there's no difference. Both are calling the default constructor and not passing in any values. The { } is the object initializer notation which allows you to set values on public properties that aren't passed in through the constructor.</p>\n\n<p>Ex. With the following class, PropertyA is passed in through the constructor and PropertyA, PropertyB, PropertyC are settable on the object.</p>\n\n<pre><code>class TestClass\n{\n    public string PropertyA { get; set; }\n    public string PropertyB { get; set; }\n    public string PropertyC { get; set; }\n\n    public TestClass(string propertyA)\n    {\n        propertyA = propertyA;\n    }\n}\n</code></pre>\n\n<p>If you needed set all values you could do this</p>\n\n<pre><code>var test1 = new TestClass(\"A\");\ntest1.PropertyB = \"B\";\ntest1.PropertyC = \"C\";\n</code></pre>\n\n<p>Or the equivalent using the object initializer format would be</p>\n\n<pre><code>var test2 = new TestClass(\"A\") {PropertyB = \"B\", PropertyC = \"C\"};\n</code></pre>\n"}], "owner": {"reputation": 882, "user_id": 3926152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71cc2a6501fad9a8c5e97689c1221097?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyBrazilian", "link": "https://stackoverflow.com/users/3926152/crazybrazilian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 42683978, "answer_count": 3, "score": 0, "last_activity_date": 1489016724, "creation_date": 1489015584, "last_edit_date": 1489015759, "question_id": 42683874, "link": "https://stackoverflow.com/questions/42683874/using-or-when-instantiating-class-in-c", "title": "Using () or {} when instantiating class in C#", "body": "<p>Is there any difference in the initialization for x1 and x2?</p>\n\n<pre><code>namespace ConsoleApplication2\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var x1 = new C { };\n\n            var x2 = new C ();\n\n        }\n    }\n\n    public class C\n    {\n        public int A; \n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "string"], "comments": [{"owner": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1489015714, "post_id": 42683855, "comment_id": 72491839, "body": "what happen if its 35.00ab3500bc"}, {"owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "reply_to_user": {"reputation": 10516, "user_id": 2872388, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8a10ec2ce33bfdb3a0c44e39adf3092b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/2872388/steve"}, "edited": false, "score": 0, "creation_date": 1489015855, "post_id": 42683855, "comment_id": 72491884, "body": "i  need that as 35.00  and ab3500bc.    I will always have  number at start and then an alphabet with or without number"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1489016144, "post_id": 42683855, "comment_id": 72491973, "body": "Your regex doesn&#39;t come close to what you&#39;ve described. Your numbers and letters are reversed; your samples are NumberLetter, while your regex is LetterNumber. Try <code>([)(0-9\\.]+)(.+)</code>; the numbers are in Groups[1], the letters in Groups[2]. Works with all of the samples you posted. The third will include a blank space before <code>G8</code>, but you can remove that with <code>String.Trim()</code> if that&#39;s an issue."}, {"owner": {"reputation": 4376, "user_id": 3380837, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eN16u.png?s=128&g=1", "display_name": "kat1330", "link": "https://stackoverflow.com/users/3380837/kat1330"}, "edited": false, "score": 0, "creation_date": 1489016385, "post_id": 42683855, "comment_id": 72492067, "body": "What is representation of D8, YRI ... ?"}, {"owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1489016511, "post_id": 42683855, "comment_id": 72492114, "body": "@KenWhite,   edited the space in  last one. was a mistake on copy paste"}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1489016554, "post_id": 42683855, "comment_id": 72492128, "body": "@makdu are the number always formatted with 2 digits decimals?"}, {"owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1489016688, "post_id": 42683855, "comment_id": 72492172, "body": "@Xiaoy312, no , that is based on currency. it can be 2  , 3 or 4"}, {"owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1489016928, "post_id": 42683855, "comment_id": 72492264, "body": "@KenWhite .. got exception  on the following     Regex re = new Regex(@&quot;[)(0-9\\.]+)(.+)&quot;);"}, {"owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1489017226, "post_id": 42683855, "comment_id": 72492383, "body": "@KenWhite, After posting , i found that :) extra &#39;[)&#39;"}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 1, "creation_date": 1489017249, "post_id": 42683855, "comment_id": 72492395, "body": "My fault. Crappy laptop touchpad moved the cursor; I must have bumped it with my palm. Try <code>([0-9\\.]+)(.+)</code> instead."}, {"owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "reply_to_user": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1489019142, "post_id": 42683855, "comment_id": 72492964, "body": "@KenWhite, that worked the way i wanted. Thank you . Doing more testing . but  future looks good :)"}], "answers": [{"comments": [{"owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "edited": false, "score": 0, "creation_date": 1489017885, "post_id": 42684103, "comment_id": 72492579, "body": "80.00YRI  returned  three string   ;  - 80.00, - Y , -RI ,"}, {"owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "reply_to_user": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "edited": false, "score": 0, "creation_date": 1489018102, "post_id": 42684103, "comment_id": 72492639, "body": "OK, then I&#39;ve removed the original pattern. The 2nd pattern I added in recent edits should work for the problem at hand. Answer updated."}], "tags": [], "owner": {"reputation": 2806, "user_id": 884561, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/26262f09f8ab613b167886a5d8b558ec?s=128&d=identicon&r=PG", "display_name": "Kenneth K.", "link": "https://stackoverflow.com/users/884561/kenneth-k"}, "is_accepted": true, "score": 3, "last_activity_date": 1489018059, "last_edit_date": 1489018059, "creation_date": 1489016723, "answer_id": 42684103, "question_id": 42683855, "link": "https://stackoverflow.com/questions/42683855/split-string-at-first-alphabetic-character/42684103#42684103", "title": "Split string at first alphabetic character", "body": "<p>You can bastardize a <code>Split</code> and use a lookahead <code>(?= ... )</code> and a lookbehind <code>(?&lt;= ... )</code>:</p>\n\n<pre><code>string original = \"35.00ab3500bc\";\nRegex reg = new Regex(\"(?&lt;=[0-9])(?=[A-Za-z])\");\nstring[] parts = reg.Split(original, 2);\n</code></pre>\n\n<p>Here, we have to instantiate a new <code>Regex</code> instance because this version of <code>Split</code> isn't available as a <code>static</code> method. The pattern we pass says to find a void where the left side of the void is a number (i.e. the lookbehind), and the right side of the void is a letter (i.e. the lookahead). We pass a <code>2</code> to say that we want at most two items in <code>parts</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 43473, "user_id": 86473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b4f6c773b0fc5997b76e736fef9330c?s=128&d=identicon&r=PG", "display_name": "JP Alioto", "link": "https://stackoverflow.com/users/86473/jp-alioto"}, "is_accepted": false, "score": 1, "last_activity_date": 1489018886, "creation_date": 1489018886, "answer_id": 42684460, "question_id": 42683855, "link": "https://stackoverflow.com/questions/42683855/split-string-at-first-alphabetic-character/42684460#42684460", "title": "Split string at first alphabetic character", "body": "<pre><code>var lst = new List&lt;string&gt;() { \"35.00MY\", \"2.10D8\", \"80.00YRI\", \"4.00GB\" };\nvar res = new List&lt;string&gt;();\n\nlst.ForEach(v =&gt;\n{\n    res.Add(new string(v.TakeWhile(c =&gt; !Char.IsLetter(c)).ToArray()));\n    res.Add(v.TrimStart(\"01234567890.\".ToCharArray()));\n} );\n</code></pre>\n"}], "owner": {"reputation": 786, "user_id": 2778651, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/dHkR0.jpg?s=128&g=1", "display_name": "makdu", "link": "https://stackoverflow.com/users/2778651/makdu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 42684103, "answer_count": 2, "score": 0, "last_activity_date": 1489018886, "creation_date": 1489015467, "last_edit_date": 1489016596, "question_id": 42683855, "link": "https://stackoverflow.com/questions/42683855/split-string-at-first-alphabetic-character", "title": "Split string at first alphabetic character", "body": "<p>I have a following string array as shown in the image.  while looping through the array, i need to separate  numeric value and Alphabetic value . \n eg:   </p>\n\n<ul>\n<li>35.00MY to  35.00  and MY </li>\n<li>2.10D8 to 2.10 and D8 </li>\n<li>80.00YRI to 80.00 and YRI</li>\n<li><p>4.00G8 to 4.00 and  G8</p>\n\n<p>I tried following code , but that didn't help  </p></li>\n</ul>\n\n<pre class=\"lang-cs prettyprint-override\"><code>foreach (string taxText in taxSplit) {\n    Regex re = new Regex(@\"([a-zA-Z]+)(\\d+)\");\n    Match result = re.Match(taxText);\n    string alphaPart = result.Groups[1].ToString();\n    string numberPart = result.Groups[2].ToString(); }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dX8jN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dX8jN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Both returned  empty</p>\n\n<p><a href=\"https://i.stack.imgur.com/sy5Su.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sy5Su.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "interop"], "answers": [{"tags": [], "owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "is_accepted": true, "score": 2, "last_activity_date": 1489024441, "last_edit_date": 1489024441, "creation_date": 1489022517, "answer_id": 42684974, "question_id": 42683787, "link": "https://stackoverflow.com/questions/42683787/how-to-use-sqlinstalldriverex-in-c/42684974#42684974", "title": "How to use SQLInstallDriverEx in C#?", "body": "<p>p/Invoke Toolkit generates the following:</p>\n\n<pre><code>[DllImport(\"odbccp32.dll\")]\npublic static extern  bool SQLInstallDriverEx(\n     [In, MarshalAs(UnmanagedType.LPStr)] string lpszDriver, \n     [In, MarshalAs(UnmanagedType.LPStr)] string lpszPathIn,\n     [MarshalAs(UnmanagedType.LPStr)] System.Text.StringBuilder lpszPathOut, \n     ushort cbPathOutMax, ref ushort pcbPathOut, ushort fRequest, ref uint lpdwUsageCount);\n\npublic const ushort ODBC_INSTALL_INQUIRY = 1;\npublic const ushort ODBC_INSTALL_COMPLETE = 2;\n</code></pre>\n\n<p>The <code>In/MarshalAs</code> attributes may not be necessary. <code>StringBuilder</code>s work for \"out\" strings as the marshaller knows how to convert under the hood. You need to call the method twice, once to resolve the path/path length and the second to pass those values in. That step can be skipped if you know these before hand, but the path <em>can</em> change from what you provide if the driver already exists or the path is too long. The second call requires that the <code>lpszPathOut</code> be non-null and <code>cbPathOutMax</code> be non-zero.</p>\n\n<p>The driver description that you pass to the method is made up of a list of null-byte terminated strings. The list is terminated with a double null. </p>\n\n<pre><code>// if target path is null, it should default to the system directory\nvar targetPath = @\"c:\\windows\\system32\";\nushort len = 0; uint usageCount=0;\n\n// replace this with your actual driver description, note the double \\0 at the end\nvar driver = \"Text\\0Driver=TEXT.DLL\\0Setup=TXTSETUP.DLL\\0FileUsage=1\\0\"\n           + \"FileExtns=*.txt,*.csv\\0\\0\";\n\nvar ret = SQLInstallDriverEx(driver, targetPath, null, 0, \n                 ref len, ODBC_INSTALL_INQUIRY, ref usageCount);\nif (ret) {\n    var sbPath = new StringBuilder(len);\n    if (ret = SQLInstallDriverEx(driver, targetPath, sbPath, len, \n                 ref len, ODBC_INSTALL_COMPLETE, ref usageCount)) {\n\n        // sbPath will now contain the actual path, which may be different \n        // if there is a previous installation or the path was truncated\n        // perhaps check here if that was intended\n\n        // usageCount will be updated by the system\n   }\n}\n\nif (!ret) {\n    // query SqlInstallerError(...) here\n}\n</code></pre>\n\n<p>If the return value is <code>false</code>, you will need to call the <code>SqlInstallerError</code> method which you will have to import as well. Fortunately there is a p/invoke page for this method and how to call it available at <a href=\"http://www.pinvoke.net/default.aspx/odbccp32/SQLInstallerError.html\" rel=\"nofollow noreferrer\">http://www.pinvoke.net/default.aspx/odbccp32/SQLInstallerError.html</a>. The error codes and what they mean are already outlined on the MSDN page you linked.</p>\n\n<p>Note that you can skip the two-phase method call and call with <code>ODBC_INSTALL_COMPLETE</code> once, provided you have provided correct buffer/sizes.</p>\n"}], "owner": {"reputation": 106, "user_id": 1091753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29ff631753dd5ebbfd44e9fa955688f8?s=128&d=identicon&r=PG", "display_name": "dom", "link": "https://stackoverflow.com/users/1091753/dom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 42684974, "answer_count": 1, "score": 3, "last_activity_date": 1489024441, "creation_date": 1489015115, "last_edit_date": 1489015923, "question_id": 42683787, "link": "https://stackoverflow.com/questions/42683787/how-to-use-sqlinstalldriverex-in-c", "title": "How to use SQLInstallDriverEx in C#?", "body": "<p>How would I rewrite the following function in order to use it in <code>C#</code>? The function is part of <code>odbccp32.dll</code> and is used to install an <code>ODBC driver</code>.</p>\n\n<pre><code>BOOL SQLInstallDriverEx(  \n     LPCSTR    lpszDriver,  \n     LPCSTR    lpszPathIn,  \n     LPSTR     lpszPathOut,  \n     WORD      cbPathOutMax,  \n     WORD *    pcbPathOut,  \n     WORD      fRequest,  \n     LPDWORD   lpdwUsageCount);\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/sql/odbc/reference/syntax/sqlinstalldriverex-function\" rel=\"nofollow noreferrer\">SQLInstallDriverEx Reference</a></p>\n\n<p>This is my attempt:</p>\n\n<pre><code> [DllImport(\"odbccp32\")]\n private static extern bool SQLInstallDriverEx(\n      string lpszDriver,\n      string lpszPathIn,\n      out string lpszPathOut,\n      ushort cbPathOutMax,\n      out uint pcbPathOut,\n      ushort fRequest,\n      out uint lpdwUsageCount);\n</code></pre>\n\n<p>A sample usage would be deeply appreciated as well.</p>\n"}, {"tags": ["c#", "unity3d", "format", "tostring", "separator"], "comments": [{"owner": {"reputation": 47412, "user_id": 3141234, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/78b45a835031f4ce03a6653b3262b5d3?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3141234/alexander"}, "edited": false, "score": 0, "creation_date": 1489015156, "post_id": 42683761, "comment_id": 72491624, "body": "The globalized approach varies by .... culture. Some places use spaces for separators (<code>1 234 567 890)</code>, others use commas (<code>1,234,567,890</code>), others do different things. The globalize approach should only be used if you want to show the use a number in their native format. If you&#39;re doing something custom (e.g., a dot seperated ip address), you should not use it. It seems that you&#39;re trying to show the score to a user, so you should use their native format by using the globalized string."}, {"owner": {"reputation": 6762, "user_id": 845655, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ySyzL.jpg?s=128&g=1", "display_name": "DeanOC", "link": "https://stackoverflow.com/users/845655/deanoc"}, "edited": false, "score": 0, "creation_date": 1489015996, "post_id": 42683761, "comment_id": 72491933, "body": "Interestingly, CultureInfo &quot;IS-is&quot; does use the decimal separator in dotnetfiddle. Here&#39;s an example <a href=\"https://dotnetfiddle.net/KqCmlv\" rel=\"nofollow noreferrer\">dotnetfiddle.net/KqCmlv</a>"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 4859057, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a05911ff16be04e9937115c5237a3a84?s=128&d=identicon&r=PG&f=1", "display_name": "Mc Midas", "link": "https://stackoverflow.com/users/4859057/mc-midas"}, "edited": false, "score": 0, "creation_date": 1489015439, "post_id": 42683804, "comment_id": 72491729, "body": "What a fail! Thank you! <b>text_team1.text = em.team1Score.ToString(&quot;#,##0&quot;).Replace(&#39;,&#39;,&#39;.&#39;)</b> much shorter :D"}], "tags": [], "owner": {"reputation": 103866, "user_id": 3785314, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/sh4Al.png?s=128&g=1", "display_name": "Programmer", "link": "https://stackoverflow.com/users/3785314/programmer"}, "is_accepted": true, "score": 2, "last_activity_date": 1489016748, "last_edit_date": 1489016748, "creation_date": 1489015204, "answer_id": 42683804, "question_id": 42683761, "link": "https://stackoverflow.com/questions/42683761/c-how-to-separate-an-int-with-decimal-points/42683804#42683804", "title": "c# How to separate an int with decimal points?", "body": "<blockquote>\n  <p>Even by editing the string afterwards, there is still the comma as\n  seperator.</p>\n\n<pre><code>text_team1.text = em.team1Score.ToString(\"#,##0\");\ntext_team1.text.Replace(',','.');\n</code></pre>\n</blockquote>\n\n<p>You forgot to assign the replaced string back.</p>\n\n<pre><code>text_team1.text = text_team1.text.Replace(',','.');\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>If you still prefer a solution without using the <code>Replace</code> function, you can use the Extension method below. It works for <code>strings</code> and <code>ints</code>. Please Google and read about extension methods if you don't know how they work.</p>\n\n<p><em>Create and place the <code>ExtensionMethod</code> script in any folder in your project</em>:</p>\n\n<pre><code>using System.Globalization;\nusing System;\n\npublic static class ExtensionMethod\n{\n    public static string formatStringWithDot(this string stringToFormat)\n    {\n        string convertResult = \"\";\n        int tempInt;\n        if (Int32.TryParse(stringToFormat, out tempInt))\n        {\n            convertResult = tempInt.ToString(\"N0\", new NumberFormatInfo()\n            {\n                NumberGroupSizes = new[] { 3 },\n                NumberGroupSeparator = \".\"\n            });\n        }\n        return convertResult;\n    }\n\n    public static string formatStringWithDot(this int intToFormat)\n    {\n        string convertResult = \"\";\n\n        convertResult = intToFormat.ToString(\"N0\", new NumberFormatInfo()\n        {\n            NumberGroupSizes = new[] { 3 },\n            NumberGroupSeparator = \".\"\n        });\n        return convertResult;\n    }\n}\n</code></pre>\n\n<p><strong>Usage</strong>:</p>\n\n<pre><code>string stringToFormat = \"1234567890\";\nDebug.Log(stringToFormat.formatStringWithDot());\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>int intToFormat = 1234567890;\nDebug.Log(intToFormat.formatStringWithDot());\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>string stringToFormat = \"1234567890\";\ntext_team1.text = stringToFormat.formatStringWithDot();\n</code></pre>\n\n<p>Use each one depending on which scenario you run into.</p>\n"}, {"tags": [], "owner": {"reputation": 1039, "user_id": 7274758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf36af6f4c2169286605abf9a5ed1d0?s=128&d=identicon&r=PG&f=1", "display_name": "Libin Varghese", "link": "https://stackoverflow.com/users/7274758/libin-varghese"}, "is_accepted": false, "score": 2, "last_activity_date": 1489015463, "creation_date": 1489015463, "answer_id": 42683853, "question_id": 42683761, "link": "https://stackoverflow.com/questions/42683761/c-how-to-separate-an-int-with-decimal-points/42683853#42683853", "title": "c# How to separate an int with decimal points?", "body": "<p>If you are using globalisation as a means to format your string, you could set a <a href=\"https://msdn.microsoft.com/en-us/library/system.globalization.numberformatinfo.numbergroupseparator(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Custom Group Seperator</a></p>\n\n<pre><code>NumberFormatInfo nfi = new CultureInfo( \"en-US\", false ).NumberFormat;\n\n// Displays the same value with a blank as the separator.\nInt64 myInt = 1234567890;\nnfi.NumberGroupSeparator = \".\";\nConsole.WriteLine( myInt.ToString( \"N0\", nfi ) );\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/vRqd6x\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/vRqd6x</a></p>\n"}, {"tags": [], "owner": {"reputation": 236, "user_id": 5360283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bee5f19852db959c038b7312ba5625?s=128&d=identicon&r=PG", "display_name": "Kroneaux Schneider", "link": "https://stackoverflow.com/users/5360283/kroneaux-schneider"}, "is_accepted": false, "score": 2, "last_activity_date": 1489015989, "creation_date": 1489015989, "answer_id": 42683952, "question_id": 42683761, "link": "https://stackoverflow.com/questions/42683761/c-how-to-separate-an-int-with-decimal-points/42683952#42683952", "title": "c# How to separate an int with decimal points?", "body": "<p>I prefer using <a href=\"https://msdn.microsoft.com/en-us/library/1ksz8yb7(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>string.Format()</code></a>.\nDoes your OS represent numbers with that format? If so, you can try with <a href=\"https://msdn.microsoft.com/en-us/library/fht0f5be(v=vs.110).aspx\" rel=\"nofollow noreferrer\">the simplest form</a></p>\n\n<pre><code>text_team1.text = string.Format(\"{0:N}\", em.team1Score);\n</code></pre>\n\n<p>or you can force it with</p>\n\n<pre><code>text_team1.text = string.Format(CultureInfo.GetCultureInfo(\"IS-is\"), \"{0:N}\", em.team1Score);\n</code></pre>\n\n<p>which cares of the culture.</p>\n"}], "owner": {"reputation": 157, "user_id": 4859057, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a05911ff16be04e9937115c5237a3a84?s=128&d=identicon&r=PG&f=1", "display_name": "Mc Midas", "link": "https://stackoverflow.com/users/4859057/mc-midas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2382, "favorite_count": 0, "accepted_answer_id": 42683804, "answer_count": 3, "score": 1, "last_activity_date": 1489021483, "creation_date": 1489014957, "last_edit_date": 1495540429, "question_id": 42683761, "link": "https://stackoverflow.com/questions/42683761/c-how-to-separate-an-int-with-decimal-points", "title": "c# How to separate an int with decimal points?", "body": "<p>I am trying to format an int with decimal points as separators, not commas.</p>\n\n<p>Example: <strong>1234567890</strong> should be formatted to <strong>1.234.567.890</strong></p>\n\n<pre><code>text_team1.text = em.team1Score.ToString(\"#,##0\");\n</code></pre>\n\n<p>This will give <strong>1,234,567,890</strong></p>\n\n<p>However in <a href=\"https://stackoverflow.com/questions/105770/net-string-format-to-add-commas-in-thousands-place-for-a-number\">this topic</a> there was some information about using the class CultureInfo which contains the format-style, so I used several of them:</p>\n\n<pre><code>text_team1.text = em.team1Score.ToString(\"#,##0\", new System.Globalization.CultureInfo(\"IS-is\"));\n</code></pre>\n\n<p>as an example. But it seems that every cultureInfo uses a comma as separator.</p>\n\n<p>Even by editing the string afterwards, there is still the comma as seperator.</p>\n\n<pre><code>text_team1.text = em.team1Score.ToString(\"#,##0\");\ntext_team1.text.Replace(',','.');\n</code></pre>\n"}, {"tags": ["c#", ".net", "visual-studio-2015", "coded-ui-tests"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 7681031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257a8f6b04d0083a8902e451d67f6a38?s=128&d=identicon&r=PG&f=1", "display_name": "staticvoid", "link": "https://stackoverflow.com/users/7681031/staticvoid"}, "is_accepted": false, "score": 1, "last_activity_date": 1489085985, "creation_date": 1489085985, "answer_id": 42703390, "question_id": 42683653, "link": "https://stackoverflow.com/questions/42683653/adding-app-config-to-vs-2015-codedui-project-breaks-test-execution-on-test-agent/42703390#42703390", "title": "Adding App.Config to VS 2015 CodedUI Project breaks Test Execution on Test Agent 2013", "body": "<p>If anyone cares, I <strong>got it working</strong> by</p>\n\n<ol>\n<li>Adding Assembly Rebinding from 14.0 to 12.0 in the App.Config for CodedUI DLLs mentioned <a href=\"https://blogs.msdn.microsoft.com/gopinath/2015/02/27/test-agents-support-for-visual-studio-2015/\" rel=\"nofollow noreferrer\">here</a> and </li>\n<li>Xcopying the PublicAssemblies of VS 12.0 (C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\IDE\\PublicAssemblies) to the your probing location mentioned in Step 1</li>\n</ol>\n\n<p><strong>This seems to be a bug with Microsoft VS 2015 compatibility with 2013 controllers and 2013 agents.</strong></p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7681031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257a8f6b04d0083a8902e451d67f6a38?s=128&d=identicon&r=PG&f=1", "display_name": "staticvoid", "link": "https://stackoverflow.com/users/7681031/staticvoid"}, "edited": false, "score": 0, "creation_date": 1489705679, "post_id": 42771679, "comment_id": 72801079, "body": "Yet to try the NuGet approach but seems to be cleaner. Thanks"}], "tags": [], "owner": {"reputation": 862, "user_id": 1214741, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7d1673e67c616dc6ec80b9f0e452d01b?s=128&d=identicon&r=PG", "display_name": "Ryanman", "link": "https://stackoverflow.com/users/1214741/ryanman"}, "is_accepted": false, "score": 0, "last_activity_date": 1489432502, "creation_date": 1489432502, "answer_id": 42771679, "question_id": 42683653, "link": "https://stackoverflow.com/questions/42683653/adding-app-config-to-vs-2015-codedui-project-breaks-test-execution-on-test-agent/42771679#42771679", "title": "Adding App.Config to VS 2015 CodedUI Project breaks Test Execution on Test Agent 2013", "body": "<p>Good job solving the issue for yourself - the 2013 and 2015 gap in Visual Studio/Test Agents/Test Controllers is inexcusably bad. It's not necessarily a \"bug\" as much as it is a horrible design decision on Microsoft's part.</p>\n\n<p>One other solution I've tried to inform people of multiple times for CodedUI is creating your own NuGet Package (or equivalent solution) to refer to from your solution. This makes them as portable as possible.</p>\n"}], "owner": {"reputation": 21, "user_id": 7681031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/257a8f6b04d0083a8902e451d67f6a38?s=128&d=identicon&r=PG&f=1", "display_name": "staticvoid", "link": "https://stackoverflow.com/users/7681031/staticvoid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1489432502, "creation_date": 1489014406, "question_id": 42683653, "link": "https://stackoverflow.com/questions/42683653/adding-app-config-to-vs-2015-codedui-project-breaks-test-execution-on-test-agent", "title": "Adding App.Config to VS 2015 CodedUI Project breaks Test Execution on Test Agent 2013", "body": "<p>I have the below setup</p>\n\n<p><strong>Client</strong> - Visual Studio 2015 Or MSTest.exe (14.0)</p>\n\n<p><strong>Test Controller</strong> - VS 2013 TC</p>\n\n<p><strong>Test Agent</strong> - VS 2013 TA (Remote)</p>\n\n<p>Things work fine when I try to execute tests locally &amp; remotely as long as the test project doesn't have 'App.Config'. (Regardless of content of App.Config)</p>\n\n<p>Problem shows up When I try to execute tests 'Remotely' (By using a testsettings file with Test Controller &amp; Test Agent).</p>\n\n<p><strong>Whenever the test project has an 'App.Config' file included, the remote test execution fails with 'dll not found exceptions' (local execution is fine with App.Config)</strong></p>\n\n<p>for e.g.</p>\n\n<blockquote>\n  <p>Unit Test Adapter threw exception: \n  Could not load file or assembly 'Microsoft.VisualStudio.QualityTools.CodedUITestFramework, Version=14.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies. The system cannot find the file specified..</p>\n</blockquote>\n\n<p><strong>App.Config (On the sample CodedUIProject)</strong></p>\n\n<p><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;configuration&gt;\n&lt;/configuration&gt;\n</code></p>\n\n<p>These issues are expected to be resolved (through Assembly Binding entries in exe configs of Agents and Controller with <a href=\"https://www.visualstudio.com/en-us/docs/test/lab-management/test-machines/install-configure-test-agents\" rel=\"nofollow noreferrer\">updates 5</a> ) however I am out of luck.</p>\n\n<p>I have tried adding these DLLs to the deployment (via TestSettings file) which will throw exception for another 14.0 version DLL.</p>\n\n<p>Any insight would be helpful on why codedUIProject.dll.config would interfere with Assembly Binding? or if I am missing something trivial ?</p>\n"}, {"tags": ["c#", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 1, "creation_date": 1489014801, "post_id": 42683631, "comment_id": 72491492, "body": "This would be a terrible API design if you could call the same endpoint and receive different data sets.  Data responses should be idempotent.  You should create two different endpoints."}, {"owner": {"reputation": 15745, "user_id": 279911, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84b7012386f6848ed946e4bcfd4869ef?s=128&d=identicon&r=PG", "display_name": "Diskdrive", "link": "https://stackoverflow.com/users/279911/diskdrive"}, "reply_to_user": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1489015040, "post_id": 42683631, "comment_id": 72491579, "body": "@DavidL - yeah exactly. But as it stands, you can definitely do that intentionally or accidentally and the front end dev would need to look inside the action method to figure out what type it&#39;ll return"}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1489015130, "post_id": 42683631, "comment_id": 72491612, "body": "That is absolutely true.  You can avoid that by returning concrete objects themselves instead of using the abstraction or you can put process gates in place to ensure the quality of your code.  I&#39;d be interested to see how Swagger/Swashbuckler would deal with this kind of api definition."}], "owner": {"reputation": 15745, "user_id": 279911, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84b7012386f6848ed946e4bcfd4869ef?s=128&d=identicon&r=PG", "display_name": "Diskdrive", "link": "https://stackoverflow.com/users/279911/diskdrive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1489065978, "answer_count": 0, "score": 0, "last_activity_date": 1489014295, "creation_date": 1489014295, "question_id": 42683631, "link": "https://stackoverflow.com/questions/42683631/is-it-possible-to-specify-the-response-content-inside-a-ihttpactionresult-respon", "closed_reason": "Duplicate", "title": "Is it possible to specify the response content inside a IHttpActionResult response to be strongly typed?", "body": "<p>It seems with WebAPI 2, your action method's content can be returned in any form.</p>\n\n<p>For example, this GET method works.</p>\n\n<pre><code>// GET api/values\npublic IHttpActionResult Get(bool returnCarViewModel= true)\n{\n    if (returnCarViewModel)\n        return Ok(new CarViewModel());\n    else\n        return Ok(new AnimalViewModel());\n\n}\n</code></pre>\n\n<p>That seems like bad practice as now the caller must look inside the content of the method to see what type of object I'll be returning and even then, I can return different classes based on the logic I apply inside it.</p>\n\n<p>Is it possible to declare at compile time what the return type I should expect? Something  like... </p>\n\n<pre><code>public IHttpActionResult&lt;CarViewModel&gt; Get(bool returnCarViewModel= true)\n</code></pre>\n\n<p>I understand I can simply specify the return type to be CarViewModel but then I'll not be able to take advantage of the abstraction that IHttpActionResult offers</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "iis"], "comments": [{"owner": {"reputation": 14727, "user_id": 261682, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f2443cd165426e35f7edcbd0caccab0d?s=128&d=identicon&r=PG", "display_name": "webnoob", "link": "https://stackoverflow.com/users/261682/webnoob"}, "edited": false, "score": 0, "creation_date": 1489014594, "post_id": 42683621, "comment_id": 72491397, "body": "Is the APP built for 32 / 64 bit or both? Does your app pool allow 32 bit if it&#39;s built for 32 bit?"}, {"owner": {"reputation": 1751, "user_id": 5854349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b543de0f52b16e1c1d30e4dd5693f9?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy Kanski", "link": "https://stackoverflow.com/users/5854349/timothy-kanski"}, "edited": false, "score": 0, "creation_date": 1489015873, "post_id": 42683621, "comment_id": 72491890, "body": "<a href=\"https://www.iis.net/learn/manage/configuring-security/application-pool-identities\" rel=\"nofollow noreferrer\">iis.net/learn/manage/configuring-security/&hellip;</a>"}, {"owner": {"reputation": 2010, "user_id": 3034193, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/iUvK1.png?s=128&g=1", "display_name": "DaniDev", "link": "https://stackoverflow.com/users/3034193/danidev"}, "edited": false, "score": 1, "creation_date": 1489016125, "post_id": 42683621, "comment_id": 72491966, "body": "maybe this can help you: -1073741502 when printed as hexadecimal is c0000142 which I believe translates to:  &quot;DLL Initialization Failed&quot;.  could be a security/permissions issue or incorrect path"}, {"owner": {"reputation": 14991, "user_id": 1690193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hac9.jpg?s=128&g=1", "display_name": "Nick.McDermaid", "link": "https://stackoverflow.com/users/1690193/nick-mcdermaid"}, "edited": false, "score": 0, "creation_date": 1489016478, "post_id": 42683621, "comment_id": 72492098, "body": "What actions are you doing to generate the error, and where do you see the error?"}, {"owner": {"reputation": 31485, "user_id": 809357, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fe164036841e4bc8029ea2f842a5e5d7?s=128&d=identicon&r=PG", "display_name": "trailmax", "link": "https://stackoverflow.com/users/809357/trailmax"}, "edited": false, "score": 0, "creation_date": 1489018210, "post_id": 42683621, "comment_id": 72492679, "body": "Does this help? <a href=\"https://support.microsoft.com/en-us/help/3118750/known-issue-for-security-updates-3098779-and-3097997-for-the-.net-framework-4.5.1-and-4.5.2-after-you-install-the-.net-framework-4.6-on-windows-8.1,-windows-rt-8.1,-and-windows-server-2012-r2\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/help/3118750/&hellip;</a>"}, {"owner": {"reputation": 141, "user_id": 6654362, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131727126873409/picture?type=large", "display_name": "Micha\u0142 Pilarek", "link": "https://stackoverflow.com/users/6654362/micha%c5%82-pilarek"}, "edited": false, "score": 0, "creation_date": 1489099045, "post_id": 42683621, "comment_id": 72541330, "body": "I have given up and ended up precompiling project and removing compilator(Roslyn) sections from Web.config. I think that the problem is related to some .Net folders permission issues, but I couldn&#39;t figure to what exactly."}], "owner": {"reputation": 141, "user_id": 6654362, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131727126873409/picture?type=large", "display_name": "Micha\u0142 Pilarek", "link": "https://stackoverflow.com/users/6654362/micha%c5%82-pilarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 987, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1489112725, "creation_date": 1489014222, "last_edit_date": 1495541839, "question_id": 42683621, "link": "https://stackoverflow.com/questions/42683621/asp-net-application-compilation-error-using-iis", "title": "Asp.Net application - compilation error using IIS", "body": "<p>My asp.Net Mvc app is running without any problems though Visual studio, but when I try to put in on IIS (I know how to do this), I get this very strange error:</p>\n\n<pre><code>Compilation Error\nDescription: An error occurred during the compilation of a resource required to service this request. Please review the following specific error details and modify your source code appropriately. \nCompiler Error Message: The compiler failed with error code -1073741502.\nShow Detailed Compiler Output:\nC:\\WINDOWS\\SysWoW64\\inetsrv&gt;C:\\Test\\Accone\\bin\\roslyn\\csc.exe /t:library /utf8output /nostdlib+ /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\mscorlib.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Runtime\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Runtime.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\Microsoft.VisualStudio.Web.PageInspector.Loader\\v4.0_1.0.0.0__b03f5f7f11d50a3a\\Microsoft.VisualStudio.Web.PageInspector.Loader.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\16eb8311\\00b31c22_a73ad001\\System.Web.WebPages.Deployment.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\8121a59c\\00196fd3_a63ad001\\System.Web.Mvc.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\ed18cf47\\00c98d69_c354d001\\EntityFramework.SqlServer.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Drawing\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Drawing.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\7538eabb\\001eaa54_d010ce01\\Antlr3.Runtime.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\e5802ac9\\00b4f9b4_4a6acd01\\Microsoft.Web.Infrastructure.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.WorkflowServices\\v4.0_4.0.0.0__31bf3856ad364e35\\System.WorkflowServices.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_32\\System.EnterpriseServices\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.EnterpriseServices.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\40110029\\0084bdeb_8647d001\\Microsoft.Owin.Security.OAuth.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\2b26b1e1\\00a3c7e5_8647d001\\Microsoft.Owin.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\03a8fb89\\00b1eeec_8647d001\\Microsoft.Owin.Security.Twitter.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Runtime.Serialization\\v4.0_4.0.0.0__b77a5c561934e089\\System.Runtime.Serialization.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.ApplicationServices\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Web.ApplicationServices.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\180d0630\\00fd29e8_8647d001\\Microsoft.Owin.Host.SystemWeb.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\75af2fc0\\00c98d69_c354d001\\EntityFramework.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.DynamicData\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Web.DynamicData.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Data.DataSetExtensions\\v4.0_4.0.0.0__b77a5c561934e089\\System.Data.DataSetExtensions.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\6dc487a6\\0071b0e2_1f6ed001\\Microsoft.AspNet.Identity.Core.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\37f1b250\\00b31c22_a73ad001\\System.Web.Helpers.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\d751c874\\00b31c22_a73ad001\\System.Web.WebPages.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_32\\System.Web\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Web.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel.Activities\\v4.0_4.0.0.0__31bf3856ad364e35\\System.ServiceModel.Activities.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ComponentModel.DataAnnotations\\v4.0_4.0.0.0__31bf3856ad364e35\\System.ComponentModel.DataAnnotations.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel.Web\\v4.0_4.0.0.0__31bf3856ad364e35\\System.ServiceModel.Web.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\ec2d5a6d\\480547b9_5598d201\\Aconne.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\c8e1112b\\002a5be9_8647d001\\Microsoft.Owin.Security.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_32\\System.Data\\v4.0_4.0.0.0__b77a5c561934e089\\System.Data.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel.Activation\\v4.0_4.0.0.0__31bf3856ad364e35\\System.ServiceModel.Activation.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.IdentityModel\\v4.0_4.0.0.0__b77a5c561934e089\\System.IdentityModel.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\mscorlib.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\672d6da0\\00e720c2_90c1cd01\\Owin.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\640def20\\0071b0e2_1f6ed001\\Microsoft.AspNet.Identity.Owin.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Xml.Linq\\v4.0_4.0.0.0__b77a5c561934e089\\System.Xml.Linq.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Configuration\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Configuration.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\5e8bbd7e\\00578cea_8647d001\\Microsoft.Owin.Security.Google.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.Extensions\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Web.Extensions.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\33684ec1\\00b31c22_a73ad001\\System.Web.WebPages.Razor.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\f8a102d0\\cc144fbc_5698d201\\App_global.asax.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.ServiceModel\\v4.0_4.0.0.0__b77a5c561934e089\\System.ServiceModel.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\7dc103f3\\00578cea_8647d001\\Microsoft.Owin.Security.Cookies.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\1cf62a4f\\0000c41d_ffa6d001\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Xml\\v4.0_4.0.0.0__b77a5c561934e089\\System.Xml.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Web.Services\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\System.Web.Services.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\8a4c27d1\\0054c7db_a63ad001\\System.Web.Razor.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System\\v4.0_4.0.0.0__b77a5c561934e089\\System.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Core\\v4.0_4.0.0.0__b77a5c561934e089\\System.Core.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\622472c9\\00578cea_8647d001\\Microsoft.Owin.Security.Facebook.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\d13792b0\\003c57d9_fe82ce01\\WebGrease.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\81ebd97c\\00a6d731_3527cf01\\System.Web.Optimization.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\001dbadd\\0084bdeb_8647d001\\Microsoft.Owin.Security.MicrosoftAccount.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\edb37aba\\0071b0e2_1f6ed001\\Microsoft.AspNet.Identity.EntityFramework.dll\" /R:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\assembly\\dl3\\e3d3b0b9\\0082b57b_49afcf01\\Newtonsoft.Json.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\Microsoft.CSharp\\v4.0_4.0.0.0__b03f5f7f11d50a3a\\Microsoft.CSharp.dll\" /R:\"C:\\WINDOWS\\Microsoft.Net\\assembly\\GAC_MSIL\\System.Activities\\v4.0_4.0.0.0__31bf3856ad364e35\\System.Activities.dll\" /out:\"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\App_Web_index.cshtml.a8d08dba.a1ic32py.dll\" /D:DEBUG /debug+ /optimize- /warnaserror- /w:4 /nowarn:1659;1699;1701;612;618 /langversion:6 /nowarn:1659;1699;1701  \"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\App_Web_index.cshtml.a8d08dba.a1ic32py.0.cs\" \"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\Temporary ASP.NET Files\\test\\b7d6f7e8\\579d0cdf\\App_Web_index.cshtml.a8d08dba.a1ic32py.1.cs\"\n</code></pre>\n\n<p>Can anybody tell me what is wrong?\n<a href=\"https://stackoverflow.com/questions/6817870/asp-net-strange-compilation-error\">I have tried this solution already</a></p>\n"}, {"tags": ["c#", "asynchronous", "timer", "background", "uwp"], "comments": [{"owner": {"reputation": 1367, "user_id": 4267590, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/165d874d2852ec4757270abea4d2a445?s=128&d=identicon&r=PG&f=1", "display_name": "khargoosh", "link": "https://stackoverflow.com/users/4267590/khargoosh"}, "edited": false, "score": 2, "creation_date": 1489014704, "post_id": 42683615, "comment_id": 72491449, "body": "Is there a reason that using a <a href=\"https://msdn.microsoft.com/en-us/library/system.componentmodel.backgroundworker%28v=vs.110%29.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">BackgroundWorker</a> won&#39;t work for you?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 1367, "user_id": 4267590, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/165d874d2852ec4757270abea4d2a445?s=128&d=identicon&r=PG&f=1", "display_name": "khargoosh", "link": "https://stackoverflow.com/users/4267590/khargoosh"}, "edited": false, "score": 0, "creation_date": 1489014907, "post_id": 42683615, "comment_id": 72491526, "body": "@khargoosh: <code>BackgroundWorker</code> is just like <code>async</code>/<code>await</code>, only harder to use. The OP <i>should</i> be using the modern idiom."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 5, "creation_date": 1489015045, "post_id": 42683615, "comment_id": 72491580, "body": "You have a lot of synchronous code in that <code>async</code> method. Calls to <code>inbox.Search()</code> and <code>Regex.Replace()</code> are both potentially costly, and a <code>foreach</code> loop doesn&#39;t help either. You might try changing to <code>foreach (var uid in await Task.Run(() =&gt; inbox.Search(query, cancel.Token)))</code> as a first try to improve latency. Beyond that, without a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reliably reproduces the problem, it&#39;s not possible to say for sure what you need to fix."}, {"owner": {"reputation": 1367, "user_id": 4267590, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/165d874d2852ec4757270abea4d2a445?s=128&d=identicon&r=PG&f=1", "display_name": "khargoosh", "link": "https://stackoverflow.com/users/4267590/khargoosh"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489015056, "post_id": 42683615, "comment_id": 72491586, "body": "@PeterDuniho for simple use cases I&#39;ve found it easier to use, but this is probably a matter of my experience."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 1367, "user_id": 4267590, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/165d874d2852ec4757270abea4d2a445?s=128&d=identicon&r=PG&f=1", "display_name": "khargoosh", "link": "https://stackoverflow.com/users/4267590/khargoosh"}, "edited": false, "score": 3, "creation_date": 1489015134, "post_id": 42683615, "comment_id": 72491615, "body": "@khargoosh: or perhaps, lack of experience with <code>async</code>/<code>await</code>. I&#39;ve been using <code>BackgroundWorker</code> for a decade and a half, but once we got <code>async</code>/<code>await</code>, I <i>never</i> use BW anymore. The code is <i>so</i> much easier to read and write than when dealing with BW (which was great for its time, but is now looking pretty rickety)."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1489015238, "post_id": 42683615, "comment_id": 72491663, "body": "Also, since you are already using <code>async</code>/<code>await</code> and you want the code executed on 15 second intervals, you might consider just putting the thing in a <code>while</code> loop and using <code>await Task.Delay(TimeSpan.FromSeconds(15));</code> as your timer, rather than creating a timer explicitly."}, {"owner": {"reputation": 927, "user_id": 5446838, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a08a5068d837c268deab9b2512b1223?s=128&d=identicon&r=PG&f=1", "display_name": "John P.", "link": "https://stackoverflow.com/users/5446838/john-p"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489015845, "post_id": 42683615, "comment_id": 72491882, "body": "@PeterDuniho you really believe giving a shot to a <code>while</code> loop on a gui would help here instead of using a timer? I am not meaning to offend you, just asking in case it help, so I can give it a shot. The other suggestions are pretty good I guess but I am not meaning to improve the latency simply. It is a gui, even a <code>millisecond</code> latency is an issue. I am looking for a way to really remove this delay completely."}, {"owner": {"reputation": 927, "user_id": 5446838, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a08a5068d837c268deab9b2512b1223?s=128&d=identicon&r=PG&f=1", "display_name": "John P.", "link": "https://stackoverflow.com/users/5446838/john-p"}, "edited": false, "score": 0, "creation_date": 1489015916, "post_id": 42683615, "comment_id": 72491903, "body": "I was thinking of having a second console application which would do that separately and save the results in a file. Then have my gui check the file for any changes instead of checking the mail client. But I don&#39;t know if it is really worth the trouble. Any the 1 million dollars question; is there a way to remove the latency completely of the grid before I get to use a second console application?"}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489016244, "post_id": 42683615, "comment_id": 72492012, "body": "<i>&quot;you really believe giving a shot to a while loop on a gui would help here instead of using a timer?&quot;</i> -- that suggestion has nothing to do with the question of the delay, just that it&#39;s more in keeping with the code that already uses <code>async</code>/<code>await</code>. Note that <code>await Task.Delay(...)</code> keeps the thread unblocked just like all the other places you use <code>await</code>. <i>&quot;even a millisecond latency is an issue&quot;</i> -- not true at all. Latencies of tens of millisecond, even up to a couple hundred ms in some cases, are completely unnoticeable by human beings."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489016247, "post_id": 42683615, "comment_id": 72492013, "body": "In any case, you cannot literally <i>&quot;remove this delay completely&quot;</i>, unless you actually remove the code itself completely. The point is to keep as little as possible on the UI thread, so that the user doesn&#39;t notice the interruption in UI responsiveness. And no, moving the code to an external process isn&#39;t going to help...it should and will be sufficient to move the longer-running operations to a worker thread, such as by using <code>Task.Run()</code> as I suggested."}, {"owner": {"reputation": 927, "user_id": 5446838, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a08a5068d837c268deab9b2512b1223?s=128&d=identicon&r=PG&f=1", "display_name": "John P.", "link": "https://stackoverflow.com/users/5446838/john-p"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489017049, "post_id": 42683615, "comment_id": 72492312, "body": "@PeterDuniho The code above is really reproducible but I wouldn&#39;t recommend you test it since it requires packages installing. However we are not talking about tens of ms here but 800-1000 ms delay on each call. I have already done the modifications you suggested, slightly improved the latency but still, 800 ms is a issue. My project includes writing so even 100 ms would be an issue I believe."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1489017196, "post_id": 42683615, "comment_id": 72492372, "body": "<i>&quot;The code above is really reproducible but I wouldn&#39;t recommend you test it since it requires packages installing&quot;</i> -- please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so that you understand what that phrase means. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and especially the articles linked at the bottom. <i>&quot;requires packages installing&quot;</i> is just another way to say that the code is <i>not</i> <b>a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a></b>."}, {"owner": {"reputation": 927, "user_id": 5446838, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a08a5068d837c268deab9b2512b1223?s=128&d=identicon&r=PG&f=1", "display_name": "John P.", "link": "https://stackoverflow.com/users/5446838/john-p"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489018232, "post_id": 42683615, "comment_id": 72492686, "body": "@PeterDuniho I have updated the question to make it reproducible I hope. All relevant packages have been included as well."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 1367, "user_id": 4267590, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/165d874d2852ec4757270abea4d2a445?s=128&d=identicon&r=PG&f=1", "display_name": "khargoosh", "link": "https://stackoverflow.com/users/4267590/khargoosh"}, "edited": false, "score": 0, "creation_date": 1489063293, "post_id": 42683615, "comment_id": 72513325, "body": "@khargoosh: <a href=\"http://blog.stephencleary.com/2013/05/taskrun-vs-backgroundworker-intro.html\" rel=\"nofollow noreferrer\">BGW is an outdated approach; <code>Task.Run</code> is superior in every way</a>."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1489380712, "post_id": 42683615, "comment_id": 72629462, "body": "For starters, don&#39;t use <code>DispatcherTimer</code>. That timer explicitly runs <i>on</i> the grid, not off it. (I.e., it runs on the dispatcher ;i.e., on the UI thread.) You want a timer that runs on a background thread, like a <code>ThreadPoolTimer</code>."}], "answers": [{"comments": [{"owner": {"reputation": 927, "user_id": 5446838, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a08a5068d837c268deab9b2512b1223?s=128&d=identicon&r=PG&f=1", "display_name": "John P.", "link": "https://stackoverflow.com/users/5446838/john-p"}, "edited": false, "score": 0, "creation_date": 1489068263, "post_id": 42686716, "comment_id": 72516623, "body": "I have a question about invoking the UI. I am on UWP. I want to call a form. <code>SettingsFlyout fly = new SettingsFlyout();      fly.Show();</code>. However this doesn&#39;t call it since it is on another thread. How would I call it? <code>.Invoke and .BeginInvoke</code> are not available here."}, {"owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "reply_to_user": {"reputation": 927, "user_id": 5446838, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a08a5068d837c268deab9b2512b1223?s=128&d=identicon&r=PG&f=1", "display_name": "John P.", "link": "https://stackoverflow.com/users/5446838/john-p"}, "edited": false, "score": 1, "creation_date": 1489073057, "post_id": 42686716, "comment_id": 72520091, "body": "Admittedly, I don&#39;t know anything about UWP, but I found <a href=\"http://stackoverflow.com/questions/10579027/run-code-on-ui-thread-in-winrt\">this question</a> which has some info which may help you."}], "tags": [], "owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "is_accepted": true, "score": 1, "last_activity_date": 1489033568, "creation_date": 1489033568, "answer_id": 42686716, "question_id": 42683615, "link": "https://stackoverflow.com/questions/42683615/make-async-function-run-completely-in-the-background/42686716#42686716", "title": "Make Async function run completely in the background", "body": "<p><code>async / await</code> is useful when executing long running operations, which are decoupled from the UI, while running on a UI thread. This is exactly what you are doing - but it seems you have no business being on the UI thread in the first place. Really, you <em>could</em> <code>await</code> the <em>entire</em> contents of your event handler as it's wholly decoupled from the UI. So it's not the right tool for the job.</p>\n\n<p><code>BackgroundWorker</code> was suggested, which would be a great option. I chose to provide a solution using <code>System.Threading.Timer</code> because there is not much code to change vs. your existing code. If you add any code which updates the UI, you will need to invoke it back to the dispatcher thread.</p>\n\n<p>And all those async methods could probably run synchronously. I would remove <code>async / await</code> then choose synchronous methods, for example <code>client.ConnectAsync()</code> >> <code>client.Connect()</code></p>\n\n<pre><code>public System.Threading.Timer UpdateTimer;\n\npublic MainFunction()\n{\n    this.InitializeComponent();\n    UpdateTimer = new System.Threading.Timer(UpdateList_Tick);\n    UpdateTimer.Change(0, 15000);\n    //...\n}\n\nprivate async void UpdateList_Tick(object state)\n{   \n    using (var client = new ImapClient())\n    {\n        using (var cancel = new CancellationTokenSource())\n        {\n            await client.ConnectAsync(\"imap.gmail.com\", 993, true, cancel.Token);\n            client.AuthenticationMechanisms.Remove(\"XOAUTH\");\n\n            await client.AuthenticateAsync(\"email.com\", \"mail12345\", cancel.Token);\n\n            var inbox = client.Inbox;\n            await inbox.OpenAsync(FolderAccess.ReadOnly, cancel.Token);\n\n            // let's try searching for some messages...\n            DateTime date = DateTime.Now;\n            DateTime mondayOfLastWeek = date.AddDays(-(int)date.DayOfWeek - 6);\n            var query = SearchQuery.DeliveredAfter(mondayOfLastWeek)\n                .And(SearchQuery.SubjectContains(\"search\"))\n                .And(SearchQuery.All);\n            List&lt;string&gt; newList = new List&lt;string&gt;();\n            foreach (var uid in inbox.Search(query, cancel.Token))\n            {\n                var message = inbox.GetMessage(uid, cancel.Token);\n                string trimmedMSGEmtyLines = Regex.Replace(message.TextBody, @\"^\\s+$[\\r\\n]*\", \"\", RegexOptions.Multiline);\n                newList.Add(message.Date.LocalDateTime + Environment.NewLine + trimmedMSGEmtyLines);\n            }\n            await client.DisconnectAsync(true, cancel.Token);\n            if (!GlobalVars.MainList.SequenceEqual(newList))\n            {\n                GlobalVars.MainList = newList;\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 927, "user_id": 5446838, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a08a5068d837c268deab9b2512b1223?s=128&d=identicon&r=PG&f=1", "display_name": "John P.", "link": "https://stackoverflow.com/users/5446838/john-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1515, "favorite_count": 0, "accepted_answer_id": 42686716, "answer_count": 1, "score": 1, "last_activity_date": 1489033568, "creation_date": 1489014204, "last_edit_date": 1489017950, "question_id": 42683615, "link": "https://stackoverflow.com/questions/42683615/make-async-function-run-completely-in-the-background", "title": "Make Async function run completely in the background", "body": "<p>I have a timer that calls a method every 15 seconds and that method takes some time to finish.\nI have converted it to <code>async</code> as much as possible for me but it still freezes the UI for almost 1 sec when it runs and since it runs every 15 seconds, it becomes annoying.</p>\n\n<p>Any idea how to make this <code>async</code> method run completely off the grid?\nThis is the timer method:</p>\n\n<pre><code>public static DispatcherTimer UpdateList = new DispatcherTimer();\n//GlobalVars.MainList = new List&lt;string&gt;();  //saved list from previous declaration\n\npublic MainFunction()\n{\n    this.InitializeComponent();\n    UpdateList.Tick += UpdateList_Tick; ;\n    UpdateList.Interval = new TimeSpan(0, 0, 0, 0, 15000);\n    UpdateList.Start();\n    //...\n}\nprivate async void UpdateList_Tick(object sender, object e)\n    {   \n    using (var client = new ImapClient())\n            {\n                using (var cancel = new CancellationTokenSource())\n                {\n                    await client.ConnectAsync(\"imap.gmail.com\", 993, true, cancel.Token);\n                    client.AuthenticationMechanisms.Remove(\"XOAUTH\");\n\n                    await client.AuthenticateAsync(\"email.com\", \"mail12345\", cancel.Token);\n\n                    var inbox = client.Inbox;\n                    await inbox.OpenAsync(FolderAccess.ReadOnly, cancel.Token);\n\n                    // let's try searching for some messages...\n                    DateTime date = DateTime.Now;\n                    DateTime mondayOfLastWeek = date.AddDays(-(int)date.DayOfWeek - 6);\n                    var query = SearchQuery.DeliveredAfter(mondayOfLastWeek)\n                        .And(SearchQuery.SubjectContains(\"search\"))\n                        .And(SearchQuery.All);\n                    List&lt;string&gt; newList = new List&lt;string&gt;();\n                    foreach (var uid in inbox.Search(query, cancel.Token))\n                    {\n                        var message = inbox.GetMessage(uid, cancel.Token);\n                        string trimmedMSGEmtyLines = Regex.Replace(message.TextBody, @\"^\\s+$[\\r\\n]*\", \"\", RegexOptions.Multiline);\n                        newList.Add(message.Date.LocalDateTime + Environment.NewLine + trimmedMSGEmtyLines);\n                    }\n                    await client.DisconnectAsync(true, cancel.Token);\n                    if (!GlobalVars.MainList.SequenceEqual(newList))\n                    {\n                        GlobalVars.MainList = newList;\n                    }\n                }\n            }\n}\n</code></pre>\n\n<p>Update:\n<a href=\"https://github.com/jstedfast/MailKit\" rel=\"nofollow noreferrer\">MailKit</a>, <a href=\"https://github.com/jstedfast/Portable.Text.Encoding\" rel=\"nofollow noreferrer\">Portable.Text.Encoding</a>, <a href=\"https://github.com/jstedfast/MimeKit\" rel=\"nofollow noreferrer\">MimeKit</a></p>\n"}, {"tags": ["c#", "azure", "azure-service-fabric"], "answers": [{"comments": [{"owner": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 0, "creation_date": 1489082757, "post_id": 42687433, "comment_id": 72526861, "body": "I&#39;ll try this and see if this does not cause the debugger to hiccup when running locally."}, {"owner": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 0, "creation_date": 1489112263, "post_id": 42687433, "comment_id": 72539733, "body": "I&#39;m still getting a hiccup with the debugger. Can I safely assume this is happening because the attached debugger does not release the service? Can this be ignored in production? Updated with screenshot."}, {"owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "reply_to_user": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 0, "creation_date": 1489115788, "post_id": 42687433, "comment_id": 72540721, "body": "Could you share you spike on GH?"}], "tags": [], "owner": {"reputation": 16914, "user_id": 59563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0470d91615bbd75e864b509a4bc5e395?s=128&d=identicon&r=PG", "display_name": "Sean Feldman", "link": "https://stackoverflow.com/users/59563/sean-feldman"}, "is_accepted": false, "score": 0, "last_activity_date": 1489037242, "creation_date": 1489037242, "answer_id": 42687433, "question_id": 42683516, "link": "https://stackoverflow.com/questions/42683516/best-practice-for-shutting-down-a-statelessservice-instance-on-service-fabric-fr/42687433#42687433", "title": "Best practice for shutting down a StatelessService instance on Service Fabric from within itself", "body": "<p>You create your service from the outside. It makes sense to delete the service from the outside as well. Personally, I would send a message to the \"custodian\" to indicate that service is completed and can be removed.</p>\n"}, {"comments": [{"owner": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 0, "creation_date": 1489122647, "post_id": 42710557, "comment_id": 72542542, "body": "Yes, everything appears fine inside Service Fabric Explorer. The Service is closed as expected and the remaining services run as expected."}, {"owner": {"reputation": 490, "user_id": 1188137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2634eb85ea8dfa0ab66dfec9374652e0?s=128&d=identicon&r=PG", "display_name": "antar", "link": "https://stackoverflow.com/users/1188137/antar"}, "reply_to_user": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 0, "creation_date": 1489123355, "post_id": 42710557, "comment_id": 72542770, "body": "That means, you don&#39;t have any instances of the stateless service spawned up, right? The next time you have an instance is when your external call creates the service and do some job and then once completed, shut down or delete the service. If that&#39;s the case, things should be good."}, {"owner": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 0, "creation_date": 1489160896, "post_id": 42710557, "comment_id": 72564570, "body": "Correct, I only have one instance running so once it is deleted the debugger is running on a process that no longer exists. I am adding an update to my question to make this more about best practices."}, {"owner": {"reputation": 490, "user_id": 1188137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2634eb85ea8dfa0ab66dfec9374652e0?s=128&d=identicon&r=PG", "display_name": "antar", "link": "https://stackoverflow.com/users/1188137/antar"}, "reply_to_user": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 0, "creation_date": 1489162062, "post_id": 42710557, "comment_id": 72565379, "body": "You might want to check this thread as well <a href=\"http://stackoverflow.com/questions/39563875/service-fabric-how-to-gracefully-fail-an-app\" title=\"service fabric how to gracefully fail an app\">stackoverflow.com/questions/39563875/&hellip;</a>"}], "tags": [], "owner": {"reputation": 490, "user_id": 1188137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2634eb85ea8dfa0ab66dfec9374652e0?s=128&d=identicon&r=PG", "display_name": "antar", "link": "https://stackoverflow.com/users/1188137/antar"}, "is_accepted": false, "score": 0, "last_activity_date": 1489121880, "creation_date": 1489121880, "answer_id": 42710557, "question_id": 42683516, "link": "https://stackoverflow.com/questions/42683516/best-practice-for-shutting-down-a-statelessservice-instance-on-service-fabric-fr/42710557#42710557", "title": "Best practice for shutting down a StatelessService instance on Service Fabric from within itself", "body": "<p>I have seen this happened to me while working debugging the service fabric. Usually, I see this behavior when my debugger is attached for a long time. As long as the service is shut down and you can verify that it does not exist anymore after <code>DeleteServiceAsync</code> is completed, using Service Fabric Explorer site, it should be fine.</p>\n"}, {"comments": [{"owner": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "edited": false, "score": 1, "creation_date": 1489188931, "post_id": 42729084, "comment_id": 72578446, "body": "Thanks masnider - that was what I assumed. It&#39;s good to hear from someone on the SF team about it!"}, {"owner": {"reputation": 1284, "user_id": 601029, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/05731e8107a03cba386e8efd6488df1c?s=128&d=identicon&r=PG", "display_name": "chrisdrobison", "link": "https://stackoverflow.com/users/601029/chrisdrobison"}, "edited": false, "score": 0, "creation_date": 1491397590, "post_id": 42729084, "comment_id": 73534043, "body": "@masnider Does SF signal the process to exit after it has been empty for a while or does it just kill it?"}], "tags": [], "owner": {"reputation": 2496, "user_id": 4852187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wcskq.jpg?s=128&g=1", "display_name": "masnider", "link": "https://stackoverflow.com/users/4852187/masnider"}, "is_accepted": true, "score": 3, "last_activity_date": 1489521628, "last_edit_date": 1489521628, "creation_date": 1489186465, "answer_id": 42729084, "question_id": 42683516, "link": "https://stackoverflow.com/questions/42683516/best-practice-for-shutting-down-a-statelessservice-instance-on-service-fabric-fr/42729084#42729084", "title": "Best practice for shutting down a StatelessService instance on Service Fabric from within itself", "body": "<p>The behavior you describe is expected (your debugger if you started it in main is probably sitting on that timeout line the whole time). The lifecycle of the host process is not the same as the lifecycle of the services hosted inside it.</p>\n\n<p>When the host process is empty, Service Fabric waits a bit before shutting it down since service hosts aren't normally empty in production and its trying to avoid the overhead of creating and destroying the process (which would slow down subsequent service creations). </p>\n\n<p>By default Service Fabric checks to see if the process is empty about every minute and then will mark it for closure, then makes a sweep and closes empty processes every 10 minutes or so, so you could see an empty process persist for about 11 minutes if you hit the timing just right. </p>\n"}], "owner": {"reputation": 2613, "user_id": 638311, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zD4Ta.jpg?s=128&g=1", "display_name": "INNVTV", "link": "https://stackoverflow.com/users/638311/innvtv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1182, "favorite_count": 0, "accepted_answer_id": 42729084, "answer_count": 3, "score": 0, "last_activity_date": 1489521628, "creation_date": 1489013725, "last_edit_date": 1489161374, "question_id": 42683516, "link": "https://stackoverflow.com/questions/42683516/best-practice-for-shutting-down-a-statelessservice-instance-on-service-fabric-fr", "title": "Best practice for shutting down a StatelessService instance on Service Fabric from within itself", "body": "<p>I'm working on a ServiceFabric scenario where I spawn an instance of a Stateless Service in order to run some tasks. I'm using <strong>FabricClient.ServiceManager.CreateServiceAsync</strong> to create the instance and this works as expected.</p>\n\n<p>Once my tasks are complete I want the service that I spawned to shut its self down so I use <strong>FabricClient.ServiceManager.DeleteServiceAsync</strong>.</p>\n\n<p>The service shuts down as expected, however my debugger stops in the <strong>Program.Main</strong> class at this line:</p>\n\n<pre><code>// Prevents this host process from terminating so services keep running.\nThread.Sleep(Timeout.Infinite);\n</code></pre>\n\n<p>There is no exception, and I am able to hit continue and my application runs as expected after this occurs. But I must be missing a step in order to shut down my service properly. Is there a \"Best Practices\" way to do this?</p>\n\n<p>I thought about having my service request another service (like a custodian) to handle the shut down, but that seems like too much overhead to me.</p>\n\n<p>My preference would be that the service itself should be able to handle that on it's own, unless of course it turns out to be a bad practice.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I moved the deletion of the service to a ManagerService to handle shutting it down, but my debugger still stops on <strong>Program.Main</strong> of the deleted service as it did before. I also added a screenshot (below).</p>\n\n<p>If I hit continue everything keeps running as it should. Is this because the debugger is still attached and doesn't understand that the service is no longer running under fabric? Can this be ignored and released into production?</p>\n\n<p><a href=\"https://i.stack.imgur.com/L6Gh2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L6Gh2.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I'm getting a lot of feedback that since I have the debugger running it is expected behavior that it would hiccup once I have no instances of that particular service running on fabric anymore. Since I am getting the same behavior if I delete the service from within itself or from an external service I wanted to get some thoughts on best practices for this scenario...</p>\n\n<p>Ideally having the service clean itself up is best since there are no dependencies to an outside service, it's less complex and there is much less code to write (and less to go wrong). </p>\n\n<p>Surely there is a best practice for doing this outside of having to call <strong>FabricClient</strong>? Is there a \"Shutdown\" override of some sort? Does the <strong>CancellationToken</strong> come into play here?</p>\n"}, {"tags": ["c#", "entity-framework", "typescript", "breeze"], "answers": [{"comments": [{"owner": {"reputation": 1500, "user_id": 2471626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff0e157710db84f98de469cdd330ca8?s=128&d=identicon&r=PG", "display_name": "Brian Noyes", "link": "https://stackoverflow.com/users/2471626/brian-noyes"}, "edited": false, "score": 0, "creation_date": 1489152322, "post_id": 42687872, "comment_id": 72558771, "body": "Thanks Steve, that was exactly the problem. I knew that Breeze can add or remove children/parent relations by setting either the FK property (i.e. order.customerId) or the nav property (i.e. order.customer) or both, so figured something like that was going on, but couldn&#39;t spot why."}], "tags": [], "owner": {"reputation": 3065, "user_id": 2517406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RLzQL.jpg?s=128&g=1", "display_name": "Steve Schmitt", "link": "https://stackoverflow.com/users/2517406/steve-schmitt"}, "is_accepted": true, "score": 1, "last_activity_date": 1489039328, "creation_date": 1489039328, "answer_id": 42687872, "question_id": 42683504, "link": "https://stackoverflow.com/questions/42683504/setdeleted-loop-resulting-in-modified-entities-in-savechanges-call/42687872#42687872", "title": "setDeleted loop resulting in modified entities in saveChanges call", "body": "<p>This is a classic case of modifying an array while iterating over it.  When we delete children like this:</p>\n\n<pre><code>    o.items.forEach(oi =&gt; {\n      oi.entityAspect.setDeleted();\n    });\n</code></pre>\n\n<p>\u2026each time we call <code>setDeleted</code>, it removes the child entity from the parent <code>items</code> collection, which is the collection being iterated.  So the next iteration skips the entity in between, and only about half of the entities are actually being set deleted.</p>\n\n<p>The symptoms of this would be a SaveBundle that contains a mix of deleted and modified entities, and (if you are deleting the parent entity), a foreign key violation from the database as you attempt to delete the parent without deleting all the children.</p>\n\n<p>The easy solution is to make a copy of the array before iterating, e.g. using <code>slice</code>:</p>\n\n<pre><code>    o.items.slice().forEach(oi =&gt; {\n      oi.entityAspect.setDeleted();\n    });\n</code></pre>\n"}], "owner": {"reputation": 1500, "user_id": 2471626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff0e157710db84f98de469cdd330ca8?s=128&d=identicon&r=PG", "display_name": "Brian Noyes", "link": "https://stackoverflow.com/users/2471626/brian-noyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 42687872, "answer_count": 1, "score": 1, "last_activity_date": 1489039328, "creation_date": 1489013662, "question_id": 42683504, "link": "https://stackoverflow.com/questions/42683504/setdeleted-loop-resulting-in-modified-entities-in-savechanges-call", "title": "setDeleted loop resulting in modified entities in saveChanges call", "body": "<p>I am trying to do a delete of a hierarchy of objects:</p>\n\n<p>Customer->Orders->OrderItems->OrderItemOptions</p>\n\n<p>I set up a straightforward nested loop trying to even do the operations in the \"correct\" order as they would have to be done at the database - deleting child records first before deleting parent.</p>\n\n<p>Here's the loop:</p>\n\n<pre><code>deleteCustomer(customer: Customer): Promise&lt;void&gt; {\n  return this.getCustomerOrderHistory(customer.id).then(orders =&gt; {\n    orders.forEach(o =&gt; {\n      o.items.forEach(oi =&gt; {\n        oi.options.forEach(opt =&gt; opt.entityAspect.setDeleted());\n        oi.entityAspect.setDeleted();\n      });\n      o.entityAspect.setDeleted();\n    });\n    customer.entityAspect.setDeleted();\n  });\n}\n</code></pre>\n\n<p>The problem is that when the parent object at each level is setDeleted(), a set of duplicate entity records marked as \"modified\" are added to the changes buffered by the EntityManager. Then when I call saveChanges the ASP.NET/EF back end throws an exception because by the time the UPDATE statements corresponding to those modified records get executed, the DELETEs have already happened so the UPDATEs fail with a FK not found kind of exception.</p>\n\n<p>So what am I missing here?</p>\n"}, {"tags": ["c#", "sql-server"], "comments": [{"owner": {"reputation": 189, "user_id": 2911739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9677ce78f5e70d07208943f516518b?s=128&d=identicon&r=PG&f=1", "display_name": "asemprini87", "link": "https://stackoverflow.com/users/2911739/asemprini87"}, "edited": false, "score": 0, "creation_date": 1489013727, "post_id": 42683453, "comment_id": 72491073, "body": "Are you aware that the image data type will soon be deprecated? you should be using varbinary(MAX)"}, {"owner": {"reputation": 525, "user_id": 828602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f4c6304a9b6d0b29a8f4fac1dc36e8e7?s=128&d=identicon&r=PG", "display_name": "billboard", "link": "https://stackoverflow.com/users/828602/billboard"}, "reply_to_user": {"reputation": 189, "user_id": 2911739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b9677ce78f5e70d07208943f516518b?s=128&d=identicon&r=PG&f=1", "display_name": "asemprini87", "link": "https://stackoverflow.com/users/2911739/asemprini87"}, "edited": false, "score": 0, "creation_date": 1489014030, "post_id": 42683453, "comment_id": 72491208, "body": "@asemprini87 No I was&#39;t aware of it, Thank you for the heads up, however, as the db already exists I would like to keep it like that for now."}, {"owner": {"reputation": 13531, "user_id": 1384539, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/zpNUp.jpg?s=128&g=1", "display_name": "Thiago Custodio", "link": "https://stackoverflow.com/users/1384539/thiago-custodio"}, "edited": false, "score": 3, "creation_date": 1489014488, "post_id": 42683453, "comment_id": 72491356, "body": "<a href=\"http://stackoverflow.com/a/10310197/1384539\">stackoverflow.com/a/10310197/1384539</a>"}], "answers": [{"tags": [], "owner": {"reputation": 62126, "user_id": 5089204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/xGm6I.jpg?s=128&g=1", "display_name": "Shnugo", "link": "https://stackoverflow.com/users/5089204/shnugo"}, "is_accepted": false, "score": 1, "last_activity_date": 1489016002, "last_edit_date": 1495539976, "creation_date": 1489016002, "answer_id": 42683957, "question_id": 42683453, "link": "https://stackoverflow.com/questions/42683453/how-to-convert-pdf-file-to-sql-server-image-data-type/42683957#42683957", "title": "How to Convert PDF file to SQL Server Image data type", "body": "<p>Obviously there is a deep misconception how SQL-Server stores such data...</p>\n\n<p><strong>Binary data is not stored as HEX string!</strong> This is just the way it is presented to you when you see the result of a <code>SELECT MyBinaryColumn FROM SomeWhere</code>.</p>\n\n<p>Binary data is not understandable for a human reader. It must be formatted to a readable string.</p>\n\n<p>This applies to other data types too, which store their values in a binary format internally: In many cases <strong>the values you <em>see</em> are not the real values</strong>. This is especially painfull in connection with datetime values, where the presented string depends on system and culture settings. The same thing leads to silly errors, if floating point numbers are presented with an implicit rounding (<em>Oh! 13.00000001 is not equal to 13...</em>).</p>\n\n<p>Today one should store binary data in a column of data type <code>VARBINARY(MAX)</code>. The <code>IMAGE</code> data type (same with <code>TEXT</code>) is deprecated and will not be supported anymore in future versions!</p>\n\n<p>You can pass your value as a byte array (<code>byte[]</code>) from C# as <code>SqlDbType.Binary</code>. Thiago Custodio pointed in his comment to <a href=\"https://stackoverflow.com/a/10310197/5089204\">this answer</a> showing an example. </p>\n"}], "owner": {"reputation": 525, "user_id": 828602, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f4c6304a9b6d0b29a8f4fac1dc36e8e7?s=128&d=identicon&r=PG", "display_name": "billboard", "link": "https://stackoverflow.com/users/828602/billboard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1498, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489016002, "creation_date": 1489013459, "last_edit_date": 1489014077, "question_id": 42683453, "link": "https://stackoverflow.com/questions/42683453/how-to-convert-pdf-file-to-sql-server-image-data-type", "title": "How to Convert PDF file to SQL Server Image data type", "body": "<p>Using C# How do i convert a PDF file to store in SQL as SQL Server Image data type?</p>\n\n<p>Following is my sql, I want to store PDF as template to TemplateFile column</p>\n\n<pre><code>CREATE TABLE [dbo].[Templates](\n    [TemplateID] [bigint] IDENTITY(1,1) NOT NULL,\n    [TemplateFile] [image] NOT NULL,\n    [LanguageId] [bigint] NOT NULL)\n</code></pre>\n\n<p>I want to preferably store the PDF as a Hex string in SQL Image column</p>\n\n<p>sample output required...0x255044462D312E360D25E2E3CFD30D0A36353</p>\n"}, {"tags": ["c#", "api", "asp.net-web-api"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6321478"}, "edited": false, "score": 0, "creation_date": 1489044464, "post_id": 42683850, "comment_id": 72501190, "body": "Hey ,  so if i publish to a server then and say i left top line there, but then in new Uri(&quot;   I used httpcontext....  etc... )    then essentially this would not be a match and it would break,  right?   <code>var match = apiTemplate.Match(host,etc</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6321478"}, "edited": false, "score": 0, "creation_date": 1489045159, "post_id": 42683850, "comment_id": 72501582, "body": "I creating a new question btw   thanks    <a href=\"http://stackoverflow.com/questions/42689379/c-sharp-net-uritemplate-match-url-from-a-whitelist-or-pool-or-servers\" title=\"c sharp net uritemplate match url from a whitelist or pool or servers\">stackoverflow.com/questions/42689379/&hellip;</a>"}], "tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 0, "last_activity_date": 1489015447, "creation_date": 1489015447, "answer_id": 42683850, "question_id": 42683424, "link": "https://stackoverflow.com/questions/42683424/c-web-api-parse-url-to-only-get-the-method-method-name-up-till-the/42683850#42683850", "title": "C# web api parse URL to only get the method method name up till the /", "body": "<p>You can use <a href=\"https://msdn.microsoft.com/en-us/library/system.uritemplate(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>UriTemplate</code></a> to parse the url:</p>\n\n<pre><code>var host = new Uri(\"http://localhost:29001\");\nvar apiTemplate = new UriTemplate(\"{api}/{*params}\", true);\n\nvar match = apiTemplate.Match(host, new Uri(\"http://localhost:29001/GetQAByDateTime/date/2-15-2017/time/11\"));\nif (match == null)\n    throw new ArgumentException();\n\nConsole.WriteLine(match.BoundVariables[\"api\"]);     // GetQAByDateTime\nConsole.WriteLine(match.BoundVariables[\"params\"]);  // date/2-15-2017/time/11\n</code></pre>\n\n<p>What you can expect:</p>\n\n<pre><code>+---------------------------------------------------------------+------------------+-------------------------+\n|                              Url                              |       API        |         Params          |\n+---------------------------------------------------------------+------------------+-------------------------+\n| http://localhost:29001/GetSomething                           | GetSomething     |                         |\n| http://localhost:29001/GetSomething2/                         | GetSomething2    |                         |\n| http://localhost:29001/GetQAByDateTime/date/2-15-2017/time/11 | GetQAByDateTime  | date/2-15-2017/time/11  |\n| http://localhost:29001/GetQAByDateTime/dat11                  | GetQAByDateTime  | dat11                   |\n+---------------------------------------------------------------+------------------+-------------------------+\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6321478"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 1, "accepted_answer_id": 42683850, "answer_count": 1, "score": 0, "last_activity_date": 1489015447, "creation_date": 1489013318, "question_id": 42683424, "link": "https://stackoverflow.com/questions/42683424/c-web-api-parse-url-to-only-get-the-method-method-name-up-till-the", "title": "C# web api parse URL to only get the method method name up till the /", "body": "<p>I have some web api urls that I'm restricting people to with both a token and a list of api addresses</p>\n\n<p>Previously I was looking for  their token and that it matches up with a valid api address such as </p>\n\n<pre><code>api/request\n</code></pre>\n\n<p>The code I wrote for that is </p>\n\n<pre><code>string prefixSearched = \"api\";\nstring parsedUrl =  consumer.ApiAddressRequested.Substring(\n                        consumer.ApiAddressRequested.IndexOf(prefixSearched, StringComparison.Ordinal) +\n                        prefixSearched.Length);\nstring finalSearch = prefixSearched + parsedUrl;\n</code></pre>\n\n<p>So above worked for me when URL is <code>http://localhost:29001/api/request</code></p>\n\n<p>However I am realizing that myself and others have api services that end up looking like this</p>\n\n<pre><code>`http://localhost:29001/GetQAByDateTime/date/2-15-2017/time/11`\n</code></pre>\n\n<p>So other than locking down the main FQDM ,  I'm thinking that i really only want to enter  <code>GetQAByDateTime</code> into the database , so how can I just parse that out of the url string?  </p>\n\n<p>Seems like I need to be able to parse out things like <code>api/request</code> and then also these ones without <code>api/</code>    </p>\n\n<p>I think that most with be  <code>api/something</code> but then the anomalies of <code>GetSomething</code>  </p>\n"}, {"tags": ["c#", "api", "facebook-graph-api", "post"], "comments": [{"owner": {"reputation": 338, "user_id": 219321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514f35866e2c5668c83dd7283433c6e3?s=128&d=identicon&r=PG", "display_name": "bogdan", "link": "https://stackoverflow.com/users/219321/bogdan"}, "edited": false, "score": 0, "creation_date": 1489420948, "post_id": 42683359, "comment_id": 72651750, "body": "Hey, I&#39;m having the exact same problem. Found a solution yet?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7816279, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1c18148d33fdd2a5ed36c358a6751c26?s=128&d=identicon&r=PG", "display_name": "Marco Antonio Barragan Key", "link": "https://stackoverflow.com/users/7816279/marco-antonio-barragan-key"}, "is_accepted": false, "score": 0, "last_activity_date": 1491331939, "creation_date": 1491331939, "answer_id": 43215390, "question_id": 42683359, "link": "https://stackoverflow.com/questions/42683359/oauth-facebook-platform-invalid-request-100-parameter-error-you-cannot/43215390#43215390", "title": "OAuth &quot;Facebook Platform&quot; &quot;invalid_request&quot; &quot;(#100) Parameter error: You cannot send messages to this id&quot;", "body": "<p>Same issue here, \"Facebook Platform\" \"invalid_request\" \"(#100) Parameter error: You cannot send messages to this id\"</p>\n\n<p>I guess if the ID is the number in the url: <a href=\"https://www.facebook.com/profile.php?id=100010603771535\" rel=\"nofollow noreferrer\">https://www.facebook.com/profile.php?id=100010603771535</a> &lt;--- thos one, or I need another that is not just here...</p>\n"}, {"tags": [], "owner": {"reputation": 865, "user_id": 3466016, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9yeJ8.jpg?s=128&g=1", "display_name": "izik461", "link": "https://stackoverflow.com/users/3466016/izik461"}, "is_accepted": false, "score": 0, "last_activity_date": 1509015198, "creation_date": 1509015198, "answer_id": 46952468, "question_id": 42683359, "link": "https://stackoverflow.com/questions/42683359/oauth-facebook-platform-invalid-request-100-parameter-error-you-cannot/46952468#46952468", "title": "OAuth &quot;Facebook Platform&quot; &quot;invalid_request&quot; &quot;(#100) Parameter error: You cannot send messages to this id&quot;", "body": "<p>You should use the PSID and not the \"default/normal\" ID of the user.\nPSID can be retrieved from messenger extensions (I don't know if it can be retrieved from Graph API without connecting the bot - please, answer in the comments).</p>\n\n<p>Check out the links below for more info.\n<a href=\"https://developers.facebook.com/docs/messenger-platform/reference/send-api\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/messenger-platform/reference/send-api</a>\n<a href=\"https://developers.facebook.com/docs/messenger-platform/identity/id-matching/\" rel=\"nofollow noreferrer\">https://developers.facebook.com/docs/messenger-platform/identity/id-matching/</a> </p>\n"}], "owner": {"reputation": 21, "user_id": 7654654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f75cda4d97b3d483dac2e1bcc08a22c7?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Renteria Vidal", "link": "https://stackoverflow.com/users/7654654/ivan-renteria-vidal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2400, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509015198, "creation_date": 1489013057, "last_edit_date": 1489610727, "question_id": 42683359, "link": "https://stackoverflow.com/questions/42683359/oauth-facebook-platform-invalid-request-100-parameter-error-you-cannot", "title": "OAuth &quot;Facebook Platform&quot; &quot;invalid_request&quot; &quot;(#100) Parameter error: You cannot send messages to this id&quot;", "body": "<p>how to resolve </p>\n\n<p>\"Facebook Platform\" \"invalid_request\" \"(#100) Parameter error: You cannot send messages to this id\"</p>\n\n<p>Do you have any idea ??</p>\n\n<p>I try send a POST using NET and the parameters is </p>\n\n<p><a href=\"https://graph.facebook.com/v2.6/\" rel=\"nofollow noreferrer\">https://graph.facebook.com/v2.6/</a>{my_page}/messages?access_token={my acces token}\nand body request I set a message text and recipient id in Json form </p>\n\n<p>the id I get for app in the web, is id of a friend but An interaction was already made</p>\n\n<p>What is missing ?</p>\n"}, {"tags": ["c#", ".net", "asp.net-web-api", "oauth", "azure-mobile-services"], "answers": [{"comments": [{"owner": {"reputation": 608, "user_id": 2770633, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lYpVK.jpg?s=128&g=1", "display_name": "SamyCode", "link": "https://stackoverflow.com/users/2770633/samycode"}, "edited": false, "score": 0, "creation_date": 1489076730, "post_id": 42692243, "comment_id": 72522907, "body": "Thank you Bruce for your fast answer. I edited my code following yours and now, when I test it locally in PostMan, it cames back with the following error: &quot;&quot;No API version was specified in the request, this request needs to specify a ZUMO-API-VERSION of &#39;2.0.0&#39;.  For more information and supported clients see: <a href=\"http://go.microsoft.com/fwlink/?LinkId=690568#2.0.0\" rel=\"nofollow noreferrer\">go.microsoft.com/fwlink/?LinkId=690568#2.0.0</a>&quot;&quot;  What this could be?"}, {"owner": {"reputation": 608, "user_id": 2770633, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lYpVK.jpg?s=128&g=1", "display_name": "SamyCode", "link": "https://stackoverflow.com/users/2770633/samycode"}, "edited": false, "score": 0, "creation_date": 1489076999, "post_id": 42692243, "comment_id": 72523112, "body": "Well, it worked adding the header &quot;ZUMO-API-VERSION&quot; with the value &quot;2.0&quot;. Thank you Bruce!!"}, {"owner": {"reputation": 17081, "user_id": 6755924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2016daeafc6c9469fde7bab85f8214d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Chen", "link": "https://stackoverflow.com/users/6755924/bruce-chen"}, "reply_to_user": {"reputation": 608, "user_id": 2770633, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lYpVK.jpg?s=128&g=1", "display_name": "SamyCode", "link": "https://stackoverflow.com/users/2770633/samycode"}, "edited": false, "score": 0, "creation_date": 1489109338, "post_id": 42692243, "comment_id": 72538885, "body": "Glad to hear that you have solved this issue. For <code>ZUMO-API-VERSION</code>, you could call <code>MobileAppSettingsDictionary settings = config.GetMobileAppSettingsProvider().GetMobileAppSettings()&zwnj;&#8203;; settings.SkipVersionCheck = true;</code> before <code>app.UseWebApi(config);</code> to skip the version checking.  If my answer could help you, kindly mark it as acceptable answer, which could help other community members who could encounter the same issue."}, {"owner": {"reputation": 608, "user_id": 2770633, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lYpVK.jpg?s=128&g=1", "display_name": "SamyCode", "link": "https://stackoverflow.com/users/2770633/samycode"}, "edited": false, "score": 0, "creation_date": 1494358045, "post_id": 42692243, "comment_id": 74791535, "body": "Sorry for being late on this one. I marked your answer as the accepted one. Thank you very much."}], "tags": [], "owner": {"reputation": 17081, "user_id": 6755924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2016daeafc6c9469fde7bab85f8214d6?s=128&d=identicon&r=PG&f=1", "display_name": "Bruce Chen", "link": "https://stackoverflow.com/users/6755924/bruce-chen"}, "is_accepted": true, "score": 2, "last_activity_date": 1489055439, "last_edit_date": 1489055439, "creation_date": 1489053746, "answer_id": 42692243, "question_id": 42683273, "link": "https://stackoverflow.com/questions/42683273/oauth-authorization-returns-authorization-has-been-denied-for-this-request-in/42692243#42692243", "title": "OAuth authorization returns &quot;Authorization has been denied for this request&quot; in a Azure Mobile App project", "body": "<p>According to your description, I followed the <a href=\"https://olepetterdahlmann.com/2016/08/08/implement-an-oauth-2-0-authorization-server-using-owin-oauth-middleware-on-asp-net-web-api/\" rel=\"nofollow noreferrer\">tutorial</a> you mentioned to test this issue. According to your code, I assumed that you have created the Azure Mobile App application. You could try to change your <code>Configuration</code> method as follows:</p>\n\n<pre><code>public void Configuration(IAppBuilder app)\n{\n    ConfigureAuth(app);\n    ConfigureMobileApp(app);\n}\n</code></pre>\n\n<p><strong>Note:</strong> The <code>ConfigureMobileApp</code> method within <code>Startup.MobileApp.cs</code> called this <code>app.UseWebApi(config);</code>, so you need to init your middleware before this code.</p>\n\n<p>Here is my code snippet, you could refer to it.</p>\n\n<p><strong>Startup.OAuth.cs</strong></p>\n\n<pre><code>public static OAuthAuthorizationServerOptions OAuthOptions { get; private set; }\n\nstatic Startup()\n{\n    OAuthOptions = new OAuthAuthorizationServerOptions\n    {\n        TokenEndpointPath = new PathString(\"/token\"),\n        Provider = new OAuthAppProvider(),\n        AccessTokenExpireTimeSpan = TimeSpan.FromDays(2),\n        AllowInsecureHttp = true\n    };\n}\n\npublic void ConfigureAuth(IAppBuilder app)\n{   \n    app.UseOAuthAuthorizationServer(OAuthOptions);\n    app.UseOAuthBearerAuthentication(new OAuthBearerAuthenticationOptions());\n}\n</code></pre>\n\n<p><strong>Startup.MobileApp.cs</strong></p>\n\n<pre><code>public static void ConfigureMobileApp(IAppBuilder app)\n{\n    HttpConfiguration config = new HttpConfiguration();\n\n    new MobileAppConfiguration()\n        .AddMobileAppHomeController()\n        .MapApiControllers() //provides custom API capabilities for WebAPI controllers decorated with the [MobileAppController] attribute\n        .ApplyTo(config);\n\n    app.UseWebApi(config);\n}\n</code></pre>\n\n<p><strong>ValuesController.cs</strong></p>\n\n<pre><code>// Use the MobileAppController attribute for each ApiController you want to use  \n// from your mobile clients \n[MobileAppController]\n[Authorize]\npublic class ValuesController : ApiController\n{\n    // GET api/values\n    public string Get()\n    {\n        return \"Hello World!\";\n    }\n}\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/2Ideo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Ideo.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/jiMoY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jiMoY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Additionally, Azure Mobile Apps use App Service Authentication / Authorization to secure your mobile backend, for more details, you could refer to this official <a href=\"https://docs.microsoft.com/en-us/azure/app-service-mobile/app-service-mobile-dotnet-backend-how-to-use-server-sdk#how-to-work-with-authentication\" rel=\"nofollow noreferrer\">document</a>. Also, you could refer to Adrian Hall's <a href=\"https://adrianhall.github.io/develop-mobile-apps-with-csharp-and-azure/chapter2/backend/\" rel=\"nofollow noreferrer\">blog</a> for a better understanding of Azure Mobile Apps.</p>\n"}], "owner": {"reputation": 608, "user_id": 2770633, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/lYpVK.jpg?s=128&g=1", "display_name": "SamyCode", "link": "https://stackoverflow.com/users/2770633/samycode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2773, "favorite_count": 0, "accepted_answer_id": 42692243, "answer_count": 1, "score": 2, "last_activity_date": 1489055439, "creation_date": 1489012687, "last_edit_date": 1489026303, "question_id": 42683273, "link": "https://stackoverflow.com/questions/42683273/oauth-authorization-returns-authorization-has-been-denied-for-this-request-in", "title": "OAuth authorization returns &quot;Authorization has been denied for this request&quot; in a Azure Mobile App project", "body": "<p>I implemented OAuth authorization in a .Net Web Api project following <a href=\"https://www.youtube.com/watch?v=TsH3BzIPzeU\" rel=\"nofollow noreferrer\">this tutorial</a>. I need to do the same, but within an Azure Mobile App project. It is published and everything works fine like a Web Api until I try to authenticate my calls to the controllers. When I add the authorize attribute and I call the api, I am supposed to send a bearer token. Please note that I do this using PostMan with my Web Api project and everything works perfect. But, in the Azure Mobile Application, every time that I call a controller with the authorize attribute using the right bearer token, it comes back with the \"authorization has been denied for this request\" error. The code between the web api project and the azure mobile application project is exactly the same with the only exception been in the startup class. </p>\n\n<p>Web Api startup.cs:</p>\n\n<pre><code>public partial class Startup\n{\n    public void Configuration(IAppBuilder app)\n    {\n        ConfigureAuth(app);\n    }\n)\n</code></pre>\n\n<p>Azure Mobile Application startup.cs:</p>\n\n<pre><code>public partial class Startup\n{\n    public void Configuration(IAppBuilder app)\n    {\n\n        ConfigureMobileApp(app);\n        ConfigureAuth(app);\n    }\n}\n</code></pre>\n\n<p>I think that the problem has to do with the ConfigureMobileApp function, as it has some authentication code within itself, but I am not sure. I am not used to the start up class. Still kinda noob with it.</p>\n\n<p>So, every call to the web api project using the bearer token, works fine. Every call to the azure mobile application project using the bearer token, comes back with the \"authorization has been denied for this request\" error.</p>\n\n<p>What can I do to workaround this???</p>\n\n<p>Thank you!!</p>\n"}, {"tags": ["c#", "ado.net", "oledb", "ibm-midrange", "db2-400"], "comments": [{"owner": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1489012681, "post_id": 42683209, "comment_id": 72490602, "body": "What do you mean why say &quot;not working&quot;?"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1489012994, "post_id": 42683209, "comment_id": 72490765, "body": "store the connection string in a .Config file and then change this line  <code>using (OleDbCommand command = con.CreateCommand())</code> to  <code>using(OleDbCommand command = new OleDbCommand(sqlStr, con))</code> also look up your syntax for <code>CASE WHEN</code> you should <code>END as IsBatch</code> if the syntax is the same for example in Sql Server"}, {"owner": {"reputation": 147, "user_id": 4241694, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/712b038965c621345c8fc340359d60a6?s=128&d=identicon&r=PG", "display_name": "PRK", "link": "https://stackoverflow.com/users/4241694/prk"}, "reply_to_user": {"reputation": 91923, "user_id": 41956, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b9da2ca6abf3a1e28fb470f2b3ae2c34?s=128&d=identicon&r=PG", "display_name": "abatishchev", "link": "https://stackoverflow.com/users/41956/abatishchev"}, "edited": false, "score": 0, "creation_date": 1489013285, "post_id": 42683209, "comment_id": 72490892, "body": "@abatishchev added the exception"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 3806520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vM7mL.jpg?s=128&g=1", "display_name": "WoZoNe", "link": "https://stackoverflow.com/users/3806520/wozone"}, "is_accepted": true, "score": 1, "last_activity_date": 1489015664, "creation_date": 1489015664, "answer_id": 42683885, "question_id": 42683209, "link": "https://stackoverflow.com/questions/42683209/building-query-with-oledb-command-to-query-as400-database/42683885#42683885", "title": "Building query with Oledb command to query AS400 database", "body": "<p>You're missing parameters. SqlStr expects two.</p>\n\n<p>I think it should read something like</p>\n\n<pre><code>string sqlStr = @\"SELECT CASE IsBatch WHEN 'Y' THEN 1 ELSE 0 END\n                  FROM Batch200 \n                  WHERE BatchID=LEFT(@BATCHID,4) AND BatchNumber=CAST(RIGHT(@BATCHNUMBER,9)AS INT)\";\n</code></pre>\n\n<p>You would then add the two parameters</p>\n\n<pre><code>command.Parameters.Add(new OleDbParameter(\"@BATCHID\", batchID));\ncommand.Parameters.Add(new OleDbParameter(\"@BATCHNUMBER\", batchNumber));\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 4241694, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/712b038965c621345c8fc340359d60a6?s=128&d=identicon&r=PG", "display_name": "PRK", "link": "https://stackoverflow.com/users/4241694/prk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 42683885, "answer_count": 1, "score": 2, "last_activity_date": 1497636587, "creation_date": 1489012472, "last_edit_date": 1592644375, "question_id": 42683209, "link": "https://stackoverflow.com/questions/42683209/building-query-with-oledb-command-to-query-as400-database", "title": "Building query with Oledb command to query AS400 database", "body": "<p>Am trying to query the AS400 database with parameterised query. Here is my code:</p>\n<pre><code>string connectionString = ConfigurationManager.ConnectionStrings[&quot;****&quot;].ConnectionString;\nusing (OleDbConnection con = new OleDbConnection(connectionString))\nusing (OleDbCommand command = con.CreateCommand())\n{\n    string sqlStr = @&quot;SELECT CASE IsBatch WHEN 'Y' THEN 1 ELSE 0 END\n                      FROM Batch200 \n                      WHERE BatchID=LEFT(?,4) AND BatchNumber=CAST(RIGHT(?,9)AS INT)&quot;;\n\n    command.CommandType = CommandType.Text;\n    command.CommandText = str;\n    command.Parameters.Add(new OleDbParameter(&quot;@p1&quot;, polNumber));\n\n    var option = command.ExecuteScalar();\n}\n</code></pre>\n<p>I tried with both the queries, none of them is working. How to resolve this issue ?</p>\n<p>Am getting this error message:</p>\n<blockquote>\n<p>SQL5016: Qualified object name **** not valid.</p>\n<p>Cause . . . . . : One of the following has occurred:</p>\n<p>-- The syntax used for the qualified object name is not valid for the naming option specified.  With system naming, the qualified form of an object name is schema-name/object-name.  With SQL naming the qualified form of an object name is authorization-name.object-name.</p>\n<p>-- The syntax used for the qualified object name is not allowed. User-defined types cannot be qualified with the schema in the system naming convention on parameters and SQL variables of an SQL procedure or function.</p>\n<p>Recovery  . . . :   Do one of the following and try the request again:</p>\n<p>-- If you want to use the SQL naming convention, verify the SQL naming option in the appropriate SQL command and qualify the object names in the form authorization-id.object-name.</p>\n<p>-- If you want to use the system naming convention, specify the system naming option in the appropriate SQL command and qualify the object names in the form schema-name/object-name.</p>\n<p>-- With the system naming convention, ensure the user-defined types specified for parameters and variables in an SQL routine can be found in the current path.</p>\n</blockquote>\n"}, {"tags": ["javascript", "c#", "selenium", "selenium-webdriver", "selenium-chromedriver"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6162696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04589244edf3c9637dfc426018772334?s=128&d=identicon&r=PG&f=1", "display_name": "N. Metzger", "link": "https://stackoverflow.com/users/6162696/n-metzger"}, "edited": false, "score": 0, "creation_date": 1489076603, "post_id": 42687692, "comment_id": 72522815, "body": "Thanks for the reply, but I&#39;ve tried that as well.  I don&#39;t think selenium recognizes the scroll bars as being in the way.  I still get the same error when trying to wait for clickable."}], "tags": [], "owner": {"reputation": 34075, "user_id": 5168011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb70c32e1e533e7c0cb2f9317a6b2aa3?s=128&d=identicon&r=PG&f=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/5168011/guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1489038496, "creation_date": 1489038496, "answer_id": 42687692, "question_id": 42683160, "link": "https://stackoverflow.com/questions/42683160/selenium-webdriver-scrollbars-are-getting-in-way-of-click-action/42687692#42687692", "title": "Selenium Webdriver: Scrollbars are getting in way of click action", "body": "<p>You could use explicit wait instead of <code>Thread.Sleep(700)</code> to make sure the element is clickable before clicking on it</p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, TimeSpan.FromSeconds(10));\nwait.Until(ExpectedConditions.ElementToBeClickable(element)).Click();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6162696, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04589244edf3c9637dfc426018772334?s=128&d=identicon&r=PG&f=1", "display_name": "N. Metzger", "link": "https://stackoverflow.com/users/6162696/n-metzger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 488, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489038496, "creation_date": 1489012284, "last_edit_date": 1489038314, "question_id": 42683160, "link": "https://stackoverflow.com/questions/42683160/selenium-webdriver-scrollbars-are-getting-in-way-of-click-action", "title": "Selenium Webdriver: Scrollbars are getting in way of click action", "body": "<p>I'm testing on a simulated mobile screen so screen space is at a premium. I'm using the following code to bring the element into view before clicking it, however, on chrome the scrollbar overlays don't clear before the click action occurs.</p>\n\n<pre><code>IJavaScriptExecutor je = (IJavaScriptExecutor)Driver.Instance;\n\nje.ExecuteScript(\"arguments[0].scrollIntoView(true); window.scrollBy(50, -200);\", element);\n\nThread.Sleep(700);\n</code></pre>\n\n<p>I could make the sleep longer, but that would slow down my tests dramatically.  I've tried everything I can think of and nothing seems to work.  </p>\n\n<p>Things I've tried</p>\n\n<p>Disabling the scrollbar overlays when initializing chromedriver. (Didn't remove scroll overlays)\n<code>chromeOptions.AddArguments(\"disable-overlay-scrollbar\")</code></p>\n\n<p>Using Actions api</p>\n\n<pre><code> Actions btnAction = new Actions(Driver.Instance);\n btnAction.MoveToElement(element).Click().Perform();\n</code></pre>\n\n<p><code>MoveToElement</code> also has an argument for offsetting, but as far as I can tell, that doesn't effect how the element is positioned in the window.</p>\n\n<p>Has any one else ever run into this issue? If so, how'd you resolve it?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "arrays", "struct"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489012469, "post_id": 42683079, "comment_id": 72490517, "body": "<i>&quot;The values are wrong&quot;</i> -- please be more specific. <i>&quot;Wrong&quot;</i>, in what way? What result do you get? What result do you expect instead? Please provide a good <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reliably reproduces the problem, and explain the problem more precisely. Note also that <code>LayoutKind.Sequential</code> is subject to packing rules, so non-aligned fields may not wind up where you expect. (I don&#39;t have time to look it up now, but I&#39;m not convinced that even if you can get <code>LayoutKind.Sequential</code> to work, you&#39;ll get the result you want, i.e. an array object at the end filled with the excess data.)"}, {"owner": {"reputation": 12042, "user_id": 103959, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M2DWc.png?s=128&g=1", "display_name": "Jean-Bernard Pellerin", "link": "https://stackoverflow.com/users/103959/jean-bernard-pellerin"}, "edited": false, "score": 0, "creation_date": 1489013216, "post_id": 42683079, "comment_id": 72490860, "body": "You will have to use a custom marshaller. Otherwise you can&#39;t deal with variable length arrays. Here&#39;s an example: <a href=\"http://stackoverflow.com/a/38884095/103959\">stackoverflow.com/a/38884095/103959</a>"}], "answers": [{"tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": true, "score": 6, "last_activity_date": 1489013466, "last_edit_date": 1495539991, "creation_date": 1489013016, "answer_id": 42683346, "question_id": 42683079, "link": "https://stackoverflow.com/questions/42683079/c-parse-bytes-to-struct-sequential/42683346#42683346", "title": "C# parse bytes to struct sequential", "body": "<p>When you do <code>[StructLayout(LayoutKind.Sequential)]</code> that is the same as doing <code>[StructLayout(LayoutKind.Sequential, Pack=0)]</code> which will use the default packing for the bitness of the process (4 for 32 bit and 8 for 64 bit). To get the behavior your want you need to explicitly say you don't want any padding by setting <code>[StructLayout(LayoutKind.Sequential, Pack=1)]</code></p>\n\n<p><strong>UPDATE:</strong> You still are going to run in to problems with your variable length byte array. See the <a href=\"https://stackoverflow.com/questions/42683079/c-sharp-parse-bytes-to-struct-sequential/42683346#comment72490860_42683079\">comment by Jean-Bernard Pellerin</a></p>\n\n<blockquote>\n  <p>You will have to use a custom marshaller. Otherwise you can't deal with variable length arrays. Here's an example: <a href=\"https://stackoverflow.com/a/38884095/103959\">https://stackoverflow.com/a/38884095/103959</a></p>\n</blockquote>\n"}], "owner": {"reputation": 2550, "user_id": 6097503, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NOAgH.png?s=128&g=1", "display_name": "live2", "link": "https://stackoverflow.com/users/6097503/live2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 959, "favorite_count": 2, "accepted_answer_id": 42683346, "answer_count": 1, "score": 5, "last_activity_date": 1489179801, "creation_date": 1489011932, "last_edit_date": 1489179801, "question_id": 42683079, "link": "https://stackoverflow.com/questions/42683079/c-parse-bytes-to-struct-sequential", "title": "C# parse bytes to struct sequential", "body": "<p>I try parse a byte array to struct but it doesnt work with Sequential. The values are wrong in the Sequential struct but it work correct with Explicit struct? I need sequential the byte array have no fix length. The DwLength field is the size of Data field.</p>\n\n<p><strong>Values</strong></p>\n\n<ul>\n<li>MessageType 128 (Sequential 128)</li>\n<li>DwLength 20 (Sequential 33554432)</li>\n<li>Slot 0 (Sequential 0)</li>\n<li>Seq 0 (Sequential 0)</li>\n<li>Status 2 (Sequential 59)</li>\n<li>Error 0 (Sequential 143)</li>\n<li>ChainParameter 0 (Sequential 128)</li>\n</ul>\n\n<p><strong>Test Code</strong></p>\n\n<pre><code>var bytes = new byte[] { 0x80, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x3B, 0x8F, 0x80, 0x01, 0x80, 0x4F, 0x0C, 0xA0, 0x00, 0x00, 0x03, 0x06, 0x03, 0x00, 0x03, 0x00, 0x00, 0x00, 0x00, 0x68 };\n\nvar result1 = GetStruct&lt;RdrToPcDataBlock1&gt;(bytes);\nvar result2 = GetStruct&lt;RdrToPcDataBlock2&gt;(bytes);\n</code></pre>\n\n<p><strong>struct RdrToPcDataBlock Sequential</strong></p>\n\n<pre><code>[StructLayout(LayoutKind.Sequential)]\npublic struct RdrToPcDataBlock1\n{\n    public byte MessageType;\n    public int DwLength;\n    public byte Slot;\n    public byte Seq;\n    public byte Status;\n    public byte Error;\n    public byte ChainParameter;\n    [MarshalAs(UnmanagedType.ByValArray)]\n    public byte[] Data;\n}\n</code></pre>\n\n<p><strong>struct RdrToPcDataBlock Explicit</strong></p>\n\n<pre><code>[StructLayout(LayoutKind.Explicit)]\npublic struct RdrToPcDataBlock2\n{\n    [FieldOffset(0)]\n    public byte MessageType;\n    [FieldOffset(1)]\n    public int DwLength;\n    [FieldOffset(5)]\n    public byte Slot;\n    [FieldOffset(6)]\n    public byte Seq;\n    [FieldOffset(7)]\n    public byte Status;\n    [FieldOffset(8)]\n    public byte Error;\n    [FieldOffset(9)]\n    public byte ChainParameter;\n    [FieldOffset(10)]\n    public byte Data;\n}\n</code></pre>\n\n<p><strong>GetStruct</strong></p>\n\n<pre><code>public T GetStruct&lt;T&gt;(byte[] bytes)\n{\n    try\n    {\n        var handle = GCHandle.Alloc(bytes, GCHandleType.Pinned);\n        var item = (T)Marshal.PtrToStructure(handle.AddrOfPinnedObject(), typeof(T));\n        handle.Free();\n        return item;\n    }\n    catch\n    {\n        return default(T);\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "php", "acumatica", "webservices-client"], "answers": [{"comments": [{"owner": {"reputation": 92, "user_id": 5104339, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-AkKhQf6XrXs/AAAAAAAAAAI/AAAAAAAAAPA/UlvqBL6SQDs/photo.jpg?sz=128", "display_name": "Beny Hdez", "link": "https://stackoverflow.com/users/5104339/beny-hdez"}, "edited": false, "score": 0, "creation_date": 1489074341, "post_id": 42683275, "comment_id": 72521083, "body": "thanks, works. But i have a question, is only for one Inventory by one? or is possible to get all the data no matters what inventory is used?  thanks a lot. Beny"}, {"owner": {"reputation": 6388, "user_id": 3929852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c55592ccf35435e2e13acb33c4d875f5?s=128&d=identicon&r=PG&f=1", "display_name": "RuslanDev", "link": "https://stackoverflow.com/users/3929852/ruslandev"}, "reply_to_user": {"reputation": 92, "user_id": 5104339, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-AkKhQf6XrXs/AAAAAAAAAAI/AAAAAAAAAPA/UlvqBL6SQDs/photo.jpg?sz=128", "display_name": "Beny Hdez", "link": "https://stackoverflow.com/users/5104339/beny-hdez"}, "edited": false, "score": 0, "creation_date": 1489074875, "post_id": 42683275, "comment_id": 72521504, "body": "Due to original design of the <b>Inventory Summary</b> screen, there is no option to neither explore nor export data for more than one item at a time."}], "tags": [], "owner": {"reputation": 6388, "user_id": 3929852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c55592ccf35435e2e13acb33c4d875f5?s=128&d=identicon&r=PG&f=1", "display_name": "RuslanDev", "link": "https://stackoverflow.com/users/3929852/ruslandev"}, "is_accepted": true, "score": 0, "last_activity_date": 1489012702, "creation_date": 1489012702, "answer_id": 42683275, "question_id": 42683073, "link": "https://stackoverflow.com/questions/42683073/how-can-i-get-data-from-screen-in401000-using-webservices/42683275#42683275", "title": "How can i get Data from Screen IN401000 using Webservices", "body": "<p>When working with an inquiry screen, you always have to use <code>Submit</code> commit instead of <code>Export</code>. Below is the sample in C# showing how to export data via the Screen-Based API from the Inventory Summary (IN401000) screen for a given inventory item:</p>\n\n<pre><code>IN401000WebRef.Content itemSumSchema = IN401000context.GetSchema();\nvar itemSumCommands = new IN401000WebRef.Command[]\n{\n    new IN401000WebRef.Value\n    {\n        LinkedCommand = itemSumSchema.Selection.InventoryID,\n        Value = item[0]\n    },\n    new IN401000WebRef.Value\n    {\n        LinkedCommand = itemSumSchema.Selection.ExpandByLotSerialNumber,\n        Value = \"True\"\n    },\n    itemSumSchema.InventorySummary.Warehouse,\n    itemSumSchema.InventorySummary.Location,\n    itemSumSchema.InventorySummary.OnHand,\n    itemSumSchema.InventorySummary.EstimatedTotalCost,\n    itemSumSchema.InventorySummary.LotSerialNumber\n};\nvar serials = IN401000context.Submit(itemSumCommands);\n</code></pre>\n"}], "owner": {"reputation": 92, "user_id": 5104339, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-AkKhQf6XrXs/AAAAAAAAAAI/AAAAAAAAAPA/UlvqBL6SQDs/photo.jpg?sz=128", "display_name": "Beny Hdez", "link": "https://stackoverflow.com/users/5104339/beny-hdez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 42683275, "answer_count": 1, "score": 0, "last_activity_date": 1489012702, "creation_date": 1489011910, "question_id": 42683073, "link": "https://stackoverflow.com/questions/42683073/how-can-i-get-data-from-screen-in401000-using-webservices", "title": "How can i get Data from Screen IN401000 using Webservices", "body": "<p>Hello everyone i have this problem i try to get the info from this table (for example one inventoryID and all of the subarticle), but the consult is crashing because it's takes a lot of time.</p>\n\n<p>I'm stuck right now, i have this in php but if someone could help me is fine if is C#</p>\n\n<pre><code>$Gate = new AcumaticaGate($user, $pass);\n$schema = $Gate-&gt;Client-&gt;IN401000GetSchema(new IN401000GetSchema())-&gt;GetSchemaResult;\n$Gate-&gt;Client-&gt;IN401000Clear(new IN401000Clear());\n\n$export = new IN401000Export();\n$export-&gt;commands = array\n(\n$schema-&gt;Selection-&gt;ServiceCommands-&gt;EveryInventoryID,\n$schema-&gt;Selection-&gt;InventoryID,\n//$schema-&gt;InventorySummary-&gt;DisplayName ,\n//$schema-&gt;InventorySummary-&gt;InventoryID ,\n//$schema-&gt;InventorySummary-&gt;Subitem ,\n//$schema-&gt;InventorySummary-&gt;Warehouse ,\n//$schema-&gt;InventorySummary-&gt;Available ,\n//$schema-&gt;InventorySummary-&gt;BaseUnit,\n);\n$field = new Field();\n$field-&gt;FieldName = \"InventoryID\";\n$field-&gt;ObjectName = $schema-&gt;Selection-&gt;InventoryID-&gt;ObjectName;\n\n$export-&gt;filters = array();\n\n$filter_command = $Gate-&gt;PrepareSimpleFilter($field, FilterCondition::Contain, \"10091\"); // Filtro para buscar los 15 articulos Anteriores\narray_push($export-&gt;filters,$filter_command);\n\n$export-&gt;breakOnError = true;\n$export-&gt;includeHeaders = false;\n$export-&gt;topCount = 10;\n\ntry\n{\n    $export_result = $Gate-&gt;Client-&gt;IN401000Export($export)-&gt;ExportResult;\n    unset($Gate-&gt;Client);\n}\ncatch (Exception $e) {\n    console($e);\n}\n\nreturn $export_result-&gt;ArrayOfString;\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 1435, "user_id": 1127924, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/97a477762887b786e7ce1e5abafb21de?s=128&d=identicon&r=PG", "display_name": "Logarr", "link": "https://stackoverflow.com/users/1127924/logarr"}, "edited": false, "score": 1, "creation_date": 1489011809, "post_id": 42682963, "comment_id": 72490223, "body": "It probably has something to do with the fact that a using statement is going to dispose of that connection, and your variable will never get re-instantiated."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 5773063, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d6aaa6c1ec47a161a7206bc7dc2440e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Carroll", "link": "https://stackoverflow.com/users/5773063/tom-carroll"}, "edited": false, "score": 1, "creation_date": 1489012092, "post_id": 42683047, "comment_id": 72490337, "body": "Yes that makes sense, thanks for the insight! I didn&#39;t make it clear in my question that this was not the first time I was trying to use the connection but that is exactly what was happening"}, {"owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "reply_to_user": {"reputation": 195, "user_id": 5773063, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d6aaa6c1ec47a161a7206bc7dc2440e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Carroll", "link": "https://stackoverflow.com/users/5773063/tom-carroll"}, "edited": false, "score": 1, "creation_date": 1489012574, "post_id": 42683047, "comment_id": 72490567, "body": "Seems someone disagreed, but didn&#39;t feel like sharing why?"}], "tags": [], "owner": {"reputation": 360447, "user_id": 3043, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/61d2a0f034915fa9d2acd6f6b145bba8?s=128&d=identicon&r=PG", "display_name": "Joel Coehoorn", "link": "https://stackoverflow.com/users/3043/joel-coehoorn"}, "is_accepted": true, "score": 4, "last_activity_date": 1489012166, "last_edit_date": 1489012166, "creation_date": 1489011808, "answer_id": 42683047, "question_id": 42682963, "link": "https://stackoverflow.com/questions/42682963/why-cant-you-use-a-local-sqlcommand-variable-in-a-using-statement/42683047#42683047", "title": "Why can&#39;t you use a local SqlCommand variable in a using statement", "body": "<p>The second example <strong>will</strong> run (at least it should)... but <em>only the first time you call <code>SomeMethod()</code>.</em> This is because after the first call to the method, you have Dispose()'d the connection object.</p>\n\n<p>ADO.Net has a built-in feature called <a href=\"https://msdn.microsoft.com/en-us/library/bb399543.aspx\" rel=\"nofollow noreferrer\">Connection Pooling</a> that intelligently re-uses the underlying database connection resources. For the most part, <em>you should not try to use the same <code>Dbconnection</code> object over and over.</em> Instead, just re-use the connection string, create the connection objects as you need them, and Dispose() of them as soon as possible when done. Otherwise, you are conflicting with the built-in connection pooling and making things worse, rather than better.</p>\n\n<p>In other words, the first sample is the <em>correct</em> way to do this. It's faster and more efficient than the second, even though the second seems to save you an object allocation here and there.</p>\n\n<p>About the only time you should try to re-use a connection object is when you're going to have a bunch of queries in a tight loop, such that you might open the connection once, execute a bunch of queries one after the other, and then close it when you've finished the whole batch. And even then, most of the time when I've seen this the code was better off refactored in some way to group the sql statements into a single batch.</p>\n"}, {"tags": [], "owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "is_accepted": false, "score": 1, "last_activity_date": 1489012100, "creation_date": 1489012100, "answer_id": 42683118, "question_id": 42682963, "link": "https://stackoverflow.com/questions/42682963/why-cant-you-use-a-local-sqlcommand-variable-in-a-using-statement/42683118#42683118", "title": "Why can&#39;t you use a local SqlCommand variable in a using statement", "body": "<p>MSDN explains:</p>\n\n<blockquote>\n  <p>You can instantiate the resource object and then pass the variable to\n  the using statement, but this is not a best practice. In this case,\n  the object remains in scope after control leaves the using block even\n  though it will probably no longer have access to its unmanaged\n  resources. In other words, it will no longer be fully initialized. If\n  you try to use the object outside the using block, you risk causing an\n  exception to be thrown. For this reason, it is generally better to\n  instantiate the object in the using statement and limit its scope to\n  the using block.</p>\n</blockquote>\n\n<p>So, to simplify it...\n<code>using</code> statement ensures that the object will be disposed after code block is executed and will ensure the object will go out of scope. So, in your second example, you're using it wrong, and the connection is no longer managed so it behavies unpredictably. </p>\n"}], "owner": {"reputation": 195, "user_id": 5773063, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d6aaa6c1ec47a161a7206bc7dc2440e2?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Carroll", "link": "https://stackoverflow.com/users/5773063/tom-carroll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 1, "accepted_answer_id": 42683047, "answer_count": 2, "score": 0, "last_activity_date": 1489012166, "creation_date": 1489011444, "question_id": 42682963, "link": "https://stackoverflow.com/questions/42682963/why-cant-you-use-a-local-sqlcommand-variable-in-a-using-statement", "title": "Why can&#39;t you use a local SqlCommand variable in a using statement", "body": "<p>I'm not sure if i'm just having a dumb moment here or I generally do not understand but can someone explain to me why this will run:</p>\n\n<pre><code>using System.Data.SqlClient;\nusing System.Configuration;\n\npublic void SomeMethod()\n{\n    using(SqlConnection dbConnection = new SqlConnection(ConfigurationManager.ConnectionStrings[\"dbConnection\"].ConnectionString))\n    {\n        using(SqlCommand qry = new SqlCommand(someSqlString, dbConnection))\n        {\n             dbConnection.Open();\n             using(SqlDataReader reader = qry.ExecuteReader())\n             {\n                ...\n             }\n         }\n     }\n}\n</code></pre>\n\n<p>and this will not run throwing an InvalidOperationException (The ConnectionString property has not been initialized) when it hits <code>dbConnection.Open()</code>:</p>\n\n<pre><code>using System.Data.SqlClient;\nusing System.Configuration;\n\nprivate SqlConnection dbConnection = new SqlConnection(ConfigurationManager.ConnectionStrings[\"dbConnection\"].ConnectionString);\n\npublic void SomeMethod()\n{\n    using(dbConnection)\n    {\n        using(SqlCommand qry = new SqlCommand(someSqlString, dbConnection))\n        {\n             dbConnection.Open();\n             using(SqlDataReader reader = qry.ExecuteReader())\n             {\n                ...\n             }\n         }\n     }\n}\n</code></pre>\n"}, {"tags": ["c#", "arrays", "linq"], "comments": [{"owner": {"reputation": 61863, "user_id": 133910, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f1b913d48f914347dcafabff8d01ded?s=128&d=identicon&r=PG", "display_name": "Yuriy Faktorovich", "link": "https://stackoverflow.com/users/133910/yuriy-faktorovich"}, "edited": false, "score": 0, "creation_date": 1489011535, "post_id": 42682949, "comment_id": 72490084, "body": "Why would the fact that values repeat stop you from sorting them?"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489011595, "post_id": 42682949, "comment_id": 72490118, "body": "He needs the indexes of where the values are different, so if has <code>5,1,1,5</code> compared to <code>1,5,5,1</code> sorting that doesn&#39;t give him the answer he needs"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489011621, "post_id": 42682949, "comment_id": 72490136, "body": "In terms of performance, you&#39;re probably best off just using a for loop like you already are doing"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1489011922, "post_id": 42682949, "comment_id": 72490271, "body": "int[] arrayA = { 2, 4, 6, 8, 10 };             int[] arrayB = { 1, 3, 5, 7, 9 };             int[] diff = arrayA.Select((x, i) =&gt; x - arrayB[i]).ToArray();"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1489012580, "post_id": 42682949, "comment_id": 72490568, "body": "@jdweng if you run that code it just produces an array of 5 ints, all ones"}, {"owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "edited": false, "score": 0, "creation_date": 1489014759, "post_id": 42682949, "comment_id": 72491471, "body": "i have edited my answer with exact solution..."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1489046005, "post_id": 42682949, "comment_id": 72502012, "body": "Isn&#39;t that what you are suppose to get?"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1489067993, "post_id": 42682949, "comment_id": 72516407, "body": "@jdweng given your example, the resulting array should be <code>{0, 1, 2, 3, 4}</code>, OP asked for the array indexes where values do not match"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1489075732, "post_id": 42682949, "comment_id": 72522129, "body": "Difference can mean two different things.  It is not clear in description if OP wanted a subtraction or &#39;not match&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489013082, "post_id": 42683081, "comment_id": 72490806, "body": "OP said &quot;These arrays will be the same length. I only need the indexes of the differences.&quot;  Please explain how this answer is incorrect"}, {"owner": {"reputation": 59, "user_id": 6347440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2fe23a13d6fbca54b68c2a3ceedf933c?s=128&d=identicon&r=PG&f=1", "display_name": "Hyren123", "link": "https://stackoverflow.com/users/6347440/hyren123"}, "edited": false, "score": 1, "creation_date": 1489013833, "post_id": 42683081, "comment_id": 72491112, "body": "Thanks for the help. That&#39;s what I&#39;ve done. It just feels so clumsy."}, {"owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "edited": false, "score": 0, "creation_date": 1489014060, "post_id": 42683081, "comment_id": 72491221, "body": "Curious: what is the logic behind <code>return (lstDiffs);</code> vs. <code>return lstDiffs;</code>?"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "reply_to_user": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "edited": false, "score": 0, "creation_date": 1489022193, "post_id": 42683081, "comment_id": 72493791, "body": "@ja72 just a force of habit, I always put the return in <code>( )</code> for consistency"}, {"owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "reply_to_user": {"reputation": 59, "user_id": 6347440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2fe23a13d6fbca54b68c2a3ceedf933c?s=128&d=identicon&r=PG&f=1", "display_name": "Hyren123", "link": "https://stackoverflow.com/users/6347440/hyren123"}, "edited": false, "score": 1, "creation_date": 1489031993, "post_id": 42683081, "comment_id": 72496341, "body": "@Hyren123 if the result is used only once, it is faster to <b>not</b> save it and just use it directly in the If statement. Otherwise, at least set the capacity of the list to something close to the average number of differences <code>= new List&lt;int&gt;(arr1.Length &#47; 2);</code>. Even then it is still not the fastest, but the fastest is not worth the trouble (unsafe code with pointers, SIMD or GPU instructions, parallel processing, etc.)"}], "tags": [], "owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "is_accepted": true, "score": 5, "last_activity_date": 1489024034, "last_edit_date": 1489024034, "creation_date": 1489011940, "answer_id": 42683081, "question_id": 42682949, "link": "https://stackoverflow.com/questions/42682949/fastest-way-to-find-index-of-differences-in-two-arrays/42683081#42683081", "title": "Fastest way to find index of differences in two arrays", "body": "<p>If the FASTEST way to do this is your end goal, a for loop sounds like the most straight forward way to accomplish this:</p>\n\n<pre><code>public static List&lt;int&gt; GetDifferentIndexes(byte[] arr1, byte[] arr2)\n{\n   // List to hold indexes of differences\n   List&lt;int&gt; lstDiffs = new List&lt;int&gt;();\n\n   // Assure neither array is null and lengths match\n   if (arr1?.Length == arr2?.Length)\n   {  \n      // Loop through both arrays and check each value\n      for (int idx = 0; idx &lt; arr1.Length; idx++)\n      {\n         if (arr1[idx] != arr2[idx])\n         {\n            // Add index to list since values do not match\n            lstDiffs.Add(idx);\n         }\n      }    \n   }\n\n   // Your list of different indexes\n   return (lstDiffs);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489013029, "post_id": 42683306, "comment_id": 72490779, "body": "OP asked for the indexes of the differences.. not the values"}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489013140, "post_id": 42683306, "comment_id": 72490825, "body": "You would probably want to tag a <code>.ToList()</code> on the end of those also, FWIW"}, {"owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "reply_to_user": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489014264, "post_id": 42683306, "comment_id": 72491287, "body": "@BackDoorNoBaby since OP asked for values, I have edited my answer. And, no, I do not want ToList() because that&#39;s IEnumberable."}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489022714, "post_id": 42683306, "comment_id": 72493912, "body": "What&#39;s wrong with <code>IEnumerable</code>?"}, {"owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "edited": false, "score": 1, "creation_date": 1489029043, "post_id": 42683306, "comment_id": 72495598, "body": "The values are not sorted and have duplicates. You cannot use <code>IndexOf()</code> per <i>OP</i> description."}, {"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "reply_to_user": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "edited": false, "score": 0, "creation_date": 1489032222, "post_id": 42683306, "comment_id": 72496412, "body": "@ja72 confirmed. On a sample of 300K random bytes, Nino&#39;s solution finds 296,461 differences, the other answers are equal at 298,803"}, {"owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "reply_to_user": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489038715, "post_id": 42683306, "comment_id": 72498556, "body": "@BackDoorNoBaby I wanted to say that <code>ToList</code> is not necessary because all those collections are <code>IEnumberable&lt;string&gt;</code> and <code>List&lt;string&gt;</code> implements <code>IEnumberable</code>. Doesn&#39;t matter, <code>ToList()</code> is legit and ok. Interesting that there are different results with your and mine solution. Anyway, here&#39;s an upvote for your approach."}], "tags": [], "owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "is_accepted": false, "score": 0, "last_activity_date": 1489014355, "last_edit_date": 1489014355, "creation_date": 1489012848, "answer_id": 42683306, "question_id": 42682949, "link": "https://stackoverflow.com/questions/42682949/fastest-way-to-find-index-of-differences-in-two-arrays/42683306#42683306", "title": "Fastest way to find index of differences in two arrays", "body": "<p>this can be simply done using intersection / exclusion, which case suits you more. Take a look at this examples (both arrays have numbers 5 and 7 and other elements are different).</p>\n\n<pre><code>int[] arrayA = { 2, 5, 7, 8, 10 }; \nint[] arrayB = { 1, 3, 5, 7, 9 };\n\n//this will contain all elements that are in both arrays\nvar sameElements = arrayA.Intersect(arrayB);\n//elements that are in array A, but not in array B\nvar exceptElements = arrayA.Except(arrayB);\n//elements from array A and array B but not in both\nvar nonintersect = arrayA.Except(arrayB).Union(arrayB.Except(arrayA));\n</code></pre>\n\n<p>EDIT: since OP asked for indexes (and I didn't read careful enough), that could be easily achieved with (almost) one-liner:</p>\n\n<pre><code>//data - arrays are same on all elements except third and last one (indexes 2 and 4).\nint[] arrayA = { 1, 3, 6, 7, 8 };\nint[] arrayB = { 1, 3, 5, 7, 9 };\n\nList&lt;int&gt; listA = arrayA.ToList();\nvar differentIndexes = listA.Where(a =&gt; a != arrayB[listA.IndexOf(a)]).Select(a =&gt; listA.IndexOf(a));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "edited": false, "score": 0, "creation_date": 1489031802, "post_id": 42685911, "comment_id": 72496278, "body": "Cool approach, roughly 4x faster than the other LINQ answer by @Nino"}, {"owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "edited": false, "score": 0, "creation_date": 1489038858, "post_id": 42685911, "comment_id": 72498605, "body": "nice approach.I will check that out."}], "tags": [], "owner": {"reputation": 23662, "user_id": 380384, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/uT3JH.png?s=128&g=1", "display_name": "John Alexiou", "link": "https://stackoverflow.com/users/380384/john-alexiou"}, "is_accepted": false, "score": 3, "last_activity_date": 1489028971, "last_edit_date": 1489028971, "creation_date": 1489028658, "answer_id": 42685911, "question_id": 42682949, "link": "https://stackoverflow.com/questions/42682949/fastest-way-to-find-index-of-differences-in-two-arrays/42685911#42685911", "title": "Fastest way to find index of differences in two arrays", "body": "<p>I wanted to do this with LINQ for the fun of it. I used three passes to achieve the result</p>\n\n<ol>\n<li>Zip and check for equality.</li>\n<li>Encode index if not equal or -1 otherwise</li>\n<li>Filter the result for values that are not -1</li>\n</ol>\n\n<p>Here is the code you can try:</p>\n\n<pre><code>public static int[] GetIndexOfDifferences&lt;T&gt;(T[] array1, T[] array2) where T : IEquatable&lt;T&gt;\n{\n    var diff_check = array1.Zip(array2, (x, y) =&gt; x.Equals(y));\n    var get_index = Enumerable.Range(0, array1.Length).Zip(diff_check, (i, z) =&gt; z ? -1 : i);\n    return get_index.Where((i) =&gt; i&gt;=0).ToArray();\n}\nstatic void Main(string[] args)\n{\n    var a = new[] { 1, 1, 1, 2, 2, 3, 5, 5, 6, 3, 3, 2, 2 };\n    var b = new[] { 1, 1, 2, 2, 3, 3, 3, 4, 6, 5, 4, 3, 2 };\n    // equals?      Y  Y  N  Y  N  Y  N  N  Y  N  N  N  Y\n    // index:       0  1  2  3  4  5  6  7  8  9 10 11 12\n    // expected result = { 2, 4, 6, 7, 9, 10, 11 }\n\n    var result = GetIndexOfDifferences(a, b); // check\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6347440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2fe23a13d6fbca54b68c2a3ceedf933c?s=128&d=identicon&r=PG&f=1", "display_name": "Hyren123", "link": "https://stackoverflow.com/users/6347440/hyren123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2150, "favorite_count": 1, "closed_date": 1489873814, "accepted_answer_id": 42683081, "answer_count": 3, "score": 0, "last_activity_date": 1489028971, "creation_date": 1489011405, "question_id": 42682949, "link": "https://stackoverflow.com/questions/42682949/fastest-way-to-find-index-of-differences-in-two-arrays", "closed_reason": "Needs more focus", "title": "Fastest way to find index of differences in two arrays", "body": "<p>I need to find the differences between 2 non-sorted byte arrays. The arrays are going to be fairly good size, approximately 300k elements.</p>\n\n<p>The values in the arrays will repeat, so I can't sort it.</p>\n\n<p>These arrays will be the same length. I only need the indexes of the differences.</p>\n\n<p>Do I have to iterate through each array element with a for loop?</p>\n\n<p>Is there a better way? </p>\n\n<p>I currently loop through each element with a for loop, but I just feel like there has to be a better way.</p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["c#", ".net", "linq", "azure", "azure-cosmosdb"], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 1403748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30603fdb37f1c03c72e6555a3e6cc189?s=128&d=identicon&r=PG", "display_name": "gplumb", "link": "https://stackoverflow.com/users/1403748/gplumb"}, "edited": false, "score": 0, "creation_date": 1489015966, "post_id": 42683353, "comment_id": 72491920, "body": "That sounded plausible, so I re-created my collection (via the SDK) with an <code>IndexingDirective</code> of <code>Exclude</code> - but I&#39;m still seeing the same result (or rather lack of them!)  :-("}, {"owner": {"reputation": 8837, "user_id": 965782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ebd55d125712aeadb9df8ba78339d314?s=128&d=identicon&r=PG", "display_name": "Larry Maccherone", "link": "https://stackoverflow.com/users/965782/larry-maccherone"}, "reply_to_user": {"reputation": 533, "user_id": 1403748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30603fdb37f1c03c72e6555a3e6cc189?s=128&d=identicon&r=PG", "display_name": "gplumb", "link": "https://stackoverflow.com/users/1403748/gplumb"}, "edited": false, "score": 0, "creation_date": 1489021552, "post_id": 42683353, "comment_id": 72493641, "body": "You can&#39;t exclude it. You have to change it from default of hash to range."}, {"owner": {"reputation": 533, "user_id": 1403748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30603fdb37f1c03c72e6555a3e6cc189?s=128&d=identicon&r=PG", "display_name": "gplumb", "link": "https://stackoverflow.com/users/1403748/gplumb"}, "edited": false, "score": 0, "creation_date": 1489049365, "post_id": 42683353, "comment_id": 72503936, "body": "You&#39;re right on both counts - Thank you! For everyone else&#39;s benefit, I&#39;ll paraphrase below.  A hashed index allows for mapped queries like <code>KEY = VALUE</code> to be efficient (its basically a distributed hashtable). A ranged index allows for ambiguous queries, like <code>KEY &gt; VALUE, KEY &lt; VALUE, VALUE &lt; KEY &lt; VALUE</code> etc...  If you simply exclude indexing (either wholesale at collection level or at document/property level), DocumentDB will error when attempting a filtered (ranged) query - Ie. the <code>.OrderBy()</code> clause in my original post."}], "tags": [], "owner": {"reputation": 8837, "user_id": 965782, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ebd55d125712aeadb9df8ba78339d314?s=128&d=identicon&r=PG", "display_name": "Larry Maccherone", "link": "https://stackoverflow.com/users/965782/larry-maccherone"}, "is_accepted": true, "score": 1, "last_activity_date": 1489013030, "creation_date": 1489013030, "answer_id": 42683353, "question_id": 42682945, "link": "https://stackoverflow.com/questions/42682945/addition-of-orderby-clause-to-a-documentdb-linq-query-breaks-it-c/42683353#42683353", "title": "Addition of OrderBy clause to a DocumentDB LINQ query breaks it (C#)", "body": "<p>Whenever I see strange behavior like this it's usually because you have a hash index (the default) as opposed to a range index on that field. Check the indexing policy for the collection.</p>\n"}], "owner": {"reputation": 533, "user_id": 1403748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/30603fdb37f1c03c72e6555a3e6cc189?s=128&d=identicon&r=PG", "display_name": "gplumb", "link": "https://stackoverflow.com/users/1403748/gplumb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 511, "favorite_count": 0, "accepted_answer_id": 42683353, "answer_count": 1, "score": 0, "last_activity_date": 1489013030, "creation_date": 1489011399, "question_id": 42682945, "link": "https://stackoverflow.com/questions/42682945/addition-of-orderby-clause-to-a-documentdb-linq-query-breaks-it-c", "title": "Addition of OrderBy clause to a DocumentDB LINQ query breaks it (C#)", "body": "<p>I am using the Azure Documents SDK in C# in .net core 1.0.1 with LINQ to abstract a simple Fetch method that takes lambdas as parameters.  It works fine EXCEPT when I add an <code>ORDER BY</code> clause \u2013 although I have no idea why.  Here\u2019s the method:</p>\n\n<pre><code>public async Task&lt;IEnumerable&lt;T&gt;&gt; Fetch&lt;R&gt;(Expression&lt;Func&lt;T, bool&gt;&gt; predicate, Expression&lt;Func&lt;T, R&gt;&gt; orderby, int count)\n{\n    var results = new List&lt;T&gt;();\n    var collectionLink = UriFactory.CreateDocumentCollectionUri(_config.Database, _collectionId);\n\n    // This works\n    //var document = _client.CreateDocumentQuery&lt;T&gt;(collectionLink).Where(predicate).Take(count).AsDocumentQuery();\n\n    // This ** DOESN'T ** work\n    var document = _client.CreateDocumentQuery&lt;T&gt;(collectionLink).Where(predicate).OrderBy(orderby).Take(count).AsDocumentQuery();\n\n    var feedResponse = await document.ExecuteNextAsync&lt;T&gt;();\n    results.AddRange(feedResponse.AsEnumerable&lt;T&gt;());\n    return results;\n}\n</code></pre>\n\n<p>With the addition of the <code>.OrderBy()</code> method, I get 0 results returned.  With its removal, I get the expected 10 (albeit in insertion order).  In looking at the SQL being generated by the <code>.AsDocumentQuery()</code> method, I can\u2019t see anything obviously wrong, so I\u2019m at a bit of a loss as to why. \nFor completeness, here\u2019s an example of its\u2019 usage...</p>\n\n<pre><code>var result = data.Fetch(f =&gt; f.Firstname.Contains(\"i\"), x =&gt; x.Firstname, 10);\n</code></pre>\n\n<p>... and the query that it produces:</p>\n\n<pre><code>SELECT TOP 10 * FROM root WHERE CONTAINS(root[\"Firstname\"], \"i\") ORDER BY root[\"Firstname\"] ASC\n</code></pre>\n\n<p>Is this an SDK bug or am I missing something obvious?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "asp.net-mvc", "asp.net-ajax"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489018649, "post_id": 42682941, "comment_id": 72492813, "body": "What does the rendered HTML look like?"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489067402, "post_id": 42682941, "comment_id": 72515979, "body": "Just the default missing image in a browser. the problem is with the path of the image , where if I click fires the ajax link,"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489067507, "post_id": 42682941, "comment_id": 72516057, "body": "No, I mean if you right click -&gt; View Source, what is the HTML?"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489068787, "post_id": 42682941, "comment_id": 72517013, "body": "&lt;img src=&quot;~/images/tn/@Html.DisplayFor(modelItem =&amp;gt;item.Ptn)&quot;&gt;"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489068820, "post_id": 42682941, "comment_id": 72517034, "body": "or &lt;img src=&quot;~/images/tn/@item.Ptn&quot;&gt;"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489068871, "post_id": 42682941, "comment_id": 72517071, "body": "Thats what shows up in your browser?"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489069011, "post_id": 42682941, "comment_id": 72517182, "body": "yes only that. it is not rendering the item.Ptn, on the other hand I can get that item.Ptn by itself outside of that"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489069080, "post_id": 42682941, "comment_id": 72517224, "body": "the whole thing is this"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489069084, "post_id": 42682941, "comment_id": 72517229, "body": "&lt;img src=&quot;~/images/tn/@item.Ptn&quot;&gt; &lt;a data-ajax=&quot;true&quot; data-ajax-loading=&quot;#loading&quot; data-ajax-method=&quot;POST&quot; data-ajax-mode=&quot;replace&quot; data-ajax-update=&quot;#detail&quot; href=&quot;/Product/_ProductDetail?productID=1453&quot;&gt;&lt;img src=&quot;~/images/tn/@Html.DisplayFor(modelItem =&amp;gt;item.Ptn)&quot;&gt;&lt;/a&gt;"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489069229, "post_id": 42682941, "comment_id": 72517336, "body": "Well my first guess is that if you are seeing the <code>@</code> character in rendered HTML then you are somehow escaping that character in your razor syntax.  MVC razor will run on the server to generate HTML.  You will never see Razor syntax in your rendered HTML."}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489069525, "post_id": 42682941, "comment_id": 72517536, "body": "I know but I do not know how to concatenate the string to separate the razor syntax for the rest so razor will do the render"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489069606, "post_id": 42682941, "comment_id": 72517604, "body": "Do you want the result to be an anchor (<code>&lt;a&gt;</code>) tag with an image inside it?"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489069740, "post_id": 42682941, "comment_id": 72517689, "body": "I just need a image be the link to the controller with ajax.actionlink, what ever it is I do not care. if is &lt;a&gt; is fine"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489070151, "post_id": 42682941, "comment_id": 72517964, "body": "Have you seen <a href=\"http://stackoverflow.com/questions/341649/asp-net-mvc-ajax-actionlink-with-image\">this</a> SO answer"}, {"owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 1, "creation_date": 1489071060, "post_id": 42682941, "comment_id": 72518652, "body": "looking into all solutions there. thank, I will let you know"}], "owner": {"reputation": 51, "user_id": 6272884, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5d759549fdf08b186918fb9bdcc77dd4?s=128&d=identicon&r=PG&f=1", "display_name": "user6272884", "link": "https://stackoverflow.com/users/6272884/user6272884"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489014396, "creation_date": 1489011391, "last_edit_date": 1489014396, "question_id": 42682941, "link": "https://stackoverflow.com/questions/42682941/asp-net-mvc-ajax-actionlink-with-image-bind-to-model", "title": "ASP.NET MVC Ajax.ActionLink with Image bind to model", "body": "<p>I have been trying to make this work and I can't figure out what is wrong with this code. The ajax works great, but I can't display the image.</p>\n\n<pre><code>@Html.Raw(@Ajax.ActionLink(\"[replacetext]\", \"_ProductDetail\", new\n{\n  productID = item.ProductsID\n\n},\nnew AjaxOptions\n{\n HttpMethod = \"POST\",\n UpdateTargetId = \"detail\",\n LoadingElementId = \"loading\",\n InsertionMode = InsertionMode.Replace\n })\n .ToHtmlString().Replace(\"[replacetext]\",\"&lt;img src=\\\"~/images/tn/@item.Ptn)\\\" /&gt;\"))\n</code></pre>\n\n<p>I also tried <code>&lt;img src=\\\"~/images/tn/@Html.DisplayFor(modelItem =&gt;item.Ptn)</code></p>\n\n<p>If I put the hard coded image name, it works fine. </p>\n\n<p>Any ideas? I read some other answers here using helpers but I could not make it work either. </p>\n"}, {"tags": ["c#", "nlog"], "answers": [{"tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": false, "score": 0, "last_activity_date": 1489447378, "creation_date": 1489447378, "answer_id": 42775193, "question_id": 42682809, "link": "https://stackoverflow.com/questions/42682809/duplicating-logs-from-multiple-targets-into-single-one/42775193#42775193", "title": "Duplicating logs from multiple targets into single one", "body": "<blockquote>\n  <p>So the question is how to add single target, which will capture all logs(or level controller), including defined variables.</p>\n</blockquote>\n\n<p>The variables are on global level, so you could use only one.</p>\n\n<p>In this case \"event properties\" is where you're looking for. Usage:</p>\n\n<pre><code>Logger logger = LogManager.GetCurrentClassLogger();\nLogEventInfo theEvent = new LogEventInfo(LogLevel.Debug, \"\", \"Test1\");\ntheEvent.Properties[\"passNumber\"] = 33;\nlogger.Debug(theEvent);\n</code></pre>\n\n<p>use in your config:</p>\n\n<pre><code>${event-properties:item=passNumber} \n</code></pre>\n\n<p>See <a href=\"https://github.com/nlog/nlog/wiki/Event-context%20layout%20renderer\" rel=\"nofollow noreferrer\">${event-properties} docs</a></p>\n"}], "owner": {"reputation": 24055, "user_id": 315427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0852b879b171828b74a63d3bef359bc3?s=128&d=identicon&r=PG", "display_name": "Pablo", "link": "https://stackoverflow.com/users/315427/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489447378, "creation_date": 1489010843, "question_id": 42682809, "link": "https://stackoverflow.com/questions/42682809/duplicating-logs-from-multiple-targets-into-single-one", "title": "Duplicating logs from multiple targets into single one", "body": "<p>I have multiple file targets:</p>\n\n<pre><code>var config = new LoggingConfiguration();\nfor (int i = 1; i &lt;= 5; i++)\n{\n    var fileTarget = new FileTarget();\n    fileTarget.Layout = @\"${date:format=dd-MM HH\\:mm\\:ss}[${var:passNumber\" + i.ToString() + \"}][${var:TestName\" + i.ToString() + \"}] - ${message}\";\n\n    fileTarget.FileName = string.Format(@\"log-cell{0}.txt\", i);\n    fileTarget.KeepFileOpen = false;\n    config.AddTarget(string.Format(\"file{0}\", i), fileTarget);\n\n    var ruleFile = new LoggingRule(string.Format(\"{0}\", i), LogLevel.Debug, fileTarget);\n    config.LoggingRules.Add(ruleFile);\n}\nLogManager.Configuration = config;\n</code></pre>\n\n<p>Then I can access individual rule and write to corresponding target:</p>\n\n<pre><code>LogManager.Configuration.Variables[\"passNumber1\"] = 33.ToString();\nLogManager.Configuration.Variables[\"TestName1\"] = \"Test1\";\nLogManager.GetLogger(\"1\").Debug(\"Test1\");\n\nLogManager.Configuration.Variables[\"passNumber2\"] = 44.ToString();\nLogManager.Configuration.Variables[\"TestName2\"] = \"Another Test\";\nLogManager.GetLogger(\"2\").Debug(\"Test2\");\n</code></pre>\n\n<p>This works fine and creating different file for each rule. Now what I want additionally is to have single <code>RichTextBoxTarget</code> or in general let's say special target:</p>\n\n<ul>\n<li>Where all possible logs will be duplicated or only up to selective level</li>\n<li>Layout will include same formatting/variables like in file target</li>\n</ul>\n\n<p>I am not sure how to have single target with multiple layout. My attempt was to add the following into the loop</p>\n\n<pre><code>var ruleWnd = new LoggingRule(string.Format(\"{0}\", i), LogLevel.Debug, rtTarget);\nconfig.LoggingRules.Add(ruleWnd);\n</code></pre>\n\n<p>Which of course loggine the message, but I am losing the variables. \nSo the question is how to add single target, which will capture all logs(or level controller), including defined variables.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "razor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1489015250, "post_id": 42682706, "comment_id": 72491668, "body": "The is no overload of <code>EditorFor()</code> that accepts a <code>ViewDataDictionary</code> dictionary for the <code>additionalViewData</code> (it has to be an <code>object</code> whse values are merged with the models <code>ViewDataDictionary</code>. You could create your own extension method if you really want to do this."}, {"owner": {"reputation": 925, "user_id": 3454771, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/119810e45bbbf78c78cf2556f3c25c7f?s=128&d=identicon&r=PG&f=1", "display_name": "xszaboj", "link": "https://stackoverflow.com/users/3454771/xszaboj"}, "edited": false, "score": 0, "creation_date": 1489015856, "post_id": 42682706, "comment_id": 72491886, "body": "Don&#39;t do it. Use attributes for metadata. Use object with properties that describe your View-Model. It is MVC. Use the model"}], "owner": {"reputation": 1641, "user_id": 1564566, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/48f2c3de6f1409bd67dd1feb1393e8be?s=128&d=identicon&r=PG", "display_name": "TruthOf42", "link": "https://stackoverflow.com/users/1564566/truthof42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489015065, "creation_date": 1489010398, "last_edit_date": 1489015065, "question_id": 42682706, "link": "https://stackoverflow.com/questions/42682706/proper-way-of-passing-additional-view-data-to-editorfor", "title": "Proper way of passing additional view data to EditorFor", "body": "<p>If I pass view data like this</p>\n\n<pre><code>@(Html.EditorFor(x =&gt; x.User2, \"GenericList\", \n     new ViewDataDictionary { \n         { \"ListType\", ListType.CustomValidation }, \n         { \"Param1\", ObjectType.Asset }, \n         { \"Param2\", \"User2\" }, \n         { \"DefaultValue\", Model.User2 } \n      }\n ))\n</code></pre>\n\n<p>I am unable to access the Values via ViewData[\"ListType\"]. The keys are stored in a property called Keys, and the values are stored in a ICollection property called Values</p>\n\n<p>Passing the ViewData this way</p>\n\n<pre><code>@Html.EditorFor(x =&gt; x.User2, \"GenericList\", \n    new { ListType = ListType.CustomValidation, \n          Param1 = ObjectType.Asset, \n          Param2 = \"User2\", \n          DefaultValue = Model.User2 \n    }\n )\n</code></pre>\n\n<p>means I can get the values easily like ViewData[\"ListType\"].</p>\n\n<p>I don't liek the 2nd method of doing things because it's using anonymous types instead of a ViewDataDictionary. How can I use the first method but still call the ViewData as I expect to be,</p>\n"}, {"tags": ["c#", "xaml", "uwp", "uwp-xaml", "visualstatemanager"], "comments": [{"owner": {"reputation": 14820, "user_id": 5506161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLSYt.jpg?s=128&g=1", "display_name": "Jay Zuo", "link": "https://stackoverflow.com/users/5506161/jay-zuo"}, "edited": false, "score": 0, "creation_date": 1489038314, "post_id": 42682693, "comment_id": 72498401, "body": "What is your problem? I tested with your code and it works well in my side."}, {"owner": {"reputation": 346, "user_id": 6372501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99cb0a324bb1bc120a22adc12fe80cc?s=128&d=identicon&r=PG&f=1", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/6372501/vitaly"}, "reply_to_user": {"reputation": 14820, "user_id": 5506161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLSYt.jpg?s=128&g=1", "display_name": "Jay Zuo", "link": "https://stackoverflow.com/users/5506161/jay-zuo"}, "edited": false, "score": 0, "creation_date": 1490040797, "post_id": 42682693, "comment_id": 72925320, "body": "@JayZuo-MSFT, without using that <code>UserControl</code>, I&#39;m getting a <code>NullReferenceException</code> in Set_Windows_UI_Xaml_StateTrigger_IsActive in MainPage.g.cs"}], "answers": [{"tags": [], "owner": {"reputation": 14820, "user_id": 5506161, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLSYt.jpg?s=128&g=1", "display_name": "Jay Zuo", "link": "https://stackoverflow.com/users/5506161/jay-zuo"}, "is_accepted": true, "score": 1, "last_activity_date": 1490073149, "last_edit_date": 1592644375, "creation_date": 1490073149, "answer_id": 42918896, "question_id": 42682693, "link": "https://stackoverflow.com/questions/42682693/uwp-statetrigger-in-listview-itemtemplate/42918896#42918896", "title": "UWP - StateTrigger in ListView.ItemTemplate", "body": "<p>Here a <code>UserControl</code> is needed. Without it, we may get error as you've seen. To manage visual states, we need a <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.window#Windows_UI_Xaml_Window_Content\" rel=\"nofollow noreferrer\">Control</a> subclass, however, <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.grid\" rel=\"nofollow noreferrer\">Grid</a> is not a <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.window#Windows_UI_Xaml_Window_Content\" rel=\"nofollow noreferrer\">Control</a> subclass, it inherits from <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.panel\" rel=\"nofollow noreferrer\">Panel</a>.</p>\n<blockquote>\n<p>Visual states are sometimes useful for scenarios where you want to change the state of some area of UI that's not immediately a <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.control\" rel=\"nofollow noreferrer\">Control</a> subclass. You can't do this directly because the <em>control</em> parameter of the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.visualstatemanager#Windows_UI_Xaml_VisualStateManager_GoToState_Windows_UI_Xaml_Controls_Control_System_String_System_Boolean_\" rel=\"nofollow noreferrer\">GoToState(Control, String, Boolean)</a> method requires a <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.control\" rel=\"nofollow noreferrer\">Control</a> subclass, which refers to the object that the VisualStateManager acts upon.</p>\n<p>We recommend you define a custom <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.usercontrol\" rel=\"nofollow noreferrer\">UserControl</a> to either be the <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.window#Windows_UI_Xaml_Window_Content\" rel=\"nofollow noreferrer\">Content</a> root or be a container for other content you want to apply states to (such as a <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.panel\" rel=\"nofollow noreferrer\">Panel</a>). Then you can call <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.visualstatemanager#Windows_UI_Xaml_VisualStateManager_GoToState_Windows_UI_Xaml_Controls_Control_System_String_System_Boolean_\" rel=\"nofollow noreferrer\">GoToState(Control, String, Boolean)</a> on your <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.usercontrol\" rel=\"nofollow noreferrer\">UserControl</a> and apply states regardless of whether the rest of the content is a <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.control\" rel=\"nofollow noreferrer\">Control</a>.</p>\n</blockquote>\n<p>For more info, please see <strong>Visual states for elements that aren't controls</strong> under <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.visualstatemanager#remarks\" rel=\"nofollow noreferrer\"><strong>Remarks</strong></a> of <a href=\"https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.visualstatemanager\" rel=\"nofollow noreferrer\">VisualStateManager Class</a>.</p>\n"}], "owner": {"reputation": 346, "user_id": 6372501, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99cb0a324bb1bc120a22adc12fe80cc?s=128&d=identicon&r=PG&f=1", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/6372501/vitaly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1019, "favorite_count": 0, "accepted_answer_id": 42918896, "answer_count": 1, "score": 2, "last_activity_date": 1490095120, "creation_date": 1489010351, "last_edit_date": 1490095120, "question_id": 42682693, "link": "https://stackoverflow.com/questions/42682693/uwp-statetrigger-in-listview-itemtemplate", "title": "UWP - StateTrigger in ListView.ItemTemplate", "body": "<p>I'm having trouble adding <code>ColorAnimation</code> to <code>VisualStateManager</code> on my ListView <code>ItemTemplate</code>. The VisualStateManager doesn't seem to change its visual states.</p>\n\n<p>What I'm trying to do here is start a <code>StoryBoard</code> that would start to smoothly change the <code>Rectangle.Fill</code> color on the <code>ListViewItem</code>, as soon as its underlying viewmodel's IsReady property value changes.</p>\n\n<p><em>What am I doing wrong? And how to do this correctly (preferably without the pointless UserControl)?</em></p>\n\n<p><strong>Here's the XAML:</strong></p>\n\n<pre><code>&lt;Page\n    x:Class=\"App1.MainPage\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"using:App1\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"d\"&gt;\n\n    &lt;Grid Background=\"{ThemeResource ApplicationPageBackgroundThemeBrush}\"&gt;\n        &lt;ListView ItemsSource=\"{x:Bind MyList}\"&gt;\n            &lt;ListView.ItemTemplate&gt;\n                &lt;DataTemplate x:DataType=\"local:B\"&gt;\n                    &lt;UserControl&gt;\n                        &lt;Grid&gt;\n                            &lt;VisualStateManager.VisualStateGroups&gt;\n                                &lt;VisualStateGroup x:Name=\"group\"&gt;\n                                    &lt;VisualState x:Name=\"state1\"&gt;\n                                        &lt;VisualState.StateTriggers&gt;\n                                            &lt;StateTrigger IsActive=\"{x:Bind IsReady, Mode=OneWay}\"/&gt;\n                                        &lt;/VisualState.StateTriggers&gt;\n                                        &lt;Storyboard&gt;\n                                            &lt;ColorAnimation Duration=\"0:0:1.8\" To=\"Red\" Storyboard.TargetProperty=\"(Rectangle.Fill).(SolidColorBrush.Color)\" Storyboard.TargetName=\"rect\" /&gt;\n                                        &lt;/Storyboard&gt;\n                                    &lt;/VisualState&gt;\n                                &lt;/VisualStateGroup&gt;\n                            &lt;/VisualStateManager.VisualStateGroups&gt;\n                            &lt;Rectangle x:Name=\"rect\" Fill=\"Blue\" Width=\"20\" Height=\"20\" /&gt;\n                        &lt;/Grid&gt;\n                    &lt;/UserControl&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListView.ItemTemplate&gt;\n        &lt;/ListView&gt;\n        &lt;Button Click=\"Button_Click\"&gt;Test&lt;/Button&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n\n<p><strong>Here's the code behind:</strong></p>\n\n<pre><code>using System.Collections.ObjectModel;\nusing System.ComponentModel;\nusing System.Runtime.CompilerServices;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\n\nnamespace App1\n{\n    public abstract class NotifyPropertyChangedBase : INotifyPropertyChanged\n    {\n        protected NotifyPropertyChangedBase()\n        {\n        }\n\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        protected virtual void RaisePropertyChanged([CallerMemberName]string propertyName = null)\n        {\n            this.PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n        }\n    }\n\n    public class B : NotifyPropertyChangedBase\n    {\n        private bool isReady;\n        public bool IsReady\n        {\n            get { return isReady; }\n            set { if (isReady != value) { isReady = value; RaisePropertyChanged(); } }\n        }\n    }\n\n    public sealed partial class MainPage : Page\n    {\n        public ObservableCollection&lt;B&gt; MyList { get; private set; } = new ObservableCollection&lt;B&gt;();\n\n        public MainPage()\n        {\n            this.InitializeComponent();\n\n            for (int i = 0; i &lt; 10; i++)\n            {\n                MyList.Add(new B());\n            }\n        }\n\n        private void Button_Click(object sender, RoutedEventArgs e)\n        {\n            MyList[2].IsReady = !MyList[2].IsReady;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "visual-studio", "c#-4.0"], "answers": [{"comments": [{"owner": {"reputation": 2090, "user_id": 7505394, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fb25b68dfb86d6d2e1ce76998de72aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Darama", "link": "https://stackoverflow.com/users/7505394/darama"}, "edited": false, "score": 0, "creation_date": 1489011316, "post_id": 42682845, "comment_id": 72489967, "body": "In which file usually are located configurations to database connection? I use Entity Faramework"}, {"owner": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "reply_to_user": {"reputation": 2090, "user_id": 7505394, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fb25b68dfb86d6d2e1ce76998de72aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Darama", "link": "https://stackoverflow.com/users/7505394/darama"}, "edited": false, "score": 0, "creation_date": 1489046791, "post_id": 42682845, "comment_id": 72502434, "body": "Usually in <code>.config</code> file, either <code>web.config</code> or <code>app.config</code>"}, {"owner": {"reputation": 2090, "user_id": 7505394, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fb25b68dfb86d6d2e1ce76998de72aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Darama", "link": "https://stackoverflow.com/users/7505394/darama"}, "edited": false, "score": 0, "creation_date": 1489159901, "post_id": 42682845, "comment_id": 72563927, "body": "It gives me error: <code>Specify the &#39;-Verbose&#39; flag to view the SQL statements being applied to the target database. No migrations configuration type was found in the assembly &#39;WebApplication&#39;. (In Visual Studio you can use the Enable-Migrations command from Package Manager Console to add a migrations configuration).</code>"}, {"owner": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "reply_to_user": {"reputation": 2090, "user_id": 7505394, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fb25b68dfb86d6d2e1ce76998de72aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Darama", "link": "https://stackoverflow.com/users/7505394/darama"}, "edited": false, "score": 0, "creation_date": 1489162697, "post_id": 42682845, "comment_id": 72565757, "body": "then it means that you need to specify the project with migrations by using <code>-ProjectName</code> option"}], "tags": [], "owner": {"reputation": 3177, "user_id": 4832634, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153157104716597/picture?type=large", "display_name": "Pawe\u0142 \u0141ukasik", "link": "https://stackoverflow.com/users/4832634/pawe%c5%82-%c5%81ukasik"}, "is_accepted": true, "score": 4, "last_activity_date": 1489010965, "creation_date": 1489010965, "answer_id": 42682845, "question_id": 42682684, "link": "https://stackoverflow.com/questions/42682684/how-to-run-migration-in-c-net-project/42682845#42682845", "title": "How to run migration in C#.NET project?", "body": "<p>You should open the Nuget Management Console and type <code>update-database</code> command with migration name, and additional parameters if they are needed. Depending on your setup you might need to provide connection string name and/or project where they are located.</p>\n\n<p>More on this: <a href=\"https://msdn.microsoft.com/en-us/library/jj591621(v=vs.113).aspx\" rel=\"nofollow noreferrer\">Entity Framework Code First Migrations</a>.</p>\n"}], "owner": {"reputation": 2090, "user_id": 7505394, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fb25b68dfb86d6d2e1ce76998de72aa4?s=128&d=identicon&r=PG&f=1", "display_name": "Darama", "link": "https://stackoverflow.com/users/7505394/darama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8274, "favorite_count": 1, "accepted_answer_id": 42682845, "answer_count": 1, "score": 4, "last_activity_date": 1489022617, "creation_date": 1489010302, "question_id": 42682684, "link": "https://stackoverflow.com/questions/42682684/how-to-run-migration-in-c-net-project", "title": "How to run migration in C#.NET project?", "body": "<p>I have project that works with SQL server. In <code>Models</code> directory I have migrtions files like as one:</p>\n\n<pre><code>public partial class UserData : DbMigration\n    {\n        public override void Up()\n        {\n            CreateTable(\n                \"dbo.confirmation_code\",\n                c =&gt; new\n                    {\n                        sys_id = c.Long(nullable: false, identity: true),\n                        resource_id = c.Guid(nullable: false),\n                        code = c.String(maxLength: 64),\n                        user_id = c.Long(nullable: false),\n                        id = c.Guid(nullable: false),\n                        edit_date = c.DateTime(nullable: false),\n                    })\n                .PrimaryKey(t =&gt; t.sys_id)\n                .ForeignKey(\"dbo.user\", t =&gt; t.user_id, cascadeDelete: true)\n                .Index(t =&gt; t.user_id);\n....\n</code></pre>\n\n<p>For development I use VisualStudio, how to run all migration to deploy?</p>\n"}, {"tags": ["c#", "html", "selenium"], "comments": [{"owner": {"reputation": 178, "user_id": 6377641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xWfAU.jpg?s=128&g=1", "display_name": "vipersassassin", "link": "https://stackoverflow.com/users/6377641/vipersassassin"}, "edited": false, "score": 0, "creation_date": 1489011329, "post_id": 42682663, "comment_id": 72489975, "body": "Can you add what you have tried so far in Selenium, capture of the recording or code?"}, {"owner": {"reputation": 9401, "user_id": 276469, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/rbsdG.png?s=128&g=1", "display_name": "Crowcoder", "link": "https://stackoverflow.com/users/276469/crowcoder"}, "edited": false, "score": 0, "creation_date": 1489011788, "post_id": 42682663, "comment_id": 72490210, "body": "Can&#39;t you mix non-selenium code in with the selenium code and use ADO.Net or any convenient data access platform from c#?"}, {"owner": {"reputation": 1358, "user_id": 3820556, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a7b8a78218a9fcce7916d1ac4ff62406?s=128&d=identicon&r=PG&f=1", "display_name": "Dazed", "link": "https://stackoverflow.com/users/3820556/dazed"}, "edited": false, "score": 0, "creation_date": 1489070510, "post_id": 42682663, "comment_id": 72518222, "body": "Have a look at this thread - <a href=\"http://stackoverflow.com/questions/41686428/how-to-click-on-a-button-within-a-datagrid-after-finding-the-correct-username-in/41687237#41687237\" title=\"how to click on a button within a datagrid after finding the correct username in\">stackoverflow.com/questions/41686428/&hellip;</a>"}], "owner": {"reputation": 1, "user_id": 7680905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f979143613095a0c34cb7710146e5b9?s=128&d=identicon&r=PG&f=1", "display_name": "Rod", "link": "https://stackoverflow.com/users/7680905/rod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489010831, "creation_date": 1489010217, "last_edit_date": 1489010831, "question_id": 42682663, "link": "https://stackoverflow.com/questions/42682663/need-to-select-a-record-within-a-table-based-on-value-with-selenium", "title": "Need to select a record within a table based on value with Selenium", "body": "<p>Newbie to selenium and html. I have been using selenium to automate some tasks that can get a little time consuming. Anyways, what I want my program to do is to look at a table of users and select the user based on the name. I have tried many things with no luck. Here is what a record in the table looks like</p>\n\n<pre><code>&lt;tr name=\"1234\" id=\"AvailableUsers\" class=\"FSDocTableRow\" \n       onclick=\"FSListCtrl_MultiSelect(this)\"  \n       onmouseover=\"FSListCtrl_ChangeHiLiteRowColour(this, false)\" \n       onmouseout=\"FSListCtrl_ChangeHiLiteRowColour(this, true)\" bgcolor=\"#eeeeee\"&gt;\n   &lt;td&gt;&lt;img alt=\"\" src=\"Images/Icons/UserIcon.gif\" border=\"0\"&gt;username1-obo&amp;nbsp;&amp;nbsp;&amp;nbsp;(User)\n   &lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;td&gt;&lt;img alt=\"\" src=\"Images/Icons/UserIcon.gif\" border=\"0\"&gt;username1-obo&amp;nbsp;&amp;nbsp;&amp;nbsp;(User)\n&lt;/td&gt;\n</code></pre>\n\n<p>This table has hundreds of records. I want to be able to go into selenium with a variable set to Username1 and be able to find it within this table and click it. </p>\n\n<p>Is it possible to do this? </p>\n"}, {"tags": ["c#", "linq"], "comments": [{"owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "edited": false, "score": 0, "creation_date": 1489010273, "post_id": 42682635, "comment_id": 72489513, "body": "<code>if (numb.Contains(reader.GetString(0)) {     &#47;&#47;yes, it contains! }</code>"}, {"owner": {"reputation": 565, "user_id": 4912134, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e2acf4f3d82de4ab30d4c9b982b2e7cf?s=128&d=identicon&r=PG&f=1", "display_name": "user4912134", "link": "https://stackoverflow.com/users/4912134/user4912134"}, "reply_to_user": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "edited": false, "score": 0, "creation_date": 1489010429, "post_id": 42682635, "comment_id": 72489574, "body": "I need to check if numb contains string abc"}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1489010485, "post_id": 42682635, "comment_id": 72489601, "body": "if (numb.Contains(abc))"}, {"owner": {"reputation": 6982, "user_id": 1362136, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d56fc1446fb44c8d15765ece84a2aec0?s=128&d=identicon&r=PG", "display_name": "Stephen Byrne", "link": "https://stackoverflow.com/users/1362136/stephen-byrne"}, "edited": false, "score": 1, "creation_date": 1489011260, "post_id": 42682635, "comment_id": 72489941, "body": "But why are you doing this at all? <code>SELECT Number FROM NumberList WHERE Number=123</code> will give you one record if 123 is in the database, and zero if it&#39;s not. Why read everything and then throw it away?"}], "answers": [{"tags": [], "owner": {"reputation": 1355, "user_id": 2099774, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0b1616496d50ecbb4ddb4f6a431a2307?s=128&d=identicon&r=PG", "display_name": "BackDoorNoBaby", "link": "https://stackoverflow.com/users/2099774/backdoornobaby"}, "is_accepted": false, "score": 2, "last_activity_date": 1489010443, "creation_date": 1489010443, "answer_id": 42682722, "question_id": 42682635, "link": "https://stackoverflow.com/questions/42682635/check-a-string-exists-in-the-query-response-c/42682722#42682722", "title": "Check a string exists in the query response c#", "body": "<p>This?    </p>\n\n<pre><code>if (numb.Contains(abc)) \n{\n   // List contains the string contained in variable abc\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "is_accepted": false, "score": 0, "last_activity_date": 1489010519, "creation_date": 1489010519, "answer_id": 42682736, "question_id": 42682635, "link": "https://stackoverflow.com/questions/42682635/check-a-string-exists-in-the-query-response-c/42682736#42682736", "title": "Check a string exists in the query response c#", "body": "<pre><code>while (reader.Read())\n{\n    var s = reader.GetString(0);\n    if (!numb.Contains(s))\n    {\n        numb.Add(s);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 4912134, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e2acf4f3d82de4ab30d4c9b982b2e7cf?s=128&d=identicon&r=PG&f=1", "display_name": "user4912134", "link": "https://stackoverflow.com/users/4912134/user4912134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1489010519, "creation_date": 1489010100, "question_id": 42682635, "link": "https://stackoverflow.com/questions/42682635/check-a-string-exists-in-the-query-response-c", "title": "Check a string exists in the query response c#", "body": "<p>I am getting a response from the select query and storing them in to the string list </p>\n\n<pre><code>        string abc = \"123\";\n        List&lt;string&gt; numb = new List&lt;string&gt;();\n        string selectQuery = \"SELECT Number FROM NumberList;\";\n        using (MySqlConnection conn = new MySqlConnection(connStr))\n        using (MySqlCommand cmd = new MySqlCommand(selectQuery, conn))\n        {\n            conn.Open();\n            var reader = cmd.ExecuteReader();\n            while (reader.Read())\n            {\n                numb.Add(reader.GetString(0));\n            }\n</code></pre>\n\n<p>I am not sure how to check the string abc exists in numb. I dont want to use for loop for this because the count of records returned from query response is high. Is there any easy of checking if the 123 exists in the list or not.</p>\n"}, {"tags": ["c#", "elasticsearch"], "answers": [{"comments": [{"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1489012692, "post_id": 42683177, "comment_id": 72490609, "body": "documents are fairly small (200-300 bytes each), but there is a large number of them (we&#39;re talking millions). inserts are done in bulk, but the failure actually occurs when editing the documents where a flag can get changed on a large number of documents at once which is why I&#39;m surprised. The same change happens in parallel on our mongodb without any problem"}, {"owner": {"reputation": 175, "user_id": 1385226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af4c70795d3ba981f539f0744c53683?s=128&d=identicon&r=PG", "display_name": "Simon Trigona", "link": "https://stackoverflow.com/users/1385226/simon-trigona"}, "reply_to_user": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1489015203, "post_id": 42683177, "comment_id": 72491647, "body": "&quot;when editing the documents where a flag can get changed on a large number of documents at once&quot;    Are you using the Update or Update By Query? Updates will require the document to be reindexed and an Update By Query can cause a huge number of documents requiring to be reindexed.    Are you monitoring load and index rates through Marvel or similar tools?"}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1489095027, "post_id": 42683177, "comment_id": 72533519, "body": "I have this call: Driver.Update&lt;TObject, TUpdate&gt;(Id, _ =&gt; _.Doc(Update)) where Update is just the field I&#39;m changing. In short I need to make a large number of documents online / offline quickly, so there is a flag for this. I don&#39;t use monitoring tools at all"}, {"owner": {"reputation": 175, "user_id": 1385226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af4c70795d3ba981f539f0744c53683?s=128&d=identicon&r=PG", "display_name": "Simon Trigona", "link": "https://stackoverflow.com/users/1385226/simon-trigona"}, "reply_to_user": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1489183082, "post_id": 42683177, "comment_id": 72576369, "body": "If you&#39;re running Elasticsearch 1 or 2, look into Marvel. If you&#39;re running 5, look into X-Pack &gt; Monitoring. It is 100% free (the other bells and whistles requires a subscription - but not required for this). You will be able to view where your bottleneck is when you&#39;re experiencing your timeouts."}, {"owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "edited": false, "score": 0, "creation_date": 1580823287, "post_id": 42683177, "comment_id": 106218253, "body": "I don\u2019t recall the details but I think the solution was to do smaller batches, which is not a true solution but it works"}], "tags": [], "owner": {"reputation": 175, "user_id": 1385226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af4c70795d3ba981f539f0744c53683?s=128&d=identicon&r=PG", "display_name": "Simon Trigona", "link": "https://stackoverflow.com/users/1385226/simon-trigona"}, "is_accepted": false, "score": 0, "last_activity_date": 1489012347, "creation_date": 1489012347, "answer_id": 42683177, "question_id": 42682561, "link": "https://stackoverflow.com/questions/42682561/elasticsearch-timeout/42683177#42683177", "title": "Elasticsearch timeout", "body": "<p>Are you doing bulk inserts? Are your documents large?</p>\n\n<p>It sounds reasonable that under heavy load inserts may timeout. You could try to detect increased error rates and scale back/slow down your insertions. You could also increase the timeout threshold, but that'll likely only go so far - you'll still end up with a backlog of requests that is ever-growing and will eventually start failing again.</p>\n\n<p>Another option is to scale up your ES cluster, either increasing the specs of your current nodes or adding more nodes.</p>\n"}], "owner": {"reputation": 7660, "user_id": 695498, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/ee7dba0113ba15076c79d0e9043d7718?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/695498/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1025, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489012347, "creation_date": 1489009805, "question_id": 42682561, "link": "https://stackoverflow.com/questions/42682561/elasticsearch-timeout", "title": "Elasticsearch timeout", "body": "<p>In which scenario can I get an error like this?</p>\n\n<p>The elastic search service is on the same computer as the client calling it, so there it no network issue. The server has free memory, free disk, and there is always at least 15-20% cpu free.</p>\n\n<p>I'm inserting a lot of data in elastic, but it never came with a timeout; and today, there are hundreds of similar error in our logs.\nCould it be because there are a lot of requests in parallel? the insertion code is heavily multi-threaded.</p>\n\n<pre>\nInternalServerError - Invalid NEST response built from a unsuccessful low level call on POST: /albums/albummetadata/f3c20bb7-8f60-5d80-fe87-449bdf3d828a/_update\n# Audit trail of this API call:\n - [1] BadResponse: Node: http://localhost:9200/ Took: 00:01:00.3240283\n - [2] MaxTimeoutReached: Took: -736395.18:15:40.4144464\n# OriginalException: System.Net.WebException: The operation has timed out\n   at System.Net.HttpWebRequest.GetResponse()\n   at Elasticsearch.Net.HttpConnection.Request[TReturn](RequestData requestData) in C:\\code\\elasticsearch-net\\src\\Elasticsearch.Net\\Connection\\HttpConnection.cs:line 145\n# Request:\n\n# Response:\n\n+The operation has timed out\n</pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2258, "user_id": 6168519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e37eef36247051d9b713ebd68468b12?s=128&d=identicon&r=PG&f=1", "display_name": "Sparrow", "link": "https://stackoverflow.com/users/6168519/sparrow"}, "edited": false, "score": 0, "creation_date": 1489010105, "post_id": 42682527, "comment_id": 72489424, "body": "why can&#39;t you have this code defined as the base class and inherit your other classes from the base class?"}, {"owner": {"reputation": 664, "user_id": 3618446, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5c8cc39b3c53630721f13fcf2ca3177b?s=128&d=identicon&r=PG&f=1", "display_name": "wizard07KSU", "link": "https://stackoverflow.com/users/3618446/wizard07ksu"}, "reply_to_user": {"reputation": 2258, "user_id": 6168519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e37eef36247051d9b713ebd68468b12?s=128&d=identicon&r=PG&f=1", "display_name": "Sparrow", "link": "https://stackoverflow.com/users/6168519/sparrow"}, "edited": false, "score": 0, "creation_date": 1489017157, "post_id": 42682527, "comment_id": 72492362, "body": "Because I&#39;m working with multiple disparate types, and for multiple properties."}], "answers": [{"comments": [{"owner": {"reputation": 664, "user_id": 3618446, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5c8cc39b3c53630721f13fcf2ca3177b?s=128&d=identicon&r=PG&f=1", "display_name": "wizard07KSU", "link": "https://stackoverflow.com/users/3618446/wizard07ksu"}, "edited": false, "score": 0, "creation_date": 1489016877, "post_id": 42682841, "comment_id": 72492243, "body": "Brilliant. I am almost literally smacking myself for not thinking of this. Pity readonly doesn&#39;t work for auto-generated properties, but that is probably asking too much of C#. I especially like your note about how to make it work with values types."}, {"owner": {"reputation": 5480, "user_id": 2779530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb6a3e18200e5419f3de29b1d385e6d?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/2779530/kyle"}, "reply_to_user": {"reputation": 664, "user_id": 3618446, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5c8cc39b3c53630721f13fcf2ca3177b?s=128&d=identicon&r=PG&f=1", "display_name": "wizard07KSU", "link": "https://stackoverflow.com/users/3618446/wizard07ksu"}, "edited": false, "score": 0, "creation_date": 1489018278, "post_id": 42682841, "comment_id": 72492700, "body": "@wizard07KSU As of C# 6 you can have readonly auto-properties: <code>public AnotherClass Reference { get; }</code> is valid. Again, though, these are limited to being initialized via the constructor.  You can&#39;t initialize them later."}, {"owner": {"reputation": 664, "user_id": 3618446, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5c8cc39b3c53630721f13fcf2ca3177b?s=128&d=identicon&r=PG&f=1", "display_name": "wizard07KSU", "link": "https://stackoverflow.com/users/3618446/wizard07ksu"}, "edited": false, "score": 0, "creation_date": 1489019426, "post_id": 42682841, "comment_id": 72493046, "body": "Just recently switched to C# 6.0 (business lags behind the tech curve), so I didn&#39;t know about the new feature. I should go read the changelog for C#... thanks!"}], "tags": [], "owner": {"reputation": 5480, "user_id": 2779530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb6a3e18200e5419f3de29b1d385e6d?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/2779530/kyle"}, "is_accepted": true, "score": 3, "last_activity_date": 1489010948, "creation_date": 1489010948, "answer_id": 42682841, "question_id": 42682527, "link": "https://stackoverflow.com/questions/42682527/eliminate-duplicate-c-property-bodies/42682841#42682841", "title": "Eliminate Duplicate C# Property Bodies", "body": "<p>Just encapsulate the behavior in its own type:</p>\n\n<pre><code>public sealed class OneTimeAssignable&lt;T&gt; where T : class\n{\n    public T Value\n    {\n        get\n        {\n            return mValue;\n        }\n        set\n        {\n            if( mValue != null ) throw new InvalidOperationException( \"Value can only be assigned once.\" );\n\n            mValue = value;\n        }\n    }\n\n    private T mValue;\n}\n</code></pre>\n\n<p>Now you can use it as the backing field for your properties:</p>\n\n<pre><code>class MyClass\n{\n    private readonly OneTimeAssignable&lt;AnotherClass&gt; mReference = new OneTimeAssignable&lt;AnotherClass&gt;();\n    public AnotherClass Reference\n    {\n        get\n        {\n            return this.mReference.Value;\n        }\n        internal set\n        {\n            this.mReference.Value = value;\n        }\n    }\n}\n</code></pre>\n\n<p>Right now I have it set to only work on reference types (and assuming you don't want them to ever be set to <code>null</code>), but it's easy enough to modify it to accept value types as well, but requires adding a <code>bool</code> to track whether the property has been set.</p>\n"}], "owner": {"reputation": 664, "user_id": 3618446, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5c8cc39b3c53630721f13fcf2ca3177b?s=128&d=identicon&r=PG&f=1", "display_name": "wizard07KSU", "link": "https://stackoverflow.com/users/3618446/wizard07ksu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 506, "favorite_count": 0, "accepted_answer_id": 42682841, "answer_count": 1, "score": -1, "last_activity_date": 1489010948, "creation_date": 1489009681, "question_id": 42682527, "link": "https://stackoverflow.com/questions/42682527/eliminate-duplicate-c-property-bodies", "title": "Eliminate Duplicate C# Property Bodies", "body": "<p>I am building a large, complex data structure with many interconnected objects. As part of this, I have a situation where I need to create an object before I know the values for all the properties. This is so I can pass a reference to that object around inside of a larger data structure, then change it later to allow all the consumers of that object to get the \"updated\" values. </p>\n\n<p>Tracking the consumers of each object so I can go update their references means I am A) re-implementing a reference counting garbage collector and B) would require an external consumer to modify a class. For obvious reasons, I don't want to implement a garbage collector (or something similar). and allowing external consumers to modify properties means the object is mutable. Immutability is important because I know that many objects in this data structure are going to wind up in Dictionaries <em>after</em> the data structure has been built, but I can safely modify properties until then. Since this is going into a library that will be provided to other users, I <strong>must</strong> block interactions that will break things like invariants for Dictionaries.</p>\n\n<p>I am implementing this \"deferred initialization\" concept for properties like this:</p>\n\n<pre><code>class MyClass\n{\n    private AnotherClass mReference = null;\n    public bool Reference\n    {\n        get\n        {\n            return this.mReference\n        }\n        internal set\n        {\n            if ( this.mReference != null )\n            {\n                throw new Exception( \"This value has already been initialized!\" );\n            }\n            else\n            {\n                this.mReference = value;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am allowing anything in the <code>internal</code> scope to assign a non-null value to this property exactly once. Once the property has been set, there's no going back.</p>\n\n<p>While C# has a keyword <code>readonly</code> that sort of already does this, <code>readonly</code> constrains the member to only be assigned to via either a static initializer or a constructor in the same class. But at the time the constructor is called, <em>I don't know what the value for this property is!</em></p>\n\n<p>My problem is I am now using this exact pattern across multiple classes, and I would like to avoid this code duplication.</p>\n\n<p>Does anyone have any suggestions for how I can reduce the code duplication? Maybe a C# keyword like <code>readonly</code>, or some other language feature? Or is this just not possible? Unfortunately, it is not possible to refactor the algorithms such that I can delay instantiation of all objects until all values are known. Think of bidirectional relationships with immutable objects at each end if you need an example of this scenario.</p>\n"}, {"tags": ["c#", ".net", "vb.net", "winforms", "vsto"], "answers": [{"comments": [{"owner": {"reputation": 928, "user_id": 250328, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e430c2f1cc5d3671b62c1d96b907daf?s=128&d=identicon&r=PG", "display_name": "OfficeAddinDev", "link": "https://stackoverflow.com/users/250328/officeaddindev"}, "edited": false, "score": 1, "creation_date": 1489780302, "post_id": 42793853, "comment_id": 72838378, "body": "My conclusion would then be that, since UHD and 4K displays are becoming more widely used, Winforms should no longer be used to develop VSTO add-ins for Office unless you are prepared to develop some intense DPI and rescaling logic and have a solution for scaling of non-vector images.  No comparison of Winforms vs. WPF I found adequately highlights this, but this should be a top consideration for VSTO developers."}], "tags": [], "owner": {"reputation": 1422, "user_id": 4397543, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-udEtVYPE4cM/AAAAAAAAAAI/AAAAAAAAAFA/4QsyAr61Tr4/photo.jpg?sz=128", "display_name": "Heinz Kessler", "link": "https://stackoverflow.com/users/4397543/heinz-kessler"}, "is_accepted": true, "score": 1, "last_activity_date": 1489516258, "creation_date": 1489516258, "answer_id": 42793853, "question_id": 42682495, "link": "https://stackoverflow.com/questions/42682495/setprocessdpiaware-in-vsto-add-in/42793853#42793853", "title": "SetProcessDPIAware in VSTO add-in", "body": "<p>You can't influence DPI awareness here, because this is a per-process setting, and your process is Excel itself (which is DPI aware).\nYou can only use the <code>SetProcessDPIAware()</code> function only before your program calls the first DPI related Windows function, which Excel did long before your Add-In even started.\nHowever, don't expect Winforms to scale correctly as magic when DPI awareness ist enabled. Enabling DPI awareness means nothing more than: Opening the box of pandora for all the nasty High DPI effects Winforms offers for your pleasure. You will have to fiddle around with control distances and sizes yourself.\nStatement from a Microsoft official:\nIf you want DPI awareness, don't use Winforms, use WPF\nIf you want Touch, don't use WPF, use UWP...</p>\n"}, {"comments": [{"owner": {"reputation": 928, "user_id": 250328, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e430c2f1cc5d3671b62c1d96b907daf?s=128&d=identicon&r=PG", "display_name": "OfficeAddinDev", "link": "https://stackoverflow.com/users/250328/officeaddindev"}, "edited": false, "score": 0, "creation_date": 1578432381, "post_id": 59502344, "comment_id": 105434860, "body": "Right.  UHD and 4K displays effectively killed Winforms.  Winforms is only good for hosting WPF via ElementHosts when required by custom task panes and modeless dialogs in Excel."}], "tags": [], "owner": {"reputation": 94, "user_id": 9200894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a3e947146bcc04322cef90ab390ebd?s=128&d=identicon&r=PG", "display_name": "Mike Williams", "link": "https://stackoverflow.com/users/9200894/mike-williams"}, "is_accepted": false, "score": 0, "last_activity_date": 1577457923, "creation_date": 1577457923, "answer_id": 59502344, "question_id": 42682495, "link": "https://stackoverflow.com/questions/42682495/setprocessdpiaware-in-vsto-add-in/59502344#59502344", "title": "SetProcessDPIAware in VSTO add-in", "body": "<p>The way we solved this in our Chemistry Add-in for Microsoft Word (Chem4Word) was to have a WPF user control hosted inside a WinForms control</p>\n\n<pre><code>WinForm\n+- ElementHost\n   +- WPF User Control\n\n</code></pre>\n"}], "owner": {"reputation": 928, "user_id": 250328, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0e430c2f1cc5d3671b62c1d96b907daf?s=128&d=identicon&r=PG", "display_name": "OfficeAddinDev", "link": "https://stackoverflow.com/users/250328/officeaddindev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "accepted_answer_id": 42793853, "answer_count": 2, "score": 1, "last_activity_date": 1577457923, "creation_date": 1489009536, "last_edit_date": 1495541837, "question_id": 42682495, "link": "https://stackoverflow.com/questions/42682495/setprocessdpiaware-in-vsto-add-in", "title": "SetProcessDPIAware in VSTO add-in", "body": "<p>There are a lot of posts online about setting DPI awareness for a Winforms application by calling <code>SetProcessDPIAware()</code> (or by making some related changes to the application's manifest).  For example:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13228185/how-to-configure-an-app-to-run-correctly-on-a-machine-with-a-high-dpi-setting-e\">How to configure an app to run correctly on a machine with a high DPI setting (e.g. 150%)?</a></p>\n\n<p>However, I am unsure how and where to call SetProcessDPIAware() in a <strong><em>VSTO add-in</em></strong> for Excel, PowerPoint, etc.  I have experimented with this for a while, but cannot get it working as the add-in's various Winforms are still not scaling correctly on high-DPI displays.</p>\n\n<p>Can anyone provide guidance on how to implement DPI awareness in VSTO add-ins, specifically?</p>\n"}, {"tags": ["c#", "curl", "post"], "answers": [{"comments": [{"owner": {"reputation": 953, "user_id": 5878263, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/wWPRt.png?s=128&g=1", "display_name": "Bivo Kasaju", "link": "https://stackoverflow.com/users/5878263/bivo-kasaju"}, "edited": false, "score": 0, "creation_date": 1489011275, "post_id": 42682834, "comment_id": 72489949, "body": "Do you have an alternative with HttpWebRequest? Also, where would I put the <code>document[description]</code> and those stuff?"}], "tags": [], "owner": {"reputation": 1342, "user_id": 2453158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lfTen.jpg?s=128&g=1", "display_name": "Ignacio Laborde", "link": "https://stackoverflow.com/users/2453158/ignacio-laborde"}, "is_accepted": false, "score": 1, "last_activity_date": 1489010923, "creation_date": 1489010923, "answer_id": 42682834, "question_id": 42682465, "link": "https://stackoverflow.com/questions/42682465/c-curl-equivalent-for-multipart-form-data-post-request/42682834#42682834", "title": "c# - curl equivalent for multipart form data post request", "body": "<p>You can use the HttpClient</p>\n\n<pre><code>var client = new HttpClient();\nvar image = File.ReadAllBytes(\"c:\\\\test.png\");\nvar formData = new MultipartFormDataContent();\nformData.Add(new StreamContent(new MemoryStream(image)), \"name\",\"fileName.png\");\nformData.Add(new StringContent(\"content\"), \"name\");\n\nvar response = client.PostAsync(\"http://localhost:5001/api/someMethod\", formData).Result;\n\nif (!response.IsSuccessStatusCode)\n    {\n     Console.WriteLine(response.StatusCode);\n    }\n    else\n    {\n     var content = response.Content.ReadAsStringAsync().GetAwaiter().GetResult();\n     Console.WriteLine(content);\n    }\n</code></pre>\n\n<p>This works good for me.</p>\n"}], "owner": {"reputation": 953, "user_id": 5878263, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/wWPRt.png?s=128&g=1", "display_name": "Bivo Kasaju", "link": "https://stackoverflow.com/users/5878263/bivo-kasaju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489010923, "creation_date": 1489009423, "question_id": 42682465, "link": "https://stackoverflow.com/questions/42682465/c-curl-equivalent-for-multipart-form-data-post-request", "title": "c# - curl equivalent for multipart form data post request", "body": "<p>I'm making a call to third-party api. Here's the third-party api info and what they expect:</p>\n\n<pre><code>POST /api/ HTTP/1.1\nHost: testurl.com\nContent-Type: multipart/form-data\n\ncurl https://testurl.com/api \\\n     -H \"Content-Type: multipart/form-data\" \\\n     -F \"document[description]=meeting notes\" \\\n     -F \"document[matter][id]=123\" \\\n     -F \"document[document_category][name]=Offers\" \\\n     -F \"document_version[last_modified_at]=2013-12-03T23:35:32+00:00\" \\\n     -F \"document_version[uploaded_data]=@test.txt\"\n</code></pre>\n\n<p>I need to write a c# equivalent post method to send these info. I have taken care of the header in the curl call, but I'm not sure on the rest of the form-data. For instance, the \"document\" and \"document_version\" along with their respective attributes (or whatever they are), how do I pass those info along?</p>\n\n<p>Here's what I found: <a href=\"http://www.briangrinstead.com/blog/multipart-form-post-in-c\" rel=\"nofollow noreferrer\">http://www.briangrinstead.com/blog/multipart-form-post-in-c</a></p>\n\n<p>I did exactly what's done in that link, but got back <code>Bad Request</code> error. More specific error:</p>\n\n<pre><code>{\"error\":\"api error\",\"message\":\"undefined method `key?' for nil:NilClass\"}\n</code></pre>\n\n<p>I have no idea what's going on in the third-api so I don't know what this error means. Also, I'm trying to post pdf doc.</p>\n"}, {"tags": ["c#", "asp.net", "acumatica"], "answers": [{"comments": [{"owner": {"reputation": 2202, "user_id": 5481661, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fH3N7.jpg?s=128&g=1", "display_name": "big_water", "link": "https://stackoverflow.com/users/5481661/big-water"}, "edited": false, "score": 0, "creation_date": 1489011169, "post_id": 42682548, "comment_id": 72489911, "body": "When you say include the types in the new class library (MySharedContracts), do you mean add the service references to my 2 WSDL&#39;s in that project?  And then only reference that class library in my main asp.net project?"}, {"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "reply_to_user": {"reputation": 2202, "user_id": 5481661, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fH3N7.jpg?s=128&g=1", "display_name": "big_water", "link": "https://stackoverflow.com/users/5481661/big-water"}, "edited": false, "score": 0, "creation_date": 1489011348, "post_id": 42682548, "comment_id": 72489984, "body": "@big_water No, include the shared types only in that assembly. You can then also reference this assembly from your web services."}], "tags": [], "owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "is_accepted": false, "score": 2, "last_activity_date": 1489009760, "creation_date": 1489009760, "answer_id": 42682548, "question_id": 42682402, "link": "https://stackoverflow.com/questions/42682402/asp-net-re-use-types-between-service-references/42682548#42682548", "title": "ASP.net re-use types between service references", "body": "<p>Create a class library (e.g. \"MySharedContracts\") where you place all the types you want to use in the web services. You can reference that same class library in your web service projects and in the ASP.net project that consumes the web services.</p>\n\n<p>Then, in the ASP.net project when importing the WDSL definition, click on \"Advanced\" to open the \"Service References Settings\" dialog. In here, enable \"Reuse types in references assemblies\". You can then either let VS search for fitting types by itself by selecting \"Reuse types in all references assemblies\" or alternatively specify a set of assemblies that you want to use types from for the web services.</p>\n\n<p><a href=\"https://i.stack.imgur.com/S1N3F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S1N3F.png\" alt=\"Service Reference Settings\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 2202, "user_id": 5481661, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fH3N7.jpg?s=128&g=1", "display_name": "big_water", "link": "https://stackoverflow.com/users/5481661/big-water"}, "edited": false, "score": 0, "creation_date": 1489065642, "post_id": 42692511, "comment_id": 72514778, "body": "I can&#39;t extend default because I am on version 5.30.  Extending is only available on version 6 :("}, {"owner": {"reputation": 2202, "user_id": 5481661, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fH3N7.jpg?s=128&g=1", "display_name": "big_water", "link": "https://stackoverflow.com/users/5481661/big-water"}, "edited": false, "score": 0, "creation_date": 1489065855, "post_id": 42692511, "comment_id": 72514938, "body": "What would be the recommended way of extending the endpoint in version 5.30 with this issue in mind?  All I am trying to do is add &quot;Shipping Terms&quot; to the Sales Order endpoint because it&#39;s not there by default."}, {"owner": {"reputation": 5220, "user_id": 2056380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9WmWr.jpg?s=128&g=1", "display_name": "Brendan", "link": "https://stackoverflow.com/users/2056380/brendan"}, "edited": false, "score": 0, "creation_date": 1489158794, "post_id": 42692511, "comment_id": 72563184, "body": "You can actually extend 5.3 - its just not possible in the UI to configure (this is what i was told and never tried it). Here is a brief description: 1.\tCreate your own endpoint in Acumatica. 2.\tIn the Acumatica database, table EntityEndpoint, find the row matching your endpoint (look at GateVersion and InterfaceName fields) 3.\tSet ExtendsVersion to 5.30.001 [or you can use newer versions] and ExtendsName to Default"}, {"owner": {"reputation": 5220, "user_id": 2056380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9WmWr.jpg?s=128&g=1", "display_name": "Brendan", "link": "https://stackoverflow.com/users/2056380/brendan"}, "edited": false, "score": 0, "creation_date": 1489159246, "post_id": 42692511, "comment_id": 72563478, "body": "Obviously you would be on your own for performing this functionality, but might hold you until you get to 6.X"}], "tags": [], "owner": {"reputation": 5766, "user_id": 1105881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/26f98c0bfb1bd3ed8196c7279bfe470a?s=128&d=identicon&r=PG", "display_name": "Serg Rogovtsev", "link": "https://stackoverflow.com/users/1105881/serg-rogovtsev"}, "is_accepted": true, "score": 4, "last_activity_date": 1489054459, "creation_date": 1489054459, "answer_id": 42692511, "question_id": 42682402, "link": "https://stackoverflow.com/questions/42682402/asp-net-re-use-types-between-service-references/42692511#42692511", "title": "ASP.net re-use types between service references", "body": "<p>Unfortunately, there's no way of achieving what you want.</p>\n\n<p>The thing is, the base classes used are <em>not the same</em> (they have different attributes which leads to different XML (de)serialization). To add insult to injury, when we researched this issue, we've found out that WCF client utility which you use to generate client-side code <a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/e0fa1ab7-0ccc-4024-b479-70c4ac91a9cb/reuse-of-types-in-referenced-assembly-for-wcf-server-reference-seems-not-work-when-xmlserialization?forum=wcf\" rel=\"nofollow noreferrer\">does not support reuse when XMLSerializer is used</a>, so even if Acumatica made the base classes exactly the same, there still wouldn't be any reuse on client.</p>\n\n<p>But why do you need to different endpoints simultaneously? If your own endpoint is only adding functionality to Acumatica's <code>Default</code>, why not consider extending <code>Default</code>? This way you'd need only one endpoint in your code.</p>\n"}], "owner": {"reputation": 2202, "user_id": 5481661, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/fH3N7.jpg?s=128&g=1", "display_name": "big_water", "link": "https://stackoverflow.com/users/5481661/big-water"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 42692511, "answer_count": 2, "score": 2, "last_activity_date": 1489054459, "creation_date": 1489009160, "question_id": 42682402, "link": "https://stackoverflow.com/questions/42682402/asp-net-re-use-types-between-service-references", "title": "ASP.net re-use types between service references", "body": "<p>I have two service references that I am importing into my asp.net project by importing a WSDL for each.  The first reference is a default reference from my web service (Acumatica) and the second is a custom endpoint service I created in the original web service.  </p>\n\n<p>The problem is that both of them use the same \"base types\" in their object classes so when I include both namespaces to use the objects from both of them in my code, I get an error saying there ambiguous references between the base types in the two namespaces.  Makes sense.  But how can I set this up so that .net knows to re-use the base types between the two namespaces since they are exactly the same?</p>\n\n<p>To show what I'm talking about:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VrB7Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VrB7Y.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/NhApj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NhApj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You can see there are types that are exactly the same between the references.  Can I configure these references to re-use those types between the two of them to get rid of my ambiguous reference errors?</p>\n"}, {"tags": ["c#", "csv", "dictionary", "string-comparison", "keyvaluepair"], "comments": [{"owner": {"reputation": 14963, "user_id": 834261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vxyWz.png?s=128&g=1", "display_name": "hatchet - done with SOverflow", "link": "https://stackoverflow.com/users/834261/hatchet-done-with-soverflow"}, "edited": false, "score": 1, "creation_date": 1489009471, "post_id": 42682392, "comment_id": 72489079, "body": "Look at the second answer to the question you linked to."}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 1, "creation_date": 1489012755, "post_id": 42682392, "comment_id": 72490647, "body": "Sean, the <code>ToUpper()</code> and <code>ToLower()</code> functions do not actually modify the contents of your string.  It returns a copy of the string in all uppercase or lowercase letters that you can use for comparison purposes...  If you declare a variable like <code>string sVal = searchTerm.ToLower();</code>, <code>sVal</code>&#39;s characters will all be lowercase.  Vice Versa for <code>ToUpper()</code>.  The fact remains, however, that the <code>ToUpper()</code> or <code>ToLower()</code> methods will NOT modify your original string (<code>searchTerm</code> will not be changed)."}, {"owner": {"reputation": 510, "user_id": 7159560, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6d8f6e6d3139bdc24a16b403385d022b?s=128&d=identicon&r=PG&f=1", "display_name": "SpeakInCode43", "link": "https://stackoverflow.com/users/7159560/speakincode43"}, "reply_to_user": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1489013202, "post_id": 42682392, "comment_id": 72490855, "body": "@UchihaItachi So then could I have done this? <a href=\"https://gist.github.com/4b84a2e280c332e10e28193364cdd978\" rel=\"nofollow noreferrer\">gist.github.com/4b84a2e280c332e10e28193364cdd978</a>"}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 1, "creation_date": 1489013471, "post_id": 42682392, "comment_id": 72490978, "body": "@Sean essentially yes.  Don&#39;t forget that it would be <code>string newValue = aValue.toUpper();</code> and <code>string newsearchTerm = searchTerm.toUpper();</code>...  They&#39;re methods - not properties."}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "edited": false, "score": 0, "creation_date": 1489013550, "post_id": 42682392, "comment_id": 72491004, "body": "That also comes with the caveat that you need to do the same thing when you populate your <code>Dictionary</code>s...  Otherwise when you go searching for keys or values in all uppercase, they may not (and likely wont) be there if they&#39;re getting populated via user input..."}], "answers": [{"comments": [{"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "reply_to_user": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "edited": false, "score": 0, "creation_date": 1489010082, "post_id": 42682562, "comment_id": 72489411, "body": "You should normalize strings to how your programming uses them most frequently.  Upper or Lower is a matter of preference - not good practice"}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "reply_to_user": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "edited": false, "score": 0, "creation_date": 1489011379, "post_id": 42682562, "comment_id": 72490003, "body": "@Sefe tell me if this variable will return true or false (without any extra methods like those you mentioned in your answer):  <code>bool bAreEqual = &quot;JavaScript&quot; == &quot;javaSCRIPT&quot;;</code>"}, {"owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "reply_to_user": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "edited": false, "score": 0, "creation_date": 1489013270, "post_id": 42682562, "comment_id": 72490885, "body": "@&#208;\u0430n your code works.  As does @Sefe&#39;s.  I&#39;m not disputing that.  Yours is just a really long and round-about-way of doing string comparisons that is made unnecessary through .NET&#39;s core functionality.  The root of the case-insensitive thing is that even though <code>J</code> and <code>j</code> are both J&#39;s, they are read differently.  They have different Unicode values.  That&#39;s why if you simply say <code>if (&quot;J&quot; == &quot;j&quot;)</code> without any helper functions, it will return false.  I really don&#39;t get why you guys are arguing with me about this..."}], "tags": [], "owner": {"reputation": 1130, "user_id": 4699016, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/itgis.png?s=128&g=1", "display_name": "Uchiha Itachi", "link": "https://stackoverflow.com/users/4699016/uchiha-itachi"}, "is_accepted": false, "score": 1, "last_activity_date": 1489012220, "last_edit_date": 1489012220, "creation_date": 1489009805, "answer_id": 42682562, "question_id": 42682392, "link": "https://stackoverflow.com/questions/42682392/alter-methods-so-that-their-search-becomes-case-in-sensitive/42682562#42682562", "title": "Alter Methods So That Their Search Becomes Case In-Sensitive", "body": "<p>Let's start by saying that you can't compare strings and NOT have them be case sensitive.  They always will be because uppercase and lowercase letters have different Unicode values.  Here's your solution:</p>\n\n<p>If you want to blanket check every single string, you can use either the <code>ToUpper()</code> or <code>ToLower()</code> methods.  For Example:</p>\n\n<pre><code>string s1 = \"JavaScript\";\nstring s2 = \"Javascript\";\n\nif (s1.ToLower() == s2.ToLower())\n{\n    //Do something\n}\n</code></pre>\n\n<p>It also works the same with the <code>ToUpper()</code> because:</p>\n\n<pre><code>//s1.ToLower() == \"javascript\";\n//s1.ToUpper() == \"JAVASCRIPT\";\n</code></pre>\n\n<p>So, as it pertains to your situation, assuming that your <code>Dictionary</code> is filled with all lowercase strings, you can simply say:</p>\n\n<pre><code>if (aValue.Contains(searchTerm.ToLower()))\n{\n    //Do something\n}\n</code></pre>\n\n<p>For more information about these functions, check out</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/e78f86at(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/e78f86at(v=vs.110).aspx</a><br>\nand\n<a href=\"https://msdn.microsoft.com/en-us/library/system.string.toupper(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.string.toupper(v=vs.110).aspx</a></p>\n"}, {"tags": [], "owner": {"reputation": 10380, "user_id": 8877, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZfOB5.png?s=128&g=1", "display_name": "&#208;\u0430n", "link": "https://stackoverflow.com/users/8877/%c3%90%d0%b0n"}, "is_accepted": false, "score": 1, "last_activity_date": 1618837573, "last_edit_date": 1618837573, "creation_date": 1489009912, "answer_id": 42682591, "question_id": 42682392, "link": "https://stackoverflow.com/questions/42682392/alter-methods-so-that-their-search-becomes-case-in-sensitive/42682591#42682591", "title": "Alter Methods So That Their Search Becomes Case In-Sensitive", "body": "<p>I've played around with this a bit over the years, and the most robust solution I've been able to come up with is to create a <code>String</code>-like wrapper which does everything in a case-insensitive manner.  Although depending on your needs, this may be over-kill ...</p>\n<p>Usage is:</p>\n<pre><code>using StringOrdinalIgnoreCase = JDanielSmith.System.String&lt;JDanielSmith.System.OrdinalIgnoreCase&gt;;\n\n[TestMethod]\npublic void StringOrdinalIgnoreCaseDictionary()\n{\n    var d = new Dictionary&lt;StringOrdinalIgnoreCase, int&gt;() { { &quot;abc&quot;, 1 }, { &quot;def&quot;, 2 } };\n    Assert.IsTrue(d.ContainsKey(&quot;ABC&quot;));\n\n    try\n    {\n        d.Add(&quot;DEF&quot;, 2);\n        Assert.Fail();\n    }\n    catch (ArgumentException) { }\n}\n</code></pre>\n<h2><strong>String.cs</strong></h2>\n<pre><code>using System;\n\nusing CodeAnalysis = System.Diagnostics.CodeAnalysis;\n\nnamespace MyNS.System\n{\n    /// &lt;summary&gt;\n    /// Provide a case-insensitive wrapper around System.String.\n    /// \n    /// This is especially useful when using strings as keys in collections, where the key is something like a Windows file-system pathname;\n    /// it can be easy to forget to pass an IEqualityComparer&lt;&gt; in the constructor.\n    /// \n    /// Some hints from: http://stackoverflow.com/questions/33039324/how-can-system-string-be-properly-wrapped-for-case-insensitivy\n    /// &lt;/summary&gt;\n    [CodeAnalysis.SuppressMessage(&quot;Microsoft.Naming&quot;, &quot;CA1716:IdentifiersShouldNotMatchKeywords&quot;, MessageId = &quot;String&quot;)]\n    [CodeAnalysis.SuppressMessage(&quot;Microsoft.Design&quot;, &quot;CA1036:OverrideMethodsOnComparableTypes&quot;)]\n    public sealed class String&lt;TComparerAndComparison&gt; : IComparable, ICloneable,\n        IComparable&lt;String&lt;TComparerAndComparison&gt;&gt;, IEquatable&lt;String&lt;TComparerAndComparison&gt;&gt;,\n        IComparable&lt;String&gt;, IEquatable&lt;String&gt;\n        where TComparerAndComparison : StringComparerAndComparison, new()\n    {\n        static readonly StringComparerAndComparison _comparerAndComparison = new TComparerAndComparison();\n        static readonly StringComparer _comparer = _comparerAndComparison.Comparer;\n        static readonly StringComparison _comparisonType = _comparerAndComparison.Comparison;\n\n        public string Value { get; }\n\n        public String(string value)\n        {\n            // matching the behavior of System.String is more straight-forward if &quot;Value&quot; is never null\n            Value = value ?? String.Empty;\n        }\n\n        // easily convert to/from System.String\n        public static implicit operator String&lt;TComparerAndComparison&gt;(string source) =&gt; new String&lt;TComparerAndComparison&gt;(source);\n        public static implicit operator string(String&lt;TComparerAndComparison&gt; source) =&gt; source?.Value;\n\n        #region Equals, IEquatable\n        public override bool Equals(object obj)\n        {\n            if (Object.ReferenceEquals(obj, null))\n                return false; // this != null\n\n            var other = obj as String&lt;TComparerAndComparison&gt;;\n            if (!Object.ReferenceEquals(other, null))\n                return Equals(other); // call Equals(String&lt;TStringComparerAndComparison&gt;)\n\n            var s_other = obj as string;\n            if (!Object.ReferenceEquals(s_other, null))\n                return Equals(s_other); // call Equals(string)\n\n            return _comparer.Equals(obj);\n        }\n        public bool Equals(String&lt;TComparerAndComparison&gt; other)\n        {\n            if (Object.ReferenceEquals(other, null))\n                return false; // this != null\n            return Equals(other.Value); // call Equals(string)\n        }\n        public bool Equals(string other) =&gt; _comparer.Equals(Value, other);\n\n        public override int GetHashCode()\n        {\n            return _comparer.GetHashCode(Value);\n        }\n        #endregion\n\n        public override string ToString() =&gt; Value;\n\n        public object Clone() =&gt; new String&lt;TComparerAndComparison&gt;(Value);\n\n        #region IComparable\n        public int CompareTo(object obj)\n        {\n            // https://msdn.microsoft.com/en-us/library/4d7sx9hd(v=vs.110).aspx\n            if (Object.ReferenceEquals(obj, null))\n                return 1; // If other is not a valid object reference, this instance is greater.\n\n            // obj must be either StringOrdinalIgnoreCase or String\n            var other = obj as String&lt;TComparerAndComparison&gt;;\n            if (Object.ReferenceEquals(other, null))\n            {\n                var s_other = obj as string;\n                if (Object.ReferenceEquals(s_other, null))\n                    throw new ArgumentException(&quot;Object must be of type &quot; + nameof(String&lt;TComparerAndComparison&gt;) + &quot; or String.&quot;);\n\n                return CompareTo(s_other); // call CompareTo(string)\n            }\n\n            return CompareTo(other); // call CompareTo(StringOrdinalIgnoreCase)\n        }\n        public int CompareTo(String&lt;TComparerAndComparison&gt; other)\n        {\n            // https://msdn.microsoft.com/en-us/library/4d7sx9hd(v=vs.110).aspx\n            if (Object.ReferenceEquals(other, null))\n                return 1; // If other is not a valid object reference, this instance is greater.\n\n            if (Object.ReferenceEquals(Value, other.Value))\n                return 0;\n\n            return CompareTo(other.Value); // call CompareTo(string)\n        }\n        public int CompareTo(string other)\n        {\n            // https://msdn.microsoft.com/en-us/library/4d7sx9hd(v=vs.110).aspx\n            if (Object.ReferenceEquals(other, null))\n                return 1; // If other is not a valid object reference, this instance is greater.\n\n            return _comparer.Compare(Value, other);\n        }\n\n        public static bool operator ==(String&lt;TComparerAndComparison&gt; x, String&lt;TComparerAndComparison&gt; y)\n        {\n            if (Object.ReferenceEquals(x, null))\n                return Object.ReferenceEquals(y, null); // null == null, null != something\n            return x.Equals(y); // know x != null\n        }\n        public static bool operator ==(String&lt;TComparerAndComparison&gt; x, string y)\n        {\n            if (Object.ReferenceEquals(x, null))\n                return Object.ReferenceEquals(y, null); // null == null, null != something\n            return x.Equals(y); // know x != null\n        }\n        public static bool operator ==(string x, String&lt;TComparerAndComparison&gt; y) =&gt; y == x; // == is commutative, x == y\n        public static bool operator !=(String&lt;TComparerAndComparison&gt; x, String&lt;TComparerAndComparison&gt; y) =&gt; !(x == y);\n        public static bool operator !=(string x, String&lt;TComparerAndComparison&gt; y) =&gt; !(x == y);\n        public static bool operator !=(String&lt;TComparerAndComparison&gt; x, string y) =&gt; !(x == y);\n        #endregion\n\n        #region IndexOf, LastIndexOf, StartsWith, EndsWith\n        public bool EndsWith(string value) =&gt; Value.EndsWith(value, _comparisonType);\n        public int IndexOf(string value) =&gt; Value.IndexOf(value, _comparisonType);\n        public int IndexOf(string value, int startIndex) =&gt; Value.IndexOf(value, startIndex, _comparisonType);\n        public int IndexOf(string value, int startIndex, int count) =&gt; Value.IndexOf(value, startIndex, count, _comparisonType);\n        public int LastIndexOf(string value) =&gt; Value.LastIndexOf(value, _comparisonType);\n        public int LastIndexOf(string value, int startIndex) =&gt; Value.LastIndexOf(value, startIndex, _comparisonType);\n        public int LastIndexOf(string value, int startIndex, int count) =&gt; Value.LastIndexOf(value, startIndex, count, _comparisonType);\n        public bool StartsWith(string value) =&gt; Value.StartsWith(value, _comparisonType);\n        #endregion\n\n    }\n}\n</code></pre>\n<p><strong>StringComparerAndComparison.cs</strong></p>\n<pre><code>using System;\n\nusing StringComparer = System.StringComparer;\nusing StringComparison = System.StringComparison;\n\nnamespace JDanielSmith.System\n{\n    /// &lt;summary&gt;\n    /// Pass around System.StringComparer and System.StringComparison together.\n    /// Also, provides a base class for generics.\n    /// &lt;/summary&gt;\n    public abstract class StringComparerAndComparison\n    {\n        internal StringComparer Comparer { get; }\n        internal StringComparison Comparison { get; }\n        internal StringComparerAndComparison(StringComparer comparer, StringComparison comparison)\n        {\n            if (comparer == null) throw new ArgumentNullException(nameof(comparer));\n\n            Comparer = comparer;\n            Comparison = comparison;\n        }\n    }\n\n    public sealed class CurrentCulture : StringComparerAndComparison\n    {\n        public CurrentCulture() : base(StringComparer.CurrentCulture, StringComparison.CurrentCulture) { }\n    }\n\n    public sealed class CurrentCultureIgnoreCase : StringComparerAndComparison\n    {\n        public CurrentCultureIgnoreCase() : base(StringComparer.CurrentCultureIgnoreCase, StringComparison.CurrentCultureIgnoreCase) { }\n    }\n\n    public sealed class InvariantCulture : StringComparerAndComparison\n    {\n        public InvariantCulture() : base(StringComparer.InvariantCulture, StringComparison.InvariantCulture) { }\n    }\n\n    public sealed class InvariantCultureIgnoreCase : StringComparerAndComparison\n    {\n        public InvariantCultureIgnoreCase() : base(StringComparer.InvariantCultureIgnoreCase, StringComparison.InvariantCultureIgnoreCase) { }\n    }\n\n    public sealed class Ordinal : StringComparerAndComparison\n    {\n        public Ordinal() : base(StringComparer.Ordinal, StringComparison.Ordinal) { }\n    }\n\n    public sealed class OrdinalIgnoreCase : StringComparerAndComparison\n    {\n        public OrdinalIgnoreCase() : base(StringComparer.OrdinalIgnoreCase, StringComparison.OrdinalIgnoreCase) { }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 510, "user_id": 7159560, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6d8f6e6d3139bdc24a16b403385d022b?s=128&d=identicon&r=PG&f=1", "display_name": "SpeakInCode43", "link": "https://stackoverflow.com/users/7159560/speakincode43"}, "edited": false, "score": 0, "creation_date": 1489011742, "post_id": 42682782, "comment_id": 72490191, "body": "Thanks for your response. So you&#39;re saying that I should get rid of the line above the if statment, and then my if statement should look like: &#39;if (aValue.IndexOf(searchTerm, StringComparison.OrdinalIgnoreCase) &gt;= 0 )&#39;? Doing that gave me a build error: The name &#39;StringComparison&#39; does not exist in the current context."}, {"owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "reply_to_user": {"reputation": 510, "user_id": 7159560, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6d8f6e6d3139bdc24a16b403385d022b?s=128&d=identicon&r=PG&f=1", "display_name": "SpeakInCode43", "link": "https://stackoverflow.com/users/7159560/speakincode43"}, "edited": false, "score": 0, "creation_date": 1489012059, "post_id": 42682782, "comment_id": 72490323, "body": "Have you included the <code>System</code> namespace? Try <code>if (aValue.IndexOf(searchTerm, System.StringComparison.OrdinalIgnoreCase) &gt;= 0 )</code>"}], "tags": [], "owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "is_accepted": true, "score": 1, "last_activity_date": 1489011736, "last_edit_date": 1489011736, "creation_date": 1489010712, "answer_id": 42682782, "question_id": 42682392, "link": "https://stackoverflow.com/questions/42682392/alter-methods-so-that-their-search-becomes-case-in-sensitive/42682782#42682782", "title": "Alter Methods So That Their Search Becomes Case In-Sensitive", "body": "<p>Your idea of using <code>IndexOf</code> instead of <code>Contains</code> is correct, you just have to use the right overload (<a href=\"https://msdn.microsoft.com/en-us/library/ms224425.aspx\" rel=\"nofollow noreferrer\">the one that takes a <code>StringComparison</code> option</a>). There are multiple options for a case-insensitive comparison. I'm using <code>OrdinalIgnoreCase</code>, but you can use the one that suits you best.</p>\n\n<p>Instead of this:</p>\n\n<pre><code>aValue.Contains(searchTerm)\n</code></pre>\n\n<p>Write this:</p>\n\n<pre><code>aValue.IndexOf(searchTerm, StringComparison.OrdinalIgnoreCase) &gt;= 0\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 7159560, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6d8f6e6d3139bdc24a16b403385d022b?s=128&d=identicon&r=PG&f=1", "display_name": "SpeakInCode43", "link": "https://stackoverflow.com/users/7159560/speakincode43"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 42682782, "answer_count": 3, "score": 1, "last_activity_date": 1618837573, "creation_date": 1489009109, "last_edit_date": 1495539976, "question_id": 42682392, "link": "https://stackoverflow.com/questions/42682392/alter-methods-so-that-their-search-becomes-case-in-sensitive", "title": "Alter Methods So That Their Search Becomes Case In-Sensitive", "body": "<p>I have two methods that I need to fix so that when a user searches for \"Javascript\", the methods will return values if they're spelled like \"Javascript\" or like \"JavaScript\" - capitalization won't matter. Importing data from the csv file (where the method performs its search) has already been done with <code>LoadData()</code>. The full code for the three files that I'm using (JobData.cs, Program.cs, job_data.csv) can be found <a href=\"https://github.com/user3546086/TechJobsConsole/tree/master/src/TechJobsConsole\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>The first method that I need to fix is this one (<a href=\"https://github.com/user3546086/TechJobsConsole/blob/master/src/TechJobsConsole/JobData.cs\" rel=\"nofollow noreferrer\">found in JobData.cs, line 143)</a>: </p>\n\n<pre><code> public static List&lt;Dictionary&lt;string, string&gt;&gt; FindByValue(string searchTerm)\n    {\n        LoadData();\n        //set up a list of jobs that we're going to use to return from this method\n        List&lt;Dictionary&lt;string, string&gt;&gt; jobs = new List&lt;Dictionary&lt;string, string&gt;&gt;();\n        //row is a Dictionary&lt;string, string&gt;\n        foreach (Dictionary&lt;string, string&gt; row in AllJobs)\n        {\n            //item is a KeyValuePair\n            foreach (KeyValuePair&lt;string, string&gt; field in row)\n            {\n                string aValue = field.Value;\n                if (aValue.Contains(searchTerm))\n                {\n                    jobs.Add(row);\n                    break;\n                }\n            }\n        }\n        return jobs;\n    }  \n</code></pre>\n\n<p>Maybe one way to do this is to break the <code>searchTerm</code>s and <code>value</code>s down so that they automatically become lowercase when the user searches. That way, even if the user types JAVAScript, it will automatically turn into javascript, and it will match the characters in the string <code>field</code>, which will also become lowercase. Of course we will still return the original string in field, whether it's \"Javascript\" or \"JavaScript\". </p>\n\n<p>Another way to do this would be to automatically turn <code>searchTerm</code> case insensitive, so that it will match up with the <code>field.Value</code> regardless of capitalization. </p>\n\n<p>Would doing that look like this?</p>\n\n<pre><code>  public static List&lt;Dictionary&lt;string, string&gt;&gt; FindByValue(string searchTerm)\n    {\n        LoadData();\n        //set up a list of jobs that we're going to use to return from this method\n        List&lt;Dictionary&lt;string, string&gt;&gt; jobs = new List&lt;Dictionary&lt;string, string&gt;&gt;();\n        //row is a Dictionary&lt;string, string&gt;\n        foreach (Dictionary&lt;string, string&gt; row in AllJobs)\n        {\n            //item is a KeyValuePair\n            foreach (KeyValuePair&lt;string, string&gt; field in row)\n            {\n                string aValue = field.Value;\n                //create new, case-insensitive searchTerm\n\n                culture.CompareInfo.IndexOf(searchTerm, aValue, CompareOptions.IgnoreCase) &gt;= 0\n\n                if (aValue.Contains(searchTerm))\n                {\n                    jobs.Add(row);\n                    break;\n                }\n            }\n        }\n        return jobs;\n    }   \n</code></pre>\n\n<p>I'm trying to use <a href=\"https://stackoverflow.com/questions/444798/case-insensitive-containsstring\">this example</a> of case insensitive string comparison. But using that line gives me error messages: </p>\n\n<pre><code>The name \"culture\" does not exist in the current context\nThe name \"CompareOptions\" does not exist in the current context\n</code></pre>\n\n<p>Any other ideas for how I can turn <code>searchTerms</code> case-insensitive when compared against <code>field.aValue</code>? </p>\n"}, {"tags": ["c#", ".net", "json.net", "asp.net-web-api2"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1489011375, "post_id": 42682371, "comment_id": 72489999, "body": "Related: <a href=\"http://stackoverflow.com/questions/7814247/serialize-nan-values-into-json-as-nulls-in-json-net\" title=\"serialize nan values into json as nulls in json net\">stackoverflow.com/questions/7814247/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 901, "user_id": 3573539, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1v9R5.jpg?s=128&g=1", "display_name": "Jimbo Jones", "link": "https://stackoverflow.com/users/3573539/jimbo-jones"}, "is_accepted": true, "score": 1, "last_activity_date": 1489051595, "creation_date": 1489051595, "answer_id": 42691461, "question_id": 42682371, "link": "https://stackoverflow.com/questions/42682371/removing-nan-values-in-deserialization-web-api-2-c/42691461#42691461", "title": "Removing NaN values in deserialization Web API 2 C#", "body": "<p>I eventually figured out how to solve the issue for both read and write.</p>\n\n<pre><code>jsonFormatter.SerializerSettings.Converters.Add(new FloatConverter());\n\npublic class FloatConverter : JsonConverter\n{\n    public override bool CanRead\n    {\n        get\n        {\n            return true;\n        }\n    }\n\n    public override bool CanWrite\n    {\n        get\n        {\n            return true;\n        }\n    }\n\n    public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n    {\n        if (value == null)\n        {\n            writer.WriteNull();\n            return;\n        }\n\n        var val = Convert.ToDouble(value);\n        if (Double.IsNaN(val) || Double.IsInfinity(val))\n        {\n            writer.WriteNull();\n            return;\n        }\n        if (value is float)\n            writer.WriteValue((float)value);\n        else\n            writer.WriteValue((double)value);\n    }\n\n    public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)\n    {\n        if (reader.TokenType == JsonToken.Null)\n            return null;\n\n        var value = JValue.Load(reader);\n        var val = Convert.ToDouble(value);\n\n        if (objectType == typeof(Double))\n        {\n            if (Double.IsNaN(val) || Double.IsInfinity(val))\n                return (Double)0.00;\n            else\n                return (Double)value;\n        }\n\n        if (objectType == typeof(float?))\n            return (float?)value;\n        else\n            return (float)value;\n    }\n\n    public override bool CanConvert(Type objectType)\n    {\n        return objectType == typeof(double) || objectType == typeof(float);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 901, "user_id": 3573539, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/1v9R5.jpg?s=128&g=1", "display_name": "Jimbo Jones", "link": "https://stackoverflow.com/users/3573539/jimbo-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 1, "accepted_answer_id": 42691461, "answer_count": 1, "score": 2, "last_activity_date": 1489058011, "creation_date": 1489009042, "last_edit_date": 1489058011, "question_id": 42682371, "link": "https://stackoverflow.com/questions/42682371/removing-nan-values-in-deserialization-web-api-2-c", "title": "Removing NaN values in deserialization Web API 2 C#", "body": "<p>Hello I am wondering if anyone could help me, I am trying to automatically replace NaN from double values automatically with 0 upon deserializing automatically in Web API 2. I am trying to use JSON.NET but I am having no success. Any help would be greatly appreciated. I am placing the below into my WebApiConfig</p>\n\n<pre><code>config.Formatters.JsonFormatter.SupportedMediaTypes.Add(new MediaTypeHeaderValue(\"text/html\"));\n\nMediaTypeHeaderValue appXmlType = config.Formatters.XmlFormatter.SupportedMediaTypes.FirstOrDefault(t =&gt; t.MediaType == \"application/xml\");\nconfig.Formatters.XmlFormatter.SupportedMediaTypes.Remove(appXmlType);\n\nJsonMediaTypeFormatter jsonFormatter = GlobalConfiguration.Configuration.Formatters.JsonFormatter;\njsonFormatter.SerializerSettings.FloatFormatHandling = Newtonsoft.Json.FloatFormatHandling.DefaultValue;\njsonFormatter.SerializerSettings.MissingMemberHandling = MissingMemberHandling.Ignore;\njsonFormatter.SerializerSettings.Formatting = Newtonsoft.Json.Formatting.None;\njsonFormatter.SerializerSettings.DateFormatHandling = DateFormatHandling.IsoDateFormat;\njsonFormatter.SerializerSettings.FloatParseHandling =  FloatParseHandling.Double;\njsonFormatter.SerializerSettings.DefaultValueHandling =  DefaultValueHandling.Populate;\n</code></pre>\n\n<p>The NaN values are not being removed and being put inside the class in a </p>\n\n<pre><code>public double Price { get; set; }\n</code></pre>\n\n<p>So inside of a number I get NaN inside.</p>\n"}, {"tags": ["c#", "async-await", "task"], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 0, "last_activity_date": 1489008759, "creation_date": 1489008759, "answer_id": 42682296, "question_id": 42682198, "link": "https://stackoverflow.com/questions/42682198/non-async-method-in-async-call-stack/42682296#42682296", "title": "Non-Async Method In Async Call Stack", "body": "<p>Correct. You can return the <code>Task</code> directly from a method without adding the <code>async/await</code> keywords if the method does not need to await any result (ie. consume the result of a task or wait for a task to complete to be able to do some execution). That returned Task can then be awaited by a caller further down the call stack. This can save a little overhead and make for <strong>slightly</strong> less code (<em>although that amount of code is actually trivial</em>).</p>\n\n<p>You often see this with pass through or convenience methods.</p>\n"}], "owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "closed_date": 1489008947, "accepted_answer_id": 42682296, "answer_count": 1, "score": 1, "last_activity_date": 1489008759, "creation_date": 1489008391, "question_id": 42682198, "link": "https://stackoverflow.com/questions/42682198/non-async-method-in-async-call-stack", "closed_reason": "Duplicate", "title": "Non-Async Method In Async Call Stack", "body": "<p>Sorry for a terrible title, I just wanted to confirm that I am making the correct assumptions.</p>\n\n<p>Say I have 3 methods that are simplified to:</p>\n\n<pre><code>public async Task Method1()\n{ \n    var obj = await Method2();\n    //do work on obj\n} \n\npublic Task&lt;object&gt; Method2()\n{\n    //do some work\n    return Method3();     \n}\n\npublic async Task&lt;object&gt; Method3()\n{\n    //do async work\n    return obj;\n}\n</code></pre>\n\n<p><code>Method2</code> above does no async work internally, but is in my async stack.  It could be rewritten as:</p>\n\n<pre><code>public async Task&lt;object&gt; Method2()\n{\n    //do some work\n    return await Method3();\n}  \n</code></pre>\n\n<p>Am I correct that, as <code>Method2</code> doesn't actually do async work, that it is better to leave it as a non-async method?  My thought is that I'm saving the overhead of creating an extra state machine to hold the thread's resources when it is not needed.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "controller"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1489014701, "post_id": 42682036, "comment_id": 72491448, "body": "Create a custom <code>FilterAttribute</code> and apply it to the controller (or to action methods in the controller)"}], "answers": [{"tags": [], "owner": {"reputation": 1813, "user_id": 2397707, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/MGJnu.jpg?s=128&g=1", "display_name": "Jinish", "link": "https://stackoverflow.com/users/2397707/jinish"}, "is_accepted": true, "score": 2, "last_activity_date": 1489007977, "creation_date": 1489007977, "answer_id": 42682115, "question_id": 42682036, "link": "https://stackoverflow.com/questions/42682036/how-to-encapsulate-common-request-handling-in-different-routes-in-same-controlle/42682115#42682115", "title": "How to encapsulate common request handling in different routes in same controller", "body": "<p>If you want to execute some code prior to executing every action in your controller then you can override the OnActionExecuting method in your controller or in your base controller (if you have any)</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.web.mvc.controller.onactionexecuting(v=vs.118).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.web.mvc.controller.onactionexecuting(v=vs.118).aspx</a></p>\n"}], "owner": {"reputation": 17471, "user_id": 125440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/39fa4254c0f6a51304072805361d6991?s=128&d=identicon&r=PG", "display_name": "n179911", "link": "https://stackoverflow.com/users/125440/n179911"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 42682115, "answer_count": 1, "score": 0, "last_activity_date": 1489014554, "creation_date": 1489007662, "last_edit_date": 1489014554, "question_id": 42682036, "link": "https://stackoverflow.com/questions/42682036/how-to-encapsulate-common-request-handling-in-different-routes-in-same-controlle", "title": "How to encapsulate common request handling in different routes in same controller", "body": "<p>In my C# MVC controller, I need to setup some object which the process of the request is required. If that object fails to setup, I need to redirect user to different link.</p>\n\n<p>My question is I need to do that in every route of my controller, how can I do that without copy and paste code?</p>\n\n<pre><code>public async Task&lt;ActionResult&gt; Route1()\n{\n    var setupObject = InitSetup();\n    if (setupObject == null)\n         return Redirect();\n\n    if (some check fail)\n         return Redirect();\n\n    //process Route1 request which needs setupObject  not null;\n    return Ok();\n}\n\npublic async Task&lt;ActionResult&gt; Route2()\n{\n    var setupObject = InitSetup();\n    if (setupObject == null)\n         return Redirect();\n\n    if (some check fail)\n         return Redirect();\n\n    //process Route2 request which needs setupObject  not null;\n    return Ok();\n}\n</code></pre>\n\n<p>I would like to know how i can not copy and paste this</p>\n\n<pre><code>    var setupObject = InitSetup();\n    if (setupObject == null)\n         return Redirect();\n\n    if (some check fail)\n         return Redirect(); \n</code></pre>\n"}, {"tags": ["c#", "logging", "system.diagnostics", "tracesource"], "comments": [{"owner": {"reputation": 2663, "user_id": 797223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VKSSD.jpg?s=128&g=1", "display_name": "Bent Tranberg", "link": "https://stackoverflow.com/users/797223/bent-tranberg"}, "edited": false, "score": 0, "creation_date": 1489008636, "post_id": 42681972, "comment_id": 72488666, "body": "If you just want it boiled down to the basics, then I suggest this link: <a href=\"http://blog.stephencleary.com/2010/12/simple-and-easy-tracing-in-net.html\" rel=\"nofollow noreferrer\">blog.stephencleary.com/2010/12/&hellip;</a>"}, {"owner": {"reputation": 1780, "user_id": 639762, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0ee4e4abfda3a247e263b626369d2bfa?s=128&d=identicon&r=PG&f=1", "display_name": "snappymcsnap", "link": "https://stackoverflow.com/users/639762/snappymcsnap"}, "reply_to_user": {"reputation": 2663, "user_id": 797223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VKSSD.jpg?s=128&g=1", "display_name": "Bent Tranberg", "link": "https://stackoverflow.com/users/797223/bent-tranberg"}, "edited": false, "score": 0, "creation_date": 1489010815, "post_id": 42681972, "comment_id": 72489753, "body": "@BentTranberg - good one, thank you for that. Looks like you would do it per-class for the most part, maybe per-module if you want to be able to turn on/off larger swaths of logging"}], "answers": [{"tags": [], "owner": {"reputation": 5432, "user_id": 38461, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bc8e60055e32c6d286305c581b28f1ee?s=128&d=identicon&r=PG", "display_name": "BozoJoe", "link": "https://stackoverflow.com/users/38461/bozojoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1539750728, "creation_date": 1539750728, "answer_id": 52847328, "question_id": 42681972, "link": "https://stackoverflow.com/questions/42681972/what-is-the-correct-usage-of-tracesource-across-a-solution/52847328#52847328", "title": "What is the correct usage of TraceSource across a solution?", "body": "<p>just use</p>\n\n<pre><code>class DracBlahBlah\n{\n  private static readonly TraceSource = new TraceSource(\"deathtoexecutives\", SourceLevel.Error);\n}\n</code></pre>\n\n<p>and in the other classes</p>\n\n<pre><code>class werewolf\n{\n  private static readonly TraceSource = new TraceSource(\"deathtoexecutives\", SourceLevel.Error);\n}\n</code></pre>\n\n<p>then assign the listeners using config</p>\n\n<pre><code>&lt;system.diagnostics&gt;\n  &lt;sharedListeners&gt;\n    &lt;add name=\"p0rn\" type=\"p0rn.Tracelistener, super.bad.crazytown\" /&gt;\n  &lt;/sharedListeners&gt;\n\n  &lt;sources&gt;\n    &lt;source name=\"deathtoexecutives\" switchValue=\"Verbose\"&gt;\n      &lt;listeners&gt;\n        &lt;add name=\"p0rn\" /&gt;\n      &lt;/listeners&gt;\n    &lt;/source&gt;\n</code></pre>\n"}], "owner": {"reputation": 1780, "user_id": 639762, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0ee4e4abfda3a247e263b626369d2bfa?s=128&d=identicon&r=PG&f=1", "display_name": "snappymcsnap", "link": "https://stackoverflow.com/users/639762/snappymcsnap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539750728, "creation_date": 1489007385, "question_id": 42681972, "link": "https://stackoverflow.com/questions/42681972/what-is-the-correct-usage-of-tracesource-across-a-solution", "title": "What is the correct usage of TraceSource across a solution?", "body": "<p>I've not worked with the System.Diagnostics.TraceSource package before so I want to make sure I implement it correctly. In the past I've used NLog (before that log4net) where you configure the settings in a config file (or programmatically) and in each class you declare this:</p>\n\n<pre><code>private static Logger Logger = LogManager.GetCurrentClassLogger();\n</code></pre>\n\n<p>then statements like this as required:</p>\n\n<pre><code>Logger.Error(\"some message\", exc);\n</code></pre>\n\n<p>But with TraceSource you create a new TraceSource, set its properties and assign your listener(s) and then write your messages to it.</p>\n\n<p>Do I create a TraceSource instance for every class like NLog? Or do I have one per application that all classes use? And if the former, it seems like at least I should centralize the creation of the TraceSource into a factory or something so the code is simplified and I'm not having to setup the settings, listeners etc every time I need use it. What's the proper usage here?</p>\n\n<p>Note: due to the nature of how this code will be deployed, I cannot have a config file, I have to do it all programmatically. </p>\n"}, {"tags": ["c#", ".net", "asp.net-mvc", "nhibernate"], "answers": [{"tags": [], "owner": {"reputation": 397, "user_id": 3613462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2510a2175a29e9e73a16575db8f2da35?s=128&d=identicon&r=PG", "display_name": "fredyfx", "link": "https://stackoverflow.com/users/3613462/fredyfx"}, "is_accepted": true, "score": 0, "last_activity_date": 1489538825, "creation_date": 1489538825, "answer_id": 42799242, "question_id": 42681842, "link": "https://stackoverflow.com/questions/42681842/exception-from-hresult-0x80131040-with-nhibernate-antlr-and-antlr3/42799242#42799242", "title": "Exception from HRESULT: 0x80131040 with NHibernate, Antlr and Antlr3", "body": "<p>Ok! I did it! Try to edit the project file (.csproj):</p>\n\n<pre><code> &lt;Reference Include=\"Antlr3.Runtime, Version=3.4.1.9004, Culture=neutral, PublicKeyToken=eb42632606e9261f, processorArchitecture=MSIL\"&gt;\n      &lt;HintPath&gt;..\\packages\\Antlr.3.4.1.9004\\lib\\Antlr3.Runtime.dll&lt;/HintPath&gt;\n      &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n</code></pre>\n\n<p>Before the installation of WebGrease and optimization, It was like this:</p>\n\n<pre><code> &lt;Reference Include=\"Antlr3.Runtime\"&gt;\n      &lt;HintPath&gt;..\\Dependencies\\Antlr.3.1.1\\lib\\Antlr3.Runtime.dll&lt;/HintPath&gt;\n &lt;/Reference&gt;\n</code></pre>\n\n<p>So, I traveled to the past. I was modifyng the file <strong>.csproj</strong> and I \"restore it\". Editing just that library without specify a version, culture, PublicKeyToken and processorArchitecture.</p>\n\n<p>WebGrease and all the optimizations are up and running without any issues.</p>\n"}, {"tags": [], "owner": {"reputation": 1601, "user_id": 4238587, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-LfbyZEeD3ks/AAAAAAAAAAI/AAAAAAAAAPs/z_hYUWH-MPk/photo.jpg?sz=128", "display_name": "Joseph Katzman", "link": "https://stackoverflow.com/users/4238587/joseph-katzman"}, "is_accepted": false, "score": 1, "last_activity_date": 1517470609, "creation_date": 1517470609, "answer_id": 48557569, "question_id": 42681842, "link": "https://stackoverflow.com/questions/42681842/exception-from-hresult-0x80131040-with-nhibernate-antlr-and-antlr3/48557569#48557569", "title": "Exception from HRESULT: 0x80131040 with NHibernate, Antlr and Antlr3", "body": "<p>I got the same error. I know that the right answer has been already exist, but maybe it will help someone. This error occurred when I installed <code>NHibernate</code> and then installed <code>FluentNHibernate</code>. I got <code>NHibernate 5.0.0</code> for the first and <code>NHibernate 4.0.0.4000</code> for the second. The solution is to firstly delete <code>FluentNHibernate</code> and <code>NHibernate</code> and reinstall only the <code>FluentNHibernate</code> via <code>NuGet</code>. I'm not sure should <code>Antlr3.Runtime</code> be deleted, but I deleted it manually. </p>\n\n<p>Also I deleted <code>dependentAssembly</code> from the <code>web.config</code> because I had a layered application. </p>\n\n<pre><code>    &lt;dependentAssembly&gt;\n        &lt;assemblyIdentity name=\"NHibernate\" publicKeyToken=\"aa95f207798dfdb4\" culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"0.0.0.0-5.0.0.0\" newVersion=\"5.0.0.0\" /&gt;\n    &lt;/dependentAssembly&gt; \n</code></pre>\n\n<p>After that all worked fine. </p>\n"}], "owner": {"reputation": 397, "user_id": 3613462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2510a2175a29e9e73a16575db8f2da35?s=128&d=identicon&r=PG", "display_name": "fredyfx", "link": "https://stackoverflow.com/users/3613462/fredyfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 714, "favorite_count": 0, "accepted_answer_id": 42799242, "answer_count": 2, "score": 1, "last_activity_date": 1517470609, "creation_date": 1489006845, "last_edit_date": 1489411695, "question_id": 42681842, "link": "https://stackoverflow.com/questions/42681842/exception-from-hresult-0x80131040-with-nhibernate-antlr-and-antlr3", "title": "Exception from HRESULT: 0x80131040 with NHibernate, Antlr and Antlr3", "body": "<ol>\n<li><p>I have NHibernate 2.1.2.4000 which requires Antlr 3.1.1 </p></li>\n<li><p>I increase the web application performance by minification bundling using  WebGrase which needs Antlr (>= 3.4.1.9004) The performance increased in 38.8% approx. Who wants to learn about it, check these links: <a href=\"https://docs.microsoft.com/en-us/aspnet/mvc/overview/performance/bundling-and-minification\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/mvc/overview/performance/bundling-and-minification</a> y <a href=\"https://docs.microsoft.com/en-us/aspnet/core/client-side/bundling-and-minification\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/client-side/bundling-and-minification</a> </p></li>\n<li><p>I have both ANtlr Dlls.</p></li>\n<li><p>When I go to a controller that uses NHibernate, I get an exception:</p></li>\n</ol>\n\n<blockquote>\n  <p>An exception of type 'System.IO.FileLoadException' occurred in\n  NHibernate.dll but was not handled in user code</p>\n  \n  <p>Additional information: Could not load file or assembly\n  'Antlr3.Runtime, Version=3.1.0.39271, Culture=neutral,\n  PublicKeyToken=3a9cab8f8d22bfb7' or one of its dependencies. The\n  located assembly's manifest definition does not match the assembly\n  reference. (Exception from HRESULT: 0x80131040)</p>\n</blockquote>\n\n<p>This error showed up because it is referencing the new library of ANTLR and what I need is travel in the time and use the old library.</p>\n\n<ol start=\"5\">\n<li>I tried: binding redirects inside <code>web.config</code> without success until now.</li>\n</ol>\n\n<p>Information:</p>\n\n<pre><code> &lt;Reference Include=\"antlr.runtime, Version=2.7.7.3, Culture=neutral, PublicKeyToken=d7701e059243744f\"&gt;\n      &lt;SpecificVersion&gt;False&lt;/SpecificVersion&gt;\n      &lt;HintPath&gt;..\\Dependencies\\Antlr.3.1.1\\lib\\antlr.runtime.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Antlr3.Runtime, Version=3.4.1.9004, Culture=neutral, PublicKeyToken=eb42632606e9261f, processorArchitecture=MSIL\"&gt;\n      &lt;HintPath&gt;..\\packages\\Antlr.3.4.1.9004\\lib\\Antlr3.Runtime.dll&lt;/HintPath&gt;\n      &lt;Private&gt;True&lt;/Private&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Antlr3.Utility, Version=0.1.0.39272, Culture=neutral, PublicKeyToken=3a9cab8f8d22bfb7, processorArchitecture=MSIL\"&gt;\n      &lt;SpecificVersion&gt;False&lt;/SpecificVersion&gt;\n      &lt;HintPath&gt;..\\Dependencies\\Antlr.3.1.1\\lib\\Antlr3.Utility.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"NHibernate, Version=2.1.2.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4, processorArchitecture=MSIL\"&gt;\n      &lt;SpecificVersion&gt;False&lt;/SpecificVersion&gt;\n      &lt;HintPath&gt;..\\Dependencies\\NHibernate.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n</code></pre>\n\n<p>Some bindings I was trying:</p>\n\n<p>By using NHibernate token</p>\n\n<pre><code> &lt;dependentAssembly&gt;        \n        &lt;assemblyIdentity name=\"antlr.runtime\" publicKeyToken=\"aa95f207798dfdb4\" Culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"3.1.0.39271\" newVersion=\"3.4.1.9004\" /&gt;\n&lt;/dependentAssembly&gt;\n\n&lt;dependentAssembly&gt;        \n        &lt;assemblyIdentity name=\"NHibernate\" publicKeyToken=\"aa95f207798dfdb4\" Culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"3.1.0.39271\" newVersion=\"3.4.1.9004\" /&gt;\n&lt;/dependentAssembly&gt;\n</code></pre>\n\n<p>By using Antlr token (and traveling in the time)</p>\n\n<pre><code>&lt;dependentAssembly&gt;        \n        &lt;assemblyIdentity name=\"NHibernate\" publicKeyToken=\"d7701e059243744f\" Culture=\"neutral\" /&gt;\n        &lt;bindingRedirect oldVersion=\"3.4.1.9004\" newVersion=\"3.1.1.0\" /&gt;\n&lt;/dependentAssembly&gt;\n</code></pre>\n\n<p>I will continue looking for a solution.</p>\n"}, {"tags": ["c#", "sql", ".net", "linq"], "comments": [{"owner": {"reputation": 119, "user_id": 7446550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94689f003d5b2eab786420ea4edac4f0?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb W.", "link": "https://stackoverflow.com/users/7446550/caleb-w"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489007602, "post_id": 42681816, "comment_id": 72488113, "body": "Hi, so the context is actually using a custom &#39;Flavor&#39; I guess, created by corporate at my job...not sure how much info I can even give you on that."}, {"owner": {"reputation": 119, "user_id": 7446550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94689f003d5b2eab786420ea4edac4f0?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb W.", "link": "https://stackoverflow.com/users/7446550/caleb-w"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489007770, "post_id": 42681816, "comment_id": 72488199, "body": "oh, LINQ to entities and the &#39;select new CompletedTruck&#39; should be &#39;select  new CompJob&#39;, just to prevent confusion, I missed that in editing"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489009060, "post_id": 42681816, "comment_id": 72488879, "body": "<i>I DO have an object to hold each of these called CompJob</i> So why the grouping? Create <code>CompJob</code>s right away: <code>select new CompJob { JobNum = FA.JobNum, ... }</code> etc."}, {"owner": {"reputation": 119, "user_id": 7446550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94689f003d5b2eab786420ea4edac4f0?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb W.", "link": "https://stackoverflow.com/users/7446550/caleb-w"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489009606, "post_id": 42681816, "comment_id": 72489165, "body": "So I did that, and it works. But isn&#39;t my query going to return multiple rows? Will doing this actually return many CompJob objects, which I can then put into my ObservableCollection&lt;CompJob&gt;? Thanks so much for your help so far!"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489009995, "post_id": 42681816, "comment_id": 72489366, "body": "That&#39;s the problem with joins vs. using navigation properties as recommended. I can&#39;t see the multiplicity of the relations. I think you should <i>at least</i> change the joins to <code>TruckComp</code> and <code>INSP</code> to navigation properties and use these in a <code>where</code> statement."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1489011335, "post_id": 42681816, "comment_id": 72489978, "body": "grp is a List&lt;&gt; object so StartDate = grp.Select(x =&gt; x.StartDate).Min()"}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 7446550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94689f003d5b2eab786420ea4edac4f0?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb W.", "link": "https://stackoverflow.com/users/7446550/caleb-w"}, "is_accepted": true, "score": 0, "last_activity_date": 1489067658, "creation_date": 1489067658, "answer_id": 42697211, "question_id": 42681816, "link": "https://stackoverflow.com/questions/42681816/selecting-a-new-object-without-grouping-in-linq/42697211#42697211", "title": "Selecting a new object without grouping in linq?", "body": "<p>Thanks to everyone for helping me out. I solved the issue and this is what I did. I followed Gert Arnold's suggestion of selecting a new CompJob object. This would set each row of the query to a new object:</p>\n\n<pre><code>select new CompJob {JobNum = FA.JobNum, StartDate = FA.StartDate, Customer = ORD.CUSTOMER_NAME,.....}\n</code></pre>\n\n<p>and then said</p>\n\n<pre><code>).ToList();\n</code></pre>\n\n<p>At the end of  the query. Then I set my ObservableCollection to the list returned by my query:</p>\n\n<pre><code>CompJobList = CompletedTrucksQuery ;\n</code></pre>\n\n<p>Thanks again for helping me out; I know I'm new to all of this!</p>\n"}], "owner": {"reputation": 119, "user_id": 7446550, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/94689f003d5b2eab786420ea4edac4f0?s=128&d=identicon&r=PG&f=1", "display_name": "Caleb W.", "link": "https://stackoverflow.com/users/7446550/caleb-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 42697211, "answer_count": 1, "score": 1, "last_activity_date": 1489067658, "creation_date": 1489006716, "last_edit_date": 1489007696, "question_id": 42681816, "link": "https://stackoverflow.com/questions/42681816/selecting-a-new-object-without-grouping-in-linq", "title": "Selecting a new object without grouping in linq?", "body": "<p>I am trying to write a query to collect the Job number, start date, customer name, Model, and completion date for jobs at my work. To get this info, I look at 3 different tables, using joins to put them together. Here are the three tables:</p>\n\n<p>STAGE - (stages each job goes through during production)</p>\n\n<p>ORDER - (this is where I get the customer's name)</p>\n\n<p>JOBS (start date, completion date, job number, model)</p>\n\n<p>So most of the info is from the JOBS table. But I'm joining onto the ORDER table by Job Number (JobNum) to obtain the customer's name. Here's what the query looks like. I created it in SQL before I tried to translate it into one of my ViewModels:</p>\n\n<pre><code>var CompletedTrucksQuery = \n  (from FA in context.JOBS\n    join ORD        in context.ORDER    on FA.ORGANIZATION_ID   equals ORD.ORGANIZATION_ID\n    where FA.ORDER_NUMBER   == ORD.ORDER_NUMBER\n    join StageF     in context.STAGE on FA.JobNum      equals StageF.JobNum\n    where StageF.StageID   == 325\n    join TruckComp  in context.STAGE on FA.JobNum      equals TruckComp.JobNum\n    where TruckComp.StageID == 327\n    join INSP       in context.STAGE on FA.JobNum      equals INSP.JobNum\n    where INSP.StageID       == 487\n    orderby StageF.CompDate descending, FA.JobNum ascending\n    select new {FA.JobNum, FA.StartDate, ORD.CUSTOMER_NAME, FA.MODEL_NAME, StageF.CompDate});\n</code></pre>\n\n<p>At this point, I'm wanting to select the</p>\n\n<p>Job number (from JOBS), </p>\n\n<p>the start date, (From JOBS), </p>\n\n<p>the Customer's name (from ORDER), </p>\n\n<p>the Model of product (from JOBS), </p>\n\n<p>and the date it was completed in StageF (from STAGE)</p>\n\n<p>as you can see in my select statement. I DO have an object to hold each of these called CompJob, and have tried to do a 'group by' and select a new CompJob and set the properties, but I can't seem to group it right and get 'access' to all of the properties I want to set. Here's an excerpt of what I'm talking about:</p>\n\n<pre><code> group new {FA.JobNum, O = ORD} by StageF into grp\n                                        select new CompletedTruck\n                                        {\n                                            JobNum = grp.Key.JobNum,\n                                            StartDate = grp. //???\n                                        }\n</code></pre>\n\n<p>As you can tell I stopped, because for some reason I couldn't 'find' the start date. I know it's something to do with my grouping. I'm very new to linq and databases, in general.</p>\n\n<p><strong>MY QUESTION:</strong> What's the best way I can select these columns of interest into my</p>\n\n<pre><code>ObservableCollection&lt;CompJob&gt; CompJobList;\n</code></pre>\n\n<p>so that I may use it in my scrollviewer in a view?</p>\n"}, {"tags": ["c#", ".net", "multithreading", "dll", "comexception"], "comments": [{"owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489006954, "post_id": 42681802, "comment_id": 72487775, "body": "Which thread creates the COM object?"}, {"owner": {"reputation": 469, "user_id": 2263251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d32de306f9d84eaafd6d89dc07a32d5?s=128&d=identicon&r=PG", "display_name": "Srki Rakic", "link": "https://stackoverflow.com/users/2263251/srki-rakic"}, "reply_to_user": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489007114, "post_id": 42681802, "comment_id": 72487849, "body": "@MichaelGunter the thread that starts xPdfPrintThread. In other words xPDF object in example above is instantiated outside the thread that executes printPDF4()."}, {"owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489007671, "post_id": 42681802, "comment_id": 72488156, "body": "Try manually setting the apartment state in the main thread and/or the background thread."}, {"owner": {"reputation": 2663, "user_id": 797223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VKSSD.jpg?s=128&g=1", "display_name": "Bent Tranberg", "link": "https://stackoverflow.com/users/797223/bent-tranberg"}, "edited": false, "score": 0, "creation_date": 1489008061, "post_id": 42681802, "comment_id": 72488362, "body": "I wonder whether it&#39;s necessary to call CoInitialize/CoInitializeEx explicitly when it&#39;s a .NET service. Don&#39;t think so, but perhaps worth investigating."}, {"owner": {"reputation": 469, "user_id": 2263251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d32de306f9d84eaafd6d89dc07a32d5?s=128&d=identicon&r=PG", "display_name": "Srki Rakic", "link": "https://stackoverflow.com/users/2263251/srki-rakic"}, "reply_to_user": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489008956, "post_id": 42681802, "comment_id": 72488838, "body": "@MichaelGunter manually setting the apartment state results in System.AccessViolationException."}, {"owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489009028, "post_id": 42681802, "comment_id": 72488862, "body": "Inside which method does that exception occur?"}, {"owner": {"reputation": 469, "user_id": 2263251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d32de306f9d84eaafd6d89dc07a32d5?s=128&d=identicon&r=PG", "display_name": "Srki Rakic", "link": "https://stackoverflow.com/users/2263251/srki-rakic"}, "reply_to_user": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489010260, "post_id": 42681802, "comment_id": 72489507, "body": "@MichaelGunter Sorry I didn&#39;t mention that. It&#39;s failing at the same method call. xPDF.printPDF4();. Also, instantiating the COM object within the thread  instead of outside the thread resolves the issue."}, {"owner": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489010341, "post_id": 42681802, "comment_id": 72489538, "body": "Sounds like a marshaling issue. I have been googling to find anything that may be different between the two versions of .NET and haven&#39;t found anything. :("}, {"owner": {"reputation": 469, "user_id": 2263251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d32de306f9d84eaafd6d89dc07a32d5?s=128&d=identicon&r=PG", "display_name": "Srki Rakic", "link": "https://stackoverflow.com/users/2263251/srki-rakic"}, "reply_to_user": {"reputation": 11788, "user_id": 2360169, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/x8M06.jpg?s=128&g=1", "display_name": "Michael Gunter", "link": "https://stackoverflow.com/users/2360169/michael-gunter"}, "edited": false, "score": 0, "creation_date": 1489030684, "post_id": 42681802, "comment_id": 72496010, "body": "@MichaelGunter I couldn&#39;t find anything either."}], "owner": {"reputation": 469, "user_id": 2263251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d32de306f9d84eaafd6d89dc07a32d5?s=128&d=identicon&r=PG", "display_name": "Srki Rakic", "link": "https://stackoverflow.com/users/2263251/srki-rakic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1492721244, "creation_date": 1489006664, "last_edit_date": 1492721244, "question_id": 42681802, "link": "https://stackoverflow.com/questions/42681802/comexception-thrown-when-executing-dll-method-from-separate-thread-in-net-4-5-2", "title": "COMException thrown when executing DLL method from separate thread in .NET 4.5.2", "body": "<p>I have a .NET service that references <code>XpdfPrint.dll</code> that is used for printing. The print method of XpdfPrint library is executed in separate thread that looks like this: </p>\n\n<pre><code>Thread xPdfPrintThread = new Thread(() =&gt; \n{\n    try\n    {\n        xPDF.printPDF4();\n    }\n    catch (COMException e)\n    {\n        // check for the specific errorcode and log an error\n    }\n });\n</code></pre>\n\n<p>This worked good and well until I changed target framework from .NET 3.5 to .NET 4.5.2. Now, the call to <code>printPDF4()</code> is failing with:</p>\n\n<pre><code>Exception: Error HRESULT E_FAIL has returned from a call to a COM component.\n</code></pre>\n\n<p>If I take the call out of the thread and execute it, it completes fine. Any idea on why upgrading .NET to 4.5.2 would break this?</p>\n\n<p>Update:\nInstantiating the COM object within the thread instead of outside the thread resolves the issue. I still have no clue why this behaves differently in .NET 4.5.2.</p>\n"}, {"tags": ["c#", "debugging", "visual-studio-2012", "infopath", "vsta"], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 2904859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mKbzR.png?s=128&g=1", "display_name": "Mjaustro", "link": "https://stackoverflow.com/users/2904859/mjaustro"}, "edited": false, "score": 0, "creation_date": 1610361058, "post_id": 43108144, "comment_id": 116098904, "body": "It worked. I had to remove the 2017 version and then repair the 2012 one. I agree that it doesn&#39;t seem like the best solution, but it works."}], "tags": [], "owner": {"reputation": 812, "user_id": 1323131, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/7asw7.jpg?s=128&g=1", "display_name": "Shinigamae", "link": "https://stackoverflow.com/users/1323131/shinigamae"}, "is_accepted": true, "score": 1, "last_activity_date": 1490845407, "creation_date": 1490845407, "answer_id": 43108144, "question_id": 42681770, "link": "https://stackoverflow.com/questions/42681770/infopath-2013-development-with-error-cannot-start-debugging-pre-debugging-nego/43108144#43108144", "title": "InfoPath 2013 development with error &quot;Cannot start debugging. Pre-debugging negotiations with Host failed.&quot;", "body": "<p>Apparently the only option is remove Visual Studio Tools for Application 2015 or later then reinstall/repair Visual Studio Tools for Application 2012. If you have to use VSTA 2015 for your SSIS or something else, you may need a separate machine.</p>\n\n<p>I have reached MS but there is no response. I don't think this should be an answer for this issue but I would leave it here in case anyone needs help.</p>\n"}], "owner": {"reputation": 812, "user_id": 1323131, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/7asw7.jpg?s=128&g=1", "display_name": "Shinigamae", "link": "https://stackoverflow.com/users/1323131/shinigamae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 1, "accepted_answer_id": 43108144, "answer_count": 1, "score": 1, "last_activity_date": 1490845407, "creation_date": 1489006550, "last_edit_date": 1489094690, "question_id": 42681770, "link": "https://stackoverflow.com/questions/42681770/infopath-2013-development-with-error-cannot-start-debugging-pre-debugging-nego", "title": "InfoPath 2013 development with error &quot;Cannot start debugging. Pre-debugging negotiations with Host failed.&quot;", "body": "<p>I am using Visual Studio 2012 (exclusively for InfoPath development, nothing else because of Microsoft) and Visual Studio 2013 for other development including SSRS, SSIS. I made a move to 2015 last week and that is where troubles came.</p>\n\n<p>After installing VS2015 with SSTD update, I cannot debug or work on InfoPath form code any more. Everytime I try to debug or save the form with code, I get:</p>\n\n<pre><code>Cannot start debugging. Pre-debugging negotiations with Host failed.\n</code></pre>\n\n<p>I know this error is popular with SSIS rather than VSTA, <strong>I couldn't find any post relate to this issue in VSTA in general and InfoPath in specific</strong>. I have tried a lot of suggestion for the SSIS one when possible but nothing works.</p>\n\n<p>I still need to do work on InfoPath 2013 form code (legacy project) and also have to use 2015, or 2017 for other projects. Any suggestion is appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HjHH8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HjHH8.png\" alt=\"Screenshot\"></a></p>\n\n<p><strong>Update:</strong></p>\n\n<ul>\n<li><p>Uninstall VS2012 and reinstall it doesn't help. Same with VSTA uninstalled and reinstalled. VS2015 is a big effort to uninstall so I leave it alone.</p></li>\n<li><p>Reinstalled Windows 10, InfoPath 2013, Visual Studio 2012 Update 5, VSTA 2012 then Visual Studio 2017 in exact order. Same issue.</p></li>\n</ul>\n"}, {"tags": ["c#", "unit-testing", "mocking"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 7638263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e26e9128b3551d335579feb99ee0bdc?s=128&d=identicon&r=PG&f=1", "display_name": "djm181", "link": "https://stackoverflow.com/users/7638263/djm181"}, "is_accepted": false, "score": 0, "last_activity_date": 1489007338, "creation_date": 1489007338, "answer_id": 42681955, "question_id": 42681710, "link": "https://stackoverflow.com/questions/42681710/mocking-httprequest-form-for-unit-tests/42681955#42681955", "title": "Mocking HttpRequest.Form for unit tests", "body": "<p>I'm always of the mind that for unit tests it is ok to bypass some of the protections imposed by object visibility.</p>\n\n<p>So with that in mind, HttpRequest's \"Form\" property is of type NameValueCollection, which has a protected IsReadOnly property. Reflection will help you out here:</p>\n\n<pre><code>var pi = typeof(NameObjectCollectionBase).GetProperty(\"IsReadOnly\", System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance);\npi.SetValue(request.Form, false);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1026, "user_id": 433249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342def82994d16e73b05b35e9cb332ed?s=128&d=identicon&r=PG", "display_name": "Gedas Kutka", "link": "https://stackoverflow.com/users/433249/gedas-kutka"}, "edited": false, "score": 0, "creation_date": 1555356165, "post_id": 42681958, "comment_id": 98074345, "body": "It&#39;s not a unit test - it&#39;s just part of setting up data for a UT.  You can tell by the fact that I&#39;m not verifying anything in that snippet."}], "tags": [], "owner": {"reputation": 861, "user_id": 329143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ca6e7cf7001e169d9abb8c87be59cf?s=128&d=identicon&r=PG", "display_name": "LeonG", "link": "https://stackoverflow.com/users/329143/leong"}, "is_accepted": false, "score": 0, "last_activity_date": 1489007345, "creation_date": 1489007345, "answer_id": 42681958, "question_id": 42681710, "link": "https://stackoverflow.com/questions/42681710/mocking-httprequest-form-for-unit-tests/42681958#42681958", "title": "Mocking HttpRequest.Form for unit tests", "body": "<p>This does not seem to be a good unit test, because you are basically trying to test ASP.net. And ASP.net doesn't have much classes you can mock since there are no interfaces.</p>\n\n<p>I guess there is a method beneath this that you want to test, which accepts the contents of the form. I suggest you try to test that.</p>\n"}, {"comments": [{"owner": {"reputation": 329, "user_id": 1180076, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iYZz2.jpg?s=128&g=1", "display_name": "Daryl", "link": "https://stackoverflow.com/users/1180076/daryl"}, "edited": false, "score": 0, "creation_date": 1554901613, "post_id": 42683858, "comment_id": 97920585, "body": "I was searching this answer for like 3 days.Thank you for taking your precious time to do the good to world.I really appreciate your work @Gedas Kutka"}], "tags": [], "owner": {"reputation": 1026, "user_id": 433249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/342def82994d16e73b05b35e9cb332ed?s=128&d=identicon&r=PG", "display_name": "Gedas Kutka", "link": "https://stackoverflow.com/users/433249/gedas-kutka"}, "is_accepted": true, "score": 7, "last_activity_date": 1489015504, "creation_date": 1489015504, "answer_id": 42683858, "question_id": 42681710, "link": "https://stackoverflow.com/questions/42681710/mocking-httprequest-form-for-unit-tests/42683858#42683858", "title": "Mocking HttpRequest.Form for unit tests", "body": "<p>This snippet enables writing to Form collection and then disables it again.  Tested on ASP.NET 3.5.</p>\n\n<pre><code>var request = new HttpRequest(\"\", url, \"\");\nvar formType = request.Form.GetType();\nformType.GetMethod(\"MakeReadWrite\", System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance).Invoke(request.Form, null);\n\nrequest.Form[\"__EVENTTARGET\"] = eventTarget;\n\nformType.GetMethod(\"MakeReadOnly\", System.Reflection.BindingFlags.NonPublic | System.Reflection.BindingFlags.Instance).Invoke(request.Form, null);\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7680648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eae810829ebe1ba50b89fd914b8e55f?s=128&d=identicon&r=PG&f=1", "display_name": "Brett", "link": "https://stackoverflow.com/users/7680648/brett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1265, "favorite_count": 0, "accepted_answer_id": 42683858, "answer_count": 3, "score": 4, "last_activity_date": 1489015504, "creation_date": 1489006353, "question_id": 42681710, "link": "https://stackoverflow.com/questions/42681710/mocking-httprequest-form-for-unit-tests", "title": "Mocking HttpRequest.Form for unit tests", "body": "<p>In ASP.NET, I'm trying to mock up a unit test using the HttpRequest object. The Form collection of the object is indicating the collection is readonly. Is there a way to implement this behavior for my unit tests without having to provide my own httprequest implemenation? The following snippet fails with request.Form being readonly. Tx.</p>\n\n<pre><code>var request = new HttpRequest(\"\", \"http://localhost\" + url, \"\");\nrequest.Form[\"__EVENTTARGET\"] = eventTarget;\nAutorefreshSessionHelper.IsRequestForAutoRefresh(request);\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "hyperlink", "popup"], "comments": [{"owner": {"reputation": 1135, "user_id": 5708847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af01b6f72c50ddff14e8e2b3e6a59993?s=128&d=identicon&r=PG&f=1", "display_name": "Ethilium", "link": "https://stackoverflow.com/users/5708847/ethilium"}, "edited": false, "score": 1, "creation_date": 1489005994, "post_id": 42681579, "comment_id": 72487259, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/778000/create-popup-with-asphyperlink-that-is-passing-parameters\">Create PopUp with &lt;asp:HyperLink&gt; that is passing parameters</a>"}, {"owner": {"reputation": 101, "user_id": 7308474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10154760288248563/picture?type=large", "display_name": "Ali Aky\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7308474/ali-aky%c4%b1ld%c4%b1r%c4%b1m"}, "reply_to_user": {"reputation": 1135, "user_id": 5708847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af01b6f72c50ddff14e8e2b3e6a59993?s=128&d=identicon&r=PG&f=1", "display_name": "Ethilium", "link": "https://stackoverflow.com/users/5708847/ethilium"}, "edited": false, "score": 0, "creation_date": 1489007265, "post_id": 42681579, "comment_id": 72487937, "body": "Actually, I saw that link. However, when I tried that solution that made a fault like this; &quot;The server tag format is not appropriate.&quot; I used the codes like this; &lt;asp:HyperLink ID=&quot;hplToplamBegeni&quot; runat=&quot;server&quot; NavigateUrl=&quot;#&quot; onClick=&#39;&lt;%# &quot;window.open(&#39;../Yazar/PostLikes.aspx&quot; + &quot;?PostID=&quot; + Eval(&quot;PostID&quot;) + &quot;,&#39;name&#39;,&#39;height=550, width=790,toolbar=no, directories=no,status=no, menubar=no,scrollbars=yes,resizable=no&#39;); return false;%&gt;&#39; Target=&quot;_blank&quot; &gt;&lt;/asp:HyperLink&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4537289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-egrNXXGzvH8/AAAAAAAAAAI/AAAAAAAAH-4/QbxBRSzjgg0/photo.jpg?sz=128", "display_name": "Morten R&#248;ermose", "link": "https://stackoverflow.com/users/4537289/morten-r%c3%b8ermose"}, "is_accepted": false, "score": 0, "last_activity_date": 1489006124, "last_edit_date": 1495540435, "creation_date": 1489006124, "answer_id": 42681655, "question_id": 42681579, "link": "https://stackoverflow.com/questions/42681579/hyperlink-popup-with-parameter-in-asp-net/42681655#42681655", "title": "HyperLink popup with parameter in asp.net", "body": "<p>You can use a linkbutton instead and onclientclick to issue a javascript function.</p>\n\n<p>See this link for further detail. \n<a href=\"https://www.google.dk/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://stackoverflow.com/questions/10537291/how-to-call-javascript-from-asp-net-hyperlink-control&amp;ved=0ahUKEwjUw7XG48fSAhWDiiwKHbBsC0gQFggcMAE&amp;usg=AFQjCNG0uD1rMI05tUjjk7DVcn78yNZTrQ\" rel=\"nofollow noreferrer\">https://www.google.dk/url?sa=t&amp;source=web&amp;rct=j&amp;url=https://stackoverflow.com/questions/10537291/how-to-call-javascript-from-asp-net-hyperlink-control&amp;ved=0ahUKEwjUw7XG48fSAhWDiiwKHbBsC0gQFggcMAE&amp;usg=AFQjCNG0uD1rMI05tUjjk7DVcn78yNZTrQ</a></p>\n"}, {"tags": [], "owner": {"reputation": 1135, "user_id": 5708847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af01b6f72c50ddff14e8e2b3e6a59993?s=128&d=identicon&r=PG&f=1", "display_name": "Ethilium", "link": "https://stackoverflow.com/users/5708847/ethilium"}, "is_accepted": true, "score": 1, "last_activity_date": 1489008151, "creation_date": 1489008151, "answer_id": 42682150, "question_id": 42681579, "link": "https://stackoverflow.com/questions/42681579/hyperlink-popup-with-parameter-in-asp-net/42682150#42682150", "title": "HyperLink popup with parameter in asp.net", "body": "<p>This hyperlink that uses javascript should work for you.</p>\n\n<pre><code>&lt;asp:HyperLink runat=\"server\" ID=\"hplToplamBegeni\" Text=\"popup\"\nNavigateUrl='&lt;%# String.Format(\"../Yazar/PostLikes.aspx?PostID={0}\", Eval(\"PostID\"))%&gt;' \n      onclick=\"javascript:w= window.open(this.href,'PostID',\n     'left=20,top=20,width=1500,height=300,toolbar=0,resizable=0');return false;\"&gt;\n&lt;/asp:HyperLink&gt;\n</code></pre>\n\n<p>If there are further issues. Check the pathing that the url entered is correct and the PostID is correctly utilized.</p>\n"}], "owner": {"reputation": 101, "user_id": 7308474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10154760288248563/picture?type=large", "display_name": "Ali Aky\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/7308474/ali-aky%c4%b1ld%c4%b1r%c4%b1m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 754, "favorite_count": 0, "accepted_answer_id": 42682150, "answer_count": 2, "score": 1, "last_activity_date": 1489008151, "creation_date": 1489005838, "question_id": 42681579, "link": "https://stackoverflow.com/questions/42681579/hyperlink-popup-with-parameter-in-asp-net", "title": "HyperLink popup with parameter in asp.net", "body": "<p>When I click to a HyperLink, I want to open a popup with it. How can I do this?</p>\n\n<p>My <strong>HyperLink</strong> is such as:</p>\n\n<pre><code>&lt;asp:HyperLink ID=\"hplToplamBegeni\" runat=\"server\" NavigateUrl='&lt;%# \"../Yazar/PostLikes.aspx?PostID=\"+ Eval(\"PostID\") %&gt;'&gt;&lt;/asp:HyperLink&gt;\n</code></pre>\n"}, {"tags": ["c#", "xml", "winforms"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1489006327, "post_id": 42681533, "comment_id": 72487435, "body": "Not an answer but the <a href=\"https://msdn.microsoft.com/en-us/library/1af7xa52(v=vs.110).aspx\" rel=\"nofollow noreferrer\">docs for XmlTextReader say</a> say <i>&quot;Starting with the .NET Framework 2.0, we recommend that you create XmlReader instances by using the XmlReader.Create method to take advantage of new functionality.&quot;</i>"}, {"owner": {"reputation": 861, "user_id": 329143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ca6e7cf7001e169d9abb8c87be59cf?s=128&d=identicon&r=PG", "display_name": "LeonG", "link": "https://stackoverflow.com/users/329143/leong"}, "edited": false, "score": 0, "creation_date": 1489006877, "post_id": 42681533, "comment_id": 72487738, "body": "Looking at the code you don&#39;t seem to understand switch statements. All of these could have been done with simple if statement s."}, {"owner": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "edited": false, "score": 0, "creation_date": 1489008179, "post_id": 42681533, "comment_id": 72488429, "body": "You are correct about if statements. It may be useful to modify the code to use if statements in place of the switch statements. Also I am very new to programming and still learning. I have taught myself everything and I make mistakes, it&#39;s all part of learning. However we are going over Switch statements next week in class. Thank you for your input."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "edited": false, "score": 0, "creation_date": 1489007013, "post_id": 42681773, "comment_id": 72487805, "body": "Thanks for that. I will try you suggestion. I didn&#39;t even realize that it was checking all those conditions. Also, since I am new to SO, how do I accept an answer?"}, {"owner": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "edited": false, "score": 0, "creation_date": 1489009526, "post_id": 42681773, "comment_id": 72489112, "body": "I have converted from switch statements to if statements and I am getting the same results."}, {"owner": {"reputation": 482, "user_id": 6539248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0109487b2164643f0cb532686d6652f?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Abraham", "link": "https://stackoverflow.com/users/6539248/ben-abraham"}, "reply_to_user": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "edited": false, "score": 0, "creation_date": 1489010068, "post_id": 42681773, "comment_id": 72489405, "body": "Make sure you have the else statement exactly where I put it in my example. If you know how to use the debugger in visual studio, put a breakpoint in both else statements and see which one is executed. One thing to note, is that I added a new code path where your old MessageBox used to be with a different error message, so make sure that you are seeing the correct message (&quot;file nout found&quot; vs. &quot;unknown node type&quot;)"}, {"owner": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "edited": false, "score": 0, "creation_date": 1489016645, "post_id": 42681773, "comment_id": 72492159, "body": "Ok, your solution did help and I now see why you created the unknown node type message box. I am now receiving the message: &quot;Unknown node type Data.&quot; Obviously the first portion is the string &quot;Unknown node type&quot; and the second is the emailDocument.Name. So, looking through the XML file which I did not create I found &lt;Data&gt; &lt;/Data&gt; I am guessing it is using the &lt;Data&gt; as a node type and it is unknown."}, {"owner": {"reputation": 482, "user_id": 6539248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0109487b2164643f0cb532686d6652f?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Abraham", "link": "https://stackoverflow.com/users/6539248/ben-abraham"}, "reply_to_user": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "edited": false, "score": 0, "creation_date": 1489072310, "post_id": 42681773, "comment_id": 72519547, "body": "Can you send a copy of your XML file over? Just as an FYI, the way the XMLReader works, if you had a document like the following (<a href=\"http://pastebin.com/YVX38ezw\" rel=\"nofollow noreferrer\">pastebin.com/YVX38ezw</a>), the way XML Reader works, in the first run of the while(emailDocument.read()) loop, it would be looking at the A element, next loop would be B, and the next would be D, followed by C then E."}, {"owner": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "edited": false, "score": 0, "creation_date": 1489089893, "post_id": 42681773, "comment_id": 72530991, "body": "I just realized that my resolution was identical to yours. So I had to delete my answer(s) to assure you were given the correct credit for this. Thank you for your help. Also you are correct the code was just stopping after the first loop through the XML file. I did edit my code as suggested by you and it worked. So, thanks again."}], "tags": [], "owner": {"reputation": 482, "user_id": 6539248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0109487b2164643f0cb532686d6652f?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Abraham", "link": "https://stackoverflow.com/users/6539248/ben-abraham"}, "is_accepted": true, "score": 1, "last_activity_date": 1489006553, "creation_date": 1489006553, "answer_id": 42681773, "question_id": 42681533, "link": "https://stackoverflow.com/questions/42681533/accessing-xml-file-over-network/42681773#42681773", "title": "Accessing XML File Over Network", "body": "<p>If you are getting that error message, then your code is getting past the check for File.Exists and past the Reading of the document, but just hitting the else branch of the \"if (emailDocument.Name == \"DRPendingAddemail\")\" check.</p>\n\n<p>So your function should be something close to this</p>\n\n<pre><code>public Array AddEmail()\n{\n    string[] dRemail = { \"\", \"\", \"\" };\n    if (File.Exists(@\"\\\\fs01\\Applications\\EMS-Manager\\DREmailAddresses.xml\"))\n    {\n        XmlReader emailDocument = new XmlTextReader(@\"\\\\fs01\\Applications\\EMS-Manager\\DREmailAddresses.xml\");\n        while (emailDocument.Read())\n        {\n            var type = emailDocument.NodeType;\n            switch (type)\n            {\n                case XmlNodeType.Element:\n                    if (emailDocument.Name == \"DRCreatedAddEmail\")\n                    {\n                        dRemail[0] = emailDocument.ReadInnerXml();\n                    }\n                    else if (emailDocument.Name == \"DRActionNeededAddEmail\")\n                    {\n                        dRemail[1] = emailDocument.ReadInnerXml();\n                    }\n                    else if (emailDocument.Name == \"DRPendingAddEmail\")\n                    {\n                        dRemail[2] = emailDocument.ReadInnerXml();\n                    }\n                    else\n                    {\n                        MessageBox.Show(\"Unknown node type \" + emailDocument.Name);\n                    }\n                    break;\n            }\n        }\n    }\n    else\n    {\n         MessageBox.Show(@\"The file: 'DREmailAddresses.xml' was not found at: \\\\fs01\\Applications\\EMS-Manager\");\n    }\n    return dRemail;\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 6525696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hMzxL.jpg?s=128&g=1", "display_name": "TAdams79", "link": "https://stackoverflow.com/users/6525696/tadams79"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 42681773, "answer_count": 1, "score": 0, "last_activity_date": 1489089527, "creation_date": 1489005662, "question_id": 42681533, "link": "https://stackoverflow.com/questions/42681533/accessing-xml-file-over-network", "title": "Accessing XML File Over Network", "body": "<p>I have been working on this management application for weeks now and it's almost finished. What is supposed to happen when a user clicks the save button, a VerifyFields() method is called. After that it is supposed to ask the user if they want to save and send an email. Once the user clicks Yes it is supposed to send an email to the email addresses in an XML file. I am getting the error message \"The file:DREmailAddresses.xml was not found at:\\fs01\\Applications\\EMS-Manager.\" However, the file is there and is accessible. I've copied the relevant code below as well as an <a href=\"https://i.stack.imgur.com/SPijM.png\" rel=\"nofollow noreferrer\">image of the error.</a>.</p>\n\n<pre><code>// Begin Email Section\n    public bool VerifyFields()\n    {\n        var status = false;\n        switch (tbxDynPartNumber.Text)\n        {\n            case \"\":\n                MessageBox.Show(@\"Enter Dynalab Part#\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n        switch (tbxSupplier.Text)\n        {\n            case \"\":\n                MessageBox.Show(@\"Enter Supplier Name\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n        switch (tbxInitiatedBy.Text)\n        {\n            case \"\":\n                MessageBox.Show(@\"Enter Initiator Name\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n        switch (orderQty.Text)\n        {\n            case \"0\":\n                MessageBox.Show(@\"Order Quantity Must Be Greater Than 0!\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n\n        switch (dtpDate.Text)\n        {\n            case \"\":\n                MessageBox.Show(@\"Enter A Valid Date.\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n        switch (tbxDescription.Text)\n        {\n            case \"\":\n                MessageBox.Show(@\"Enter Description\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n\n        switch (tbxLocation.Text)\n        {\n            case \"\":\n                MessageBox.Show(@\"Enter Location\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n        switch (tbxDiscrepancyDescription.Text)\n        {\n            case \"\":\n                MessageBox.Show(@\"Enter Discrepancy Description\", @\"Input Needed\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                status = true;\n                break;\n        }\n        return status;\n    }\n\n    public void PrepareEmail(string subject, string message)\n    {\n        if (MessageBox.Show(@\"Are you sure you want to save and send Discrepancy Report: \" +tbxDRNumber.Text + @\"?\\n Click YES to save\\n Click NO to cancel\" , @\"Confirm\", MessageBoxButtons.YesNo, MessageBoxIcon.Question) == DialogResult.Yes)\n        {\n\n            SendEmail(subject,message);\n        }\n    }\n    public Array AddEmail()\n    {\n        string[] dRemail = { \"\", \"\", \"\" };\n        if (File.Exists(@\"\\\\fs01\\Applications\\EMS-Manager\\DREmailAddresses.xml\"))\n        {\n            XmlReader emailDocument = new XmlTextReader(@\"\\\\fs01\\Applications\\EMS-Manager\\DREmailAddresses.xml\");\n            while (emailDocument.Read())\n            {\n                var type = emailDocument.NodeType;\n                switch (type)\n                {\n                    case XmlNodeType.Element:\n                        if (emailDocument.Name == \"DRCreatedAddEmail\")\n                        {\n                            dRemail[0] = emailDocument.ReadInnerXml();\n                        }\n                        if (emailDocument.Name == \"DRActionNeededAddEmail\")\n                        {\n                            dRemail[1] = emailDocument.ReadInnerXml();\n                        }\n                        if (emailDocument.Name == \"DRPendingAddEmail\")\n                        {\n                            dRemail[2] = emailDocument.ReadInnerXml();\n                        }\n                        else\n                        {\n                            MessageBox.Show(\n                                @\"The file: 'DREmailAddresses.xml' was not found at: \\\\fs01\\Applications\\EMS-Manager\");\n                        }\n                        break;\n                }\n            }\n        }\n        return dRemail;\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "xaml", "checkbox", "data-binding"], "comments": [{"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1489005961, "post_id": 42681508, "comment_id": 72487236, "body": "I guess the MultipleColumnsSelectorVM class has a &quot;TreeFieldData&quot; property that returns the list of TreeFieldData objects that you see in the TreeView?"}, {"owner": {"reputation": 2852, "user_id": 992055, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fa6d6cc1a196d988381bb849004d06d?s=128&d=identicon&r=PG&f=1", "display_name": "Force444", "link": "https://stackoverflow.com/users/992055/force444"}, "reply_to_user": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1489006091, "post_id": 42681508, "comment_id": 72487304, "body": "@mm8 Sorry yes, I have included that now."}, {"owner": {"reputation": 2852, "user_id": 992055, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fa6d6cc1a196d988381bb849004d06d?s=128&d=identicon&r=PG&f=1", "display_name": "Force444", "link": "https://stackoverflow.com/users/992055/force444"}, "reply_to_user": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1489006346, "post_id": 42681508, "comment_id": 72487449, "body": "@mm8 FYI: The TreeFieldData property is populated by an Initialize method which I have not included."}], "answers": [{"comments": [{"owner": {"reputation": 2852, "user_id": 992055, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fa6d6cc1a196d988381bb849004d06d?s=128&d=identicon&r=PG&f=1", "display_name": "Force444", "link": "https://stackoverflow.com/users/992055/force444"}, "edited": false, "score": 0, "creation_date": 1489008172, "post_id": 42681743, "comment_id": 72488425, "body": "It works thanks, but only for &quot;outermost&quot; nodes. There is a list of Children as well for each TreeFieldData node so I have to recursively loop through that as well to make sure all fields have the PropertyChangedEvent attached. If that makes sense? I&#39;m working on this now, doing the recursion in the Initialize method."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 2852, "user_id": 992055, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fa6d6cc1a196d988381bb849004d06d?s=128&d=identicon&r=PG&f=1", "display_name": "Force444", "link": "https://stackoverflow.com/users/992055/force444"}, "edited": false, "score": 0, "creation_date": 1489008257, "post_id": 42681743, "comment_id": 72488472, "body": "Yes, you need to iterate through and hook up the event handler for all items that you want to keep track of in the SelectedFields collection."}, {"owner": {"reputation": 2852, "user_id": 992055, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fa6d6cc1a196d988381bb849004d06d?s=128&d=identicon&r=PG&f=1", "display_name": "Force444", "link": "https://stackoverflow.com/users/992055/force444"}, "edited": false, "score": 0, "creation_date": 1489008631, "post_id": 42681743, "comment_id": 72488664, "body": "Yes. Could it be bad for performance to do this? Say we have a couple of hundred fields? It&#39;s only really attaching the handler, but I don&#39;t know how expensive that is"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 2852, "user_id": 992055, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fa6d6cc1a196d988381bb849004d06d?s=128&d=identicon&r=PG&f=1", "display_name": "Force444", "link": "https://stackoverflow.com/users/992055/force444"}, "edited": false, "score": 1, "creation_date": 1489009619, "post_id": 42681743, "comment_id": 72489169, "body": "Attaching an event handler insn&#39;t that expensive."}], "tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": true, "score": 2, "last_activity_date": 1489006455, "creation_date": 1489006455, "answer_id": 42681743, "question_id": 42681508, "link": "https://stackoverflow.com/questions/42681508/wpf-treeview-checkbox-binding-how-to-populate-viewmodel-with-checked-boxes/42681743#42681743", "title": "WPF TreeView CheckBox Binding - How to populate ViewModel with checked boxes", "body": "<p>You could iterate through the <code>TreeFieldData</code> objects in the <code>TreeFieldData</code> collection and hook up an event handler to their <code>PropertyChanged</code> event and then add/remove the selected/unselected items from the <code>SelectedFields</code> collection, e.g.:</p>\n\n<pre><code>public MultipleColumnsSelectorVM()\n{\n    Initialize();\n\n    //do this after you have populated the TreeFieldData collection\n    foreach (TreeFieldData data in TreeFieldData)\n    {\n        data.PropertyChanged += OnPropertyChanged;\n    }\n}\n\nprivate void OnPropertyChanged(object sender, System.ComponentModel.PropertyChangedEventArgs e)\n{\n    if (e.PropertyName == \"IsSelected\")\n    {\n        TreeFieldData data = sender as TreeFieldData;\n        if (data.IsSelected &amp;&amp; !SelectedFields.Contains(data))\n            SelectedFields.Add(data);\n        else if (!data.IsSelected &amp;&amp; SelectedFields.Contains(data))\n            SelectedFields.Remove(data);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1489222889, "last_edit_date": 1489222889, "creation_date": 1489006935, "answer_id": 42681866, "question_id": 42681508, "link": "https://stackoverflow.com/questions/42681508/wpf-treeview-checkbox-binding-how-to-populate-viewmodel-with-checked-boxes/42681866#42681866", "title": "WPF TreeView CheckBox Binding - How to populate ViewModel with checked boxes", "body": "<p>The subscriber of the PropertyChanged event is the view, so that if you change IsSelected programmatically the view knows it needs to update.</p>\n\n<p>To insert the selected TreeField into your list you would add this code to your setter.</p>\n\n<p>Also, you could define the following function which makes the notification much easier if you have many properties:</p>\n\n<pre><code>private void NotifyPropertyChange([CallerMemberName] string propertyName = null)\n{\n  PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n}\n</code></pre>\n\n<p>The CallerMemberName attribute instructs the compiler to automatically insert the name of the property calling the method. The ? after PropertyChanged is a shorthand to your comparison to not null.</p>\n\n<p>The setter of IsSelected can then be changed to</p>\n\n<pre><code>set\n{\n  _isSelected = value;\n  if (value) { viewModel.SelectedFields.Add(this); }\n  else { viewModel.SelectedFields.Remove(this); }\n  NotifyPropertyChange();\n}\n</code></pre>\n\n<p>Of course you would need to provide the TreeFieldData with the ViewModel instance, e.g. in the constructor.</p>\n\n<p>I don't know if SelectedFields is bounded/shown in your view. If yes and you want the changes made to the list to be shown, you should change List to ObservableCollection.</p>\n"}], "owner": {"reputation": 2852, "user_id": 992055, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9fa6d6cc1a196d988381bb849004d06d?s=128&d=identicon&r=PG&f=1", "display_name": "Force444", "link": "https://stackoverflow.com/users/992055/force444"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 1, "accepted_answer_id": 42681743, "answer_count": 2, "score": 1, "last_activity_date": 1489222889, "creation_date": 1489005585, "last_edit_date": 1489006066, "question_id": 42681508, "link": "https://stackoverflow.com/questions/42681508/wpf-treeview-checkbox-binding-how-to-populate-viewmodel-with-checked-boxes", "title": "WPF TreeView CheckBox Binding - How to populate ViewModel with checked boxes", "body": "<p>I'm slightly confused about how to set up a <code>CheckBox</code> with a binding that ensures that my ViewModel is populated with all the checked fields. I have provided some of the code and a description at the bottom.</p>\n\n<p>My Xaml file let's call it <code>TreeView.xaml</code>:</p>\n\n<pre><code>&lt;TreeView x:Name=\"availableColumnsTreeView\"          \n          ItemsSource=\"{Binding Path=TreeFieldData, Mode=OneWay, Converter={StaticResource SortingConverter}, ConverterParameter='DisplayName.Text'}\"&gt;\n\n    &lt;TreeView.ItemTemplate&gt;\n        &lt;HierarchicalDataTemplate x:Uid=\"HierarchicalDataTemplate_1\" ItemsSource=\"{Binding Path=Children, Mode=OneWay, Converter={StaticResource SortingConverter}, ConverterParameter='DisplayName.Text'}\"&gt;\n            &lt;CheckBox VerticalAlignment=\"Center\" IsChecked=\"{Binding IsSelected, Mode=TwoWay}\"&gt;\n                &lt;TextBlock x:Uid=\"TextBlock_1\" Text=\"{Binding DisplayName.Text, Mode=OneWay}\" /&gt;\n            &lt;/CheckBox&gt;              \n        &lt;/HierarchicalDataTemplate&gt;\n    &lt;/TreeView.ItemTemplate&gt;\n&lt;/TreeView&gt;\n</code></pre>\n\n<p>The \"code behind\" <code>TreeView.xaml.cs</code></p>\n\n<pre><code>public partial class MultipleColumnsSelectorView : UserControl\n{\n    public MultipleColumnsSelectorView()\n    {\n        InitializeComponent();\n    }\n\n    private MultipleColumnsSelectorVM Model\n    {\n        get { return DataContext as MultipleColumnsSelectorVM; }\n    }\n}\n</code></pre>\n\n<p>The ViewModel (tried to include only the relevant stuff) <code>MultipleColumnsSelectorVM</code>:</p>\n\n<pre><code>public partial class MultipleColumnsSelectorVM : ViewModel, IMultipleColumnsSelectorVM\n{\n    public ReadOnlyCollection&lt;TreeFieldData&gt; TreeFieldData\n    {\n        get { return GetValue(Properties.TreeFieldData); }\n        set { SetValue(Properties.TreeFieldData, value); }\n    }\n\n    public List&lt;TreeFieldData&gt; SelectedFields\n    {\n        get { return GetValue(Properties.SelectedFields); }\n        set { SetValue(Properties.SelectedFields, value); }\n    }\n\n    private void AddFields()\n    {\n       //Logic which loops over SelectedFields and when done calls a delegate which passes \n      //the result to another class. This works, implementation hidden\n    }\n</code></pre>\n\n<p>The model <code>TreeFieldData</code>:</p>\n\n<pre><code>public class TreeFieldData : INotifyPropertyChanged\n{    \n    public event PropertyChangedEventHandler PropertyChanged;\n    public IEnumerable&lt;TreeFieldData&gt; Children { get; private set; }\n    private bool _isSelected;\n    public bool IsSelected\n    {\n        get { return _isSelected; }\n        set\n        {\n            _isSelected = value;\n            if (PropertyChanged != null)\n                PropertyChanged.Invoke(this, new PropertyChangedEventArgs(\"IsSelected\"));\n        }\n    }\n}\n</code></pre>\n\n<p><strong>The Problem:</strong></p>\n\n<p>The behaviour that I want is when the user checks a checkbox, it should set the <code>IsSelected</code> property of <code>TreeField</code> (it does that right now) but then I want to go back to the ViewModel and make sure that this specific <code>TreeField</code> is added to <code>SelectedFields</code>. I don't really understand what the <code>PropertyChangedEvent.Invoke</code> does and who will receive that event? How can I make sure that <code>SelectedFields</code> gets populated so when <code>AddFields()</code> is invoked it has all the <code>TreeField</code> data instances which were checked?</p>\n"}, {"tags": ["c#", "unit-testing", "mocking", "tdd"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 3, "creation_date": 1489005730, "post_id": 42681474, "comment_id": 72487118, "body": "Why mock it? Why not just create an instance and pass it in? You have full control to fill it however you want so I would think you can assert the outcome. If it was an interface then sure mock, but with a concrete dictionary, I don&#39;t see it being needed."}, {"owner": {"reputation": 27967, "user_id": 1165998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e552055054e7507f0534bf56203fcb08?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/1165998/david-l"}, "edited": false, "score": 0, "creation_date": 1489005804, "post_id": 42681474, "comment_id": 72487164, "body": "What are you actually testing?  It seems to me that you are actually testing that the SortedDictionary does what it guarantees to do.  What value are you hoping to achieve?"}, {"owner": {"reputation": 6147, "user_id": 498604, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c89b2e4d5637383e30f56adb723302d4?s=128&d=identicon&r=PG&f=1", "display_name": "karthiks", "link": "https://stackoverflow.com/users/498604/karthiks"}, "reply_to_user": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 0, "creation_date": 1489006543, "post_id": 42681474, "comment_id": 72487568, "body": "@TyCobb, I&#39;ve updated the question with my unit testing bias/preference as template unit test case for your perusal."}, {"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 3, "creation_date": 1489006730, "post_id": 42681474, "comment_id": 72487662, "body": "<i>Verify that mockLocationMap.Add(..) is not called</i> -- Using a concrete instance, add &quot;a&quot; and assert there is 1 item. add &quot;a&quot; again and assert there&#39;s still only 1 and it didn&#39;t blow up trying to add a duplicate key"}], "answers": [{"comments": [{"owner": {"reputation": 6147, "user_id": 498604, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c89b2e4d5637383e30f56adb723302d4?s=128&d=identicon&r=PG&f=1", "display_name": "karthiks", "link": "https://stackoverflow.com/users/498604/karthiks"}, "edited": false, "score": 0, "creation_date": 1489007154, "post_id": 42681864, "comment_id": 72487874, "body": "I added code for the context, as I had mentioned in my post. It is not in its entirety :-/"}], "tags": [], "owner": {"reputation": 214980, "user_id": 470005, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/09536b39b586f3ae555f8ce20d5d8bd1?s=128&d=identicon&r=PG", "display_name": "Sergey Berezovskiy", "link": "https://stackoverflow.com/users/470005/sergey-berezovskiy"}, "is_accepted": false, "score": 3, "last_activity_date": 1489006927, "creation_date": 1489006927, "answer_id": 42681864, "question_id": 42681474, "link": "https://stackoverflow.com/questions/42681474/c-mock-concrete-class-how/42681864#42681864", "title": "C# Mock concrete class. How?", "body": "<p>You should not mock dictionary here. Actually it's an implementation detail of <code>LocationMapper</code> class. And it should be hidden via encapsulation. You might use anything else to store locations - array, list or simple dictionary. It doesn't matter if <code>LocationMapper</code> meets its requirements. What are requirements in this case? Something like</p>\n\n<blockquote>\n  <p>Location mapper should be able to map location which was added to mapper</p>\n</blockquote>\n\n<p>Currently your mapper is pretty useless and it adds nothing to dictionary behavior. You missing the core - <em>mapping</em>. I can only assume how this class is going to be used. You need some public interface for mapping. And test should look like (AutoFixture and FluentAssertions used here):</p>\n\n<pre><code>var mapper = new LocationMapper();\nvar location = fixture.Create&lt;Location&gt;();\nmapper.AddLocation(location);\nmapper.Map(location.Name).Should().Be(location);\n</code></pre>\n\n<p>While this test is passing you can add locations to mapper and use mapper to map those locations.</p>\n"}, {"tags": [], "owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "is_accepted": false, "score": 0, "last_activity_date": 1489053586, "creation_date": 1489053586, "answer_id": 42692194, "question_id": 42681474, "link": "https://stackoverflow.com/questions/42681474/c-mock-concrete-class-how/42692194#42692194", "title": "C# Mock concrete class. How?", "body": "<p>You have two options: If you use VS Enterprise, use Microsoft Fakes to generate a Shim for your class. (ping me if you want a sample)></p>\n\n<p>If you don't use VS Enterprise (as the majority of people here) you will have to resort to reflection:</p>\n\n<pre><code>[Test]\npublic void AddLocation_ShouldNotAddLocationAgainWhenAlreadyPresent()\n{\n  var locationMapper = new LocationMapper(mockLocationMap);\n  locationMapper.AddLocation(new Location(\"a\"));\n  var dict = ((SortedDictionary&lt;string, Location&gt;)typeof(LocationMapper).GetField(\"locationMap\", BindingFlags.Instance | BindingFlags.NonPublic).GetValue(locationMapper));\n  Assert.AreEqual(\"a\", dict.FirstOrDefault().Name)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 710, "user_id": 4753750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de802876e6dc186e13c223a89fef537f?s=128&d=identicon&r=PG&f=1", "display_name": "JamesR", "link": "https://stackoverflow.com/users/4753750/jamesr"}, "is_accepted": true, "score": 3, "last_activity_date": 1489492266, "creation_date": 1489492266, "answer_id": 42785257, "question_id": 42681474, "link": "https://stackoverflow.com/questions/42681474/c-mock-concrete-class-how/42785257#42785257", "title": "C# Mock concrete class. How?", "body": "<p>Another way is to use a unit testing tool that allows you to mock concrete classes, for instance i'm using Typemock Isolator and with it was able to create the test that you wanted to make:</p>\n\n<pre><code>[TestMethod]\npublic void TestMethod1()\n{\n    var fakeLocationMap = Isolate.Fake.Instance&lt;SortedDictionary&lt;string, Location&gt;&gt;();\n\n    Isolate.WhenCalled(() =&gt; fakeLocationMap.ContainsKey(string.Empty)).WillReturn(true);\n\n    var instance = new LocationMapper(fakeLocationMap);\n    var res = instance.AddLocation(new Location(\"a\"));\n\n    Isolate.Verify.WasNotCalled(() =&gt; fakeLocationMap.Add(string.Empty, null));\n}\n</code></pre>\n"}], "owner": {"reputation": 6147, "user_id": 498604, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c89b2e4d5637383e30f56adb723302d4?s=128&d=identicon&r=PG&f=1", "display_name": "karthiks", "link": "https://stackoverflow.com/users/498604/karthiks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1677, "favorite_count": 0, "accepted_answer_id": 42785257, "answer_count": 3, "score": 1, "last_activity_date": 1489492266, "creation_date": 1489005500, "last_edit_date": 1489006950, "question_id": 42681474, "link": "https://stackoverflow.com/questions/42681474/c-mock-concrete-class-how", "title": "C# Mock concrete class. How?", "body": "<p>I want to mock a concrete class, to be specific SortedDictionary.</p>\n\n<p><strong>Context:</strong></p>\n\n<p>I have a LocationMapper class defined as below:</p>\n\n<pre><code>public class LocationMapper\n{\n  private SortedDictionary&lt;string, Location&gt;() locationMap;\n  public LocationMapper()\n  {\n    this.locationMap = new SortedDictionary&lt;string, Location&gt;();\n  }\n\n  public LocationMapper(SortedDictionary&lt;string, Location&gt; locations)\n  {\n    this.locationMap = locations;\n  }\n\n  public Location AddLocation(Location location)\n  {\n    if(! locationMap.ContainsKey(location.Name))\n    {\n      locationMap.Add(location.Name, location)\n    }\n    return locationMap[location.Name];\n  }  \n}\n</code></pre>\n\n<p>To Unit Test AddLocation(), I need to Mock the concrete class SortedDictionary&lt;>. Unfortunately, NSubstitute is not allowing it.</p>\n\n<pre><code>The unit test that I had envisioned to write is below\n[Test]\npublic void AddLocation_ShouldNotAddLocationAgainWhenAlreadyPresent()\n{\n  var mockLocationMap = ;//TODO\n  //Stub mockLocationMap.ContainsKey(Any&lt;String&gt;) to return \"true\"\n  locationMapper = new LocationMapper(mockLocationMap);\n  locationMapper.AddLocation(new Location(\"a\"));\n  //Verify that mockLocationMap.Add(..) is not called\n}\n</code></pre>\n\n<p><strong><em>How would you go about writing Unit Test in this style in DotNet? Or you don't take this path for the known constraints?</em></strong></p>\n\n<p>Your help is much appreciated.</p>\n"}, {"tags": ["c#", ".net", "winforms", "charts", "mschart"], "answers": [{"tags": [], "owner": {"reputation": 12518, "user_id": 3787557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8CQdx.png?s=128&g=1", "display_name": "jsanalytics", "link": "https://stackoverflow.com/users/3787557/jsanalytics"}, "is_accepted": true, "score": 2, "last_activity_date": 1489017168, "creation_date": 1489017168, "answer_id": 42684188, "question_id": 42681433, "link": "https://stackoverflow.com/questions/42681433/highlight-one-legenditem-in-winforms-chart/42684188#42684188", "title": "Highlight one LegendItem in Winforms Chart", "body": "<p>You have to handle the <code>CustomizeLegend</code> event:</p>\n\n<pre><code>    private void chart1_CustomizeLegend(object sender, CustomizeLegendEventArgs e)\n    {\n        foreach (LegendItem li in e.LegendItems)\n        {\n            if (li.Cells[1].Text == \"Series2\")\n            {\n                li.Cells[1].BackColor = Color.DarkGreen;\n                li.Cells[1].ForeColor = Color.White;\n            }\n        }\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/MmdUQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MmdUQ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 713, "user_id": 7559986, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d4c880161bfd6716592704d97ca3ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Anne Bierhoff", "link": "https://stackoverflow.com/users/7559986/anne-bierhoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 42684188, "answer_count": 1, "score": 1, "last_activity_date": 1489055452, "creation_date": 1489005329, "last_edit_date": 1489055452, "question_id": 42681433, "link": "https://stackoverflow.com/questions/42681433/highlight-one-legenditem-in-winforms-chart", "title": "Highlight one LegendItem in Winforms Chart", "body": "<p>As the title suggests I want to hightlight just one LegendItem of a Winforms Chart. (I don't want to change the color of the serie! I just want to change the Color of LegendItem Text or the BackgroundColor of the LegendItem)</p>\n\n<p>I tried the following, but nothing seems to change anything..</p>\n\n<pre><code>LegendItem legendItem = (LegendItem)result.Object;\nlegendItem.BorderColor = Color.BlueViolet;\nlegendItem.MarkerColor = Color.BlueViolet;\nlegendItem.ShadowColor = Color.BlueViolet;\nlegendItem.Color = Color.BlueViolet;\nlegendItem.BackSecondaryColor = Color.BlueViolet;\nlegendItem.BackImageTransparentColor = Color.BlueViolet;\nlegendItem.MarkerBorderColor = Color.BlueViolet;\nlegendItem.SeparatorColor = Color.BlueViolet;\n</code></pre>\n\n<p>Is there a solution for my problem?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "mvvm"], "comments": [{"owner": {"reputation": 8411, "user_id": 359157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gQiBp.png?s=128&g=1", "display_name": "TyCobb", "link": "https://stackoverflow.com/users/359157/tycobb"}, "edited": false, "score": 1, "creation_date": 1489005287, "post_id": 42681285, "comment_id": 72486908, "body": "From a quick glance since the Image is loading in code, I would double check your context is actually your object with the <code>ImgIcon</code> property and not your <code>Character</code> object which has the exact same property name for FirstName."}], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "edited": false, "score": 0, "creation_date": 1489005763, "post_id": 42681462, "comment_id": 72487142, "body": "Just to clarify, the DataContext is called &#39;ScenesViewModel&#39;. This contains a list of SceneViewModel called &#39;Scenes&#39;. Each SceneViewModel contains a list of CharacterViewModel called &#39;Characters&#39;. It is in CharacterViewModel that ImgIcon is."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "edited": false, "score": 0, "creation_date": 1489005813, "post_id": 42681462, "comment_id": 72487168, "body": "In which class is the ImgIcon defined?"}, {"owner": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "edited": false, "score": 0, "creation_date": 1489006009, "post_id": 42681462, "comment_id": 72487268, "body": "CharacterViewModel. I edited my original question to try to clear up the hierarchy."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "reply_to_user": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "edited": false, "score": 0, "creation_date": 1489006529, "post_id": 42681462, "comment_id": 72487558, "body": "What is &quot;ImgWorld&quot;? Do you see this Image resource?"}, {"owner": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "edited": false, "score": 0, "creation_date": 1489006644, "post_id": 42681462, "comment_id": 72487619, "body": "Yes, I see that fine. That, however, is a resource in the user control, unlike the one I&#39;m having issues with. If I replace my ImgIcon with the static resource ImgWorld, it works okay and I can see it clearly where I would expect to."}, {"owner": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "edited": false, "score": 0, "creation_date": 1489006908, "post_id": 42681462, "comment_id": 72487752, "body": "Hey man, look, really sorry to waste your time. I see you around here all the time helping people. It turns out I did something stupid when I was loading the scenes and one wrong line cause it to screw up. If you&#39;re curious I can detail it for you, but suffice it to say all of the stuff that came up here that should have worked seems to have worked. So thanks again for your time and sorry to waste it."}], "tags": [], "owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "is_accepted": false, "score": 1, "last_activity_date": 1489007055, "last_edit_date": 1489007055, "creation_date": 1489005434, "answer_id": 42681462, "question_id": 42681285, "link": "https://stackoverflow.com/questions/42681285/wpf-bitmapimage-not-displaying/42681462#42681462", "title": "WPF BitmapImage not displaying", "body": "<p>Make sure that you bind to the view model (<code>ScenesViewModel</code>) property if the <code>ImgIcon</code> property is defined in this class:</p>\n\n<pre><code>&lt;Image Source=\"{Binding DataContext.ImgIcon, RelativeSource={RelativeSource AncestorType=TreeView}}\" Margin=\"2\"/&gt;\n</code></pre>\n\n<p>The <code>DataContext</code> of the <code>StackPanel</code> in the <code>ItemTemplate</code> is an item in the <code>ItemsSource</code> and not the view model.</p>\n\n<p><strong>Edit:</strong> You should define one template for SceneViewModel objects and another one for CharacterViewModel objects. You could put the implicit templates in the  section of the TreeView:</p>\n\n<pre><code>&lt;TreeView Grid.Column=\"0\" Width=\"Auto\" Background=\"Aquamarine\" ItemsSource=\"{Binding Scenes}\" \n                  SelectedItemChanged=\"TreeView_SelectedItemChanged\"&gt;\n    &lt;TreeView.DataContext&gt;\n        &lt;viewModels:ScenesViewModel /&gt;\n    &lt;/TreeView.DataContext&gt;\n    &lt;TreeView.Resources&gt;\n        &lt;HierarchicalDataTemplate DataType=\"{x:Type local:SceneViewModel}\" ItemsSource=\"{Binding Characters}\"&gt;\n            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                &lt;TextBlock Text=\"{Binding SceneName}\"&gt;&lt;/TextBlock&gt;\n                &lt;Image Source=\"{StaticResource ImgWorld}\" Margin=\"0,0,5,0\" Width=\"32\" Height=\"32\"/&gt;\n            &lt;/StackPanel&gt;\n        &lt;/HierarchicalDataTemplate&gt;\n        &lt;DataTemplate DataType=\"{x:Type local:CharacterViewModel}\"&gt;\n            &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                &lt;TextBlock Text=\"{Binding FirstName}\"&gt;&lt;/TextBlock&gt;\n                &lt;Border BorderThickness=\"1\" Background=\"RoyalBlue\"&gt;\n                    &lt;Image Source=\"{Binding ImgIcon}\" Margin=\"2\"/&gt;\n                &lt;/Border&gt;\n            &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/TreeView.Resources&gt;\n&lt;/TreeView&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "is_accepted": false, "score": 0, "last_activity_date": 1489008222, "creation_date": 1489008222, "answer_id": 42682159, "question_id": 42681285, "link": "https://stackoverflow.com/questions/42681285/wpf-bitmapimage-not-displaying/42682159#42682159", "title": "WPF BitmapImage not displaying", "body": "<p>This answer is for those looking to see what happened - maybe you have the same issue.</p>\n\n<p>My problem was actually elsewhere in my code. When I loaded a Scene (data model) from my database to populate the SceneViewModel's data, I created one instance which I used to load the image, and then added a new instance to the list. So there were two instances, one which was created, used to load the images and then not used, and another which was used (but which didn't have the images loaded). Basically it was a simple mistake and not related to the code seen here - that all worked fine (since now that I corrected the error, things work as they should, images and all).</p>\n\n<p>Thanks to all those who took the time to answer.</p>\n"}], "owner": {"reputation": 551, "user_id": 1096196, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0fc2dd5a96cdb24ccb6f8f0fded81b84?s=128&d=identicon&r=PG", "display_name": "TheFaithfulLearner", "link": "https://stackoverflow.com/users/1096196/thefaithfullearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1489008222, "creation_date": 1489004816, "last_edit_date": 1489005953, "question_id": 42681285, "link": "https://stackoverflow.com/questions/42681285/wpf-bitmapimage-not-displaying", "title": "WPF BitmapImage not displaying", "body": "<p>I have a WPF project which uses, as best I can, the MVVM pattern. I'm using Visual Studio 2010, and the language behind is C#.</p>\n\n<p>So I have a treeview. The treeview looks like this:</p>\n\n<pre><code>&lt;TreeView Grid.Column=\"0\" Width=\"Auto\" Background=\"Aquamarine\" ItemsSource=\"{Binding Scenes}\" SelectedItemChanged=\"TreeView_SelectedItemChanged\"&gt;\n        &lt;TreeView.DataContext&gt;\n            &lt;viewModels:ScenesViewModel /&gt;\n        &lt;/TreeView.DataContext&gt;\n        &lt;TreeView.ItemTemplate&gt;\n            &lt;HierarchicalDataTemplate ItemsSource=\"{Binding Characters}\"&gt;\n                &lt;StackPanel Orientation=\"Horizontal\"&gt;\n                    &lt;TextBlock Text=\"{Binding SceneName}\"&gt;&lt;/TextBlock&gt;\n\n                        &lt;Image Source=\"{StaticResource ImgWorld}\" Margin=\"0,0,5,0\" Width=\"32\" Height=\"32\"/&gt;\n\n                &lt;/StackPanel&gt;\n                &lt;HierarchicalDataTemplate.ItemTemplate&gt;\n                    &lt;DataTemplate&gt;\n                        &lt;StackPanel Orientation=\"Horizontal\"&gt;\n\n                            &lt;TextBlock Text=\"{Binding FirstName}\"&gt;&lt;/TextBlock&gt;\n                            &lt;Border BorderThickness=\"1\" Background=\"RoyalBlue\"&gt;\n                                &lt;Image Source=\"{Binding ImgIcon}\" Margin=\"2\"/&gt;\n                            &lt;/Border&gt;\n                        &lt;/StackPanel&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/HierarchicalDataTemplate.ItemTemplate&gt;\n            &lt;/HierarchicalDataTemplate&gt;\n        &lt;/TreeView.ItemTemplate&gt;\n    &lt;/TreeView&gt;\n</code></pre>\n\n<p>The point of contention is the Image, the source of which is bound to something called 'ImgIcon'. This is a property of a view model called 'CharacterViewModel'. For some reason I am getting nothing displayed where the image should be. </p>\n\n<p>The most obvious issue might be regarding the data context or whether the MVVM side of things is working. I am fairly sure it is, as there is a TextBlock next to the Image which is also bound to a property called 'FirstName'. This binding works fine.</p>\n\n<p>The two properties are, of course, in the view model, and can be seen here:</p>\n\n<pre><code>public String FirstName\n    {\n        get { return Character.FirstName; }\n        set\n        {\n            if (Character.FirstName != value)\n            {\n                Character.FirstName = value;\n                RaisePropertyChanged(\"FirstName\");\n            }\n        }\n    }\n\nprivate BitmapImage _imgIcon = null;\n    public BitmapImage ImgIcon \n    { \n        get { return _imgIcon; }\n        set \n        {\n            _imgIcon = value;\n            RaisePropertyChanged(\"ImgIcon\");\n        }\n    } \n</code></pre>\n\n<p>They are slightly different in that the latter does not wrap around a property in the Character class.</p>\n\n<p>So the next possible fault would be the loading of the image. This is accomplished by this method (which at the moment just has a test path for a known working file):</p>\n\n<pre><code>public bool LoadIcon()\n    {\n        if (ImgIcon == null)\n        {\n            Uri outUri;\n\n            if (Uri.TryCreate(@\"D:\\Pictures\\Icons\\HCAria01.png\", UriKind.Absolute, out outUri) )\n            {\n            }\n\n\n            ImgIcon = new BitmapImage(outUri);\n            return true;\n        }\n        else\n            return false;\n    }\n</code></pre>\n\n<p>I put a break point in at 'ImgIcon = new BitmapImage(outUri)' and you can see the relevant information here: <a href=\"https://imgur.com/a/t4avw\" rel=\"nofollow noreferrer\">picture</a>. It seems from this picture that the image has loaded successfully. </p>\n\n<p>I'm sure I'm missing something obvious, but I'm damned if I can say what it is. From my limited experience with WPF and XAML, it seems to be working okay, except for the lack of an image.</p>\n\n<p>Well, if you can offer any help that would be much appreciated.</p>\n\n<p><strong>Edit</strong>: a couple of clarifications. The DataContext for the Treeview is called ScenesViewModel. This holds a list of SceneViewModel, and that list is called 'Scenes'. Each SceneViewModel containst a list of CharacterViewModel, and that is called 'Characters'. <a href=\"https://imgur.com/a/BMjQG\" rel=\"nofollow noreferrer\">These two images</a> show the relevant part of those classes, so hopefully the hierarchy can be understood. For each CharacterViewModel, there should be an ImgIcon.</p>\n"}, {"tags": ["c#", "selenium", "proxy", "phantomjs"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 7148262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/26ed78fb9555b180e26fde8770bb7890?s=128&d=identicon&r=PG&f=1", "display_name": "lesyriad", "link": "https://stackoverflow.com/users/7148262/lesyriad"}, "is_accepted": true, "score": 1, "last_activity_date": 1489778844, "creation_date": 1489778844, "answer_id": 42865660, "question_id": 42681259, "link": "https://stackoverflow.com/questions/42681259/c-selenium-phantomjs-set-global-proxy/42865660#42865660", "title": "C# selenium/phantomjs set global proxy", "body": "<p>When creating the service:</p>\n\n<pre><code>OpenQA.Selnium.Proxy myproxy = new Proxy();\nmyproxy.httpProxy = ip +\":\"+port;\ndriverservice.AddAdditionalCapability(CapabilityType.Proxy, myproxy);\n</code></pre>\n\n<p>After driver is running to change the proxy:</p>\n\n<pre><code>driver.ExecutePhantomJS(\"phantom.setProxy('\"+ip+\"', \"+port+\", 'http', '', '');\")\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 7148262, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/26ed78fb9555b180e26fde8770bb7890?s=128&d=identicon&r=PG&f=1", "display_name": "lesyriad", "link": "https://stackoverflow.com/users/7148262/lesyriad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 42865660, "answer_count": 1, "score": 1, "last_activity_date": 1489778844, "creation_date": 1489004742, "question_id": 42681259, "link": "https://stackoverflow.com/questions/42681259/c-selenium-phantomjs-set-global-proxy", "title": "C# selenium/phantomjs set global proxy", "body": "<p>I need to setup phantomjs to use a proxy.  I have found many examples for java, javascript/node.js, etc.  But none for c# using selenium.  I need to set a global proxy and be able to change it without restarting the driver.  I believe it would be under driver.ExecutePhantomJS() but I also cant find what phantomjs script I would run to change the global proxy.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "linq-to-sql"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489004693, "post_id": 42681183, "comment_id": 72486586, "body": "<code>someQueryable</code> must be <code>IQueryable&lt;Phone&gt;</code>. If you get errors please always tell which they are, &quot;I&#39;m getting syntax errors&quot; doesn&#39;t mean much."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489004794, "post_id": 42681183, "comment_id": 72486648, "body": "Also, what is the last statement supposed to do?"}, {"owner": {"reputation": 94, "user_id": 7570756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NZTjV.jpg?s=128&g=1", "display_name": "Sandy2016", "link": "https://stackoverflow.com/users/7570756/sandy2016"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489004891, "post_id": 42681183, "comment_id": 72486701, "body": "Do I change all the someQueryable to Iqueryable&lt;Phone&gt;? Error: Could not find an implementation of the query pattern for source type &#39;Iquerable&lt;Phone&gt;. Select not found"}, {"owner": {"reputation": 94, "user_id": 7570756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NZTjV.jpg?s=128&g=1", "display_name": "Sandy2016", "link": "https://stackoverflow.com/users/7570756/sandy2016"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489005123, "post_id": 42681183, "comment_id": 72486828, "body": "I&#39;m using a database where if is GovAllowed it will display certain phone types(iphones, galaxy, etc). If its CommerceAllowed it displays different phone types. I just need to return the list of phones every time once it match the string pattern."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489005705, "post_id": 42681183, "comment_id": 72487106, "body": "The last statement doesn&#39;t make sense, that&#39;s why I asked. It&#39;s syntactically wrong and you don&#39;t need it. Just return <code>someQueryable</code>.ToList()<code>. Yes, change it to </code>IQueryable&lt;Phone&gt;`, that&#39;s what the words &quot;must be&quot; imply."}, {"owner": {"reputation": 94, "user_id": 7570756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NZTjV.jpg?s=128&g=1", "display_name": "Sandy2016", "link": "https://stackoverflow.com/users/7570756/sandy2016"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489006281, "post_id": 42681183, "comment_id": 72487413, "body": "I changed ALL someQueryable to Iqueryable&lt;Phone&gt; and got more errors. I don&#39;t think I&#39;m change the right one."}, {"owner": {"reputation": 94, "user_id": 7570756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NZTjV.jpg?s=128&g=1", "display_name": "Sandy2016", "link": "https://stackoverflow.com/users/7570756/sandy2016"}, "reply_to_user": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489006349, "post_id": 42681183, "comment_id": 72487451, "body": "For the last statement I tried &quot;return someQueryable.ToList();&quot; but ToList(); does not list in Visual Studio."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489006808, "post_id": 42681183, "comment_id": 72487701, "body": "Well, someone has given it to you on a plate now. That&#39;s about what I was saying and hoped you would understand and somewhat discover yourself. Please, next time when you ask something, give more information (errors etc.), but first try to explain to yourself what&#39;s going on."}], "answers": [{"comments": [{"owner": {"reputation": 94, "user_id": 7570756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NZTjV.jpg?s=128&g=1", "display_name": "Sandy2016", "link": "https://stackoverflow.com/users/7570756/sandy2016"}, "edited": false, "score": 0, "creation_date": 1489006685, "post_id": 42681612, "comment_id": 72487640, "body": "Yes, I was changing it in the wrong place. Thank you so much for the help!!!! :)"}], "tags": [], "owner": {"reputation": 91, "user_id": 7679866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a6721ddd9e5ba70ce441cb50a467c5?s=128&d=identicon&r=PG&f=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/7679866/sbs"}, "is_accepted": true, "score": 4, "last_activity_date": 1489005981, "creation_date": 1489005981, "answer_id": 42681612, "question_id": 42681183, "link": "https://stackoverflow.com/questions/42681183/using-iqueryable-to-return-a-list-from-database/42681612#42681612", "title": "Using Iqueryable to return a list from database?", "body": "<p>I guess you are getting syntax errors here? -->     </p>\n\n<pre><code>return db.Phones.Where( from x in someQueryable);\n</code></pre>\n\n<p>try this..</p>\n\n<pre><code>IQueryable&lt;Phone&gt; someQueryable = null;\n\n    if (match.Success)\n    {\n        someQueryable = from g in db.Phones\n            where g.GovAllowed == true\n            select g;\n    }\n    else\n    {\n        someQueryable = from c in db.Phones\n            where c.CommerceAllowed == true\n            select c;\n    }\n\n   return someQueryable.ToList();\n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 7570756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NZTjV.jpg?s=128&g=1", "display_name": "Sandy2016", "link": "https://stackoverflow.com/users/7570756/sandy2016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1898, "favorite_count": 0, "closed_date": 1490609685, "accepted_answer_id": 42681612, "answer_count": 1, "score": -2, "last_activity_date": 1489069541, "creation_date": 1489004440, "last_edit_date": 1489069541, "question_id": 42681183, "link": "https://stackoverflow.com/questions/42681183/using-iqueryable-to-return-a-list-from-database", "closed_reason": "Not suitable for this site", "title": "Using Iqueryable to return a list from database?", "body": "<p>I'm trying to use IQueryable to return items from database. I'm not sure how to implement this. I've tried to return db.Phones.Where( from x in someQueryable); My error is Error: Could not find an implementation of the query pattern for source type 'Iquerable </p>\n\n<pre><code>private IList&lt;Phone&gt; GetPhones(int carrierId, string emailaddress)\n{\n    string pattern = @\"^([a-zA-Z0-9._%+-]{1,50})(@gmail|@GMail)(\\.)(com|COM)$\"; //regular expression\n    Match match = Regex.Match(emailaddress, pattern);//matches users email domain address with regular expression\n\n    IQueryable someQueryable = null; //need help\n    if (match.Success) // if true it will do the following\n    {\n        someQueryable = from g in db.Phones //linq to sql\n            where g.GovAllowed == true\n            select g;\n    }\n    else\n    {\n        someQueryable = from c in db.Phones // linq to sql\n            where c.CommerceAllowed == true\n            select c;\n    }\n\n    return db.Phones.Where( from x in someQueryable);//need help on this to return the data from database whether true or false           \n}\n</code></pre>\n"}, {"tags": ["c#", "thread-safety", "extension-methods"], "comments": [{"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489004012, "post_id": 42681020, "comment_id": 72486216, "body": "You tagged your question with &quot;extension-methods&quot; so you probably know what are extension methods in C# and how can they help you to solve this problem?"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489004135, "post_id": 42681020, "comment_id": 72486278, "body": "@Evk Yes, I know something about it, but not my strength. I can check example and add the method. But dont know how assign a delegated inside? Also not sure if will qualify as ThreadSafe."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1489005304, "post_id": 42681020, "comment_id": 72486920, "body": "You shouldn&#39;t be calling <code>Invoke</code> like this in the first place.  Update the UI after the <code>await</code>, when you&#39;re in the UI thread, not from the operation you&#39;re running in another thread."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1489005425, "post_id": 42681020, "comment_id": 72486979, "body": "@Servy You mean I save the <code>&quot;strResult&quot;</code> in a global variable and set the listBox when the thread end?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1489005492, "post_id": 42681020, "comment_id": 72487013, "body": "@JuanCarlosOropeza No, you should return it from the method, rather than relying on global state."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1489005555, "post_id": 42681020, "comment_id": 72487039, "body": "If you can use &quot;real&quot; <code>async-await</code> approach for your <code>importSource</code> methods - then you can get rid from threadsafe problem"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1489005673, "post_id": 42681020, "comment_id": 72487096, "body": "@fabio Im new on this can you point me to one example of what &quot;real&quot; mean? Or what is wrong with my approach I tought was doing it ok."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489006197, "post_id": 42681020, "comment_id": 72487362, "body": "Maybe you should post more real code so we can help you with real async await. With current code in question it&#39;s not easy."}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1489006817, "post_id": 42681020, "comment_id": 72487710, "body": "Based on your example your problem is what you described in the title - &quot;updating UI control from another thread&quot;. As you already noticed updating UI controls from another thread requires some kinds of hacks/workarounds, so my advise will be : try to avoid this and design your code where everything which uses UI controls happens on UI thread. Without real code of <code>ImportSource</code> it difficult to provide useful example about <code>async-await</code>"}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "edited": false, "score": 0, "creation_date": 1489023051, "post_id": 42681020, "comment_id": 72493993, "body": "@Fabio The <code>importSource</code> do some db storeprocedures using <code>parallel.For</code> and the final result is show in the list as a log."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489156048, "post_id": 42681020, "comment_id": 72561279, "body": "@Evk What was wrong with your deleted answer?"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489161487, "post_id": 42681020, "comment_id": 72564990, "body": "Nothing wrong, just thought it is better to use async await correctly (since you already use it, but wrong) than dispatching to UI thread manually. But you can use my answer still if you want - it is valid."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489162736, "post_id": 42681020, "comment_id": 72565784, "body": "@evk Can you elaborated what Im doing wrong? I can send back the result, but the problem is for the <code>parallel.For</code>, would be messy create a structure for each result."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489163128, "post_id": 42681020, "comment_id": 72566015, "body": "I cannot tell what exactly you are doing wrong because you posted very rudimentary code which does nothing useful (and part with Parallel.For is mentioned like this &gt; &quot;db stuff in a Parallel.For&quot;). Signs of you are doing something wrong are: 1. await Task.Run(...) &lt; almost always wrong. 2. Parallel.For does not play well with async\\await. How to use async\\await correctly is shown in Fabio answer (and also how to execute things in parallel in that case). I would like to help you more, but it is MUCH easier to do with more code of how you are going it now."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489171786, "post_id": 42681020, "comment_id": 72570951, "body": "@evk Isnt <code>Parallel.For</code> I change it for <code>Parallel.ForEach()</code>. I use a more complex version of this <a href=\"http://codereview.stackexchange.com/a/155263/95510\"><b>answer</b></a>  The thing is In the <code>body</code> section I want print what ranges are alreadt done in a <code>ListBox</code> to show the progress. Also some of the ranges sometimes return error, so also want to print the errors in a different list. So if I follow Fabio suggestion would need to keep all result in some kind of list and print only when the process end."}, {"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1489172517, "post_id": 42681020, "comment_id": 72571322, "body": "Right now I&#39;m using Background workers to start the <code>Parallel.ForEach()</code> each minute, but read in <a href=\"http://blog.stephencleary.com/2013/05/taskrun-vs-backgroundworker-round-1.html\" rel=\"nofollow noreferrer\"><b>stephen blog</b></a> Task.Run() is a better option."}], "answers": [{"comments": [{"owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1489057293, "post_id": 42685820, "comment_id": 72509383, "body": "The problem I see is result text need things from the process, like <code>startTime, rowsProcess, totalTime</code>, Also in case of errors, I have a different <code>lstErrror</code> to log what has happen. But looking to your aproach looks like I should wrap all those in a class and return it from the <code>ImportSource</code> function?"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "edited": false, "score": 0, "creation_date": 1489060883, "post_id": 42685820, "comment_id": 72511759, "body": "You can change <code>ImportSource1Async</code> to return a data with results of import process. In &quot;dirty&quot; way you can update UI controls inside <code>ImportSourceAsync</code> - in this case whole execution will hapenned on UI thread"}], "tags": [], "owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "is_accepted": false, "score": 0, "last_activity_date": 1489028053, "creation_date": 1489028053, "answer_id": 42685820, "question_id": 42681020, "link": "https://stackoverflow.com/questions/42681020/add-thread-safe-method-to-listbox/42685820#42685820", "title": "Add thread safe method to listBox", "body": "<p>Based on the comment that <code>ImportSource</code> is a method which executes database procedures, my suggestion use <code>async-await</code> aproach.<br>\n<code>Async-await</code> was designed for more effective resource usage when your code executes operations which \"touches\" external resources (database, file system, web api etc).  </p>\n\n<p>Because during execution of database query(for example) your method \"do nothing\", it only send request and wait for the response. Creating new thread which \"do nothing\" considered as wasting resources.</p>\n\n<p>With <code>async-await</code> operation will be executed on one thread(most of the time) where you can simply use UI controls.</p>\n\n<p>You can create own asynchronous method for every procedure</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public async Task ExecuteProcedure1Async()\n{\n    using (var connection = new SqlConnection(\"connection string\"))\n    using (var command = new SqlCommand(\"dbo.sqlProcedure1\", connection))\n    {\n        command.CommandType = CommandType.StoredProcedure;\n\n        // Here execution will send request to the database\n        // and be returned to the caller of this method         \n        await connection.OpenAsync();\n        // Continue after OpenAsync is completes and\n        // Here execution will again will be returned to the caller \n        await command.ExecuteCommandAsync();\n        // Continues after ExecuteCommandAsync is completed\n    }      \n}\n</code></pre>\n\n<p>Similar methods can be created for another stored procedures</p>\n\n<p>Below all procedures will executes \"almost\" simultaneously.<br>\nBecause we will send requests without waiting for responses\nand wait only when all procedures completes</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private async Task ImportSource1Async()\n{\n    // Because asynchronoud method returns Task\n    // We can create collection of tasks and \"await\" them all\n    // after they have been started\n    var tasks = new[] \n    {\n        ExecuteProcedure1Async(),\n        ExecuteProcedure2Async(),\n        ExecuteProcedure3Async()\n    };\n\n    await Task.WhenAll(tasks);\n}\n</code></pre>\n\n<p>Then you can combine all <code>ImportSourceAsync</code> methods together in the <code>button_click</code> eventhandler and use UI controls.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>private async void btnRun_Click(object sender, EventArgs e)\n{\n    await ImportSource1Async();\n    lstImportSource1.Items.Insert(0, \"Import source 1 complete\");\n\n    await ImportSource2Async();\n    lstImportSource1.Items.Insert(0, \"Import source 2 complete\");\n\n    await ImportSource3Async();\n    lstImportSource1.Items.Insert(0, \"Import source 3 complete\");\n}\n</code></pre>\n"}], "owner": {"reputation": 44067, "user_id": 3470178, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/655943089/picture?type=large", "display_name": "Juan Carlos Oropeza", "link": "https://stackoverflow.com/users/3470178/juan-carlos-oropeza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1489028053, "creation_date": 1489003885, "last_edit_date": 1489026143, "question_id": 42681020, "link": "https://stackoverflow.com/questions/42681020/add-thread-safe-method-to-listbox", "title": "Add thread safe method to listBox", "body": "<p>I have a thread and want to update a list with the progress, but form control arent thread safe. So I learn how solve with this <a href=\"https://msdn.microsoft.com/query/dev14.query?appId=Dev14IDEF1&amp;l=EN-US&amp;k=k(EHInvalidOperation.WinForms.IllegalCrossThreadCall);k(TargetFrameworkMoniker-.NETFramework,Version%3Dv4.5.2);k(DevLang-csharp)&amp;rd=true\" rel=\"nofollow noreferrer\"><strong>article</strong></a>.</p>\n\n<p>The problem is there are many more sources and each source have his own list to display the progress. So how I make every listbox has his own <code>ThreadSafeSetText()</code> method to clean the code?</p>\n\n<pre><code>delegate void SetTextCallback(string text);\nprivate async void btnRun_Click(object sender, EventArgs e)\n{\n   await Task.Run(() =&gt;\n   {\n      importSource1();\n   });\n\n   //await Task.Run(() =&gt;\n   //{\n   //   importSource2();\n   //});\n}\n\nprivate void importSource1()\n{\n   // db stuff in a Parallel.For\n\n   SetText(\"Result\");\n}\n\nprivate void SetText(string text)\n{\n   // InvokeRequired required compares the thread ID of the\n   // calling thread to the thread ID of the creating thread.\n   // If these threads are different, it returns true.\n   if (this.lstImportSource1.InvokeRequired)\n   {\n      SetTextCallback d = new SetTextCallback(SetText);\n      this.Invoke(d, new object[] { text });\n   }\n   else\n   {\n      this.lstImportSource1.Items.Insert(0, text);\n   }\n}\n</code></pre>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1489003645, "post_id": 42680941, "comment_id": 72486011, "body": "Try MouseEnter then."}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 0, "creation_date": 1489003808, "post_id": 42680941, "comment_id": 72486107, "body": "I tried MouseEnter, it does not effect the delay on the backgroundImage change, thanks for suggesting it tho."}, {"owner": {"reputation": 2663, "user_id": 797223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VKSSD.jpg?s=128&g=1", "display_name": "Bent Tranberg", "link": "https://stackoverflow.com/users/797223/bent-tranberg"}, "edited": false, "score": 0, "creation_date": 1489003972, "post_id": 42680941, "comment_id": 72486200, "body": "Google this: winforms changing backgroundimage slow"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 2, "creation_date": 1489004010, "post_id": 42680941, "comment_id": 72486215, "body": "MouseHover has a delay while MouseEnter does not."}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1489004206, "post_id": 42680941, "comment_id": 72486319, "body": "I just compared MouseHover and MouseEnter and MouseEnter was much quicker"}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489004476, "post_id": 42680941, "comment_id": 72486461, "body": "Did you use an eventhandler, does that matter?"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1489004833, "post_id": 42680941, "comment_id": 72486673, "body": "<code>button1.MouseEnter += (s, e) =&gt; { button1.BackgroundImage = Properties.Resources.Toxic_Sewers_Portal; label1.Visible = false; };</code>"}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489005086, "post_id": 42680941, "comment_id": 72486808, "body": "where exactly do I place that in the code? I&#39;ve got a good feeling about it!"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1489005136, "post_id": 42680941, "comment_id": 72486837, "body": "where ever the button is created or in the constructor if the button is made in the designer"}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489005303, "post_id": 42680941, "comment_id": 72486918, "body": "Ok thanks alot, I&#39;ll have to restart my pc because I did not run with debugger. I&#39;m trying it as soon as possible!"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1489006720, "post_id": 42680941, "comment_id": 72487659, "body": "If you don&#39;t see any performance difference in using MouseEnter then the performance issue is probably with the image itself. It might be better to have a property that gets the value of your image once instead of using Resources every time. I saw another answer of a question mention image resizing every time can take a while too. Would be helpful if the image is already sized correctly before assigning it to the backgroundimage."}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489007005, "post_id": 42680941, "comment_id": 72487802, "body": "ok I&#39;ll try that. the previous thing did not work, there still is a delay."}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489007348, "post_id": 42680941, "comment_id": 72487981, "body": "I did remove the ImageLayout.Stretch, but there still is a little, annoying delay. Any other suggestions?"}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1489007771, "post_id": 42680941, "comment_id": 72488200, "body": "try some of the suggestions <a href=\"http://stackoverflow.com/questions/778095/windows-forms-using-backgroundimage-slows-down-drawing-of-the-forms-controls\">here</a>"}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489009972, "post_id": 42680941, "comment_id": 72489353, "body": "I think that the &quot;public static class ControlHelper&quot; is outdated.."}, {"owner": {"reputation": 1549, "user_id": 5890367, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10206951008588352/picture?type=large", "display_name": "Blake Thingstad", "link": "https://stackoverflow.com/users/5890367/blake-thingstad"}, "edited": false, "score": 0, "creation_date": 1489079616, "post_id": 42680941, "comment_id": 72524977, "body": "@DutchJelly did you try any of the other answers?"}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489181835, "post_id": 42680941, "comment_id": 72575860, "body": "yes, they unfortunately did not work.."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489004712, "post_id": 42681010, "comment_id": 72486592, "body": "where do I exactly call it? on the mouseenter or on the mouseleave?"}, {"owner": {"reputation": 383, "user_id": 6349729, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1146635895356682/picture?type=large", "display_name": "\u0422\u043e\u0434\u043e\u0440 \u0418\u0432\u0430\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/6349729/%d0%a2%d0%be%d0%b4%d0%be%d1%80-%d0%98%d0%b2%d0%b0%d0%bd%d0%be%d0%b2"}, "reply_to_user": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489004745, "post_id": 42681010, "comment_id": 72486610, "body": "on mouse enter, after setting the image."}, {"owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489004964, "post_id": 42681010, "comment_id": 72486745, "body": "It&#39;s still not completely instant, but I guess it&#39;s faster..  Do you know of any way to make it instant like the colorchange of pretty much all buttons?"}, {"owner": {"reputation": 383, "user_id": 6349729, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1146635895356682/picture?type=large", "display_name": "\u0422\u043e\u0434\u043e\u0440 \u0418\u0432\u0430\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/6349729/%d0%a2%d0%be%d0%b4%d0%be%d1%80-%d0%98%d0%b2%d0%b0%d0%bd%d0%be%d0%b2"}, "reply_to_user": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "edited": false, "score": 0, "creation_date": 1489005162, "post_id": 42681010, "comment_id": 72486850, "body": "As far as I know, this is the fastest way, I&#39;m sorry :("}], "tags": [], "owner": {"reputation": 383, "user_id": 6349729, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/1146635895356682/picture?type=large", "display_name": "\u0422\u043e\u0434\u043e\u0440 \u0418\u0432\u0430\u043d\u043e\u0432", "link": "https://stackoverflow.com/users/6349729/%d0%a2%d0%be%d0%b4%d0%be%d1%80-%d0%98%d0%b2%d0%b0%d0%bd%d0%be%d0%b2"}, "is_accepted": false, "score": -1, "last_activity_date": 1489003856, "creation_date": 1489003856, "answer_id": 42681010, "question_id": 42680941, "link": "https://stackoverflow.com/questions/42680941/mousehover-too-much-delay-when-pictures-change-winforms/42681010#42681010", "title": "Mousehover too much delay when pictures change (winforms)", "body": "<p>You can call .Refresh() on the button so it can redraw its graphics. </p>\n"}], "owner": {"reputation": 49, "user_id": 7613217, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/257ad137148e268297c27053202f3d74?s=128&d=identicon&r=PG&f=1", "display_name": "DutchJelly", "link": "https://stackoverflow.com/users/7613217/dutchjelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489008925, "creation_date": 1489003618, "question_id": 42680941, "link": "https://stackoverflow.com/questions/42680941/mousehover-too-much-delay-when-pictures-change-winforms", "title": "Mousehover too much delay when pictures change (winforms)", "body": "<p>I'm facing a problem in windowsforms. When I change the backgroundimage of a menubutton the delay is way too long, it takes around 1/2 seconds to change it. The reason why it's happening is not because of my computerspeed, I'm sure of that. Here's my code, I'm looking forward to someone that could help me out.</p>\n\n<pre><code>private void button1_MouseHover(object sender, EventArgs e)\n    {\n        button1.BackgroundImage = Properties.Resources.Tomb_of_the_Ancients_Portal;\n        label1.Visible = true;\n    }\n\n    private void button1_MouseLeave(object sender, EventArgs e)\n    {\n        button1.BackgroundImage = Properties.Resources.Toxic_Sewers_Portal;\n        label1.Visible = false;\n    }\n</code></pre>\n"}, {"tags": ["c#", "python", "ruby", "testing", "rspec"], "comments": [{"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1489005464, "post_id": 42680908, "comment_id": 72486997, "body": "Please read &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;. &quot;is there an established pattern or tool...?&quot; is asking us to recommend an off-site tool, which is off-topic. Instead you need to search and try things then when you have a problem with your code ask a specific question about that problem. I&#39;d recommend removing that aspect of the question. Asking about a pattern would be more on-topic."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1489005720, "post_id": 42680908, "comment_id": 72487116, "body": "Talking to a different host or server would introduce more than code complexity, it&#39;d make the tests break if the required end-point was down. It&#39;d also slow the tests. So while it&#39;s possible I wouldn&#39;t do it, at least for unit tests."}, {"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "reply_to_user": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1489008678, "post_id": 42680908, "comment_id": 72488688, "body": "How is a tool off topic? It could include a library, gem or software. If I were asking how to do testing, wouldn&#39;t you suggest RSpec or Jasmine? Those are tools."}, {"owner": {"reputation": 150540, "user_id": 128421, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71770d043c0f7e3c7bc5f74190015c26?s=128&d=identicon&r=PG", "display_name": "the Tin Man", "link": "https://stackoverflow.com/users/128421/the-tin-man"}, "edited": false, "score": 0, "creation_date": 1489009538, "post_id": 42680908, "comment_id": 72489118, "body": "You&#39;re arguing against the SO community which decided that such questions are off-topic. You are welcome to take it to <a href=\"https://meta.stackoverflow.com\">Meta Stack Overflow</a>, however your argument has been heard and decided against multiple times."}], "answers": [{"comments": [{"owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "edited": false, "score": 0, "creation_date": 1489016955, "post_id": 42682384, "comment_id": 72492275, "body": "That&#39;s an interesting approach."}], "tags": [], "owner": {"reputation": 48049, "user_id": 6419007, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CwqtX.jpg?s=128&g=1", "display_name": "Eric Duminil", "link": "https://stackoverflow.com/users/6419007/eric-duminil"}, "is_accepted": false, "score": 1, "last_activity_date": 1489010280, "last_edit_date": 1489010280, "creation_date": 1489009085, "answer_id": 42682384, "question_id": 42680908, "link": "https://stackoverflow.com/questions/42680908/what-is-a-good-way-to-integrate-rspec-with-another-language-such-as-python-or-c/42682384#42682384", "title": "What is a good way to integrate RSpec with another language such as Python or C#?", "body": "<p>One quick and dirty way is just to execute python code like this :</p>\n\n<pre><code>%x(python -c \"print 'hello I\\\\'m a logger'\").include?('hello')\n#=&gt; true\n</code></pre>\n\n<p>For more advanced examples, you could use <code>IO.popen</code> or <a href=\"https://ruby-doc.org/stdlib-2.3.0/libdoc/open3/rdoc/Open3.html\" rel=\"nofollow noreferrer\"><code>Open3</code></a> :</p>\n\n<pre><code>require 'open3'\n\ndef run_python(code)\n  Open3.popen3(\"python -c \\\"#{code}\\\"\") do |stdin, stdout, stderr, wait_thr|\n    {stdout: stdout.read, stderr: stderr.read}\n  end\nend\n\nten_warnings = %q|import logging\nfor i in range(10):\n  logging.warning('Warning %d' % i)\n|\n\ndescribe 'Logger' do\n  specify 'success' do\n    expect(run_python(ten_warnings)[:stderr]).to include \"Warning 5\"\n  end\nend\n</code></pre>\n\n<p>It outputs :</p>\n\n<pre><code>.\n\nFinished in 0.0266 seconds (files took 0.1499 seconds to load)\n1 example, 0 failures\n</code></pre>\n"}], "owner": {"reputation": 39282, "user_id": 336920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6e2dbeb23d3fc6552a6e26800ed63289?s=128&d=identicon&r=PG", "display_name": "B Seven", "link": "https://stackoverflow.com/users/336920/b-seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "closed_date": 1489011169, "answer_count": 1, "score": 0, "last_activity_date": 1489010280, "creation_date": 1489003491, "question_id": 42680908, "link": "https://stackoverflow.com/questions/42680908/what-is-a-good-way-to-integrate-rspec-with-another-language-such-as-python-or-c", "closed_reason": "Not suitable for this site", "title": "What is a good way to integrate RSpec with another language such as Python or C#?", "body": "<p>I wrote a Ruby Gem and other teams in the business will need to implement the same functionality in Python and C#.</p>\n\n<p>I would like to run the exiting specs against the code in the other languages. Although it sounds like a difficult problem, the functionality of the gem is limited to formatting logs. The specs look like:</p>\n\n<pre><code>specify 'success' do\n  expect{ logger.info('title', message) }.to output(expected).to_stdout\nend\n</code></pre>\n\n<p>So, the entire test suite can be reduced to a set of expectations where the input is a string and a hash, and the output is a string.</p>\n\n<p>It seems that there should be a easy to write a connector that would allow RSpec to talk to an instance of the code in another language.</p>\n\n<p>Some possibilities include using HTTP or TCP, but I think that would introduce a significant code and complexity in both the specs and the app.</p>\n\n<p>So, is there an established pattern or tool that will do this?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "controltemplate"], "comments": [{"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1489013576, "post_id": 42680784, "comment_id": 72491016, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/11581475/inherit-style-from-default-style\">inherit style from default style</a>"}, {"owner": {"reputation": 717, "user_id": 697428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91151a97f7b10b88c26f153e1ead1746?s=128&d=identicon&r=PG", "display_name": "The Grand User", "link": "https://stackoverflow.com/users/697428/the-grand-user"}, "reply_to_user": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1489014426, "post_id": 42680784, "comment_id": 72491337, "body": "No, because I&#39;m not trying to inherit the style, I&#39;m trying to remove the copied style entirely and just reference the one it was coped from."}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "edited": false, "score": 0, "creation_date": 1489017783, "post_id": 42680784, "comment_id": 72492547, "body": "See answer for more information based on your further explanation."}], "answers": [{"comments": [{"owner": {"reputation": 717, "user_id": 697428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91151a97f7b10b88c26f153e1ead1746?s=128&d=identicon&r=PG", "display_name": "The Grand User", "link": "https://stackoverflow.com/users/697428/the-grand-user"}, "edited": false, "score": 0, "creation_date": 1489013703, "post_id": 42681811, "comment_id": 72491066, "body": "That does not work for my situation. I&#39;ve added a more detailed example of what I&#39;m after."}], "tags": [], "owner": {"reputation": 579, "user_id": 4020159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rXd13.jpg?s=128&g=1", "display_name": "Nicolas Dias", "link": "https://stackoverflow.com/users/4020159/nicolas-dias"}, "is_accepted": false, "score": 1, "last_activity_date": 1489006690, "creation_date": 1489006690, "answer_id": 42681811, "question_id": 42680784, "link": "https://stackoverflow.com/questions/42680784/edit-wpf-control-template-but-use-original-styles/42681811#42681811", "title": "Edit wpf control template but use original styles", "body": "<p>To reuse the default <code>WPF</code> style to <code>ComboBox</code>, use:</p>\n\n<pre><code>&lt;Style TargetType=\"ComboBox\"&gt;\n&lt;!-- Setters in need of change --&gt;\n&lt;/ Style&gt;\n</code></pre>\n\n<p>If you want to inherit from a <code>Style</code> you created yourself, you can use:</p>\n\n<pre><code>&lt;Style TargetType=\"ComboBox\" BasedOn=\"{StaticResource YourExistentStyle}\"&gt;\n&lt;!-- Setters that need to change --&gt;\n&lt;/ Style&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 717, "user_id": 697428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91151a97f7b10b88c26f153e1ead1746?s=128&d=identicon&r=PG", "display_name": "The Grand User", "link": "https://stackoverflow.com/users/697428/the-grand-user"}, "edited": false, "score": 0, "creation_date": 1489022049, "post_id": 42684284, "comment_id": 72493749, "body": "So the regular ComboBox&#39;s ControlTemplate contains the style for the ToggleButton, even though when you edit a copy the it puts the Style outside the ControlTemplate? (I do note that that style has a ControlTemplate for the ToggleButton as well built into it)"}, {"owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "reply_to_user": {"reputation": 717, "user_id": 697428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91151a97f7b10b88c26f153e1ead1746?s=128&d=identicon&r=PG", "display_name": "The Grand User", "link": "https://stackoverflow.com/users/697428/the-grand-user"}, "edited": false, "score": 0, "creation_date": 1489092372, "post_id": 42684284, "comment_id": 72532076, "body": "Ya I can&#39;t speak to the logic of how VS extracts template parts. The Style template just provides a way of setting (Setter) property attributes of the ControlTemplate defined to it. You can apply those property settings to various ControlTemplate&#39;s via inheritance. So you could inherit the Style template (with it&#39;s ControlTemplate) of ToggleButton almost exactly like your second example. As long as it can reach a copy of that ToggleButton&#39;s Style template, otherwise it just goes to the default {x:Type ToggleButton} template and may not behave as you would like a ComoboBox ToggleButon to behave"}], "tags": [], "owner": {"reputation": 19848, "user_id": 1090206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BVW9D.jpg?s=128&g=1", "display_name": "Chris W.", "link": "https://stackoverflow.com/users/1090206/chris-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1489018094, "last_edit_date": 1489018094, "creation_date": 1489017720, "answer_id": 42684284, "question_id": 42680784, "link": "https://stackoverflow.com/questions/42680784/edit-wpf-control-template-but-use-original-styles/42684284#42684284", "title": "Edit wpf control template but use original styles", "body": "<p>Right, so Combobox isn't your basic bare templated control. Within it's <code>ControlTemplate</code> is a unique ToggleButton (hence the additional instance-specific Style template for it) which it requires. Once you introduce a new <code>ControlTemplate</code> than that's now all it knows. It CAN NOT reference a <code>Style</code> template inside of the original <code>ControlTemplate</code> since it's not a resource available outside of it. Style and ControlTemplate are different beasts.</p>\n\n<p>You have two options. Either you take that unique ToggleButton Style Template and put it somewhere it can be reached as a StaticResource and ref it on the ToggleButton instance inside your <code>ControlTemplate</code> via the normal <code>&lt;ToggleButton Style=\"{StaticResource ComboBoxUniqueToggleButtonStyleKeyNameYouGiveIt}\" ..../&gt;</code> \n(Like if it were in a resource dictionary, except then it's loaded all the time which generally isn't necessary).</p>\n\n<p>Or, you can embed it directly in your <code>ControlTemplate</code> just like they do <a href=\"https://msdn.microsoft.com/en-us/library/ms752094(v=vs.110).aspx\" rel=\"nofollow noreferrer\">in the default style/controltemplate for ComboBox</a>.</p>\n\n<p>You can inherit parts of a <code>Style</code> template via <code>BasedOn</code> but you can only have one <code>ControlTemplate</code> at a time.</p>\n\n<p>Hope this helps, and I'll retract my duplicate vote.</p>\n"}], "owner": {"reputation": 717, "user_id": 697428, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/91151a97f7b10b88c26f153e1ead1746?s=128&d=identicon&r=PG", "display_name": "The Grand User", "link": "https://stackoverflow.com/users/697428/the-grand-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1584, "favorite_count": 0, "accepted_answer_id": 42684284, "answer_count": 2, "score": 5, "last_activity_date": 1489018094, "creation_date": 1489003008, "last_edit_date": 1489014671, "question_id": 42680784, "link": "https://stackoverflow.com/questions/42680784/edit-wpf-control-template-but-use-original-styles", "title": "Edit wpf control template but use original styles", "body": "<p>Sometimes when I'm editing a copy of the controls original template I don't need to change the original styles and colors, and would like to reference the original ones directly.</p>\n\n<p>For example, I wanted to change the <code>ComboBox</code> template to add some filtering buttons in the drop down, its toggle button refers to a Style that is also copied into the file. I would like to refer to the original style so my <code>XAML</code> isn't overly cluttered.</p>\n\n<p>Edit:\nSo here is part of the XAML code that is created when you choose to edit a copy.\nThe ControlTemplate is what I want to change, but I don't need the ComboBoxToggleButton Style, and so for the toggleButton I'd like to set its style to the one the ComboBoxToggleButton Style was copied from. Is there some namespace that they are all stored in, or are they inaccessible?</p>\n\n<pre><code>&lt;Style x:Key=\"ComboBoxToggleButton\" TargetType=\"{x:Type ToggleButton}\"&gt;\n     ...\n&lt;/Style&gt;\n\n&lt;ControlTemplate x:Key=\"ComboBoxTemplate\" TargetType=\"{x:Type ComboBox}\"&gt;\n    &lt;Grid x:Name=\"templateRoot\" SnapsToDevicePixels=\"true\"&gt;\n        ...\n        &lt;ToggleButton x:Name=\"toggleButton\" ... Style=\"{StaticResource ResourceKey=ComboBoxToggleButton}\"/&gt;\n     &lt;/Grid&gt;\n&lt;/ControlTemplate&gt;\n</code></pre>\n\n<p>And approximately what I'd like it to be like</p>\n\n<pre><code>&lt;Window xmlns:baseStyles=\"{namespace/url to the default wpf styles}\"&gt;\n&lt;ControlTemplate x:Key=\"ComboBoxTemplate\" TargetType=\"{x:Type ComboBox}\"&gt;\n    &lt;Grid x:Name=\"templateRoot\" SnapsToDevicePixels=\"true\"&gt;\n        ...\n        &lt;ToggleButton x:Name=\"toggleButton\" ... Style=\"{StaticResource ResourceKey=baseStyles:ComboBoxToggleButton}\"/&gt;\n     &lt;/Grid&gt;\n     &lt;ControlTemplate.Triggers&gt;\n        ...\n     &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;\n</code></pre>\n"}, {"tags": ["c#", "naudio", "pitch-shifting"], "comments": [{"owner": {"reputation": 178, "user_id": 6377641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xWfAU.jpg?s=128&g=1", "display_name": "vipersassassin", "link": "https://stackoverflow.com/users/6377641/vipersassassin"}, "edited": false, "score": 0, "creation_date": 1489005097, "post_id": 42680670, "comment_id": 72486814, "body": "Are you asking explicitly for the formula used to determine how much to shift the frequency in order to get a Doppler effect?"}, {"owner": {"reputation": 21, "user_id": 7070885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fda04ec5f71759b72f54db00f585a48?s=128&d=identicon&r=PG&f=1", "display_name": "jon snow", "link": "https://stackoverflow.com/users/7070885/jon-snow"}, "reply_to_user": {"reputation": 178, "user_id": 6377641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xWfAU.jpg?s=128&g=1", "display_name": "vipersassassin", "link": "https://stackoverflow.com/users/6377641/vipersassassin"}, "edited": false, "score": 0, "creation_date": 1489045610, "post_id": 42680670, "comment_id": 72501809, "body": "No, I am just asking how to shift the frequency using the Naudio library."}], "owner": {"reputation": 21, "user_id": 7070885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fda04ec5f71759b72f54db00f585a48?s=128&d=identicon&r=PG&f=1", "display_name": "jon snow", "link": "https://stackoverflow.com/users/7070885/jon-snow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1489002578, "creation_date": 1489002578, "question_id": 42680670, "link": "https://stackoverflow.com/questions/42680670/doppler-effect-naudio", "title": "Doppler effect naudio", "body": "<p>If I understand correctly, in order to achieve a doppler effect in my wav file I have to alter its frequency. In my project with the Naudio library I have implemented a Isampleprovider and have access to the individual samples(float array). What do I have to do now to achieve the doppler effect(change the frequency?). \nThanks.</p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5521823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0fcde475fb6076d2ec90228e4536a3?s=128&d=identicon&r=PG&f=1", "display_name": "KSolo97", "link": "https://stackoverflow.com/users/5521823/ksolo97"}, "is_accepted": false, "score": 0, "last_activity_date": 1492608571, "creation_date": 1492608571, "answer_id": 43497205, "question_id": 42680557, "link": "https://stackoverflow.com/questions/42680557/how-do-i-pass-a-c-double-array-to-an-interface-c-function-expecting-a-double/43497205#43497205", "title": "How do I pass a C# double Array to an Interface C++ function expecting a double ptr", "body": "<p>This issue is a silent bug in the translation process.  It is silent because the pointer reference sort of has an ambiguous meaning whereas C# is highly type sensitive.  A pointer can be a pointer to a single object or it can be a pointer to an array of objects.  MSIL chose the former interpretation-that is a pointer points to a single data object.  MSIL expects developers relying on its interpretation to use the double pData[34] to indicate that an array object is to be expected. </p>\n"}], "owner": {"reputation": 1, "user_id": 5521823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0fcde475fb6076d2ec90228e4536a3?s=128&d=identicon&r=PG&f=1", "display_name": "KSolo97", "link": "https://stackoverflow.com/users/5521823/ksolo97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1492608571, "creation_date": 1489002246, "last_edit_date": 1489002531, "question_id": 42680557, "link": "https://stackoverflow.com/questions/42680557/how-do-i-pass-a-c-double-array-to-an-interface-c-function-expecting-a-double", "title": "How do I pass a C# double Array to an Interface C++ function expecting a double ptr", "body": "<p>I have a Control Object that was developed in C++. The following are the declarations in C++</p>\n\n<pre><code>DISP_FUNCTION_ID(CSmithsPlotCtrl, \"SetSpectrumData\", dispidSetSpectrumData, SetSpectrumData, VT_I4, VTS_BSTR VTS_I4 VTS_I4 VTS_R8 VTS_R8 VTS_I4 VTS_PR8)\n\nLONG  CSmithsPlotCtrl::SetSpectrumData(LPCTSTR pName, LONG yType, LONG xType, DOUBLE xBeg, DOUBLE xEnd, LONG nPoints, DOUBLE* pYData);\n</code></pre>\n\n<p>In C#, after registering the OCX file and adding the ocx as a reference and then as a component, a C# Interface file is created. </p>\n\n<pre><code>enter code here\n[Clsid(\"{2636ef09-71d1-47b3-a1c8-afae9af75bd9}\")]\n[DefaultEvent(\"PointSelected\")]\n[DesignTimeVisible(true)]\npublic class AxSmithsPlot : AxHost\n`enter code here`public virtual int SetSpectrumData(string pName, int ytype, int xtype, double xbeg, double xend, int nPoints, ref double pYData);\n</code></pre>\n\n<p>So how do i pass pData declared as <code>double[] pData = new double[5]</code> to parameter <code>pYData</code></p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net-mvc"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1489006201, "post_id": 42680550, "comment_id": 72487366, "body": "Show an example of your html."}, {"owner": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "edited": false, "score": 0, "creation_date": 1489006951, "post_id": 42680550, "comment_id": 72487771, "body": "Added for the answer below."}, {"owner": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "edited": false, "score": 0, "creation_date": 1489007615, "post_id": 42680550, "comment_id": 72488121, "body": "Thanks for the answer!  That&#39;s strange, because it does seem to get the index of the cell.  If test data is put into the $beneathCell.text(&quot;Test&quot;) and the undefined line is commented out, then it updates properly.  It seems to be just accessing the changed cell and its value that doesn&#39;t work.  Yes, though, the purpose is to get the value of the changed cell and update the cell directly beneath it with the same value."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1489008630, "post_id": 42680550, "comment_id": 72488663, "body": "Refer <a href=\"https://jsfiddle.net/p04w2eze/2/\" rel=\"nofollow noreferrer\">this fiddle</a> - it will update the corresponding cell in the following row although its a bit unclear what the purpose of this is."}, {"owner": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "edited": false, "score": 0, "creation_date": 1489008899, "post_id": 42680550, "comment_id": 72488804, "body": "@StephenMuecke thanks for the fiddle and the simplification, but the problem is that the Number($(this).val()) line in the fiddle results in 0 when I enter a number.  If the other methods in the post are used, then the result is NaN.  Is there an obvious reason why referencing the changed cell isn&#39;t returning the value?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1489009095, "post_id": 42680550, "comment_id": 72488897, "body": "What?? Enter a valid number in the fiddle and it works. But this is all very strange - why are you converting to a number anyway if you just want to duplicate the value in the following row"}, {"owner": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "edited": false, "score": 0, "creation_date": 1489009263, "post_id": 42680550, "comment_id": 72488969, "body": "I&#39;m going to eventually add some numbers to it, but want to get this fixed first.  The original question is why would the line return 0 with .val(), or NaN with the other mentioned methods, that&#39;s basically the same as the one I referenced in the fiddle: var $changedValue = Number($changedCell.val());"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "edited": false, "score": 0, "creation_date": 1489009286, "post_id": 42680550, "comment_id": 72488982, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/137595/discussion-between-stephen-muecke-and-jle\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "edited": false, "score": 0, "creation_date": 1489005066, "post_id": 42681140, "comment_id": 72486795, "body": "Thanks for the answer!  I tried adding the input to the class, and the value was 0 instead of the 100 I entered.  I think the issue here is that the changed cells are TextBoxFor instead of TextBox, but I want to make this code short and dynamic instead of having to reference each TextBoxFor id."}, {"owner": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "edited": false, "score": 0, "creation_date": 1489006408, "post_id": 42681140, "comment_id": 72487484, "body": "I just added an example from the table.  The rest of the table is more of the same, except substitute &quot;Primary&quot; for &quot;Secondary&quot;, &quot;Tertiary&quot;, etc."}], "tags": [], "owner": {"reputation": 2876, "user_id": 4172872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCMmuyZ5yEA/AAAAAAAAAAI/AAAAAAAAAEY/u0VSLspwRBY/photo.jpg?sz=128", "display_name": "levent", "link": "https://stackoverflow.com/users/4172872/levent"}, "is_accepted": false, "score": 0, "last_activity_date": 1489004284, "creation_date": 1489004284, "answer_id": 42681140, "question_id": 42680550, "link": "https://stackoverflow.com/questions/42680550/reference-table-cells-value-using-jquery/42681140#42681140", "title": "Reference Table Cell&#39;s Value using jQuery", "body": "<p>you trying catch cell change but you sould catch textbox change.</p>\n\n<p>try something like this.</p>\n\n<pre><code>$('.firstClass input, .secondClass input, .thirdClass input, .fourthClass input, .fifthClass input').change(function () {\n var $changedInput = $(this);\n var $changedCell = $changedInput.parent();\n var $changedRow = $changedCell.parent().index();\n var $cellIndex = $changedCell.index();\n var $nextRow = $changedRow + 1;\n var $table = $('#dt_myTable tr');\n var $beneathCell = $table.eq($nextRow).find('td').eq($cellIndex);\n var $changedValue = Number($changedInput.val());//Undefined!\n $beneathCell.text($changedValue);\n});\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 5017216, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/293d8b5934e6fdea4701427392ba34c8?s=128&d=identicon&r=PG&f=1", "display_name": "jle", "link": "https://stackoverflow.com/users/5017216/jle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489010843, "creation_date": 1489002227, "last_edit_date": 1489010843, "question_id": 42680550, "link": "https://stackoverflow.com/questions/42680550/reference-table-cells-value-using-jquery", "title": "Reference Table Cell&#39;s Value using jQuery", "body": "<p>I have a table populated with a set number of TextBoxFor inputs from the page's C# Model.  Each column of these inputs has a distinct class name.  Using a .change event on any one of the classes, the changed cell's row and cell/column number are used to identify the cell in the row directly beneath it.  The value of the changed cell, however, is always showing up as undefined.  I've tried searching SO for answers, .val(), .html(), .text(), getting the changed cell's ID and applying .val() to that, but any reference to the changed cell is undefined.  How does one properly address the changed cell?  Many thanks in advance!</p>\n\n<p>jQuery:</p>\n\n<pre><code>$('.firstClass, .secondClass, .thirdClass, .fourthClass, .fifthClass').change(function () {\n     var $changedCell = $(this);\n     var $changedRow = $changedCell.parent().index();\n     var $cellIndex = $changedCell.index();\n     var $nextRow = $changedRow + 1;\n     var $table = $('#dt_myTable tr');\n     var $beneathCell = $table.eq($nextRow).find('td').eq($cellIndex);\n     var $changedValue = Number($changedCell.val());//Zero or Undefined, depending on using .val() or .html()/.text()!\n     $beneathCell.text($changedValue);\n});\n</code></pre>\n\n<p>Here's a sample of the table:</p>\n\n<pre><code>&lt;table id=\"dt_myTable\" class=\"table table-bordered\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;&lt;th class=\"text-center\"&gt;Suggested&lt;/th&gt;&lt;th class=\"text-center\"&gt;First&lt;/th&gt;&lt;th class=\"text-center\"&gt;Second&lt;/th&gt;&lt;th class=\"text-center\"&gt;Third&lt;/th&gt;&lt;th class=\"text-center\"&gt;Fourth&lt;/th&gt;&lt;th class=\"text-center\"&gt;Fifth&lt;/th&gt;&lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td align=\"center\"&gt;Primary&lt;/td&gt;\n            &lt;td class=\"firstClass\" align=\"center\"&gt;@Html.TextBoxFor(m =&gt; m.FirstPrimary, new { @class = \"form-control\", data_parsley_required = \"true\" })&lt;/td&gt;\n            &lt;td class=\"secondClass\" align=\"center\"&gt;@Html.TextBoxFor(m =&gt; m.SecondPrimary, new { @class = \"form-control\", data_parsley_required = \"true\" })&lt;/td&gt;\n            &lt;td class=\"thirdClass\" align=\"center\"&gt;@Html.TextBoxFor(m =&gt; m.ThirdPrimary, new { @class = \"form-control\", data_parsley_required = \"true\" })&lt;/td&gt;\n            &lt;td class=\"fourthClass\" align=\"center\"&gt;@Html.TextBoxFor(m =&gt; m.FourthPrimary, new { @class = \"form-control\", data_parsley_required = \"true\" })&lt;/td&gt;\n            &lt;td class=\"fifthClass\" align=\"center\"&gt;@Html.TextBoxFor(m =&gt; m.FifthPrimary, new { @class = \"form-control\", data_parsley_required = \"true\" })&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td align=\"center\"&gt;&lt;b&gt;Result&lt;/b&gt;&lt;/td&gt;\n            &lt;td class=\"firstClass\" align=\"center\"&gt;&lt;/td&gt;\n            &lt;td class=\"secondClass\" align=\"center\"&gt;&lt;/td&gt;\n            &lt;td class=\"thirdClass\" align=\"center\"&gt;&lt;/td&gt;\n            &lt;td class=\"fourthClass\" align=\"center\"&gt;&lt;/td&gt;\n            &lt;td class=\"fifthClass\" align=\"center\"&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["c#", "devexpress"], "comments": [{"owner": {"reputation": 948, "user_id": 7604843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d35afd9ed7c5c02c2e411bf77d6be9?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Kramer", "link": "https://stackoverflow.com/users/7604843/brandon-kramer"}, "edited": false, "score": 0, "creation_date": 1489003910, "post_id": 42680545, "comment_id": 72486157, "body": "Related: <a href=\"http://stackoverflow.com/questions/11892064/propertygrid-with-custom-propertydescriptor\" title=\"propertygrid with custom propertydescriptor\">stackoverflow.com/questions/11892064/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "is_accepted": false, "score": 0, "last_activity_date": 1489082490, "creation_date": 1489082490, "answer_id": 42702370, "question_id": 42680545, "link": "https://stackoverflow.com/questions/42680545/how-can-i-use-a-password-char-in-a-devexpress-propertygridcontrol/42702370#42702370", "title": "How can I use a password char in a DevExpress PropertyGridControl", "body": "<p>The fact is that an incorrect method is used to achieve the required result. As stated in the ICustomTypeDescriptor.GetAttributes MSDN article, this method returns a collection of custom attributes for this instance of a component.\nHowever, to assign an attribute to a property of the target object, you need to override the ICustomTypeDescriptor.GetProperties method. In your specific case, you can implement the method in the following manner:</p>\n\n<pre><code> PropertyDescriptorCollection ICustomTypeDescriptor.GetProperties(Attribute[] attributes)\n        {\n            PropertyDescriptorCollection props = TypeDescriptor.GetProperties(this, attributes, true);\n            return UpdateProperties(props);\n        }\n         PropertyDescriptorCollection ICustomTypeDescriptor.GetProperties()\n        {\n            PropertyDescriptorCollection props = TypeDescriptor.GetProperties(this, true);\n            return UpdateProperties(props);\n        }\n         private PropertyDescriptorCollection UpdateProperties(PropertyDescriptorCollection props)\n        {\n            List&lt;PropertyDescriptor&gt; newProps = new List&lt;PropertyDescriptor&gt;();\n            PropertyDescriptor current;\n            foreach (PropertyDescriptor prop in props)\n            {\n                current = prop;\n                if (prop.Name == \"UserPassword\")\n                    current = TypeDescriptor.CreateProperty(typeof(UserInfo), prop, new Attribute[] { new PasswordPropertyTextAttribute(true) });\n                newProps.Add(current);\n            }\n            return new PropertyDescriptorCollection(newProps.ToArray()); ;\n        }\n</code></pre>\n"}], "owner": {"reputation": 22581, "user_id": 509627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/e33ew.jpg?s=128&g=1", "display_name": "David Thielen", "link": "https://stackoverflow.com/users/509627/david-thielen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489082490, "creation_date": 1489002218, "question_id": 42680545, "link": "https://stackoverflow.com/questions/42680545/how-can-i-use-a-password-char-in-a-devexpress-propertygridcontrol", "title": "How can I use a password char in a DevExpress PropertyGridControl", "body": "<p>If I assign an object to PropertyGridControl.SelectedObjuect <a href=\"https://www.devexpress.com/Support/Center/Question/Details/Q528743\" rel=\"nofollow noreferrer\">then I can use [PasswordPropertyTextAttribute(true)] for the password property</a> and it works great.</p>\n\n<p>However I pass an object that implements ICustomTypeDescriptor as follows and this has no effect:</p>\n\n<pre><code>AttributeCollection ICustomTypeDescriptor.GetAttributes()\n{\n    AttributeCollection attrColl = TypeDescriptor.GetAttributes(this, true);\n    Attribute [] attrs = new Attribute[attrColl.Count + 1];\n    attrColl.CopyTo(attrs, 0);\n    attrs[attrs.Length-1] = new PasswordPropertyTextAttribute(true);\n    return new AttributeCollection(attrs);\n}\n</code></pre>\n\n<p>Is there a way to accomplish this? We're using Windows Forms &amp; C#.</p>\n"}, {"tags": ["c#", "sql", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 1744, "user_id": 3279876, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/TTcSZ.png?s=128&g=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/3279876/sami"}, "is_accepted": true, "score": 1, "last_activity_date": 1489008147, "last_edit_date": 1489008147, "creation_date": 1489007832, "answer_id": 42682078, "question_id": 42680527, "link": "https://stackoverflow.com/questions/42680527/adding-two-text-box-values-into-sql-database-table-with-wpf-c/42682078#42682078", "title": "Adding two text box values into SQL database table with WPF C#", "body": "<p>Likely the problem lies with your command text. Try something like</p>\n\n<pre><code> cmd.CommandText = \"INSERT INTO MemberInformation(Name, Age) VALUES(@nm, Age)\";\n</code></pre>\n\n<p>You might also be better off doing the string concatenation before adding them to the database. Personally, I would replace the <code>cmd.Parameters.AddWithValue(\"@nm\", textBox1.Text + textBox2.Text);</code> with</p>\n\n<pre><code>string val = string.Concat(textBox1.Text, textBox2.Text);\ncmd.Parameters.AddWithValue(\"@nm\", val);\n</code></pre>\n\n<p>or maybe just</p>\n\n<pre><code>cmd.Parameters.AddWithValue(\"@nm\",string.Concat(textBox1.Text, textBox2.Text));\n</code></pre>\n\n<p>if it works.</p>\n"}], "owner": {"reputation": 39, "user_id": 7607238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98766fd7ee28d29749dd38982ab2f8c7?s=128&d=identicon&r=PG&f=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/7607238/nitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 42682078, "answer_count": 1, "score": 0, "last_activity_date": 1492032301, "creation_date": 1489002180, "last_edit_date": 1492032301, "question_id": 42680527, "link": "https://stackoverflow.com/questions/42680527/adding-two-text-box-values-into-sql-database-table-with-wpf-c", "title": "Adding two text box values into SQL database table with WPF C#", "body": "<p>I have two textboxes and I want to store their values into an SQL database table.</p>\n\n<p>however, I get the error for the command text</p>\n\n<pre><code>Additional information: Incorrect syntax near '+'.\n</code></pre>\n\n<p>I dont know wether I am using the wrong syntax to combine the two values from the two textboxes or do I need another SQL statement for the second text box?</p>\n"}, {"tags": ["c#", ".net", ".net-core", "csproj"], "comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1504895931, "post_id": 42680422, "comment_id": 79208014, "body": "As your project targets .NET Framework, you should probably disable PublicSign, as I indicated in <a href=\"https://blog.lextudio.com/tips-for-net-nuget-package-authors-august-2017-48f07604e4a0\" rel=\"nofollow noreferrer\">blog.lextudio.com/&hellip;</a> Otherwise, .NET Framework projects might experience verification errors when consuming it."}], "answers": [{"tags": [], "owner": {"reputation": 1958, "user_id": 3680432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oOX5h.jpg?s=128&g=1", "display_name": "Eric Erhardt", "link": "https://stackoverflow.com/users/3680432/eric-erhardt"}, "is_accepted": true, "score": 4, "last_activity_date": 1489032864, "creation_date": 1489032864, "answer_id": 42686585, "question_id": 42680422, "link": "https://stackoverflow.com/questions/42680422/reducing-package-dependencies-in-net-core-standard/42686585#42686585", "title": "Reducing Package Dependencies in .net core/standard", "body": "<p>You can set</p>\n\n<pre><code>&lt;PropertyGroup&gt;\n    &lt;DisableImplicitFrameworkReferences&gt;true&lt;/DisableImplicitFrameworkReferences&gt;\n&lt;/PropertyGroup&gt;\n</code></pre>\n\n<p>In your .csproj. This tells the SDK to not reference NETStandard.Library or Microsoft.NETCore.App implicitly.</p>\n"}], "owner": {"reputation": 135, "user_id": 593011, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0786f0b4f8d06fdad34ae56d76c98d84?s=128&d=identicon&r=PG", "display_name": "CheloXL", "link": "https://stackoverflow.com/users/593011/cheloxl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 42686585, "answer_count": 1, "score": 0, "last_activity_date": 1489032864, "creation_date": 1489001807, "question_id": 42680422, "link": "https://stackoverflow.com/questions/42680422/reducing-package-dependencies-in-net-core-standard", "title": "Reducing Package Dependencies in .net core/standard", "body": "<p>I'm trying to upgrade some libraries I've built in VS2015/.net core to VS2017. While the project.json > *.csproj conversion went fairly well, I'm having troubles trying to make my library(ies) not depend on the full framework but only on the packages I really need.</p>\n\n<p>What I previously did was documented at <a href=\"https://docs.microsoft.com/en-us/dotnet/articles/core/deploying/reducing-dependencies\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/dotnet/articles/core/deploying/reducing-dependencies</a></p>\n\n<p>That was working fine. After the upgrade, my \"Dependencies\" has the SDK nuget installed and it can't be removed.</p>\n\n<p>Project.csproj contains the following:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n    &lt;PropertyGroup&gt;\n        &lt;AssemblyTitle&gt;DDS.Core.Commons.Annotations&lt;/AssemblyTitle&gt;\n        &lt;VersionPrefix&gt;17.03.08.1526&lt;/VersionPrefix&gt;\n        &lt;TargetFrameworks&gt;netstandard1.6;net46&lt;/TargetFrameworks&gt;\n        &lt;AssemblyName&gt;DDS.Core.Commons.Annotations&lt;/AssemblyName&gt;\n        &lt;PackageId&gt;$(AssemblyName)&lt;/PackageId&gt;\n        &lt;RootNamespace&gt;DDS.Core.Commons.Annotations&lt;/RootNamespace&gt;\n    &lt;/PropertyGroup&gt;\n\n    &lt;PropertyGroup Condition=\" '$(Configuration)' == 'Debug' \"&gt;\n        &lt;TreatWarningsAsErrors&gt;true&lt;/TreatWarningsAsErrors&gt;\n        &lt;DebugType&gt;full&lt;/DebugType&gt;\n    &lt;/PropertyGroup&gt;\n\n    &lt;PropertyGroup Condition=\" '$(Configuration)' == 'Release' \"&gt;\n        &lt;AllowUnsafeBlocks&gt;true&lt;/AllowUnsafeBlocks&gt;\n        &lt;PublicSign&gt;true&lt;/PublicSign&gt;\n        &lt;DebugType&gt;portable&lt;/DebugType&gt;\n        &lt;GenerateDocumentationFile&gt;true&lt;/GenerateDocumentationFile&gt;\n        &lt;GeneratePackageOnBuild&gt;True&lt;/GeneratePackageOnBuild&gt;\n    &lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>I omitted some properties (description, author, etc) for brevity.</p>\n\n<p>Do anyone has any idea on how the above can be accomplished now? Thanks in advance.</p>\n"}, {"tags": ["c#", "python", "sockets"], "answers": [{"tags": [], "owner": {"reputation": 2876, "user_id": 4172872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCMmuyZ5yEA/AAAAAAAAAAI/AAAAAAAAAEY/u0VSLspwRBY/photo.jpg?sz=128", "display_name": "levent", "link": "https://stackoverflow.com/users/4172872/levent"}, "is_accepted": false, "score": 0, "last_activity_date": 1489002380, "creation_date": 1489002380, "answer_id": 42680609, "question_id": 42680413, "link": "https://stackoverflow.com/questions/42680413/connecting-python-socketserver-with-c-client/42680609#42680609", "title": "Connecting Python SocketServer with C# Client", "body": "<p>server trying to read 1024 byte from client when message received.</p>\n\n<pre><code>`self.request.recv(1024).strip()` \n</code></pre>\n\n<p>client message size is not 1024 byte, try use <code>public byte[] buffer</code>  of <code>StateObject</code> in Send Method.</p>\n"}, {"comments": [{"owner": {"reputation": 40308, "user_id": 7122, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/31fdbe39c7657652fb5f34cdef2c78c9?s=128&d=identicon&r=PG", "display_name": "David Arno", "link": "https://stackoverflow.com/users/7122/david-arno"}, "edited": false, "score": 0, "creation_date": 1612515313, "post_id": 42683139, "comment_id": 116795986, "body": "<code>ipHostInfo.AddressList[2]</code> didn&#39;t work for me, but as per Jade&#39;s answer, <code>ipHostInfo.AddressList[1]</code> did work."}], "tags": [], "owner": {"reputation": 297, "user_id": 4018081, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96d717d87214d55b2b9f49c56144a310?s=128&d=identicon&r=PG&f=1", "display_name": "Barte", "link": "https://stackoverflow.com/users/4018081/barte"}, "is_accepted": true, "score": 6, "last_activity_date": 1489180113, "last_edit_date": 1489180113, "creation_date": 1489012186, "answer_id": 42683139, "question_id": 42680413, "link": "https://stackoverflow.com/questions/42680413/connecting-python-socketserver-with-c-client/42683139#42683139", "title": "Connecting Python SocketServer with C# Client", "body": "<p>I was able to resolve this issue by changing</p>\n\n<pre><code>IPAddress ipAddress = ipHostInfo.AddressList[0];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>IPAddress ipAddress = ipHostInfo.AddressList[2];\n</code></pre>\n\n<p>It turns out <code>AddressList[0]</code> returns IPv6 Address and in Python <code>socket.gethostname()</code> returns IPv4 address. </p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11566731, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9TJ1z9B3ZXY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdDzhDAwJPPSSTrFw-y5r5eeEWTRA/mo/photo.jpg?sz=128", "display_name": "Jade Emperor", "link": "https://stackoverflow.com/users/11566731/jade-emperor"}, "is_accepted": false, "score": 2, "last_activity_date": 1565690913, "creation_date": 1565690913, "answer_id": 57475560, "question_id": 42680413, "link": "https://stackoverflow.com/questions/42680413/connecting-python-socketserver-with-c-client/57475560#57475560", "title": "Connecting Python SocketServer with C# Client", "body": "<pre><code>IPAddress ipAddress = ipHostInfo.AddressList[1];\n</code></pre>\n\n<p>works for me.</p>\n"}], "owner": {"reputation": 297, "user_id": 4018081, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/96d717d87214d55b2b9f49c56144a310?s=128&d=identicon&r=PG&f=1", "display_name": "Barte", "link": "https://stackoverflow.com/users/4018081/barte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8170, "favorite_count": 2, "accepted_answer_id": 42683139, "answer_count": 3, "score": 5, "last_activity_date": 1565690913, "creation_date": 1489001787, "question_id": 42680413, "link": "https://stackoverflow.com/questions/42680413/connecting-python-socketserver-with-c-client", "title": "Connecting Python SocketServer with C# Client", "body": "<p>I am trying to send data to Python via C# client. My code works when both the server and the client is either Python or C# but when I run the same code with C# client and Python server I get the following error:</p>\n\n<blockquote>\n  <p>No connection could be made because the target machine actively refused it </p>\n</blockquote>\n\n<p>This is my C# client. I got this code from <a href=\"https://msdn.microsoft.com/en-us/library/bew39x2a(v=vs.110).aspx\" rel=\"noreferrer\">msdn</a></p>\n\n<pre><code>using System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Threading;\nusing System.Text;\n\n// State object for receiving data from remote device.  \npublic class StateObject\n{\n    // Client socket.  \n    public Socket workSocket = null;\n    // Size of receive buffer.  \n    public const int BufferSize = 1024;\n    // Receive buffer.  \n    public byte[] buffer = new byte[BufferSize];\n    // Received data string.  \n    public StringBuilder sb = new StringBuilder();\n}\n\npublic class AsynchronousClient\n{\n    // The port number for the remote device.  \n    private const int port = 11000;\n\n    // ManualResetEvent instances signal completion.  \n    private static ManualResetEvent connectDone =\n        new ManualResetEvent(false);\n    private static ManualResetEvent sendDone =\n        new ManualResetEvent(false);\n    private static ManualResetEvent receiveDone =\n        new ManualResetEvent(false);\n\n    // The response from the remote device.  \n    private static String response = String.Empty;\n\n    private static void StartClient()\n    {\n        // Connect to a remote device.  \n        try\n        {\n            // Establish the remote endpoint for the socket.  \n            // The name of the    \n            IPHostEntry ipHostInfo = Dns.GetHostEntry(Dns.GetHostName());\n            IPAddress ipAddress = ipHostInfo.AddressList[0];\n            IPEndPoint remoteEP = new IPEndPoint(ipAddress, port);\n\n            // Create a TCP/IP socket.  \n            Socket client = new Socket(ipAddress.AddressFamily,\n                SocketType.Stream, ProtocolType.Tcp);\n\n            // Connect to the remote endpoint.  \n            client.BeginConnect(remoteEP,\n                new AsyncCallback(ConnectCallback), client);\n            connectDone.WaitOne();\n\n            // Send test data to the remote device.  \n            Send(client, \"This is a test&lt;EOF&gt;\");\n            sendDone.WaitOne();\n\n            // Receive the response from the remote device.  \n            Receive(client);\n            receiveDone.WaitOne();\n\n            // Write the response to the console.  \n            Console.WriteLine(\"Response received : {0}\", response);\n\n            // Release the socket.  \n            client.Shutdown(SocketShutdown.Both);\n            client.Close();\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n    private static void ConnectCallback(IAsyncResult ar)\n    {\n        try\n        {\n            // Retrieve the socket from the state object.  \n            Socket client = (Socket)ar.AsyncState;\n\n            // Complete the connection.  \n            client.EndConnect(ar);\n\n            Console.WriteLine(\"Socket connected to {0}\",\n                client.RemoteEndPoint.ToString());\n\n            // Signal that the connection has been made.  \n            connectDone.Set();\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n    private static void Receive(Socket client)\n    {\n        try\n        {\n            // Create the state object.  \n            StateObject state = new StateObject();\n            state.workSocket = client;\n\n            // Begin receiving the data from the remote device.  \n            client.BeginReceive(state.buffer, 0, StateObject.BufferSize, 0,\n                new AsyncCallback(ReceiveCallback), state);\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n    private static void ReceiveCallback(IAsyncResult ar)\n    {\n        try\n        {\n            // Retrieve the state object and the client socket   \n            // from the asynchronous state object.  \n            StateObject state = (StateObject)ar.AsyncState;\n            Socket client = state.workSocket;\n\n            // Read data from the remote device.  \n            int bytesRead = client.EndReceive(ar);\n\n            if (bytesRead &gt; 0)\n            {\n                // There might be more data, so store the data received so far.  \n                state.sb.Append(Encoding.ASCII.GetString(state.buffer, 0, bytesRead));\n\n                // Get the rest of the data.  \n                client.BeginReceive(state.buffer, 0, StateObject.BufferSize, 0,\n                    new AsyncCallback(ReceiveCallback), state);\n            }\n            else\n            {\n                // All the data has arrived; put it in response.  \n                if (state.sb.Length &gt; 1)\n                {\n                    response = state.sb.ToString();\n                }\n                // Signal that all bytes have been received.  \n                receiveDone.Set();\n            }\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n    private static void Send(Socket client, String data)\n    {\n        // Convert the string data to byte data using ASCII encoding.  \n        byte[] byteData = Encoding.ASCII.GetBytes(data);\n\n        // Begin sending the data to the remote device.  \n        client.BeginSend(byteData, 0, byteData.Length, 0,\n            new AsyncCallback(SendCallback), client);\n    }\n\n    private static void SendCallback(IAsyncResult ar)\n    {\n        try\n        {\n            // Retrieve the socket from the state object.  \n            Socket client = (Socket)ar.AsyncState;\n\n            // Complete sending the data to the remote device.  \n            int bytesSent = client.EndSend(ar);\n            Console.WriteLine(\"Sent {0} bytes to server.\", bytesSent);\n\n            // Signal that all bytes have been sent.  \n            sendDone.Set();\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n    public static int Main(String[] args)\n    {\n        StartClient();\n        return 0;\n    }\n}\n</code></pre>\n\n<p>Here is my Python server. I got this code from <a href=\"https://docs.python.org/2/library/socketserver.html\" rel=\"noreferrer\">python docs</a></p>\n\n<pre><code>import SocketServer\nimport socket\n\nclass MyTCPHandler(SocketServer.BaseRequestHandler):\n\n    def handle(self):\n        self.data = self.request.recv(1024).strip()\n        print \"{} wrote:\".format(self.client_address[0])\n        print self.data\n        self.request.sendall(self.data.upper())\n\nif __name__ == \"__main__\":\n    HOST, PORT = socket.gethostname(), 11000\n\n    server = SocketServer.TCPServer((HOST, PORT), MyTCPHandler)\n    server.serve_forever()\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1489001789, "post_id": 42680362, "comment_id": 72484974, "body": "See <a href=\"https://en.wikipedia.org/wiki/Software_design_pattern#Behavioral_patterns\" rel=\"nofollow noreferrer\">Design Patterns</a>. Of interest could be the Mediator pattern or Proxy patterns."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1489001925, "post_id": 42680362, "comment_id": 72485048, "body": "I was thinking the Strategy pattern."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 2, "creation_date": 1489002322, "post_id": 42680362, "comment_id": 72485278, "body": "Operators you describe (&gt;, != etc) are just functions that take 2 arguments of the same type and return bool. So you can store them as Func&lt;T,T,bool&gt; delegates (where T is the type of arguments)."}, {"owner": {"reputation": 2219, "user_id": 7578157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411ee6226a7945541ca98511b5f4861a?s=128&d=identicon&r=PG&f=1", "display_name": "JMadelaine", "link": "https://stackoverflow.com/users/7578157/jmadelaine"}, "edited": false, "score": 0, "creation_date": 1489004026, "post_id": 42680362, "comment_id": 72486222, "body": "Could you not just search the incoming string for those chars and use a switch statement where a function would be called determined by the char found?"}], "answers": [{"comments": [{"owner": {"reputation": 3791, "user_id": 1426199, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3387689b097b0dcda641d48acc84cab3?s=128&d=identicon&r=PG", "display_name": "David Choi", "link": "https://stackoverflow.com/users/1426199/david-choi"}, "edited": false, "score": 0, "creation_date": 1489005804, "post_id": 42681230, "comment_id": 72487163, "body": "Hmm. This is interesting I did not know that internally operators have a string name. Let me see some of the other suggestions, but this looks promising. Thanks."}], "tags": [], "owner": {"reputation": 1439, "user_id": 5312245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L-HQevIUjls/AAAAAAAAAAI/AAAAAAAABXo/xP1oI4FHXzM/photo.jpg?sz=128", "display_name": "Abdullah Dibas", "link": "https://stackoverflow.com/users/5312245/abdullah-dibas"}, "is_accepted": true, "score": 0, "last_activity_date": 1489004631, "creation_date": 1489004631, "answer_id": 42681230, "question_id": 42680362, "link": "https://stackoverflow.com/questions/42680362/in-c-is-it-possible-to-pass-or-return-operators-like-types/42681230#42681230", "title": "In c# is it possible to pass or return operators like types", "body": "<p>Try this:</p>\n\n<pre><code>  public class ExcelFiltersManager\n{\n    public static class ExcelFilters\n    {\n        public const string Equal = \"equals\";\n        public const string GreaterThen = \"greaterthan\";\n\n        // complete here the other operators.\n    }\n\n    static class Operators\n    {\n        // C# compiler converts overloaded operators to functions with name op_XXXX where XXXX is the opration\n\n        public const string Equality = \"op_Equality\";\n        public const string InEquality = \"op_Inequality\";\n        public const string LessThan = \"op_LessThan\";\n        public const string GreaterThan = \"op_GreaterThan\";\n        public const string LessThanOrEqual = \"op_LessThanOrEqual\";\n        public const string GreaterThanOrEqual = \"op_GreaterThanOrEqual\";\n    }\n\n    public bool GetOperatorBooleanResult&lt;T&gt;(string excelFilter, T value1, T value2)\n    {\n        MethodInfo mi = typeof(T).GetMethod(GetOperatorCompileName(excelFilter), BindingFlags.Static | BindingFlags.Public);\n        return (bool)mi.Invoke(null, new object[] { value1, value2 });\n    }\n\n    private string GetOperatorCompileName(string excelFilter)\n    {\n        string operatorCompileName = string.Empty;\n\n        switch (excelFilter)\n        {\n            case ExcelFilters.Equal:\n                operatorCompileName = Operators.Equality;\n                break;\n            case ExcelFilters.GreaterThen:\n                operatorCompileName = Operators.GreaterThan;\n                break;\n\n                // continue here the mapping with the rest of operators\n        }\n\n        return operatorCompileName;\n    }\n}\n</code></pre>\n\n<p>then in your code you can use the following to get the result of the filter:</p>\n\n<pre><code>decimal value1 = 5;\ndecimal value2 = 10;\n\nbool result = GetOperatorBooleanResult(ExcelFilters.GreaterThen, value1, value2); \n</code></pre>\n"}], "owner": {"reputation": 3791, "user_id": 1426199, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/3387689b097b0dcda641d48acc84cab3?s=128&d=identicon&r=PG", "display_name": "David Choi", "link": "https://stackoverflow.com/users/1426199/david-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1489012168, "accepted_answer_id": 42681230, "answer_count": 1, "score": -1, "last_activity_date": 1489004631, "creation_date": 1489001623, "question_id": 42680362, "link": "https://stackoverflow.com/questions/42680362/in-c-is-it-possible-to-pass-or-return-operators-like-types", "closed_reason": "Opinion-based", "title": "In c# is it possible to pass or return operators like types", "body": "<p>I have an excel exporter class that must take filtering information from a third party and use that info to filter data. The filtering information comes in as strings like \"equals\", \"greatherthan\", etc. What is the best way to produce reusable code that can convert these filtering types into c# code.</p>\n\n<p>I was thinking it might be good to convert them into operators and return that. But I don't know if this is possible or even a good idea. What do you think?</p>\n"}, {"tags": ["c#", "visual-studio-2015", "copy", "access-denied", "console.readline"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 1, "creation_date": 1489001511, "post_id": 42680214, "comment_id": 72484788, "body": "Impossible to say for sure, for anyone not sitting at your computer. But it sure sounds like you haven&#39;t exited the previously running instance of your program (i.e. by pressing an appropriate key) before you try to re-compile and run another. Of course, when you remove the call to <code>ReadLine()</code> or <code>ReadKey()</code>, that previously running instance exits normally rather than waiting, so in that case it works fine."}, {"owner": {"reputation": 2663, "user_id": 797223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/VKSSD.jpg?s=128&g=1", "display_name": "Bent Tranberg", "link": "https://stackoverflow.com/users/797223/bent-tranberg"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1489001725, "post_id": 42680214, "comment_id": 72484931, "body": "There is a possibility that your anti-virus causes it, in which case you should look for log entries and for quarantined files in the AV. Can also be caused by the disk being close to full. But most likely it&#39;s as @PeterDuniho explains."}, {"owner": {"reputation": 175, "user_id": 6783812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XXCYp.jpg?s=128&g=1", "display_name": "athomas", "link": "https://stackoverflow.com/users/6783812/athomas"}, "edited": false, "score": 0, "creation_date": 1489002209, "post_id": 42680214, "comment_id": 72485225, "body": "But this was the very first code I tried to execute. The very first time I tried to compile. There aren&#39;t any more programs (that I know of) that are using this file. I also just tried commenting out the Console.WriteLine() line and leaving the ReadLine(). Oddly enough, it works! It just not working with those two together."}], "answers": [{"tags": [], "owner": {"reputation": 3248, "user_id": 1089441, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0cee6ae038ac96c7e6602370f2f3acef?s=128&d=identicon&r=PG", "display_name": "Slava", "link": "https://stackoverflow.com/users/1089441/slava"}, "is_accepted": false, "score": 0, "last_activity_date": 1498816332, "creation_date": 1498816332, "answer_id": 44843605, "question_id": 42680214, "link": "https://stackoverflow.com/questions/42680214/unable-to-copy-file-access-to-path-denied/44843605#44843605", "title": "Unable to copy file. Access to path denied", "body": "<p>killing VBCSCompiler.exe process hepls me</p>\n"}], "owner": {"reputation": 175, "user_id": 6783812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XXCYp.jpg?s=128&g=1", "display_name": "athomas", "link": "https://stackoverflow.com/users/6783812/athomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 674, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498816332, "creation_date": 1489001146, "last_edit_date": 1489001606, "question_id": 42680214, "link": "https://stackoverflow.com/questions/42680214/unable-to-copy-file-access-to-path-denied", "title": "Unable to copy file. Access to path denied", "body": "<p>I just did a fresh download of Visual Studio 2015 on my laptop running Win10 (x64). I go to create my first Console Application and is opens successfully. I proceed to write a simple application..</p>\n\n<pre><code>namespace ConsoleApplication1\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            Console.WriteLine(\"Hello World\");\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n\n<p>When I clicked debug, I get an error saying...</p>\n\n<blockquote>\n  <p>Unable to copy file \"obj\\Debug\\ConsoleApplication1.exe\" to \"bin\\Debug\\ConsoleApplication1.exe\". Access to the path 'obj\\Debug\\ConsoleApplication1.exe' is denied.</p>\n</blockquote>\n\n<p>However, when I comment out the <code>Console.ReadLine()</code> code, the application runs just fine. I can't imagine writing an application without these <code>Console.ReadLine()</code> statements because it allows for the end user to add information. When the code runs without this line, it, of course, runs, completes and stops.</p>\n\n<p>Can anyone tell me why this won't run with <code>Console.ReadLine()</code>? It also didn't run with <code>Console.ReadKey()</code> either.</p>\n"}, {"tags": ["c#", "msbuild", "nuget", "nunit", "packages"], "comments": [{"owner": {"reputation": 1052, "user_id": 4995557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/025e6868be34174f3b4ba3a6bdeae13a?s=128&d=identicon&r=PG&f=1", "display_name": "Fahad Jameel", "link": "https://stackoverflow.com/users/4995557/fahad-jameel"}, "edited": false, "score": 2, "creation_date": 1489001243, "post_id": 42680198, "comment_id": 72484633, "body": "Maybe this will help, <a href=\"http://stackoverflow.com/questions/35191374/nunit-tests-throwing-exception-only-when-run-as-part-of-tfs-msbuild-process\" title=\"nunit tests throwing exception only when run as part of tfs msbuild process\">stackoverflow.com/questions/35191374/&hellip;</a>"}, {"owner": {"reputation": 341, "user_id": 6073010, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/IGETx.png?s=128&g=1", "display_name": "Jacob C. Voller", "link": "https://stackoverflow.com/users/6073010/jacob-c-voller"}, "reply_to_user": {"reputation": 1052, "user_id": 4995557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/025e6868be34174f3b4ba3a6bdeae13a?s=128&d=identicon&r=PG&f=1", "display_name": "Fahad Jameel", "link": "https://stackoverflow.com/users/4995557/fahad-jameel"}, "edited": false, "score": 0, "creation_date": 1489005184, "post_id": 42680198, "comment_id": 72486860, "body": "@FahadJameel that solved it, thank you!"}], "owner": {"reputation": 341, "user_id": 6073010, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/IGETx.png?s=128&g=1", "display_name": "Jacob C. Voller", "link": "https://stackoverflow.com/users/6073010/jacob-c-voller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1489001108, "creation_date": 1489001108, "question_id": 42680198, "link": "https://stackoverflow.com/questions/42680198/ms-build-throws-nunit-core-unsupportedframeworkexception", "title": "MS Build throws NUnit.Core.UnsupportedFrameworkException", "body": "<p>I have a NUnit 3 test project, locally it works. When it's run as a TFS build using MS TEST it throws the exception:</p>\n\n<blockquote>\n  <p>Exception NUnit.Core.UnsupportedFrameworkException, Exception thrown executing tests in D:\\Builds\\Agent2\\SPX\\solution\\bin\\project.dll</p>\n</blockquote>\n\n<p>He's my exact packages.config. Everything is using 3.4.1 so I'm not sure what the issue is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;packages&gt;\n  &lt;package id=\"NUnit\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit.Console\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit.ConsoleRunner\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit.Extension.NUnitProjectLoader\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit.Extension.NUnitV2Driver\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit.Extension.NUnitV2ResultWriter\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit.Extension.TeamCityEventListener\" version=\"1.0.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit.Extension.VSProjectLoader\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n  &lt;package id=\"NUnit3TestAdapter\" version=\"3.4.1\" targetFramework=\"net45\" /&gt;\n&lt;/packages&gt;\n</code></pre>\n"}, {"tags": ["c#", "azure", "azure-active-directory", "azure-ad-graph-api"], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489003379, "post_id": 42680632, "comment_id": 72485877, "body": "Hmm, I knew about all the scopes things and also tried to set all permissions for the app just to be sure - without success. But what I noticed is the token doesn&#39;t have any scopes set - no <code>scp</code>"}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "reply_to_user": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489007386, "post_id": 42680632, "comment_id": 72488003, "body": "Did you consent to your application after you set new permissions? Can you share your token after removing personal information?"}, {"owner": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489009300, "post_id": 42680632, "comment_id": 72488991, "body": "Ok, something&#39;s really getting weird here. I just reverted up to the point where I didn&#39;t use the groups (though as said it was working once), but now it&#39;s the same problem. After setting new permissions (we&#39;re talking about permissions setting in Azure portal for my registered AD application right?!) I didn&#39;t have to consent anything new. :-?"}, {"owner": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489009306, "post_id": 42680632, "comment_id": 72488993, "body": "Here&#39;s the token:  <code>{  typ: &quot;JWT&quot;,  alg: &quot;RS256&quot;,  x5t: &quot;_UgqXG_tMLduSJ1T8caHxU7cOtc&quot;,  kid: &quot;_UgqXG_tMLduSJ1T8caHxU7cOtc&quot; }. {  aud: &quot;https:&#47;&#47;graph.windows.net&quot;,  iss: &quot;https:&#47;&#47;sts.windows.net&#47;REMOVED&#47;&quot;,  iat: 1489008789,  nbf: 1489008789,  exp: 1489012689,  aio: &quot;NA&quot;,  appid: &quot;REMOVED&quot;,  appidacr: &quot;1&quot;,  e_exp: 10800,  idp: &quot;https:&#47;&#47;sts.windows.net&#47;REMOVED&#47;&quot;,  oid: &quot;REMOVED&quot;,  sub: &quot;REMOVED&quot;,  tid: &quot;REMOVED&quot;,  ver: &quot;1.0&quot; }</code>"}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "reply_to_user": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489009683, "post_id": 42680632, "comment_id": 72489206, "body": "You have to force the consent prompt yourself. The app will not do it for you automatically. Also that token is an App Only token, which means you need to make sure to request specifically <code>application permissions</code>. If you are using &quot;portal.azure.com&quot; then there should be a button which says &quot;Grant Permissions&quot; which will grant consent to your app."}, {"owner": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489010427, "post_id": 42680632, "comment_id": 72489572, "body": "You mean the button when running the app the first time after configuring for Azure AD Authentication? If you mean that, yes that&#39;s what I always get. At least now I know what it means if there are no scopes. But never the less, what do you mean with &quot;force the consent prompt&quot;?? Sorry if my questions seem stupid, I&#39;m still a bit new to all this and all the websites I&#39;ve found either have only old state oder using simple REST demos. :("}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "reply_to_user": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489010670, "post_id": 42680632, "comment_id": 72489684, "body": "If you are making app only calls, you actually need to look for <code>role</code> claims. <code>scp</code> claims are actually for delegated permissions. If you go into your app config page, for permissions, you need to click &quot;grant permissions&quot;. See image <a href=\"http://imgur.com/a/M6sIw\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "edited": false, "score": 0, "creation_date": 1489011452, "post_id": 42680632, "comment_id": 72490042, "body": "Ok, I never used that &quot;Grant Permissions&quot; button as I thought it&#39;s the same as going into permissions and setting them. I think this was my problem. I&#39;ll check tomorrow (it&#39;s night time here already) and get back here. But I&#39;m sure this was my problem the whole time. So long thanks a lot for taking the time helping me!"}, {"owner": {"reputation": 40761, "user_id": 1658906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e4748ed2fb97e8a8d4dd6d439625135?s=128&d=identicon&r=PG", "display_name": "juunas", "link": "https://stackoverflow.com/users/1658906/juunas"}, "edited": false, "score": 1, "creation_date": 1489043541, "post_id": 42680632, "comment_id": 72500688, "body": "You can force consent by adding <code>prompt=consent</code> or <code>prompt=admin_consent</code> in the URL when you are redirected to Azure AD."}], "tags": [], "owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "is_accepted": false, "score": 1, "last_activity_date": 1489002461, "creation_date": 1489002461, "answer_id": 42680632, "question_id": 42680148, "link": "https://stackoverflow.com/questions/42680148/aad-graph-api-permission-issues/42680632#42680632", "title": "AAD Graph API Permission Issues", "body": "<p>This error implies that you have not requested or consented to permissions which grant your application access to those APIs.</p>\n\n<p>When you register your application, you must define the permissions your app wants to the API it is calling. In this case, if you are calling the AAD Graph API, you must request for certain scopes, which you can find <a href=\"https://msdn.microsoft.com/en-us/library/azure/ad/graph/howto/azure-ad-graph-api-permission-scopes\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Once you have selected the appropriate scopes for the API you need to call, you need to make sure to consent to your application, which ultimately allows your app to actually do the things it is requesting access for.</p>\n\n<p>Note that some scopes specifically require an Admin of the tenant to consent.</p>\n\n<p>If you are looking to debug issues related to permissions, a good place to start would be decoding your access token, and looking at the <code>scp</code> claims, which contains the scopes that have been granted to your application. I normally use <a href=\"http://calebb.net/\" rel=\"nofollow noreferrer\">this site</a> to decode the access token.</p>\n\n<p>If you see the right scope in your token for the API call you are trying to make, then you should be good to go! Let me know if this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1489065074, "creation_date": 1489065074, "answer_id": 42696327, "question_id": 42680148, "link": "https://stackoverflow.com/questions/42680148/aad-graph-api-permission-issues/42696327#42696327", "title": "AAD Graph API Permission Issues", "body": "<p>Thanks to Shawn Tabrizi I found the error source.\nBeware if you have issues like these, that you click on </p>\n\n<blockquote>\n  <p><strong>Grant Permissions</strong></p>\n</blockquote>\n\n<p>after modifying your Azure AD app permissions. Probably something many like me just oversee.</p>\n\n<p>Here's the image Shawn has provided:\n<a href=\"https://i.stack.imgur.com/geoF9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/geoF9.png\" alt=\"**Grant Permissions** in Azure\"></a></p>\n\n<p>Thanks again Shawn for your help!</p>\n"}], "owner": {"reputation": 128, "user_id": 2315662, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c1eaace486e1c0bae53391a6ad61d30?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2315662/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 706, "favorite_count": 0, "accepted_answer_id": 42696327, "answer_count": 2, "score": 0, "last_activity_date": 1489065074, "creation_date": 1489000975, "question_id": 42680148, "link": "https://stackoverflow.com/questions/42680148/aad-graph-api-permission-issues", "title": "AAD Graph API Permission Issues", "body": "<p>I really hope someone can help me out with some permission issues I don't get on with.\nI'm currently developing a web application with Azure Active Directory access. Everything is working fine so far.\nThan I tried to implement a conversion from groups to roles which was working fine for a few tests.\nBut now - without changing anything in permissions I always receive:</p>\n\n<blockquote>\n  <p>\":{\"code\":\"Authorization_RequestDenied\",\"message\":{\"lang\":\"en\",\"value\":\"Insufficient privileges to complete the operation.\"},\"</p>\n</blockquote>\n\n<p>Sometime this is with <em>requestId</em> and <em>date</em> sometimes it's not.</p>\n\n<p>The code triggering this permission issue is:</p>\n\n<pre><code>var adClient = Instance.GetADClient(tenantID, signedInUserID, userObjectID);\nvar pagedCollection = await adClient.Users.GetByObjectId(userObjectID).MemberOf.ExecuteAsync();\n</code></pre>\n\n<p>The same happens if I try to use </p>\n\n<blockquote>\n  <p>GetMemberGroupsAsync()</p>\n</blockquote>\n\n<p>So it seems to be a permission issue with retrieving members no matter of what kind.</p>\n\n<p>Anyone got an idea of what am I missing or how I could debug this further?</p>\n\n<p>Thanks very, very much for any idea!</p>\n\n<p>Tom</p>\n"}, {"tags": ["c#", "object", "casting", "inotifypropertychanged", "invalidoperationexception"], "answers": [{"tags": [], "owner": {"reputation": 839, "user_id": 537506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9956a65e602370b6c05db3a727e94b90?s=128&d=identicon&r=PG", "display_name": "Sander Aernouts", "link": "https://stackoverflow.com/users/537506/sander-aernouts"}, "is_accepted": true, "score": 0, "last_activity_date": 1489043207, "last_edit_date": 1489043207, "creation_date": 1489001566, "answer_id": 42680343, "question_id": 42680030, "link": "https://stackoverflow.com/questions/42680030/global-property-changed-object-casting-results-in-null-in-c/42680343#42680343", "title": "Global Property Changed object casting results in null (in C#)", "body": "<p>Since you are using a safe cast here:</p>\n\n<pre><code>BeltProperty validBelt = sender as BeltProperty\n</code></pre>\n\n<p>When <code>validBelt</code> is <code>null</code> after this assignment it means sender cannot be cast to an instance of <code>BeltProperty</code>. </p>\n\n<p>Looking at your calling code it looks like you are not passing an instance of <code>BeltProperty</code> into your event handler.</p>\n\n<p>Assuming <code>GlobalPropertyChanged</code> is your <code>PropertyChangedEventHandler</code> delegate change your <code>OnGlobalPropertyChanged</code> code to this:</p>\n\n<pre><code>/// &lt;summary&gt;\n/// A global on property change that runs for any instantiated object of this type.\n/// &lt;/summary&gt;\n/// &lt;param name=\"name\"&gt;&lt;/param&gt;\nstatic void OnGlobalPropertyChanged(string name)\n{\n    GlobalPropertyChanged(\n        this,\n        new PropertyChangedEventArgs(name)\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7042712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef11ef64948ef4ba5665b21c139667ba?s=128&d=identicon&r=PG&f=1", "display_name": "andrewvb", "link": "https://stackoverflow.com/users/7042712/andrewvb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 42680343, "answer_count": 1, "score": -1, "last_activity_date": 1489043207, "creation_date": 1489000614, "last_edit_date": 1489003713, "question_id": 42680030, "link": "https://stackoverflow.com/questions/42680030/global-property-changed-object-casting-results-in-null-in-c", "title": "Global Property Changed object casting results in null (in C#)", "body": "<p>I am having some trouble with initializing a new variable as the object being sent by the global property changed. I have two classes <code>BeltConfiguration</code> and <code>BeltProperty</code> (both classes have <code>INotifyPropertyChanged</code>). I have a <code>globalpropertychanged</code> method in the <code>BeltConfiguration</code> class as seen here.</p>\n\n<pre><code>        private void BeltProperty_GlobalPropertyChanged(object sender, PropertyChangedEventArgs e)\n        {\n            BeltProperty validBelt = sender as BeltProperty;\n            if (validBelt != null)\n            {\n                this.Validation = validBelt.Validation;\n            }\n            switch (e.PropertyName)\n            {\n                case \"Value\":\n                    this.Validation.ValidState = ConfigurationValid.Unknown;\n                    OnPropertyChanged(\"Validate\");\n                    break;\n                case \"ConfigurationInvalid\":\n                    this.Validation.ValidState = ConfigurationValid.False;\n                    OnPropertyChanged(\"Validate\");\n                    break;\n            }\n        }\n</code></pre>\n\n<p>In the <code>BeltProperty</code> class, I call this with <code>OnGlobalPropertyChanged(\"ConfigurationInvalid\");</code>\nHowever, when I call it, no matter what I do, <code>validBelt</code> always results in being <code>null</code>. I looked at the object sender by stepping through the code and it says that the declaring method, <code>GenericParametersAttributes</code>, and <code>GenericParametersPosition</code> threw an exception of <code>System.InvalidOperationException</code>. I don't know if that has anything to do with why <code>validBelt</code> won't accept sender as <code>BeltProperty</code>. Thanks for any help or advice you can give me.</p>\n\n<p>This is where I called BeltProperty_GlobalPropertyChanged in the Belt Property class.</p>\n\n<pre><code>    private ConfigurationValidation _Validation = new ConfigurationValidation(ConfigurationValid.Unknown, \"\", \"\", null);\n    /// &lt;summary&gt;\n    /// Stores information as to wether this belt property is valid or invalid, and the details.\n    /// &lt;/summary&gt;\n    internal ConfigurationValidation Validation\n    {\n        get { return _Validation; }\n        set {\n\n            _Validation = value;\n            if(_Validation.ValidState == ConfigurationValid.False)\n            {\n                OnGlobalPropertyChanged(\"ConfigurationInvalid\");\n            }\n        }\n    }\n\n    /// &lt;summary&gt;\n    /// A global on property change that runs for any instantiated object of this type.\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"name\"&gt;&lt;/param&gt;\n    static void OnGlobalPropertyChanged(string name)\n    {\n        GlobalPropertyChanged(\n            typeof(BeltProperty),\n            new PropertyChangedEventArgs(name));\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "binary-search-tree"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4911854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5e666213bcbe5b7497ed94999e1ad?s=128&d=identicon&r=PG&f=1", "display_name": "RAS", "link": "https://stackoverflow.com/users/4911854/ras"}, "edited": false, "score": 0, "creation_date": 1489001225, "post_id": 42680150, "comment_id": 72484616, "body": "Perfect! That solved my problem. Thanks a lot! I thought when I do the call, it would check the value in the previous if statement and if a match is found,it will be assigned to status!"}], "tags": [], "owner": {"reputation": 9050, "user_id": 5281555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eA3SI.png?s=128&g=1", "display_name": "Maksim Simkin", "link": "https://stackoverflow.com/users/5281555/maksim-simkin"}, "is_accepted": false, "score": 3, "last_activity_date": 1489001355, "last_edit_date": 1489001355, "creation_date": 1489000977, "answer_id": 42680150, "question_id": 42680001, "link": "https://stackoverflow.com/questions/42680001/finding-node-value-in-binary-search-tree-c/42680150#42680150", "title": "Finding node value in Binary Search Tree C#", "body": "<p>In your recursive call, you calculate <code>Contains</code> for child nodes, but you do nothing with it. You should  assign result value to <code>status</code>:</p>\n\n<pre><code>public static bool Contains(Node root, int value)\n{\n    bool status = false;\n    if (root == null)\n    {\n        status = false;\n    }\n    else if (root.Value == value)\n    {\n        status = true;\n        return true;\n    }\n    else if (root.Value &lt; value)\n    {\n        status = Contains(root.Right, value);\n    }\n    else\n    {\n        status = Contains(root.Left, value);\n    }\n    return status;\n}\n</code></pre>\n\n<p>Better is to avoid this <code>status</code> variable and directly use <code>return</code> statement:</p>\n\n<pre><code>public static bool Contains(Node root, int value)\n{\n    if (root == null)\n    {\n        return false;\n    }\n    else if (root.Value == value)\n    {\n        return true;\n    }\n    else if (root.Value &lt; value)\n    {\n        return  Contains(root.Right, value);\n    }\n    else\n    {\n        return Contains(root.Left, value);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4911854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5e666213bcbe5b7497ed94999e1ad?s=128&d=identicon&r=PG&f=1", "display_name": "RAS", "link": "https://stackoverflow.com/users/4911854/ras"}, "edited": false, "score": 0, "creation_date": 1489001555, "post_id": 42680177, "comment_id": 72484817, "body": "Thank you! Solved!"}], "tags": [], "owner": {"reputation": 1027, "user_id": 7659792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77b3be52d8e0fb81a577e1aabcaf63eb?s=128&d=identicon&r=PG&f=1", "display_name": "StfBln", "link": "https://stackoverflow.com/users/7659792/stfbln"}, "is_accepted": true, "score": 2, "last_activity_date": 1489001042, "creation_date": 1489001042, "answer_id": 42680177, "question_id": 42680001, "link": "https://stackoverflow.com/questions/42680001/finding-node-value-in-binary-search-tree-c/42680177#42680177", "title": "Finding node value in Binary Search Tree C#", "body": "<p>It appears you are missing the <code>status</code> assignment from the <code>Contains</code> calls:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>status = Contains(root.Right, value);\n</code></pre>\n\n<p>and </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>status = Contains(root.Left, value);\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4911854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fa5e666213bcbe5b7497ed94999e1ad?s=128&d=identicon&r=PG&f=1", "display_name": "RAS", "link": "https://stackoverflow.com/users/4911854/ras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2508, "favorite_count": 0, "accepted_answer_id": 42680177, "answer_count": 2, "score": 1, "last_activity_date": 1501016382, "creation_date": 1489000525, "last_edit_date": 1501016382, "question_id": 42680001, "link": "https://stackoverflow.com/questions/42680001/finding-node-value-in-binary-search-tree-c", "title": "Finding node value in Binary Search Tree C#", "body": "<p>Code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace ConsoleApplication1\n{\n    public class Node\n    {\n        public int Value { get; set; }\n\n        public Node Left { get; set; }\n\n        public Node Right { get; set; }\n\n        public Node(int value, Node left, Node right)\n        {\n            Value = value;\n            Left = left;\n            Right = right;\n        }\n    }\n\n    public class BinarySearchTree\n    {\n        public static bool Contains(Node root, int value)\n        {\n            bool status = false;\n            if (root == null)\n            {\n                status = false;\n            }\n            else if (root.Value == value)\n            {\n                status = true;\n                return true;\n            }\n            else if (root.Value &lt; value)\n            {\n                Contains(root.Right, value);\n            }\n            else\n            {\n                Contains(root.Left, value);\n            }\n            return status;\n\n        }\n\n        public static void Main(string[] args)\n        {\n            Node n1 = new Node(1, null, null);\n            Node n3 = new Node(3, null, null);\n            Node n2 = new Node(2, n1, n3);\n\n            Console.WriteLine(Contains(n2, 3));\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n\n<p>Question:\nI have tried debugging this code too! But it keeps displaying false as answer. Let me know where I am going wrong. When I debug the code, status changes to true but it still executes other stuff and finally changes to false. Let me know where I am going</p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc-5"], "answers": [{"comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 1, "creation_date": 1489000740, "post_id": 42680034, "comment_id": 72484304, "body": "You should provide an explanation with your answer, not just a raw code dump."}, {"owner": {"reputation": 2876, "user_id": 4172872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCMmuyZ5yEA/AAAAAAAAAAI/AAAAAAAAAEY/u0VSLspwRBY/photo.jpg?sz=128", "display_name": "levent", "link": "https://stackoverflow.com/users/4172872/levent"}, "reply_to_user": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1489001059, "post_id": 42680034, "comment_id": 72484524, "body": "@mason, some times, can be noticed some minor mistakes without explanation"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 3, "creation_date": 1489001109, "post_id": 42680034, "comment_id": 72484563, "body": "@levent And sometimes so minor a mistake can be missed without an explanation. You should <i>always</i> include an explanation with your answer."}], "tags": [], "owner": {"reputation": 2876, "user_id": 4172872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCMmuyZ5yEA/AAAAAAAAAAI/AAAAAAAAAEY/u0VSLspwRBY/photo.jpg?sz=128", "display_name": "levent", "link": "https://stackoverflow.com/users/4172872/levent"}, "is_accepted": false, "score": 0, "last_activity_date": 1489000625, "creation_date": 1489000625, "answer_id": 42680034, "question_id": 42679961, "link": "https://stackoverflow.com/questions/42679961/asp-net-mvc-5-c-code-not-being-translated-at-runtime/42680034#42680034", "title": "ASP.NET MVC 5 - @C# code not being translated at runtime", "body": "<pre><code>@Html.CheckBox(\"Sun1D\", new { onclick = \"addRemEvent(1, 'D',\"+ \n                   ((List&lt;DateTime&gt;)ViewBag.dates).ElementAt(0)+\" , '#Sun1D');\"\n                  , htmlAttributes = new { @class = \"form-control\" } })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "is_accepted": true, "score": 3, "last_activity_date": 1489000650, "creation_date": 1489000650, "answer_id": 42680039, "question_id": 42679961, "link": "https://stackoverflow.com/questions/42679961/asp-net-mvc-5-c-code-not-being-translated-at-runtime/42680039#42680039", "title": "ASP.NET MVC 5 - @C# code not being translated at runtime", "body": "<p>You're sending server-side code to the client as a string.  It's not going to execute that string, it's just going to send it to the client.</p>\n\n<p>To simplify, instead of something like this:</p>\n\n<pre><code>new { onclick=\"some text @someCode more text\" }\n</code></pre>\n\n<p>you'd want this:</p>\n\n<pre><code>new { onclick=\"some text \" + someCode + \" more text\" }\n</code></pre>\n\n<p>In yours that might look something like:</p>\n\n<pre><code>new { onclick = \"addRemEvent(1, 'D', \" + ((List&lt;DateTime&gt;)ViewBag.dates).ElementAt(0) + \" , '#Sun1D');\" }\n</code></pre>\n\n<p>There's nothing special about the fact that it's Razor syntax, code is still code.  You're writing C# code to build a string to put in the <code>onclick</code> property of an object.  You'd build that string just like you build any other string in C#.  (Which means you could also make use of <code>string.Format()</code>, etc. if you like.)</p>\n"}], "owner": {"reputation": 1347, "user_id": 1055516, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/798ed7255a2bbe0634d20fad9d6858e4?s=128&d=identicon&r=PG", "display_name": "Scuba Steve", "link": "https://stackoverflow.com/users/1055516/scuba-steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 42680039, "answer_count": 2, "score": 0, "last_activity_date": 1489000650, "creation_date": 1489000399, "question_id": 42679961, "link": "https://stackoverflow.com/questions/42679961/asp-net-mvc-5-c-code-not-being-translated-at-runtime", "title": "ASP.NET MVC 5 - @C# code not being translated at runtime", "body": "<p>So I'm trying to dynamically pass some data to a javascript function to update some UI for the user. </p>\n\n<pre><code> @Html.CheckBox(\"Sun1D\", new { onclick = \"addRemEvent(1, 'D', \n                   @((List&lt;DateTime&gt;)ViewBag.dates).ElementAt(0) , '#Sun1D');\"\n                  , htmlAttributes = new { @class = \"form-control\" } })\n</code></pre>\n\n<p>However at runtime, the code doesn't seem to get translated and I end up with </p>\n\n<pre><code>&lt;input htmlAttributes=\"{ class = form-control }\" \n id=\"Sun1D\" \n name=\"Sun1D\" \n onclick=\"addRemEvent(1, &amp;#39;D&amp;#39;,\n @((List&amp;lt;DateTime&gt;)ViewBag.dates).ElementAt(0) , \n &amp;#39;#Sun1D&amp;#39;);\" \n type=\"checkbox\" value=\"true\" /&gt;\n</code></pre>\n\n<p>Now you can see the problem here. There should be a date value in that javascript function call, but I'm just getting my C# code as a literal.</p>\n"}, {"tags": ["c#", "unity3d", "unityscript"], "comments": [{"owner": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 0, "creation_date": 1489000532, "post_id": 42679949, "comment_id": 72484193, "body": "Rather unclear what you&#39;re talking about. Maybe check off Apply Root Motion?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5790809"}, "reply_to_user": {"reputation": 11125, "user_id": 1387174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c4cb458658b24227da74b4dea41075?s=128&d=identicon&r=PG", "display_name": "Serlite", "link": "https://stackoverflow.com/users/1387174/serlite"}, "edited": false, "score": 0, "creation_date": 1489000779, "post_id": 42679949, "comment_id": 72484323, "body": "Sorry for my english, yes, I have uncheck apply root motion"}], "answers": [{"tags": [], "owner": {"reputation": 72, "user_id": 3365875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/988c00362b5b74f327b72a282e458f36?s=128&d=identicon&r=PG", "display_name": "JamesTheMage", "link": "https://stackoverflow.com/users/3365875/jamesthemage"}, "is_accepted": true, "score": 0, "last_activity_date": 1489023168, "creation_date": 1489023168, "answer_id": 42685062, "question_id": 42679949, "link": "https://stackoverflow.com/questions/42679949/unity-2d-c-how-to-save-last-animation-position/42685062#42685062", "title": "Unity 2D c# - How to save last animation position", "body": "<p>Make sure the animation is not set to loop (uncheck looping in the animation file).</p>\n\n<p>Also, make sure \"Has Exit Time\" in the animation controller's climb_end animation state is unchecked. This might be causing the animation state to move onto another animation after it's finished running.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5790809"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 0, "accepted_answer_id": 42685062, "answer_count": 1, "score": 0, "last_activity_date": 1489023168, "creation_date": 1489000347, "question_id": 42679949, "link": "https://stackoverflow.com/questions/42679949/unity-2d-c-how-to-save-last-animation-position", "title": "Unity 2D c# - How to save last animation position", "body": "<p>I have player and his climb animation, so i want climb_end animation position save to game object player. I don't want return back to player position after last animation frame. Thanks</p>\n"}, {"tags": ["c#", "date", "datetimepicker"], "answers": [{"tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": true, "score": 4, "last_activity_date": 1488999914, "creation_date": 1488999914, "answer_id": 42679808, "question_id": 42679773, "link": "https://stackoverflow.com/questions/42679773/how-to-limit-date-time-picker-to-a-certain-date/42679808#42679808", "title": "How to limit date time picker to a certain date", "body": "<p>You can set the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.datetimepicker.mindate(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>MinDate</code></a> to the first <code>dateTimePicker1</code> value like:</p>\n\n<pre><code>dateTimePicker2.MinDate = dateTimePicker1.Value;\n</code></pre>\n\n<p>Place that code in the <code>ValueChanged</code> event of <code>DateTimePicker</code> like:</p>\n\n<pre><code>private void dateTimePicker1_ValueChanged(object sender, EventArgs e)\n{\n    dateTimePicker2.MinDate = dateTimePicker1.Value;\n}\n</code></pre>\n\n<p>Also make sure that the event is properly attached. </p>\n\n<pre><code>this.dateTimePicker1.ValueChanged += new System.EventHandler(this.dateTimePicker1_ValueChanged);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1434, "user_id": 1703332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fYFJ.jpg?s=128&g=1", "display_name": "Kumar Nitesh", "link": "https://stackoverflow.com/users/1703332/kumar-nitesh"}, "is_accepted": false, "score": 2, "last_activity_date": 1489001064, "creation_date": 1489001064, "answer_id": 42680185, "question_id": 42679773, "link": "https://stackoverflow.com/questions/42679773/how-to-limit-date-time-picker-to-a-certain-date/42680185#42680185", "title": "How to limit date time picker to a certain date", "body": "<p>Working Code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> \r\nvar  setSecondDateMinValue =  function () {\r\n    var input = document.getElementById(\"date2\");\r\n    input.setAttribute(\"min\", this.value);\r\n}\r\n   document.getElementById(\"date1\").onchange = setSecondDateMinValue;\r\n </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input type=\"date\"  id=\"date1\" /&gt;\r\n&lt;input type=\"date\"  id=\"date2\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 659, "user_id": 7165276, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/51c8960af609882fb321d4c48cc4ce23?s=128&d=identicon&r=PG&f=1", "display_name": "nikorio", "link": "https://stackoverflow.com/users/7165276/nikorio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 42679808, "answer_count": 2, "score": -1, "last_activity_date": 1489001064, "creation_date": 1488999783, "question_id": 42679773, "link": "https://stackoverflow.com/questions/42679773/how-to-limit-date-time-picker-to-a-certain-date", "title": "How to limit date time picker to a certain date", "body": "<p>I have two date time pickers to set it from date to date</p>\n\n<pre><code>   string DF = dateTimePicker1.Value.ToString(\"yyyy-M-d\");  \n   string DT = dateTimePicker2.Value.ToString(\"yyyy-M-d\");\n</code></pre>\n\n<p>how can I limit date time picker.</p>\n\n<p>I want use it to limit <code>dateTimePicker2</code> date to allow user make it not less then <code>dateTimePicker1</code> value. For example if <code>DF</code> is <code>1980/8/1</code> then <code>dateTimePicker2</code> value <code>DT</code> range must be limited until this point depending on the <code>dateTimePicker1</code> value, in this case from <code>1980/8/1</code> and higher in ascending order. </p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489000053, "post_id": 42679770, "comment_id": 72483895, "body": "Are you seeing this in a deployed production environment or when you test locally?"}, {"owner": {"reputation": 2673, "user_id": 2533081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he6on.jpg?s=128&g=1", "display_name": "Only a Curious Mind", "link": "https://stackoverflow.com/users/2533081/only-a-curious-mind"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489000152, "post_id": 42679770, "comment_id": 72483958, "body": "@maccettura I am publishing on my own <code>IIS</code>. So I think that it&#39;s similar to an &#39;production environment&#39;"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489000218, "post_id": 42679770, "comment_id": 72483997, "body": "Have you already configured an SSL certificate on your domain?"}, {"owner": {"reputation": 2673, "user_id": 2533081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he6on.jpg?s=128&g=1", "display_name": "Only a Curious Mind", "link": "https://stackoverflow.com/users/2533081/only-a-curious-mind"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489000347, "post_id": 42679770, "comment_id": 72484073, "body": "@maccettura What domain? Look that my application is calling another whatever URL witch I don&#39;t have access to the environment."}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489000458, "post_id": 42679770, "comment_id": 72484141, "body": "In your post you are redirecting to <code>&quot;https:&#47;&#47;myurl.com&quot;</code> which to me seemed like it was a URL that you controlled.  Is that not the case?  If that URL is something that you do not control, and it is prompting users to install a certificate then what are you expecting to have the power to do?"}, {"owner": {"reputation": 2673, "user_id": 2533081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he6on.jpg?s=128&g=1", "display_name": "Only a Curious Mind", "link": "https://stackoverflow.com/users/2533081/only-a-curious-mind"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489000589, "post_id": 42679770, "comment_id": 72484228, "body": "@maccettura  I think that I wasn&#39;t clear, could be my bad English... I am trying to open an HTTPS url, which requires a certificate, the browser shows a dialog with all the installed certificates, I can choose one and continue. I would like to skip this &quot;dialog step&quot;, when my MVC application redirect to the another page, already pass the certificate programatically."}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489001786, "post_id": 42679770, "comment_id": 72484971, "body": "I don&#39;t think it is possible to do that with redirect, in principle."}, {"owner": {"reputation": 2673, "user_id": 2533081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he6on.jpg?s=128&g=1", "display_name": "Only a Curious Mind", "link": "https://stackoverflow.com/users/2533081/only-a-curious-mind"}, "reply_to_user": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489002828, "post_id": 42679770, "comment_id": 72485575, "body": "@Evk but you know how to do without Redirect? I am doing &quot;Redirect&quot; because I don&#39;t know another way"}, {"owner": {"reputation": 84066, "user_id": 5311735, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rhPk.jpg?s=128&g=1", "display_name": "Evk", "link": "https://stackoverflow.com/users/5311735/evk"}, "edited": false, "score": 0, "creation_date": 1489003242, "post_id": 42679770, "comment_id": 72485798, "body": "No I don&#39;t think it&#39;s possible. If you own <a href=\"https://myurl.com\" rel=\"nofollow noreferrer\">myurl.com</a>, you can configure server to restrict possible client certificate list as much as possible, and if just one certificate will be left - browser might send it automatically. If you don&#39;t own <a href=\"https://myurl.com\" rel=\"nofollow noreferrer\">myurl.com</a> - there is nothing you can do."}, {"owner": {"reputation": 861, "user_id": 329143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ca6e7cf7001e169d9abb8c87be59cf?s=128&d=identicon&r=PG", "display_name": "LeonG", "link": "https://stackoverflow.com/users/329143/leong"}, "edited": false, "score": 0, "creation_date": 1489004886, "post_id": 42679770, "comment_id": 72486697, "body": "You could proxy the redirect, so actually request the page in your application and pass the client certificate yourself and return the resulting page."}], "owner": {"reputation": 2673, "user_id": 2533081, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/he6on.jpg?s=128&g=1", "display_name": "Only a Curious Mind", "link": "https://stackoverflow.com/users/2533081/only-a-curious-mind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488999778, "creation_date": 1488999778, "question_id": 42679770, "link": "https://stackoverflow.com/questions/42679770/how-to-call-an-https-url-using-a-certificate", "title": "How to call an HTTPS URL using a certificate?", "body": "<p>I am redirecting to an URL using this line in MVC:</p>\n\n<p><code>return Redirect(\"https://myurl.com);</code></p>\n\n<p>But when browser is redirected it asks from a certificate, and I don't want to user needs to select his certificate on browser, I would like to redirect to that URL already passing a certificate. \nHow could I do that? </p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 1832, "user_id": 285139, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a78e978f32de66044a4fb81c65744abd?s=128&d=identicon&r=PG", "display_name": "Vladimir", "link": "https://stackoverflow.com/users/285139/vladimir"}, "edited": false, "score": 0, "creation_date": 1489247285, "post_id": 42679695, "comment_id": 72592350, "body": "Is this <a href=\"http://stackoverflow.com/a/3911021/285139\">stackoverflow.com/a/3911021/285139</a> answer works for at least last modified date?"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1489355675, "post_id": 42679695, "comment_id": 72623438, "body": "<i>Is there a way implement the Update without the explicitly handling adds/updates?</i> What do you mean? When a question doesn&#39;t get answers, providing better explanation is more useful --and cheaper-- than applying a bounty."}], "answers": [{"comments": [{"owner": {"reputation": 7009, "user_id": 115652, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b719f841be16f5f8fbcc5bb314a08ee0?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/115652/josh"}, "edited": false, "score": 0, "creation_date": 1489437488, "post_id": 42760057, "comment_id": 72661368, "body": "I received the following error: Attaching an entity of type &#39;LoanApplication&#39; failed because another entity of the same type already has the same primary key value. This can happen when using the &#39;Attach&#39; method or setting the state of an entity to &#39;Unchanged&#39; or &#39;Modified&#39; if any entities in the graph have conflicting key values. This may be because some entities are new and have not yet received database-generated key values. In this case use the &#39;Add&#39; method or the &#39;Added&#39; entity state to track the graph and then set the state of non-new entities to &#39;Unchanged&#39; or &#39;Modified&#39; as appropriate"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 7009, "user_id": 115652, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b719f841be16f5f8fbcc5bb314a08ee0?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/115652/josh"}, "edited": false, "score": 0, "creation_date": 1489439813, "post_id": 42760057, "comment_id": 72662594, "body": "You probably didn&#39;t remove <code>db.Entry(entity).State = EntityState.Modified;</code> line. The code in the answer + <code>db.SaveChanges()</code> at the end should be the replacement of your method body."}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 7009, "user_id": 115652, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b719f841be16f5f8fbcc5bb314a08ee0?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/115652/josh"}, "edited": false, "score": 1, "creation_date": 1489440520, "post_id": 42760057, "comment_id": 72662897, "body": "For your convenience, updated the answer with the full method."}, {"owner": {"reputation": 7009, "user_id": 115652, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b719f841be16f5f8fbcc5bb314a08ee0?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/115652/josh"}, "edited": false, "score": 0, "creation_date": 1489441900, "post_id": 42760057, "comment_id": 72663535, "body": "Perfect, works now. Is this the common pattern to use for updates for disconnected objects that have children?"}, {"owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "reply_to_user": {"reputation": 7009, "user_id": 115652, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b719f841be16f5f8fbcc5bb314a08ee0?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/115652/josh"}, "edited": false, "score": 1, "creation_date": 1489447103, "post_id": 42760057, "comment_id": 72665609, "body": "I would say no. The technique works for link table under mentioned constraints. There is no general solution for all disconnected update scenarios. A 3rd party package called <a href=\"https://www.nuget.org/packages/RefactorThis.GraphDiff\" rel=\"nofollow noreferrer\">GraphDiff</a> was trying to address the subject, unfortunately it&#39;s not supported anymore."}], "tags": [], "owner": {"reputation": 157412, "user_id": 5202563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2mKKQ.png?s=128&g=1", "display_name": "Ivan Stoev", "link": "https://stackoverflow.com/users/5202563/ivan-stoev"}, "is_accepted": true, "score": 1, "last_activity_date": 1489440411, "last_edit_date": 1489440411, "creation_date": 1489396715, "answer_id": 42760057, "question_id": 42679695, "link": "https://stackoverflow.com/questions/42679695/entity-framework-6-custom-many-to-many-child-with-implicit-insert-and-delete/42760057#42760057", "title": "Entity Framework 6 custom many-to-many child with implicit insert and delete", "body": "<p>The way I understand it, the question is how to apply the (potential) modifications to the link table without explicitly detecting added/removed links. Also I assume the other part of the link must exist.</p>\n\n<p>It's possible with the following sequence of operations:</p>\n\n<p>First load the actual entity from the database into context, including the links:</p>\n\n<pre><code>var dbEntity = db.LoanApplication\n    .Include(e =&gt; e.LoanApplicationQualificationTypes)\n    .FirstOrDefault(e =&gt; e.Id == entity.Id);\n</code></pre>\n\n<p>This will allow change tracker to determine the correct add/update/delete link operations for you later.</p>\n\n<p>Then apply the primitive master data changes:</p>\n\n<pre><code>db.Entry(dbEntity).CurrentValues.SetValues(entity);\ndbEntity.ModifiedDate = DateTime.UtcNow;\ndbEntity.ModifiedBy = UserOrProcessName;\n</code></pre>\n\n<p>Finally, replace the links with the ones from the incoming entity. To avoid navigation property references pointing to different objects (and in particular to prevent EF trying to create the new records for the other side objects of the relation), do not use directly the incoming objects, but create stub objects with only FK properties set:</p>\n\n<pre><code>dbEntity.LoanApplicationQualificationTypes = entity.LoanApplicationQualificationTypes\n    .Select(e =&gt; new LoanApplicationQualificationTypes\n    {\n        LoanApplicationId = e.LoanApplicationId,\n        QualificationTypeId = e.QualificationTypeId,\n        ModifiedDate = DateTime.UtcNow,\n        ModifiedBy = UserOrProcessName,\n    })\n    .ToList();\n</code></pre>\n\n<p>And that's it. At this point the change tracker has all the necessary information to produce the correct commands when you call <code>db.SaveChanges()</code>.  </p>\n\n<p>One thing to mention. If you look at <code>db.ChangeTracker.Entries</code> at this point, you'll probably notice that all the old links are marked as <code>Deleted</code>, all the incoming as <code>Added</code> and there are no <code>Modified</code> entries. Don't worry. EF is smart enough and will convert <code>Deleted</code> + <code>Added</code> pairs with the same PK to single update commands.</p>\n\n<p><strong>The whole method:</strong></p>\n\n<pre><code>public bool Update(ILoanApplication entity)\n{\n    using (var db = new MainContext())\n    {\n        var dbEntity = db.LoanApplication\n            .Include(e =&gt; e.LoanApplicationQualificationTypes)\n            .FirstOrDefault(e =&gt; e.Id == entity.Id);\n\n        if (dbEntity == null) return false;\n\n        db.Entry(dbEntity).CurrentValues.SetValues(entity);\n        dbEntity.ModifiedDate = DateTime.UtcNow;\n        dbEntity.ModifiedBy = UserOrProcessName;\n\n        dbEntity.LoanApplicationQualificationTypes = entity.LoanApplicationQualificationTypes\n            .Select(e =&gt; new LoanApplicationQualificationTypes\n            {\n                LoanApplicationId = e.LoanApplicationId,\n                QualificationTypeId = e.QualificationTypeId,\n                ModifiedDate = DateTime.UtcNow,\n                ModifiedBy = UserOrProcessName,\n            })\n            .ToList();\n\n        db.SaveChanges();\n        return true;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7009, "user_id": 115652, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b719f841be16f5f8fbcc5bb314a08ee0?s=128&d=identicon&r=PG", "display_name": "Josh", "link": "https://stackoverflow.com/users/115652/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 42760057, "answer_count": 1, "score": 0, "last_activity_date": 1489440411, "creation_date": 1488999563, "question_id": 42679695, "link": "https://stackoverflow.com/questions/42679695/entity-framework-6-custom-many-to-many-child-with-implicit-insert-and-delete", "title": "Entity Framework 6 custom many-to-many child with implicit insert and delete", "body": "<p>I have parent object (LoanApplication) with a child (LoanApplicationQualificationTypes) that is a custom many-to-many table. The reason I have a custom is that it has two audit columns that need to be populated (ModifiedBy, ModifiedDate).</p>\n\n<p>To get the children that were added or removed from the child collection to be persisted in the database correctly, I had to explicitly handle. </p>\n\n<p>Below is the code (simplified by removing other properties that were germane to the question). </p>\n\n<p>Parent (part of many-to-many):</p>\n\n<pre><code>[Serializable]\n[Table(\"LoanApplication\")]\npublic class LoanApplication : BaseDomainModelWithId, ILoanApplication\n{\n    [Key]\n    [Column(\"LoanApplicationId\")]\n    public override int? Id { get; set; }\n\n    [ForeignKey(\"LoanApplicationId\")]\n    public virtual ICollection&lt;LoanApplicationQualificationTypes&gt; LoanApplicationQualificationTypes { get; set; }\n\n    IReadOnlyCollection&lt;ILoanApplicationQualificationTypes&gt; ILoanApplication.LoanApplicationQualificationTypes\n    {\n        get\n        {\n            var loanApplicationQualificationTypes = new List&lt;ILoanApplicationQualificationTypes&gt;();\n\n            if (LoanApplicationQualificationTypes == null) return loanApplicationQualificationTypes;\n\n            loanApplicationQualificationTypes.AddRange(LoanApplicationQualificationTypes);\n\n            return loanApplicationQualificationTypes.AsReadOnly();\n        }\n        set\n        {\n            foreach (var item in value)\n            {\n                LoanApplicationQualificationTypes.Add((LoanApplicationQualificationTypes)item);\n            }\n        }\n    }\n\n    public LoanApplication() : base()\n    {\n        LoanApplicationQualificationTypes = new List&lt;LoanApplicationQualificationTypes&gt;();\n    }\n\n}\n\npublic interface ILoanApplication : IDomainModel, ILoanApplicationBase, IKeyIntId\n{\n    IReadOnlyCollection&lt;ILoanApplicationQualificationTypes&gt; LoanApplicationQualificationTypes { get; set; }\n}\n</code></pre>\n\n<p>Object part of many-to-many:</p>\n\n<pre><code>[Serializable]\n[Table(\"QualificationType\")]\npublic class QualificationType : IQualificationType\n{\n    [Key]\n    [Column(\"QualificationTypeId\")]\n    public override int? Id { get; set; }\n\n    [Required]\n    public string TypeName { get; set; }\n\n    [Required]\n    public bool IsActive { get; set; }\n\n    public virtual string ModifiedBy { get; set; }\n\n    public virtual DateTimeOffset? ModifiedDate { get; set; }\n\n    public QualificationType() : { }\n}\n</code></pre>\n\n<p>Custom Many-to-Many:</p>\n\n<pre><code>[Serializable]\n[Table(\"LoanApplicationQualificationTypes\")]\npublic class LoanApplicationQualificationTypes : ILoanApplicationQualificationTypes\n{\n    [Key]\n    [Column(Order = 1)]\n    public int? LoanApplicationId { get; set; }\n\n    [ForeignKey(\"LoanApplicationId\")]\n    public virtual LoanApplication LoanApplication { get; set; }\n\n    ILoanApplication ILoanApplicationQualificationTypes.LoanApplication\n    {\n        get\n        {\n            return this.LoanApplication;\n        }\n        set\n        {\n            this.LoanApplication = (LoanApplication)value;\n        }\n    }\n\n    [Required]\n    [Key]\n    [Column(Order = 2)]\n    public int QualificationTypeId { get; set; }\n\n    [ForeignKey(\"QualificationTypeId\")]\n    public virtual QualificationType QualificationType { get; set; }\n\n    IQualificationType ILoanApplicationQualificationTypes.QualificationType\n    {\n        get\n        {\n            return this.QualificationType;\n        }\n        set\n        {\n            this.QualificationType = (QualificationType)value;\n        }\n    }\n\n    public virtual string ModifiedBy { get; set; }\n\n    public virtual DateTimeOffset? ModifiedDate { get; set; }\n\n    public LoanApplicationQualificationTypes() { }\n}\n</code></pre>\n\n<p>Update method in LoanApplication Repository:</p>\n\n<pre><code>public bool Update(ILoanApplication entity)\n{\n    using (var db = new MainContext())\n    {\n        entity.ModifiedDate = DateTime.UtcNow;\n        entity.ModifiedBy  = UserOrProcessName;\n\n        // Add / Remove LoanApplicationQualificationTypes and populate audit columns\n        if (entity.LoanApplicationQualificationTypes?.Count &gt; 0)\n        {\n            var existingItems = db.LoanApplicationQualificationTypes.Where(q =&gt; q.LoanApplicationId == entity.Id.Value).ToList();\n            var newItems = entity.LoanApplicationQualificationTypes.Where(q =&gt; existingItems.All(e =&gt; e.QualificationTypeId != q.QualificationTypeId));\n            var deletedItems = existingItems.Where(q =&gt; entity.LoanApplicationQualificationTypes.All(e =&gt; e.QualificationTypeId != q.QualificationTypeId));\n\n            foreach (var newItem in newItems)\n            {\n                newItem.ModifiedBy = UserOrProcessName;\n                newItem.ModifiedDate = DateTime.UtcNow;\n\n                db.LoanApplicationQualificationTypes.Add((LoanApplicationQualificationTypes)newItem);\n            }\n\n            foreach (var deletedItem in deletedItems)\n            {\n                db.LoanApplicationQualificationTypes.Remove((LoanApplicationQualificationTypes)deletedItem);\n            }\n\n            // Need to clear to avoid duplicate objects\n            ((LoanApplication)entity).LoanApplicationQualificationTypes.Clear();\n        }\n\n        db.Entry(entity).State = EntityState.Modified;\n        db.SaveChanges();\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Is there a way implement the Update without the explicitly handling adds/updates?</p>\n"}, {"tags": ["c#", "unity3d", "unity5"], "comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 1, "creation_date": 1488999712, "post_id": 42679659, "comment_id": 72483707, "body": "Is you question about static or about arrays vs lists.  If the size is never changing might as well use an array.  If this list pertains to all of the object it resides within use static"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1488999871, "post_id": 42679659, "comment_id": 72483793, "body": "How are you going to be using your collection?"}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "edited": false, "score": 2, "creation_date": 1488999896, "post_id": 42679659, "comment_id": 72483809, "body": "I feel like you might not understand what <code>static</code> does"}, {"owner": {"reputation": 2213, "user_id": 1144475, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1edf0028fc55a04d0a45863267ddb80?s=128&d=identicon&r=PG", "display_name": "Ben Downey", "link": "https://stackoverflow.com/users/1144475/ben-downey"}, "edited": false, "score": 0, "creation_date": 1489002236, "post_id": 42679659, "comment_id": 72485232, "body": "I used static because the array would never be mutated.  I expect the compiler to treat it a bit differently than if I was creating an array with dynamic size."}], "answers": [{"tags": [], "owner": {"reputation": 8919, "user_id": 1159604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZNjba.png?s=128&g=1", "display_name": "Foggzie", "link": "https://stackoverflow.com/users/1159604/foggzie"}, "is_accepted": true, "score": 4, "last_activity_date": 1489000003, "creation_date": 1489000003, "answer_id": 42679837, "question_id": 42679659, "link": "https://stackoverflow.com/questions/42679659/unity-c-array-vs-static-list/42679837#42679837", "title": "Unity c# Array vs Static List", "body": "<p>For starters: arrays, the <code>static</code> keyword, and <code>List</code> are 3 separate things; this makes your question title a bit odd.  To answer the question asked in the body, (\"<em>What's the preferable way to write a collection of objects whose size will never change?</em>\") use an array but use the correct syntax: <code>int myList[] = new int[3] { 1, 2, 3 };</code></p>\n\n<p>If the size isn't changing, <code>List</code> is overkill.</p>\n\n<p>Finally, whether or not it's <code>static</code> depends on what you want to use it for and shouldn't have anything to do with whether it's a <code>List</code> or array.</p>\n"}], "owner": {"reputation": 2213, "user_id": 1144475, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1edf0028fc55a04d0a45863267ddb80?s=128&d=identicon&r=PG", "display_name": "Ben Downey", "link": "https://stackoverflow.com/users/1144475/ben-downey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "closed_date": 1489004634, "accepted_answer_id": 42679837, "answer_count": 1, "score": -3, "last_activity_date": 1489000003, "creation_date": 1488999449, "question_id": 42679659, "link": "https://stackoverflow.com/questions/42679659/unity-c-array-vs-static-list", "closed_reason": "Opinion-based", "title": "Unity c# Array vs Static List", "body": "<p>I'm working on a Unity game and I'm trying to write some idiomatic c# code.</p>\n\n<p>What's the preferable way to write a collection of objects whose size will never change?</p>\n\n<p><code>\nstatic List&lt;int&gt; myList = new List&lt;int&gt;(new List&lt;int&gt; { 1, 2, 3 });\n</code></p>\n\n<p>or </p>\n\n<p><code>\nmyList[int]= new int[] { 1, 2, 3 };\n</code></p>\n"}, {"tags": ["javascript", "c#", "css", "mobile", "unity2d"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 7680213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206327d68aed50d102719a22dbd26b96?s=128&d=identicon&r=PG&f=1", "display_name": "B. Mc", "link": "https://stackoverflow.com/users/7680213/b-mc"}, "edited": false, "score": 0, "creation_date": 1489101093, "post_id": 42681167, "comment_id": 72536349, "body": "Thank you! We have a random PNG file that is chosen and displayed through a sprite renderer, not drawing it through code. Would you be able to point me to the HTML file that is being passed to the phone that we will need to modify? (We&#39;re using the d-pad with 2 buttons one that comes with HFT)."}, {"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "reply_to_user": {"reputation": 9, "user_id": 7680213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206327d68aed50d102719a22dbd26b96?s=128&d=identicon&r=PG&f=1", "display_name": "B. Mc", "link": "https://stackoverflow.com/users/7680213/b-mc"}, "edited": false, "score": 0, "creation_date": 1489143279, "post_id": 42681167, "comment_id": 72553252, "body": "The HTML file used depends on the sample. As it says in the docs all files served to the phone are in <code>Assets&#47;WebPlayerTemplate&#47;HappyFunTimes</code>. Which file is used for the controller is set in the <code>PlayerSpanwer</code> or <code>PlayerConnector</code> relative to the folder. If you&#39;re just using a randomly selected PNG put a copy of the PNG files somewhere inside that folder and then just send the filename to the controller and point some img.src to that filename."}], "tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": false, "score": 0, "last_activity_date": 1489004364, "last_edit_date": 1495535401, "creation_date": 1489004364, "answer_id": 42681167, "question_id": 42679631, "link": "https://stackoverflow.com/questions/42679631/q-how-to-display-an-image-generated-in-unity-on-a-phone-controller-using-happyf/42681167#42681167", "title": "Q: How to display an image generated in Unity on a phone controller using HappyFunTimes?", "body": "<p>I don't know how to generate an image in Unity. I know last time I checked there was no easy 2D API for direct rendering (as in draw a line, draw a rectangle, draw a circle, etc...)</p>\n\n<p>You can render a scene to a texture though, see <a href=\"https://docs.unity3d.com/Manual/class-RenderTexture.html\" rel=\"nofollow noreferrer\">render texture</a>, render to it, and then <a href=\"https://docs.unity3d.com/ScriptReference/Texture2D.ReadPixels.html\" rel=\"nofollow noreferrer\">get the data out</a>. </p>\n\n<p>Or if you could just create an array and set values if it's a small image. (for example the gravatar images here on SO or a QR code).</p>\n\n<p>Once you have the data you'd need to base64 encode it <a href=\"https://stackoverflow.com/questions/11743160/how-do-i-encode-and-decode-a-base64-string\">there should be some C# functions to do that</a>. Then you can send it to the phone. On the phone you'd need to <a href=\"https://github.com/beatgammit/base64-js/blob/master/index.js\" rel=\"nofollow noreferrer\">decode it</a>, put it in an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ImageData\" rel=\"nofollow noreferrer\">ImageData</a> then you can copy it into a canvas with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/putImageData\" rel=\"nofollow noreferrer\"><code>putImageData</code></a></p>\n\n<p>You can then either display that canvas as is, OR, <a href=\"https://developer.mozilla.org/en/docs/Web/API/CanvasRenderingContext2D/drawImage\" rel=\"nofollow noreferrer\">use it to draw into another canvas</a>, OR, <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL\" rel=\"nofollow noreferrer\">generate a dataURL for an image</a>. All of that will have to be in JavaScript/HTML/CSS not C# </p>\n\n<p>... although you could make <a href=\"https://stackoverflow.com/questions/6826390/how-to-convert-image-to-data-uri-for-html-with-c\">C# send a dataURL directly</a> and skip the decoding, imagedata, and canvas parts. Just assign the image's src property to the dataURL</p>\n"}], "owner": {"reputation": 9, "user_id": 7680213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206327d68aed50d102719a22dbd26b96?s=128&d=identicon&r=PG&f=1", "display_name": "B. Mc", "link": "https://stackoverflow.com/users/7680213/b-mc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1489004364, "creation_date": 1488999339, "question_id": 42679631, "link": "https://stackoverflow.com/questions/42679631/q-how-to-display-an-image-generated-in-unity-on-a-phone-controller-using-happyf", "title": "Q: How to display an image generated in Unity on a phone controller using HappyFunTimes?", "body": "<p>I'm making a game for a school project, and we have been tasked to create a game using the HappyFunTimes plugin for Unity. For the game my group is making, we need to generate a random sprite image in a C# script in Unity, and get the sprite to display in the upper middle of the phone's controller screen. Unfortunately, at this point in my education I'm only familiar with C# so I'm having trouble working through the HappyFunTimes's game-pad code. Any help would be appreciated.</p>\n"}, {"tags": ["c#", "sql", "entity-framework", "orm", "entity-framework-6"], "comments": [{"owner": {"reputation": 2917, "user_id": 2182401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/DvyHk.jpg?s=128&g=1", "display_name": "Dilshod", "link": "https://stackoverflow.com/users/2182401/dilshod"}, "reply_to_user": {"reputation": 35506, "user_id": 424129, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/067763e25885a77061483ece2443c527?s=128&d=identicon&r=PG&f=1", "display_name": "15ee8f99-57ff-4f92-890c-b56153", "link": "https://stackoverflow.com/users/424129/15ee8f99-57ff-4f92-890c-b56153"}, "edited": false, "score": 0, "creation_date": 1488999992, "post_id": 42679624, "comment_id": 72483867, "body": "@EdPlunkett I know the difference between override and new, but in my case it won&#39;t compile if I use override keyword. It seems you didn&#39;t understand what I want."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1489002142, "post_id": 42679624, "comment_id": 72485187, "body": "For my understanding, you have four tables in your database: Person, Detail, Student and StudentDetail? You confirm that the student info is added to the database. Do you get an exception or any message when reading the student information? Can you see the generated sql code?"}, {"owner": {"reputation": 2917, "user_id": 2182401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/DvyHk.jpg?s=128&g=1", "display_name": "Dilshod", "link": "https://stackoverflow.com/users/2182401/dilshod"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 1, "creation_date": 1489002908, "post_id": 42679624, "comment_id": 72485616, "body": "@RuardvanElburg I don&#39;t know how to see the Generated SQL code. I am using fluent mapping. Also When I read the student there is no error, it just that Details collection is empty. If I rename Collection to Details1 and reference property to Owner1 than it works as expected."}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1489003408, "post_id": 42679624, "comment_id": 72485895, "body": "You can add the next line in the Model constructor. This will write the generated sql in the Output window: Database.Log = s =&gt; System.Diagnostics.Debug.WriteLine(s);"}, {"owner": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1489004584, "post_id": 42679624, "comment_id": 72486528, "body": "I don&#39;t think you&#39;ll need to post more information. I think the problem is the override of details. You use the same name, but it is another type, That is probably what is causing the problem."}, {"owner": {"reputation": 2917, "user_id": 2182401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/DvyHk.jpg?s=128&g=1", "display_name": "Dilshod", "link": "https://stackoverflow.com/users/2182401/dilshod"}, "reply_to_user": {"reputation": 12460, "user_id": 4864425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd9e4a4282276cbce5a5a6bf6964f37d?s=128&d=identicon&r=PG&f=1", "display_name": "Ruard van Elburg", "link": "https://stackoverflow.com/users/4864425/ruard-van-elburg"}, "edited": false, "score": 0, "creation_date": 1489004730, "post_id": 42679624, "comment_id": 72486602, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/137590/discussion-between-dilshod-and-ruard-van-elburg\">continue this discussion in chat</a>."}], "owner": {"reputation": 2917, "user_id": 2182401, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/DvyHk.jpg?s=128&g=1", "display_name": "Dilshod", "link": "https://stackoverflow.com/users/2182401/dilshod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 407, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1489006414, "creation_date": 1488999310, "last_edit_date": 1489006414, "question_id": 42679624, "link": "https://stackoverflow.com/questions/42679624/entity-framework-overridingnew-collection-and-reference-properties", "title": "Entity Framework: Overriding(new) collection and reference properties", "body": "<p>I have an entity <code>Person</code> and <code>Detail</code>. <code>Detail</code> references <code>Person</code>(one to many). I also have <code>Student</code> entity that inherits from <code>Person</code> and <code>StudentDetail</code> entity that inherits from <code>Detail</code> entity. \nWhen I create an instance of <code>Student</code> I would like to add to <code>Details</code> of the <code>Student</code> instance of <code>StudentDetail</code>. Therefore I created new <code>Details</code> collection in the <code>Student</code> entity by overriding the property in the base class. Also created a <code>Person</code> reference property in the <code>StudentDetail</code> class by overriding the property in the base class. When I create a new <code>Student</code> and add <code>StudentDetail</code> to the list and save that to the database all the information is saved as expected. But when I try to read it student back from the database the collection is empty. Here are my entities. There are some other entities, but they are not necessary:</p>\n\n<pre><code>public class Person\n{\n    public int Id { get; set; }\n\n    public string Name { get; set; }\n\n    public string LastName { get; set; }\n\n    public string Email { get; set; }\n\n    public string Address { get; set; }\n\n    public virtual IList&lt;Detail&gt; Details { get; set; } = new List&lt;Detail&gt;();\n\n    public virtual Passport Passport { get; set; }\n}\n\npublic class Student : Person\n{\n    public int Course { get; set; }\n\n    public string Phone { get; set; }\n\n    public new IList&lt;StudentDetail&gt; Details { get { return base.Details.Cast&lt;StudentDetail&gt;().ToList(); } }\n}\n\npublic class Passport\n{\n    public int Id { get; set; }\n\n    public string Number { get; set; }\n\n    public DateTime IssuedDate { get; set; }\n\n    public DateTime Expires { get; set; }\n\n    public virtual Person Person { get; set; }\n\n    public virtual AdditionalInfo AdditionalInfo { get; set; }\n}\n\npublic class AdditionalInfo\n{\n    public int Id { get; set; }\n\n    public string SuedBefore { get; set; }\n\n    public string CriminalRecords { get; set; }\n\n    public virtual Passport Passport { get; set; }\n}\n\npublic class Detail\n{\n    public int Id { get; set; }\n\n    public string Name { get; set; }\n\n    public int Count { get; set; }\n\n    public int OwnerId { get; set; }\n    public virtual Person Owner { get; set; }\n\n}\n\npublic class StudentDetail : Detail\n{\n    public string StudentStuff { get; set; }\n\n    public new Student Owner { get { return base.Owner as Student; } set { base.Owner = value; } }\n}\n</code></pre>\n\n<p><strong>UPDATE: Fluent Mapping:</strong></p>\n\n<pre><code>public class MyEntities : DbContext\n{\n    public MyEntities()\n            : base(\"data source=localhost;initial catalog=Test1;integrated security=True;\")\n    {\n        Database.Log = s =&gt; System.Diagnostics.Debug.WriteLine(s);\n    }\n\n    public DbSet&lt;Person&gt; People { get; set; }\n    public DbSet&lt;Student&gt; Students { get; set; }\n    public DbSet&lt;Passport&gt; Passports { get; set; }\n    public DbSet&lt;AdditionalInfo&gt; Additionalinfos { get; set; }\n    public DbSet&lt;Detail&gt; Details { get; set; }\n    public DbSet&lt;StudentDetail&gt; StudentDetails { get; set; }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n    {\n\n        Database.SetInitializer(new MyDbContextInitializer());\n        // Configure Code First to ignore PluralizingTableName convention \n        // If you keep this convention then the generated tables will have pluralized names. \n        modelBuilder.Conventions.Remove&lt;PluralizingTableNameConvention&gt;();\n        PersonMapping(modelBuilder);\n        StudentMapping(modelBuilder);\n        PassportMapping(modelBuilder);\n        AdditionalInfotMapping(modelBuilder);\n        DetailMapping(modelBuilder);\n        StudentDetailMapping(modelBuilder);\n\n\n    }\n\n    void PersonMapping(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Person&gt;().ToTable(\"Person\");\n        modelBuilder.Entity&lt;Person&gt;().HasKey(t =&gt; new { t.Id });\n        modelBuilder.Entity&lt;Person&gt;().Property(t =&gt; t.Id).HasColumnName(\"Id\").HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n        modelBuilder.Entity&lt;Person&gt;().Property(t =&gt; t.Name).HasColumnName(\"Name\");\n        modelBuilder.Entity&lt;Person&gt;().Property(t =&gt; t.LastName).HasColumnName(\"LastName\");\n        modelBuilder.Entity&lt;Person&gt;().Property(t =&gt; t.Email).HasColumnName(\"Email\");\n        modelBuilder.Entity&lt;Person&gt;().Property(t =&gt; t.Address).HasColumnName(\"Address\");\n\n        //associations\n        modelBuilder.Entity&lt;Person&gt;().HasOptional(p =&gt; p.Passport).WithOptionalPrincipal(p =&gt; p.Person);\n    }\n\n    void StudentMapping(DbModelBuilder modelBuilder)\n    {\n\n        modelBuilder.Entity&lt;Student&gt;().ToTable(\"Student\");\n        modelBuilder.Entity&lt;Student&gt;().Property(t =&gt; t.Course).HasColumnName(\"Course\");\n        modelBuilder.Entity&lt;Student&gt;().Property(t =&gt; t.Phone).HasColumnName(\"Phone\");\n        //modelBuilder.Entity&lt;Student&gt;().Ignore(t =&gt; t.Details);\n    }\n\n    void PassportMapping(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Passport&gt;().ToTable(\"Passport\");\n        modelBuilder.Entity&lt;Passport&gt;().HasKey(t =&gt; new { t.Id });\n        modelBuilder.Entity&lt;Passport&gt;().Property(t =&gt; t.Id).HasColumnName(\"Id\").HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n        modelBuilder.Entity&lt;Passport&gt;().Property(t =&gt; t.Number).HasColumnName(\"Number\");\n        modelBuilder.Entity&lt;Passport&gt;().Property(t =&gt; t.IssuedDate).HasColumnName(\"IssuedDate\");\n        modelBuilder.Entity&lt;Passport&gt;().Property(t =&gt; t.Expires).HasColumnName(\"Expires\");\n\n        //associations\n        modelBuilder.Entity&lt;Passport&gt;().HasOptional(p =&gt; p.AdditionalInfo).WithOptionalPrincipal(p =&gt; p.Passport);\n    }\n\n    void AdditionalInfotMapping(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;AdditionalInfo&gt;().ToTable(\"Additionalinfo\");\n        modelBuilder.Entity&lt;AdditionalInfo&gt;().HasKey(t =&gt; new { t.Id });\n        modelBuilder.Entity&lt;AdditionalInfo&gt;().Property(t =&gt; t.Id).HasColumnName(\"Id\").HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n        modelBuilder.Entity&lt;AdditionalInfo&gt;().Property(t =&gt; t.SuedBefore).HasColumnName(\"SuedBefore\");\n        modelBuilder.Entity&lt;AdditionalInfo&gt;().Property(t =&gt; t.CriminalRecords).HasColumnName(\"CriminalRecords\");\n\n        //associations\n        //modelBuilder.Entity&lt;Passport&gt;().HasRequired(p =&gt; p.Person);\n    }\n\n    void DetailMapping(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;Detail&gt;().HasKey(t =&gt; new { t.Id });\n        modelBuilder.Entity&lt;Detail&gt;().Property(t =&gt; t.Id).HasColumnName(\"Id\").HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n        modelBuilder.Entity&lt;Detail&gt;().Property(t =&gt; t.Name).HasColumnName(\"Name\");\n        modelBuilder.Entity&lt;Detail&gt;().Property(t =&gt; t.Count).HasColumnName(\"Count\");\n        modelBuilder.Entity&lt;Detail&gt;().Property(t =&gt; t.OwnerId).HasColumnName(\"OwnerId\");\n        modelBuilder.Entity&lt;Detail&gt;().HasRequired(c =&gt; c.Owner).WithMany(d =&gt; d.Details);\n    }\n\n    void StudentDetailMapping(DbModelBuilder modelBuilder)\n    {\n        modelBuilder.Entity&lt;StudentDetail&gt;().ToTable(\"StudentDetail\");\n        modelBuilder.Entity&lt;StudentDetail&gt;().HasKey(t =&gt; new { t.Id });\n        modelBuilder.Entity&lt;StudentDetail&gt;().Property(t =&gt; t.Id).HasColumnName(\"Id\").HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n        modelBuilder.Entity&lt;StudentDetail&gt;().Property(t =&gt; t.StudentStuff).HasColumnName(\"StudentStuff\");\n        //modelBuilder.Entity&lt;StudentDetail&gt;().Ignore(t =&gt; t.Owner);\n    }\n\n}\n\npublic class MyDbContextInitializer : DropCreateDatabaseIfModelChanges&lt;MyEntities&gt;\n{\n    protected override void Seed(MyEntities dbContext)\n    {\n        base.Seed(dbContext);\n    }\n}\n</code></pre>\n\n<p>Does anybody know how to achieve this?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "unit-testing"], "answers": [{"tags": [], "owner": {"reputation": 9930, "user_id": 4681341, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/55ef1e6b691f1eb41408ad1e1ad6f3d8?s=128&d=identicon&r=PG&f=1", "display_name": "VK_217", "link": "https://stackoverflow.com/users/4681341/vk-217"}, "is_accepted": false, "score": 2, "last_activity_date": 1489002081, "last_edit_date": 1489002081, "creation_date": 1488999813, "answer_id": 42679779, "question_id": 42679580, "link": "https://stackoverflow.com/questions/42679580/system-badimageformatexception-when-running-xunit-2-2-0-unit-test-in-vs-2017-aga/42679779#42679779", "title": "System.BadImageFormatException when running XUnit 2.2.0 unit test in VS 2017 against a full .net framework asp.net core project", "body": "<p>In Visual Studio change the target from \u201cX86 \u201d to \u201cAny CPU\u201d.</p>\n\n<p>Also,you will get this error if you try to host an application with a 32-bit assembly reference ,on IIS running on a 64 bit server/machine. To fix this error set \"Enable 32 bit applications\" flag to true in Advanced settings of the application pool hosting the application in IIS.</p>\n\n<p><a href=\"https://i.stack.imgur.com/llxGg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llxGg.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1393, "user_id": 3431319, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/be19af274b5cab7eb2558af1454f0b70?s=128&d=identicon&r=PG&f=1", "display_name": "Aniruddha Varma", "link": "https://stackoverflow.com/users/3431319/aniruddha-varma"}, "edited": false, "score": 0, "creation_date": 1599752244, "post_id": 42787395, "comment_id": 112877734, "body": "Same here - but I&#39;d also changed to x64 from Test -&gt; Test Settings -&gt; Default Processor Architecture."}], "tags": [], "owner": {"reputation": 181, "user_id": 971534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Hdi4V.jpg?s=128&g=1", "display_name": "Kurt Dowswell", "link": "https://stackoverflow.com/users/971534/kurt-dowswell"}, "is_accepted": false, "score": 2, "last_activity_date": 1489498244, "creation_date": 1489498244, "answer_id": 42787395, "question_id": 42679580, "link": "https://stackoverflow.com/questions/42679580/system-badimageformatexception-when-running-xunit-2-2-0-unit-test-in-vs-2017-aga/42787395#42787395", "title": "System.BadImageFormatException when running XUnit 2.2.0 unit test in VS 2017 against a full .net framework asp.net core project", "body": "<p>I was able to get this fixed by using the following settings in my Resharper unit testing options.</p>\n\n<p><a href=\"https://i.stack.imgur.com/CTPft.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CTPft.png\" alt=\"resharper options unit testing\"></a></p>\n"}], "owner": {"reputation": 181, "user_id": 971534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/Hdi4V.jpg?s=128&g=1", "display_name": "Kurt Dowswell", "link": "https://stackoverflow.com/users/971534/kurt-dowswell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2067, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1489498244, "creation_date": 1488999158, "last_edit_date": 1495542321, "question_id": 42679580, "link": "https://stackoverflow.com/questions/42679580/system-badimageformatexception-when-running-xunit-2-2-0-unit-test-in-vs-2017-aga", "title": "System.BadImageFormatException when running XUnit 2.2.0 unit test in VS 2017 against a full .net framework asp.net core project", "body": "<p><strong>Info about my setup:</strong></p>\n\n<ul>\n<li>Resharper 2016.3.2 </li>\n<li>XUnit 2.2.0 </li>\n<li>VS 2017 RTM </li>\n<li>Test Project .net 4.5.2</li>\n<li>Asp.net Core Project .net 4.5.2</li>\n</ul>\n\n<p><strong>Repo Steps:</strong></p>\n\n<ol>\n<li><p>Create an asp.net core site targeting .net 4.5.2</p></li>\n<li><p>Add a unit test project or class library to the solution and reference the asp.net project</p></li>\n<li><p>Create a xunit Fact test that targets a class in the asp.net project</p></li>\n<li><p>Run the unit test using resharper test runner</p></li>\n</ol>\n\n<p><strong>Error:</strong></p>\n\n<p>System.BadImageFormatException\nCould not load file or assembly 'AFAEMS, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null' or one of its dependencies. An attempt was made to load a program with an incorrect format.\n   at AFAEMS.Tests.Class1.return_errors_if_missing_fields()</p>\n\n<p><strong>Notes:</strong></p>\n\n<p>I've done a lot of searching and cannot find any similar issues to this. I can run a unit test with a simple assert that is not targeting the asp.net core class files. I couldn't get the VS test runner to find my xunit tests (maybe b/c resharper test runner is enabled?).</p>\n\n<p>These were things I found but don't indicate how to fix with the new xproj and app.config using MSBuild for VS 2017.\n<a href=\"https://blogs.msdn.microsoft.com/visualstudioalm/2016/05/30/announcing-mstest-framework-support-for-net-core-rc2-asp-net-core-rc2/\" rel=\"nofollow noreferrer\">https://blogs.msdn.microsoft.com/visualstudioalm/2016/05/30/announcing-mstest-framework-support-for-net-core-rc2-asp-net-core-rc2/</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/39167176/testing-asp-net-core-on-full-net-framework\">Testing Asp.Net Core on full .NET framework</a></p>\n\n<p><a href=\"https://github.com/dotnet/sdk/issues/926\" rel=\"nofollow noreferrer\">https://github.com/dotnet/sdk/issues/926</a></p>\n"}, {"tags": ["c#", "visual-studio", "attributes"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 11, "creation_date": 1488998987, "post_id": 42679504, "comment_id": 72483288, "body": "<a href=\"https://github.com/dotnet/roslyn/issues/14696\" rel=\"nofollow noreferrer\">It was a bug</a>, not a feature, it got fixed."}, {"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "edited": false, "score": 0, "creation_date": 1488999763, "post_id": 42679504, "comment_id": 72483728, "body": "Because VS15 shouldn&#39;t have allowed it."}], "answers": [{"tags": [], "owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "is_accepted": true, "score": 11, "last_activity_date": 1489000193, "last_edit_date": 1495542746, "creation_date": 1489000193, "answer_id": 42679895, "question_id": 42679504, "link": "https://stackoverflow.com/questions/42679504/why-does-vs-2015-allow-attributes-separated-by-spaces-while-vs-2017-does-not/42679895#42679895", "title": "Why does VS 2015 allow attributes separated by spaces while VS 2017 does not?", "body": "<p>Thanks to <a href=\"https://stackoverflow.com/questions/42679504/why-does-vs-2015-allow-attributes-separated-by-spaces-while-vs-2017-does-not#comment72483288_42679504\">Hans Passant</a> who shared this information.</p>\n\n<p>It appears that this was indeed <a href=\"https://github.com/dotnet/roslyn/issues/14696\" rel=\"nofollow noreferrer\">a bug with the roslyn compiler</a>. It was reported in October of 2016, well after the last release of VS 2015 in June of the same year.</p>\n\n<p>This fix made its way into Visual Studio 2017, which is why this syntax is properly reported as an error.</p>\n"}], "owner": {"reputation": 10256, "user_id": 1043380, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2388aa1beb9ac75029a5b4fafec11eec?s=128&d=identicon&r=PG", "display_name": "gunr2171", "link": "https://stackoverflow.com/users/1043380/gunr2171"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 42679895, "answer_count": 1, "score": 11, "last_activity_date": 1489000193, "creation_date": 1488998841, "question_id": 42679504, "link": "https://stackoverflow.com/questions/42679504/why-does-vs-2015-allow-attributes-separated-by-spaces-while-vs-2017-does-not", "title": "Why does VS 2015 allow attributes separated by spaces while VS 2017 does not?", "body": "<p>Take the following simple code. The <code>DoMyCode</code> method has two attributes applied to it, with a space between the entries.</p>\n\n<pre><code>using System;\n\nnamespace AttributeSpaceTesting\n{\n    class Program\n    {\n        static void Main(string[] args) { }\n\n        [Horse Cow]\n        static void DoMyCode() { }\n    }\n\n    [AttributeUsage(AttributeTargets.Method)]\n    class HorseAttribute : Attribute { }\n\n    [AttributeUsage(AttributeTargets.Method)]\n    class CowAttribute : Attribute { }\n}\n</code></pre>\n\n<p>This was made in VS 2015 targeting .Net 4.6.</p>\n\n<p>If you run this code in Visual Studio 2015 (update 3) it will compile and run with no errors or warnings.</p>\n\n<p>However, running the exact same code in Visual Studio 2017 will produce the following exception:</p>\n\n<pre>\nSyntax error, ',' expected\n</pre>\n\n<p>I understand <em>why</em> this error happens. I expect that you would need commas between attribute items. In section 17.2 of the C# 5 specifications:</p>\n\n<blockquote>\n  <p>An attribute section consists of a pair of square brackets, which surround a comma-separated list of one or more attributes.</p>\n</blockquote>\n\n<p>So why is this syntax legal in VS 2015?</p>\n\n<hr>\n\n<p>For full context, I am experimenting with using VS 2017 on my team's unit test projects. I've noticed lines like this:</p>\n\n<pre><code>[Description(@\"The Test Description\")]\n[TestCategory(\"Regression\"), TestCategory(\"Module\"), TestCategory(\"ModuleRegression\") TestMethod]\npublic void TC_12345_VerifyTheThingWorks()\n</code></pre>\n\n<p>which cause syntax errors when compiled in the new Visual Studio system.</p>\n"}, {"tags": ["c#", "http-status-code-404", "emulation", "azure-table-storage"], "answers": [{"tags": [], "owner": {"reputation": 15643, "user_id": 7609093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lwHJH.png?s=128&g=1", "display_name": "Brando Zhang", "link": "https://stackoverflow.com/users/7609093/brando-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1489109756, "creation_date": 1489109756, "answer_id": 42708627, "question_id": 42679343, "link": "https://stackoverflow.com/questions/42679343/azure-table-storage-emulator-appending-soh-character-to-partition-and-row-keys/42708627#42708627", "title": "Azure Table Storage Emulator appending SOH character to Partition and Row Keys", "body": "<blockquote>\n  <p>Has anyone an idea what the problem might be? </p>\n</blockquote>\n\n<p>As far as I know,  normally the Http 404 error will be happened if the table is not existed.\nI suggest you could firstly check your tablename is existed or not.</p>\n\n<blockquote>\n  <p>If it has to do with the SOH character which is being appended, why is Azure Table Storage appending that character at all?</p>\n</blockquote>\n\n<p>According to Understanding the <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/fileservices/Understanding-the-Table-Service-Data-Model?%20redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">Table Service Data Model</a> article, the following characters are not allowed in values for the PartitionKey and RowKey properties:\nControl characters from U+0000 to U+001F, including:</p>\n\n<ul>\n<li>The horizontal tab (\\t) character</li>\n<li>The linefeed (\\n) character</li>\n<li>The carriage return (\\r) character</li>\n<li>Control characters from U+007F to U+009F</li>\n</ul>\n\n<p>\\u0001 is not allowed.</p>\n\n<p>I also write a test demo on my computer, we couldn\u2019t insert the control character in the partition key and row key.</p>\n\n<p>My storage emulator version is 4.6 and the azure storage package version is 8.0.1, I guess the reason why you inserted the control character is about your emulator version and package version.</p>\n\n<p>I suggest you could install the newest version about the emulator and try again.</p>\n\n<p>Download Link:<a href=\"https://azure.microsoft.com/en-us/downloads/\" rel=\"nofollow noreferrer\">https://azure.microsoft.com/en-us/downloads/</a>   </p>\n\n<p>Besides, if the table property type is Edm.String, I suggest you could make sure your inserted value is a UFT-16-encoded value.</p>\n\n<p>Edm.String:         A UTF-16-encoded value. String values may be up to\n   64 KB in size.</p>\n"}], "owner": {"reputation": 11, "user_id": 7680098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b615cbbc9a134f82e5d5da62a96714f?s=128&d=identicon&r=PG&f=1", "display_name": "deepblue", "link": "https://stackoverflow.com/users/7680098/deepblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489109756, "creation_date": 1488998335, "last_edit_date": 1489005185, "question_id": 42679343, "link": "https://stackoverflow.com/questions/42679343/azure-table-storage-emulator-appending-soh-character-to-partition-and-row-keys", "title": "Azure Table Storage Emulator appending SOH character to Partition and Row Keys", "body": "<p>I've just begun using Azure Table Storage on my local machine (via Storage Emulator). I'm storing some resource keys in the table storage; however, when I query the table (even through SQL Server Management Studio) with the Partition Key, Row Key or both, getting no results back.</p>\n\n<p>The code querying the table storage is as follows:</p>\n\n<pre><code>public async Task&lt;TEntity&gt; GetItemAsync(string partitionKey, string rowKey)\n    {\n        var table = client.GetTableReference(TableName);\n\n        var retrieveOperation = TableOperation.Retrieve&lt;TEntity&gt;(partitionKey, rowKey);\n\n        var retrievedResult = await table.ExecuteAsync(retrieveOperation);\n\n        if (retrievedResult.Result != null)\n        {\n            return (TEntity)retrievedResult.Result;\n        }\n        else\n        {\n            Trace.TraceWarning(\"The entity could not be retrieved.\");\n            return null;\n        }\n    }\n</code></pre>\n\n<p>When the query is executed, the result contains Http 404.</p>\n\n<p>Has anyone an idea what the problem might be? If it has to do with the SOH character which is being appended, why is Azure Table Storage appending that character at all?</p>\n\n<p><a href=\"https://i.stack.imgur.com/gOaLm.png\" rel=\"nofollow noreferrer\">SSMS screenshot from TableRow table</a></p>\n\n<p>Thank you for your support.</p>\n"}, {"tags": ["c#", "asp.net", ".net", "asp.net-core"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1488998647, "post_id": 42679320, "comment_id": 72483090, "body": "You&#39;re probably better off with a rewrite rule instead of messing with the static file middleware. <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/url-rewriting\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/aspnet/core/fundamentals/url-rewrit&zwnj;&#8203;ing</a>"}, {"owner": {"reputation": 560, "user_id": 3621898, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/afafb245f06a016d45d486db8f0cd277?s=128&d=identicon&r=PG&f=1", "display_name": "user3621898", "link": "https://stackoverflow.com/users/3621898/user3621898"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1488999345, "post_id": 42679320, "comment_id": 72483507, "body": "@DavidG Thanks, will check it out"}], "owner": {"reputation": 560, "user_id": 3621898, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/afafb245f06a016d45d486db8f0cd277?s=128&d=identicon&r=PG&f=1", "display_name": "user3621898", "link": "https://stackoverflow.com/users/3621898/user3621898"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1488998284, "creation_date": 1488998284, "question_id": 42679320, "link": "https://stackoverflow.com/questions/42679320/get-usestaticfiles-to-point-http-example-com-myfile-to-wwwroot-myfile-envi", "title": "Get UseStaticFiles() to point http://example.com/myfile to /wwwroot/myfile.{environment}.js", "body": "<p>I want to be able to change the url to a static file in my wwwroot without changing the filename. F.ex I want to be able to go to www.mysite.com/myfile and it would get the randomotherfile.js in the wwwroot.</p>\n\n<p>Basicly this is an example of what I want to be able to do, but the physicalfileprovider only takes directories.</p>\n\n<pre><code>app.UseStaticFiles(new StaticFileOptions()\n        {\n            FileProvider = new PhysicalFileProvider(\n       Path.Combine(Directory.GetCurrentDirectory(), @\"wwwroot\", $\"myfile.{env.EnvironmentName}.js\")),\n            RequestPath = new PathString(\"/superfile\") \n        });\n</code></pre>\n\n<p>in this case www.mysite.com/superfile would get me f.ex myfile.test.js.</p>\n\n<p>Using .net core 1.1</p>\n"}, {"tags": ["c#", "asp.net", "windows", "web"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 3, "creation_date": 1488998405, "post_id": 42679316, "comment_id": 72482935, "body": "Have you tried using relative paths in your urls?"}, {"owner": {"reputation": 560, "user_id": 3621898, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/afafb245f06a016d45d486db8f0cd277?s=128&d=identicon&r=PG&f=1", "display_name": "user3621898", "link": "https://stackoverflow.com/users/3621898/user3621898"}, "edited": false, "score": 0, "creation_date": 1488998722, "post_id": 42679316, "comment_id": 72483136, "body": "can&#39;t you get the host from the Request object ? and then append the path to it ?"}, {"owner": {"reputation": 4480, "user_id": 1440057, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/TBIqJ.jpg?s=128&g=1", "display_name": "Nikhil Vartak", "link": "https://stackoverflow.com/users/1440057/nikhil-vartak"}, "edited": false, "score": 0, "creation_date": 1489152586, "post_id": 42679316, "comment_id": 72558926, "body": "@Mortan&#39;s answer really should be accepted. Host name will come into picture only when you are going cross domain, say 3rd party API calls, for ex. If you want to stay on current domain, use relative URLs. Period."}], "answers": [{"comments": [{"owner": {"reputation": 4480, "user_id": 1440057, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/TBIqJ.jpg?s=128&g=1", "display_name": "Nikhil Vartak", "link": "https://stackoverflow.com/users/1440057/nikhil-vartak"}, "edited": false, "score": 0, "creation_date": 1488998772, "post_id": 42679471, "comment_id": 72483158, "body": "Welcome to SO.!"}], "tags": [], "owner": {"reputation": 11, "user_id": 4537289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-egrNXXGzvH8/AAAAAAAAAAI/AAAAAAAAH-4/QbxBRSzjgg0/photo.jpg?sz=128", "display_name": "Morten R&#248;ermose", "link": "https://stackoverflow.com/users/4537289/morten-r%c3%b8ermose"}, "is_accepted": false, "score": 1, "last_activity_date": 1489153043, "last_edit_date": 1489153043, "creation_date": 1488998728, "answer_id": 42679471, "question_id": 42679316, "link": "https://stackoverflow.com/questions/42679316/how-to-maintain-the-right-url-in-c-asp-net/42679471#42679471", "title": "How to maintain the right URL in C#/ASP.NET?", "body": "<p>This should do it.</p>\n\n<pre><code>string url = string.Format(\"ProductPage.aspx?BC={0}&amp;From={1}\", barCode, \"Search\");\nResponse.Redirect(url);\n</code></pre>\n\n<p>If you are using .Net 4.6+ you can also use this string interpolation version</p>\n\n<pre><code>string url = $\"ProductPage.aspx?BC={barcode}&amp;From=Search\";\nResponse.Redirect(url);\n</code></pre>\n\n<p>You should just be able to omit the hostname to stay on the current domain.</p>\n"}, {"comments": [{"owner": {"reputation": 2123, "user_id": 2367096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GeWgS.png?s=128&g=1", "display_name": "Seano666", "link": "https://stackoverflow.com/users/2367096/seano666"}, "edited": false, "score": 1, "creation_date": 1489006015, "post_id": 42679537, "comment_id": 72487272, "body": "Love the new String.Format syntax, it&#39;s so clean!"}, {"owner": {"reputation": 1509, "user_id": 1387619, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a719c7f02875d0d9c12cd7ceaf2fccaf?s=128&d=identicon&r=PG", "display_name": "amit kohan", "link": "https://stackoverflow.com/users/1387619/amit-kohan"}, "edited": false, "score": 0, "creation_date": 1489168806, "post_id": 42679537, "comment_id": 72569396, "body": "Thanks. Just for the sake of clarity something like the following:                                                                                        \t                                                                                                  <code>string url = HttpContext.Current.Request.Url.Host; url = string.Format(&quot;http:&#47;&#47;&quot; + currentURL + &quot;&#47;Specific-Folder&#47;Specific-Page.aspx?Query={0}&quot;, Var1);</code>"}, {"owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "edited": false, "score": 0, "creation_date": 1489181608, "post_id": 42679537, "comment_id": 72575772, "body": "I think I know what you&#39;re saying, I&#39;ll update my answer."}], "tags": [], "owner": {"reputation": 3019, "user_id": 3577195, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jBRiy.png?s=128&g=1", "display_name": "Blue Eyed Behemoth", "link": "https://stackoverflow.com/users/3577195/blue-eyed-behemoth"}, "is_accepted": true, "score": 2, "last_activity_date": 1489249511, "last_edit_date": 1489249511, "creation_date": 1488998943, "answer_id": 42679537, "question_id": 42679316, "link": "https://stackoverflow.com/questions/42679316/how-to-maintain-the-right-url-in-c-asp-net/42679537#42679537", "title": "How to maintain the right URL in C#/ASP.NET?", "body": "<p>Use <code>HttpContext.Current.Request.Url</code> in your controller to see the URL. <code>Url</code> contains many things including <code>Host</code> which is what you're looking for.</p>\n\n<p>By the way, if you're using the latest .Net 4.6+ you can create the string like so:</p>\n\n<pre><code>string url = $\"{HttpContext.Current.Request.Url.Host}/ProductPage.aspx?BC={barCode}&amp;From={\"Search\"}\";\n</code></pre>\n\n<p>Or you can use string.Format</p>\n\n<pre><code>string host = HttpContext.Current.Request.Url.Host;\nstring url = string.Format(\"{0}/ProductPage.aspx?BC={1}&amp;From={2}\"), host, barCode, \"Search\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18285, "user_id": 325521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/s8KPo.jpg?s=128&g=1", "display_name": "Shiva", "link": "https://stackoverflow.com/users/325521/shiva"}, "is_accepted": false, "score": 1, "last_activity_date": 1488999793, "last_edit_date": 1488999793, "creation_date": 1488999476, "answer_id": 42679669, "question_id": 42679316, "link": "https://stackoverflow.com/questions/42679316/how-to-maintain-the-right-url-in-c-asp-net/42679669#42679669", "title": "How to maintain the right URL in C#/ASP.NET?", "body": "<p>You can store the Host segment in your <strong>AppSettings</strong> section of your Web.Config file (per config / environment like so)</p>\n\n<h3>Debug / Development Web.Config</h3>\n\n<p>\n    </p>\n\n<p><a href=\"https://i.stack.imgur.com/KJaju.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KJaju.png\" alt=\"enter image description here\"></a></p>\n\n<h3>Production / Release Web.Config (with config override to replace the localhost value with something.org host)</h3>\n\n<p>\n    </p>\n\n<p><a href=\"https://i.stack.imgur.com/6VeCZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6VeCZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>and then use it in your code like so.</p>\n\n<pre><code>            // Creates a URI using the HostUrlSegment set in the current web.config\n        Uri hostUri = new Uri(ConfigurationManager.AppSettings.Get(\"HostUrlSegment\"));\n\n            // does something like Path.Combine(..) to construct a proper Url with the hostName \n            // and the other url segments. The $ is a new C# construct to do string interpolation\n            // (makes for readable code)\n        Uri fullUri = new Uri(hostUri, $\"ProductPage.aspx?BC={barCode}&amp;From=Search\");\n\n            // fullUrl.AbosoluteUri will contain the proper Url \n        Response.Redirect(fullUri.AbsoluteUri);\n</code></pre>\n\n<p>The <code>Uri</code> class has a lot of useful properties and methods to give you <code>Relative Url</code>, <code>AbsoluteUrl</code>, your Url <code>Fragments</code>, <code>Host</code> name etc etc.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SnRhZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SnRhZ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1509, "user_id": 1387619, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a719c7f02875d0d9c12cd7ceaf2fccaf?s=128&d=identicon&r=PG", "display_name": "amit kohan", "link": "https://stackoverflow.com/users/1387619/amit-kohan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 42679537, "answer_count": 3, "score": 1, "last_activity_date": 1489249511, "creation_date": 1488998273, "question_id": 42679316, "link": "https://stackoverflow.com/questions/42679316/how-to-maintain-the-right-url-in-c-asp-net", "title": "How to maintain the right URL in C#/ASP.NET?", "body": "<p>I am given a code and on one of its pages which shows a \"search result\" after showing different items, it allows user to click on one of records and it is expected to bring up a page so that specific selected record can be modified. </p>\n\n<p>However, when it is trying to bring up the page I get (by IE) \"This page cannot be displayed\".  </p>\n\n<p>It is obvious the URL is wrong because first I see something <a href=\"http://www.Something.org/Search.aspx\" rel=\"nofollow noreferrer\">http://www.Something.org/Search.aspx</a> then it turns into <a href=\"http://localhost:61123/ProductPage.aspx\" rel=\"nofollow noreferrer\">http://localhost:61123/ProductPage.aspx</a></p>\n\n<p>I  did search in the code and found the following line which I think it is the cause. Now, question I have to ask:</p>\n\n<p>What should I do to avoid using a static URL and make it dynamic so it always would be pointing to the right domain?</p>\n\n<pre><code>string url = string.Format(\"http://localhost:61123/ProductPage.aspx?BC={0}&amp;From={1}\", barCode, \"Search\");\n\nResponse.Redirect(url);\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "html", "asp.net"], "comments": [{"owner": {"reputation": 697, "user_id": 202891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e526de056b3fe7d84760f131c8f6?s=128&d=identicon&r=PG", "display_name": "maniak1982", "link": "https://stackoverflow.com/users/202891/maniak1982"}, "edited": false, "score": 0, "creation_date": 1488997586, "post_id": 42678990, "comment_id": 72482425, "body": "I can&#39;t even tell from these snippets whether your input is in a form.  If it isn&#39;t, it&#39;ll never be posted back to the page."}, {"owner": {"reputation": 697, "user_id": 202891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e526de056b3fe7d84760f131c8f6?s=128&d=identicon&r=PG", "display_name": "maniak1982", "link": "https://stackoverflow.com/users/202891/maniak1982"}, "edited": false, "score": 0, "creation_date": 1488997725, "post_id": 42678990, "comment_id": 72482501, "body": "You could also look into whether it&#39;s feasible to use javascript to post the values via AJAX.  I don&#39;t recall how hard it is to do that with an ASPX form postback."}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1488997764, "post_id": 42678990, "comment_id": 72482523, "body": "The approach is really odd in the sense of ASP.Net Web Form. What are you hoping to achieve?"}, {"owner": {"reputation": 110, "user_id": 5919017, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d15d0597d759887b5584571ee2cad5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Omnus Ruthius", "link": "https://stackoverflow.com/users/5919017/omnus-ruthius"}, "reply_to_user": {"reputation": 697, "user_id": 202891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e526de056b3fe7d84760f131c8f6?s=128&d=identicon&r=PG", "display_name": "maniak1982", "link": "https://stackoverflow.com/users/202891/maniak1982"}, "edited": false, "score": 0, "creation_date": 1488997929, "post_id": 42678990, "comment_id": 72482621, "body": "@maniak1982 - Added form element to snippet."}, {"owner": {"reputation": 110, "user_id": 5919017, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d15d0597d759887b5584571ee2cad5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Omnus Ruthius", "link": "https://stackoverflow.com/users/5919017/omnus-ruthius"}, "reply_to_user": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "edited": false, "score": 0, "creation_date": 1488998006, "post_id": 42678990, "comment_id": 72482669, "body": "@Win I need to pass user-selected parameters from certain front-end UI elements to the C# code-behind such that I can perform logic on them and return data accordingly."}, {"owner": {"reputation": 697, "user_id": 202891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e526de056b3fe7d84760f131c8f6?s=128&d=identicon&r=PG", "display_name": "maniak1982", "link": "https://stackoverflow.com/users/202891/maniak1982"}, "edited": false, "score": 0, "creation_date": 1488998086, "post_id": 42678990, "comment_id": 72482721, "body": "Thanks.  I&#39;m wondering why you&#39;re trying to pass through values through an input instead of having the input trigger a javascript function to pull the inputs from the page and post them to the server."}, {"owner": {"reputation": 110, "user_id": 5919017, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d15d0597d759887b5584571ee2cad5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Omnus Ruthius", "link": "https://stackoverflow.com/users/5919017/omnus-ruthius"}, "edited": false, "score": 0, "creation_date": 1488998346, "post_id": 42678990, "comment_id": 72482886, "body": "I could have the HTML call a JS function, but then how would the JS function call the C# code-behind function? The C# code needs the parameters, the work it performs isn&#39;t something I want to have to implement in JavaScript."}, {"owner": {"reputation": 697, "user_id": 202891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e526de056b3fe7d84760f131c8f6?s=128&d=identicon&r=PG", "display_name": "maniak1982", "link": "https://stackoverflow.com/users/202891/maniak1982"}, "edited": false, "score": 0, "creation_date": 1489000890, "post_id": 42678990, "comment_id": 72484398, "body": "C# code behind is just accepting a POST from the form.  ASPX works by associating the front-end markup with a back-end that automatically implements events as post-backs for the form.  You can even observe the contents of the posts in the browser when you&#39;re testing your site."}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 1931687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkiSr.gif?s=128&g=1", "display_name": "ToXinE", "link": "https://stackoverflow.com/users/1931687/toxine"}, "is_accepted": false, "score": 0, "last_activity_date": 1488997597, "creation_date": 1488997597, "answer_id": 42679092, "question_id": 42678990, "link": "https://stackoverflow.com/questions/42678990/how-do-i-pass-an-html-elements-value-to-a-c-code-behind-method/42679092#42679092", "title": "How do I pass an HTML element&#39;s value to a C# code-behind method?", "body": "<p>You should post value you want to send to the webserver into an html form.</p>\n"}, {"comments": [{"owner": {"reputation": 110, "user_id": 5919017, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d15d0597d759887b5584571ee2cad5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Omnus Ruthius", "link": "https://stackoverflow.com/users/5919017/omnus-ruthius"}, "edited": false, "score": 0, "creation_date": 1488998434, "post_id": 42679140, "comment_id": 72482959, "body": "&quot;An object reference is required for the non-static field, method, or property &#39;System.Web.UI.Page.Request.get&#39;.&quot;"}, {"owner": {"reputation": 2876, "user_id": 4172872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCMmuyZ5yEA/AAAAAAAAAAI/AAAAAAAAAEY/u0VSLspwRBY/photo.jpg?sz=128", "display_name": "levent", "link": "https://stackoverflow.com/users/4172872/levent"}, "reply_to_user": {"reputation": 110, "user_id": 5919017, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d15d0597d759887b5584571ee2cad5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Omnus Ruthius", "link": "https://stackoverflow.com/users/5919017/omnus-ruthius"}, "edited": false, "score": 0, "creation_date": 1488998683, "post_id": 42679140, "comment_id": 72483113, "body": "change <code>public static string GetCurrentDate()</code> to  <code>public string GetCurrentDate()</code>"}], "tags": [], "owner": {"reputation": 2876, "user_id": 4172872, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iCMmuyZ5yEA/AAAAAAAAAAI/AAAAAAAAAEY/u0VSLspwRBY/photo.jpg?sz=128", "display_name": "levent", "link": "https://stackoverflow.com/users/4172872/levent"}, "is_accepted": false, "score": 1, "last_activity_date": 1488998080, "last_edit_date": 1488998080, "creation_date": 1488997746, "answer_id": 42679140, "question_id": 42678990, "link": "https://stackoverflow.com/questions/42678990/how-do-i-pass-an-html-elements-value-to-a-c-code-behind-method/42679140#42679140", "title": "How do I pass an HTML element&#39;s value to a C# code-behind method?", "body": "<p>this method <code>GetCurrentDate</code> running server side but this <code>formObj.elements.item('someLabel').value</code> running on client</p>\n\n<p>try this..</p>\n\n<pre><code>&lt;tr&gt;\n&lt;td class=\"label\"&gt;\n    Start Date:\n&lt;/td&gt;\n&lt;td&gt;\n    &lt;input type=\"text\" name=\"StartDate\" value='&lt;%=GetCurrentDate()%&gt;' maxlength=\"10\" /&gt; \n&lt;/td&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>    public  string GetCurrentDate()\n    {\n        return DateTime.Now.ToString(\"MM/dd/yyyy\");\n    }\n</code></pre>\n\n<p>for read   value of input named as StartDate from server..</p>\n\n<pre><code>string postValue =  Request.Form[\"StartDate\"]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110, "user_id": 5919017, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d15d0597d759887b5584571ee2cad5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Omnus Ruthius", "link": "https://stackoverflow.com/users/5919017/omnus-ruthius"}, "edited": false, "score": 0, "creation_date": 1489000185, "post_id": 42679574, "comment_id": 72483983, "body": "So this solution is the old methodology to complete what I&#39;m trying to do? And the ASP.NET Web API / MVC is best practice as of today?"}, {"owner": {"reputation": 697, "user_id": 202891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed15e526de056b3fe7d84760f131c8f6?s=128&d=identicon&r=PG", "display_name": "maniak1982", "link": "https://stackoverflow.com/users/202891/maniak1982"}, "edited": false, "score": 0, "creation_date": 1489000994, "post_id": 42679574, "comment_id": 72484490, "body": "Forms are are older technology but there&#39;s nothing inherently wrong in using them.  ASP.NET MVC/Web API can be a lot easier for modern web design, though, since it makes it easier to develop the front end separately from the back end."}], "tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": true, "score": 1, "last_activity_date": 1488999119, "creation_date": 1488999119, "answer_id": 42679574, "question_id": 42678990, "link": "https://stackoverflow.com/questions/42678990/how-do-i-pass-an-html-elements-value-to-a-c-code-behind-method/42679574#42679574", "title": "How do I pass an HTML element&#39;s value to a C# code-behind method?", "body": "<p>If you want to pass a value from client-side to code behind <em>without posting back the entire page</em>, you will need to use Ajax. </p>\n\n<p>Calling to a server-side method in ASP.Net Web Form is not as clean as ASP.Net Web API or MVC. You will need to use old <strong><em>WebMethod</em></strong>.</p>\n\n<p><em>For example,</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/Sf2Pt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sf2Pt.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"Default.aspx.cs\" Inherits=\"DemoWebForm.Default\" %&gt;\n\n&lt;!DOCTYPE html&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n        &lt;button type=\"button\" onclick=\"getData();\"&gt;Get Data&lt;/button&gt;\n        &lt;br/&gt;\n        &lt;input type=\"text\" name=\"StartDate\" id=\"txtStartDate\" maxlength=\"10\" /&gt;\n        &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            function getData() {\n                var data = {value: \"test\"};\n                $.ajax({\n                    type: \"POST\",\n                    url: '&lt;%= ResolveUrl(\"~/Default.aspx/GetCurrentDate\") %&gt;',\n                    data: JSON.stringify(data),\n                    contentType: \"application/json\",\n                    success: function (msg) {\n                        $(\"#txtStartDate\").val(msg.d);\n                    }\n                });\n            }\n        &lt;/script&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h2>Code Behind</h2>\n\n<pre><code>using System;\nusing System.Web.Script.Serialization;\n\nnamespace DemoWebForm\n{\n    public partial class Default : System.Web.UI.Page\n    {\n        [System.Web.Services.WebMethod]\n        public static string GetCurrentDate(string value)\n        {\n            return new JavaScriptSerializer().Serialize(\n                string.Format(\"{0} - {1}\", DateTime.Now, value));\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 7679866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a6721ddd9e5ba70ce441cb50a467c5?s=128&d=identicon&r=PG&f=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/7679866/sbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1489000642, "creation_date": 1489000642, "answer_id": 42680036, "question_id": 42678990, "link": "https://stackoverflow.com/questions/42678990/how-do-i-pass-an-html-elements-value-to-a-c-code-behind-method/42680036#42680036", "title": "How do I pass an HTML element&#39;s value to a C# code-behind method?", "body": "<p>You can make it a server control by adding runat=\"server\" and it will be available in your code behind file. OR if you don't prefer this then use Request.Form[\"Name\"] in your code behind file. Here \"Name\" is the name you are giving to your textbox control.</p>\n\n<p>In your case the name is StartDate</p>\n\n<p>\n\n<p>So try to access the value of textbox from the code behind using Request.Form[\"StartDate\"]</p>\n\n<p>Read this article.. <a href=\"https://www.aspsnippets.com/Articles/Get-value-of-HTML-Input-TextBox-in-ASPNet-code-behind-using-C-and-VBNet.aspx\" rel=\"nofollow noreferrer\">https://www.aspsnippets.com/Articles/Get-value-of-HTML-Input-TextBox-in-ASPNet-code-behind-using-C-and-VBNet.aspx</a></p>\n"}], "owner": {"reputation": 110, "user_id": 5919017, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d15d0597d759887b5584571ee2cad5ee?s=128&d=identicon&r=PG&f=1", "display_name": "Omnus Ruthius", "link": "https://stackoverflow.com/users/5919017/omnus-ruthius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3502, "favorite_count": 0, "accepted_answer_id": 42679574, "answer_count": 4, "score": 0, "last_activity_date": 1489000642, "creation_date": 1488997327, "last_edit_date": 1488997898, "question_id": 42678990, "link": "https://stackoverflow.com/questions/42678990/how-do-i-pass-an-html-elements-value-to-a-c-code-behind-method", "title": "How do I pass an HTML element&#39;s value to a C# code-behind method?", "body": "<p>For example, right now I have my ASPX like so:</p>\n\n<pre><code>&lt;form name=\"form\" runat=\"server\" onsubmit=\"validate(this)\"&gt;\n    &lt;table width=\"100%\" height=\"100%\"&gt;\n        &lt;tr&gt;\n            &lt;td class=\"label\"&gt;\n                Start Date:\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;input type=\"text\" name=\"StartDate\" value='&lt;%=GetCurrentDate(\"- testParam\")%&gt;' maxlength=\"10\" /&gt; \n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>..and my C# as follows:</p>\n\n<pre><code>public static string GetCurrentDate(string str)\n{\n    return DateTime.Now.ToString(\"MM/dd/yyyy\") + str;\n}\n</code></pre>\n\n<p>This works fine and outputs \"03/08/2017 - testParam\". But what if, for example, instead of sending a hardcoded string manually as I did above, I want to pass in one of the HTML element's values as a parameter from the ASPX side? Like this:</p>\n\n<pre><code>...\n&lt;tr&gt;\n    &lt;td class=\"label\"&gt;\n        Start Date:\n    &lt;/td&gt;\n    &lt;td&gt;\n        &lt;input type=\"text\" name=\"StartDate\" value=\"&lt;%=GetCurrentDate(formObj.elements.item('someLabel').value)%&gt;\" maxlength=\"10\" /&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n...\n</code></pre>\n\n<p>What do I need to do to get the \"someLabel\" element's value on my ASPX page to the C# page? Any help with this will be greatly appreciated.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 103396, "user_id": 712649, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tP0yV.jpg?s=128&g=1", "display_name": "Mathias R. Jessen", "link": "https://stackoverflow.com/users/712649/mathias-r-jessen"}, "edited": false, "score": 0, "creation_date": 1488997131, "post_id": 42678890, "comment_id": 72482180, "body": "Fairly easy - define a list/dictionary of the lowest number of ms before a certain superunit goes below 1, then use that to apply the appropriate conversion"}, {"owner": {"reputation": 933, "user_id": 5969349, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c6a3d63248c8c13c72ff3b100c83ed8?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/5969349/marc"}, "edited": false, "score": 0, "creation_date": 1488998139, "post_id": 42678890, "comment_id": 72482758, "body": "I would create a conversion method for each of the conversions you want to support (ms to sec, sec to min, min to hr, hr to days, etc), then create a method that calls the conversions in order. After each conversion, if the new value is less than 1, stop and return the previous value. Keep going till you reach the largest time span you want to support return the result. The TimeSpan class will help with all the converts up to years then you will need to do your own conversion."}], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 7659792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77b3be52d8e0fb81a577e1aabcaf63eb?s=128&d=identicon&r=PG&f=1", "display_name": "StfBln", "link": "https://stackoverflow.com/users/7659792/stfbln"}, "is_accepted": false, "score": 1, "last_activity_date": 1488997583, "creation_date": 1488997583, "answer_id": 42679085, "question_id": 42678890, "link": "https://stackoverflow.com/questions/42678890/milliseconds-to-the-highest-possible-time-value-before-reaching-0-xx/42679085#42679085", "title": "Milliseconds to the highest possible time value before reaching 0,xx", "body": "<p>While not the final solution, maybe <code>TimeSpan</code> can help you achieve what you are looking for.\nIt is to be noted however, <code>TimeSpan</code> supports only up to <code>TotalDays</code>.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var timespan = TimeSpan.FromMilliseconds(1500);\nvar seconds = timespan.TotalSeconds; // equals: 1.5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "edited": false, "score": 0, "creation_date": 1489002003, "post_id": 42680308, "comment_id": 72485086, "body": "Actually, the millenia part will not work, as there are too many milliseconds in a millenium to be fit into an int."}], "tags": [], "owner": {"reputation": 2868, "user_id": 922202, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8a909d49e7e0b73f4b1e10dc15b3e20f?s=128&d=identicon&r=PG", "display_name": "Guillaume CR", "link": "https://stackoverflow.com/users/922202/guillaume-cr"}, "is_accepted": false, "score": 0, "last_activity_date": 1489001488, "creation_date": 1489001488, "answer_id": 42680308, "question_id": 42678890, "link": "https://stackoverflow.com/questions/42678890/milliseconds-to-the-highest-possible-time-value-before-reaching-0-xx/42680308#42680308", "title": "Milliseconds to the highest possible time value before reaching 0,xx", "body": "<p>It seems the TimeSpan class is the closest thing that meets your need, but clearly it's not exactly what you want. My take on it would look something like this:</p>\n\n<pre><code>public static string ScientificNotationTimespan(int milliseconds)\n{\n    var timeSpan = new TimeSpan(0, 0, 0, 0, milliseconds);\n    var totalDays = timeSpan.TotalDays;\n    if (totalDays &lt; 7)\n    {\n        if (timeSpan.TotalDays &gt; 1) return timeSpan.TotalDays.ToString() + \" days\";\n        if (timeSpan.TotalHours &gt; 1) return timeSpan.TotalHours.ToString() + \" hours\";\n        if (timeSpan.TotalMinutes &gt; 1) return timeSpan.TotalMinutes.ToString() + \" minutes\";\n        if (timeSpan.TotalSeconds &gt; 1) return timeSpan.TotalSeconds.ToString() + \" seconds\";\n        return milliseconds.ToString() + \"milliseconds\";\n    }\n\n    var weeks = totalDays / 7;\n    //How long is a month? 28, 29, 30 or 31 days?\n    var years = totalDays / 365;\n    if (years &lt; 1) return weeks.ToString() + \" weeks\";\n    var decades = years / 10;\n    if (decades &lt; 1) return years.ToString() + \" years\";\n    var centuries = decades / 10;\n    if (centuries &lt; 1) return decades.ToString() + \" decades\";\n    var millenia = centuries / 10;\n    if (millenia &lt; 1) return centuries.ToString() + \" centuries\";\n    return millenia.ToString() + \" millenia\";\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1489002199, "post_id": 42680499, "comment_id": 72485218, "body": "This is a bad use of <code>DateTime</code> - I very much doubt whether &quot;years and months if you deem it to start at January 1st 1AD&quot; is a useful measure."}, {"owner": {"reputation": 3119, "user_id": 511144, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/654882df054501d372b3684351de29e2?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/511144/artyom"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1489002513, "post_id": 42680499, "comment_id": 72485383, "body": "@JonSkeet Yes, I also doubt about that as I&#39;m not sure about purpose of this formatting (some magic world?). Just a guess if it was our world."}], "tags": [], "owner": {"reputation": 3119, "user_id": 511144, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/654882df054501d372b3684351de29e2?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom", "link": "https://stackoverflow.com/users/511144/artyom"}, "is_accepted": false, "score": -1, "last_activity_date": 1489002293, "last_edit_date": 1489002293, "creation_date": 1489002096, "answer_id": 42680499, "question_id": 42678890, "link": "https://stackoverflow.com/questions/42678890/milliseconds-to-the-highest-possible-time-value-before-reaching-0-xx/42680499#42680499", "title": "Milliseconds to the highest possible time value before reaching 0,xx", "body": "<p>Here is solution for years, months using DateTime and Gregorian calendar (meaning leap years, calendar months). Then it uses the TimeSpan solution as already submitted. </p>\n\n<pre><code>static string ToMostNonZeroTime(long ms) {\n    const int hundretsNanosecondsInMillisecond = 10000;\n    long ticks = (long)ms * hundretsNanosecondsInMillisecond;\n    var dt = new DateTime(ticks); \n\n    if((dt.Year - 1) &gt; 0) { // starts with 1\n        double daysToYear = (dt.DayOfYear - 1) * 1.0 / (DateTime.IsLeapYear(dt.Year) ? 366 : 365);\n        daysToYear +=  dt.Year - 1;\n        return $\"{daysToYear:0.0} years\";\n    }\n    if((dt.Month - 1) &gt; 0) {\n        double daysToMonth = (dt.Day - 1) * 1.0 / DateTime.DaysInMonth(dt.Year, dt.Month);\n        daysToMonth +=  dt.Day - 1;\n        return $\"{daysToMonth:0.0} months\";\n    }\n    // can use TimeSpan then:\n    var ts = TimeSpan.FromMilliseconds(ms);\n    if(ts.TotalDays &gt;= 1)\n        return $\"{ts.TotalDays:0.0} days\";\n    if(ts.TotalHours &gt;= 1)\n        return $\"{ts.TotalHours:0.0} hours\";\n    if(ts.TotalMinutes &gt;= 1)\n        return $\"{ts.TotalMinutes:0.0} minutes\";\n    if(ts.TotalSeconds &gt;= 1)\n        return $\"{ts.TotalSeconds:0.0} seconds\";\n    return $\"{ms} milliseconds\";\n}\n</code></pre>\n\n<p>It prints</p>\n\n<pre><code>100ms: 100 milliseconds\n1000ms: 1.0 seconds\n10000ms: 10.0 seconds\n100000ms: 1.7 minutes\n1000000ms: 16.7 minutes\n10000000ms: 2.8 hours\n100000000ms: 1.2 days\n1000000000ms: 11.6 days\n20000000000ms: 19.6 months\n200000000000ms: 6.3 years\n</code></pre>\n\n<p>Have a look at <a href=\"https://ideone.com/QZHOM4\" rel=\"nofollow noreferrer\">https://ideone.com/QZHOM4</a></p>\n"}, {"tags": [], "owner": {"reputation": 2815, "user_id": 1462295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/ts6jy.jpg?s=128&g=1", "display_name": "BurnsBA", "link": "https://stackoverflow.com/users/1462295/burnsba"}, "is_accepted": true, "score": 1, "last_activity_date": 1489006453, "creation_date": 1489006453, "answer_id": 42681742, "question_id": 42678890, "link": "https://stackoverflow.com/questions/42678890/milliseconds-to-the-highest-possible-time-value-before-reaching-0-xx/42681742#42681742", "title": "Milliseconds to the highest possible time value before reaching 0,xx", "body": "<p>Something like the following  </p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>public static string ConversionMethod(UInt64 ms)\n{\n    // change output format as needed\n    string format = \"######.###\";\n\n    var cutoffs = new List&lt;UInt64&gt;() {\n        1000, // second\n        60000, // minute\n        3600000, // hour\n        86400000, // day\n        604800000, // week = day * 7\n        2592000000, // month = day * 30\n        31536000000, // year = day * 365\n        315360000000, // decade = year * 10\n        3153600000000, // century = decade * 10 (100 years)\n        31536000000000, // millenia = century * 10 (1000 years)\n        31536000000000000 // megayear = year * 100000\n        // 18446744073709551615 // UInt64 MaxValue\n        // 31536000000000000000 // gigayear = year * 100000000\n    };\n\n    var postfix = new List&lt;String&gt;() {\n        \"second\",\n        \"minute\",\n        \"hour\",\n        \"day\",\n        \"week\",\n        \"month\",\n        \"year\",\n        \"decade\",\n        \"century\",\n        \"millenia\",\n        \"megayear\"\n    };\n\n    // The above are listed from smallest to largest for easy reading,\n    // but the comparisons need to be made from largest to \n    // smallest (in the loop below)\n    cutoffs.Reverse();\n    postfix.Reverse();\n\n    int count = 0;\n\n    foreach (var cutoff in cutoffs)\n    {\n        if (ms &gt; cutoff)\n        {\n            return ((decimal)((decimal)ms / (decimal)cutoff)).ToString(format) + \" \" + postfix[count];\n        }\n\n        count++;\n    }\n\n    return ms + \" ms\";\n}\n</code></pre>\n\n<p>Conversion for the fraction is a bit dirty, might want to clean that up. Also, you'll have to decide how you want to handle leap years (and leap seconds), etc. </p>\n"}], "owner": {"reputation": 5996, "user_id": 2598770, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ac98ed5ba8dd996d7489d6bebadfbeec?s=128&d=identicon&r=PG&f=1", "display_name": "Rand Random", "link": "https://stackoverflow.com/users/2598770/rand-random"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 42681742, "answer_count": 4, "score": 1, "last_activity_date": 1489006453, "creation_date": 1488996970, "question_id": 42678890, "link": "https://stackoverflow.com/questions/42678890/milliseconds-to-the-highest-possible-time-value-before-reaching-0-xx", "title": "Milliseconds to the highest possible time value before reaching 0,xx", "body": "<p>I would like to write a converter from milliseconds to the highest possible time value before reaching a 0,x value.</p>\n\n<p>Let me clarify this with examples.</p>\n\n<p>Let's assume you have <code>1500ms</code> this should result in <code>1,5secs</code>, because its the highest possible digit value <em>not</em> resulting in <code>0,x</code>.</p>\n\n<p>So different examples would be</p>\n\n<pre><code>10ms = 10,0ms\n100ms = 100,0ms\n1000ms = 1,0sec\n10000ms = 10,0sec\n100000ms = 1,6min\n1000000ms = 16,0min\n10000000ms = 2,7hours\n</code></pre>\n\n<p>(The method should more or less be endless, so from hours to days, to weeks, to months, to years, to decades and so on...)</p>\n\n<p>Is there a .net method for this?</p>\n"}, {"tags": ["c#", "angular", "oauth-2.0", "asp.net-core"], "comments": [{"owner": {"reputation": 538, "user_id": 2802153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kAjet.jpg?s=128&g=1", "display_name": "wheeler", "link": "https://stackoverflow.com/users/2802153/wheeler"}, "edited": false, "score": 0, "creation_date": 1504540515, "post_id": 42678790, "comment_id": 79041566, "body": "did you solve that issue by now?"}], "owner": {"reputation": 1307, "user_id": 5006880, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fb0bf399baa2aa2a9ba96fa05cecb74b?s=128&d=identicon&r=PG&f=1", "display_name": "Mergasov", "link": "https://stackoverflow.com/users/5006880/mergasov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1488996620, "creation_date": 1488996620, "question_id": 42678790, "link": "https://stackoverflow.com/questions/42678790/how-to-pass-jwt-token-to-angular2-app-after-succesfull-auth-on-third-side", "title": "How to pass jwt-token to Angular2 app after succesfull auth on third-side?", "body": "<p>The scenario: I have 2 web-apps. One of them is <a href=\"https://tools.ietf.org/html/rfc6749#page-6\" rel=\"nofollow noreferrer\">an authorization server</a> (implementing by IdentityServer4), the other is <a href=\"https://tools.ietf.org/html/rfc6749#page-6\" rel=\"nofollow noreferrer\">a client</a>. They do interact by <a href=\"https://tools.ietf.org/html/rfc6749#section-1.3.1\" rel=\"nofollow noreferrer\">Authorization Code grant</a>.</p>\n\n<p>The end-user work with the client app using Angular2 on front-end. To let her to login (through the auth server app as third side like Facebook etc) and get JWT-token (the issuer is the client app) I created the following middleware handling requests which is sended by end-user after succesfull authorization on authorization server side (i.e. the incoming request must contain auth code):</p>\n\n<pre><code>using IdentityModel.Client;\npublic async Task Invoke(HttpContext httpContext)\n{\nif (!httpContext.Request.Path.Equals(\"/api/connect/authcallback\", StringComparison.Ordinal))\n{\n   await next(httpContext);\n   return;\n}\n\n//try to get auth code from the request\nstring code = httpContext.Request.Form[\"code\"];\n\n//try to request access token from the auth server app\nvar tokenClient = new TokenClient(\"https://AuthServer.com/connect/token\", ClientId, ClientSecret);\nvar responseToken =  await tokenClient.RequestAuthorizationCodeAsync(code, \"http://ourcallback.com\");\nvar token = responseToken.AccessToken;\n\n//that's good, so create JWT-token for the end-user\nvar JwtToken = JsonConvert.SerializeObject(CreateJwtToken());\n//what should I do further?\n}\n</code></pre>\n\n<p>My question is how can I pass the JWT-token to the end-user's Angular2 app? It's wrong to just send it from that point of code because Angular2 have to set it to LocalStorage. Maybe should I redirect user with the token? So can I do it (how to pass it)?</p>\n"}, {"tags": ["c#", "foreach", "user-controls"], "comments": [{"owner": {"reputation": 1210, "user_id": 2494599, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a11f27671cd7052805d9553841ff5c88?s=128&d=identicon&r=PG", "display_name": "Sebastien", "link": "https://stackoverflow.com/users/2494599/sebastien"}, "edited": false, "score": 0, "creation_date": 1488996814, "post_id": 42678755, "comment_id": 72481985, "body": "I am wrong to assume that the call to dispose do nothing? Since there is still a reference in Controls to the label you want to dispose? Maybe remove the label from Controls then dispose of it."}], "answers": [{"comments": [{"owner": {"reputation": 68, "user_id": 6719501, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f639d498e5afd9547452aad31baa3615?s=128&d=identicon&r=PG&f=1", "display_name": "donmichael", "link": "https://stackoverflow.com/users/6719501/donmichael"}, "edited": false, "score": 0, "creation_date": 1488998445, "post_id": 42678989, "comment_id": 72482974, "body": "Thank you very very much:)"}], "tags": [], "owner": {"reputation": 6319, "user_id": 6170890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rIxw.jpg?s=128&g=1", "display_name": "Nino", "link": "https://stackoverflow.com/users/6170890/nino"}, "is_accepted": true, "score": 0, "last_activity_date": 1488997313, "creation_date": 1488997313, "answer_id": 42678989, "question_id": 42678755, "link": "https://stackoverflow.com/questions/42678755/foreach-skipping-a-control-on-usercontrol/42678989#42678989", "title": "Foreach skipping a control on usercontrol", "body": "<p>I'm guessing that disposing those labels while iterating through <code>Controls</code> collection tampers with collection and because of that stops iterating on first disposed Label. </p>\n\n<p>Why don't you try to add them to <code>List&lt;Label&gt;</code> instead of disposing. When all Label controls are added to List, loop through that list and remove them. </p>\n\n<p>So, instead of</p>\n\n<pre><code>foreach (Control ctrl in this.Controls)\n{\n    if (ctrl is Label)\n        ctrl.Dispose();\n}\n</code></pre>\n\n<p>try</p>\n\n<pre><code>List&lt;Label&gt; labelList = this.Controls.OfType&lt;Label&gt;().ToList();\nforeach(Label lbl in labelList)\n{\n    lbl.Dispose();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3647800, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Cb96.jpg?s=128&g=1", "display_name": "Rick Deschenes", "link": "https://stackoverflow.com/users/3647800/rick-deschenes"}, "is_accepted": false, "score": 0, "last_activity_date": 1488998569, "creation_date": 1488998569, "answer_id": 42679410, "question_id": 42678755, "link": "https://stackoverflow.com/questions/42678755/foreach-skipping-a-control-on-usercontrol/42679410#42679410", "title": "Foreach skipping a control on usercontrol", "body": "<p>Option one: can you use a ListBox in your control: if yes then use a ListBox in the UC and maintain a List in your parent and set the UC ListBox.source as the list. This should update automatically as you adjust the list</p>\n\n<p>Option Two\nmake a default view (Usercontrol.Clear()) procedure, call it first than run your code to add new labels.\nthis call can be blind to the user or you can force the clear call</p>\n"}], "owner": {"reputation": 68, "user_id": 6719501, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f639d498e5afd9547452aad31baa3615?s=128&d=identicon&r=PG&f=1", "display_name": "donmichael", "link": "https://stackoverflow.com/users/6719501/donmichael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 42678989, "answer_count": 2, "score": 0, "last_activity_date": 1488998569, "creation_date": 1488996533, "question_id": 42678755, "link": "https://stackoverflow.com/questions/42678755/foreach-skipping-a-control-on-usercontrol", "title": "Foreach skipping a control on usercontrol", "body": "<p>I have a usercontrol, with a panel, called panel1. I added it in designer view.\nAfter choosing an option from combobox, in this case I add two labels to the usercontrol (<code>mainAspects</code> has two strings):</p>\n\n<pre><code>private void CreateLabelsForMainAspetcs(List&lt;string&gt; mainAspects)\n    {\n        int mainCount;\n        int firstLabelX;\n        int firstLabelY;\n        int addToFirstLabelY = 0;\n\n        mainCount = mainAspects.Count;\n        firstLabelX = 22;\n        firstLabelY = 149;\n\n        for (int i = 0; i &lt; mainCount; i++)\n        {\n                Label mainAsp = new Label();\n                mainAsp.Text = mainAspects[i];\n                mainAsp.Location = new Point(firstLabelX, firstLabelY + addToFirstLabelY);\n                mainAsp.AutoSize = true;\n                Controls.Add(mainAsp);\n                addToFirstLabelY = addToFirstLabelY + 100;\n        }\n    }\n</code></pre>\n\n<p>After, when user chooses an other option from combobox, I would like to dispose the labels with this code:</p>\n\n<pre><code> foreach (Control ctrl in this.Controls)\n            {\n                if (ctrl is Label)\n                    ctrl.Dispose();\n            }\n</code></pre>\n\n<p>and create the new ones with <code>CreateLabelsForMainAspetcs(List&lt;string&gt; mainAspects)</code>.\nBut the foreach loop only go through panel1 and first label, after it exits (skipping the second label).</p>\n\n<p>I have checked how many controls has the usercontrol with <code>this.Controls.Count.ToString()</code>  before the foreach loop: it says, the uc has 3 controls (with <code>GetType()</code> function i found one panel and two labels - so it finds every control).</p>\n\n<p>So after the second run of <code>CreateLabelsForMainAspetcs(List&lt;string&gt; mainAspects)</code> there is not 3, but 4 controls. 1 panel, and 3 labels.</p>\n\n<p>After, if I want only one lable to display: run the dispose code and the createlabel with one string in the List - there is only one label on the usercontrol, the second disappers. But the <code>Controls.Count</code> says that there is 4 controls - 1 panel and 3 labels. Can you help, what I am doing wrong?</p>\n"}, {"tags": ["c#", "android", "unity3d", "sqlite"], "owner": {"reputation": 570, "user_id": 4259181, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-WGT4CQjttXU/AAAAAAAAAAI/AAAAAAAAAEY/BT0EgS9R2Nk/photo.jpg?sz=128", "display_name": "SoKeT", "link": "https://stackoverflow.com/users/4259181/soket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1495207091, "creation_date": 1488996487, "last_edit_date": 1489003926, "question_id": 42678735, "link": "https://stackoverflow.com/questions/42678735/unity-c-sqlite3-database-doesnt-work-on-android", "title": "Unity (C#) - SQLite3 database doesn&#39;t work on Android", "body": "<p>I'm trying to use SQLite in a Unity game, and it works as expected when I build it for PC, but it doesn't work when I install the game on my Android phone.</p>\n\n<pre><code>int highscore;\nint rows;\n\nvoid Start () {\n    string connection = \"URI=file:\" + Application.persistentDataPath + \"/flappy.db\";\n\n    IDbConnection dbconnection;\n    dbconnection = new SqliteConnection(connection);\n    dbconnection.Open();\n    //After this line, nothing else is executed\n\n    IDbCommand dbcommand = dbconnection.CreateCommand();\n\n    dbcommand.CommandText = \"CREATE TABLE IF NOT EXISTS highscore (score INTEGER)\";\n    dbcommand.ExecuteNonQuery();\n\n    dbcommand.CommandText = \"SELECT COUNT(*) FROM highscore\";\n    rows = Convert.ToInt32(dbcommand.ExecuteScalar());\n\n    if (rows == 0) {\n        dbcommand.CommandText = \"INSERT INTO highscore VALUES (0)\";\n        dbcommand.ExecuteNonQuery();\n\n        highscore = 0;\n    }\n    else {\n        dbcommand.CommandText = \"SELECT score FROM highscore\";\n        highscore = Convert.ToInt32(dbcommand.ExecuteScalar());\n    }\n\n    dbcommand.Dispose();\n    dbcommand = null;\n    dbconnection.Close();\n    dbconnection = null;\n\n    GetComponent&lt;Text&gt;().text = \"Highscore: \" + highscore.ToString();\n}\n</code></pre>\n\n<p>This piece of code creates the database if it doesn't exist, creates the table if it doesn't exist, inserts a row if there is none, and sets the text of a UI element to the highscore value returned from the database.</p>\n\n<p>On PC it shows \"Highscore: 0\" (or any other value). However, on Android it shows nothing. I would expect to see at least \"Highscore: \", but that's not the case. Why is the value not being retrieved from the database on Android?</p>\n\n<p>EDIT: After debugging for a while, I found that the last line executed in the Start() function is \"dbconnection.Open();\". After this, nothing else is executed. Isn't SQLite supposed to create the database when you connect to a database that doesn't exist?</p>\n"}, {"tags": ["c#", "sql"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1488996595, "post_id": 42678708, "comment_id": 72481864, "body": "Your connection usage is all wrong. Your connections should be wrapped in using statements because they implement <a href=\"https://msdn.microsoft.com/en-us/library/system.idisposable(v=vs.110).aspx\" rel=\"nofollow noreferrer\">IDisposable</a>. And do not store passwords in the database as plaintext! Passwords should be one way hashed and salted."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 2, "creation_date": 1488996619, "post_id": 42678708, "comment_id": 72481878, "body": "In your first snippet, you have <code>cmd.ExecuteReader()</code> followed a couple lines later with <code>cmd.ExecuteScalar()</code>. Seems wrong to me. If you have a reader, and you&#39;ve called <code>Read()</code> on it, why are you calling <code>ExecuteScalar()</code>?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1488996659, "post_id": 42678708, "comment_id": 72481897, "body": "This code seems really janky. Also, why wouldn&#39;t you get the username and password in the same query? And finally, I do hope you&#39;re not storing plaintext passwords..."}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1488996764, "post_id": 42678708, "comment_id": 72481955, "body": "@DavidG I see a <code>conn.Open();</code> in every block.  Am I missing something?"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "reply_to_user": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1488996814, "post_id": 42678708, "comment_id": 72481986, "body": "@LarsTech Er, so it is. The rest of my comment stands though :)"}, {"owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "edited": false, "score": 0, "creation_date": 1488996846, "post_id": 42678708, "comment_id": 72482012, "body": "I forgot to say that I am just learning to use sql and still learning C#, so this project is strictly for learning purposes - so no actual passwords are stored in my unsafe database :)"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1488996886, "post_id": 42678708, "comment_id": 72482042, "body": "Nowhere in this code do you ever even define your <code>conn</code> object, or your <code>dbConnection</code> object.  It seems like a strange coincidence that <i>any</i> of this works <i>at all</i>.  You should really be creating/using/disposing your connections in a tight scope.  Trying to keep shared connections open is an open invitation to bugs and other problems (like the one you&#39;re experiencing)."}, {"owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "edited": false, "score": 0, "creation_date": 1488996911, "post_id": 42678708, "comment_id": 72482056, "body": "But from what I can gather from your answers, I should be wrapping them in using() statements instead of doing it the way I do now, and I should not use ExecuteScalar()?"}, {"owner": {"reputation": 77042, "user_id": 719186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f03c0b63844ced274fae4110267fe640?s=128&d=identicon&r=PG", "display_name": "LarsTech", "link": "https://stackoverflow.com/users/719186/larstech"}, "edited": false, "score": 1, "creation_date": 1488996959, "post_id": 42678708, "comment_id": 72482078, "body": "Why use the ExecuteScalar if you already have the reader open?"}, {"owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "edited": false, "score": 0, "creation_date": 1488996991, "post_id": 42678708, "comment_id": 72482104, "body": "Sorry, forgot to mention that.. My conn object is my connectionstring and the dbConnection is an instance of the class that stores all methods related to the database -  edit: sorry, not my connectionstring, my SQLConnection"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1488997095, "post_id": 42678708, "comment_id": 72482160, "body": "Sounds like you should refactor your code really. Imagine you end up with 300 different types of database call, your single db class will be unmanageable!"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 2, "creation_date": 1488997148, "post_id": 42678708, "comment_id": 72482190, "body": "There are <i>so</i> many examples of how to use the <code>SqlClient</code> namespace in C#. I recommend looking at those. There are so many problems with your current code, it&#39;s better to just start over."}, {"owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "edited": false, "score": 0, "creation_date": 1488997198, "post_id": 42678708, "comment_id": 72482220, "body": "Yea I guess that class got a bit out of hand - I&#39;ll look into that. And then change all the database methods to use the using() wrappers?"}, {"owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "edited": false, "score": 0, "creation_date": 1488997232, "post_id": 42678708, "comment_id": 72482234, "body": "Haha, I guess I&#39;ll have to start over yeah - only way to learn it :)"}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 2, "creation_date": 1488997274, "post_id": 42678708, "comment_id": 72482263, "body": "A hint: do not store a <code>SqlConnection</code> as a field. They should be limited to the local block in scope. Which is simple if you create them in a using statement <code>using (var connection = new SqlConnection(connectionString)) { &#47;* your code that uses the connection here *&#47; }</code>"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1488997286, "post_id": 42678708, "comment_id": 72482268, "body": "@sunero4: For any given database query, you generally want to create/use/dispose your <code>SQLConnection</code> object in as small a space as possible.  Don&#39;t leave open connections, don&#39;t leave connection objects for other code to use, etc.  Creating a connection object is not a heavy operation, and the built-in connection pool does a lot of optimization for you.  You <i>can</i> use the same connection for more than one query, but at the very least as a general rule of thumb a <code>SqlConnection</code> object should not exceed the scope of a single method."}, {"owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "edited": false, "score": 0, "creation_date": 1488997582, "post_id": 42678708, "comment_id": 72482421, "body": "So basically I should create a new SqlConnection every time I want to use it in a method instead of storing it as a field in the class?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 1, "creation_date": 1488998234, "post_id": 42678708, "comment_id": 72482816, "body": "@sunero4: Pretty much, yes.  You certainly <i>can</i> store it in a higher scope, <i>if</i> you know what you&#39;re doing.  You&#39;re not there yet :)"}, {"owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "edited": false, "score": 0, "creation_date": 1488999265, "post_id": 42678708, "comment_id": 72483460, "body": "Haha - thank you very much for your help guys :) Certainly learned a lot from this."}], "owner": {"reputation": 650, "user_id": 7230001, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5cf959c754a9e1c777d6a34c40d0cbab?s=128&d=identicon&r=PG&f=1", "display_name": "sunero4", "link": "https://stackoverflow.com/users/7230001/sunero4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1488996388, "creation_date": 1488996388, "question_id": 42678708, "link": "https://stackoverflow.com/questions/42678708/there-is-already-an-open-datareader-associated-with-this-command-which-must-be-c", "title": "There is already an open datareader associated with this command which must be closed first - not because of MultipleActiveResultSets=false", "body": "<p>Before people mark this as a duplicate: MultipleActiveResultSets is already set to be true in the app.config file, so that is not the cause :)</p>\n\n<p>I am trying to use a method that should return a byte[] from the a row in the Users table of my database with a specific UserId and convert it to a List. Whenever I try to use this method I get the error stated in the title. I hope you can help :) Underneath is the method mentioned, the method for converting from byte[] to List and a few methods that are used along with this in the eventhandler that calls this method. Hope you guys can help :) Thanks in advance!</p>\n\n<p>The method that causes the error (specifically the line inside the if(rdr.Read()) )</p>\n\n<pre><code>public List&lt;int&gt; GetHistory(string username, string password)\n        {\n            List&lt;int&gt; liste = new List&lt;int&gt;();\n\n            cmd = new SqlCommand(\"select History from dbo.Users where Username = @uname and Password = @pword\", conn);\n\n            cmd.Parameters.AddWithValue(\"@uname\", username);\n\n            cmd.Parameters.AddWithValue(\"@pword\", password);\n\n            conn.Open();\n\n            rdr = cmd.ExecuteReader();\n\n            if (rdr.Read())\n            {\n                liste = ConvertFromByteArray(cmd.ExecuteScalar() as byte[]);\n            }\n\n            rdr.Close();\n            conn.Close();\n\n\n            return liste;\n        }\n</code></pre>\n\n<p>The method for converting:</p>\n\n<pre><code>public List&lt;int&gt; ConvertFromByteArray(byte[] array)\n{\n    var mStream = new MemoryStream();\n    var binFormatter = new BinaryFormatter();\n\n    mStream.Write(array, 0, array.Length);\n    mStream.Position = 0;\n\n    var liste = binFormatter.Deserialize(mStream) as List&lt;int&gt;;\n    return liste;\n}\n</code></pre>\n\n<p>The code for the eventhandler that I plan to use the method in:</p>\n\n<pre><code>private void btn_viewhistory_Click(object sender, EventArgs e)\n{\n    string uname = dbConnection.GetUsername(Convert.ToInt32(txt_id.Text));\n    string pword = dbConnection.GetPassword(Convert.ToInt32(txt_id.Text));\n\n    txt_history.Text =\n        Convert.ToString(dbConnection.GetHistory(uname, pword)[0] + Environment.NewLine +\n                         dbConnection.GetHistory(uname, pword)[1] + Environment.NewLine +\n                         dbConnection.GetHistory(uname, pword)[2]);\n}\n</code></pre>\n\n<p>The methods GetUsername and GetPassword that are also used in the eventhandler:</p>\n\n<pre><code>public string GetUsername(int id)\n{\n    string username = \"\";\n\n    cmd = new SqlCommand(\"select Username from dbo.Users where UserId = @id\", conn);\n\n    cmd.Parameters.AddWithValue(\"@id\", id);\n\n    conn.Open();\n\n    rdr = cmd.ExecuteReader();\n\n    if (rdr.Read())\n    {\n        username = rdr.GetString(rdr.GetOrdinal(\"Username\"));\n    }\n\n    rdr.Close();\n    conn.Close();\n\n    return username;\n}\n\npublic string GetPassword(int id)\n{\n    string password = \"\";\n\n    cmd = new SqlCommand(\"select Password from dbo.Users where UserId = @id\", conn);\n\n    cmd.Parameters.AddWithValue(\"@id\", id);\n\n    conn.Open();\n\n    rdr = cmd.ExecuteReader();\n\n    if (rdr.Read())\n    {\n        password = rdr.GetString(rdr.GetOrdinal(\"Password\"));\n    }\n\n    rdr.Close();\n    conn.Close();\n\n\n\n    return password;\n}\n</code></pre>\n"}, {"tags": ["c#", "mysql", "database", "csv"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1488996587, "post_id": 42678687, "comment_id": 72481857, "body": "I&#39;m unclear to what you are asking?  Do you want to only insert the distinct record (i.e. excluding duplicates)? Or do you only want to insert the records that are duplicates (and if so, do you want all copies of the duplicates or just a single instance representing the duplicate)?"}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1488996615, "post_id": 42678687, "comment_id": 72481877, "body": "Which are \u201cthe duplicate records in the csv\u201d? They all look distinct to me."}, {"owner": {"reputation": 471, "user_id": 4243779, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a490c3bb58eb11ca350acef2a3538142?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/4243779/xyz"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1488996768, "post_id": 42678687, "comment_id": 72481960, "body": "@maccettura I just need to insert the duplicate records. Here P01 is repeating and I need to insert only those two records in to the table"}, {"owner": {"reputation": 471, "user_id": 4243779, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a490c3bb58eb11ca350acef2a3538142?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/4243779/xyz"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1488996822, "post_id": 42678687, "comment_id": 72481992, "body": "@DourHighArch Just need to look for ProdID and do an insert in to the database if they are repeating"}], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 3768995, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5a74f4c611eac1500ebed35463fa3f49?s=128&d=identicon&r=PG&f=1", "display_name": "Techno", "link": "https://stackoverflow.com/users/3768995/techno"}, "is_accepted": false, "score": 0, "last_activity_date": 1488996659, "creation_date": 1488996659, "answer_id": 42678804, "question_id": 42678687, "link": "https://stackoverflow.com/questions/42678687/insert-only-the-duplicate-records-from-csv-in-to-the-database/42678804#42678804", "title": "Insert only the duplicate records from csv in to the Database", "body": "<p>I think you can add \"where @duplicate like 'yes'\" in the Query.</p>\n"}, {"comments": [{"owner": {"reputation": 471, "user_id": 4243779, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a490c3bb58eb11ca350acef2a3538142?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/4243779/xyz"}, "edited": false, "score": 0, "creation_date": 1488997921, "post_id": 42678918, "comment_id": 72482617, "body": "Thanks. But I am getting error in <code>prod.ProdID</code> saying <code>&#39;bool&#39; does not contain a definition for &#39;ProdID&#39; and no extension method &#39;ProdID&#39; accepting a first argument of type &#39;bool&#39; could be found (are you missing a using directive or an assembly reference?)</code> Should I use ProductsList[i].ProdID; instead"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "reply_to_user": {"reputation": 471, "user_id": 4243779, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a490c3bb58eb11ca350acef2a3538142?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/4243779/xyz"}, "edited": false, "score": 0, "creation_date": 1488997975, "post_id": 42678918, "comment_id": 72482654, "body": "I updated my answer with a working fiddle, my original code wasn&#39;t right"}, {"owner": {"reputation": 471, "user_id": 4243779, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a490c3bb58eb11ca350acef2a3538142?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/4243779/xyz"}, "edited": false, "score": 1, "creation_date": 1488999175, "post_id": 42678918, "comment_id": 72483409, "body": "Thanks a ton. Works perfectly"}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": true, "score": 3, "last_activity_date": 1488997518, "last_edit_date": 1488997518, "creation_date": 1488997100, "answer_id": 42678918, "question_id": 42678687, "link": "https://stackoverflow.com/questions/42678687/insert-only-the-duplicate-records-from-csv-in-to-the-database/42678918#42678918", "title": "Insert only the duplicate records from csv in to the Database", "body": "<p>Based on your comment you only want to insert the two records that are duplicated.  In your example <code>p01</code>.</p>\n\n<p>This can be solved with a simple LINQ query:</p>\n\n<pre><code>ProductsList.GroupBy(p =&gt; p.ProdID).Where(p =&gt; p.Count() &gt; 1).SelectMany(x =&gt; x);\n</code></pre>\n\n<p>This will group the items by their respective <code>ProdID</code>'s, then we select only the instances where the group contains more than one instance.</p>\n\n<p>Use this in place of your for loop:</p>\n\n<pre><code>foreach(var prod in ProductsList.GroupBy(p =&gt; p.ProdID).Where(p =&gt; p.Count() &gt; 1).SelectMany(x =&gt; x))\n{\n    using (MySqlConnection conn = new MySqlConnection(connStr))\n    using (MySqlCommand comm = new MySqlCommand(sqlString, conn))\n    {\n        comm.Parameters.Add(\"@ProdID\", MySqlDbType.VarChar).Value = prod.ProdID;\n        comm.Parameters.Add(\"@Name\", MySqlDbType.VarChar).Value = prod.Name;\n        comm.Parameters.Add(\"@Color\", MySqlDbType.VarChar).Value = prod.Color;\n        comm.Parameters.Add(\"@Availability\", MySqlDbType.VarChar).Value = prod.Availability;\n        comm.Parameters.Add(\"@Duplicate\", MySqlDbType.VarChar).Value = \"Yes\";\n        conn.Open();\n        comm.ExecuteNonQuery();\n        conn.Close();\n    }\n}\n</code></pre>\n\n<p>I have created a <a href=\"https://dotnetfiddle.net/1dTYDw\" rel=\"nofollow noreferrer\">fiddle</a> to demo</p>\n"}], "owner": {"reputation": 471, "user_id": 4243779, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/a490c3bb58eb11ca350acef2a3538142?s=128&d=identicon&r=PG&f=1", "display_name": "xyz", "link": "https://stackoverflow.com/users/4243779/xyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 42678918, "answer_count": 2, "score": 0, "last_activity_date": 1488997518, "creation_date": 1488996311, "last_edit_date": 1488996480, "question_id": 42678687, "link": "https://stackoverflow.com/questions/42678687/insert-only-the-duplicate-records-from-csv-in-to-the-database", "title": "Insert only the duplicate records from csv in to the Database", "body": "<p>I am working on  working on validating the csv before inserting them in to the database. I have done the piece of inserting them in to the database but not sure how can I validate for duplicate record and insert only the duplicate records in to the database.The Csv looks like below and we can receive the ProdID as duplicates in CSV</p>\n\n<pre><code>ProdID,Name,Color,Availability\nP01,Product1,Red,Yes\nP02,Product2,Blue,Yes\nP03,Product3,Yellow,No\nP01,Product4,Red,Yes\nP04,Product5,Black,Yes\n</code></pre>\n\n<p>The table has five fields and one of the field is is the Duplicate field</p>\n\n<pre><code>class Products\n{\n    static void Main(string[] args)\n    {\n        string location = \"\\Products.csv\";\n        List&lt;Products&gt; ProductsList= ReadInCSV(location);\n        var connStr = ConfigurationManager.ConnectionStrings[\"ProgConnectionString\"].ConnectionString;\n\n        // Need to validate them before putting them in to the table \n\n        string sqlString = \"INSERT INTO PRODUCTS (ProdID,Name,Color,Availability,Duplicate) VALUES (@ProdID,@Name,@Color,@Availability,@Duplicate );\";\n        for (int i = 0; i &lt; ProductsList.Count; i++)\n        {\n            using (MySqlConnection conn = new MySqlConnection(connStr))\n            using (MySqlCommand comm = new MySqlCommand(sqlString, conn))\n            {\n                comm.Parameters.Add(\"@ProdID\", MySqlDbType.VarChar).Value = ProductsList[i].ProdID;\n                comm.Parameters.Add(\"@Name\", MySqlDbType.VarChar).Value = ProductsList[i].Name;\n                comm.Parameters.Add(\"@Color\", MySqlDbType.VarChar).Value = ProductsList[i].Color;\n                comm.Parameters.Add(\"@Availability\", MySqlDbType.VarChar).Value = ProductsList[i].Availability;\n                comm.Parameters.Add(\"@Duplicate\", MySqlDbType.VarChar).Value = \"Yes\";\n                conn.Open();\n                comm.ExecuteNonQuery();\n                conn.Close();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I am not sure how can I check for the duplicate records in the csv and do an insert only to the records that are duplicate.</p>\n"}, {"tags": ["c#", "entity-framework", "entity-framework-6"], "comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1488996439, "post_id": 42678633, "comment_id": 72481785, "body": "Firstly, what is <code>BaseEntity</code> and secondly, how are you adding the entity?"}, {"owner": {"reputation": 5865, "user_id": 884101, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/67f7c5940eff152578a015bacbffa89f?s=128&d=identicon&r=PG", "display_name": "Chetan Ranpariya", "link": "https://stackoverflow.com/users/884101/chetan-ranpariya"}, "edited": false, "score": 0, "creation_date": 1488996571, "post_id": 42678633, "comment_id": 72481853, "body": "Id column in database is configured to be Identity column ?"}], "answers": [{"tags": [], "owner": {"reputation": 11675, "user_id": 239594, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ea3c658936c05de41e5bd14a6f336ef4?s=128&d=identicon&r=PG", "display_name": "Ricardo Peres", "link": "https://stackoverflow.com/users/239594/ricardo-peres"}, "is_accepted": false, "score": 0, "last_activity_date": 1488996753, "creation_date": 1488996753, "answer_id": 42678827, "question_id": 42678633, "link": "https://stackoverflow.com/questions/42678633/ef-6-inserting-entity-with-provided-id-still-generates-id/42678827#42678827", "title": "EF 6 Inserting entity with provided ID still generates ID", "body": "<p>By convention, the id property uses Identity, so, it cannot be manually inserted. Configure it like this:</p>\n\n<p><code>Property(l =&gt; l.Id).HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);</code></p>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 200160, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92fcce013c0b32b3fdff824af8df2027?s=128&d=identicon&r=PG", "display_name": "Ralfeus", "link": "https://stackoverflow.com/users/200160/ralfeus"}, "edited": false, "score": 0, "creation_date": 1489013350, "post_id": 42681059, "comment_id": 72490918, "body": "Yeah, that worked. Thank you. However MS SQL required to explicitly allow entering ID field so I decided to leave ID field autogenerated and add one more field for manual adding."}], "tags": [], "owner": {"reputation": 853, "user_id": 3417143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eb1fa395368b2a8d098840acc124c15b?s=128&d=identicon&r=PG", "display_name": "Ermish", "link": "https://stackoverflow.com/users/3417143/ermish"}, "is_accepted": true, "score": 2, "last_activity_date": 1489004002, "creation_date": 1489004002, "answer_id": 42681059, "question_id": 42678633, "link": "https://stackoverflow.com/questions/42678633/ef-6-inserting-entity-with-provided-id-still-generates-id/42681059#42681059", "title": "EF 6 Inserting entity with provided ID still generates ID", "body": "<p>Since you are using Fluent Configurations, you just need to turn off the default identity insert configuration:</p>\n\n<p>So this:</p>\n\n<pre><code> public AgentOrderMap()\n{\n    ToTable(\"AgentOrder\");\n    HasKey(m =&gt; m.Id);\n    Property(m =&gt; m.Status);\n}\n</code></pre>\n\n<p>Becomes:</p>\n\n<pre><code>public AgentOrderMap()\n{\n    ToTable(\"AgentOrder\");\n    HasKey(m =&gt; m.Id);\n    Property(m =&gt; m.Id).HasDatabaseGeneratedOption(DatabaseGeneratedOption.None);\n    Property(m =&gt; m.Status);\n}\n</code></pre>\n\n<p>Note that your database needs to support this functionality and have identity inserts turned off as well.</p>\n"}], "owner": {"reputation": 553, "user_id": 200160, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92fcce013c0b32b3fdff824af8df2027?s=128&d=identicon&r=PG", "display_name": "Ralfeus", "link": "https://stackoverflow.com/users/200160/ralfeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 42681059, "answer_count": 2, "score": 0, "last_activity_date": 1489004002, "creation_date": 1488996144, "question_id": 42678633, "link": "https://stackoverflow.com/questions/42678633/ef-6-inserting-entity-with-provided-id-still-generates-id", "title": "EF 6 Inserting entity with provided ID still generates ID", "body": "<p>I have an entity with ID field</p>\n\n<pre><code>public class AgentOrder : BaseEntity\n{\n        public int Id { get; set; }\n}\n\npublic class AgentOrderMap : EntityTypeConfiguration&lt;AgentOrder&gt;\n{\n    public AgentOrderMap()\n    {\n        ToTable(\"AgentOrder\");\n        HasKey(m =&gt; m.Id);\n        Property(m =&gt; m.Status);\n    }\n}\n</code></pre>\n\n<p>I create a new entity and define Id property as well. But when I save changes the new entity is created not with Id I've defined but with automatically generated one. </p>\n\n<p>Is it normal behavior of key property? </p>\n"}, {"tags": ["c#", "sql-server", "drop-down-menu"], "comments": [{"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1488996222, "post_id": 42678622, "comment_id": 72481666, "body": "Have you tried executing the stored procedure in SQL Server Management Studio to see if there is actually data being returned?"}, {"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "reply_to_user": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1488997702, "post_id": 42678622, "comment_id": 72482489, "body": "Yeah the stored procedure populated the results in sql server management studio"}], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 0, "creation_date": 1489000075, "post_id": 42679189, "comment_id": 72483909, "body": "I have added this line also:  cmd.CommandType = CommandType.StoredProcedure;"}], "tags": [], "owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "is_accepted": false, "score": 0, "last_activity_date": 1488997906, "creation_date": 1488997906, "answer_id": 42679189, "question_id": 42678622, "link": "https://stackoverflow.com/questions/42678622/c-drop-down-list-web-form-asp-net-sql-not-populating/42679189#42679189", "title": "C# Drop Down List Web Form ASP.NET SQL not populating", "body": "<p>You will have to set the <code>CommandType</code> property of your <code>SqlCommand</code> object to <code>CommandType.StoredProcedure</code></p>\n\n<pre><code>protected void CompanyDropDown_Click(object sender, EventArgs e)\n{\n    string connectionString = ConfigurationManager.ConnectionStrings[\"DBConnection\"].ConnectionString;\n    using (SqlConnection cn = new SqlConnection(connectionString))\n    {\n        SqlCommand cmd = new SqlCommand(\"[dropdownCompany]\", cn);\n        cmd.CommandType = CommandType.StoredProcedure;\n        cn.Open();\n        CompanyDropDown.DataSource = cmd.ExecuteReader();\n        CompanyDropDown.DataBind();\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 0, "creation_date": 1489000003, "post_id": 42679625, "comment_id": 72483876, "body": "this is my sql stored procedure:       SELECT distinct companyid, companyname from Company"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489000133, "post_id": 42679625, "comment_id": 72483944, "body": "Did you change the values from <code>Name</code> and <code>ID</code> to <code>companyname</code> and <code>companyid</code>?"}, {"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 0, "creation_date": 1489000185, "post_id": 42679625, "comment_id": 72483984, "body": "Yep:  CompanyDropDown.DataSource = cmd.ExecuteReader();                 CompanyDropDown.DataTextField = &quot;companyname&quot;;                 CompanyDropDown.DataValueField = &quot;companyid&quot;;                 CompanyDropDown.DataBind();"}, {"owner": {"reputation": 91, "user_id": 7679866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a6721ddd9e5ba70ce441cb50a467c5?s=128&d=identicon&r=PG&f=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/7679866/sbs"}, "edited": false, "score": 1, "creation_date": 1489001296, "post_id": 42679625, "comment_id": 72484669, "body": "Btw, why is your code in Dropdown&#39;s click event? You want the dropdown to be populated when u click on it? Or when the page is loading?"}, {"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 0, "creation_date": 1489001431, "post_id": 42679625, "comment_id": 72484745, "body": "I want the drop down to be populated when you click on it, but would it make a difference if its when the page is loaded and then the user clicks on it?"}, {"owner": {"reputation": 9603, "user_id": 2457029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9yHWL.jpg?s=128&g=1", "display_name": "maccettura", "link": "https://stackoverflow.com/users/2457029/maccettura"}, "edited": false, "score": 0, "creation_date": 1489001594, "post_id": 42679625, "comment_id": 72484838, "body": "I would try moving this logic to the <code>Page_Load</code> event and see what happens"}, {"owner": {"reputation": 91, "user_id": 7679866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a6721ddd9e5ba70ce441cb50a467c5?s=128&d=identicon&r=PG&f=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/7679866/sbs"}, "edited": false, "score": 0, "creation_date": 1489002246, "post_id": 42679625, "comment_id": 72485237, "body": "Are you sure there is click event for a dropdown.. I dont see it.. :/"}, {"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 0, "creation_date": 1489002434, "post_id": 42679625, "comment_id": 72485335, "body": "it worked in the page_load event. I guess the click event doesn&#39;t exist!"}, {"owner": {"reputation": 91, "user_id": 7679866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a6721ddd9e5ba70ce441cb50a467c5?s=128&d=identicon&r=PG&f=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/7679866/sbs"}, "edited": false, "score": 0, "creation_date": 1489002697, "post_id": 42679625, "comment_id": 72485503, "body": "yes.. it works in page load event.. I have tried it on my system. You can add the dropdown logic below the code which you already have.. OR you can put the dropdown logic in a function and call that function from your page_load event.. Dont repeat the SqlConnection part."}, {"owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "edited": false, "score": 0, "creation_date": 1489002727, "post_id": 42679625, "comment_id": 72485524, "body": "Great! Thanks both"}, {"owner": {"reputation": 91, "user_id": 7679866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a6721ddd9e5ba70ce441cb50a467c5?s=128&d=identicon&r=PG&f=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/7679866/sbs"}, "edited": false, "score": 0, "creation_date": 1489003119, "post_id": 42679625, "comment_id": 72485737, "body": "You&#39;re welcome :) Let us know if you come across any issues with your dropdown in future.."}], "tags": [], "owner": {"reputation": 91, "user_id": 7679866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a6721ddd9e5ba70ce441cb50a467c5?s=128&d=identicon&r=PG&f=1", "display_name": "sbs", "link": "https://stackoverflow.com/users/7679866/sbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1489002371, "last_edit_date": 1489002371, "creation_date": 1488999311, "answer_id": 42679625, "question_id": 42678622, "link": "https://stackoverflow.com/questions/42678622/c-drop-down-list-web-form-asp-net-sql-not-populating/42679625#42679625", "title": "C# Drop Down List Web Form ASP.NET SQL not populating", "body": "<p>Before binding, specify <code>DataTextField</code> and <code>DataValueField</code> for the dropdown.</p>\n\n<p><code>DataTextField</code> and <code>DataValueField</code> should be the name of columns from the result set which you get after executing your stored procedure.</p>\n\n<p>You should specify which field will be visible to the user in the dropdown. This will be your <code>DataTextField</code>.</p>\n\n<p><code>DataValueField</code> is not visible to the user. but you will need this value when you are performing some other operation based on the selected item in the dropdown.</p>\n\n<pre><code>CompanyDropDown.DataTextField = \"Name\";\nCompanyDropDown.DataValueField = \"ID\";\nCompanyDropDown.DataBind();\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 7495578, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/275f1b994524ed2dd67fcf16652d33ce?s=128&d=identicon&r=PG&f=1", "display_name": "RA19", "link": "https://stackoverflow.com/users/7495578/ra19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 42679625, "answer_count": 2, "score": 0, "last_activity_date": 1489002523, "creation_date": 1488996114, "last_edit_date": 1488997522, "question_id": 42678622, "link": "https://stackoverflow.com/questions/42678622/c-drop-down-list-web-form-asp-net-sql-not-populating", "title": "C# Drop Down List Web Form ASP.NET SQL not populating", "body": "<pre><code>protected void CompanyDropDown_Click(object sender, EventArgs e)\n{\n    string connectionString = ConfigurationManager.ConnectionStrings[\"DBConnection\"].ConnectionString;\n    using (SqlConnection cn = new SqlConnection(connectionString))\n    {\n        SqlCommand cmd = new SqlCommand(\"[dropdownCompany]\", cn);\n        cn.Open();\n        CompanyDropDown.DataSource = cmd.ExecuteReader();\n        CompanyDropDown.DataBind();\n    }\n}\n</code></pre>\n\n<p>The stored procedure dropdownCompany is just one column with a list of company names.</p>\n\n<p>For some reason this is not populating the drop down when I execute the web form. </p>\n"}, {"tags": ["c#", "asp.net", "xml", "xslt", "gridview"], "comments": [{"owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "edited": false, "score": 0, "creation_date": 1489045447, "post_id": 42678521, "comment_id": 72501731, "body": "Why are you using this verbose xsl:element/xsl:attribute format? Either use AVTs: <code>&lt;employee ID=&quot;{@ID}&quot; empNr=&quot;{@empNr}&quot; etc&#47;&gt;</code>, or use <code>&lt;xsl:copy-of select=&quot;@*&quot;&#47;&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 198, "user_id": 7638288, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e98bfbe1500ec3e9c71b0a5a25c50f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sunita", "link": "https://stackoverflow.com/users/7638288/sunita"}, "edited": false, "score": 0, "creation_date": 1489682189, "post_id": 42714751, "comment_id": 72788917, "body": "I am sorry, I was not getting time to try. Thank you Tim &amp; Michael. Sorting is working now. Tim, I have tested the code provided by you."}], "tags": [], "owner": {"reputation": 68419, "user_id": 7585, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Txewo.jpg?s=128&g=1", "display_name": "Tim C", "link": "https://stackoverflow.com/users/7585/tim-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1489138021, "creation_date": 1489138021, "answer_id": 42714751, "question_id": 42678521, "link": "https://stackoverflow.com/questions/42678521/asp-net-gridview-sorting-using-xslt-not-working/42714751#42714751", "title": "ASP.NET: gridview sorting using XSLT not working", "body": "<p>One problem you have is you are inconsistent about how you are setting the <code>sortby</code> parameters. In one place you do this...</p>\n\n<pre><code> xslTrnsform.AddParam(\"sortby\", \"\", \"employee_number\");\n</code></pre>\n\n<p>But in another place you do this...</p>\n\n<pre><code> xslTrnsform.AddParam(\"sortby\", \"\", \"@date_joining\");\n</code></pre>\n\n<p>As it looks like all your data is held in attributes, for the sake of consistency, it might be easier to drop the <code>@</code> prefix in all cases. Then, your <code>xsl:sort</code> can look like this</p>\n\n<pre><code> &lt;xsl:sort select=\"@*[name()=$sortby]\" order=\"{$order}\" /&gt;\n</code></pre>\n\n<p>(Previously you were doing <code>select=\"*[name()=$sortby]</code> which would look for elements not attributes.)</p>\n\n<p>To get your <code>name</code> column to sort by <code>last_name</code> and <code>first_name</code> you could add a second sorting parameter</p>\n\n<pre><code>case \"name\":\n   xslTrnsform.AddParam(\"sortby\", \"\", \"last_name\");\n   xslTrnsform.AddParam(\"sortbysecond\", \"\", \"first_name\");\n   xslTrnsform.AddParam(\"order\", \"\", \"ascending\");\n   break;\n</code></pre>\n\n<p>Then, assuming you declare the <code>sortbysecond</code> parameter in your XSLT, your sort would look like this</p>\n\n<pre><code>&lt;xsl:apply-templates select=\"employee\"&gt;\n  &lt;xsl:sort select=\"@*[name()=$sortby]\" order=\"{$order}\" /&gt;\n  &lt;xsl:sort select=\"@*[name()=$sortbysecond]\" order=\"{$order}\" /&gt;\n&lt;/xsl:apply-templates&gt;\n</code></pre>\n\n<p>Try this XSLT...</p>\n\n<pre><code>&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n    xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\" exclude-result-prefixes=\"msxsl\"&gt;\n  &lt;xsl:output method=\"xml\" indent=\"yes\"/&gt;\n\n  &lt;xsl:param name=\"sortby\" select=\"'employee_number'\"/&gt;\n  &lt;xsl:param name=\"sortbysecond\" select=\"'employee_number'\"/&gt;\n  &lt;xsl:param name=\"order\" select=\"'descending'\"/&gt;\n\n  &lt;xsl:template match=\"employees\"&gt;\n    &lt;employees&gt;\n    &lt;xsl:apply-templates select=\"employee\"&gt;\n      &lt;xsl:sort select=\"@*[name()=$sortby]\" order=\"{$order}\" /&gt;\n      &lt;xsl:sort select=\"@*[name()=$sortbysecond]\" order=\"{$order}\" /&gt;\n    &lt;/xsl:apply-templates&gt;\n    &lt;/employees&gt;\n  &lt;/xsl:template&gt;\n\n  &lt;xsl:template match=\"employee\"&gt;\n    &lt;employee ID=\"{@ID}\" \n              employee_number=\"{@employee_number}\"\n              name=\"{@last_name}, {@first_name}\"\n              date_joining=\"{@data_joining}\"\n              dte_to_date=\"{@dte_to_date}\"\n              date_paid=\"{@date_paid}\"\n              date_paid=\"{@date_paid}\"\n              amount=\"{@amount}\"\n              status=\"{@status}\"&gt;\n    &lt;/employee&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>Note the use of <a href=\"https://www.w3.org/TR/xslt#attribute-value-templates\" rel=\"nofollow noreferrer\">Attribute Value Templates</a>, as Michael Kay mentioned in comments, which simplify your XSLT greatly.</p>\n"}], "owner": {"reputation": 198, "user_id": 7638288, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e98bfbe1500ec3e9c71b0a5a25c50f7?s=128&d=identicon&r=PG&f=1", "display_name": "Sunita", "link": "https://stackoverflow.com/users/7638288/sunita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 42714751, "answer_count": 1, "score": 0, "last_activity_date": 1489138021, "creation_date": 1488995792, "question_id": 42678521, "link": "https://stackoverflow.com/questions/42678521/asp-net-gridview-sorting-using-xslt-not-working", "title": "ASP.NET: gridview sorting using XSLT not working", "body": "<p>I am quite new to XML-XSLT coding. \nI am binding XmlDataSource to my gridview by using XSLT. I want to sort the column upon clicking on the header. I do not want to convert xml to dataset and bind to gridview to achieve sorting. Here is my code:</p>\n\n<pre><code>&lt;asp:XmlDataSource ID=\"XmlDataSource1\" runat=\"server\"&gt;&lt;/asp:XmlDataSource&gt;\n&lt;asp:GridView ID=\"gvResult\" runat=\"server\" HorizontalAlign=\"Center\" AutoGenerateColumns=\"false\" HeaderStyle-BackColor=\"#3AC0F2\" HeaderStyle-ForeColor=\"White\" AllowPaging=\"True\"\n    OnPageIndexChanging=\"gvResult_PageIndexChanging\" AllowSorting=\"true\" OnSorting=\"gvResult_Sorting\"&gt;\n    &lt;Columns&gt;\n        &lt;asp:TemplateField HeaderText=\"ID\" SortExpression=\"ID\"&gt;\n            &lt;ItemTemplate&gt;\n                &lt;asp:HyperLink runat=\"server\" NavigateUrl='~/NewForm.aspx?ID=&lt;%# XPath(\"@ID\") %&gt;'&gt; \n                    &lt;%# XPath(\"@ID\") %&gt;\n                &lt;/asp:HyperLink&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:TemplateField&gt;\n        &lt;asp:BoundField DataField=\"employee_number\" HeaderText=\"Employee Number\"  SortExpression=\"last_name\"/&gt;\n        &lt;asp:BoundField DataField=\"name\" HeaderText=\"Employee Name\" SortExpression=\"last_name\" /&gt;\n        &lt;asp:BoundField DataField=\"date_joining\" HeaderText=\"Joining Date\" SortExpression=\"date_joining\" /&gt;\n        &lt;asp:BoundField DataField=\"date_paid\" HeaderText=\"Date Paid\" SortExpression=\"last_name\"/&gt;\n        &lt;asp:BoundField DataField=\"amount\" HeaderText=\"Salary\"  /&gt;\n        &lt;asp:BoundField DataField=\"status\" HeaderText=\"Status\" /&gt;\n    &lt;/Columns&gt;\n&lt;/asp:GridView&gt;\n\n\nprotected void gvResult_Sorting(object sender, GridViewSortEventArgs e)\n    {\n         XsltArgumentList xslTrnsform = new XsltArgumentList();\n        switch (e.SortExpression)\n        {\n            case \"employee_number\":\n                xslTrnsform.AddParam(\"sortby\", \"\", \"employee_number\");\n                xslTrnsform.AddParam(\"order\", \"\", \"ascending\");\n                //xslTrnsform.AddParam(\"datatype\", \"\", \"number\");\n                break;\n            case \"date_joining\":\n                xslTrnsform.AddParam(\"sortby\", \"\", \"@date_joining\");\n                xslTrnsform.AddParam(\"order\", \"\", \"ascending\");\n                //xslTrnsform.AddParam(\"data-type\", \"\", \"text\");\n                break;\n            case \"date_paid\":\n                xslTrnsform.AddParam(\"sortby\", \"\", \"@date_paid\");\n                xslTrnsform.AddParam(\"order\", \"\", \"ascending\");\n                //xslTrnsform.AddParam(\"data-type\", \"\", \"text\");\n                break;\n        }\n\n        XmlDataSource1.EnableCaching = false;\n        XmlDataSource1.Data = ResponseObj.OuterXml;\n\n        XmlDataSource1.TransformArgumentList = xslTrnsform;\n        XmlDataSource1.TransformFile = \"employees.xslt\";\n        XmlDataSource1.XPath = \"/employees/employee\"; ;\n\n        // Bind the DataSet to the grid view\n        gvResult.DataSource = XmlDataSource1;\n        gvResult.DataBind();\n        gvResult.Visible = true;\n    }\n\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"\n    xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\" exclude-result-prefixes=\"msxsl\"&gt;\n  &lt;xsl:output method=\"xml\" indent=\"yes\"/&gt;\n\n  &lt;xsl:param name=\"sortby\" select=\"@employee_number\"/&gt;\n  &lt;xsl:param name=\"order\" select=\"'ascending'\"/&gt;\n\n  &lt;xsl:template match=\"employees\"&gt;\n    &lt;employees&gt;\n    &lt;xsl:apply-templates select=\"employee\"&gt;\n      &lt;xsl:sort select=\"*[name()=$sortby]\" order=\"{$order}\" /&gt;\n    &lt;/xsl:apply-templates&gt;\n    &lt;/employees&gt;\n  &lt;/xsl:template&gt;\n\n\n  &lt;xsl:template match=\"employee\"&gt;\n    &lt;employee&gt;\n      &lt;xsl:attribute name=\"ID\"&gt;\n        &lt;xsl:value-of select=\"@ID\"/&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"employee_number\"&gt;\n        &lt;xsl:value-of select=\"@employee_number\"/&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"name\"&gt;\n        &lt;xsl:value-of select=\"@last_name\"/&gt;, &lt;xsl:value-of select=\"@first_name\"/&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"date_joining\"&gt;\n        &lt;xsl:value-of select=\"@date_joining\" /&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"dte_to_date\"&gt;\n        &lt;xsl:value-of select=\"@dte_to_date\" /&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"date_paid\"&gt;\n        &lt;xsl:value-of select=\"@date_paid\"/&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"date_paid\"&gt;\n        &lt;xsl:value-of select=\"@date_paid\"/&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"amount\"&gt;\n        &lt;xsl:value-of select=\"@amount\"/&gt;\n      &lt;/xsl:attribute&gt;\n      &lt;xsl:attribute name=\"status\"&gt;\n      &lt;xsl:value-of select=\"@status\"/&gt;\n      &lt;/xsl:attribute&gt;\n    &lt;/employee&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>Data is displayed on the gridview. But when I click on header, nothing happens. Also I have to apply sorting for \"name\" column, which consists of lastname,firstname.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 3, "creation_date": 1488995873, "post_id": 42678518, "comment_id": 72481473, "body": "<code>My guess is that this sort of polymorphism isn&#39;t allowed at runtime</code> What you&#39;re describing <i>isn&#39;t polymorphism</i>.  And of course the reason it doesn&#39;t work is precisely because it isn&#39;t polymorphic."}], "answers": [{"comments": [{"owner": {"reputation": 912, "user_id": 2359895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9X5ZI.jpg?s=128&g=1", "display_name": "Paul Baxter", "link": "https://stackoverflow.com/users/2359895/paul-baxter"}, "edited": false, "score": 0, "creation_date": 1488997202, "post_id": 42678765, "comment_id": 72482223, "body": "I would add a constructor to <b>Circle</b> and <b>Square</b> that sets the base class ShapeType to <b>nameof(Circle)</b> or <b>nameof(Square)</b>"}, {"owner": {"reputation": 2295, "user_id": 510091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/125e5dbc8d42f8766ddf2702ab99e8ce?s=128&d=identicon&r=PG", "display_name": "Mark Larter", "link": "https://stackoverflow.com/users/510091/mark-larter"}, "reply_to_user": {"reputation": 912, "user_id": 2359895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9X5ZI.jpg?s=128&g=1", "display_name": "Paul Baxter", "link": "https://stackoverflow.com/users/2359895/paul-baxter"}, "edited": false, "score": 2, "creation_date": 1488997266, "post_id": 42678765, "comment_id": 72482253, "body": "@PaulBaxter &quot;roughed-in&quot;. :-) Your idea to use nameof would be part of improvement, yep, as would just eliminate ShapeType altogether."}, {"owner": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1488999004, "post_id": 42678765, "comment_id": 72483302, "body": "Thanks, but this misses what I&#39;m trying to accomplish.  I can&#39;t (or don&#39;t wish to) add these methods to the derived shapes.  I just wish to use the fact that the items are a particular derived class to call the correct implimentation.  Basically, I want to avoid using the traffic-cop from the controllerAction.  I <i>completely understand</i> what you all are saying about how what I&#39;m doing isn&#39;t really polymorphism, but instead, I wonder if there isn&#39;t some way to still take advantage of this idea."}, {"owner": {"reputation": 2295, "user_id": 510091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/125e5dbc8d42f8766ddf2702ab99e8ce?s=128&d=identicon&r=PG", "display_name": "Mark Larter", "link": "https://stackoverflow.com/users/510091/mark-larter"}, "reply_to_user": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1488999286, "post_id": 42678765, "comment_id": 72483468, "body": "@reidLinden Using the fact that the items are ... to call the correct implementation is exactly how the compiler gives us polymorphism. So far the code in your question just seems to highlight that the objects don&#39;t do anything useful with their ancestry. Looking forward to the updated fiddle to see what you are really hoping to accomplish."}, {"owner": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1488999657, "post_id": 42678765, "comment_id": 72483674, "body": "well, I&#39;m trying to keep things as simple as possible for the fiddle, but the gist of matters is that I have an API endpoint that should take some structured payment methods.  Sometimes, the endpoint will get an echeck, sometimes a ccard, and other times something else. The json converter correctly identifies when we have a paymentmethod_card type (or echeck) and then I&#39;d like to pass this object off to a card specific processing method that lives in a different module of the application.  I am wanting to keep the data model POCO because it will be reused for other parts of the app."}, {"owner": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1488999731, "post_id": 42678765, "comment_id": 72483712, "body": "having a <code>process(card object)</code> method and a <code>process(check object)</code> seems like a reasonable way to structure this, while keeping the methods out of my data model."}, {"owner": {"reputation": 2295, "user_id": 510091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/125e5dbc8d42f8766ddf2702ab99e8ce?s=128&d=identicon&r=PG", "display_name": "Mark Larter", "link": "https://stackoverflow.com/users/510091/mark-larter"}, "reply_to_user": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1488999846, "post_id": 42678765, "comment_id": 72483780, "body": "@reidLinden Perhaps the idea of data xfer can be separated from the idea of biz objects. So you can keep the classes you showed us as data xfer objects, then have biz objects that have a data xfer object instance inside and also implement the Area method. As it stands, it&#39;s anti-OO. Which is fine, but begs the question why an OO language?"}, {"owner": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1489000468, "post_id": 42678765, "comment_id": 72484146, "body": "I had considered the possibility of separating them as you say.  Perhaps I will.  I was actually trying to be OO, but just got it wrong.  Took a wrong turn at Albuquerque, if you will.  Thanks for the guidance."}, {"owner": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1489069783, "post_id": 42678765, "comment_id": 72517721, "body": "Ended up deciding to do as we discussed,   Thanks much for the guidance."}], "tags": [], "owner": {"reputation": 2295, "user_id": 510091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/125e5dbc8d42f8766ddf2702ab99e8ce?s=128&d=identicon&r=PG", "display_name": "Mark Larter", "link": "https://stackoverflow.com/users/510091/mark-larter"}, "is_accepted": true, "score": 3, "last_activity_date": 1488996556, "creation_date": 1488996556, "answer_id": 42678765, "question_id": 42678518, "link": "https://stackoverflow.com/questions/42678518/polymorphism-at-runtime/42678765#42678765", "title": "Polymorphism at runtime", "body": "<p><a href=\"https://dotnetfiddle.net/OMzwSM\" rel=\"nofollow noreferrer\">Took your fiddle and roughed-in the missing polymorphism</a>:</p>\n\n<pre><code>using System;\n\npublic abstract class Shape {\n    public string shapeType {get; set;}\n    public abstract double Area { get; }\n}\n\npublic class Circle : Shape\n{\n    public int radius {get; set;}\n    public override double Area { get { return 3.1415 * radius * radius;} }\n}\n\npublic class Square : Shape\n{\n    public int length {get; set;}\n    public override double Area { get { return length * length;} }\n}\n\npublic class Program\n{\n    public static void Main()\n    {\n        Console.WriteLine(\"Hello World {0}\" , \"foo\");\n        var circle = new Circle() {shapeType= \"Circle\", radius = 5};\n        var square = new Square() {shapeType= \"Square\",length = 5};\n\n        webApiControllerAction(circle);\n        webApiControllerAction(square);\n    }\n\n    public static void webApiControllerAction(Shape shape)\n    {\n        // just call the appropriate printArea for the derived type\n        printArea(shape);\n    }\n\n    public static void printArea(Shape s) {\n        Console.WriteLine(\"{0} area = {1}\", s.GetType().Name ,s.Area.ToString());\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "edited": false, "score": 0, "creation_date": 1488999853, "post_id": 42678799, "comment_id": 72483784, "body": "totally agree.  but for reasons described elsewhere, I have chosen to keep  my data objects clear of this process code.. Thanks, though"}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 1, "last_activity_date": 1488997143, "last_edit_date": 1488997143, "creation_date": 1488996649, "answer_id": 42678799, "question_id": 42678518, "link": "https://stackoverflow.com/questions/42678518/polymorphism-at-runtime/42678799#42678799", "title": "Polymorphism at runtime", "body": "<p>That is not polymorphism. Here is an example of that using a method named <code>PrintArea</code>. </p>\n\n<p>The result is that the behavior of the method varies depending on the implementer BUT the caller does not have to know the concrete type of the instance being utilized. In this case there is a list of shapes and the caller can call <code>PrintArea</code> but is unaware of how that method is implemented and of the type that implements the method.</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Polymorphism_(computer_science)\" rel=\"nofollow noreferrer\">From Wiki</a></p>\n\n<blockquote>\n  <p>In programming languages and type theory, polymorphism (from Greek \u03c0\u03bf\u03bb\u03cd\u03c2, polys, \"many, much\" and morph\u0113, \"form, shape\") is the <strong>provision of a single interface to entities of different types.</strong> </p>\n</blockquote>\n\n<pre><code>using System;\n\nnamespace TestCode\n{\n    public abstract class Shape\n    {\n        public abstract void PrintArea();\n    }\n\n    public class Circle : Shape\n    {\n        public override void PrintArea()\n        {\n            Console.WriteLine(\"\u03c0r2\");\n        }\n    }\n\n    public class Square : Shape\n    {\n        public override void PrintArea()\n        {\n            Console.WriteLine(\"l*w\");\n        }\n    }\n\n    public class Program\n    {\n        public static void Main()\n        {\n            Console.WriteLine(\"Start\");\n            var lst = new System.Collections.Generic.List&lt;Shape&gt;();\n            lst.Add(new Circle());\n            lst.Add(new Square());\n\n\n            ShowFormula(lst);\n        }\n\n        public static void ShowFormula(System.Collections.Generic.IEnumerable&lt;Shape&gt; shapes){\n            foreach (var shape in shapes)\n              shape.PrintArea();\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://dotnetfiddle.net/Tu8Ras\" rel=\"nofollow noreferrer\">Working fiddle</a></p>\n"}], "owner": {"reputation": 3530, "user_id": 216160, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a0ffbd200d974b9073692fa171067ecc?s=128&d=identicon&r=PG", "display_name": "reidLinden", "link": "https://stackoverflow.com/users/216160/reidlinden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 42678765, "answer_count": 2, "score": 0, "last_activity_date": 1488999094, "creation_date": 1488995782, "last_edit_date": 1488999094, "question_id": 42678518, "link": "https://stackoverflow.com/questions/42678518/polymorphism-at-runtime", "title": "Polymorphism at runtime", "body": "<p>I am working on a webapi application with some basic inheritance and polymorphism aspects to a few of the data models.  One endpoint in particular is expected to receive and operate on any derived type of an abstract class.  With the aid of some JsonCreationConverter code, I can step into my code and see the proper derived type has been selected for my payload.</p>\n\n<p>Things break however, when I then attempt to call a method with overrides for the specific derived types.  The compiler complains that it cannot convert from the abstract type to one of the derived types.</p>\n\n<p>My guess is that this sort of polymorphism isn't allowed at runtime, or that I need to set things up differently to make it happen.</p>\n\n<p>Here's a fiddle that describes the basic behavior I'm seeing [ <a href=\"https://dotnetfiddle.net/9BkSP8\" rel=\"nofollow noreferrer\">https://dotnetfiddle.net/9BkSP8</a> ].  Of particular concern is the <code>webApiControllerAction2</code> method which has the code I'm hoping for.</p>\n\n<p>While <code>webApiControllerAction1</code> is technically functional, it is not able to remain agnostic about <code>Shape</code>s derived types, and that's the bit I'm hoping to find an answer to.</p>\n\n<h2>Edit</h2>\n\n<p>Hmm.. my fiddle link isn't showing the most recent version of this that I programmed.  I'll have to figure that out... ok... its now showing the correct version, how odd..</p>\n"}, {"tags": ["c#", "linq"], "answers": [{"tags": [], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "is_accepted": true, "score": 3, "last_activity_date": 1488995897, "creation_date": 1488995897, "answer_id": 42678556, "question_id": 42678459, "link": "https://stackoverflow.com/questions/42678459/linq-to-xml-select-list-of-nodes-based-on-child-attribute/42678556#42678556", "title": "Linq to xml select list of nodes based on child attribute", "body": "<p>You can do this:</p>\n\n<pre><code>var query=xDoc.Descendants(\"car\")\n              .Where(x=&gt; x.Elements(\"property\")\n                          .Any(y=&gt;y.Attribute(\"name\").Value.Contains(\"4doors\")));\n</code></pre>\n"}], "owner": {"reputation": 2783, "user_id": 1535850, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83a71912b1726b870f3847630bacf75c?s=128&d=identicon&r=PG", "display_name": "John Doe", "link": "https://stackoverflow.com/users/1535850/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 42678556, "answer_count": 1, "score": 1, "last_activity_date": 1488995897, "creation_date": 1488995623, "question_id": 42678459, "link": "https://stackoverflow.com/questions/42678459/linq-to-xml-select-list-of-nodes-based-on-child-attribute", "title": "Linq to xml select list of nodes based on child attribute", "body": "<p>I have been learning LINQ to XML however I ran into a senario where I'm a little stuck.</p>\n\n<p>If I have the following XML:</p>\n\n<pre><code>&lt;root&gt;\n    &lt;planes /&gt;\n    &lt;trains /&gt;\n    &lt;cars&gt;\n        &lt;car name=\"civic\"&gt;      \n            &lt;property name=\"4doors\" /&gt;\n            &lt;property name=\"4tires\" /&gt;\n        &lt;/car&gt;\n        &lt;car name=\"f150\"&gt;\n            &lt;property name=\"2doors\" /&gt;\n            &lt;property name=\"4tires\" /&gt;\n        &lt;/car&gt;\n        &lt;car name=\"crv\"&gt;\n            &lt;property name=\"4doors\" /&gt;\n            &lt;property name=\"4tires\" /&gt;\n        &lt;/car&gt;      \n        &lt;car name=\"scooter\"&gt;\n            &lt;property name=\"2tires\" /&gt;\n        &lt;/car&gt;      \n        &lt;car name=\"escape\"&gt;\n            &lt;property name=\"4doors\" /&gt;\n            &lt;property name=\"4tires\" /&gt;\n        &lt;/car&gt;\n    &lt;/cars&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>How can I return a list of cars who has 4doors?</p>\n\n<p>So far I've tried the following attempts:</p>\n\n<pre><code>// This will return a list of nulls\n\n    var fourDoorCars = xDoc.Descendants(\"cars\").Descendants(\"car\").Descendants(\"property\").Where(x =&gt; x.Attribute(\"name\").Value.Contains(\"4doors\")).Select(x =&gt; x.Element(\"car\")).ToList();\n\n// This will return a list of all the 4doors properties.\n\n    var fourDoorCars = xDoc.Descendants(\"cars\").Descendants(\"car\").Descendants(\"property\").Where(x =&gt; x.Attribute(\"name\").Value.Contains(\"4doors\")).ToList();\n</code></pre>\n"}, {"tags": ["c#", "winforms", "cursor"], "answers": [{"tags": [], "owner": {"reputation": 14609, "user_id": 1694368, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ce50876f1ca095cb2b4c3f2033f72ed0?s=128&d=identicon&r=PG", "display_name": "Koby Douek", "link": "https://stackoverflow.com/users/1694368/koby-douek"}, "is_accepted": false, "score": 0, "last_activity_date": 1488995675, "creation_date": 1488995675, "answer_id": 42678480, "question_id": 42678429, "link": "https://stackoverflow.com/questions/42678429/how-to-make-a-customize-cursor-when-you-click-a-button/42678480#42678480", "title": "How to make a customize cursor when you click a button", "body": "<pre><code>private void pictureBox1_MouseUp(object sender, EventArgs e)\n{\n    pictureBox1.Cursor = Cursors.WaitCursor;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 7652852, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh3.googleusercontent.com/-2y0nOBOdNTo/AAAAAAAAAAI/AAAAAAAAA7k/3VTerFdKpKw/photo.jpg?sz=128", "display_name": "Pudge", "link": "https://stackoverflow.com/users/7652852/pudge"}, "is_accepted": true, "score": 0, "last_activity_date": 1489059590, "last_edit_date": 1489059590, "creation_date": 1489059076, "answer_id": 42694281, "question_id": 42678429, "link": "https://stackoverflow.com/questions/42678429/how-to-make-a-customize-cursor-when-you-click-a-button/42694281#42694281", "title": "How to make a customize cursor when you click a button", "body": "<p>i manage to answer my question</p>\n\n<pre><code>private void btnLOGIN_Click(object sender, EventArgs e)\n    { \n        try\n        {\n\n            Cursor.Current = Cursors.WaitCursor;\n            Application.DoEvents();\n            System.Threading.Thread.Sleep(500);//set time to load\n\n            if (txtUser.Text == \"admin\" &amp;&amp; txtPass.Text == \"\")\n            {\n                this.Hide();\n                MENU ss = new MENU();\n                MessageBox.Show(\"Welcome to CornerFlag's Product Monitoring System!\", \"Login Success\", MessageBoxButtons.OK, MessageBoxIcon.Information);\n                ss.Show();\n            }\n            else\n            {\n                MessageBox.Show(\"Invalid Input , Try Again \", \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                txtUser.Clear();\n                txtPass.Clear();\n            };\n\n        }\n        finally\n        {\n            Cursor.Current = Cursors.Default;\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7652852, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh3.googleusercontent.com/-2y0nOBOdNTo/AAAAAAAAAAI/AAAAAAAAA7k/3VTerFdKpKw/photo.jpg?sz=128", "display_name": "Pudge", "link": "https://stackoverflow.com/users/7652852/pudge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1489061668, "accepted_answer_id": 42694281, "answer_count": 2, "score": 0, "last_activity_date": 1489059590, "creation_date": 1488995496, "question_id": 42678429, "link": "https://stackoverflow.com/questions/42678429/how-to-make-a-customize-cursor-when-you-click-a-button", "closed_reason": "Duplicate", "title": "How to make a customize cursor when you click a button", "body": "<p>How can i customize when clicking a button that will project a waitcursor </p>\n\n<p><a href=\"https://i.stack.imgur.com/bf24g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bf24g.png\" alt=\"enter image description here\"></a></p>\n\n<p>like when you hover your mouse, for example in the back button , it will be default cursor or the hand thing and when i click it will display like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/LTUD8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LTUD8.png\" alt=\"enter image description here\"></a></p>\n\n<p>thank you in advance </p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1488995675, "post_id": 42678404, "comment_id": 72481370, "body": "Its because <code>ToString</code> is not a constant so you cant define that on an attribute. You could hard code the values as string constants though."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1488995779, "post_id": 42678404, "comment_id": 72481423, "body": "Why do you even want a <code>Range</code> attribute if you want to allow the full range of <code>float</code> values?"}], "answers": [{"tags": [], "owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "is_accepted": true, "score": 2, "last_activity_date": 1488996403, "last_edit_date": 1488996403, "creation_date": 1488995665, "answer_id": 42678475, "question_id": 42678404, "link": "https://stackoverflow.com/questions/42678404/c-decimal-range-attribute-allow-negative-min/42678475#42678475", "title": "C# Decimal Range attribute allow Negative min", "body": "<p>RangeAttribute has three constructors that take two ints, two doubles, or two strings. None of them take a float.</p>\n\n<p>Try declaring it with two doubles, like this:</p>\n\n<pre><code>[Range((double)decimal.MinValue, \n       (double)decimal.MaxValue, \n       ErrorMessage = \"Please enter valid decimal Number\")]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1488996076, "post_id": 42678502, "comment_id": 72481585, "body": "If it worked, this would only let you ever use a single value :)"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1489011498, "post_id": 42678502, "comment_id": 72490063, "body": "i mean he sasid he could enter a negative value, thats becasue he set the lower bound to zero"}], "tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": -1, "last_activity_date": 1489011538, "last_edit_date": 1489011538, "creation_date": 1488995740, "answer_id": 42678502, "question_id": 42678404, "link": "https://stackoverflow.com/questions/42678404/c-decimal-range-attribute-allow-negative-min/42678502#42678502", "title": "C# Decimal Range attribute allow Negative min", "body": "<p>and this doesnt work?</p>\n\n<pre><code>[Range(float.MaxValue, \n       float.MaxValue, \n       ErrorMessage = \"Please enter valid float Number\")]\n</code></pre>\n\n<p>this allows any number</p>\n\n<p>or</p>\n\n<pre><code>[Range(-42, \n       +42, \n       ErrorMessage = \"Please enter valid float Number\")]\n</code></pre>\n\n<p>which allows any number between -42 and + 42</p>\n"}, {"comments": [{"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1488996098, "post_id": 42678601, "comment_id": 72481598, "body": "Won&#39;t the commas mess this up?"}, {"owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1488996129, "post_id": 42678601, "comment_id": 72481619, "body": "@DavidG yep they did.  It works with the commas removed"}], "tags": [], "owner": {"reputation": 23466, "user_id": 1786428, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FFtkI.jpg?s=128&g=1", "display_name": "Jonesopolis", "link": "https://stackoverflow.com/users/1786428/jonesopolis"}, "is_accepted": false, "score": 1, "last_activity_date": 1488996219, "last_edit_date": 1488996219, "creation_date": 1488996046, "answer_id": 42678601, "question_id": 42678404, "link": "https://stackoverflow.com/questions/42678404/c-decimal-range-attribute-allow-negative-min/42678601#42678601", "title": "C# Decimal Range attribute allow Negative min", "body": "<p>You can hardcode the actual min/max values of decimal in strings to get what you want:</p>\n\n<pre><code>[Range(typeof(decimal), \n       \"-79228162514264337593543950335\",              \n       \"79228162514264337593543950335\", \n        ErrorMessage = \"There's an error\")]\n</code></pre>\n\n<p>Although at this point, the validation seems pretty useless</p>\n"}], "owner": {"reputation": 3630, "user_id": 338403, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CLTsS.jpg?s=128&g=1", "display_name": "MB34", "link": "https://stackoverflow.com/users/338403/mb34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1928, "favorite_count": 0, "accepted_answer_id": 42678475, "answer_count": 3, "score": 1, "last_activity_date": 1489011538, "creation_date": 1488995398, "last_edit_date": 1489005897, "question_id": 42678404, "link": "https://stackoverflow.com/questions/42678404/c-decimal-range-attribute-allow-negative-min", "title": "C# Decimal Range attribute allow Negative min", "body": "<p>I have this <code>RangeAttribute</code> and it won't allow me to post negative numbers for the field it is assigned to.</p>\n\n<p>How can I modify this to allow the <code>decimal.MinValue</code> and <code>decimal.MaxValue</code> as arguments?</p>\n\n<pre><code>[Range(0, \n       float.MaxValue, \n       ErrorMessage = \"Please enter valid float Number\")]\n</code></pre>\n\n<p>I've tried this but it won't even allow it:   </p>\n\n<blockquote>\n  <p>To validate a property against a range of decimal values you must provide the type of the Decimal structure and two string values that will be converted to decimal values.</p>\n</blockquote>\n\n<pre><code>[Range(typeof(Decimal), \n      decimal.MinValue.ToString(), \n      decimal.MaxValue.ToString(), \n      ErrorMessage = \"Please enter valid float Number\")]\n</code></pre>\n"}]