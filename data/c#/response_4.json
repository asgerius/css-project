[{"tags": ["c#", "mysql", "sql-server", "database", "pdf"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1423094191, "post_id": 28333835, "comment_id": 45014467, "body": "And what is your question?"}, {"owner": {"reputation": 49, "user_id": 4530253, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066515930040988/picture?type=large", "display_name": "Jay Ar Enrique", "link": "https://stackoverflow.com/users/4530253/jay-ar-enrique"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1423094296, "post_id": 28333835, "comment_id": 45014495, "body": "I need to insert the course of the student, and the subjects he/she is enrolled in the PDF (how do I do it?)"}, {"owner": {"reputation": 1991, "user_id": 1592756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72037bf7577e9d669b41f7a7e1d02b82?s=128&d=identicon&r=PG", "display_name": "Josh Part", "link": "https://stackoverflow.com/users/1592756/josh-part"}, "edited": false, "score": 1, "creation_date": 1423095007, "post_id": 28333835, "comment_id": 45014700, "body": "Sooo... rephrasing your question, what you want to know is... how to get data from a MySql database in C#?"}], "answers": [{"tags": [], "owner": {"reputation": 6934, "user_id": 2723943, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4KuJN.jpg?s=128&g=1", "display_name": "Imran Ali Khan", "link": "https://stackoverflow.com/users/2723943/imran-ali-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1423115166, "creation_date": 1423115166, "answer_id": 28336984, "question_id": 28333835, "link": "https://stackoverflow.com/questions/28333835/put-data-from-my-database-to-my-pdf-c/28336984#28336984", "title": "Put data from my database to my PDF (C#)", "body": "<p>it is just a Example :</p>\n\n<pre><code>using System;\nusing MySql.Data.MySqlClient; \n\npublic class Example\n{\n\n    static void Main() \n    {\n        string cs = @\"server=localhost;userid=user12;\n            password=34klq*;database=mydb\";\n\n        MySqlConnection conn = null;\n        MySqlDataReader rdr = null;\n\n        try \n        {\n            conn = new MySqlConnection(cs);\n            conn.Open();\n\n            string stm = \"SELECT * FROM Authors\";\n            MySqlCommand cmd = new MySqlCommand(stm, conn);\n            rdr = cmd.ExecuteReader();\n\n            while (rdr.Read()) \n            {\n                Console.WriteLine(rdr.GetInt32(0) + \": \" \n                    + rdr.GetString(1));\n            }\n\n        } catch (MySqlException ex) \n        {\n            Console.WriteLine(\"Error: {0}\",  ex.ToString());\n\n        } finally \n        {\n            if (rdr != null) \n            {\n                rdr.Close();\n            }\n\n            if (conn != null) \n            {\n                conn.Close();\n            }\n\n        }\n    }\n}\n</code></pre>\n\n<p>for complite information kindly visit </p>\n\n<p><a href=\"http://zetcode.com/db/mysqlcsharptutorial/\" rel=\"nofollow\">http://zetcode.com/db/mysqlcsharptutorial/</a></p>\n\n<p>the data from mysql will come in this </p>\n\n<pre><code>while (rdr.Read()) \n            {\n                Console.WriteLine(rdr.GetInt32(0) + \": \" \n                    + rdr.GetString(1));\n            }\n</code></pre>\n\n<p>here loop will gives you to record one by one,</p>\n\n<p>change the code </p>\n\n<p>Console.WriteLine(rdr.GetInt32(0) + \": \" + rdr.GetString(1));</p>\n\n<p>as you want in your example</p>\n"}], "owner": {"reputation": 49, "user_id": 4530253, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066515930040988/picture?type=large", "display_name": "Jay Ar Enrique", "link": "https://stackoverflow.com/users/4530253/jay-ar-enrique"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 788, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1423115166, "creation_date": 1423094112, "last_edit_date": 1423097896, "question_id": 28333835, "link": "https://stackoverflow.com/questions/28333835/put-data-from-my-database-to-my-pdf-c", "title": "Put data from my database to my PDF (C#)", "body": "<p>I am creating a from in C# that will generate a PDF when a student logs in. I am done with the template, my problem is how to put the data on my database to my PDF. </p>\n\n<p>The data that is needed to be present in the PDF is the student's name, student's course, credit units, and all the subjects he/she is enrolled.</p>\n\n<p>all data are stored in the students and enrolled table.\nhere are the tables:</p>\n\n<pre><code>mysql&gt; describe enroll;\n+-----------------+---------+------+-----+---------+----------------+\n| Field           | Type    | Null | Key | Default | Extra          |\n+-----------------+---------+------+-----+---------+----------------+\n| Eid             | int(11) | NO   | PRI | NULL    | auto_increment |\n| Students_studid | int(11) | NO   | MUL | NULL    |                |\n| Subjects_Subjid | int(11) | NO   | MUL | NULL    |                |\n+-----------------+---------+------+-----+---------+----------------+\n</code></pre>\n\n<p>and</p>\n\n<pre><code>mysql&gt; describe students;\n+------------+-------------+------+-----+---------+----------------+\n| Field      | Type        | Null | Key | Default | Extra          |\n+------------+-------------+------+-----+---------+----------------+\n| studid     | int(11)     | NO   | PRI | NULL    | auto_increment |\n| StudName   | varchar(45) | YES  |     | NULL    |                |\n| StudCourse | varchar(45) | YES  |     | NULL    |                |\n| StudYr     | int(11)     | YES  |     | NULL    |                |\n| StudGender | varchar(45) | YES  |     | NULL    |                |\n+------------+-------------+------+-----+---------+----------------+\n</code></pre>\n\n<p>and here is my generate PDF form:</p>\n\n<pre><code>    class Form_PDF : Form {\n\n        public Form_PDF(){\n        Text = \"PDF\";\n\n        CenterToScreen();\n\n        System.IO.FileStream fs = new FileStream(\"\"+Form_Login.getUser+\".pdf\", FileMode.Create);\n\n           Document document = new Document(PageSize.A4, 25, 25, 30, 30);\n\n           PdfWriter writer = PdfWriter.GetInstance(document, fs);\n\n\n           document.AddAuthor(\"The Author\");\n\n           document.AddCreator(\"using iTextSharp\");\n\n           document.AddKeywords(\"C# PDF\");\n\n           document.AddSubject(\"C# PDF\");\n\n           document.AddTitle(\"PDF creation using iTextSharp\");\n\n\n           document.Open();\n\n\n\n\n           PdfContentByte cb = writer.DirectContent;\n           PdfContentByte xy = writer.DirectContent;\n\n           //BaseFont f_cb = BaseFont.CreateFont(\"c:\\\\windows\\\\fonts\\\\calibri.ttf\", BaseFont.CP1252, BaseFont.EMBEDDED);\n            BaseFont f_cn = BaseFont.CreateFont(\"c:\\\\windows\\\\fonts\\\\calibri.ttf\", BaseFont.CP1252, BaseFont.EMBEDDED);\n\n\n           //XY\n           xy.BeginText();\n           xy.SetFontAndSize(f_cn, 9);\n\n           xy.SetTextMatrix(110, 661); // Left, Top\n           xy.ShowText(\"Student Name: \" +Form_Login.getUser);\n\n           xy.SetTextMatrix(110, 637); // Left, Top\n           xy.ShowText(\"Semester: \");\n\n\n\n           xy.SetTextMatrix(230, 661); // Left, Top\n           xy.ShowText(\"Course: \"); \n            sqlConnection1.Close();\n\n           xy.SetTextMatrix(230, 637); // Left, Top\n           xy.ShowText(\"Section: \");\n\n           xy.SetTextMatrix(230, 613); // Left, Top\n           xy.ShowText(\"Division: \");\n\n           xy.SetTextMatrix(375, 661); // Left, Top\n           xy.ShowText(\"School Year: \");\n\n           xy.SetTextMatrix(375, 637); // Left, Top\n           xy.ShowText(\"Credit Units: \");\n\n           cb.SetLineWidth(0f);\n           cb.MoveTo(100, 601);\n           cb.LineTo(510, 601);\n           cb.Stroke();\n\n           xy.SetTextMatrix(120, 577); // Left, Top\n           xy.ShowText(\"Subject Code\");\n\n           xy.SetTextMatrix(195, 577); // Left, Top\n           xy.ShowText(\"Subject Description\");\n\n           xy.SetTextMatrix(310, 577); // Left, Top\n           xy.ShowText(\"Subject Schedule\");\n\n           xy.SetTextMatrix(405, 577); // Left, Top\n           xy.ShowText(\"Room #\");\n\n           xy.SetTextMatrix(470, 577); // Left, Top\n           xy.ShowText(\"Units\");\n\n           cb.SetLineWidth(0f);\n           cb.MoveTo(100, 560);\n           cb.LineTo(510, 560);\n           cb.Stroke();\n\n           xy.SetTextMatrix(120, 313); // Left, Top\n           xy.ShowText(\"NOTE: Assessment on this Registration Card is TEMPORARY only. Final assessment will be determined by\");\n\n           xy.SetTextMatrix(145, 301); // Left, Top\n           xy.ShowText(\"the Finance office.\");\n\n           cb.SetLineWidth(0f);\n           cb.MoveTo(400, 253);\n           cb.LineTo(510, 253);\n           cb.Stroke();\n\n           xy.SetTextMatrix(425, 241); // Left, Top\n           xy.ShowText(\"Registrar Officer\");\n\n           int row = 1;\n            for (int y = 0; y != 70; y++)\n            {\n               xy.SetTextMatrix(10, row);\n               xy.ShowText(\"Y: \" + row.ToString());\n               row += 12; // The spacing between the rows is set to 12 \"points\"\n            }\n            int col = 35;\n            for (int x = 0; x != 22; x++)\n            {\n               xy.SetTextMatrix(col, 829);\n               xy.ShowText(\"X: \" + col.ToString());\n               col += 25; // The spacing between the columns is set to 25 \"points\"\n            }\n            xy.EndText();\n\n\n            cb.BeginText();\n            cb.SetFontAndSize(f_cn, 16);\n\n\n            //START DIRI\n            iTextSharp.text.Image img = iTextSharp.text.Image.GetInstance(\"C:\\\\Users\\\\db\\\\Desktop\\\\addu-logo.jpg\");\n            img.SetAbsolutePosition(185, 697);\n            img.ScalePercent(10f);\n            cb.AddImage(img);\n\n\n            cb.SetTextMatrix(240, 733); // Left, Top\n            cb.ShowText(\"Ateneo de Davao University\");\n\n            cb.SetTextMatrix(280, 718);\n            cb.ShowText(\"Registrar's Office\");\n\n            cb.SetTextMatrix(266, 703);\n            cb.ShowText(\"Student Registration\");\n\n\n            cb.EndText();\n\n\n\n           //document.Add(new Paragraph(\"Ateneo de Davao University\"));\n           document.Close();\n           writer.Close();\n           fs.Close();\n\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "edited": false, "score": 0, "creation_date": 1423108665, "post_id": 28333749, "comment_id": 45017982, "body": "Have you tried looking for the lines via Snoop WPF? That program is often quite helpful for debugging WPF binding and visual problems. It may be that your lines are generated but being placed somewhere you can&#39;t see them."}, {"owner": {"reputation": 166, "user_id": 1564756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TBGnn.jpg?s=128&g=1", "display_name": "greenbeast", "link": "https://stackoverflow.com/users/1564756/greenbeast"}, "reply_to_user": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "edited": false, "score": 0, "creation_date": 1423136312, "post_id": 28333749, "comment_id": 45030334, "body": "Thanks for the response NextInLine and I will definitely have a look at your suggested tool (thanks).The lines are definetly generated as the gridlinecomponent (non argument) constructor is called. However, properties are not set? So they all have a line length of 0, text is null etc. I can&#39;t check until tonight (boring day job!!!!), but I have a feeling it is because the dependencdy property may be called but this does not relay onto the associated property (I thought it would, but is this something I have to do in the OnItemsPropertyChanged handler?)"}, {"owner": {"reputation": 4319, "user_id": 4265041, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/H2req.png?s=128&g=1", "display_name": "Steven Rands", "link": "https://stackoverflow.com/users/4265041/steven-rands"}, "edited": false, "score": 0, "creation_date": 1423143517, "post_id": 28333749, "comment_id": 45034939, "body": "@greenbeast If your chart is circular shouldn&#39;t this line <code>angularLine[i].RenderTransformOrigin = new Point(0.5, 1);</code> be point <code>0.5, 0.5</code>, ie. the center of the chart? Also, although it won&#39;t make any visible difference, you don&#39;t need the property change notification stuff on your <code>GridLineComponent</code> class as all of that will be handled by the dependency properties."}, {"owner": {"reputation": 166, "user_id": 1564756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TBGnn.jpg?s=128&g=1", "display_name": "greenbeast", "link": "https://stackoverflow.com/users/1564756/greenbeast"}, "edited": false, "score": 0, "creation_date": 1423145191, "post_id": 28333749, "comment_id": 45036165, "body": "Thanks Steve, you can do that, but it is better if the &#39;spokes&#39; don&#39;t go to centre of diagram but start at  say a 10knot speed radial. Otherwise the angular lines look really messy in centre and it is difficult to read any (a big black psychedelic splodge!). I have already successfully created the diagram, using the gridlinecomponent, but I am now trying to modify it to be MVVM. So the notification handler was just the reminance of that (and my laziness ;)."}], "owner": {"reputation": 166, "user_id": 1564756, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TBGnn.jpg?s=128&g=1", "display_name": "greenbeast", "link": "https://stackoverflow.com/users/1564756/greenbeast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1423136964, "creation_date": 1423093535, "last_edit_date": 1423136964, "question_id": 28333749, "link": "https://stackoverflow.com/questions/28333749/using-custom-controls-with-dependency-properties-in-an-itemscontrol-datatemplat", "title": "Using Custom Controls, with dependency properties in an Itemscontrol datatemplate", "body": "<p>I am trying to create a polar diagram using MVVM. The radial axis is wind speed and radial angles is wind direction. I can create the radial circles (ellipses) and the radial speed axis labels. For the angular lines (like wheel spokes) I created a custom control that was simply a line with a textblock at the end (giving the angular axis value). However, I can not get my program to set the properties of this custom control and therefore you cannot see them on the canvas (though they are there but the default length is zero and default text is null)?</p>\n\n<p>OK, So my diagram.xaml is as follows:</p>\n\n<pre><code>&lt;Grid&gt;\n    &lt;Grid.DataContext&gt;\n        &lt;local:DiagramViewModel x:Name=\"ViewModel\" /&gt;\n    &lt;/Grid.DataContext&gt;\n    &lt;Viewbox x:Name=\"myView\"\n             Stretch=\"Uniform\"\n             StretchDirection=\"Both\"&gt;\n        &lt;ItemsControl ItemsSource=\"{Binding Points}\"&gt;\n            &lt;ItemsControl.ItemsPanel&gt;\n                &lt;ItemsPanelTemplate&gt;\n                    &lt;Canvas Height=\"400\" Width=\"400\"/&gt;\n                &lt;/ItemsPanelTemplate&gt;\n            &lt;/ItemsControl.ItemsPanel&gt;\n            &lt;ItemsControl.ItemContainerStyle&gt;\n                &lt;Style&gt;\n                    &lt;Setter Property=\"Canvas.Right\" Value=\"{Binding Right}\"/&gt;\n                    &lt;Setter Property=\"Canvas.Left\" Value=\"{Binding Left}\"/&gt;\n                    &lt;Setter Property=\"Canvas.Top\" Value=\"{Binding Top}\"/&gt;\n                    &lt;Setter Property=\"Canvas.Bottom\" Value=\"{Binding Bottom}\"/&gt;\n                    &lt;Setter Property=\"Canvas.ZIndex\" Value=\"{Binding ZIndex}\"/&gt;\n                &lt;/Style&gt;\n            &lt;/ItemsControl.ItemContainerStyle&gt;\n            &lt;ItemsControl.Resources&gt;\n                &lt;DataTemplate DataType=\"{x:Type local:EllipseItem}\"&gt;\n                        &lt;Ellipse Stroke=\"{Binding Stroke}\"\n                                 StrokeThickness=\"{Binding StrokeThickness}\" \n                                 StrokeDashArray=\"{Binding StrokeDashArray}\"\n                                 Height=\"{Binding Height}\"\n                                 Width=\"{Binding Width}\"/&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;DataTemplate DataType=\"{x:Type local:GridLineItem}\"&gt;\n                        &lt;View:GridLineComponent Text=\"{Binding Path=Text, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"\n                                                Length=\"{Binding Path=Length, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"\n                                                GridHeight=\"{Binding Path=GridHeight, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"\n                                                LineColour=\"{Binding Path=LineColour, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"\n                                                TextColour=\"{Binding Path=TextColour, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}\"\n                                                RenderTransform=\"{Binding RenderTransform}\"\n                                                RenderTransformOrigin=\"{Binding RenderTransformOrigin}\"/&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;DataTemplate DataType=\"{x:Type local:TextBlockItem}\"&gt;\n                        &lt;TextBlock Text=\"{Binding Text}\"\n                                   Foreground=\"{Binding Foreground}\"\n                                   FontSize=\"{Binding FontSize}\"/&gt;\n                    &lt;/DataTemplate&gt;\n            &lt;/ItemsControl.Resources&gt;\n        &lt;/ItemsControl&gt;\n    &lt;/Viewbox&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p>My viewmodel (DiagramViewModel), as well as other things, contains the following method to create these lines:</p>\n\n<pre><code>private void CreateAngularLines(double originMargin)\n    {\n        IList&lt;GridLineItem&gt; angularLine = new List&lt;GridLineItem&gt;();\n\n        double increment , angularGridlineCount, angle, height, width;\n\n        if (this.minorAngularIncrement == null)\n            increment = (double)this.majorAngularIncrement;\n        else\n            increment = (double)this.minorAngularIncrement;\n\n        angularGridlineCount = 360 / increment;\n        height = 200;//half the length of the canvas\n        width = 200;\n\n        for (int i = 0; i &lt; angularGridlineCount; i++)\n        {\n            angularLine.Add(new GridLineItem());\n\n            angle = i * increment;\n            if (angle == 0 || angle == 180)\n                angularLine[i].Text = angle.ToString(\"000\");\n            else if (angle &lt; 180)\n                angularLine[i].Text = \"G\" + angle.ToString(\"000\");\n            else\n                angularLine[i].Text = \"R\" + (360 - angle).ToString(\"000\");\n\n            angularLine[i].Length = height - originMargin;\n            angularLine[i].GridHeight = height;\n            angularLine[i].LineColour = this.LineColour;\n            angularLine[i].TextColour = this.TextColour;\n\n            angularLine[i].Left = width - 18;\n            angularLine[i].Top = 0;\n            angularLine[i].Right = width;\n            angularLine[i].Bottom = height;\n            angularLine[i].ZIndex = 1;\n\n            angularLine[i].RenderTransformOrigin = new Point(0.5, 1);\n            angularLine[i].RenderTransform = new RotateTransform(angle, 0, 0);\n        }\n\n        Points.Add(new CollectionContainer() { Collection = angularLine });\n    }\n</code></pre>\n\n<p>The GridLineItem class is a simple holder class with the following:</p>\n\n<pre><code>public class GridLineItem\n{\n    public GridLineItem()\n    {\n        this.RenderTransformOrigin = new Point(0.5, 1);\n        this.RenderTransform = new RotateTransform(0, 0, 0);\n\n        this.Left = double.NaN;\n        this.Right = double.NaN;\n        this.Top = double.NaN;\n        this.Bottom = double.NaN;\n    }\n\n    public Brush LineColour { get; set; }\n    public Brush TextColour { get; set; }\n    public string Text { get; set; }\n    public double Length { get; set; }\n    public double GridHeight { get; set; }\n    public Point RenderTransformOrigin { get; set; }\n    public Transform RenderTransform { get; set; }\n\n    public int ZIndex { get; set; }\n    public double Left { get; set; }\n    public double Right { get; set; }\n    public double Top { get; set; }\n    public double Bottom { get; set; }\n}\n</code></pre>\n\n<p>Now this is where I think I am going wrong. The GridlineComponent.xaml.cs file contains the following:</p>\n\n<pre><code>public partial class GridLineComponent : UserControl, INotifyPropertyChanged\n{\n    public GridLineComponent()\n    {\n        InitializeComponent();\n        this.DataContext = this;\n    }\n    public GridLineComponent(string text, double length, double gridHeight) : this()\n    {\n        this.Text = text;\n        this.Length = length;\n        this.GridHeight = gridHeight;\n    }\n\n    public Brush LineColour\n    {\n        get { return (Brush)GetValue(LineColourProperty); }\n        set\n        {\n            SetValue(LineColourProperty, value);\n            NotifyPropertyChanged(\"LineColour\");\n        }\n    }\n    public Brush TextColour\n    {\n        get { return (Brush)GetValue(TextColourProperty); }\n        set\n        {\n            SetValue(TextColourProperty, value);\n            NotifyPropertyChanged(\"TextColour\");\n        }\n    }\n\n    public string Text\n    {\n        get { return (string)GetValue(TextProperty); }\n        set\n        {\n            if (value == null)\n                SetValue(TextProperty, \"\");\n            else\n                SetValue(TextProperty, value); //\"\\u00B0\";\n\n            NotifyPropertyChanged(\"Text\");\n        }\n    }\n    public double Length\n    {\n        get { return (double)GetValue(LengthProperty); }\n        set\n        {\n            SetValue(LengthProperty, value);\n            NotifyPropertyChanged(\"Length\");\n        }\n    }\n    public double GridHeight\n    {\n        get { return (double)GetValue(GridHeightProperty); }\n        set\n        {\n            SetValue(GridHeightProperty, value);\n            NotifyPropertyChanged(\"GridHeight\");\n        }\n    }\n\n    public static readonly DependencyProperty TextColourProperty =\n    DependencyProperty.Register(\n        \"TextColour\",\n        typeof(Brush),\n        typeof(GridLineComponent),\n        new PropertyMetadata(default(Brush), OnItemsPropertyChanged));\n\n    public static readonly DependencyProperty LineColourProperty =\n    DependencyProperty.Register(\n        \"LineColour\",\n        typeof(Brush),\n        typeof(GridLineComponent),\n        new PropertyMetadata(default(Brush), OnItemsPropertyChanged));\n\n    public static readonly DependencyProperty TextProperty =\n    DependencyProperty.Register(\n        \"Text\",\n        typeof(string),\n        typeof(GridLineComponent),\n        new PropertyMetadata(default(string), OnItemsPropertyChanged));\n\n    public static readonly DependencyProperty LengthProperty =\n    DependencyProperty.Register(\n        \"Length\",\n        typeof(double),\n        typeof(GridLineComponent),\n        new PropertyMetadata(default(double), OnItemsPropertyChanged));\n\n    public static readonly DependencyProperty GridHeightProperty =\n    DependencyProperty.Register(\n        \"GridHeight\",\n        typeof(double),\n        typeof(GridLineComponent),\n        new PropertyMetadata(default(double), OnItemsPropertyChanged));\n\n    private static void OnItemsPropertyChanged(DependencyObject d, DependencyPropertyChangedEventArgs e)\n    {\n        GridLineComponent source = d as GridLineComponent;\n        // Do something...\n    }\n    public event PropertyChangedEventHandler PropertyChanged;\n    private void NotifyPropertyChanged(String info)\n    {\n        if (PropertyChanged != null)\n        {\n            PropertyChanged(this, new PropertyChangedEventArgs(info));\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Basically this GridLineComponent is not following the rules of MVVM. But I think that is ok here as it is such a basic type. The xaml for it is simply a grid containing a line and a TextBlock. The line's Y2 and stroke  attributes are binded to the xaml.cs (Length and LineColour respectively) and so too are the textblock's foreground and text attributes (TextColour and Text respectively).</p>\n\n<p>From what I have read, these lines should draw but do not. I think it may have something to do with the dependency properties or because of the empty OnItemsPropertyChanged handler. ALso, when the program is run, only the non argument constructor, for the GridlineComponent.xaml.cs is accessed (non of the properties are set)?</p>\n"}, {"tags": ["javascript", "c#", "asp.net"], "comments": [{"owner": {"reputation": 2940, "user_id": 737147, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/677eb.png?s=128&g=1", "display_name": "MichaelHouse", "link": "https://stackoverflow.com/users/737147/michaelhouse"}, "edited": false, "score": 0, "creation_date": 1423094919, "post_id": 28333705, "comment_id": 45014673, "body": "However, this works in the small demo I just created..."}], "answers": [{"tags": [], "owner": {"reputation": 2940, "user_id": 737147, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/677eb.png?s=128&g=1", "display_name": "MichaelHouse", "link": "https://stackoverflow.com/users/737147/michaelhouse"}, "is_accepted": true, "score": 0, "last_activity_date": 1423162704, "creation_date": 1423162704, "answer_id": 28351889, "question_id": 28333705, "link": "https://stackoverflow.com/questions/28333705/tabcontainer-suppressing-beginrequest-and-endrequest-of-updatepanel/28351889#28351889", "title": "TabContainer suppressing beginRequest and endRequest of UpdatePanel?", "body": "<p>After I found this working in a small demo I created, I started to work out the differences between my vanilla demo and my page.</p>\n\n<p>The key difference and indeed the difference that was causing these events not to fire was the use of <code>ClientIDMode=\"Static\"</code> on the TabContainer and its Tabs. Unfortunately I don't know <em>why</em> the ClientID being static would cause this issue, but if anyone experiences a similar issue in the future, this is what you'll want to look out for. Simply changing the <code>ClientIDMode</code> to the default <code>Inherit</code> or <code>AutoID</code> makes this work again and causes the events to fire.</p>\n"}], "owner": {"reputation": 2940, "user_id": 737147, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/677eb.png?s=128&g=1", "display_name": "MichaelHouse", "link": "https://stackoverflow.com/users/737147/michaelhouse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 28351889, "answer_count": 1, "score": 0, "last_activity_date": 1423162704, "creation_date": 1423093302, "question_id": 28333705, "link": "https://stackoverflow.com/questions/28333705/tabcontainer-suppressing-beginrequest-and-endrequest-of-updatepanel", "title": "TabContainer suppressing beginRequest and endRequest of UpdatePanel?", "body": "<p>I have some controls inside of a TabContainer and the TabContainer is inside of an UpdatePanel. I'm attempting to restore the scroll position of a panel inside of the TabContainer with the following javascript:</p>\n\n<pre><code>var yPanel;\n\nvar prm = Sys.WebForms.PageRequestManager.getInstance();\nprm.add_beginRequest(BeginRequestHandler);\nprm.add_endRequest(EndRequestHandler);\n\nfunction BeginRequestHandler(sender, args) {\n    yPanel = $get('ScrollPanel').scrollTop;\n}\nfunction EndRequestHandler(sender, args) {\n    $get('ScrollPanel').scrollTop = yPanel;\n}\n</code></pre>\n\n<p>Putting a breakpoint on these in Chrome, I see that the <code>BeginRequestHandler</code> and the <code>EndRequestHandler</code> are triggered when controls outside the TabContainer (and inside the UpdatePanel) activate a postback and I see the breakpoints trigger when buttons inside the TabContainer are pressed. However, any other control inside the TabContainer (for example a checkbox with <code>AutoPostBack=\"true\"</code>) does trigger a postback, but the <code>BeginRequestHandler</code> and the <code>EndRequestHandler</code> events are <strong>not</strong> triggered.</p>\n\n<p>I also attached the debugger to the server and was able to confirm, when using controls outside the TabContainer or buttons inside the TabContainer, I get the following sequence of breakpoints:</p>\n\n<ol>\n<li>BeginRequestHandler (client side)</li>\n<li>Page_Load (Server side)</li>\n<li>EndRequestHandler (client side)</li>\n</ol>\n\n<p>However, when using other controls inside of the TabContainer, I get the following sequence of breakpoints:</p>\n\n<ol>\n<li>Page_Load (Server side)</li>\n</ol>\n\n<p>Is the TabContainer handling these events on its own somewhere? Why are they not happening?</p>\n"}, {"tags": ["c#", "wcf", "newrelic"], "owner": {"reputation": 2483, "user_id": 97197, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/efcfcd2aadfcd6cff54c4b5075f23a15?s=128&d=identicon&r=PG", "display_name": "Aaron M", "link": "https://stackoverflow.com/users/97197/aaron-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 648, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1423583700, "creation_date": 1423093129, "last_edit_date": 1423583700, "question_id": 28333673, "link": "https://stackoverflow.com/questions/28333673/system-servicemodel-faultexception-failed-to-process-the-request", "title": "System.ServiceModel.FaultException: Failed to process the request", "body": "<p>I am seeing a strange issue, that I haven't been able to track down. I see this error quite a bit pertaining to a 3rd party API that I am calling in a production environment. Its a critical API, but the error doesn't seem to be causing any issue, IE:The call seems to be successful. This error only shows up in NewRelic. We also log exceptions to a file, and the file has no errors in it! I've tried to reproduce the issue in my development environment, but have not seen it occur. </p>\n\n<blockquote>\n  <p>System.ServiceModel.FaultException: Failed to process the request\n  Stack trace at\n  System.ServiceModel.Channels.ServiceChannel.HandleReply(ProxyOperationRuntime\n  operation, ProxyRpc&amp; rpc) at\n  System.ServiceModel.Channels.ServiceChannel.Call(String action,\n  Boolean oneway, ProxyOperationRuntime operation, Object[] ins,\n  Object[] outs, TimeSpan timeout) at\n  System.ServiceModel.Channels.ServiceChannel.Call(String action,\n  Boolean oneway, ProxyOperationRuntime operation, Object[] ins,\n  Object[] outs) at\n  System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage\n  methodCall, ProxyOperationRuntime operation) at\n  System.ServiceModel.Channels.ServiceChannelProxy.InvokeService(IMethodCallMessage\n  methodCall, ProxyOperationRuntime operation)</p>\n</blockquote>\n\n<p>What is strange about this stacktrace, is I don't see ThrowIfFaultUnderstood at the top of the stack. And since the call seems to be successful even though I see an error in NewRelic, I am left confused about how I can track down a root cause.</p>\n"}, {"tags": ["c#", "revit", "revit-api"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3968554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/064773f8c9b071f56b31f6b134c79b9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3968554", "link": "https://stackoverflow.com/users/3968554/user3968554"}, "edited": false, "score": 0, "creation_date": 1423132886, "post_id": 28335542, "comment_id": 45028282, "body": "Thank you very much. I tried your sugesstion(I only change the BuiltInParameter to BuiltInCatogary) and it worked fine with the Comments parameter but not with any other parameter. I got error &quot;The value can&#39;t be empty&quot;. I notice that the Comment paramter is there on the Project but not seen when I edit the family properties niether instance or type. Any ideas about that?"}, {"owner": {"reputation": 929, "user_id": 535164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7b84c5a00a26f7d6dfd9efba82759c4f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/535164/matt"}, "reply_to_user": {"reputation": 1, "user_id": 3968554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/064773f8c9b071f56b31f6b134c79b9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3968554", "link": "https://stackoverflow.com/users/3968554/user3968554"}, "edited": false, "score": 0, "creation_date": 1423140992, "post_id": 28335542, "comment_id": 45033280, "body": "The Comments parameter is a built in parameter for all instance/categories at the project level. How are you defining your elementNo parameter?"}, {"owner": {"reputation": 1, "user_id": 3968554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/064773f8c9b071f56b31f6b134c79b9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3968554", "link": "https://stackoverflow.com/users/3968554/user3968554"}, "edited": false, "score": 0, "creation_date": 1423141675, "post_id": 28335542, "comment_id": 45033752, "body": "instance paramater identity Data integer. I tried with other parameters of all types but it is the same"}], "tags": [], "owner": {"reputation": 929, "user_id": 535164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7b84c5a00a26f7d6dfd9efba82759c4f?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/535164/matt"}, "is_accepted": false, "score": 1, "last_activity_date": 1423140827, "last_edit_date": 1423140827, "creation_date": 1423105886, "answer_id": 28335542, "question_id": 28333487, "link": "https://stackoverflow.com/questions/28333487/find-a-view-filter-revit-api/28335542#28335542", "title": "Find a view filter Revit Api", "body": "<p>I think the problem is that your code which is performing the FilteredElementCollector is not specific enough. In the ADN sample, they're filtering on a type of \"Wall\" - but you're filtering on a type of FamilyInstance. You're correct on the type, but FamilyInstance covers lots of categories. The FirstElement() is giving the first FamilyInstance in the collector (which is likely not a generic model).</p>\n\n<p>Try this line:\nParameter parameter = parameterCollector.OfClass(typeof(FamilyInstance)).OfCategory(BuiltInCategory.OST_GenericModel).FirstElement().get_Parameter(\"elementNo\");</p>\n\n<p>That way, you should get the first element that is both a family instance AND a GenericModel.</p>\n\n<p>Good Luck,\nMatt</p>\n"}], "owner": {"reputation": 1, "user_id": 3968554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/064773f8c9b071f56b31f6b134c79b9a?s=128&d=identicon&r=PG&f=1", "display_name": "user3968554", "link": "https://stackoverflow.com/users/3968554/user3968554"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1881, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423140827, "creation_date": 1423092134, "question_id": 28333487, "link": "https://stackoverflow.com/questions/28333487/find-a-view-filter-revit-api", "title": "Find a view filter Revit Api", "body": "<p>I am trying to use a filter to show/hide a certain element on the view. The family is from catogary GenericModel. I use the same code snippet that on the help on the autodesk site it works fine in its original state (catogary is walls) but when I changed it to GenericModel I got the following error:\n\"One of the given rules refers to a parameter that does not apply to this filter's categories.\"\nI suspect that something wrong with the typeOf(FamilyInstance).\nThe original code on Autodesk site is:</p>\n\n<p><a href=\"http://help.autodesk.com/view/RVT/2014/ENU/?guid=GUID-B6FB80F2-7A17-4242-9E95-D6056090E85B\" rel=\"nofollow\">http://help.autodesk.com/view/RVT/2014/ENU/?guid=GUID-B6FB80F2-7A17-4242-9E95-D6056090E85B</a></p>\n\n<p>and here is my code</p>\n\n<pre><code>Transaction trans = new Transaction(doc);\n         trans.Start(\"Hide_or_Unhide\");\n        //\n        List&lt;ElementId&gt; categories = new List&lt;ElementId&gt;();\n        categories.Add(new ElementId(BuiltInCategory.OST_GenericModel));\n        ParameterFilterElement parameterFilterElement = ParameterFilterElement.Create(doc, \"elementNo = 102\", categories);\n        FilteredElementCollector parameterCollector = new FilteredElementCollector(doc);\n        Parameter parameter = parameterCollector.OfClass(typeof(FamilyInstance)).FirstElement().get_Parameter(\"elementNo\");\n        List&lt;FilterRule&gt; filterRules = new List&lt;FilterRule&gt;();\n        filterRules.Add(ParameterFilterRuleFactory.CreateEqualsRule(parameter.Id, 102));   \n        try\n        {\n            parameterFilterElement.SetRules(filterRules);\n        }\n        catch (Exception ex)\n        {\n            TaskDialog.Show(\"\", ex.Message);\n        }\n        OverrideGraphicSettings filterSettings = new OverrideGraphicSettings();\n        // outline walls in red            \n        filterSettings.SetProjectionLineColor(new Autodesk.Revit.DB.Color(255, 0, 0));\n        Autodesk.Revit.DB.View curView = doc.ActiveView;\n        curView.SetFilterOverrides(parameterFilterElement.Id, filterSettings);\n        trans.Commit();\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "async-await", "asp.net-identity", "smtpclient"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1423091952, "post_id": 28333396, "comment_id": 45013766, "body": "Take a look at <a href=\"http://stackoverflow.com/a/7350534/209259\">Stephen Cleary&#39;s answer on catching an exception on a void method(<code>SendMailAsync</code>)</a>.  Async Void Methods are problem childs sometimes."}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "reply_to_user": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 1, "creation_date": 1423093367, "post_id": 28333396, "comment_id": 45014202, "body": "@ErikPhilips - I don&#39;t see any <code>async void</code>  methods in the sample (either implemented or called) - did you mean some particular line?"}, {"owner": {"reputation": 94146, "user_id": 477420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0eb05243292dee6726c128660d31583b?s=128&d=identicon&r=PG", "display_name": "Alexei Levenkov", "link": "https://stackoverflow.com/users/477420/alexei-levenkov"}, "edited": false, "score": 1, "creation_date": 1423093602, "post_id": 28333396, "comment_id": 45014269, "body": "As workaround you may try to manually resolve the host and fail earlier... Also look at <a href=\"http://referencesource.microsoft.com/#System/net/System/Net/mail/SmtpClient.cs,b9a40a3be18a4d58\" rel=\"nofollow noreferrer\">the source</a> for insights - hopefully it would be helpful..."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1423101111, "post_id": 28333396, "comment_id": 45016202, "body": "@regexen: Do you have <a href=\"http://blogs.msdn.com/b/webdev/archive/2012/11/19/all-about-httpruntime-targetframework.aspx\" rel=\"nofollow noreferrer\"><code>httpRuntime.targetFramework</code> set to <code>4.5</code> in your <code>web.config</code></a>?"}, {"owner": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1423145554, "post_id": 28333396, "comment_id": 45036445, "body": "@StephenCleary: Yup."}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 2, "creation_date": 1423183607, "post_id": 28333396, "comment_id": 45056893, "body": "I remember a related question with a workaround... there it is: <a href=\"http://stackoverflow.com/q/24377081\">Sending async mail from SignalR hub</a>"}, {"owner": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "reply_to_user": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1423236579, "post_id": 28333396, "comment_id": 45079044, "body": "@Noseratio: Thanks for the suggestion. I tried that solution, and now the exception seems to be swallowed by the <code>IgnoreSynchronizationContext</code>, and the controller method returns as if nothing went wrong. Since I can&#39;t handle faults in that case, it doesn&#39;t fix it for me."}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 1, "creation_date": 1423393468, "post_id": 28333396, "comment_id": 45123078, "body": "@regexen, try my <code>WithNoContext</code> from <a href=\"http://stackoverflow.com/a/24386344/1768303\">here</a>, see if it makes any difference."}, {"owner": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "reply_to_user": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "edited": false, "score": 0, "creation_date": 1423584970, "post_id": 28333396, "comment_id": 45202899, "body": "@Noseratio: Seems to work the same way; the exception is not caught outside the helper method."}, {"owner": {"reputation": 315, "user_id": 3814965, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2010eccd3995d88fda9a382ae699846e?s=128&d=identicon&r=PG", "display_name": "Practical Programmer", "link": "https://stackoverflow.com/users/3814965/practical-programmer"}, "edited": false, "score": 0, "creation_date": 1497736474, "post_id": 28333396, "comment_id": 76206198, "body": "Thanks a lot Noseratio and Stephen!, fixed the same issue for me...Now I have to learn more about EAP"}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "edited": false, "score": 3, "creation_date": 1423870617, "post_id": 28445791, "comment_id": 45340089, "body": "That one works; the exception is caught as one would normally expect, bubbles up the call stack and I get a YSOD. Seems like a whole lot of code to do something that seemed so simple (!), but I can see how it can get complicated fast. Anyway marking as accepted since it does solve it. Thanks for all your help!"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "reply_to_user": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "edited": false, "score": 0, "creation_date": 1423871526, "post_id": 28445791, "comment_id": 45340335, "body": "Glad it works; it&#39;s a typical <code>Task</code>-based wrapper over <a href=\"https://msdn.microsoft.com/en-us/library/ms228969%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">EAP pattern</a>. I wonder if it still would work <i>without</i> <code>await Task.Yield()</code>, maybe you could give it a try."}, {"owner": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "edited": false, "score": 1, "creation_date": 1424443234, "post_id": 28445791, "comment_id": 45563044, "body": "Seems to work without the <code>Task.Yield</code>, according to a quick test."}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "reply_to_user": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "edited": false, "score": 0, "creation_date": 1424443483, "post_id": 28445791, "comment_id": 45563222, "body": "@regexen, in which case, the <code>handler</code> doesn&#39;t need to be async, apparently."}, {"owner": {"reputation": 2150, "user_id": 27846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/st1ff.jpg?s=128&g=1", "display_name": "pettys", "link": "https://stackoverflow.com/users/27846/pettys"}, "edited": false, "score": 0, "creation_date": 1458450376, "post_id": 28445791, "comment_id": 59862564, "body": "So is there a bug in SmtpClient that this code works around?"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "reply_to_user": {"reputation": 2150, "user_id": 27846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/st1ff.jpg?s=128&g=1", "display_name": "pettys", "link": "https://stackoverflow.com/users/27846/pettys"}, "edited": false, "score": 0, "creation_date": 1458452153, "post_id": 28445791, "comment_id": 59862808, "body": "@pettys, there might a bug but I couldn&#39;t spot it from the first glance."}, {"owner": {"reputation": 7752, "user_id": 1057791, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b71bb7d0ce0280aadcee83a2760f3a7?s=128&d=identicon&r=PG", "display_name": "BornToCode", "link": "https://stackoverflow.com/users/1057791/borntocode"}, "edited": false, "score": 0, "creation_date": 1609707717, "post_id": 28445791, "comment_id": 115901029, "body": "Why don&#39;t you use <code>Task.Run(async () =&gt; await SendMailExImplAsync(@this, message, token));</code>? (By your current implementation you&#39;re still &#39;wasting&#39; a thread while doing the IO operation, The way I suggested you&#39;re freeing up the thread until IO operation is completed)"}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "reply_to_user": {"reputation": 7752, "user_id": 1057791, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b71bb7d0ce0280aadcee83a2760f3a7?s=128&d=identicon&r=PG", "display_name": "BornToCode", "link": "https://stackoverflow.com/users/1057791/borntocode"}, "edited": false, "score": 1, "creation_date": 1609711346, "post_id": 28445791, "comment_id": 115902016, "body": "<i>By your current implementation you&#39;re still &#39;wasting&#39; a thread while doing the IO operation...</i> @BornToCode I&#39;m not. <code>Task.Run(() =&gt; FuncAsync())</code> is basically doing the same as  <code>Task.Run(async () =&gt; await FuncAsync())</code> but without added async state machine micro-overhead. In both cases, the same <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.threading.tasks.task.run?view=net-5.0#System_Threading_Tasks_Task_Run_System_Func_System_Threading_Tasks_Task__\" rel=\"nofollow noreferrer\"><code>Task.Run</code> override</a> is used."}, {"owner": {"reputation": 7752, "user_id": 1057791, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b71bb7d0ce0280aadcee83a2760f3a7?s=128&d=identicon&r=PG", "display_name": "BornToCode", "link": "https://stackoverflow.com/users/1057791/borntocode"}, "edited": false, "score": 0, "creation_date": 1609756475, "post_id": 28445791, "comment_id": 115912486, "body": "But without await the thread is held and not released to the thread pool even while you&#39;re waiting for the IO operation of sending the email."}, {"owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "reply_to_user": {"reputation": 7752, "user_id": 1057791, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b71bb7d0ce0280aadcee83a2760f3a7?s=128&d=identicon&r=PG", "display_name": "BornToCode", "link": "https://stackoverflow.com/users/1057791/borntocode"}, "edited": false, "score": 1, "creation_date": 1609757899, "post_id": 28445791, "comment_id": 115913149, "body": "@BornToCode, no <code>Task.Run</code> won&#39;t block anything for functions that return a <code>Task</code> like <code>SendMailExImplAsync</code> (unless such function has a blocking wait inside, which mine doesn&#39;t).  If you like to learn more, have a look at <a href=\"https://source.dot.net/#System.Private.CoreLib/Task.cs,c3e0ffe470f08b7b\" rel=\"nofollow noreferrer\"><code>Task.Run</code> implementation</a>."}], "tags": [], "owner": {"reputation": 56341, "user_id": 1768303, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Eypxz.jpg?s=128&g=1", "display_name": "noseratio", "link": "https://stackoverflow.com/users/1768303/noseratio"}, "is_accepted": true, "score": 14, "last_activity_date": 1423623280, "creation_date": 1423623280, "answer_id": 28445791, "question_id": 28333396, "link": "https://stackoverflow.com/questions/28333396/smtpclient-sendmailasync-causes-deadlock-when-throwing-a-specific-exception/28445791#28445791", "title": "SmtpClient.SendMailAsync causes deadlock when throwing a specific exception", "body": "<p>Try this implementation, just use <code>client.SendMailExAsync</code> instead of <code>client.SendMailAsync</code>. Let us know if it makes any difference:</p>\n\n<pre><code>public static class SendMailEx\n{\n    public static Task SendMailExAsync(\n        this System.Net.Mail.SmtpClient @this,\n        System.Net.Mail.MailMessage message,\n        CancellationToken token = default(CancellationToken))\n    {\n        // use Task.Run to negate SynchronizationContext\n        return Task.Run(() =&gt; SendMailExImplAsync(@this, message, token));\n    }\n\n    private static async Task SendMailExImplAsync(\n        System.Net.Mail.SmtpClient client, \n        System.Net.Mail.MailMessage message, \n        CancellationToken token)\n    {\n        token.ThrowIfCancellationRequested();\n\n        var tcs = new TaskCompletionSource&lt;bool&gt;();\n        System.Net.Mail.SendCompletedEventHandler handler = null;\n        Action unsubscribe = () =&gt; client.SendCompleted -= handler;\n\n        handler = async (s, e) =&gt;\n        {\n            unsubscribe();\n\n            // a hack to complete the handler asynchronously\n            await Task.Yield(); \n\n            if (e.UserState != tcs)\n                tcs.TrySetException(new InvalidOperationException(\"Unexpected UserState\"));\n            else if (e.Cancelled)\n                tcs.TrySetCanceled();\n            else if (e.Error != null)\n                tcs.TrySetException(e.Error);\n            else\n                tcs.TrySetResult(true);\n        };\n\n        client.SendCompleted += handler;\n        try\n        {\n            client.SendAsync(message, tcs);\n            using (token.Register(() =&gt; client.SendAsyncCancel(), useSynchronizationContext: false))\n            {\n                await tcs.Task;\n            }\n        }\n        finally\n        {\n            unsubscribe();\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 932956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602cb490381c67e398a2630a6f52c71d?s=128&d=identicon&r=PG", "display_name": "regexen", "link": "https://stackoverflow.com/users/932956/regexen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7064, "favorite_count": 4, "accepted_answer_id": 28445791, "answer_count": 1, "score": 18, "last_activity_date": 1603274587, "creation_date": 1423091614, "last_edit_date": 1495542254, "question_id": 28333396, "link": "https://stackoverflow.com/questions/28333396/smtpclient-sendmailasync-causes-deadlock-when-throwing-a-specific-exception", "title": "SmtpClient.SendMailAsync causes deadlock when throwing a specific exception", "body": "<p>I'm trying to setup email confirmation for an ASP.NET MVC5 website, based on the example AccountController from the VS2013 project template. I've implemented the <code>IIdentityMessageService</code> using <code>SmtpClient</code>, trying to keep it as simple as possible:</p>\n\n<pre><code>public class EmailService : IIdentityMessageService\n{\n    public async Task SendAsync(IdentityMessage message)\n    {\n        using(var client = new SmtpClient())\n        {\n            var mailMessage = new MailMessage(\"some.guy@company.com\", message.Destination, message.Subject, message.Body);\n            await client.SendMailAsync(mailMessage);\n        }\n    }\n}\n</code></pre>\n\n<p>The controller code that is calling it is straight from the template (extracted into a separate action since I wanted to exclude other possible causes):</p>\n\n<pre><code>public async Task&lt;ActionResult&gt; TestAsyncEmail()\n{\n    Guid userId = User.Identity.GetUserId();\n\n    string code = await UserManager.GenerateEmailConfirmationTokenAsync(userId);\n    var callbackUrl = Url.Action(\"ConfirmEmail\", \"Account\", new { userId = userId, code = code }, protocol: Request.Url.Scheme);\n    await UserManager.SendEmailAsync(userId, \"Confirm your account\", \"Please confirm your account by clicking &lt;a href=\\\"\" + callbackUrl + \"\\\"&gt;here&lt;/a&gt;\");\n\n    return View();\n}\n</code></pre>\n\n<p>However I'm getting odd behavior when the mail fails to send, but only in one specific instance, when the host is somehow unreachable. Example config:</p>\n\n<pre><code>&lt;system.net&gt;\n    &lt;mailSettings&gt;\n        &lt;smtp deliveryMethod=\"Network\"&gt;\n            &lt;network host=\"unreachablehost\" defaultCredentials=\"true\" port=\"25\" /&gt;\n        &lt;/smtp&gt;\n    &lt;/mailSettings&gt;\n&lt;/system.net&gt;\n</code></pre>\n\n<p>In that case, the request appears to deadlock, never returning anything to the client. If the mail fails to send for any other reason (e.g. host actively refuses connection) the exception is handled normally and I get a YSOD.</p>\n\n<p>Looking at the Windows event logs, it seems that an <code>InvalidOperationException</code> is thrown around the same timeframe, with the message \"An asynchronous module or handler completed while an asynchronous operation was still pending.\"; I get that same message in a YSOD if I try to catch the <code>SmtpException</code> in the controller and return a <code>ViewResult</code> in the catch block. So I figure the <code>await</code>-ed operation fails to complete in either case.</p>\n\n<p>As far as I can tell, I am following all the async/await best practices as outlined in other posts on SO (e.g. <a href=\"https://stackoverflow.com/questions/10343632/httpclient-getasync-never-returns-when-using-await-async\">HttpClient.GetAsync(...) never returns when using await/async</a>), mainly \"using async/await all the way up\". I've also tried using <code>ConfigureAwait(false)</code>, with no change. Since the code deadlocks only if a specific exception is thrown, I figure the general pattern is correct for most cases, but something is happening internally that makes it incorrect in that case; but since I'm pretty new to concurrent programming, I've a feeling I could be wrong.</p>\n\n<p>Is there something I'm doing wrong ? I can always use a synchronous call (ie. <code>SmtpClient.Send()</code>) in the SendAsync method, but it feels like this should work as is.</p>\n"}, {"tags": ["c#", "excel", "bitmap"], "comments": [{"owner": {"reputation": 2608, "user_id": 3333511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6007b9bf81366b10b303599a563ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Mascaro", "link": "https://stackoverflow.com/users/3333511/mr-mascaro"}, "edited": false, "score": 0, "creation_date": 1423092592, "post_id": 28333345, "comment_id": 45013985, "body": "Do you want that relative to the window or relative to their monitor?"}, {"owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "reply_to_user": {"reputation": 2608, "user_id": 3333511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6007b9bf81366b10b303599a563ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Mascaro", "link": "https://stackoverflow.com/users/3333511/mr-mascaro"}, "edited": false, "score": 0, "creation_date": 1423093050, "post_id": 28333345, "comment_id": 45014120, "body": "It&#39;s going into a file that will be printed as a datasheet. The way the page is set up that image size is what we need in pixels."}], "answers": [{"comments": [{"owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "edited": false, "score": 0, "creation_date": 1423094172, "post_id": 28333764, "comment_id": 45014463, "body": "Looks promising I will try first thing tomorrow"}], "tags": [], "owner": {"reputation": 2608, "user_id": 3333511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6007b9bf81366b10b303599a563ee4?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Mascaro", "link": "https://stackoverflow.com/users/3333511/mr-mascaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1423093680, "creation_date": 1423093680, "answer_id": 28333764, "question_id": 28333345, "link": "https://stackoverflow.com/questions/28333345/how-to-control-excels-scaling-of-bitmaps/28333764#28333764", "title": "How to control Excel&#39;s scaling of bitmaps", "body": "<p>If you are talking about printing, the display is irrelevant.</p>\n\n<p>The dimensions of the image need to be relative to the paper size.  The size values in the <code>AddPicture</code> method are in points and are only loosely related to pixels.  Points are units if measure that make sense to your printer.  The application translates points to pixels for you so you don't need to worry about that.  </p>\n\n<p>You can use the <code>InchesToPoints</code> or <code>CentimetersToPoints</code> methods of the <code>Application</code> object to size your image to paper size.</p>\n"}], "owner": {"reputation": 11547, "user_id": 832052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/VA1xt.png?s=128&g=1", "display_name": "djv", "link": "https://stackoverflow.com/users/832052/djv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423093680, "creation_date": 1423091384, "last_edit_date": 1495541191, "question_id": 28333345, "link": "https://stackoverflow.com/questions/28333345/how-to-control-excels-scaling-of-bitmaps", "title": "How to control Excel&#39;s scaling of bitmaps", "body": "<p>I have a bitmap image and I want to put it in excel. I used this code I found <a href=\"http://csharp.net-informations.com/excel/csharp-insert-picture-excel.htm\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<pre><code>xlWorkSheet.Shapes.AddPicture(\"C:\\\\filesystem\\\\mb2.bmp\", \n    msoFalse, msoCTrue, 0, 0, 518, 390);\n</code></pre>\n\n<p>But the resulting image is <code>1.333</code> times wider and higher. OK, so I can just multiply the dimensions by <code>0.75</code> and I get an image in excel with the desired dimensions.</p>\n\n<pre><code>xlWorkSheet.Shapes.AddPicture(\"C:\\\\filesystem\\\\mb2.bmp\", \n    msoFalse, msoCTrue, 0, 0, (float)(518*0.75), (float)(390*0.75));\n</code></pre>\n\n<p>But that number <code>0.75</code> sitting there hard-coded really bothers me. Especially since I've seen <a href=\"https://stackoverflow.com/questions/17367575/interop-shapes-addpicture-creates-incorrect-dimension-for-image\">this question</a> in which the op's ratio is <code>0.76</code>. Knowing that this code needs to run on any number of systems with different displays, I want to know how to get the ratio programmatically.</p>\n\n<p>Somewhat also related to <a href=\"https://stackoverflow.com/questions/7274714/how-does-excelpowerpoint-decide-to-rescale-ranges-pasted-as-images\">this question</a> which has to do with copy-paste without code.</p>\n"}, {"tags": ["c#", "excel", "vsto"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1423092126, "post_id": 28333313, "comment_id": 45013830, "body": "A lot of the Office indexers return a value of type <i>object</i>, roughly equivalent to the .NET 1.x collection objects like ArrayList.  Which maps to __ComObject, the RCW for a COM interface.  It has no get_Range() method, only the strongly typed interface does.  Using Range invokes the late-bound property getter.  You&#39;d have to cast to WorkSheet to use get_Range().  Which is not uncommon, breaking up such a long statement is desirable and many programmers like the IntelliSense hints."}], "answers": [{"tags": [], "owner": {"reputation": 1981, "user_id": 113374, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7WZv6.jpg?s=128&g=1", "display_name": "NextInLine", "link": "https://stackoverflow.com/users/113374/nextinline"}, "is_accepted": true, "score": 1, "last_activity_date": 1423091526, "creation_date": 1423091526, "answer_id": 28333376, "question_id": 28333313, "link": "https://stackoverflow.com/questions/28333313/c-excel-vsto-difference-between-get-range-and-range/28333376#28333376", "title": "C# Excel VSTO: Difference between get_Range() and Range()", "body": "<p>In C# code, a property <code>X</code> produces methods named <code>get_X</code> and <code>set_X</code> under the hood. Therefore, <code>get_Range(\"A4\")</code> should instead be written as <code>Range[\"A4\"]</code>. See the code in the first example in <a href=\"https://msdn.microsoft.com/en-us/library/59dhz064.aspx\" rel=\"nofollow\">this MSDN document</a> for an example.</p>\n\n<p>I doubt you will see any performance difference, though as in most performance questions the answer is \"try it and compare times\".</p>\n"}], "owner": {"reputation": 39, "user_id": 4472701, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5041e19eb1807f9375d5d807a698ce65?s=128&d=identicon&r=PG&f=1", "display_name": "Moolynx", "link": "https://stackoverflow.com/users/4472701/moolynx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1141, "favorite_count": 0, "accepted_answer_id": 28333376, "answer_count": 1, "score": 1, "last_activity_date": 1423091526, "creation_date": 1423091221, "question_id": 28333313, "link": "https://stackoverflow.com/questions/28333313/c-excel-vsto-difference-between-get-range-and-range", "title": "C# Excel VSTO: Difference between get_Range() and Range()", "body": "<p>I am trying to understand the difference between Worksheet.Range() and Worksheet.get_Range(). Take the two lines of codes below:</p>\n\n<pre><code>Globals.ThisWorkbook.Worksheets[\"Sheet1\"].Range(\"A4\").Value2 = \"test\";\n</code></pre>\n\n<p>This will print \"test\" on cell A4 on worksheet labelled \"Sheet1\". Similarly, </p>\n\n<pre><code>Globals.ThisWorkbook.Worksheets[\"Sheet1\"].get_Range(\"A4\").Value2 = \"test\";\n</code></pre>\n\n<p>should produce the same result, instead I got: </p>\n\n<pre><code>'System.__ComObject' does not contain a definition for 'get_Range\n</code></pre>\n\n<p>Can someone explain when and how to use get_Range()? </p>\n\n<p>Is there any performance benefit? </p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 2, "creation_date": 1423091634, "post_id": 28333277, "comment_id": 45013647, "body": "Any reaons you aren&#39;t using the native Async calls?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1423092148, "post_id": 28333277, "comment_id": 45013838, "body": "Are you using the same data context on multiple threads?"}, {"owner": {"reputation": 1094, "user_id": 4518022, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d0693dd175644237b7232faebadcaaa6?s=128&d=identicon&r=PG", "display_name": "sarneeh", "link": "https://stackoverflow.com/users/4518022/sarneeh"}, "edited": false, "score": 0, "creation_date": 1423118362, "post_id": 28333277, "comment_id": 45020953, "body": "Actually... Yes, I&#39;m using the same context on multiple threads. Is this the reason why I&#39;m getting all those errors?"}], "answers": [{"comments": [{"owner": {"reputation": 1094, "user_id": 4518022, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d0693dd175644237b7232faebadcaaa6?s=128&d=identicon&r=PG", "display_name": "sarneeh", "link": "https://stackoverflow.com/users/4518022/sarneeh"}, "edited": false, "score": 0, "creation_date": 1423118854, "post_id": 28335151, "comment_id": 45021102, "body": "So what should I do? When I will create context for both threads and still process ADD/DELETE actions but on separate contexts, will it work? Lets say this is a rhetorical question - I&#39;ll check this out when I&#39;ll come back home. Thanks a lot!"}], "tags": [], "owner": {"reputation": 198, "user_id": 2506515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a01a3349c1d597f88cfe7c2465509d?s=128&d=identicon&r=PG", "display_name": "wvisaacs", "link": "https://stackoverflow.com/users/2506515/wvisaacs"}, "is_accepted": true, "score": 2, "last_activity_date": 1423103070, "last_edit_date": 1495542573, "creation_date": 1423103070, "answer_id": 28335151, "question_id": 28333277, "link": "https://stackoverflow.com/questions/28333277/calling-multiple-savechanges/28335151#28335151", "title": "Calling multiple SaveChanges()", "body": "<p>You shouldn't be sharing your context objects across multiple threads.  The error message you posted is essentially stating that the context object realizes entities have been modified.</p>\n\n<p>Try using a separate context object for each thread: <a href=\"https://stackoverflow.com/questions/4455634/entity-framework-thead-safety\">Entity Framework Thread Safety</a></p>\n"}], "owner": {"reputation": 1094, "user_id": 4518022, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d0693dd175644237b7232faebadcaaa6?s=128&d=identicon&r=PG", "display_name": "sarneeh", "link": "https://stackoverflow.com/users/4518022/sarneeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 28335151, "answer_count": 1, "score": 0, "last_activity_date": 1423103070, "creation_date": 1423091094, "last_edit_date": 1423091592, "question_id": 28333277, "link": "https://stackoverflow.com/questions/28333277/calling-multiple-savechanges", "title": "Calling multiple SaveChanges()", "body": "<p>I'm trying to work asynchronously on one database table and commit changes to it but it doesn't work as I would like it to.</p>\n\n<p>This is my first method where I'm running a task on object constructor which is non-busy waiting for some new objects in the collection and processing them one by one. <strong>(Deleting from the table)</strong></p>\n\n<pre><code>    private static BlockingCollection&lt;QueuedLog&gt; queue = new BlockingCollection&lt;QueuedLog&gt;();\n\n    private void Start()\n    {\n        Task.Run(() =&gt;\n        {\n            while (taskQueueActive)\n            {\n                using (var scope = new TransactionScope())\n                {\n                    QueuedLog log = queueLogs.Take();\n\n                    // I process it somehow here\n\n                    uow.QueuedLogRepository.Delete(log);\n\n                    if (queueLogs.Count == 0)\n                        uow.Save();\n\n                    scope.Complete();\n                }\n            }\n        });\n    }\n</code></pre>\n\n<p>And here's the second method which is providing the objects to the database. <strong>(Adding to the table)</strong></p>\n\n<pre><code>        using (var scope = new TransactionScope())\n        {\n            uow.MonitoringIdRepository.Add(logs.First(), out id);\n            uow.QueuedLogRepository.Add(logs, id);\n            uow.Save();\n\n            scope.Complete();\n        }\n</code></pre>\n\n<p>Both methods are using the same <strong>UnitOfWork</strong> object with needed repositories.</p>\n\n<p>After I run the app and while the queue task is running - when I'm sending new objects to the second method, I'm getting the error below:</p>\n\n<blockquote>\n  <p>An exception of type 'System.Data.Entity.Infrastructure.DbUpdateConcurrencyException' occurred in EntityFramework.dll but was not handled in user code. Additional information: Store update, insert, or delete statement affected an unexpected number of rows (0). Entities may have been modified or deleted since entities were loaded. Refresh ObjectStateManager entries.</p>\n</blockquote>\n\n<p>The question is: how to get rid of this exception? Or how can I do it in some other way? I've tried already the new EF 6.0 BeginTransaction method but it also didn't work for me (or maybe i used them wrong).</p>\n"}, {"tags": ["c#", "webcam"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1423091291, "post_id": 28333273, "comment_id": 45013517, "body": "Welcome to Stack Overflow.  Please take a moment and review <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>.  Your question is very vague without any code or attempts at a solution, both of which fall under the <a href=\"http://stackoverflow.com/help/dont-ask\">What types of questions should I avoid asking?</a>."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4530706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HgjENkrpuvE/AAAAAAAAAAI/AAAAAAAALQk/SuZEidHntFg/photo.jpg?sz=128", "display_name": "chmarkes", "link": "https://stackoverflow.com/users/4530706/chmarkes"}, "is_accepted": false, "score": 1, "last_activity_date": 1423161765, "creation_date": 1423161765, "answer_id": 28351621, "question_id": 28333273, "link": "https://stackoverflow.com/questions/28333273/capturing-webcam-image-without-preview-view-or-cameraui/28351621#28351621", "title": "Capturing Webcam Image without preview view or cameraUI?", "body": "<p>I figured out how to do this.  Using a new MediaCapture, and an ImageEncodingProperties item, i was able to capture the images without any preview UI.  </p>\n\n<pre><code>captureManager = new MediaCapture();\n    await captureManager.InitializeAsync();\n    ImageEncodingProperties imgFormat = ImageEncodingProperties.CreatePng();\n\n// create storage file in local app storage\n    StorageFile file = await ApplicationData.Current.LocalFolder.CreateFileAsync(\n                \"face\"+picnum+\".png\",\n                CreationCollisionOption.ReplaceExisting);\n // take photo\n    await captureManager.CapturePhotoToStorageFileAsync(imgFormat, file);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4530706, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HgjENkrpuvE/AAAAAAAAAAI/AAAAAAAALQk/SuZEidHntFg/photo.jpg?sz=128", "display_name": "chmarkes", "link": "https://stackoverflow.com/users/4530706/chmarkes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 350, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1440780838, "creation_date": 1423091076, "last_edit_date": 1423171905, "question_id": 28333273, "link": "https://stackoverflow.com/questions/28333273/capturing-webcam-image-without-preview-view-or-cameraui", "title": "Capturing Webcam Image without preview view or cameraUI?", "body": "<p>I'm developing a windows UI C# app and I'm attempting to Capture a webcam image without using the <code>CameraCaptureUI</code>, as I don't want any interruptions in my app.</p>\n\n<p>I am using signatures on a canvas, and I want to capture an image of the user's face when he begins his signature to verify identities without altering the screen.</p>\n\n<p>How might I accomplish this?</p>\n"}, {"tags": ["c#", "asp.net", "tsql", "syntax-error"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "edited": false, "score": 0, "creation_date": 1423091812, "post_id": 28333269, "comment_id": 45013702, "body": "Thank you for your help!  I removed the comma but the syntax error is still there"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1423092454, "post_id": 28333269, "comment_id": 45013933, "body": "What kind of objects are involved here for executing the SQL? I ask because SqlClient objects uses named parameters, not question marks - <a href=\"https://msdn.microsoft.com/en-us/library/yy6y35y8%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/yy6y35y8%28v=vs.110%29.aspx</a>"}], "tags": [], "owner": {"reputation": 1872, "user_id": 405555, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/68791600aba005984a3eddbd82f6c0ce?s=128&d=identicon&r=PG", "display_name": "Elliveny", "link": "https://stackoverflow.com/users/405555/elliveny"}, "is_accepted": false, "score": 2, "last_activity_date": 1423091064, "creation_date": 1423091064, "answer_id": 28333269, "question_id": 28333246, "link": "https://stackoverflow.com/questions/28333246/sqlexception-0x80131904-incorrect-syntax-near/28333269#28333269", "title": "SqlException (0x80131904): Incorrect syntax near &#39;?&#39;", "body": "<p>You have</p>\n\n<pre><code>[UnitRetailCost] = ?, WHERE [CICNumber] = ?\n</code></pre>\n\n<p>at the end of the update statement, the comma needs to be removed:</p>\n\n<pre><code>[UnitRetailCost] = ? WHERE [CICNumber] = ?\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4530689, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-baBxA8CO6pc/AAAAAAAAAAI/AAAAAAAAABg/g0EYita0CS4/photo.jpg?sz=128", "display_name": "Cory Hull", "link": "https://stackoverflow.com/users/4530689/cory-hull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1423091064, "creation_date": 1423090968, "last_edit_date": 1423091054, "question_id": 28333246, "link": "https://stackoverflow.com/questions/28333246/sqlexception-0x80131904-incorrect-syntax-near", "title": "SqlException (0x80131904): Incorrect syntax near &#39;?&#39;", "body": "<p>I am new to SQl and I'm running off of examples and I am wondering if anyone can help with a section of code that I have. I understand that there is a syntax error with one of my question marks but I can't figure out where it is or why it is happening for that matter. </p>\n\n<p>Here is my code:</p>\n\n<p>-</p>\n\n<pre><code>    &lt;br /&gt;\n    &lt;asp:Label ID=\"Label1\" runat=\"server\" Font-Bold=\"True\" Font-Overline=\"True\" \n        Font-Size=\"X-Large\" Font-Underline=\"True\" Text=\"Product Information Log\"&gt;&lt;/asp:Label&gt;\n    &lt;br /&gt;\n    &lt;br /&gt;\n\n&lt;/div&gt;\n&lt;asp:GridView ID=\"GridView1\" runat=\"server\" \n    AllowSorting=\"True\" AutoGenerateColumns=\"False\" BackColor=\"White\" \n    BorderColor=\"#999999\" BorderStyle=\"Solid\" BorderWidth=\"1px\" CellPadding=\"3\" \n    DataSourceID=\"SqlDataSource1\" \n    EmptyDataText=\"There are no data records to display.\" ForeColor=\"Black\" \n    GridLines=\"Vertical\"&gt;\n    &lt;AlternatingRowStyle BackColor=\"#808080\" /&gt;\n    &lt;Columns&gt;\n        &lt;asp:CommandField ShowSelectButton=\"True\" /&gt;\n        &lt;asp:BoundField DataField=\"CICNumber\" HeaderText=\"CICNumber\" \n            SortExpression=\"CICNumber\" /&gt;\n        &lt;asp:BoundField DataField=\"ItemName\" HeaderText=\"ItemName\" \n            SortExpression=\"ItemName\" /&gt;\n        &lt;asp:BoundField DataField=\"ItemNumber\" HeaderText=\"ItemNumber\" \n            SortExpression=\"ItemNumber\" /&gt;\n        &lt;asp:BoundField DataField=\"PLUNumber\" HeaderText=\"PLUNumber\" \n            SortExpression=\"PLUNumber\" /&gt;\n        &lt;asp:BoundField DataField=\"PackSize\" HeaderText=\"PackSize\" \n            SortExpression=\"PackSize\" /&gt;\n        &lt;asp:BoundField DataField=\"CaseCost\" HeaderText=\"CaseCost\" \n            SortExpression=\"CaseCost\" /&gt;\n        &lt;asp:BoundField DataField=\"UnitRetailCost\" HeaderText=\"UnitRetailCost\" \n            SortExpression=\"UnitRetailCost\" /&gt;\n            &lt;asp:CommandField ShowDeleteButton=\"true\" /&gt;\n            &lt;asp:CommandField ShowEditButton=\"true\" /&gt;\n\n    &lt;/Columns&gt;\n    &lt;FooterStyle BackColor=\"#CCCCCC\" /&gt;\n    &lt;HeaderStyle BackColor=\"Black\" Font-Bold=\"True\" ForeColor=\"Green\" /&gt;\n    &lt;PagerStyle BackColor=\"#999999\" ForeColor=\"Black\" HorizontalAlign=\"Center\" /&gt;\n    &lt;SelectedRowStyle BackColor=\"#000099\" Font-Bold=\"True\" ForeColor=\"White\" /&gt;\n    &lt;SortedAscendingCellStyle BackColor=\"#F1F1F1\" /&gt;\n    &lt;SortedAscendingHeaderStyle BackColor=\"#808080\" /&gt;\n    &lt;SortedDescendingCellStyle BackColor=\"#CAC9C9\" /&gt;\n    &lt;SortedDescendingHeaderStyle BackColor=\"#383838\" /&gt;\n&lt;/asp:GridView&gt;\n\n&lt;asp:SqlDataSource ID=\"SqlDataSource1\" runat=\"server\" \n\n    ConnectionString=\"&lt;%$ ConnectionStrings:ProductInfoConnectionString1 %&gt;\" \n    DeleteCommand=\"DELETE FROM [tblProductInfo] WHERE [UserID] = ?\" \n    InsertCommand=\"INSERT INTO [tblProductInfo] ([CICNumber], [ItemName], [ItemNumber], [PLUNumber], [PackSize], [CaseCost], [UnitRetailCost]) VALUES (?, ?, ?, ?, ?, ?, ?)\"\n    ProviderName=\"&lt;%$ ConnectionStrings:ProductInfoConnectionString1.ProviderName %&gt;\" \n    SelectCommand=\"SELECT [CICNumber], [ItemName], [ItemNumber], [PLUNumber], [PackSize], [CaseCost], [UnitRetailCost] FROM [tblProductInfo]\"\n    UpdateCommand=\"UPDATE [tblProductInfo] SET [ItemName] = ?, [ItemNumber] = ?, [PLUNumber] = ?, [PackSize] = ?, [CaseCost] = ?, [UnitRetailCost] = ?, WHERE [CICNumber] = ?\"&gt;\n\n\n    &lt;DeleteParameters&gt;\n                &lt;asp:Parameter Name=\"CICNumber\" Type=\"Int32\" /&gt;\n            &lt;/DeleteParameters&gt;\n            &lt;UpdateParameters&gt;\n                &lt;asp:Parameter Name=\"ItemName\" Type=\"String\" /&gt;\n                &lt;asp:Parameter Name=\"ItemNumber\" Type=\"Int32\" /&gt;\n                &lt;asp:Parameter Name=\"PLUNumber\" Type=\"Int32\" /&gt;\n                &lt;asp:Parameter Name=\"PackSize\" Type=\"String\" /&gt;\n                &lt;asp:Parameter Name=\"CaseCost\" Type=\"Int32\" /&gt;\n                &lt;asp:Parameter Name=\"UnitRetailCost\" Type=\"Int32\" /&gt;\n            &lt;/UpdateParameters&gt;\n            &lt;InsertParameters&gt;\n                &lt;asp:Parameter Name=\"CICNumber\" Type=\"Int32\" /&gt;\n                &lt;asp:Parameter Name=\"ItemName\" Type=\"String\" /&gt;\n                &lt;asp:Parameter Name=\"ItemNumber\" Type=\"Int32\" /&gt;\n                &lt;asp:Parameter Name=\"PLUNumber\" Type=\"Int32\" /&gt;\n                &lt;asp:Parameter Name=\"PackSize\" Type=\"String\" /&gt;\n                &lt;asp:Parameter Name=\"CaseCost\" Type=\"Int32\" /&gt;\n                &lt;asp:Parameter Name=\"UnitRetailCost\" Type=\"Int32\" /&gt;\n            &lt;/InsertParameters&gt;\n\n&lt;/asp:SqlDataSource&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", ".net", "dependency-injection"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 2, "creation_date": 1423090893, "post_id": 28333221, "comment_id": 45013362, "body": "I&#39;m going to make an educated decision that you <b>don&#39;t</b> want a C++ solution."}, {"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1423091105, "post_id": 28333221, "comment_id": 45013452, "body": "Why is this hacky apart from you breaking convention and calling the abstract class IDependency? then again being that the methods you defined are all public, this line <code>consumer.Consume(dependency);</code> breaks your requirement: but the dependency&#39;s methods to be internal."}, {"owner": {"reputation": 125, "user_id": 3716418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eebafab701d119e2894ff68f46dd945?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Q", "link": "https://stackoverflow.com/users/3716418/alex-q"}, "edited": false, "score": 0, "creation_date": 1423092169, "post_id": 28333221, "comment_id": 45013849, "body": "Calling <code>consumer.Consume(dependency)</code> was just an example. I know that it directly exposes internal functionality. Would a more concrete example of my exact problem help?"}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 3716418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eebafab701d119e2894ff68f46dd945?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Q", "link": "https://stackoverflow.com/users/3716418/alex-q"}, "edited": false, "score": 1, "creation_date": 1423092053, "post_id": 28333322, "comment_id": 45013803, "body": "All implementations of the dependency would be in the same assembly as the &quot;interface&quot; definition (or a friend assembly, but ignore that for simplicity). The only thing that the consuming assembly should do is pass the dependency in. The consumer shouldn&#39;t every actually call the dependency&#39;s methods. Maybe I need a more concrete example?"}, {"owner": {"reputation": 166977, "user_id": 91, "user_type": "moderator", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/411cf599ae9fe1ef80d40644c83c0f78?s=128&d=identicon&r=PG", "display_name": "Michael Stum", "link": "https://stackoverflow.com/users/91/michael-stum"}, "reply_to_user": {"reputation": 125, "user_id": 3716418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eebafab701d119e2894ff68f46dd945?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Q", "link": "https://stackoverflow.com/users/3716418/alex-q"}, "edited": false, "score": 0, "creation_date": 1423092170, "post_id": 28333322, "comment_id": 45013850, "body": "@AlexQuartulli I see. In that case, the above could work as the concrete classes do implement the internal interface, and your consumer code also can access the internal interface. It&#39;s a bit magic, but it doesn&#39;t feel too bad."}, {"owner": {"reputation": 125, "user_id": 3716418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eebafab701d119e2894ff68f46dd945?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Q", "link": "https://stackoverflow.com/users/3716418/alex-q"}, "edited": false, "score": 1, "creation_date": 1423092600, "post_id": 28333322, "comment_id": 45013988, "body": "I agree that it&#39;d work, but you run into the obvious problem  of having to handle the exception. You&#39;re also requiring that the consumer (consumer of the Consume class) know to only inject the more defined interface."}], "tags": [], "owner": {"reputation": 166977, "user_id": 91, "user_type": "moderator", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/411cf599ae9fe1ef80d40644c83c0f78?s=128&d=identicon&r=PG", "display_name": "Michael Stum", "link": "https://stackoverflow.com/users/91/michael-stum"}, "is_accepted": false, "score": 1, "last_activity_date": 1423091701, "last_edit_date": 1423091701, "creation_date": 1423091266, "answer_id": 28333322, "question_id": 28333221, "link": "https://stackoverflow.com/questions/28333221/inject-dependency-with-internal-methods/28333322#28333322", "title": "Inject Dependency With Internal Methods", "body": "<p>I'm not sure I 100% understand what you want - is the implementation of the interface provided by the consumer? Or does the Platform assembly include all implementations of the IDependency? In the latter case, maybe an internal interface can help.</p>\n\n<p>A public class can implement an internal interface. So you could put all your internal methods in an internal interface and all public methods in a public one and only expose the public. That way in your platform assembly you can use <code>IInternalDependency</code> but publicly only expose <code>IDependency</code>.</p>\n\n<pre><code>public interface IDependency\n{\n     void DoSomethingPublic();\n}\n\ninternal interface IInternalDependency : IDependency\n{\n    void DoSomethingInternal();\n}\n\npublic class YourClass: IInternalDependency\n{\n   public void DoSomethingPublic() \n   {\n   }\n\n   // Note the Explicit interface member implementation\n   void IInternalDependency.DoSomethingInternal()\n   {\n   }\n}\n</code></pre>\n\n<p>In your Consumer code, you'd have to try to cast it:</p>\n\n<pre><code> public void Consume(IDependency dependency)\n {    \n      var intDependency = dependency as IInternalDependency;\n      if(intDependency == null)\n      {\n         throw new InvalidOperationException();\n      }\n      intDependency.DoSomethingInternal();\n }\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 3716418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eebafab701d119e2894ff68f46dd945?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Q", "link": "https://stackoverflow.com/users/3716418/alex-q"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423100058, "creation_date": 1423090829, "last_edit_date": 1423100058, "question_id": 28333221, "link": "https://stackoverflow.com/questions/28333221/inject-dependency-with-internal-methods", "title": "Inject Dependency With Internal Methods", "body": "<p>I want to define an injectable dependency in a \"platform\" assembly. I want consuming assemblies to inject the dependency, but I don't want them to be able to use it directly. In other words, I want the dependency itself to be public, but the dependency's methods to be internal. Obviously you can't define define a public interface with internal methods.</p>\n\n<p>I have come up with a solution, but I'd like to know if there's a cleaner approach. Basically, rather than define an interface I take a C++ inspired approach and define a pure abstract class. The whole thing would look something like this:</p>\n\n<p>In \"platform\" assembly.</p>\n\n<pre><code>public abstract class IDependency\n{\n     public abstract void DoSomethingPublic();\n     internal abstract void DoSomethingInternal();\n}\n\npublic class DependencyImplementation : IDependency\n{\n     public override void DoSomethingPublic()\n     {\n          ...\n     }\n\n     public override void DoSomethingInternal()\n     {\n          ...\n     }\n}\n\npublic class Consumer\n{\n     public void Consume(IDependency dependency)\n     {\n          ...\n\n          dependency.DoSomethingInternal();\n\n          ...\n     }\n}\n</code></pre>\n\n<p>In consuming assembly:</p>\n\n<pre><code>var consumer = new Consumer();\nvar dependency = new DependencyImplementation();\nconsumer.Consume(dependency);\n</code></pre>\n\n<p>This does everything I want, but it just seems like a hacky solution. Is there another solution to this problem, or is this an acceptable solution?</p>\n\n<hr/>\n\n<p><strong>Edit</strong>: Here's a more concrete example with my actual problem. I have a platform assembly and a website assembly. In my platform assembly I have the following extension method:</p>\n\n<pre><code>public static bool HasSettingEnabled(this IUser user, ISettingFactory factory)\n{\n     var settingEntity = factory.GetOrCreateByUserId(user.Id);\n     return settingEntity.IsEnabled || user.ShouldForciblyEnableSetting;\n}\n</code></pre>\n\n<p>In my website assembly I could check if the setting is enabled by either calling <code>user.HasSettingEnabled()</code> or getting the setting from the factory directly. However, I want to <em>restrict</em> the website assembly from checking the setting through the factory directly because the logic around forcibly enabling the setting would be missed. So I want my ISettingFactory to be injectable from the website, but I don't want to be able to call ISettingFactory.GetOrCreateByUserId() outside of the platform. Using the pattern I have above you get the following:</p>\n\n<p>Platform assembly:</p>\n\n<pre><code>public abstract class ISettingFactory\n{\n     internal abstract Setting GetOrCreateByUserId(int userId);\n}\n\npublic class SettingFactory : ISettingFactory\n{\n     internal override Setting GetOrCreateByUserId(int userId)\n     {\n          // Get setting entity from DB\n          ...\n          return setting;\n     }\n}\n\npublic static class IUserExtension\n{\n    public static bool HasSettingEnabled(this IUser user, ISettingFactory factory)\n    {\n         var settingEntity = factory.GetOrCreateByUserId(user.Id);\n         return settingEntity.IsEnabled || user.ShouldForciblyEnableSetting;\n    }\n}\n</code></pre>\n\n<p>And in the website assembly:</p>\n\n<pre><code>var settingFactory = new SettingFactory();\nif (user.HasSettingEnabled(settingFactory))\n{\n     // Do something.\n     ...\n}\n</code></pre>\n\n<p>So you can see that the website only ever injects the factory and never can the get or create method directly. This guarantees that there is only one code path the get the setting for the user.</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "edited": false, "score": 0, "creation_date": 1423091088, "post_id": 28333199, "comment_id": 45013443, "body": "you can create a usercontrol and reuse in both the places."}, {"owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "edited": false, "score": 0, "creation_date": 1423091108, "post_id": 28333199, "comment_id": 45013453, "body": "file name should be a property of the textbox not a private member. you should create a property and bind it into the text box"}, {"owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "edited": false, "score": 1, "creation_date": 1423091169, "post_id": 28333199, "comment_id": 45013476, "body": "Also please look into MVVM before you use WPF, don&#39;t use code behind."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4530678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfa158ac9ef3a6d660dbf4f190c13cd3?s=128&d=identicon&r=PG&f=1", "display_name": "HalfShark360", "link": "https://stackoverflow.com/users/4530678/halfshark360"}, "edited": false, "score": 0, "creation_date": 1423144032, "post_id": 28333279, "comment_id": 45035326, "body": "That works but is there no way to pass the TextBox by reference so that the handler doesn&#39;t need to know how many different TextBoxs might be sent."}, {"owner": {"reputation": 513, "user_id": 3260044, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001349446661/picture?type=large", "display_name": "fallaciousreasoning", "link": "https://stackoverflow.com/users/3260044/fallaciousreasoning"}, "reply_to_user": {"reputation": 43, "user_id": 4530678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfa158ac9ef3a6d660dbf4f190c13cd3?s=128&d=identicon&r=PG&f=1", "display_name": "HalfShark360", "link": "https://stackoverflow.com/users/4530678/halfshark360"}, "edited": false, "score": 1, "creation_date": 1423170443, "post_id": 28333279, "comment_id": 45051731, "body": "You could use binding to bind the tag to the textbox you want to change"}], "tags": [], "owner": {"reputation": 513, "user_id": 3260044, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001349446661/picture?type=large", "display_name": "fallaciousreasoning", "link": "https://stackoverflow.com/users/3260044/fallaciousreasoning"}, "is_accepted": true, "score": 2, "last_activity_date": 1423091098, "creation_date": 1423091098, "answer_id": 28333279, "question_id": 28333199, "link": "https://stackoverflow.com/questions/28333199/passing-a-textbox-name-parameter-from-mainwindow-xaml-to-button-click-function/28333279#28333279", "title": "Passing a TextBox name parameter from MainWindow.xaml to button_click Function", "body": "<p>In WPF you can set the tag property of a button.</p>\n\n<p>Once you have that you can get the tag property in the click handler using</p>\n\n<p>In the XAML add <code>Tag=\"input\"</code> as one of the properties on the inputTextBox and <code>Tag=\"output\"</code> to the outputTextBox (for example: <code>&lt;TextBox x:Name=\"inputTextBox\" Tag=\"input\"/&gt;</code>)</p>\n\n<pre><code>var tag = (sender as Button).Tag;\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>if (tag == 'input')\n    inputTextBox.Text = filename;\nelse outputTextBox.Text = filename;\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4530678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfa158ac9ef3a6d660dbf4f190c13cd3?s=128&d=identicon&r=PG&f=1", "display_name": "HalfShark360", "link": "https://stackoverflow.com/users/4530678/halfshark360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 28333279, "answer_count": 1, "score": 4, "last_activity_date": 1423091098, "creation_date": 1423090751, "question_id": 28333199, "link": "https://stackoverflow.com/questions/28333199/passing-a-textbox-name-parameter-from-mainwindow-xaml-to-button-click-function", "title": "Passing a TextBox name parameter from MainWindow.xaml to button_click Function", "body": "<p>I am making a form that uses Microsoft.Win32.OpenFileDialog dlg = new Microsoft.Win32.OpenFileDialog(); to provide a file selecting menu.</p>\n\n<p>I want to use the same function to update a Textbox for the input file and a Textbox for the Output file.</p>\n\n<pre><code>    &lt;StackPanel Orientation=\"Horizontal\" HorizontalAlignment=\"Left\" Width=\"515\" Height=\"96\" VerticalAlignment=\"Top\"&gt;\n        &lt;TextBlock Text=\"Input File:\"  VerticalAlignment=\"Center\"  /&gt;\n        &lt;TextBox x:Name=\"InputFileBox\" Width =\"213\" VerticalAlignment=\"Center\" TextChanged=\"InputFileBox_TextChanged\" Height=\"17\" Margin=\"0,39,0,40\"  /&gt;\n        &lt;Button Content=\"Browse\" Width=\"47\" Margin=\"0,39,0,40\" RenderTransformOrigin=\"1.599,0.714\" Click=\"Browse_Click\"/&gt;\n    &lt;/StackPanel&gt;\n\n\n    &lt;StackPanel Orientation=\"Horizontal\" HorizontalAlignment=\"Left\" Width=\"515\" Height=\"96\" VerticalAlignment=\"Top\"&gt;\n        &lt;TextBlock Text=\"Output File:\"  VerticalAlignment=\"Center\"  /&gt;\n        &lt;TextBox x:Name=\"OutputFileBox\" Width =\"213\" VerticalAlignment=\"Center\" TextChanged=\"OutputFileBox_TextChanged\" Height=\"17\" Margin=\"0,39,0,40\"  /&gt;\n        &lt;Button Content=\"Browse2\" Width=\"47\" Margin=\"0,39,0,40\" RenderTransformOrigin=\"1.599,0.714\" Click=\"Browse_Click\"/&gt;\n    &lt;/StackPanel&gt;\n</code></pre>\n\n<p>So I want to be able to send the \"InputFileBox\" or \"OutputFileBox\" with the \"BrowseClick\" so that I don't have to have a BrowseInputClick and a BrowseOutputClick function.</p>\n\n<p>in the Browse_Click function I want to be able to do something like:</p>\n\n<pre><code> private void Browse_Click(object sender, RoutedEventArgs e)\n    {\n        // Create OpenFileDialog \n        Microsoft.Win32.OpenFileDialog dlg = new Microsoft.Win32.OpenFileDialog();\n\n\n        // Display OpenFileDialog by calling ShowDialog method \n        Nullable&lt;bool&gt; result = dlg.ShowDialog();\n\n\n        // Get the selected file name and display in a TextBox \n        if (result == true)\n        {\n            // Open document \n            string filename = dlg.FileName;\n\n            // I don't know what to put here: input/outputTextBoxName = filename\n        }\n</code></pre>\n\n<p>thanks</p>\n"}, {"tags": ["c#", "visual-studio", "templates", "visual-studio-2013"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1423090640, "post_id": 28333148, "comment_id": 45013240, "body": "Do you mean a sample? Samples are actually special VSIX extensions, whose files will be found at <code>%LOCALAPPDATA%\\Microsoft\\VisualStudio\\12.0\\Extensions</code>. They&#39;re tricky to mess with manually, though -- there&#39;s several layers of caches. (You&#39;ll need to remove the cache file and probably run <code>devenv &#47;installvstemplates</code> too, and even that may not be enough.)"}, {"owner": {"reputation": 2472, "user_id": 897224, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7579a4edfb2bcd278b866039d3726bdb?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/897224/brian"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1423094028, "post_id": 28333148, "comment_id": 45014416, "body": "@Cameron - I found the sample exactly where you said it would be.  I was able to edit the .zip file there to modify the category where the template is listed in the New Item dialog.  Thanks."}, {"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1423129180, "post_id": 28333148, "comment_id": 45026105, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/28018675/add-an-item-in-the-availabe-templates-in-visual-studio-2013\">Add an Item in the availabe templates in Visual Studio 2013</a>"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1423138818, "post_id": 28333148, "comment_id": 45031960, "body": "@AdrianHHH: That question&#39;s about templates, whereas this one is about samples (despite the similarity in resulting effects, they&#39;re quite different internally)."}, {"owner": {"reputation": 2472, "user_id": 897224, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7579a4edfb2bcd278b866039d3726bdb?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/897224/brian"}, "reply_to_user": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1423181463, "post_id": 28333148, "comment_id": 45056254, "body": "@AdrianHHH - that question has nothing to do with what I am asking here.  That answer is specific to private templates.  However, the template I am dealing with is a sample downloaded from the Visual Studio Online Gallery and is stored in a different place."}, {"owner": {"reputation": 12629, "user_id": 546871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/p1diY.jpg?s=128&g=1", "display_name": "AdrianHHH", "link": "https://stackoverflow.com/users/546871/adrianhhh"}, "edited": false, "score": 0, "creation_date": 1423213934, "post_id": 28333148, "comment_id": 45066418, "body": "OK Brian. The question does not use the word &quot;sample&quot; but it does use the word &quot;template&quot; several times and it asks &quot;Where are templates saved ...&quot;. Perhaps you could clarify the question to make it clear what you are asking."}], "owner": {"reputation": 2472, "user_id": 897224, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7579a4edfb2bcd278b866039d3726bdb?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/897224/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423238930, "creation_date": 1423090493, "last_edit_date": 1423238930, "question_id": 28333148, "link": "https://stackoverflow.com/questions/28333148/where-do-downloaded-visual-studio-item-templates-samples-from-the-visual-studi", "title": "Where do downloaded Visual Studio Item Templates (samples) from the Visual Studio Online Gallery get saved", "body": "<p>I recently downloaded and installed an item template by searching online in the New Item dialog in Visual Studio 2013.  The template is not listed in a specific category when using the New Item dialog now.  I would like to move it into the \"Code\" category.  I have found all the installed templates in my <code>C:\\Program Files (x86)\\Microsoft Visual Studio 12.0\\Common7\\IDE\\ItemTemplates</code> directory, but the one I downloaded doesn't seem to be in there.  It is also not in my <code>C:\\Users\\&lt;MyUsername&gt;\\Documents\\Visual Studio 2013\\Templates\\ItemTemplates</code> directory.</p>\n\n<p>Where are templates saved when you download them from the online gallery?</p>\n"}, {"tags": ["c#", "linq", "entity-framework"], "comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1423090989, "post_id": 28333089, "comment_id": 45013407, "body": "This code can&#39;t compile: <code>public &lt;List&lt;UserDetails&gt;&gt; Details</code>. Please fix that first."}, {"owner": {"reputation": 373, "user_id": 3930984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56a89fc1f78fade72ec7e271e226e7ee?s=128&d=identicon&r=PG", "display_name": "Xaver", "link": "https://stackoverflow.com/users/3930984/xaver"}, "edited": false, "score": 0, "creation_date": 1423091222, "post_id": 28333089, "comment_id": 45013491, "body": "Have you tried it without generic param or completly without the ToList()? ... Details= c.ToList() } or ... Details= c}"}, {"owner": {"reputation": 1203, "user_id": 4530677, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3330d35991d9380f7e83d58d8fe249fa?s=128&d=identicon&r=PG&f=1", "display_name": "Maik", "link": "https://stackoverflow.com/users/4530677/maik"}, "edited": false, "score": 0, "creation_date": 1423151263, "post_id": 28333089, "comment_id": 45040469, "body": "Gert: That is my issue and the reason I asked here for help ;-) Xaver: Not working. Error: Cannot implicitly convert type &#39;System.Collections.Generic.List"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1423210515, "post_id": 28333089, "comment_id": 45064842, "body": "How can you get runtime errors with code that doesn&#39;t compile??? If you can run this code it should be different that what you show here."}], "answers": [{"tags": [], "owner": {"reputation": 1203, "user_id": 4530677, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3330d35991d9380f7e83d58d8fe249fa?s=128&d=identicon&r=PG&f=1", "display_name": "Maik", "link": "https://stackoverflow.com/users/4530677/maik"}, "is_accepted": false, "score": 0, "last_activity_date": 1423170208, "creation_date": 1423170208, "answer_id": 28353964, "question_id": 28333089, "link": "https://stackoverflow.com/questions/28333089/linq-to-entities-special-database-query-not-working/28353964#28353964", "title": "LINQ to Entities Special Database Query not working", "body": "<p>The following example is working. To get it working you can use object. See below the example:</p>\n\n<pre><code>public class UserData\n{\n   public int Index{ get; set; }\n   public string Name{ get; set; }\n   public string PersonalNo { get; set; }\n   public List&lt;object&gt; Details { get; set; }\n}\n\npublic class UserDetails\n{\n   public int Age;\n   public string profession;\n   public string gender;\n}\n\npublic IEnumerable&lt;Userdata&gt; GetUserData()\n{\n   var context = new DatabaseEntities();\n\n   var Results =\n       from a in context.UserData\n       join b in context.UserDetails on a.Index equals b.Index into c\n       select new UserData{ Index = a.Index, Name = a.Name, PersonalNo = a.PersonalNo, \n                            Details= c.ToList&lt;object&gt;() };\n\n   return Results;          \n}\n</code></pre>\n\n<p>The Type in the Watch windows is names as \"object {MyTestApp.UserDetails}\"\nSo basically it is working as I did it. But I need to cast it appropriate. Possibly now it is easier to help me.\nAny suggestions?</p>\n"}], "owner": {"reputation": 1203, "user_id": 4530677, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3330d35991d9380f7e83d58d8fe249fa?s=128&d=identicon&r=PG&f=1", "display_name": "Maik", "link": "https://stackoverflow.com/users/4530677/maik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1423211210, "creation_date": 1423090231, "last_edit_date": 1423211210, "question_id": 28333089, "link": "https://stackoverflow.com/questions/28333089/linq-to-entities-special-database-query-not-working", "title": "LINQ to Entities Special Database Query not working", "body": "<p>I have a database with two tables (UserData) and (UserDetails). I use the LINQtoEntities.\nThe issue here is that in the LINQ query is not accepted:</p>\n\n<pre><code>Details = c.ToList&lt;UserDetails&gt;()\n</code></pre>\n\n<p>Error is: </p>\n\n<blockquote>\n  <p>Instance argument: cannot convert from 'System.Collections.Generic.IEnumerable&lt;mynamespace.UserDetails>' to 'System.Collections.Generic.IEnumerable&lt;System.Collections.IEnumerable>'</p>\n</blockquote>\n\n<pre><code>public class UserData\n{\n\n    public int Index{ get; set; }\n    public string Name{ get; set; }\n    public string PersonalNo { get; set; }\n    public &lt;List&lt;UserDetails&gt;&gt; Details { get; set; }\n}\n\npublic struct UserDetails\n{\n    public int Age;\n    public string profession;\n    public string gender;\n}\n\npublic IEnumerable&lt;Userdata&gt; GetUserData()\n{\n    var context = new DatabaseEntities();\n\n    var Results =\n        from a in context.UserData\n        join b in context.UserDetails on a.Index equals b.Index into c\n        select new UserData{ Index = a.Index, Name = a.Name, PersonalNo = a.PersonalNo, \n                             Details= c.ToList&lt;UserDetails&gt;() };\n\n    return Results;          \n}\n</code></pre>\n\n<p>Is there anybody who can help me out. In case more infos needed, please ask.\nThanks.</p>\n"}, {"tags": ["c#", ".net", "telerik", "ispostback", "radtextbox"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423093146, "post_id": 28333562, "comment_id": 45014151, "body": "I am not pressing the wrong button. I have two click events. I am following along with breakpoints and watching it hit their respected button click events."}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "reply_to_user": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423093795, "post_id": 28333562, "comment_id": 45014348, "body": "I have no clue what <b>Zones</b> class is. You need to debug through <b>Zones</b> class."}, {"owner": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423251833, "post_id": 28333562, "comment_id": 45087484, "body": "why would I have to debug Zones? The textbox is not updating. I removed all the Hungarian notation and named the buttons properly and still no updating"}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "reply_to_user": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423252206, "post_id": 28333562, "comment_id": 45087682, "body": "<code>The textbox is not updating</code> What do you mean by not updating? Do you mean <b>txtZoneCode.Text</b> and <b>txtZoneName.Text</b> are blank inside <b>btnSave_Click</b> event when you debug through line-by-line?"}, {"owner": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423252371, "post_id": 28333562, "comment_id": 45087761, "body": "No they are with the original set values from the page load. Not anything I type in"}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "reply_to_user": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423253296, "post_id": 28333562, "comment_id": 45088231, "body": "Could you set a break point inside <b>Page_Load</b> event, and check code inside <b>if(!Page.IsPostBack)</b> run again after postback?"}, {"owner": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423254924, "post_id": 28333562, "comment_id": 45089014, "body": "Works fine. The code is true when Page.IsPostBack is hit after save button is clicked"}, {"owner": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 0, "creation_date": 1423255162, "post_id": 28333562, "comment_id": 45089137, "body": "I changed OnClientClicked to on OnClientClicking and wrote a confirm that way and it worked. There was a break in the javascript for OnClientClicked. Thank you for your help though"}, {"owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "reply_to_user": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "edited": false, "score": 1, "creation_date": 1423256408, "post_id": 28333562, "comment_id": 45089779, "body": "Not a problem. I&#39;m glad that you figure out."}], "tags": [], "owner": {"reputation": 55708, "user_id": 296861, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/957c8334a5950ba301f66662b36da7d1?s=128&d=identicon&r=PG&f=1", "display_name": "Win", "link": "https://stackoverflow.com/users/296861/win"}, "is_accepted": false, "score": 0, "last_activity_date": 1423092533, "creation_date": 1423092533, "answer_id": 28333562, "question_id": 28333044, "link": "https://stackoverflow.com/questions/28333044/radtextbox-not-updating/28333562#28333562", "title": "RadTextBox not updating", "body": "<p>You have four buttons - two buttons have same name Save. </p>\n\n<p>Look like you are pressing the wrong. It makes me confuse too. </p>\n\n<pre><code>protected void btnSave_Click(object sender, EventArgs e)\n{\n   // Not this event\n}\n\nprotected void btnCreate_Click(object sender, EventArgs e)\n{\n   // You need to use this event.\n}\n</code></pre>\n\n<h1>For better design practice</h1>\n\n<ol>\n<li>Use CSS instead of inline styles.</li>\n<li>You need to name buttons properly. For example, <em>SaveRadButton, CreateRadButton</em> </li>\n</ol>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/ms229045.aspx\" rel=\"nofollow\">DO NOT use Hungarian notation</a> such as btnXXX especially when you use third party controls like telerik.</p>\n"}, {"tags": [], "owner": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "is_accepted": false, "score": 1, "last_activity_date": 1423255196, "creation_date": 1423255196, "answer_id": 28374421, "question_id": 28333044, "link": "https://stackoverflow.com/questions/28333044/radtextbox-not-updating/28374421#28374421", "title": "RadTextBox not updating", "body": "<p>I changed OnClientClicked to OnClientClicking because there was a javascript error causing the page to break and not pull the correct data</p>\n"}], "owner": {"reputation": 67, "user_id": 1222209, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a99148547eeb68ac25fda66bc61c0fa3?s=128&d=identicon&r=PG", "display_name": "Robert Zeno", "link": "https://stackoverflow.com/users/1222209/robert-zeno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1423255196, "creation_date": 1423090012, "question_id": 28333044, "link": "https://stackoverflow.com/questions/28333044/radtextbox-not-updating", "title": "RadTextBox not updating", "body": "<p>Hi I am trying to update some database values with a simple form with Telerik RadTextBoxes. I can set the text value no problem but when it comes to saving on button click the values do not get updated. My code to set the textbox is in the Page Load function however I am checking if(!IsPostBack)</p>\n\n<p>Here is my html:</p>\n\n<pre><code>&lt;div style=\"width:95%;\"&gt;\n&lt;div style=\" width:100%;float:left; background-color:#fff; border:1px solid #d1d2d3; margin-top:25px; padding:15px; -webkit-box-shadow: inset 1px 0px 5px 0px rgba(50, 50, 50, 0.10); -moz-box-shadow:    inset 1px 0px 5px 0px rgba(50, 50, 50, 0.10); box-shadow: inset 1px 0px 5px 0px rgba(50, 50, 50, 0.10);\"&gt;\n    &lt;h2 style=\"float:left; width:50%;\"&gt;&lt;asp:Literal ID=\"litTitle\" runat=\"server\" Text=\"Add A New Zone\" /&gt;&lt;/h2&gt;\n    &lt;telerik:RadAjaxPanel ID=\"RadAjaxPanel1\" runat=\"server\" Width=\"100%\"&gt;\n        &lt;telerik:RadNotification runat=\"server\" id=\"notifyError\" Position=\"Center\" Width=\"330\" Height=\"130\" EnableRoundedCorners=\"true\" EnableShadow=\"true\" Style=\"z-index: 35000\"&gt;&lt;/telerik:RadNotification&gt;\n\n        &lt;div style=\"float:right;margin-right:10px;margin-left:5px;\"&gt;&lt;telerik:RadButton ID=\"btnSave\" runat=\"server\" Text=\"Save\" OnClick=\"btnSave_Click\" /&gt;&lt;/div&gt;&lt;div style=\"float:right;margin-right:5px;\"&gt;&lt;telerik:RadButton ID=\"btnCancel\" runat=\"server\" Text=\"Cancel\" OnClick=\"btnCancel_Click\" /&gt;&lt;/div&gt;&lt;div style=\"float:right;margin-right:5px;\"&gt;&lt;telerik:RadButton ID=\"btnDelete\" runat=\"server\" Text=\"Delete\" OnClick=\"btnDelete_Click\" OnClientClicked=\"confirm('Are you sure you wish to delete this zone?');\" /&gt;&lt;/div&gt;\n        &lt;div class=\"clear\" style=\"clear:both;height:25px;\"&gt;&lt;/div&gt;\n        &lt;div style=\"width:100%;\"&gt;\n            &lt;div style=\"float:left;\"&gt;\n                &lt;div style=\"float:left; margin-left:10px; margin-right:5px; width:200px;\"&gt;Zone Code:&lt;/div&gt;\n                &lt;div style=\"float:left; margin-left:5px; margin-right:10px;\"&gt;&lt;telerik:RadTextBox ID=\"txtZoneName\" runat=\"server\" CausesValidation=\"false\" Width=\"200\"&gt;&lt;/telerik:RadTextBox&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clear\" style=\"height:35px;clear:both;\"&gt;&lt;/div&gt;\n            &lt;div style=\"float:left;\"&gt;\n                &lt;div style=\"float:left; margin-left:10px; margin-right:5px; width:200px;\"&gt;Name:&lt;/div&gt;\n                &lt;div style=\"float:left; margin-left:5px; margin-right:10px;\"&gt;&lt;telerik:RadTextBox ID=\"txtZoneCode\" runat=\"server\" CausesValidation=\"false\" Width=\"200\"&gt;&lt;/telerik:RadTextBox&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clear\" style=\"height:35px;clear:both;\"&gt;&lt;/div&gt;\n            &lt;div&gt;\n                &lt;div style=\"float:left; margin-left:10px; margin-right:5px; width:200px;\"&gt;Monthly Book Page Goal:&lt;/div&gt;\n                &lt;div style=\"float:left; margin-left:5px; margin-right:10px;\"&gt;&lt;telerik:RadTextBox ID=\"txtZoneBookGoal\" runat=\"server\" CausesValidation=\"false\" Width=\"200\"&gt;&lt;/telerik:RadTextBox&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clear\" style=\"height:45px;clear:both;\"&gt;&lt;/div&gt;\n            &lt;div style=\"width:250px; margin:0 auto;\"&gt;\n                &lt;div style=\"float:left;\"&gt;&lt;telerik:RadButton ID=\"btnCreate\" runat=\"server\" Text=\"Save\" OnClick=\"btnCreate_Click\" /&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/telerik:RadAjaxPanel&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my c#:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n    {\n        if(!Page.IsPostBack)\n        {\n            if(Request.Params[\"z\"] != null)\n            {\n                Zones z = Zones.GetByID(Utils.GetLong(Request.Params[\"z\"]));\n\n                this.txtZoneCode.Text = z.Code;\n                this.txtZoneName.Text = z.Name;\n                this.txtZoneBookGoal.Text = Utils.GetString(z.BookGoal);\n                this.litTitle.Text = \"Edit Zone\";\n            }\n        }\n    }\n\nprotected void btnSave_Click(object sender, EventArgs e)\n    {\n        bool valid = true;\n        string error = \"\";\n\n        if (this.txtZoneCode.Text == \"\")\n        {\n            valid = false;\n            error += \"- Code&lt;br/&gt;\";\n        }\n\n        if (this.txtZoneName.Text == \"\")\n        {\n            valid = false;\n            error += \"- Name&lt;br/&gt;\";\n        }\n\n        if (valid)\n        {\n            if (Request.Params[\"z\"] != null)\n            {\n                Zones z = Zones.GetByID(Utils.GetLong(Request.Params[\"z\"]));\n\n                z.Code = this.txtZoneCode.Text;\n                z.Name = this.txtZoneName.Text;\n                z.BookGoal = Utils.GetInt(this.txtZoneBookGoal.Text);\n\n                z.Save();\n\n                if (z.ZoneID &gt; 0)\n                {\n                    Response.Redirect(\"ManageZones.aspx?v=1\", true);\n                }\n                else\n                {\n                    this.notifyError.Title = \"Zone update was not successfull!\";\n                    this.notifyError.Text = \"There was an error saving your zone. Please try again\";\n                    this.notifyError.Show();\n                    return;\n                }\n            }\n            else\n            {\n                Zones z = new Zones();\n\n                z.Code = this.txtZoneCode.Text;\n                z.Name = this.txtZoneName.Text;\n                z.BookGoal = Utils.GetInt(this.txtZoneBookGoal.Text);\n\n                z.Save();\n\n                if (z.ZoneID &gt; 0)\n                {\n                    Response.Redirect(\"ManageZones.aspx?v=1\", true);\n                }\n                else\n                {\n                    this.notifyError.Title = \"Zone creation was not successfull!\";\n                    this.notifyError.Text = \"There was an error saving your zone. Please try again\";\n                    this.notifyError.Show();\n                    return;\n                }\n            }\n        }\n        else\n        {\n            this.notifyError.Title = \"Please fill in the following to continue:\";\n            this.notifyError.Text = error;\n            this.notifyError.Show();\n            return;\n        }\n    }\n</code></pre>\n\n<p>Robert Zeno</p>\n"}, {"tags": ["c#", ".net", "system-shutdown"], "comments": [{"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "edited": false, "score": 0, "creation_date": 1423103978, "post_id": 28333011, "comment_id": 45016816, "body": "Whats the downvote for?"}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 1, "creation_date": 1423137522, "post_id": 28333011, "comment_id": 45031114, "body": "Why do you want to do that? What is the real problem you are trying to solve? Having an application initiate a reboot without warning is not the most friendly behavior. There may other ways to do what you want, or it may be acceptable to schedule a reboot in advance with user consent"}, {"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1423138776, "post_id": 28333011, "comment_id": 45031930, "body": "@Panagiotis Funny, I had just edited the question to remove this info.  I&#39;m adding a function to my existing program which runs on login for multiple machines on our network.  At the end of the day, the machines need to be logged out (not locked).  Sometimes they are just locked (not logged out).  I can see this because my program is still running.  The idea is I can restart the machines that are locked."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1423139213, "post_id": 28333011, "comment_id": 45032204, "body": "And why would you want to do that instead of eg shutting down? Anyway, you don&#39;t need a local program to shutdown/reboot. You can schedule the command on the user&#39;s machines to run eg every day at 2am. You can deploy the scheduled task to all computers using a Group Policy."}, {"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1423139429, "post_id": 28333011, "comment_id": 45032330, "body": "Restarting vs shutting down because i need them available for the morning.  The problem is, there are hundreds of these machines on my network and adding scheduled tasks will be cumbersome.  In any case, my question is whether or not theres another way to do this in c#.  Im aware that there are other ways to restart a computer."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1423139890, "post_id": 28333011, "comment_id": 45032629, "body": "That&#39;s why it&#39;s preferable to use a Group Policy for such things. You define/modify the scheduled task in the policy at <i>Computer Configuration &gt; Preferences &gt; Control Panel Settings &gt; Scheduled tasks</i>. The task will be deployed to all the machines you want. Pushing a program to all machines is more cumbersome, especially if you want to change the reboot time at some point."}, {"owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "reply_to_user": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1423143577, "post_id": 28333011, "comment_id": 45034977, "body": "Thanks for the advice, but the program is already pushed because it serves several other purposes.  Also, changing times isn&#39;t a problem, my constants are on a server.  Furthermore, this advice doesn&#39;t answer my question."}], "answers": [{"tags": [], "owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1424195863, "creation_date": 1424195863, "answer_id": 28567956, "question_id": 28333011, "link": "https://stackoverflow.com/questions/28333011/reboot-machine-from-c-forms-app-while-session-is-locked/28567956#28567956", "title": "Reboot machine from C#/Forms App while session is locked", "body": "<p>The <code>ExitWindowsEx</code> function accomplished what I was trying to do. </p>\n\n<p>Using:</p>\n\n<pre><code>    [DllImport(\"user32.dll\", SetLastError = true)]\n    public static extern int ExitWindowsEx(ExitWindows uFlags, ShutdownReason dwReason);\n</code></pre>\n\n<p>after adjusting token privileges, and using uFlags 0x06 (reboot / force).  I used dwReason 0 as well.  This function will restart the machine whether or not the session is locked.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa376868%28v=vs.85%29.aspx\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 649, "user_id": 2842827, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e14f6cc2a63aaae7fb89879de9f0718?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/2842827/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 28567956, "answer_count": 1, "score": 0, "last_activity_date": 1424195863, "creation_date": 1423089891, "last_edit_date": 1495542026, "question_id": 28333011, "link": "https://stackoverflow.com/questions/28333011/reboot-machine-from-c-forms-app-while-session-is-locked", "title": "Reboot machine from C#/Forms App while session is locked", "body": "<p>Referring to this question: <a href=\"https://stackoverflow.com/questions/1215139/reboot-machine-from-a-c-wpf-app\">.net - Reboot machine from a C#/WPF App</a></p>\n\n<p>I am attempting to create a c#/.net app that can restart the machine even if the session is locked (i.e., user is logged in, this app is running, but session is locked).</p>\n\n<p>I tried this from the question: <code>System.Diagnostics.Process.Start(\"shutdown.exe\", \"-r -t 0\");</code></p>\n\n<p>but apparently that only works if the session is unlocked.  Additionally, after reading this: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/aa376873%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">MSDN - InitiateSystemShutdown Function</a> it seems the <code>InitiateSystemShutdown</code> function will display the System Shutdown dialog box, which doesn't seem like it will suite my purposes.</p>\n\n<p>Are there any other methods of doing this?</p>\n"}, {"tags": ["c#", "specflow"], "comments": [{"owner": {"reputation": 30803, "user_id": 97614, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/343f4aabd790030a01f5f1510218bb7e?s=128&d=identicon&r=PG", "display_name": "Sam Holder", "link": "https://stackoverflow.com/users/97614/sam-holder"}, "edited": false, "score": 0, "creation_date": 1423149632, "post_id": 28332984, "comment_id": 45039372, "body": "it might also be useful to know how you are running the tests with MSTest. Are you compiling again? Or in a different environment, or is this using the files as built by VisualStudio?"}, {"owner": {"reputation": 1, "user_id": 4530659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8df1f04aeaba7b9dd1dc09a92c61ebd?s=128&d=identicon&r=PG&f=1", "display_name": "TestEver", "link": "https://stackoverflow.com/users/4530659/testever"}, "reply_to_user": {"reputation": 30803, "user_id": 97614, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/343f4aabd790030a01f5f1510218bb7e?s=128&d=identicon&r=PG", "display_name": "Sam Holder", "link": "https://stackoverflow.com/users/97614/sam-holder"}, "edited": false, "score": 0, "creation_date": 1423150720, "post_id": 28332984, "comment_id": 45040087, "body": "I am running the tests with MsTest in the same folder where both assemblies reside (the bin folder). The testcontainer file is using the dll built by VisualStudio."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4530659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8df1f04aeaba7b9dd1dc09a92c61ebd?s=128&d=identicon&r=PG&f=1", "display_name": "TestEver", "link": "https://stackoverflow.com/users/4530659/testever"}, "edited": false, "score": 0, "creation_date": 1423154733, "post_id": 28349390, "comment_id": 45042696, "body": "Thanks for your time. I will try that."}, {"owner": {"reputation": 3723, "user_id": 2370015, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/16a6b1a838847c367ea56407186f0879?s=128&d=identicon&r=PG", "display_name": "dariogriffo", "link": "https://stackoverflow.com/users/2370015/dariogriffo"}, "edited": false, "score": 0, "creation_date": 1423155731, "post_id": 28349390, "comment_id": 45043376, "body": "Is the copy always set to true on the properties of the dll?"}], "tags": [], "owner": {"reputation": 30803, "user_id": 97614, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/343f4aabd790030a01f5f1510218bb7e?s=128&d=identicon&r=PG", "display_name": "Sam Holder", "link": "https://stackoverflow.com/users/97614/sam-holder"}, "is_accepted": false, "score": 0, "last_activity_date": 1423154567, "creation_date": 1423154567, "answer_id": 28349390, "question_id": 28332984, "link": "https://stackoverflow.com/questions/28332984/specflow-tests-feature-and-steps-in-different-projects-fail-when-running-with-m/28349390#28349390", "title": "Specflow tests feature and steps in different projects, fail when running with MsTest, but pass in Visual Studio", "body": "<p>Your steps dll is likely not being loaded into memory by MSTest as nothing is referencing it. In VS specflow ensures that it is loaded I believe.</p>\n\n<p>You can force it to be loaded, which might help by doing something like this:</p>\n\n<ul>\n<li>create a class in your steps dll.</li>\n<li>in your project with the feature files create a partial class with the same name as the test class specflow generated</li>\n<li>in this partial class add a field and set it to a new instance of the class from the steps dll. </li>\n</ul>\n\n<p>This should force the steps dll to be loaded into the test process and so then the steps should be discoverable.</p>\n\n<p>Please note I have not tested this and its just off the top of my head.</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 1, "user_id": 4530659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8df1f04aeaba7b9dd1dc09a92c61ebd?s=128&d=identicon&r=PG&f=1", "display_name": "TestEver", "link": "https://stackoverflow.com/users/4530659/testever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1086, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423155595, "creation_date": 1423089784, "last_edit_date": 1423155595, "question_id": 28332984, "link": "https://stackoverflow.com/questions/28332984/specflow-tests-feature-and-steps-in-different-projects-fail-when-running-with-m", "title": "Specflow tests feature and steps in different projects, fail when running with MsTest, but pass in Visual Studio", "body": "<p>I have a SpecFlow test, which feature file and step definitions are in different projects. It passes when running inside Visual Studio, but fails when running from the command line using MsTest.</p>\n\n<p>The output error message is:\nNo matching step definition found for the step. Use the following code to create   one:</p>\n\n<pre><code> [Given(@\"I am a member\")]\n public void GivenIAMAMember()\n {\n      ScenarioContext.Current.Pending();\n }\n</code></pre>\n\n<p>Test method  threw exception: \nSystem.IO.FileNotFoundException: Could not load file or assembly 'nunit.framework' or one of its dependencies. The system cannot find the file specified.WRN: Assembly binding logging is turned OFF.\nTo enable assembly bind failure logging, set the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog] (DWORD) to 1.\nNote: There is some performance penalty associated with assembly bind failure logging.\nTo turn this feature off, remove the registry value [HKLM\\Software\\Microsoft\\Fusion!EnableLog].</p>\n\n<p>Anyone could give me any ideas?</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 1, "creation_date": 1423090220, "post_id": 28332944, "comment_id": 45013037, "body": "Essentially you need either an event or (if you&#39;re using WPF) you can do with a Binding."}], "answers": [{"comments": [{"owner": {"reputation": 3434, "user_id": 1018733, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/gGYmO.jpg?s=128&g=1", "display_name": "SwimBikeRun", "link": "https://stackoverflow.com/users/1018733/swimbikerun"}, "edited": false, "score": 1, "creation_date": 1423092805, "post_id": 28333093, "comment_id": 45014045, "body": "Very awesome sir! Taught me about the eventhandlers and works perfectly"}, {"owner": {"reputation": 513, "user_id": 3260044, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001349446661/picture?type=large", "display_name": "fallaciousreasoning", "link": "https://stackoverflow.com/users/3260044/fallaciousreasoning"}, "reply_to_user": {"reputation": 3434, "user_id": 1018733, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/gGYmO.jpg?s=128&g=1", "display_name": "SwimBikeRun", "link": "https://stackoverflow.com/users/1018733/swimbikerun"}, "edited": false, "score": 0, "creation_date": 1423094261, "post_id": 28333093, "comment_id": 45014487, "body": "Awesome, glad it worked for you. You might want to investigate MVVM though, like some of the other posters mentioned, it&#39;ll make your life a lot easier down the line."}], "tags": [], "owner": {"reputation": 513, "user_id": 3260044, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001349446661/picture?type=large", "display_name": "fallaciousreasoning", "link": "https://stackoverflow.com/users/3260044/fallaciousreasoning"}, "is_accepted": true, "score": 1, "last_activity_date": 1423090254, "creation_date": 1423090254, "answer_id": 28333093, "question_id": 28332944, "link": "https://stackoverflow.com/questions/28332944/how-do-i-update-gui-text-log-in-c/28333093#28333093", "title": "How do I update GUI text log in C#", "body": "<p>You could have an event on your DevLog class which you fire every time the log is updated.</p>\n\n<p>Add this field to your DevLog class</p>\n\n<p><code>public static event EventHandler LogUpdated</code></p>\n\n<p>Now, at the end of your <code>addLog</code> function</p>\n\n<pre><code>if (LogUpdated != null)\n    LogUpdated(null, EventArgs.Empty); \n</code></pre>\n\n<p>And now, in your GUI class:</p>\n\n<pre><code>DevLog.LogUpdated += (o, e) =&gt; \n{\n    this.devLogRichTextBox.Text = DevLog.log;\n};\n</code></pre>\n\n<p>Now, every time your log is updated it will fire the <code>LogUpdated</code> event</p>\n"}, {"tags": [], "owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "is_accepted": false, "score": 0, "last_activity_date": 1423090589, "last_edit_date": 1495540398, "creation_date": 1423090268, "answer_id": 28333095, "question_id": 28332944, "link": "https://stackoverflow.com/questions/28332944/how-do-i-update-gui-text-log-in-c/28333095#28333095", "title": "How do I update GUI text log in C#", "body": "<p>You could raise an event from the logger:</p>\n\n<pre><code>public static event EventHandler&lt;string&gt; LogLineAdded = delegate { };\n\npublic static void addToLog(string addition)\n{\n    string logLine = addition + \"\\r\\n\";\n    log += logLine;\n    LogLineAdded(null, logLine);\n}\n</code></pre>\n\n<p>Then subscribe from the client form:</p>\n\n<pre><code>private void Form1_Load(object sender, System.EventArgs e)\n{\n    DevLog.LogLineAdded += DevLog_LogLineAdded;\n}\n\nprivate void DevLog_LogLineAdded(object sender, string logLine)\n{\n    this.devLogRichTextBox.Text += logLine;\n}\n\nprivate void Form1_FormClosed(object sender, System.EventArgs e)\n{\n    DevLog.LogLineAdded -= DevLog_LogLineAdded;\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/289002/how-to-raise-custom-event-from-a-static-class\">Unsubscribing from a static event from an instance handler is important</a>.</p>\n"}], "owner": {"reputation": 3434, "user_id": 1018733, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/gGYmO.jpg?s=128&g=1", "display_name": "SwimBikeRun", "link": "https://stackoverflow.com/users/1018733/swimbikerun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 28333093, "answer_count": 2, "score": 1, "last_activity_date": 1423090589, "creation_date": 1423089661, "question_id": 28332944, "link": "https://stackoverflow.com/questions/28332944/how-do-i-update-gui-text-log-in-c", "title": "How do I update GUI text log in C#", "body": "<p>I have a tab in my GUI I would like to be an auto-updating dev log. It currently only updates the initial time. How do I update this.devLogRichTextBox.Text with every change in DevLog.DevLog.log?</p>\n\n<pre><code>// \n// devLogRichTextBox\n// \nthis.devLogRichTextBox.Location = new System.Drawing.Point(3, 3);\nthis.devLogRichTextBox.Name = \"devLogRichTextBox\";\nthis.devLogRichTextBox.Size = new System.Drawing.Size(1195, 368);\nthis.devLogRichTextBox.TabIndex = 0;\nthis.devLogRichTextBox.Text = DevLog.DevLog.log; // This doesn't do what I want. This sets the text one time to string DevLog.DevLog.log\n</code></pre>\n\n<p>I would like to add lines to this log from anywhere in the program:</p>\n\n<pre><code>namespace DevLog\n{\n    public static class DevLog\n    {\n        public static string log = \"Default\";\n        public static void addToLog(string addition)\n        {\n            log += addition + \"\\r\\n\";\n        }\n\n        public static void clearLog()\n        {\n            log = \"\";\n        }\n\n        public static void dumpLogToFile()\n        {\n            //Dump log to a file on HD\n        }\n\n        public void updateGUIDevLog()\n        {\n             //??\n        }\n    }\n}\n</code></pre>\n\n<p>I have tried some things with pointers, but maybe the best option is to have it update at a fixed interval, or better yet, invoke some sort of update whenever a modification is made.</p>\n"}, {"tags": ["c#", ".net", "vba", "excel"], "answers": [{"tags": [], "owner": {"reputation": 1440, "user_id": 4281149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/25Jjy.png?s=128&g=1", "display_name": "jlee-tessik", "link": "https://stackoverflow.com/users/4281149/jlee-tessik"}, "is_accepted": true, "score": 1, "last_activity_date": 1423089790, "creation_date": 1423089790, "answer_id": 28332986, "question_id": 28332751, "link": "https://stackoverflow.com/questions/28332751/adding-microsoft-office-interop-excel-reference/28332986#28332986", "title": "adding Microsoft.Office.Interop.Excel reference", "body": "<p>I see a copy under C:\\Windows\\assembly\\GAC_MSIL. Is it there for you?</p>\n\n<p>If that doesn't work, open Windows Command Processor and use</p>\n\n<pre><code>dir /s microsoft.office.interop.excel.*\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1439, "user_id": 2210274, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a30ce642f529f9eafabc95610aaff2f7?s=128&d=identicon&r=PG", "display_name": "andrsnn", "link": "https://stackoverflow.com/users/2210274/andrsnn"}, "edited": false, "score": 0, "creation_date": 1423090638, "post_id": 28332987, "comment_id": 45013239, "body": "this works.  I did see that post, now I see several of the answers BELOW the ones I was attempting were correct. I was following <code>Add reference &gt; Browse &gt; C: &gt; Windows &gt; assembly &gt; GAC &gt; Microsoft.Office.Interop.Excel &gt; 12.0.0.0_etc &gt; Microsoft.Office.Interop.Excel.dll</code>"}], "tags": [], "owner": {"reputation": 7889, "user_id": 1911064, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/F8Vxe.jpg?s=128&g=1", "display_name": "Axel Kemper", "link": "https://stackoverflow.com/users/1911064/axel-kemper"}, "is_accepted": false, "score": 1, "last_activity_date": 1423090112, "last_edit_date": 1495539812, "creation_date": 1423089790, "answer_id": 28332987, "question_id": 28332751, "link": "https://stackoverflow.com/questions/28332751/adding-microsoft-office-interop-excel-reference/28332987#28332987", "title": "adding Microsoft.Office.Interop.Excel reference", "body": "<p>In my <code>C#</code> project, the path is</p>\n\n<pre><code>C:\\Windows\\assembly\\GAC_MSIL\\Microsoft.Office.Interop.Excel\\14.0.0.0__71e9bce111e9429c\\Microsoft.Office.Interop.Excel.dll\n</code></pre>\n\n<p>I am using <code>Excel 2010</code> </p>\n\n<p>You might want to have a look at a <a href=\"https://stackoverflow.com/questions/10477977/what-reference-do-i-need-to-use-microsoft-office-interop-excel-in-net\">related post</a>.</p>\n"}], "owner": {"reputation": 1439, "user_id": 2210274, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a30ce642f529f9eafabc95610aaff2f7?s=128&d=identicon&r=PG", "display_name": "andrsnn", "link": "https://stackoverflow.com/users/2210274/andrsnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1901, "favorite_count": 0, "accepted_answer_id": 28332986, "answer_count": 2, "score": 0, "last_activity_date": 1423090112, "creation_date": 1423088867, "question_id": 28332751, "link": "https://stackoverflow.com/questions/28332751/adding-microsoft-office-interop-excel-reference", "title": "adding Microsoft.Office.Interop.Excel reference", "body": "<p>I am attempting to write a c# script that performs work on an excel spreadsheet. (Rather then a VBA macro).  I am trying to add the reference to the <code>Microsoft.Office.Interop.Excel</code> assembly.  I cannot find any reference to said assembly in the Add Reference... Window or by browsing to <code>C:\\Windows\\assembly\\GAC</code>.  It does not exist.  I uninstalled and reinstalled office, and I also downloaded and installed the PIA redistributable located <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=3508\" rel=\"nofollow\">here</a>.  The Microsoft.Office.Core is the closest assembly I found, added via COM -> Microsoft Office 14 / 15 Object Library. Any comments or advice appreciated.</p>\n"}, {"tags": ["c#", "asp.net-mvc"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1423088599, "post_id": 28332635, "comment_id": 45012325, "body": "Use <code>@Html.EditorFor(m =&gt; m.yourNullableBool)</code> - it generates a dropdown with 3 values, &quot;True&quot;, &quot;False&quot; and &quot;Not Set&quot;, where &quot;Not Set&quot; equates to <code>null</code> when you post back. You cant use a checkbox to represent a nullable bool because a checkbox has only 2 states where as a nullable bool has 3 states"}], "answers": [{"tags": [], "owner": {"reputation": 4679, "user_id": 337085, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2daee1581901ea06dbb80d2c04c1a182?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Pushkin", "link": "https://stackoverflow.com/users/337085/roman-pushkin"}, "is_accepted": true, "score": 0, "last_activity_date": 1423097459, "creation_date": 1423097459, "answer_id": 28334376, "question_id": 28332635, "link": "https://stackoverflow.com/questions/28332635/using-nullable-bool-in-html-helper-in-asp-net-mvc-app/28334376#28334376", "title": "Using nullable bool in HTML helper in ASP.NET MVC app", "body": "<p>HTML5 defines a property for checkboxes called <em>indeterminate</em>. Unfortunately, it cannot be set with markup, only with JavaScript. And it doesn't change the value of checkbox, it's just a visual thing. Not all of the browsers have support for them. I'd highly encourage to use dropdown list for that case. So the user won't be intimidated by third-party custom checkboxes with 3 states. Moreover, dropdown list will work on all devices and browsers.</p>\n"}], "owner": {"reputation": 5651, "user_id": 1185425, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4eaabf59e0da4721263c4fbce6a545e5?s=128&d=identicon&r=PG", "display_name": "JQuery Mobile", "link": "https://stackoverflow.com/users/1185425/jquery-mobile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 28334376, "answer_count": 1, "score": 0, "last_activity_date": 1423097459, "creation_date": 1423088469, "question_id": 28332635, "link": "https://stackoverflow.com/questions/28332635/using-nullable-bool-in-html-helper-in-asp-net-mvc-app", "title": "Using nullable bool in HTML helper in ASP.NET MVC app", "body": "<p>I have an ASP.NET MVC app. I need to create an HTML helper to generate a custom Checkbox field. I have the Checkbox field working with <code>bool</code> values. However, I'm not sure how to do it with nullable bool values (<code>bool?</code>). Currently, I have the following extension method:</p>\n\n<pre><code>public static MvcHtmlString CreateCheckbox&lt;TModel&gt;(this HtmlHelper&lt;TModel&gt; html, Expression&lt;Func&lt;TModel, bool?&gt;&gt; expression, string classes = \" \")\n{\n  var str = System.Web.Mvc.Html.InputExtensions.CheckBoxFor(html, expression).ToString();\n  var s= ModelMetadata.FromLambdaExpression(expression, html.ViewData);\n  var html = string.Format(\"&lt;label for=\\\"{0}\\\"&gt;{1}&amp;nbsp;{2}&lt;/label&gt;\", s.PropertyName, str, s.GetDisplayName());\n  return new MvcHtmlString(html);\n}\n</code></pre>\n\n<p>When I compile it, I get the following error:</p>\n\n<pre><code>Argument 2: cannot convert from 'System.Linq.Expressions.Expression&lt;System.Func&lt;TModel,bool?&gt;&gt;' to 'System.Linq.Expressions.Expression&lt;System.Func&lt;TModel,bool&gt;&gt;'   \n</code></pre>\n\n<p>How can I accept nullable bool values in this HTML helper?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "opentk"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423088541, "post_id": 28332621, "comment_id": 45012294, "body": "<code>Do not Hard Code</code><a href=\"https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=c%23%20stackoverflow%20getting%20keys%20that%20were%20pressed\" rel=\"nofollow noreferrer\">Get keys that are pressed</a> do a google search if the link provided does not serve your purpose"}, {"owner": {"reputation": 169, "user_id": 3853406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkbOq.jpg?s=128&g=1", "display_name": "Reedie", "link": "https://stackoverflow.com/users/3853406/reedie"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423088596, "post_id": 28332621, "comment_id": 45012324, "body": "How would I go about doing this then?"}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "edited": false, "score": 0, "creation_date": 1423088633, "post_id": 28332621, "comment_id": 45012340, "body": "In which event are you capturing the input?  Perhaps you need to catch it in an event down the pipe a ways, so you wouldn&#39;t see the <code>shift</code> event, but once the <code>1</code> was pressed, you would get a <code>!</code> result."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423088684, "post_id": 28332621, "comment_id": 45012366, "body": "you go about it by deciding which <code>Event</code> you need to wire-up depending on your use case.. which also you would go about it by starting to write some code..."}, {"owner": {"reputation": 169, "user_id": 3853406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkbOq.jpg?s=128&g=1", "display_name": "Reedie", "link": "https://stackoverflow.com/users/3853406/reedie"}, "edited": false, "score": 0, "creation_date": 1423088713, "post_id": 28332621, "comment_id": 45012375, "body": "As I said - you could hard-code it so that when you press both buttons that an &#39;!&#39; appears - but not all keyboards have it labelled that shift+1 = &#39;!&#39;; that&#39;s the issue with hard-coding"}, {"owner": {"reputation": 3012, "user_id": 3101082, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1WxPj.jpg?s=128&g=1", "display_name": "dub stylee", "link": "https://stackoverflow.com/users/3101082/dub-stylee"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423088805, "post_id": 28332621, "comment_id": 45012400, "body": "Nobody said anything about hard coding.  I am suggesting using the <code>KeyDown</code> event instead of <code>KeyPress</code> (I think those are the ones I am thinking of).. if you use the right <code>Event</code>, as @MethodMan said, you won&#39;t have to handle the <code>shift</code> key separately."}, {"owner": {"reputation": 169, "user_id": 3853406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkbOq.jpg?s=128&g=1", "display_name": "Reedie", "link": "https://stackoverflow.com/users/3853406/reedie"}, "edited": false, "score": 0, "creation_date": 1423089599, "post_id": 28332621, "comment_id": 45012735, "body": "This actually fixed my problem - but it was the other way around. Regardless, cheers!"}], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 4515667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dbcb4e51efcc2defc28ab093750a861?s=128&d=identicon&r=PG&f=1", "display_name": "ako", "link": "https://stackoverflow.com/users/4515667/ako"}, "reply_to_user": {"reputation": 169, "user_id": 3853406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkbOq.jpg?s=128&g=1", "display_name": "Reedie", "link": "https://stackoverflow.com/users/3853406/reedie"}, "edited": false, "score": 0, "creation_date": 1423088980, "post_id": 28332719, "comment_id": 45012465, "body": "you mean for example (shift+f) together?"}], "tags": [], "owner": {"reputation": 159, "user_id": 4515667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dbcb4e51efcc2defc28ab093750a861?s=128&d=identicon&r=PG&f=1", "display_name": "ako", "link": "https://stackoverflow.com/users/4515667/ako"}, "is_accepted": true, "score": 1, "last_activity_date": 1423088738, "creation_date": 1423088738, "answer_id": 28332719, "question_id": 28332621, "link": "https://stackoverflow.com/questions/28332621/getting-the-accurate-character-from-keys-pressed/28332719#28332719", "title": "Getting the accurate character from keys pressed", "body": "<p>use <strong><em>keypress EventHandler</em></strong> of Your control\nthen</p>\n\n<pre><code>if(e.keychar==(char)keys.[specified key])do some work\n</code></pre>\n\n<p><strong><em>e</em></strong> is Argument of keypress eventhandler function</p>\n"}], "owner": {"reputation": 169, "user_id": 3853406, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkbOq.jpg?s=128&g=1", "display_name": "Reedie", "link": "https://stackoverflow.com/users/3853406/reedie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 28332719, "answer_count": 1, "score": 0, "last_activity_date": 1423089663, "creation_date": 1423088420, "last_edit_date": 1423089663, "question_id": 28332621, "link": "https://stackoverflow.com/questions/28332621/getting-the-accurate-character-from-keys-pressed", "title": "Getting the accurate character from keys pressed", "body": "<p>I'm working with an OpenTK window and I am trying to create a hand-made text-box for a GUI.</p>\n\n<p>The issue I'm running into here is getting proper keyboard input.</p>\n\n<p>For example, when the user types <kbd>Shift</kbd> + <kbd>1</kbd>, the character that appears in the text-field is an exclamation mark.</p>\n\n<p>The issue is, using input libraries just give me raw key presses. ie, pressing <kbd>Shift</kbd> + <kbd>1</kbd> gives you an event where shift is being pressed, and an event where 1 is being pressed.</p>\n\n<p>I'm looking to know if there is a way to convert these presses into the appropriate character, so that they can use whatever special characters they have available on their keyboard.</p>\n\n<p>If this feature is not available - would the best approach be to hard-code the appropriate keys when modifiers are used with them?</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> I changed the event I was using from KeyDown to KeyPress - it gives a different event which handles the modifiers correctly. Thank you for all the help!</p>\n"}, {"tags": ["c#", ".net", "windows"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423088502, "post_id": 28332597, "comment_id": 45012274, "body": "checkout this site sounds like this may be what you need <a href=\"http://stackoverflow.com/questions/8443502/how-do-i-change-another-programs-windows-size\" title=\"how do i change another programs windows size\">stackoverflow.com/questions/8443502/&hellip;</a>"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1423090087, "post_id": 28332597, "comment_id": 45012979, "body": "Somebody mis-spelled SetWindowPos() in that Q+A.  What you need."}], "owner": {"reputation": 30367, "user_id": 97901, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/tZgrA.jpg?s=128&g=1", "display_name": "benstpierre", "link": "https://stackoverflow.com/users/97901/benstpierre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423088327, "creation_date": 1423088327, "question_id": 28332597, "link": "https://stackoverflow.com/questions/28332597/change-window-style-of-other-processs-window-in-net", "title": "Change Window Style of other process&#39;s window in .net", "body": "<p>Is there a way to change the window Style/Location/Size for a window that is running in another process?</p>\n\n<p>We have an integration that requires a desktop app be running, i'd like to programmatically change it from being fullscreen to minimized or \"normal\" state and placed in the corner of the app.</p>\n"}, {"tags": ["c#", "wpf", "data-binding"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1423088019, "post_id": 28332475, "comment_id": 45012043, "body": "Did you mean <code>Text=&quot;{db:ClassB ...&quot;</code>? I don&#39;t see any <code>ClassB</code> references in your XAML."}, {"owner": {"reputation": 869, "user_id": 2301459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b2f867ce4937cc49630edb5711439a81?s=128&d=identicon&r=PG", "display_name": "SINGULARITY", "link": "https://stackoverflow.com/users/2301459/singularity"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1423088365, "post_id": 28332475, "comment_id": 45012211, "body": "@BradleyDotNET Thanks for the quick reply. ClassB is being referenced though the namespace <code>xmlns:db =&quot;clr-namespace:EAS.GUI&quot;</code>"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1423088496, "post_id": 28332475, "comment_id": 45012271, "body": "Right, but your text says &quot;ClassA&quot; not &quot;ClassB&quot;"}, {"owner": {"reputation": 869, "user_id": 2301459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b2f867ce4937cc49630edb5711439a81?s=128&d=identicon&r=PG", "display_name": "SINGULARITY", "link": "https://stackoverflow.com/users/2301459/singularity"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1423088729, "post_id": 28332475, "comment_id": 45012377, "body": "@BradleyDotNET Thanks. Unfortunately that was a typo when copying the solution in stackoverflow. I fixed the typo."}, {"owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "edited": false, "score": 0, "creation_date": 1423091374, "post_id": 28332475, "comment_id": 45013554, "body": "I tried to simulate your, it is working fine. may be if you post more code it will help to solve the problem."}, {"owner": {"reputation": 869, "user_id": 2301459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b2f867ce4937cc49630edb5711439a81?s=128&d=identicon&r=PG", "display_name": "SINGULARITY", "link": "https://stackoverflow.com/users/2301459/singularity"}, "reply_to_user": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "edited": false, "score": 0, "creation_date": 1423092554, "post_id": 28332475, "comment_id": 45013970, "body": "@Ganesh Is each class is in two different projects in a solution and a xml (or data file) is read in at runtime?"}], "answers": [{"comments": [{"owner": {"reputation": 869, "user_id": 2301459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b2f867ce4937cc49630edb5711439a81?s=128&d=identicon&r=PG", "display_name": "SINGULARITY", "link": "https://stackoverflow.com/users/2301459/singularity"}, "edited": false, "score": 0, "creation_date": 1423111553, "post_id": 28336294, "comment_id": 45018814, "body": "Thanks for the help. I&#39;ll give that a try at work tomorrow. Unfortunately I cannot post much more since a lot of the code is proprietary. If your solution doesn&#39;t work, I&#39;ll work on posting more code tomorrow. Thanks again."}, {"owner": {"reputation": 869, "user_id": 2301459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b2f867ce4937cc49630edb5711439a81?s=128&d=identicon&r=PG", "display_name": "SINGULARITY", "link": "https://stackoverflow.com/users/2301459/singularity"}, "edited": false, "score": 0, "creation_date": 1423157271, "post_id": 28336294, "comment_id": 45044379, "body": "I did what you suggested and still no success; however, I did change things around a little and now I&#39;m actually getting an error. I posted my changes above."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": false, "score": 0, "last_activity_date": 1423110896, "last_edit_date": 1495542037, "creation_date": 1423110896, "answer_id": 28336294, "question_id": 28332475, "link": "https://stackoverflow.com/questions/28332475/wpf-data-bind-from-a-instantiated-class-in-project-a-to-project-b/28336294#28336294", "title": "WPF Data Bind from a instantiated class in project A to Project B", "body": "<p>There's no way to know for certain what the correct answer to this question would be without a more complete code example. Preferably <a href=\"https://stackoverflow.com/help/mcve\">an <em>actual</em> complete code example</a>.</p>\n\n<p>In terms of debugging: you should mark the <code>_guid</code> field as <code>readonly</code>, and for completeness, add <code>private ClassA() { }</code> to the <code>ClassA</code> class, i.e. make its constructor private, to prevent code from obtaining an instance through any means other than the <code>GetInstance()</code> method.</p>\n\n<p>As you might guess from the above, I suspect that you in fact have some code somewhere (which you failed to include in your post) that creates an extra instance of <code>ClassA</code>. Note that in WPF, object instantiation in XAML relies on public, parameterless constructors for types. You may have declared some object of type <code>ClassA</code> in your XAML somewhere, causing WPF to create the extra instance on your behalf. In any case, wherever the code is that does that is, by making the constructor private, you will prevent it from happening, most likely causing an error to be generated at compile time that leads you directly to the problem.</p>\n\n<p>If not, then you should edit your question so that it includes a good, complete code example.</p>\n"}], "owner": {"reputation": 869, "user_id": 2301459, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b2f867ce4937cc49630edb5711439a81?s=128&d=identicon&r=PG", "display_name": "SINGULARITY", "link": "https://stackoverflow.com/users/2301459/singularity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423157235, "creation_date": 1423087897, "last_edit_date": 1423157235, "question_id": 28332475, "link": "https://stackoverflow.com/questions/28332475/wpf-data-bind-from-a-instantiated-class-in-project-a-to-project-b", "title": "WPF Data Bind from a instantiated class in project A to Project B", "body": "<p>I am having a issue with data binding from a instantiated class in project A to Project B. The data binding \"seems\" to be working correctly; however, I am definitely getting a different instantiation of ClassA. </p>\n\n<p>This is the ClassA - which is a class in a different Project. ClassA is a console application and has a main. </p>\n\n<pre><code>public class ClassA: INotifyPropertyChanged\n{\n   private string _partNumber;\n   private Guid _guid = Guid.NewGuid ( );\n\n   // Make a singleton of this class so other classes have to request an instance\n   private static readonly ClassA _Instance = new ClassA ( );\n\n   //\n   //.. Read in xml file \"This executes properly - I've checked\"\n   //\n\n   public static ClassA GetInstance ( )\n   {\n       return _Instance;\n   }\n\n   public string PartNumber\n    {\n        get\n        {\n\n            if ( string.IsNullOrEmpty ( _partNumber ) )\n            {\n                Console.WriteLine(\"Got PartNumber: \" + _partNumber + \"  GUID: \" + _guid);\n                return \"Empty\";\n            }\n            Console.WriteLine(\"Got PartNumber: \" + _partNumber + \"  GUID: \" + _guid);\n            return _partNumber;\n        }\n        set\n        {\n            if ( value == null )\n            {\n                throw new ArgumentNullException ( \"value\" );\n            }\n            Console.WriteLine(\"Set Partnumber: \" + value + \"  GUID: \" + _guid);\n            _partNumber = value;\n        }\n    }\n\n}\n</code></pre>\n\n<p>This is ClassB - which is a class in a different Project. ClassB is a WPF application.</p>\n\n<pre><code>class ClassB : Binding\n{\n    public ClassB ( )\n    {\n        Initialize();\n    }\n\n    public ClassB ( string path ) : base ( path )\n    {\n        Initialize();\n    }\n\n    private void Initialize ( )\n    {\n        Source = ClassA.GetInstance();\n    }\n}\n</code></pre>\n\n<p>This is the XAML code that calls the binding</p>\n\n<pre><code>&lt;controls:MetroWindow ... ...\n\n   xmlns:db =\"clr-namespace:EAS.GUI\"\n\n   &lt;TextBlock  Grid.Row=\"1\" Grid.Column=\"1\" \n     Style=\"{StaticResource LblTextData}\"   \n     Text=\"{db:ClassB PartNumber, UpdateSourceTrigger=PropertyChanged, OneWay}\" \n\n   ... ...\n\n&lt;/controls:MetroWindow&gt;\n</code></pre>\n\n<p>When I run the program I run <code>Console.WriteLine()</code> to verify the data and GUID's. The data printed from ClassB is null and the GUID's are totally different from ClassA. My question is how can I get the same class instance - rather then a totally different instance?</p>\n\n<p>Here is the Console output:</p>\n\n<pre><code>Set Partnumber: 736543  GUID: 360a6dcc-a719-4ad0-a929-6f3ed09eefb2\nGet PartNumber:         GUID: 2405b370-0806-4f41-91c6-0fdd6f894077\n</code></pre>\n\n<hr>\n\n<p><strong>Okay</strong> so I changed my approach and got rid of <code>ClassB</code> and removed <code>xmlns:db =\"clr-namespace:EAS.GUI\"</code> from the XAML namespace definitions. </p>\n\n<p>In my <code>MainWindow.xaml.cs</code> I added this line in the constructor:\n    DataContext = ClassA.GetInstance();</p>\n\n<p>Then in my <code>MainWindow.xaml</code> I changed the textblock to this:</p>\n\n<pre><code>&lt;TextBlock  Grid.Row=\"1\" Grid.Column=\"1\" \n Style=\"{StaticResource LblTextData}\"\n Text=\"{Binding PartNumber, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}\"/&gt;\n</code></pre>\n\n<p>Now I am getting this in the Output window at runtime:</p>\n\n<p><em>System.Windows.Data Information: 10 : Cannot retrieve value using the binding and no valid fallback value exists; using default instead. BindingExpression:Path=PartNumber; DataItem=null; target element is 'TextBlock' (Name=''); target property is 'Text' (type 'String')</em></p>\n"}, {"tags": ["c#", "c++", "lua", "porting", "lua-5.2"], "comments": [{"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423087955, "post_id": 28332452, "comment_id": 45012017, "body": "The registry is not the same as the global table. The global table was <code>LUA_GLOBALSINDEX</code> in lua 5.1."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1423088031, "post_id": 28332452, "comment_id": 45012050, "body": "Have you looked at <a href=\"http://www.lua.org/manual/5.2/manual.html#8.3\" rel=\"nofollow noreferrer\">Changes in the API</a>?"}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423088339, "post_id": 28332452, "comment_id": 45012195, "body": "@Etan - I did come across that page, but it doesnt provide a translation, only recommendation to get the global environment from the registry.  I very easily could be confusing the registry and global tables."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423088566, "post_id": 28332452, "comment_id": 45012308, "body": "It does explicitly indicate that you get one from the other so, while yes some confusion is possible, it is fairly clear that they aren&#39;t the same. Also <code>LUA_REGISTRYINDEX</code> hasn&#39;t gone anywhere so your questions about replacing that with something else are unnecessary."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 1, "creation_date": 1423088636, "post_id": 28332452, "comment_id": 45012344, "body": "Replacing a <code>get</code> call with a <code>set</code> call isn&#39;t exactly a meaningful statement either (item <code>11</code>) and <code>luaL_getmetatable</code> <a href=\"http://www.lua.org/manual/5.2/manual.html#luaL_getmetatable\" rel=\"nofollow noreferrer\">still exists in lua 5.2</a>."}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423088989, "post_id": 28332452, "comment_id": 45012471, "body": "Right, <code>LUA_REGISTRYINDEX</code> was a constant value, so before we could just hardcode it, but that is no longer the case in 5.2.  <code>luaL_getmetatable</code> is a #define and not accessible through P/Invoke.  <code>11)</code> is actually number <code>9)</code> so I&#39;ve removed it (I had a helper function called the same thing that pointed to <code>lua_getfield...</code>"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423089213, "post_id": 28332452, "comment_id": 45012575, "body": "<code>LUA_REGISTRYINDEX</code> is still a define in 5.2 from what I can see."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423089246, "post_id": 28332452, "comment_id": 45012590, "body": "Yes, <code>luaL_getmetatable</code> is a define. So you can&#39;t use that but you can use what it is a define for, no? Which is <a href=\"http://www.lua.org/source/5.2/lauxlib.h.html#luaL_getmetatable\" rel=\"nofollow noreferrer\"><code>(lua_getfield(L, LUA_REGISTRYINDEX, (n)))</code></a>."}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423089500, "post_id": 28332452, "comment_id": 45012695, "body": "But again, I dont know what <code>LUA_REGISTRYINDEX</code> is.  Its no longer <code>-10000</code>.  So before I could do <code>lua_getfield(L, -10000, n)</code>, but now I cant.  because its a <code>pseudo-index</code>."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423089834, "post_id": 28332452, "comment_id": 45012856, "body": "It was <b>always</b> a <a href=\"http://www.lua.org/manual/5.1/manual.html#3.3\" rel=\"nofollow noreferrer\"><code>pseudo-index</code></a>. Have you looked at the <a href=\"http://www.lua.org/source/5.2/lua.h.html#LUA_REGISTRYINDEX\" rel=\"nofollow noreferrer\">5.2 define for it</a>?"}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423090244, "post_id": 28332452, "comment_id": 45013053, "body": "If I hardcode LUA_REGISTRYINDEX to <code>-1001000</code>, the first call to <code>lua_pushvalue(luaState, LUA_GLOBALSINDEX);</code> throws a <code>AccessViolationException</code>.  However in 5.1, when the value was <code>-10000</code> it worked."}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423090468, "post_id": 28332452, "comment_id": 45013155, "body": "If I hardocde LUA_REGISTRYINDEX to <code>-16000</code>, the first call to <code>lua_settable(luaState, LUA_REGISTRYINDEX);</code> throws a <code>AccessViolationException</code>.  This also worked in 5.1."}, {"owner": {"reputation": 18839, "user_id": 234175, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/37f386df1c4e98d9ce0350431f590f2a?s=128&d=identicon&r=PG", "display_name": "greatwolf", "link": "https://stackoverflow.com/users/234175/greatwolf"}, "edited": false, "score": 0, "creation_date": 1423090649, "post_id": 28332452, "comment_id": 45013244, "body": "4 and 5 are the same example, is this a copy paste error?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423090714, "post_id": 28332452, "comment_id": 45013274, "body": "You need to find out what <code>LUAI_BITSINT</code> is set to to find out what the value of <code>LUAI_MAXSTACK</code> is before you can find out what <code>LUA_REGISTRYINDEX</code> is."}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 18839, "user_id": 234175, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/37f386df1c4e98d9ce0350431f590f2a?s=128&d=identicon&r=PG", "display_name": "greatwolf", "link": "https://stackoverflow.com/users/234175/greatwolf"}, "edited": false, "score": 0, "creation_date": 1423090864, "post_id": 28332452, "comment_id": 45013345, "body": "@greatwolf - Yeah I think I just copied it twice, updated."}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423090896, "post_id": 28332452, "comment_id": 45013365, "body": "@Etan - The examples in my comments are with both of the possible options.  Hardcoding to either one doesnt seem to work.  Just for completeness, its set to <code>#define LUAI_BITSINT\t32</code>"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1423091617, "post_id": 28332452, "comment_id": 45013641, "body": "Ah, I missed the difference there. Apologies. Compile a small program against the appropriate header that prints out the value and see what it is?"}, {"owner": {"reputation": 18839, "user_id": 234175, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/37f386df1c4e98d9ce0350431f590f2a?s=128&d=identicon&r=PG", "display_name": "greatwolf", "link": "https://stackoverflow.com/users/234175/greatwolf"}, "edited": false, "score": 0, "creation_date": 1423091699, "post_id": 28332452, "comment_id": 45013666, "body": "Also try preprocessing c source it&#39;ll show exactly what those constants are."}, {"owner": {"reputation": 18839, "user_id": 234175, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/37f386df1c4e98d9ce0350431f590f2a?s=128&d=identicon&r=PG", "display_name": "greatwolf", "link": "https://stackoverflow.com/users/234175/greatwolf"}, "edited": false, "score": 0, "creation_date": 1423091795, "post_id": 28332452, "comment_id": 45013693, "body": "I&#39;m still a little unclear why, you need to hardcode those pseudo-indices since that&#39;s kind of fragile. It should be treated as implementation detail."}, {"owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "reply_to_user": {"reputation": 18839, "user_id": 234175, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/37f386df1c4e98d9ce0350431f590f2a?s=128&d=identicon&r=PG", "display_name": "greatwolf", "link": "https://stackoverflow.com/users/234175/greatwolf"}, "edited": false, "score": 0, "creation_date": 1423106183, "post_id": 28332452, "comment_id": 45017362, "body": "@greatwolf - I&#39;m not trying to hardcore them, I&#39;m looking for how to update the code so it no longer uses those values"}], "answers": [{"tags": [], "owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "is_accepted": true, "score": 1, "last_activity_date": 1423587052, "last_edit_date": 1423587052, "creation_date": 1423586616, "answer_id": 28437044, "question_id": 28332452, "link": "https://stackoverflow.com/questions/28332452/porting-from-lua-5-1-to-5-2/28437044#28437044", "title": "Porting from Lua 5.1 to 5.2", "body": "<p>I believe I've managed to upgrade this, so I'll add the details of what I did below and the conversion.  I created a C wrapper into the LUA lower level API to export the functionality I needed:</p>\n\n<p>1a) Replaced</p>\n\n<pre><code>lua_settable(luaState, LUA_REGISTRYINDEX); // LUA_REGISTRYINDEX no longer accessible\n</code></pre>\n\n<p>1b) With</p>\n\n<pre><code>lua_settablereg(luaState);\n</code></pre>\n\n<p>2a) Replaced</p>\n\n<pre><code>lua_gettable(luaState, LUA_REGISTRYINDEX); // LUA_REGISTRYINDEX no longer accessible\n</code></pre>\n\n<p>2b) With</p>\n\n<pre><code>lua_gettablereg(luaState);\n</code></pre>\n\n<p>3a) Replaced</p>\n\n<pre><code>lua_pushvalue(luaState, LUA_GLOBALSINDEX);\n</code></pre>\n\n<p>3b) With</p>\n\n<pre><code>lua_pushglobaltablefunction(luaState)\n</code></pre>\n\n<p>4a) Replaced</p>\n\n<pre><code>lua_replace(luaState, LUA_GLOBALSINDEX);\n</code></pre>\n\n<p>4b) With</p>\n\n<pre><code>lua_popglobaltablefunction(luaState)\n</code></pre>\n\n<p>5a) Replaced</p>\n\n<pre><code>luaL_ref(luaState, (int)LuaIndexes.LUA_REGISTRYINDEX); // also luaL_unref\n</code></pre>\n\n<p>5b) With</p>\n\n<pre><code>luaL_refreg(luaState); // also luaL_unrefreg\n</code></pre>\n\n<p>6a) Replaced</p>\n\n<pre><code>lua_rawgeti(luaState, LUA_REGISTRYINDEX, reference);\n</code></pre>\n\n<p>6b) With</p>\n\n<pre><code>lua_rawgetireg(luaState, reference);\n</code></pre>\n\n<p>7a) Replaced</p>\n\n<pre><code>lua_pcall(luaState, nArgs, nResults, errfunc);\n</code></pre>\n\n<p>7b) With</p>\n\n<pre><code>lua_pcalla(luaState, nArgs, nResults, errfunc);\n</code></pre>\n\n<p>8a) Replaced</p>\n\n<pre><code>lua_getfield(luaState, LUA_REGISTRYINDEX, meta);\n</code></pre>\n\n<p>8b) With</p>\n\n<pre><code>lua_getfieldreg(luaState, string meta);\n</code></pre>\n\n<p>9a) Replaced</p>\n\n<pre><code>lua_rawset(luaState, LUA_REGISTRYINDEX);\n</code></pre>\n\n<p>9b) With</p>\n\n<pre><code>lua_rawsetreg(luaState);\n</code></pre>\n\n<p>Definitions look like this:</p>\n\n<pre><code>__declspec(dllexport) void lua_pushglobaltablefunction(lua_State *L) \n{\n   lua_pushglobaltable(L);\n}\n\n__declspec(dllexport) void lua_popglobaltablefunction(lua_State *L) \n{\n   lua_rawseti(L, LUA_REGISTRYINDEX, LUA_RIDX_GLOBALS);\n}\n\n__declspec(dllexport) int luaL_regref(lua_State *L) \n{\n   return luaL_ref(L, LUA_REGISTRYINDEX);\n}\n\n__declspec(dllexport) void luaL_unregref(lua_State *L, int reference)\n{\n   luaL_unref(L, LUA_REGISTRYINDEX, reference);\n}\n\n__declspec(dllexport) void lua_settablereg(lua_State *L)\n{\n   lua_settable(L, LUA_REGISTRYINDEX);\n}\n\n__declspec(dllexport) void lua_gettablereg(lua_State *L)\n{\n   lua_gettable(L, LUA_REGISTRYINDEX);\n}\n\n__declspec(dllexport) void lua_rawsetreg(lua_State *L)\n{\n   lua_rawset(L, LUA_REGISTRYINDEX);\n}\n\n__declspec(dllexport) void lua_rawgetreg(lua_State *L)\n{\n   lua_rawget(L, LUA_REGISTRYINDEX);\n}\n\n__declspec(dllexport) void lua_rawgetireg(lua_State *L, int reference)\n{\n   lua_rawgeti(L, LUA_REGISTRYINDEX, reference);\n}\n\n__declspec(dllexport) void lua_getfieldreg(lua_State *L,const char *fieldname)\n{\n   lua_getfield(L, LUA_REGISTRYINDEX, fieldname);\n}\n\n__declspec(dllexport) int luaL_loadbuffername(lua_State *L,const char *buff, int size,const char * name)\n{\n   return luaL_loadbuffer(L,buff,size,name);\n}\n\n__declspec(dllexport) double lua_tonum(lua_State *L, int index)\n{\n   return lua_tonumber(L, index);\n}\n\n__declspec(dllexport) int lua_pcalla(lua_State *L,int nArgs,int nResults,int errfunc)\n{\n   return lua_pcall(L,nArgs,nResults,errfunc);\n}\n</code></pre>\n"}], "owner": {"reputation": 45722, "user_id": 95573, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8ceec9f7f83e3c12a72b6442393bde2a?s=128&d=identicon&r=PG", "display_name": "SwDevMan81", "link": "https://stackoverflow.com/users/95573/swdevman81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 1, "accepted_answer_id": 28437044, "answer_count": 1, "score": 4, "last_activity_date": 1423587052, "creation_date": 1423087798, "last_edit_date": 1423164209, "question_id": 28332452, "link": "https://stackoverflow.com/questions/28332452/porting-from-lua-5-1-to-5-2", "title": "Porting from Lua 5.1 to 5.2", "body": "<p>I'm having some issues porting some older Lua 5.1 code to Lua 5.2.  I would like to be able to use the stock Lua 5.2 dll/lib, so any porting would need to be completed using the existing API for Lua 5.2.  To make it a little more complicated, I'm using <code>DllImport</code> to P/Invoke some of the Lua API calls.  This means any of the <code>#define</code> shortcuts offered will not work.  For example using <code>lua_pushglobaltable</code> wont be possible.  Most of the updates are needed because <code>LUA_REGISTRYINDEX</code> is not longer accessible. </p>\n\n<p>What I have so far is the following:</p>\n\n<hr>\n\n<p>1a) Replace</p>\n\n<pre><code>lua_pushstring(luaState, \"tablename\");\nlua_settable(luaState, LUA_REGISTRYINDEX); // LUA_REGISTRYINDEX no longer accessible\n</code></pre>\n\n<p>1b) With</p>\n\n<pre><code>lua_setglobal(luaState, \"tablename\");\n</code></pre>\n\n<hr>\n\n<p>2a) Replace</p>\n\n<pre><code>lua_pushstring(luaState, \"tablename\");\nlua_gettable(luaState, LUA_REGISTRYINDEX); // LUA_REGISTRYINDEX no longer accessible\n</code></pre>\n\n<p>2b) With</p>\n\n<pre><code>lua_getglobal(luaState, \"tablename\");\n</code></pre>\n\n<hr>\n\n<p>3a) Replace</p>\n\n<pre><code>lua_pushvalue(luaState, LUA_GLOBALSINDEX);\n</code></pre>\n\n<p>3b) With</p>\n\n<pre><code>// not sure, something equivalent to lua_pushglobaltable(L)\n</code></pre>\n\n<hr>\n\n<p>4a) Replace</p>\n\n<pre><code>lua_replace(luaState, LUA_GLOBALSINDEX);\n</code></pre>\n\n<p>4b) With</p>\n\n<pre><code>// I dont even have a guess here\n</code></pre>\n\n<hr>\n\n<p>5a) Replace</p>\n\n<pre><code>luaL_ref(luaState, (int)LuaIndexes.LUA_REGISTRYINDEX); // also luaL_unref\n</code></pre>\n\n<p>5b) With</p>\n\n<pre><code>luaL_ref(luaState, &lt;some arbitrary constant&gt;); // this is probably wrong\n</code></pre>\n\n<hr>\n\n<p>6a) Replace</p>\n\n<pre><code>lua_rawgeti(luaState, LUA_REGISTRYINDEX, reference);\n</code></pre>\n\n<p>6b) With</p>\n\n<pre><code>lua_rawgeti(luaState, &lt;same arbitrary constant&gt;, reference); // this is probably wrong\n</code></pre>\n\n<hr>\n\n<p>7a) Replace</p>\n\n<pre><code>lua_pcall(IntPtr luaState, int nArgs, int nResults, int errfunc);\n</code></pre>\n\n<p>7b) With</p>\n\n<pre><code>lua_pcallk(IntPtr luaState, int nArgs, int nResults, int errfunc, int ctx, [MarshalAs(UnmanagedType.FunctionPtr)]LuaCSFunction function);\nlua_pcallk(luaState, nArgs, nResults, errfunc, 0, null);\n</code></pre>\n\n<hr>\n\n<p>8a) Replace</p>\n\n<pre><code>lua_getfield(luaState, LUA_REGISTRYINDEX, meta);\n</code></pre>\n\n<p>8b) With</p>\n\n<pre><code>luaL_setmetatable(IntPtr luaState, string meta);\n</code></pre>\n\n<hr>\n\n<p>9a) Replace</p>\n\n<pre><code>lua_rawset(luaState, LUA_REGISTRYINDEX);\n</code></pre>\n\n<p>9b) With</p>\n\n<pre><code>lua_settable(luaState, -3);\n</code></pre>\n\n<p>Right now everything compiles, but I get memory access violation exceptions, which means I probably substituted something incorrectly.  Any help would be appreciated.</p>\n"}, {"tags": ["c#", ".net", "nuget"], "comments": [{"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1423089884, "post_id": 28332371, "comment_id": 45012877, "body": "I know this is hacky, but the script is just a .ps1. So you could use something like this technique: <a href=\"http://proproit.com/wmi/getting-os-language/\" rel=\"nofollow noreferrer\">proproit.com/wmi/getting-os-language</a> then add another set of variables for locale and then use these based on the locale. You can event make it a pull request to the original package to improve it :)"}, {"owner": {"reputation": 667, "user_id": 1696354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa405968b4d69ddb78df1071f0399fa7?s=128&d=identicon&r=PG", "display_name": "WhiteIntel", "link": "https://stackoverflow.com/users/1696354/whiteintel"}, "reply_to_user": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1423333254, "post_id": 28332371, "comment_id": 45109076, "body": "thank you very much, I&#180;ll keep that in mind :)"}], "answers": [{"tags": [], "owner": {"reputation": 667, "user_id": 1696354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa405968b4d69ddb78df1071f0399fa7?s=128&d=identicon&r=PG", "display_name": "WhiteIntel", "link": "https://stackoverflow.com/users/1696354/whiteintel"}, "is_accepted": true, "score": 0, "last_activity_date": 1423333224, "creation_date": 1423333224, "answer_id": 28385706, "question_id": 28332371, "link": "https://stackoverflow.com/questions/28332371/nuget-english-output-on-german-system/28385706#28385706", "title": "Nuget english output on german system", "body": "<p>I solved this by changing the strings in the script to the german outputs of nuget.</p>\n"}], "owner": {"reputation": 667, "user_id": 1696354, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aa405968b4d69ddb78df1071f0399fa7?s=128&d=identicon&r=PG", "display_name": "WhiteIntel", "link": "https://stackoverflow.com/users/1696354/whiteintel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 28385706, "answer_count": 1, "score": 0, "last_activity_date": 1423333224, "creation_date": 1423087487, "question_id": 28332371, "link": "https://stackoverflow.com/questions/28332371/nuget-english-output-on-german-system", "title": "Nuget english output on german system", "body": "<p>I\u00b4m using <a href=\"https://www.nuget.org/packages/CreateNewNuGetPackageFromProjectAfterEachBuild/\" rel=\"nofollow\">this</a> to create and push nuget packages to my private feed.\nThe problem is, that my nuget output messages are in german and the scripts in this package can only check english messages to determine if a build/push was successful or not.\nIs there a way to force nuget to use the english localization?</p>\n"}, {"tags": ["c#", ".net"], "answers": [{"tags": [], "owner": {"reputation": 9793, "user_id": 2391169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b9c6b03a46672d5698ec565319c072?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2391169/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1423087921, "last_edit_date": 1423087921, "creation_date": 1423087615, "answer_id": 28332407, "question_id": 28332359, "link": "https://stackoverflow.com/questions/28332359/linq-query-to-combine-2-resultsets/28332407#28332407", "title": "LINQ query to combine 2 resultsets", "body": "<p>Two methods come up for this behaviour</p>\n\n<ul>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb341731%28v=vs.100%29.aspx\" rel=\"nofollow\"><code>Union</code></a>, which combines two result sets while culling for duplicates</li>\n<li><a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb302894%28v=vs.100%29.aspx\" rel=\"nofollow\"><code>Concat</code></a>, which simply slams two result sets together</li>\n</ul>\n\n<p>Which one you choose depends on desired behaviour. Note that either of these may or may not work if your queries are actually <code>IQueryable</code>s and running from a database (via linq-to-sql or Entity Framework or the like).</p>\n\n<p>As has been mentioned, do not forget that <code>LINQ</code> results are lazily-evaluated, and this parts of a query can be safely saved and rehashed for later.</p>\n"}, {"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1423088601, "post_id": 28332427, "comment_id": 45012326, "body": "I fail to see how this is allowing him to OR together an unknown number of different predicates."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1423088995, "post_id": 28332427, "comment_id": 45012475, "body": "@Servy You could create any number of sub-query objects and <code>Concat</code>/<code>Union</code> them together at the end. I wasn&#39;t addressing the general case though, just showing a correct version of the OPs code"}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 1, "last_activity_date": 1423087692, "creation_date": 1423087692, "answer_id": 28332427, "question_id": 28332359, "link": "https://stackoverflow.com/questions/28332359/linq-query-to-combine-2-resultsets/28332427#28332427", "title": "LINQ query to combine 2 resultsets", "body": "<p>Use <code>Concat</code> to add in the additional rows. To make the code super minimal, I would store off the initial `Select first:</p>\n\n<pre><code>var AllLocations = rows.Select(r =&gt; new ElementSearchGeoLocation(r));\nvar mainQuery = AllLocations.Where(t =&gt; (t.GeoLocationType == \"State\" &amp;&amp; t.CanViewState(t.GeoLocationState, user)) ||\n                        (t.GeoLocationType == \"City\" &amp;&amp; t.CanViewCity(t.GeoLocationCity, user)));\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>IEnumerable&lt;GeoLocation&gt; subQuery;\nif (SystemList != 0)\n   subQuery = AllLocations.Where(...);\nelse\n   subQuery = AllLocations.Where(...);\n\nvar GeoLocations = mainQuery.Concat(subQuery);\n</code></pre>\n\n<p>If you care about duplicates, you can use <code>Union</code> instead of <code>Concat</code> for the last step.</p>\n"}, {"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 3, "last_activity_date": 1423088259, "creation_date": 1423088259, "answer_id": 28332573, "question_id": 28332359, "link": "https://stackoverflow.com/questions/28332359/linq-query-to-combine-2-resultsets/28332573#28332573", "title": "LINQ query to combine 2 resultsets", "body": "<p>Here is an implementation of a <code>PredicateBuilder</code> that is able to <code>Or</code> together two different expressions:</p>\n\n<pre><code>public static class PredicateBuilder\n{\n    public static Expression&lt;Func&lt;T, bool&gt;&gt; True&lt;T&gt;() { return f =&gt; true; }\n    public static Expression&lt;Func&lt;T, bool&gt;&gt; False&lt;T&gt;() { return f =&gt; false; }\n\n    public static Expression&lt;Func&lt;T, bool&gt;&gt; Or&lt;T&gt;(\n        this Expression&lt;Func&lt;T, bool&gt;&gt; expr1,\n        Expression&lt;Func&lt;T, bool&gt;&gt; expr2)\n    {\n        var secondBody = expr2.Body.Replace(\n            expr2.Parameters[0], expr1.Parameters[0]);\n        return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;\n              (Expression.OrElse(expr1.Body, secondBody), expr1.Parameters);\n    }\n\n    public static Expression&lt;Func&lt;T, bool&gt;&gt; And&lt;T&gt;(\n        this Expression&lt;Func&lt;T, bool&gt;&gt; expr1,\n        Expression&lt;Func&lt;T, bool&gt;&gt; expr2)\n    {\n        var secondBody = expr2.Body.Replace(\n            expr2.Parameters[0], expr1.Parameters[0]);\n        return Expression.Lambda&lt;Func&lt;T, bool&gt;&gt;\n              (Expression.AndAlso(expr1.Body, secondBody), expr1.Parameters);\n    }\n}\n</code></pre>\n\n<p>It's dependant on the following code to be able to replace all instances of one expression with another:</p>\n\n<pre><code>internal class ReplaceVisitor : ExpressionVisitor\n{\n    private readonly Expression from, to;\n    public ReplaceVisitor(Expression from, Expression to)\n    {\n        this.from = from;\n        this.to = to;\n    }\n    public override Expression Visit(Expression node)\n    {\n        return node == from ? to : base.Visit(node);\n    }\n}\ninternal static class ExpressionExtensions\n{\n    public static Expression Replace(this Expression expression,\n        Expression searchEx, Expression replaceEx)\n    {\n        return new ReplaceVisitor(searchEx, replaceEx).Visit(expression);\n    }\n}\n</code></pre>\n\n<p>Using this you can now write:</p>\n\n<pre><code>var GeoLocations = rows.Select(r =&gt; new ElementSearchGeoLocation(r))\n    .Where(t =&gt; (t.GeoLocationType == \"State\" &amp;&amp; t.CanViewState(t.GeoLocationState, user)) ||\n                (t.GeoLocationType == \"City\" &amp;&amp; t.CanViewCity(t.GeoLocationCity, user)));\n\nvar predicate = PredicateBuilder.False();\n\nif(SystemList != 0)\n{\n    predicate = predicate.Or(t =&gt; dto.SystemList.Contains(t.SystemID));\n}\n\nif (groupList != 0)\n{\n    predicate = predicate.Or(t =&gt; dto.groupList.Contains(t.PoliticalID));\n}\n\nreturn Ok(GeoLocations.Where(predicate));\n</code></pre>\n"}], "owner": {"reputation": 5207, "user_id": 880874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsNOB.jpg?s=128&g=1", "display_name": "SkyeBoniwell", "link": "https://stackoverflow.com/users/880874/skyeboniwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 28332573, "answer_count": 3, "score": 0, "last_activity_date": 1423088332, "creation_date": 1423087431, "last_edit_date": 1423087611, "question_id": 28332359, "link": "https://stackoverflow.com/questions/28332359/linq-query-to-combine-2-resultsets", "title": "LINQ query to combine 2 resultsets", "body": "<p>I have a C# LINQ query that has a main query and then 2 other queries depending on if a variable is not set 0.</p>\n\n<p>The query is working, but I need to combine the resultsets and return that.</p>\n\n<p>I want the final resultset to contain the results of the two subqueries combined. Kind of like in a SQL query where you have:</p>\n\n<pre><code>SELECT * FROM myTable WHERE column1 = 'abc' OR column2 = 'xyz'\n</code></pre>\n\n<p>Right now, I think it's using an AND instead of an OR</p>\n\n<pre><code>var GeoLocations = rows.Select(r =&gt; new ElementSearchGeoLocation(r))\n    .Where(t =&gt; (t.GeoLocationType == \"State\" &amp;&amp; t.CanViewState(t.GeoLocationState, user)) ||\n                (t.GeoLocationType == \"City\" &amp;&amp; t.CanViewCity(t.GeoLocationCity, user)));\n\nif(SystemList != 0)\n{\n    GeoLocations = GeoLocations.Where(t =&gt; (dto.SystemList.Contains(t.SystemID)));\n}\n\nif (groupList != 0)\n{\n    GeoLocations = GeoLocations.Where(t =&gt; (dto.groupList.Contains(t.PoliticalID)));\n}\n\nreturn Ok(GeoLocations);\n</code></pre>\n\n<p>Is there a way to do this in LINQ?</p>\n"}, {"tags": ["c#", "mysql"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1423088782, "post_id": 28332355, "comment_id": 45012396, "body": "Didn&#39;t that colleague mean <i>&quot;Write a web service that talks to the database and let your app talk to the web service&quot;</i>?"}], "answers": [{"tags": [], "owner": {"reputation": 43527, "user_id": 98094, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VkdLW.jpg?s=128&g=1", "display_name": "Icemanind", "link": "https://stackoverflow.com/users/98094/icemanind"}, "is_accepted": false, "score": 1, "last_activity_date": 1423088650, "creation_date": 1423088650, "answer_id": 28332696, "question_id": 28332355, "link": "https://stackoverflow.com/questions/28332355/interfacing-with-mysql-database-via-http/28332696#28332696", "title": "Interfacing with MySQL Database via HTTP", "body": "<p>If you are using MySql 5.7 or higher, there is an experimental \"lab\" for allowing direct access to MySQL via a REST over HTTP interface, eliminating the need for a middle-tier server or database specific drivers.</p>\n\n<p>You can download <a href=\"http://labs.mysql.com/\" rel=\"nofollow\">the plugin</a> at the MySql Labs site. From the dropdown, select \"MySQL HTTP Plugin\" and you should be good.</p>\n\n<p>Keep in mind that its part of the \"MySql Labs\" project, which means its experimental, probably buggy and should be used at your own risk. Think twice before using them on any kind of production server.</p>\n"}], "owner": {"reputation": 1, "user_id": 4529381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b061ab2d86158904c7e15e85942f92c?s=128&d=identicon&r=PG&f=1", "display_name": "Callum Howells", "link": "https://stackoverflow.com/users/4529381/callum-howells"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423088806, "creation_date": 1423087422, "last_edit_date": 1423088806, "question_id": 28332355, "link": "https://stackoverflow.com/questions/28332355/interfacing-with-mysql-database-via-http", "title": "Interfacing with MySQL Database via HTTP", "body": "<p>I'm working on a project that involves linking my C# application to a MySQL server. The server is running cPanel and the company does not allow all IPs to connect to it (although you can add host IPs to the remote list). The application will be running on Windows 8 Tablets on a 3G connection, so obviously I will not know the IPs if the devices to be able to add them to the list.</p>\n\n<p>A collogue of mine has told me of a system, API or something like that that will allow me to interface with the Database via HTTP effectively bypassing this restriction.</p>\n\n<p>I can provide more information if needed.</p>\n\n<p>Does anyone know of anything similar to this or any way around this?</p>\n"}, {"tags": ["c#", "xml", "json", "linq", "api"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 1867187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbe96e4574a2c0a34deb6239f214a935?s=128&d=identicon&r=PG", "display_name": "Znk3", "link": "https://stackoverflow.com/users/1867187/znk3"}, "edited": false, "score": 1, "creation_date": 1423087875, "post_id": 28332414, "comment_id": 45011984, "body": "&#39;Ok&#39; method is irrelevant. Thank you, that fixes my problem."}], "tags": [], "owner": {"reputation": 563, "user_id": 2065834, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/D00wA.png?s=128&g=1", "display_name": "Aalawlx", "link": "https://stackoverflow.com/users/2065834/aalawlx"}, "is_accepted": true, "score": 1, "last_activity_date": 1423087628, "creation_date": 1423087628, "answer_id": 28332414, "question_id": 28332308, "link": "https://stackoverflow.com/questions/28332308/web-api-displaying-multiple-results-for-one-input-value-id/28332414#28332414", "title": "Web API displaying multiple results for one input value/id", "body": "<p>From your question I understand that you want all products with an Id equal to the id parameter.</p>\n\n<p>It isn't clear what your Ok() method does, so I will leave it there.  You may want to remove it or update it.  Also the name GetProduct suggests a singular result, so you may want to make the method name plural.</p>\n\n<p>This example code gets a list of all products with the given id parameter:</p>\n\n<pre><code>public IHttpActionResult GetProduct(int id)\n{\n    var product = products.Where(p =&gt; p.Id == id).ToList();\n    if (product == null) {\n        return NotFound();\n    }\n    return Ok(product);\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1867187, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbe96e4574a2c0a34deb6239f214a935?s=128&d=identicon&r=PG", "display_name": "Znk3", "link": "https://stackoverflow.com/users/1867187/znk3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 28332414, "answer_count": 1, "score": 0, "last_activity_date": 1423091240, "creation_date": 1423087247, "last_edit_date": 1423091240, "question_id": 28332308, "link": "https://stackoverflow.com/questions/28332308/web-api-displaying-multiple-results-for-one-input-value-id", "title": "Web API displaying multiple results for one input value/id", "body": "<p>I've been following this tutorial: <a href=\"http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api\" rel=\"nofollow\">http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api</a> to create my API, and the logic behind it is pretty much the same.</p>\n\n<p>At the moment /api/products gets all products, and GetProduct /api/products/id, gets only 1 product based on the id.</p>\n\n<p>Now my problem is, I'd like to get all products with e.g. ID 1\nThis is the code used for getting just one product:  </p>\n\n<pre><code>public IHttpActionResult GetProduct(int id)\n{\n    var product = products.FirstOrDefault((p) =&gt; p.Id == id);\n    if (product == null) {\n        return NotFound();\n    }\n    return Ok(product);\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "geometry", "custom-controls", "shape"], "answers": [{"comments": [{"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 0, "creation_date": 1423166226, "post_id": 28338925, "comment_id": 45049505, "body": "Peter, I greatly appreciate your selective attention to helping me with this issue!  By the way, you do not need to lie to Visual Studio.  Instead, you can create a <code>Themes</code> folder and create a resource dictionary named <code>Generic.xaml</code> inside of it.  This XAML contains the style for the custom control.  There is a bit of info on this MSDN page: <a href=\"https://msdn.microsoft.com/en-us/library/ms745025%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">Control Authoring Overview</a>. Once you create the style, you apply it using <code>DefaultStyleKey = typeof(SimpleGraph);</code> in your control&#39;s constructor."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "reply_to_user": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 0, "creation_date": 1423166842, "post_id": 28338925, "comment_id": 45049847, "body": "@NickMiller: thanks for the tip. It sounds like it&#39;s not quite the same as starting with a <code>UserControl</code> (i.e. you have to tie the XAML style to the control explicitly via code, rather than it being a XAML+code-behind pair in the project), but it sounds like a very useful technique to know. Thanks for sharing!"}, {"owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "edited": false, "score": 0, "creation_date": 1423167694, "post_id": 28338925, "comment_id": 45050281, "body": "I&#39;ve added the <code>Generic.xaml</code> I used for testing to the bottom of the original post for those who are interested."}], "tags": [], "owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "is_accepted": true, "score": 5, "last_activity_date": 1423123352, "creation_date": 1423123352, "answer_id": 28338925, "question_id": 28332278, "link": "https://stackoverflow.com/questions/28332278/convert-shape-into-reusable-geometry-in-wpf/28338925#28338925", "title": "Convert Shape into reusable Geometry in WPF", "body": "<p>I think that you are probably not approaching this in the best way. Based on the code you posted, it seems that you are trying to do manually things that WPF is reasonably good at handling automatically.</p>\n\n<p>The main tricky part (at least for me&hellip;I'm hardly a WPF expert) is that you appear to want to use an actual <code>Shape</code> object as the template for your graph's data point graphics, and I'm not entirely sure of the best way to allow for that template to be replaced programmatically or declaratively without exposing the underlying transformation mechanic that controls the positioning on the graph.</p>\n\n<p>So here's an example that ignores that particular aspect (I will comment on alternatives below), but which I believe otherwise serves your precise needs.</p>\n\n<p>First, I create a custom <code>ItemsControl</code> class (in Visual Studio, I do this by lying and telling VS I want to add a <code>UserControl</code>, which gets me a XAML-based item in the project&hellip;I immediately replace \"UserControl\" with \"ItemsControl\" in both the .xaml and .xaml.cs files):</p>\n\n<p><strong>XAML:</strong></p>\n\n<pre><code>&lt;ItemsControl x:Class=\"TestSO28332278SimpleGraphControl.SimpleGraph\"\n              xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n              xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n              xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" \n              xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\" \n              xmlns:local=\"clr-namespace:TestSO28332278SimpleGraphControl\"\n              mc:Ignorable=\"d\" \n              x:Name=\"root\"\n              d:DesignHeight=\"300\" d:DesignWidth=\"300\"&gt;\n\n  &lt;ItemsControl.Resources&gt;\n    &lt;EllipseGeometry x:Key=\"defaultGraphGeometry\" Center=\"5,5\" RadiusX=\"5\" RadiusY=\"5\" /&gt;\n  &lt;/ItemsControl.Resources&gt;\n\n  &lt;ItemsControl.ItemsPanel&gt;\n    &lt;ItemsPanelTemplate&gt;\n      &lt;Canvas IsItemsHost=\"True\" /&gt;\n    &lt;/ItemsPanelTemplate&gt;\n  &lt;/ItemsControl.ItemsPanel&gt;\n\n  &lt;ItemsControl.ItemTemplate&gt;\n    &lt;DataTemplate DataType=\"{x:Type local:DataPoint}\"&gt;\n      &lt;Path Data=\"{Binding ElementName=root, Path=DataPointGeometry}\"\n            Fill=\"Red\" Stroke=\"Black\" StrokeThickness=\"1\"&gt;\n        &lt;Path.RenderTransform&gt;\n          &lt;TranslateTransform X=\"{Binding X}\" Y=\"{Binding Y}\"/&gt;\n        &lt;/Path.RenderTransform&gt;\n      &lt;/Path&gt;\n    &lt;/DataTemplate&gt;\n  &lt;/ItemsControl.ItemTemplate&gt;\n\n&lt;/ItemsControl&gt;\n</code></pre>\n\n<p><strong>C#:</strong></p>\n\n<pre><code>public partial class SimpleGraph : ItemsControl\n{\n    public Geometry DataPointGeometry\n    {\n        get { return (Geometry)GetValue(DataPointShapeProperty); }\n        set { SetValue(DataPointShapeProperty, value); }\n    }\n\n    public static DependencyProperty DataPointShapeProperty = DependencyProperty.Register(\n        \"DataPointGeometry\", typeof(Geometry), typeof(SimpleGraph));\n\n    public SimpleGraph()\n    {\n        InitializeComponent();\n\n        DataPointGeometry = (Geometry)FindResource(\"defaultGraphGeometry\");\n    }\n}\n</code></pre>\n\n<p>The key here is that I have an <code>ItemsControl</code> class with a default <code>ItemTemplate</code> that has a single <code>Path</code> object. That object's geometry is bound to the controls <code>DataPointGeometry</code> property, and its <code>RenderTransform</code> is bound to the data item's <code>X</code> and <code>Y</code> values as offsets for a translation transform.</p>\n\n<p>A simple <code>Canvas</code> is used for the <code>ItemsPanel</code>, as I just need a place to draw things, without any other layout features. Finally, there is a resource defining a default geometry to use, in case the caller doesn't provide one.</p>\n\n<p>And about that caller&hellip;</p>\n\n<p>Here is a simple example of how one might use the above:</p>\n\n<pre><code>&lt;Window x:Class=\"TestSO28332278SimpleGraphControl.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"clr-namespace:TestSO28332278SimpleGraphControl\"\n        Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n\n  &lt;Window.Resources&gt;\n    &lt;PathGeometry x:Key=\"dataPointGeometry\"\n                  Figures=\"M 0.5000,0.0000\n                  L 0.6176,0.3382\n                  0.9755,0.3455\n                  0.6902,0.5618\n                  0.7939,0.9045\n                  0.5000,0.7000\n                  0.2061,0.9045\n                  0.3098,0.5618\n                  0.0245,0.3455\n                  0.3824,0.3382 Z\"&gt;\n      &lt;PathGeometry.Transform&gt;\n        &lt;ScaleTransform ScaleX=\"20\" ScaleY=\"20\" /&gt;\n      &lt;/PathGeometry.Transform&gt;\n    &lt;/PathGeometry&gt;\n  &lt;/Window.Resources&gt;\n\n  &lt;Grid&gt;\n    &lt;Border Margin=\"3\" BorderBrush=\"Black\" BorderThickness=\"1\"&gt;\n      &lt;local:SimpleGraph Width=\"450\" Height=\"300\" DataPointGeometry=\"{StaticResource dataPointGeometry}\"&gt;\n        &lt;local:SimpleGraph.Items&gt;\n          &lt;local:DataPoint X=\"10\" Y=\"10\" /&gt;\n          &lt;local:DataPoint X=\"25\" Y=\"25\" /&gt;\n          &lt;local:DataPoint X=\"40\" Y=\"40\" /&gt;\n          &lt;local:DataPoint X=\"55\" Y=\"55\" /&gt;\n        &lt;/local:SimpleGraph.Items&gt;\n      &lt;/local:SimpleGraph&gt;\n    &lt;/Border&gt;\n  &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>In the above, the only truly interesting thing is that I declare a <code>PathGeometry</code> resource, and then bind that resource to the control's <code>DataPointGeometry</code> property. This allows the program to provide a custom geometry for the graph.</p>\n\n<p>WPF handles the rest through implicit data binding and templating. If the values of any of the <code>DataPoint</code> objects change, or the data collection itself is modified, the graph will be updated automatically.</p>\n\n<p>Here's what it looks like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/tRAzf.png\" alt=\"Graph screenshot\"></p>\n\n<p><br/>\nI will note that the above example only allows you to specify the geometry. The other shape attributes are hard-coded in the data template. This seems slightly different from what you asked to do. But note that you have a few alternatives here that should address your need without requiring the reintroduction of all the extra manual-binding/updating code in your example:</p>\n\n<ol>\n<li><p>Simply add other properties, bound to the template <code>Path</code> object in a fashion similar to the <code>DataPointGeometry</code> property. E.g. <code>DataPointFill</code>, <code>DataPointStroke</code>, etc.</p></li>\n<li><p>Go ahead and allow the user to specify a <code>Shape</code> object, and then use the properties of that object to populate specific properties bound to the properties of the template object. This is mainly a convenience to the caller; if anything, it's a bit of added complication in the graph control itself.</p></li>\n<li><p>Go whole-hog and allow the user to specify a <code>Shape</code> object, which you then convert to a template by using <code>XamlWriter</code> to create some XAML for the object, add the necessary <code>Transform</code> element to the XAML and wrap it in a <code>DataTemplate</code> declaration (e.g. by loading the XAML as an in-memory DOM to modify the XAML), and then using <code>XamlReader</code> to then load the XAML as a template which you can then assign to the <code>ItemTemplate</code> property.</p></li>\n</ol>\n\n<p>Option #3 seems the most complicated to me. So complicated in fact that I did not bother to prototype an example using it&hellip;I did a little research and it seems to me that it should work, but I admit that I did not verify for myself that it does. But it would certainly be the gold standard in terms of absolute flexibility for the caller.</p>\n"}], "owner": {"reputation": 3615, "user_id": 975724, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/o10HS.jpg?s=128&g=1", "display_name": "Nicholas Miller", "link": "https://stackoverflow.com/users/975724/nicholas-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5497, "favorite_count": 0, "accepted_answer_id": 28338925, "answer_count": 1, "score": 3, "last_activity_date": 1423167531, "creation_date": 1423087114, "last_edit_date": 1495535226, "question_id": 28332278, "link": "https://stackoverflow.com/questions/28332278/convert-shape-into-reusable-geometry-in-wpf", "title": "Convert Shape into reusable Geometry in WPF", "body": "<p>I am trying to convert a <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.shapes.shape%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">System.Windows.Shapes.Shape</a> object into a <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.media.geometry(v=vs.110).aspx\" rel=\"nofollow noreferrer\">System.Windows.Media.Geometry</a> object.</p>\n\n<p>With the <code>Geometry</code> object, I am going to render it multiple times with a custom graph control depending on a set of data points.  This requires that each instance of the <code>Geometry</code> object has a unique <code>TranslateTransform</code> object.</p>\n\n<p>Now, I am approaching the issue in two different ways, but neither seems to be working correctly.  My custom control uses the following code in order to draw the geometry:</p>\n\n<pre><code>//Create an instance of the geometry the shape uses.\nGeometry geo = DataPointShape.RenderedGeometry.Clone();\n//Apply transformation.\nTranslateTransform translation = new TranslateTransform(dataPoint.X, dataPoint.Y);\ngeo.Transform = translation;\n//Create pen and draw geometry.\nPen shapePen = new Pen(DataPointShape.Stroke, DataPointShape.StrokeThickness);\ndc.DrawGeometry(DataPointShape.Fill, shapePen, geo);\n</code></pre>\n\n<p>I have also tried the following alternate code:</p>\n\n<pre><code>//Create an instance of the geometry the shape uses.\nGeometry geo = DataPointShape.RenderedGeometry;\n//Apply transformation.\nTranslateTransform translation = new TranslateTransform(dataPoint.X, dataPoint.Y);\ndc.PushTransform(translation);\n//Create pen and draw geometry.\nPen shapePen = new Pen(DataPointShape.Stroke, DataPointShape.StrokeThickness);\ndc.DrawGeometry(DataPointShape.Fill, shapePen, geo);\ndc.Pop(); //Undo translation.\n</code></pre>\n\n<p>The difference is that the second snippet doesn't clone or modify the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.shapes.shape.renderedgeometry(v=vs.110).aspx\" rel=\"nofollow noreferrer\">Shape.RenderedGeometry</a> property.</p>\n\n<p>Oddly enough, I occasionally can view the geometry used for the data points in the WPF designer.  However, the behavior is inconsistent and difficult to figure out how to make the geometry <em>always appear</em>. Also, when I execute my application, the data points never appear with the specified geometry.</p>\n\n<blockquote>\n  <p><strong>EDIT:</strong> <br>I have figured out how to generate the appearance of the geometry.  But this only works in design-mode.  Execute these steps:</p>\n  \n  <ul>\n  <li>Rebuild project.</li>\n  <li>Go to MainWindow.xaml and click in the custom shape object so that the shape's properties load into Visual Studio's property window.  Wait until the property window renders what the shape looks like.</li>\n  <li>Modify the data points collection or properties to see the geometry rendered properly.</li>\n  </ul>\n  \n  <p>Here is what I want the control to ultimately look like for now: \n  <img src=\"https://i.stack.imgur.com/0oMVT.png\" alt=\"enter image description here\"></p>\n</blockquote>\n\n<h2>How can I convert a Shape object to a Geometry object for rendering multiple times?</h2>\n\n<p>Your help is tremendously appreciated!</p>\n\n<p><hr>\nLet me give the full context of my problem, as well as all necessary code to understanding how my control is set up.  Hopefully, this might indicate what problems exist in my method of converting the <code>Shape</code> object to a <code>Geometry</code> object.</p>\n\n<p><strong>MainWindow.xaml</strong></p>\n\n<pre><code>&lt;Window x:Class=\"CustomControls.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"clr-namespace:CustomControls\"&gt;\n&lt;Grid&gt;\n    &lt;local:LineGraph&gt;\n        &lt;local:LineGraph.DataPointShape&gt;\n            &lt;Ellipse Width=\"10\" Height=\"10\" Fill=\"Red\" Stroke=\"Black\" StrokeThickness=\"1\" /&gt;\n        &lt;/local:LineGraph.DataPointShape&gt;\n        &lt;local:LineGraph.DataPoints&gt;\n            &lt;local:DataPoint X=\"10\" Y=\"10\"/&gt;\n            &lt;local:DataPoint X=\"20\" Y=\"20\"/&gt;\n            &lt;local:DataPoint X=\"30\" Y=\"30\"/&gt;\n            &lt;local:DataPoint X=\"40\" Y=\"40\"/&gt;\n        &lt;/local:LineGraph.DataPoints&gt;\n    &lt;/local:LineGraph&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>DataPoint.cs</strong>\n<br>\nThis class just has two <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.dependencyproperty%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">DependencyProperties</a> (X &amp; Y) and it gives a notification when any of those properties are changed.  This notification is used to trigger a re-render via <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.uielement.invalidatevisual%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">UIElement.InvalidateVisual()</a>.</p>\n\n<pre><code>public class DataPoint : DependencyObject, INotifyPropertyChanged\n{\n    public static readonly DependencyProperty XProperty = DependencyProperty.Register(\"XProperty\", typeof(double), typeof(DataPoint), new FrameworkPropertyMetadata(0.0d, DataPoint_PropertyChanged));\n    public static readonly DependencyProperty YProperty = DependencyProperty.Register(\"YProperty\", typeof(double), typeof(DataPoint), new FrameworkPropertyMetadata(0.0d, DataPoint_PropertyChanged));\n\n    private static void DataPoint_PropertyChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)\n    {\n        DataPoint dp = (DataPoint)sender;\n        dp.RaisePropertyChanged(e.Property.Name);\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n    protected void RaisePropertyChanged(string name)\n    {\n        if (PropertyChanged != null)\n        {\n            PropertyChanged(this, new PropertyChangedEventArgs(name));\n        }\n    }\n\n    public double X\n    {\n        get { return (double)GetValue(XProperty); }\n        set { SetValue(XProperty, (double)value); }\n    }\n    public double Y\n    {\n        get { return (double)GetValue(YProperty); }\n        set { SetValue(YProperty, (double)value); }\n    }\n}\n</code></pre>\n\n<p><strong>LineGraph.cs</strong><br>\nThis is the control.  It contains the collection of data points and provides mechanisms for re-rendering the data points (useful for WPF designer).  Of particular importance is the logic posted above which is inside of the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.uielement.onrender%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">UIElement.OnRender()</a> method.</p>\n\n<pre><code>public class LineGraph : FrameworkElement\n{\n    public static readonly DependencyProperty DataPointShapeProperty = DependencyProperty.Register(\"DataPointShapeProperty\", typeof(Shape), typeof(LineGraph), new FrameworkPropertyMetadata(default(Shape), FrameworkPropertyMetadataOptions.AffectsRender, DataPointShapeChanged));\n    public static readonly DependencyProperty DataPointsProperty = DependencyProperty.Register(\"DataPointsProperty\", typeof(ObservableCollection&lt;DataPoint&gt;), typeof(LineGraph), new FrameworkPropertyMetadata(default(ObservableCollection&lt;DataPoint&gt;), FrameworkPropertyMetadataOptions.AffectsRender, DataPointsChanged));\n\n    private static void DataPointShapeChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)\n    {\n        LineGraph g = (LineGraph)sender;\n        g.InvalidateVisual();\n    }\n\n    private static void DataPointsChanged(DependencyObject sender, DependencyPropertyChangedEventArgs e)\n    {   //Collection referenced set or unset.\n        LineGraph g = (LineGraph)sender;\n        INotifyCollectionChanged oldValue = e.OldValue as INotifyCollectionChanged;\n        INotifyCollectionChanged newValue = e.NewValue as INotifyCollectionChanged;\n        if (oldValue != null)\n            oldValue.CollectionChanged -= g.DataPoints_CollectionChanged;\n        if (newValue != null)\n            newValue.CollectionChanged += g.DataPoints_CollectionChanged;\n\n        //Update the point visuals.\n        g.InvalidateVisual();\n    }\n\n    private void DataPoints_CollectionChanged(object sender, NotifyCollectionChangedEventArgs e)\n    {   //Collection changed (added/removed from).\n        if (e.OldItems != null)\n            foreach (INotifyPropertyChanged n in e.OldItems)\n            {\n                n.PropertyChanged -= DataPoint_PropertyChanged;\n            }\n        if (e.NewItems != null)\n            foreach (INotifyPropertyChanged n in e.NewItems)\n            {\n                n.PropertyChanged += DataPoint_PropertyChanged;\n            }\n\n        InvalidateVisual();\n    }\n\n    private void DataPoint_PropertyChanged(object sender, PropertyChangedEventArgs e)\n    {\n        //Re-render the LineGraph when a DataPoint has a property that changes.\n        InvalidateVisual();\n    }\n\n    public Shape DataPointShape\n    {\n        get { return (Shape)GetValue(DataPointShapeProperty); }\n        set { SetValue(DataPointShapeProperty, (Shape)value); }\n    }\n\n    public ObservableCollection&lt;DataPoint&gt; DataPoints\n    {\n        get { return (ObservableCollection&lt;DataPoint&gt;)GetValue(DataPointsProperty); }\n        set { SetValue(DataPointsProperty, (ObservableCollection&lt;DataPoint&gt;)value); }\n    }\n\n    public LineGraph()\n    {    //Provide instance-specific value for data point collection instead of a shared static instance.\n        SetCurrentValue(DataPointsProperty, new ObservableCollection&lt;DataPoint&gt;());\n    }\n\n    protected override void OnRender(DrawingContext dc)\n    {\n        if (DataPointShape != null)\n        {\n            Pen shapePen = new Pen(DataPointShape.Stroke, DataPointShape.StrokeThickness);\n            foreach (DataPoint dp in DataPoints)\n            {\n                Geometry geo = DataPointShape.RenderedGeometry.Clone();\n                TranslateTransform translation = new TranslateTransform(dp.X, dp.Y);\n                geo.Transform = translation;\n                dc.DrawGeometry(DataPointShape.Fill, shapePen, geo);\n            }\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>EDIT 2:</strong><br>In response to <a href=\"https://stackoverflow.com/a/28338925/975724\">this answer by Peter Duniho</a>, I would like to provide the alternate method to lying to Visual Studio in creating a custom control.  For creating the custom control execute these steps:</p>\n  \n  <ul>\n  <li>Create folder in root of project named <code>Themes</code></li>\n  <li>Create resource dictionary in <code>Themes</code> folder named <code>Generic.xaml</code></li>\n  <li>Create a style in the resource dictionary for the control.</li>\n  <li>Apply the style from the control's C# code.</li>\n  </ul>\n  \n  <p><strong>Generic.xaml</strong><br>Here is an example of for the <code>SimpleGraph</code> described by Peter.</p>\n\n<pre><code>&lt;ResourceDictionary \n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"clr-namespace:CustomControls\"&gt;\n    &lt;Style TargetType=\"local:SimpleGraph\" BasedOn=\"{StaticResource {x:Type ItemsControl}}\"&gt;\n        &lt;Style.Resources&gt;\n            &lt;EllipseGeometry x:Key=\"defaultGraphGeometry\" Center=\"5,5\" RadiusX=\"5\" RadiusY=\"5\"/&gt;\n        &lt;/Style.Resources&gt;\n        &lt;Style.Setters&gt;\n            &lt;Setter Property=\"ItemsPanel\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ItemsPanelTemplate&gt;\n                        &lt;Canvas IsItemsHost=\"True\"/&gt;\n                    &lt;/ItemsPanelTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n            &lt;Setter Property=\"ItemTemplate\"&gt;\n                &lt;Setter.Value&gt;\n                    &lt;DataTemplate DataType=\"{x:Type local:DataPoint}\"&gt;\n                        &lt;Path Fill=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:SimpleGraph}}, Path=DataPointFill}\" \n                                Stroke=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:SimpleGraph}}, Path=DataPointStroke}\" \n                                StrokeThickness=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:SimpleGraph}}, Path=DataPointStrokeThickness}\" \n                                Data=\"{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type local:SimpleGraph}}, Path=DataPointGeometry}\"&gt;\n                            &lt;Path.RenderTransform&gt;\n                                &lt;TranslateTransform X=\"{Binding X}\" Y=\"{Binding Y}\"/&gt;\n                            &lt;/Path.RenderTransform&gt;\n                        &lt;/Path&gt;\n                    &lt;/DataTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style.Setters&gt;\n    &lt;/Style&gt;\n&lt;/ResourceDictionary&gt;\n</code></pre>\n  \n  <p>Lastly, apply the style like so in the <code>SimpleGraph</code> constructor:</p>\n\n<pre><code>public SimpleGraph()\n{\n    DefaultStyleKey = typeof(SimpleGraph);\n    DataPointGeometry = (Geometry)FindResource(\"defaultGraphGeometry\");\n}\n</code></pre>\n</blockquote>\n"}, {"tags": ["c#", "linq"], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 3859405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6abd03fa37c64aca838f544decf98fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Abbath", "link": "https://stackoverflow.com/users/3859405/abbath"}, "edited": false, "score": 1, "creation_date": 1423087174, "post_id": 28332274, "comment_id": 45011638, "body": "You forgot the OrderBy"}], "tags": [], "owner": {"reputation": 117216, "user_id": 1831, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6Pq36.jpg?s=128&g=1", "display_name": "Russ Cam", "link": "https://stackoverflow.com/users/1831/russ-cam"}, "is_accepted": true, "score": 6, "last_activity_date": 1423087861, "last_edit_date": 1423087861, "creation_date": 1423087099, "answer_id": 28332274, "question_id": 28332232, "link": "https://stackoverflow.com/questions/28332232/linq-groupby-with-sum/28332274#28332274", "title": "LINQ GroupBy with Sum", "body": "<p>You need to project the <code>ProductId</code> and <code>Description</code> as well as the <code>Sum()</code> in the <code>Select</code> projection:</p>\n\n<pre><code>var query = _context.Set&lt;OrderItem&gt;()\n    .Where(oi =&gt; oi.Order.ClientId == input.ClientId)\n    .GroupBy(oi =&gt; oi.ProductId)\n    .Select(group =&gt; \n        new { \n            ProductId = group.Key, \n            Description = group.First().Description, \n            Sum = group.Sum(item =&gt; item.Quantity)\n            })\n    .OrderByDescending(i =&gt; i.Sum)\n    .Take(15);\n</code></pre>\n\n<p>The group key is the <code>ProductId</code> so we can use this to project the key. The <code>Description</code> we need to get from the first item in the group.</p>\n"}, {"comments": [{"owner": {"reputation": 117216, "user_id": 1831, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/6Pq36.jpg?s=128&g=1", "display_name": "Russ Cam", "link": "https://stackoverflow.com/users/1831/russ-cam"}, "edited": false, "score": 0, "creation_date": 1423087455, "post_id": 28332328, "comment_id": 45011782, "body": "I think the OP wants the equivalent to the SQL he has shown expressed with LINQ"}], "tags": [], "owner": {"reputation": 2691, "user_id": 977406, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/RRau3.jpg?s=128&g=1", "display_name": "Alkasai", "link": "https://stackoverflow.com/users/977406/alkasai"}, "is_accepted": false, "score": 1, "last_activity_date": 1423088136, "last_edit_date": 1423088136, "creation_date": 1423087317, "answer_id": 28332328, "question_id": 28332232, "link": "https://stackoverflow.com/questions/28332232/linq-groupby-with-sum/28332328#28332328", "title": "LINQ GroupBy with Sum", "body": "<p>try this instead:</p>\n\n<pre><code>var query = _context.Set&lt;OrderItem&gt;()\n        .Where(oi =&gt; oi.Order.ClientId == input.ClientId)\n        .GroupBy(oi =&gt; oi.ProductId)\n        .OrderByDescending(group =&gt; group.Sum(item =&gt; item.Quantity))\n        .Take(15);\n</code></pre>\n\n<p>Also I don't understand why are you grouping them? If you have one record for each product all you need to do is this:</p>\n\n<pre><code>var query = _context.Set&lt;OrderItem&gt;()\n        .Where(oi =&gt; oi.Order.ClientId == input.ClientId)\n        .OrderByDescending(product =&gt; product.Quantity)\n        .Take(15);\n</code></pre>\n"}], "owner": {"reputation": 3997, "user_id": 1344476, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a19f9730ac71e7d8e5be91aa1d0ea06f?s=128&d=identicon&r=PG", "display_name": "Ray", "link": "https://stackoverflow.com/users/1344476/ray"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "accepted_answer_id": 28332274, "answer_count": 2, "score": 1, "last_activity_date": 1423089465, "creation_date": 1423086900, "last_edit_date": 1423089465, "question_id": 28332232, "link": "https://stackoverflow.com/questions/28332232/linq-groupby-with-sum", "title": "LINQ GroupBy with Sum", "body": "<p>I'm trying to get a client's most popular products (ordered the most by quantity) using a LINQ query. I have the right results when I run this SQL query:</p>\n\n<pre><code>SELECT TOP(15) i.ProductId, p.Description, Sum(i.Quantity) As QuantityOrdered\nFROM Orders o \nINNER JOIN OrderItems i ON o.Id = i.OrderId\nINNER JOIN Products p ON i.ProductId = p.Id \nWHERE o.ClientId = 19\nGROUP BY ProductId, Description\nORDER BY QuantityOrdered DESC\n</code></pre>\n\n<p>It gives me the right results:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zH3Dv.png\" alt=\"enter image description here\"></p>\n\n<p>I'm trying to duplicate these results using LINQ and here is what I have so far:</p>\n\n<pre><code>var query = _context.Set&lt;OrderItem&gt;()\n            .Where(oi =&gt; oi.Order.ClientId == input.ClientId)\n            .GroupBy(oi =&gt; oi.ProductId)\n            .Select(group =&gt; group.Sum(item =&gt; item.Quantity))\n            .Take(15);\n</code></pre>\n\n<p>All I get here is a list of Sums, but I don't know how to include the product id and description. Secondly how do I include an OrderBy so that the highest sum appears first?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "user-interface", "windows-applications"], "comments": [{"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423088660, "post_id": 28332195, "comment_id": 45012358, "body": "Where exactly did you find that template?"}, {"owner": {"reputation": 21, "user_id": 4530521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5ed91ad54cfdc7c1a94c902f9e4c88?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4530521/jason"}, "reply_to_user": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423108561, "post_id": 28332195, "comment_id": 45017951, "body": "Its just a standard built in project type in VS2013 - Visual C#-&gt;Store Apps-Split App (Windows)"}, {"owner": {"reputation": 9235, "user_id": 2893012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J1Sfd.jpg?s=128&g=1", "display_name": "SamTh3D3v", "link": "https://stackoverflow.com/users/2893012/samth3d3v"}, "edited": false, "score": 0, "creation_date": 1423126705, "post_id": 28332195, "comment_id": 45024732, "body": "Store Apps are not WPF apps !!"}, {"owner": {"reputation": 21, "user_id": 4530521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5ed91ad54cfdc7c1a94c902f9e4c88?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4530521/jason"}, "edited": false, "score": 0, "creation_date": 1423144048, "post_id": 28332195, "comment_id": 45035340, "body": "I was thinking that the question could apply to WPF, XAML, or Silverlight in general.  I don&#39;t believe that its specific to WPF or XAML unless you have a different solution to propose that is unique?"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 4530521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5ed91ad54cfdc7c1a94c902f9e4c88?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4530521/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1423172187, "creation_date": 1423172187, "answer_id": 28354519, "question_id": 28332195, "link": "https://stackoverflow.com/questions/28332195/wpf-split-page-app/28354519#28354519", "title": "WPF split page app", "body": "<p>I think I finally found an example that is helping - User and Custom controls:\n<a href=\"https://code.msdn.microsoft.com/windowsapps/XAML-user-and-custom-a8a9505e\" rel=\"nofollow\">https://code.msdn.microsoft.com/windowsapps/XAML-user-and-custom-a8a9505e</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4530521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef5ed91ad54cfdc7c1a94c902f9e4c88?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4530521/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423172187, "creation_date": 1423086773, "question_id": 28332195, "link": "https://stackoverflow.com/questions/28332195/wpf-split-page-app", "title": "WPF split page app", "body": "<p>I am pretty new to WPF and I am starting my first serious app based on the C# split page app template.  My question is on the actual split page itself.  Based on the item selected  on the left-hand group, I would like to load specific content in place or in addition to where the text block is.  So on selection of the first Item on the scrollview side, it would work as it does in the default sample.  The second item selection might want to display a list in place of the text block.  The third item might display a grid and some drop-down lists.\nSo the idea is that each item represents some sort of tool or information.</p>\n\n<p>What would be the best approach here?  I have come across recommendations for the use of ContentControl or an embedded form, but I wasn't sure that those were correct to use.  Ideally for the different tools, I would have a stand alone xaml page that I could load up in the scrollview side of the split app page.</p>\n\n<p>thanks in advance.</p>\n"}, {"tags": ["c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 14991, "user_id": 1690193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hac9.jpg?s=128&g=1", "display_name": "Nick.McDermaid", "link": "https://stackoverflow.com/users/1690193/nick-mcdermaid"}, "edited": false, "score": 2, "creation_date": 1423086925, "post_id": 28332158, "comment_id": 45011507, "body": "Another option is BULK INSERT the file into a staging table in SQL Server (using <code>BCP.EXE</code> or <code>SSIS</code> or the <code>BULK INSERT</code> keyword) then transform it from your staging table to the final table using a stored procedure. In comparison to C#, SQL is efficient at ordering, lookups, grouping, summarising but not so good at text manipulation. What format are your text files and what kind of processing is required?"}, {"owner": {"reputation": 215643, "user_id": 50552, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/200c020bef60e4d9c4c4ba1c85442026?s=128&d=identicon&r=PG", "display_name": "Andomar", "link": "https://stackoverflow.com/users/50552/andomar"}, "edited": false, "score": 1, "creation_date": 1423086948, "post_id": 28332158, "comment_id": 45011525, "body": "Thousands of records are peanuts for SQL Server, You can do this any way you like, repeat it 10x, and it would still be fast"}, {"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1423086975, "post_id": 28332158, "comment_id": 45011540, "body": "TVP will be more efficient than looping through a string. In my testing, it generally beats all of the other string splitting mechanisms, even CLR. However if you have an index on the string column another approach is to pass the variable as string-and-comma-delimited, e.g. <code>&#39;Smith&#39;,&#39;Jones&#39;,&#39;Frankenstein&#39;</code> and then assemble that in dynamic SQL (pretend there are a bunch of disclaimers here about SQL injection, and read up on that later). That said, identifying rows to update based on strings (especially if you&#39;re talking about multi-valued strings like JSON) sounds like a bad ida."}, {"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1423087072, "post_id": 28332158, "comment_id": 45011592, "body": "The mistake most people make is to try to send strings only comma-delimited, e.g. <code>Smith,Jones,Frankenstein</code> and then try to give that to an <code>IN(@parameter)</code> or construct dynamic SQL - won&#39;t work because the param is a single tuple to the <code>IN()</code> and is a set of column names to the dynamic SQL."}, {"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1423087117, "post_id": 28332158, "comment_id": 45011607, "body": "The TVP is probably more efficient for your C# code, too, after all you are probably building a comma-separated string in some inefficient way but ultimately based off something with better structure, like a DataTable, right?"}, {"owner": {"reputation": 59, "user_id": 4413339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68fae2544a5d9cdb4215a85caf58b915?s=128&d=identicon&r=PG&f=1", "display_name": "Anita", "link": "https://stackoverflow.com/users/4413339/anita"}, "reply_to_user": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1423087281, "post_id": 28332158, "comment_id": 45011688, "body": "Thanks @AaronBertrand.  I am using a data table in my application which is much easier to pass to the SP.  Should i put a limit on how many records i should be passing to SQL server at a time?"}, {"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1423087694, "post_id": 28332158, "comment_id": 45011891, "body": "I don&#39;t think there is a magic number - it will all depend on a variety of factors. By default, SQL Server will usually escalate to a table lock if you touch &gt; 5000 rows, but it could make that decision at other thresholds again depending on a lot of factors. Table lock will cause blocking and limit concurrency. Stepping back, though, I just can&#39;t envision the scenario where you need to update thousands of rows at once, and the only way you can do that is to identify each of them individually. Can you explain the real-world scenario even if a little abstractly? How did they get to a DataTable?"}, {"owner": {"reputation": 59, "user_id": 4413339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68fae2544a5d9cdb4215a85caf58b915?s=128&d=identicon&r=PG&f=1", "display_name": "Anita", "link": "https://stackoverflow.com/users/4413339/anita"}, "edited": false, "score": 0, "creation_date": 1423088193, "post_id": 28332158, "comment_id": 45012128, "body": "As I mentioned, we get text files in different formats from different clients.  The information in these text files are not consistent (different clients send us different text files).  We need specific data elements from these text files in order to update our database.  So we have different parsers for different text files.  We basically read one line at a time and extract the data we need.  When using TVP (which I am still testing with), I just add the data elements to my data table and then call the SP when i am done parsing. The text files are HUGE and could contain more than 50K records."}, {"owner": {"reputation": 4800, "user_id": 2419089, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/LZxQP.jpg?s=128&g=1", "display_name": "Ryan Mann", "link": "https://stackoverflow.com/users/2419089/ryan-mann"}, "edited": false, "score": 0, "creation_date": 1423089887, "post_id": 28332158, "comment_id": 45012879, "body": "You could write stored procedures in your database to do it with 1 input parameter, which is xml.  Then send the whole xml file to the stored proc, (pending size)"}, {"owner": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1423090140, "post_id": 28332158, "comment_id": 45012997, "body": "In a similar scenario I used the datatable as the output of the parser and then a simple SqlCommand with named parameters (to prevent injection) and sent about 200 rows in each command, iterating through the datatable. 10K rows are updated within a minute (from file upload, so including parsing and encryption of some fields in each of these 10k rows)."}, {"owner": {"reputation": 14991, "user_id": 1690193, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2hac9.jpg?s=128&g=1", "display_name": "Nick.McDermaid", "link": "https://stackoverflow.com/users/1690193/nick-mcdermaid"}, "edited": false, "score": 0, "creation_date": 1423107789, "post_id": 28332158, "comment_id": 45017744, "body": "Do your files contains thousands of records or &gt; 50K records? You should probably update your original question"}, {"owner": {"reputation": 2609, "user_id": 3412488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xchk9.jpg?s=128&g=1", "display_name": "Daniel Stackenland", "link": "https://stackoverflow.com/users/3412488/daniel-stackenland"}, "edited": false, "score": 0, "creation_date": 1423207154, "post_id": 28332158, "comment_id": 45063530, "body": "I suggest that you try to make 1 update a time to sqlserver but parallelize the c# code (Parallel.Foreach for example). My experience is that its much more scalable to do a lots of small calls than 1 huge call. And Large TVP:s are really slow."}, {"owner": {"reputation": 59, "user_id": 4413339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68fae2544a5d9cdb4215a85caf58b915?s=128&d=identicon&r=PG&f=1", "display_name": "Anita", "link": "https://stackoverflow.com/users/4413339/anita"}, "reply_to_user": {"reputation": 7491, "user_id": 2057955, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/286aaf1c939cbcfc4d4a812b398066a2?s=128&d=identicon&r=PG", "display_name": "zaitsman", "link": "https://stackoverflow.com/users/2057955/zaitsman"}, "edited": false, "score": 0, "creation_date": 1423249823, "post_id": 28332158, "comment_id": 45086436, "body": "I am limiting my TVP to 200 records at a time.  I am seeing a huge improvement in performance compared to our existing code which uses a delimited string.  As @zaitsman mentioned, 200 rows is a good size."}], "answers": [{"tags": [], "owner": {"reputation": 1065, "user_id": 2981403, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0lENO.png?s=128&g=1", "display_name": "Hozikimaru", "link": "https://stackoverflow.com/users/2981403/hozikimaru"}, "is_accepted": false, "score": 0, "last_activity_date": 1423255744, "creation_date": 1423255744, "answer_id": 28374535, "question_id": 28332158, "link": "https://stackoverflow.com/questions/28332158/whats-the-most-efficient-way-to-update-thousands-of-records/28374535#28374535", "title": "What&#39;s the most efficient way to update thousands of records", "body": "<p>The best way to do this in my opinion is to create a temp table then use SqlBulkCopy to insert into that temp table (<a href=\"https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy%28v=vs.110%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.data.sqlclient.sqlbulkcopy%28v=vs.110%29.aspx</a>), and then simply Update the table based on the temp table.</p>\n\n<p>Based on my tests(using Dapper and also LINQ), updating as a bulk or with batches takes way too longer than just creating a temp table and sending a command to the server to update the data based on the temp table. The process is faster because the SqlBulkCopy populates the data natively in a fast manner, and the rest is completed on the SQL server side which goes through less calculation steps, and the data at that point resides on the server end.</p>\n"}, {"comments": [{"owner": {"reputation": 88556, "user_id": 9034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2672d183877f7fcd8d46970ef03f1f?s=128&d=identicon&r=PG", "display_name": "HLGEM", "link": "https://stackoverflow.com/users/9034/hlgem"}, "edited": false, "score": 0, "creation_date": 1423258717, "post_id": 28374627, "comment_id": 45090820, "body": "I do complex ETL processes and I love SSIS, but have to agree with you about not fun to debug."}, {"owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "reply_to_user": {"reputation": 88556, "user_id": 9034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2672d183877f7fcd8d46970ef03f1f?s=128&d=identicon&r=PG", "display_name": "HLGEM", "link": "https://stackoverflow.com/users/9034/hlgem"}, "edited": false, "score": 0, "creation_date": 1423259149, "post_id": 28374627, "comment_id": 45090992, "body": "@HLGEM Don&#39;t get me wrong, I definitely respect the capabilities of SSIS, especially with being able to do parallel tasks and write custom C# / VB.Net tasks, but unless you work with SSIS regularly and are hence familiar with its nuances, it is a steep learning curve (and hence very time consuming) that is usually not worth it if a project will be the only thing to use it. At least that has been my experience. It has not been easy to maintain / manage those projects."}, {"owner": {"reputation": 88556, "user_id": 9034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2672d183877f7fcd8d46970ef03f1f?s=128&d=identicon&r=PG", "display_name": "HLGEM", "link": "https://stackoverflow.com/users/9034/hlgem"}, "edited": false, "score": 0, "creation_date": 1423260693, "post_id": 28374627, "comment_id": 45091646, "body": "I agree with the steep learning curve too.  A great tool but very complex. When we interview, we ask what they don&#39;t like about SSIS, that answer will tell us if they have ever really used it! Anybody who says &quot;nothing&quot; is assumed to be a newbie with the product."}, {"owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "reply_to_user": {"reputation": 88556, "user_id": 9034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2672d183877f7fcd8d46970ef03f1f?s=128&d=identicon&r=PG", "display_name": "HLGEM", "link": "https://stackoverflow.com/users/9034/hlgem"}, "edited": false, "score": 0, "creation_date": 1423518857, "post_id": 28374627, "comment_id": 45173388, "body": "@HLGEM That&#39;s a good and clever technique. I like it. I do something similar, in a more general sense, by asking candidates what they think of cursors and/or triggers. The response usually not only indicates that they have experience with the issue and have actually thought about it vs repeating what they have read, but also how well they can communicate."}, {"owner": {"reputation": 88556, "user_id": 9034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c2672d183877f7fcd8d46970ef03f1f?s=128&d=identicon&r=PG", "display_name": "HLGEM", "link": "https://stackoverflow.com/users/9034/hlgem"}, "edited": false, "score": 0, "creation_date": 1423519200, "post_id": 28374627, "comment_id": 45173564, "body": "I could talk to you for hours about Triggers and cursors.The good, the bad, the use cases, the places to avoid using them, the real life examples of things that have gone wrong (can you say cursor ina trigger?) and the real life exlamples of things that went right and how to do debug the trigger, etc. The worse things that can happen if you avoid using a trigger when it is appropriate, etc. I&#39;d never get out of the interview."}], "tags": [], "owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "is_accepted": false, "score": 2, "last_activity_date": 1423258153, "last_edit_date": 1495541389, "creation_date": 1423256096, "answer_id": 28374627, "question_id": 28332158, "link": "https://stackoverflow.com/questions/28332158/whats-the-most-efficient-way-to-update-thousands-of-records/28374627#28374627", "title": "What&#39;s the most efficient way to update thousands of records", "body": "<p>Please do not use a <code>DataTable</code> as that is just wasting CPU and memory for no benefit (other than possibly familiarity). I have detailed a very fast and flexible approach in my answer to the following questions, which is very similar to this one:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25770180/how-i-can-insert-10-million-entry-in-shortest-time-possible/25773471#25773471\">How can I insert 10 million records in the shortest time possible?</a></p>\n\n<p>The example shown in that answer is for INSERT only, but it can easily be adapted to include UPDATE. Also, it uploads <em>all</em> rows in a single shot, but that can also be easily adapted to set a counter for X number of records and to exit the IEnumerable method after that many records have been passed in, and then close the file once there are no more records. This would require storing the File pointer (i.e. the stream) in a static variable to keep passing to the IEnumerable method so that it can be advanced and picked up at the most recent position the next time around. I have a working example of this method shown in the following answer, though it was using a <code>SqlDataReader</code> as input, but the technique is the same and requires very little modification:</p>\n\n<p><a href=\"https://dba.stackexchange.com/questions/78216/how-to-split-one-big-table-that-has-100-million-data-to-multiple-tables/82862#82862\">How to split one big table that has 100 million data to multiple tables?</a></p>\n\n<p>And for some perspective, 50k records is not even close to \"huge\". I have been uploading / merging / syncing data using the method I am showing here on 4 million row files and that hit several tables with 10 million (or more) rows.</p>\n\n<hr>\n\n<p>Things to <em>not</em> do:</p>\n\n<ul>\n<li>Use a <code>DataTable</code>: as I said, if you are just filling it for the purpose of using with a TVP, it is a waste of CPU, memory, and time.</li>\n<li>Make 1 update at a time in parallel (as suggested in a comment on the question): this is just crazy. Relational database engines are heavily tuned to work most efficiently with sets, not singleton operations. There is no way that 50k inserts will be more efficient than even 500 inserts of 100 rows each. Doing it individually just guarantees more contention on the table, even if just row locks (it's 100k lock + unlock operations). Is could be faster than a single 50k row transaction that escalates to a table lock (as Aaron mentioned), but that is why you do it in smaller batches, just so long as small does not mean 1 row ;).</li>\n<li>Set the batch size arbitrarily. Staying below 5000 rows is good to help reduce chances of lock escalation, but don't just pick 200. Experiment with several batch sizes (100, 200, 500, 700, 1000) and try each one a few times. You will see what is best for your system. Just make sure that the batch size is configurable though the <strong>app.config</strong> file or some other means (table in the DB, registry setting, etc) so that it can be changed without having to re-deploy code.</li>\n<li>SSIS   (powerful, but very bulky and not fun to debug)</li>\n</ul>\n\n<p>Things which work, but not nearly as flexible as a properly done TVP (i.e. passing in a method that returns <code>IEnumerable&lt;SqlDataRecord&gt;</code>). These are ok, but why dump the records into a temp table just to have to parse them into the destination when you can do it all inline?</p>\n\n<ul>\n<li>BCP / OPENROWSET(BULK...) / BULK INSERT</li>\n<li>.NET's <code>SqlBulkCopy</code></li>\n</ul>\n"}], "owner": {"reputation": 59, "user_id": 4413339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68fae2544a5d9cdb4215a85caf58b915?s=128&d=identicon&r=PG&f=1", "display_name": "Anita", "link": "https://stackoverflow.com/users/4413339/anita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4459, "favorite_count": 3, "answer_count": 2, "score": 5, "last_activity_date": 1423258153, "creation_date": 1423086620, "question_id": 28332158, "link": "https://stackoverflow.com/questions/28332158/whats-the-most-efficient-way-to-update-thousands-of-records", "title": "What&#39;s the most efficient way to update thousands of records", "body": "<p>We have a C# application which parses data from text files.  We then have to update records in our sql database based on the information in the text files.  What's the most efficient way for passing the data from application to SQL server?</p>\n\n<p>We currently use a delimited string and then loop through the string in a stored procedure to update the records.  I am also testing using TVP (table valued parameter).  Are there any other options out there?</p>\n\n<p>Our files contain thousands of records and we would like a solution that takes the least amount of time.</p>\n"}, {"tags": ["c#", ".net", "ms-access", "oledb", "oledbdatareader"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 4198599, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-BZMpHSOlZw4/AAAAAAAAAAI/AAAAAAAAAGU/IIXVDNUPZwA/photo.jpg?sz=128", "display_name": "George Boulton", "link": "https://stackoverflow.com/users/4198599/george-boulton"}, "edited": false, "score": 0, "creation_date": 1423087553, "post_id": 28332267, "comment_id": 45011829, "body": "Thank you so much... I have been stressing over this so much, but its solved my error. Thank you again!"}], "tags": [], "owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "is_accepted": true, "score": 2, "last_activity_date": 1423087072, "creation_date": 1423087072, "answer_id": 28332267, "question_id": 28332098, "link": "https://stackoverflow.com/questions/28332098/indexoutofrangeexception-when-reading-in-a-field-from-an-access-database/28332267#28332267", "title": "IndexOutOfRangeException when reading in a field from an Access Database", "body": "<p>When you run a query like</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT Table1.Column1, Table2.Column2 FROM Table1 INNER JOIN Table2 ...\n</code></pre>\n\n<p>the resulting columns in the OleDbDataReader are (usually) just named \"Column1\" and \"Column2\", so to reference them you just need to use</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>reader[\"Column1\"]\n</code></pre>\n\n<p>not</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>reader[\"Table1.Column1\"]\n</code></pre>\n\n<p>You are getting an IndexOutOfRange exception because there is no column in the reader named \"Event.EventDistance\".</p>\n"}, {"tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": false, "score": 3, "last_activity_date": 1423141522, "last_edit_date": 1423141522, "creation_date": 1423087133, "answer_id": 28332282, "question_id": 28332098, "link": "https://stackoverflow.com/questions/28332098/indexoutofrangeexception-when-reading-in-a-field-from-an-access-database/28332282#28332282", "title": "IndexOutOfRangeException when reading in a field from an Access Database", "body": "<p>If you look at the <a href=\"http://referencesource.microsoft.com/#System.Data/System/Data/OleDb/OleDbDataReader.cs,202\" rel=\"nofollow\">source code of the OleDbDataReader for the indexer</a> that gets a string as input parameter and then follow the code, you will notice that the string passed to the indexer is searched between the field names available and, if not found, an IndexOutOfRange exception is thrown.</p>\n\n<p>In your query, there is no field named <code>\"Event.EventDistance\"</code>.<br>\nThere is a field named <code>EventDistance</code> (the tablename should be stripped away from the Reader indexer. </p>\n\n<p>But you have also another problem, your loop add repeatedly the same <code>PaceCalculator</code> instance to the list.<br>\nSo in every loop you set the EventDistance to the same PaceCalculator instance and add it again and again to the list. At the end of the loop the list is full of elements that points to the same PaceCalculator instance and this instance has the value of the last record read.</p>\n\n<p>You could fix this problem moving the creation of the instance inside the loop</p>\n\n<pre><code>   List&lt;PaceCalculator&gt; Distancelist = new List&lt;PaceCalculator&gt;();\n   while (Reader.Read())\n   {\n       PaceCalculator pace = new PaceCalculator();\n       pace.Distance = (int)Reader[\"EventDistance\"];\n       Distancelist.Add(pace);\n   }\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4198599, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh6.googleusercontent.com/-BZMpHSOlZw4/AAAAAAAAAAI/AAAAAAAAAGU/IIXVDNUPZwA/photo.jpg?sz=128", "display_name": "George Boulton", "link": "https://stackoverflow.com/users/4198599/george-boulton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 28332267, "answer_count": 2, "score": 1, "last_activity_date": 1423141522, "creation_date": 1423086428, "last_edit_date": 1423087453, "question_id": 28332098, "link": "https://stackoverflow.com/questions/28332098/indexoutofrangeexception-when-reading-in-a-field-from-an-access-database", "title": "IndexOutOfRangeException when reading in a field from an Access Database", "body": "<p>I'm having trouble reading values into a list from an Access Database. The values look like this:\nField is called EventDistance\nValues are\n77\n77\n77\n77\n55\n112\n45\n46</p>\n\n<p>My code looks like this:</p>\n\n<pre><code> private void StartSchedule_Click(object sender, EventArgs e)\n    {\n        string ConnectionString = @\"Provider=Microsoft.ACE.OLEDB.12.0;Data Source=F:\\A2 Computing\\C# Programming Project\\TriHard.accdb\";\n        string SelectQuery = \"SELECT Time.AthleteID, Athlete.AthleteName,\n                              Time.EventTime, Event.EventDistance \n                              FROM Event INNER JOIN \n                                   (Athlete INNER JOIN [Time] \n                                    ON Athlete.[AthleteID] = Time[AthleteID]) \n                                    ON Event.[EventID] = Time.[EventID];\";\n\n        OleDbConnection Connection = new OleDbConnection(ConnectionString);\n        OleDbCommand Command = new OleDbCommand(SelectQuery, Connection);\n        Command.Connection.Open();\n        OleDbDataReader Reader = Command.ExecuteReader(CommandBehavior.CloseConnection);\n\n        PaceCalculator pace = new PaceCalculator();\n        List&lt;PaceCalculator&gt; Distancelist = new List&lt;PaceCalculator&gt;();\n        while (Reader.Read())\n               {\n                   pace.Distance = (int)Reader[\"Event.EventDistance\"];\n                   Distancelist.Add(pace);\n               }\n</code></pre>\n\n<p>And its throwing IndexOutOfRanceException was unhandled for Event.EventDistance. There are only 8 integers to be read in, but there must be room for my data to expand. How do I make it so it just reads in the integers without throwing an index error?</p>\n"}, {"tags": ["c#", "visual-studio-2010", "visual-studio"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 1, "creation_date": 1423086242, "post_id": 28332020, "comment_id": 45011150, "body": "Somethings wrong, the VB templates aren&#39;t there either."}, {"owner": {"reputation": 12849, "user_id": 1218281, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2a7d7e9fa2049d4dbf9a508e5eccdb0a?s=128&d=identicon&r=PG", "display_name": "Cyral", "link": "https://stackoverflow.com/users/1218281/cyral"}, "edited": false, "score": 5, "creation_date": 1423086294, "post_id": 28332020, "comment_id": 45011183, "body": "Is there a reason why you don&#39;t upgrade to <a href=\"http://www.visualstudio.com/en-us/news/vs2013-community-vs.aspx\" rel=\"nofollow noreferrer\">Visual Studio 2013 Community</a>? It is free, has many more features, and now has features from the professional version of VS."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 1, "creation_date": 1423086610, "post_id": 28332020, "comment_id": 45011346, "body": "Have you tried <a href=\"http://stackoverflow.com/questions/4780783/visual-studio-2010-missing-project-item-templates\">those suggestions</a>?"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1423086742, "post_id": 28332020, "comment_id": 45011414, "body": "Close VS. Start by clearing the MEF cache (delete <code>%LOCALAPPDATA%\\Microsoft\\VisualStudio\\10.0\\ComponentModelCac&zwnj;&#8203;he</code>). Then clear the template cache (delete <code>%PROGRAMFILES(x86)%\\Microsoft Visual Studio 10.0\\Common7\\IDE\\ProjectTemplatesCache</code> and <code>ItemTemplatesCache</code>). Then run <code>devenv &#47;InstallVSTemplates</code> followed by <code>devenv &#47;setup</code> for good measure. That might help (and should not affect your settings, etc.). Failing that, try a repair. Failing that, I think a reinstall is your best bet."}, {"owner": {"reputation": 5031, "user_id": 315493, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/813b371be97317aabbfa37ce57e0b6ab?s=128&d=identicon&r=PG", "display_name": "The_Black_Smurf", "link": "https://stackoverflow.com/users/315493/the-black-smurf"}, "edited": false, "score": 0, "creation_date": 1423089059, "post_id": 28332020, "comment_id": 45012507, "body": "Is it something that used to work or is a fresh install?"}, {"owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "edited": false, "score": 0, "creation_date": 1423089808, "post_id": 28332020, "comment_id": 45012837, "body": "I inherited this workstation--hasn&#39;t worked since I&#39;ve had it."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 1, "creation_date": 1423090159, "post_id": 28332020, "comment_id": 45013012, "body": "It looks like you have <a href=\"http://www.microsoft.com/en-ca/download/details.aspx?id=38807\" rel=\"nofollow noreferrer\">Visual Studio for Applications</a>; which does not support desktop, web, mobile, server, nor store applications."}], "answers": [{"tags": [], "owner": {"reputation": 1059, "user_id": 2319794, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d79adbf0014caa3c4a23b40d7c15cad7?s=128&d=identicon&r=PG", "display_name": "Ian Chu Te", "link": "https://stackoverflow.com/users/2319794/ian-chu-te"}, "is_accepted": true, "score": 3, "last_activity_date": 1425361500, "creation_date": 1425361500, "answer_id": 28824915, "question_id": 28332020, "link": "https://stackoverflow.com/questions/28332020/enable-c-projects-in-visual-studio-2010/28824915#28824915", "title": "Enable C# projects in Visual Studio 2010", "body": "<p>Visual Studio 2010 Shell is a completely different product from Visual Studio 2010 Express or Professional. The former allows you to create shell applications. The latter allows you to create C# and/or VB programs.</p>\n\n<p>What you need to do is install Visual Studio 2010 Express or Professional.</p>\n"}], "owner": {"reputation": 23753, "user_id": 134367, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PgGXL.png?s=128&g=1", "display_name": "craig", "link": "https://stackoverflow.com/users/134367/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2246, "favorite_count": 0, "accepted_answer_id": 28824915, "answer_count": 1, "score": 4, "last_activity_date": 1425361500, "creation_date": 1423086160, "last_edit_date": 1495542830, "question_id": 28332020, "link": "https://stackoverflow.com/questions/28332020/enable-c-projects-in-visual-studio-2010", "title": "Enable C# projects in Visual Studio 2010", "body": "<p>It seems that C# support has been installed:</p>\n\n<p><img src=\"https://i.stack.imgur.com/NlPKr.png\" alt=\"enter image description here\"></p>\n\n<p>However, there isn't an option to create a C# project:</p>\n\n<p><img src=\"https://i.stack.imgur.com/NfZTz.png\" alt=\"enter image description here\"></p>\n\n<p>Is there a way to enable C# projects without having to reinstall VS?</p>\n\n<p>Note: this question isn't entirely relevant:\n<a href=\"https://stackoverflow.com/questions/4093954/how-can-i-add-c-sharp-language-support-to-visual-studio-2010-shell\">How can I add C# language support to Visual Studio 2010 shell?</a></p>\n\n<p>** edit 0 **</p>\n\n<p>I followed the instructions (listed in the comments).  The <code>*TemplatesCache</code> directories were recreated (with one named <code>CSharp</code> in <code>ItemTemplatesCache</code>), however they are not included in the new project list (when VS is restarted).</p>\n\n<p>** edit 1 **</p>\n\n<p>If it is relevant, I have 'Visual Studio 2010 Shell' edition:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4b1UQ.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 1, "creation_date": 1423086005, "post_id": 28331970, "comment_id": 45011016, "body": "You&#39;ve definitely got the right idea. Could you clarify a bit more as to what is confusing you? Have you tried using a simple <code>ItemsControl</code>?"}, {"owner": {"reputation": 11725, "user_id": 490018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dbf3953a5b7a3d89c4839f4a7f34fe4f?s=128&d=identicon&r=PG", "display_name": "Sergey Brunov", "link": "https://stackoverflow.com/users/490018/sergey-brunov"}, "edited": false, "score": 0, "creation_date": 1423087079, "post_id": 28331970, "comment_id": 45011595, "body": "@Jesse, 1. &quot;update the images from the model&quot;, do you mean the properties of the model classes can be changed? Also, can collections (i.e. lists) be changed (items are added/removed)? 2. &quot;I want to be able to update the images from the model without the view knowing anything about the model&quot;, would you like to have the parallel hierarchy of ViewModels?"}, {"owner": {"reputation": 25, "user_id": 3677329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yciTl.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/3677329/jesse"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1423126450, "post_id": 28331970, "comment_id": 45024598, "body": "@BradleyDotNET I am unable to show both <code>Car.Name</code> and <code>Car.Media.Views[0].Thumbnail</code>. I have tried an ItemsControl control but it still doesn&#39;t dsplay anything, I&#39;m guessing I&#39;m missing some properties or bindings but I don&#39;t know where to look."}, {"owner": {"reputation": 25, "user_id": 3677329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yciTl.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/3677329/jesse"}, "reply_to_user": {"reputation": 11725, "user_id": 490018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dbf3953a5b7a3d89c4839f4a7f34fe4f?s=128&d=identicon&r=PG", "display_name": "Sergey Brunov", "link": "https://stackoverflow.com/users/490018/sergey-brunov"}, "edited": false, "score": 0, "creation_date": 1423126642, "post_id": 28331970, "comment_id": 45024700, "body": "@SergeyBrunov 1. The properties of the model can indeed change during runtime and new cars can also be added and removed. 2. I&#39;m not sure what you mean by parallel hierarchy of ViewModels, could you explain this?"}, {"owner": {"reputation": 11725, "user_id": 490018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/dbf3953a5b7a3d89c4839f4a7f34fe4f?s=128&d=identicon&r=PG", "display_name": "Sergey Brunov", "link": "https://stackoverflow.com/users/490018/sergey-brunov"}, "edited": false, "score": 0, "creation_date": 1423163015, "post_id": 28331970, "comment_id": 45047710, "body": "@Jesse, &quot;parallel hierarchy of ViewModels&quot; means that there is a <code>ViewModel</code> <b>for each</b> <code>Model</code>. For example, <code>Controller</code>&lt; =&gt; <code>ControllerViewModel</code>, <code>Car</code> &lt;=&gt; <code>CarViewModel</code>, etc."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 3677329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yciTl.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/3677329/jesse"}, "edited": false, "score": 0, "creation_date": 1423125857, "post_id": 28332202, "comment_id": 45024286, "body": "If I understand it correctly, I need to create a new property <code>IEnumerable&lt;NameThumbViewModel&gt;</code> in my existing OverviewViewModel with the NameThumbViewModel wrapping one <code>View</code> (from the model) which contains two properties: <code>Name</code> and <code>Thumbnail</code>. How do I fill this IEnumerable&lt;&gt; and update it when another <code>View</code> is added to the <code>Views</code> list in <code>Media</code>?"}, {"owner": {"reputation": 25, "user_id": 3677329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yciTl.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/3677329/jesse"}, "edited": false, "score": 0, "creation_date": 1423130723, "post_id": 28332202, "comment_id": 45027025, "body": "I&#39;m not able to edit my comment. I&#39;ve updated my question with the solution I came up with. However I&#39;d still like to know why I should choose muliple ViewModels that wrap every Model over a ViewModel that wraps Multiple models like my example."}], "tags": [], "owner": {"reputation": 6375, "user_id": 84750, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/jbFti.jpg?s=128&g=1", "display_name": "silverfighter", "link": "https://stackoverflow.com/users/84750/silverfighter"}, "is_accepted": true, "score": 0, "last_activity_date": 1423086810, "creation_date": 1423086810, "answer_id": 28332202, "question_id": 28331970, "link": "https://stackoverflow.com/questions/28331970/binding-nested-list-using-mvvm/28332202#28332202", "title": "Binding nested list using MVVM", "body": "<p>Your are using a <code>ViewModel</code> and passing in the straight model. The task of the <code>ViewModel</code> is to have a special version of the model which is made especially for the <code>view</code> to which you want to attach it.</p>\n\n<p>So you could create a <code>IEnumerable&lt;NameThumbViewModel&gt;</code> which can be easily bound to a datagrid, itemscontrol, etc.\nSo remember a <code>ViewModel</code> can be for a <code>control</code>, for whole <code>view</code> or even for a <code>row</code> in a <code>datagrid</code>.\nAnd you can also have <code>ViewModel</code> who can contain <code>ViewModels</code> or lists of <code>ViewModel</code>. </p>\n\n<p>So pass the <code>model</code> into your <code>viewmodel</code> and take care of the mapping back and forth because one of the true reason for <code>ViewModels</code> is to have a way to flatten down view related data in a easy consumable way.</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 25, "user_id": 3677329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yciTl.jpg?s=128&g=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/3677329/jesse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 1, "accepted_answer_id": 28332202, "answer_count": 1, "score": 1, "last_activity_date": 1423506681, "creation_date": 1423085929, "last_edit_date": 1423506681, "question_id": 28331970, "link": "https://stackoverflow.com/questions/28331970/binding-nested-list-using-mvvm", "title": "Binding nested list using MVVM", "body": "<p>I'm trying to display an image and a name. The model I've created looks something like this:</p>\n\n<p><a href=\"http://i.imgur.com/MqAdamv.png\" rel=\"nofollow\">Class diagram</a></p>\n\n<pre><code>class Controller {\n    public List&lt;Car&gt; Cars { get; set; }\n}\n\nclass Car {\n    public Media Media { get; set; }\n    public string Name { get; set; }\n}\n\nclass Media {\n    public List&lt;View&gt; Views { get; set; }\n}\n\nclass View {\n    public Image Thumbnail { get; set; }\n}\n</code></pre>\n\n<p>The ViewModel:</p>\n\n<pre><code>class OverviewViewModel {\n    Controller Controller { get; private set; }\n\n    OverviewViewModel(Controller controller) {\n        Controller = controller;\n    }\n}\n</code></pre>\n\n<p>All classes implement INotifyPropertyChange.\nWhat would be the best way to display the Car.Name and the first View.Thumbnail of the Views list for each Car in Cars?</p>\n\n<p>I've looked at a DataGrid but wasn't able to figure out how to display the first Thumbnail. This might also not be the right way to create a grid, I haven't looked in the styling possibilities of a DataGrid yet.</p>\n\n<p>At first I created a grid in the code behind file and displayed the information on load, but I want to be able to update the images from the model without the view knowing anything about the model.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Apparently my binding was correct, I only needed to set the DataGridTemplateColumn like so:</p>\n\n<pre><code>&lt;DataGrid ItemsSource=\"{Binding Controller.Cars}\" AutoGenerateColumns=\"False\"&gt;\n    &lt;DataGrid.Columns&gt;\n        &lt;DataGridTextColumn Header=\"Name\" Binding=\"{Binding Name}\" /&gt;\n        &lt;DataGridTemplateColumn&gt;\n            &lt;DataGridTemplateColumn.CellTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;Image Source=\"{Binding Media.Views[0].Thumbnail}\" /&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellTemplate&gt;\n        &lt;/DataGridTemplateColumn&gt;\n    &lt;/DataGrid.Columns&gt;\n&lt;/DataGrid&gt;\n</code></pre>\n"}, {"tags": ["c#", "razor", "asp.net-mvc-5", "radio-button"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 1, "creation_date": 1423086124, "post_id": 28331938, "comment_id": 45011091, "body": "Radio buttons are designed to be used in groups (allowing selection of one from a group). You have given each radio button a different name so each button is a different group and allows independent selection. Not sure exactly what you expect, especially as you just have 2 boolean properties (so you should be using a checkbox to bind them)"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "is_accepted": true, "score": 1, "last_activity_date": 1423092542, "creation_date": 1423092542, "answer_id": 28333565, "question_id": 28331938, "link": "https://stackoverflow.com/questions/28331938/issue-with-html-radiobuttonfor/28333565#28333565", "title": "Issue with Html.RadioButtonFor", "body": "<p>It appears you want to filter based on either a value of \"Tubs\" or \"Packs\", in which case you model is wrong. You need a property that posts back either of those strings, for example</p>\n\n<pre><code>public string Filter { get; set; }\npublic List&lt;string&gt; FilterList { get; set; }\n</code></pre>\n\n<p>and in the controller</p>\n\n<pre><code>model.FilterList = new List&lt;string&gt;() { \"Tubs\", \"Packs\" };\nmodel.Filter = \"Tubs\"; // set default\n</code></pre>\n\n<p>and in the view</p>\n\n<pre><code>@foreach(var option in Model.FilterList)\n{\n  &lt;label&gt;\n    @Html.DropDownListFor(m =&gt; m.Filter, option, new { id = option })\n    &lt;span&gt;@option&lt;/span&gt;\n  &lt;/label&gt;\n}\n</code></pre>\n\n<p>which will generate 2 radio button with <code>name=\"Filter\"</code> and values of <code>value=\"Tubs\"</code> and <code>value=\"Packs\"</code>, and allow selection of only one.</p>\n\n<p>Alternatively you could use an enum for the filter values.</p>\n"}], "owner": {"reputation": 5129, "user_id": 1259536, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/8wDuA.jpg?s=128&g=1", "display_name": "Code Ratchet", "link": "https://stackoverflow.com/users/1259536/code-ratchet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 28333565, "answer_count": 1, "score": 0, "last_activity_date": 1423092542, "creation_date": 1423085827, "question_id": 28331938, "link": "https://stackoverflow.com/questions/28331938/issue-with-html-radiobuttonfor", "title": "Issue with Html.RadioButtonFor", "body": "<p>I have the follow class which I'm trying to wire up to the radio buttons</p>\n\n<pre><code>public class ProductFilter\n{\n    public bool Tubs { get; set; }\n\n    public bool Packs { get; set; }\n}\n</code></pre>\n\n<p>And I use this on the view as so</p>\n\n<pre><code> &lt;div class=\"row col-lg-12\" id=\"filters\"&gt;\n        &lt;div class=\"col-lg-4 text-right\"&gt;\n            @Html.RadioButtonFor(model =&gt; model.Filter.Tubs, true) Tubs\n        &lt;/div&gt;\n        &lt;div class=\"col-lg-4\"&gt;&lt;/div&gt;\n        &lt;div class=\"col-lg-4 text-left\"&gt;\n            @Html.RadioButtonFor(model =&gt; model.Filter.Packs, true) Packs\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Now when the page loads, and I select say tubs it posts back to the controller and I'm able to filter, when the page reloads and I select packs it posts back but the values for the both are the same, I would expect tubs to be false because I have selected packs and vice versa, can some one point out what I'm doing wrong?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-3"], "comments": [{"owner": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1423086330, "post_id": 28331934, "comment_id": 45011206, "body": "Can you post the actual route?"}, {"owner": {"reputation": 5190, "user_id": 2091346, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BKqTy.png?s=128&g=1", "display_name": "Arif YILMAZ", "link": "https://stackoverflow.com/users/2091346/arif-yilmaz"}, "reply_to_user": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1423086603, "post_id": 28331934, "comment_id": 45011340, "body": "which route? I dont understand"}, {"owner": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1423087023, "post_id": 28331934, "comment_id": 45011571, "body": "How are your routes defined in the code?"}, {"owner": {"reputation": 5190, "user_id": 2091346, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BKqTy.png?s=128&g=1", "display_name": "Arif YILMAZ", "link": "https://stackoverflow.com/users/2091346/arif-yilmaz"}, "reply_to_user": {"reputation": 11176, "user_id": 4251546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adee0787c93711e13244a8547e1316cc?s=128&d=identicon&r=PG", "display_name": "Vsevolod Goloviznin", "link": "https://stackoverflow.com/users/4251546/vsevolod-goloviznin"}, "edited": false, "score": 0, "creation_date": 1423087328, "post_id": 28331934, "comment_id": 45011713, "body": "I added the routes, @VsevolodGoloviznin"}], "answers": [{"comments": [{"owner": {"reputation": 5190, "user_id": 2091346, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BKqTy.png?s=128&g=1", "display_name": "Arif YILMAZ", "link": "https://stackoverflow.com/users/2091346/arif-yilmaz"}, "edited": false, "score": 0, "creation_date": 1423134187, "post_id": 28336075, "comment_id": 45029031, "body": ".when I replaced the ActionLinks and MapRoutes as you said, I click the links it goes to &quot;<a href=\"http://localhost:21047/Home/ListProducers?Length=4\" rel=\"nofollow noreferrer\">localhost:21047/Home/ListProducers?Length=4</a>&quot; . why does it behave like this?"}, {"owner": {"reputation": 5190, "user_id": 2091346, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BKqTy.png?s=128&g=1", "display_name": "Arif YILMAZ", "link": "https://stackoverflow.com/users/2091346/arif-yilmaz"}, "edited": false, "score": 0, "creation_date": 1423134402, "post_id": 28336075, "comment_id": 45029164, "body": "I had to use it like thi &quot;@Html.ActionLink(&quot;Yerli Markalar&quot;, &quot;ListProducers&quot;, &quot;Home&quot;, new { filter = &quot;Yerli&quot; },null)&quot;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "reply_to_user": {"reputation": 5190, "user_id": 2091346, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BKqTy.png?s=128&g=1", "display_name": "Arif YILMAZ", "link": "https://stackoverflow.com/users/2091346/arif-yilmaz"}, "edited": false, "score": 0, "creation_date": 1423134588, "post_id": 28336075, "comment_id": 45029261, "body": "Yes, that&#39;s correct (will update in a moment), that overload require you to pass the html attributes as well (the last parameter)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "is_accepted": true, "score": 2, "last_activity_date": 1423134618, "last_edit_date": 1423134618, "creation_date": 1423109434, "answer_id": 28336075, "question_id": 28331934, "link": "https://stackoverflow.com/questions/28331934/registerroutes-in-global-asax/28336075#28336075", "title": "RegisterRoutes in Global.asax", "body": "<p>Firstly, you do not use</p>\n\n<pre><code>@Html.ActionLink(\"Yerli Markalar\", \"ListProducers/Yerli\", \"Home\")\n</code></pre>\n\n<p>If \"Yerli\" is the parameter to be passed to </p>\n\n<pre><code>public ActionResult ListProducers(string filter)\n</code></pre>\n\n<p>then it needs to be </p>\n\n<pre><code>@Html.ActionLink(\"Yerli Markalar\", \"ListProducers\", \"Home\", new { filter = \"Yerli\" }, null)\n</code></pre>\n\n<p>which will generate <code>..../Home/ListCompanies/Yerli</code></p>\n\n<p>Your problem is that you have generated the <code>action</code> parameter as <code>ListCompanies/Yerli</code> whereas it should be <code>ListCompanies</code></p>\n\n<p>Note you should also name your routes</p>\n\n<pre><code>routes.MapRoute(\n  \"ListProducers\", // name it!\n  \"Home/ListProducers/{filter}\", // Route name\n   new { controller = \"Home\", action = \"ListProducers\", filter = UrlParameter.Optional } // Parameter defaults\n);\n</code></pre>\n\n<p>However, those routes seem unnecessary and you could  just delete them and let the default route handle it</p>\n\n<pre><code>routes.MapRoute(\n  name: \"Default\",\n  url: \"{controller}/{action}/{id}\",\n  defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n);\n</code></pre>\n\n<p>and just change the method to </p>\n\n<pre><code>public ActionResult ListProducers(string id)\n</code></pre>\n\n<p>and use</p>\n\n<pre><code>@Html.ActionLink(\"Yerli Markalar\", \"ListProducers\", \"Home\", new { id = \"Yerli\" }, null)\n</code></pre>\n\n<p>which will produce exactly the same result</p>\n"}], "owner": {"reputation": 5190, "user_id": 2091346, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/BKqTy.png?s=128&g=1", "display_name": "Arif YILMAZ", "link": "https://stackoverflow.com/users/2091346/arif-yilmaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1066, "favorite_count": 0, "accepted_answer_id": 28336075, "answer_count": 1, "score": 0, "last_activity_date": 1423134618, "creation_date": 1423085817, "last_edit_date": 1423087314, "question_id": 28331934, "link": "https://stackoverflow.com/questions/28331934/registerroutes-in-global-asax", "title": "RegisterRoutes in Global.asax", "body": "<p>I dont understand the RegisterRoutes perfectly. Lets assume the browser's current URL is </p>\n\n<pre><code>//Home/ListCompanies/{filter}\nhttp://localhost:21047/Home/ListProducers/Yerli\n</code></pre>\n\n<p>we came to the address above with the link below</p>\n\n<pre><code>@Html.ActionLink(\"Yerli Markalar\", \"ListProducers/Yerli\", \"Home\")\n</code></pre>\n\n<p>And I have a link on the current page like below </p>\n\n<pre><code>@Html.ActionLink(\"Bayiler\", \"ListCompanies\", \"Home\")\nhttp://localhost:21047/Home/ListCompanies/Yerli\n</code></pre>\n\n<p>But when I hover on the last link, it displays \"Yerli\" filter as well which I dont give it in the link</p>\n\n<p>Why does the filter \"Yerli\" come here? It should seem like below</p>\n\n<pre><code>http://localhost:21047/Home/ListCompanies/\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>here are my Routes</p>\n\n<pre><code>routes.MapRoute(\n            null,\n            \"Home/ListProducers/{filter}\", // Route name\n            new { controller = \"Home\", action = \"ListProducers\", filter = UrlParameter.Optional } // Parameter defaults\n        );\n\n\n routes.MapRoute(\n            null,\n            \"Home/ListCompanies/{filter}\", // Route name\n            new { controller = \"Home\", action = \"ListCompanies\", filter = UrlParameter.Optional } // Parameter defaults\n        );\n</code></pre>\n"}, {"tags": ["c#", ".net", "json"], "comments": [{"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423088924, "post_id": 28331920, "comment_id": 45012449, "body": "What is your question? Are you having some problems with the Dictionary approach?"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 1, "creation_date": 1423092533, "post_id": 28331920, "comment_id": 45013961, "body": "Store PropertyInfo objects, or Action delegates perhaps? To store a delegate you need to wrap a method, not a property."}, {"owner": {"reputation": 3, "user_id": 2613076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJlbA.png?s=128&g=1", "display_name": "HazzeK", "link": "https://stackoverflow.com/users/2613076/hazzek"}, "reply_to_user": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423092651, "post_id": 28331920, "comment_id": 45014004, "body": "@vesan I&#39;ve updated it. Yes, the question is if it&#39;s possible to use the second way maybe having some initialization overhead. The thing is I don&#39;t see how to store a reference to a class property. By using Action I can do it to an object property, but at runtime the object can change and I would have to recreate the delegate."}, {"owner": {"reputation": 4632, "user_id": 232574, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nu494.jpg?s=128&g=1", "display_name": "Nick Strupat", "link": "https://stackoverflow.com/users/232574/nick-strupat"}, "edited": false, "score": 1, "creation_date": 1423092808, "post_id": 28331920, "comment_id": 45014046, "body": "If all the properties are <code>string</code>, you want <code>Func&lt;string&gt;</code> instead of <code>Action</code>"}, {"owner": {"reputation": 3, "user_id": 2613076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJlbA.png?s=128&g=1", "display_name": "HazzeK", "link": "https://stackoverflow.com/users/2613076/hazzek"}, "reply_to_user": {"reputation": 4632, "user_id": 232574, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nu494.jpg?s=128&g=1", "display_name": "Nick Strupat", "link": "https://stackoverflow.com/users/232574/nick-strupat"}, "edited": false, "score": 0, "creation_date": 1423093058, "post_id": 28331920, "comment_id": 45014123, "body": "@NickStrupat as Lasse V. Karlsen said, what I really wanted was a way to wrap a class property at initialization and to resolve the instance of the class on the call."}, {"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423093153, "post_id": 28331920, "comment_id": 45014152, "body": "@HazzeK: Then you can do <code>Func&lt;YourClass, string&gt;</code> like this: <code>yourClass =&gt; yourClass.YourProperty</code> - that is, if it&#39;s always the same class."}, {"owner": {"reputation": 3, "user_id": 2613076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJlbA.png?s=128&g=1", "display_name": "HazzeK", "link": "https://stackoverflow.com/users/2613076/hazzek"}, "reply_to_user": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423093592, "post_id": 28331920, "comment_id": 45014263, "body": "@vesan seems like what I&#39;m looking for."}, {"owner": {"reputation": 3, "user_id": 2613076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJlbA.png?s=128&g=1", "display_name": "HazzeK", "link": "https://stackoverflow.com/users/2613076/hazzek"}, "reply_to_user": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423094332, "post_id": 28331920, "comment_id": 45014504, "body": "@vesan To which topic does this pertains? I&#39;d no clue where to start, that&#39;s why I think the question was so confuse."}, {"owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423094555, "post_id": 28331920, "comment_id": 45014570, "body": "@HazzeK: I&#39;m not sure about the topic - you could probably look up information about: 1. C# properties, 2. C# delegates and lambdas. For example on MSDN: <a href=\"https://msdn.microsoft.com/en-us/library/orm-9780596516109-03-09.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/orm-9780596516109-03-09.asp&zwnj;&#8203;x</a>"}, {"owner": {"reputation": 3, "user_id": 2613076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJlbA.png?s=128&g=1", "display_name": "HazzeK", "link": "https://stackoverflow.com/users/2613076/hazzek"}, "reply_to_user": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "edited": false, "score": 0, "creation_date": 1423094880, "post_id": 28331920, "comment_id": 45014664, "body": "@vesan Thanks, I&#39;ll give it a read."}], "answers": [{"tags": [], "owner": {"reputation": 3059, "user_id": 2428407, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/76fdba35cfb51f3d55dcef8262b13126?s=128&d=identicon&r=PG", "display_name": "vesan", "link": "https://stackoverflow.com/users/2428407/vesan"}, "is_accepted": true, "score": 0, "last_activity_date": 1423096089, "creation_date": 1423096089, "answer_id": 28334144, "question_id": 28331920, "link": "https://stackoverflow.com/questions/28331920/delegating-access-to-a-class-property-instead-of-an-object-property/28334144#28334144", "title": "Delegating access to a class property instead of an object property", "body": "<p>Just to summarize the comments:</p>\n\n<p>It is definitely possible to do it with a dictionary, but properties cannot be used quite this way. Remember that properties are just syntactic sugar so you don't have to write get/set methods yourself. The best way to get it into a dictionary is probably by wrapping it into a delegate:</p>\n\n<pre><code>new Dictionary&lt;string, Func&lt;YourClass, string&gt;&gt;() \n{ \n    {\"propertyNameToBeUsedInJson\",   \n     instance =&gt; instance.YourProperty} \n};\n</code></pre>\n\n<p>Then, you would use it very easily like this (error checking omitted):</p>\n\n<pre><code>user.propertyToBeMapped = dictionary[propertyName](yourClassInstance);\n</code></pre>\n\n<p>This will only work if the instance is always the same class. If not, the first parameter of the <code>Func</code> would have to be some base class (maybe even <code>object</code>) and then the delegate would have to do some type-checking and conversion.</p>\n"}], "owner": {"reputation": 3, "user_id": 2613076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IJlbA.png?s=128&g=1", "display_name": "HazzeK", "link": "https://stackoverflow.com/users/2613076/hazzek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 28334144, "answer_count": 1, "score": -2, "last_activity_date": 1423096089, "creation_date": 1423085778, "last_edit_date": 1423095800, "question_id": 28331920, "link": "https://stackoverflow.com/questions/28331920/delegating-access-to-a-class-property-instead-of-an-object-property", "title": "Delegating access to a class property instead of an object property", "body": "<p>I've been trying to figure out a way to deal with property mapping and naming programmatically. The thing is that I don't want to have to change multiple portions of code to be able to extend the map. The code I have right now is like this:</p>\n\n<pre><code>public static class Names\n{\n    public const string Property = \"propertyNameToBeUsedInJson\";\n}\n\n...\nswitch(propertyName)\n{\n    case Property:\n        user.propertyToBeMapped = json.propertyValue;\n        break;\n}\n</code></pre>\n\n<p>What I really wanted was to be able to have some sort of dictionary where I could do something like:</p>\n\n<pre><code>Dictionary&lt;string, Action&gt;() { {\"propertyNameToBeUsedInJson\", &lt;Class of User&gt;.propertyToBeMapped} };\n</code></pre>\n\n<p>That means I would be delegating access to a property of a Class, not to a concrete object. This way I can iterate over this dictionary and if it contains the key I'm looking for, then I just go and change the property pointed by the value.</p>\n\n<p>I think that a overhead during initialization is ok, but I don't want to use Reflection on a per call basis.</p>\n\n<p>The questions is: Is it possible to use the second way having in mind the statement above? If so, how should I go for it?</p>\n"}, {"tags": ["c#", "linq", "c#-4.0", "linq-to-sql"], "comments": [{"owner": {"reputation": 18353, "user_id": 337315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/vNdBR.jpg?s=128&g=1", "display_name": "CodeLikeBeaker", "link": "https://stackoverflow.com/users/337315/codelikebeaker"}, "edited": false, "score": 0, "creation_date": 1423085981, "post_id": 28331893, "comment_id": 45011002, "body": "I believe what you are looking for is here: <a href=\"http://stackoverflow.com/questions/371445/linq-to-sql-stored-procedures-with-multiple-results\" title=\"linq to sql stored procedures with multiple results\">stackoverflow.com/questions/371445/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 4530467, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9adcd209d700c3089bbcf6c09ec462a4?s=128&d=identicon&r=PG&f=1", "display_name": "krisjans", "link": "https://stackoverflow.com/users/4530467/krisjans"}, "is_accepted": true, "score": 0, "last_activity_date": 1423091761, "creation_date": 1423091761, "answer_id": 28333425, "question_id": 28331893, "link": "https://stackoverflow.com/questions/28331893/linq-to-sql-stored-procedure-returns-multiple-temp-tables/28333425#28333425", "title": "Linq To Sql, stored procedure returns multiple temp tables", "body": "<p>I am able to access the data, below is the approach i followed</p>\n\n<p>Stored Procedure:</p>\n\n<pre><code>CREATE PROCEDURE [dbo].[DemoSP] \nAS\nBEGIN\n    DECLARE @Temp1 TABLE   \n    (   \n        DocumentID NVARCHAR(256),\n        DocumentName VARCHAR(100)\n    )  \n    DECLARE @Temp2 TABLE   \n    (   \n        DocumentID NVARCHAR(256)\n    )  \n    DECLARE @Temp3 TABLE   \n    (   \n        DocumentID NVARCHAR(256)\n    )  \n\n    INSERT INTO @Temp1 VALUES('123','Description')\n    INSERT INTO @Temp1 VALUES('456','Content')\n    INSERT INTO @Temp1 VALUES('789','Summary')\n\n    INSERT INTO @Temp2 VALUES('XYZ')\n    INSERT INTO @Temp2 VALUES('ABC')\n\n    INSERT INTO @Temp3 VALUES('123')\n\n    SELECT * from @Temp1 \n    SELECT * from @Temp2 \n    SELECT * from @Temp3 \nEND\n</code></pre>\n\n<p>Create a dbml file, drag and drop the stored procedure on to design surface. This step will generate below snippet of code</p>\n\n<pre><code>global::System.Data.Linq.Mapping.FunctionAttribute(Name=\"dbo.DemoSP\")]\n        public ISingleResult&lt;DemoSPResult&gt; DemoSP()\n        {\n            IExecuteResult result = this.ExecuteMethodCall(this, ((MethodInfo)(MethodInfo.GetCurrentMethod())));\n            return ((ISingleResult&lt;DemoSPResult&gt;)(result.ReturnValue));\n        }\n\n     public partial class DemoSPResult\n     {\n        private string _DocumentID;\n        private string _DocumentName;\n        public DemoSPResult()\n        {\n        }\n\n        [global::System.Data.Linq.Mapping.ColumnAttribute(Storage = \"_DocumentID\", DbType = \"NVarChar(256)\")]\n        public string DocumentID\n        {\n            get\n            {\n                return this._DocumentID;\n            }\n            set\n            {\n                if ((this._DocumentID != value))\n                {\n                    this._DocumentID = value;\n                }\n            }\n        }\n\n        [global::System.Data.Linq.Mapping.ColumnAttribute(Storage = \"_DocumentName\", DbType = \"VarChar(100)\")]\n        public string DocumentName\n        {\n            get\n            {\n                return this._DocumentName;\n            }\n            set\n            {\n                if ((this._DocumentName != value))\n                {\n                    this._DocumentName = value;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Comment the above properties, create classes with properties that matches with the schema of temp tables </p>\n\n<pre><code>     class Temp1\n     {\n        private string _DocumentID;\n        private string _DocumentName;\n\n        [global::System.Data.Linq.Mapping.ColumnAttribute(Storage = \"_DocumentID\", DbType = \"NVarChar(256)\")]\n        string DocumentID\n        {\n            get\n            {\n                return this._DocumentID;\n            }\n            set\n            {\n                if ((this._DocumentID != value))\n                {\n                    this._DocumentID = value;\n                }\n            }\n        }\n\n        [global::System.Data.Linq.Mapping.ColumnAttribute(Storage = \"_DocumentName\", DbType = \"VarChar(100)\")]\n        string DocumentName\n        {\n            get\n            {\n                return this._DocumentName;\n            }\n            set\n            {\n                if ((this._DocumentName != value))\n                {\n                    this._DocumentName = value;\n                }\n            }\n        }\n    }\n\n    class Temp2\n    {\n        private string _DocumentID ;\n\n        [global::System.Data.Linq.Mapping.ColumnAttribute(Storage = \"_DocumentID \", DbType = \"NVARCHAR(256)\")]\n        string DocumentID \n        {\n            get\n            {\n                return this._DocumentID ;\n            }\n            set\n            {\n                if ((this._DocumentID != value))\n                {\n                    this._DocumentID = value;\n                }\n            }\n        }\n    }\n\n    class Temp3\n    {\n        private string _DocumentID;\n\n        [global::System.Data.Linq.Mapping.ColumnAttribute(Storage = \"_DocumentID\", DbType = \"NVarChar(256)\")]\n        string DocumentID\n        {\n            get\n            {\n                return this._DocumentID;\n            }\n            set\n            {\n                if ((this._DocumentID != value))\n                {\n                    this._DocumentID = value;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Create a method to handle the multiple result sets returned by the stored procedure as shown below</p>\n\n<pre><code>[Function(Name = \"dbo.DemoSP\")]\n[ResultType(typeof(Temp1))]\n[ResultType(typeof(Temp2))]\n[ResultType(typeof(Temp3))]\npublic IMultipleResults GetDocumentDetails()\n{\n      IExecuteResult result = this.ExecuteMethodCall(this, ((MethodInfo)(MethodInfo.GetCurrentMethod())));\n      return (IMultipleResults)result.ReturnValue;\n}\n</code></pre>\n\n<p>We can access the data by calling the above method</p>\n\n<pre><code> IMultipleResults d = db.GetDocumentDetails();\n\n IList&lt;Temp1&gt; temptable1= d.GetResult&lt;Temp1&gt;().ToList();\n IList&lt;Temp2&gt; temptable2= d.GetResult&lt;Temp2&gt;().ToList();\n IList&lt;Temp3&gt; temptable3= d.GetResult&lt;Temp3&gt;().ToList();\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4530467, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9adcd209d700c3089bbcf6c09ec462a4?s=128&d=identicon&r=PG&f=1", "display_name": "krisjans", "link": "https://stackoverflow.com/users/4530467/krisjans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1307, "favorite_count": 0, "accepted_answer_id": 28333425, "answer_count": 1, "score": 0, "last_activity_date": 1423091761, "creation_date": 1423085662, "question_id": 28331893, "link": "https://stackoverflow.com/questions/28331893/linq-to-sql-stored-procedure-returns-multiple-temp-tables", "title": "Linq To Sql, stored procedure returns multiple temp tables", "body": "<p>How can I return multiple temp tables with in a stored procedure using LINQ to SQL? I have a stored procedure, when called returns three temporary tables. How can I access the data in the temporary tables in .NET C# code using LINQ to SQL?</p>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-mvc-5", "data-annotations"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1423085876, "post_id": 28331890, "comment_id": 45010957, "body": "<a href=\"http://foolproof.codeplex.com/\" rel=\"nofollow noreferrer\">foolproof</a> have a number of useful validation attributes which may suit, for example <code>[RequiredIfNot]</code>"}, {"owner": {"reputation": 4240, "user_id": 698582, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2I6Zw.jpg?s=128&g=1", "display_name": "clement", "link": "https://stackoverflow.com/users/698582/clement"}, "edited": false, "score": 0, "creation_date": 1423086048, "post_id": 28331890, "comment_id": 45011045, "body": "[RequiredIfNot(&quot;dropdownList&quot;, 3, ErrorMessage = &quot;Error&quot;)] nice! thanks you can reply I&#39;ll validate this! I don&#39;t have to change the front-end js libraries or do I have to include another library?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1423086347, "post_id": 28331890, "comment_id": 45011212, "body": "Just need to install the nuget package and then include the <code>mvcfoolproof.unobtrusive.js</code> file in your view"}, {"owner": {"reputation": 4240, "user_id": 698582, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2I6Zw.jpg?s=128&g=1", "display_name": "clement", "link": "https://stackoverflow.com/users/698582/clement"}, "edited": false, "score": 0, "creation_date": 1423086702, "post_id": 28331890, "comment_id": 45011392, "body": "perfect, what else? :-)"}], "answers": [{"tags": [], "owner": {"reputation": 4679, "user_id": 337085, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2daee1581901ea06dbb80d2c04c1a182?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Pushkin", "link": "https://stackoverflow.com/users/337085/roman-pushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1423097928, "creation_date": 1423097928, "answer_id": 28334459, "question_id": 28331890, "link": "https://stackoverflow.com/questions/28331890/advanced-validation-using-jquery-validation-and-data-annotation/28334459#28334459", "title": "advanced validation using jquery validation and data annotation?", "body": "<p>I was relying on built-in ASP.NET model validation before, but came up to decision that it's not flexible enough. In real world you have more complex logic. In your case you can implement IValidatable interface if you happy with server-side validation only.</p>\n\n<p>But when you need validations on client side too, you can use <a href=\"http://timgthomas.com/2013/09/simplify-client-side-validation-by-adding-a-server/\" rel=\"nofollow\">this approach</a>.</p>\n"}], "owner": {"reputation": 4240, "user_id": 698582, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2I6Zw.jpg?s=128&g=1", "display_name": "clement", "link": "https://stackoverflow.com/users/698582/clement"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 603, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423097928, "creation_date": 1423085659, "question_id": 28331890, "link": "https://stackoverflow.com/questions/28331890/advanced-validation-using-jquery-validation-and-data-annotation", "title": "advanced validation using jquery validation and data annotation?", "body": "<p>I'm answering what is the best/cleanest way to make advanced validation in my case.</p>\n\n<p>I have a model that I return to the View. I already use data annotation:</p>\n\n<pre><code>[Required]\npublic int dropdownList\n\n[Required]\npublic int[] multiDropDownList\n</code></pre>\n\n<p>I already use jquery.valiation too for front.</p>\n\n<p>I have to require multiDropDownList only if the value of dropdownList s different to 3 (values = 1, 2 or 3)</p>\n\n<p>What could be the best way to do this? worst scenario should be to make custom check in controller and with JS in the front-end.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 2, "creation_date": 1423085652, "post_id": 28331870, "comment_id": 45010838, "body": "what effort have you made?"}], "answers": [{"comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 2, "creation_date": 1423085842, "post_id": 28331919, "comment_id": 45010941, "body": "Clever use of string as an <code>IEnumerable</code>. +1 for sheer audacity, though it could use a bit of explanation."}], "tags": [], "owner": {"reputation": 12849, "user_id": 1218281, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2a7d7e9fa2049d4dbf9a508e5eccdb0a?s=128&d=identicon&r=PG", "display_name": "Cyral", "link": "https://stackoverflow.com/users/1218281/cyral"}, "is_accepted": true, "score": 5, "last_activity_date": 1423086161, "last_edit_date": 1495542873, "creation_date": 1423085776, "answer_id": 28331919, "question_id": 28331870, "link": "https://stackoverflow.com/questions/28331870/wpf-vertical-text-in-button/28331919#28331919", "title": "WPF Vertical text in Button", "body": "<p>You can simply use an ItemsControl, which will create a list of the elements inside of it, making them appear vertical.</p>\n\n<pre><code>&lt;Button&gt;\n    &lt;ItemsControl ItemsSource=\"BUY\" /&gt;\n&lt;/Button&gt;\n</code></pre>\n\n<p>You can find more information on doing something like this on <a href=\"https://stackoverflow.com/q/349875/1218281\">this</a> question..</p>\n"}, {"tags": [], "owner": {"reputation": 6375, "user_id": 84750, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/jbFti.jpg?s=128&g=1", "display_name": "silverfighter", "link": "https://stackoverflow.com/users/84750/silverfighter"}, "is_accepted": false, "score": 0, "last_activity_date": 1423085881, "last_edit_date": 1495540958, "creation_date": 1423085881, "answer_id": 28331951, "question_id": 28331870, "link": "https://stackoverflow.com/questions/28331870/wpf-vertical-text-in-button/28331951#28331951", "title": "WPF Vertical text in Button", "body": "<p>Maybe this answers helps you. \nYou basically need a style that wraps your text added to the button.</p>\n\n<p>Check out this answer:\n<a href=\"https://stackoverflow.com/questions/754137/wpf-button-textwrap-style\">WPF button textwrap style</a></p>\n"}, {"tags": [], "owner": {"reputation": 513, "user_id": 3260044, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001349446661/picture?type=large", "display_name": "fallaciousreasoning", "link": "https://stackoverflow.com/users/3260044/fallaciousreasoning"}, "is_accepted": false, "score": 0, "last_activity_date": 1423088338, "last_edit_date": 1423088338, "creation_date": 1423087564, "answer_id": 28332392, "question_id": 28331870, "link": "https://stackoverflow.com/questions/28331870/wpf-vertical-text-in-button/28332392#28332392", "title": "WPF Vertical text in Button", "body": "<p>The answer with an ItemsControl sounds perfect but in case you didn't want to do that you could create a converter that adds a '\\n' between each character of text.</p>\n\n<p>The XAML for your Page:</p>\n\n<pre><code>&lt;Window\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:local=\"clr-namespace:DilbertDownloader\" x:Class=\"DilbertDownloader.MainWindow\"\n        Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n    &lt;Window.Resources&gt;\n        &lt;local:TextVerticalConverter x:Key=\"TextVerticalConverter\"/&gt;\n    &lt;/Window.Resources&gt;\n    &lt;Window.DataContext&gt;\n        &lt;local:ViewModel/&gt;\n    &lt;/Window.DataContext&gt;\n    &lt;Grid&gt;\n        &lt;Button Content=\"{Binding ButtonText, Converter={StaticResource TextVerticalConverter}}\" HorizontalAlignment=\"Left\" Margin=\"270,156,0,0\" VerticalAlignment=\"Top\" Width=\"75\"/&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>The code for the converter:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace DilbertDownloader\n{\n    public class TextVerticalConverter : System.Windows.Data.IValueConverter\n    {\n        public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)\n        {\n            if (!(value is string)) return value;\n\n            var converted = \"\";\n\n            foreach (var character in (string)value)\n            {\n                //If the character is a space, add another new line \n                //so we get a vertical 'space'\n                if (character == ' ') {  \n                    converted += '\\n';\n                    continue;\n                }\n\n                //If there's a character before this one, add a newline before our\n                //current character\n                if (!string.IsNullOrEmpty(converted))\n                    converted += \"\\n\";\n\n                converted += character;\n            }\n\n            return converted; \n        }\n\n        public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)\n        {\n            //Not really worried about this at the moment\n            throw new NotImplementedException();\n        }\n    }\n}\n</code></pre>\n\n<p>And the code for the ViewModel</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace DilbertDownloader\n{\n    public class ViewModel\n    {\n        public string ButtonText { get; set; }\n\n        public ViewModel()\n        {\n            ButtonText = \"BUY\";\n        }\n    }\n}\n</code></pre>\n\n<p>Hope that's helpful</p>\n"}, {"tags": [], "owner": {"reputation": 7894, "user_id": 5927923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JrTfb.jpg?s=128&g=1", "display_name": "Heena Patil", "link": "https://stackoverflow.com/users/5927923/heena-patil"}, "is_accepted": false, "score": 0, "last_activity_date": 1423121836, "creation_date": 1423121836, "answer_id": 28338551, "question_id": 28331870, "link": "https://stackoverflow.com/questions/28331870/wpf-vertical-text-in-button/28338551#28338551", "title": "WPF Vertical text in Button", "body": "<p>Using  LineBreak and Literal LineBreak</p>\n\n<pre><code>&lt;Button Width=\"38\" Height=\"90\" Content=\"B&amp;#x0a;u&amp;#x0a;y\"/&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>  &lt;Button Width=\"38\" Height=\"90\"&gt;\n    &lt;TextBlock&gt;\n        &lt;Run Text=\"S\"/&gt;\n        &lt;LineBreak/&gt;\n        &lt;Run Text=\"E\"/&gt;\n        &lt;LineBreak/&gt;\n        &lt;Run Text=\"L\"/&gt;\n        &lt;LineBreak/&gt;\n        &lt;Run Text=\"L\"/&gt;\n        &lt;LineBreak/&gt;\n    &lt;/TextBlock&gt;\n&lt;/Button&gt;\n</code></pre>\n\n<p>Setting width and textwrapping to textblock </p>\n\n<pre><code>&lt;Button Width=\"38\" Height=\"90\"&gt;\n    &lt;TextBlock Text=\"Buy\" Width=\"8\" TextWrapping=\"Wrap\"&gt;&lt;/TextBlock&gt;\n&lt;/Button&gt;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 2411205, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a08a2f585d09577d3e091ea79c1820b0?s=128&d=identicon&r=PG", "display_name": "gatordude", "link": "https://stackoverflow.com/users/2411205/gatordude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2494, "favorite_count": 0, "accepted_answer_id": 28331919, "answer_count": 4, "score": 1, "last_activity_date": 1423121836, "creation_date": 1423085589, "question_id": 28331870, "link": "https://stackoverflow.com/questions/28331870/wpf-vertical-text-in-button", "title": "WPF Vertical text in Button", "body": "<p>I would like to know how to display text vertically in a WPF Button. I have a tall rectangular button, Width = 38, Height =  90. I would like the button to show text as <br>\nB <br>\nU <br>\nY</p>\n\n<p>or </p>\n\n<p>S <br>\nE <br>\nL <br>\nL <br></p>\n\n<p>Can anyone tell me how this can be achieved in WPF .</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "asp.net-mvc-4", "repository", "asp.net-web-api"], "comments": [{"owner": {"reputation": 63736, "user_id": 245860, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/11c56b07a08ba381090605a5904dc0e4?s=128&d=identicon&r=PG", "display_name": "Claudio Redi", "link": "https://stackoverflow.com/users/245860/claudio-redi"}, "edited": false, "score": 0, "creation_date": 1423085783, "post_id": 28331862, "comment_id": 45010903, "body": "How are you injecting <code>repository</code>  on <code>BooksController</code> constructor?"}], "answers": [{"tags": [], "owner": {"reputation": 2432, "user_id": 1862333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ae27e48c4168ef8553d30863b91002?s=128&d=identicon&r=PG", "display_name": "failedprogramming", "link": "https://stackoverflow.com/users/1862333/failedprogramming"}, "is_accepted": true, "score": 1, "last_activity_date": 1423087758, "creation_date": 1423087758, "answer_id": 28332437, "question_id": 28331862, "link": "https://stackoverflow.com/questions/28331862/web-api-returning-nullreferenceexception-using-repository/28332437#28332437", "title": "Web Api returning NullReferenceException using repository", "body": "<p>I don't think your constructor injection is hooked up correctly. \nCan you show us the code where you set the HttpConfiguration.DependencyResolver? Assuming that you haven't hooked this up correctly, when the Controller is instantiated, the default Constructor is called, and therefore _repository is null. </p>\n\n<p>To test this out, change your default constructor to create an instance of BookRepository. i.e.  </p>\n\n<pre><code>public BookController()\n{\n    _repository = new BookRepository();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1246, "user_id": 4096546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48cff9c939f7c7b5ea0fced51420f092?s=128&d=identicon&r=PG", "display_name": "Omar Elabd", "link": "https://stackoverflow.com/users/4096546/omar-elabd"}, "is_accepted": false, "score": 0, "last_activity_date": 1423148569, "last_edit_date": 1423148569, "creation_date": 1423088058, "answer_id": 28332531, "question_id": 28331862, "link": "https://stackoverflow.com/questions/28331862/web-api-returning-nullreferenceexception-using-repository/28332531#28332531", "title": "Web Api returning NullReferenceException using repository", "body": "<p>your mostly likely not instantiating your Repository, your default constructor</p>\n\n<pre><code>public BooksController () { }\n</code></pre>\n\n<p>does not create a new instance of your repository. You have two options:</p>\n\n<ol>\n<li><p>change the default constructor to:</p>\n\n<pre><code>public BooksController () \n{\n    _repository = new BookRepository();\n}\n</code></pre></li>\n<li><p>use a DI container to Resolve the IBookRepository. <a href=\"http://www.dotnet-tricks.com/Tutorial/dependencyinjection/632V140413-Dependency-Injection-in-ASP.NET-MVC-4-using-Unity-IoC-Container.html\" rel=\"nofollow\">Here</a> is an example </p></li>\n</ol>\n"}], "owner": {"reputation": 2166, "user_id": 4434011, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ac5e19a8198d1aea0eff7dc3de8c3b21?s=128&d=identicon&r=PG&f=1", "display_name": "Paolo B", "link": "https://stackoverflow.com/users/4434011/paolo-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 876, "favorite_count": 0, "accepted_answer_id": 28332437, "answer_count": 2, "score": 0, "last_activity_date": 1423148569, "creation_date": 1423085558, "last_edit_date": 1423086762, "question_id": 28331862, "link": "https://stackoverflow.com/questions/28331862/web-api-returning-nullreferenceexception-using-repository", "title": "Web Api returning NullReferenceException using repository", "body": "<p>I am trying to call in to a repository method to fetch some data, which be returned from a Web Api 'Get' request.</p>\n\n<pre><code>public class BookRepository : IBookRepository\n{\n    public Book GetBookInfo()\n    {\n        return new Book\n        {\n            Title = \"Book1\",\n            Chapters = new List&lt;string&gt;\n                  {\n                      \"Chapter1\",\n                      \"Chapter2\",\n                      \"Chapter3\",\n                      \"Chapter4\"\n                  }\n        };\n</code></pre>\n\n<p>My apicontroller:</p>\n\n<pre><code>public class BooksController : ApiController\n{\n    private readonly IBookRepository _repository;\n\n    public BooksController () { }\n\n    public BooksController (IBookRepository repository)\n    {\n        this._repository = repository;\n    }\n\n    // GET api/books\n    public Book Get()\n    {\n        return _repository.GetBookInfo();\n    }\n</code></pre>\n\n<p>The issue is that when I navigate to this in the browser e.g. '<a href=\"http://localhost:49852/api/books\" rel=\"nofollow\">http://localhost:49852/api/books</a>' I am getting a NullReferenceException. Please can you explain why and how to rectify?</p>\n"}, {"tags": ["c#", "timespan"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4257254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a84460e7d3621c6355b88252bcd6037d?s=128&d=identicon&r=PG&f=1", "display_name": "dusty24", "link": "https://stackoverflow.com/users/4257254/dusty24"}, "edited": false, "score": 0, "creation_date": 1423085795, "post_id": 28331802, "comment_id": 45010914, "body": "Thank you. I think I figured it out with that help. If I understood it correctly, I needed to call for the nextvalue once before I attempted to put it into the TimeSpan. It&#39;s working now at least so I&#39;m assuming that was correct lol. Thanks again."}], "tags": [], "owner": {"reputation": 6154, "user_id": 3447502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G5H93.png?s=128&g=1", "display_name": "MatthewG", "link": "https://stackoverflow.com/users/3447502/matthewg"}, "is_accepted": true, "score": 0, "last_activity_date": 1423085351, "creation_date": 1423085351, "answer_id": 28331802, "question_id": 28331729, "link": "https://stackoverflow.com/questions/28331729/c-running-into-troubles-with-timespan-converting-uptime-seconds-to-days-hours/28331802#28331802", "title": "C# running into troubles with TimeSpan. Converting uptime seconds to days/hours", "body": "<p>This is the expected behavior of the counter, the first call will return 0.0.  See documentation at <a href=\"https://msdn.microsoft.com/en-us/library/system.diagnostics.performancecounter.nextvalue(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/system.diagnostics.performancecounter.nextvalue(v=vs.110).aspx</a></p>\n\n<p>You can fix this by adding one additional (initial) call to <code>NextValue()</code>.</p>\n"}], "owner": {"reputation": 41, "user_id": 4257254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a84460e7d3621c6355b88252bcd6037d?s=128&d=identicon&r=PG&f=1", "display_name": "dusty24", "link": "https://stackoverflow.com/users/4257254/dusty24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 28331802, "answer_count": 1, "score": 3, "last_activity_date": 1423085351, "creation_date": 1423084970, "question_id": 28331729, "link": "https://stackoverflow.com/questions/28331729/c-running-into-troubles-with-timespan-converting-uptime-seconds-to-days-hours", "title": "C# running into troubles with TimeSpan. Converting uptime seconds to days/hours", "body": "<p>I'm trying to just write a very rudimentary program that checks my cpu and ram usage and tells me the current uptime. If the cpu or ram exceeds a certain threshold It'll verbally announce it and warn me. I'm trying to use the TimeSpan to automatically turn my system uptime from seconds to days, hours, minutes, seconds. When I run the code, it says 0 days 0 hours 0 minutes and 0 seconds. However, it announces it correctly in hourswhen I'm not using the TimeSpan. </p>\n\n<pre><code>  #region My Performace Counters\n        //this pulls the current cpu load in %\n        PerformanceCounter perfCpuCount = new PerformanceCounter(\"Processor Information\", \"% Processor Time\", \"_Total\");\n\n        //this pulls the available memory in MBytes\n        PerformanceCounter perfAvailableMemoryCount = new PerformanceCounter(\"Memory\", \"Available MBytes\");\n\n        //this shows the systems uptime (in seconds)\n        PerformanceCounter perfUptimeCount = new PerformanceCounter(\"System\", \"System Up Time\");\n        #endregion\n\n        TimeSpan uptimeSpan = TimeSpan.FromSeconds(perfUptimeCount.NextValue());\n        string systemUptimeMessage = string.Format(\"The current system uptime is {0} days {1} hours {2} minutes and {3} seconds\",\n            uptimeSpan.TotalDays,\n            uptimeSpan.TotalHours,\n            uptimeSpan.TotalMinutes,\n            uptimeSpan.TotalSeconds\n            );\n\n        Console.WriteLine(\"{0}\", systemUptimeMessage);\n\n\n        //tell the user what the current system uptime is\n        synth.Speak(systemUptimeMessage);\n</code></pre>\n\n<p>Once I run that portion, It just tells me 0,0,0,0 for days, hours, minutes and seconds. However, If I continue to the next portion, I'm able to successfully pull the system uptime in hours.</p>\n\n<pre><code> //infinte While loop\n        while(true)\n        {\n            //get the current performance values\n            int currentCpuPercentage = (int)perfCpuCount.NextValue();\n            int currentAvailableMemory = (int)perfAvailableMemoryCount.NextValue() / 1024;\n            int currentUptime = (int)perfUptimeCount.NextValue() / 3600;\n\n            //Every 1 Second prints the cpu load (%) and available mem (GB) to screen  \n        Console.WriteLine(\"Cpu Load        : {0}%\", currentCpuPercentage);\n        Console.WriteLine(\"Available Memory: {0} Gigabytes\", currentAvailableMemory);\n        Console.WriteLine(\"System Uptime   : {0} hours\", currentUptime);        \n\n\n            //if cpu is over 80 percent, vocally say the current percent\n            if( currentCpuPercentage &gt; 80 )\n            {\n                if (currentCpuPercentage == 100)\n                {\n                    string cpuLoadVocalMessage = String.Format(\"You're CPU is about to catch fire!\");\n                    synth.Speak(cpuLoadVocalMessage);\n                }\n\n                else\n\n                {\n                    string cpuLoadVocalMessage = String.Format(\"The current CPU load is {0} percent\", (int)currentCpuPercentage);\n                    synth.Speak(cpuLoadVocalMessage);\n                }\n            }\n\n            //if available memory is less than 1 vocally say the current available memory\n            if( currentAvailableMemory &lt; 1 )\n            {\n                string memAvailVocalMessage = String.Format(\"The current available Memory is {0} Gigabytes\", (int)currentAvailableMemory);\n                synth.Speak(memAvailVocalMessage);\n            }\n\n\n\n\n\n        Thread.Sleep(1000);\n\n            //just an extra space\n        Console.WriteLine();\n\n            //end of loop\n        }\n</code></pre>\n\n<p>I don't intend to keep the uptime message in the While loop, I'm just leaving it there to check if I'm getting the correct time (which I am). I could easily leave it how it is and just check it for hours by diving the time in seconds by 3600 however, I would just like to understand what I'm doing wrong in the TimeSpan. I'm very very new to all of this So I apologize if I sound dumb asking this. </p>\n\n<p>Thanks for any help you can offer. </p>\n"}, {"tags": ["c#", "service", "telerik", "telerik-open-access", "openaccess"], "comments": [{"owner": {"reputation": 161, "user_id": 2830940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5749121ef4887a9efc5eb3df8264a317?s=128&d=identicon&r=PG&f=1", "display_name": "Doroteya Agayna", "link": "https://stackoverflow.com/users/2830940/doroteya-agayna"}, "edited": false, "score": 0, "creation_date": 1423119931, "post_id": 28331698, "comment_id": 45021537, "body": "The error appears when User is available in the mapping configuration of your data access layer, but in fact its code is missing from the compiled assembly. Do you use the Classic mapping approach of OpenAccess ORM or the contemporary? If you are using the contemporary approach, do you have an .rlinq file or a fluent model? If you are using an .rlinq file, does the error re-appear after you open it in <a href=\"http://docs.telerik.com/data-access/feature-reference/tools/visual-designer/developemnt-environment-wizards-dialogs-model-tools-designer-designer\" rel=\"nofollow noreferrer\">Visual Designer</a> and save it (Ctrl + S)?"}, {"owner": {"reputation": 43, "user_id": 3524244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e42ba64f6b001898af9e01623fbc31?s=128&d=identicon&r=PG&f=1", "display_name": "user3524244", "link": "https://stackoverflow.com/users/3524244/user3524244"}, "reply_to_user": {"reputation": 161, "user_id": 2830940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5749121ef4887a9efc5eb3df8264a317?s=128&d=identicon&r=PG&f=1", "display_name": "Doroteya Agayna", "link": "https://stackoverflow.com/users/2830940/doroteya-agayna"}, "edited": false, "score": 0, "creation_date": 1423160197, "post_id": 28331698, "comment_id": 45046006, "body": "Thanks Doroteya!  I think you pointed us in the right direction!"}], "answers": [{"tags": [], "owner": {"reputation": 943, "user_id": 2540521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/voqOu.png?s=128&g=1", "display_name": "seabass2020", "link": "https://stackoverflow.com/users/2540521/seabass2020"}, "is_accepted": false, "score": 0, "last_activity_date": 1457731220, "creation_date": 1457731220, "answer_id": 35950130, "question_id": 28331698, "link": "https://stackoverflow.com/questions/28331698/telerik-openaccess-mapping-for-class-is-specified-in-file-config-but-the-cla/35950130#35950130", "title": "Telerik OpenAccess : Mapping for class is specified in file &#39;config&#39; but the class could not be found", "body": "<p>In my case, I was missing the Telerik.OpenAccess.Runtime reference</p>\n"}], "owner": {"reputation": 43, "user_id": 3524244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e42ba64f6b001898af9e01623fbc31?s=128&d=identicon&r=PG&f=1", "display_name": "user3524244", "link": "https://stackoverflow.com/users/3524244/user3524244"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457731220, "creation_date": 1423084842, "question_id": 28331698, "link": "https://stackoverflow.com/questions/28331698/telerik-openaccess-mapping-for-class-is-specified-in-file-config-but-the-cla", "title": "Telerik OpenAccess : Mapping for class is specified in file &#39;config&#39; but the class could not be found", "body": "<p>I have a windows service, in C#, that is using Telerik Open Access.  When I call the following code (query), I get the error below.<br>\n<strong>Code</strong></p>\n\n<pre><code>                    var updateRecords =\n                        _context.Contracts.First(\n                            s =&gt; s.ContractId == model.ContractId);\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Mapping for class 'Store.Data.User' is specified in file 'config' but the class could not be found. --> StoreModel/namespace[Store.Data]/class[User]</p>\n</blockquote>\n\n<p>I suspect the error is not related to the query itself, but with the repository/OpenAccess configuration.</p>\n\n<p>Does anyone have an insight into this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "winforms", "multiline", "textchanged"], "comments": [{"owner": {"reputation": 11580, "user_id": 483179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3b10bc0609d2b63bbee97b0fadd0e777?s=128&d=identicon&r=PG", "display_name": "deepee1", "link": "https://stackoverflow.com/users/483179/deepee1"}, "edited": false, "score": 0, "creation_date": 1423085735, "post_id": 28331672, "comment_id": 45010884, "body": "Just FYI, I was able to replaicate in .NET FW 4.5 VS2012."}, {"owner": {"reputation": 349, "user_id": 2967095, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9eab55ffedb256d68e4e7567fd356148?s=128&d=identicon&r=PG&f=1", "display_name": "Blind Fury", "link": "https://stackoverflow.com/users/2967095/blind-fury"}, "reply_to_user": {"reputation": 11580, "user_id": 483179, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3b10bc0609d2b63bbee97b0fadd0e777?s=128&d=identicon&r=PG", "display_name": "deepee1", "link": "https://stackoverflow.com/users/483179/deepee1"}, "edited": false, "score": 0, "creation_date": 1423085879, "post_id": 28331672, "comment_id": 45010959, "body": "@deepee1 Thanks. Not just me being thick again..."}, {"owner": {"reputation": 1048, "user_id": 571609, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3579c05aba47c24ed1bbd20d64811579?s=128&d=identicon&r=PG", "display_name": "MisterXero", "link": "https://stackoverflow.com/users/571609/misterxero"}, "edited": false, "score": 1, "creation_date": 1423085969, "post_id": 28331672, "comment_id": 45010996, "body": "The textbox is actually doing two things when you select some text then press a key to overwrite. It deletes the text (First text changed event) then it inserts the new text (Second text changed event). You can see this if you change the message box to display the text of the textbox on each change. Not sure why it does this with the multiline. You could look through the source <a href=\"http://referencesource.microsoft.com/#System.Windows.Forms/winforms/Managed/System/WinForms/TextBox.cs,577a143ad3bbfb97\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#System.Windows.Forms/winforms&zwnj;&#8203;/&hellip;</a>,"}, {"owner": {"reputation": 349, "user_id": 2967095, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9eab55ffedb256d68e4e7567fd356148?s=128&d=identicon&r=PG&f=1", "display_name": "Blind Fury", "link": "https://stackoverflow.com/users/2967095/blind-fury"}, "reply_to_user": {"reputation": 1048, "user_id": 571609, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3579c05aba47c24ed1bbd20d64811579?s=128&d=identicon&r=PG", "display_name": "MisterXero", "link": "https://stackoverflow.com/users/571609/misterxero"}, "edited": false, "score": 0, "creation_date": 1423086256, "post_id": 28331672, "comment_id": 45011159, "body": "@MisterXero Yep. I worked that out for myself (it  is in the question). You can see that the TextBox is blank while the first MessageBox is displayed. Makes no sense to me that it only does it for multiline, though."}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1423086322, "post_id": 28331672, "comment_id": 45011204, "body": "The <code>TextChanged</code> event is fired for each <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/bb761676%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">EN_CHANGE</a> message sent to that textbox, so the &quot;problem&quot; is Windows, not .NET WinForms."}, {"owner": {"reputation": 349, "user_id": 2967095, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9eab55ffedb256d68e4e7567fd356148?s=128&d=identicon&r=PG&f=1", "display_name": "Blind Fury", "link": "https://stackoverflow.com/users/2967095/blind-fury"}, "edited": false, "score": 0, "creation_date": 1423086437, "post_id": 28331672, "comment_id": 45011256, "body": "But why only with Multiline?"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 1, "creation_date": 1423086824, "post_id": 28331672, "comment_id": 45011453, "body": "I don&#39;t know. <a href=\"http://www.tech-archive.net/Archive/VC/microsoft.public.vc.mfc/2005-02/0643.html\" rel=\"nofollow noreferrer\">It&#39;s not a new issue anyway, according to this exactly 10 year old post</a>."}], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 2967095, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9eab55ffedb256d68e4e7567fd356148?s=128&d=identicon&r=PG&f=1", "display_name": "Blind Fury", "link": "https://stackoverflow.com/users/2967095/blind-fury"}, "is_accepted": false, "score": 0, "last_activity_date": 1423093428, "creation_date": 1423093428, "answer_id": 28333728, "question_id": 28331672, "link": "https://stackoverflow.com/questions/28331672/c-textchanged-event-fires-twice-in-a-multiline-textbox/28333728#28333728", "title": "c# Textchanged event fires twice in a multiline TextBox", "body": "<p>The workaround for my particular case is even more bizarre.</p>\n\n<p>I needed the Textbox to have a specific size, but the height cannot be changed unless it is multiline.</p>\n\n<p>The following, however, works for me in my little world:</p>\n\n<pre><code>    tb.Multiline = true;\n    tb.Size = new Size(x,y);\n    tb.Multiline = false;\n    this.Controls.Add(tb);\n    tb.TextChanged += new EventHandler(tb_TextChanged);\n</code></pre>\n\n<p>Solution found at <a href=\"http://en.code-bude.net/tag/c-textbox-height-resize/\" rel=\"nofollow\">http://en.code-bude.net/tag/c-textbox-height-resize/</a></p>\n\n<p>Doesn't resolve the underlying problem, though.</p>\n"}], "owner": {"reputation": 349, "user_id": 2967095, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9eab55ffedb256d68e4e7567fd356148?s=128&d=identicon&r=PG&f=1", "display_name": "Blind Fury", "link": "https://stackoverflow.com/users/2967095/blind-fury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1268, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1423093428, "creation_date": 1423084775, "question_id": 28331672, "link": "https://stackoverflow.com/questions/28331672/c-textchanged-event-fires-twice-in-a-multiline-textbox", "title": "c# Textchanged event fires twice in a multiline TextBox", "body": "<p>I have a very bizarre problem with the TextChanged event in a multiline TextBox (WinForms).\nit appears that the event fires twice under certain circumstances.</p>\n\n<p>This complete code demonstrates the issue:</p>\n\n<pre><code>public partial class TextChangedTest : Form\n{\n    public TextChangedTest()\n    {\n        InitializeComponent();\n    }\n\n    private void TextChangedTest_Load(object sender, EventArgs e)\n    {\n        TextBox tb = new TextBox();\n        //Remove the following line and the code behaves as expected\n        tb.Multiline = true;\n        this.Controls.Add(tb);\n        tb.TextChanged += new EventHandler(tb_TextChanged);\n    }\n    private void tb_TextChanged(object sender,EventArgs e)\n    {\n        //Need to validate and use the new text here.\n        //For testing, just use a MessageBox\n        MessageBox.Show(\"Handler fired\");\n    }\n}\n</code></pre>\n\n<p>If you now type a character in the TextBox, the event fires. Correct behaviour.</p>\n\n<p>If you delete the character, the event fires once. Correct behaviour.</p>\n\n<p>If you delete the character with backspace, the event fires once. Correct behaviour.</p>\n\n<p>If you delete the character by selecting it and pressing Delete, the event fires once. Correct behaviour.</p>\n\n<p><strong>However</strong></p>\n\n<p>If you select the character and type another character, the event fires twice, once after the text box is cleared (look at the textbox when the first event fires) and once when the character is added. This behaviour is nonsense, if understandable.</p>\n\n<p>This only happens when the Multiline property is set (which I am using to resize the TextBox). It just took me 5 hours to work that out!</p>\n\n<p>My problem is that I have to validate each character in the TextChanged event, and I get invalid results.</p>\n\n<p>Does anyone have any ideas?</p>\n\n<p>I could possibly use the Keypress event, but I would need to do a lot of recoding to do that.</p>\n"}, {"tags": ["c#", "unity3d", "unityscript"], "comments": [{"owner": {"reputation": 18347, "user_id": 488657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bYnzt.png?s=128&g=1", "display_name": "Bart", "link": "https://stackoverflow.com/users/488657/bart"}, "edited": false, "score": 0, "creation_date": 1423085716, "post_id": 28331603, "comment_id": 45010867, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/28274895/how-to-use-variables-from-unityscript-in-boo\">How to use variables from UnityScript in Boo?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2632, "user_id": 3199310, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/61329390532bf1c207f86e30082102bb?s=128&d=identicon&r=PG", "display_name": "Patrick Motard", "link": "https://stackoverflow.com/users/3199310/patrick-motard"}, "is_accepted": true, "score": 6, "last_activity_date": 1423085274, "creation_date": 1423085274, "answer_id": 28331788, "question_id": 28331603, "link": "https://stackoverflow.com/questions/28331603/how-to-access-variable-in-js-script-from-c-script/28331788#28331788", "title": "How to access variable in JS script from C# script?", "body": "<blockquote>\n  <p>C# code is compiled before JS code, so in general, while JS code can\n  access C# classes, the opposite is not possible. However, you can\n  affect the order of compilation by moving scripts into special folders\n  which are compiled earlier. You could move your Test01JS script to a\n  folder called \"Plugins\" then it works.</p>\n</blockquote>\n\n<p><a href=\"http://answers.unity3d.com/questions/48874/accessing-javascript-variable-from-c-and-vice-vers.html\">source</a> </p>\n\n<p><a href=\"http://www.41post.com/1935/programming/unity3d-js-cs-or-cs-js-access\">also this</a></p>\n"}], "owner": {"reputation": 3183, "user_id": 3257983, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WOkAn.jpg?s=128&g=1", "display_name": "Dima Kozyr", "link": "https://stackoverflow.com/users/3257983/dima-kozyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2248, "favorite_count": 0, "accepted_answer_id": 28331788, "answer_count": 1, "score": 0, "last_activity_date": 1423127419, "creation_date": 1423084540, "last_edit_date": 1423127419, "question_id": 28331603, "link": "https://stackoverflow.com/questions/28331603/how-to-access-variable-in-js-script-from-c-script", "title": "How to access variable in JS script from C# script?", "body": "<p>I have a game on Unity3d and I write scripts using JS (UnityScript) and C#.\nIn the JS script I have a variable, which I need to access in the C# script.</p>\n\n<p>Is it possible to do something like this?</p>\n\n<p><strong>Script.js:</strong></p>\n\n<pre><code>public var myVarible;\n</code></pre>\n\n<p><strong>Script.cs:</strong></p>\n\n<pre><code>class A {\n    void B() {\n        Script script; // Compiler can't see Script\n        script = GameObject.Find (\"MyScripts\").GetComponent&lt;Script&gt; ();\n        script.myVariable = false;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "mvvm", "binding", "inotifypropertychanged"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1423149790, "post_id": 28331568, "comment_id": 45039474, "body": "You&#39;ve got a return statement in a setter."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 2874755, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oQ6hE.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2874755/brian"}, "edited": false, "score": 0, "creation_date": 1423085646, "post_id": 28331647, "comment_id": 45010835, "body": "I try also extends StaticClass from INotifyPropertyChanged interface, but I can&#39;t use OnPropertyChange inside static property (and I think it&#39;s not what you say). Can you please provide me a some example?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 115, "user_id": 2874755, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oQ6hE.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2874755/brian"}, "edited": false, "score": 0, "creation_date": 1423085755, "post_id": 28331647, "comment_id": 45010893, "body": "@Brian That wouldn&#39;t work anyways, the static class is not your data context, nor the context for the static property. You need to raise a <i>custom</i> event (your own) that the VM listens for, then raises its own <code>PropertyChanged</code>. Does that make sense? If it sounds like a lot of hassle, it is. You shouldn&#39;t be binding to static properties :)"}, {"owner": {"reputation": 115, "user_id": 2874755, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oQ6hE.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2874755/brian"}, "edited": false, "score": 1, "creation_date": 1423086669, "post_id": 28331647, "comment_id": 45011378, "body": "so, if create my own event in StaticClass and raise it in StaticText&#39;s setter, then subscribe to this event in StatusViewModel and execute OnPropertyChange(&quot;TextProp&quot;) when event raises, it wiil be work?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 115, "user_id": 2874755, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oQ6hE.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2874755/brian"}, "edited": false, "score": 0, "creation_date": 1423086718, "post_id": 28331647, "comment_id": 45011397, "body": "In my example it would be <code>OnPropertyChange(&quot;StaticTextRedirect&quot;)</code>, but other than that. Yes, that should work."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 1, "last_activity_date": 1423084676, "creation_date": 1423084676, "answer_id": 28331647, "question_id": 28331568, "link": "https://stackoverflow.com/questions/28331568/how-i-can-bind-property-which-use-another-static-property/28331647#28331647", "title": "How I can bind property, which use another static property", "body": "<p>If you are binding to <code>static</code> properties, you are probably doing it wrong :)</p>\n\n<p>That said, the initial bind is super easy. You just need to add a property that returns the <code>static</code> one:</p>\n\n<pre><code>public string StaticTextRedirect\n{\n   get { return StaticClass.StaticText; }\n   set { StaticClass.StaticText = value; }\n}\n</code></pre>\n\n<p>The <code>PropertyChanged</code> event is another beast. You could raise it from the <code>StaticTextRedirect</code> property of course, but that won't fire if some <em>other</em> class changes the property. You'll probably need to just raise a custom event in the static property's setter that client code can listen to and raise the appropriate <code>PropertyChanged</code> event for.</p>\n"}], "owner": {"reputation": 115, "user_id": 2874755, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oQ6hE.jpg?s=128&g=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2874755/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 28331647, "answer_count": 1, "score": 2, "last_activity_date": 1423084719, "creation_date": 1423084388, "last_edit_date": 1423084719, "question_id": 28331568, "link": "https://stackoverflow.com/questions/28331568/how-i-can-bind-property-which-use-another-static-property", "title": "How I can bind property, which use another static property", "body": "<p>I use mvvm pattern in my proge\u0441t (C#), and I have some problem.\nI have a label on my view, and label's text is binded to property from my viewModel:</p>\n\n<pre><code>val label=new Label();\nlabel.SetBinding&lt;StatusViewModel&gt;(Label.TextProperty, x=&gt;x.TextProp);\n</code></pre>\n\n<p>this is my view model, which implements INotifyPropertyChanged interface:</p>\n\n<pre><code>class StatusViewModel\n{\nprivate string _textProp;\npublic string TextProp\n{\n   get\n   {\n      return _textProp;\n   }\n   set\n   {\n      if(_textProp == value)\n        return _textProp;\n\n      _textProp=value;\n      OnPropertyChange();\n   }\n}\n}\n</code></pre>\n\n<p>but I have another static property:</p>\n\n<pre><code>static class StaticClass\n{\npublic static string StaticText {get; set; }\n}\n</code></pre>\n\n<p>And I want use this static property StaticText inside my TextProp property from StatusViewModel. And StaticText property mast notify label about it changes.</p>\n\n<p>P.S. sorry about possible mistakes, I typed this code from my head.</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc-4"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1423094415, "post_id": 28331560, "comment_id": 45014534, "body": "You generating your html for the property manually! There is nothing in your html which relates at all to using unobtrusive validation, and in any case your using a string for a date so not sure what kind of validation your expecting. Why are you not using html helpers to generate the control so this all works out of the box?"}], "answers": [{"tags": [], "owner": {"reputation": 13237, "user_id": 611545, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/YXVOl.jpg?s=128&g=1", "display_name": "Ross Bush", "link": "https://stackoverflow.com/users/611545/ross-bush"}, "is_accepted": false, "score": 0, "last_activity_date": 1423084947, "creation_date": 1423084947, "answer_id": 28331724, "question_id": 28331560, "link": "https://stackoverflow.com/questions/28331560/asp-net-mvc4-validation-error-whats-wrong/28331724#28331724", "title": "ASP.NET MVC4 Validation Error - Whats wrong", "body": "<p>Can you F12 and validate that you are loading the files required to fire the client side validation.</p>\n\n<pre><code>jquery.unobtrusive-ajax.min.js\njquery.validate.min.js\njquery.validate.unobtrusive.min.js\n</code></pre>\n\n<p>Also you can decorate your model with a required field display annotation and see if the browser will pick that up.</p>\n\n<pre><code> [Required(ErrorMessage = \"*\")]\n public string FieldName{ get; set; }\n</code></pre>\n"}], "owner": {"reputation": 4693, "user_id": 1401620, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/1ae2e58930e43afd7f98aaf365fd574c?s=128&d=identicon&r=PG", "display_name": "D-W", "link": "https://stackoverflow.com/users/1401620/d-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 510, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423187478, "creation_date": 1423084368, "last_edit_date": 1423187478, "question_id": 28331560, "link": "https://stackoverflow.com/questions/28331560/asp-net-mvc4-validation-error-whats-wrong", "title": "ASP.NET MVC4 Validation Error - Whats wrong", "body": "<p>So I have a validation error being thrown in Firefox and IE, but not chrome.</p>\n\n<p>I'm stuck and don't know where to look to find out what it does not like</p>\n\n<p>My Model</p>\n\n<pre><code>public class Appointment\n{\n  [Required]\n  public string DateString { get; set; }\n  ..\n}\n</code></pre>\n\n<p>The page</p>\n\n<pre><code>&lt;link href=\"~/Content/CSS/bootstrap-datetimepicker.min.css\" rel=\"stylesheet\" /&gt;\n&lt;input class=\"form-control date datetime\" type=\"text\" value=\"@Model.DateString\" name=\"DateString\" data-min-view=\"2\" data-date-format=\"dd-M-yyyy\" id=\"DateString\"&gt;\n@Html.ValidationMessageFor(m =&gt; m.DateString)\n&lt;button type=\"submit\" class=\"btn btn-primary btn-rad\" id=\"\" title=\"Save\"&gt;&lt;i class=\"fa fa-save\"&gt;&lt;/i&gt; Save&lt;/button&gt;\n\n&lt;script src=\"~/Content/Scripts/bootstrap-datetimepicker.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"//cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.13.1/jquery.validate.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"https://ajax.aspnetcdn.com/ajax/mvc/4.0/jquery.validate.unobtrusive.min.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The browser</p>\n\n<p>(Before submit)</p>\n\n<pre><code>&lt;input class=\"form-control date datetime\" value=\"04-Feb-2015\" id=\"DateString\" name=\"DateString\" data-min-view=\"2\" data-date-format=\"dd-M-yyyy\" type=\"text\"&gt;\n</code></pre>\n\n<p>So when I press submit it will not post as sets the focus back on the text box</p>\n\n<pre><code>&lt;input aria-invalid=\"true\" aria-describedby=\"DateString-error\" class=\"form-control date datetime input-validation-error\" value=\"04-Feb-2015\" id=\"DateString\" name=\"DateString\" data-min-view=\"2\" data-date-format=\"dd-M-yyyy\" type=\"text\"&gt;\n</code></pre>\n\n<p>So how do I figure out whats wrong?</p>\n"}, {"tags": ["c#", "asp.net", "tcp"], "comments": [{"owner": {"reputation": 3937, "user_id": 694050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea1ae980bb5d745e93ea59fcee393878?s=128&d=identicon&r=PG", "display_name": "ohmusama", "link": "https://stackoverflow.com/users/694050/ohmusama"}, "edited": false, "score": 3, "creation_date": 1423858956, "post_id": 28331558, "comment_id": 45335183, "body": "It shouldn&#39;t be that hard to rig up an experiment to try it out. Set your <code>DoLongWork</code> method to insert a row into a db every second, and then repro your scenario. Get a debugger attached to your service, with first chance exceptions enabled, and take lunch."}, {"owner": {"reputation": 4535, "user_id": 1319147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/53LDq.jpg?s=128&g=1", "display_name": "Eugene D. Gubenkov", "link": "https://stackoverflow.com/users/1319147/eugene-d-gubenkov"}, "reply_to_user": {"reputation": 3937, "user_id": 694050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea1ae980bb5d745e93ea59fcee393878?s=128&d=identicon&r=PG", "display_name": "ohmusama", "link": "https://stackoverflow.com/users/694050/ohmusama"}, "edited": false, "score": 0, "creation_date": 1423997133, "post_id": 28331558, "comment_id": 45366364, "body": "@ohmusama, please see the results I&#39;ve got. Could you explain the second point?"}], "answers": [{"comments": [{"owner": {"reputation": 4535, "user_id": 1319147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/53LDq.jpg?s=128&g=1", "display_name": "Eugene D. Gubenkov", "link": "https://stackoverflow.com/users/1319147/eugene-d-gubenkov"}, "edited": false, "score": 0, "creation_date": 1423935316, "post_id": 28509210, "comment_id": 45353595, "body": "And how the client supposed to be notified about host crash? By who?"}], "tags": [], "owner": {"reputation": 1291, "user_id": 2266955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5d3b8be8788ffbe20de8ad5aa9f1de?s=128&d=identicon&r=PG", "display_name": "slvnperron", "link": "https://stackoverflow.com/users/2266955/slvnperron"}, "is_accepted": false, "score": 2, "last_activity_date": 1423863645, "creation_date": 1423863645, "answer_id": 28509210, "question_id": 28331558, "link": "https://stackoverflow.com/questions/28331558/asp-net-webmethod-and-half-open-connections/28509210#28509210", "title": "ASP.NET WebMethod and half-open connections", "body": "<p>If the host process crashes the connection will close. It won't wait for the TCP keep-alive to kick. You can easily test this scenario by spinning your WebService and making it crash voluntary.</p>\n"}, {"tags": [], "owner": {"reputation": 3937, "user_id": 694050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea1ae980bb5d745e93ea59fcee393878?s=128&d=identicon&r=PG", "display_name": "ohmusama", "link": "https://stackoverflow.com/users/694050/ohmusama"}, "is_accepted": true, "score": 2, "last_activity_date": 1424125535, "last_edit_date": 1495542621, "creation_date": 1424125535, "answer_id": 28551456, "question_id": 28331558, "link": "https://stackoverflow.com/questions/28331558/asp-net-webmethod-and-half-open-connections/28551456#28551456", "title": "ASP.NET WebMethod and half-open connections", "body": "<p>It looks like the keep alive is not garanteed because things might muck with that setting in windows (no the registry value isn't the end all). </p>\n\n<p>According to this:\n<a href=\"https://stackoverflow.com/questions/4923586/windows-tcp-socket-has-so-keepalive-enabled-by-default\">Windows TCP socket has SO_KEEPALIVE enabled by default?</a></p>\n\n<p>It looks like you should not rely on this behavior and set a timeout. If you are using a soap request, you could always invoke an async request, and then wait on the request based on a client configurable value, and have a nice logic handling for timeouts.</p>\n"}], "owner": {"reputation": 4535, "user_id": 1319147, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/53LDq.jpg?s=128&g=1", "display_name": "Eugene D. Gubenkov", "link": "https://stackoverflow.com/users/1319147/eugene-d-gubenkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1031, "favorite_count": 1, "accepted_answer_id": 28551456, "answer_count": 2, "score": 4, "last_activity_date": 1424125535, "creation_date": 1423084357, "last_edit_date": 1424009199, "question_id": 28331558, "link": "https://stackoverflow.com/questions/28331558/asp-net-webmethod-and-half-open-connections", "title": "ASP.NET WebMethod and half-open connections", "body": "<p>Consider the situation where some client calls WebMethod and after connection was established the host process crashes and connection becomes half-open. Will ASP.NET WebMethod proxy automatically detect it?</p>\n\n<p>We assume that WebMethod timeout settled to the infinity or some big amount of time. Will connectivity error be detected only on TCP keep-alive packet sending (after 2 hours of idle on Windows by default)?</p>\n\n<pre><code>[WebService(Namespace = \"http://www.example.com/TestService/\")]\n[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\npublic class TestService : System.Web.Services.WebService\n{\n    [WebMethod]\n    public void DoLongWork()\n    {\n        // long work here\n    }\n}\n</code></pre>\n\n<p>Web Reference proxy call:</p>\n\n<pre><code>public void ServiceClient()\n{\n    var serviceProxy = new MyNamespace.TestService();\n    // serviceProxy.Url = ...\n    serviceProxy.Timeout = -1; // do not use timeout\n\n    // will it wait for 2 hours (when TCP keep-alive will be sent) if connection was lost after handshake?\n    serviceProxy.DoLongWork();\n}\n</code></pre>\n\n<p><strong>UPDATE.</strong></p>\n\n<p>I've tried multiple scenarios and here the results that I got using Wireshark to see what is going on under the hood.</p>\n\n<ol>\n<li><strong>Stopping</strong> hosting Web Server (IIS) through the IIS Manager or <strong>killing host process</strong> (w3wp.exe):\n<img src=\"https://i.stack.imgur.com/gDegl.png\" alt=\"enter image description here\"></li>\n</ol>\n\n<p>In both cases client notified via sending TCP RST flag. Seems Windows takes care of closing sockets for crashed/killed processes. In .NET the <code>System.Net.WebException</code> will be thrown:</p>\n\n<pre>Unhandled Exception: System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a receive. ---> System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---> System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host\n   at System.Net.Sockets.Socket.Receive(Byte[] buffer, Int32 offset, Int32 size, SocketFlags socketFlags)\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   --- End of inner exception stack trace ---\n   at System.Net.Sockets.NetworkStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.PooledStream.Read(Byte[] buffer, Int32 offset, Int32 size)\n   at System.Net.Connection.SyncRead(HttpWebRequest request, Boolean userRetrievedStream, Boolean probeRead)\n   --- End of inner exception stack trace ---\n   at System.Web.Services.Protocols.WebClientProtocol.GetWebResponse(WebRequest request)\n   at System.Web.Services.Protocols.HttpWebClientProtocol.GetWebResponse(WebRequest request)\n   at System.Web.Services.Protocols.SoapHttpClientProtocol.Invoke(String methodName, Object[] parameters)\n   at WebMethodAndTCPHalfOpenTest.TestWebReference.TestService.DoLongWork(Int32 sec)\n   at WebMethodAndTCPHalfOpenTest.Program.Main(String[] args) </pre>\n\n<ol start=\"2\">\n<li>Killed the host process <strong>after connectivity (to the host) loss</strong>, so TCP RST can not reach client:\nResults here is <strong>very tangling</strong> for me, because <strong>after 2.5 hours the broken connection (half-open) is not detected and client still thinks that underlying TCP connection is alive</strong> (the same situation after 6 hours). Here the output from  Sysinternals TCPView:</li>\n</ol>\n\n<blockquote>\n<pre>TCPView v3.01 - TCP/UDP endpoint viewer Copyright (C) 1998-2010\nMark Russinovich and Bryce Cogswell Sysinternals -\nwww.sysinternals.com\n\n[TCP] WebMethodAndTCPHalfOpenTest.exe\n        PID:    8180\n        State:  ESTABLISHED\n        Local:  192.168.1.2\n        Remote: 5.167.159.81</pre>\n\n<pre>Windows Version: Microsoft Windows [Version 6.1.7601]</pre>\n</blockquote>\n\n<p>Wireshark output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/M11FT.png\" alt=\"after 2.5 hours of half-open connection\"></p>\n\n<p>I've checked <a href=\"https://technet.microsoft.com/en-us/library/cc957549.aspx\" rel=\"nofollow noreferrer\">KeepAliveTime</a> registry setting on my system here: <pre>HKLM\\SYSTEM\\CurrentControlSet\\Services\\Tcpip\\Parameters</pre> and it was missing, so the default 2 hours should be used (?).</p>\n\n<p>Can anybody <strong>explain</strong> the result described in the second point? Why TCP keepalive was not sent? Is proxy explicitly settled up different keepalive behavior for underlying socket (<a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee470551(v=vs.85).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/windows/desktop/ee470551(v=vs.85).aspx</a>)?</p>\n"}, {"tags": ["c#", "c++", "c", "dll", "log4net"], "comments": [{"owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "edited": false, "score": 1, "creation_date": 1423084463, "post_id": 28331470, "comment_id": 45010237, "body": "Look at <code>SetStdHandle</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1423092501, "post_id": 28331470, "comment_id": 45013950, "body": "How do you know if the DLL was written in C or C++?"}, {"owner": {"reputation": 2093, "user_id": 3153883, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xVr3z.jpg?s=128&g=1", "display_name": "LawfulEvil", "link": "https://stackoverflow.com/users/3153883/lawfulevil"}, "edited": false, "score": 0, "creation_date": 1423142382, "post_id": 28331470, "comment_id": 45034227, "body": "I have the source for the top couple layers of DLLs as I wrote them.   Under the covers those DLLs eventually load DLLs for CURL and FFMPEG and such.   However, the top two layers of DLLs are mine and written in C and C++.   I can modify them if the solution requires it."}], "answers": [{"tags": [], "owner": {"reputation": 2093, "user_id": 3153883, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xVr3z.jpg?s=128&g=1", "display_name": "LawfulEvil", "link": "https://stackoverflow.com/users/3153883/lawfulevil"}, "is_accepted": true, "score": 3, "last_activity_date": 1423255805, "last_edit_date": 1423255805, "creation_date": 1423255500, "answer_id": 28374485, "question_id": 28331470, "link": "https://stackoverflow.com/questions/28331470/can-i-redirect-output-from-a-c-dll-into-my-c-log4net-output/28374485#28374485", "title": "Can I redirect output from a C DLL into my c# log4net output", "body": "<p>Turns out those did the trick once I figured out how to use them.   I setup two named pipes(or two ends of the same pipe?).  One I connected to stdout and had it do a log message in log4net of whatever came through the pipe.</p>\n\n<pre><code>internal static void InfoLogWriter(Object threadContext)\n{\n    mLog.Info(\"InfoLogWriterthread started\");\n    int id = Process.GetCurrentProcess().Id; // make this instance unique\n    var serverPipe = new NamedPipeServerStream(\"consoleRedirect\" + id, PipeDirection.In, 1);\n    NamedPipeClientStream clientPipe = new NamedPipeClientStream(\".\", \"consoleRedirect\" + id, PipeDirection.Out, PipeOptions.WriteThrough);\n    mLog.Info(\"Connecting Client Pipe.\");\n    clientPipe.Connect();\n    mLog.Info(\"Connected Client Pipe, redirecting stdout\");\n    HandleRef hr11 = new HandleRef(clientPipe, clientPipe.SafePipeHandle.DangerousGetHandle());\n    SetStdHandle(-11, hr11.Handle); // redirect stdout to my pipe\n    mLog.Info(\"Redirection of stdout complete.\");\n    mLog.Info(\"Waiting for console connection\");\n    serverPipe.WaitForConnection(); //blocking\n    mLog.Info(\"Console connection made.\");\n    using (var stm = new StreamReader(serverPipe))\n    {\n        while (serverPipe.IsConnected)\n        {\n            try\n            {\n                string txt = stm.ReadLine();\n                if (!string.IsNullOrEmpty(txt))\n                    mLog.InfoFormat(\"DLL MESSAGE : {0}\", txt);\n            }\n            catch (IOException)\n            {\n                break; // normal disconnect\n            }\n        }\n    }\n    mLog.Info(\"Console connection broken.   Thread Stopping.\");\n}\n</code></pre>\n\n<p>Also have a function to push all that to another thread so it doesn't block my main thread when it hits the various blocking calls.</p>\n\n<pre><code>internal static void RedirectConsole()\n{\n    mLog.Info(\"RedirectConsole called.\");\n    ThreadPool.QueueUserWorkItem(new System.Threading.WaitCallback(InfoLogWriter));\n    // TODO enqueue and item for error messages too.\n}\n</code></pre>\n\n<p>I'm having trouble with it disconnecting and have to reconnect the pipes, but I'll figure out a reconnect solution.   I'm guessing that happens when DLLs get swapped back out of memory or perhaps when I need to read but there isn't anything currently ready to be read?  I've also got to setup another pair to snag stderr and redirect it as well, using Error logs for that one.   Probably want to get rid of the magic number (-11) and use the normal enums as well (STD_ERROR_HANDLE, etc)</p>\n"}], "owner": {"reputation": 2093, "user_id": 3153883, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xVr3z.jpg?s=128&g=1", "display_name": "LawfulEvil", "link": "https://stackoverflow.com/users/3153883/lawfulevil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1692, "favorite_count": 3, "accepted_answer_id": 28374485, "answer_count": 1, "score": 5, "last_activity_date": 1423255805, "creation_date": 1423084081, "last_edit_date": 1423084976, "question_id": 28331470, "link": "https://stackoverflow.com/questions/28331470/can-i-redirect-output-from-a-c-dll-into-my-c-log4net-output", "title": "Can I redirect output from a C DLL into my c# log4net output", "body": "<p>I have a C# application which in turn loads a C or C++ dll (which in turn loads other  C/C++ dlls).   Within the C# application I use a log4net logger to capture all the output into a series of log files.   My application runs as a windows service so there is no console/output window for normal printfs or output written into stdout/stderr to go to.   </p>\n\n<p>Is there a way to setup the C# application to direct stdout/stderr (from the DLLs) and turn each line into a log4net output.   Or is there some way within the C/C++ DLL to connect the stdout/stderr streams to the log4net output?   </p>\n\n<p>I found some solution (here : <a href=\"http://bytes.com/topic/c-sharp/answers/822341-dllimport-stdout-gets-eaten\" rel=\"nofollow\">http://bytes.com/topic/c-sharp/answers/822341-dllimport-stdout-gets-eaten</a>) that indicated I needed to put a call into my C DLL like this : <code>setvbuf(stdout, NULL, _IONBF, 0);</code>   Though, I don't know what that does, it doesn't do what I want.   I assume I'd also need a similar line for stderr.   In either case, google seemed to think those lines simply take care of buffering and not redirection into log4net.</p>\n\n<p>I assume I need some sort of function override which snags the console writes (from a loaded DLL in another language) and converts them into <code>mLog.InfoFormat(\"{0}\", consoleString);</code> sorts of calls.  I'm new to c# and not even sure what terms to google in order to find such an override (if its even possible).</p>\n\n<p>Not sure if this complicates the problem, but my C# application is multithreaded and some of the DLLs have multiple threads as well.   I assume that just means I need a lock of some sort inside the method that handles the console output and writes it into the log4net framework(maybe) or maybe the normal serialization of log4net will handle it for me.   </p>\n"}, {"tags": ["c#", "wpf", "xaml", "datatemplate", "findname"], "comments": [{"owner": {"reputation": 8164, "user_id": 558018, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b1a94399ffa51364838c637de651f88a?s=128&d=identicon&r=PG", "display_name": "AgentFire", "link": "https://stackoverflow.com/users/558018/agentfire"}, "edited": false, "score": 1, "creation_date": 1423084273, "post_id": 28331459, "comment_id": 45010127, "body": "You sure you are using FindName on the right window?"}, {"owner": {"reputation": 666, "user_id": 4440414, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PYq2o.png?s=128&g=1", "display_name": "C0ZEN", "link": "https://stackoverflow.com/users/4440414/c0zen"}, "reply_to_user": {"reputation": 8164, "user_id": 558018, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/b1a94399ffa51364838c637de651f88a?s=128&d=identicon&r=PG", "display_name": "AgentFire", "link": "https://stackoverflow.com/users/558018/agentfire"}, "edited": false, "score": 0, "creation_date": 1423084535, "post_id": 28331459, "comment_id": 45032978, "body": "Solution : <a href=\"http://stackoverflow.com/questions/636383/how-can-i-find-wpf-controls-by-name-or-type/1759923#1759923\" title=\"how can i find wpf controls by name or type\">stackoverflow.com/questions/636383/&hellip;</a> An alternative to the FindName."}], "answers": [{"tags": [], "owner": {"reputation": 3618, "user_id": 2394945, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/g5WxC.png?s=128&g=1", "display_name": "Moby Disk", "link": "https://stackoverflow.com/users/2394945/moby-disk"}, "is_accepted": false, "score": 1, "last_activity_date": 1423085625, "last_edit_date": 1495541248, "creation_date": 1423085625, "answer_id": 28331877, "question_id": 28331459, "link": "https://stackoverflow.com/questions/28331459/findname-does-not-work/28331877#28331877", "title": "FindName does not work", "body": "<p>FindName won't work because the TextBox is in a template.  That &lt;TextBox&gt; declaration isn't actually creating a TextBox named \"QuantiteTextBox.\"  Instead, GridViewColumn uses that TextBox as a template to create more TextBoxes.  Imagine if that GridViewColumn was in a GridView with 10 rows.  You might get 10 TextBox instances, so there is no single TextBox with that name.</p>\n\n<p>When you call FindName, it queries a certain scope.  If the code you posted is right inside a WPF Window, then it will look for controls inside that window only.  Since that TextBox isn't in the window, you won't find it.  </p>\n\n<p>At this point, I don't know if you meant to find one of the TextBoxes in the Window, or if you really want the one in the control template.  Take a look at t</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/1764364/\">Why doesnt Window.FindName() discover the x:Name of a button in a child UserControl? AKA how do NameScopes work?</a> for a better explanation than I can give.  In short: You probably want to do this another way.</p>\n"}], "owner": {"reputation": 666, "user_id": 4440414, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PYq2o.png?s=128&g=1", "display_name": "C0ZEN", "link": "https://stackoverflow.com/users/4440414/c0zen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1357, "favorite_count": 0, "closed_date": 1423136479, "answer_count": 1, "score": 0, "last_activity_date": 1423085625, "creation_date": 1423084033, "question_id": 28331459, "link": "https://stackoverflow.com/questions/28331459/findname-does-not-work", "closed_reason": "Duplicate", "title": "FindName does not work", "body": "<p>My <code>FindName</code> does not work, the value is null.<br>\nAnd I can't call my <code>x:Name=\"QuantiteTextBox\"</code> in my code-behind...<br>\nThe name seems to not exist in this context..</p>\n\n<p>XAML :  </p>\n\n<pre><code>&lt;GridViewColumn Width=\"Auto\" Header=\"Nb\"&gt;\n     &lt;GridViewColumn.CellTemplate&gt;\n          &lt;DataTemplate&gt;\n               &lt;TextBox x:Name=\"QuantiteTextBox\" Text=\"{Binding Quantite, ElementName=EditTableUserControl}\" HorizontalAlignment=\"Center\" Margin=\"-10,0,0,0\"/&gt;\n          &lt;/DataTemplate&gt;\n     &lt;/GridViewColumn.CellTemplate&gt;\n&lt;/GridViewColumn&gt;\n</code></pre>\n\n<p>WPF :  </p>\n\n<pre><code>var quantiteTextBox = (TextBox)FindName(\"QuantiteTextBox\");\n</code></pre>\n\n<p>How can I resolve this problem please ? Thanks.</p>\n"}, {"tags": ["c#", "class", "coding-style"], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 2577659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44a726445bbd5794f6af5c1e0250859c?s=128&d=identicon&r=PG", "display_name": "denismart", "link": "https://stackoverflow.com/users/2577659/denismart"}, "edited": false, "score": 0, "creation_date": 1423085057, "post_id": 28331525, "comment_id": 45010528, "body": "Is it possible to change type of variable? For example like:      public class ChildClass_1 : ParentClass     {         public SubSettingsClass_1 settings;     }  For example i have loop. I dont know what object Child_1 or Child_2 will be used in loop, but everytime i need to get their (share, &quot;a&quot; or &quot;b&quot;) settings class variable. Child_1 objects have only Subsettings_1, Child_2 have only Subsettings_2. How to access variable &quot;a&quot; in this situation in loop?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 390, "user_id": 2577659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44a726445bbd5794f6af5c1e0250859c?s=128&d=identicon&r=PG", "display_name": "denismart", "link": "https://stackoverflow.com/users/2577659/denismart"}, "edited": false, "score": 0, "creation_date": 1423085134, "post_id": 28331525, "comment_id": 45010566, "body": "@denismart Just use it as is :). The variable is already of type <code>MainSettingsClass</code>, so you can write <code>settings.a</code> safely. <b>Upcasting</b> is very common, and very safe. Its downcasting you have to be careful with."}, {"owner": {"reputation": 390, "user_id": 2577659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44a726445bbd5794f6af5c1e0250859c?s=128&d=identicon&r=PG", "display_name": "denismart", "link": "https://stackoverflow.com/users/2577659/denismart"}, "edited": false, "score": 0, "creation_date": 1423085473, "post_id": 28331525, "comment_id": 45010737, "body": "Thank you! Understand now!"}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 3, "last_activity_date": 1423084276, "creation_date": 1423084276, "answer_id": 28331525, "question_id": 28331446, "link": "https://stackoverflow.com/questions/28331446/the-best-way-to-use-child-classes-and-methods/28331525#28331525", "title": "The best way to use child classes and methods", "body": "<ol>\n<li><p>Is that the \"right\" way to access the <code>c</code> variable? <strong>No</strong>. If you <em>have</em> to downcast, at least check it first:</p>\n\n<pre><code>firstClassSettings derivedSettings = firstClassVar.settings as firstClassSettings;\nif (derivedSettings != nulL)\n{\n    //Do whatever with derivedSettings.c\n}\n</code></pre></li>\n<li><p>There's a better way :) Its called <em>polymorphism</em>. Your classes are super general, so its hard to say <em>exactly</em> how your design should look, but your main class should have some method that the derived classes override to get the custom behavior.</p></li>\n<li><p>Downcasting is a <strong>huge</strong> code-smell. Sometimes there is no way around it (especially in legacy code, or in certain <code>Object</code> overrides and WPF interfaces) but, you should avoid it if at all possible. Doubly so in your own objects/code.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1423085197, "post_id": 28331627, "comment_id": 45010599, "body": "Thank you for catching all the terrible practice in that code I forgot to talk about. +1"}, {"owner": {"reputation": 390, "user_id": 2577659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44a726445bbd5794f6af5c1e0250859c?s=128&d=identicon&r=PG", "display_name": "denismart", "link": "https://stackoverflow.com/users/2577659/denismart"}, "edited": false, "score": 0, "creation_date": 1423085491, "post_id": 28331627, "comment_id": 45010741, "body": "Thanks thats useful too!"}], "tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": true, "score": 2, "last_activity_date": 1423085760, "last_edit_date": 1423085760, "creation_date": 1423084598, "answer_id": 28331627, "question_id": 28331446, "link": "https://stackoverflow.com/questions/28331446/the-best-way-to-use-child-classes-and-methods/28331627#28331627", "title": "The best way to use child classes and methods", "body": "<p>What you have is <em>technically</em> fine, although there's a few somewhat problematic aspects. First, there's no need to cast to <code>MainSettingsClass</code>. Since both <code>SubSettingsClass_1</code> and <code>SubSettingsClass_2</code> inherit from <code>MainSettingsClass</code>, <code>ParentClass</code>, and all derivatives thereof, will accept either as the value for a field defined as being of type <code>MainSettingsClass</code>.</p>\n\n<p>Second, fields (of which <code>settings</code> is one) aren't typically made public. Properties, which have defined getters and setters are generally your interface to data on a object.</p>\n\n<p>Third, <code>settings</code> here is a dependency, and as such, should really be injected via the constructor of the class. Something like:</p>\n\n<pre><code>public class ParentClass\n{\n    protected MainSettingsClass settings;\n\n    public ParentClass(MainSettingsClass settings)\n    {\n        this.settings = settings;\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>One more thing I just thought about that would be beneficial for you to know. Keep in mind that by using a least common denominator like <code>MainSettingsClass</code>, you lose the ability to work with specific members of the more specific derived classes <code>SubSettingsClass_1</code> and <code>SubSettingsClass_2</code>. However, generics can be used to give you a bit more flexibility:</p>\n\n<pre><code>public class ParentClass&lt;TSettings&gt;\n    where TSettings : MainSettingsClass\n{\n    protected TSettings settings;\n\n    public ParentClass(TSettings settings)\n    {\n        this.settings = settings;\n    }\n}\n\npublic class ChildClass_1 : ParentClass&lt;SubSettingsClass_1&gt;\n{\n    ...\n}\n\npublic class ChildClass_2 : ParentClass&lt;SubSettingsClass_2&gt;\n{\n    ...\n}\n</code></pre>\n\n<p>With that, you can now work with <code>c</code> in <code>ChildClass_1</code> and <code>d</code> in <code>ChildClass_2</code> because the type of your <code>settings</code> field will be <code>SubSettingsClass_1</code> and <code>SubSettingsClass_2</code>, respectively.</p>\n"}], "owner": {"reputation": 390, "user_id": 2577659, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44a726445bbd5794f6af5c1e0250859c?s=128&d=identicon&r=PG", "display_name": "denismart", "link": "https://stackoverflow.com/users/2577659/denismart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 28331627, "answer_count": 2, "score": 1, "last_activity_date": 1423085760, "creation_date": 1423083995, "question_id": 28331446, "link": "https://stackoverflow.com/questions/28331446/the-best-way-to-use-child-classes-and-methods", "title": "The best way to use child classes and methods", "body": "<p>Have some newbie questions. \nI have 6 classes:</p>\n\n<pre><code>public class MainSettingsClass\n{\n    int a;\n    int b;\n}\n\npublic class SubSettingsClass_1 : MainSettingsClass\n{\n    int c;\n}\n\npublic class SubSettingsClass_2 : MainSettingsClass\n{\n    int d;\n}\n\npublic class ParentClass\n{\n    public MainSettingsClass settings;\n}\n\npublic class ChildClass_1 : ParentClass\n{\n}\n\npublic class ChildClass_2 : ParentClass\n{\n}\n</code></pre>\n\n<p>Now the questions.  ChildClass_1 with SubSettingsClass_1 and ChildClass_2 with SubSettingsClass_1</p>\n\n<pre><code>ChildClass_1 firstClassVar = new ChildClass_1();\nChildClass_2 secondClassVar = new ChildClass_2();\nSubSettingsClass_1 firstClassSettings = new SubSettingsClass_1();\nSubSettingsClass_2 secondClassSettings = new SubSettingsClass_2();\nfirstClassVar.settings = (MainSettingsClass)firstClassSettings;\nsecondClassVar.settings = (MainSettingsClass)secondClassSettings;\n</code></pre>\n\n<p>The main thing that if i need get \"c\" variable using \"firstClassVar.settings\" i need everytime write: </p>\n\n<pre><code> ((firstClassSettings)firstClassVar.settings).c\n</code></pre>\n\n<ol>\n<li>Is it right way to access variables? </li>\n<li>Or there is a better ways exists? </li>\n<li>Is this code corresponds programming rules? Or its not correct?</li>\n</ol>\n\n<p>Sorry for bad english.</p>\n"}, {"tags": ["c#", "richtextbox"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1423084485, "post_id": 28331445, "comment_id": 45010244, "body": "I don&#39;t know what the <code>ProcessCaller</code> class is, but you&#39;ll have to execute the command in a separate thread if you want the richtextbox to be responsive while it&#39;s executing."}, {"owner": {"reputation": 6095, "user_id": 1274820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/620aa435151f022b9c4070eae088d788?s=128&d=identicon&r=PG", "display_name": "user1274820", "link": "https://stackoverflow.com/users/1274820/user1274820"}, "edited": false, "score": 0, "creation_date": 1423084833, "post_id": 28331445, "comment_id": 45010405, "body": "Please provide some code. Using TextBox.Text += output; instead of TextBox.AppendText(output); should ensure that the text does not auto scroll. As previously stated, it should be executed on a separate thread - not the form messaging loop."}, {"owner": {"reputation": 1985, "user_id": 3144560, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/B4e0Y.jpg?s=128&g=1", "display_name": "Mustafa Chelik", "link": "https://stackoverflow.com/users/3144560/mustafa-chelik"}, "edited": false, "score": 0, "creation_date": 1423085664, "post_id": 28331445, "comment_id": 45010843, "body": "Do the job in separate thread. When you do your job without creating separate thread, your code runs in main thread: the thread that is responsible to interact with user and window messages. When you do such a long job, thread can&#39;t do it&#39;s job: handling window messages, showing updated text in your RichTextBox. So do it in separate thread, or call <code>Application.DoEvents()</code> frequently (which is not a good solution)."}], "owner": {"reputation": 351, "user_id": 3370121, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8baa2088779701f075f7c66828025c31?s=128&d=identicon&r=PG&f=1", "display_name": "roy.me", "link": "https://stackoverflow.com/users/3370121/roy-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423085855, "creation_date": 1423083994, "last_edit_date": 1423085855, "question_id": 28331445, "link": "https://stackoverflow.com/questions/28331445/enable-scrolling-richtextbox-while-stdout-is-processed", "title": "Enable scrolling richtextbox while stdout is processed", "body": "<p>I'm calling an external command using the <code>ProcessCaller</code> class, and output it to <code>richtextbox</code>.\nSince the command action does take some time (could be between 2 minutes and 3 hrs) and all this time there's an output to the <code>richtextbox</code>, I want the user to be able to scroll down/up, look at the log been created, check for errors, etc.\nCurrently, I cannot use the scroll bar until the command is finished.\nIs it possible to allow the user to use the scroll bar while running an external command?</p>\n"}, {"tags": ["c#", "xml"], "answers": [{"tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 2, "last_activity_date": 1423084325, "creation_date": 1423084325, "answer_id": 28331539, "question_id": 28331432, "link": "https://stackoverflow.com/questions/28331432/remove-an-element-from-an-xml/28331539#28331539", "title": "remove an element from an XML", "body": "<p>The <code>Element</code> method only returns a <em>single</em> element. You want:</p>\n\n<pre><code>root.Elements(\"Child1\").Elements(\"GrandChild1\").Remove();\n</code></pre>\n\n<p>That uses:</p>\n\n<ul>\n<li>The normal <a href=\"https://msdn.microsoft.com/en-us/library/bb348975\" rel=\"nofollow\"><code>XContainer.Elements</code></a> method</li>\n<li>The <a href=\"https://msdn.microsoft.com/en-us/library/bb351784(v=vs.110).aspx\" rel=\"nofollow\"><code>Extensions.Elements</code></a> extension method (on <code>IEnumerable&lt;T&gt; where T : XContainer</code>)</li>\n<li>The <a href=\"https://msdn.microsoft.com/en-us/library/bb357554(v=vs.110).aspx\" rel=\"nofollow\"><code>Extensions.Remove</code></a> extension method (on <code>IEnumerable&lt;T&gt; where T : XNode</code>)</li>\n</ul>\n\n<p>So that will find every <code>GrandChild1</code> element directly under a <code>Child1</code> element directly under the root. If you actually don't care <em>where</em> the <code>GrandChild1</code> element is found, you an use</p>\n\n<pre><code>root.Descendants(\"GrandChild1\").Remove();\n</code></pre>\n\n<p>... but using <code>Elements</code> gives you a bit more control.</p>\n"}, {"tags": [], "owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "is_accepted": false, "score": 0, "last_activity_date": 1423084399, "creation_date": 1423084399, "answer_id": 28331571, "question_id": 28331432, "link": "https://stackoverflow.com/questions/28331432/remove-an-element-from-an-xml/28331571#28331571", "title": "remove an element from an XML", "body": "<p>Because you are using <code>Element</code> method, it just returns an element. You can use the <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.linq.xcontainer.descendantnodes(v=vs.110).aspx\" rel=\"nofollow\">Descendants</a> method to achieve what you want:</p>\n\n<pre><code>root.Descendants(\"GrandChild1\").Remove();\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 2697903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dce6148834e278e92414ba79edd3cd23?s=128&d=identicon&r=PG&f=1", "display_name": "user2697903", "link": "https://stackoverflow.com/users/2697903/user2697903"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 28331539, "answer_count": 2, "score": 2, "last_activity_date": 1423084399, "creation_date": 1423083937, "question_id": 28331432, "link": "https://stackoverflow.com/questions/28331432/remove-an-element-from-an-xml", "title": "remove an element from an XML", "body": "<p>I want to remove an element from an XML Tree and I tried using the method mentioned in the following URL to do that. </p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/bb387051.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/bb387051.aspx</a></p>\n\n<p>My XML is kinda different from the above and when I tried to use this it only removes the Grandchild1 in the first node. It doesn't do it for the second one.</p>\n\n<pre><code>XElement root = XElement.Parse(@\"&lt;Root&gt;\n    &lt;Child1&gt;\n        &lt;GrandChild1/&gt;\n        &lt;GrandChild2/&gt;\n        &lt;GrandChild3/&gt;\n    &lt;/Child1&gt;\n    &lt;Child1&gt;\n        &lt;GrandChild1/&gt;\n        &lt;GrandChild2/&gt;\n        &lt;GrandChild3/&gt;\n    &lt;/Child1&gt;\n&lt;/Root&gt;\");\n\nroot.Element(\"Child1\").Element(\"GrandChild1\").Remove();\n</code></pre>\n\n<p>output after executing: </p>\n\n<pre><code>&lt;Child1&gt;       \n    &lt;GrandChild2/&gt;\n    &lt;GrandChild3/&gt;\n&lt;/Child1&gt;\n&lt;Child1&gt;\n    &lt;GrandChild1/&gt;\n    &lt;GrandChild2/&gt;\n    &lt;GrandChild3/&gt;\n&lt;/Child1&gt;\n</code></pre>\n\n<p>expected output:</p>\n\n<pre><code>    &lt;Child1&gt;\n        &lt;GrandChild2/&gt;\n        &lt;GrandChild3/&gt;\n    &lt;/Child1&gt;\n    &lt;Child1&gt;\n        &lt;GrandChild2/&gt;\n        &lt;GrandChild3/&gt;\n    &lt;/Child1&gt;\n</code></pre>\n\n<p>Why doesn't it do it and how can I make it work?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c#", "reflection"], "answers": [{"tags": [], "owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "is_accepted": true, "score": 3, "last_activity_date": 1423083920, "creation_date": 1423083920, "answer_id": 28331424, "question_id": 28331395, "link": "https://stackoverflow.com/questions/28331395/how-do-i-get-the-signatures-of-all-possible-overloaded-methods/28331424#28331424", "title": "How do I get the signatures of all possible overloaded methods?", "body": "<p>You want <a href=\"https://msdn.microsoft.com/en-us/library/td205ybf(v=vs.110).aspx\" rel=\"nofollow\"><code>GetMethods</code></a> not <code>GetMethod</code></p>\n\n<pre><code>MethodInfo[] methods = type.GetMethods()\n                           .Where(x =&gt; x.Name == \"SomeMethod\")\n                           .ToArray();\n</code></pre>\n\n<p>Then you can call <code>GetParameters</code> on each <code>MethodInfo</code> to get the signature of each method.</p>\n\n<pre><code>foreach(var mi in methods)\n{\n    foreach(var p in mi.GetParameters())\n    {\n        Console.Write(p.ParameterType + \",\");\n    }\n    Console.WriteLine();\n}\n</code></pre>\n"}], "owner": {"reputation": 1040, "user_id": 2012282, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0d932c98ef3c479241afd7267f73d863?s=128&d=identicon&r=PG", "display_name": "roscioli", "link": "https://stackoverflow.com/users/2012282/roscioli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 28331424, "answer_count": 1, "score": 1, "last_activity_date": 1423083920, "creation_date": 1423083831, "question_id": 28331395, "link": "https://stackoverflow.com/questions/28331395/how-do-i-get-the-signatures-of-all-possible-overloaded-methods", "title": "How do I get the signatures of all possible overloaded methods?", "body": "<p>I would like to get an array of objects containing all possible overloaded method signatures for a method in a class. For example if we have:</p>\n\n<pre><code>public class SomeClass {\n    ...\n    public void SomeMethod() { ... }\n    public void SomeMethod(int i) { ... }\n    public void SomeMethod(string s) { ... }\n}\n</code></pre>\n\n<p>how can I find all possible parameter infos? I tried using:</p>\n\n<pre><code>MethodInfo method = type.GetMethod(methodName);\nParameterInfo[] possibleParameterInfos = method.GetParameters();\nforeach (ParameterInfo possibleParameterInfo in possibleParameterInfos)\n{\n    Console.WriteLine(possibleParameterInfo.ParameterType);\n}\n</code></pre>\n\n<p>but I am not getting what I want.</p>\n"}, {"tags": ["javascript", "c#", ".net"], "answers": [{"tags": [], "owner": {"reputation": 6654, "user_id": 1455028, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0R9ZC.png?s=128&g=1", "display_name": "Dayan", "link": "https://stackoverflow.com/users/1455028/dayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1423087166, "creation_date": 1423087166, "answer_id": 28332291, "question_id": 28331335, "link": "https://stackoverflow.com/questions/28331335/how-can-you-access-javascript-variables-from-a-c-net-webbrowser-object/28332291#28332291", "title": "How can you access javascript variables from a C#.Net Webbrowser object?", "body": "<p>Make use of <a href=\"https://github.com/cefsharp/CefSharp/wiki/Getting-Started\" rel=\"nofollow\">CeSharp</a>, a Chromium Embedded Framework that allows much more control over your webbrowser component.</p>\n\n<p><strong>To get started</strong></p>\n\n<ul>\n<li>Fire up a VS project</li>\n<li>Open nuget console and execute: <code>Install-Package CefSharp.WinForms</code> if you are doing Winforms C# App.</li>\n<li>Restart your Visual studio and re-load project.</li>\n</ul>\n\n<p><strong>Example of CefSharp code to get started.</strong></p>\n\n<ul>\n<li><p>Add a toolStripContainer to your form from the toolbox then use the following example code to load cefsharp browser component.</p>\n\n<p>public Form1()\n{\n      InitializeComponent();\n      var browser = new ChromiumWebBrowser(\"<a href=\"http://localhost:1071/\" rel=\"nofollow\">http://localhost:1071/</a>\");</p>\n\n<pre><code>  browser.Dock = DockStyle.Fill;\n\n  toolStripContainer1.ContentPanel.Controls.Add(browser);\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>This should get you started, in order to talk to JS from C# you will need to make use of <code>EvaluateScript</code> interface.</p>\n\n<p>Take a look at the following resource.\n<a href=\"https://github.com/cefsharp/CefSharp/issues/368\" rel=\"nofollow\">https://github.com/cefsharp/CefSharp/issues/368</a></p>\n"}, {"tags": [], "owner": {"reputation": 2491, "user_id": 2821583, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c9de4fef37b1178c1348dd9ea62a5d6b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/2821583/jeremy"}, "is_accepted": true, "score": 0, "last_activity_date": 1423087984, "creation_date": 1423087984, "answer_id": 28332499, "question_id": 28331335, "link": "https://stackoverflow.com/questions/28331335/how-can-you-access-javascript-variables-from-a-c-net-webbrowser-object/28332499#28332499", "title": "How can you access javascript variables from a C#.Net Webbrowser object?", "body": "<p>In the WinForms browser, use the <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.webbrowser.objectforscripting%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>ObjectForScripting</code></a> property to handle two-way communications between your WinForms application and your <code>WebBrowser</code>'s <code>Document</code>.</p>\n\n<p>You can invoke javascript members from C# through the <code>Document</code> object:</p>\n\n<pre><code> // C# code\n webBrowser1.Document.InvokeScript(\"test\",\n        new String[] { \"called from client code\" });\n</code></pre>\n\n<p>Assigning <code>ObjectForScripting</code> as</p>\n\n<pre><code>// C# code\nwebBrowser1.ObjectForScripting = obj;\n</code></pre>\n\n<p>appears to allow the hosted javascript to call members of <code>obj</code>, e.g.</p>\n\n<pre><code>// javascript code\nwindow.external.SomeMethod('called from script code');\n// executes obj.SomeMethod(string) in C#\n</code></pre>\n\n<p><sub>Disclaimer: I only have experience with the WPF web browser, so I haven't verified the above myself.</sub></p>\n"}], "owner": {"reputation": 391, "user_id": 461051, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ce21da992963124e6fbc98e4563e345b?s=128&d=identicon&r=PG", "display_name": "user461051", "link": "https://stackoverflow.com/users/461051/user461051"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1479, "favorite_count": 1, "accepted_answer_id": 28332499, "answer_count": 2, "score": 0, "last_activity_date": 1423087984, "creation_date": 1423083600, "question_id": 28331335, "link": "https://stackoverflow.com/questions/28331335/how-can-you-access-javascript-variables-from-a-c-net-webbrowser-object", "title": "How can you access javascript variables from a C#.Net Webbrowser object?", "body": "<p>I want to create a Webbrowser .Net object from my C#.Net Winform application and then be able to access javascript variables.</p>\n\n<p>Basically I want to take some action in my main Winform application depending on some user interactions that happen that set javascript variables.</p>\n\n<p>Any advice on how I can make calls to the Webbrowser object to do this?</p>\n\n<p>Note I did look at the Document property that lets you get at the DOM but don't understand how/if that can be used to get at javascript variables.</p>\n\n<p>Dan</p>\n"}, {"tags": ["c#", "css", "asp.net-mvc", "itextsharp"], "comments": [{"owner": {"reputation": 70840, "user_id": 1622493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7S0d.jpg?s=128&g=1", "display_name": "Bruno Lowagie", "link": "https://stackoverflow.com/users/1622493/bruno-lowagie"}, "edited": false, "score": 0, "creation_date": 1423123131, "post_id": 28331295, "comment_id": 45022990, "body": "It&#39;s hard to comment on this question without seeing the HTML. Maybe you have huge tables with plenty of nested elements. Without the HTML it is also impossible to find out why your PDF is blank when you change your code. My first guess would be: you have a font issue, but that&#39;s only a guess."}, {"owner": {"reputation": 2380, "user_id": 395698, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0e0ff6d903b612f31838d019da150d30?s=128&d=identicon&r=PG", "display_name": "rajeemcariazo", "link": "https://stackoverflow.com/users/395698/rajeemcariazo"}, "edited": false, "score": 0, "creation_date": 1423128755, "post_id": 28331295, "comment_id": 45025826, "body": "I have been using itextsharp for two years. I liked it because it get things done but I had this same issue when I tried to convert a 100000 characters HTML file. iTextsharp converts it in ~10 minutes which is unacceptable. I tried to convert the same HTML file with wkhtmltopdf and I was surprised that it has converted the file in ~10 seconds. iTextSharp is a great tool but the performance is slow because it was written in a managed code. On the other hand, wkhtmltopdf is written entirely native. I use TuesPechkin which is the best wkhtmltopdf wrapper so far for ASP.NET project."}], "answers": [{"comments": [{"owner": {"reputation": 823, "user_id": 2050447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/763d510abdc338672fb28845dc627bb9?s=128&d=identicon&r=PG", "display_name": "Pavan Jaju", "link": "https://stackoverflow.com/users/2050447/pavan-jaju"}, "edited": false, "score": 2, "creation_date": 1431589466, "post_id": 29701982, "comment_id": 48566606, "body": "I&#39;m also having the same issue. Can you please post the updated code?"}, {"owner": {"reputation": 9082, "user_id": 491950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/iMzU9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/491950/rob"}, "edited": false, "score": 0, "creation_date": 1434437897, "post_id": 29701982, "comment_id": 49763914, "body": "Can you add the code that&#39;s working well for you please"}], "tags": [], "owner": {"reputation": 315, "user_id": 4343035, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-RqHHVDGQgHU/AAAAAAAAAAI/AAAAAAAABZo/oHgKTtxGGtU/photo.jpg?sz=128", "display_name": "Nitin Kumar Mishra", "link": "https://stackoverflow.com/users/4343035/nitin-kumar-mishra"}, "is_accepted": true, "score": 0, "last_activity_date": 1429280791, "creation_date": 1429280791, "answer_id": 29701982, "question_id": 28331295, "link": "https://stackoverflow.com/questions/28331295/itextsharpxmlworker-parsing-is-slow/29701982#29701982", "title": "itextsharp(xmlworker) parsing is slow", "body": "<p>I removed the font types. Now iTEXT sharp uses its OWN . Its fast too.</p>\n"}], "owner": {"reputation": 315, "user_id": 4343035, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-RqHHVDGQgHU/AAAAAAAAAAI/AAAAAAAABZo/oHgKTtxGGtU/photo.jpg?sz=128", "display_name": "Nitin Kumar Mishra", "link": "https://stackoverflow.com/users/4343035/nitin-kumar-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1215, "favorite_count": 1, "accepted_answer_id": 29701982, "answer_count": 1, "score": 0, "last_activity_date": 1429280791, "creation_date": 1423083485, "question_id": 28331295, "link": "https://stackoverflow.com/questions/28331295/itextsharpxmlworker-parsing-is-slow", "title": "itextsharp(xmlworker) parsing is slow", "body": "<p>I have been using iTextSharp for converting a MVC view to pdf .the view uses inline styling. Everything works fine with below code <strong>but the parsing is slow</strong>- </p>\n\n<pre><code>        using (var ms = new MemoryStream())\n        {\n            using (var doc = new Document(PageSize.A4, 0, 1, 0,0))\n            {\n\n\n                using (var writer = PdfWriter.GetInstance(doc, ms))\n                {\n                    doc.Open();\n\n                 XMLWorkerHelper.GetInstance().ParseXHtml(writer,doc, htmlcontent);\n                //Above line is too slow    \n                    doc.Close();\n                }\n            }\n</code></pre>\n\n<p>as suggested by the experts here I moved on to below modifications-</p>\n\n<ul>\n<li>registering fonts </li>\n<li>Moved stylinging to diffrent css file</li>\n</ul>\n\n<p>Now i am using the below code but the <strong>generated pdf is blank</strong>. it does retain the style but no fonts and <strong>even this approach takes same time to parse</strong></p>\n\n<pre><code>using (var ms = new MemoryStream())\n            {\n                using (var doc = new Document(PageSize.A4, 0, 1, 0,0))\n                {\n                    using (var writer = PdfWriter.GetInstance(doc, ms))\n                    {\n\n                        doc.Open();\n\n                        // css \n                        var cssResolver = new StyleAttrCSSResolver();\n                        var cssFile = XMLWorkerHelper.GetCSS((new FileStream(Server.MapPath(\"~/Content/scptpdf.css\"), FileMode.Open, FileAccess.Read)));\n                        cssResolver.AddCss(cssFile);\n\n                        // html\n                        var fontProvider = new XMLWorkerFontProvider(XMLWorkerFontProvider.DONTLOOKFORFONTS);\n                        fontProvider.Register(Server.MapPath(\"~/Content/fonts/arial.ttf\"));\n                        fontProvider.Register(Server.MapPath(\"~/Content/fonts/arialbd.\"));\n                        fontProvider.AddFontSubstitute(\"calibri\",\"ARIAL\");\n\n                        var cssAppliers = new CssAppliersImpl(fontProvider);\n                        var htmlContext = new HtmlPipelineContext(cssAppliers);\n                        htmlContext.SetTagFactory(Tags.GetHtmlTagProcessorFactory());\n\n                        var pdf = new PdfWriterPipeline(doc, writer);\n                        var html = new HtmlPipeline(htmlContext, pdf);\n                        var css = new CssResolverPipeline(cssResolver, html);\n\n                        var worker = new XMLWorker(css,true);\n                        var p = new XMLParser(worker);\n\n                        byte[] byteArray = Encoding.UTF8.GetBytes(pdftext);\n                        var htmlstream = new MemoryStream(byteArray);\n                        p.Parse(htmlstream);\n\n                        //XMLWorkerHelper.GetInstance().ParseXHtml(writer, doc, htmlcontent);\n\n                        doc.Close();\n                    }\n                }\n</code></pre>\n\n<p>I need to over the latency. Can some help with this. Thanks in advance.</p>\n"}, {"tags": ["c#", "xml", "vb.net", "serialization", "nested-attributes"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 2777422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91da480c1e45cfc96ac89de154fcac9b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/2777422/jeremy"}, "edited": false, "score": 1, "creation_date": 1438173573, "post_id": 31668722, "comment_id": 51340330, "body": "I don&#39;t see where this solves for the attribute total in the parent class?  This looks like what I am already capable of doing using the xmlserializer?"}, {"owner": {"reputation": 1405, "user_id": 2157164, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SwTh7.jpg?s=128&g=1", "display_name": "Fragment", "link": "https://stackoverflow.com/users/2157164/fragment"}, "reply_to_user": {"reputation": 385, "user_id": 2777422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91da480c1e45cfc96ac89de154fcac9b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/2777422/jeremy"}, "edited": false, "score": 0, "creation_date": 1438187636, "post_id": 31668722, "comment_id": 51350775, "body": "I don&#39;t listed the generated ChildClass code here, for shortness, only ParentClass. But i think from my example it should be clear.This utility will generate all needed entities from your xml-file, if it has correct structure. And after generation, add this generated entities to your project, and work through XmlSerializer."}], "tags": [], "owner": {"reputation": 1405, "user_id": 2157164, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/SwTh7.jpg?s=128&g=1", "display_name": "Fragment", "link": "https://stackoverflow.com/users/2157164/fragment"}, "is_accepted": false, "score": -1, "last_activity_date": 1438064444, "creation_date": 1438064444, "answer_id": 31668722, "question_id": 28331284, "link": "https://stackoverflow.com/questions/28331284/get-an-xml-elements-attribute-a-property-when-deserializing-net/31668722#31668722", "title": "Get an XML Element&#39;s Attribute a Property when Deserializing .NET", "body": "<p>For simplicity and further convenient work, i recommend you to use xsd-generating utility <a href=\"https://msdn.microsoft.com/en-us/library/x6c1kb0s(v=vs.110).aspx\" rel=\"nofollow\">xsd.exe</a>. </p>\n\n<p>It is usually located at: <strong>C:\\Program Files\\Microsoft SDKs\\Windows\\\\Bin</strong>, if you have an installed SDK.</p>\n\n<p>For example, we have an xml-file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;ParentClass name=\"Jeremy\" role=\"engineer\"&gt;\n    &lt;ChildClass total=\"10\" /&gt;\n&lt;/ParentClass&gt;\n</code></pre>\n\n<p>Using command line, lets generate a schema:</p>\n\n<p><strong><em>C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0A\\Bin>xsd.exe C:\\Docs\\test.xml</em></strong></p>\n\n<p>As the result, now we have an xsd file <strong>test.xsd</strong>. </p>\n\n<p>At next step we create class structure from xsd file:</p>\n\n<p><strong><em>C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0A\\Bin>xsd.exe test.xsd /classes</em></strong></p>\n\n<p>After that, as a result, you have autogenerated classes, with annotations, ready to serialize/deserialize, like:</p>\n\n<pre><code>[System.CodeDom.Compiler.GeneratedCodeAttribute(\"xsd\", 2.0.50727.3038\")]\n[System.SerializableAttribute()]\n[System.Diagnostics.DebuggerStepThroughAttribute()]\n[System.ComponentModel.DesignerCategoryAttribute(\"code\")]\n[System.Xml.Serialization.XmlTypeAttribute(AnonymousType=true)]\n[System.Xml.Serialization.XmlRootAttribute(Namespace=\"\", IsNullable=false)]\npublic partial class ParentClass {\n\n    private ParentClassChildClass[] childClassField;\n\n    private string nameField;\n\n    private string roleField;\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlElementAttribute(\"ChildClass\",Form=System.Xml.Schema.XmlSchemaForm.Unqualified)]\n    public ParentClassChildClass[] ChildClass {\n        get {\n            return this.childClassField;\n        }\n        set {\n            this.childClassField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlAttributeAttribute()]\n    public string name {\n        get {\n            return this.nameField;\n        }\n        set {\n            this.nameField = value;\n        }\n    }\n\n    /// &lt;remarks/&gt;\n    [System.Xml.Serialization.XmlAttributeAttribute()]\n    public string role {\n        get {\n            return this.roleField;\n        }\n        set {\n            this.roleField = value;\n        }\n    }\n}\n</code></pre>\n\n<p>Since that, you can deserialize your xml-file, and do everything you want:</p>\n\n<pre><code>public static ParentClass Deserialize(Stream dictFileStream, XmlSerializer serializer)\n{\n    var reader = XmlReader.Create(dictFileStream);\n    var item = (ParentClass)serializer.Deserialize(reader);\n    return item;\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>using (var file = new FileStream(@\"c:\\Docs\\test.xml\", FileMode.Open))\n{\n    var serializer = new XmlSerializer(typeof(ParentClass));\n    var parent = Deserialize(file, serializer);\n\n    // do what you want\n    parent.name = ...\n    parent.ChildClass.total ...\n}\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 2777422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91da480c1e45cfc96ac89de154fcac9b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/2777422/jeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 897, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1438064444, "creation_date": 1423083440, "question_id": 28331284, "link": "https://stackoverflow.com/questions/28331284/get-an-xml-elements-attribute-a-property-when-deserializing-net", "title": "Get an XML Element&#39;s Attribute a Property when Deserializing .NET", "body": "<p>I have searched extensively to find this answer, and I do not think it's possible, but I figured I would ask.  This would be relevant to VB and C# users as well.</p>\n\n<p>I have an XML (that looks to have been serialized) from another application.  I currently have created lots of classes that mimic the structure of the XML, and everything works fine.  However, I am using the Top level class structure in my own application to access properties from this later using Reflection and Dictionaries.  </p>\n\n<p>This has created several cases where I have to dig through layers of class objects to get to the value I want.  In many cases, the value is simply an attribute of an element; in multiple cases, right at the top level of the XML.  My question is, can I access, with De-Serialization, that Element's Attribute at the top level class?  Without the need to create a nested / child class that captures them?</p>\n\n<p>Again, this all works with a complex class structure, I'm just trying to simplify things for later use.  This is an extremely simple example below, but these cases are all over the XML files I am working with.</p>\n\n<p>Here is a simple example of the XML I am trying to deserialize</p>\n\n<pre><code>&lt;ParentClass name=\"Jeremy\" role=\"engineer\"&gt;\n    &lt;ChildClass total=\"10\" /&gt;\n&lt;/ParentClass&gt;\n</code></pre>\n\n<p>Here is the class structure I know I can use today.  However, to access the value Total, I would have to call it with User.Points.Total</p>\n\n<pre><code>&lt;Serializable&gt; &lt;XmlRoot(\"ParentClass\")&gt; Public Class User\n    &lt;XmlAttribute(\"name\")&gt; Public Property UserName as String\n    &lt;XmlAttribute(\"role\")&gt; Public Property UserRole as String\n    &lt;XmlElement(\"ChildClass\")&gt; Public Property Points as Points\nEnd Class\n\n&lt;Serializable&gt; Public Class Points\n    &lt;XmlAttribute(\"total\")&gt; Public Property Total as String\nEnd Class\n</code></pre>\n\n<p>What am hoping is possible, is something like the following, where I can more easily call User.Total.</p>\n\n<p>Notice I called it XmlMagicalFlag in this case.</p>\n\n<pre><code>&lt;Serializable&gt; &lt;XmlRoot(\"ParentClass\")&gt; Public Class User\n    &lt;XmlAttribute(\"name\")&gt; Public Property UserName as String\n    &lt;XmlAttribute(\"role\")&gt; Public Property UserRole as String\n    &lt;XmlMagicalFlag(\"total\")&gt; Public Property Total as String\nEnd Class\n</code></pre>\n"}, {"tags": ["c#", "arrays", "arraylist"], "comments": [{"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 2, "creation_date": 1423083512, "post_id": 28331279, "comment_id": 45009743, "body": "Why not use a class with properties Name, and Position, and then use Array or List of that class objects."}, {"owner": {"reputation": 24129, "user_id": 2091410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mIlt.jpg?s=128&g=1", "display_name": "Ed Gibbs", "link": "https://stackoverflow.com/users/2091410/ed-gibbs"}, "edited": false, "score": 0, "creation_date": 1423083554, "post_id": 28331279, "comment_id": 45009758, "body": "Use <code>List&lt;string&gt;</code> instead. You can build it dynamically, and if you need an array you can just call its <code>.ToString()</code> method."}, {"owner": {"reputation": 1590, "user_id": 1892668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c28efdb2f8e6019360d2e25c8b1a373b?s=128&d=identicon&r=PG", "display_name": "Bradford Dillon", "link": "https://stackoverflow.com/users/1892668/bradford-dillon"}, "edited": false, "score": 1, "creation_date": 1423083625, "post_id": 28331279, "comment_id": 45009805, "body": "Are the element names unique?"}], "answers": [{"comments": [{"owner": {"reputation": 470, "user_id": 4447962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-zMQsTof5yCE/AAAAAAAAAAI/AAAAAAAAACk/nLPvkvR_-e8/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/4447962/max"}, "edited": false, "score": 0, "creation_date": 1423086487, "post_id": 28331310, "comment_id": 45011280, "body": "Thanks Lloyd, BradleyDotNET, Selman22, stakx &amp; fallaciousreasoning\t, It solved the problem, Much appreciated."}], "tags": [], "owner": {"reputation": 513, "user_id": 3260044, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100001349446661/picture?type=large", "display_name": "fallaciousreasoning", "link": "https://stackoverflow.com/users/3260044/fallaciousreasoning"}, "is_accepted": false, "score": 0, "last_activity_date": 1423083532, "creation_date": 1423083532, "answer_id": 28331310, "question_id": 28331279, "link": "https://stackoverflow.com/questions/28331279/c-dynamic-array-index/28331310#28331310", "title": "C# Dynamic Array/ index", "body": "<p>Try </p>\n\n<pre><code>List&lt;string&gt; list = new List&lt;string&gt;();\nlist.Add(\"[ELEMENT #1 NAME],[ELEMENT #1POSITION]\")\n</code></pre>\n\n<p>Unless I've misunderstood your question that should be what you want</p>\n"}, {"tags": [], "owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "is_accepted": false, "score": 1, "last_activity_date": 1423083545, "creation_date": 1423083545, "answer_id": 28331313, "question_id": 28331279, "link": "https://stackoverflow.com/questions/28331279/c-dynamic-array-index/28331313#28331313", "title": "C# Dynamic Array/ index", "body": "<p>You can use <code>List&lt;T&gt;</code> if you want a <em>dynamically sized</em> collection and don't bother with the index. And you should also create a type with two properties (<code>Name</code> and <code>Position</code>) and have a list of that type instead of storing them as <code>string</code>. It's easier to maintain, you don't have to parse the string every time you wanna get/set the <code>Name</code> or <code>Position</code> of a particular object.</p>\n"}, {"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 1, "last_activity_date": 1423083546, "creation_date": 1423083546, "answer_id": 28331314, "question_id": 28331279, "link": "https://stackoverflow.com/questions/28331279/c-dynamic-array-index/28331314#28331314", "title": "C# Dynamic Array/ index", "body": "<p>Normally, you would just use a <code>List&lt;String&gt;</code> here. The <code>Add</code> method allows you to just add an element, no indexing required.</p>\n\n<pre><code>List&lt;string&gt; list = new List&lt;string&gt;();\nlist.Add(\"Test\");\n</code></pre>\n\n<p>In your case, since you have \"Name\" and \"Position\" associated with each other, consider using a <code>List&lt;PositionedThing&gt;</code> (a custom class in other words) or a <code>Dictionary&lt;String, String&gt;</code> to store your mappings. </p>\n\n<p>The class would look like:</p>\n\n<pre><code>public class PositionedThing\n{\n    public String Name {get; set;}\n    public String Position {get; set;}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27886, "user_id": 63333, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ce32261b3151a207d5340154940410c8?s=128&d=identicon&r=PG", "display_name": "Lloyd", "link": "https://stackoverflow.com/users/63333/lloyd"}, "is_accepted": true, "score": 4, "last_activity_date": 1423083964, "last_edit_date": 1423083964, "creation_date": 1423083555, "answer_id": 28331318, "question_id": 28331279, "link": "https://stackoverflow.com/questions/28331279/c-dynamic-array-index/28331318#28331318", "title": "C# Dynamic Array/ index", "body": "<p>You can use  <code>List&lt;string&gt;</code> as a dynamic array, it supports <code>IEnumerable&lt;string&gt;</code> for enumerating, or you can call LINQ and <code>ToArray()</code>.</p>\n\n<p>For example:</p>\n\n<pre><code>var list = new List&lt;string&gt;();\n\nlist.Add(\"[ELEMENT #1 NAME],[ELEMENT #1POSITION]\");\n\nstring array[] = list.ToArray();\n</code></pre>\n\n<p>However, I'd actually recommend a dictionary in this case and not a list, a dictionary will let you store key-value pairs.</p>\n\n<p>For example:</p>\n\n<pre><code>var dict = new Dictionary&lt;string,int&gt;();\n\ndict[\"Element #1 Name\"] = #Element #1 Position#;\n</code></pre>\n\n<p>Note that I've no real idea what type the position is, could be an <code>int</code>, a <code>string</code> or even a <code>Point</code>, but you get the idea.</p>\n\n<p>You then don't need to bother with indices but refer to everything by name:</p>\n\n<pre><code>var el1_pos = dict[\"Element #1 Name\"];\nvar el999_pos = dict[\"Element #999 Name\"];\n</code></pre>\n"}], "owner": {"reputation": 470, "user_id": 4447962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-zMQsTof5yCE/AAAAAAAAAAI/AAAAAAAAACk/nLPvkvR_-e8/photo.jpg?sz=128", "display_name": "Max", "link": "https://stackoverflow.com/users/4447962/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2134, "favorite_count": 0, "accepted_answer_id": 28331318, "answer_count": 4, "score": 0, "last_activity_date": 1423083964, "creation_date": 1423083416, "last_edit_date": 1423083614, "question_id": 28331279, "link": "https://stackoverflow.com/questions/28331279/c-dynamic-array-index", "title": "C# Dynamic Array/ index", "body": "<p>I am creating an array of string[] in my c# program to save location (\"name\",\"Position\") of a bunch of elements. The problem is any time I had to introduce a new element I have to change the code at several places according to index of elements:</p>\n\n<pre><code>   string[] list = new string[4];\n   list[0] = \"[ELEMENT #1 NAME],[ELEMENT #1POSITION]\";\n   list[1] = \"[ELEMENT #2 NAME],[ELEMENT #2POSITION]\";\n   list[2] = \"[ELEMENT #3 NAME],[ELEMENT #3POSITION]\";\n   list[3] = \"[ELEMENT #4 NAME],[ELEMENT #4POSITION]\";\n</code></pre>\n\n<p>What I am looking for is something like an dynamic array so that I do not have to change the index location every time I introduce/ remove an element from list.</p>\n"}, {"tags": ["c#", "wpf", "webcam"], "comments": [{"owner": {"reputation": 323, "user_id": 2481100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QRixN.jpg?s=128&g=1", "display_name": "SKull", "link": "https://stackoverflow.com/users/2481100/skull"}, "edited": false, "score": 0, "creation_date": 1425482879, "post_id": 28331256, "comment_id": 45982367, "body": "Just a stab in the dark: Maybe the webcam on your laptop has some special weird drivers."}, {"owner": {"reputation": 23, "user_id": 3549929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5792aceb7c24fc0c559a5113b26ab5d?s=128&d=identicon&r=PG&f=1", "display_name": "Franchojavilondo", "link": "https://stackoverflow.com/users/3549929/franchojavilondo"}, "reply_to_user": {"reputation": 323, "user_id": 2481100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/QRixN.jpg?s=128&g=1", "display_name": "SKull", "link": "https://stackoverflow.com/users/2481100/skull"}, "edited": false, "score": 0, "creation_date": 1425632216, "post_id": 28331256, "comment_id": 46050471, "body": "hm, I also thought the same @Mathew, I&#39;ll do some research and publish it here."}], "owner": {"reputation": 23, "user_id": 3549929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5792aceb7c24fc0c559a5113b26ab5d?s=128&d=identicon&r=PG&f=1", "display_name": "Franchojavilondo", "link": "https://stackoverflow.com/users/3549929/franchojavilondo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 396, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1425476292, "creation_date": 1423083357, "question_id": 28331256, "link": "https://stackoverflow.com/questions/28331256/cant-get-to-work-webcam-on-wpf-c-with-multiple-cams", "title": "can&#39;t get to work webcam on WPF c# with multiple cams", "body": "<p>I've been working for a while on a WPF application that uses at the same time:</p>\n\n<ul>\n<li>Leap motion</li>\n<li>Integrated Webcam</li>\n</ul>\n\n<p>I make work everything else but the webcam, I followed a lot of codes/tutorials I found on the internet but did not succeed, the one I followed last time was this one:</p>\n\n<p><a href=\"https://easywebcam.codeplex.com/\" rel=\"nofollow\">https://easywebcam.codeplex.com/</a></p>\n\n<p>And it worked fine, no problem, easy to do. But now, on my new laptop it just doesnt work, even without Leap disconnected. I always get a green screen or this message \"an error occurred while capturing the video image. the video capture will now be terminated\".</p>\n\n<p>I checked and the webcam works fine on skype, camera..etc... Leap motion works fine too.</p>\n\n<p>I've heard about using DirectShow, but I don't know where to start.</p>\n\n<p>Thanks for your time mates</p>\n"}, {"tags": ["c#", "async-await", "entity-framework-6"], "comments": [{"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1423083457, "post_id": 28331244, "comment_id": 45009719, "body": "please note that createUnitOfWorkAsync() is not a asynchronous method. It just creates a class that supports the async await paradigm."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 1, "creation_date": 1423085361, "post_id": 28331244, "comment_id": 45010680, "body": "<code>createUnitOfWorkAsync</code> does create a <i>new</i> context, correct?"}, {"owner": {"reputation": 135642, "user_id": 1870803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jYakG.jpg?s=128&g=1", "display_name": "Yuval Itzchakov", "link": "https://stackoverflow.com/users/1870803/yuval-itzchakov"}, "edited": false, "score": 1, "creation_date": 1423087691, "post_id": 28331244, "comment_id": 45011890, "body": "<code>ConfigureAwait(true);</code> this is a first timer.."}, {"owner": {"reputation": 3458, "user_id": 3238462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290187216/picture?type=large", "display_name": "Kai Brummund", "link": "https://stackoverflow.com/users/3238462/kai-brummund"}, "edited": false, "score": 0, "creation_date": 1423101312, "post_id": 28331244, "comment_id": 45016243, "body": "ConfigureAwait(true) is the default behavior and you don&#39;t need to add that."}, {"owner": {"reputation": 3458, "user_id": 3238462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290187216/picture?type=large", "display_name": "Kai Brummund", "link": "https://stackoverflow.com/users/3238462/kai-brummund"}, "edited": false, "score": 0, "creation_date": 1423101556, "post_id": 28331244, "comment_id": 45016285, "body": "Then for SO id recommend to strip out son unnecessary code to make it easier for people to find the relative part of your code to help you with (e.g. hard to find you problem between all those logging)."}, {"owner": {"reputation": 3458, "user_id": 3238462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290187216/picture?type=large", "display_name": "Kai Brummund", "link": "https://stackoverflow.com/users/3238462/kai-brummund"}, "edited": false, "score": 0, "creation_date": 1423102199, "post_id": 28331244, "comment_id": 45016426, "body": "And then to finally get things started: Where exactly do you get the exception?"}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1423155926, "post_id": 28331244, "comment_id": 45043526, "body": "@Stephen createunitofworkasync indeed creates a new context."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1423156701, "post_id": 28331244, "comment_id": 45044037, "body": "I know configureAwait(true) is default, but doing the call explicit documents the code. processRelatie for instance is creating datastructures that are used in binding operations and must be on the GUI thread."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1450455800, "post_id": 28331244, "comment_id": 56461463, "body": "Downvoting is for when the question does not show research effort. Clearly if you take a look at the final answer there was a bug which is not so easy to spot. I bet the downvoter did not see it."}], "answers": [{"comments": [{"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1423113195, "post_id": 28335250, "comment_id": 45019299, "body": "Thank you for the comment, i am doing it this way because i want to be able to cancel the operation in a next increment using a cancellation token. The method loadRelatieAsync is called multiple times and is running concurrently because there is no cancellation yet, but this should not matter because i am using a different context each time. It is created underneith the unitofwork creation. You are right i am trying to unblock the GUI thread as much as possible but i also want to be able to cancel the pending navigation operation"}, {"owner": {"reputation": 3458, "user_id": 3238462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290187216/picture?type=large", "display_name": "Kai Brummund", "link": "https://stackoverflow.com/users/3238462/kai-brummund"}, "reply_to_user": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1423118566, "post_id": 28335250, "comment_id": 45021004, "body": "You can still only check for cancellation requests between your operations, that will make no difference then."}, {"owner": {"reputation": 3458, "user_id": 3238462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290187216/picture?type=large", "display_name": "Kai Brummund", "link": "https://stackoverflow.com/users/3238462/kai-brummund"}, "reply_to_user": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1423118726, "post_id": 28335250, "comment_id": 45021054, "body": "Why don&#39;t you just check, if a loading operation was already started and return it&#39;s task, if it is already there? Also are you 100% sure about your context? Because it when ongoing transactions cause your error, that&#39;s most probably the problem."}], "tags": [], "owner": {"reputation": 3458, "user_id": 3238462, "user_type": "registered", "profile_image": "https://graph.facebook.com/1290187216/picture?type=large", "display_name": "Kai Brummund", "link": "https://stackoverflow.com/users/3238462/kai-brummund"}, "is_accepted": false, "score": 1, "last_activity_date": 1423103799, "creation_date": 1423103799, "answer_id": 28335250, "question_id": 28331244, "link": "https://stackoverflow.com/questions/28331244/uow-a-second-operation-started-on-this-context-before-a-previous-asynchronous/28335250#28335250", "title": "UOW - A second operation started on this context before a previous asynchronous operation completed", "body": "<p><em>This is probably not the answer, but a general look over your code.</em></p>\n\n<p>Main purpose of async/await is, to keep the current Thread available. This helps not blocking the UI Thread and keeping your App responsive.</p>\n\n<p>You are already making sure that your deep loading happens on a ThreadPool thread, because you are starting it entirely utilizing <strong>Task.Run()</strong>. You can probably get around most of your problems by using the default synchronous methods of EntityFramework in your loading mechanism.</p>\n\n<p>In a first look, your code looks <em>fine</em> as of the async calls. Maybe your deep loading is triggered multiple times?</p>\n"}, {"comments": [{"owner": {"reputation": 856, "user_id": 5875331, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/PAnY3.jpg?s=128&g=1", "display_name": "Daniel Jackson", "link": "https://stackoverflow.com/users/5875331/daniel-jackson"}, "edited": false, "score": 0, "creation_date": 1537798242, "post_id": 28352019, "comment_id": 91903856, "body": "When you say, &quot;fixed this by replacing instanced variables with local,&quot; do you mean variables within a method and replacing them by variables created as fields in the instance class? Just curious for knowledge."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "reply_to_user": {"reputation": 856, "user_id": 5875331, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/PAnY3.jpg?s=128&g=1", "display_name": "Daniel Jackson", "link": "https://stackoverflow.com/users/5875331/daniel-jackson"}, "edited": false, "score": 2, "creation_date": 1537890737, "post_id": 28352019, "comment_id": 91944972, "body": "I mean the opposite, a local variable has scope of a method where it is declared, while an instance variable scope is as long as the instance of the object it contains lives."}, {"owner": {"reputation": 856, "user_id": 5875331, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/PAnY3.jpg?s=128&g=1", "display_name": "Daniel Jackson", "link": "https://stackoverflow.com/users/5875331/daniel-jackson"}, "edited": false, "score": 0, "creation_date": 1537906385, "post_id": 28352019, "comment_id": 91952492, "body": "Ok I see what you mean. I&#39;m still learning. I think I need more understanding of using async/await programming because I&#39;m doing it without fully knowing it and I&#39;m running into the same issues as above. When I change back to straight synchronous, I don&#39;t have those issues anymore."}, {"owner": {"reputation": 1191, "user_id": 1590988, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RRIDb.jpg?s=128&g=1", "display_name": "Gajendra", "link": "https://stackoverflow.com/users/1590988/gajendra"}, "edited": false, "score": 0, "creation_date": 1548077594, "post_id": 28352019, "comment_id": 95402760, "body": "you saved my life !!"}], "tags": [], "owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "is_accepted": true, "score": 16, "last_activity_date": 1544554120, "last_edit_date": 1544554120, "creation_date": 1423163225, "answer_id": 28352019, "question_id": 28331244, "link": "https://stackoverflow.com/questions/28331244/uow-a-second-operation-started-on-this-context-before-a-previous-asynchronous/28352019#28352019", "title": "UOW - A second operation started on this context before a previous asynchronous operation completed", "body": "<p>The problem is this code :</p>\n\n<pre><code>_unitOfWork = _UnitOfWorkFactory.createUnitOfWorkAsync();\n\nIEnumerable&lt;Relatie&gt; relaties = await getRelatieAsync(_unitOfWork, relatieId).ConfigureAwait(true);\n\n_relatieTypeTypes = await getRelatieTypeTypesAsync(_unitOfWork, relatieId).ConfigureAwait(true);\n_relatie = relaties.FirstOrDefault();\n\n _unitOfWork.Dispose();\n</code></pre>\n\n<p>the UnitOfWork is an instance variable, when the scenario starts a second time it is overwritten with a new instance. The already executing scenario then uses that new UnitOfWork instead of its own because it is overwritten. \nNot so easy to spot, but a simple race condition.\nI found it by replacing all instance variables by local variables and then the problem disappeared.</p>\n"}], "owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34814, "favorite_count": 1, "accepted_answer_id": 28352019, "answer_count": 2, "score": 13, "last_activity_date": 1544554120, "creation_date": 1423083318, "last_edit_date": 1512562906, "question_id": 28331244, "link": "https://stackoverflow.com/questions/28331244/uow-a-second-operation-started-on-this-context-before-a-previous-asynchronous", "title": "UOW - A second operation started on this context before a previous asynchronous operation completed", "body": "<p>I am trying following code, it has two parts, one is navigation via prism.\nWhen navigation is allowed I am starting a deep load asynchronously but each time with a new context. In later code I would want to cancel pending navigations that are not finished this loading but the below code does not even work so cancellation is a matter for later ;-)</p>\n\n<p>navigation logic : no problems here</p>\n\n<pre><code>public void OnNavigatedTo(NavigationContext navigationContext)\n{\n    int relatieId = (int)navigationContext.Parameters[\"RelatieId\"];\n    if (_relatie != null &amp;&amp; _relatie.RelatieId == relatieId) return;\n\n    loadRelatieAsync(relatieId);\n}\n\npublic void ConfirmNavigationRequest(NavigationContext navigationContext, Action&lt;bool&gt; continuationCallback)\n{\n    bool navigationAllowed = true;\n    continuationCallback(navigationAllowed);\n}\n</code></pre>\n\n<p>deep loading logic:</p>\n\n<pre><code>private async Task loadRelatieAsync(int relatieId)\n{\n    try\n    {\n        await Task.Run(async () =&gt;\n        {\n\n            _unitOfWork = _UnitOfWorkFactory.createUnitOfWorkAsync();\n\n            IEnumerable&lt;Relatie&gt; relaties = await getRelatieAsync(_unitOfWork, relatieId).ConfigureAwait(true);\n\n            _relatieTypeTypes = await getRelatieTypeTypesAsync(_unitOfWork, relatieId).ConfigureAwait(true);\n            _relatie = relaties.FirstOrDefault();\n\n            _unitOfWork.Dispose();\n        }).ConfigureAwait(true);\n\n        processRelatie(_relatie);\n\n        processRelatieTypes(_relatie, _relatieTypeTypes);\n    }\n    catch (Exception Ex)\n    {\n\n        MessageBox.Show(Ex.Message);\n        throw;\n    }\n\n}\n\nprivate async Task&lt;IEnumerable&lt;Relatie&gt;&gt; getRelatieAsync(IUnitOfWorkAsync unitOfWork, int relatieId)\n{\n\n    IEnumerable&lt;Relatie&gt; relaties = null;\n    try\n    {\n        IRepositoryAsync&lt;Relatie&gt; relatieRepository = unitOfWork.RepositoryAsync&lt;Relatie&gt;();\n        relaties = await relatieRepository\n            .Query(r =&gt; r.RelatieId == relatieId)\n            .Include(i =&gt; i.BegrafenisOndernemer)\n            .SelectAsync()\n            .ConfigureAwait(false);\n\n        IRepositoryAsync&lt;Adres&gt; adresRepository = unitOfWork.RepositoryAsync&lt;Adres&gt;();\n        //exception is thrown after executing following line\n        var adressen = await adresRepository\n            .Query(r =&gt; r.RelatieId == relatieId)\n            .Include(i =&gt; i.AdresType)\n            .SelectAsync()\n            .ConfigureAwait(false);\n        _relatieTypeRepository = unitOfWork.RepositoryAsync&lt;RelatieType&gt;();\n        var relatieTypes = await _relatieTypeRepository\n            .Query(r =&gt; r.RelatieId == relatieId)\n            .SelectAsync()\n            .ConfigureAwait(false);\n    }\n    catch (Exception Ex)\n    {\n        MessageBox.Show(Ex.Message);//exception is shown here\n        throw;\n    }\n    return relaties;\n}\n\nprivate async Task&lt;IEnumerable&lt;RelatieTypeType&gt;&gt; getRelatieTypeTypesAsync(IUnitOfWorkAsync unitOfWork, int relatieId)\n{\n\n    IEnumerable&lt;RelatieTypeType&gt; relatieTypeTypes = null;\n    try\n    {\n        IRepositoryAsync&lt;RelatieTypeType&gt; relatieTypeTypeRepository =\n            unitOfWork.RepositoryAsync&lt;RelatieTypeType&gt;();\n\n        relatieTypeTypes = await relatieTypeTypeRepository\n            .Query()\n            .SelectAsync()\n            .ConfigureAwait(false);\n\n    }\n    catch (Exception Ex)\n    {\n        MessageBox.Show(Ex.Message);\n        throw;\n    }\n    return relatieTypeTypes;\n}\n</code></pre>\n\n<p>I keep getting exceptions as if I forgot to await, but this is never the case.\nI also use configureawait(true) properly whenever I want continuation on the GUI thread. But I keep getting this error in the deeploading logic. The unit of work and repository classes also use the async await mechanism but also there I am awaiting properly.</p>\n\n<p>A second operation started on this context before a previous asynchronous operation completed. Use 'await' to ensure that any asynchronous operations have completed before calling another method on this context. Any instance members are not guaranteed to be thread safe.</p>\n\n<p><strong>Edit</strong> (removed logger code to reduce the code size)   </p>\n"}, {"tags": ["c#", "asp.net", "linq-to-sql"], "comments": [{"owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 1, "creation_date": 1423083651, "post_id": 28331238, "comment_id": 45009815, "body": "&quot;For some reason instead of auto-incrementing,&quot;, What is the primary key in your table, It looks like <code>AreaName</code> is the primary key. If you have an integer field as primary key then you have to set Identity specifications and then you can expect Auto increment."}, {"owner": {"reputation": 13, "user_id": 4066932, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mqKNkKPJhxM/AAAAAAAAAAI/AAAAAAAABOk/cBTq3TgmL6g/photo.jpg?sz=128", "display_name": "David Thor", "link": "https://stackoverflow.com/users/4066932/david-thor"}, "reply_to_user": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "edited": false, "score": 0, "creation_date": 1423250722, "post_id": 28331238, "comment_id": 45086872, "body": "Thanks Habib. I was going to save the array in a field but just decided to go with a junction table for my many to many relationship. I just wanted to say I appreciate the answer."}], "owner": {"reputation": 13, "user_id": 4066932, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mqKNkKPJhxM/AAAAAAAAAAI/AAAAAAAABOk/cBTq3TgmL6g/photo.jpg?sz=128", "display_name": "David Thor", "link": "https://stackoverflow.com/users/4066932/david-thor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 629, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423121286, "creation_date": 1423083303, "last_edit_date": 1423121286, "question_id": 28331238, "link": "https://stackoverflow.com/questions/28331238/linq-array-insert-into-table", "title": "LINQ Array Insert into Table", "body": "<p>I'm trying to download an array of strings into a field in my database. For some reason instead of auto-incrementing, I'm duplicating my input for some reason.   </p>\n\n<p>I get the error message </p>\n\n<blockquote>\n  <p>Violation of UNIQUE KEY constraint 'UQ__ceArea__4FDBB1FDFC286D16'.\n  Cannot insert duplicate key in object 'dbo.ceArea'. The duplicate key\n  value is (0).</p>\n</blockquote>\n\n<p>Code is below. </p>\n\n<p>Am I doing something wrong?</p>\n\n<pre><code>   //Selected checkbox areas\n\n        IEnumerable&lt;string&gt; allChecked = (from item in ceCheckBoxList.Items.Cast&lt;ListItem&gt;()\n                                       where item.Selected\n                                       select item.Value);\n\n\n        string[] selectedAreaValues = allChecked.ToArray();\n</code></pre>\n\n<p>I insert the array into DB in this code.</p>\n\n<pre><code>ceArea ceArea = new ceArea();\n\n        foreach (string area in selectedAreaValues)\n        {\n\n                 OdContext.ceAreas.InsertOnSubmit(new ceArea() { AreaName = area });\n        }\n</code></pre>\n\n<p>This is the only thing I can't get into my DB.</p>\n"}, {"tags": ["c#", "select", "knockout.js", "binding"], "answers": [{"tags": [], "owner": {"reputation": 1291, "user_id": 2266955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5d3b8be8788ffbe20de8ad5aa9f1de?s=128&d=identicon&r=PG", "display_name": "slvnperron", "link": "https://stackoverflow.com/users/2266955/slvnperron"}, "is_accepted": false, "score": 0, "last_activity_date": 1423085756, "creation_date": 1423085756, "answer_id": 28331911, "question_id": 28331191, "link": "https://stackoverflow.com/questions/28331191/how-can-i-use-knockout-js-to-bind-data-in-my-c-code-behind-to-a-select-element/28331911#28331911", "title": "How can I use knockout.js to bind data in my C# code behind to a select element on the front-end?", "body": "<p>That is not how you must do it in ASP.NET. You must create ViewModels and bind them using <code>ko.applybindings(viewModel, YOUR_HTML_ELEMENT_ROOT)</code>. In order to do that, the model should either:</p>\n\n<p>a) Be serialized at run time by the server and dumped into a javascript variable</p>\n\n<p>or b) Fetched dynamically with javascript and then apply the binding</p>\n\n<p>A complete example of how to achieve this with Entity Framework, ASP.NET and Knockout is <a href=\"http://www.codeproject.com/Articles/692793/Introduction-to-Knockout-js-and-CRUD-Operations-in\" rel=\"nofollow\">available here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 898, "user_id": 1118961, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e57872b99ce788cc889c6f1da746a69f?s=128&d=identicon&r=PG", "display_name": "yoerids", "link": "https://stackoverflow.com/users/1118961/yoerids"}, "is_accepted": false, "score": 0, "last_activity_date": 1423125392, "creation_date": 1423125392, "answer_id": 28339460, "question_id": 28331191, "link": "https://stackoverflow.com/questions/28331191/how-can-i-use-knockout-js-to-bind-data-in-my-c-code-behind-to-a-select-element/28339460#28339460", "title": "How can I use knockout.js to bind data in my C# code behind to a select element on the front-end?", "body": "<p>Dropdownlist population with knockout.js can seem a bit tricky at first. I ve implemented a knockout binder to make this easier:</p>\n\n<pre><code>ko.extenders.autoOptions = function (target, type) {\n    target[\"Options\"] = [];\n    console.log(\"getting options for type: \" + type);\n    target.Options = ApplicationGateway.getOptions([ApplicationName.Api.Options]+type);\n    return target;\n};\n</code></pre>\n\n<p>This binder can be used in the following manner in your javascript models:</p>\n\n<pre><code>self.Gender = ko.observable().extend({ autoOptions: 'GENDER', required: { message: 'Gender is required' } });\n</code></pre>\n\n<p>Which results in the following template usage:</p>\n\n<pre><code>&lt;select data-bind=\"options: Gender.Options,\n     value: Gender,optionsText: 'Text',optionsValue: 'Value'\"&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>My Asp.Net Web API Options Controller looks like this:</p>\n\n<pre><code>public class OptionsController : ApiController\n{\n    private ResourceManager _resourceManager;\n    private CultureInfo _cultureInfo;\n\n    [HttpGet]\n    [Route(\"api/Options/{type}\")]\n    public List&lt;ListItem&gt; List(string type)\n    {\n        _resourceManager = new ResourceManager(\"Application.Resources.RESOURCE\", typeof(APPLICATION).Assembly);\n        _cultureInfo = new CultureInfo(Application.CurrentSession.User.LanguageSelected);\n\n        switch (type.ToUpper())\n        {\n            case \"GENDER\": return Gender();\n            ...\n        }\n        return new List&lt;ListItem&gt;();\n    }\n\n    private List&lt;ListItem&gt; Gender()\n    {\n\n        var items = new List&lt;ListItem&gt;\n        {\n            new ListItem(_resourceManager.GetString(\"Label_Gender_Male\", _cultureInfo),Domain.Enums.Gender.Male.ToString()),\n            new ListItem(_resourceManager.GetString(\"Label_Gender_Female\", _cultureInfo), Domain.Enums.Gender.Female.ToString()),\n        };\n\n        return items;\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 530, "user_id": 3674529, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b4cb97538bc9b8537ce10385d801f247?s=128&d=identicon&r=PG&f=1", "display_name": "HandleThatError", "link": "https://stackoverflow.com/users/3674529/handlethaterror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1739, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1423125392, "creation_date": 1423083115, "last_edit_date": 1423083286, "question_id": 28331191, "link": "https://stackoverflow.com/questions/28331191/how-can-i-use-knockout-js-to-bind-data-in-my-c-code-behind-to-a-select-element", "title": "How can I use knockout.js to bind data in my C# code behind to a select element on the front-end?", "body": "<p>Here is the part of the UI that I'm trying to update:</p>\n\n<pre><code>&lt;label&gt;Country&lt;/label&gt;\n&lt;select name=\"country\" data-bind=\"options: $parent.CountryList, optionsCaption: '- Select -'\"&gt;&lt;/select&gt;\n</code></pre>\n\n<p>As you can see, I tried <code>$parent.CountryList</code> because I was hoping that would refer to the <code>CountryList</code> in the code behind. Here is a snippet of the <code>Page_Load</code> function where I'm storing data from a database into a list of countries:</p>\n\n<pre><code>using (CCGEntities db = new CCGEntities())\n{\n   List&lt;Country&gt; CountryList = db.Countries.ToList();\n}\n</code></pre>\n\n<p>The goal is to take the list of countries and have them populate the select element as a dropdown menu. I tried mimicking the binding for <code>asp:DropDownList</code> but the code behind didn't pick up on an ID attribute for the select element. Would I be better of doing this with <code>asp:DropDownList</code>?</p>\n"}, {"tags": ["java", "c#", "ios", "objective-c"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 3, "creation_date": 1423083176, "post_id": 28331187, "comment_id": 45009570, "body": "Normally having disparate language tags is a bad thing, but this use is actually reasonable."}], "answers": [{"tags": [], "owner": {"reputation": 6225, "user_id": 427034, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tjrFY.jpg?s=128&g=1", "display_name": "Zigglzworth", "link": "https://stackoverflow.com/users/427034/zigglzworth"}, "is_accepted": false, "score": 0, "last_activity_date": 1423083788, "creation_date": 1423083788, "answer_id": 28331385, "question_id": 28331187, "link": "https://stackoverflow.com/questions/28331187/algorithm-to-create-unique-user-id-with-objective-c/28331385#28331385", "title": "Algorithm to Create Unique User Id with Objective C", "body": "<p>Have a look at <a href=\"http://hashids.org/\" rel=\"nofollow\">Hashids</a>.</p>\n\n<p>I believe it has versions for multiple languages and would suit your needs.</p>\n"}, {"tags": [], "owner": {"reputation": 1656, "user_id": 3579095, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/249d1c3f64b1fbbbd2e4beb5a9abecd5?s=128&d=identicon&r=PG&f=1", "display_name": "Lars", "link": "https://stackoverflow.com/users/3579095/lars"}, "is_accepted": true, "score": 5, "last_activity_date": 1423084254, "creation_date": 1423084254, "answer_id": 28331518, "question_id": 28331187, "link": "https://stackoverflow.com/questions/28331187/algorithm-to-create-unique-user-id-with-objective-c/28331518#28331518", "title": "Algorithm to Create Unique User Id with Objective C", "body": "<p>You can use <a href=\"http://en.wikipedia.org/wiki/Universally_unique_identifier\">UUIDs</a> for that. Java and C# have implementations to generate them. In Java use <code> java.util.UUID.randomUUID(); </code> in C# you can use <code>Guid.NewGuid();</code>.  </p>\n"}], "owner": {"reputation": 285, "user_id": 359277, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0bd7e3d2356dae0a32cde81ce5c39735?s=128&d=identicon&r=PG", "display_name": "privateson", "link": "https://stackoverflow.com/users/359277/privateson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 28331518, "answer_count": 2, "score": 0, "last_activity_date": 1423084254, "creation_date": 1423083099, "question_id": 28331187, "link": "https://stackoverflow.com/questions/28331187/algorithm-to-create-unique-user-id-with-objective-c", "title": "Algorithm to Create Unique User Id with Objective C", "body": "<p>I am creating an online social app.\nI need a way to create a lot of random unique ID like userId, chatRoom Id things like that.\nNot only that, I want to make sure that this algorithm can be created with Java or C#.\nShould I use NSUUID? everytime you create a new NSUUID it will create a new unique string right?\nOr is there any easy way I can create one using timeStamp?  </p>\n"}, {"tags": ["c#", "generics", "type-constraints"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 1, "creation_date": 1423083680, "post_id": 28331121, "comment_id": 45009827, "body": "Just a warning in advance: the fact that a type is a value type does not necessarily mean that it is a valid generic type argument for a <code>struct</code> constraint. Nullable value types cannot be used with either <code>class</code> or <code>struct</code> constraints."}], "answers": [{"comments": [{"owner": {"reputation": 709, "user_id": 1133343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBxGl.jpg?s=128&g=1", "display_name": "keydon", "link": "https://stackoverflow.com/users/1133343/keydon"}, "edited": false, "score": 0, "creation_date": 1423084090, "post_id": 28331175, "comment_id": 45010036, "body": "thank you! Never thought a celebraty like yourself would answer one of my questions ;)"}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": false, "score": 2, "last_activity_date": 1423083060, "creation_date": 1423083060, "answer_id": 28331175, "question_id": 28331121, "link": "https://stackoverflow.com/questions/28331121/passing-unconstrained-generic-type-parameter-to-a-constrained-method/28331175#28331175", "title": "Passing unconstrained generic type parameter to a constrained method", "body": "<p>You can't, basically - you'd have to invoke the relevant methods with reflection, which is ugly.</p>\n\n<p>Of course you can do this with dynamic typing, which hides the reflection from you:</p>\n\n<pre><code>public T DoStuff&lt;T&gt;(int x, int y) {\n   dynamic d = this;\n   if(typeof(T).IsValueType)\n   {\n       return d.DoStuffWithValueType&lt;T&gt;(x, y);\n   }    \n   return d.DoStuffWithRefType&lt;T&gt;(x, y);\n}\n</code></pre>\n\n<p>You may think that's cleaner than doing it manually with reflection - or you may not :)</p>\n\n<p>There's no way that I'm aware of to make the compiler \"trust\" a type argument where it wouldn't normally do so.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": false, "score": 1, "last_activity_date": 1423084649, "creation_date": 1423084649, "answer_id": 28331643, "question_id": 28331121, "link": "https://stackoverflow.com/questions/28331121/passing-unconstrained-generic-type-parameter-to-a-constrained-method/28331643#28331643", "title": "Passing unconstrained generic type parameter to a constrained method", "body": "<p>Aside from Jon Skeet's use of <code>dynamic</code>, the cleanest way I can think of, minimising the required reflection, and so keeping as much verified by the compiler as possible, is to call the method through a helper class.</p>\n\n<pre><code>abstract class DoStuffHelper&lt;T&gt; {\n    public abstract T DoStuff(int x, int y);\n}\n\nclass DoStuffWithValueTypeHelper&lt;T&gt; : DoStuffHelper&lt;T&gt; where T : struct {\n    public override T DoStuff(int x, int y) {\n        return DoStuffWithValueType&lt;T&gt;(x, y);\n    }\n}\n\nclass DoStuffWithRefTypeHelper&lt;T&gt; : DoStuffHelper&lt;T&gt; where T : class {\n    public override T DoStuff(int x, int y) {\n        return DoStuffWithRefType&lt;T&gt;(x, y);\n    }\n}\n\npublic T DoStuff&lt;T&gt;(int x, int y) {\n   DoStuffHelper&lt;T&gt; helper;\n   Type helperType;\n\n   if(typeof(T).IsValueType)\n       helperType = typeof(DoStuffWithValueTypeHelper&lt;&gt;);\n   else\n       helperType = typeof(DoStuffWithRefTypeHelper&lt;&gt;);\n\n   helperType = helperType.MakeGenericType(typeof(T));\n   helper = (DoStuffHelper&lt;T&gt;)Activator.CreateInstance(helperType);\n\n   return helper.DoStuff(x, y);\n}\n</code></pre>\n\n<p>If appropriate for your situation, you can cache the helper classes in a <code>Dictionary&lt;Type, object&gt;</code> to avoid re-creating them every time.</p>\n"}], "owner": {"reputation": 709, "user_id": 1133343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bBxGl.jpg?s=128&g=1", "display_name": "keydon", "link": "https://stackoverflow.com/users/1133343/keydon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1423084649, "creation_date": 1423082880, "question_id": 28331121, "link": "https://stackoverflow.com/questions/28331121/passing-unconstrained-generic-type-parameter-to-a-constrained-method", "title": "Passing unconstrained generic type parameter to a constrained method", "body": "<p>I have too methods:</p>\n\n<pre><code>public TValueType? DoStuffWithValueType&lt;TValueType&gt;(int x, int y) \n   where TValueType: struct {}\n\npublic TRefType DoStuffWithRefType&lt;TRefType&gt;(int x, int y) \n   where TRefType: class {} \n</code></pre>\n\n<p>How can i wrap them in a new third method?</p>\n\n<p>The following is not compiling since i cannot persuade the compiler that <code>T</code> is in fact a struct when calling <code>DoStuffWithValueType</code>:</p>\n\n<pre><code>public T DoStuff&lt;T&gt;(int x, int y) {\n\n   if(typeof(T).IsValueType)\n   {\n      return DoStuffWithValueType&lt;T&gt;(x, y);\n   }\n\n   return DoStuffWithRefType&lt;T&gt;(x, y);\n}\n</code></pre>\n\n<p>I already tried overloading <code>DoStuff</code>, but this attempt failed since generic-constraints are not part of the method signature.<br>I also tried to get rid of the constraints, but i could not.</p>\n\n<p>Any ideas? Thank you!</p>\n"}, {"tags": ["c#", "asp.net", "reporting-services", "reportviewer"], "answers": [{"comments": [{"owner": {"reputation": 8465, "user_id": 1191044, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/JvoOr.png?s=128&g=1", "display_name": "D&#39;Arcy Rail-Ip", "link": "https://stackoverflow.com/users/1191044/darcy-rail-ip"}, "edited": false, "score": 0, "creation_date": 1423084100, "post_id": 28331298, "comment_id": 45010041, "body": "Thanks for the response. How does this work when I have multiple subreports, each with their own dataset?"}], "tags": [], "owner": {"reputation": 13539, "user_id": 41782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ZaggO.jpg?s=128&g=1", "display_name": "Atilla Ozgur", "link": "https://stackoverflow.com/users/41782/atilla-ozgur"}, "is_accepted": false, "score": 3, "last_activity_date": 1423085199, "last_edit_date": 1423085199, "creation_date": 1423083492, "answer_id": 28331298, "question_id": 28331091, "link": "https://stackoverflow.com/questions/28331091/how-do-i-fill-a-dataset-in-an-ssrs-subreport/28331298#28331298", "title": "How do I fill a dataset in an SSRS subreport?", "body": "<p>You need to use <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.reporting.winforms.localreport.subreportprocessing.aspx\" rel=\"nofollow\">SubreportProcessing Event</a> to set your data source. See following <a href=\"http://blogs.msdn.com/b/sqlforum/archive/2011/01/03/walkthrough-add-a-subreport-in-local-report-in-reportviewer.aspx\" rel=\"nofollow\">walkthrough</a> also.</p>\n\n<pre><code>ReportViewer.LocalReport.SubreportProcessing +=\n                new SubreportProcessingEventHandler(exampleSubreportProcessingEventHandler);\n\n    void exampleSubreportProcessingEventHandler(object sender, SubreportProcessingEventArgs e)\n    {\n        e.DataSources.Add(new ReportDataSource(\"SubReportDataSet\", GetSummaryRequestsDataSet()));\n    }\n</code></pre>\n\n<p>From provided link <a href=\"https://msdn.microsoft.com/en-us/library/microsoft.reporting.winforms.localreport.subreportprocessing.aspx\" rel=\"nofollow\">SubreportProcessing Event</a>.</p>\n\n<blockquote>\n  <p>The SubreportProcessing event is triggered for every instance of the\n  subreport in the main report, and not just for each subreport\n  definition. If a report contains multiple subreports instances from\n  the same report definition, this event is triggered for each instance.</p>\n  \n  <p>If the main report has several subreports, you can examine the\n  ReportPath property of the SubreportProcessingEventArgs class to\n  determine which subreport is being processed and supply data for that\n  subreport.</p>\n</blockquote>\n"}], "owner": {"reputation": 8465, "user_id": 1191044, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/JvoOr.png?s=128&g=1", "display_name": "D&#39;Arcy Rail-Ip", "link": "https://stackoverflow.com/users/1191044/darcy-rail-ip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3375, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1423085199, "creation_date": 1423082745, "question_id": 28331091, "link": "https://stackoverflow.com/questions/28331091/how-do-i-fill-a-dataset-in-an-ssrs-subreport", "title": "How do I fill a dataset in an SSRS subreport?", "body": "<p>This seems like it should be trivial but I'm having difficulties.</p>\n\n<p>I have a main report, I have been filling datasets as follows in <code>ReportViewer.aspx.cs.</code></p>\n\n<pre><code>ReportViewer.LocalReport.ReportPath = \"~/SummaryReport.rdlc\";\nReportDataSource requestsSource = new ReportDataSource();\nrequestsSource.Name = \"RequestHeadersDataSet\";\nrequestsSource.Value = GetSummaryRequestsDataSet(); // Returns DT\nReportViewer.LocalReport.DataSources.Add(requestsSource);\n</code></pre>\n\n<p>I also have a subreport, which is referenced in my main report within a row-group in a table. The dataset has column <code>RequestName</code>. I pass this in through the Subreport Properties in the Parameters tab.</p>\n\n<p>As soon as I add a dataset to the subreport, I get an error: <code>Data retrieval failed for the subreport.</code> Unsurprising, considering I never filled it with anything.</p>\n\n<p>But how can I add to the subreport datasource? The reportpath for ReportViewer is set to my main report.</p>\n\n<p>Both use the same dataset, if this is of any consequence.</p>\n"}, {"tags": ["c#", "aggregate", "system.reactive"], "answers": [{"tags": [], "owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "is_accepted": false, "score": 1, "last_activity_date": 1423120276, "creation_date": 1423120276, "answer_id": 28338130, "question_id": 28331039, "link": "https://stackoverflow.com/questions/28331039/rx-pairing-window-duration-with-count-of-events-raised-inside-the-window/28338130#28338130", "title": "Rx : Pairing window duration with count of events raised inside the window", "body": "<p>To simplify the observable type (which I guess is your question?) you can do something like this (note the change to <code>SelectMany</code>):</p>\n\n<pre><code>var pairs = windows.SelectMany(window =&gt;\n    {\n        var duration = window\n            .Where(x=&gt;x.Kind != EventKind.OTHER) // we only want START &amp; STOP events, not OTHER events\n            .Buffer(2,1)                         // could use buffer(2) but this is more reliable if stream1 sometimes has multiple consecutive START events.\n            .Where(x =&gt; x.Count == 2 &amp;&amp; x[1].Kind == EventKind.STOP &amp;&amp; x[0].Kind == EventKind.START)\n            .Select(x =&gt; x[1].OccurenceTime - x[0].OccurenceTime), // compute the latency\n\n        var eventCount = window.Where(x=&gt;x.Kind == EventKind.OTHER).Count() // count the number of OTHER events in the window\n\n        return duration.Zip(eventCount, (d, e) =&gt; new { EventCount = e, Duration = d });\n    }\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3101, "user_id": 1128106, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/0338497799784175c4648d39c8b6a54c?s=128&d=identicon&r=PG", "display_name": "J. Lennon", "link": "https://stackoverflow.com/users/1128106/j-lennon"}, "is_accepted": false, "score": 2, "last_activity_date": 1423130023, "last_edit_date": 1495541424, "creation_date": 1423129166, "answer_id": 28340598, "question_id": 28331039, "link": "https://stackoverflow.com/questions/28331039/rx-pairing-window-duration-with-count-of-events-raised-inside-the-window/28340598#28340598", "title": "Rx : Pairing window duration with count of events raised inside the window", "body": "<p>After a while using Rx a common scenario that you might encounter is about starting and stopping events. To handle it properly there are several ways, it will depend of your requirements.</p>\n\n<p>If your problem is just with data projection check the @Brandon solution, the key is to compose in a different way, for example using <code>SelectMany</code>. If you wan to keep the <code>Select</code> operator it would necessary return an <code>IObservable&lt;T&gt;</code> type in the projection.</p>\n\n<p>Anyway, I think you have a problem with the composition in general, I will try to illustrate below.</p>\n\n<p>Using <code>Window</code> operator, like you did, if occurs multiple consecutive events in the start stream it will create more than one group. In your code could be a problem because the main event stream will processing many times when the next event happens. </p>\n\n<p>The example is just to show you the creation of many groups:</p>\n\n<pre><code>var subject = new Subject&lt;Event1&gt;();\nvar shared = subject.Publish().RefCount();\nvar start = shared.Where(a =&gt; a.Kind == EventKind.START);\nvar stop = shared.Where(a =&gt; a.Kind == EventKind.STOP);\nvar values = shared.Where(a =&gt; a.Kind == EventKind.OTHER);\n\nvalues.Window(start, a =&gt; stop).Subscribe(inner =&gt; \n { \n    Console.WriteLine(\"New Group Started\");\n    inner.Subscribe(next =&gt; \n                    { \n                        Console.WriteLine(\"Next = \"+ next.Kind + \" | \" + next.OccurenceTime.ToLongTimeString());\n                    }, () =&gt; Console.WriteLine(\"Group Completed\"));\n });\n\nsubject.OnNext(new Event1 { Kind = EventKind.START, OccurenceTime = DateTime.Now });\nsubject.OnNext(new Event1 { Kind = EventKind.START, OccurenceTime = DateTime.Now.AddSeconds(1) });\nsubject.OnNext(new Event1 { Kind = EventKind.OTHER, OccurenceTime = DateTime.Now.AddSeconds(2) });\nsubject.OnNext(new Event1 { Kind = EventKind.STOP, OccurenceTime = DateTime.Now.AddSeconds(3) });\n</code></pre>\n\n<p>The result: </p>\n\n<pre><code>New Group Started\nNew Group Started\nNext = OTHER | 4:55:46 PM\nNext = OTHER | 4:55:46 PM\nGroup Completed\nGroup Completed\n</code></pre>\n\n<p>Maybe this behavior is desired, otherwise it will be necessary other composition. In order to \"tame\" the event stream I see three different approach`s:</p>\n\n<ol>\n<li>Beginning computation with just the first start event, and ignoring others starts without receives a stop. (e.g.: <a href=\"https://stackoverflow.com/questions/19954949/create-observable-and-consume-only-between-events\">Create observable and consume only between events</a>).</li>\n<li>Computing the stream with the latest start event, in this case the previously stream will be ignored with its inner's composition (probably using <code>Switch</code> operator).</li>\n<li>Computing independently considering that each start event will need a end event, allowing a creation of many group of streams in the composition (for me doesn't make sense at all unless you have a identifier to match the start and end event).</li>\n</ol>\n\n<p>To achieve just one of these options, in general, you have many different ways to do it. If I understand your question you are looking for the option <strong>ONE</strong>. Now the answers:</p>\n\n<ol>\n<li>Keeping <code>Window</code>, too much code:</li>\n</ol>\n\n<pre class=\"lang-cs prettyprint-override\"><code>IObservable&lt;Event1&gt; sx= GetEventStream();\nvar shared = sx.Publish().RefCount();\nvar start = shared.Where(a =&gt; a.Kind == EventKind.START);\nvar stop = shared.Where(a =&gt; a.Kind == EventKind.STOP);\nshared.Window(start, a =&gt; stop)\n    .Select(sx =&gt; \n            sx.Publish(b =&gt;\n                        b.Take(1)\n                        .Select(c =&gt; \n                        {\n                            var final = b.LastOrDefaultAsync().Select(a =&gt; a.OccurenceTime);\n                            var comp = b.Where(d =&gt; d.Kind == EventKind.OTHER).Count();\n                            return final.Zip(comp, (d,e) =&gt; new { Count = e, Time = d - c.OccurenceTime });\n                        })\n                        .Switch()   // whatever operator here there's no difference\n                    )               // because is just 1\n            )\n    .Concat()\n    .Subscribe(next =&gt; \n    { \n        Console.WriteLine(\"Count = \"+ next.Count + \" | \" + next.Time);\n    });\n</code></pre>\n\n\n\n<ol start=\"2\">\n<li><p>Using <code>GroupByUntil</code>, a kind of \"hack\", but it is my preference:</p>\n\n<pre><code>IObservable&lt;Event1&gt; sx = GetEventStream();\nvar shared = sx.Publish().RefCount();       \nvar stop = shared.Where(a =&gt; a.Kind == EventKind.STOP).Publish().RefCount();\nvar start = shared.Where(a =&gt; a.Kind == EventKind.START);       \nstart.GroupByUntil(a =&gt; Unit.Default, a =&gt; stop)\n        .Select(newGroup =&gt; \n        { \n            var creation = newGroup.Take(1);\n            var rightStream = shared.Where(a =&gt; a.Kind == EventKind.OTHER)\n                                    .TakeUntil(newGroup.LastOrDefaultAsync())\n                                    .Count();\n            var finalStream = stop.Take(1);\n\n            return creation.Zip(rightStream, finalStream, (a,b,c) =&gt; new { Count = b, Time = c.OccurenceTime - a.OccurenceTime });\n        })\n        .Concat()\n        .Subscribe(next =&gt; \n        { \n            Console.WriteLine(\"Count = \"+ next.Count + \" | \" + next.Time);\n        });\n</code></pre></li>\n<li><p>Without using <code>Group/Window</code> with <code>Take(1)</code> adding in the final of the composition the <code>Repeat</code> operator, but could cause an undesired behavior, because of the \"re-subscription\" (will depend if it is a cold or a hot observable, and the Scheduler used).</p></li>\n<li><p>Creating a custom implementation declaring your own extension method, is not as hard that seems, probably will be the best option, but take a while to implement.</p></li>\n</ol>\n\n<p>The other problem with your composition is that will be impossible to get statistical data because you don't have a way to complete each new group in the <code>GroupBy</code> operator.</p>\n\n<p>I would suggest re-think about your approach, probably the solution will be combine time in someway. More information about statistics and Rx, check: \n<a href=\"http://www.codeproject.com/Tips/853256/Real-time-statistics-with-Rx-Statistical-Demo-App\" rel=\"nofollow noreferrer\">http://www.codeproject.com/Tips/853256/Real-time-statistics-with-Rx-Statistical-Demo-App</a></p>\n"}], "owner": {"reputation": 1400, "user_id": 4333266, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e85f689cc526d4f23389a34861fc683d?s=128&d=identicon&r=PG&f=1", "display_name": "mipnw", "link": "https://stackoverflow.com/users/4333266/mipnw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1423130023, "creation_date": 1423082526, "last_edit_date": 1423082878, "question_id": 28331039, "link": "https://stackoverflow.com/questions/28331039/rx-pairing-window-duration-with-count-of-events-raised-inside-the-window", "title": "Rx : Pairing window duration with count of events raised inside the window", "body": "<p>I would like to use Rx to compute statistics on 2 stream of events.</p>\n\n<p><B>Input streams</B></p>\n\n<pre><code>//    stream1    --A---B----A-B-----A-----B----A--B|\n//    stream2    ----X---X-----------X--X---XX---X--X|\n</code></pre>\n\n<p><B>Intermediate result</B></p>\n\n<p>\nWindow durations, where windows open on A and close on B along with the count of stream2 events raised inside those window\n</p>\n\n<pre><code>//    result     ------1------0-----------2-------1|    &lt;-- count of stream2 events in [A-B] window\n//                     4      2           6       3     &lt;-- paired with window [A-B] window duration\n</code></pre>\n\n<p><B>Final result</B></p>\n\n<p>\nGroup the intermediate result by count of stream2 events and return window duration statistics for each group, such as the average, min and max window duration\n</p>\n\n<pre><code>//    output     -----------------------------------0    1     2|    &lt;-- count of stream2 events in [A-B] window\n//                                                  2   3.5    6     &lt;-- average [A-B] window duration for that count of stream2 events.\n</code></pre>\n\n<p><B>Rx queries</B></p>\n\n<pre><code>public enum EventKind\n{\n    START,\n    STOP,\n    OTHER\n};\n\npublic struct Event1\n{\n    public EventKind  Kind;\n    public DateTime   OccurenceTime;\n};\n\nvar merge = stream1.Merge(stream2.Select(x =&gt; new Event1\n                                        {\n                                            Kind = EventKind.OTHER,\n                                            OccurenceTime = x\n                                        }))\n           .RemoveDisorder(x =&gt; x.OccurenceTime, new TimeSpan(0,0,10));\n\nvar shared = merge.Publish().RefCount();\n\n// Windows open on START and close on STOP\nvar windows = shared.Window(\n            shared.Where(x =&gt; x.Kind == EventKind.START),\n            opening =&gt; shared.Where(x =&gt; x.Kind == EventKind.STOP));\n\n// For each window we're interested in the duration of the window along with\n// the count of OTHER events that were raised inside the window\n//\nvar pairs = windows.Select(window =&gt; new \n        {\n            Duration = window\n                .Where(x=&gt;x.Kind != EventKind.OTHER) // we only want START &amp; STOP events, not OTHER events\n                .Buffer(2,1)                         // could use buffer(2) but this is more reliable if stream1 sometimes has multiple consecutive START events.\n                .Where(x =&gt; x.Count == 2 &amp;&amp; x[1].Kind == EventKind.STOP &amp;&amp; x[0].Kind == EventKind.START)\n                .Select(x =&gt; x[1].OccurenceTime - x[0].OccurenceTime), // compute the latency\n\n            EventCount = window.Where(x=&gt;x.Kind == EventKind.OTHER).Count() // count the number of OTHER events in the window\n        }\n    );\n</code></pre>\n\n<p>I would like to simplify the observable type</p>\n\n<ul>\n<li>from <code>IObservable&lt;{IObservable&lt;int&gt;, IObservable&lt;TimeSpan&gt;}&gt;</code></li>\n<li>to <code>IObservable&lt;{int, TimeSpan}&gt;</code></li>\n</ul>\n\n<p>this should be possible since each window has exactly 1 duration and 1 count of OTHER events.</p>\n\n<p>At which point it should not be too difficult to define the output query which groups the windows by <code>EventCount</code> and selects  statistics on the window durations, such as Min, Max, Avg for each group.</p>\n\n<pre><code>var result = pairs\n        .GroupBy(pair =&gt; pair.EventCount)\n        .Select(g =&gt; new \n            {\n                EventCount = g.Key,\n                Min = g.Min(x =&gt; x.Duration),\n                Avg = g.Average(x =&gt; x.Duration),\n                Max = g.Max(x =&gt; x.Duration)\n            });\n</code></pre>\n\n<p>The <code>RemoveDisorder</code> is an extension method I use to sort the result of the merged obersvable on <code>OccurenceTime</code>. I need it because my input streams are not live events (like in this example), but read from logs via Tx. And the output of a merge of 2 sorted streams is itself no longer sorted.</p>\n"}, {"tags": ["c#", "wpf", "xaml", "layout", "expander"], "comments": [{"owner": {"reputation": 10192, "user_id": 1869660, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/HPWbl.gif?s=128&g=1", "display_name": "Sphinxxx", "link": "https://stackoverflow.com/users/1869660/sphinxxx"}, "edited": false, "score": 0, "creation_date": 1423082841, "post_id": 28331013, "comment_id": 45009384, "body": "Have you considered using a <code>Popup</code> or <code>ComboBox</code> instead of an Expander?"}, {"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "reply_to_user": {"reputation": 10192, "user_id": 1869660, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/HPWbl.gif?s=128&g=1", "display_name": "Sphinxxx", "link": "https://stackoverflow.com/users/1869660/sphinxxx"}, "edited": false, "score": 0, "creation_date": 1423083280, "post_id": 28331013, "comment_id": 45009623, "body": "@Sphinxxx Yes. It needs to be the expander control for several reasons. In fact, at the moment, it&#39;s be easier to do it the ugly way (put everything in the same cell in a grid) than fooling around changing the expander. I&#39;ve got some functionality baked in there and starting to re-develop makes my skin crawl... Too afraid of oopsies, and gotchas."}], "answers": [{"comments": [{"owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1423178338, "post_id": 28346459, "comment_id": 45055271, "body": "The colors are great! One can clearly see what is what. I wonder if this is the intended purpose of the canvas control, though. I was under the impression that its purpose was to draw on..."}, {"owner": {"reputation": 4319, "user_id": 4265041, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/H2req.png?s=128&g=1", "display_name": "Steven Rands", "link": "https://stackoverflow.com/users/4265041/steven-rands"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1423214460, "post_id": 28346459, "comment_id": 45066672, "body": "@KonradViltersten The purpose of the WPF <code>Canvas</code> is to layout its children at specific coordinates, it doesn&#39;t have anything to do with drawing at all really. It also has the useful property of allowing its children to &quot;escape&quot; its bounds by default (ie. it doesn&#39;t clip its children to its own bounds). Therefore it is often used when you need an &quot;overlapping&quot; effect. The only other built-in control that has similar layering possibilities is the <code>Grid</code>, but that is a more &quot;heavyweight&quot; panel."}, {"owner": {"reputation": 4319, "user_id": 4265041, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/H2req.png?s=128&g=1", "display_name": "Steven Rands", "link": "https://stackoverflow.com/users/4265041/steven-rands"}, "reply_to_user": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "edited": false, "score": 0, "creation_date": 1423214934, "post_id": 28346459, "comment_id": 45066919, "body": "@KonradViltersten Think of the <code>Canvas</code> in this case as being a bit like <code>position: relative;</code> in CSS, in that the canvas is the layout &quot;slot&quot; and its child elements are positioned relative to the canvas but can end-up overlaying other elements outside of the bounds of the canvas."}, {"owner": {"reputation": 692, "user_id": 2408978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/404dbb7162103a4dcc1283bff1e86d65?s=128&d=identicon&r=PG", "display_name": "dba", "link": "https://stackoverflow.com/users/2408978/dba"}, "edited": false, "score": 0, "creation_date": 1496821809, "post_id": 28346459, "comment_id": 75812152, "body": "Cool stuff :) Is there a way to let the Expander &quot;flow&quot; over the containing Window boundaries too? I packed my Expander in a Usercontrol hoping the Panel.ZIndex set in the UC would be enough, as it seems, I had to set the ZIndexes in the containing Grid/Panel too, to achieve &quot;on Top&quot;."}, {"owner": {"reputation": 4319, "user_id": 4265041, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/H2req.png?s=128&g=1", "display_name": "Steven Rands", "link": "https://stackoverflow.com/users/4265041/steven-rands"}, "reply_to_user": {"reputation": 692, "user_id": 2408978, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/404dbb7162103a4dcc1283bff1e86d65?s=128&d=identicon&r=PG", "display_name": "dba", "link": "https://stackoverflow.com/users/2408978/dba"}, "edited": false, "score": 0, "creation_date": 1496838195, "post_id": 28346459, "comment_id": 75823930, "body": "@dba I think all WPF controls are clipped to their parent window&#39;s bounds. You could try using a Popup control, which is basically its own window, but then you might run into focus issues."}], "tags": [], "owner": {"reputation": 4319, "user_id": 4265041, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/H2req.png?s=128&g=1", "display_name": "Steven Rands", "link": "https://stackoverflow.com/users/4265041/steven-rands"}, "is_accepted": true, "score": 8, "last_activity_date": 1423146295, "creation_date": 1423146295, "answer_id": 28346459, "question_id": 28331013, "link": "https://stackoverflow.com/questions/28331013/how-to-make-an-expander-control-hover-over-the-next-element/28346459#28346459", "title": "How to make an expander control hover over the next element?", "body": "<p>For reference, let's number the <code>StackPanel</code> elements from your original XAML:</p>\n\n<pre><code>&lt;StackPanel #1&gt;\n    &lt;StackPanel #2 Orientation=\"Horizontal\"&gt;\n        &lt;StackPanel #3&gt;\n            &lt;Expander&gt;...&lt;/Expander&gt;\n        &lt;/StackPanel&gt;\n        &lt;StackPanel #4&gt;\n            &lt;Button ... /&gt;&lt;Button ... /&gt;&lt;Button ... /&gt;\n        &lt;/StackPanel&gt;\n    &lt;/StackPanel&gt;\n    &lt;StackPanel #5 Orientation=\"Horizontal\"&gt;\n        &lt;DataGrid ... /&gt;\n    &lt;/StackPanel&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>A <code>StackPanel</code> when oriented horizontally will set its height to that of its <em>tallest</em> child, and when oriented vertically will set its height to the <em>sum of all</em> of its children's heights.</p>\n\n<p>When you expand the <code>Expander</code> control, you increase its height, and therefore you increase the height of its container (#3). This in turn may or may not increase the height of #3's parent container (#2) depending on whether the expander becomes larger in height than the stack panel containing the buttons (#4).</p>\n\n<p>To achieve the effect you seem to be after, you can either use a <code>Grid</code> as already discussed in the question and other answer, or you can use a <code>Canvas</code> element like so:</p>\n\n<pre><code>&lt;Window x:Class=\"...\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"&gt;\n    &lt;StackPanel&gt;\n        &lt;StackPanel Orientation=\"Horizontal\" Panel.ZIndex=\"1\"&gt;\n            &lt;Canvas Width=\"{Binding ActualWidth, ElementName=Expander}\"&gt;\n                &lt;Expander x:Name=\"Expander\" Header=\"Header\" Background=\"Yellow\"&gt;\n                    &lt;StackPanel Background=\"Aqua\"&gt;\n                        &lt;TextBlock Text=\"Some text\" /&gt;\n                        &lt;TextBlock Text=\"Some text\" /&gt;\n                        &lt;TextBlock Text=\"Some text\" /&gt;\n                        &lt;TextBlock Text=\"Some text\" /&gt;\n                        &lt;TextBlock Text=\"Some text\" /&gt;\n                        &lt;TextBlock Text=\"Some text\" /&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/Expander&gt;\n            &lt;/Canvas&gt;\n            &lt;StackPanel&gt;\n                &lt;Button Content=\"Button1\" /&gt;\n                &lt;Button Content=\"Button2\" /&gt;\n                &lt;Button Content=\"Button3\" /&gt;\n            &lt;/StackPanel&gt;\n        &lt;/StackPanel&gt;\n        &lt;TextBlock Text=\"Some more text\" Background=\"LimeGreen\" /&gt;\n    &lt;/StackPanel&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>The canvas as used here allows the expander control to \"escape\" the boundaries of the container. To get the expander control to \"float\" above the element directly underneath it (the <code>TextBlock</code> in this example), the <code>Panel.ZIndex</code> attached property is used. We also need to bind the width of the canvas to the width of the expander as the canvas will not size itself based on its children.</p>\n\n<p>Here's how it looks when the expander is collapsed:</p>\n\n<p><img src=\"https://i.imgur.com/tF78P93.png\" alt=\"\"></p>\n\n<p>And how it looks when it is expanded:</p>\n\n<p><img src=\"https://i.imgur.com/cC53e6O.png\" alt=\"\"></p>\n\n<p>(Forgive the horrible colours, they are just so you can see where the control boundaries are).</p>\n"}], "owner": {"reputation": 27684, "user_id": 1525840, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e1d7083d88bd7d8eedea825a941dae57?s=128&d=identicon&r=PG", "display_name": "Konrad Viltersten", "link": "https://stackoverflow.com/users/1525840/konrad-viltersten"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4282, "favorite_count": 1, "accepted_answer_id": 28346459, "answer_count": 1, "score": 1, "last_activity_date": 1423146295, "creation_date": 1423082440, "question_id": 28331013, "link": "https://stackoverflow.com/questions/28331013/how-to-make-an-expander-control-hover-over-the-next-element", "title": "How to make an expander control hover over the next element?", "body": "<p>In my setup exemplified below, I didn't notice until recently that when the list of elements listed in the expander grows (so that the length of it exceeds the length of the buttons in the panel next to it), it doesn't hover over the data grid, as intuitively expected. Instead, it pushes it down which makes the whole GUI to appear jumpy vertically.</p>\n\n<pre><code>&lt;StackPanel&gt;\n  &lt;StackPanel Orientation=\"Horizontal\"&gt;\n    &lt;StackPanel&gt;\n      &lt;Expander&gt;...&lt;/Expander&gt;\n    &lt;/StackPanel&gt;\n    &lt;StackPanel&gt;\n      &lt;Button ... /&gt;&lt;Button ... /&gt;&lt;Button ... /&gt;\n    &lt;/StackPanel&gt;\n  &lt;/StackPanel&gt;\n  &lt;StackPanel Orientation=\"Horizontal\"&gt;\n    &lt;DataGrid ... /&gt;\n  &lt;/StackPanel&gt;\n&lt;/StackPanel&gt;\n</code></pre>\n\n<p>One way to fix this is to put everything in the same cell in a grid and add the expander last. However, that seems to me inappropriate on several levels. Instead, I'd prefer to force expander to expand touchlessly <strong>above</strong> the other controls. It should affect the layout but only its size from the folded state. The expansion should not affect the layout at all.</p>\n\n<p>How can I tell the stupid expander not to be so pushy?</p>\n"}, {"tags": ["c#", "azure", "mixpanel"], "answers": [{"tags": [], "owner": {"reputation": 5253, "user_id": 2899711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5y9EZ.jpg?s=128&g=1", "display_name": "Simon W", "link": "https://stackoverflow.com/users/2899711/simon-w"}, "is_accepted": true, "score": 0, "last_activity_date": 1423128622, "creation_date": 1423128622, "answer_id": 28340409, "question_id": 28330987, "link": "https://stackoverflow.com/questions/28330987/mixpanel-tracking-from-server-caching/28340409#28340409", "title": "Mixpanel tracking from server caching", "body": "<ol>\n<li>Depending on size of message you could write them to either an <a href=\"http://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-how-to-use-queues/\" rel=\"nofollow\">Azure Storage Queue</a> or <a href=\"http://azure.microsoft.com/en-us/services/service-bus/\" rel=\"nofollow\">Azure Service Bus</a>. If your message is too large to go on the queue on its own you could just write a stub record to the queue and then actually write the full message to either <a href=\"http://azure.microsoft.com/en-us/documentation/articles/storage-dotnet-how-to-use-tables/\" rel=\"nofollow\">Azure Table Storage</a>, <a href=\"http://azure.microsoft.com/en-us/services/sql-database/\" rel=\"nofollow\">Azure SQL Database</a> or <a href=\"http://azure.microsoft.com/en-us/services/documentdb/\" rel=\"nofollow\">Azure DocumentDB</a> using the queue stub as a way to identify where the full message is stored.</li>\n<li>Use a <a href=\"https://msdn.microsoft.com/en-us/library/azure/jj149831.aspx\" rel=\"nofollow\">Worker Role to read the queue</a> and send messages to the Mixpanel API. When Mixpanel is down simply don't pop the stub from the queue and it will get re-processed. If the Mixpanel API is up, use the stub to pull the full message and send to the Mixpanel API and then remove the stub from the queue.</li>\n</ol>\n"}], "owner": {"reputation": 211, "user_id": 686607, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4b69d42606e88934c56b092278e27bc8?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/686607/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 28340409, "answer_count": 1, "score": 0, "last_activity_date": 1423128622, "creation_date": 1423082381, "question_id": 28330987, "link": "https://stackoverflow.com/questions/28330987/mixpanel-tracking-from-server-caching", "title": "Mixpanel tracking from server caching", "body": "<p>This is a general design question.  I'm currently sending tracking events from my server (C# web api hosted on azure) to Mixpanel (using Mixpanel.NET package: <a href=\"https://github.com/chrisnicola/Mixpanel.NET\" rel=\"nofollow\">https://github.com/chrisnicola/Mixpanel.NET</a>).  </p>\n\n<p>This works fine for the most part.  However, it's not as robust as I'd like it:\n1. while minimal, it's unnecessarily slowing down my server because the events are being sent during normal usage of the API.\n2. if mixpanel goes down, the events are lost</p>\n\n<p>What's the best way to address these concerns?  I was thinking I could cache the events on my server and eventually send them to Mixpanel.  Is that a good approach?  Guessing I'd need to use some type of durable storage in case my server goes down before sending them.  Would azure queues be good for this?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "delegates", "decompiling"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 1, "creation_date": 1423082372, "post_id": 28330947, "comment_id": 45009112, "body": "That&#39;s a bug in the decompiler.  Was the assembly compiled by Roslyn?"}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 3, "creation_date": 1423086311, "post_id": 28330947, "comment_id": 45011193, "body": "Anybody who <i>thinks</i> they need an obfuscator did not write enough anonymous delegates, iterators, lambda expressions, Linq and async methods.  The kind of code that is pretty impervious to decompilation.  Afaik, dotPeek usually also emits an <code>&#47;&#47; ISSUE: method pointer</code> comment to warn you that it gave up."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8237156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8da73da576ebe5493b23128fe35ce6e6?s=128&d=identicon&r=PG&f=1", "display_name": "smart master", "link": "https://stackoverflow.com/users/8237156/smart-master"}, "is_accepted": false, "score": 2, "last_activity_date": 1498825543, "last_edit_date": 1498825543, "creation_date": 1498824493, "answer_id": 44846171, "question_id": 28330947, "link": "https://stackoverflow.com/questions/28330947/methodptr-in-decompiled-c-code/44846171#44846171", "title": "__methodptr in decompiled C# code", "body": "<p>the <strong>__methodptr</strong> corresponds to IL instruction <strong>ldftn</strong>, roughly speaking  <strong>ldftn</strong> load \"function pointer\" onto evaluation stack. here is a sample:</p>\n\n<p><strong>the de-compiled source:</strong></p>\n\n<pre><code>   private static void Main(string[] args)\n    {\n      Program.\\u003C\\u003Ec__DisplayClass0_0 cDisplayClass00 = new Program.\\u003C\\u003Ec__DisplayClass0_0();\n      cDisplayClass00.xx = 100;\n      // ISSUE: method pointer\n      new Action((object) cDisplayClass00, __methodptr(\\u003CMain\\u003Eb__0))();\n      Console.WriteLine(cDisplayClass00.xx);\n    }\n</code></pre>\n\n<p><strong>the IL:</strong></p>\n\n<p>1 load function pointer class::method</p>\n\n<pre><code>IL_000f: ldloc.0      // cDisplayClass00\nIL_0010: ldftn        instance void TestIL.Program/'&lt;&gt;c__DisplayClass0_0'::'&lt;Main&gt;b__0'()\n</code></pre>\n\n<p>2 new a delegate passing object and function pointer</p>\n\n<pre><code>IL_0016: newobj       instance void [mscorlib]System.Action::.ctor(object, native int)\nIL_001b: stloc.1      // V_1\n</code></pre>\n\n<p>3 call the delegate </p>\n\n<pre><code>IL_001c: ldloc.1      // V_1\nIL_001d: callvirt     instance void [mscorlib]System.Action::Invoke()\nIL_0022: nop \n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 4012887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ec86d75b8f3aa65483c794bedc4459?s=128&d=identicon&r=PG", "display_name": "Mikhail  Dudin", "link": "https://stackoverflow.com/users/4012887/mikhail-dudin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2213, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498825543, "creation_date": 1423082215, "last_edit_date": 1462909925, "question_id": 28330947, "link": "https://stackoverflow.com/questions/28330947/methodptr-in-decompiled-c-code", "title": "__methodptr in decompiled C# code", "body": "<p>I'm using dotPeek to dive deeper into the C# compiler magic, and something in decompiled code caught my attention. I'm creating an <code>Action&lt;int&gt;</code> instance and pass it to <code>Start()</code> method, the compiler generates the following: </p>\n\n<pre><code>new Program().Start(new Action&lt;int&gt;((object) cDisplayClass1, __methodptr(&lt;Main&gt;b__0)));\n</code></pre>\n\n<p>I generally understand what's happening here, my only question is what is __methodptr? To be exact, where does it come from? Is it from IL? dotPeek doesn't know a thing about it or the assembly containing it. Google doesn't give a precise answer either, only the same snippets of code with no explanations whatsoever.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "ms-access", "insert-into"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1423082162, "post_id": 28330914, "comment_id": 45008997, "body": "You have a SQL injection vulnerability."}, {"owner": {"reputation": 215, "user_id": 2424743, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HsJWT.jpg?s=128&g=1", "display_name": "Gasta87", "link": "https://stackoverflow.com/users/2424743/gasta87"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1423082225, "post_id": 28330914, "comment_id": 45009030, "body": "@SLaks thanks for helping me, but I cannot understand well what it means... could you make me an example or a solution?"}, {"owner": {"reputation": 92018, "user_id": 77335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/323f9580312f8701daae5088d9cf4ed7?s=128&d=identicon&r=PG&f=1", "display_name": "HansUp", "link": "https://stackoverflow.com/users/77335/hansup"}, "edited": false, "score": 0, "creation_date": 1423082284, "post_id": 28330914, "comment_id": 45009067, "body": "Does your second example work if you bracket the table name? <code>INSERT INTO [ARE]</code>  If it does not work, do you get a different error message?"}, {"owner": {"reputation": 5012, "user_id": 3845456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEWf8.jpg?s=128&g=1", "display_name": "DrewJordan", "link": "https://stackoverflow.com/users/3845456/drewjordan"}, "edited": false, "score": 0, "creation_date": 1423082455, "post_id": 28330914, "comment_id": 45009156, "body": "I&#39;m not sure about Access databases, but in general you should not use a semicolon as a separator. I would recommend storing coordinates as two separate columns, but try a manual insert like <code>Insert into ARE(ID,Localizzazione, UO,Coordinate) values(1,1,&#39;1&#39;,&#39;1&#39;);</code>"}, {"owner": {"reputation": 215, "user_id": 2424743, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HsJWT.jpg?s=128&g=1", "display_name": "Gasta87", "link": "https://stackoverflow.com/users/2424743/gasta87"}, "edited": false, "score": 0, "creation_date": 1423082678, "post_id": 28330914, "comment_id": 45009290, "body": "&quot;Insert into ARE(ID,Localizzazione, UO,Coordinate) values(1,1,&#39;UO4&#39;,&#39;1&#39;)&quot; give me error again"}, {"owner": {"reputation": 5012, "user_id": 3845456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEWf8.jpg?s=128&g=1", "display_name": "DrewJordan", "link": "https://stackoverflow.com/users/3845456/drewjordan"}, "edited": false, "score": 0, "creation_date": 1423084393, "post_id": 28330914, "comment_id": 45010201, "body": "try renaming your table, according to Microsoft &#39;ARE&#39; is a reserved keyword. <a href=\"http://support.microsoft.com/kb/321266\" rel=\"nofollow noreferrer\">support.microsoft.com/kb/321266</a> Also, posting the entire error message and table definition will also help."}], "answers": [{"comments": [{"owner": {"reputation": 215, "user_id": 2424743, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HsJWT.jpg?s=128&g=1", "display_name": "Gasta87", "link": "https://stackoverflow.com/users/2424743/gasta87"}, "edited": false, "score": 0, "creation_date": 1423084144, "post_id": 28331263, "comment_id": 45010059, "body": "I wrote two times string q for mistake, in the test i tried both commenting each other. Any solution?"}, {"owner": {"reputation": 11, "user_id": 4525746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e45f02a4e145d39bb7eb72a32cfb96b?s=128&d=identicon&r=PG&f=1", "display_name": "houndx", "link": "https://stackoverflow.com/users/4525746/houndx"}, "reply_to_user": {"reputation": 215, "user_id": 2424743, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HsJWT.jpg?s=128&g=1", "display_name": "Gasta87", "link": "https://stackoverflow.com/users/2424743/gasta87"}, "edited": false, "score": 0, "creation_date": 1423084637, "post_id": 28331263, "comment_id": 45010311, "body": "Sorry, the enter key keeps getting me. Are you sure that all of your table and columns are spelled correctly? The code looks right."}], "tags": [], "owner": {"reputation": 11, "user_id": 4525746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e45f02a4e145d39bb7eb72a32cfb96b?s=128&d=identicon&r=PG&f=1", "display_name": "houndx", "link": "https://stackoverflow.com/users/4525746/houndx"}, "is_accepted": false, "score": 0, "last_activity_date": 1423083934, "last_edit_date": 1423083934, "creation_date": 1423083376, "answer_id": 28331263, "question_id": 28330914, "link": "https://stackoverflow.com/questions/28330914/insert-into-accdb-from-c/28331263#28331263", "title": "&quot;insert into&quot; accdb from c#", "body": "<p>Why are you declaring String q and then string q? It looks like your sql is not written correctly.. spaces, capitalization, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 5012, "user_id": 3845456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IEWf8.jpg?s=128&g=1", "display_name": "DrewJordan", "link": "https://stackoverflow.com/users/3845456/drewjordan"}, "is_accepted": true, "score": 2, "last_activity_date": 1423085564, "creation_date": 1423085564, "answer_id": 28331863, "question_id": 28330914, "link": "https://stackoverflow.com/questions/28330914/insert-into-accdb-from-c/28331863#28331863", "title": "&quot;insert into&quot; accdb from c#", "body": "<p>'ARE' is a reserved keyword for the Jet DB engine, according to <a href=\"http://support.microsoft.com/kb/321266\" rel=\"nofollow\" title=\"Microsoft\">Microsoft</a>. You can use square brackets to get around this for now (like <code>INSERT INTO [ARE]</code>, but you should really consider changing the table name.</p>\n"}], "owner": {"reputation": 215, "user_id": 2424743, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HsJWT.jpg?s=128&g=1", "display_name": "Gasta87", "link": "https://stackoverflow.com/users/2424743/gasta87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1667, "favorite_count": 0, "accepted_answer_id": 28331863, "answer_count": 2, "score": 0, "last_activity_date": 1423085564, "creation_date": 1423082062, "last_edit_date": 1423084028, "question_id": 28330914, "link": "https://stackoverflow.com/questions/28330914/insert-into-accdb-from-c", "title": "&quot;insert into&quot; accdb from c#", "body": "<p>I wrote this two codes in c# to write something in a row of a access accdb but they don't work both:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>String tableName = \"ARE\";\n                String query = String.Format(\n                              \"select * from [{0}]\", tableName);\n                DataSet ds = new DataSet();\n                using (OleDbConnection conn =\n                      new OleDbConnection(connection_string))\n                {\n                    try\n                    {\n                        //Open Database Connection\n                        conn.Open();\n                        OleDbDataAdapter da =\n                               new OleDbDataAdapter(query, conn);\n                        OleDbCommandBuilder cmdB =\n                               new OleDbCommandBuilder(da);\n                        da.MissingSchemaAction =\n                               MissingSchemaAction.AddWithKey;\n\n                        //Fill the DataSet\n                        da.Fill(ds, tableName);\n\n                        DataRow row = ds.Tables[\"ARE\"].NewRow();\n                        row[\"ID\"] = \"1\";\n                        row[\"Localizzazione\"] = \"1\";\n                        row[\"UO\"] = \"UO1\";\n                        row[\"Coordinate\"] = \"333;336\";\n\n                        ds.Tables[\"ARE\"].Rows.Add(row);\n                        da.Update(ds, \"ARE\");\n\n                    }\n                    catch (OleDbException exp)\n                    {\n                        MessageBox.Show(\"Database Error:\" + exp.Message.ToString());\n                    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code> using (OleDbConnection oc = new OleDbConnection(connection_string))\n                {\n\n                    string q = \"INSERT INTO ARE \"\n                                + \"(ID, Localizzazione, UO, Coordinate) \"\n                                + \"VALUES (@ID, @Localizzazione, @UO, @Coordinate)\";\n\n                    OleDbCommand insertCommand = new OleDbCommand(q, oc);\n\n                    insertCommand.Parameters.Add(\"@ID\", OleDbType.Integer).Value = 1;\n                    insertCommand.Parameters.Add(\"@Localizzazione\", OleDbType.Integer).Value = 1;\n                    insertCommand.Parameters.Add(\"@UO\", OleDbType.Char).Value = (UO[selectedUO])[1].ToString();\n                    insertCommand.Parameters.Add(\"@Coordinate\", OleDbType.Char).Value = (e.X - 12) + \";\" + (e.Y - 12);\n\n                    oc.Open();\n                    insertCommand.ExecuteNonQuery();\n\n                }\n</code></pre>\n\n<p>But always tell me \"error sintax on isctruction INSERT INTO.\"\nSystem.Data.OleDb.OleDbException</p>\n\n<p>WHY??? :(</p>\n"}, {"tags": ["c#", "exe"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 1, "creation_date": 1423082128, "post_id": 28330901, "comment_id": 45008980, "body": "I would suggest reading up on how to build multiple projects in a single solution at least in regards to <code>C#</code> this is a pretty opinionated question"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 1, "creation_date": 1423082244, "post_id": 28330901, "comment_id": 45009043, "body": "<a href=\"http://stackoverflow.com/questions/1829531/how-do-i-merge-multiple-net-assemblies-into-a-single-assembly\">You can merge assemblies</a>. The rest of the question is opinion-based or too broad."}, {"owner": {"reputation": 4540, "user_id": 752842, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a569b2ed8b021eb2815e8fbf5ebbc41?s=128&d=identicon&r=PG", "display_name": "Dzyann", "link": "https://stackoverflow.com/users/752842/dzyann"}, "edited": false, "score": 0, "creation_date": 1423082438, "post_id": 28330901, "comment_id": 45009145, "body": "What is that you need? Are you looking for general information or do you have a specific problem? It seems you are asking for general information, which is not a good fit for this site."}, {"owner": {"reputation": 5725, "user_id": 398412, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/G3QP5.png?s=128&g=1", "display_name": "Jimmy Hoffa", "link": "https://stackoverflow.com/users/398412/jimmy-hoffa"}, "reply_to_user": {"reputation": 6250, "user_id": 2359643, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05ea83110037dc15d8d22e722fd184f4?s=128&d=identicon&r=PG", "display_name": "JNYRanger", "link": "https://stackoverflow.com/users/2359643/jnyranger"}, "edited": false, "score": 1, "creation_date": 1423082857, "post_id": 28330901, "comment_id": 45009393, "body": "This would really be unlikely to work on programmers. @JNYRanger you should probably spend time on that site to learn it&#39;s scope before suggesting people post their questions there. This is very vague and broad and lacks any specific question so it likely wouldn&#39;t fit on any SE site at all. It would be closed if posted on Programmers."}, {"owner": {"reputation": 6250, "user_id": 2359643, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05ea83110037dc15d8d22e722fd184f4?s=128&d=identicon&r=PG", "display_name": "JNYRanger", "link": "https://stackoverflow.com/users/2359643/jnyranger"}, "reply_to_user": {"reputation": 5725, "user_id": 398412, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/G3QP5.png?s=128&g=1", "display_name": "Jimmy Hoffa", "link": "https://stackoverflow.com/users/398412/jimmy-hoffa"}, "edited": false, "score": 0, "creation_date": 1423082914, "post_id": 28330901, "comment_id": 45009424, "body": "@JimmyHoffa Sorry, I thought that conceptual questions were best for that site?"}, {"owner": {"reputation": 5725, "user_id": 398412, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/G3QP5.png?s=128&g=1", "display_name": "Jimmy Hoffa", "link": "https://stackoverflow.com/users/398412/jimmy-hoffa"}, "reply_to_user": {"reputation": 6250, "user_id": 2359643, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05ea83110037dc15d8d22e722fd184f4?s=128&d=identicon&r=PG", "display_name": "JNYRanger", "link": "https://stackoverflow.com/users/2359643/jnyranger"}, "edited": false, "score": 1, "creation_date": 1423083014, "post_id": 28330901, "comment_id": 45009487, "body": "@JNYRanger they are, but this is not a conceptual question, this is a broad poll request that doesn&#39;t have any fixed question in it. Like I said, it wouldn&#39;t fit any site on SE."}, {"owner": {"reputation": 19, "user_id": 4530217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b9737bf07b8c48c47b992bdbd19e58?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4530217/daniel"}, "edited": false, "score": 0, "creation_date": 1423083332, "post_id": 28330901, "comment_id": 45009662, "body": "sorry for that question"}, {"owner": {"user_type": "does_not_exist", "display_name": "user289086"}, "edited": false, "score": 1, "creation_date": 1423083466, "post_id": 28330901, "comment_id": 45009725, "body": "@Daniel it&#39;s a matter of learning the system and the expectations. It is an interesting question, just that it&#39;s hard to fit in the Q&amp;A format. Get 20 rep and you may find the C# or C++ chat rooms may be a good place to ask."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 4530217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b9737bf07b8c48c47b992bdbd19e58?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4530217/daniel"}, "edited": false, "score": 0, "creation_date": 1423083349, "post_id": 28331019, "comment_id": 45009669, "body": "thanks for your answer!"}], "tags": [], "owner": {"reputation": 85575, "user_id": 880990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/123d02be3a4fb6074b72b7e28bc05bad?s=128&d=identicon&r=PG", "display_name": "Olivier Jacot-Descombes", "link": "https://stackoverflow.com/users/880990/olivier-jacot-descombes"}, "is_accepted": true, "score": 1, "last_activity_date": 1423082761, "last_edit_date": 1423082761, "creation_date": 1423082450, "answer_id": 28331019, "question_id": 28330901, "link": "https://stackoverflow.com/questions/28330901/building-projects/28331019#28331019", "title": "Building projects", "body": "<p>The default is that you have one exe plus one dll per additional project. External libraries might generate even more dlls. It is common for a .NET application to have many dlls.</p>\n\n<p>However, there is a tool from Microsoft called <a href=\"http://research.microsoft.com/en-us/people/mbarnett/ilmerge.aspx\" rel=\"nofollow\">ILMerge</a> that can merge all your assemblies into one. It does not run automatically, but you can create a bat-file (for instance) and launch it as post build event in the Release configuration.</p>\n"}], "owner": {"reputation": 19, "user_id": 4530217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33b9737bf07b8c48c47b992bdbd19e58?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4530217/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1423082795, "accepted_answer_id": 28331019, "answer_count": 1, "score": -2, "last_activity_date": 1423082761, "creation_date": 1423082003, "question_id": 28330901, "link": "https://stackoverflow.com/questions/28330901/building-projects", "closed_reason": "Opinion-based", "title": "Building projects", "body": "<p>I come along with an a bit curious question.\nI don't have much experience with large projects with lots of files in C, C++, C#, D...</p>\n\n<p>So I wondered about a professional solution when building up bigger projects.\nObviously there is no \"general\" solution to do that..\nTo explain what I mean lets take a look at Java for example:</p>\n\n<p>Assuming that you wrote a lot of source files in Java.\nOnce you have finished you compile all that sources to .class files into a folder named like the package of the sources. All the files interact with each other.\nTo finish your project you create a .jar file of all your .class files and config-files and you're done. Just to simplify.</p>\n\n<p>So my question is:\nWhat is a common solution when building GUI applications with C++ or C# on windows?\nIs there one .exe file and a lot of .dll files in a folder? Or are all files compiled to .exe and work fine together due to namespaces for example? Is there a way to create an executable archive of all files?\nWhat is a common way to build up GUI applications with lots of frames?\nIs there any?</p>\n\n<p>I hope all that questions make my problem become more clearly. I hope you can guess what I mean.</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["c#", ".net", "linq"], "answers": [{"tags": [], "owner": {"reputation": 93814, "user_id": 1659, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cc331c477243ced5ff968a32a7dd14f?s=128&d=identicon&r=PG", "display_name": "Mark Cidade", "link": "https://stackoverflow.com/users/1659/mark-cidade"}, "is_accepted": false, "score": 3, "last_activity_date": 1423081690, "creation_date": 1423081690, "answer_id": 28330814, "question_id": 28330758, "link": "https://stackoverflow.com/questions/28330758/limit-results-from-linq-results-net/28330814#28330814", "title": "Limit results from linq results .NET", "body": "<p>You can use a <code>where</code> clause to filter your results:</p>\n\n<pre><code>ViewData[\"listDT\"] = from c in Enum.GetValues(typeof(ColumnDataType)).Cast&lt;ColumnDataType&gt;().ToList()\n                     where    c == ColumnDataType.String \n                           || c == ColumnDataType.DateTime \n                           || c == ColumnDataType.Decimal\n                           || c == ColumnDataType.Integer \n                     select new SelectListItem { Value = c.ToString(), Text = c.ToString() };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151025, "user_id": 13627, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3aa80c54202b85c3c4819a764e20d974?s=128&d=identicon&r=PG", "display_name": "driis", "link": "https://stackoverflow.com/users/13627/driis"}, "is_accepted": false, "score": 3, "last_activity_date": 1423082054, "last_edit_date": 1423082054, "creation_date": 1423081717, "answer_id": 28330819, "question_id": 28330758, "link": "https://stackoverflow.com/questions/28330758/limit-results-from-linq-results-net/28330819#28330819", "title": "Limit results from linq results .NET", "body": "<p>If you already know the list of values you want, just use that as the source:</p>\n\n<pre><code>from c in new [] {ColumnDataType.String, ColumnDataType.DateTime, ColumnDataType.Decimal, ColumnDataType.Integer}\nselect new SelectListItem { Value = c.ToString(), Text = c.ToString() };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2454, "user_id": 2607840, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/odHBN.jpg?s=128&g=1", "display_name": "Cameron", "link": "https://stackoverflow.com/users/2607840/cameron"}, "is_accepted": true, "score": 6, "last_activity_date": 1423081725, "creation_date": 1423081725, "answer_id": 28330824, "question_id": 28330758, "link": "https://stackoverflow.com/questions/28330758/limit-results-from-linq-results-net/28330824#28330824", "title": "Limit results from linq results .NET", "body": "<p>If you only want those specified values, try something like this:</p>\n\n<pre><code>ViewData[\"listDT\"] = from c in new[] \n                     { \n                      ColumnDataType.String,\n                      ColumnDataType.DateTime, \n                      ColumnDataType.Decimal, \n                      ColumnDataType.Integer \n                     }\n                     select new SelectListItem \n                     { \n                      Value = c.ToString(), \n                      Text = c.ToString() \n                     };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10839, "user_id": 1173800, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/54f787f354be8737e3285e7593af7da4?s=128&d=identicon&r=PG", "display_name": "jhilden", "link": "https://stackoverflow.com/users/1173800/jhilden"}, "is_accepted": false, "score": 2, "last_activity_date": 1423084738, "last_edit_date": 1423084738, "creation_date": 1423081799, "answer_id": 28330843, "question_id": 28330758, "link": "https://stackoverflow.com/questions/28330758/limit-results-from-linq-results-net/28330843#28330843", "title": "Limit results from linq results .NET", "body": "<p>There are cleaner ways to do this to be sure, but a simple way would be adding a where clause.</p>\n\n<pre><code>from c in Enum.GetValues(typeof(ColumnDataType)).Cast&lt;ColumnDataType&gt;().ToList()\nwhere c == ColumnDataType.String \n|| c == ColumnDataType.DateTime\n|| c == ColumnDataType.Decimal\nselect new SelectListItem { Value = c.ToString(), Text = c.ToString() };\n</code></pre>\n\n<p>One thing to consider: if you know the values you want to add why not do something like this instead:</p>\n\n<pre><code>var availableValues = new List&lt;SelectListItem&gt; {\n  new SelectListItem {Value = ColumnDataType.String.ToString()},\n  new SelectListItem {Value = ColumnDataType.DateTime.ToString()}\n  new SelectListItem {Value = ColumnDataType.Decimal.ToString()}\n}\n</code></pre>\n"}], "owner": {"reputation": 1123, "user_id": 421237, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6c1a0c63633db7f7665256f6911e8e76?s=128&d=identicon&r=PG", "display_name": "MindGame", "link": "https://stackoverflow.com/users/421237/mindgame"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 28330824, "answer_count": 4, "score": 0, "last_activity_date": 1423084738, "creation_date": 1423081484, "question_id": 28330758, "link": "https://stackoverflow.com/questions/28330758/limit-results-from-linq-results-net", "title": "Limit results from linq results .NET", "body": "<p>I am using linq to get a list of results from an enumeration list. Right now I am returning the full list. </p>\n\n<p>Doing the following:</p>\n\n<pre><code>       ViewData[\"listDT\"] = from c in Enum.GetValues(typeof(ColumnDataType)).Cast&lt;ColumnDataType&gt;().ToList()\n                                   select new SelectListItem { Value = c.ToString(), Text = c.ToString() };\n</code></pre>\n\n<p>Where my ColumnDateType enumeration is:</p>\n\n<pre><code>public enum ColumnDataType\n{\n    String,\n    Date,\n    DateTime,\n    Integer,\n    Decimal,\n    MultipleChoice,\n    PictureBox,\n    Attachment,\n    Boolean,\n    AutoNumber\n}\n</code></pre>\n\n<p>My question is how do I make it so that I only return String, DateTime, Decimal and Integer using my current Linq statement. </p>\n"}, {"tags": ["c#", "xml", "vb.net", "xsd-validation"], "comments": [{"owner": {"reputation": 1261, "user_id": 2472345, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8Y0sd.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2472345/aaron"}, "edited": false, "score": 0, "creation_date": 1423082127, "post_id": 28330744, "comment_id": 45008977, "body": "You can update the namespace using XNamespace. <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.linq.xnamespace%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/&hellip;</a>"}, {"owner": {"reputation": 33, "user_id": 2726536, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/02e1893640468e2dec9485bffd162f64?s=128&d=identicon&r=PG&f=1", "display_name": "user2726536", "link": "https://stackoverflow.com/users/2726536/user2726536"}, "reply_to_user": {"reputation": 1261, "user_id": 2472345, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8Y0sd.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/2472345/aaron"}, "edited": false, "score": 0, "creation_date": 1423085618, "post_id": 28330744, "comment_id": 45010812, "body": "How would I take the existing namespace, change it, then put it back, using that?"}, {"owner": {"reputation": 13143, "user_id": 69527, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/215056e1d2d4b5ce5f5837c445dba4d5?s=128&d=identicon&r=PG", "display_name": "CoderDennis", "link": "https://stackoverflow.com/users/69527/coderdennis"}, "edited": false, "score": 0, "creation_date": 1423087171, "post_id": 28330744, "comment_id": 45011636, "body": "You&#39;ve tagged this question with both <code>c#</code> and <code>vb.net</code>. Which one are you using?"}], "owner": {"reputation": 33, "user_id": 2726536, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/02e1893640468e2dec9485bffd162f64?s=128&d=identicon&r=PG&f=1", "display_name": "user2726536", "link": "https://stackoverflow.com/users/2726536/user2726536"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1423081420, "creation_date": 1423081420, "question_id": 28330744, "link": "https://stackoverflow.com/questions/28330744/edit-xml-namespace-element", "title": "Edit XML namespace element", "body": "<p>I am trying to validate an XML file using an XSD schema but according to the documentation the namespace for the XML file needs to have something added to the namespace. Is there a function to do this using XDocument or something or must I just use brute force?</p>\n"}, {"tags": ["c#", "wpf", "binding", "combobox", "elementname"], "answers": [{"tags": [], "owner": {"reputation": 1500, "user_id": 2716244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc26e30a27c57bdbfec658910fea4db?s=128&d=identicon&r=PG&f=1", "display_name": "igorushi", "link": "https://stackoverflow.com/users/2716244/igorushi"}, "is_accepted": true, "score": 1, "last_activity_date": 1423084427, "creation_date": 1423084427, "answer_id": 28331579, "question_id": 28330717, "link": "https://stackoverflow.com/questions/28330717/combobox-is-showing-bound-values-but-selection-isnt-possible/28331579#28331579", "title": "Combobox is showing bound values but selection isn&#39;t possible", "body": "<p>Your GetHashCode() looks incorrect since the value you implementation returns will change during the object's lifetime (Once Name, ViewName or Alignment are assigned). This means instances can get lost in dictionaries or hashsets. If you don't have to put your objects as keys in dictionary (and you almost always can find an alternative) you shouldn't override the GetHashCode(). </p>\n"}], "owner": {"reputation": 25, "user_id": 3982835, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fb2bd3d99ad5c375b882d22ccb0b32da?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/3982835/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 28331579, "answer_count": 1, "score": 0, "last_activity_date": 1423084427, "creation_date": 1423081329, "question_id": 28330717, "link": "https://stackoverflow.com/questions/28330717/combobox-is-showing-bound-values-but-selection-isnt-possible", "title": "Combobox is showing bound values but selection isn&#39;t possible", "body": "<p>I have some really strange behaviour with a combobox. Threre is a ObservabalCollection bound to it. Values are displayed correctly. I can add some values to my collection bound to combobox_PragmaSections, they are displayed and I can switch between them.</p>\n\n<p>There are some textboxes and a DoubleUpDown where I can set some propertys of the selected item of combobox_PragmaSections.</p>\n\n<p>When I insert some values in the Textbox or the DoubleUpDown the combobox_PragmaSections \"freezes\". It shows the containing values, dropdown is possible BUT if I try to select another value than the current, nothing happens. When I remove my isEqual and getHashCode functions it works.... does anyone have an Idea what is happening?</p>\n\n<pre><code>&lt;ComboBox x:Name=\"combobox_PragmaSections\" ItemsSource=\"{Binding currentTask.list_PragmaSections}\"\nDisplayMemberPath=\"ViewName\" Margin=\"13,271,10,0\" VerticalAlignment=\"Top\"\nGrid.Column=\"1\"/&gt;\n\n&lt;TextBox Text=\"{Binding SelectedItem.Name,ElementName=combobox_PragmaSections}\" \n    Height=\"23\" Margin=\"13,298,10,0\" TextWrapping=\"Wrap\" \n    VerticalAlignment=\"Top\" Grid.Column=\"1\"/&gt;\n\n\n\n&lt;TextBox Text=\"{Binding SelectedItem.FLAGS, ElementName=combobox_PragmaSections}\" Height=\"23\" Margin=\"13,324,10,0\" \n        TextWrapping=\"Wrap\" VerticalAlignment=\"Top\" Grid.Column=\"1\"/&gt;\n\n&lt;xctk:DoubleUpDown Value=\"{Binding SelectedItem.Alignment,\nElementName=combobox_PragmaSections}\" Margin=\"96,353,10,0\"\nVerticalAlignment=\"Top\" Grid.Column=\"1\" Height=\"20\"/&gt;\n\n\n    public override bool Equals(System.Object obj)\n    {\n        // If parameter is null return false.\n        if (obj == null)\n        {\n            return false;\n        }\n\n        // If parameter cannot be cast to Point return false.\n        Task_PragmaSection p = obj as Task_PragmaSection;\n        if ((System.Object)p == null)\n        {\n            return false;\n        }\n        bool isEqual = false;\n        // If parameter is null return false:\n        if ((object)p == null)\n        {\n            return false;\n        }\n        if (this.Unit == p.Unit &amp;&amp;\n           this.Size == p.Size &amp;&amp;\n           this.FLAGS == p.FLAGS &amp;&amp;\n           this.File_Path == p.File_Path &amp;&amp;\n           this.Description == p.Description &amp;&amp;\n           this.completeSection == p.completeSection &amp;&amp;\n           this.Alignment == p.Alignment &amp;&amp;\n           this.Name == p.Name &amp;&amp;\n           this.ViewName == p.ViewName &amp;&amp;\n           this.Type == p.Type &amp;&amp;\n           this.Qualifier == p.Qualifier &amp;&amp;\n           this.list_Objects == p.list_Objects)\n        {\n            isEqual = true;\n        }\n        // Return true if the fields match:\n        return isEqual;\n    }\n    public override int GetHashCode()\n    {\n        unchecked\n        {\n            int hash = 486187739;\n            if (this.Name!=null)\n            {\n                hash = hash * 23 + this.Name.GetHashCode();\n            }\n            if(this.ViewName!=null)\n            {\n                hash = hash * 23 + this.ViewName.GetHashCode();\n            }\n            if(this.Alignment!=null)\n            {\n                hash = hash * 23 + this.Alignment.GetHashCode();\n            }\n            return hash;\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "websocket", "iis-8"], "comments": [{"owner": {"reputation": 18209, "user_id": 2266130, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/YBXhC.png?s=128&g=1", "display_name": "Jeroen van Langen", "link": "https://stackoverflow.com/users/2266130/jeroen-van-langen"}, "edited": false, "score": 0, "creation_date": 1605743153, "post_id": 28330705, "comment_id": 114748745, "body": "That is a very large receive buffer. When many client are connected, you need al lot of memory."}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 3417684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4db50a9bf48d29d8ef82f23131de80e9?s=128&d=identicon&r=PG&f=1", "display_name": "chef", "link": "https://stackoverflow.com/users/3417684/chef"}, "is_accepted": false, "score": -1, "last_activity_date": 1423083915, "last_edit_date": 1423083915, "creation_date": 1423082604, "answer_id": 28331056, "question_id": 28330705, "link": "https://stackoverflow.com/questions/28330705/how-to-gracefully-close-a-two-way-websocket-in-net/28331056#28331056", "title": "How to gracefully close a two-way WebSocket in .Net", "body": "<p>i suggest you to look at these links:</p>\n\n<p>asynchronous server:\n<a href=\"https://msdn.microsoft.com/en-us/library/fx6588te%28v=vs.110%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/fx6588te%28v=vs.110%29.aspx</a></p>\n\n<p>asynchronous client:\n<a href=\"https://msdn.microsoft.com/en-us/library/bew39x2a(v=vs.110).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/bew39x2a(v=vs.110).aspx</a></p>\n\n<p>recently i implementled something similar with these links as an example. the methods \"BeginReceive\" (for server) and \"BeginConnect\" (for client) start each a new thread. so there won't be anything that blocks</p>\n"}, {"tags": [], "owner": {"reputation": 3552, "user_id": 2930499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb073563dbdc5b538877f229e9d32968?s=128&d=identicon&r=PG&f=1", "display_name": "tcb", "link": "https://stackoverflow.com/users/2930499/tcb"}, "is_accepted": true, "score": 17, "last_activity_date": 1476801365, "last_edit_date": 1476801365, "creation_date": 1423094102, "answer_id": 28333833, "question_id": 28330705, "link": "https://stackoverflow.com/questions/28330705/how-to-gracefully-close-a-two-way-websocket-in-net/28333833#28333833", "title": "How to gracefully close a two-way WebSocket in .Net", "body": "<p>Figured this out. </p>\n\n<p><strong>Server</strong></p>\n\n<p>Basically, I had to call the <code>ClientWebSocket.CloseOutputAsync</code> (instead of the <code>CloseAsync</code>) method to tell the framework no more output is going to be sent from the client.</p>\n\n<pre><code>await socket.CloseOutputAsync(WebSocketCloseStatus.NormalClosure, string.Empty, CancellationToken.None);\n</code></pre>\n\n<p><strong>Client</strong></p>\n\n<p>Then in the <code>Receive</code> function, I had to allow for socket state <code>WebSocketState.CloseSent</code> to receive the <code>Close</code> response from the server</p>\n\n<pre><code>static async Task Receive(ClientWebSocket socket)\n{\n    try\n    {\n        byte[] recvBuffer = new byte[64 * 1024];\n        while (socket.State == WebSocketState.Open || socket.State == WebSocketState.CloseSent)\n        {\n            var result = await socket.ReceiveAsync(new ArraySegment&lt;byte&gt;(recvBuffer), CancellationToken.None);\n            Console.WriteLine(\"Client got {0} bytes\", result.Count);\n            Console.WriteLine(Encoding.UTF8.GetString(recvBuffer, 0, result.Count));\n            if (result.MessageType == WebSocketMessageType.Close)\n            {\n                Console.WriteLine(\"Close loop complete\");\n                break;\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(\"Exception in receive - {0}\", ex.Message);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3552, "user_id": 2930499, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb073563dbdc5b538877f229e9d32968?s=128&d=identicon&r=PG&f=1", "display_name": "tcb", "link": "https://stackoverflow.com/users/2930499/tcb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11779, "favorite_count": 3, "accepted_answer_id": 28333833, "answer_count": 2, "score": 5, "last_activity_date": 1476801365, "creation_date": 1423081264, "question_id": 28330705, "link": "https://stackoverflow.com/questions/28330705/how-to-gracefully-close-a-two-way-websocket-in-net", "title": "How to gracefully close a two-way WebSocket in .Net", "body": "<p>I have a <a href=\"https://tools.ietf.org/html/rfc6455#section-7.1.1\" rel=\"noreferrer\">WebSocket</a> server that accepts a stream of binary data from a client and responds with another stream of text data for every 4MB read. The server uses IIS 8 and <a href=\"http://www.codeproject.com/Articles/618032/Using-WebSocket-in-NET-4-5-Part-2\" rel=\"noreferrer\">asp.net web api</a>.</p>\n\n<p><strong>Server</strong></p>\n\n<pre><code>public class WebSocketController : ApiController\n{\n    public HttpResponseMessage Get()\n    {\n        if (!HttpContext.Current.IsWebSocketRequest)\n        {\n            return new HttpResponseMessage(HttpStatusCode.BadRequest);\n        }\n\n        HttpContext.Current.AcceptWebSocketRequest(async (context) =&gt;\n        {\n            try\n            {\n                WebSocket socket = context.WebSocket;\n\n                byte[] requestBuffer = new byte[4194304];\n                int offset = 0;\n\n                while (socket.State == WebSocketState.Open)\n                {\n                    var requestSegment = new ArraySegment&lt;byte&gt;(requestBuffer, offset, requestBuffer.Length - offset);\n                    WebSocketReceiveResult result = await socket.ReceiveAsync(requestSegment, CancellationToken.None);\n\n                    if (result.MessageType == WebSocketMessageType.Close)\n                    {\n                        // Send one last response before closing\n                        var response = new ArraySegment&lt;byte&gt;(Encoding.UTF8.GetBytes(\"Server got \" + offset + \" bytes\\n\"));\n                        await socket.SendAsync(response, WebSocketMessageType.Text, true, CancellationToken.None);\n\n                        // Close\n                        await socket.CloseAsync(WebSocketCloseStatus.NormalClosure, string.Empty, CancellationToken.None);\n                        break;\n                    }\n\n                    offset += result.Count;\n                    if (offset == requestBuffer.Length)\n                    {\n                        // Regular response\n                        var response = new ArraySegment&lt;byte&gt;(Encoding.UTF8.GetBytes(\"Server got 4194304 bytes\\n\"));\n                        await socket.SendAsync(response, WebSocketMessageType.Text, true, CancellationToken.None);\n                        offset = 0;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                // Log and continue\n            }\n        });\n\n        return new HttpResponseMessage(HttpStatusCode.SwitchingProtocols);\n    }\n}\n</code></pre>\n\n<p>The c# client uses the <a href=\"https://msdn.microsoft.com/en-us/library/system.net.websockets.clientwebsocket(v=vs.110).aspx\" rel=\"noreferrer\">ClientWebSocket</a> class to connect to the server and send requests. It creates a task for receiving responses from the server that runs in parallel with the request sending. When it is done sending the requests it calls <code>CloseAsync</code> on the socket and then waits for the <code>Receive</code> task to complete.</p>\n\n<p><strong>Client</strong></p>\n\n<pre><code>using System;\nusing System.Net.WebSockets;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\n\nnamespace WebSocketClient\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            try\n            {\n                CallWebSocketServer().Wait();\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(ex);\n            }\n        }\n\n        static async Task CallWebSocketServer()\n        {\n            using (ClientWebSocket socket = new ClientWebSocket())\n            {\n                await socket.ConnectAsync(new Uri(\"ws://localhost/RestWebController\"), CancellationToken.None);\n                byte[] buffer = new byte[128 * 1024];\n\n                Task receiveTask = Receive(socket);\n                for (int i = 0; i &lt; 1024; ++i)\n                {\n                    await socket.SendAsync(new ArraySegment&lt;byte&gt;(buffer), WebSocketMessageType.Binary, true, CancellationToken.None);\n                }\n\n                await socket.CloseAsync(WebSocketCloseStatus.NormalClosure, string.Empty, CancellationToken.None);\n                receiveTask.Wait();\n\n                Console.WriteLine(\"All done\");\n            }\n        }\n\n        static async Task Receive(ClientWebSocket socket)\n        {\n            try\n            {\n                byte[] recvBuffer = new byte[64 * 1024];\n                while (socket.State == WebSocketState.Open)\n                {\n                    var result = await socket.ReceiveAsync(new ArraySegment&lt;byte&gt;(recvBuffer), CancellationToken.None);\n                    Console.WriteLine(\"Client got {0} bytes\", result.Count);\n                    Console.WriteLine(Encoding.UTF8.GetString(recvBuffer, 0, result.Count));\n                    if (result.MessageType == WebSocketMessageType.Close)\n                    {\n                        Console.WriteLine(\"Close loop complete\");\n                        break;\n                    }\n                }\n            }\n            catch (Exception ex)\n            {\n                Console.WriteLine(\"Exception in receive - {0}\", ex.Message);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is that the client blocks at the <code>CloseAsync</code> call.</p>\n\n<p>What would be the correct way of gracefully closing the WebSocket in this scenario?</p>\n"}, {"tags": ["c#", "castle-windsor"], "answers": [{"tags": [], "owner": {"reputation": 8171, "user_id": 4332059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xs05E.png?s=128&g=1", "display_name": "Old Fox", "link": "https://stackoverflow.com/users/4332059/old-fox"}, "is_accepted": false, "score": 2, "last_activity_date": 1423091187, "last_edit_date": 1423091187, "creation_date": 1423085033, "answer_id": 28331736, "question_id": 28330682, "link": "https://stackoverflow.com/questions/28330682/initializing-components-using-castle-windsor-which-have-a-dictionary-of-dependen/28331736#28331736", "title": "Initializing components using Castle Windsor which have a dictionary of dependencies as a dependency", "body": "<p>You forgot to register the components into a container</p>\n\n<p>Example for fix:</p>\n\n<pre><code>        var container = new WindsorContainer();\n\n        container.Register(Component.For&lt;IBar&gt;().ImplementedBy&lt;Bar&gt;().Named(\"CreepyBar\"));\n        container.Register(Component.For&lt;IBar&gt;().ImplementedBy&lt;Bar&gt;().Named(\"MegaBar\"));\n\n        container.Register(Component.For&lt;IFoo&gt;()\n            .ImplementedBy&lt;Foo&gt;()\n            .Named(\"MyFoo\")\n            .DynamicParameters(\n                (k, d) =&gt;\n                    d[\"allMyBars\"] = new Dictionary&lt;string, IBar&gt;\n                    {\n                        {\n                            \"Bar1\",\n                            k.Resolve&lt;IBar&gt;(\"CreepyBar\")\n                        },\n                        {\n                            \"Bar2\",\n                            k.Resolve&lt;IBar&gt;(\"MegaBar\")\n                        }\n                    }));\n\n        var verifyFoo= container.Resolve&lt;IFoo&gt;(); //I checked for \n</code></pre>\n\n<p>Hint: you have to use the same container</p>\n"}], "owner": {"reputation": 128, "user_id": 878801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3f1dec230ff679490804755fae3df7?s=128&d=identicon&r=PG", "display_name": "Maciorus", "link": "https://stackoverflow.com/users/878801/maciorus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423091187, "creation_date": 1423081179, "question_id": 28330682, "link": "https://stackoverflow.com/questions/28330682/initializing-components-using-castle-windsor-which-have-a-dictionary-of-dependen", "title": "Initializing components using Castle Windsor which have a dictionary of dependencies as a dependency", "body": "<p>I am using Castle Windsor 3.3.0. I need to create a registration for a component which looks like this:</p>\n\n<pre><code>public class Foo : IFoo\n{\n public Foo(Dictionary&lt;string, IBar&gt; allMyBars)\n {...}\n}\n</code></pre>\n\n<p>I was trying to use DynamicParameters which got me:</p>\n\n<pre><code>Component.For&lt;IFoo&gt;()\n.ImplementedBy&lt;Foo&gt;()\n.Named(\"MyFoo\")\n.DynamicParameters(\n (k, d) =&gt;\n     d[\"allMyBars\"] = new Dictionary&lt;string, IBar&gt;\n                        {\n                            {\n                                \"Bar1\",\n                                k.Resolve&lt;IBar&gt;(\"CreepyBar\")\n                            },\n                            {\n                                \"Bar2\",\n                                k.Resolve&lt;IBar&gt;(\"MegaBar\")\n                            }\n                        }); \n</code></pre>\n\n<p>But that doesn't seem to work. </p>\n\n<p>I am at my wits end. Could someone please help?</p>\n\n<p>Thank you,</p>\n"}, {"tags": ["c#", "object"], "comments": [{"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1423081969, "post_id": 28330680, "comment_id": 45008886, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2632369/what-is-the-default-behavior-of-equals-method\">What is the default behavior of Equals Method?</a> if I understand the question correctly."}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "reply_to_user": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 0, "creation_date": 1423082041, "post_id": 28330680, "comment_id": 45008929, "body": "I mean &quot;how is it possible that a value type can be used as an object argument of a method&quot;?"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "edited": false, "score": 3, "creation_date": 1423082086, "post_id": 28330680, "comment_id": 45008958, "body": "<a href=\"http://stackoverflow.com/questions/1682231/how-do-valuetypes-derive-from-object-referencetype-and-still-be-valuetypes\">Because everything&#39;s an object</a> <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2009/08/06/not-everything-derives-from-object.aspx\" rel=\"nofollow noreferrer\">(well, not everything)</a>."}, {"owner": {"reputation": 9918, "user_id": 1224069, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/pPBUs.jpg?s=128&g=1", "display_name": "Philip Pittle", "link": "https://stackoverflow.com/users/1224069/philip-pittle"}, "edited": false, "score": 1, "creation_date": 1423082784, "post_id": 28330680, "comment_id": 45009353, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2111857/why-do-we-need-boxing-and-unboxing-in-c\">Why do we need boxing and unboxing in C#?</a>"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1423086831, "post_id": 28330680, "comment_id": 45011455, "body": "My suggestions for you are that (1) you banish the notion of &quot;primitive type&quot; from your mind; this is not a concept that is needed in C#, and (2) stop considering the ontological question &quot;<i>is a double an object?</i>&quot; The correct question to consider is the question &quot;<i>can an expression of type double be implicitly converted to type object?</i>&quot; The answer to that question is clearly yes; this is classified as an  <i>implicit boxing conversion</i> by the specification."}], "answers": [{"comments": [{"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "edited": false, "score": 2, "creation_date": 1423082704, "post_id": 28330999, "comment_id": 45009307, "body": "While what you said is true, it&#39;s not actually the reason why it can be passed to a function with an object parameter. The boxing is done for referencing, but the reason that compiles is because <code>System.Double</code> is a struct, which inherits from <code>System.ValueType</code>, which inherits from <code>System.Object</code> (or its alias <code>object</code>), so it&#39;s just a valid object to pass to a function expecting an <code>object</code>."}, {"owner": {"reputation": 1985, "user_id": 3144560, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/B4e0Y.jpg?s=128&g=1", "display_name": "Mustafa Chelik", "link": "https://stackoverflow.com/users/3144560/mustafa-chelik"}, "edited": false, "score": 0, "creation_date": 1423086038, "post_id": 28330999, "comment_id": 45011036, "body": "Another perspective: double inherits from object; which means every double is object too."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "edited": false, "score": 1, "creation_date": 1423087141, "post_id": 28330999, "comment_id": 45011621, "body": "@Jcl: You do not need to resort to this complicated argument. Section 4.3.1 of the specification says that a boxing conversion exists &quot;from any value type to object&quot;. There is no need to go from the value type to <code>ValueType</code> and then make a reference conversion to object."}, {"owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 0, "creation_date": 1423089736, "post_id": 28330999, "comment_id": 45012797, "body": "The performance is because we generate an object of type double at run-time, which will be allocated on the heap, is that right?  Another little question: if I code <code>int x = 5; x.ToString()</code> a boxing is implicitly done or not?"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 0, "creation_date": 1423116752, "post_id": 28330999, "comment_id": 45020373, "body": "@EricLippert oh, I was not implying that... I just meant that <code>double</code> was an <code>object</code> and just stating the inheritance chain."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "edited": false, "score": 2, "creation_date": 1423146658, "post_id": 28330999, "comment_id": 45037257, "body": "@justHelloWorld: The answer to your first question is &quot;yes&quot; and the answer to your second question is &quot;no&quot;, but I would encourage you to <i>post a new question when you have a question</i>. That&#39;s what this site is for!"}], "tags": [], "owner": {"reputation": 9918, "user_id": 1224069, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/pPBUs.jpg?s=128&g=1", "display_name": "Philip Pittle", "link": "https://stackoverflow.com/users/1224069/philip-pittle"}, "is_accepted": true, "score": 3, "last_activity_date": 1423082410, "creation_date": 1423082410, "answer_id": 28330999, "question_id": 28330680, "link": "https://stackoverflow.com/questions/28330680/why-can-i-call-a-method-with-an-object-argument-on-a-non-object-variable/28330999#28330999", "title": "Why can I call a method with an object argument on a non-object variable?", "body": "<p>The reason you can pass a value type (double, int, etc) to a method that is expecting an object is .Net will automatically convert the value type to an object.  This process is called boxing and you can read more about it on MSDN: <a href=\"https://msdn.microsoft.com/en-us/library/yz2be5wk.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/yz2be5wk.aspx</a></p>\n\n<p>Another way to think about this, is this code is perfectly valid:</p>\n\n<pre><code>int i = 5;\nobject o = i; //box i into an object\nint y = (int)o;  //unbox o into an int\n</code></pre>\n\n<p>You should also be aware that there is a performance penalty for doing this.</p>\n"}], "owner": {"reputation": 5320, "user_id": 4480180, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1970535e346ac19a4642c5ac27c97998?s=128&d=identicon&r=PG&f=1", "display_name": "justHelloWorld", "link": "https://stackoverflow.com/users/4480180/justhelloworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 28330999, "answer_count": 1, "score": 1, "last_activity_date": 1423084529, "creation_date": 1423081175, "last_edit_date": 1423084529, "question_id": 28330680, "link": "https://stackoverflow.com/questions/28330680/why-can-i-call-a-method-with-an-object-argument-on-a-non-object-variable", "title": "Why can I call a method with an object argument on a non-object variable?", "body": "<p>I wrote this code in C#:</p>\n\n<pre><code>public static double method ()\n{ \n    return 1.3;\n}\n\npublic static Boolean methodO(object o)\n{ \n    return o.Equals(1.3);\n}\n\npublic static void Main()\n{\n    System.Console.WriteLine(methodO(method())); // prints 'true'\n}\n</code></pre>\n\n<p>Why does this compile? </p>\n\n<p>Is this because \"everything in C# is an object\", and so even if it's a primitive type it's an object too and so it implements the \"Equals\" method? </p>\n"}, {"tags": ["c#", "sql", "sql-server"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423081423, "post_id": 28330655, "comment_id": 45008620, "body": "you need to make sure you bind the data to the DataGrid as well just setting the Source is not good enough"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 1, "creation_date": 1423081839, "post_id": 28330655, "comment_id": 45008825, "body": "I would suggest porting the query over to a stored procedure as well. it will be easier to maintain vs trying to edit dynamic sql in your code. also wrap your SqlCommand Objects around a <code>using(){}</code> for auto disposing"}, {"owner": {"reputation": 159, "user_id": 4515667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dbcb4e51efcc2defc28ab093750a861?s=128&d=identicon&r=PG&f=1", "display_name": "ako", "link": "https://stackoverflow.com/users/4515667/ako"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423081942, "post_id": 28330655, "comment_id": 45008868, "body": "thanks for all of you worked good.i made a mistake with assigning dt to DataGrid,now it works good"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423082003, "post_id": 28330655, "comment_id": 45008909, "body": "please select one of the answers as the acceptable answer thanks"}, {"owner": {"reputation": 159, "user_id": 4515667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dbcb4e51efcc2defc28ab093750a861?s=128&d=identicon&r=PG&f=1", "display_name": "ako", "link": "https://stackoverflow.com/users/4515667/ako"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423082084, "post_id": 28330655, "comment_id": 45008957, "body": "both of them are the same and acceptable"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423082189, "post_id": 28330655, "comment_id": 45009012, "body": "actually they are not the same one has the first error which is the same as the one I have ..the second has to deal with with you refresh and or set the initial viewing of the data in the datagridview..you would need to bind that data.."}, {"owner": {"reputation": 159, "user_id": 4515667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dbcb4e51efcc2defc28ab093750a861?s=128&d=identicon&r=PG&f=1", "display_name": "ako", "link": "https://stackoverflow.com/users/4515667/ako"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423082309, "post_id": 28330655, "comment_id": 45009083, "body": "@MethodMan: Ok yours is more usefull thanks"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423083573, "post_id": 28330655, "comment_id": 45009769, "body": "I appreciate that but I would suggest reading up on <a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.datagrid.databind%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn datagrid.databind</a> and understand why it&#39;s needed when you are wanting to rebind data.. thanks again"}], "answers": [{"tags": [], "owner": {"reputation": 4801, "user_id": 594832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/34d4defb1a72ea6ab5d499831c745605?s=128&d=identicon&r=PG", "display_name": "khlr", "link": "https://stackoverflow.com/users/594832/khlr"}, "is_accepted": false, "score": 2, "last_activity_date": 1423081476, "creation_date": 1423081476, "answer_id": 28330756, "question_id": 28330655, "link": "https://stackoverflow.com/questions/28330655/sqldatareader-can-not-be-loaded-into-table/28330756#28330756", "title": "SqlDataReader can not be loaded into table", "body": "<p>Assign the datatable, not the datareader...</p>\n\n<pre><code>DataGrid.DataSource = dt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "is_accepted": true, "score": 3, "last_activity_date": 1423082647, "last_edit_date": 1423082647, "creation_date": 1423081521, "answer_id": 28330770, "question_id": 28330655, "link": "https://stackoverflow.com/questions/28330655/sqldatareader-can-not-be-loaded-into-table/28330770#28330770", "title": "SqlDataReader can not be loaded into table", "body": "<p>Your issue is that you are setting the data source to the data reader instead of the data table.</p>\n\n<pre><code>DataGrid.DataSource = dr;\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>DataGrid.DataSource = dt;\nDataGrid.DataBind();\n</code></pre>\n"}], "owner": {"reputation": 159, "user_id": 4515667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dbcb4e51efcc2defc28ab093750a861?s=128&d=identicon&r=PG&f=1", "display_name": "ako", "link": "https://stackoverflow.com/users/4515667/ako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 28330770, "answer_count": 2, "score": 0, "last_activity_date": 1423082647, "creation_date": 1423081104, "last_edit_date": 1423082301, "question_id": 28330655, "link": "https://stackoverflow.com/questions/28330655/sqldatareader-can-not-be-loaded-into-table", "title": "SqlDataReader can not be loaded into table", "body": "<p>I have a <code>SqlDataReader</code> from a SQL Server command and want I to show in a <code>DataDridView</code> with this code:</p>\n\n<pre><code>SqlDataReader dr=product.RetriveDetailsOfOneProduct();\nDataTable dt = new DataTable();\ndt.Load(dr);\nDataGrid.DataSource = dr;\n</code></pre>\n\n<p>I checked it using breakpoints that my <code>SqlDataReader</code> has rows but when loading it into <code>DataTable</code>, it is empty (with no rows)</p>\n\n<p>How can I fix this?</p>\n\n<p>And it is function of my DataAccess class where <code>SqlDataReader</code> is returned:</p>\n\n<pre><code>internal SqlDataReader RetriveDetailsOfOneProduct(product product)\n{\n     string RetriveQuery = string.Format(\"SElect person.F_Name as N'Name ',person.L_Name as N'LastName',borrow.Person_Identity as N'Identity',borrow.T_Date as 'Date1', borrow.B_Date as 'Date2' from BorrowTable borrow Inner join PersonTable person on borrow.Product_Name=N'{0}' and person.Person_identity=borrow.Person_Identity \", product.Productname);\n\n     SqlCommand cmd = new SqlCommand(RetriveQuery, conn);\n     // conn.Close();  //if i close the Connection(conn) it runs into error\n     return(cmd.ExecuteReader());\n}\n</code></pre>\n"}, {"tags": ["c#", "reference", "pass-by-reference"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1423080961, "post_id": 28330599, "comment_id": 45008388, "body": "Why doesn&#39;t cloning work?  Seems like that&#39;s the solution.  Can you shallow clone if you&#39;re just modifying value types (<code>string</code>,<code>int</code>)?"}, {"owner": {"reputation": 221, "user_id": 3742723, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100000887208780/picture?type=large", "display_name": "Shyy Guy", "link": "https://stackoverflow.com/users/3742723/shyy-guy"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1423081603, "post_id": 28330599, "comment_id": 45008710, "body": "@DStanley, I tried to do a deep clone, inserting [Serializable] attributes at the top of each class, however other classes that I don&#39;t have control of like Texture2D were giving me that. I also have other classes inside the Item class. Wouldn&#39;t they be set to null if I didn&#39;t do a deep copy?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1423081875, "post_id": 28330599, "comment_id": 45008836, "body": "You don&#39;t <i>need</i> to serialize to do a deep clone - serializing and deserializing is just one way.  If you&#39;re not changing reference types then I would just do a shallow clone (either manually copying property vlaues or using <a href=\"https://msdn.microsoft.com/en-us/library/system.object.memberwiseclone%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\"><code>object.MemberwiseClone</code></a>"}, {"owner": {"reputation": 221, "user_id": 3742723, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100000887208780/picture?type=large", "display_name": "Shyy Guy", "link": "https://stackoverflow.com/users/3742723/shyy-guy"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1423085763, "post_id": 28330599, "comment_id": 45010894, "body": "@DStanley, thank you so much. I tried MemberwiseClone, and it worked excellent. Do you mind putting that as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": false, "score": 1, "last_activity_date": 1423080990, "creation_date": 1423080990, "answer_id": 28330637, "question_id": 28330599, "link": "https://stackoverflow.com/questions/28330599/items-in-static-listitem/28330637#28330637", "title": "Items in static List&lt;Item&gt;()", "body": "<p>You need to separate out <code>currentAmount</code>. Since that value only makes sense in the context of a <code>Player</code> <em>anyways</em>, I would take that out of the <code>Item</code> class, and use a <code>Dictionary&lt;Item,int&gt;</code> to keep track of the inventory:</p>\n\n<pre><code>Dictionary&lt;Item, int&gt; inventory = new Dictionary&lt;Item, int&gt;();\n\nvoid AddItem(int id)\n{\n    foreach (Item i in ItemDatabase.Items)\n        if (i.ID == id)\n            playerItems.Add(i, 0); //Or whatever count\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 335905, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5b0ad4b126928d80ef66ff5209e122c?s=128&d=identicon&r=PG", "display_name": "celerno", "link": "https://stackoverflow.com/users/335905/celerno"}, "is_accepted": false, "score": 0, "last_activity_date": 1423081979, "last_edit_date": 1495535190, "creation_date": 1423081517, "answer_id": 28330766, "question_id": 28330599, "link": "https://stackoverflow.com/questions/28330599/items-in-static-listitem/28330766#28330766", "title": "Items in static List&lt;Item&gt;()", "body": "<p>I'm still not sure where you are modifying ItemsDatabase.Items (currentAmount as property of the Entity doesn't makes much more sense), but for current amount in your Inventory, I guess this will help you: </p>\n\n<pre><code>Dictionary&lt;Item, int&gt; inventory = new Dictionary&lt;Item, int&gt;();\n\nvoid AddItem(int id)\n{\n    foreach (Item i in ItemDatabase.Items)\n        if (i.ID == id)\n            {\n              if(!inventory.Keys.Contains(i)){iventory.Add(i, 0);}\n              inventory[i]+=1; //increment the amount of items in inventory.\n            }\n}\n</code></pre>\n\n<p>Important:</p>\n\n<p>Dictionary uses Hash to get the object from dictionary, so, you probably want to override that method in your Item class:</p>\n\n<pre><code>class Item {\n    public string Name;\n    public string Description;\n    public int currentAmount;\n\n    public override int GetHashCode(){\n       return Name.GetHashCode() + Description.GetHashCode();\n    }\n}\n</code></pre>\n\n<p>see more:</p>\n\n<ul>\n<li><p><a href=\"https://msdn.microsoft.com/en-us/library/ms182358.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/ms182358.aspx</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/a/371348/335905\">https://stackoverflow.com/a/371348/335905</a></p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 7090, "user_id": 1235390, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sM4O5.png?s=128&g=1", "display_name": "aleha", "link": "https://stackoverflow.com/users/1235390/aleha"}, "is_accepted": false, "score": 0, "last_activity_date": 1423081891, "creation_date": 1423081891, "answer_id": 28330867, "question_id": 28330599, "link": "https://stackoverflow.com/questions/28330599/items-in-static-listitem/28330867#28330867", "title": "Items in static List&lt;Item&gt;()", "body": "<p>do this:</p>\n\n<pre><code>void AddItem(int id)\n{\n    var item = ItemDatabase.Items.FirstOrDefault(x=&gt; x.ID == id);\n    if(item!=null){\n        playerItems.Add(new Item(){ ID = item.ID, Name = item.Name, etc... })\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1423086210, "creation_date": 1423086210, "answer_id": 28332043, "question_id": 28330599, "link": "https://stackoverflow.com/questions/28330599/items-in-static-listitem/28332043#28332043", "title": "Items in static List&lt;Item&gt;()", "body": "<p>Obviously you need to clone the objects if you want to change them without affecting the original.  Serialization is one way to do a \"deep clone\" but as you have discovered not all types can be serialized.  </p>\n\n<p>If you are just modifying the first-level value type properties (not changing related item's values or references) you can use <a href=\"https://msdn.microsoft.com/en-us/library/system.object.memberwiseclone%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>object.MemberwiseClone</code></a> to create a <em>shallow</em> copy (copies of value types and references).</p>\n"}], "owner": {"reputation": 221, "user_id": 3742723, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100000887208780/picture?type=large", "display_name": "Shyy Guy", "link": "https://stackoverflow.com/users/3742723/shyy-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1464, "favorite_count": 0, "accepted_answer_id": 28332043, "answer_count": 4, "score": 0, "last_activity_date": 1423086210, "creation_date": 1423080842, "question_id": 28330599, "link": "https://stackoverflow.com/questions/28330599/items-in-static-listitem", "title": "Items in static List&lt;Item&gt;()", "body": "<p>So I have a static item list which stores a few classes, and in those classes are variables such as \"int ID\", \"string name\", \"string description\", \"int currentAmount\", etc.</p>\n\n<pre><code>ItemDatabase.cs...\n\npublic static List&lt;Item&gt; Items\n\nstatic void LoadItemData()\n{\n    Items.Add(new item);\n    ...\n}\n</code></pre>\n\n<p>I then have a separate item list which will have items added to it for use by the player.</p>\n\n<pre><code>Player.cs...\n\nList&lt;Item&gt; playerItems;\n</code></pre>\n\n<p>Then in other classes, I have <code>AddItem(int ID)</code> methods:</p>\n\n<pre><code>void AddItem(int id)\n{\n    foreach (Item i in ItemDatabase.Items)\n        if (i.ID == id)\n            playerItems.Add(i);\n}\n</code></pre>\n\n<p>I'm currently adding in entities that will make use of the same data. But when I modify the Item added to the playerItems, it modifies ItemDatabase.Items (Obviously, due to referencing).</p>\n\n<p><strong>I can't make the Item class into a struct, because I have other classes which derive from it.\nI need the \"currentAmount\" integer to be by value. Is there any way I can do this?</strong></p>\n\n<p>P.S., I've tried deep cloning, and that doesn't play nicely with my Item class.</p>\n"}, {"tags": ["c#", "exchange-server", "outlook-addin"], "answers": [{"comments": [{"owner": {"reputation": 1168, "user_id": 2349115, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1a10bf310122832caeebcbd21a808909?s=128&d=identicon&r=PG", "display_name": "user2349115", "link": "https://stackoverflow.com/users/2349115/user2349115"}, "edited": false, "score": 0, "creation_date": 1423086310, "post_id": 28331455, "comment_id": 45011192, "body": "Hi Dmitry, Thanks for the answer. By the way, as per previous issue, its solved. I am able to get conversation if outlook changed to cached mode(getrootitems count)."}], "tags": [], "owner": {"reputation": 56418, "user_id": 332059, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cSNOK.png?s=128&g=1", "display_name": "Dmitry Streblechenko", "link": "https://stackoverflow.com/users/332059/dmitry-streblechenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1423084026, "creation_date": 1423084026, "answer_id": 28331455, "question_id": 28330596, "link": "https://stackoverflow.com/questions/28330596/get-message-id-of-sent-item-from-exchange-in-cache-mode-in-outlook/28331455#28331455", "title": "get message id of sent item from exchange in cache mode in outlook", "body": "<p>The cached store does not sync that property from the Exchange store for the Sent Items folder.</p>\n\n<p>On the low (Extended MAPI) level, you would need to reopen the message in the online mode using the <a href=\"https://msdn.microsoft.com/en-us/library/bb820947(v=office.12).aspx\" rel=\"nofollow\">MAPI_NO_CACHE</a> flag. You cannot do this using the Outlook Object Model alone or Extended MAPI (since it requires C++ or Delphi). If using <a href=\"http://www.dimastr.com/redemption\" rel=\"nofollow\">Redemption</a> is an option, it will let you reopen a message in the online mode. In VB script, you could do the following (C# would be very similar):</p>\n\n<pre><code>MAPI_NO_CACHE = &amp;H200\nMAPI_BEST_ACCESS = &amp;H10\nPR_INTERNET_MESSAGE_ID_W = \"http://schemas.microsoft.com/mapi/proptag/0x1035001F\"\nset Session = CreateObject(\"Redemption.RDOSession\")\nSession.MAPIOBJECT = Application.Session.MAPIOBJECT\nset Msg = Session.GetMessageFromID(Application.ActiveExplorer.Selection(1).EntryID, , MAPI_NO_CACHE + MAPI_BEST_ACCESS)\nMsgBox Msg.Fields(PR_INTERNET_MESSAGE_ID_W)\n</code></pre>\n"}], "owner": {"reputation": 1168, "user_id": 2349115, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/1a10bf310122832caeebcbd21a808909?s=128&d=identicon&r=PG", "display_name": "user2349115", "link": "https://stackoverflow.com/users/2349115/user2349115"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 793, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423084026, "creation_date": 1423080828, "question_id": 28330596, "link": "https://stackoverflow.com/questions/28330596/get-message-id-of-sent-item-from-exchange-in-cache-mode-in-outlook", "title": "get message id of sent item from exchange in cache mode in outlook", "body": "<p>I am getting message id (using propertyaccessor) in outlook for microsoft exchange emails for sent items if not using cached mode.</p>\n\n<p>But, in cached mode, it is empty.</p>\n\n<p>How to get it in cached mode ?</p>\n"}, {"tags": ["c#", ".net", "mvvm", "xamarin", "xamarin.forms"], "answers": [{"tags": [], "owner": {"reputation": 3412, "user_id": 1017153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/KXoD8.jpg?s=128&g=1", "display_name": "eakgul", "link": "https://stackoverflow.com/users/1017153/eakgul"}, "is_accepted": false, "score": 0, "last_activity_date": 1426293981, "creation_date": 1426293981, "answer_id": 29044193, "question_id": 28330553, "link": "https://stackoverflow.com/questions/28330553/changes-to-the-children-of-the-grid-dynamically/29044193#29044193", "title": "changes to the children of the grid dynamically", "body": "<p>If you want to use Grid , then you should specify row ands colums, otherwise all the texts will overlaps each other. Instead of Grid, you should use StackLayout.</p>\n\n<pre><code>hintSL  = new StackLayout(){\n   HorizontalOptions= LayoutOptions.Fill,\n   //Orientation = Vertical or Horizontal (however you want)\n};\n\n//if you want to add hintsSl into your grid\n   Grid.SetRow(hintsl, 4);\n   Grid.SetColumn(hintsl, 4);\n\nsearchText.Changed+=(s,e)=&gt;{\n   hintSL.Children.Clear();\n   foreach(var hint in YourHintsList)\n      hintsl.Children.Add(new Label(){Text=hint, and other properties});\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 7338313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63f357f0c2133954d9bdd7900156b8da?s=128&d=identicon&r=PG&f=1", "display_name": "user7338313", "link": "https://stackoverflow.com/users/7338313/user7338313"}, "is_accepted": false, "score": 0, "last_activity_date": 1507580617, "creation_date": 1507580617, "answer_id": 46654405, "question_id": 28330553, "link": "https://stackoverflow.com/questions/28330553/changes-to-the-children-of-the-grid-dynamically/46654405#46654405", "title": "changes to the children of the grid dynamically", "body": "<p>Here are two ways to do this:\nThe first is to use binding.  Bind the text field of the label to a bindable property that changes according to the user's entry.</p>\n\n<p>The second is to make the label a member of whatever class holds the grid, rather than anonymous.  Then you can catch the event (eg OnEntryChanged) generated when the user enters the text and dynamically set the label in the code.</p>\n"}], "owner": {"reputation": 313, "user_id": 1276310, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GseG2.jpg?s=128&g=1", "display_name": "CoderKK", "link": "https://stackoverflow.com/users/1276310/coderkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2477, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1507580617, "creation_date": 1423080713, "question_id": 28330553, "link": "https://stackoverflow.com/questions/28330553/changes-to-the-children-of-the-grid-dynamically", "title": "changes to the children of the grid dynamically", "body": "<p>I'm trying to implement a search suggestion feature using the grid view of Xamarin forms. I was wondering if there is anyway to change the children of the grid dynamically according to the text get entered in the search box. </p>\n\n<pre><code>    grid.Children.Add(new Label\n            {\n                Text = x.Text,\n                TextColor = Color.White,\n                BackgroundColor = Color.Blue\n            }, 0, x.Id);\n</code></pre>\n"}, {"tags": ["c#", "wpf", ".net-4.5", "ribbon", "recent-file-list"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "edited": false, "score": 0, "creation_date": 1423121745, "post_id": 28332727, "comment_id": 45022316, "body": "I tried it, but this does not work for me. It looks like I don&#39;t get the current JumpList. Because I always get a null exception. But in the taskbar I can see JumpItems."}, {"owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "reply_to_user": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "edited": false, "score": 0, "creation_date": 1423146800, "post_id": 28332727, "comment_id": 45037363, "body": "Can you share the Jumplist code which you added for the application?"}, {"owner": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "edited": false, "score": 0, "creation_date": 1423249424, "post_id": 28332727, "comment_id": 45086257, "body": "I found one fault, but I still don&#39;t get it working. I want to get the current not by my self created JumpList.     <code>this.JumpList = JumpList.GetJumpList(Application.Current);</code> My JumpList is not coded in my application, it is created by Windows7 it self. I do not create a JumpList in the App.cs so I&#39;m not able to post my code. Maybe it&#39;s not possible but I would like to try to let Windows create the JumpList it self."}, {"owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "reply_to_user": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "edited": false, "score": 0, "creation_date": 1423250091, "post_id": 28332727, "comment_id": 45086553, "body": "Are you getting any jumplist for the application? Did you try clicking on the application. Did you do file association for your application?"}, {"owner": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "edited": false, "score": 0, "creation_date": 1423250353, "post_id": 28332727, "comment_id": 45086681, "body": "Yes file association is done due an installer. No I don&#39;t get any JumpList back. I always get &quot;null&quot;. When I double click on my file extension, my software gets open and is doing what is has to do. And after I double click on the file extension file, in the Application JumpList in Task bar I can see the JumpPath."}, {"owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "reply_to_user": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "edited": false, "score": 0, "creation_date": 1423250649, "post_id": 28332727, "comment_id": 45086832, "body": "If you can upload some sample code. I can try to help you."}, {"owner": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "edited": false, "score": 0, "creation_date": 1423251650, "post_id": 28332727, "comment_id": 45087381, "body": "I will post it as soon as possible. Thank you"}], "tags": [], "owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "is_accepted": false, "score": 0, "last_activity_date": 1423249873, "last_edit_date": 1423249873, "creation_date": 1423088756, "answer_id": 28332727, "question_id": 28330479, "link": "https://stackoverflow.com/questions/28330479/ribbonapplicationmenu-recent-list/28332727#28332727", "title": "RibbonApplicationMenu Recent list", "body": "<p>In the above code JumpList control doesnot have property to hold the list. Refer the below code. I have used a RibbonGallery.</p>\n\n<pre><code> &lt;Ribbon&gt;\n    &lt;Ribbon.ApplicationMenu&gt;\n        &lt;RibbonApplicationMenu Label=\"test\"&gt;\n            &lt;RibbonApplicationMenuItem Header=\"Test\" /&gt;\n            &lt;RibbonApplicationMenu.AuxiliaryPaneContent&gt;\n                &lt;RibbonGallery CanUserFilter=\"False\" ScrollViewer.VerticalScrollBarVisibility=\"Auto\" ItemsSource=\"{Binding JumpListMyApp}\"&gt;                        \n                &lt;/RibbonGallery&gt;\n            &lt;/RibbonApplicationMenu.AuxiliaryPaneContent&gt;\n        &lt;/RibbonApplicationMenu&gt;\n    &lt;/Ribbon.ApplicationMenu&gt;\n&lt;/Ribbon&gt;\nclass ViewModel\n{\n    private ObservableCollection&lt;string&gt; myVar=new ObservableCollection&lt;string&gt;();\n\n    public ObservableCollection&lt;string&gt; JumpListMyApp\n    {\n        get { return myVar; }\n        set { myVar = value; }\n    }        \n\n    public ViewModel()\n    {\n        var jump = JumpList.GetJumpList(App.Current);\n        foreach (var item in JumpList.GetJumpList(App.Current).JumpItems)\n        {\n            JumpTask tsk = item as JumpTask;\n            JumpListMyApp.Add(tsk.Description);\n        }\n\n    }\n}\npublic partial class App : Application\n{\n    protected override void OnStartup(StartupEventArgs e)\n    {\n        base.OnStartup(e);\n        JumpTask task = new JumpTask\n        {\n            Title = \"Check for Updates\",\n            Arguments = \"/update\",\n            Description = \"Cheks for Software Updates\",\n            CustomCategory = \"Actions\",\n            IconResourcePath = Assembly.GetEntryAssembly().CodeBase,\n            ApplicationPath = Assembly.GetEntryAssembly().CodeBase\n        };\n\n        JumpList jumpList = new JumpList();\n        jumpList.JumpItems.Add(task);\n        jumpList.ShowFrequentCategory = false;\n        jumpList.ShowRecentCategory = false;\n\n        JumpList.SetJumpList(Application.Current, jumpList);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4209951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aacf7f2f9d344d4e34cfd138e3de7e?s=128&d=identicon&r=PG&f=1", "display_name": "Breaveheard", "link": "https://stackoverflow.com/users/4209951/breaveheard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1081, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1423322646, "creation_date": 1423080416, "last_edit_date": 1423322646, "question_id": 28330479, "link": "https://stackoverflow.com/questions/28330479/ribbonapplicationmenu-recent-list", "title": "RibbonApplicationMenu Recent list", "body": "<p>I have an .net 4.5 WPF application which automatically (not extra coded) creates recent entries to the JumpList in taskbar. I would like to bind these JumpList items to the RibbonApplicationMenu. I tried to get the current JumpList like this:</p>\n\n<pre><code>this.JumpList = JumpList.GetJumpList(App.Current);\n</code></pre>\n\n<p>but I'm not able to bind the List to the RibbonApplicationMenu.</p>\n\n<pre><code>                   &lt;RibbonApplicationMenu.AuxiliaryPaneContent&gt;\n                    &lt;RibbonGallery CanUserFilter=\"False\" ScrollViewer.VerticalScrollBarVisibility=\"Auto\" &gt;\n                        &lt;RibbonGalleryCategory Header=\"Recent Documents\" Background=\"Transparent\" &gt;\n                            &lt;JumpList JumpList=\"{Binding JumpList}\"/&gt;\n                        &lt;/RibbonGalleryCategory&gt;\n                    &lt;/RibbonGallery&gt;\n                &lt;/RibbonApplicationMenu.AuxiliaryPaneContent&gt;\n</code></pre>\n\n<p>What can I do to get a recent list into my RibbonApplicationMenu without creating my own List.</p>\n\n<p>EDIT</p>\n\n<p>I'm doing this in my MainWpf constructor.</p>\n\n<pre><code>        JumpList pJumpList = JumpList.GetJumpList(Application.Current);\n        pJumpList.ShowFrequentCategory = false;\n        pJumpList.ShowRecentCategory = true;\n\n        foreach (var item in this.pJumpList.JumpItems)\n        {\n            JumpPath path = item as JumpPath;\n            this.JumpListCollection.Add(path.Path);\n        }\n</code></pre>\n\n<p>I would like to the current recent item from the Jumplist in the RibbonMenu</p>\n\n<p><img src=\"https://i.stack.imgur.com/Nbgu9.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/tBOCe.png\" alt=\"enter image description here\"></p>\n\n<p>This recent items are created by Windows not from code in my application</p>\n"}, {"tags": ["c#", "class", "instance"], "comments": [{"owner": {"reputation": 21184, "user_id": 261050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51dd28e87337135e9e9d08ad26c2fdc?s=128&d=identicon&r=PG", "display_name": "Maarten", "link": "https://stackoverflow.com/users/261050/maarten"}, "edited": false, "score": 0, "creation_date": 1423080494, "post_id": 28330439, "comment_id": 45008094, "body": "Try a ConcurrentDictionary and use the GetOrAdd method to retrieve an item (and create if necessary)."}], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": true, "score": 1, "last_activity_date": 1423080664, "creation_date": 1423080664, "answer_id": 28330539, "question_id": 28330439, "link": "https://stackoverflow.com/questions/28330439/use-variable-value-to-check-if-particular-instance-exists-if-not-create-it/28330539#28330539", "title": "Use variable value to check if particular instance exists, if not - create it", "body": "<p>It seems like you're trying to create individual variables <code>pic1</code>, <code>pic2</code>, etc.  you'd be better off using a dictionary:</p>\n\n<pre><code>Dictionary&lt;int, Pic&gt; pics = new Dictionary&lt;int, Pic&gt;();\n\npublic void doStuffWithImage(int picNumber) {\n    // Check if instance called pic + picNumber exists\n    if(!pics.ContainsKey(picNumber)) {\n        // Create an instance\n        pics[picNumber] = new Pic();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1423080667, "creation_date": 1423080667, "answer_id": 28330541, "question_id": 28330439, "link": "https://stackoverflow.com/questions/28330439/use-variable-value-to-check-if-particular-instance-exists-if-not-create-it/28330541#28330541", "title": "Use variable value to check if particular instance exists, if not - create it", "body": "<p>You need to create a \"registry\" of known <code>Pic</code>s. <code>DIctionary&lt;int,Pic&gt;</code> would be good collection to hold this registry. You need to store the registry itself somewhere - perhaps in the \"factory\" object that registers your pictures.</p>\n\n<pre><code>class PicFactory {\n    private readonly IDictionary&lt;int,Pic&gt; knownPics = new Dictionary&lt;int,Pic&gt;();\n    public Pic GetOrCreate(int id) {\n        Pic res;\n        if (knownPics.TryGetValue(id, out res)) {\n            return res;\n        }\n        res = new Pic(id.ToString()); // This assumes that Pic(string) exists\n        knownPics.Add(id, res);\n        return res;\n    }\n}\n</code></pre>\n\n<p>This way of implementing a registry may be too primitive for your purposes - for example, if you need your registry to be concurrent, you would need to set up some sort if a locking scheme to protect the <code>knownPics</code> dictionary. The class that accesses pictures would need to create an instance of <code>PicFactory</code>, so that it could access pictures through the <code>GetOrCreate(id)</code> call.</p>\n"}, {"tags": [], "owner": {"reputation": 59217, "user_id": 156695, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3390f053c9414f150c48f700afaa3e7a?s=128&d=identicon&r=PG", "display_name": "Tigran", "link": "https://stackoverflow.com/users/156695/tigran"}, "is_accepted": false, "score": 0, "last_activity_date": 1423080700, "creation_date": 1423080700, "answer_id": 28330551, "question_id": 28330439, "link": "https://stackoverflow.com/questions/28330439/use-variable-value-to-check-if-particular-instance-exists-if-not-create-it/28330551#28330551", "title": "Use variable value to check if particular instance exists, if not - create it", "body": "<p>If you are using <code>.net 4.0</code> or more you can use <a href=\"https://msdn.microsoft.com/en-us/library/dd642331(v=vs.110).aspx\" rel=\"nofollow\">Lazy</a> type which: </p>\n\n<blockquote>\n  <p>Provides support for lazy initialization.</p>\n</blockquote>\n\n<p>Which means that the object will be constructed not in the moment of declaration, but when first accessed. </p>\n\n<p>So you can basically declare them like </p>\n\n<pre><code>List&lt;Lazy&lt;Pic&gt;&gt; ....\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9793, "user_id": 2391169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b9c6b03a46672d5698ec565319c072?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2391169/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1423080737, "creation_date": 1423080737, "answer_id": 28330562, "question_id": 28330439, "link": "https://stackoverflow.com/questions/28330439/use-variable-value-to-check-if-particular-instance-exists-if-not-create-it/28330562#28330562", "title": "Use variable value to check if particular instance exists, if not - create it", "body": "<p>See <a href=\"https://msdn.microsoft.com/en-us/library/dd642331%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>Lazy&lt;T&gt;</code></a> and the Lazy Loading Pattern in general - this is actually a common optimization technique as it defers what can add up to a lot at startup to microdelays during runtime.</p>\n\n<p>Be wary about making sure the microdelays are worth it, and I advise leaving methods about which can force loading.</p>\n\n<p>If you're grabbing from a <em>list</em>, preface with a <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb534972%28v=vs.100%29.aspx\" rel=\"nofollow\"><code>.Any</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/bhkz42b3%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>.Contains</code></a> check, and since you're looking up by name like that, consider using a <a href=\"https://msdn.microsoft.com/en-us/library/xfhwa508%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>Dictionary</code></a> instead</p>\n"}], "owner": {"reputation": 307, "user_id": 1967124, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220d81735d945373db10ca056523d7d9?s=128&d=identicon&r=PG", "display_name": "linurb", "link": "https://stackoverflow.com/users/1967124/linurb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 28330539, "answer_count": 4, "score": 0, "last_activity_date": 1423080737, "creation_date": 1423080306, "question_id": 28330439, "link": "https://stackoverflow.com/questions/28330439/use-variable-value-to-check-if-particular-instance-exists-if-not-create-it", "title": "Use variable value to check if particular instance exists, if not - create it", "body": "<p>I have a list of images like this:</p>\n\n<pre><code>public List&lt;Image&gt; imageList = new List&lt;Image&gt;();\n</code></pre>\n\n<p>I also have a picture class in order to collect and manipulate data about the images in the list:</p>\n\n<pre><code>public Class Pic {\n    // properties and stuff\n}\n</code></pre>\n\n<p>And then I have a function that takes an integer as an argument. That integer corresponds to an image in the image list. What I want to do in the function is to check if an instance of the Pic class has been created for that particular image. If not, I want to create it, using the value of the variable passed into the function. The following code obviously doesn't work, but it shows what I want:</p>\n\n<pre><code>public void doStuffWithImage(int picNumber) {\n    // Check if instance called pic + picNumber exists\n    if(pic + picNumber.toString() == null) {\n        // Create an instance\n        Pic pic + picNumber.toString() = new Pic();\n    }\n}\n</code></pre>\n\n<p>Suggestions on how to accomplish this?</p>\n"}, {"tags": ["c#", "c++", "multithreading", "exception", "dllimport"], "comments": [{"owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 1, "creation_date": 1423080667, "post_id": 28330422, "comment_id": 45008208, "body": "Show how you call the function."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1423081086, "post_id": 28330422, "comment_id": 45008461, "body": "Perhaps you aren&#39;t allowed to call the function from a thread other than the main thread. You should work this out by writing some C++ code so that you are sure that the p/invoke is not confounding. I mean, if the p/invoke is wrong, how can you expect us to help? You only showed one half of the interface."}, {"owner": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "edited": false, "score": 0, "creation_date": 1423081344, "post_id": 28330422, "comment_id": 45008579, "body": "the problem is that i don&#39;t have access to the code inside the dll its a part of project that i am doing for a startup company. i can say that i worked with a Similar function within the same dll and it worked fine under the same workflow."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1423081975, "post_id": 28330422, "comment_id": 45008892, "body": "You may as well give up if you don&#39;t know the interface. Or do you mean you don&#39;t have the implementation. If you have the interface, can&#39;t we see it?"}, {"owner": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "edited": false, "score": 0, "creation_date": 1423082619, "post_id": 28330422, "comment_id": 45009254, "body": "i added the interface, and you are  right i dont have the implementation."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "edited": false, "score": 0, "creation_date": 1423083271, "post_id": 28331162, "comment_id": 45009616, "body": "are you sure it should be &quot;Out&quot; insted of &quot;In&quot; before the &quot;MarshalAs&quot; ?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "edited": false, "score": 0, "creation_date": 1423083350, "post_id": 28331162, "comment_id": 45009671, "body": "I&#39;ve no idea. That&#39;s a question that you need to answer! Which way does the data flow?"}, {"owner": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "edited": false, "score": 0, "creation_date": 1423083832, "post_id": 28331162, "comment_id": 45009904, "body": "ok, i got it sorry its &quot;In&quot; sensors is passed into the function. how can i pass a null pointer to the last to integers address?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "edited": false, "score": 0, "creation_date": 1423084957, "post_id": 28331162, "comment_id": 45010470, "body": "You cant pass null to a C++ reference"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "edited": false, "score": 0, "creation_date": 1423086111, "post_id": 28331162, "comment_id": 45011082, "body": "If it is int* rather than int&amp; then you can declare params as IntPtr and pass IntPtr.Zero. I sense confusion though. Perhaps on the part of the dll developer."}], "tags": [], "owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "is_accepted": false, "score": 0, "last_activity_date": 1423083326, "last_edit_date": 1423083326, "creation_date": 1423082996, "answer_id": 28331162, "question_id": 28330422, "link": "https://stackoverflow.com/questions/28330422/system-access-violation-exception-while-calling-c-function-from-a-thread-in-c/28331162#28331162", "title": "system.access.violation exception while calling c++ function from a thread in c#", "body": "<blockquote>\n  <p>I am not passing the two last arguments (<code>int&amp;</code>) as agreed with the man who wrote the DLL.</p>\n</blockquote>\n\n<p>Well, there's the problem. You cannot omit parameters. It should be:</p>\n\n<pre><code>[DllImport(@\"eyeWhere.dll\", CallingConvention = CallingConvention.Cdecl, \n    CharSet = CharSet.Unicode)]\npublic static extern int Eye_GetPositionS(\n    string filename, \n    [In, MarshalAs(UnmanagedType.LPArray, SizeConst = 9)] \n    double[] sensors,\n    ref int map_x,\n    ref int map_y\n);\n</code></pre>\n\n<p>You simply cannot omit these parameters, no matter what the guy who wrote the DLL says. Perhaps he means that the parameters are really <code>int*</code> and you can pass <code>nullptr</code>.</p>\n\n<p>I've used <code>ref</code> for these parameters, but perhaps they should be <code>out</code>. You presumably know which is appropriate. </p>\n\n<p>Likewise I'm guessing at the intent of the <code>sensors</code> parameter. If the data flows out rather than in, then use <code>Out</code>. If the data flows in both directions, use <code>[In, Out, ...]</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 4350000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5530d16cbd8695ec511f8d7c166844b0?s=128&d=identicon&r=PG", "display_name": "Elad Yona", "link": "https://stackoverflow.com/users/4350000/elad-yona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 572, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1423083326, "creation_date": 1423080233, "last_edit_date": 1423082539, "question_id": 28330422, "link": "https://stackoverflow.com/questions/28330422/system-access-violation-exception-while-calling-c-function-from-a-thread-in-c", "title": "system.access.violation exception while calling c++ function from a thread in c#", "body": "<p>i am importing c++ function from a dll to my winform c# app:</p>\n\n<pre><code>[DllImport(@\"eyeWhere.dll\", CallingConvention = CallingConvention.Cdecl, CharSet = CharSet.Unicode)]\npublic static extern int Eye_GetPositionS(string filename, [MarshalAs(UnmanagedType.LPArray, SizeConst = 9)] double[] sensors);\n</code></pre>\n\n<p>when i call the function from the constructor its working fine.</p>\n\n<p>the problem is when i am calling it from a new thread opened within the<br>\n\"fleck websocket server\" <a href=\"https://github.com/statianzo/Fleck\" rel=\"nofollow\">Fleck</a>, \"onMessage\" Action,<br>\nthen it throws the \"system.access.violation\" exception.</p>\n\n<p>i managed to narrow down the problem to the double array that i am passing,\nit seems like the pointer to it is corrupted.</p>\n\n<p>i cant find the source of the problem one thing is sure the function from the dll is working as i tested it.  </p>\n\n<p>function call(two stages):</p>\n\n<ol>\n<li>open new thread within \"fleck\":</li>\n</ol>\n\n<p><code>socket.OnMessage = message =&gt;\n            {Thread locationThread = new Thread( unused =&gt; processLocation(fileName,socket,sensorsList,sensors) );\n                                locationThread.Start();}</code></p>\n\n<ol start=\"2\">\n<li>the actual function:</li>\n</ol>\n\n<p><code>private void processLocation(string fileName, IWebSocketConnection sock, List&lt;Sensor&gt; sensorsList, double[] sensors)\n        { \n           int map_position = Eye_GetPositionS(fileName,sensors);<br>\n                string locationString = \"floor:1,mx:\" + (map_position / 10000) +    \",my:\" + (map_position % 10000);\n                // send location string to user\n                sock.Send(LOCATION_CODE + \"-\" + locationString);}</code></p>\n\n<p>the interface is:</p>\n\n<p><code>extern \"C\" __declspec(dllexport) int Eye_GetPositionS(const wchar_t *fname_mob, double sensors[9], int &amp;map_x, int &amp;map_y)</code> </p>\n\n<p>i am not passing the two last arguments (int&amp;) as agreed with the man who wrote the dll. </p>\n"}, {"tags": ["c#", "linq", "entity-framework", "serialization", "workflow-foundation"], "answers": [{"tags": [], "owner": {"reputation": 1027, "user_id": 1231781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AZGnl.jpg?s=128&g=1", "display_name": "nikeaa", "link": "https://stackoverflow.com/users/1231781/nikeaa"}, "is_accepted": true, "score": 0, "last_activity_date": 1423245373, "creation_date": 1423245373, "answer_id": 28371852, "question_id": 28330313, "link": "https://stackoverflow.com/questions/28330313/windows-workflow-serialization-error/28371852#28371852", "title": "Windows Workflow Serialization Error", "body": "<p>It turned out to be that I was unintentionally returning an EF class from a code activity. The Type that the error was complaining about was a property of the EF class that was being returned, so that is what made it difficult to find.</p>\n"}], "owner": {"reputation": 1027, "user_id": 1231781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/AZGnl.jpg?s=128&g=1", "display_name": "nikeaa", "link": "https://stackoverflow.com/users/1231781/nikeaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 28371852, "answer_count": 1, "score": 0, "last_activity_date": 1423245373, "creation_date": 1423079901, "question_id": 28330313, "link": "https://stackoverflow.com/questions/28330313/windows-workflow-serialization-error", "title": "Windows Workflow Serialization Error", "body": "<p>I am debugging a Windows Workflow workflow. The workflow has a two ReceiveSendReply activities in it. The first one is working as expected. When the second Receive is executed I get the following error:</p>\n\n<p>Exception:Thrown: \"Type 'System.Data.Linq.EntitySet<code>1[DataType]' cannot be serialized. \nConsider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute.<br>\nIf the type is a collection, consider marking it with the CollectionDataContractAttribute.<br>\nSee the Microsoft .NET Framework documentation for other supported types.\" (System.Runtime.Serialization.InvalidDataContractException)\nA System.Runtime.Serialization.InvalidDataContractException was thrown: \"Type 'System.Data.Linq.EntitySet</code>1[DataType]' cannot be serialized. \nConsider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute.<br>\nIf the type is a collection, consider marking it with the CollectionDataContractAttribute.  See the Microsoft .NET Framework documentation for other supported types.\"</p>\n\n<p>The type 'DataType' is a class generated by EntityFramework and is not even used in the workflow. I don't understand what this message is trying to tell me, so I really don't even know where to start debugging it.</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c#", "sockets", "tcp", "client", "server"], "comments": [{"owner": {"reputation": 14506, "user_id": 2345956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTXGP.jpg?s=128&g=1", "display_name": "EZI", "link": "https://stackoverflow.com/users/2345956/ezi"}, "edited": false, "score": 2, "creation_date": 1423087763, "post_id": 28330302, "comment_id": 45011927, "body": "1 - You <i>accept</i> a client and then start a loop. this means you can not accept a second client at the same time. So it is a server for a single client at a time 2-  You read using <code>networkStream.Read</code> but never check the return value. It can be anything between 0 to <i>clientSocket.ReceiveBufferSize</i>. Same problem also exists at client side code."}, {"owner": {"reputation": 14506, "user_id": 2345956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTXGP.jpg?s=128&g=1", "display_name": "EZI", "link": "https://stackoverflow.com/users/2345956/ezi"}, "edited": false, "score": 1, "creation_date": 1423089158, "post_id": 28330302, "comment_id": 45012546, "body": "BTW: <code>server gets connect but client does not connect to server</code> doesn&#39;t mean anything to me. There are no grey tones here, A client can either connect to server or not (and if it is connected, than both ends are sure about it). That is all."}, {"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1423111407, "post_id": 28330302, "comment_id": 45018765, "body": "As EZI points out, the wording of your question doesn&#39;t make sense. What does it mean for the server to connect but the client not to? Note you have other bugs: not checking receive byte count in client, for example. Also, it&#39;s pointless to call <code>NetworkStream.Flush()</code>. The method does nothing. Please edit your question so that it&#39;s clear what you are asking. See <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "owner": {"reputation": 39, "user_id": 2508305, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5fdf5d38e2fc33ac83cf204fbe2eeb80?s=128&d=identicon&r=PG", "display_name": "amadeus", "link": "https://stackoverflow.com/users/2508305/amadeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 930, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1470328946, "creation_date": 1423079874, "last_edit_date": 1470328946, "question_id": 28330302, "link": "https://stackoverflow.com/questions/28330302/server-client-tcp-socket-programming", "title": "Server-Client TCP socket programming", "body": "<p>I'm trying to make a simple server-client socket program. Where they both could send messages to each other? I have server and client classes and when I try to run them, server gets connect but client does not connect to server. Here are my codes.</p>\n\n<h2>Server class</h2>\n\n<pre><code>static void Main(string[] args)\n{\n    System.Net.IPAddress IPAd = new System.Net.IPAddress(0);\n    TcpListener serverSocket = new TcpListener(IPAd,8888);\n    int requestCount = 0;\n    TcpClient clientSocket = default(TcpClient);\n    serverSocket.Start();\n    Console.WriteLine(\" &gt;&gt; Server Started\");\n    clientSocket = serverSocket.AcceptTcpClient();\n    Console.WriteLine(\" &gt;&gt; Accept connection from client\");\n    requestCount = 0;\n\n    while ((true))\n    {\n        try\n        {\n            requestCount = requestCount + 1;\n            NetworkStream networkStream = clientSocket.GetStream();\n            byte[] bytesFrom = new byte[10025];\n            networkStream.Read(bytesFrom, 0, (int)clientSocket.ReceiveBufferSize);\n            string dataFromClient = System.Text.Encoding.ASCII.GetString(bytesFrom);\n            dataFromClient = dataFromClient.Substring(0, dataFromClient.IndexOf(\"$\"));\n            Console.WriteLine(\" &gt;&gt; Data from client - \" + dataFromClient);\n            string serverResponse = \"Last Message from client\" + dataFromClient;\n            Byte[] sendBytes = Encoding.ASCII.GetBytes(serverResponse);\n            networkStream.Write(sendBytes, 0, sendBytes.Length);\n            networkStream.Flush();\n            Console.WriteLine(\" &gt;&gt; \" + serverResponse);\n        }\n        catch (Exception ex)\n        {\n            Console.WriteLine(ex.ToString());\n        }\n    }\n\n    clientSocket.Close();\n    serverSocket.Stop();\n    Console.WriteLine(\" &gt;&gt; exit\");\n    Console.ReadLine();\n}\n</code></pre>\n\n<h2>Client class</h2>\n\n<pre><code>public partial class Form1 : Form\n{\n    System.Net.Sockets.TcpClient clientSocket = new System.Net.Sockets.TcpClient();\n\n    public Form1()\n    {\n        InitializeComponent();\n    }\n\n    private void Form1_Load(object sender, EventArgs e)\n    {\n        msg(\"Client Started\");\n        clientSocket.Connect(\"127.0.0.1\", 8888);\n        label1.Text = \"Client Socket Program - Server Connected ...\";\n    }\n\n    private void SendMessage_Click(object sender, EventArgs e)\n    {\n        NetworkStream serverStream = clientSocket.GetStream();\n        byte[] outStream = System.Text.Encoding.ASCII.GetBytes(textBox2.Text + \"$\");\n        serverStream.Write(outStream, 0, outStream.Length);\n        serverStream.Flush();\n\n        byte[] inStream = new byte[10025];\n        serverStream.Read(inStream, 0, (int)clientSocket.ReceiveBufferSize);\n        string returndata = System.Text.Encoding.ASCII.GetString(inStream);\n        msg(returndata);\n        textBox2.Text = \"\";\n        textBox2.Focus();\n    }\n\n    public void msg(string mesg)\n    {\n        textBox1.Text = textBox1.Text + Environment.NewLine + \" &gt;&gt; \" + mesg;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "vb.net", "windows", "printing"], "comments": [{"owner": {"reputation": 8789, "user_id": 1348647, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Gt5Hc.jpg?s=128&g=1", "display_name": "OneFineDay", "link": "https://stackoverflow.com/users/1348647/onefineday"}, "edited": false, "score": 0, "creation_date": 1423079976, "post_id": 28330298, "comment_id": 45007790, "body": "That sounds malicious."}, {"owner": {"reputation": 1993, "user_id": 742686, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iS9er.jpg?s=128&g=1", "display_name": "nograde", "link": "https://stackoverflow.com/users/742686/nograde"}, "reply_to_user": {"reputation": 8789, "user_id": 1348647, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Gt5Hc.jpg?s=128&g=1", "display_name": "OneFineDay", "link": "https://stackoverflow.com/users/1348647/onefineday"}, "edited": false, "score": 0, "creation_date": 1423080120, "post_id": 28330298, "comment_id": 45007869, "body": "i know :( we have hardware that can send a print job when the operation is &#39;complete&#39;. it also has the &#39;send email when complete&#39; option, but it requires outlook to be installed on every machine...we can print to file, but then i have to write an application to scan and clean up the filesystems."}, {"owner": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "edited": false, "score": 0, "creation_date": 1423080132, "post_id": 28330298, "comment_id": 45007879, "body": "This project sounds like one that will involve a lot of specialized domain knowledge.  That is, this isn&#39;t a general-purpose software project.  Even if you were to luck out and find an experienced printer driver expert here on SO, the likelihood that he/she could communicate enough to get you going in this QA format is very low."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 8041, "user_id": 1771817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/zeTmI.jpg?s=128&g=1", "display_name": "adv12", "link": "https://stackoverflow.com/users/1771817/adv12"}, "edited": false, "score": 0, "creation_date": 1423080510, "post_id": 28330298, "comment_id": 45008104, "body": "@adv12: Kernel driver not required... the question already knew the better alternative of simulating a network-attached printer by accepting TCP traffic."}, {"owner": {"reputation": 1993, "user_id": 742686, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iS9er.jpg?s=128&g=1", "display_name": "nograde", "link": "https://stackoverflow.com/users/742686/nograde"}, "edited": false, "score": 0, "creation_date": 1423080526, "post_id": 28330298, "comment_id": 45008116, "body": "you are probably right about the QA format, but i feel like the question is still valuable enough to have been asked even if the conclusion is &#39;too complicated&#39;.....i updated my post to reflect another SO post i found... with some notes about an idea."}], "owner": {"reputation": 1993, "user_id": 742686, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/iS9er.jpg?s=128&g=1", "display_name": "nograde", "link": "https://stackoverflow.com/users/742686/nograde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "closed_date": 1423080560, "answer_count": 0, "score": 0, "last_activity_date": 1423089028, "creation_date": 1423079860, "last_edit_date": 1495535190, "question_id": 28330298, "link": "https://stackoverflow.com/questions/28330298/implementing-a-fake-printer-in-net", "closed_reason": "Duplicate", "title": "Implementing a &#39;fake printer&#39; in .NET", "body": "<p>Sorry for the vague nature of the question. I would like to have a service (on a server(windows)) broadcast itself as a printer, or listen for connections on a TCP port. I would then like to be able to 'add' my service as a printer to client machines. When client machines print to my service, I would like to read the data, then send an email with its contents out to myself. Then send a message back to the client saying 'print successful'.</p>\n\n<p>So what advice do you have, and/or what terms would I google to get started?</p>\n\n<p>thanks!</p>\n\n<p>[update]\nhere is a SO link: <a href=\"https://stackoverflow.com/questions/257768/writing-a-virtual-printer-in-net\">Writing a Virtual Printer in .NET</a></p>\n\n<p>the answer from Douglas Anderson was intriguing, but is it really plausible?</p>\n\n<blockquote>\n  <p>You could simply have your app expose itself like an LPD type printer\n  or  monitor port 9100. You could then install any print driver you\n  like, and point it a your app.</p>\n</blockquote>\n\n<p>[update2]</p>\n\n<p>I've setup a printer on my local machine using LDP on port 55555 with the Generic / Text Only driver provided by Windows. Lets assume I have a TCP service listening on that port running. lets assume i successfully retrieve the data package from the printer.</p>\n\n<p>How do I extract normal ascii text from the data package, and then let the sending device know that the print job was successful?</p>\n"}, {"tags": ["c#", "windows-phone-8.1"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423080018, "post_id": 28330293, "comment_id": 45007809, "body": "are you possibly able to debug the code and report back on where the flaws are happening or if there are any error / exceptions..? if so what line(s) are the errors happening..?"}, {"owner": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423080066, "post_id": 28330293, "comment_id": 45007837, "body": "There are no errors or exceptions. The images are simply not appearing. Is there maybe a way to visually display the grids so I can see if they&#39;re being created or not? EDIT: So the rows ARE being created. The images are just not displaying."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423080890, "post_id": 28330293, "comment_id": 45008346, "body": "what if you were to test this with out using await and async..? I think that perhaps you would need some sort of callback but I could be wrong"}, {"owner": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423081386, "post_id": 28330293, "comment_id": 45008603, "body": "I wouldn&#39;t even know where to start with that. Like I said, I&#39;m completely new to C# and WP. Everything I&#39;ve done so far is pretty much just snippets of code I&#39;ve seen online and I&#39;ve Frankensteined it together to try and make it work. It also seems all the file reads are asynchronous so I might have to use async and await."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423081960, "post_id": 28330293, "comment_id": 45008881, "body": "I personally would try to do this in a winforms application first then once you get it working try converting your code over to use <code>await Task</code> type code / functions"}], "answers": [{"comments": [{"owner": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "edited": false, "score": 0, "creation_date": 1423084440, "post_id": 28331346, "comment_id": 45010223, "body": "Should I be creating the ListView and WrapGrid programatically or through XAML?"}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "reply_to_user": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "edited": false, "score": 0, "creation_date": 1423084590, "post_id": 28331346, "comment_id": 45010297, "body": "Absolutely through XAML, give me a couple of minutes and I will edit my answer with a code example :)"}, {"owner": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "edited": false, "score": 0, "creation_date": 1423085111, "post_id": 28331346, "comment_id": 45010550, "body": "Oh god thanks so much for that but it seems that this stuff is way over my head... I may have to go back and just start with a simpler project to understand the basics or just read up on what this stuff even means."}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "reply_to_user": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "edited": false, "score": 0, "creation_date": 1423085503, "post_id": 28331346, "comment_id": 45010746, "body": "Yeah I know what you mean, I started coding on WP8 last year and my first app was basically a blank page with a single button: you pressed that and you got &quot;Hello world&quot; displayed on a TextBlock ahahahahahah"}, {"owner": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "edited": false, "score": 0, "creation_date": 1423085766, "post_id": 28331346, "comment_id": 45010897, "body": "I&#39;ve gotten that far at least :P Do you think you could provide me with the resources you used to learn WP8? Also did you know C# prior to WP8 development?"}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "reply_to_user": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "edited": false, "score": 0, "creation_date": 1423086453, "post_id": 28331346, "comment_id": 45011265, "body": "No, I learned C# and XAML together when studying WP8 development. Before that, I only knew how to write in C and Python since I studied those last year at university. I didn&#39;t use any resource in particular, I just read a <i>lot</i> of stuff on MSDN (you have every single class and API explained with code examples and stuff) and here on StackOverflow, the rest was just spending hours and hours coding untile I got better :)"}, {"owner": {"reputation": 21144, "user_id": 4068779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0Hsj.png?s=128&g=1", "display_name": "Rob Caplan - MSFT", "link": "https://stackoverflow.com/users/4068779/rob-caplan-msft"}, "edited": false, "score": 1, "creation_date": 1423200988, "post_id": 28331346, "comment_id": 45061282, "body": "Data binding to an ItemsControl is the right idea, but the details here are a bit off. A GridView is a more natural choice than a ListView with a customized panel, and disabling virtualization is a bad idea for a large collection. I also don&#39;t understand the very strong stance taken against setting columns and rows via SetValue (the two forms are equivalent except for style) or why dynamically adding rows &amp; columns would require additional calculations (nothing if added at the end, and a new layout is required either way if added in the beginning or middle)"}, {"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "edited": false, "score": 0, "creation_date": 1423217727, "post_id": 28331346, "comment_id": 45068437, "body": "Hello, thanks for your comment :) You&#39;re right, you don&#39;t have to edit the previous idexes when adding a new element, I was thinking about removing them ahahahah As for the Grid.SetColumn part, I said that just because using the Grid method seemed more straightforward, even if they both do the same thing. As for the ListView instead of the GridView, I didn&#39;t know there were many differences between the two, I used a ListView as I imagined his images collection to be scrolled vertically. I&#39;ll have to do some research about the GrivView control :D"}], "tags": [], "owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "is_accepted": true, "score": 1, "last_activity_date": 1423310718, "last_edit_date": 1423310718, "creation_date": 1423083645, "answer_id": 28331346, "question_id": 28330293, "link": "https://stackoverflow.com/questions/28330293/am-i-creating-this-grid-properly/28331346#28331346", "title": "Am I creating this grid properly?", "body": "<p>First thing, <s>don't use:</s></p>\n\n<pre><code>imageblock.SetValue(Grid.ColumnProperty, Count % 3);\n</code></pre>\n\n<p><s>And use instead</s> is equivalent to</p>\n\n<pre><code>Grid.SetColumn(imageblock, Count % 3);\n</code></pre>\n\n<p>and the second one looks more straightforward to use in my opinion :)</p>\n\n<p>Second thing, dinamically adding new rows and columns is not a good idea: you'd have to update <em>all</em> the column and row indexes of all your images every time you <s>add a new row / column</s> delete an item from your collection.\nTry using a ListView, bind the source to an observable collection and use an Horizontal WrapGrid inside the ListView.\nThen simply create your own DataTemplate with an image, Bind its source to each element of your ObservableCollection and you're up :)</p>\n\n<p>You'll be able to add new images without worrying about the layout and the Grid indexes.</p>\n\n<p>EDIT: This is the general idea, in XAML</p>\n\n<pre><code>&lt;ListView ItemsSource=\"{Binding Source}\"\n          ItemTemplate=\"{StaticResource ImageTemplate}\"                  \n    &lt;ListView.ItemsPanel&gt;\n        &lt;ItemsPanelTemplate&gt;\n            &lt;WrapGrid Orientation=\"Horizontal\"/&gt;\n        &lt;/ItemsPanelTemplate&gt;\n    &lt;/ListView.ItemsPanel&gt;\n&lt;/ListView&gt;\n</code></pre>\n\n<p>Or as Rob Caplan said, you can use a GridView, the end result is almost the same.</p>\n\n<p>Then in your Page.Resources part, something like:</p>\n\n<pre><code>&lt;DataTemplate x:Key=\"ImageTemplate\"&gt;\n    &lt;Grid Margin=\"5,5,5,0\" Height=\"45\" Width=\"45\"&gt;\n        &lt;Image Source=\"{Binding}\"/&gt;\n    &lt;/Grid&gt;\n&lt;/DataTemplate&gt;\n</code></pre>\n\n<p>Then you have to create a class that implements INotyfyPropertyChanged, create an instance in your page constructor and assign it to your DataContext.</p>\n\n<p>Inside that class, you'll have something like this:</p>\n\n<pre><code>private ObservableCollection&lt;ImageSource&gt; _Source = new ObservableCollection&lt;ImageSource&gt;();\n\npublic ObservableCollection&lt;ImageSource&gt; Source\n{\n    get\n    {\n        return this._Source;\n    }\n    set\n    {\n        if (this._Source != value)\n        {\n            this._Source = value;\n            this.OnPropertyChanged();\n        }\n    }\n}\n</code></pre>\n\n<p>Now the ListView will get the source collection from that Property in your ViewModel, and since the Source Property is an ObservableColleciton, every time you add an item the ListView will be notified and it will update its layout :)</p>\n"}, {"comments": [{"owner": {"reputation": 4005, "user_id": 3813976, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/zUdY0.png?s=128&g=1", "display_name": "Sergio0694", "link": "https://stackoverflow.com/users/3813976/sergio0694"}, "edited": false, "score": 0, "creation_date": 1423305197, "post_id": 28359689, "comment_id": 45101065, "body": "Oh, now I understand why you said a GridView would be better :) I used a ListView with the Horizontal WrapGrid orientation so that it&#39;d display the elements in the same way a GridView would, but I get that using a GridView from the beginning would be a better idea, thanks!"}], "tags": [], "owner": {"reputation": 21144, "user_id": 4068779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0Hsj.png?s=128&g=1", "display_name": "Rob Caplan - MSFT", "link": "https://stackoverflow.com/users/4068779/rob-caplan-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1423203506, "creation_date": 1423203506, "answer_id": 28359689, "question_id": 28330293, "link": "https://stackoverflow.com/questions/28330293/am-i-creating-this-grid-properly/28359689#28359689", "title": "Am I creating this grid properly?", "body": "<p>The reason the Images don't show up is that you don't add them to the Grid. After setting up the images add them to the MainGrid's Children and your code should work</p>\n\n<pre><code>MainGrid.Children.Add(imageblock);\n</code></pre>\n\n<p>Other that that your code is fine, although more complicated than necessary. As Sergio suggests you can simplify this greatly via data binding. Data binding will let you keep the data and the presentation separate: you can keep a collection of your images in the code and describe how they appear in the Xaml. </p>\n\n<p>If you create an ObservableCollection containing the BitmapImages from your camera roll you can then add to it as needed and the binding will automatically display the new images in the Xaml (the ObservableCollection implements the <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/xaml/windows.ui.xaml.interop.inotifycollectionchanged.aspx\" rel=\"nofollow\">INotifyCollectionChanged</a> magic to report when items are added or removed). You can also bind to multiple controls with different appearances. If you want just the images you can add them directly to the collection. More commonly you'll bind to a class with other data as well, for example you might include the image and its name.</p>\n\n<p>In Xaml you'll use an ItemsControl to display the collection. Since you want a grid the GridView is a good choice. If you want a List with each item in its own row then a ListView would be better. You can set an ItemTemplate to control how the images appear:</p>\n\n<pre><code>&lt;GridView ItemsSource=\"{Binding}\"&gt;\n    &lt;GridView.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;StackPanel&gt;\n                &lt;Image Source=\"{Binding Image}\" /&gt;\n                &lt;TextBlock Text=\"{Binding Name}\" /&gt;\n            &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/GridView.ItemTemplate&gt;            \n&lt;/GridView&gt;\n</code></pre>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/xaml/hh758320.aspx\" rel=\"nofollow\">Data binding overview (XAML)</a> on MSDN for more details                    </p>\n"}], "owner": {"reputation": 66, "user_id": 2159382, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9b66a2bdf239dc5026a3652e2912862a?s=128&d=identicon&r=PG&f=1", "display_name": "Link", "link": "https://stackoverflow.com/users/2159382/link"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 28331346, "answer_count": 2, "score": 0, "last_activity_date": 1423310718, "creation_date": 1423079846, "question_id": 28330293, "link": "https://stackoverflow.com/questions/28330293/am-i-creating-this-grid-properly", "title": "Am I creating this grid properly?", "body": "<p>I'm trying to create an app that (for now) looks through your camera roll and displays your images in a grid. I managed to get a single image to display initially, but when I tried to dynamically create grid rows, no images displayed. Can someone point out what I might be doing incorrectly and how to do this properly? I'm brand new to C# programming and Windows Phone Development so I apologize for the amateur question.</p>\n\n<pre><code>public async void PrintInformation()\n    {\n        try\n        {\n            TextBlock.Text = \"\";\n            IReadOnlyCollection&lt;StorageFile&gt; PicLib = await KnownFolders.CameraRoll.GetFilesAsync();\n            IEnumerator&lt;StorageFile&gt; PicLibEnum = PicLib.GetEnumerator();\n            Debug.WriteLine(PicLib.Count);\n            int Count = 0;\n            foreach (StorageFile Pic in PicLib)\n            {\n                if (Count % 3 == 0)\n                {\n                    Debug.WriteLine(\"Creating new row...\" + Count % 3);\n                    MainGrid.RowDefinitions.Add(new RowDefinition());\n                }\n                Image imageblock = new Image();\n                imageblock.SetValue(Grid.ColumnProperty, Count % 3);\n                imageblock.SetValue(Grid.RowProperty, Count / 3);\n                Debug.WriteLine(imageblock);\n                TextBlock.Text += Pic.Path + \"\\n\";\n                IRandomAccessStream PicStream = await Pic.OpenReadAsync();\n                BitmapImage Bmp = new BitmapImage();\n                await Bmp.SetSourceAsync(PicStream);\n                //Uri Uri = new Uri(Pic.Path, UriKind.Absolute);\n                //Bmp.UriSource = Uri;\n                imageblock.Source = Bmp;\n                //break;\n                Count++;\n            }\n        }\n        catch (Exception e)\n        {\n            TextBlock.Text = e.ToString();\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 16505, "user_id": 97382, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/5j1Z4.png?s=128&g=1", "display_name": "Craig W.", "link": "https://stackoverflow.com/users/97382/craig-w"}, "edited": false, "score": 3, "creation_date": 1423080059, "post_id": 28330282, "comment_id": 45007830, "body": "Provide examples of what you have tried and specific error messages you&#39;re getting. Asking people on SO to write your code for you is generally frowned upon and will get your question downvoted, closed, and deleted. Especially when it sounds an awful lot like an interview or homework question."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423080079, "post_id": 28330282, "comment_id": 45007844, "body": "<code>sounds like homework</code> also this is so simple that If you were to a google search you might slap yourself in the face by just how easy it is to type it in a google search..."}, {"owner": {"reputation": 1789, "user_id": 1188201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xooR5.png?s=128&g=1", "display_name": "Joe Brunscheon", "link": "https://stackoverflow.com/users/1188201/joe-brunscheon"}, "edited": false, "score": 0, "creation_date": 1423080217, "post_id": 28330282, "comment_id": 45007934, "body": "You said you tried to implement this, please show what you have tried thus far."}, {"owner": {"reputation": 41619, "user_id": 468973, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2cc51aa712c1621083ded100a2c1ef4b?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/468973/magnus"}, "edited": false, "score": 0, "creation_date": 1423080379, "post_id": 28330282, "comment_id": 45008029, "body": "Well, reverse it pretty easy: <code>&quot;123456&quot;.Reverse()</code>"}, {"owner": {"reputation": 607, "user_id": 4461797, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8be81d7860c39622879b9fd81abb8290?s=128&d=identicon&r=PG&f=1", "display_name": "DevyDev", "link": "https://stackoverflow.com/users/4461797/devydev"}, "edited": false, "score": 0, "creation_date": 1423080395, "post_id": 28330282, "comment_id": 45008036, "body": "First of all, not homework or smth, just for me. for first task I  tried this <b><a href=\"http://tipsandtricks.runicsoft.com/CSharp/StringReverse.html\" rel=\"nofollow noreferrer\">tipsandtricks.runicsoft.com/CSharp/StringReverse.html</a></b> and <b><a href=\"http://stackoverflow.com/questions/228038/best-way-to-reverse-a-string\" title=\"best way to reverse a string\">stackoverflow.com/questions/228038/best-way-to-reverse-a-str&zwnj;&#8203;ing</a></b> But as I said, I don&#39;t get the meanings, what each command do,  I am into this C# just ~3-2 days Edit: Even from what other people posted, I dont know what every single command means, its not enought just copy &amp; paste it for me. thanks for  minuses :)"}, {"owner": {"reputation": 5868, "user_id": 21418, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fddc11973b05ae9b9d69503bedf3da19?s=128&d=identicon&r=PG", "display_name": "Preston Guillot", "link": "https://stackoverflow.com/users/21418/preston-guillot"}, "reply_to_user": {"reputation": 41619, "user_id": 468973, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2cc51aa712c1621083ded100a2c1ef4b?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/468973/magnus"}, "edited": false, "score": 0, "creation_date": 1423080437, "post_id": 28330282, "comment_id": 45008065, "body": "@Magnus That doesn&#39;t give you a string."}, {"owner": {"reputation": 41619, "user_id": 468973, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2cc51aa712c1621083ded100a2c1ef4b?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/468973/magnus"}, "reply_to_user": {"reputation": 5868, "user_id": 21418, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fddc11973b05ae9b9d69503bedf3da19?s=128&d=identicon&r=PG", "display_name": "Preston Guillot", "link": "https://stackoverflow.com/users/21418/preston-guillot"}, "edited": false, "score": 0, "creation_date": 1423080649, "post_id": 28330282, "comment_id": 45008192, "body": "@PrestonGuillot Ok, I guess there is a little more to it. <code>new string(&quot;123456&quot;.Reverse().ToArray())</code>"}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1423080704, "post_id": 28330282, "comment_id": 45008228, "body": "this can be done even easier using a <code>List&lt;t&gt; and the Join() Mehtod</code>              <code>var lstRev = new List&lt;string&gt;()             {                 &quot;123456&quot;             };             var reverseString = string.Join(&quot;&quot;,lstRev[0].Reverse().ToList());</code>"}, {"owner": {"reputation": 607, "user_id": 4461797, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8be81d7860c39622879b9fd81abb8290?s=128&d=identicon&r=PG&f=1", "display_name": "DevyDev", "link": "https://stackoverflow.com/users/4461797/devydev"}, "edited": false, "score": 0, "creation_date": 1423080869, "post_id": 28330282, "comment_id": 45008321, "body": "mm.. I will need a while, to know if its working, i hope it does ,so thank you for help :)"}], "answers": [{"tags": [], "owner": {"reputation": 13109, "user_id": 3775079, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/cUoYM.jpg?s=128&g=1", "display_name": "Landeeyo", "link": "https://stackoverflow.com/users/3775079/landeeyo"}, "is_accepted": true, "score": 1, "last_activity_date": 1423080062, "creation_date": 1423080062, "answer_id": 28330356, "question_id": 28330282, "link": "https://stackoverflow.com/questions/28330282/net-c-reverse-and-string-int/28330356#28330356", "title": ".NET C# Reverse and String + int", "body": "<p>To reverse:</p>\n\n<pre><code>public static string Reverse( string s )\n{\n    char[] charArray = s.ToCharArray();\n    Array.Reverse( charArray );\n    return new string( charArray );\n}\n</code></pre>\n\n<p>To add:</p>\n\n<pre><code>string A = \"123\";\nint strA = int.Parse(A);\nstring result = (strA + 10).ToString();\n</code></pre>\n"}], "owner": {"reputation": 607, "user_id": 4461797, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8be81d7860c39622879b9fd81abb8290?s=128&d=identicon&r=PG&f=1", "display_name": "DevyDev", "link": "https://stackoverflow.com/users/4461797/devydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "closed_date": 1423080629, "accepted_answer_id": 28330356, "answer_count": 1, "score": -5, "last_activity_date": 1423080069, "creation_date": 1423079816, "question_id": 28330282, "link": "https://stackoverflow.com/questions/28330282/net-c-reverse-and-string-int", "closed_reason": "Not suitable for this site", "title": ".NET C# Reverse and String + int", "body": "<p>I have 2 tasks, on C#</p>\n\n<p>First is I need to reverse a string, I found some examples on google, this website but for some reason It didint worked out or I dont know how to use it correcly. Because I am very new at C#, just learning it.</p>\n\n<p>So first one, lets say i have a string <code>string A = \"123456\"</code>\nand what I need is to write a function to get an output <code>\"654321\"</code></p>\n\n<blockquote>\n  <p>If possible, when you give an answer, please be as detailed as possible, cuz this stuff, as I said said, is not easy for me right now :)</p>\n</blockquote>\n\n<p>Next task is  to make sum of string and int.\nLets say i have <code>string A = \"123</code>  and I would like to  + 10 \nso the output would be  <code>A = \"133\"</code></p>\n\n<p>Thank you all ! \nAnd again, pls, if you answering any of these, be detailed :)</p>\n"}, {"tags": ["c#", "recursion"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1423079858, "post_id": 28330263, "comment_id": 45007723, "body": "Run it in the debugger and see if the recursion is actually working."}, {"owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 2, "creation_date": 1423079940, "post_id": 28330263, "comment_id": 45007764, "body": "If <code>Question</code>s point to each other then this will never terminate."}, {"owner": {"reputation": 5769, "user_id": 712104, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5bba53f4248b06303525e038fd7b06d5?s=128&d=identicon&r=PG", "display_name": "AMH", "link": "https://stackoverflow.com/users/712104/amh"}, "edited": false, "score": 0, "creation_date": 1423079987, "post_id": 28330263, "comment_id": 45007794, "body": "aha got it , so how can solve such a problem ?"}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 2, "creation_date": 1423080063, "post_id": 28330263, "comment_id": 45007833, "body": "Keep a list of questions already traversed and do not process them again."}], "answers": [{"tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 2, "last_activity_date": 1423080514, "creation_date": 1423080514, "answer_id": 28330502, "question_id": 28330263, "link": "https://stackoverflow.com/questions/28330263/recursion-and-stackoverflow/28330502#28330502", "title": "Recursion and stackoverflow", "body": "<p>Since similarity is bi-directional, you need to keep a \"visited\" list and check against it:</p>\n\n<pre><code>List&lt;Question&gt; visited = new List&lt;Question&gt;();\n\npublic static IEnumerable&lt;T&gt; Traversal&lt;T&gt;(\n    T root,\n    Func&lt;T, IEnumerable&lt;T&gt;&gt; getChildren)\n{\n    if (root == null)\n    {\n        yield break;\n    }\n\n    //We visited this node!\n    visited.Add(root);\n\n    yield return root;\n\n    var children = getChildren(root);\n    if (children == null)\n    {\n        yield break;\n    }\n\n    //Don't re-visit nodes we have seen before!\n    foreach (var child in children.Except(visited))\n    {\n        foreach (var node in Traversal(child, getChildren))\n        {\n            yield return node;\n        }\n    }\n}\n</code></pre>\n\n<p>There are other ways to check against the visited list as well, but this will give you an idea of how to do it. Also, if this is being called multiple times, be sure to clear/instantiate the list before starting a new traversal!</p>\n"}], "owner": {"reputation": 5769, "user_id": 712104, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/5bba53f4248b06303525e038fd7b06d5?s=128&d=identicon&r=PG", "display_name": "AMH", "link": "https://stackoverflow.com/users/712104/amh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 28330502, "answer_count": 1, "score": 0, "last_activity_date": 1423080514, "creation_date": 1423079750, "question_id": 28330263, "link": "https://stackoverflow.com/questions/28330263/recursion-and-stackoverflow", "title": "Recursion and stackoverflow", "body": "<p>I have class like </p>\n\n<pre><code> public class Question\n    {\n        private readonly int questionID;\n                private List&lt;Question&gt; similarquestions; // Similarity is bidirectional\n}\n</code></pre>\n\n<p>to get all the nested classes I use recursion using method like </p>\n\n<pre><code>public static IEnumerable&lt;T&gt; Traversal&lt;T&gt;(\n    T root,\n    Func&lt;T, IEnumerable&lt;T&gt;&gt; getChildren)\n{\n    if (root == null)\n    {\n        yield break;\n    }\n\n    yield return root;\n\n    var children = getChildren(root);\n    if (children == null)\n    {\n        yield break;\n    }\n\n    foreach (var child in children)\n    {\n        foreach (var node in Traversal(child, getChildren))\n        {\n            yield return node;\n        }\n    }\n}\n</code></pre>\n\n<p>I use it like </p>\n\n<pre><code>var  classes = Traversal(movie, x =&gt; x.similarquestions)\n</code></pre>\n\n<p>but it give stackoverflow Exception any idea how to fix that please </p>\n"}, {"tags": ["c#", "android", "unity3d"], "answers": [{"comments": [{"owner": {"reputation": 2657, "user_id": 1428318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gHuGW.jpg?s=128&g=1", "display_name": "Sora", "link": "https://stackoverflow.com/users/1428318/sora"}, "edited": false, "score": 0, "creation_date": 1423081800, "post_id": 28330740, "comment_id": 45008804, "body": "i am sorry for the typing error <code>update</code> it was just a typing mistake , and thank you for the tip about the clarification and the code . i shall test it :)"}, {"owner": {"reputation": 3427, "user_id": 3283027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15630f2ff01674f46f07d1f5b28af40?s=128&d=identicon&r=PG&f=1", "display_name": "maZZZu", "link": "https://stackoverflow.com/users/3283027/mazzzu"}, "reply_to_user": {"reputation": 2657, "user_id": 1428318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gHuGW.jpg?s=128&g=1", "display_name": "Sora", "link": "https://stackoverflow.com/users/1428318/sora"}, "edited": false, "score": 0, "creation_date": 1423082557, "post_id": 28330740, "comment_id": 45009216, "body": "No problem. At least for me the code works on both Orthographic and Perspective camera."}], "tags": [], "owner": {"reputation": 3427, "user_id": 3283027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b15630f2ff01674f46f07d1f5b28af40?s=128&d=identicon&r=PG&f=1", "display_name": "maZZZu", "link": "https://stackoverflow.com/users/3283027/mazzzu"}, "is_accepted": false, "score": 2, "last_activity_date": 1423081401, "creation_date": 1423081401, "answer_id": 28330740, "question_id": 28330252, "link": "https://stackoverflow.com/questions/28330252/trying-to-keep-a-game-object-within-the-screen-left-and-right-bounds-in-unity3d/28330740#28330740", "title": "trying to keep a game object within the screen left and right bounds in unity3d", "body": "<p>Firstly your function is never called because there is typo in its name. It should be <code>Update</code> not <code>update</code>.</p>\n\n<p>Secondly the problem with coordinates is that the code is mixing screen coordinates and world coordinates. Screen coordinates go from <code>(0, 0)</code> to <code>(Screen.width, Screen.height)</code>. Coordinates can be changed from world coordinates to screen coordinates with <code>WorldToScreenPoint</code> and back with <code>ScreenToWorldPoint</code>, in which the Z value is the distance of the converted point from camera.</p>\n\n<p>Here is a complete code example, which can be used after changing the player's position to make sure that it is inside the screen area:</p>\n\n<pre><code>    Vector2 playerPosScreen = Camera.main.WorldToScreenPoint(transform.position);\n    if (playerPosScreen.x &gt; Screen.width)\n    {\n        transform.position = \n            Camera.main.ScreenToWorldPoint(\n                new Vector3(Screen.width, \n                            playerPosScreen.y, \n                            transform.position.z - Camera.main.transform.position.z));\n    }\n    else if (playerPosScreen.x &lt; 0.0f)\n    {\n        transform.position = \n            Camera.main.ScreenToWorldPoint(\n                new Vector3(0.0f, \n                            playerPosScreen.y, \n                            transform.position.z - Camera.main.transform.position.z));\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2657, "user_id": 1428318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gHuGW.jpg?s=128&g=1", "display_name": "Sora", "link": "https://stackoverflow.com/users/1428318/sora"}, "is_accepted": true, "score": 6, "last_activity_date": 1423172230, "creation_date": 1423172230, "answer_id": 28354535, "question_id": 28330252, "link": "https://stackoverflow.com/questions/28330252/trying-to-keep-a-game-object-within-the-screen-left-and-right-bounds-in-unity3d/28354535#28354535", "title": "trying to keep a game object within the screen left and right bounds in unity3d", "body": "<p>After some research i found a solution wish worked excellent with me : </p>\n\n<pre><code>Vector3 playerPosScreen;\nVector3 wrld;\nfloat half_szX;\nfloat half_szY;\nvoid Start () {\n    wrld = Camera.main.ScreenToWorldPoint(new Vector3(Screen.width, 0.0f, 0.0f));\n    half_szX = renderer.bounds.size.x / 2;\n    half_szY = renderer.bounds.size.y /2 ;\n}\nvoid Update () {\n    playerPosScreen = transform.position;\n if (playerPosScreen.x &gt;=(wrld.x-half_szX) ) {\n        playerPosScreen.x=wrld.x-half_szX;\n        transform.position=playerPosScreen;\n    }\n    if(playerPosScreen.x&lt;=-(wrld.x-half_szX)){\n        playerPosScreen.x=-(wrld.x-half_szX);\n        transform.position=playerPosScreen;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2657, "user_id": 1428318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/gHuGW.jpg?s=128&g=1", "display_name": "Sora", "link": "https://stackoverflow.com/users/1428318/sora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6168, "favorite_count": 0, "accepted_answer_id": 28354535, "answer_count": 2, "score": 1, "last_activity_date": 1600870553, "creation_date": 1423079702, "last_edit_date": 1600870553, "question_id": 28330252, "link": "https://stackoverflow.com/questions/28330252/trying-to-keep-a-game-object-within-the-screen-left-and-right-bounds-in-unity3d", "title": "trying to keep a game object within the screen left and right bounds in unity3d", "body": "<p>I have this code bellow for my gameobject :</p>\n\n<pre><code>private float screenx;\nVector3 playerPosScreen;\n void Start () {\n screenx=Camera.main.pixelWidth-renderer.bounds.size.x ;\n }\n\n void update(){\n  playerPosScreen = Camera.main.WorldToScreenPoint(transform.position);\n  if (playerPosScreen.x &gt;= screenx) {\n        //playerPosScreen.x=screenx;\n        transform.position=new Vector3 (screenx, transform.position.y,transform.position.z);\n    }\n    //txt.text = playerPosScreen.x.ToString();\n    else if(playerPosScreen.x&lt;=renderer.bounds.size.x){\n        transform.position=new Vector3 (renderer.bounds.size.x, transform.position.y,transform.position.z);\n    }\n }\n</code></pre>\n\n<p>I'm developing a <code>2D</code> game with an <code>orthographic</code> camera,my problem is the gameobject is keep on going out of screen , am i missing something here ?</p>\n"}, {"tags": ["c#", ".net", "expression", "expression-trees", "dsl"], "comments": [{"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1423079825, "post_id": 28330234, "comment_id": 45007704, "body": "By &#39;latest version&#39; you mean 6.0?"}], "answers": [{"comments": [{"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1423080046, "post_id": 28330281, "comment_id": 45007825, "body": "Will <code>nameof</code> work for instance properties as well? like <code>nameof(x.AccountOwnerName)</code>?"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1423080114, "post_id": 28330281, "comment_id": 45007863, "body": "@haim770: You wouldn&#39;t use <code>x.AccountOwnerName</code> - you specify the type, because you&#39;re trying to tell the compiler which member you&#39;re referring to. You&#39;re not trying to <i>access</i> the properties here."}, {"owner": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1423080237, "post_id": 28330281, "comment_id": 45007942, "body": "I know i&#39;m not trying to access the property, just wondering if it works this way because I want IntelliSense for the property name (when using a lambda for example)."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1423080525, "post_id": 28330281, "comment_id": 45008113, "body": "@haim770: In a lambda expression, you <i>are</i> trying to access the property though - that&#39;s the difference. Intellisense should work just fine."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 6, "last_activity_date": 1425583998, "last_edit_date": 1425583998, "creation_date": 1423079815, "answer_id": 28330281, "question_id": 28330234, "link": "https://stackoverflow.com/questions/28330234/expression-parsing-possible-to-get-array-of-property-names-as-string/28330281#28330281", "title": "Expression parsing - Possible to get array of property names as string?", "body": "<p>In C# 6, you'd use:</p>\n\n<pre><code>List&lt;string&gt; list = new List&lt;string&gt;\n{\n    nameof(AccountOwner.AccountOwnerName),\n    nameof(AccountOwner.AccountOwnerNumber)\n};\n</code></pre>\n\n<p>Before that, you could certainly break the expression tree apart - the easiest way of working out how is probably to either use an expression tree visualizer, or use the code you've got and put a break point in the method (just make it return null for now) and examine the expression tree in the debugger. I'm sure it won't be <em>very</em> complicated - just a bit more than normal due to the array.</p>\n\n<p>You could possibly simplify it using an anonymous type, if you use:</p>\n\n<pre><code>List&lt;string&gt; list = Properties&lt;AccountOwner&gt;.GetNames(x =&gt; new {x.AccountOwnerName, x.AccountOwnerNumber});\n</code></pre>\n\n<p>Then you could have:</p>\n\n<pre><code>public static class Properties&lt;TSource&gt;\n{\n    public static List&lt;string&gt; GetNames&lt;TResult&gt;(Func&lt;TSource, TResult&gt; ignored)\n    {\n        // Use normal reflection to get the properties\n    }\n}\n</code></pre>\n\n<p>If you don't care about the ordering, you could just use</p>\n\n<pre><code>return typeof(TResult).GetProperties().Select(p =&gt; p.Name).ToList();\n</code></pre>\n\n<p>If you <em>do</em> care about the ordering, you'd need to look at the names the C# compiler gives to the constructor parameters instead - it's a bit ugly. Note that we don't need an expression tree though - we only need the property names from the anonymous type. (An expression tree would work just as well, admittedly.)</p>\n"}, {"comments": [{"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 1, "creation_date": 1423080976, "post_id": 28330577, "comment_id": 45008398, "body": "Let me fire up Visual Studio and try to make a compilable sample. As I said, I did write it off my mind in the Stack Overflow editor :-)"}, {"owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "reply_to_user": {"reputation": 45352, "user_id": 1625737, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v8qtx.png?s=128&g=1", "display_name": "haim770", "link": "https://stackoverflow.com/users/1625737/haim770"}, "edited": false, "score": 0, "creation_date": 1423081323, "post_id": 28330577, "comment_id": 45008568, "body": "I&#39;ve updated the code. No wonder it didn&#39;t work, the <code>Expression&lt;Func&lt;T&gt;&gt;</code> I was passing in was for an <code>AccountOwner</code> expression, but I was passing in expressions of the property types. Shame on me. The edited code works and compiles."}], "tags": [], "owner": {"reputation": 24559, "user_id": 68972, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d6979892fcf604810eea4f9ac086079?s=128&d=identicon&r=PG", "display_name": "Jcl", "link": "https://stackoverflow.com/users/68972/jcl"}, "is_accepted": false, "score": 2, "last_activity_date": 1423208293, "last_edit_date": 1423208293, "creation_date": 1423080777, "answer_id": 28330577, "question_id": 28330234, "link": "https://stackoverflow.com/questions/28330234/expression-parsing-possible-to-get-array-of-property-names-as-string/28330577#28330577", "title": "Expression parsing - Possible to get array of property names as string?", "body": "<p>Without c# 6 and nameof, you could get a property name from a expression tree like:</p>\n\n<pre><code>using System.Linq.Expressions;\n//...\nstatic string GetNameOf&lt;T&gt;(Expression&lt;Func&lt;T&gt;&gt; property)\n{\n  return (property.Body as MemberExpression).Member.Name;\n}\n</code></pre>\n\n<p>Using it like:</p>\n\n<pre><code>GetNameOf(() =&gt; myObject.Property);\n</code></pre>\n\n<p>Not directly usable for an array of objects, but you could make an overload to take an array of expressions... something like:</p>\n\n<pre><code>static string[] GetNameOf(IEnumerable&lt;Expression&lt;Func&lt;object&gt;&gt;&gt; properties)\n{\n  return properties.Select(GetNameOf).ToArray();\n}\n</code></pre>\n\n<p>And use it like</p>\n\n<pre><code>GetNameOf(\n     new Expression&lt;Func&lt;object&gt;&gt;[] \n     { \n       () =&gt; x.AccountOwnerName, \n       () =&gt; x.AccountOwnerNumber\n     }\n); \n</code></pre>\n\n<p>Demonstrating fiddle: <a href=\"https://dotnetfiddle.net/GsV96t\" rel=\"nofollow\">https://dotnetfiddle.net/GsV96t</a></p>\n\n<h3>Update</h3>\n\n<p>If you go this route, the original <code>GetNameOf</code> for a single property won't work for value types (since they get boxed to <code>object</code> in the <code>Expression</code> and now the expression uses <code>Convert</code> internally). This is easily solvable by changing the code to something like:</p>\n\n<pre><code>static string GetNameOf&lt;T&gt;(Expression&lt;Func&lt;T&gt;&gt; property)\n{\n  var unary = property.Body as UnaryExpression;\n  if (unary != null)\n    return (unary.Operand as MemberExpression).Member.Name;\n  return (property.Body as MemberExpression).Member.Name;\n}\n</code></pre>\n\n<p>Updated fiddle: <a href=\"https://dotnetfiddle.net/ToXRuu\" rel=\"nofollow\">https://dotnetfiddle.net/ToXRuu</a></p>\n\n<p><em>Note: in this updated fiddle I've also updated the overloaded method to return a <code>List</code> instead of an array, since that's what was on your original code</em></p>\n"}], "owner": {"reputation": 64389, "user_id": 36590, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/790b36a09a4c93e976295cd7c6eb50e8?s=128&d=identicon&r=PG", "display_name": "BuddyJoe", "link": "https://stackoverflow.com/users/36590/buddyjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "accepted_answer_id": 28330281, "answer_count": 2, "score": 2, "last_activity_date": 1425583998, "creation_date": 1423079658, "last_edit_date": 1425583971, "question_id": 28330234, "link": "https://stackoverflow.com/questions/28330234/expression-parsing-possible-to-get-array-of-property-names-as-string", "title": "Expression parsing - Possible to get array of property names as string?", "body": "<p>Is it possible to complete this method? Is it possible in the latest version of C#? Thinking about this as a DSL to configure a system for watching for certain property changes on certain objects.</p>\n\n<pre><code>List&lt;string&gt; list = GetProps&lt;AccountOwner&gt;(x =&gt; new object[] {x.AccountOwnerName, x.AccountOwnerNumber}); \n// would return \"AccountOwnerName\" and \"AccountOwnerNumber\"\n\npublic List&lt;string&gt; GetProps&lt;T&gt;(Expression&lt;Func&lt;T, object[]&gt;&gt; exp)\n{  \n    // code here\n}\n</code></pre>\n"}, {"tags": ["c#", "regex"], "comments": [{"owner": {"reputation": 15434, "user_id": 107694, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0dd7d17a52e2ae3784518ed795b73526?s=128&d=identicon&r=PG", "display_name": "Wyatt Barnett", "link": "https://stackoverflow.com/users/107694/wyatt-barnett"}, "edited": false, "score": 5, "creation_date": 1423079460, "post_id": 28330135, "comment_id": 45007535, "body": "Like most regexes it is really trying to murder you in your sleep."}, {"owner": {"reputation": 25665, "user_id": 314056, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59faf3dfbc2932d2cc72780db1e48223?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/314056/christian"}, "edited": false, "score": 0, "creation_date": 1423079524, "post_id": 28330135, "comment_id": 45007571, "body": "<b>Tip:</b> Paste it on <a href=\"http://www.regexr.com/\" rel=\"nofollow noreferrer\">regexr.com</a> and hover over each component to see what it does."}], "answers": [{"comments": [{"owner": {"reputation": 19113, "user_id": 788260, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3f93537e96ff843c2760f30039a8a3eb?s=128&d=identicon&r=PG", "display_name": "Kyeotic", "link": "https://stackoverflow.com/users/788260/kyeotic"}, "edited": false, "score": 2, "creation_date": 1423079454, "post_id": 28330158, "comment_id": 45007529, "body": "The <code>^-?</code> also accounts for the number starting with a dash, which catches negative numbers"}, {"owner": {"reputation": 33, "user_id": 4504872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000785597048/picture?type=large", "display_name": "Nick B", "link": "https://stackoverflow.com/users/4504872/nick-b"}, "edited": false, "score": 0, "creation_date": 1423083045, "post_id": 28330158, "comment_id": 45009504, "body": "OK thanks for the answer. I went ahead and used that but I&#39;m running into an error, telling me that numbers which should be valid are returned as invalid. Any idea what may cause this?"}, {"owner": {"reputation": 64398, "user_id": 1064245, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e1ed9c48a989a39ff2a14b1d36c177a?s=128&d=identicon&r=PG&f=1", "display_name": "M A", "link": "https://stackoverflow.com/users/1064245/m-a"}, "reply_to_user": {"reputation": 33, "user_id": 4504872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000785597048/picture?type=large", "display_name": "Nick B", "link": "https://stackoverflow.com/users/4504872/nick-b"}, "edited": false, "score": 0, "creation_date": 1423083099, "post_id": 28330158, "comment_id": 45009528, "body": "@NickB Could you update the question? Or post another one?"}, {"owner": {"reputation": 33, "user_id": 4504872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000785597048/picture?type=large", "display_name": "Nick B", "link": "https://stackoverflow.com/users/4504872/nick-b"}, "edited": false, "score": 0, "creation_date": 1423084142, "post_id": 28330158, "comment_id": 45010058, "body": "@manouti I just updated the question with more details on whats going on"}, {"owner": {"reputation": 64398, "user_id": 1064245, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e1ed9c48a989a39ff2a14b1d36c177a?s=128&d=identicon&r=PG&f=1", "display_name": "M A", "link": "https://stackoverflow.com/users/1064245/m-a"}, "reply_to_user": {"reputation": 33, "user_id": 4504872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000785597048/picture?type=large", "display_name": "Nick B", "link": "https://stackoverflow.com/users/4504872/nick-b"}, "edited": false, "score": 1, "creation_date": 1423084688, "post_id": 28330158, "comment_id": 45010337, "body": "@NickB See updated answer."}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1423104035, "post_id": 28330158, "comment_id": 45016829, "body": "That first <code>*</code> should be a <code>+</code> unless you consider <code>-</code> or empty string a valid number"}], "tags": [], "owner": {"reputation": 64398, "user_id": 1064245, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e1ed9c48a989a39ff2a14b1d36c177a?s=128&d=identicon&r=PG&f=1", "display_name": "M A", "link": "https://stackoverflow.com/users/1064245/m-a"}, "is_accepted": true, "score": 4, "last_activity_date": 1423084679, "last_edit_date": 1423084679, "creation_date": 1423079410, "answer_id": 28330158, "question_id": 28330135, "link": "https://stackoverflow.com/questions/28330135/what-is-this-regex-trying-to-do/28330158#28330158", "title": "What is this Regex trying to do?", "body": "<p>The regex is taking into consideration the decimal point, i.e. it matches not just integers but also floating point numbers. This is what the <code>\\\\.</code> catches. Also the <code>^-?</code> matches a possible negative sign. <code>^[0-9]\\d*</code> only matches positive integers.</p>\n\n<p>The statement <code>string regex = @\"^-?\\\\d*(\\\\.\\\\d+)?$\";</code> creates a regex pattern that's literally <code>^-?\\\\d*(\\\\.\\\\d+)?$</code> because of the <code>@</code> at the front of the string. You don't need to use double backslashes in this case, simply:</p>\n\n<pre><code>string regex = @\"^-?\\d*(\\.\\d+)?$\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1803, "user_id": 3964723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8d4363c9d626aa266613f971246e70d?s=128&d=identicon&r=PG&f=1", "display_name": "austin wernli", "link": "https://stackoverflow.com/users/3964723/austin-wernli"}, "is_accepted": false, "score": 2, "last_activity_date": 1423079458, "creation_date": 1423079458, "answer_id": 28330175, "question_id": 28330135, "link": "https://stackoverflow.com/questions/28330135/what-is-this-regex-trying-to-do/28330175#28330175", "title": "What is this Regex trying to do?", "body": "<p>In addition to @manouti answer of this regex takes in consideration floating point numbers as well, it also takes in account for negative numbers</p>\n"}], "owner": {"reputation": 33, "user_id": 4504872, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000785597048/picture?type=large", "display_name": "Nick B", "link": "https://stackoverflow.com/users/4504872/nick-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1423113974, "accepted_answer_id": 28330158, "answer_count": 2, "score": 0, "last_activity_date": 1423084679, "creation_date": 1423079321, "last_edit_date": 1423084097, "question_id": 28330135, "link": "https://stackoverflow.com/questions/28330135/what-is-this-regex-trying-to-do", "closed_reason": "Duplicate", "title": "What is this Regex trying to do?", "body": "<p>Im working on an assignment for class and it includes using some checks for input to ensure valid input is given, using a regex expression. The example given for the IsValidNumber check is <code>string regex = @\"^-?\\\\d*(\\\\.\\\\d+)?$\";</code></p>\n\n<p>I'm not really sure if this is actually checking for valid numbers because i've never seen that before. Wouldn't something like <code>string regex = @\"^[0-9]\\d*$</code> work or am i missing something? Note I do need to be able to pass through a float and not just an int.</p>\n\n<p>UPDATE:\nUsing the regex I was provided, i ran the program only to run into an issue with the error check that didn't allow anything to pass through even if valid</p>\n\n<p>Here is the method that is calling IsNumberValid</p>\n\n<pre><code>private static string GetNumericInput(string c)\n    {\n        do\n        {\n            Console.Write(c);\n            string var = Console.ReadLine();\n            if (!String.IsNullOrEmpty(var) &amp;&amp; IsValidNumber(var))\n            {\n                return var;\n            }\n            else\n            {\n                Console.WriteLine(\"Input was either Null/Empty, or contained non-numeric characters.\");\n                Console.WriteLine(\"Retry input.\");\n                Console.WriteLine();\n            }\n        }\n        while (true);\n    }\n</code></pre>\n\n<p>and here is IsValidNumber</p>\n\n<pre><code>public static bool IsValidNumber(string value)\n        {\n            string regex = @\"^-?\\\\d*(\\\\.\\\\d+)?$\";\n\n            return Regex.IsMatch(value, regex);\n        }\n</code></pre>\n\n<p>I'm not entirely sure how to read breakpoints for errors but when i put breakpoints at <code>string regex = @\"^-?\\\\d*(\\\\.\\\\d+)?$\";</code> and <code>return Regex.IsMatch(value, regex);</code> it shows value for regex as <strong>null</strong> and <strong>\"^-?\\\\d*(\\\\.\\\\d+)?$\"</strong> respectively.</p>\n"}, {"tags": ["c#", "performance", "datetime", "time", "tcp"], "answers": [{"comments": [{"owner": {"reputation": 2297, "user_id": 439719, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e2fa7bbae749f4235a0abf3d57c56791?s=128&d=identicon&r=PG", "display_name": "Sandman", "link": "https://stackoverflow.com/users/439719/sandman"}, "edited": false, "score": 0, "creation_date": 1423304809, "post_id": 28331534, "comment_id": 45100951, "body": "Maybe this is useful: some time ago I made a Java class (and a Javascript library) as a proof of concept and starting point for people who want to synchronize machines within a network and within not perfect but decent precision: <a href=\"http://currentmillis.com/api/CurrentTime.java\" rel=\"nofollow noreferrer\">currentmillis.com/api/CurrentTime.java</a> (that pinpoints the system time of a client machine relatively to the (time) server and tries to take network latency out of the question, with a formula like localTime = serverTime + (localResponseTime - localRequestTime) / 2. But the point is it can be extended with a more complex, customizable algorithm)"}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 1, "last_activity_date": 1423084308, "creation_date": 1423084308, "answer_id": 28331534, "question_id": 28330115, "link": "https://stackoverflow.com/questions/28330115/how-to-time-tcp-ip-transaction/28331534#28331534", "title": "How to Time TCP/IP Transaction", "body": "<p>Make the client respond back when it has received everything. That way the server knows when that is and can perform the measurement all by itself. You'll measure one additional round trip but that will be about the same in all measurements.</p>\n"}, {"comments": [{"owner": {"reputation": 282, "user_id": 2850809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/276c16e79fa2aa59d8583fc96a879ede?s=128&d=identicon&r=PG", "display_name": "nivla12345", "link": "https://stackoverflow.com/users/2850809/nivla12345"}, "edited": false, "score": 0, "creation_date": 1423095158, "post_id": 28332872, "comment_id": 45014742, "body": "Ah I see, so the fudge area comes under the assumption that timer value of client -&gt; server is gonna be about the same as server -&gt; client. That&#39;s pretty much close enough but I guess I&#39;ve just come to accept that there&#39;s no easy way of obtaining an absolute transaction time."}, {"owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "reply_to_user": {"reputation": 282, "user_id": 2850809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/276c16e79fa2aa59d8583fc96a879ede?s=128&d=identicon&r=PG", "display_name": "nivla12345", "link": "https://stackoverflow.com/users/2850809/nivla12345"}, "edited": false, "score": 0, "creation_date": 1423097197, "post_id": 28332872, "comment_id": 45015264, "body": "@nivla12345 - well, for similar parameters/return types they should be similar, yes.  In a perfect world.. of course network timings can vary from call to call.. so you have to get averages."}], "tags": [], "owner": {"reputation": 90360, "user_id": 61164, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/782a1ccf1b45f8dbb5116f950d61f661?s=128&d=identicon&r=PG", "display_name": "Erik Funkenbusch", "link": "https://stackoverflow.com/users/61164/erik-funkenbusch"}, "is_accepted": false, "score": 1, "last_activity_date": 1423089365, "creation_date": 1423089365, "answer_id": 28332872, "question_id": 28330115, "link": "https://stackoverflow.com/questions/28330115/how-to-time-tcp-ip-transaction/28332872#28332872", "title": "How to Time TCP/IP Transaction", "body": "<p>Here's a halfway decent approach:</p>\n\n<p>Start a timer on the client, and call the server.  The first thing the server does is start a timer.  At the end of its processing, it stops the timer, calculates the amount of time it spent processing, and returns that time back to the client.</p>\n\n<p>The client can then subtract this time from the overall time to determine transport overhead (serialization, network transmit time, etc..), and unless your network is relatively busy the return response of a single time value should not be a significant amount of that time.  If you're being pedantic, you can perform a test which does the same thing but only sends a single time value, and returns the time value, then you divide it by two to figure out what the result of one way would be, then subtract that from the time as well.</p>\n\n<p>Of course network communication is not an exact science, and it can take different times from one invocation to the next, so you'll probably want to perform a number of tests, throwing away the outliers.  </p>\n\n<p>So, as an example:</p>\n\n<p>Start timer: 0s.\nMake call:\nCall received: Start new timer: 0s\nFinished processing: 50ms\nreturn 50ms\noriginal receiver gets result, timer says 120ms.</p>\n\n<p>Subtract 50ms from 120ms, and you now have 70ms with some fudge area for the return time.</p>\n"}], "owner": {"reputation": 282, "user_id": 2850809, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/276c16e79fa2aa59d8583fc96a879ede?s=128&d=identicon&r=PG", "display_name": "nivla12345", "link": "https://stackoverflow.com/users/2850809/nivla12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 28331534, "answer_count": 2, "score": 1, "last_activity_date": 1423089365, "creation_date": 1423079265, "question_id": 28330115, "link": "https://stackoverflow.com/questions/28330115/how-to-time-tcp-ip-transaction", "title": "How to Time TCP/IP Transaction", "body": "<p>I currently have 2 client server models. In both, I'm passing a large amount of data from the server to the client. I would like to time how long it takes before the data gets serialized on the server side til when all the data gets received by the client; ultimately, I would like to see how much faster 1 model is than the other.</p>\n\n<p>My question: What is the best way to do this?</p>\n\n<p>My gripe is that this would require starting a timer on the server side and having a stop time on the client side. While I could take the respective start and stop times of both machines, there are several issues with this approach e.g. the system times of both machines aren't synchronized, time zone differences, etc...</p>\n\n<p>I'm currently looking at individual metrics of 1 model and comparing it to the other which works but doesn't quite capture the overall transaction time.</p>\n"}, {"tags": ["c#", "asp.net-mvc-5", "asp.net-identity"], "answers": [{"tags": [], "owner": {"reputation": 206107, "user_id": 654031, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG", "display_name": "Chris Pratt", "link": "https://stackoverflow.com/users/654031/chris-pratt"}, "is_accepted": false, "score": 1, "last_activity_date": 1423083492, "creation_date": 1423083492, "answer_id": 28331299, "question_id": 28330114, "link": "https://stackoverflow.com/questions/28330114/why-dont-my-tables-get-created-with-this-mvc5-configuration-inheriting-from-iden/28331299#28331299", "title": "Why dont my tables get created with this MVC5 configuration inheriting from IdentityDbContext", "body": "<p>I'm just guessing here because I can't see your code, but I'm reasonably sure I'm correct. When you start a new project, you have to enable migrations. How this works is that it inspects your project for objects derived from <code>DbContext</code> and then creates a <code>Migrations</code> folder with a <code>Configuration.cs</code> file inside. This file explicitly references the context that is used for migrations. If you do this with more than one object derived from <code>DbContext</code> in your project (here, you have two, <code>MyContext</code> and <code>ApplicationDbContext</code>), it will fuss at you and tell you that you need to specify which one to use. This probably didn't happen because you had previously enabled migrations with the generated context from Identity, and only later added your own context.</p>\n\n<p>Long and short, check this configuration file and change any offending references there. Or, you can just delete the <code>Migrations</code> folder completely and run <code>Enable-Migrations</code> again in the package manager console, making sure to specify <code>MyContext</code> as the context to be used.</p>\n"}, {"tags": [], "owner": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1423084008, "creation_date": 1423084008, "answer_id": 28331449, "question_id": 28330114, "link": "https://stackoverflow.com/questions/28330114/why-dont-my-tables-get-created-with-this-mvc5-configuration-inheriting-from-iden/28331449#28331449", "title": "Why dont my tables get created with this MVC5 configuration inheriting from IdentityDbContext", "body": "<p>Annoyingly small changes:\nno throwIfV1Schema: false</p>\n\n<pre><code>public class MyContext: IdentityDbContext&lt;ApplicationUser&gt;\n    {\n        public MyContext() : base(\"MyContext\")\n        {   \n        }\n        public static MyContextCreate()\n        {\n            return new MyContext();\n        }\n        public System.Data.Entity.DbSet&lt;xxx&gt; xxx{ get; set; }\n    }\n</code></pre>\n"}], "owner": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1423084008, "creation_date": 1423079259, "question_id": 28330114, "link": "https://stackoverflow.com/questions/28330114/why-dont-my-tables-get-created-with-this-mvc5-configuration-inheriting-from-iden", "title": "Why dont my tables get created with this MVC5 configuration inheriting from IdentityDbContext", "body": "<pre><code>public class MyContext: IdentityDbContext&lt;ApplicationUser&gt;\n    {\n        public MyContext()\n            : base(\"MyContext\", throwIfV1Schema: false)\n        {   \n        }\n        public static MyContext Create()\n        {\n            return new MyContext();\n        }\n        public System.Data.Entity.DbSet&lt;xxxx&gt; xxxxx { get; set; }\n\n    protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            base.OnModelCreating(modelBuilder);\n\n        }\n}\n</code></pre>\n\n<p>Startup.Auth:</p>\n\n<pre><code>public void ConfigureAuth(IAppBuilder app)\n        {\n            // Configure the db context and user manager to use a single instance per request\n            app.CreatePerOwinContext(MyContext.Create); // ALTERED THIS\n            app.CreatePerOwinContext&lt;ApplicationUserManager&gt;(ApplicationUserManager.Create); // ALTERED THIS\n    app.UseCookieAuthentication(new CookieAuthenticationOptions\n            {\n                AuthenticationType = DefaultAuthenticationTypes.ApplicationCookie,\n                LoginPath = new PathString(\"/Account/Login\"),\n                Provider = new CookieAuthenticationProvider\n                {\n                    OnValidateIdentity = SecurityStampValidator.OnValidateIdentity&lt;ApplicationUserManager, ApplicationUser&gt;(\n                        validateInterval: TimeSpan.FromMinutes(30),\n                        regenerateIdentity: (manager, user) =&gt; user.GenerateUserIdentityAsync(manager))\n                }\n            });\n\n            app.UseExternalSignInCookie(DefaultAuthenticationTypes.ExternalCookie);\n\n   }\n    }\n</code></pre>\n\n<p>ApplicationUser:</p>\n\n<pre><code>public class ApplicationUser : IdentityUser\n    {\n        public async Task&lt;ClaimsIdentity&gt; GenerateUserIdentityAsync(UserManager&lt;ApplicationUser&gt; manager)\n        {\n            // Note the authenticationType must match the one defined in CookieAuthenticationOptions.AuthenticationType\n            var userIdentity = await manager.CreateIdentityAsync(this, DefaultAuthenticationTypes.ApplicationCookie);\n            // Add custom user claims here\n            return userIdentity;\n        }\n    }\n\n// this is the old code, no longer referenced in startup.auth:\n    public class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n    {\n        public ApplicationDbContext()\n            : base(\"MyContext\", throwIfV1Schema: false)\n        {\n        }\n        public static ApplicationDbContext Create()\n        {\n            return new ApplicationDbContext();\n        }\n}\n</code></pre>\n\n<p>So basically, Ive set my new context to inherit from IdentityDbContext, and replaced any reference of the old ApplicationDbContext with my new one. It creates the Identity tables, but none of my DbSet tables I specify (omitted, left one crossed out for sample</p>\n"}, {"tags": ["c#", "application-settings", "user-defined-types"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1423080403, "post_id": 28330057, "comment_id": 45008043, "body": "Is the type you want to use marked as <code>[Serializable]</code>?"}, {"owner": {"reputation": 2700, "user_id": 1580864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/X6zo9.jpg?s=128&g=1", "display_name": "Mark W", "link": "https://stackoverflow.com/users/1580864/mark-w"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1423080466, "post_id": 28330057, "comment_id": 45008082, "body": "@DStanley No, but neither are the types in SmartCartCore which are available for selection. I suppose I could try quick, see if it makes a difference.  - Edit: Makes no difference :("}], "owner": {"reputation": 2700, "user_id": 1580864, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/X6zo9.jpg?s=128&g=1", "display_name": "Mark W", "link": "https://stackoverflow.com/users/1580864/mark-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1423079056, "creation_date": 1423079056, "question_id": 28330057, "link": "https://stackoverflow.com/questions/28330057/how-to-use-user-defined-types-in-settings", "title": "How to use user defined types in Settings", "body": "<p>I have a project which I want to be able to store a value in the Settings XML which represents a user defined type. I know about the browse button in the settings type drop down, but when I select that option and go to browse, the only available options are types from my references. No classes which are defined in my project are available, in fact my projects namespace doesnt appear in that list at all. I can select types I have defined in my core libraries (which are a reference), which have no difference in terms of their visibility / attributes to my projects type, and seemingly the only difference is that the type I want to use is in the project I want to add a setting to. Is it possible to add a setting which is of a type defined in the project whose settings you're modifying?</p>\n\n<p>Heres a screenshot of the browse dialog for settings:</p>\n\n<p><img src=\"https://i.stack.imgur.com/oWT3Z.png\" alt=\"enter image description here\"></p>\n\n<p>The projects root namespace is CartControllerForms, which isnt available in the list. I tried adding in the type by typing out the FQN in the Selected Type text field, but get this error: </p>\n\n<p><img src=\"https://i.stack.imgur.com/8wYXd.png\" alt=\"enter image description here\"></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c#", "multithreading", "winforms"], "comments": [{"owner": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1423080123, "post_id": 28330026, "comment_id": 45007874, "body": "Google the term &quot;modal&quot;.  It&#39;s what <code>ShowDialog</code> does."}, {"owner": {"reputation": 857, "user_id": 2586121, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8daacc4dea8d817aa536fff39189a528?s=128&d=identicon&r=PG", "display_name": "Al Berger", "link": "https://stackoverflow.com/users/2586121/al-berger"}, "reply_to_user": {"reputation": 10001, "user_id": 1633308, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/3MhNf.jpg?s=128&g=1", "display_name": "DonBoitnott", "link": "https://stackoverflow.com/users/1633308/donboitnott"}, "edited": false, "score": 0, "creation_date": 1423081707, "post_id": 28330026, "comment_id": 45008755, "body": "Yes, with ShowDialog it works."}], "answers": [{"tags": [], "owner": {"reputation": 765, "user_id": 3366469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84f50de421a6beb119cae0add96c2c84?s=128&d=identicon&r=PG&f=1", "display_name": "Levesque", "link": "https://stackoverflow.com/users/3366469/levesque"}, "is_accepted": true, "score": 1, "last_activity_date": 1423079565, "creation_date": 1423079565, "answer_id": 28330202, "question_id": 28330026, "link": "https://stackoverflow.com/questions/28330026/modeless-form-doesnt-receive-the-input-focus/28330202#28330202", "title": "Modeless form doesn&#39;t receive the input focus", "body": "<p>As far as I know there is only ever a single UI thread in a Windows Forms application, you can't just spawn off threads and expect the user to be able to interact with them.</p>\n\n<p>You could try this if you really need two independent UI threads: <a href=\"https://social.msdn.microsoft.com/Forums/en-US/3f0e7794-8671-47c4-aa9a-3bd1f85c9963/how-to-create-a-winform-app-with-two-ui-threads\" rel=\"nofollow\">https://social.msdn.microsoft.com/Forums/en-US/3f0e7794-8671-47c4-aa9a-3bd1f85c9963/how-to-create-a-winform-app-with-two-ui-threads</a></p>\n"}], "owner": {"reputation": 857, "user_id": 2586121, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8daacc4dea8d817aa536fff39189a528?s=128&d=identicon&r=PG", "display_name": "Al Berger", "link": "https://stackoverflow.com/users/2586121/al-berger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 28330202, "answer_count": 1, "score": 0, "last_activity_date": 1423079565, "creation_date": 1423078971, "question_id": 28330026, "link": "https://stackoverflow.com/questions/28330026/modeless-form-doesnt-receive-the-input-focus", "title": "Modeless form doesn&#39;t receive the input focus", "body": "<p>I have a Windows Form (\"form1\") which is opened with <code>ShowDialog()</code> in the main thread of application just before <code>Application.Run()</code> is called ( without that form as the argument ). From the main thread another thread (\"thread2\") is created, which runs in parallel with the main thread. With pressing a button in the \"form1\", another form (\"form2\") is created in the \"thread2\" and shown with <code>Show()</code> method. The problem: the \"form2\" doesn't get the input focus and doesn't receive keyboard or mouse input. </p>\n\n<p>The form2 is created as follows:</p>\n\n<pre><code>public form2( )\n{\n    InitializeComponent();\n    this.WindowState = FormWindowState.Normal;\n    this.TopMost = true;\n    this.SetStyle( ControlStyles.Selectable, true );\n    this.FormBorderStyle = System.Windows.Forms.FormBorderStyle.None;\n    this.Bounds = Screen.PrimaryScreen.Bounds;\n}\n</code></pre>\n\n<p>I created a handler on OnFocusLosing event which writes a string to the console, and see that the form2 is losing focus just after creation. Is it the form1, which is opened with <code>ShowDialog()</code> and runs in the main thread grabs the focus back? I tried to minimize the form1 before creating the form2, but it doesn't help.</p>\n\n<p>How one can get a form to receive the input focus?</p>\n"}, {"tags": ["c#", "arrays", "byte", "wildcard", "mask"], "comments": [{"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1423079157, "post_id": 28329974, "comment_id": 45007358, "body": "Your current method signature provides no way to get the wildcard matching.  You need to start by either add another argument to help you mark which patterns are wildcards, or change your byte pattern to a data type that can carry a bit more information (like a custom object or string)."}, {"owner": {"reputation": 13, "user_id": 4530139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da75b9e16fe9f116e5781845172ed22a?s=128&d=identicon&r=PG&f=1", "display_name": "Kraz", "link": "https://stackoverflow.com/users/4530139/kraz"}, "reply_to_user": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1423080114, "post_id": 28329974, "comment_id": 45007862, "body": "Thanks :) If I converted to a string, how would I return the position though?"}, {"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 0, "creation_date": 1423080932, "post_id": 28329974, "comment_id": 45008368, "body": "Well if you turned <code>pattern</code> into a string like those in your example (with the <code>0x??</code>) you could cast pieces of the string back into byte[] and use the other pieces in your logic to skip some indices (skip 8 bits since the whole byte is wildcard)?  It&#39;s still a little bit strange, since you would have to encode the string wherever you call this method."}, {"owner": {"reputation": 3321, "user_id": 3478219, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/vnKGU.jpg?s=128&g=1", "display_name": "Abdullah Saleem", "link": "https://stackoverflow.com/users/3478219/abdullah-saleem"}, "edited": false, "score": 0, "creation_date": 1423082288, "post_id": 28329974, "comment_id": 45009071, "body": "Convert to hex string...apply regex and back again?"}], "answers": [{"tags": [], "owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "is_accepted": true, "score": 1, "last_activity_date": 1423082407, "creation_date": 1423082407, "answer_id": 28330996, "question_id": 28329974, "link": "https://stackoverflow.com/questions/28329974/byte-pattern-finding-needle-in-haystack-wildcard-mask/28330996#28330996", "title": "Byte Pattern Finding (Needle in Haystack) - Wildcard/Mask?", "body": "<p>Modifying your code to support wildcards is easy enough. Making it efficient for searching in large bodies of data will probably require a more sophisticated algorithm, like Boyer-Moore with wildcards (sorry, I don't have the code lying around).</p>\n\n<p>Here's one way of doing the former (off the top of my head):</p>\n\n<pre><code>public int FindPattern(byte[] Body, byte[] Pattern, bool[] Wild, int start = 0)\n    {\n        int foundIndex = -1;\n        bool match = false;\n\n        if (Body.Length &gt; 0 \n            &amp;&amp; Pattern.Length &gt; 0 \n            &amp;&amp; start &lt;= Body.Length - Pattern.Length &amp;&amp; Pattern.Length &lt;= Body.Length)\n            for (int index = start; index &lt;= Body.Length - Pattern.Length; index += 4)\n\n                if (Wild[0] || (Body[index] == Pattern[0]))\n                {\n                    match = true;\n                    for (int index2 = 1; index2 &lt;= Pattern.Length - 1; index2++)\n                    {\n                        if (!Wild[index2] &amp;&amp;\n                          (Body[index + index2] != Pattern[index2]))\n                        {\n                            match = false;\n                            break;\n                        }\n\n                    }\n\n                    if (match)\n                    {\n                        foundIndex = index;\n                        break;\n                    }\n                }\n\n        return foundIndex;\n    }\n</code></pre>\n\n<p>The expectation here is that you pass in the search pattern in its full length and then a wildcard flag array with the same length, so your example</p>\n\n<pre><code>0x5A, 0x??, 0xAE, 0xB7, 0x??\n</code></pre>\n\n<p>would be passed in as</p>\n\n<pre><code>0x5A, 0x00, 0xAE, 0xB7, 0x00, and then\nfalse, true, false, false, true\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4530139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da75b9e16fe9f116e5781845172ed22a?s=128&d=identicon&r=PG&f=1", "display_name": "Kraz", "link": "https://stackoverflow.com/users/4530139/kraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 998, "favorite_count": 0, "accepted_answer_id": 28330996, "answer_count": 1, "score": 1, "last_activity_date": 1423082407, "creation_date": 1423078827, "question_id": 28329974, "link": "https://stackoverflow.com/questions/28329974/byte-pattern-finding-needle-in-haystack-wildcard-mask", "title": "Byte Pattern Finding (Needle in Haystack) - Wildcard/Mask?", "body": "<p>this is my first time using StackOverflow so sorry if I'm vague :P</p>\n\n<p>I have this piece of code, which searches for a pattern in a byte array and returns it's position. </p>\n\n<pre><code>public int FindPattern(byte[] Body, byte[] Pattern, int start = 0)\n    {\n        int foundIndex = -1;\n        bool match = false;\n\n        if (Body.Length &gt; 0 &amp;&amp; Pattern.Length &gt; 0 &amp;&amp; start &lt;= Body.Length - Pattern.Length &amp;&amp; Pattern.Length &lt;= Body.Length)\n            for (int index = start; index &lt;= Body.Length - Pattern.Length; index += 4)\n                if (Body[index] == Pattern[0])\n                {\n                    match = true;\n                    for (int index2 = 1; index2 &lt;= Pattern.Length - 1; index2++)\n                    {\n                        if (Body[index + index2] != Pattern[index2])\n                        {\n                            match = false;\n                            break;\n                        }\n\n                    }\n\n                    if (match)\n                    {\n                        foundIndex = index;\n                        break;\n                    }\n                }\n\n        return foundIndex;\n    }\n</code></pre>\n\n<p>The Problem is I don't know how I would go about in including Byte Masking/Wildcards. </p>\n\n<p>For Example, if I wanted to find the following byte pattern:</p>\n\n<pre><code>0x5A, 0xC7, 0xAE, 0xB7, 0x2F\n</code></pre>\n\n<p>How would I implement wildcard searching so if I don't know some bytes in the byte array or they change, for example, how would I find a pattern like the following:</p>\n\n<pre><code>0x5A, 0x??, 0xAE, 0xB7, 0x??\n</code></pre>\n\n<p>?? = Represents Bytes that I don't know which changes, from time to time.</p>\n\n<p>Does anyone have a solution? - I have looked around but can't find much info</p>\n\n<p>Many Thanks In Advance!,\nJames</p>\n"}]