[{"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 4713348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72460df3ea081a1177cb9566a6b57fc4?s=128&d=identicon&r=PG&f=1", "display_name": "gaby", "link": "https://stackoverflow.com/users/4713348/gaby"}, "is_accepted": true, "score": 1, "last_activity_date": 1427328407, "creation_date": 1427328407, "answer_id": 29268853, "question_id": 29268754, "link": "https://stackoverflow.com/questions/29268754/sending-a-request-to-an-url/29268853#29268853", "title": "Sending a request to an URL", "body": "<p>You have to remove   </p>\n\n<pre><code>  request.Credentials = new NetworkCredential(account, password);\n</code></pre>\n\n<p>the code above it for other use.</p>\n\n<p>You have to change your first line like this </p>\n\n<pre><code>string number = \"666666666\";\nstring account = \"youraccount\";\nstring password = \"password\"; \nWebRequest request = HttpWebRequest.Create(\"http://ip.address/cgi-bin/api-make_call?phonenumber=\" + number + \"&amp;account=\" +account+\"&amp;password=\"+ password);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1427328697, "creation_date": 1427328697, "answer_id": 29268903, "question_id": 29268754, "link": "https://stackoverflow.com/questions/29268754/sending-a-request-to-an-url/29268903#29268903", "title": "Sending a request to an URL", "body": "<p>You need the other query string arguments in the string. They also may need to be in quotes, though I'm not certain.</p>\n\n<p>Here's a function that will get it for you if you pass in the appropriate values:</p>\n\n<pre><code>public static string GetCallUrl(string phone, string account, string password)\n{\n    var baseUrl = \"http://ip.address/cgi-bin/api-make_call\";\n\n    var queryString = string.Format(\n        \"?phonenumber=\\\"{0}\\\"&amp;account=\\\"{1}\\\"&amp;password=\\\"{2}\\\"\",\n        phone, account, password);\n\n    return string.Concat(baseUrl, queryString);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var phone = \"2065551212\";\nvar account = \"12345\";\nvar password = \"letmein\";\n\nWebRequest request = HttpWebRequest.Create(GetCallUrl(phone, account, password));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5356798, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BRptfhtkOjU/AAAAAAAAAAI/AAAAAAAAK7o/AR-JpAnDBdo/photo.jpg?sz=128", "display_name": "Rey Balle", "link": "https://stackoverflow.com/users/5356798/rey-balle"}, "is_accepted": false, "score": 0, "last_activity_date": 1442777864, "last_edit_date": 1442777864, "creation_date": 1442775177, "answer_id": 32683035, "question_id": 29268754, "link": "https://stackoverflow.com/questions/29268754/sending-a-request-to-an-url/32683035#32683035", "title": "Sending a request to an URL", "body": "<p>First, try with the correct url in a navigator</p>\n\n<p><a href=\"http://SERVER_IP/cgi-bin/api-make_call?phonenumber=100&amp;account=0&amp;user=admin&amp;password=admin\" rel=\"nofollow\">http://SERVER_IP/cgi-bin/api-make_call?phonenumber=100&amp;account=0&amp;user=admin&amp;password=admin</a></p>\n\n<p>and your code should be:</p>\n\n<pre><code>WebRequest request = HttpWebRequest.Create(\"http://SERVER_IP/cgi-bin/api-make_call?phonenumber=100&amp;account=0&amp;user=admin&amp;password=admin\")\n</code></pre>\n\n<p>account is for line key, not for logging.</p>\n\n<p>I hope, it works for you.</p>\n\n<p>Regards</p>\n"}], "owner": {"reputation": 3, "user_id": 4411257, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-10qCFzX0wpI/AAAAAAAAAAI/AAAAAAAAAJQ/w1Lr8ePnn_A/photo.jpg?sz=128", "display_name": "againstevrythng", "link": "https://stackoverflow.com/users/4411257/againstevrythng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 29268853, "answer_count": 3, "score": 0, "last_activity_date": 1442777864, "creation_date": 1427327881, "last_edit_date": 1442775690, "question_id": 29268754, "link": "https://stackoverflow.com/questions/29268754/sending-a-request-to-an-url", "title": "Sending a request to an URL", "body": "<p>I'm trying to send a request to my phone at my desk. I can do it in my browser simply by entering in the following: </p>\n\n<pre><code>http://ip.address/cgi-bin/api-make_call?phonenumber=\"number\"&amp;account=\"account\"&amp;password=\"password\"\n</code></pre>\n\n<p>This works fine and makes an outbound call to the \"number\"</p>\n\n<p>I've tried this using:</p>\n\n<pre><code>WebRequest request = HttpWebRequest.Create(\"http://ip.address/cgi-bin/api-make_call?phonenumber=phonenumber\");\nrequest.Credentials = new NetworkCredential(account, password);\n</code></pre>\n\n<p>I've used HTTPWebResponse and get something like:</p>\n\n<pre><code>{\"response\":\"error\", \"body\": \"\"}\n</code></pre>\n\n<p>But I'm unsure what to make of that.</p>\n"}, {"tags": ["c#", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 1, "creation_date": 1427327777, "post_id": 29268699, "comment_id": 46738789, "body": "Where are the scripts located in the view, in relation to the <code>$(&quot;#voters_bdate&quot;).datepicker();</code> expression?"}, {"owner": {"reputation": 717, "user_id": 4665467, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1163b0edb40e685201560f63a817cd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Jen143", "link": "https://stackoverflow.com/users/4665467/jen143"}, "reply_to_user": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1427327934, "post_id": 29268699, "comment_id": 46738844, "body": "&lt;link href=&quot;@Url.Content(&quot;~/Content/themes/base/minified/jquery-ui&zwnj;&#8203;.min.css&quot;)&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt; &lt;script src=&quot;~/Scripts/jquery-ui-1.8.24.min.js&quot;&gt;&lt;/script&gt;"}, {"owner": {"reputation": 717, "user_id": 4665467, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1163b0edb40e685201560f63a817cd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Jen143", "link": "https://stackoverflow.com/users/4665467/jen143"}, "reply_to_user": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1427327997, "post_id": 29268699, "comment_id": 46738862, "body": "I include also these files in the Layout: &lt;script src=&quot;~/Scripts/jquery-1.8.2.min.js&quot;&gt;&lt;/script&gt;         &lt;script src=&quot;~/Scripts/vendor/jquery-1.7.1.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;"}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 1, "creation_date": 1427328993, "post_id": 29268699, "comment_id": 46739158, "body": "In what order? Are you using sections? You&#39;re also including jQuery twice; remove the reference to 1.7.1 (and preferably remove it from the project as well). Post the Layout and view itself, preferably trimmed down to the minimum to replicate your error."}, {"owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 1, "creation_date": 1427329753, "post_id": 29268699, "comment_id": 46739360, "body": "Yes, but order matters. Hence, why it would be helpful to see how your layout and/or view(s) are assembled. At a minimum, referencing the jQuery library twice will always cause errors."}, {"owner": {"reputation": 717, "user_id": 4665467, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1163b0edb40e685201560f63a817cd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Jen143", "link": "https://stackoverflow.com/users/4665467/jen143"}, "reply_to_user": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1427330218, "post_id": 29268699, "comment_id": 46739503, "body": "I&#39;ve deleted already the 1.7.1 you&#39;ve mention above in my project"}, {"owner": {"reputation": 717, "user_id": 4665467, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1163b0edb40e685201560f63a817cd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Jen143", "link": "https://stackoverflow.com/users/4665467/jen143"}, "reply_to_user": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "edited": false, "score": 0, "creation_date": 1427331027, "post_id": 29268699, "comment_id": 46739732, "body": "Thank you for your help. Yeah, it is because I included the jQuery library twice so, that&#39;s the reason why it is not working."}, {"owner": {"reputation": 567, "user_id": 4365409, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/zJtBs.jpg?s=128&g=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/4365409/mahesh"}, "edited": false, "score": 0, "creation_date": 1427350828, "post_id": 29268699, "comment_id": 46744470, "body": "I think this is because of two reference of jquery file i.e.   &lt;script src=&quot;~/Scripts/jquery-1.8.2.min.js&quot;&gt;&lt;/script&gt;     &lt;script src=&quot;~/Scripts/jquery-1.7.1.min.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;       be sure you are referencing only one jquery file. remove 1 file reference and try"}], "answers": [{"tags": [], "owner": {"reputation": 19959, "user_id": 534109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoSK1.png?s=128&g=1", "display_name": "Tieson T.", "link": "https://stackoverflow.com/users/534109/tieson-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1427331545, "creation_date": 1427331545, "answer_id": 29269303, "question_id": 29268699, "link": "https://stackoverflow.com/questions/29268699/datepicker-not-working-in-mvc4/29269303#29269303", "title": "Datepicker not working in MVC4", "body": "<p>So, here's the default _Layout file created by the MVC4 template, with all the extra markup removed:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n        &lt;title&gt;@ViewBag.Title - My ASP.NET MVC Application&lt;/title&gt;\n        @Styles.Render(\"~/Content/css\")\n        @Scripts.Render(\"~/bundles/modernizr\")\n    &lt;/head&gt;\n    &lt;body&gt;\n        @RenderBody()\n\n        @Scripts.Render(\"~/bundles/jquery\")\n        @RenderSection(\"scripts\", required: false)\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Notice where the RenderBody() is in relation to, say, RenderSection(\"scripts\")? Make a note of it, because we're coming back to that in a moment.</p>\n\n<p>Here's an example of a view we might create:</p>\n\n<pre><code>@{\n    ViewBag.Title = \"Example\";\n}\n\n&lt;div&gt;\n    &lt;p&gt;\n        As Gregor Samsa awoke one morning from uneasy dreams, he found himself transformed in his bed into a gigantic insect-like creature.\n    &lt;/p&gt;\n&lt;/div&gt;\n\n@section Scripts {\n    @Scripts.Render(\"~/bundles/jqueryval\")\n}\n</code></pre>\n\n<p>When this particular action is called, the view gets substituted (or injected, if you prefer) where the RenderBody occurs in _Layout. If the view contains a <code>@section</code>, then anything in that section gets substituted into the equivalent section in the _Layout. Given the _Layout and view above, we'd get this generated HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n        &lt;title&gt;Example - My ASP.NET MVC Application&lt;/title&gt;\n        &lt;link href=\"~/Content/Site.css\" rel=\"stylesheet\" /&gt;\n        &lt;script src=\"~/Scripts/modernizr-2.6.2.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;\n            &lt;p&gt;\n                As Gregor Samsa awoke one morning from uneasy dreams, he found himself transformed in his bed into a gigantic insect-like creature.\n            &lt;/p&gt;\n        &lt;/div&gt;\n\n        &lt;script src=\"/Scripts/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"/Scripts/jquery.validate.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"/Scripts/jquery.validate.unobtrusive.min.js\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Now, what happens if we don't use a section, and reference, say, jQuery Validation in the view directly?</p>\n\n<pre><code>@{\n    ViewBag.Title = \"Example\";\n}\n\n&lt;div&gt;\n    &lt;p&gt;\n        As Gregor Samsa awoke one morning from uneasy dreams, he found himself transformed in his bed into a gigantic insect-like creature.\n    &lt;/p&gt;\n&lt;/div&gt;\n\n@Scripts.Render(\"~/bundles/jqueryval\")\n</code></pre>\n\n<p>Our rendered HTML then looks like this:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n        &lt;title&gt;Example - My ASP.NET MVC Application&lt;/title&gt;\n        &lt;link href=\"~/Content/Site.css\" rel=\"stylesheet\" /&gt;\n        &lt;script src=\"~/Scripts/modernizr-2.6.2.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div&gt;\n            &lt;p&gt;\n                As Gregor Samsa awoke one morning from uneasy dreams, he found himself transformed in his bed into a gigantic insect-like creature.\n            &lt;/p&gt;\n        &lt;/div&gt;\n\n        &lt;script src=\"/Scripts/jquery.validate.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"/Scripts/jquery.validate.unobtrusive.min.js\"&gt;&lt;/script&gt;\n\n        &lt;script src=\"/Scripts/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>That, unfortunately, is a problem. jQuery Validate requires jQuery, so it will fail to load and you will see errors in the JavaScript console.</p>\n\n<p>This same concept applies to any libraries you may use in your project, so spend some time learning how to use sections and bundling appropriately. The Music Store tutorial is a decent place to start if you're learning ASP.NET MVC: <a href=\"http://www.asp.net/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-1\" rel=\"nofollow\">http://www.asp.net/mvc/overview/older-versions/mvc-music-store/mvc-music-store-part-1</a></p>\n"}], "owner": {"reputation": 717, "user_id": 4665467, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1163b0edb40e685201560f63a817cd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Jen143", "link": "https://stackoverflow.com/users/4665467/jen143"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1427331545, "creation_date": 1427327431, "last_edit_date": 1427330078, "question_id": 29268699, "link": "https://stackoverflow.com/questions/29268699/datepicker-not-working-in-mvc4", "title": "Datepicker not working in MVC4", "body": "<p>Datepicker.js</p>\n\n<pre><code>$(function () {\n$('#voters_bdate').datepicker();\n</code></pre>\n\n<p>});</p>\n\n<p>These are the files included in the layout view:</p>\n\n<pre><code>@Styles.Render(\"~/Content/css\")\n    @Scripts.Render(\"~/bundles/modernizr\")\n    &lt;script src=\"~/Scripts/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/Scripts/jquery-1.7.1.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/Scripts/vendor/jquery.hashchange.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I also included these files in the view: </p>\n\n<pre><code>&lt;link href=\"@Url.Content(\"~/Content/themes/base/minified/jquery-ui.min.css\")\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n&lt;script src=\"~/Scripts/jquery-ui-1.8.24.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"~/Scripts/Datepicker.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>but still not working.</p>\n\n<pre><code>&lt;input type=\"text\" name=\"voters_bdate\" id=\"voters_bdate\"&gt;\n</code></pre>\n\n<p>I got this error also \"Uncaught TypeError: undefined is not a function\" when I look at the console. </p>\n"}, {"tags": ["c#", "json", "xamarin"], "comments": [{"owner": {"reputation": 5247, "user_id": 2976366, "user_type": "registered", "accept_rate": 58, "profile_image": "https://graph.facebook.com/598272362/picture?type=large", "display_name": "tim", "link": "https://stackoverflow.com/users/2976366/tim"}, "edited": false, "score": 1, "creation_date": 1427327233, "post_id": 29268640, "comment_id": 46738644, "body": "Check the site <a href=\"http://json2csharp.com\" rel=\"nofollow noreferrer\">json2csharp.com</a> paste your json in it and you&#39;ll have the classes you need"}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1427327632, "post_id": 29268640, "comment_id": 46738752, "body": "Could you post an example of the JSON you are trying to convert?"}, {"owner": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "reply_to_user": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1427328043, "post_id": 29268640, "comment_id": 46738877, "body": "@MichalCiechan, sure thing! Here&#39;s sample data from one of the clients: { id: &quot;26&quot;, owner: &quot;7&quot;, owner_name: &quot;Bradford Kolumbic&quot;, Status: &quot;0&quot;, status_name: &quot;None&quot;, Milestone: &quot;0&quot;, milestone_name: &quot;None&quot;, small_text_1: &quot;Ghost Buster Solutions&quot;, small_text_8: &quot;Business&quot;, small_text_7: &quot;(858) 123-5432&quot;, small_text_2: &quot;123 ABC Street&quot;, small_text_4: &quot;Escondido&quot;, small_text_5: &quot;California&quot;, small_text_6: &quot;92027&quot; },"}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1427328300, "post_id": 29268640, "comment_id": 46738955, "body": "Your result is a real JSON format, in JSON property names are escaped using &quot;&quot;. Eg. &quot;id&quot;:&quot;26&quot;"}, {"owner": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "reply_to_user": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1427328977, "post_id": 29268640, "comment_id": 46739153, "body": "@MichalCiechan my apologies I misunderstood you, I thought you were asking for an example from the website. The actual result that I receive is in fact like that:   &quot;Bradford Kolumbic&quot;, &quot;small_text_8&quot;: &quot;Business&quot;, &quot;small_text_7&quot;: &quot;(858) 123-5432&quot;, - etc..."}], "answers": [{"tags": [], "owner": {"reputation": 363, "user_id": 4627684, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10155343333740144/picture?type=large", "display_name": "Mark Wardell", "link": "https://stackoverflow.com/users/4627684/mark-wardell"}, "is_accepted": false, "score": -1, "last_activity_date": 1427328247, "creation_date": 1427328247, "answer_id": 29268819, "question_id": 29268640, "link": "https://stackoverflow.com/questions/29268640/creating-c-object-from-json-data-retrieved-from-httpwebresponse/29268819#29268819", "title": "Creating C# object from JSON data retrieved from HttpWebResponse", "body": "<p>Oh Another way to do this if you are using Vs 2013 is to get the JSON on Clipboard.  Create a new file in VS then Paste Special.  Poof it is all set.</p>\n\n<p>Mark</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "edited": false, "score": 0, "creation_date": 1427331108, "post_id": 29268956, "comment_id": 46739747, "body": "That was only one client I showed (and I had to edit some details). I can&#39;t copy/paste the entire JSON data (over 40 clients worth) since it contains sensitive information. The reason I&#39;m trying to do this is we have a list of clients that can be viewed online on a CRM. I&#39;m trying to build a mobile app version of the website CRM that will have a section where the user can display their list of clients, just like they can online.   It will pull the information from the web response and then I can populate that data into a list of clients dynamically."}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "reply_to_user": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "edited": false, "score": 0, "creation_date": 1427363294, "post_id": 29268956, "comment_id": 46749524, "body": "Can you post 2 clients (faked info) but need to see th structure of the main json file, not just a part of it. THere is something wrong with how the parent array is set up"}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "reply_to_user": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "edited": false, "score": 0, "creation_date": 1427363343, "post_id": 29268956, "comment_id": 46749550, "body": "it can be even identical client, that you posted just need the structure of the main array (not the ifno inside it)"}, {"owner": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "edited": false, "score": 0, "creation_date": 1427752475, "post_id": 29268956, "comment_id": 46898802, "body": "Sure thing, here&#39;s a better sample. It contains only two clients but keeps all the rest of the JSON code.   <a href=\"http://development.bradfordkolumbic.com/json_sample.html\" rel=\"nofollow noreferrer\">development.bradfordkolumbic.com/json_sample.html</a>"}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "reply_to_user": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "edited": false, "score": 0, "creation_date": 1427788485, "post_id": 29268956, "comment_id": 46910262, "body": "Just noticed <code>owner_name:\u201cJohn Doe\u201c</code>. Those are not the same double quote cahracter JSON expects"}, {"owner": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "edited": false, "score": 0, "creation_date": 1427827669, "post_id": 29268956, "comment_id": 46932807, "body": "That was a weird glitch that happened when I was copy/pasting the JSON. The JSON code works, I assure you. I&#39;m looking at a list of almost 50 clients displaying perfectly. My issue is related to how to get that list into C#, not with the syntax of the JSON. The JSON works fine, I just have to figure out how to extract the JSON data from the stream and put in into a client object."}], "tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": false, "score": 0, "last_activity_date": 1427329087, "creation_date": 1427329087, "answer_id": 29268956, "question_id": 29268640, "link": "https://stackoverflow.com/questions/29268640/creating-c-object-from-json-data-retrieved-from-httpwebresponse/29268956#29268956", "title": "Creating C# object from JSON data retrieved from HttpWebResponse", "body": "<p>this works for me</p>\n\n<pre><code>var json =@\"\n{\n    id: \"\"26\"\",\n    owner: \"\"7\"\",\n    owner_name: \"\"Bradford Kolumbic\"\",\n    Status: \"\"0\"\",\n    status_name: \"\"None\"\",\n    Milestone: \"\"0\"\",\n    milestone_name: \"\"None\"\",\n    small_text_1: \"\"Ghost Buster Solutions\"\",\n    small_text_8: \"\"Business\"\",\n    small_text_7: \"\"(858) 123-5432\"\",\n    small_text_2: \"\"123 ABC Street\"\",\n    small_text_4: \"\"Escondido\"\",\n    small_text_5: \"\"California\"\",\n    small_text_6: \"\"92027\"\"\n}\";\n\nvar c = JsonConvert.DeserializeObject&lt;Client&gt;(json); \n</code></pre>\n\n<p>If the sample you gave is the whole JSON object, then it is not a collection of clients (<code>List&lt;Client&gt;</code>) but only a <code>Client</code></p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "edited": false, "score": 0, "creation_date": 1427827756, "post_id": 29278391, "comment_id": 46932861, "body": "I&#39;ve tried this before but I keep receiving the following error: Unable to cast object of type &#39;System.Json.Object&#39; to type &#39;System.Json.JsonPrimitive&#39;"}], "tags": [], "owner": {"reputation": 396, "user_id": 1682916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ubuTm.jpg?s=128&g=1", "display_name": "angak", "link": "https://stackoverflow.com/users/1682916/angak"}, "is_accepted": false, "score": 0, "last_activity_date": 1427372719, "creation_date": 1427372719, "answer_id": 29278391, "question_id": 29268640, "link": "https://stackoverflow.com/questions/29268640/creating-c-object-from-json-data-retrieved-from-httpwebresponse/29278391#29278391", "title": "Creating C# object from JSON data retrieved from HttpWebResponse", "body": "<p>I would suggest you go here: <a href=\"http://json2csharp.com/\" rel=\"nofollow\">http://json2csharp.com/</a> and input your JSON. They will instantly create C# classes for you.</p>\n\n<p>Then I would add the NewtonSoft.Json nuget-package to my project. And then finally call something like</p>\n\n<pre><code>JsonConvert.Deserialize&lt;List&lt;Client&gt;&gt;(jsonDoc);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 2157712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee2aa5fbc5830da0ead93b12f3c1ed3?s=128&d=identicon&r=PG", "display_name": "Gustavo", "link": "https://stackoverflow.com/users/2157712/gustavo"}, "is_accepted": false, "score": 0, "last_activity_date": 1435112850, "last_edit_date": 1435112850, "creation_date": 1432438679, "answer_id": 30419829, "question_id": 29268640, "link": "https://stackoverflow.com/questions/29268640/creating-c-object-from-json-data-retrieved-from-httpwebresponse/30419829#30419829", "title": "Creating C# object from JSON data retrieved from HttpWebResponse", "body": "<p>This is the code that I'm using.\nTo do an HTTPRequest:</p>\n\n<pre><code> public static string DoJsonRequest(string url, MemoryStream content)\n        {\n\n            byte[] dataByte = content.ToArray();\n\n            //create http web request obj\n            WebRequest postRequest = WebRequest.Create(url);\n            //Method type\n            postRequest.Method = \"POST\";\n            // Data type - message body coming in xml\n            postRequest.ContentType = \"application/json; charset=utf-8\";\n            //Content length of message body\n            postRequest.ContentLength = dataByte.Length;\n\n            // Get the request stream\n            using (Stream postStream = postRequest.GetRequestStream())\n            {\n                // Write the data bytes in the request stream\n                postStream.Write(dataByte, 0, dataByte.Length);\n                //Get response from server\n                using (HttpWebResponse postResponse = (HttpWebResponse)postRequest.GetResponse())\n                {\n                    using (StreamReader reader = new StreamReader(postResponse.GetResponseStream()))\n                    {\n                        return reader.ReadToEnd();\n                    }\n                }\n            }\n        }\n\n\n\n        public static string GetJsonFromObject&lt;TObject&gt;(TObject obj, IEnumerable&lt;Type&gt; types)\n        {\n            using (var stream = new MemoryStream())\n            {\n                var jsSerializer = new DataContractJsonSerializer(typeof(TObject), types);\n\n                jsSerializer.WriteObject(stream, obj);\n                stream.Position = 0;\n\n                using (StreamReader reader = new StreamReader(stream))\n                {\n                    string json = reader.ReadToEnd();\n                    return json;\n                }\n            }\n        }\n\n\n\npublic static TObject GetObjectFromJson&lt;TObject&gt;(string json, IEnumerable&lt;Type&gt; types)\n{\n\n    using (MemoryStream stream = new MemoryStream())\n    {\n        using (StreamWriter writer = new StreamWriter(stream))\n        {\n            writer.Write(json);\n            writer.Flush();\n            stream.Position = 0;\n\n            var jsSerializer = new DataContractJsonSerializer(typeof(TObject), types);\n\n            TObject obj = (TObject)jsSerializer.ReadObject(stream);\n\n            return obj;\n        }\n    }\n}\n</code></pre>\n\n<p>You can see I'm using Generics.</p>\n\n<p>For call the Method and do the request to an RESTFull Service.</p>\n\n<pre><code> using (MemoryStream stream = new MemoryStream())\n                {\n                    using (StreamWriter writer = new StreamWriter(stream))\n                    {\n                        writer.Write(json);\n                        writer.Flush();\n                        stream.Position = 0;\n\n                        string response = HttpHelper.DoJsonRequest(\"https://localhost:44300/RestFull.svc/Execute\", stream);\n\n                        response = response.Remove(0, 1);\n                        response = response.Remove(response.Length - 1, 1);\n                        response = response.Replace(\"\\\\\\\"\", \"\\\"\");\n                        Data data = HttpHelper.GetObjectFromJson&lt;Data&gt;(response, Types);\n\n                    }\n                }\n</code></pre>\n\n<p>Where Json = <code>\"\\\"\" + HttpHelper.GetJsonFromObject&lt;Data&gt;(request, Types).Replace(\"\\\"\", \"\\\\\\\"\") + \"\\\"\";</code></p>\n"}], "owner": {"reputation": 21, "user_id": 4678768, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/WTGlz.jpg?s=128&g=1", "display_name": "Bradford Kolumbic", "link": "https://stackoverflow.com/users/4678768/bradford-kolumbic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2651, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1435112850, "creation_date": 1427327097, "last_edit_date": 1427328257, "question_id": 29268640, "link": "https://stackoverflow.com/questions/29268640/creating-c-object-from-json-data-retrieved-from-httpwebresponse", "title": "Creating C# object from JSON data retrieved from HttpWebResponse", "body": "<p>First, I'm absolutely terrible at programming. I always have been. The simplest, most trivial things that any other human being in the world seems to just 'get' tend to trip me up and lead me to uncontrollable rage quitting. That out of the way, sorry for the stupid question. :P</p>\n\n<p>I'm basically trying to take some JSON values returned from an HttpWebResponse and put them into C# object. The JSON values pertain to a list of clients. I want to be able to turn them into C# objects that I can then use throughout my program (e.x. client.name, client.phone_number, etc...).</p>\n\n<p>The code below is more of a proof of concept than final code. I login to a WordPress site and then pull JSON data from a page on the site. I'm able to retrieve and see the returned JSON data (as one long jumbled string). I just can't figure out how to extract from that string the particular values I need to create 'client' objects from them.</p>\n\n<pre><code>        string loginUri = \"URL TO WORDPRESS LOGIN\";\n        string username = entryUsername;\n        string password = entryPassword;\n        string reqString = \"log=\" + username + \"&amp;pwd=\" + password;\n        byte[] requestData = Encoding.UTF8.GetBytes(reqString);\n\n        CookieContainer loginCookie = new CookieContainer();\n        var request = (HttpWebRequest)WebRequest.Create(loginUri);\n        request.Proxy = null;\n        request.AllowAutoRedirect = false;\n        request.CookieContainer = loginCookie;\n        request.Method = \"POST\";\n\n        request.ContentType = \"application/x-www-form-urlencoded\";\n        request.ContentLength = requestData.Length;\n        using (Stream s = request.GetRequestStream())\n        {\n            s.Write(requestData, 0, requestData.Length);\n\n            using (HttpWebResponse response = (HttpWebResponse)request.GetResponse())\n            {\n                foreach (Cookie currentCookie in response.Cookies)\n                {\n                    Console.WriteLine(currentCookie.Name + \" = \" + currentCookie.Value); // debug purposes\n                    request.CookieContainer.Add(currentCookie);\n                }\n            }\n        }\n\n        // Debug purposes\n        Console.WriteLine(\"{0} cookie(s) have been downloaded, Jim.\", loginCookie.Count.ToString());\n\n        string clientListURI = \"PAGE CONTAINING JSON\";\n        HttpWebRequest clientListRequest = (HttpWebRequest)WebRequest.Create(clientListURI);\n        clientListRequest.Proxy = null;\n        clientListRequest.Method = \"POST\";\n        clientListRequest.ContentLength = 0;\n        clientListRequest.ContentType = \"application/json\";\n        clientListRequest.CookieContainer = loginCookie;\n        using (HttpWebResponse clientListResponse = (HttpWebResponse)clientListRequest.GetResponse())\n        using (Stream resSteam = clientListResponse.GetResponseStream())\n        {\n            JsonValue jsonDoc = JsonObject.Load(resSteam);\n            Console.WriteLine(\"Response: {0}\", jsonDoc.ToString ());\n        }          \n</code></pre>\n\n<p>Sample Json:</p>\n\n<pre><code>{\n    id: \"26\",\n    owner: \"7\",\n    owner_name: \"Bradford Kolumbic\",\n    Status: \"0\",\n    status_name: \"None\",\n    Milestone: \"0\",\n    milestone_name: \"None\",\n    small_text_1: \"Ghost Buster Solutions\",\n    small_text_8: \"Business\",\n    small_text_7: \"(858) 123-5432\",\n    small_text_2: \"123 ABC Street\",\n    small_text_4: \"Escondido\",\n    small_text_5: \"California\",\n    small_text_6: \"92027\"\n}\n</code></pre>\n\n<p>I created a class, Client, that can be used to store each client profile from the returned JSON.</p>\n\n<pre><code>public class Client\n{\n    public string id { get; set; }\n    public string owner { get; set; }\n    public string owner_name { get; set; }\n    public string Status { get; set; }\n    public string status_name { get; set; }\n    public string Milestone { get; set; }\n    public string milestone_name { get; set; }\n    public string small_text_1 { get; set; }\n    public string small_text_8 { get; set; }\n    public string small_text_7 { get; set; }\n    public string small_text_2 { get; set; }\n    public string small_text_4 { get; set; }\n    public string small_text_5 { get; set; }\n    public string small_text_6 { get; set; }\n}\n</code></pre>\n\n<p>I've tried all sorts of different ways but nothing seems to work right for me. I'm sure I'm missing something ridiculously obvious.  </p>\n\n<p>The last thing I've tried is:</p>\n\n<pre><code>var JsonClientList = JsonConvert.DeserializeObject&lt;List&lt;Client&gt;&gt;(jsonDoc); \n</code></pre>\n\n<p>It errors out though with \"Unable to cast object of type 'System.Json.JsonObject' to type 'System.Json.JsonPrimitive'.\"</p>\n\n<p>Any help for this young fool would be greatly appreciated. Thank you for your time.</p>\n"}, {"tags": ["c#", "entity-framework", "breeze", "asp.net-web-api"], "answers": [{"tags": [], "owner": {"reputation": 4822, "user_id": 308687, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7dcd5761c23704777412d9165df9774c?s=128&d=identicon&r=PG", "display_name": "Doobi", "link": "https://stackoverflow.com/users/308687/doobi"}, "is_accepted": true, "score": 0, "last_activity_date": 1427345008, "creation_date": 1427345008, "answer_id": 29271255, "question_id": 29268560, "link": "https://stackoverflow.com/questions/29268560/how-do-i-implement-breezejs-server-side-for-webapiv2-and-ef6/29271255#29271255", "title": "How do I implement Breezejs server-side for WebAPIv2 and EF6?", "body": "<p>Breeze.js implements the OData client protocol.\n<a href=\"http://www.getbreezenow.com/documentation/introduction\" rel=\"nofollow\">http://www.getbreezenow.com/documentation/introduction</a></p>\n\n<p>Web Api / Ef6 have built in support for exposing data as OData, you just need to configure it:\n<a href=\"http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api\" rel=\"nofollow\">http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api</a></p>\n"}], "owner": {"reputation": 1505, "user_id": 3557855, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2273757969b04244a6a2b60797d1ebda?s=128&d=identicon&r=PG&f=1", "display_name": "Inx51", "link": "https://stackoverflow.com/users/3557855/inx51"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 29271255, "answer_count": 1, "score": 0, "last_activity_date": 1427345008, "creation_date": 1427326685, "question_id": 29268560, "link": "https://stackoverflow.com/questions/29268560/how-do-i-implement-breezejs-server-side-for-webapiv2-and-ef6", "title": "How do I implement Breezejs server-side for WebAPIv2 and EF6?", "body": "<p>I have tried to do some research of how to implement Breezejs for the use in one of my applications.\nThe problem is that I cant really find any documentation of how to properly implement breezejs.. are there any specific actions thats required on my controller to be able to fully use breezejs for instance?</p>\n\n<p>Br,\nInx</p>\n"}, {"tags": ["c#", "httpwebrequest"], "comments": [{"owner": {"reputation": 13909, "user_id": 162699, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/11d701f4f186f539521cde8050d0b341?s=128&d=identicon&r=PG", "display_name": "Gusman", "link": "https://stackoverflow.com/users/162699/gusman"}, "edited": false, "score": 0, "creation_date": 1427328545, "post_id": 29268483, "comment_id": 46739026, "body": "Maybe you are missing some cookies?"}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427855734, "post_id": 29268483, "comment_id": 46943226, "body": "So, what&#39;s the problem?"}], "answers": [{"comments": [{"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427855842, "post_id": 29379422, "comment_id": 46943255, "body": "All instances of a class that implements IDisposable need to be in <code>using</code> blocks. This includes the <code>StreamReader</code>, for instance."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427859298, "post_id": 29379422, "comment_id": 46944004, "body": "Better, but you missed the <code>WebResponse</code>."}, {"owner": {"reputation": 1291, "user_id": 3038650, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vpblO.jpg?s=128&g=1", "display_name": "Joe Uhren", "link": "https://stackoverflow.com/users/3038650/joe-uhren"}, "reply_to_user": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427861432, "post_id": 29379422, "comment_id": 46944468, "body": "@JohnSaunders I believe the code is better now. I assume you happen to know a lot of these IDisposable types off the top of your head because I&#39;m finding it difficult to know which objects implement IDisposable and which do not. Apparently FxCop can detect these but I just tried it and it doesn&#39;t seem to do so by default. Either way, I read up on the <code>using</code> block for IDisposable objects and it makes perfect sense why you would want to do this. As I stated in my post I am slowly improving my <code>HttpWebRequest</code> functions and this just helps to make things better. Thanks!"}, {"owner": {"reputation": 21, "user_id": 4714440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61547d6a7a72f6324f09df4e411393ac?s=128&d=identicon&r=PG&f=1", "display_name": "Soziapath", "link": "https://stackoverflow.com/users/4714440/soziapath"}, "edited": false, "score": 0, "creation_date": 1427933204, "post_id": 29379422, "comment_id": 46981247, "body": "This protection came up one day after i finished my first &quot;Scraper&quot;, hopefully not because of me... You code looks similar to what i&#39;ve tried til now to bypass the cloudflare protection, but a lot cleaner. But even with your code i get an error in the first exception from getMethod(), which i think is supposed to handle the 503 Error as you wrote in the comments. The Respone object within the exception is a null referenz and therefore posses no data.  And thanks for the Help Joey Joe Joe Jr Shabadoo and John Saunders."}, {"owner": {"reputation": 1291, "user_id": 3038650, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vpblO.jpg?s=128&g=1", "display_name": "Joe Uhren", "link": "https://stackoverflow.com/users/3038650/joe-uhren"}, "reply_to_user": {"reputation": 21, "user_id": 4714440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61547d6a7a72f6324f09df4e411393ac?s=128&d=identicon&r=PG&f=1", "display_name": "Soziapath", "link": "https://stackoverflow.com/users/4714440/soziapath"}, "edited": false, "score": 0, "creation_date": 1427952217, "post_id": 29379422, "comment_id": 46985762, "body": "@Soziapath I tested the code on another machine and it didn&#39;t work (although it always got past the <code>getMethod()</code>). I made some minor adjustments and it seems to work better for the 3 computers I tested on (all on the same ip though). Grab the code again and see if it works any better this time. If not, what is the exact error that you get and which line does it seem to die on?"}], "tags": [], "owner": {"reputation": 1291, "user_id": 3038650, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/vpblO.jpg?s=128&g=1", "display_name": "Joe Uhren", "link": "https://stackoverflow.com/users/3038650/joe-uhren"}, "is_accepted": false, "score": 2, "last_activity_date": 1427952020, "last_edit_date": 1427952020, "creation_date": 1427839584, "answer_id": 29379422, "question_id": 29268483, "link": "https://stackoverflow.com/questions/29268483/httpwebrequest-login-return-just-login-page/29379422#29379422", "title": "HttpWebRequest Login return just Login Page", "body": "<p>Using HttpWebResponse to login to websites and scrape information can get super tricky really fast. This particular website seems to have some kind of ddos (?) protection when you first visit which returns a 503 Unavailable error and forces you to wait a few seconds before it redirects you to the \"real\" page you want to visit. Long ago I built some functions to use for doing this work and I have been slowly improving upon them as new scenarios like this crop up.  The trick here is to get past the first 503 error, save the cookies and pass them back with each GET or POST request. I'm not much of a C# developer so my original functions are all written in VB.Net but after taking the time to convert them it all seems to work fine in C# as well. Try this code out and let me know if you have any further questions:</p>\n\n<p><strong>NOTE 1:</strong> Don't forget to change <code>USERNAMEHERE</code> and <code>PASSWORDHERE</code> with your real username and password.</p>\n\n<p><strong>NOTE 2:</strong> The <code>UrlEncode</code> function was a lot cleaner in VB.Net without all the case statements. If you don't want to use my function you could always include a reference to <code>System.Web</code> and use the <code>HttpServerUtility.UrlEncode</code> method that is built in there.</p>\n\n<pre><code>using System;\nusing System.Net;\nusing System.IO;\nusing System.Linq;\nusing System.Windows.Forms;\n\nnamespace WindowsFormsApplication1\n{\n    public partial class Form1 : Form\n    {\n        const string sUsername = \"USERNAMEHERE\";\n        const string sPassword = \"PASSWORDHERE\";\n        const string sUserAgent = \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/35.0\";\n        const string sMainURL = \"http://kissanime.com\";\n        const string sCheckLoginURL = \"http://kissanime.com/Login\";\n\n        private CookieCollection oCookieCollection = null;\n\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void Form1_Load(object sender, EventArgs e)\n        {\n            StartScrape();\n        }\n\n        private void StartScrape()\n        {\n            try\n            {\n                string[] sPostData = new string[6];\n\n                sPostData[0] = UrlEncode(\"username\");\n                sPostData[1] = UrlEncode(sUsername);\n                sPostData[2] = UrlEncode(\"password\");\n                sPostData[3] = UrlEncode(sPassword);\n                sPostData[4] = UrlEncode(\"redirect\");\n                sPostData[5] = UrlEncode(\"\");\n\n                if (GetMethod(sMainURL) == true)\n                {\n                    if (SetMethod(sCheckLoginURL, sPostData, sMainURL) == true)\n                    {\n                        // Login successful\n                        // Do whatever you need to do here\n\n\n                    }\n                }\n                else\n                {\n                    MessageBox.Show(\"Error connecting to main site. Are you connected to the internet?\");\n                }\n            }\n            catch (Exception ex)\n            {\n                MessageBox.Show(ex.Message, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n            }\n        }\n\n        private bool GetMethod(string sPage)\n        {\n            HttpWebRequest req = default(HttpWebRequest);\n            bool bReturn = true;\n\n            try\n            {\n                req = (HttpWebRequest)HttpWebRequest.Create(sPage);\n                req.Method = \"GET\";\n                req.AllowAutoRedirect = false;\n                req.UserAgent = sUserAgent;\n                req.Accept = \"text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5\";\n                req.Headers.Add(\"Accept-Language\", \"en-us,en;q=0.5\");\n                req.Headers.Add(\"Accept-Charset\", \"ISO-8859-1,utf-8;q=0.7,*;q=0.7\");\n                req.Headers.Add(\"Keep-Alive\", \"300\");\n                req.KeepAlive = true;\n\n                if (oCookieCollection != null)\n                {\n                    // Pass cookie info\n                    req.CookieContainer = SetCookieContainer(sPage);\n                }\n\n                try\n                {\n                    // Get the response from the server \n\n                    using (HttpWebResponse resp = (HttpWebResponse)req.GetResponse())\n                    {\n                        if (req.HaveResponse)\n                        {\n                            if (resp.Headers[\"Set-Cookie\"] != null)\n                            {\n                                // Save the cookie info\n                                SaveCookies(resp.Headers[\"Set-Cookie\"]);\n                            }\n\n                            using (StreamReader stw = new StreamReader(resp.GetResponseStream()))\n                            {\n                                stw.ReadToEnd(); // Read the response from the server, but dont save it\n                            }\n                        }\n                        else\n                        {\n                            MessageBox.Show(\"No response received from host \" + sPage, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                            bReturn = false;\n                        }\n                    }\n                }\n                catch (WebException ex)\n                {\n                    // 503 Error. Some sort of ddos protection is my guess\n                    // Find the refresh header which redirects after a short time\n\n                    string[] sSplit = ex.Response.Headers[\"Refresh\"].Split(';');\n\n                    System.Threading.Thread.Sleep(Convert.ToInt32(sSplit[0]) * 1000); // Wait the time requested by the refresh header\n                    GetMethod(sMainURL + sSplit[1].Replace(\"URL=\", \"\"));  // Redirect to proper page\n                }\n            }\n            catch (WebException exc)\n            {\n                MessageBox.Show(\"Network Error: \" + exc.Message.ToString() + \" Status Code: \" + exc.Status.ToString() + \" from \" + sPage, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                bReturn = false;\n            }\n\n            return bReturn;\n        }\n\n        private bool SetMethod(string sPage, string[] sPostData, string sReferer)\n        {\n            bool bReturn = false;\n            HttpWebRequest req = default(HttpWebRequest);\n            string sPostDataValue = \"\";\n            Int32 nInitialCookieCount = 0;\n\n            try\n            {\n                req = (HttpWebRequest)HttpWebRequest.Create(sPage);\n                req.Method = \"POST\";\n                req.UserAgent = sUserAgent;\n                req.Accept = \"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\";\n                req.Headers.Add(\"Accept-Language\", \"en-us,en;q=0.5\");\n                req.Headers.Add(\"Accept-Charset\", \"ISO-8859-1,utf-8;q=0.7,*;q=0.7\");\n                req.Referer = sReferer;\n                req.ContentType = \"application/x-www-form-urlencoded\";\n                req.Headers.Add(\"Keep-Alive\", \"300\");\n\n                if (oCookieCollection != null)\n                {\n                    // Pass cookie info from the login page\n                    req.CookieContainer = SetCookieContainer(sPage);\n                }\n\n                if (sPostData.Count() % 2 == 0)\n                {\n                    // There is an even number of post names and values\n\n                    for (Int32 i = 0; i &lt;= sPostData.Count() - 1; i += 2)\n                    {\n                        // Put the post data together into one string\n                        sPostDataValue += sPostData[i] + \"=\" + sPostData[i + 1] + \"&amp;\";\n                    }\n\n                    sPostDataValue = sPostDataValue.Substring(0, sPostDataValue.Length - 1); // This will remove the extra \"&amp;\" at the end that was added from the for loop above\n\n                    // Post the data to the server\n\n                    using (StreamWriter str = new StreamWriter(req.GetRequestStream()))\n                    {\n                        str.Write(sPostDataValue);\n                        str.Close();\n                    }\n\n                    // Get the response\n\n                    nInitialCookieCount = req.CookieContainer.Count;\n\n                    using (HttpWebResponse resp = (HttpWebResponse)req.GetResponse())\n                    {\n                        if (req.CookieContainer.Count &gt; nInitialCookieCount)\n                        {\n                            // Login successful\n                            // Save new login cookies\n\n                            SaveCookies(req.CookieContainer);\n                            bReturn = true;\n\n                            // At this point you are already logged in and cookies have been saved so any code after this is unnecessary unless you want to double-check the source code\n\n                            string sSourcePage = \"\";\n\n                            using (StreamReader stw = new StreamReader(resp.GetResponseStream()))\n                            {\n                                sSourcePage = stw.ReadToEnd(); // Read the response from the server\n                            }\n\n                            System.IO.File.WriteAllText(\"testp.txt\", sSourcePage);\n                            System.Windows.Forms.MessageBox.Show(\"Loaded\");\n                            if (sSourcePage.Contains(\"&lt;span style=\\\"color: #888\\\"&gt;Hi&lt;/span&gt;\"))\n                            {\n                                System.Windows.Forms.MessageBox.Show(\"Success\");\n                            }\n                        }\n                        else\n                        {\n                            MessageBox.Show(\"The email or password you entered are incorrect.\" + System.Environment.NewLine + System.Environment.NewLine + \"Please try again.\", \"Unable to log in\", MessageBoxButtons.OK, MessageBoxIcon.Exclamation);\n                            bReturn = false;\n                        }\n                    }\n                }\n                else\n                {\n                    // Did not specify the correct amount of parameters so we cannot continue\n                    MessageBox.Show(\"POST error.  Did not supply the correct amount of post data for \" + sPage, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                    bReturn = false;\n                }\n            }\n            catch (Exception ex)\n            {\n                MessageBox.Show(\"POST error.  \" + ex.Message, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n                bReturn = false;\n            }\n\n            return bReturn;\n        }\n\n        private System.Net.CookieContainer SetCookieContainer(string sPage)\n        {\n            System.Net.CookieContainer oCookieContainerObject = new System.Net.CookieContainer();\n            System.Net.Cookie oCookie = default(System.Net.Cookie);\n\n            for (Int32 c = 0; c &lt;= oCookieCollection.Count - 1; c++)\n            {\n                oCookie = new System.Net.Cookie();\n                oCookie.Name = oCookieCollection[c].Name;\n                oCookie.Value = oCookieCollection[c].Value;\n                oCookie.Domain = new Uri(sPage).Host;\n                oCookie.Secure = false;\n                oCookieContainerObject.Add(oCookie);\n            }\n\n            return oCookieContainerObject;\n        }\n\n        private void SaveCookies(string sCookieString)\n        {\n            // Remove commas in the expires date first so that we can properly parse the cookie string\n\n            Int32 nIndex1 = sCookieString.IndexOf(\"expires=\");\n            Int32 nIndex2 = -1;\n\n            while (!(nIndex1 == -1))\n            {\n                nIndex2 = sCookieString.IndexOf(\";\", nIndex1);\n\n                if (nIndex2 &gt; -1)\n                {\n                    sCookieString = sCookieString.Substring(0, nIndex1) + sCookieString.Substring(nIndex1, nIndex2 - nIndex1).Replace(\",\", \"\") + sCookieString.Substring(nIndex2, sCookieString.Length - nIndex2);\n                }\n\n                nIndex1 = sCookieString.IndexOf(\"expires=\", nIndex2);\n            }\n\n            // Convert cookie string to global cookie collection object\n\n            string[] sCookieStrings = sCookieString.Trim().Split(\",\".ToCharArray());\n\n            oCookieCollection = new CookieCollection();\n\n            foreach (string sCookie in sCookieStrings)\n            {\n                string[] sCookieStringSeparated = sCookie.Trim().Split(\";\".ToCharArray());\n\n                if (!string.IsNullOrEmpty(sCookieStringSeparated[0].Trim()))\n                {\n                    string sName = sCookieStringSeparated[0].Trim().Split('=')[0];\n                    string sValue = sCookieStringSeparated[0].Trim().Split('=')[1];\n\n                    oCookieCollection.Add(new Cookie(sName, sValue));\n                }\n            }\n        }\n\n        private void SaveCookies(CookieContainer oCookieContainer)\n        {\n            // Convert cookie container object to global cookie collection object\n\n            oCookieCollection = new CookieCollection();\n\n            foreach (System.Net.Cookie oCookie in oCookieContainer.GetCookies(new Uri(sMainURL)))\n            {\n                oCookieCollection.Add(oCookie);\n            }\n        }\n\n        private string UrlEncode(string URLText)\n        {\n            int AscCode = 0;\n            string EncText = \"\";\n            byte[] bStr = System.Text.Encoding.ASCII.GetBytes(URLText);\n\n            try\n            {\n                for (int i = 0; i &lt; bStr.Count(); i++)\n                {\n                    AscCode = bStr[i];\n\n                    switch (AscCode)\n                    {\n                        case 46:\n                        case 48:\n                        case 49:\n                        case 50:\n                        case 51:\n                        case 52:\n                        case 53:\n                        case 54:\n                        case 55:\n                        case 56:\n                        case 57:\n                        case 65:\n                        case 66:\n                        case 67:\n                        case 68:\n                        case 69:\n                        case 70:\n                        case 71:\n                        case 72:\n                        case 73:\n                        case 74:\n                        case 75:\n                        case 76:\n                        case 77:\n                        case 78:\n                        case 79:\n                        case 80:\n                        case 81:\n                        case 82:\n                        case 83:\n                        case 84:\n                        case 85:\n                        case 86:\n                        case 87:\n                        case 88:\n                        case 89:\n                        case 90:\n                        case 95:\n                        case 97:\n                        case 98:\n                        case 99:\n                        case 100:\n                        case 101:\n                        case 102:\n                        case 103:\n                        case 104:\n                        case 105:\n                        case 106:\n                        case 107:\n                        case 108:\n                        case 109:\n                        case 110:\n                        case 111:\n                        case 112:\n                        case 113:\n                        case 114:\n                        case 115:\n                        case 116:\n                        case 117:\n                        case 118:\n                        case 119:\n                        case 120:\n                        case 121:\n                        case 122:\n                            EncText = EncText + (char)AscCode;\n                            break;\n                        case 32:\n                            EncText = EncText + \"+\";\n                            break;\n                        default:\n                            if (AscCode &lt; 16)\n                            {\n                                EncText = EncText + \"%0\" + AscCode.ToString(\"X\");\n                            }\n                            else\n                            {\n                                EncText = EncText + \"%\" + AscCode.ToString(\"X\");\n                            }\n\n                            break;\n                    }\n                }\n\n                bStr = null;\n            }\n            catch (WebException ex)\n            {\n                MessageBox.Show(ex.Message, \"Error\", MessageBoxButtons.OK, MessageBoxIcon.Error);\n            }\n\n            return EncText;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4714440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61547d6a7a72f6324f09df4e411393ac?s=128&d=identicon&r=PG&f=1", "display_name": "Soziapath", "link": "https://stackoverflow.com/users/4714440/soziapath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1427952020, "creation_date": 1427326220, "last_edit_date": 1427859221, "question_id": 29268483, "link": "https://stackoverflow.com/questions/29268483/httpwebrequest-login-return-just-login-page", "title": "HttpWebRequest Login return just Login Page", "body": "<p>I try to Login on KissAnime.com with a HttpWebRequest, but the response is just the login Page...</p>\n\n<pre><code>request = (HttpWebRequest)WebRequest.Create(\"http://www.kissanime.com/Login\");\nrequest.Method = \"POST\";\nrequest.ContentType = \"application/x-www-form-urlencoded\";\nrequest.UserAgent = \"Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:35.0) Gecko/20100101 Firefox/35.0 Cyberfox/35.0\";\nrequest.Referer = \"http://www.kissanime.com/Login\";\nString post = String.Format(\"username={0}&amp;password={1}&amp;chkRemember=on&amp;redirect=\", uname, pw);\n\nByte[] bytes = System.Text.Encoding.UTF8.GetBytes(post);\nrequest.ContentLength = bytes.Length;\n\nStream dataStream = request.GetRequestStream();\ndataStream.Write(bytes, 0, bytes.Length);\ndataStream.Close();\n\nresponse = (HttpWebResponse)request.GetResponse();\ndataStream = response.GetResponseStream();\n\nStreamReader streamr = new StreamReader(dataStream);\nString sourcePage = streamr.ReadToEnd();\n\nSystem.IO.File.WriteAllText(\"testp.txt\", sourcePage);\nSystem.Windows.Forms.MessageBox.Show(\"Loaded\");\nif (sourcePage.Contains(\"&lt;span style=\\\"color: #888\\\"&gt;Hi&lt;/span&gt;\"))\n{\n    System.Windows.Forms.MessageBox.Show(\"Success\");\n}\n</code></pre>\n\n<p>My goal is, as you might have guessed, to get logged in on the site...</p>\n"}, {"tags": ["c#", "sql-server", "linq", "entity-framework"], "answers": [{"tags": [], "owner": {"reputation": 2842, "user_id": 2071460, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/oSKx7.png?s=128&g=1", "display_name": "codingadventures", "link": "https://stackoverflow.com/users/2071460/codingadventures"}, "is_accepted": false, "score": 1, "last_activity_date": 1427326776, "creation_date": 1427326776, "answer_id": 29268575, "question_id": 29268480, "link": "https://stackoverflow.com/questions/29268480/linq-pulling-data-from-two-tables-efficiency-alternative-linq-queries/29268575#29268575", "title": "Linq - pulling data from two tables - efficiency - alternative linq queries", "body": "<p>There is nothing wrong in what you are doing. As long as you are querying a table using a primary key, an index or a foreign key it is perfectly optimized by the RDMS. </p>\n\n<p>In your case:</p>\n\n<pre><code>IEnumerable&lt;int&gt; myMessageIds \n      = recipientRepository.Recipients\n        .Where(x =&gt; x.RecipientMemberId == User.Identity.GetUserId())\n        .Select(x =&gt; x.MessageId);\n</code></pre>\n\n<p>you are using the RecipientMemberId which is a foreign key. You can rewrite the same query as follow if you want, using linq instead of lambda expressions:</p>\n\n<pre><code>var myMessageIds = from recipient in recipientRepository.Recipients\n                  let userId = User.Identity.GetUserId() // done only once\n                  where recipient.RecipientMemberId == userId\n                  select recipient.MessageId;\n</code></pre>\n\n<p>Same thing for your second query:</p>\n\n<pre><code>var inboxMessages = from message in messageRepository.Messages\n                  where myMessageIds.Contains(message.MessageId)\n                  select message;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": true, "score": 1, "last_activity_date": 1427327237, "last_edit_date": 1427327237, "creation_date": 1427326892, "answer_id": 29268593, "question_id": 29268480, "link": "https://stackoverflow.com/questions/29268480/linq-pulling-data-from-two-tables-efficiency-alternative-linq-queries/29268593#29268593", "title": "Linq - pulling data from two tables - efficiency - alternative linq queries", "body": "<pre><code>var userId = User.Identity.GetUserID();\n\nIEnumerable&lt;Message&gt; inboxMessages = Context\n       .Messages\n       .Where(x =&gt; Context.Recipients\n                          .Where(r =&gt; r.RecipientMemberId == userId)\n                          .Any(r =&gt; x.MessageId == r.MessageId));\n</code></pre>\n\n<p>But Even more so, you <strong>should</strong> have Navigation Properties on Recipient and Message.</p>\n\n<pre><code>public class Recipient\n{\n    .....\n    [Key]\n    public int Id { get; set; } // If this is your PK\n\n    public virtual ICollection&lt;Message&gt; Messages { get; set; } // navigational Property to Messages\n}\n</code></pre>\n\n<p>and your Message:</p>\n\n<pre><code>public class Message\n{\n    .....\n    [Key]\n    public int Id { get; set; } // If this is your PK\n\n    public int RecipientId { get; set; } // This would be FK\n    public virtual Recipient Recipient { get; set; } // navigational property back to Recipient\n}\n</code></pre>\n\n<p>Then you can do something like:</p>\n\n<pre><code>var recipient = Context.Recipients\n                       .Where(x =&gt; x.RecipientMemberId == userId)\n                       .FirstOrDefault()\n\nvar messages = recipient.Messages.ToList();\n</code></pre>\n\n<p>Note, this will make 2 calls to the database, one when you get the recipient. And another when you access the virtual messages property.</p>\n\n<p>To optimize this, you can tell EF to \"<code>Include</code>\"  a navigational property in its query, which will then do a join.</p>\n\n<p>E.g.</p>\n\n<pre><code>var recipient = Context.Recipients\n                       .Include(x =&gt; x.Messages)\n                       .Where(x =&gt; x.RecipientMemberId == userId)\n                       .FirstOrDefault()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5943, "user_id": 2674553, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r41zt.jpg?s=128&g=1", "display_name": "ste-fu", "link": "https://stackoverflow.com/users/2674553/ste-fu"}, "is_accepted": false, "score": 1, "last_activity_date": 1427355257, "creation_date": 1427355257, "answer_id": 29273104, "question_id": 29268480, "link": "https://stackoverflow.com/questions/29268480/linq-pulling-data-from-two-tables-efficiency-alternative-linq-queries/29273104#29273104", "title": "Linq - pulling data from two tables - efficiency - alternative linq queries", "body": "<p>You can often access related data via a navigation property. If you created your tables via code first they would look something like this :</p>\n\n<pre><code>public class Recipient \n{\n     public int RecipientId { get; set; }\n     public virtual Icollection&lt;Message&gt; Messages { get; set; }\n     // etc\n}\n\n public class Message \n {\n     public int MessageId { get; set; }\n     public virtual Recipient Recipient { get; set; }\n     // etc\n} \n</code></pre>\n\n<p>Similar properties would be generated by an edmx or dbml file.</p>\n\n<pre><code>IEnumerable&lt;Message&gt; myMessages = recipientRepository.Recipients.Where(x =&gt; x.RecipientMemberId == User.Identity.GetUserId()).SingleOrDefault().Messages;\n</code></pre>\n"}], "owner": {"reputation": 2318, "user_id": 3716837, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/3700cb8de314083e76e2225ac1ed3f3a?s=128&d=identicon&r=PG&f=1", "display_name": "nmit026", "link": "https://stackoverflow.com/users/3716837/nmit026"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 29268593, "answer_count": 3, "score": 2, "last_activity_date": 1427355257, "creation_date": 1427326207, "last_edit_date": 1427327366, "question_id": 29268480, "link": "https://stackoverflow.com/questions/29268480/linq-pulling-data-from-two-tables-efficiency-alternative-linq-queries", "title": "Linq - pulling data from two tables - efficiency - alternative linq queries", "body": "<p>I have two tables as part of a messaging system:</p>\n\n<pre><code>RECIPIENTS\nRecipientId (PK)\nRecipientMemberId (FK to user table)\nMessageId (FK to message table)\n...\n\nMESSAGES\nMessageId (PK)\n...\n</code></pre>\n\n<p>and these two linq queries:</p>\n\n<pre><code>IEnumerable&lt;int&gt; myMessageIds = recipientRepository.Recipients.Where(x =&gt; x.RecipientMemberId == User.Identity.GetUserId()).Select(x =&gt; x.MessageId);\n\nIEnumerable&lt;Message&gt; inboxMessages = messageRepository.Messages.Where(x =&gt; myMessageIds.Contains(x.MessageId));\n</code></pre>\n\n<p>which pull out a user's messages for their inbox.</p>\n\n<p>THE QUESTION:</p>\n\n<p>This works but I have a nasty feeling I'm doing it wrong. Is this inefficient? For fun, what are some alternative linq queries that would produce the same result more efficiently? Any other comments also appreciated.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c#", "xml", "xslt", "visual-studio-2013"], "comments": [{"owner": {"reputation": 47259, "user_id": 109702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1206798ebe0afcb9cb722ef597573853?s=128&d=identicon&r=PG&f=1", "display_name": "slugster", "link": "https://stackoverflow.com/users/109702/slugster"}, "edited": false, "score": 3, "creation_date": 1427327093, "post_id": 29268478, "comment_id": 46738608, "body": "The XML <code>&lt;?xsl:stylesheet &lt;abc:stylesheet xmlns=&quot;http:&#47;&#47;www.w3.org&#47;1999&#47;XSL&#47;Transform&quot; version=&quot;1.0&quot;&gt;?&gt;</code> is indeed invalid."}], "answers": [{"tags": [], "owner": {"reputation": 68419, "user_id": 7585, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Txewo.jpg?s=128&g=1", "display_name": "Tim C", "link": "https://stackoverflow.com/users/7585/tim-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1427376007, "creation_date": 1427376007, "answer_id": 29279535, "question_id": 29268478, "link": "https://stackoverflow.com/questions/29268478/xml-parsing-error-not-well-formed-when-loading-into-browser/29279535#29279535", "title": "XML Parsing Error: not well-formed when loading into browser", "body": "<p>If you are trying to insert an processing instruction into the XML, the data parameter of the <code>CreateProcessingInstruction</code> method does not need to contain the name of the processing instruction in this case. In other words you just need to do this...</p>\n\n<pre><code>  var PItext = \"xmlns:abc=\\\"http://www.w3.org/1999/XSL/Transform\\\" version=\\\"1.0\\\"\";\n  var newPI = doc.CreateProcessingInstruction(\"abc:stylesheet\", PItext);\n  doc.InsertAfter(newPI, doc.FirstChild);\n</code></pre>\n\n<p>However, I am wondering why you are trying to add this particular processing instruction to an XML document. Perhaps you mean to link an XML document to a separate XSLT document, so it will be transformed if read by a browser?</p>\n\n<p>If so, you probably need to be doing this...</p>\n\n<pre><code>  var piText = \"type=\\\"text/xsl\\\" href=\\\"style1.xsl\\\"\";\n  var newPI = doc.CreateProcessingInstruction(\"xml-stylesheet\", piText);\n  doc.InsertAfter(newPI, doc.FirstChild);\n</code></pre>\n\n<p>This will write the following processing instruction to the XML, which can then be read by the browser:</p>\n\n<pre><code>&lt;?xml-stylesheet type=\"text/xsl\" href=\"style1.xsl\"?&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4714389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b749e968d1b8fb790ed3405e18336a9?s=128&d=identicon&r=PG&f=1", "display_name": "solstice74", "link": "https://stackoverflow.com/users/4714389/solstice74"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 871, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427376007, "creation_date": 1427326195, "last_edit_date": 1427327004, "question_id": 29268478, "link": "https://stackoverflow.com/questions/29268478/xml-parsing-error-not-well-formed-when-loading-into-browser", "title": "XML Parsing Error: not well-formed when loading into browser", "body": "<p>I am working on a project in visual studio that imports a CSV, and exports an XML file. I'd like to be able be able to get the code to work as XML and HTML, and view it in a browser. I am getting this error when I load the XML file into a browser:</p>\n\n<p>Firefox</p>\n\n<blockquote>\n  <p>XML Parsing Error: not well-formed<br>\n  Location: file:///C:/Users/fenwky/XmlDoc.xml<br>\n  Line Number 2, Column 6:<code>&lt;?xsl:stylesheet &lt;abc:stylesheet xmlns=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;?&gt;</code>  </p>\n</blockquote>\n\n<p>Chrome</p>\n\n<blockquote>\n  <p>This page contains the following errors: error on line 2 at column 16: colon are forbidden from PI names 'xsl:transform'</p>\n</blockquote>\n\n<p>This is what my c# code looks like in visual studio 2013:</p>\n\n<pre><code>// Create a procesing instruction.\nXmlProcessingInstruction newPI;\n\n// Stylesheet\nString PItext = \"&lt;abc:stylesheet xmlns:abc=\\\"http://www.w3.org/1999/XSL/Transform\\\" version=\\\"1.0\\\"&gt;\";\nnewPI = doc.CreateProcessingInstruction(\"abc:stylesheet\", PItext);\ndoc.InsertAfter(newPI, doc.FirstChild);\n\n// Save document\ndoc.Save(xmlfilename);\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "model-view-controller"], "answers": [{"comments": [{"owner": {"reputation": 670, "user_id": 1698893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5609181b8ec94e02e9c7f6af768d4e9?s=128&d=identicon&r=PG", "display_name": "KnowHowSolutions", "link": "https://stackoverflow.com/users/1698893/knowhowsolutions"}, "edited": false, "score": 0, "creation_date": 1427390361, "post_id": 29268635, "comment_id": 46767390, "body": "This still doesn&#39;t work.  I don&#39;t want to invalidate all the cached items, just the one that matches the host.  The cache is an internal cache that requires a virtual path to gain access to.  What is odd to me is that I can find, with reflection, all the internal cache keys and attempt to remove by that key and that also doesn&#39;t appear to work."}], "tags": [], "owner": {"reputation": 4354, "user_id": 118447, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/387285353686e9ca8684053fd3a1a313?s=128&d=identicon&r=PG", "display_name": "JOBG", "link": "https://stackoverflow.com/users/118447/jobg"}, "is_accepted": false, "score": 0, "last_activity_date": 1427327087, "creation_date": 1427327087, "answer_id": 29268635, "question_id": 29268457, "link": "https://stackoverflow.com/questions/29268457/mvc-cache-varybyheader-need-to-remove-cache-by-header-also/29268635#29268635", "title": "MVC Cache VaryByHeader, need to remove cache by header also", "body": "<p>You can try the <code>VaryByCustom</code> </p>\n\n<pre><code>[OutputCache(Duration = 3600, VaryByCustom = \"hostname\")]\n</code></pre>\n\n<p>And define the VaryByCustom like:</p>\n\n<pre><code>    public override string GetVaryByCustomString(HttpContext Context, string Custom)\n            {\n\n                //Here you set any cache invalidation policy\n\n                if (Custom == \"hostname\")\n                {\n                    return Context.Request.Url.Host;\n                }\n\n                return base.GetVaryByCustomString(Context, Custom);\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 670, "user_id": 1698893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5609181b8ec94e02e9c7f6af768d4e9?s=128&d=identicon&r=PG", "display_name": "KnowHowSolutions", "link": "https://stackoverflow.com/users/1698893/knowhowsolutions"}, "is_accepted": false, "score": 0, "last_activity_date": 1427494974, "creation_date": 1427494974, "answer_id": 29311168, "question_id": 29268457, "link": "https://stackoverflow.com/questions/29268457/mvc-cache-varybyheader-need-to-remove-cache-by-header-also/29311168#29311168", "title": "MVC Cache VaryByHeader, need to remove cache by header also", "body": "<p>The answer is that this cannot be done in this manner.  Digging into the actual code for RemoveOutputCache where it generates the key doesn't pass in the varyby parameter and therefore I am unable to get the specific key needed.</p>\n\n<p>Perhaps if I dug a bit more into the key generation, perhaps I could write a key gen method, but I've gone a different route.  This is just to give everyone else an answer to my issue.</p>\n\n<p>Again I only wanted to vary by header, no params and be able to invalidate just that one cached item.</p>\n"}, {"tags": [], "owner": {"reputation": 1433, "user_id": 379395, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/keDQh.jpg?s=128&g=1", "display_name": "Chris Curtis", "link": "https://stackoverflow.com/users/379395/chris-curtis"}, "is_accepted": false, "score": 0, "last_activity_date": 1474056294, "last_edit_date": 1495542762, "creation_date": 1474056294, "answer_id": 39539328, "question_id": 29268457, "link": "https://stackoverflow.com/questions/29268457/mvc-cache-varybyheader-need-to-remove-cache-by-header-also/39539328#39539328", "title": "MVC Cache VaryByHeader, need to remove cache by header also", "body": "<p>I'm a little late to the party, but I had the exact same need, and ended up being inspired by the answers in this SO question: <a href=\"https://stackoverflow.com/questions/11585/clearing-page-cache-in-asp-net/2876701#2876701\">Clearing Page Cache in ASP.NET</a></p>\n\n<p>I setup the following below test, and was able to successfully clear the cache per host with no additional code...</p>\n\n<pre><code>[OutputCache(VaryByHeader = \"host\", Duration = 600, Location = OutputCacheLocation.Server)]\npublic ActionResult TestPage()\n{\n    var key = GetCacheKey(\"TestPage\");\n\n    HttpContext.Cache[key] = new object();\n    Response.AddCacheItemDependency(key);\n\n    return Content(DateTime.Now.ToString());\n}\n\npublic ActionResult TestClearCache()\n{\n    var key = GetCacheKey(\"TestPage\");\n    HttpContext.Cache.Remove(key);\n    return Content(\"Cache cleared\");\n}\n\nprivate string GetCacheKey(string page)\n{\n    return string.Concat(page, Request.Url.Host.ToLower());\n}\n</code></pre>\n"}], "owner": {"reputation": 670, "user_id": 1698893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5609181b8ec94e02e9c7f6af768d4e9?s=128&d=identicon&r=PG", "display_name": "KnowHowSolutions", "link": "https://stackoverflow.com/users/1698893/knowhowsolutions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 515, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1474056294, "creation_date": 1427326114, "last_edit_date": 1427394389, "question_id": 29268457, "link": "https://stackoverflow.com/questions/29268457/mvc-cache-varybyheader-need-to-remove-cache-by-header-also", "title": "MVC Cache VaryByHeader, need to remove cache by header also", "body": "<p>I have a MVC site that I am developing  that is multi-tenant application.  I have set up the cache to varybyheader=\"host\".  Now I'd like to invalidate the cache only by hostname.</p>\n\n<p>The RemoveOutputCacheItem only takes absolute virtual paths and isn't allowing a custom host name (there by being a non-virtual path).</p>\n\n<p>Any help on how to achieve this?</p>\n\n<p>Thanks.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Here is how I can get the internal cache keys</p>\n\n<pre><code>                    var runtimeType = typeof(HttpRuntime);\n                    var ci = runtimeType.GetProperty(\n                       \"CacheInternal\",\n                       BindingFlags.NonPublic | BindingFlags.Static);\n\n                    var cache = ci.GetValue(ci, new object[0]);\n\n                    var cachesInfo = cache.GetType().GetField(\n                        \"_caches\",\n                        BindingFlags.NonPublic | BindingFlags.Instance);\n                    var cacheEntries = cachesInfo.GetValue(cache);\n\n                    var outputCacheEntries = new List&lt;object&gt;();\n\n                    foreach (Object singleCache in cacheEntries as Array)\n                    {\n                        var singleCacheInfo =\n                        singleCache.GetType().GetField(\"_entries\",\n                           BindingFlags.NonPublic | BindingFlags.Instance);\n                        var entries = singleCacheInfo.GetValue(singleCache);\n\n                        foreach (DictionaryEntry cacheEntry in entries as Hashtable)\n                        {\n                            var cacheEntryInfo = cacheEntry.Value.GetType().GetField(\"_value\",\n                               BindingFlags.NonPublic | BindingFlags.Instance);\n                            var value = cacheEntryInfo.GetValue(cacheEntry.Value);\n                            if (value.GetType().Name == \"CachedRawResponse\")\n                            {\n                                var key = (string)cacheEntry.Value.GetType().BaseType.GetField(\"_key\", BindingFlags.Instance | BindingFlags.NonPublic).GetValue(cacheEntry.Value);\n                                key = key.Substring(key.IndexOf(\"/\"));\n                                outputCacheEntries.Add(key);\n                            }\n                        }\n                    }\n\n                    var keys = new StringBuilder();\n\n                    foreach (string key in outputCacheEntries)\n                    {\n                        if (key.Contains(Request.Url.Host))\n                        {\n                            keys.Append(key + \" \");\n                            HttpResponse.RemoveOutputCacheItem(key);\n                        }\n                    }\n</code></pre>\n\n<p>That RemoveOutputCacheItem doesn't work with this key.<br>\nThey key is generated like this: /HQNnoneV+n+FCNhostVHOSTNAME.comDE\nEven a direct call RemoveOutputCache(\"/HOSTNAME.com\") doesn't work either (with vary by custom).</p>\n\n<p><strong>Update #2</strong></p>\n\n<p>So read through the reference source code (<a href=\"http://referencesource.microsoft.com/#System.Web/HttpResponse.cs,3222f830c91ccb06\" rel=\"nofollow\">http://referencesource.microsoft.com/#System.Web/HttpResponse.cs,3222f830c91ccb06</a>) and it appears that it should attempt to create the custom key. So I should be able to RemoveOutputCache(\"/\") and it should create the custom key for me, but this also appears to not be working as expected, it still appears to clear all keys.</p>\n"}, {"tags": ["c#", "asp.net", "vb.net"], "comments": [{"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1427348111, "post_id": 29268456, "comment_id": 46743798, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/13442535/usage-of-itemplate-in-custom-control\">Usage of ITemplate in custom control</a>"}, {"owner": {"reputation": 7052, "user_id": 2084315, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/650350a4564c8b0eaeddbe972a48f076?s=128&d=identicon&r=PG&f=1", "display_name": "ps2goat", "link": "https://stackoverflow.com/users/2084315/ps2goat"}, "edited": false, "score": 0, "creation_date": 1427348157, "post_id": 29268456, "comment_id": 46743800, "body": "It looks like inheriting from <code>WebControl</code> instead of <code>Control</code> should make this work, though you still have extra work you need to do to actually create the child controls.  See the answer to the duplicate question."}], "owner": {"reputation": 2727, "user_id": 1447679, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6bc9d19c87af0feea4fff00235dd7f6f?s=128&d=identicon&r=PG", "display_name": "user1447679", "link": "https://stackoverflow.com/users/1447679/user1447679"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427344186, "creation_date": 1427326111, "last_edit_date": 1495542495, "question_id": 29268456, "link": "https://stackoverflow.com/questions/29268456/is-there-any-way-to-get-raw-text-from-a-custom-templated-control", "title": "Is there any way to get raw text from a custom templated control?", "body": "<p>I'm creating a very simple templated custom control, like:</p>\n\n<pre><code>Public Class MyControl\nInherits Control\nImplements INamingContainer\n\n&lt;TemplateInstance(TemplateInstance.Multiple)&gt; _\n&lt;TemplateContainer(GetType(MyTemplateContainer))&gt; _\n&lt;PersistenceMode(PersistenceMode.InnerProperty)&gt; _\n&lt;Browsable(True)&gt; _\n&lt;DesignerSerializationVisibility(DesignerSerializationVisibility.Content)&gt; _\n\nPublic Property ContentTemplate() As ITemplate\n    Get\n        Return m_ContentTemplate\n    End Get\n    Set(value As ITemplate)\n        m_ContentTemplate = value\n    End Set\nEnd Property\nPrivate m_ContentTemplate As ITemplate\n</code></pre>\n\n<p>I'm overriding CreateChildControls()</p>\n\n<pre><code>Protected Override Sub CreateChildControls()\n' I have access to Me.ContentTemplate but can't figure out how to read it.\n\nEnd Sub\n</code></pre>\n\n<p>And in my page:</p>\n\n<pre><code>&lt;hello:MyControl runat=\"server\"&gt;\n    &lt;ContentTemplate&gt;\n        I want this text\n    &lt;/ContentTemplate&gt;\n&lt;/hello:MyControl&gt;\n</code></pre>\n\n<p>This is obviously not all my code, but basically using ITemplate. I want to be able to grab everything entered between the opening and closing ContentTemplate tags.</p>\n\n<p>Failed with this: <a href=\"https://stackoverflow.com/questions/2789453/how-to-get-rendered-text-from-controls-or-text-contained-by-a-custom-control-in\">How to get rendered text from controls or text contained by a custom control in ASP.NET?</a></p>\n\n<p>And this: <a href=\"https://msdn.microsoft.com/en-us/library/36574bf6.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/36574bf6.aspx</a></p>\n\n<p>I basically need that raw text, no matter what it is... div tags, span tags, just text, just ... whatever is in it.</p>\n\n<p>I have to be missing something simple. </p>\n"}, {"tags": ["c#", "visual-studio-2013"], "answers": [{"tags": [], "owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "is_accepted": true, "score": 4, "last_activity_date": 1427326886, "last_edit_date": 1427326886, "creation_date": 1427326266, "answer_id": 29268493, "question_id": 29268419, "link": "https://stackoverflow.com/questions/29268419/listbox-is-displaying-class-name-instead-of-values/29268493#29268493", "title": "Listbox is displaying class name instead of values", "body": "<p>You simply need to add an override of the <code>ToString()</code> method in your classes.<br>\nThe override returns the value that you choose to display in your ListBoxes.</p>\n\n<p>The ListBox, when is ready to display the items, use the <code>ToString</code> method of the class instance that is added to its items collection. If there is no ToString() then the base class <code>Object.ToString()</code> is used and that method returns just the class name</p>\n\n<p>For example you could change the Dog class with</p>\n\n<pre><code>class Dog : Mammal\n{\n    public Dog()\n    {\n    }\n    public Dog(Mammal other)\n    {\n       this.Name = other.Name;\n       this.Age = other.Age;\n       this.Teeth = other.Teeth;\n    } \n    public override string ToString()\n    {\n       return string.Format(\"{0}, {1}, {2}\", \n               this.Name, this.Age, this.Teeth);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1551, "user_id": 2247996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s2iYt.png?s=128&g=1", "display_name": "Hjalmar Z", "link": "https://stackoverflow.com/users/2247996/hjalmar-z"}, "reply_to_user": {"reputation": 81, "user_id": 4530215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b30234412f880b488398a7cafef08aa?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/4530215/simon"}, "edited": false, "score": 0, "creation_date": 1427327851, "post_id": 29268522, "comment_id": 46738817, "body": "@Simon No worries :) Just as an extra note, you can actually put this override in your base class, Animal, and it will be carried over to all the subclasses. As long as they don&#39;t override ToString themselves they will also return <code>Name, Age</code>."}, {"owner": {"reputation": 81, "user_id": 4530215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b30234412f880b488398a7cafef08aa?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/4530215/simon"}, "edited": false, "score": 0, "creation_date": 1427411409, "post_id": 29268522, "comment_id": 46778054, "body": "Kan du hj&#228;lpa mig med den h&#228;r fr&#229;gan? <a href=\"http://stackoverflow.com/questions/29283543/listbox-cannot-display-child-class-variable\">link</a>"}], "tags": [], "owner": {"reputation": 1551, "user_id": 2247996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s2iYt.png?s=128&g=1", "display_name": "Hjalmar Z", "link": "https://stackoverflow.com/users/2247996/hjalmar-z"}, "is_accepted": false, "score": 5, "last_activity_date": 1447748457, "last_edit_date": 1447748457, "creation_date": 1427326412, "answer_id": 29268522, "question_id": 29268419, "link": "https://stackoverflow.com/questions/29268419/listbox-is-displaying-class-name-instead-of-values/29268522#29268522", "title": "Listbox is displaying class name instead of values", "body": "<p>You need to override the <code>ToString()</code>-method. Note the <code>override</code> keyword in the signature.</p>\n\n<pre><code>public override string ToString()\n{\n    //You can put anything here and it will be returned by the ToString()-method.\n    return this.Name + \", \" + this.Age;\n}\n</code></pre>\n\n<p>Put this code in your <code>Dog</code>-class. It will make <code>dog.ToString()</code> return <code>Name, Age</code>.</p>\n\n<p>Also, you can actually put this override in your base class, Animal, and it will be carried over to all the subclasses. As long as they don't override <code>ToString()</code> themselves they will also return <code>Name, Age</code>. </p>\n"}], "owner": {"reputation": 81, "user_id": 4530215, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b30234412f880b488398a7cafef08aa?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/4530215/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 0, "accepted_answer_id": 29268493, "answer_count": 2, "score": 3, "last_activity_date": 1447748457, "creation_date": 1427325930, "question_id": 29268419, "link": "https://stackoverflow.com/questions/29268419/listbox-is-displaying-class-name-instead-of-values", "title": "Listbox is displaying class name instead of values", "body": "<p>I'm working on a project where the user is supposed to input values to animal (Name, age, gender etc..) and the values entered by the user are  supposed to display on a list-box\nThe classes inherit from each other. Here is how the inheritance work:</p>\n\n<blockquote>\n  <p><em>Animal</em> class is the parent for all classes.</p>\n  \n  <p><em>Mammal</em> class inherit from <em>Animal</em> class.</p>\n  \n  <p><em>Dog</em> class inherit from <em>Mammal</em> class.</p>\n  \n  <p><em>Cat</em> class inherit from <em>Mammal</em> class</p>\n  \n  <p><em>Reptile</em> class inherit from <em>Animal</em> class</p>\n  \n  <p><em>Snake</em> class inherit from <em>Reptile</em> class</p>\n  \n  <p><em>Lizard</em> class inherit from <em>Reptile</em> class</p>\n</blockquote>\n\n<p>The user is able to choose what animal to create. There is one listbox showing the type of animal (Mammal and Reptile) and there is a listbox next to it that that depending on the type of animal selected by the user, it displays its animals. </p>\n\n<p>For exampel, if the user selects <em>Mammal</em> in the listbox, the listbox next to it displays <em>Dog</em> and <em>Cat</em>.</p>\n\n<p>This is working perfectly and it's not the problem. </p>\n\n<p><strong>The problem</strong> is that when the user enters the animal values (Name and Age) after selecting the animal type in the listbox(for example <em>Mammal</em>, <em>Dog</em>) and clicks the add button, the  result listbox displays <em>Assign1_1.Mammal</em> when trying to add a Mammal animal and <em>Assign_1.Reptile</em> when trying to add a Reptile animal.</p>\n\n<p>What I want it to do is to display the values the user entered (Name and Age) in the result listbox but instead it just says <em>Assign1.Mammal</em> or <em>Assign1.Reptile</em> depending on the selected animal. </p>\n\n<p>Here is my MainForm code:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace Assign_1\n{\n    public partial class MainForm : Form\n    {\n        private Dog m_dog = new Dog();\n        private Cat m_cat = new Cat();\n        private Snake m_snake = new Snake();\n        private Lizard m_lizard = new Lizard();\n        private AnimalManager animalmgr  = null;\n        private Animal m_animal = new Animal();\n        public MainForm()\n        {\n\n            //Visual Studio initializations\n            InitializeComponent();\n\n            //My initializations\n            InitializeGUI();\n            Gendercmb.DataSource = Enum.GetValues(typeof(GenderType));\n            Categorylst.DataSource = Enum.GetValues(typeof(Categorytype));\n            animalmgr = new AnimalManager();\n\n        }\n\n        private void InitializeGUI()\n        {\n            ReadInput();\n        }\n\n        private void ReadInput()\n        {\n            m_animal.Name = ReadName();\n            m_animal.Age = ReadAge();\n        }\n        private int ReadAge()\n        {\n            int age = 0;\n\n            int.TryParse(Agetxt.Text, out age);\n\n            return age;\n        }\n\n        private string ReadName()\n        {\n            string name = \"\";\n            name = Nametxt.Text;\n            return name;\n        }\n\n        private void addMammal(Mammal values)\n        {\n\n            ReadInput();\n\n            switch ((MammalType)Animallst.SelectedIndex)\n            {\n                 case MammalType.Dog:\n                    {\n\n                        // Use a copy constructor to set a dog with common data\n                        Dog m_dog = new Dog(values);\n                        // If more data in GUI to fill in for this animal, do it here\n                        //Then send it to the manager for adding to the list\n                        animalmgr.add(m_dog);\n                        break;\n                   } \n                case MammalType.Cat:\n                    {\n                        Cat m_cat = new Cat();\n                        animalmgr.add(m_cat);\n                        break;\n                    }\n            }\n        }\n\n        private void AddReptile(Reptile values)\n        {\n            ReadInput();\n\n            switch ((ReptileType)Animallst.SelectedIndex)\n            {\n                case ReptileType.Snake:\n                    {\n\n                        // Use a copy constructor to set a snake with common data\n                        Snake m_snake = new Snake(values);\n                        // If more data in GUI to fill in for this animal, do it here\n                        //Then send it to the manager for adding to the list\n                        animalmgr.add(m_snake);\n                        break;\n                    }\n                case ReptileType.Lizard:\n                    {\n                        Lizard m_lizard = new Lizard();\n                        animalmgr.add(m_lizard);\n                        break;\n                    }\n            }\n        }\n\n        //When user clicks \"Add to list\"\n        private void button1_Click(object sender, EventArgs e)\n        {\n            ReadInput();\n\n            switch ((Categorytype)Categorylst.SelectedIndex)\n            {\n                case Categorytype.Mammal:\n                    {\n                        Mammal mammal = new Mammal(m_animal);\n                        addMammal(mammal);\n                        break;\n                    }\n                case Categorytype.Reptile:\n                    {\n                        Reptile m_reptile = new Reptile(m_animal);\n                        AddReptile(m_reptile);\n                        break;\n                    }\n\n\n            }\n            UpdateResults();\n        }\n        private void UpdateResults()\n        {\n\n            Resultlst.Items.Clear();  //Erase current list\n            //Get one elemnet at a time from manager, and call its \n            //ToString method for info - send to listbox\n            for (int index = 0; index &lt; animalmgr.ElementCount; index++)\n            {\n                Animal animal = animalmgr.GetElementAtPosition(index);\n\n                Resultlst.Items.Add(animal.ToString());\n            }\n        }\n</code></pre>\n\n<p>Here is my Animal manager class:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Assign_1\n{\n    class AnimalManager\n    {\n        private List&lt;Animal&gt; m_animal;\n        private List&lt;Mammal&gt; m_mammal;\n        public AnimalManager()\n        {\n            //In this list objects off diff animals of all species are saved\n            m_animal = new List&lt;Animal&gt;();\n            m_mammal = new List&lt;Mammal&gt;();\n        }\n\n\n        public void add(Animal ObjIn)\n        {\n            m_animal.Add(ObjIn);\n        }\n\n        public bool IsIndexValid(int index)\n        {\n            return ((index &gt;= 0) &amp;&amp; (index &lt; m_animal.Count));\n        }\n\n        public Animal GetElementAtPosition(int index)\n        {\n            //We choose to return a copy, why do I need type casting when copying?\n        if (IsIndexValid(index))\n            {\n                if (m_animal[index] is Mammal)\n                    return new Mammal((Mammal)m_animal[index]);\n                if (m_animal[index] is Reptile)\n                    return new Reptile((Reptile)m_animal[index]);\n                return null;\n            }\n            else\n                return null;\n        }\n\n        public int ElementCount\n        {\n            get { return m_animal.Count; }\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>Here is my mammal class:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Assign_1\n{\n    class Mammal : Animal\n    {\n        private MammalType theMammal;\n        private int teeth;\n\n\n        public Mammal() : base()\n             {\n\n             }\n        public Mammal(Animal other)\n        {\n            this.Name = other.Name;\n            this.Age = other.Age;\n            this.Gender = other.Gender;\n            this.Id = other.Id;\n\n        }\n\n        public Mammal (MammalType type)\n        {\n            theMammal = type; \n        }\n\n#region Props\n        public MammalType TheMammal\n        {\n            get { return theMammal; }\n            set { theMammal = value; }\n        }\n\n\n        public int Teeth\n        {\n            get { return teeth; }\n            set { teeth = value; }\n         }\n#endregion\n\n\n    }\n}\n</code></pre>\n\n<p>Here is my Dog class:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Assign_1\n{\n    class Dog : Mammal\n    {\n\n\n        public Dog()\n        {\n\n        }\n      public Dog(Mammal other)\n    {\n      this.Name = other.Name;\n      this.Age = other.Age;\n      this.Teeth = other.Teeth;\n    }\n\n\n    }\n}\n</code></pre>\n\n<p><strong>EDIT</strong>\nTo do this simpler, I'm only showing child class <em>Mammal</em> and <em>Dog</em>. If I'm able to figure out how to create a <em>Dog</em>, I can probably fix the others as well. </p>\n"}, {"tags": ["c#", "wpf", "silverlight", "out-of-browser"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 2659663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A1AAF.png?s=128&g=1", "display_name": "Nooodles", "link": "https://stackoverflow.com/users/2659663/nooodles"}, "is_accepted": false, "score": 0, "last_activity_date": 1427361542, "creation_date": 1427361542, "answer_id": 29274743, "question_id": 29268394, "link": "https://stackoverflow.com/questions/29268394/silverlight-oob-how-to-throw-exception-and-exit-program-with-messagebox/29274743#29274743", "title": "Silverlight OOB How to throw exception and exit program with Messagebox", "body": "<p>Exceptions work in Silverlight as in any C# code.</p>\n\n<p>Here's a simple sample code that should help you.</p>\n\n<pre><code>try\n{\n  //Whatever you want to try\n}\ncatch(Exception e)\n{\n  //Display error message\n  MessageBox.Show(e.Message);\n\n  //Close the application\n  Application.Current.MainWindow.Close();\n}\n</code></pre>\n"}], "owner": {"reputation": 1861, "user_id": 1034912, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f0691a2ca07f4f91f41e71919f669e22?s=128&d=identicon&r=PG", "display_name": "user1034912", "link": "https://stackoverflow.com/users/1034912/user1034912"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427361542, "creation_date": 1427325832, "question_id": 29268394, "link": "https://stackoverflow.com/questions/29268394/silverlight-oob-how-to-throw-exception-and-exit-program-with-messagebox", "title": "Silverlight OOB How to throw exception and exit program with Messagebox", "body": "<p>In Silverlight Out of Broweser, How does one:\n1) Throw an Exception\n2) Display Messagebox with the error\n3) Terminate the Application?</p>\n\n<p>Can't seem to find any info on the net. Cheers!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 2, "creation_date": 1427325867, "post_id": 29268392, "comment_id": 46738211, "body": "&quot;It doesn&#39;t work&quot; is not a problem statement. Please explain exactly what your issue is."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 2, "creation_date": 1427325956, "post_id": 29268392, "comment_id": 46738236, "body": "Try again, provide your inputs and the outputs that you see. Don&#39;t count on us to just magically compile and run the code in our heads :)"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1427327521, "post_id": 29268392, "comment_id": 46738722, "body": "In your second while loop, it looks like you&#39;re assigning the input to variable <code>one</code> instead of <code>two</code> in the <code>else</code> clause. You should probably remove that line...(using my in-head compiler)"}], "answers": [{"tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": true, "score": 0, "last_activity_date": 1427327899, "last_edit_date": 1427327899, "creation_date": 1427327845, "answer_id": 29268750, "question_id": 29268392, "link": "https://stackoverflow.com/questions/29268392/program-broken-not-sure-why-variables-are-wrong/29268750#29268750", "title": "Program Broken, Not sure why variables are wrong", "body": "<pre><code>                two = Convert.ToDouble(check);\n                if (two == 0)\n                {\n                    Console.WriteLine(\"You cannot divide by zero, try again.\");\n                }\n                else\n                {\n                one = Convert.ToDouble(check);\n                    break;\n                }\n</code></pre>\n\n<p>This should be </p>\n\n<pre><code>                two = Convert.ToDouble(check);\n                if (two == 0)\n                {\n                    Console.WriteLine(\"You cannot divide by zero, try again.\");\n                }\n                else\n                {\n                    break;\n                }\n</code></pre>\n\n<p>On another note, you don't need to convert twice, you can pass a value by reference by boxing it. </p>\n\n<pre><code>    // Notice the out keyword ---------\\  /\n    //                                  \\/\n    static Boolean CheckParse(string x, out double y)\n    {\n        // out keyword-----------\\  /\n        //                        \\/\n        return double.TryParse(x, out y);\n    }\n</code></pre>\n\n<p>Have a look at: </p>\n\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=ZcouA7mu2aQ\" rel=\"nofollow\">C# Beginners Tutorial - 153 - Ref and Out Keywords</a></li>\n<li><a href=\"http://Output%20parameters\" rel=\"nofollow\">MSDN - Output Parameters</a></li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 1648761, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2e2d2f8e9b2b0f99004fb2b09ec71fcc?s=128&d=identicon&r=PG", "display_name": "gabessdsp", "link": "https://stackoverflow.com/users/1648761/gabessdsp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 29268750, "answer_count": 1, "score": -2, "last_activity_date": 1427327899, "creation_date": 1427325826, "last_edit_date": 1427325889, "question_id": 29268392, "link": "https://stackoverflow.com/questions/29268392/program-broken-not-sure-why-variables-are-wrong", "title": "Program Broken, Not sure why variables are wrong", "body": "<p>I need help with a class assignment, I use try-catch at first but now he wants me to try and do the error checking without try-catch. I had it working and then he also wanted me to use a method for the math that had executing twice and have now broken my program and I'm not sure why.</p>\n\n<p>The program is supposed to take two numbers, and then display the sum, quotient, product, and difference. But as far as I can tell the math is being done with random numbers.</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace TeamStuff\n{\n    class Program\n    {\n\n        static void Main(string[] args)\n        {\n            double one = 2, two = 1;\n            string check = null;\n\n            while (true)\n            {\n                Console.WriteLine(\"Enter number 1: \");\n                check = Console.ReadLine();\n\n                if (CheckParse(check, one) == true)\n                {\n                    one = Convert.ToDouble(check);\n                    break;\n                }\n\n            }\n\n            while (true)\n            {\n                Console.WriteLine(\"Enter number 2: \");\n                check = Console.ReadLine();\n\n                if (CheckParse(check, two) == true)\n                {\n                    two = Convert.ToDouble(check);\n                    if (two == 0)\n                    {\n                        Console.WriteLine(\"You cannot divide by zero, try again.\");\n                    }\n                    else\n                    {\n                    one = Convert.ToDouble(check);\n                        break;\n                    }\n                }\n\n            }\n\n            Console.WriteLine(\"Sum=\" + (one + two) +\n                \"\\nProduct= \" + (one * two) +\n                \"\\nDifference= \" + (one-two) +\n                \"\\nQuotient= \" + (one/two)\n                );\n\n            Console.ReadLine();\n        }\n\n\n        static Boolean CheckParse(string x, double y)\n        {\n            return double.TryParse(x, out y);\n        }\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xml-namespaces", "xmlserializer"], "comments": [{"owner": {"reputation": 2122, "user_id": 1916631, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/231480f4b0b8c79cf0e28e6e74354fcb?s=128&d=identicon&r=PG&f=1", "display_name": "a&#39;&#39;", "link": "https://stackoverflow.com/users/1916631/a"}, "edited": false, "score": 0, "creation_date": 1427353207, "post_id": 29268348, "comment_id": 46745185, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/9392555/remove-d1p1-namespace-prefix-in-datacontractserializer-xml-output\">Remove &quot;d1p1&quot; namespace prefix in DataContractSerializer XML output</a>"}, {"owner": {"reputation": 2807, "user_id": 1438809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/458bf2133dbca336a14fbfcd20782b7a?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/1438809/felix"}, "reply_to_user": {"reputation": 2122, "user_id": 1916631, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/231480f4b0b8c79cf0e28e6e74354fcb?s=128&d=identicon&r=PG&f=1", "display_name": "a&#39;&#39;", "link": "https://stackoverflow.com/users/1916631/a"}, "edited": false, "score": 0, "creation_date": 1427397431, "post_id": 29268348, "comment_id": 46771313, "body": "@erem I don&#39;t reckon it&#39;s a duplicate, see my edit."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1427582036, "post_id": 29268348, "comment_id": 46837581, "body": "Do you also need to deserialize?"}, {"owner": {"reputation": 2807, "user_id": 1438809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/458bf2133dbca336a14fbfcd20782b7a?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/1438809/felix"}, "reply_to_user": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1427601609, "post_id": 29268348, "comment_id": 46841637, "body": "@dbc Nah, only need to serialize."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427681746, "post_id": 29268348, "comment_id": 46862934, "body": "Why do you want to get rid of those attributes?"}, {"owner": {"reputation": 2807, "user_id": 1438809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/458bf2133dbca336a14fbfcd20782b7a?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/1438809/felix"}, "edited": false, "score": 0, "creation_date": 1427683328, "post_id": 29268348, "comment_id": 46863316, "body": "I&#39;m trying to import to an application via XML, so I&#39;m following the specification for their XML import file.  Their specification doesn&#39;t include the attributes, so I didn&#39;t want them either.  Hm, I never actually considered just leaving them in and seeing whether it works."}], "answers": [{"tags": [], "owner": {"reputation": 2807, "user_id": 1438809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/458bf2133dbca336a14fbfcd20782b7a?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/1438809/felix"}, "is_accepted": false, "score": 1, "last_activity_date": 1427492170, "creation_date": 1427492170, "answer_id": 29310596, "question_id": 29268348, "link": "https://stackoverflow.com/questions/29268348/how-to-remove-unwanted-attributes-after-using-xmlnclude/29310596#29310596", "title": "How to remove unwanted attributes after using Xmlnclude?", "body": "<p>This is a workaround, not really a solution.</p>\n\n<p>Instead of using a base class and subclasses I used just a single big class, which avoids the need for <code>XmlInclude</code>, which avoids the unwanted attributes (<code>d4p1:type</code> and <code>xmlns:d4p1</code>).</p>\n\n<p>The single big class I'm using basically has all the properties of the previous subclasses combined.  Depending on which role the class is, only a subset of properties are use.</p>\n\n<p>This is pretty ugly, so if anyone has a proper solution that'd be mean!</p>\n"}, {"comments": [{"owner": {"reputation": 2807, "user_id": 1438809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/458bf2133dbca336a14fbfcd20782b7a?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/1438809/felix"}, "edited": false, "score": 0, "creation_date": 1427680455, "post_id": 29325749, "comment_id": 46862626, "body": "Thanks so much for the detailed answer!  I&#39;ve tried running your solution in it&#39;s own project, but in the line <code>var xml = manifest.GetXml(ManifestHeader.GetXmlSerializerNamespaces())&zwnj;&#8203;;</code> I get an error:  <code>Error\t1\t&#39;XmlSerialisation.ManifestHeader&#39; does not contain a definition for &#39;GetXml&#39; and no extension method &#39;GetXml&#39; accepting a first argument of type &#39;XmlSerialisation.ManifestHeader&#39; could be found (are you missing a using directive or an assembly reference?)\tC:\\ws\\XmlSerialisation\\XmlSerialisation\\Program.&zwnj;&#8203;cs\t61\t32\tXmlSerialis&zwnj;&#8203;ation</code>.  Any ideas?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "reply_to_user": {"reputation": 2807, "user_id": 1438809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/458bf2133dbca336a14fbfcd20782b7a?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/1438809/felix"}, "edited": false, "score": 0, "creation_date": 1427681365, "post_id": 29325749, "comment_id": 46862849, "body": "@Felix - that&#39;s an extension method I use for serializing to XML for testing purposes.  Included it."}], "tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 3, "last_activity_date": 1427681323, "last_edit_date": 1427681323, "creation_date": 1427604998, "answer_id": 29325749, "question_id": 29268348, "link": "https://stackoverflow.com/questions/29268348/how-to-remove-unwanted-attributes-after-using-xmlnclude/29325749#29325749", "title": "How to remove unwanted attributes after using Xmlnclude?", "body": "<p>The attribute <a href=\"http://www.w3.org/TR/xmlschema-1/#xsi_type\" rel=\"nofollow\"><code>\"{http://www.w3.org/2001/XMLSchema-instance}type\"</code></a>, which usually appears with the prefix \"<code>xsi:type</code>\", is a standard way for a polymorphic element to explicitly assert its type.  <code>XmlSerializer</code>  uses it to <a href=\"https://msdn.microsoft.com/en-us/library/ca1ks327%28v=vs.85%29.aspx\" rel=\"nofollow\">determine the type to deserialize</a> -- and thus writes it during <em>serialization</em> for use later.</p>\n\n<p>There's no trivial way to suppress output of the type while keeping the <em>same element name</em> for each polymorphic type.  (It would be easy if you had a different element name for each subclass of <code>AParty</code>, but you don't.)  The best option would be for <code>ManifestHeader</code> to implement <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.ixmlserializable%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>IXmlSerializable</code></a>.  You don't fully specify the <code>ManifestHeader</code>, so consider the following example:</p>\n\n<pre><code>[XmlRoot(\"ManifestHeader\", Namespace = ManifestHeader.XmlNamespace)]\npublic class ManifestHeader : IXmlSerializable\n{\n    public const string XmlNamespace = \"MyNamespace\";\n\n    public static XmlSerializerNamespaces GetXmlSerializerNamespaces()\n    {\n        var ns = new XmlSerializerNamespaces();\n        ns.Add(\"\", ManifestHeader.XmlNamespace);\n        return ns;\n    }\n\n    // Some example properties\n\n    public string AProperty { get; set; }\n\n    public string ZProperty { get; set; }\n\n    // The list of parties.\n\n    public AParty[] Parties { get; set; }\n\n    #region IXmlSerializable Members\n\n    XmlSchema IXmlSerializable.GetSchema()\n    {\n        return null;\n    }\n\n    void IXmlSerializable.ReadXml(XmlReader reader)\n    {\n        throw new NotImplementedException();\n    }\n\n    void IXmlSerializable.WriteXml(XmlWriter writer)\n    {\n        var ns = GetXmlSerializerNamespaces();\n        writer.WriteElementString(\"ZProperty\", ZProperty);\n        foreach (var value in Parties)\n        {\n            XmlSerializationHelper.SerializeElementTo(value, \"Party\", ManifestHeader.XmlNamespace, writer, ns);\n        }\n        writer.WriteElementString(\"AProperty\", AProperty);\n    }\n    #endregion\n}\n\npublic abstract class AParty\n{\n    [XmlAttribute]\n    public abstract string Role { get; set; } // Returns a constant string; setter does nothing.\n}\n</code></pre>\n\n<p>This manually serializes the properties of <code>ManifestHeader</code> (if any), loops through the elements of the <code>Party</code> array and serializes each, replacing their element names with <code>\"Party\"</code>.</p>\n\n<p>It uses the following helper methods.  Note that, if one is to override the root element name using the <a href=\"https://msdn.microsoft.com/en-us/library/f1wczcys%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>XmlSerializer(Type, XmlRootAttribute)</code></a> constructor, one <em>must</em> <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.serialization.xmlserializer%28v=vs.110%29.aspx\" rel=\"nofollow\">cache the serializer in a hash table to avoid a horrible memory leak</a>:</p>\n\n<pre><code>public static class XmlSerializationHelper\n{\n    public static void SerializeElementTo&lt;T&gt;(T value, string elementName, string elementNamespace, XmlWriter writer, XmlSerializerNamespaces ns)\n    {\n        var serializer = XmlSerializerRootAttributeCache.DemandSerializer(value.GetType(), elementName, elementNamespace);\n        serializer.Serialize(writer, value, ns);\n    }\n\n    public static string GetXml&lt;T&gt;(this T obj)\n    {\n        return GetXml(obj, false);\n    }\n\n    public static string GetXml&lt;T&gt;(this T obj, bool omitNamespace)\n    {\n        return GetXml(obj, new XmlSerializer(obj.GetType()), omitNamespace);\n    }\n\n    public static string GetXml&lt;T&gt;(this T obj, XmlSerializer serializer)\n    {\n        return GetXml(obj, serializer, false);\n    }\n\n    public static string GetXml&lt;T&gt;(T obj, XmlSerializer serializer, bool omitStandardNamespaces)\n    {\n        XmlSerializerNamespaces ns = null;\n        if (omitStandardNamespaces)\n        {\n            ns = new XmlSerializerNamespaces();\n            ns.Add(\"\", \"\"); // Disable the xmlns:xsi and xmlns:xsd lines.\n        }\n        return GetXml(obj, serializer, ns);\n    }\n\n    public static string GetXml&lt;T&gt;(T obj, XmlSerializer serializer, XmlSerializerNamespaces ns)\n    {\n        using (var textWriter = new StringWriter())\n        {\n            var settings = new XmlWriterSettings() { Indent = true, IndentChars = \"    \" }; // For cosmetic purposes.\n            using (var xmlWriter = XmlWriter.Create(textWriter, settings))\n                serializer.Serialize(xmlWriter, obj, ns);\n            return textWriter.ToString();\n        }\n    }\n\n    public static string GetXml&lt;T&gt;(this T obj, XmlSerializerNamespaces ns)\n    {\n        return GetXml(obj, new XmlSerializer(obj.GetType()), ns);\n    }\n}\n\npublic static class XmlSerializerRootAttributeCache\n{\n    readonly static Dictionary&lt;Tuple&lt;Type, string, string&gt;, XmlSerializer&gt; cache;\n    readonly static object padlock = new object();\n\n    static XmlSerializerRootAttributeCache()\n    {\n        cache = new Dictionary&lt;Tuple&lt;Type, string, string&gt;, XmlSerializer&gt;();\n    }\n\n    static XmlSerializer CreateSerializer(Type rootType, string rootName, string rootNamespace)\n    {\n        return new XmlSerializer(rootType, new XmlRootAttribute { ElementName = rootName, Namespace = rootNamespace });\n    }\n\n    public static XmlSerializer DemandSerializer(Type rootType, string rootName, string rootNamespace)\n    {\n        var key = Tuple.Create(rootType, rootName, rootNamespace);\n        lock (padlock)\n        {\n            XmlSerializer serializer;\n            if (!cache.TryGetValue(key, out serializer))\n                serializer = cache[key] = CreateSerializer(rootType, rootName, rootNamespace);\n            return serializer;\n        }\n    }\n}\n</code></pre>\n\n<p>Here is a simple test case:</p>\n\n<pre><code>[XmlRoot(\"ChargeParty\", Namespace = ManifestHeader.XmlNamespace)]\n[XmlType(\"ChargeParty\", Namespace = ManifestHeader.XmlNamespace)]\npublic sealed class ChargeParty : AParty\n{\n    [XmlAttribute]\n    public override string Role\n    {\n        get\n        {\n            return \"CHARGE\";\n        }\n        set\n        {\n        }\n    }\n\n    public bool IsCharging { get; set; }\n}\n\n[XmlRoot(\"SenderParty\", Namespace = ManifestHeader.XmlNamespace)]\n[XmlType(\"SenderParty\", Namespace = ManifestHeader.XmlNamespace)]\npublic sealed class SenderParty : AParty\n{\n    [XmlAttribute]\n    public override string Role\n    {\n        get\n        {\n            return \"SENDER\";\n        }\n        set\n        {\n        }\n    }\n\n    public string SenderName { get; set; }\n}\n\npublic static class TestClass\n{\n    public static void Test()\n    {\n        var manifest = new ManifestHeader\n        {\n            AProperty = \"A property\",\n            ZProperty = \"Z Property\",\n            Parties = new AParty[] { new SenderParty { SenderName = \"Sender Name\" }, new ChargeParty { IsCharging = true }, new SenderParty { SenderName = \"Another Sender Name\" }, new SenderParty { SenderName = \"Yet Another Sender Name\" }, new ChargeParty { IsCharging = false } }\n        };\n        var xml = manifest.GetXml(ManifestHeader.GetXmlSerializerNamespaces());\n        Debug.WriteLine(xml);\n    }\n}\n</code></pre>\n\n<p>Which produces:</p>\n\n<blockquote>\n<pre><code>&lt;ManifestHeader xmlns=\"MyNamespace\"&gt;\n    &lt;ZProperty&gt;Z Property&lt;/ZProperty&gt;\n    &lt;Party Role=\"SENDER\"&gt;\n        &lt;SenderName&gt;Sender Name&lt;/SenderName&gt;\n    &lt;/Party&gt;\n    &lt;Party Role=\"CHARGE\"&gt;\n        &lt;IsCharging&gt;true&lt;/IsCharging&gt;\n    &lt;/Party&gt;\n    &lt;Party Role=\"SENDER\"&gt;\n        &lt;SenderName&gt;Another Sender Name&lt;/SenderName&gt;\n    &lt;/Party&gt;\n    &lt;Party Role=\"SENDER\"&gt;\n        &lt;SenderName&gt;Yet Another Sender Name&lt;/SenderName&gt;\n    &lt;/Party&gt;\n    &lt;Party Role=\"CHARGE\"&gt;\n        &lt;IsCharging&gt;true&lt;/IsCharging&gt;\n    &lt;/Party&gt;\n    &lt;AProperty&gt;A property&lt;/AProperty&gt;\n&lt;/ManifestHeader&gt;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 2807, "user_id": 1438809, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/458bf2133dbca336a14fbfcd20782b7a?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/1438809/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1639, "favorite_count": 0, "accepted_answer_id": 29325749, "answer_count": 2, "score": 1, "last_activity_date": 1427681711, "creation_date": 1427325569, "last_edit_date": 1495542583, "question_id": 29268348, "link": "https://stackoverflow.com/questions/29268348/how-to-remove-unwanted-attributes-after-using-xmlnclude", "title": "How to remove unwanted attributes after using Xmlnclude?", "body": "<p>I'm trying to serialise to the following XML:</p>\n\n<pre><code>...\n&lt;ManifestHeader&gt;\n    &lt;Party Role=\"CHARGE\"&gt;\n        &lt;f:Name&gt;Name1&lt;/f:Name&gt;\n        ...\n    &lt;/Party&gt;\n    &lt;Party Role=\"SENDER\"&gt;\n        &lt;Name&gt;Name2&lt;/Name&gt;\n        ...\n    &lt;/Party&gt;\n&lt;/ManifestHeader&gt;\n...\n</code></pre>\n\n<p>But I'm getting some unwanted attributes:</p>\n\n<pre><code>&lt;ManifestHeader&gt;\n    &lt;Party d4p1:type=\"PickupParty\" Role=\"CHARGE\" xmlns:d4p1=\"http://www.w3.org/2001/XMLSchema-instance\"&gt;\n        &lt;f:Name&gt;Name1&lt;/f:Name&gt;\n        ...\n</code></pre>\n\n<p><strong>How do I get rid of the <code>d4p1:type</code> and <code>xmlns:d4p1</code> attributes?</strong></p>\n\n<p>I have an abstract class <code>AParty</code> with two subclasses <code>ChargeParty</code> and <code>SenderParty</code>.</p>\n\n<p>In my <code>ManifestHeader</code> class I have:</p>\n\n<pre><code>    [XmlElement(\"Party\")]\n    public AParty[] Parties;\n</code></pre>\n\n<p>I use <code>XmlInclude</code> as follows:</p>\n\n<pre><code>[XmlInclude(typeof(PickupParty))]\n[XmlInclude(typeof(SenderParty))]\n</code></pre>\n\n<p>In my serialzer I use a custom namespace: </p>\n\n<pre><code>serialiser.Serialize(file, this, nameSpace);\n</code></pre>\n\n<p>Any ideas?</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>I checked out <a href=\"https://stackoverflow.com/q/9392555/1438809\">that question</a> before posting my question.  Firstly I'm using <code>XmlSerializer</code> not <code>DataContractSerializer</code>, and secondly I've successfully set the namespace for all of my objects <strong>except</strong> for those I've included with <code>XmlInclude</code>.  Hence this question.</p>\n"}, {"tags": ["c#", ".net", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 4713348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72460df3ea081a1177cb9566a6b57fc4?s=128&d=identicon&r=PG&f=1", "display_name": "gaby", "link": "https://stackoverflow.com/users/4713348/gaby"}, "is_accepted": true, "score": 0, "last_activity_date": 1427326186, "creation_date": 1427326186, "answer_id": 29268476, "question_id": 29268330, "link": "https://stackoverflow.com/questions/29268330/count-number-and-track-ip-address-of-software-installation/29268476#29268476", "title": "Count Number and Track IP Address of Software Installation", "body": "<p>You can add a code to do this in your C# application but you have to ask the users if they wants to participate in this feedback feature. you will need a server to hold the logs or use a ready made analytics if you use .net <a href=\"https://developers.google.com/api-client-library/dotnet/apis/analytics/v3\" rel=\"nofollow\">https://developers.google.com/api-client-library/dotnet/apis/analytics/v3</a></p>\n"}], "owner": {"reputation": 37, "user_id": 1886263, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f466ad3c16713402d071590f56b31d90?s=128&d=identicon&r=PG", "display_name": "seoakashmishra", "link": "https://stackoverflow.com/users/1886263/seoakashmishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 29268476, "answer_count": 1, "score": -2, "last_activity_date": 1427326186, "creation_date": 1427325507, "question_id": 29268330, "link": "https://stackoverflow.com/questions/29268330/count-number-and-track-ip-address-of-software-installation", "title": "Count Number and Track IP Address of Software Installation", "body": "<p>We have developed a windows application. To distribute it, we put it on different software distributor website and My organization wants me to track IP, Location and count number of downloads of the software. I put some script to track this on our main product website but as I told that we are distributing this software through different vendors well so my question is how to track these (\"Software which is downloaded by third party website\") downloads. Is there any way to put some tracking code inside the software (in xml or any other format). The application is developed in c# on .Net framework.</p>\n"}, {"tags": ["c#", "math"], "comments": [{"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1427325748, "post_id": 29268213, "comment_id": 46738171, "body": "It would be because your formula for calculating the average is just plain wrong."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1427325820, "post_id": 29268213, "comment_id": 46738198, "body": "Apart from that a <code>while (true)</code> loop like this is rather a bad way to go - your CPU must be going nuts."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1427325871, "post_id": 29268213, "comment_id": 46738213, "body": "And, how does <code>EventTriggered</code> get reset?"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1427325934, "post_id": 29268213, "comment_id": 46738234, "body": "Can you please post the rest of your code? We would be better able to help if we saw the code you are trying to get the average time of."}], "answers": [{"tags": [], "owner": {"reputation": 7080, "user_id": 503688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5ac2f82a852978ff82521a3ac30c86?s=128&d=identicon&r=PG", "display_name": "yoyo", "link": "https://stackoverflow.com/users/503688/yoyo"}, "is_accepted": true, "score": 0, "last_activity_date": 1427325725, "creation_date": 1427325725, "answer_id": 29268374, "question_id": 29268213, "link": "https://stackoverflow.com/questions/29268213/mean-event-time-calculation-incorrect/29268374#29268374", "title": "Mean event time calculation incorrect", "body": "<p>You are dividing the average by the event count, meaning you are dividing over and over again. You need to accumulate the total, then recompute the average each time.</p>\n\n<p>More like this:</p>\n\n<pre><code>long TotalMS = 0;\nint EventCount = 0;\nvar s = Stopwatch.StartNew();\n\nwhile(true)\n{\n    if (EventTriggered)\n    {\n        s.Stop();\n        Console.WriteLine(\"Event detected\");\n        EventCount++;\n        TotalMS+= s.ElapsedMilliseconds;\n        AverageMS = TotalMS / EventCount;\n        Console.WriteLine(\"Current average ms: \" + AverageMS);\n        s.Restart();\n    }\n}\n</code></pre>\n\n<p>Note that you should stop your timer before the WriteLine, otherwise you are timing the console operation as well.</p>\n"}, {"tags": [], "owner": {"reputation": 26064, "user_id": 338068, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4cb6a6a3ccc0d568a0944a6655e22803?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/338068/chris"}, "is_accepted": false, "score": 0, "last_activity_date": 1427325808, "creation_date": 1427325808, "answer_id": 29268390, "question_id": 29268213, "link": "https://stackoverflow.com/questions/29268213/mean-event-time-calculation-incorrect/29268390#29268390", "title": "Mean event time calculation incorrect", "body": "<p>Your calculations are wrong. You should keep the count and total elapsed time separately an do the division when you need to. Look at What you are doing if your elapsed times are 1, 3, 5. Clearly the averages should go 1, 2 and 3. What you will get is (EventCount =1; AverageMS = 1). Then you'll get EventCount = 2, AverageMS has 3 added then is divided by 2 so Average is (1+3)/2 = 2. Then EVentCount goes to 3 and Average MS = (2+5)/3 = 2.333 (going wrong now, should be 3). If the next is 3 then the average would be (2.333+3)/4 = 1.3333!. </p>\n\n<p>Just keep the count and running total separate to fix it.</p>\n"}], "owner": {"reputation": 1155, "user_id": 4129151, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0e248a1c1956e63df9e2d4006301f652?s=128&d=identicon&r=PG&f=1", "display_name": "Frayt", "link": "https://stackoverflow.com/users/4129151/frayt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29268374, "answer_count": 2, "score": 0, "last_activity_date": 1427325808, "creation_date": 1427324891, "last_edit_date": 1427325231, "question_id": 29268213, "link": "https://stackoverflow.com/questions/29268213/mean-event-time-calculation-incorrect", "title": "Mean event time calculation incorrect", "body": "<p>I have a program, in which an event happens randomly. I'm trying to write some code to calculate and store the average time it takes for these events to happen. Here is the code I use to calculate the mean:</p>\n\n<pre><code>int EventCount = 0;\nvar s = Stopwatch.StartNew();\n\nwhile(true)\n{\n    if (EventTriggered)\n    {\n        Console.WriteLine(\"Event detected\");\n        EventCount++;\n        s.Stop();\n        AverageMS+= s.ElapsedMilliseconds;\n        AverageMS /= EventCount;\n        Console.WriteLine(\"Current average ms: \" + AverageMS);\n        s.Restart();\n    }\n}\n</code></pre>\n\n<p>The supposed average milliseconds it displays look to be closer to the individual times instead of the average.</p>\n\n<p>Here is a sample of 100 events:\n<a href=\"http://pastebin.com/cmwQPqfR\" rel=\"nofollow\">http://pastebin.com/cmwQPqfR</a></p>\n"}, {"tags": ["c#", "wpf", "bitmapimage", "writeablebitmap"], "answers": [{"tags": [], "owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "is_accepted": false, "score": 0, "last_activity_date": 1427355952, "last_edit_date": 1427355952, "creation_date": 1427355511, "answer_id": 29273170, "question_id": 29268193, "link": "https://stackoverflow.com/questions/29268193/convert-writeablebitmap-to-bitmapimage-using-bmpbitmapencoder-wpf/29273170#29273170", "title": "Convert WriteableBitmap to BitmapImage using BmpBitmapEncoder WPF", "body": "<p>For changing pixel formats WPF has the <code>FormatConvertedBitmap</code> class, which is a BitmapSource:</p>\n\n<pre><code>WriteableBitmap wbm;\n...\nvar bm = new FormatConvertedBitmap(wbm, PixelFormats.Bgr24, null, 0);\n</code></pre>\n\n<p>It is not a BitmapImage, but you do not really need that anywhere. All WPF  methods and properties (e.g. <code>Image.Source</code>) use either <code>ImageSource</code> or the derived <code>BitmapSource</code> as their type. There is no API that explicitly needs a BitmapImage, so conversion to BitmapImage is never necessary.</p>\n"}, {"comments": [{"owner": {"reputation": 109436, "user_id": 1136211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd80cd7d5927902f3af471fa0353836?s=128&d=identicon&r=PG", "display_name": "Clemens", "link": "https://stackoverflow.com/users/1136211/clemens"}, "edited": false, "score": 0, "creation_date": 1427443390, "post_id": 29281549, "comment_id": 46787314, "body": "You still haven&#39;t told us why you need a BitmapImage at all. The whole conversion is usually not necessary, because you can pass the original WriteableBitmap to all methods or properties that accept a BitmapSource or ImageSource."}], "tags": [], "owner": {"reputation": 75, "user_id": 1136145, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abb96893f1893580fb4b8b3c28abd3f4?s=128&d=identicon&r=PG", "display_name": "Lukii007", "link": "https://stackoverflow.com/users/1136145/lukii007"}, "is_accepted": false, "score": 0, "last_activity_date": 1427381365, "creation_date": 1427381365, "answer_id": 29281549, "question_id": 29268193, "link": "https://stackoverflow.com/questions/29268193/convert-writeablebitmap-to-bitmapimage-using-bmpbitmapencoder-wpf/29281549#29281549", "title": "Convert WriteableBitmap to BitmapImage using BmpBitmapEncoder WPF", "body": "<p>I resolve this problem. This is a code which Convert WriteableBitmap to BitmapImage using BmpBitmapEncoder. Using this method ensure us, that our Image while saving stay unchanged. Unchanged I mean - size don't increase and Format Pixel stay on Bgr24.</p>\n\n<pre><code>    public BitmapImage ConvertWriteableBitmapToBitmapImage(WriteableBitmap wbm)\n    {\n        bmp = new BitmapImage();\n        using (MemoryStream stream = new MemoryStream())\n        {\n            BmpBitmapEncoder encoder = new BmpBitmapEncoder();\n            encoder.Frames.Add(BitmapFrame.Create(wbm));\n            encoder.Save(stream);\n            bmp.BeginInit();\n            bmp.CacheOption = BitmapCacheOption.OnLoad;\n            bmp.CreateOptions = BitmapCreateOptions.PreservePixelFormat;\n            bmp.StreamSource = new MemoryStream(stream.ToArray()); //stream;\n            bmp.EndInit();\n            bmp.Freeze();\n        }\n        return bmp;\n    }\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 1136145, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/abb96893f1893580fb4b8b3c28abd3f4?s=128&d=identicon&r=PG", "display_name": "Lukii007", "link": "https://stackoverflow.com/users/1136145/lukii007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3672, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1427381365, "creation_date": 1427324800, "question_id": 29268193, "link": "https://stackoverflow.com/questions/29268193/convert-writeablebitmap-to-bitmapimage-using-bmpbitmapencoder-wpf", "title": "Convert WriteableBitmap to BitmapImage using BmpBitmapEncoder WPF", "body": "<p>I have a problem with Convert WriteableBitmap to BitmapImage using BmpBitmapEncoder.\nthis is my method:</p>\n\n<pre><code>    public BitmapImage ConvertWriteableBitmapToBitmapImage(WriteableBitmap wbm)\n    {\n        bmp = new BitmapImage();\n        using (MemoryStream stream = new MemoryStream())\n        {\n            /*PngBitmapEncoder encoder = new PngBitmapEncoder();\n            encoder.Frames.Add(BitmapFrame.Create(wbm));\n            encoder.Save(stream);*/\n            BmpBitmapEncoder encoder = new BmpBitmapEncoder();\n            encoder.Frames.Add(BitmapFrame.Create(wbm));\n            encoder.Save(stream);\n\n            bmp.BeginInit();\n            bmp.UriSource = new Uri(MyImage.Source.ToString());\n            bmp.CacheOption = BitmapCacheOption.OnLoad;\n            bmp.CreateOptions = BitmapCreateOptions.IgnoreImageCache | BitmapCreateOptions.PreservePixelFormat;\n            bmp.StreamSource = stream;\n            bmp.EndInit();\n            bmp.Freeze();\n        }\n        return bmp;\n    }\n</code></pre>\n\n<p>I'm using BmpBitmapEncoder because this is only way to Save without change size of Image(*.bmp). I want to Save Image with changed table of pixels and the specified format pixel (Bgr24). Using BmpBitmapEncoder forces to set bmp.UriSource and this is a problem. WriteableBitmap doesn't have this Property. Moreover, when I comment line //bmp.UriSource shows me an exception: \"System.ArgumentNullException\" in bmp.EndInit().\nWhen I change my Method to this:</p>\n\n<pre><code>    public BitmapImage ConvertWriteableBitmapToBitmapImage(WriteableBitmap wbm)\n    {\n        bmp = new BitmapImage();\n        using (MemoryStream stream = new MemoryStream())\n        {\n            PngBitmapEncoder encoder = new PngBitmapEncoder();\n            encoder.Frames.Add(BitmapFrame.Create(wbm));\n            encoder.Save(stream);\n            /*BmpBitmapEncoder encoder = new BmpBitmapEncoder();\n            encoder.Frames.Add(BitmapFrame.Create(wbm));\n            encoder.Save(stream);*/\n\n            bmp.BeginInit();\n            //bmp.UriSource = new Uri(MyImage.Source.ToString());\n            bmp.CacheOption = BitmapCacheOption.OnLoad;\n            //bmp.CreateOptions = BitmapCreateOptions.IgnoreImageCache | BitmapCreateOptions.PreservePixelFormat;\n            bmp.StreamSource = stream;\n            bmp.EndInit();\n            bmp.Freeze();\n        }\n        return bmp;\n    }\n</code></pre>\n\n<p>everything works fine but the result is the Image increase size and change pixel format to Bgr32 and this is not the result, what I expect. My method which Save Image is fine because I tested it on unchanged pixels and the result is good - Image don't change format and size. Plz help me with this.</p>\n"}, {"tags": ["c#", "datatable", "row"], "comments": [{"owner": {"reputation": 490, "user_id": 4266091, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5oaFd.jpg?s=128&g=1", "display_name": "McShep", "link": "https://stackoverflow.com/users/4266091/mcshep"}, "edited": false, "score": 0, "creation_date": 1427326264, "post_id": 29268156, "comment_id": 46738343, "body": "what is the goal? are you trying to achieve an array of the data type?"}, {"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "reply_to_user": {"reputation": 490, "user_id": 4266091, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5oaFd.jpg?s=128&g=1", "display_name": "McShep", "link": "https://stackoverflow.com/users/4266091/mcshep"}, "edited": false, "score": 0, "creation_date": 1427326436, "post_id": 29268156, "comment_id": 46738401, "body": "it&#39;s for ease of reading by the end user, he doesn&#39;t need 2 similar rows,one is enough."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427325520, "post_id": 29268239, "comment_id": 46738089, "body": "Very nice answer. I&#39;m getting System.InvalidOperationException was unhandled   HResult=-2146233079   Message=Collection was modified; enumeration operation might not execute.   This error on <code>foreach (DataRow row2 in table1.Rows)</code>  But only when i have similar rows, when i don&#39;t, the code runs fine"}, {"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427325872, "post_id": 29268239, "comment_id": 46738215, "body": "I think it happens because it changes the number of rows on the fly, and therefore maybe a foreach cycle is not such a great idea after all"}, {"owner": {"reputation": 696, "user_id": 2746388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6cGqM.jpg?s=128&g=1", "display_name": "oniramarf", "link": "https://stackoverflow.com/users/2746388/oniramarf"}, "reply_to_user": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427327847, "post_id": 29268239, "comment_id": 46738815, "body": "well, if this occurs only when there are similar rows, you could put that check inside a try cactch block and delete the row if the exception is thrown (even if I don&#39;t think this is the best solution)"}, {"owner": {"reputation": 696, "user_id": 2746388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6cGqM.jpg?s=128&g=1", "display_name": "oniramarf", "link": "https://stackoverflow.com/users/2746388/oniramarf"}, "reply_to_user": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427327968, "post_id": 29268239, "comment_id": 46738855, "body": "another solution could be to use LINQ to select row similar to the one you&#39;re checking and delete them"}, {"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427329694, "post_id": 29268239, "comment_id": 46739343, "body": "Tried that too, but when the code goes for the second <code>foreach</code> he will notice the number of rows has changed (because it&#39;s inside the foreach), I&#39;m trying to work it around, but been unable too, i&#39;m even trying to get the second <code>foreach</code> as a separate method but its not working"}], "tags": [], "owner": {"reputation": 696, "user_id": 2746388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6cGqM.jpg?s=128&g=1", "display_name": "oniramarf", "link": "https://stackoverflow.com/users/2746388/oniramarf"}, "is_accepted": false, "score": 1, "last_activity_date": 1427328142, "last_edit_date": 1427328142, "creation_date": 1427325032, "answer_id": 29268239, "question_id": 29268156, "link": "https://stackoverflow.com/questions/29268156/method-that-compares-and-removes-all-similar-rows-in-a-datatable/29268239#29268239", "title": "Method that compares and removes all similar rows in a datatable", "body": "<p>You could modify your method adding the following check</p>\n\n<pre><code>private void comparaeapagarowsiguais(DataTable table1)\n{\n    foreach (DataRow row1 in table1.Rows)\n    {\n        foreach (DataRow row2 in table1.Rows)\n        {\n            if (row1 != row2) \n            {\n                var array1 = row1.ItemArray;\n                var array2 = row2.ItemArray;\n\n                if (array1.SequenceEqual(array2))\n                {\n                    table1.Rows.Remove(row2);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>In this way, they should not be compared if is the starting row ;)</p>\n\n<p>Or, you could use LINQ (like I wrote in comment) using this code to select only similar rows and then delete them:</p>\n\n<pre><code>private void comparaeapagarowsiguais(DataTable table1)\n{\n    foreach (DataRow row1 in table1.Rows)\n    {\n        var toDelete = table1.AsEnumerable().Where(row =&gt; row.ItemArray.SequenceEqual(row1.ItemArray));\n\n        foreach (DataRow r in toDelete)\n        {\n            table1.Rows.Remove(r);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1584, "user_id": 4698599, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/cb74bfec29d1aa195b6b14b6dc73040f?s=128&d=identicon&r=PG", "display_name": "Burak Karasoy", "link": "https://stackoverflow.com/users/4698599/burak-karasoy"}, "is_accepted": false, "score": 1, "last_activity_date": 1427325095, "creation_date": 1427325095, "answer_id": 29268253, "question_id": 29268156, "link": "https://stackoverflow.com/questions/29268156/method-that-compares-and-removes-all-similar-rows-in-a-datatable/29268253#29268253", "title": "Method that compares and removes all similar rows in a datatable", "body": "<pre><code>private void comparaeapagarowsiguais(DataTable table1)\n    { int a=0; int b=0;\n        foreach (DataRow row1 in table1.Rows)\n        {  a++; \n           b=0;\n            foreach (DataRow row2 in table1.Rows)\n            {  b++;\n                if(a!=b)\n                 {\n                var array1 = row1.ItemArray;\n                var array2 = row2.ItemArray;\n\n                if (array1.SequenceEqual(array2))\n                {\n                    table1.Rows.Remove(row2);\n                }\n               } \n\n            }\n        }\n\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427327309, "post_id": 29268573, "comment_id": 46738662, "body": "I think you&#39;r right, i created a list of the row&#39;s indexes, and tried to remove them after. But then it other problem came up. It&#39;s a rolldown of problems. I&#39;ll try to use linq and give some feedback right now"}, {"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427327574, "post_id": 29268573, "comment_id": 46738736, "body": "I never used linq before, can you provide more detailed information?"}, {"owner": {"reputation": 490, "user_id": 4266091, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5oaFd.jpg?s=128&g=1", "display_name": "McShep", "link": "https://stackoverflow.com/users/4266091/mcshep"}, "reply_to_user": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 1, "creation_date": 1427327785, "post_id": 29268573, "comment_id": 46738793, "body": "can you provide an example of a datarow? It&#39;s difficult with out an example"}, {"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427328585, "post_id": 29268573, "comment_id": 46739039, "body": "Are you being ironic? I actually laughed on it. Anyways i got the second method you posted working with my datatable. I understand that there&#39;s now some list, or array of values that correspond to each datarow, but where?"}, {"owner": {"reputation": 490, "user_id": 4266091, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5oaFd.jpg?s=128&g=1", "display_name": "McShep", "link": "https://stackoverflow.com/users/4266091/mcshep"}, "reply_to_user": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427329231, "post_id": 29268573, "comment_id": 46739211, "body": "No completely misworded it, had a chuckle myself when I reread, anyways have updated my answer, it will now return a DataTable"}, {"owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "edited": false, "score": 0, "creation_date": 1427330691, "post_id": 29268573, "comment_id": 46739634, "body": "Does it makes sense if i use, <code>test(onmytable);</code> and get exactly the same table, with all the duplicate rows? It&#39;s like, i&#39;ve been reading examples, but i&#39;ve never did enumerable before. If you can spare a few more minutes to this i&#39;ll be thankful"}], "tags": [], "owner": {"reputation": 490, "user_id": 4266091, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5oaFd.jpg?s=128&g=1", "display_name": "McShep", "link": "https://stackoverflow.com/users/4266091/mcshep"}, "is_accepted": false, "score": 2, "last_activity_date": 1427329128, "last_edit_date": 1427329128, "creation_date": 1427326748, "answer_id": 29268573, "question_id": 29268156, "link": "https://stackoverflow.com/questions/29268156/method-that-compares-and-removes-all-similar-rows-in-a-datatable/29268573#29268573", "title": "Method that compares and removes all similar rows in a datatable", "body": "<p>I think this can be simplified to a group by method, this can only be achieved by using linq. Then simply select the first item of each group</p>\n\n<p>this will turn your datatable into an enumerable then allow you to group by the values you dont wont duplicate     </p>\n\n<pre><code>public IEnumerable&lt;DataRow&gt; test(DataTable myTable)\n    {\n        var results = myTable.AsEnumerable()\n            .GroupBy(datarow =&gt; datarow .ItemArray[1]).Select(y=&gt; y.First()) ;\n\n        return results;\n    }\n</code></pre>\n\n<p>or if its a match on all fields</p>\n\n<pre><code>public DataTable test(DataTable myTable)\n    {\n        var results = myTable.AsEnumerable().Distinct().CopyToDataTable() ;\n\n        return results;\n    }\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 4357779, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ed9f257bfc70a9c82d2fc976867c5945?s=128&d=identicon&r=PG&f=1", "display_name": "ng80092b", "link": "https://stackoverflow.com/users/4357779/ng80092b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1427417117, "creation_date": 1427324634, "last_edit_date": 1427417117, "question_id": 29268156, "link": "https://stackoverflow.com/questions/29268156/method-that-compares-and-removes-all-similar-rows-in-a-datatable", "title": "Method that compares and removes all similar rows in a datatable", "body": "<p>I'm trying to create a method that, given a table, will remove the similar rows. What i thought of doing was create a double <code>foreach</code>cycle, so that every single row in the table, will be compared to all others. </p>\n\n<pre><code>private void comparaeapagarowsiguais(DataTable table1)\n    {\n        foreach (DataRow row1 in table1.Rows)\n        {\n            foreach (DataRow row2 in table1.Rows)\n            {\n                var array1 = row1.ItemArray;\n                var array2 = row2.ItemArray;\n\n                if (array1.SequenceEqual(array2))\n                {\n                    table1.Rows.Remove(row2);\n                }\n\n            }\n        }\n\n\n    }\n</code></pre>\n\n<p>The problem is that at some point, any given row will compare to itself, and, thus, will try to remove itself (and I would end with no rows at all). But I wanna keep at least one of every different row. </p>\n\n<p>How can I cycle trough them, while avoiding any given row to be compared with herself?</p>\n\n<p>EDIT: Partial solution</p>\n\n<p>I've come up with a solution that works in my case. This will work if the similar rows are all immediatly next to eachother. (If you have similar rows spread around the table it won't work)</p>\n\n<pre><code> private void comparalinhaseapaga(DataTable table1)\n    {   //I will explain the try in the end\n        try\n        {\n            //you will run i for as long as you like\n            for (int i = 0; ; )\n            {\n                //you create 2 arrays from i, and i+1, this means you will compare\n                //the first 2 lines of the data table\n                var array1 = table1.Rows[i].ItemArray;\n                var array2 = table1.Rows[i + 1].ItemArray;\n\n                 //if they are similar, it removes row at 1, and will go back to the cycle and \n                 //proceed to compare row at 0 with the previously row at 2\n                if (array1.SequenceEqual(array2))\n                {\n                    table1.Rows.RemoveAt(i + 1);\n                }\n                else\n                {\n                    //if they are not equal, it move next to row at 1, and compare it with row at 2\n                    //once it gets here, the row 0 and row 1 are already different\n                    //that's why it only works when the similar rows are adjacent to another\n                    i++;\n                }\n            }\n        }\n        catch { }\n    }\n</code></pre>\n\n<p>The try and catch are because at some point he won't have a row at position i+1 to compare, and will produce an error. Using a try/catch will skip the error and proceed, which you can do since all the similar rows are already deleted. Tested and worked ;)</p>\n\n<p>Hope this is useful for someone.</p>\n\n<p>Edit 2:\nFound a clean solution, just take this code:</p>\n\n<pre><code> private DataTable RemoveDuplicatesRecords(DataTable dt)\n    {\n        //Returns just unique rows\n        var UniqueRows = dt.AsEnumerable().Distinct(DataRowComparer.Default);\n        DataTable dt2 = UniqueRows.CopyToDataTable();\n        return dt2;\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net", "winforms"], "answers": [{"comments": [{"owner": {"reputation": 180, "user_id": 4664536, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TrONa.png?s=128&g=1", "display_name": "Diogo Martinho", "link": "https://stackoverflow.com/users/4664536/diogo-martinho"}, "edited": false, "score": 0, "creation_date": 1427327399, "post_id": 29268329, "comment_id": 46738690, "body": "I&#39;m using WinForms. Sorry, I forgot that. I&#39;ve updated the main post."}, {"owner": {"reputation": 180, "user_id": 4664536, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TrONa.png?s=128&g=1", "display_name": "Diogo Martinho", "link": "https://stackoverflow.com/users/4664536/diogo-martinho"}, "edited": false, "score": 0, "creation_date": 1427327588, "post_id": 29268329, "comment_id": 46738739, "body": "Thanks a lot, it is working. I would upvote you but, still not enough reputation. Again, thanks."}], "tags": [], "owner": {"reputation": 9598, "user_id": 341209, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a9e4680f3027a5278eecb10d0a7eeece?s=128&d=identicon&r=PG", "display_name": "Craig Suchanec", "link": "https://stackoverflow.com/users/341209/craig-suchanec"}, "is_accepted": true, "score": 2, "last_activity_date": 1427325505, "creation_date": 1427325505, "answer_id": 29268329, "question_id": 29268133, "link": "https://stackoverflow.com/questions/29268133/open-a-non-static-method-from-one-form-on-the-close-of-another-one/29268329#29268329", "title": "Open a non-static method from one form on the close of another one", "body": "<p>Easiest way to do this is to add a handler for the FormClosed event (not sure if you are using <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.window.closed(v=vs.110).aspx\" rel=\"nofollow\">WPF</a> or <a href=\"https://msdn.microsoft.com/en-us/library/system.windows.forms.form.closed%28v=vs.110%29.aspx\" rel=\"nofollow\">WinForms</a>)</p>\n\n<p>So something like this</p>\n\n<pre><code>private void listaclientes_listbox_DoubleClick(object sender, EventArgs e)\n{\n    EditarCliente ed = new EditarCliente(listaclientes_listbox.SelectedIndex, bib);\n    ed.Closed += (o,e) =&gt; { loadlista_clientes(); }\n    ed.Show();\n}\n</code></pre>\n"}], "owner": {"reputation": 180, "user_id": 4664536, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TrONa.png?s=128&g=1", "display_name": "Diogo Martinho", "link": "https://stackoverflow.com/users/4664536/diogo-martinho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 29268329, "answer_count": 1, "score": 0, "last_activity_date": 1427327296, "creation_date": 1427324525, "last_edit_date": 1427327296, "question_id": 29268133, "link": "https://stackoverflow.com/questions/29268133/open-a-non-static-method-from-one-form-on-the-close-of-another-one", "title": "Open a non-static method from one form on the close of another one", "body": "<p>I wanna know if it is possible to call a non-static function from e.g. Form1 on Form2 close event.</p>\n\n<p>Here is where I open the second form:</p>\n\n<pre><code> private void listaclientes_listbox_DoubleClick(object sender, EventArgs e)\n    {\n        EditarCliente ed = new EditarCliente(listaclientes_listbox.SelectedIndex, bib);\n        ed.Show();\n    }\n</code></pre>\n\n<p>And this is the method I wanna call, which bellongs to the first form:</p>\n\n<pre><code>private void loadlista_clientes()\n{\n    listaclientes_listbox.Items.Clear();\n    for (int p = 0; p &lt; bib.index; p++)\n        listaclientes_listbox.Items.Add(bib.ListaCliente[p].nome + \" - CC: \" + bib.ListaCliente[p].cc);\n}\n</code></pre>\n"}, {"tags": ["c#", ".net", "visual-studio-2012", "awesomium"], "answers": [{"tags": [], "owner": {"reputation": 2046, "user_id": 4945059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ElQ4m.jpg?s=128&g=1", "display_name": "voytek", "link": "https://stackoverflow.com/users/4945059/voytek"}, "is_accepted": false, "score": 0, "last_activity_date": 1433406126, "creation_date": 1433406126, "answer_id": 30638606, "question_id": 29268115, "link": "https://stackoverflow.com/questions/29268115/open-links-in-another-tabpage-webcontrol/30638606#30638606", "title": "Open Links In Another TabPage WebControl", "body": "<p>You need to add <code>target=\"_blank\"</code> to your links. This way you will be able to capture <code>webControl.ShowCreatedWebView</code> event. In this event you will have target link <code>e.TargetURL</code>. You can load it to another webControl object, like in initialisation. </p>\n\n<p>Your link:</p>\n\n<pre><code>&lt;a href=\"http://www......\" target=\"_blank\"&gt;Link&lt;/a&gt;\n</code></pre>\n\n<p>Your code (webControl1 in first tab, this.webControl2 in second):</p>\n\n<pre><code>this.webControl1.ShowCreatedWebView += this.webControl1_ShowCreatedWebView;\n\nprivate void webControl1_ShowCreatedWebView(object sender, Awesomium.Core.ShowCreatedWebViewEventArgs e)\n{\n    webControl2.Source = e.TargetURL;\n}\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 1317977, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9d4e607a129388e47f87bb21ca86792e?s=128&d=identicon&r=PG", "display_name": "Manvaril", "link": "https://stackoverflow.com/users/1317977/manvaril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1433406126, "creation_date": 1427324468, "last_edit_date": 1433405730, "question_id": 29268115, "link": "https://stackoverflow.com/questions/29268115/open-links-in-another-tabpage-webcontrol", "title": "Open Links In Another TabPage WebControl", "body": "<p>I have a tabControl with two tabPages each with their own Awesomium WebConrol. I need links from one WebControl to open in the other WebControl. I'm currently using VS 2012.</p>\n\n<p>How would that work? Is it even possible to do?</p>\n"}, {"tags": ["c#", "asp.net", "xml"], "answers": [{"tags": [], "owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "is_accepted": true, "score": 1, "last_activity_date": 1427349916, "creation_date": 1427349916, "answer_id": 29272062, "question_id": 29268072, "link": "https://stackoverflow.com/questions/29268072/why-xmldocument-loadxmlreader-reader-calls-xmlnode-removeall/29272062#29272062", "title": "Why XmlDocument.Load(XmlReader reader) calls XmlNode.RemoveAll()?", "body": "<p><a href=\"http://referencesource.microsoft.com/#System.Xml/System/Xml/Dom/XmlDocument.cs,e813c423a1251709,references\" rel=\"nofollow\"><code>XmlDocument.Load()</code></a> calls <a href=\"http://referencesource.microsoft.com/#System.Xml/System/Xml/Dom/XmlNode.cs,1e735689fb582adf\" rel=\"nofollow\"><code>XmlNode.RemoveAll()</code></a> in order to remove all existing data from the XML document before reading the XML file because <code>Load()</code> <em>replaces</em> the current contents of the <code>XmlDocument</code> with the newly read XML data, rather than merging or appending them.</p>\n\n<p>A better question is, why would <code>RemoveAll()</code> throw an exception?  The most likely reason is due to multithreading: two threads of your process are attempting to initialize your <code>_myXmlDocu</code> static variable at once, and are stepping on each other.  (According to the <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.xmldocument%28v=vs.110%29.aspx\" rel=\"nofollow\">docs</a>, instance members of <code>XmlDocument</code> are <em>not</em> guaranteed to be thread safe).  It appears you are trying to cache the XML from a manifest resource stream as a single instance in memory, reading it only once.  If so, you should follow the instructions here to initialize your cache in a thread-safe manner: <a href=\"http://csharpindepth.com/articles/general/singleton.aspx\" rel=\"nofollow\">Implementing the Singleton Pattern in C#</a>.  </p>\n\n<p>For instance, here is a simple thread-safe way to cache the XML resource inside <code>SimpleClass</code>.  It loads the resource in the static constructor for the class:</p>\n\n<pre><code>public static class SimpleClass\n{\n    const string resourceName = \"MyNameSpace.data.xml\";\n\n    static XmlDocument _myXmlDocu = null;\n\n    static SimpleClass()\n    {\n        _myXmlDocu = new XmlDocument();\n        Assembly asm = Assembly.GetExecutingAssembly();\n        using (var reader = new XmlTextReader(asm.GetManifestResourceStream(resourceName)))\n        {\n            _myXmlDocu.Load(reader);\n        }\n    }\n\n    public static XmlDocument GetResourceData()\n    {\n        return _myXmlDocu;\n    }\n}\n</code></pre>\n\n<p>This loads the XML resource file once, the first time a static method or property of <code>SimpleClass</code> is used.  It corresponds to the \"Fourth version\" of the singleton pattern from the linked article. </p>\n\n<p>If your <code>SimpleClass</code> is actually not simple and has many unrelated static properties and methods, requiring you to defer loading the XML until it is actually about to be used, consider using the fifth or sixth versions of the pattern in the linked article.</p>\n\n<p>Incidentally, while write operations to <code>XmlDocument</code> (like <code>Load()</code> ) are definitely not thread safe, read operations are also not <em>documented</em> to be thread safe.  See <a href=\"https://stackoverflow.com/questions/1703080/is-reading-from-an-xmldocument-object-thread-safe\"><em>Is reading from an XmlDocument object thread safe?</em></a> for a discussion.  You might want to reconsider whether this caching strategy makes sense.</p>\n"}], "owner": {"reputation": 9313, "user_id": 192727, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2800740824a05e0b0b45c168d2cc2cb5?s=128&d=identicon&r=PG", "display_name": "sean717", "link": "https://stackoverflow.com/users/192727/sean717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 29272062, "answer_count": 1, "score": 1, "last_activity_date": 1427349916, "creation_date": 1427324265, "question_id": 29268072, "link": "https://stackoverflow.com/questions/29268072/why-xmldocument-loadxmlreader-reader-calls-xmlnode-removeall", "title": "Why XmlDocument.Load(XmlReader reader) calls XmlNode.RemoveAll()?", "body": "<p>When the SimpleClass.LoadXml is called, the following exception is thrown</p>\n\n<blockquote>\n  <p>Object reference not set to an instance of an object.   at\n  System.Xml.XmlNode.RemoveChild(XmlNode oldChild)    at\n  System.Xml.XmlNode.RemoveAll()    at\n  System.Xml.XmlDocument.Load(XmlReader reader)</p>\n</blockquote>\n\n<p>The <code>SimpleClass</code> looks like this</p>\n\n<pre><code>public static class SimpleClass \n{\n     static XmlDocument _myXmlDocu = new XmlDocument();\n\n     /// &lt;summary&gt;\n        /// Method to load embedded XML data file from assembly.\n        /// &lt;/summary&gt;\n        private static void LoadXml()\n        {\n            Assembly asm = Assembly.GetExecutingAssembly();\n            XmlTextReader reader = new XmlTextReader(asm.GetManifestResourceStream(\"MyNameSpace.data.xml\"));\n            _myXmlDocu.Load(reader);\n        }\n}\n</code></pre>\n\n<p>I do not understand why <code>XmlNode.RemoveAll()</code> is called when I call <code>_myXmlDocu.Load(reader)</code>??</p>\n\n<p>The code is executed in an ASP.NET WebForms app on IIS.</p>\n"}, {"tags": ["c#", ".net", "sqlite", "mvvm", "mvvmcross"], "comments": [{"owner": {"reputation": 51674, "user_id": 455493, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/ub5uS.jpg?s=128&g=1", "display_name": "Tseng", "link": "https://stackoverflow.com/users/455493/tseng"}, "edited": false, "score": 0, "creation_date": 1427330473, "post_id": 29268006, "comment_id": 46739568, "body": "This isn&#39;t a programming related question to a specific problem. Use any of the two versions which suits your needs!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 0, "creation_date": 1427381685, "post_id": 29268006, "comment_id": 46761157, "body": "Prototype all three, see which one feels better for you, go for it."}], "answers": [{"tags": [], "owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1436452870, "creation_date": 1436452870, "answer_id": 31320792, "question_id": 29268006, "link": "https://stackoverflow.com/questions/29268006/latest-and-greatest-sqlite-lib-for-net-portable-class-or-at-least-wp8-1-unifie/31320792#31320792", "title": "Latest and greatest SqLite lib for .Net Portable Class (or at least Wp8.1 Unified)", "body": "<p>So, I ended up using Nosql Lex.Db for client. Too many problems with Sqlite in crossplatfom solution.</p>\n"}], "owner": {"reputation": 4106, "user_id": 1154733, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dc717f867101dfd8f61bb94585b4e2e8?s=128&d=identicon&r=PG", "display_name": "Vitalii Vasylenko", "link": "https://stackoverflow.com/users/1154733/vitalii-vasylenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 31320792, "answer_count": 1, "score": 0, "last_activity_date": 1436452870, "creation_date": 1427323934, "question_id": 29268006, "link": "https://stackoverflow.com/questions/29268006/latest-and-greatest-sqlite-lib-for-net-portable-class-or-at-least-wp8-1-unifie", "title": "Latest and greatest SqLite lib for .Net Portable Class (or at least Wp8.1 Unified)", "body": "<p>If to run a Nuget search for \"mvvmcross sqlite\", there are 2 interesting top results:</p>\n\n<ol>\n<li>Mvvmcross.Community.Plugin.Sqlite. Last published 09.02.14.</li>\n<li>Mvvmcross.HotTuna.Plugin.Sqlite (old version, consider using Mvvmcross.Community.Plugin.Sqlite). Last published 17.01.15.</li>\n</ol>\n\n<p>So, which one should i chose? The last updated version recommends to use version which was updated year ago.</p>\n\n<p>EDIT: ah, there's also Sqlite.net Mvvmxcross extension, which is also seems to be quite promising.</p>\n"}, {"tags": ["c#", "multithreading", "asynchronous", "synchronizationcontext"], "comments": [{"owner": {"reputation": 11670, "user_id": 862563, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5Sqgt.png?s=128&g=1", "display_name": "DeepSpace101", "link": "https://stackoverflow.com/users/862563/deepspace101"}, "edited": false, "score": 1, "creation_date": 1427335178, "post_id": 29268001, "comment_id": 46740707, "body": "This post by Stephan Toub is incredibly enlightening ... <a href=\"http://blogs.msdn.com/b/pfxteam/archive/2012/06/15/executioncontext-vs-synchronizationcontext.aspx\" rel=\"nofollow noreferrer\">blogs.msdn.com/b/pfxteam/archive/2012/06/15/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11670, "user_id": 862563, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5Sqgt.png?s=128&g=1", "display_name": "DeepSpace101", "link": "https://stackoverflow.com/users/862563/deepspace101"}, "edited": false, "score": 0, "creation_date": 1427325275, "post_id": 29268130, "comment_id": 46737986, "body": "Thanks, can you elaborate &quot;just used to schedule the continuation.&quot;? Does it mean &quot;run continuation WHEN the UI thread OR ASP.NET thread OR any thread from the thread pool (depending on context) is free again&quot;?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 11670, "user_id": 862563, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5Sqgt.png?s=128&g=1", "display_name": "DeepSpace101", "link": "https://stackoverflow.com/users/862563/deepspace101"}, "edited": false, "score": 3, "creation_date": 1427326007, "post_id": 29268130, "comment_id": 46738253, "body": "@DeepSpace101 It means it calls <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.synchronizationcontext.send(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>SynchronizationContext.Send</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/system.threading.synchronizationcontext.post(v=vs.110).aspx\" rel=\"nofollow noreferrer\"><code>SynchronizationContext.Post</code></a> with the continuation delagate. It is up to the implementation of the context on how it processes that delegate (For the single threaded ones (WPF and Winforms) it is put it in to a message queue to be processed, for the pool based ones (ASP.net &amp; thread pool) it grabs a resource from the pool."}, {"owner": {"reputation": 147, "user_id": 2471080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms5yS.jpg?s=128&g=1", "display_name": "Denxorz", "link": "https://stackoverflow.com/users/2471080/denxorz"}, "edited": false, "score": 0, "creation_date": 1548431259, "post_id": 29268130, "comment_id": 95551184, "body": "In this example, what would happen to the fields of the object containing the <code>AnAsyncLibraryMethod()</code>? Are these also captured, or is some kind of barrier/lock generated?"}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "reply_to_user": {"reputation": 147, "user_id": 2471080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms5yS.jpg?s=128&g=1", "display_name": "Denxorz", "link": "https://stackoverflow.com/users/2471080/denxorz"}, "edited": false, "score": 0, "creation_date": 1548438510, "post_id": 29268130, "comment_id": 95555054, "body": "@Denxorz: <code>this</code> is captured, and the fields hang off that. <code>await</code> does take care of <a href=\"https://stackoverflow.com/a/28840239/263693\">inserting a memory barrier automatically</a> if the resuming code runs on a different thread."}, {"owner": {"reputation": 147, "user_id": 2471080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms5yS.jpg?s=128&g=1", "display_name": "Denxorz", "link": "https://stackoverflow.com/users/2471080/denxorz"}, "edited": false, "score": 0, "creation_date": 1548656989, "post_id": 29268130, "comment_id": 95604152, "body": "@Stephen: Thanks, that makes sense. So that means that the <code>volatile</code> from <a href=\"https://stackoverflow.com/a/53649830/2471080\">this answer</a> is not needed?"}], "tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": false, "score": 6, "last_activity_date": 1427372858, "last_edit_date": 1427372858, "creation_date": 1427324519, "answer_id": 29268130, "question_id": 29268001, "link": "https://stackoverflow.com/questions/29268001/what-does-context-exactly-mean-in-c-async-await-code/29268130#29268130", "title": "What does &#39;context&#39; exactly mean in C# async/await code?", "body": "<p>As I describe in my <a href=\"http://blog.stephencleary.com/2012/02/async-and-await.html\" rel=\"noreferrer\"><code>async</code> intro blog post</a>, the \"context\" is:</p>\n\n<ul>\n<li><code>SynchronizationContext.Current</code>, unless it is <code>null</code>, in which case it is</li>\n<li><code>TaskScheduler.Current</code>. Note that if there is no current task scheduler, then <code>TaskScheduler.Current</code> is the same as <code>TaskScheduler.Default</code>, which is a thread pool context.</li>\n</ul>\n\n<p>The vast majority of the time, this is either a UI or ASP.NET request context (both types of <code>SynchronizationContext</code>), or else it's the thread pool context. Task scheduler contexts seldomly come into play.</p>\n\n<p>Note that this context is just used to <em>schedule the continuation</em>. It doesn't do anything with marshaling; in your example <code>obj</code> is captured just like it would be if it were referenced from a lambda expression.</p>\n"}, {"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 2, "creation_date": 1427326302, "post_id": 29268315, "comment_id": 46738356, "body": "<i>&quot;the code which runs after the code you are awaiting, must not run in the same SynchronizationContext.&quot;</i> is incorrect. A better way to say it is <i>&quot;the code which runs after the code you are awaiting, Is not required to use the SynchronizationContext from before the await&quot;</i>. If you await a task that is in the completed state you will likely still be using the same context as before the await because the code will have just gotten the result synchronously and never returned to the caller."}, {"owner": {"reputation": 12384, "user_id": 2801687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOuuH.jpg?s=128&g=1", "display_name": "MichaC", "link": "https://stackoverflow.com/users/2801687/michac"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1427326496, "post_id": 29268315, "comment_id": 46738425, "body": "Makse sense, sorry I&#39;m not native english so that was actually what I was trying to say. It is not always the case that the same sync context is not used because of what you said ;) Let me fix that phrase"}], "tags": [], "owner": {"reputation": 12384, "user_id": 2801687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOuuH.jpg?s=128&g=1", "display_name": "MichaC", "link": "https://stackoverflow.com/users/2801687/michac"}, "is_accepted": true, "score": 6, "last_activity_date": 1427326546, "last_edit_date": 1427326546, "creation_date": 1427325449, "answer_id": 29268315, "question_id": 29268001, "link": "https://stackoverflow.com/questions/29268001/what-does-context-exactly-mean-in-c-async-await-code/29268315#29268315", "title": "What does &#39;context&#39; exactly mean in C# async/await code?", "body": "<p>If I'm not totally wrong, <code>ConfigureAwait(false);</code> only means that the code which runs <strong>after</strong> the code you are awaiting, is not required to use the <code>SynchronizationContext</code> from before the await.</p>\n\n<p><code>SynchronizationContext</code> can be different things as Stephen pointed out. So imagine you are in a web environment and your code after the await relies on HttpContext.Current.Items, this might not work anymore if you set <code>ConfigureAwait(false);</code></p>\n\n<p>The following code in an MVC controller would throw an exception for example</p>\n\n<pre><code>    public async Task&lt;ActionResult&gt; Index()\n    {\n        System.Web.HttpContext.Current.Items[\"test\"] = \"test\";\n\n        var result = await SomethingAsync();\n\n        return View();\n    }\n\n    private async Task&lt;object&gt; SomethingAsync()\n    {\n        await Task.Delay(1000).ConfigureAwait(false);\n\n        // this will throw a nullpointer if ConfigureAwait is set to false\n        return System.Web.HttpContext.Current.Items[\"test\"];\n    }\n</code></pre>\n\n<p>Your variable though is simply in the scope of the method and therefor it will be available, basically the method closure/scope, if this makes sense?</p>\n"}], "owner": {"reputation": 11670, "user_id": 862563, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/5Sqgt.png?s=128&g=1", "display_name": "DeepSpace101", "link": "https://stackoverflow.com/users/862563/deepspace101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5606, "favorite_count": 3, "accepted_answer_id": 29268315, "answer_count": 2, "score": 26, "last_activity_date": 1427372858, "creation_date": 1427323899, "question_id": 29268001, "link": "https://stackoverflow.com/questions/29268001/what-does-context-exactly-mean-in-c-async-await-code", "title": "What does &#39;context&#39; exactly mean in C# async/await code?", "body": "<p>Lets looks at some simple C# async/await code where I have an object reference (<code>obj</code>) before and after an <code>await</code> with <code>ConfigureAwait(false)</code></p>\n\n<pre><code>private async Task&lt;SomeObject&gt; AnAsyncLibraryMethod(SomeObject obj)\n{\n    Console.WriteLine(Thread.CurrentThread.ManagedThreadId);\n    obj.Name = \"Harry\"; // &lt;-- obj here\n\n    // MAIN POINT\n    var newSubObj = await FetchOverHttpAsync().ConfigureAwait(false);\n\n    // Continuation here\n    Console.WriteLine(Thread.CurrentThread.ManagedThreadId);\n    obj.Name = \"Sally\"; // &lt;-- same obj here\n    return obj;\n}\n\npublic class SomeObject { public string Name; }\n</code></pre>\n\n<p><code>ConfigureAwait(false)</code> seems to means <strong>NOT</strong> <em>marshal the continuation back to the original context captured</em> - ok, but what does that really mean? I've tried the code above and <code>obj</code> <strong>IS</strong> correctly referenced back (even when it resumes on a different thread).</p>\n\n<p>So the \"context\" doesn't appear to be the thread's working memory (i.e. thread local storage). So what does \"context\" contain? Therefore, what does it really mean to </p>\n\n<blockquote>\n  <p><em>marshal the continuation back to the original context captured</em></p>\n</blockquote>\n"}, {"tags": ["c#", "algorithm", "windows-phone-8.1", "rgb"], "comments": [{"owner": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "edited": false, "score": 0, "creation_date": 1427324677, "post_id": 29267995, "comment_id": 46737761, "body": "You can pick any foreground color? And the user can pick any three background colors? Do you care about aesthetics, or just visibility?"}, {"owner": {"reputation": 984, "user_id": 3908547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eopGH.jpg?s=128&g=1", "display_name": "Greg Whatley", "link": "https://stackoverflow.com/users/3908547/greg-whatley"}, "reply_to_user": {"reputation": 248566, "user_id": 3474, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ffbf4e85b8ffbae4e9039b9c0cf07bc8?s=128&d=identicon&r=PG", "display_name": "erickson", "link": "https://stackoverflow.com/users/3474/erickson"}, "edited": false, "score": 0, "creation_date": 1427336232, "post_id": 29267995, "comment_id": 46740929, "body": "@erickson I&#39;m planning to make it so that the user can pick <i>up to</i> three colors from a list of Windows Phone&#39;s accent colors (I might add a few more for a larger selection)"}], "answers": [{"tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": false, "score": 0, "last_activity_date": 1427325109, "creation_date": 1427325109, "answer_id": 29268255, "question_id": 29267995, "link": "https://stackoverflow.com/questions/29267995/from-a-list-of-colors-how-can-i-get-a-light-or-dark-color-that-is-visible-over/29268255#29268255", "title": "From a list of colors, how can I get a light or dark color that is visible over each color simultaneously?", "body": "<p>Try either:</p>\n\n<ul>\n<li>Invert each RGB value, and then possibly adjust to a closest colour from a set of predefined colours.</li>\n</ul>\n\n<p>OR </p>\n\n<ul>\n<li>OR Multiple each value of the RGB by a given amount (say  .25 - .5). If > 128 multiply and then subtract the difference twice,  and if &lt; 128 just multiple.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 984, "user_id": 3908547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eopGH.jpg?s=128&g=1", "display_name": "Greg Whatley", "link": "https://stackoverflow.com/users/3908547/greg-whatley"}, "edited": false, "score": 0, "creation_date": 1427336353, "post_id": 29269859, "comment_id": 46740961, "body": "This wouldn&#39;t work because the <code>GetBrightness()</code> method is a part of the <code>Color</code> structure in <code>System.Drawing</code>, which is not a part of Windows Phone 8.1 Runtime.  The structure I&#39;m using is <code>Windows.UI.Xaml.Media.Color</code>."}], "tags": [], "owner": {"reputation": 5435, "user_id": 1287352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c2042b40a025f765919a4b97c0c9f81?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/1287352/eric"}, "is_accepted": false, "score": 2, "last_activity_date": 1427335334, "creation_date": 1427335334, "answer_id": 29269859, "question_id": 29267995, "link": "https://stackoverflow.com/questions/29267995/from-a-list-of-colors-how-can-i-get-a-light-or-dark-color-that-is-visible-over/29269859#29269859", "title": "From a list of colors, how can I get a light or dark color that is visible over each color simultaneously?", "body": "<p>Contrast color can be determine by the <em>opposite</em> of HSB color</p>\n\n<p>For black and white only, you can just use </p>\n\n<pre><code>ForeColor = BackColor.GetBrightness() &gt; 0.4 ? Color.Black : Color.White;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21144, "user_id": 4068779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r0Hsj.png?s=128&g=1", "display_name": "Rob Caplan - MSFT", "link": "https://stackoverflow.com/users/4068779/rob-caplan-msft"}, "is_accepted": false, "score": 1, "last_activity_date": 1427338787, "creation_date": 1427338787, "answer_id": 29270361, "question_id": 29267995, "link": "https://stackoverflow.com/questions/29267995/from-a-list-of-colors-how-can-i-get-a-light-or-dark-color-that-is-visible-over/29270361#29270361", "title": "From a list of colors, how can I get a light or dark color that is visible over each color simultaneously?", "body": "<p>You can calculate the brightness of a Color from it's R, G, and B values then pick a brush based on that. I've used the following converter to pick a Foreground color that contrasts with the bound Background color. </p>\n\n<pre><code>public class ColorConverter : IValueConverter\n{\n\n    public object Convert(object value, Type targetType, object parameter, string language)\n    {\n        Color c = (Color)value;\n        int brightness = (int)(c.R * 0.30 + c.G * 0.59 + c.B * 0.11);\n        if (brightness &lt; 127)\n            return App.Current.Resources[\"LightBrush\"];\n        else\n            return App.Current.Resources[\"DarkBrush\"];\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, string language)\n    {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>I used this for a color picker bound to all of the named colors in the Colors class. If you target only a few theme colors then you could hand-craft a table of tinted colors that still maintain contrast rather than forcing everything to black and white.</p>\n\n<p>For more colors you could try converting from RGB to HSL, modifying the luminosity while keeping the Hue, and then converting back, but that may be more trouble than it's worth and you can run out of gamut while round tripping and get poor results.</p>\n"}, {"tags": [], "owner": {"reputation": 64220, "user_id": 1755, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6aa37ff244853bdbc1c4e6de845af14e?s=128&d=identicon&r=PG", "display_name": "Matt Lacey", "link": "https://stackoverflow.com/users/1755/matt-lacey"}, "is_accepted": false, "score": 1, "last_activity_date": 1427363317, "creation_date": 1427363317, "answer_id": 29275321, "question_id": 29267995, "link": "https://stackoverflow.com/questions/29267995/from-a-list-of-colors-how-can-i-get-a-light-or-dark-color-that-is-visible-over/29275321#29275321", "title": "From a list of colors, how can I get a light or dark color that is visible over each color simultaneously?", "body": "<p>A couple of years ago <a href=\"http://blog.mrlacey.co.uk/2013/03/accentcomplimentbrush-v20.html\" rel=\"nofollow\">I created something</a> for a similar problem such that given a color it would return the color that is opposite it on the <a href=\"http://en.wikipedia.org/wiki/Color_wheel\" rel=\"nofollow\">color wheel</a>.</p>\n\n<p>I used it to create a second, or complimentary, color brush for use in apps where I wanted more than just the single, user selected, system wide accent color but wanted to ensure that the colors would work together and not clash.</p>\n\n<p>Maybe you could extend this idea to three colors.</p>\n\n<p>The code is on GitHub:  <a href=\"https://github.com/mrlacey/WPMisc/blob/master/AccentComplimentBrush.cs\" rel=\"nofollow\">https://github.com/mrlacey/WPMisc/blob/master/AccentComplimentBrush.cs</a></p>\n"}, {"tags": [], "owner": {"reputation": 984, "user_id": 3908547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eopGH.jpg?s=128&g=1", "display_name": "Greg Whatley", "link": "https://stackoverflow.com/users/3908547/greg-whatley"}, "is_accepted": true, "score": 1, "last_activity_date": 1435069076, "last_edit_date": 1495540757, "creation_date": 1427464739, "answer_id": 29302455, "question_id": 29267995, "link": "https://stackoverflow.com/questions/29267995/from-a-list-of-colors-how-can-i-get-a-light-or-dark-color-that-is-visible-over/29302455#29302455", "title": "From a list of colors, how can I get a light or dark color that is visible over each color simultaneously?", "body": "<p>I did some playing around and I think I got a method that work perfectly.  I started with one algorithm from <a href=\"https://stackoverflow.com/questions/1855884/determine-font-color-based-on-background-color?rq=1\">this question</a>, and mixed it with similar code from Matt Lacey's and Rob Caplan's answers, cleaned it up and modified it to work with a list of colors.  I think it works just fine.</p>\n\n<pre><code>private static Color DetermineForegroundColor(List&lt;Color&gt; colors) {\n            double r = 0, g = 0, b = 0;\n            foreach (Color color in colors) {\n                r += color.R;\n                g += color.G;\n                b += color.B;\n            }\n            if (r &gt; g &amp;&amp; r &gt; b) {\n                Debug.WriteLine(\"First condition matched ({0}, {1}, {2})\", (byte)r, (byte)g, (byte)b);\n                return new Color() {\n                    R = (byte)r,\n                    G = (byte)r,\n                    B = (byte)r\n                };\n            }\n            else if (g &gt; r &amp;&amp; g &gt; b) {\n                Debug.WriteLine(\"Second condition matched ({0}, {1}, {2})\", (byte)r, (byte)g, (byte)b);\n                return new Color() {\n                    R = (byte)g,\n                    G = (byte)g,\n                    B = (byte)g\n                };\n            }\n            else if (b &gt; r &amp;&amp; b &gt; g) {\n                Debug.WriteLine(\"Third condition matched ({0}, {1}, {2})\", (byte)r, (byte)g, (byte)b);\n                return new Color() {\n                    R = (byte)b,\n                    G = (byte)b,\n                    B = (byte)b\n                };\n            }\n            else if (r == g) {\n                Debug.WriteLine(\"Fourth condition matched ({0}, {1}, {2})\", (byte)r, (byte)g, (byte)b);\n                return new Color() {\n                    R = (byte)b,\n                    G = (byte)b,\n                    B = (byte)b\n                };\n            }\n            else if (r == b) {\n                Debug.WriteLine(\"Fifth condition matched ({0}, {1}, {2})\", (byte)r, (byte)g, (byte)b);\n                return new Color() {\n                    R = (byte)g,\n                    G = (byte)g,\n                    B = (byte)g\n                };\n            }\n            else if (g == b) {\n                Debug.WriteLine(\"Sixth condition matched ({0}, {1}, {2})\", (byte)r, (byte)g, (byte)b);\n                return new Color() {\n                    R = (byte)r,\n                    G = (byte)r,\n                    B = (byte)r\n                };\n            }\n            else {\n                Debug.WriteLine(\"No condition matched ({0}, {1}, {2})\", (byte)r, (byte)g, (byte)b);\n                return new Color() {\n                    R = 255,\n                    G = 255,\n                    B = 255\n                };\n            }\n        }\n</code></pre>\n\n<p>I might replace the large <code>if/else-if/else</code> blocks with a <code>switch/case</code> block in the future to make it less bulky.</p>\n"}], "owner": {"reputation": 984, "user_id": 3908547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eopGH.jpg?s=128&g=1", "display_name": "Greg Whatley", "link": "https://stackoverflow.com/users/3908547/greg-whatley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 955, "favorite_count": 0, "accepted_answer_id": 29302455, "answer_count": 5, "score": 0, "last_activity_date": 1453226813, "creation_date": 1427323859, "question_id": 29267995, "link": "https://stackoverflow.com/questions/29267995/from-a-list-of-colors-how-can-i-get-a-light-or-dark-color-that-is-visible-over", "title": "From a list of colors, how can I get a light or dark color that is visible over each color simultaneously?", "body": "<p>In my app, I allow the user to choose up to three colors to use as a 'theme color'.  These colors are displayed as a <code>LinearGradientBrush</code> (or <code>SolidColorBrush</code> if one color is chosen) under the status bar.  I need a light or dark color (not necessarily <em>only</em> black or white) for the status bar foreground color.  This will be more complex than just determining if white or black should be used, but including colors like dark gray (I.E. if a user chooses white and black for their theme, my current algorithm chooses black as the foreground which can't be seen over the black they chose).  Also, the <code>StatusBar.ForegroundColor</code> ignores the alpha channel, so I can't just change the opacity.  How can I do this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c#", "json", "json.net", "deserialization"], "comments": [{"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 2, "creation_date": 1427324177, "post_id": 29267937, "comment_id": 46737561, "body": "Your JSON is malformed -- you need a comma between the two root object properties.  I.e. <code>{ &quot;MyObject&quot; : { &quot;prop1&quot;: &quot;Value1&quot;, &quot;prop2&quot; : &quot;Value2&quot;}, &quot;Message&quot; : &quot;A message&quot;}</code> and <code>{ &quot;MyObject&quot; : null, &quot;Message&quot; : &quot;A message&quot;}</code>.  Having fixed that, I can deserialize both JSON strings successfully.  Can you make a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> of your problem?"}], "answers": [{"tags": [], "owner": {"reputation": 2636, "user_id": 536950, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9bd8af4af6bf5605c6398bc08c92ed83?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/536950/chris"}, "is_accepted": false, "score": 3, "last_activity_date": 1427324487, "creation_date": 1427324487, "answer_id": 29268122, "question_id": 29267937, "link": "https://stackoverflow.com/questions/29267937/how-to-deserialize-null-json-object-using-newtonsoft-json/29268122#29268122", "title": "How to deserialize null JSON object using Newtonsoft.Json?", "body": "<p>I created a small test with what you've provided above and found that MyObject and Message were missing a comma between them. Otherwise everything worked fine. Checking the objects via debug shows everything parses as it should.</p>\n\n<pre><code>using System;\nusing Microsoft.VisualStudio.TestTools.UnitTesting;\nusing Newtonsoft.Json;\n\nnamespace UnitTestProject1\n{\n    [TestClass]\n    public class UnitTest1\n    {\n        [TestMethod]\n        public void TestMethod1()\n        {\n            const string json1 = \"{ \\\"MyObject\\\" : { \\\"prop1\\\": \\\"Value1\\\", \\\"prop2\\\" : \\\"Value2\\\"}, \\\"Message\\\" : \\\"A message\\\"}\";\n            const string json2 = \"{ \\\"MyObject\\\" : null, \\\"Message\\\" : \\\"A message\\\"}\";\n\n            var obj1 = JsonConvert.DeserializeObject&lt;JsonObject&gt;(json1);\n            var obj2 = JsonConvert.DeserializeObject&lt;JsonObject&gt;(json2);\n\n            Assert.IsInstanceOfType(obj1, typeof(JsonObject));\n            Assert.IsInstanceOfType(obj2, typeof(JsonObject));\n        }\n    }\n\n\n    public class MyObject\n    {\n        public MyObject(string prop1, string prop2)\n        {\n            this.prop1 = prop1;\n            this.prop2 = prop2;\n        }\n\n        public string prop1 { get; private set; }\n\n        public string prop2 { get; private set; }\n    }\n\n    public class JsonObject\n    {\n        public MyObject MyObject { get; set; }\n        public string Message { get; set; }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 194, "user_id": 4080877, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/14247404785ad5f975553a59603a82da?s=128&d=identicon&r=PG&f=1", "display_name": "Tino", "link": "https://stackoverflow.com/users/4080877/tino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427324487, "creation_date": 1427323544, "question_id": 29267937, "link": "https://stackoverflow.com/questions/29267937/how-to-deserialize-null-json-object-using-newtonsoft-json", "title": "How to deserialize null JSON object using Newtonsoft.Json?", "body": "<p>So I have a JSON file that has an object nested within it. It looks like this:</p>\n\n<pre><code>{ \"MyObject\" : { \"prop1\": \"Value1\", \"prop2\" : \"Value2\"}\n  \"Message\" : \"A message\"}\n</code></pre>\n\n<p>Sometimes, the object nested inside the JSON may be null. So for example,</p>\n\n<pre><code>{ \"MyObject\" : null\n  \"Message\" : \"A message\"}\n</code></pre>\n\n<p>I'm trying to deserialize this object using Newtonsoft.Json, into an object (let's call it JsonObject) which has two properties: \"MyObject\" and \"Message\". Message is just a string, but MyObject is an object which has a few other (private) properties as well as a constructor:</p>\n\n<pre><code>public class MyObject\n{\n    public MyObject(string prop1, string prop2)\n    {\n        this.prop1= prop1;\n        this.prop2= prop2;\n    }\n\n    public string prop1 { get; private set; }\n\n    public string prop2 { get; private set; }\n</code></pre>\n\n<p>JsonObject looks like this:</p>\n\n<pre><code>public class JsonObject\n{\n    public MyObject MyObject { get; set; }\n    public string Message { get; set; }\n}\n</code></pre>\n\n<p>And my code to deserialize looks like this:</p>\n\n<pre><code>using (StreamReader reader = new StreamReader(filename))\n                    {\n                        string jsonFile = reader.ReadToEnd();\n                        return JsonConvert.DeserializeObject&lt;JsonObject&gt;(jsonFile);\n                    }\n</code></pre>\n\n<p>But it is throwing an error:</p>\n\n<pre><code>Exception: Object reference not set to an instance of an object\n</code></pre>\n\n<p>This happens when the MyObject object is null. I printed jsonFile, and this is the output:</p>\n\n<pre><code>{\"MyObject\": null, \"Message\": \"sample message\"}\n</code></pre>\n\n<p>What I want is for MyObject to deserialize to null. So when the code runs, the end result is a JsonObject with MyObject = null and Message = \"sample message\". How do I do this using Newtonsoft.Json?</p>\n"}, {"tags": ["c#", ".net", "roslyn"], "answers": [{"comments": [{"owner": {"reputation": 164846, "user_id": 5380, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2922ec8522180d86a8825b715aa765dc?s=128&d=identicon&r=PG", "display_name": "Kent Boogaart", "link": "https://stackoverflow.com/users/5380/kent-boogaart"}, "edited": false, "score": 0, "creation_date": 1427327952, "post_id": 29268318, "comment_id": 46738850, "body": "Thanks Kevin - I&#39;ll take a look at <code>SyntaxGenerator</code>. Would you mind taking a look at this question too? <a href=\"http://codereview.stackexchange.com/questions/84932/using-roslyn-to-find-interfaces-within-a-solution\" title=\"using roslyn to find interfaces within a solution\">codereview.stackexchange.com/questions/84932/&hellip;</a>"}, {"owner": {"reputation": 164846, "user_id": 5380, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2922ec8522180d86a8825b715aa765dc?s=128&d=identicon&r=PG", "display_name": "Kent Boogaart", "link": "https://stackoverflow.com/users/5380/kent-boogaart"}, "edited": false, "score": 0, "creation_date": 1427330147, "post_id": 29268318, "comment_id": 46739475, "body": "Hmm, I don&#39;t really see how I can use <code>SyntaxGenerator</code> with my current design because I have separated workspace creation from code generation. The code generation piece no longer has a <code>Document</code> or <code>Workspace</code> with which to create the <code>SyntaxGenerator</code>. It&#39;s likely I&#39;m Doing It Wrong\u2122"}, {"owner": {"reputation": 11159, "user_id": 678625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731b6f636eb7408a332afa66a7f25f5b?s=128&d=identicon&r=PG", "display_name": "Kevin Pilch", "link": "https://stackoverflow.com/users/678625/kevin-pilch"}, "reply_to_user": {"reputation": 164846, "user_id": 5380, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2922ec8522180d86a8825b715aa765dc?s=128&d=identicon&r=PG", "display_name": "Kent Boogaart", "link": "https://stackoverflow.com/users/5380/kent-boogaart"}, "edited": false, "score": 0, "creation_date": 1427382958, "post_id": 29268318, "comment_id": 46762135, "body": "Well, <code>Workspace</code> layer is where helpful services like this tend to live.  The compiler level APIs are intended to be the raw building blocks, so it&#39;s <i>possible</i> to do it the way you are doing, but you asked for an easier way - that easier way is in the higher layers of abstraction."}, {"owner": {"reputation": 164846, "user_id": 5380, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2922ec8522180d86a8825b715aa765dc?s=128&d=identicon&r=PG", "display_name": "Kent Boogaart", "link": "https://stackoverflow.com/users/5380/kent-boogaart"}, "edited": false, "score": 0, "creation_date": 1427405576, "post_id": 29268318, "comment_id": 46775725, "body": "yeah, I refactored my code so that I could use the <code>SyntaxGenerator</code>. It&#39;s definitely made the codegen logic a bit simpler."}], "tags": [], "owner": {"reputation": 11159, "user_id": 678625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/731b6f636eb7408a332afa66a7f25f5b?s=128&d=identicon&r=PG", "display_name": "Kevin Pilch", "link": "https://stackoverflow.com/users/678625/kevin-pilch"}, "is_accepted": true, "score": 2, "last_activity_date": 1427329694, "last_edit_date": 1427329694, "creation_date": 1427325452, "answer_id": 29268318, "question_id": 29267922, "link": "https://stackoverflow.com/questions/29267922/generating-syntax-for-a-method-signature-from-a-method-symbol-in-roslyn/29268318#29268318", "title": "Generating syntax for a method signature from a method symbol in Roslyn", "body": "<p>As of VS 2015 CTP 6 and the Roslyn 1.0-rc1 NuGet packages, take a look at the <a href=\"http://source.roslyn.io/#Microsoft.CodeAnalysis.Workspaces/Editing/SyntaxGenerator.cs,3c40e627ffcd3bf7\" rel=\"nofollow\"><code>SyntaxGenerator</code> class</a>. </p>\n"}, {"tags": [], "owner": {"reputation": 164846, "user_id": 5380, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2922ec8522180d86a8825b715aa765dc?s=128&d=identicon&r=PG", "display_name": "Kent Boogaart", "link": "https://stackoverflow.com/users/5380/kent-boogaart"}, "is_accepted": false, "score": 0, "last_activity_date": 1427598094, "last_edit_date": 1495541179, "creation_date": 1427598094, "answer_id": 29325172, "question_id": 29267922, "link": "https://stackoverflow.com/questions/29267922/generating-syntax-for-a-method-signature-from-a-method-symbol-in-roslyn/29325172#29325172", "title": "Generating syntax for a method signature from a method symbol in Roslyn", "body": "<p>Given <a href=\"https://stackoverflow.com/a/29268318/5380\">Kevin's answer</a>, this is what I arrived at:</p>\n\n<pre><code>var methodDeclaration = syntaxGenerator.MethodDeclaration(methodSymbol);\nmethodDeclaration = syntaxGenerator\n    .WithModifiers(\n        methodDeclaration,\n        syntaxGenerator\n            .GetModifiers(methodDeclaration)\n            .WithIsAbstract(false));\nmethodDeclaration = syntaxGenerator\n    .WithStatements(\n        methodDeclaration,\n        GetMethodStatementsSyntax(syntaxGenerator, semanticModel, methodSymbol));\n</code></pre>\n\n<p>Notice we have to manually remove the <code>abstract</code> modifier from the method symbol (since it originated from an interface, it is intrinsically <code>abstract</code>). I also add the statements <em>after</em> removing the <code>abstract</code> modifier because otherwise they're ignored.</p>\n"}], "owner": {"reputation": 164846, "user_id": 5380, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2922ec8522180d86a8825b715aa765dc?s=128&d=identicon&r=PG", "display_name": "Kent Boogaart", "link": "https://stackoverflow.com/users/5380/kent-boogaart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1392, "favorite_count": 1, "accepted_answer_id": 29268318, "answer_count": 2, "score": 2, "last_activity_date": 1427598094, "creation_date": 1427323451, "question_id": 29267922, "link": "https://stackoverflow.com/questions/29267922/generating-syntax-for-a-method-signature-from-a-method-symbol-in-roslyn", "title": "Generating syntax for a method signature from a method symbol in Roslyn", "body": "<p>I'm trying to generate code using Roslyn (first time user). I'm finding it so verbose that I can only assume I'm doing something wrong. At the moment I'm generating an implementation of a method for a given <code>IMethodSymbol</code> (which came from an interface):</p>\n\n<pre><code>private static MethodDeclarationSyntax GetMethodDeclarationSyntax(IMethodSymbol methodSymbol)\n{\n    if (methodSymbol.MethodKind != MethodKind.Ordinary)\n    {\n        return null;\n    }\n\n    var parameters = methodSymbol\n        .Parameters\n        .Select(x =&gt; SF\n            .Parameter(SF.Identifier(x.Name))\n            .WithType(SF.IdentifierName(x.Type.ToDisplayString(symbolDisplayFormat))));\n\n    return SF\n        .MethodDeclaration(\n            SF.IdentifierName(methodSymbol.ReturnType.ToDisplayString(symbolDisplayFormat)),\n            SF.Identifier(methodSymbol.Name))\n        .WithModifiers(\n            SF.TokenList(\n                SF.Token(SyntaxKind.PublicKeyword)))\n        .WithParameterList(\n            SF.ParameterList(\n                SF.SeparatedList&lt;ParameterSyntax&gt;(parameters)));\n}\n</code></pre>\n\n<p>It's already pretty hefty and I haven't accounted for the actual implementation, generic parameters, <code>ref</code>/<code>out</code> parameters etcetera.</p>\n\n<p>Is there a simpler way to achieve this?</p>\n"}, {"tags": ["c#", "unit-testing", "console", "nunit"], "answers": [{"comments": [{"owner": {"reputation": 2463, "user_id": 259477, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/be1f59e4118912d487c5330586f39b72?s=128&d=identicon&r=PG", "display_name": "Daryn", "link": "https://stackoverflow.com/users/259477/daryn"}, "edited": false, "score": 0, "creation_date": 1427355951, "post_id": 29272715, "comment_id": 46746102, "body": "Thank you for the prompt answer. With regards to the first point about disposing objects, would it help to call <code>_sw.Dispose();</code> in the teadown? Will this dispose of the object in a more deterministic way? Is the <code>using</code> still preferred?"}, {"owner": {"reputation": 2463, "user_id": 259477, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/be1f59e4118912d487c5330586f39b72?s=128&d=identicon&r=PG", "display_name": "Daryn", "link": "https://stackoverflow.com/users/259477/daryn"}, "edited": false, "score": 0, "creation_date": 1427356419, "post_id": 29272715, "comment_id": 46746302, "body": "With regards running the tests in parallel, would this still work as we are setting Console.SetOut. Is that not still shared mutable state in this context?"}, {"owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "reply_to_user": {"reputation": 2463, "user_id": 259477, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/be1f59e4118912d487c5330586f39b72?s=128&d=identicon&r=PG", "display_name": "Daryn", "link": "https://stackoverflow.com/users/259477/daryn"}, "edited": false, "score": 0, "creation_date": 1427357063, "post_id": 29272715, "comment_id": 46746550, "body": "It <i>may</i> help to call <code>_sw.Dispose()</code> and <code>_sr.Dispose()</code> in <code>TearDown</code>, but as I also wrote, it may be a premature micro-optimization... The only way to know is to measure... Whether or not <code>Console.SetOut</code> is thread-safe I don&#39;t know, but if it isn&#39;t, then you&#39;d never be able to run these particular tests in parallel."}], "tags": [], "owner": {"reputation": 208473, "user_id": 126014, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/33526616d4a11f1630d4939b769cfbf9?s=128&d=identicon&r=PG", "display_name": "Mark Seemann", "link": "https://stackoverflow.com/users/126014/mark-seemann"}, "is_accepted": true, "score": 2, "last_activity_date": 1427353265, "creation_date": 1427353265, "answer_id": 29272715, "question_id": 29267911, "link": "https://stackoverflow.com/questions/29267911/redirecting-console-out-within-test-setup-and-teardown/29272715#29272715", "title": "Redirecting Console.Out within test Setup and Teardown", "body": "<blockquote>\n  <p>Are there any major drawbacks of using setup or teardown methods for this?</p>\n</blockquote>\n\n<p>Yes, although it may not be measurable.</p>\n\n<p>The way <code>Setup</code> and <code>TearDown</code> method is described here, two new disposable objects are created for every test, but they are never disposed of. They'll eventually go out of scope and be finalised when the garbage collector runs, but it may happen in a less deterministic fashion. In theory, it'll use more memory and processor instructions than if they were deterministically disposed of, but as Knuth taught us 40 years ago, we should measure instead of engaging in premature optimisations.</p>\n\n<p>My main problem with using mutable state and <a href=\"http://xunitpatterns.com/Implicit%20Setup.html\" rel=\"nofollow\">Implicit Setup</a> and Teardown is that it's not thread-safe, so if you ever want to run your unit tests in parallel, you can't.</p>\n"}], "owner": {"reputation": 2463, "user_id": 259477, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/be1f59e4118912d487c5330586f39b72?s=128&d=identicon&r=PG", "display_name": "Daryn", "link": "https://stackoverflow.com/users/259477/daryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 343, "favorite_count": 0, "accepted_answer_id": 29272715, "answer_count": 1, "score": 2, "last_activity_date": 1427363721, "creation_date": 1427323412, "last_edit_date": 1495540338, "question_id": 29267911, "link": "https://stackoverflow.com/questions/29267911/redirecting-console-out-within-test-setup-and-teardown", "title": "Redirecting Console.Out within test Setup and Teardown", "body": "<p>This is a follow up from <a href=\"https://stackoverflow.com/questions/2139274/grabbing-the-output-sent-to-console-out-from-within-a-unit-test\">Grabbing the output sent to Console.Out from within a unit test?</a> and the <a href=\"http://blogs.msdn.com/b/ploeh/archive/2006/10/21/consoleunittesting.aspx\" rel=\"nofollow noreferrer\">referenced article</a> in the accepted answer by Mark Seemann.</p>\n\n<p>I would like to use Console.Out and Console.In to redirect the streams while testing. Every test in the class needs to use the redirects. </p>\n\n<p>In order to keep the tests clean I would like to do this in the test SetUp and TearDown. </p>\n\n<p>This is what I was thinking:</p>\n\n<pre><code>private StringWriter _sw;\nprivate StringReader _sr;\n[SetUp]\npublic void SetUp()\n{\n    _sw = new StringWriter();\n    Console.SetOut(_sw);\n    _sr = new StringReader(\"100\");\n    Console.SetIn(_sr);\n}\n\n[TearDown]\npublic void TearDown()\n{\n    var standardOut = new StreamWriter(Console.OpenStandardOutput());\n    standardOut.AutoFlush = true;\n    Console.SetOut(standardOut);\n    Console.SetIn(new StreamReader(Console.OpenStandardInput()));\n }\n</code></pre>\n\n<p>Then I would use '_sw.ToString()' within the tests to verify what was written to the stream.</p>\n\n<p>Are there any major drawbacks of using setup or teardown methods for this?\nWould this similar to redirecting with a <code>using</code> statement?\nE.g.</p>\n\n<pre><code>using (StringWriter sw = new StringWriter())\n{\n    ...\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "gridview"], "comments": [{"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427322811, "post_id": 29267521, "comment_id": 46737024, "body": "The reason why the RowCommand is not working is  that controls need to be added to the page during the PreInit event, RowBound is too late. You are better off making the column a template column in mark up ad a label and link and adjust their visibility accordingly. As for changing to a template field programmatically, I don&#39;t see this working, for  a start thin about how you would define the template."}, {"owner": {"reputation": 390, "user_id": 3166830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11093eed3cf5ff6740839f7ce36cf228?s=128&d=identicon&r=PG&f=1", "display_name": "SomeUser", "link": "https://stackoverflow.com/users/3166830/someuser"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427322996, "post_id": 29267521, "comment_id": 46737106, "body": "I am populating the GridView through a SQL query in C# back end code. Is it possible to access template fields of GridView in back end code ?"}, {"owner": {"reputation": 390, "user_id": 3166830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11093eed3cf5ff6740839f7ce36cf228?s=128&d=identicon&r=PG&f=1", "display_name": "SomeUser", "link": "https://stackoverflow.com/users/3166830/someuser"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427323039, "post_id": 29267521, "comment_id": 46737130, "body": "And any idea how to sustain the link on post back ?"}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 1, "creation_date": 1427324583, "post_id": 29267521, "comment_id": 46737716, "body": "Yes you can access controls in a template field on RowBoundm, you need to use <code>FindControl()</code>. Also look into <a href=\"https://msdn.microsoft.com/en-us/library/system.web.ui.webcontrols.gridview.datakeys%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">DataKeys</a> instead of hiding a column if all you are doing is using it&#39;s data. Perhaps describe what you are trying to achieve here instead of how you are trying to achieve it. Sorry I haven&#39;t got time to give you a fully fledged answer at the moment."}, {"owner": {"reputation": 390, "user_id": 3166830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11093eed3cf5ff6740839f7ce36cf228?s=128&d=identicon&r=PG&f=1", "display_name": "SomeUser", "link": "https://stackoverflow.com/users/3166830/someuser"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427324770, "post_id": 29267521, "comment_id": 46737790, "body": "That&#39;s fine. I will try a little more based on what you said, if I couldn&#39;t get it, will elaborate a little more. Thanks a lot for your time !!"}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427324788, "post_id": 29267521, "comment_id": 46737797, "body": "Also are you auto generating columns? Do you need to? Perhaps include your GridView Markup in the question."}, {"owner": {"reputation": 390, "user_id": 3166830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11093eed3cf5ff6740839f7ce36cf228?s=128&d=identicon&r=PG&f=1", "display_name": "SomeUser", "link": "https://stackoverflow.com/users/3166830/someuser"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427324888, "post_id": 29267521, "comment_id": 46737836, "body": "I added. There isn&#39;t much I do in mark up. I get values in a query and bind it to gridview in code."}, {"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1427325206, "post_id": 29267521, "comment_id": 46737960, "body": "@Partha Why <i>not</i> define your columns in markup as Jon suggested? Then you wouldn&#39;t be fighting against the page/control lifecycle."}, {"owner": {"reputation": 390, "user_id": 3166830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11093eed3cf5ff6740839f7ce36cf228?s=128&d=identicon&r=PG&f=1", "display_name": "SomeUser", "link": "https://stackoverflow.com/users/3166830/someuser"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427325293, "post_id": 29267521, "comment_id": 46737994, "body": "Actually this is new requirement. This is existing code where I am asked to change a column to link button. Ya maybe I will change the mark up and use FindControl() as suggested by @JonP."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427325824, "post_id": 29267521, "comment_id": 46738201, "body": "While you&#39;re looking at requirements take the time to see/ask if you need to AutoGenerate columns, I think in 10 years I have deployed less than 5 data grids using auto generated columns."}, {"owner": {"reputation": 4331, "user_id": 1946412, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/70fc1752ed75fa968107bbaa500cfe8a?s=128&d=identicon&r=PG", "display_name": "julealgon", "link": "https://stackoverflow.com/users/1946412/julealgon"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427334512, "post_id": 29267521, "comment_id": 46740558, "body": "@JonP Auto generated columns using Dynamic Data is crazy awesome. We&#39;ve used it before and I highly recommend the approach to whoever uses Web Forms. It&#39;s one of the things I miss the most after started working with MVC and knockout. Without dynamic data though, yeah, they are pretty useless since you have too little control over them."}, {"owner": {"reputation": 390, "user_id": 3166830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11093eed3cf5ff6740839f7ce36cf228?s=128&d=identicon&r=PG&f=1", "display_name": "SomeUser", "link": "https://stackoverflow.com/users/3166830/someuser"}, "reply_to_user": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427397011, "post_id": 29267521, "comment_id": 46771102, "body": "Thanks all. I implemented the above solution suggested by @JonP. If you wish, you can add that as an answer and I will be happy to accept it :)"}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1427404904, "post_id": 29267521, "comment_id": 46775392, "body": "Thanks Partha, I just gave direction, not an answer, what would be more helpful for future users is you post what you did as an answer and accept that . It would be a more complete answer than my suggestions."}], "owner": {"reputation": 390, "user_id": 3166830, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/11093eed3cf5ff6740839f7ce36cf228?s=128&d=identicon&r=PG&f=1", "display_name": "SomeUser", "link": "https://stackoverflow.com/users/3166830/someuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1091, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427324845, "creation_date": 1427321413, "last_edit_date": 1427324845, "question_id": 29267521, "link": "https://stackoverflow.com/questions/29267521/convert-a-column-in-gridview-into-template-field-in-asp-net", "title": "Convert a column in Gridview into Template field in ASP.NET", "body": "<p>I have a GridView which is populated from the database through a query in C# code. The requirement is to make a column invisible and another column as a link button. I managed to make the column invisible and make other column as link button. I used the following code:</p>\n\n<pre><code>protected void dgvArticles_RowDataBound(object sender, GridViewRowEventArgs e)\n{\n    e.Row.Cells[0].Visible = false;\n    var titleCell = e.Row.Cells[5];\n    titleCell.Controls.Clear();\n    titleCell.Controls.Add(new LinkButton { Text = titleCell.Text, CommandName = \"link\", CommandArgument = e.Row.Cells[0].ToString() });\n}\n</code></pre>\n\n<p>The Grid is as expected, but when I click the link button the link gets disabled. Also the code inside the RowCommand doesn't work on click of the link button field. </p>\n\n<p>GridView MarkUp:</p>\n\n<pre><code>&lt;asp:GridView ID=\"dgvArticles\" runat=\"server\" \n    onrowcommand=\"dgvArticles_RowCommand\" onrowdatabound=\"dgvArticles_RowDataBound\"&gt;\n    &lt;AlternatingRowStyle BackColor=\"#CCFFFF\" ForeColor=\"#996600\" /&gt;\n    &lt;HeaderStyle Font-Size=\"Medium\" /&gt;\n&lt;/asp:GridView&gt;\n</code></pre>\n\n<p>Is there a way, I can convert bound field to template field through C# code. I googled, but couldn't find any working solution. Any link/procedure on what can be done will be very helpful. Thanks</p>\n"}, {"tags": ["c#", "servicestack", "ormlite-servicestack"], "comments": [{"owner": {"reputation": 1612, "user_id": 1272944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba1f12846af94813c397ea839ce7ee96?s=128&d=identicon&r=PG", "display_name": "Tab", "link": "https://stackoverflow.com/users/1272944/tab"}, "edited": false, "score": 0, "creation_date": 1430495911, "post_id": 29267470, "comment_id": 48100093, "body": "If the answer given is workable could you mark it accepted?"}], "answers": [{"tags": [], "owner": {"reputation": 1612, "user_id": 1272944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba1f12846af94813c397ea839ce7ee96?s=128&d=identicon&r=PG", "display_name": "Tab", "link": "https://stackoverflow.com/users/1272944/tab"}, "is_accepted": true, "score": 3, "last_activity_date": 1430408618, "creation_date": 1430408618, "answer_id": 29972146, "question_id": 29267470, "link": "https://stackoverflow.com/questions/29267470/does-ormlite-support-table-variable-as-stored-procedure-parameter/29972146#29972146", "title": "Does ORMLITE support Table Variable as stored procedure parameter?", "body": "<p>Yes it does, here is a sample function that updated to work with TVPs (gets generated using the OrmLite T4 template initially then I modded), hope this helps.  I am passing a HashSet in to use to build DataTable to pass as a TVP Parameter:</p>\n\n<pre><code>        public static OrmLiteSPStatement CallMyStoredProcTVP(this IDbConnection db, HashSet&lt;int&gt; userids)\n    {\n        // need to create a datatable to pass as a parameter to your tvp SP\n        DataTable dataTableUserIds = new DataTable();\n        dataTableUserIds.Columns.Add(\"Value\", typeof(Int32));\n        foreach (int id in userids)\n        {\n            DataRow ro = dataTableUserIds.NewRow();\n            ro[0] = id;\n            dataTableUserIds.Rows.Add(ro);\n        }\n\n        // create db command\n        var dbCmd = (DbCommand)OrmLiteConfig.ExecFilter.CreateCommand(db).ToDbCommand();\n        // set name of SP\n        dbCmd.CommandText = \"MyStoredProcTVP\";\n        dbCmd.CommandType = CommandType.StoredProcedure;\n        // add new parameter but I leave off the Type\n        dbCmd.Parameters.Add(CreateNewParameter(dbCmd, \"UserIDs\", dataTableUserIds, ParameterDirection.Input));\n        return new OrmLiteSPStatement(db, dbCmd);\n    }\n\n    private static DbParameter CreateNewParameter(DbCommand dbCommand, string paramName, object paramValue, ParameterDirection paramDirection)\n    {\n        DbParameter param = dbCommand.CreateParameter();\n        param.Direction = paramDirection;\n        param.ParameterName = paramName;\n        param.Value = paramValue;\n        return param;\n    }\n</code></pre>\n"}], "owner": {"reputation": 8122, "user_id": 280772, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ac6e884cd370d2091c1ed5253fb127aa?s=128&d=identicon&r=PG", "display_name": "Lost", "link": "https://stackoverflow.com/users/280772/lost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 29972146, "answer_count": 1, "score": 2, "last_activity_date": 1483247976, "creation_date": 1427321247, "last_edit_date": 1483247976, "question_id": 29267470, "link": "https://stackoverflow.com/questions/29267470/does-ormlite-support-table-variable-as-stored-procedure-parameter", "title": "Does ORMLITE support Table Variable as stored procedure parameter?", "body": "<p>I am using service stack ORMLIte for my DAL and so far its working great for basic CRUDS. However, I do have a special case where I have to call stored procedure with parameter type of Table variable. Now, I know that ADO.NET supports this with c# calling the DB with DataTable type. However, I do not know if ORMLite supports it since I did not see any samples in the documentation and if it does, are there any samples out there?</p>\n"}, {"tags": ["c#", "jquery", "asp.net-mvc-3", "highcharts"], "answers": [{"comments": [{"owner": {"reputation": 5376, "user_id": 1829251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0af9e5bbe347bfe7f879b99dba340fc8?s=128&d=identicon&r=PG", "display_name": "Brian J", "link": "https://stackoverflow.com/users/1829251/brian-j"}, "edited": false, "score": 0, "creation_date": 1427323557, "post_id": 29267882, "comment_id": 46737324, "body": "I&#39;ve already added this to my layout file, see my edit above. The reference still shows HighCharts is not defined. Any idea what the problem is?"}, {"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "reply_to_user": {"reputation": 5376, "user_id": 1829251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0af9e5bbe347bfe7f879b99dba340fc8?s=128&d=identicon&r=PG", "display_name": "Brian J", "link": "https://stackoverflow.com/users/1829251/brian-j"}, "edited": false, "score": 0, "creation_date": 1427324631, "post_id": 29267882, "comment_id": 46737736, "body": "Please check if it works without using an IncludeDirectory and just a plain Include pointing to highcharts.js"}, {"owner": {"reputation": 5376, "user_id": 1829251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0af9e5bbe347bfe7f879b99dba340fc8?s=128&d=identicon&r=PG", "display_name": "Brian J", "link": "https://stackoverflow.com/users/1829251/brian-j"}, "edited": false, "score": 0, "creation_date": 1427325408, "post_id": 29267882, "comment_id": 46738045, "body": "Okay I&#39;ll test that now"}, {"owner": {"reputation": 5376, "user_id": 1829251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0af9e5bbe347bfe7f879b99dba340fc8?s=128&d=identicon&r=PG", "display_name": "Brian J", "link": "https://stackoverflow.com/users/1829251/brian-j"}, "edited": false, "score": 0, "creation_date": 1427326776, "post_id": 29267882, "comment_id": 46738505, "body": "that was the error! can you explain what the difference between the two are?"}, {"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "reply_to_user": {"reputation": 5376, "user_id": 1829251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0af9e5bbe347bfe7f879b99dba340fc8?s=128&d=identicon&r=PG", "display_name": "Brian J", "link": "https://stackoverflow.com/users/1829251/brian-j"}, "edited": false, "score": 0, "creation_date": 1427392156, "post_id": 29267882, "comment_id": 46768348, "body": "One includes all .js files in the directory and the other only a single file. My guess is that when you included all the .js files in the directory, it caused a conflict."}], "tags": [], "owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "is_accepted": true, "score": 1, "last_activity_date": 1427324563, "last_edit_date": 1427324563, "creation_date": 1427323231, "answer_id": 29267882, "question_id": 29267463, "link": "https://stackoverflow.com/questions/29267463/reference-error-using-high-charts-api-mvc-3/29267882#29267882", "title": "Reference error using High Chart&#39;s API. MVC 3", "body": "<p>You need to add the bundle to your layout file. The relevant code is below:</p>\n\n<pre><code>@Scripts.Render(\"~/bundles/highcharts\")\n</code></pre>\n\n<p>You can add this to the head tag in your layout file. Also make sure that you add the jquery bundle before the highcharts bundle as mentioned in the article.</p>\n\n<p>In your BundleConfig, replace your highcharts bundles to not use IncludeDirectory as shown below</p>\n\n<pre><code>bundles.Add(new ScriptBundle(\"~/bundles/highcharts\").Include(\n                 \"~/Scripts/Highcharts-4.0.1/js/highcharts.js\"\n                    ));\n</code></pre>\n"}], "owner": {"reputation": 5376, "user_id": 1829251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0af9e5bbe347bfe7f879b99dba340fc8?s=128&d=identicon&r=PG", "display_name": "Brian J", "link": "https://stackoverflow.com/users/1829251/brian-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 29267882, "answer_count": 1, "score": 1, "last_activity_date": 1427324563, "creation_date": 1427321206, "last_edit_date": 1427323493, "question_id": 29267463, "link": "https://stackoverflow.com/questions/29267463/reference-error-using-high-charts-api-mvc-3", "title": "Reference error using High Chart&#39;s API. MVC 3", "body": "<p>I'm using the High Chart's API to create a line chart on my DetailsPage, after setting it up according to this tutorial, <a href=\"http://www.nimbo.com/blog/how-to-use-highcharts-js-with-asp-net-mvc-4/\" rel=\"nofollow noreferrer\">high charts mvc</a> . The problem is when I publish the site from Visual Studio, the chart doesn't show.</p>\n\n<p>To debug this, I checked the page with inspect element after the site is published and came across this error:</p>\n\n<p>\"HighCharts is not defined\" which points to this line in the ChartController,\n<code>chart = new Highcharts.Chart({</code>.</p>\n\n<p>Does anyone know how to fix this reference error? Or how can I debug the problem, as I seem to have followed all the relevant steps.</p>\n\n<p>The High Charts bundle is defined like this in the bundle config class:</p>\n\n<pre><code>  bundles.Add(new ScriptBundle(\"~/bundles/highcharts\").IncludeDirectory(\"~/Scripts/Highcharts-4.0.1/js\", \"*.js\"));\n</code></pre>\n\n<p>The bundle as its referenced in the layout.cshtml file:</p>\n\n<pre><code>&lt;head&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n        &lt;title&gt;@ViewBag.Title - Gesture Physio - Control Panel&lt;/title&gt;\n        &lt;link href=\"~/favicon.ico\" rel=\"shortcut icon\" type=\"image/x-icon\" /&gt;\n        &lt;meta name=\"viewport\" content=\"width=device-width\" /&gt;\n        @Styles.Render(\"~/Content/css\")\n        @Scripts.Render(\"~/bundles/modernizr\")\n        @Scripts.Render(\"~/bundles/jquery\")\n        @Scripts.Render(\"~/bundles/highcharts\")\n</code></pre>\n\n<p>And this is the location of the js files within the project tree:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PuVok.png\" alt=\"high chart location\"></p>\n\n<p>This is the page's mark up:</p>\n\n<pre><code>@{\n    ViewBag.Title = \"DetailsPage\";\n}\n\n&lt;h2&gt;Progress Details Chart&lt;/h2&gt;\n\n@model DotNet.Highcharts.Highcharts\n\n&lt;p&gt;Max Range Readings&lt;/p&gt;\n@(Model)\n</code></pre>\n\n<p>And the page's controller:</p>\n\n<pre><code>using DotNet.Highcharts;\nusing DotNet.Highcharts.Enums;\nusing DotNet.Highcharts.Helpers;\nusing DotNet.Highcharts.Options;\nusing GesturePhysioWebClient.DAL;\nusing GesturePhysioWebClient.Models;\nusing Microsoft.WindowsAzure.MobileServices;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Threading.Tasks;\nusing System.Web;\nusing System.Web.Mvc;\n\nnamespace GesturePhysioWebClient.Controllers\n{\n    public class ChartController : Controller\n    {\n\n        //Restrict access to non-logged in users\n        [Authorize]\n        public async Task&lt;ActionResult&gt; DetailsPage()\n        {\n\n            var mobileClient = new MobileServiceClient(\"https://progressreportdb.azure-mobile.net/\",\n               \"************************\"\n           );\n            var itemModelTable = mobileClient.GetTable&lt;Item&gt;();\n\n            var result = await itemModelTable\n                /*.OrderByDescending(Item =&gt; Item.Id)\n                .Take(40)*/\n                .ToListAsync();\n\n            ViewBag.Message = \"Patient Progress Details.\";\n\n            var yDataMaxRange = result.Select(item =&gt; Double.Parse(item.Max_Range ?? \"0\")).ToArray();\n            var xDataDates = result.Select(item =&gt; DateTime.Parse(item.Date, System.Globalization.CultureInfo.InvariantCulture).ToShortDateString()).ToArray();\n            //cast the y values to an object array:\n            object[] yDataAsObjectArray = yDataMaxRange.Cast&lt;object&gt;().ToArray();\n\n\n            var chart = new Highcharts(\"chart\").\n                InitChart(new Chart { DefaultSeriesType = ChartTypes.Line })\n                .SetTitle(new Title { Text = \"User Max Range Readings\" })\n                .SetSubtitle(new Subtitle { Text = \"ROM Progress\" })\n                .SetXAxis(new XAxis { Categories = xDataDates })\n                .SetYAxis(new YAxis { Title = new YAxisTitle { Text = \"Max Range Readings\" } })\n                .SetTooltip(new Tooltip { Enabled = true, Formatter = @\"function() {return '&lt;b&gt;' + this.series.name + '&lt;/b&gt; &lt;br/&gt;' + this.x + ':' + this.y; }\" })\n                .SetPlotOptions(new PlotOptions\n                {\n                    Line = new PlotOptionsLine\n                    {\n                        DataLabels = new PlotOptionsLineDataLabels\n                        {\n                            Enabled = true\n                        },\n                        EnableMouseTracking = false\n                    }\n                })\n              .SetSeries(new[]\n            {\n                 new Series {Name = \"Max ROM\", Data = new Data(yDataAsObjectArray) }\n                 //new Series { Name = \"Total\", Data = new Data(new object[] { 441, 441, 22, 30, 610 }) }\n\n            });\n\n\n            return View(chart);\n\n\n        }\n\n\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "zxing", "reed-solomon"], "comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 1, "creation_date": 1430457782, "post_id": 29267440, "comment_id": 48083389, "body": "How can you encode 896 bytes in 128 bytes?"}], "answers": [{"tags": [], "owner": {"reputation": 419, "user_id": 286219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ef9737ebaa1a27941d9473d94d5d55d?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/286219/jens"}, "is_accepted": false, "score": 2, "last_activity_date": 1431031343, "creation_date": 1431031343, "answer_id": 30111265, "question_id": 29267440, "link": "https://stackoverflow.com/questions/29267440/ccsds-reed-solomon-encoding/30111265#30111265", "title": "CCSDS Reed Solomon Encoding", "body": "<p>Here is my interpretation of the CCSDS protocol:</p>\n\n<p>J=8, means 8-bits per symbol (=1 byte).\nE=16, means 16 errors corrected by the RS code.</p>\n\n<p>This requires 32 parity symbols and the RS codeword is thus 255 bytes long with 223 information bytes. </p>\n\n<p>I=4, means that one interleaver block consists of 4 code words.</p>\n\n<p>The total number of information bytes available in one block is thus 4*223 = 892 bytes. This is four bytes less than the 896 stated in your question. I'm quite sure you misread the 128 byte codeword, so maybe you misread the number bytes as well.</p>\n"}, {"tags": [], "owner": {"reputation": 1106, "user_id": 2266345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IYExU.png?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/2266345/ryan"}, "is_accepted": true, "score": 7, "last_activity_date": 1537982994, "last_edit_date": 1537982994, "creation_date": 1537935736, "answer_id": 52509909, "question_id": 29267440, "link": "https://stackoverflow.com/questions/29267440/ccsds-reed-solomon-encoding/52509909#52509909", "title": "CCSDS Reed Solomon Encoding", "body": "<p>I'm late to this question, but just in case this can help anyone else:</p>\n\n<p>The easiest and most common method of implementing Reed Solomon on digital computers is using the RS (255, 223) CCSDS encoding. This encoding is specified by the CCSDS and has been widely used for decades in hardware like deep space probes and satellites.</p>\n\n<p>RS (255, 223) has the following characteristics:</p>\n\n<ul>\n<li>Each symbol has 2^8 combinations (J = 8), so each symbol is a byte.</li>\n<li>Each codeword has 2^8 - 1 symbols, so each encoded block is 255 bytes long.</li>\n<li>The amount of data you can encode per block is 223 bytes</li>\n<li>Each block contains 32 bytes of parity data for FEC (223 data bytes + 32 parity bytes = 255 byte block)</li>\n<li>Without knowing erasures (error locations), up to 16 errors can be corrected per block (E = 16, this always equals the number of parity bytes / 2)</li>\n<li>When error locations are known, up to 32 errors can be corrected per block (this always equals the number of parity bytes)</li>\n<li>CCSDS specifies use a field generator polynomial of 1 + X + X^2 + X^7 + X^8, a code generator with first consecutive root = 112, and a primitive element of 11.</li>\n<li>CCSDS also specify a dual-basis polynomial representation in order to simplify encoder/decoder implementations in dedicated hardware. This is one feature that is omitted from many modern software implementations of RS (255, 223) because it serves no practical use for general purpose CPUs, but it's still required when communicating with legacy hardware. Definitely figure out whether you need this - it can be accomplished by running the normal polynomial output through a lookup table before/after encoding/decoding.</li>\n</ul>\n\n<p>A 255 symbol codeword can be interleaved four times (I = 4) to give a total block size of 892. This can be done to spread out transmission burst errors between each of the codewords, increasing the chances of successful codeword correction. See the spec linked below for the exact details.</p>\n\n<p>I'm not sure what you meant by the \"128 byte codeword\", but it might have something to do with padding:</p>\n\n<p>Since the symbol size of 2^8 is a fairly hard constraint, each codeword must be 255 bytes long. However, if you can't send a 255 byte block in one go, or prefer more error protection, padding can be used to effectively shorten the 255 byte block.</p>\n\n<p>Padding works by simply defining some of the 223 data bytes as padding instead of data. Padding is just some fixed sequence of values that both the sender and receiver know ahead of time (the CCSDS refers to this as \"virtual fill\"). When encoding, a short amount of data is added to the start of the data to form the full 223 \"data\" bytes, and these are fed into the encoder as normal. After encoding, the padding is stripped from the start of the block, producing a shorter block (or rather, the data and parity may be copied to a smaller array). This is then transmitted.</p>\n\n<p>When decoding, the padding is then inserted back at the start of the block before the decoder is run. Since the padding sequence has known fixed values, there is a 0% chance that these bytes will contain errors. This means that the 16 bytes of error protection will shift to the rest of the block.</p>\n\n<p>So, to get a 127 byte block from RS (255, 223), you could pad all but 95 bytes of data out of the original 223 bytes, and then encode that. Your block will look like:</p>\n\n<p>padding[128] + data[95] + parity[32] = 255 bytes</p>\n\n<p>Then remove the padding before sending the block:</p>\n\n<p>data[95] + parity[32] = 127 bytes</p>\n\n<p>And finally on the decoder side, add the padding back in before decoding:</p>\n\n<p>padding[128] + data[95] + parity[32] = 255 bytes</p>\n\n<p>This is effectively an RS(127, 95) code, and offers 16 bytes of FEC per 127 byte block.</p>\n\n<p>The CCSDS standard specifies that the virtual fill:</p>\n\n<ul>\n<li>Must consist of all zeros</li>\n<li>Must not be transmitted</li>\n<li>Must not change in length for a Mission Phase on a particular Physical Channel</li>\n<li>Must be inserted only at the beginning of the codeblock</li>\n<li>Must be inserted only in integer multiples of 8I bits.</li>\n</ul>\n\n<p>You only need to adhere to these if the legacy device you're talking to implements these strictly as well (and if it's strictly CCSDS, it will).</p>\n\n<p>For a C# implementation of RS (255, 223), I have a small library here:</p>\n\n<p><a href=\"https://github.com/crozone/ReedSolomonCCSDS\" rel=\"noreferrer\">https://github.com/crozone/ReedSolomonCCSDS</a></p>\n\n<p>This was based on Phil Karn's C implementation which is found <em>everywhere</em>, including GNURadio and Android OS.</p>\n\n<p>CCSDS Summary: \"TM SYNCHRONIZATION AND CHANNEL CODING\u2014 SUMMARY OF CONCEPT AND RATIONALE\" (Section 5)</p>\n\n<p><a href=\"https://public.ccsds.org/pubs/130x1g2.pdf\" rel=\"noreferrer\">https://public.ccsds.org/pubs/130x1g2.pdf</a></p>\n\n<p>CCSDS Reference: \"TM SYNCHRONIZATION AND CHANNEL CODING\" Section 4.</p>\n\n<p><a href=\"https://public.ccsds.org/Pubs/131x0b3e1.pdf\" rel=\"noreferrer\">https://public.ccsds.org/Pubs/131x0b3e1.pdf</a></p>\n"}], "owner": {"reputation": 167, "user_id": 3416293, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/652bc6975743757a73c347a51d6f4cac?s=128&d=identicon&r=PG&f=1", "display_name": "Guernica88", "link": "https://stackoverflow.com/users/3416293/guernica88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1751, "favorite_count": 0, "accepted_answer_id": 52509909, "answer_count": 2, "score": 5, "last_activity_date": 1547466356, "creation_date": 1427321128, "question_id": 29267440, "link": "https://stackoverflow.com/questions/29267440/ccsds-reed-solomon-encoding", "title": "CCSDS Reed Solomon Encoding", "body": "<p>I am working on a project where I need to encode 896 bytes of data into a 128 byte codeword. All the specifications for my project are defined by CCSDS in this paper on about page 15 of the pdf.\n<a href=\"http://public.ccsds.org/publications/archive/101x0b3s.pdf\" rel=\"noreferrer\">http://public.ccsds.org/publications/archive/101x0b3s.pdf</a>\nA few things not explicitly specified in that document are J=8, E=16 (255/223) and I=4.</p>\n\n<p>I've read through this (and numerous other articles) multiple times but I don't seem to be grasping what's going on in the slightest. I've even tried the code found at \n<a href=\"http://zxingnet.codeplex.com/SourceControl/latest#trunk/Source/lib/common/reedsolomon/GenericGF.cs\" rel=\"noreferrer\">http://zxingnet.codeplex.com/SourceControl/latest#trunk/Source/lib/common/reedsolomon/GenericGF.cs</a></p>\n\n<p>and it's not working for me either. Has anyone worked with this? I need some direction as I'm feeling lost after grinding on this for so long. </p>\n\n<p>The best solution for me would be if I was just imputing the information into zxing code wrong.</p>\n"}, {"tags": ["c#", "c++", "java-native-interface"], "comments": [{"owner": {"reputation": 483, "user_id": 2941910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ffd724c00ec3008f50e3c6b222f0410?s=128&d=identicon&r=PG&f=1", "display_name": "Al.exe", "link": "https://stackoverflow.com/users/2941910/al-exe"}, "edited": false, "score": 0, "creation_date": 1427323051, "post_id": 29267426, "comment_id": 46737140, "body": "you might fin this <a href=\"http://stackoverflow.com/questions/13293888/how-to-call-a-c-sharp-library-from-native-c-using-c-cli-and-ijw\">this</a> discussion useful"}], "answers": [{"comments": [{"owner": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "edited": false, "score": 0, "creation_date": 1427323500, "post_id": 29267781, "comment_id": 46737300, "body": "Tried this already but error occurs that scanFile cannot be called with the given arguments"}, {"owner": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "edited": false, "score": 0, "creation_date": 1427325030, "post_id": 29267781, "comment_id": 46737881, "body": "translate from german:  &#205;ntelliSense: no custom convert from &quot; &quot;System::String ^&quot;&quot; in &quot;&quot;System::String&quot;&quot; exists"}, {"owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "reply_to_user": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "edited": false, "score": 0, "creation_date": 1427359572, "post_id": 29267781, "comment_id": 46747631, "body": "is this error from my code? if yes what error do you get from your own code?"}], "tags": [], "owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1427322706, "creation_date": 1427322706, "answer_id": 29267781, "question_id": 29267426, "link": "https://stackoverflow.com/questions/29267426/c-method-cannot-be-invoked-in-c-wrapper/29267781#29267781", "title": "C# Method cannot be invoked in c++ wrapper", "body": "<p>You should use <code>System::String^ path</code> in your c++ cli wrapper. You should remove the <code>const</code> too.</p>\n"}], "owner": {"reputation": 5807, "user_id": 1350066, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ormRs.png?s=128&g=1", "display_name": "Al Phaba", "link": "https://stackoverflow.com/users/1350066/al-phaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427322706, "creation_date": 1427321063, "question_id": 29267426, "link": "https://stackoverflow.com/questions/29267426/c-method-cannot-be-invoked-in-c-wrapper", "title": "C# Method cannot be invoked in c++ wrapper", "body": "<p>I want to use my c# dll in a java project. Now I need to create a wrapper library for my c# code.</p>\n\n<p>My C#-Method has this signature</p>\n\n<pre><code>    public static String scanFile(String path)\n</code></pre>\n\n<p>now how can I call this from my wrapper c++ class?</p>\n\n<pre><code>String scanFile(const System::String path){\n    return CardScan32::Scanner::scanFile(path);\n}\n</code></pre>\n\n<p>Currently I try this but its not working, because it cannot be called with this argument list</p>\n"}, {"tags": ["c#", "wpf", "xaml", "visual-studio-2013"], "comments": [{"owner": {"reputation": 486, "user_id": 4659766, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rTYDZV5UxOM/AAAAAAAAAAI/AAAAAAAAAGw/IyWK_GsyIAc/photo.jpg?sz=128", "display_name": "Matthew Frontino", "link": "https://stackoverflow.com/users/4659766/matthew-frontino"}, "edited": false, "score": 0, "creation_date": 1427321667, "post_id": 29267410, "comment_id": 46736617, "body": "Using a binding with a property changed notification!  Events are sooooooooo WinForms =P"}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1427325194, "post_id": 29267410, "comment_id": 46737957, "body": "Tried restarting your VS?"}], "answers": [{"tags": [], "owner": {"reputation": 1190, "user_id": 2882472, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100001052659858/picture?type=large", "display_name": "Dragos Stoica", "link": "https://stackoverflow.com/users/2882472/dragos-stoica"}, "is_accepted": false, "score": 0, "last_activity_date": 1427354956, "creation_date": 1427354956, "answer_id": 29273035, "question_id": 29267410, "link": "https://stackoverflow.com/questions/29267410/wpf-textbox-textchanged-event-not-triggered-when-deleting/29273035#29273035", "title": "WPF textbox textChanged event not triggered when deleting", "body": "<p>Try to use this event : <strong><em>PreviewKeyDown</em></strong></p>\n"}], "owner": {"reputation": 51, "user_id": 4262135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c29b8ff50706350b2c0abd96aeaa4421?s=128&d=identicon&r=PG&f=1", "display_name": "JDD", "link": "https://stackoverflow.com/users/4262135/jdd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1111, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1427354956, "creation_date": 1427320988, "question_id": 29267410, "link": "https://stackoverflow.com/questions/29267410/wpf-textbox-textchanged-event-not-triggered-when-deleting", "title": "WPF textbox textChanged event not triggered when deleting", "body": "<p>I am developing a Visual Studio plugin project. I found a very weird problem with my textbox in the WPF window. </p>\n\n<p>When there is no code files opened in the Visual Studio, both typing in and deleting in textbox are fine. But when there is a code file opened in the Visual Studio, I can only type into the textbox. Pressing \"backspace\" will delete text in the code file even if the textbox has the focus. When pressing the \"backspace\", the textChanged event is not fired </p>\n\n<p>XAML:</p>\n\n<pre><code>&lt;TextBox Name=\"textBoxSearch\" \nDockPanel.Dock=\"Right\" Margin=\"10\" Width=\"400\" BorderThickness=\"0\" \nTextChanged=\"textBoxSearch_TextChanged\" Focusable=\"True\" /&gt;\n</code></pre>\n\n<p>C#:</p>\n\n<pre><code>private string reportPath = null;\nprivate IEnumerable&lt;CaiasResult&gt; resultCollection;\nCollectionView resultCollectionView;\n\npublic resultWindow(IEnumerable&lt;CaiasResult&gt; resultCollection, string reportPath)\n{\n    InitializeComponent();\n    this.reportPath = reportPath;\n    //this.DataContext = this;\n    this.resultCollection= resultCollection;\n    listViewResults.ItemsSource = resultCollection;\n    CollectionView resultView = (CollectionView)CollectionViewSource.GetDefaultView(listViewResults.ItemsSource);\n    resultView.Filter = ResultFilter;\n}\n\nprivate bool ResultFilter(object item)\n{\n    if (string.IsNullOrEmpty(textBoxSearch.Text))\n        return true;\n    else\n        return ((item as CaiasResult).info.IndexOf(textBoxSearch.Text, StringComparison.OrdinalIgnoreCase) &gt;= 0);\n}\n\nprivate void textBoxSearch_TextChanged(object sender, System.Windows.Controls.TextChangedEventArgs e)\n{\n    CollectionViewSource.GetDefaultView(listViewResults.ItemsSource).Refresh();\n\n}\n</code></pre>\n"}, {"tags": ["c#", "unity-container"], "owner": {"reputation": 4992, "user_id": 303010, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Uojd0.jpg?s=128&g=1", "display_name": "BlackjacketMack", "link": "https://stackoverflow.com/users/303010/blackjacketmack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 175, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1427320612, "creation_date": 1427320612, "question_id": 29267308, "link": "https://stackoverflow.com/questions/29267308/with-microsoft-unity-how-can-i-reference-a-parameteroverride-when-using-injecti", "title": "With Microsoft Unity, how can I reference a ParameterOverride when using InjectionFactory", "body": "<p>I have a core library that has a bunch of services accessible through a factory.  It looks something like this:</p>\n\n<pre><code>MyServiceFactory.Create&lt;T&gt;(serviceKey);\n</code></pre>\n\n<p>In other libraries I'm trying to reference this factory, and pass in the ServiceKey.  I'm struggling with how to set ServiceKey as a ParameterOverride AND have it be recognized in the InjectionFactory.  When doing a standard RegisterType() the ParameterOverride magically gets injected into every class in the graph that has that parameter.</p>\n\n<p><strong>Unity Setup</strong></p>\n\n<pre><code>        container.RegisterType&lt;IOrderService&gt;(new InjectionFactory(f=&gt;{\n\nreturn MyServiceFactory.Create&lt;IOrderService&gt;(REFERENCE_TO_PARAMETEROVERRIDE_FOR_SERVICEKEY);\n                    }));\n</code></pre>\n\n<p><strong>Unity Resolve</strong></p>\n\n<pre><code>public static T Resolve&lt;T&gt;()\n        {\n\n            var parameterOverride = new ParameterOverride(\"serviceKey\", new TestingServiceKey());\n\n            return Resolve&lt;T&gt;(parameterOverride);\n        }\n</code></pre>\n"}, {"tags": ["c#", "class"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1427320789, "post_id": 29267279, "comment_id": 46736307, "body": "You need a user interface.  A NumericUpDown control would be an obvious choice, use its Value property."}], "answers": [{"comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427321110, "post_id": 29267345, "comment_id": 46736417, "body": "The first code is simpler with an automatically implemented property; the second code is simpler with the null-coalescing operator. Just in case you want to update them."}], "tags": [], "owner": {"reputation": 29640, "user_id": 1123123, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4c4f71e418588524bba4c9c0b3a7d393?s=128&d=identicon&r=PG", "display_name": "Sam I am says Reinstate Monica", "link": "https://stackoverflow.com/users/1123123/sam-i-am-says-reinstate-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1427321778, "last_edit_date": 1427321778, "creation_date": 1427320752, "answer_id": 29267345, "question_id": 29267279, "link": "https://stackoverflow.com/questions/29267279/how-to-create-a-class-property-in-c-that-is-set-based-on-computed-time-value-bu/29267345#29267345", "title": "How to create a class property in c# that is set based on computed time value but which then can be modified by a user", "body": "<p>this is the typical pattern:</p>\n\n<pre><code>private decimal _totalAdjusted;\n\npublic ThisIsMyConstructor(){\n    _totalAdjusted = ComputeHours();\n}\n\npublic decimal TotalAdjusted\n{\n    set { _totalAdjusted = value;  }\n    get { return _totalAdjusted ; }\n}\n</code></pre>\n\n<p>since this isn't really doing anything special with <code>_totalAdjusted</code>, you can simplify it to this:</p>\n\n<pre><code>public ThisIsMyConstructor(){\n    TotalAdjusted = ComputeHours();\n}\n\npublic decimal TotalAdjusted {get; set;}\n</code></pre>\n\n<hr>\n\n<p>If the result of <code>ComputHours</code> tends to change, and you want the default value to change with it, you can do this instead.</p>\n\n<pre><code>private decimal? _totalAdjusted == null;\n\npublic decimal TotalAdjusted\n{\n    set { _totalAdjusted = value;  }\n    get \n    { \n        return _totalAdjusted.HasValue ? _totalAdjusted.Value : ComputeHours();  \n    }\n}\n</code></pre>\n\n<p>Here's an explanation of  some of the syntax there</p>\n\n<p>the question mark on <code>decimal?</code> means that it's nullable.\n<code>HasValue</code> is a property on a nullable object which is true when the nullable object is not null.</p>\n\n<p>the <code>Value</code> property returns a non-nullable version of the nullable object.</p>\n\n<p>The <code>?</code> and <code>:</code> is the ternary operator.  It essentially means if <code>totalAdjusted.HasValue</code> is <code>true</code>, then use <code>_totalAdjusted.Value</code> else use <code>ComputeHours()</code></p>\n\n<hr>\n\n<p>you can also just use the null coalescing operator to do the same thing.  </p>\n\n<pre><code>return _totalAdjusted ?? ComputeHours();\n</code></pre>\n\n<p>the expression to the right of the <code>??</code> represents a default value in case <code>_totalAdjusted</code> is null</p>\n"}], "owner": {"reputation": 307, "user_id": 739111, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/12e29e990df0fddbe35844142b7955d6?s=128&d=identicon&r=PG", "display_name": "Ikram M.", "link": "https://stackoverflow.com/users/739111/ikram-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1427321778, "creation_date": 1427320499, "question_id": 29267279, "link": "https://stackoverflow.com/questions/29267279/how-to-create-a-class-property-in-c-that-is-set-based-on-computed-time-value-bu", "title": "How to create a class property in c# that is set based on computed time value but which then can be modified by a user", "body": "<p>Hope the question was clear. </p>\n\n<p>I have a class structure in place and using it in an application already. \nUser would like to however change their total time keeping the calculated time intact. Calculated time is based on ComputeHours. </p>\n\n<p>How do I introduce another property that will set its value based on ComputeHours for all existing data. Then if User changes this value, the new property should reflect this adjusted time. </p>\n\n<pre><code>    public decimal TotalHours\n    {\n        get { return ComputeHours(); }\n    }\n\n    //Introducing new property\n    public decimal TotalAdjusted\n    {\n        ???\n    }\n</code></pre>\n\n<p>It's important that I get the new property to set default to existsing property value, since the Grand Total time will then be based of this. </p>\n"}, {"tags": ["c#", "asp.net", "zeromq"], "answers": [{"comments": [{"owner": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "edited": false, "score": 0, "creation_date": 1427399987, "post_id": 29277947, "comment_id": 46772681, "body": "Hi Somodoron, thanks for the reply. So from what I gather you need to use up  a thread for a request/receive socket on each app and then use a scheduler to perform tasks. I am just trying to get my head around it. Like, if I have a lot of requests coming through is it possible (and clever?) to have one thread work purely on send/receive and the rest of the apps threads taking this work load?"}, {"owner": {"reputation": 4074, "user_id": 1966074, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5857554f05e2865244dc75a736944e08?s=128&d=identicon&r=PG", "display_name": "somdoron", "link": "https://stackoverflow.com/users/1966074/somdoron"}, "reply_to_user": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "edited": false, "score": 2, "creation_date": 1427401288, "post_id": 29277947, "comment_id": 46773382, "body": "The idea is to write a system that react to events. So yo use the netmq socket, block on the receive, get the message, process, reply and block again. If you want to block on more then one socket or need a timer use the Poller. If you have a lot of messages you can have one thread listen to the socket and then distribute the load to other worker threads. You can distribute the load using InProc sockets."}], "tags": [], "owner": {"reputation": 4074, "user_id": 1966074, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5857554f05e2865244dc75a736944e08?s=128&d=identicon&r=PG", "display_name": "somdoron", "link": "https://stackoverflow.com/users/1966074/somdoron"}, "is_accepted": true, "score": 3, "last_activity_date": 1427371415, "creation_date": 1427371415, "answer_id": 29277947, "question_id": 29267240, "link": "https://stackoverflow.com/questions/29267240/do-you-need-to-use-inproc-in-netmq-to-keep-one-thread-for-receiving-messages-or/29277947#29277947", "title": "Do you need to use inproc in netMQ to keep one thread for receiving messages or is there a better way?", "body": "<p>First, yes NetMQContext is thread safe. NetMQSocket is not.</p>\n\n<p>You need to have a dedicate thread for NetMQSocket, one thread can also handle multiple sockets and timers using Poller. You can use the NetMQScheduler to run tasks on the thread as well. Please read the following:</p>\n\n<p><a href=\"http://netmq.readthedocs.org/en/latest/poller/\" rel=\"nofollow\">http://netmq.readthedocs.org/en/latest/poller/</a>\n<a href=\"http://somdoron.com/2013/06/netmq-scheduler/\" rel=\"nofollow\">http://somdoron.com/2013/06/netmq-scheduler/</a></p>\n"}], "owner": {"reputation": 2099, "user_id": 2362852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07ae010f56663ea9a4e903e9580773a7?s=128&d=identicon&r=PG", "display_name": "Fred Johnson", "link": "https://stackoverflow.com/users/2362852/fred-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 0, "accepted_answer_id": 29277947, "answer_count": 1, "score": 1, "last_activity_date": 1427371415, "creation_date": 1427320297, "question_id": 29267240, "link": "https://stackoverflow.com/questions/29267240/do-you-need-to-use-inproc-in-netmq-to-keep-one-thread-for-receiving-messages-or", "title": "Do you need to use inproc in netMQ to keep one thread for receiving messages or is there a better way?", "body": "<p>I am just starting to learn NetMQ, derived from zeroMQ. I don't know C or C++ too well so I'm finding the zeroMQ tutorials a challenge, and the NetMQ ones seem to skim a lot. All I want is a two way binding between processes.</p>\n\n<p>app1 ----- Request data ----> app2\napp1 &lt;---- Receives data --- app2</p>\n\n<p>The basic example supplied is </p>\n\n<pre><code>using (var context = NetMQContext.Create())\nusing (var server = context.CreateResponseSocket())\nusing (var client = context.CreateRequestSocket())\n{\n    server.Bind(\"tcp://127.0.0.1:5556\");\n    client.Connect(\"tcp://127.0.0.1:5556\");\n\n    client.Send(\"Hello\");\n\n    string fromClientMessage = server.ReceiveString();\n\n    Console.WriteLine(\"From Client: {0}\", fromClientMessage);\n\n    server.Send(\"Hi Back\");\n\n    string fromServerMessage = client.ReceiveString();\n\n    Console.WriteLine(\"From Server: {0}\", fromServerMessage);\n\n    Console.ReadLine();\n}\n</code></pre>\n\n<p>And then just change the IPs. No issue there. But from what I understand this will block a thread? What I want is for the client to send a request, then do other stuff. Meanwhile the server receives the message, goes off and gets data or does other processing, and returns the result when it's done. But if I shove a big switch statement in there, do the relevant process and finally return a result, will it block the zeroMQ context/thread? Which leads onto my next question: is zeroMQ context multithreaded? </p>\n\n<p>What I need is the system to work as asynchronously as possible, if I am going completely the wrong direction here I'd appreciate a point in the right one! \nMany thanks</p>\n"}, {"tags": ["c#", "wpf", "windows", "xaml"], "comments": [{"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "edited": false, "score": 0, "creation_date": 1427325871, "post_id": 29267168, "comment_id": 46738214, "body": "Mind Blown :| looking into it"}], "answers": [{"tags": [], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "is_accepted": true, "score": 2, "last_activity_date": 1427326563, "last_edit_date": 1427326563, "creation_date": 1427326175, "answer_id": 29268473, "question_id": 29267168, "link": "https://stackoverflow.com/questions/29267168/nested-objects-with-collections-in-xaml-seem-to-leak-into-adjacent-collections/29268473#29268473", "title": "Nested objects with collections in xaml seem to leak into adjacent collections", "body": "<p><a href=\"https://msdn.microsoft.com/en-us/library/aa970563(v=vs.110).aspx\" rel=\"nofollow\">Collection-Type Dependency Properties</a></p>\n\n<h2>Summary</h2>\n\n<blockquote>\n  <p>If your property is a reference type, the default value specified in\n  dependency property metadata is not a default value per instance;\n  instead it is a default value that applies to all instances of the\n  type.</p>\n</blockquote>\n\n<p>Looks like the default static value you set in the metadata </p>\n\n<pre><code> new FrameworkPropertyMetadata(new List&lt;Point&gt;(),\n                                          ^\n                                          ---- This\n</code></pre>\n\n<p>Is resused whenever, the closed generic is another <code>DependencyObject / Freezable</code></p>\n\n<h2>Fix</h2>\n\n<blockquote>\n  <p>To correct this problem, you must reset the collection dependency property value to a unique instance, as part of the class constructor call. Because the property is a read-only dependency property, you use the SetValue(DependencyPropertyKey, Object) method to set it, using the DependencyPropertyKey that is only accessible within the class.</p>\n</blockquote>\n\n<pre><code>public NestedObjectTest() : base()\n{\n    SetValue(ChildrenProperty, new List&lt;ChildNestedObjectTest&gt;()); \n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public ChildNestedObjectTest() : base()\n{\n    SetValue(ChildrenProperty, new List&lt;Point&gt;()); \n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4313127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e02d28b20b837700a5924129799a2a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Triangle", "link": "https://stackoverflow.com/users/4313127/daniel-triangle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 29268473, "answer_count": 1, "score": 1, "last_activity_date": 1427326563, "creation_date": 1427320045, "question_id": 29267168, "link": "https://stackoverflow.com/questions/29267168/nested-objects-with-collections-in-xaml-seem-to-leak-into-adjacent-collections", "title": "Nested objects with collections in xaml seem to leak into adjacent collections", "body": "<p>When I define a collection of objects that each contain a collection like this:</p>\n\n<pre><code>&lt;Graph2:NestedObjectTest x:Key=\"nestedTest\"&gt;\n    &lt;Graph2:NestedObjectTest.Children&gt;\n        &lt;Graph2:ChildNestedObjectTest&gt;\n            &lt;Graph2:ChildNestedObjectTest.Children&gt;\n                &lt;Point X=\"0\" Y=\"0\"/&gt;\n                &lt;Point X=\"10\" Y=\"10\"/&gt;\n                &lt;Point X=\"20\" Y=\"20\"/&gt;\n            &lt;/Graph2:ChildNestedObjectTest.Children&gt;\n        &lt;/Graph2:ChildNestedObjectTest&gt;\n        &lt;Graph2:ChildNestedObjectTest&gt;\n            &lt;Graph2:ChildNestedObjectTest.Children&gt;\n                &lt;Point X=\"1\" Y=\"0\"/&gt;\n                &lt;Point X=\"11\" Y=\"10\"/&gt;\n                &lt;Point X=\"21\" Y=\"20\"/&gt;\n            &lt;/Graph2:ChildNestedObjectTest.Children&gt;\n        &lt;/Graph2:ChildNestedObjectTest&gt;\n        &lt;Graph2:ChildNestedObjectTest&gt;\n            &lt;Graph2:ChildNestedObjectTest.Children&gt;\n                &lt;Point X=\"2\" Y=\"0\"/&gt;\n                &lt;Point X=\"12\" Y=\"10\"/&gt;\n                &lt;Point X=\"22\" Y=\"20\"/&gt;\n            &lt;/Graph2:ChildNestedObjectTest.Children&gt;\n        &lt;/Graph2:ChildNestedObjectTest&gt;\n    &lt;/Graph2:NestedObjectTest.Children&gt;\n&lt;/Graph2:NestedObjectTest&gt;\n</code></pre>\n\n<p>Each of the ChildNestedObjectTest objects gets all nine of the Point objects, instead of each getting the three objects that it appears they should have.\nWhy is this?</p>\n\n<p>The code behind is:</p>\n\n<pre><code>namespace Graph2\n{\n    public class NestedObjectTest : DependencyObject\n    {\n        public static readonly DependencyProperty ChildrenProperty = DependencyProperty.Register(\"Children\", typeof(List&lt;ChildNestedObjectTest&gt;), typeof(NestedObjectTest), new FrameworkPropertyMetadata(new List&lt;ChildNestedObjectTest&gt;()));\n        public List&lt;ChildNestedObjectTest&gt; Children\n        {\n            get { return (List&lt;ChildNestedObjectTest&gt;)GetValue(ChildrenProperty); }\n            set { SetValue(ChildrenProperty, value); }\n        }\n    }\n    public class ChildNestedObjectTest : DependencyObject\n    {\n        public static readonly DependencyProperty ChildrenProperty = DependencyProperty.Register(\"Children\", typeof(List&lt;Point&gt;), typeof(ChildNestedObjectTest), new FrameworkPropertyMetadata(new List&lt;Point&gt;()));\n        public List&lt;Point&gt; Children\n        {\n            get { return (List&lt;Point&gt;)GetValue(ChildrenProperty); }\n            set { SetValue(ChildrenProperty, value); }\n        }\n    }\n}\n</code></pre>\n\n<p>And I tested by adding the xaml to a window as a resource, then using:</p>\n\n<pre><code>Graph2.NestedObjectTest test = (Graph2.NestedObjectTest)this.Resources[\"nestedTest\"];\n</code></pre>\n"}, {"tags": ["c#"], "answers": [{"comments": [{"owner": {"reputation": 3432, "user_id": 1565982, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4e503d19a814ba30059365f7aebc280f?s=128&d=identicon&r=PG", "display_name": "totalitarian", "link": "https://stackoverflow.com/users/1565982/totalitarian"}, "edited": false, "score": 0, "creation_date": 1427321605, "post_id": 29267369, "comment_id": 46736596, "body": "Because that way the headers from excel don&#39;t get put into the data table as headers"}, {"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "reply_to_user": {"reputation": 3432, "user_id": 1565982, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4e503d19a814ba30059365f7aebc280f?s=128&d=identicon&r=PG", "display_name": "totalitarian", "link": "https://stackoverflow.com/users/1565982/totalitarian"}, "edited": false, "score": 0, "creation_date": 1427466615, "post_id": 29267369, "comment_id": 46800696, "body": "are the no. of junk lines fixed in your sheet?"}, {"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "reply_to_user": {"reputation": 3432, "user_id": 1565982, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4e503d19a814ba30059365f7aebc280f?s=128&d=identicon&r=PG", "display_name": "totalitarian", "link": "https://stackoverflow.com/users/1565982/totalitarian"}, "edited": false, "score": 0, "creation_date": 1427466887, "post_id": 29267369, "comment_id": 46800894, "body": "I have updated the answer. Please check if that works for you. I have run it locally and it seems to do what you ask for."}, {"owner": {"reputation": 3432, "user_id": 1565982, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4e503d19a814ba30059365f7aebc280f?s=128&d=identicon&r=PG", "display_name": "totalitarian", "link": "https://stackoverflow.com/users/1565982/totalitarian"}, "edited": false, "score": 0, "creation_date": 1427467006, "post_id": 29267369, "comment_id": 46800976, "body": "That seems to get the headers but not the data"}, {"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "reply_to_user": {"reputation": 3432, "user_id": 1565982, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4e503d19a814ba30059365f7aebc280f?s=128&d=identicon&r=PG", "display_name": "totalitarian", "link": "https://stackoverflow.com/users/1565982/totalitarian"}, "edited": false, "score": 0, "creation_date": 1427467085, "post_id": 29267369, "comment_id": 46801028, "body": "It does get the data too. What is the row count you get?"}], "tags": [], "owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "is_accepted": true, "score": 6, "last_activity_date": 1427467283, "last_edit_date": 1427467283, "creation_date": 1427320836, "answer_id": 29267369, "question_id": 29267154, "link": "https://stackoverflow.com/questions/29267154/c-reading-excel-file-where-the-header-is-not-the-first-row/29267369#29267369", "title": "C# reading excel file where the header is not the first row", "body": "<p>Assuming you have fixed lines of junk code in your Excel Sheet, you could execute the query like this.</p>\n\n<pre><code>\"SELECT * From [Sheet1$A5:C]\"\n</code></pre>\n\n<p>The assumption here is that your headers are on line 5 and C is the column where your data ends. This correctly loads the header names for the columns.</p>\n\n<p>Adding a snapshot of the Excel against which the above query works.</p>\n\n<p><img src=\"https://i.stack.imgur.com/cPU5u.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 3432, "user_id": 1565982, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4e503d19a814ba30059365f7aebc280f?s=128&d=identicon&r=PG", "display_name": "totalitarian", "link": "https://stackoverflow.com/users/1565982/totalitarian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8991, "favorite_count": 0, "accepted_answer_id": 29267369, "answer_count": 1, "score": 1, "last_activity_date": 1427467283, "creation_date": 1427319982, "question_id": 29267154, "link": "https://stackoverflow.com/questions/29267154/c-reading-excel-file-where-the-header-is-not-the-first-row", "title": "C# reading excel file where the header is not the first row", "body": "<p>I'm trying to read data from an excel file. Full code below. The first few lines are junk, so skip them using the following </p>\n\n<pre><code>\"SELECT * From [\" + SheetName + \"] WHERE [F3] &lt;&gt; ''\";\n</code></pre>\n\n<p>I want to read the code to a datatable and still keep the headers. which appear after the junk lines.</p>\n\n<p>The problem is that when I filter our the junk lines using the WHERE clause above, the datatable column titles come out as F1,F2 etc</p>\n\n<p>In my connection string I do specify I want the headers</p>\n\n<p>HDR=Yes.</p>\n\n<p>If I remove the WHERE clause from the SELECT, it works as I expect.</p>\n\n<p>Please advise</p>\n\n<pre><code>switch (Extension)\n            {\n                case \".xls\": //Excel 97-03\n                    conStr = ConfigurationManager.ConnectionStrings[\"Excel03ConString\"].ConnectionString;\n                    break;\n                case \".xlsx\": //Excel 07\n                    conStr = ConfigurationManager.ConnectionStrings[\"Excel07ConString\"].ConnectionString;\n                    break;\n            }\n            conStr = String.Format(conStr, FilePath, \"Yes\");\n            OleDbConnection connExcel = new OleDbConnection(conStr);\n            OleDbCommand cmdExcel = new OleDbCommand();\n            OleDbDataAdapter oda = new OleDbDataAdapter();\n            DataTable dt = new DataTable();\n            cmdExcel.Connection = connExcel;\n\n            //Get the name of First Sheet\n            connExcel.Open();\n            DataTable dtExcelSchema;\n            dtExcelSchema = connExcel.GetOleDbSchemaTable(OleDbSchemaGuid.Tables, null);\n            string SheetName = ListSheets.SelectedValue;\n            connExcel.Close();\n\n            //Read Data from First Sheet\n            connExcel.Open();\n            cmdExcel.CommandText = \"SELECT * From [\" + SheetName + \"] WHERE [F3] &lt;&gt; ''\";\n            oda.SelectCommand = cmdExcel;\n            oda.Fill(dt);\n\n\n     connExcel.Close();\n</code></pre>\n"}, {"tags": ["c#", "winforms", "visual-studio-2012"], "comments": [{"owner": {"reputation": 14588, "user_id": 244393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55eb813499c0cf9fd47e95690782bf83?s=128&d=identicon&r=PG", "display_name": "Crast", "link": "https://stackoverflow.com/users/244393/crast"}, "edited": false, "score": 1, "creation_date": 1427320573, "post_id": 29267095, "comment_id": 46736204, "body": "This is a very big code example and a rather vague question, it would help if you could explain your problem domain more clearly and could provide a code example which isolates the problem you&#39;re having, rather than having  answerers try to sift through a lot of unrelated code to answer &quot;what mistakes am I making?&quot;"}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427324164, "post_id": 29267095, "comment_id": 46737555, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427324144, "post_id": 29267384, "comment_id": 46737544, "body": "The OP is using WinForms"}], "tags": [], "owner": {"reputation": 72, "user_id": 4647887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2n4a8Vuzh3o/AAAAAAAAAAI/AAAAAAAAFmY/3P1_cKCPk64/photo.jpg?sz=128", "display_name": "Huhra", "link": "https://stackoverflow.com/users/4647887/huhra"}, "is_accepted": false, "score": -2, "last_activity_date": 1427320887, "creation_date": 1427320887, "answer_id": 29267384, "question_id": 29267095, "link": "https://stackoverflow.com/questions/29267095/the-calling-thread-cannot-access-this-object-because-a-different-thread-owns-it/29267384#29267384", "title": "&quot;The calling thread cannot access this object because a different thread owns it&quot; using System.Windows.Media.MediaPlayer", "body": "<p>When using a WPF element inside a different Thread than the UI thread you need to invoke using the Dispatcher.Invoke if you want a synchronous call, but if you can it is prefered to use Dispatcher.BeginInvoke.</p>\n\n<p>Change your code with:</p>\n\n<pre><code>System.Windows.Application.Current.Dispatcher.BeginInvoke(new Action(() =&gt;\n{\n    m_SoundPlayer.Stop();\n    m_SoundPlayer.Open(new Uri(szPath, UriKind.Relative));\n    m_SoundPlayer.Play();\n}));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4587, "user_id": 1466960, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LJK98.jpg?s=128&g=1", "display_name": "RagtimeWilly", "link": "https://stackoverflow.com/users/1466960/ragtimewilly"}, "is_accepted": true, "score": 1, "last_activity_date": 1427321406, "last_edit_date": 1427321406, "creation_date": 1427321057, "answer_id": 29267423, "question_id": 29267095, "link": "https://stackoverflow.com/questions/29267095/the-calling-thread-cannot-access-this-object-because-a-different-thread-owns-it/29267423#29267423", "title": "&quot;The calling thread cannot access this object because a different thread owns it&quot; using System.Windows.Media.MediaPlayer", "body": "<p>In WinForms, controls created in one thread cannot be accessed from any other thread. So you need to run the code on the main thread using <code>Invoke</code>. </p>\n\n<p>Try this:</p>\n\n<pre><code>if (!szSoundPlayerPath.Equals(szPath))\n{\n    try\n    {\n        this.Invoke((MethodInvoker)delegate \n        {\n            m_SoundPlayer.Stop();\n            m_SoundPlayer.Open(new Uri(szPath, UriKind.Relative));\n            m_SoundPlayer.Play();\n        });\n    }\n    catch (Exception ex)\n    {\n        Console.WriteLine(ex.Message);\n    }\n}\n</code></pre>\n\n<p>I'm not 100% sure if the above three lines are what's causing the exception, but you just need to wrap whatever lines of code are causing the error in the <code>Invoke</code> statement.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 4714130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7775516a4b75bcde04179bd0de66e2d?s=128&d=identicon&r=PG&f=1", "display_name": "Jenzien", "link": "https://stackoverflow.com/users/4714130/jenzien"}, "is_accepted": false, "score": 0, "last_activity_date": 1427455063, "creation_date": 1427455063, "answer_id": 29299465, "question_id": 29267095, "link": "https://stackoverflow.com/questions/29267095/the-calling-thread-cannot-access-this-object-because-a-different-thread-owns-it/29299465#29299465", "title": "&quot;The calling thread cannot access this object because a different thread owns it&quot; using System.Windows.Media.MediaPlayer", "body": "<p>Thank you so much for your input, this is what I have come up with as a result and it works</p>\n\n<pre><code>if (InvokeRequired)\n                    {\n                        this.BeginInvoke(new Action(() =&gt;\n                        {\n                            m_SoundPlayer.Stop();\n                            m_SoundPlayer.Open(new Uri(szPath, UriKind.Relative));\n                            m_SoundPlayer.Play();\n                        }));\n                    }\n                    else\n                    {\n                        m_SoundPlayer.Stop();\n                        m_SoundPlayer.Open(new Uri(szPath, UriKind.Relative));\n                        m_SoundPlayer.Play();\n                    }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4714130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7775516a4b75bcde04179bd0de66e2d?s=128&d=identicon&r=PG&f=1", "display_name": "Jenzien", "link": "https://stackoverflow.com/users/4714130/jenzien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 0, "accepted_answer_id": 29267423, "answer_count": 3, "score": 0, "last_activity_date": 1427455063, "creation_date": 1427319721, "last_edit_date": 1427324118, "question_id": 29267095, "link": "https://stackoverflow.com/questions/29267095/the-calling-thread-cannot-access-this-object-because-a-different-thread-owns-it", "title": "&quot;The calling thread cannot access this object because a different thread owns it&quot; using System.Windows.Media.MediaPlayer", "body": "<p>I'm having problems with playing sound using System.Windows.Media.MediaPlayer, what is weird is how it works the first time around, however on the second time it throws an exception with the message of The calling thread cannot access this object because a different thread owns it.</p>\n\n<p>This is my code below, look at m_BackgroundWorker_DoWork specifically which is where it actually plays the sound where the sound file location is different to the last stored one:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Drawing;\nusing System.Data;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\nusing System.Collections;\nusing System.Timers;\nusing System.Media;\n\nnamespace RPGInventor\n{\n    public partial class GameMapPanel : UserControl\n    {\n        protected Point m_Size;\n        protected bool m_bGrid;\n        protected CMap m_Map;\n        protected System.Timers.Timer m_Timer;\n        //protected SoundPlayer m_SoundPlayer;\n        protected System.Windows.Media.MediaPlayer m_SoundPlayer;\n        protected string m_szLastMedia;\n        protected bool m_bRepeatBGS;\n\n        public GameMapPanel()\n        {\n            InitializeComponent();\n            this.Width = 0;\n            this.Height = 0;\n            m_Size = new Point(0, 0);\n            m_Timer = new System.Timers.Timer(1000 / 60);\n            m_Timer.Elapsed += m_Timer_Elapsed;\n            //m_SoundPlayer = new SoundPlayer();\n            m_SoundPlayer = new System.Windows.Media.MediaPlayer();\n            m_szLastMedia = \"\";\n        }\n\n        void m_Timer_Elapsed(object sender, ElapsedEventArgs e)\n        {\n            Invalidate();\n        }\n\n        public void setupGrid(int nCols, int nRows)\n        {\n            this.Width = nCols * 32;\n            this.Height = nRows * 32;\n            m_Size = new Point(nCols, nRows);\n            m_Map.setGridSize(nCols, nRows);\n\n            GameDialog parent = (GameDialog)this.Parent;\n            parent.updateScrollBars();\n        }\n\n        public void setMap(CMap map)\n        {\n            this.m_Map = map;\n            MainForm mf = (MainForm)CUtil.findForm(\"RPG Inventor\");\n\n            //m_BackgroundWorker.RunWorkerAsync();\n            m_BackgroundWorker_DoWork(null, null);\n\n            for (int i = 0; i &lt; getMap().getEvents().Count; ++i)\n            {\n                CEvent cevent = (CEvent)getMap().getEvents()[i];\n                if (cevent.getType() == (int)CEvent.EventType.TRANSFER)\n                {\n                    CTransferEvent transferEvent = (CTransferEvent)cevent;\n\n                    if (CResources.getLoadedMap(transferEvent.getMapName()) == null)\n                    {\n                        CMap temp = new CMap(\"\", 0, 0);\n                        CMap Loadmap = temp.retrieve(mf.m_Database, transferEvent.getMapName());\n                        CResources.addLoadedMap(Loadmap);\n                    }\n\n                    CLayer layer = (CLayer)getMap().getMapLayers()[1];\n\n                    CTransferObject transferObj = new CTransferObject(transferEvent);\n                    transferObj.setLocation(new Point(transferEvent.getGridLoc().X * 32,\n                    transferEvent.getGridLoc().Y * 32));\n\n                    layer.addObject(transferObj, 2);\n                }\n                if (cevent.getType() == (int)CEvent.EventType.DOOR)\n                {\n                    CDoorEvent doorEvent = (CDoorEvent)cevent;\n\n                    if (CResources.getLoadedMap(doorEvent.getMapName()) == null)\n                    {\n                        CMap temp = new CMap(\"\", 0, 0);\n                        CMap Loadmap = temp.retrieve(mf.m_Database, doorEvent.getMapName());\n                        CResources.addLoadedMap(Loadmap);\n                    }\n\n                    CLayer layer = (CLayer)getMap().getMapLayers()[1];\n                    CDoorObject doorObj = new CDoorObject(doorEvent);\n                    int nH = doorObj.getHeight();\n                    int nDiff = nH - 32;\n                    int nY = (doorEvent.getGridLoc().Y * 32) - nDiff;\n                    doorObj.setLocation(new Point(doorEvent.getGridLoc().X * 32, nY));\n\n                    layer.addObject(doorObj, 2);\n                }\n            }\n        }\n\n        public CMap getMap()\n        {\n            return this.m_Map;\n        }\n\n        public void addCharacterSet(CCharacterSet charSet)\n        {\n            CSpriteObject spriteObj = new CSpriteObject();\n            spriteObj.loadImage(charSet.CharGraphic);\n            spriteObj.setAnimations(charSet.CharSize.Y, charSet.CharSize.X);\n            spriteObj.setCharSet(charSet);\n            spriteObj.setVisible(true);\n            //spriteObj.setListener(this);\n\n            for (int i=0; i&lt;m_Map.getEvents().Count; ++i)\n            {\n                CEvent cevent = (CEvent) m_Map.getEvents()[i];\n                if (cevent.getType() == (int)CEvent.EventType.PLAYER_START)\n                {\n                    int nSpaceY = 32; int nDifference = spriteObj.getHeight() - nSpaceY;\n                    spriteObj.setLocation(new Point(cevent.getGridLoc().X * 32, \n                            (cevent.getGridLoc().Y * 32) - nDifference));\n                }\n            }\n\n            CLayer layer = (CLayer)m_Map.getMapLayers()[1];\n            layer.addObject(spriteObj, 2);\n        }\n\n        public void addCharacterSet(CCharacterSet charSet, Point ptGrid, int nDir)\n        {\n            GameDialog gd = (GameDialog)this.Parent;\n            MainForm mf = (MainForm)gd.Owner;\n            CSpriteObject spriteObj = new CSpriteObject();\n            spriteObj.loadImage(charSet.CharGraphic);\n            spriteObj.setAnimations(charSet.CharSize.Y, charSet.CharSize.X);\n            spriteObj.setCharSet(charSet);\n            spriteObj.setVisible(true);\n            spriteObj.setLocation(new Point(ptGrid.X * 32, ptGrid.Y * 32));\n            spriteObj.setDirection(nDir);\n            spriteObj.setCurrentAnim(nDir);\n            //spriteObj.setListener(this);\n\n            CLayer layer = (CLayer)m_Map.getMapLayers()[1];\n            layer.addObject(spriteObj, 2);\n        }\n\n        public void Closed()\n        {\n            m_SoundPlayer.Stop();\n            m_SoundPlayer.Close();\n        }\n\n        private void GameMapPanel_Load(object sender, EventArgs e)\n        {\n            //this.Height = 0;\n            //this.Width = 0;\n            GameDialog holder = (GameDialog)this.Parent;\n            holder.updateScrollBars();\n            m_Timer.Start();\n        }\n\n        private void GameMapPanel_Paint(object sender, PaintEventArgs e)\n        {\n            Graphics g = e.Graphics;\n\n            //create back buffer\n            Bitmap backBuffer = new Bitmap(Width, Height);\n            Graphics backG = Graphics.FromImage(backBuffer);\n\n            if (m_Map != null)\n            {\n                ArrayList mapLayers = m_Map.getMapLayers();\n\n                for (int i = 0; i &lt; mapLayers.Count; ++i)\n                {\n                    CLayer layer = (CLayer)mapLayers[i];\n                    layer.DrawLayer(backG);\n                }\n            }\n\n            g.DrawImage(backBuffer, new Point(0, 0));\n        }\n\n        private void GameMapPanel_MouseEnter(object sender, EventArgs e)\n        {\n            this.Focus();\n        }\n\n        private void GameMapPanel_KeyDown(object sender, KeyEventArgs e)\n        {\n            //get CharSet\n            GameDialog gd = (GameDialog)this.Parent;\n            MainForm mf = (MainForm)gd.Owner;\n            CSpriteObject player = new CSpriteObject();\n            CCharacterSet dbCharSet = (CCharacterSet)mf.m_Database.m_Characters[0];\n\n            ArrayList list = m_Map.getMapLayers();\n            CLayer layer = (CLayer)list[1];\n\n            for (int i = 0; i &lt; layer.getObjects().Count; i++)\n            {\n                CMapObject mapObj = layer.getObject(i);\n                if (mapObj.getType() == (int)CMapObject.MapObjectType.SPRITE)\n                {\n                    CSpriteObject sprite = (CSpriteObject)mapObj;\n                    if (sprite.getCharSet().Name.Equals(dbCharSet.Name))\n                    {\n                        player = sprite;\n                    }\n                }\n            }\n\n            if (e.KeyCode == Keys.Down)\n            {\n                player.setDirection((int)CSpriteObject.Direction.DOWN);\n                player.startTimer();\n            }\n            if (e.KeyCode == Keys.Up)\n            {\n                player.setDirection((int)CSpriteObject.Direction.UP);\n                player.startTimer();\n            }\n            if (e.KeyCode == Keys.Left)\n            {\n                player.setDirection((int)CSpriteObject.Direction.LEFT);\n                player.startTimer();\n            }\n            if (e.KeyCode == Keys.Right)\n            {\n                player.setDirection((int)CSpriteObject.Direction.RIGHT);\n                player.startTimer();\n            }\n        }\n\n        private void GameMapPanel_KeyUp(object sender, KeyEventArgs e)\n        {\n            //get CharSet\n            GameDialog gd = (GameDialog)this.Parent;\n            MainForm mf = (MainForm)gd.Owner;\n            CSpriteObject player = new CSpriteObject();\n            CCharacterSet dbCharSet = (CCharacterSet)mf.m_Database.m_Characters[0];\n\n            ArrayList list = m_Map.getMapLayers();\n            CLayer layer = (CLayer)list[1];\n\n            for (int i = 0; i &lt; layer.getObjects().Count; i++)\n            {\n                CMapObject mapObj = layer.getObject(i);\n                if (mapObj.getType() == (int)CMapObject.MapObjectType.SPRITE)\n                {\n                    CSpriteObject sprite = (CSpriteObject)mapObj;\n                    if (sprite.getCharSet().Name.Equals(dbCharSet.Name))\n                    {\n                        player = sprite;\n                    }\n                }\n            }\n\n            if (e.KeyCode == Keys.Down || e.KeyCode == Keys.Up || e.KeyCode == Keys.Left || e.KeyCode == Keys.Right)\n            {\n                player.stopTimer();\n            }\n        }\n\n        private void GameMapPanel_PreviewKeyDown(object sender, PreviewKeyDownEventArgs e)\n        {\n            switch (e.KeyCode)\n            {\n                case Keys.Down:\n                case Keys.Up:\n                case Keys.Left:\n                case Keys.Right:\n                    e.IsInputKey = true;\n                    break;\n            }\n        }\n\n        private void m_BackgroundWorker_DoWork(object sender, DoWorkEventArgs e)\n        {\n            MainForm mf = (MainForm)CUtil.findForm(\"RPG Inventor\");\n\n            if (this.getMap().getSoundDir() != null &amp;&amp; this.getMap().getSoundDir() != \"\"\n                &amp;&amp; this.getMap().getSoundName() != null &amp;&amp; this.getMap().getSoundName() != \"\")\n            {\n                String szPath = \".\\\\Projects\\\\\" + mf.m_Database.m_Name + \"\\\\Audio\\\\\" +\n                    this.getMap().getSoundDir() + \"\\\\\" + this.getMap().getSoundName();\n\n                string szSoundPlayerPath = m_szLastMedia;\n\n                if (!szSoundPlayerPath.Equals(szPath))\n                {\n                    try\n                    {\n                        m_SoundPlayer.Stop();\n                        m_SoundPlayer.Open(new Uri(szPath, UriKind.Relative));\n                        m_SoundPlayer.Play();\n                    }\n                    catch (Exception ex)\n                    {\n                        Console.WriteLine(ex.Message);\n                    }\n                    //m_SoundPlayer.Stop();\n                    //m_SoundPlayer.SoundLocation = szPath;\n                    //m_SoundPlayer.PlayLooping();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "json", "serialization", "json.net", "converter"], "answers": [{"comments": [{"owner": {"reputation": 623, "user_id": 3880049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f5fc32f38e84c64ee3630c83e56748a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/3880049/mike"}, "edited": false, "score": 5, "creation_date": 1482183259, "post_id": 29281107, "comment_id": 69662117, "body": "It&#39;s worth noting, though, that this can cause other serialization-based attributes to be ignored.  For instance, if you put [JsonIgnore] on a property, it will still get added with the above code."}, {"owner": {"reputation": 28459, "user_id": 960567, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d95e231d783a218eba22a6bd04652255?s=128&d=identicon&r=PG", "display_name": "user960567", "link": "https://stackoverflow.com/users/960567/user960567"}, "edited": false, "score": 0, "creation_date": 1494091756, "post_id": 29281107, "comment_id": 74685033, "body": "have similar problem here <a href=\"http://stackoverflow.com/questions/43821065/stackoverflow-exception-when-using-custom-jsonconverter-and-custom-contractresol\" title=\"stackoverflow exception when using custom jsonconverter and custom contractresol\">stackoverflow.com/questions/43821065/&hellip;</a> can you please help?"}, {"owner": {"reputation": 22848, "user_id": 11799, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88d8477a448df518e49bcf19dc2bc552?s=128&d=identicon&r=PG", "display_name": "MrHinsh - Martin Hinshelwood", "link": "https://stackoverflow.com/users/11799/mrhinsh-martin-hinshelwood"}, "edited": false, "score": 0, "creation_date": 1605259471, "post_id": 29281107, "comment_id": 114601647, "body": "Any update on a way to do this that honours the attributes?"}], "tags": [], "owner": {"reputation": 108943, "user_id": 10263, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/e51Ks.jpg?s=128&g=1", "display_name": "Brian Rogers", "link": "https://stackoverflow.com/users/10263/brian-rogers"}, "is_accepted": true, "score": 26, "last_activity_date": 1427380230, "creation_date": 1427380230, "answer_id": 29281107, "question_id": 29267030, "link": "https://stackoverflow.com/questions/29267030/custom-jsonconverter-writejson-does-not-alter-serialization-of-sub-properties/29281107#29281107", "title": "Custom JsonConverter WriteJson Does Not Alter Serialization of Sub-properties", "body": "<p>The reason that your converter is not getting applied to your child objects is because <code>JToken.FromObject()</code> uses a new instance of the serializer internally, which does not know about your converter.  There is an overload that allows you to pass in the serializer, but if you do so here you will have another problem: since you are inside a converter and you are using <code>JToken.FromObject()</code> to try to serialize the parent object, you will get into an infinite recursive loop.  (<code>JToken.FromObject()</code> calls the serializer, which calls your converter, which calls <code>JToken.FromObject()</code>, etc.)</p>\n\n<p>To get around this problem, you must handle the parent object manually.  You can do this without much trouble using a bit of reflection to enumerate the parent properties:</p>\n\n<pre><code>public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n{\n    JObject jo = new JObject();\n    Type type = value.GetType();\n    jo.Add(\"type\", type.Name);\n\n    foreach (PropertyInfo prop in type.GetProperties())\n    {\n        if (prop.CanRead)\n        {\n            object propVal = prop.GetValue(value, null);\n            if (propVal != null)\n            {\n                jo.Add(prop.Name, JToken.FromObject(propVal, serializer));\n            }\n        }\n    }\n    jo.WriteTo(writer);\n}\n</code></pre>\n\n<p>Fiddle: <a href=\"https://dotnetfiddle.net/sVWsE4\" rel=\"noreferrer\">https://dotnetfiddle.net/sVWsE4</a></p>\n"}, {"comments": [{"owner": {"reputation": 9938, "user_id": 700206, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jYx9d.jpg?s=128&g=1", "display_name": "whitneyland", "link": "https://stackoverflow.com/users/700206/whitneyland"}, "edited": false, "score": 0, "creation_date": 1509480002, "post_id": 46572813, "comment_id": 81034515, "body": "where is jObject coming from?"}, {"owner": {"reputation": 285, "user_id": 738847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0e249f03d3cdcab3825429cae8d8ce4d?s=128&d=identicon&r=PG", "display_name": "GettnDer", "link": "https://stackoverflow.com/users/738847/gettnder"}, "reply_to_user": {"reputation": 9938, "user_id": 700206, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jYx9d.jpg?s=128&g=1", "display_name": "whitneyland", "link": "https://stackoverflow.com/users/700206/whitneyland"}, "edited": false, "score": 0, "creation_date": 1509480382, "post_id": 46572813, "comment_id": 81034680, "body": "Hi Lee, sorry about that, the jToken is castable to a jObject if the jToken type is &#39;Object&#39;  I added the  missing line, if you have any other questions poke me"}], "tags": [], "owner": {"reputation": 285, "user_id": 738847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/0e249f03d3cdcab3825429cae8d8ce4d?s=128&d=identicon&r=PG", "display_name": "GettnDer", "link": "https://stackoverflow.com/users/738847/gettnder"}, "is_accepted": false, "score": 2, "last_activity_date": 1539474570, "last_edit_date": 1539474570, "creation_date": 1507145668, "answer_id": 46572813, "question_id": 29267030, "link": "https://stackoverflow.com/questions/29267030/custom-jsonconverter-writejson-does-not-alter-serialization-of-sub-properties/46572813#46572813", "title": "Custom JsonConverter WriteJson Does Not Alter Serialization of Sub-properties", "body": "<p>Here's an idea, instead of doing the reflection on every property, iterate through the normally serialized JObject and then changed the token of properties you're interested in.</p>\n\n<p>That way you can still leverage all the ''JsonIgnore'' attributes and other attractive features built-in.</p>\n\n<pre><code>public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n{\n    JToken jToken = JToken.FromObject(value);\n\n    if (jToken.Type == JTokenType.Object)\n    {\n        JObject jObject = (JObject)jToken;\n        ...\n        AddRemoveSerializedProperties(jObject, val);\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>private void AddRemoveSerializedProperties(JObject jObject, MahMan baseContract)\n   {\n       jObject.AddFirst(....);\n\n        foreach (KeyValuePair&lt;string, JToken&gt; propertyJToken in jObject)\n        {\n            if (propertyJToken.Value.Type != JTokenType.Object)\n                continue;\n\n            JToken nestedJObject = propertyJToken.Value;\n            PropertyInfo clrProperty = baseContract.GetType().GetProperty(propertyJToken.Key);\n            MahMan nestedObjectValue = clrProperty.GetValue(baseContract) as MahMan;\n            if(nestedObj != null)\n                AddRemoveSerializedProperties((JObject)nestedJObject, nestedObjectValue);\n        }\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 345, "user_id": 2266405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2fd0578315fccdb04625e747918810d?s=128&d=identicon&r=PG", "display_name": "Corniel Nobel", "link": "https://stackoverflow.com/users/2266405/corniel-nobel"}, "edited": false, "score": 0, "creation_date": 1618381952, "post_id": 59329703, "comment_id": 118581018, "body": "This is a bad practice: 1. It is not threat-safe 2. It will fail to serialize child nodes of the same type the same way as this parent (for missing the current serializer) 3. If the FormObject fails, the state of your seralizer has changed 4. If it not fails, the order of applying converters might have changed."}], "tags": [], "owner": {"reputation": 39, "user_id": 2874771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870b1775775e4dd072b82c7758934f85?s=128&d=identicon&r=PG&f=1", "display_name": "Framnk", "link": "https://stackoverflow.com/users/2874771/framnk"}, "is_accepted": false, "score": 2, "last_activity_date": 1576525295, "last_edit_date": 1576525295, "creation_date": 1576270568, "answer_id": 59329703, "question_id": 29267030, "link": "https://stackoverflow.com/questions/29267030/custom-jsonconverter-writejson-does-not-alter-serialization-of-sub-properties/59329703#59329703", "title": "Custom JsonConverter WriteJson Does Not Alter Serialization of Sub-properties", "body": "<p>I had this issue using two custom converters for a parent and child type.  A simpler method I found is that since an overload of <code>JToken.FromObject()</code> takes a <code>serializer</code> as a parameter, you can pass along the serializer you were given in <code>WriteJson()</code>.  However you need to remove your converter from the serializer to avoid a recursive call to it (but add it back in after):</p>\n\n<pre><code>public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n{\n    serializer.Converters.Remove(this);\n    JToken jToken = JToken.FromObject(value, serializer);\n    serializer.Converters.Add(this);\n\n    // Perform any necessary conversions on the object returned\n}\n</code></pre>\n"}], "owner": {"reputation": 7105, "user_id": 1858308, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/9b3bf9138cc53fb31c29dc391f321727?s=128&d=identicon&r=PG", "display_name": "Mickael Caruso", "link": "https://stackoverflow.com/users/1858308/mickael-caruso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22827, "favorite_count": 10, "accepted_answer_id": 29281107, "answer_count": 3, "score": 18, "last_activity_date": 1576525295, "creation_date": 1427319494, "last_edit_date": 1494275839, "question_id": 29267030, "link": "https://stackoverflow.com/questions/29267030/custom-jsonconverter-writejson-does-not-alter-serialization-of-sub-properties", "title": "Custom JsonConverter WriteJson Does Not Alter Serialization of Sub-properties", "body": "<p>I always had the impression that the JSON serializer actually traverses your entire object's tree, and executes the custom JsonConverter's WriteJson function on each interface-typed object that it comes across - not so.</p>\n\n<p>I have the following classes and interfaces:</p>\n\n<pre><code>public interface IAnimal\n{\n    string Name { get; set; }\n    string Speak();\n    List&lt;IAnimal&gt; Children { get; set; }\n}\n\npublic class Cat : IAnimal\n{\n    public string Name { get; set; }\n    public List&lt;IAnimal&gt; Children { get; set; }        \n\n    public Cat()\n    {\n        Children = new List&lt;IAnimal&gt;();\n    }\n\n    public Cat(string name=\"\") : this()\n    {\n        Name = name;\n    }\n\n    public string Speak()\n    {\n        return \"Meow\";\n    }       \n}\n\n public class Dog : IAnimal\n {\n    public string Name { get; set; }\n    public List&lt;IAnimal&gt; Children { get; set; }\n\n    public Dog()\n    {\n        Children = new List&lt;IAnimal&gt;();   \n    }\n\n    public Dog(string name=\"\") : this()\n    {\n        Name = name;\n    }\n\n    public string Speak()\n    {\n        return \"Arf\";\n    }\n\n}\n</code></pre>\n\n<p>To avoid the $type property in the JSON, I've written a custom JsonConverter class, whose WriteJson is</p>\n\n<pre><code>public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)\n{\n    JToken t = JToken.FromObject(value);\n\n    if (t.Type != JTokenType.Object)\n    {\n        t.WriteTo(writer);                \n    }\n    else\n    {\n        IAnimal animal = value as IAnimal;\n        JObject o = (JObject)t;\n\n        if (animal != null)\n        {\n            if (animal is Dog)\n            {\n                o.AddFirst(new JProperty(\"type\", \"Dog\"));\n                //o.Find\n            }\n            else if (animal is Cat)\n            {\n                o.AddFirst(new JProperty(\"type\", \"Cat\"));\n            }\n\n            foreach(IAnimal childAnimal in animal.Children)\n            {\n                // ???\n            }\n\n            o.WriteTo(writer);\n        }\n    }\n}\n</code></pre>\n\n<p>In this example, yes, a dog can have cats for children and vice-versa. In the converter, I want to insert the \"type\" property so that it saves that to the serialization. I have the following setup. (Zoo has only a name and a list of IAnimals. I didn't include it here for brevity and laziness ;)) </p>\n\n<pre><code>Zoo hardcodedZoo = new Zoo()\n            {   Name = \"My Zoo\",               \n                Animals = new List&lt;IAnimal&gt; { new Dog(\"Ruff\"), new Cat(\"Cleo\"),\n                    new Dog(\"Rover\"){\n                        Children = new List&lt;IAnimal&gt;{ new Dog(\"Fido\"), new Dog(\"Fluffy\")}\n                    } }\n            };\n\n            JsonSerializerSettings settings = new JsonSerializerSettings(){\n                ContractResolver = new CamelCasePropertyNamesContractResolver() ,                    \n                Formatting = Formatting.Indented\n            };\n            settings.Converters.Add(new AnimalsConverter());            \n\n            string serializedHardCodedZoo = JsonConvert.SerializeObject(hardcodedZoo, settings);\n</code></pre>\n\n<p><code>serializedHardCodedZoo</code> has the following output after serialization:</p>\n\n<pre><code>{\n  \"name\": \"My Zoo\",\n  \"animals\": [\n    {\n      \"type\": \"Dog\",\n      \"Name\": \"Ruff\",\n      \"Children\": []\n    },\n    {\n      \"type\": \"Cat\",\n      \"Name\": \"Cleo\",\n      \"Children\": []\n    },\n    {\n      \"type\": \"Dog\",\n      \"Name\": \"Rover\",\n      \"Children\": [\n        {\n          \"Name\": \"Fido\",\n          \"Children\": []\n        },\n        {\n          \"Name\": \"Fluffy\",\n          \"Children\": []\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<p>The type property shows up on Ruff, Cleo, and Rover, but not for Fido and Fluffy. I guess the WriteJson isn't called recursively. How do I get that type property there? </p>\n\n<p>As an aside, why does it not camel-case IAnimals like I expect it to?</p>\n"}, {"tags": ["c#", "list", "generics", "ienumerable"], "answers": [{"comments": [{"owner": {"reputation": 14506, "user_id": 2345956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hTXGP.jpg?s=128&g=1", "display_name": "EZI", "link": "https://stackoverflow.com/users/2345956/ezi"}, "edited": false, "score": 0, "creation_date": 1427319614, "post_id": 29267023, "comment_id": 46735719, "body": "No, Linq returns <code>IEnumerable&lt;List&lt;string&gt;&gt;</code> not <code>List&lt;string&gt;</code>"}, {"owner": {"reputation": 17, "user_id": 4714178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f61e3cab6d7bd2fe19052094194e704f?s=128&d=identicon&r=PG&f=1", "display_name": "JokoMono", "link": "https://stackoverflow.com/users/4714178/jokomono"}, "edited": false, "score": 0, "creation_date": 1427320810, "post_id": 29267023, "comment_id": 46736313, "body": "With your syntax C# can&#39;t resolve t.name"}, {"owner": {"reputation": 8696, "user_id": 287107, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3f474f40cce735355a3284b6347e1af6?s=128&d=identicon&r=PG", "display_name": "user287107", "link": "https://stackoverflow.com/users/287107/user287107"}, "edited": false, "score": 0, "creation_date": 1427321971, "post_id": 29267023, "comment_id": 46736740, "body": "that completely depends how Meals and FoodPlanerList is defined, but as no further info is given this cannot be resolved. If meals is a list, SelectMany would be the right function"}], "tags": [], "owner": {"reputation": 8696, "user_id": 287107, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3f474f40cce735355a3284b6347e1af6?s=128&d=identicon&r=PG", "display_name": "user287107", "link": "https://stackoverflow.com/users/287107/user287107"}, "is_accepted": false, "score": 2, "last_activity_date": 1427322052, "last_edit_date": 1427322052, "creation_date": 1427319470, "answer_id": 29267023, "question_id": 29267001, "link": "https://stackoverflow.com/questions/29267001/i-dont-know-why-i-return-ienumerable-instead-of-list-c/29267023#29267023", "title": "I don&#39;t know why I return IEnumerable instead of List (C#)", "body": "<p>you have a typo, your ) are at the wrong positions:</p>\n\n<pre><code>List&lt;string&gt; MealNames =  FoodPlanerList.Select( p =&gt; p.Meals).Select(t =&gt; t.name).ToList&lt;String&gt;(); \n</code></pre>\n\n<p>If Meals is a list, SelectMany would be the right function</p>\n\n<pre><code>List&lt;string&gt; MealNames =  FoodPlanerList.SelectMany( p =&gt; p.Meals).Select(t =&gt; t.name).ToList&lt;String&gt;(); \n</code></pre>\n\n<p>perhaps you also want to insert a distinct operation</p>\n\n<pre><code>List&lt;string&gt; MealNames =  FoodPlanerList.SelectMany( p =&gt; p.Meals).Select(t =&gt; t.name).Distinct().ToList&lt;String&gt;(); \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 4714178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f61e3cab6d7bd2fe19052094194e704f?s=128&d=identicon&r=PG&f=1", "display_name": "JokoMono", "link": "https://stackoverflow.com/users/4714178/jokomono"}, "edited": false, "score": 0, "creation_date": 1427320453, "post_id": 29267082, "comment_id": 46736144, "body": "First of all, sorry for my bad english.  I have the class Foodplaner, and i return a List&lt;Foodplaner&gt;. Foodplaner has the fields \t                            public String FoodPlanName {get; set; } public List&lt;Meals&gt; Meals {get; set;}          the Class Meals has a couple of fields, one of this fields is name. I try to show all Meal.name(s)."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "reply_to_user": {"reputation": 17, "user_id": 4714178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f61e3cab6d7bd2fe19052094194e704f?s=128&d=identicon&r=PG&f=1", "display_name": "JokoMono", "link": "https://stackoverflow.com/users/4714178/jokomono"}, "edited": false, "score": 0, "creation_date": 1427321079, "post_id": 29267082, "comment_id": 46736406, "body": "you need to use SelectMany if you want to flatten a list of lists into a list"}], "tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": 0, "last_activity_date": 1427319668, "creation_date": 1427319668, "answer_id": 29267082, "question_id": 29267001, "link": "https://stackoverflow.com/questions/29267001/i-dont-know-why-i-return-ienumerable-instead-of-list-c/29267082#29267082", "title": "I don&#39;t know why I return IEnumerable instead of List (C#)", "body": "<p>you are creating a list of lists. YOu say for each entry add this element to the output</p>\n\n<pre><code>p =&gt; p.Meals.ToList().Select(t =&gt; t.name).ToList&lt;String&gt;()\n</code></pre>\n\n<p>Which is a list. So its doing exactly waht you say. If you want a list of things then the <code>p=&gt; thing</code> must return one element of the output</p>\n\n<p>What are you trying to do and what does the FoodPlannerList look like (what type is it)</p>\n"}], "owner": {"reputation": 17, "user_id": 4714178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f61e3cab6d7bd2fe19052094194e704f?s=128&d=identicon&r=PG&f=1", "display_name": "JokoMono", "link": "https://stackoverflow.com/users/4714178/jokomono"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1427319993, "answer_count": 2, "score": -3, "last_activity_date": 1562687196, "creation_date": 1427319355, "last_edit_date": 1562687196, "question_id": 29267001, "link": "https://stackoverflow.com/questions/29267001/i-dont-know-why-i-return-ienumerable-instead-of-list-c", "closed_reason": "Not suitable for this site", "title": "I don&#39;t know why I return IEnumerable instead of List (C#)", "body": "<pre><code>List&lt;string&gt; MealNames = FoodPlanerList.Select( p =&gt; p.Meals.ToList().Select(t =&gt; t.name).ToList&lt;String&gt;());  \n</code></pre>\n\n<blockquote>\n  <p>Error CS0266: Cannot implicitly convert type <code>System.Collections.Generic.IEnumerable&lt;System.Collections.Generic.List&lt;string&gt;&gt;' to</code>System.Collections.Generic.List'. An explicit conversion exists (are you missing a cast?) (CS0266) (FoodPlanViewer)</p>\n</blockquote>\n\n<p>I try to return a String List. I have the <code>List&lt;Meals&gt;</code>. Meals contains the string name. I'm not able to return a <code>List&lt;string&gt;</code> with all the names of the <code>List&lt;Meals&gt;</code>. </p>\n"}, {"tags": ["c#", "asp.net", "vb.net"], "comments": [{"owner": {"reputation": 2232, "user_id": 619405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bc0e7afe35ed4a000319921c16df3f?s=128&d=identicon&r=PG", "display_name": "nZeus", "link": "https://stackoverflow.com/users/619405/nzeus"}, "edited": false, "score": 0, "creation_date": 1427322405, "post_id": 29267000, "comment_id": 46736898, "body": "Why do you need this? I think this is not possible. Also, don&#39;t use <code>DataBinder.Eval(Container.DataItem</code>. Use <code>&lt;%# Bind(...</code> instead. Or, if you have asp 4.5, use <code>&lt;%# Item.Id %&gt;</code>. Read here - <a href=\"http://www.asp.net/aspnet/overview/aspnet-and-visual-studio-2012/whats-new#_Toc318097387\" rel=\"nofollow noreferrer\">asp.net/aspnet/overview/aspnet-and-visual-studio-2012/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 4714174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/166cf3ea98ad698c6f19bd44141fb137?s=128&d=identicon&r=PG&f=1", "display_name": "user12345", "link": "https://stackoverflow.com/users/4714174/user12345"}, "reply_to_user": {"reputation": 2232, "user_id": 619405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99bc0e7afe35ed4a000319921c16df3f?s=128&d=identicon&r=PG", "display_name": "nZeus", "link": "https://stackoverflow.com/users/619405/nzeus"}, "edited": false, "score": 0, "creation_date": 1427324513, "post_id": 29267000, "comment_id": 46737684, "body": "Hard to explain why I need it but was hoping it was possible. Thank you for the link :)"}], "owner": {"reputation": 1, "user_id": 4714174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/166cf3ea98ad698c6f19bd44141fb137?s=128&d=identicon&r=PG&f=1", "display_name": "user12345", "link": "https://stackoverflow.com/users/4714174/user12345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427319354, "creation_date": 1427319354, "question_id": 29267000, "link": "https://stackoverflow.com/questions/29267000/can-a-custom-token-format-be-converted-to-a-databind-method-in-vb-net", "title": "Can a custom &quot;token&quot; format be converted to a databind method in vb.net?", "body": "<p>I'm experimenting with this repeater template tutorial found here: <a href=\"http://www.codeproject.com/Articles/21521/Creating-a-Templated-User-Control\" rel=\"nofollow\">http://www.codeproject.com/Articles/21521/Creating-a-Templated-User-Control</a></p>\n\n<p>For the data-binding part, such as:</p>\n\n<pre><code>&lt;ItemTemplate&gt;\n    &lt;tr style=\"background-color:gold\"&gt;\n        &lt;td&gt;&lt;%#DataBinder.Eval(Container.DataItem,\"Id\") %&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%#DataBinder.Eval(Container.DataItem,\"Name\")%&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;%#DataBinder.Eval(Container.DataItem,\"Location\") %&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/ItemTemplate&gt;\n</code></pre>\n\n<p>What I'd like to do is use a custom type of token, such as:</p>\n\n<pre><code>&lt;ItemTemplate&gt;\n    &lt;tr style=\"background-color:gold\"&gt;\n        &lt;td&gt;{{Id}}&lt;/td&gt;\n        &lt;td&gt;{{Name}}&lt;/td&gt;\n        &lt;td&gt;{{Location}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/ItemTemplate&gt;\n</code></pre>\n\n<p>I'm unsure of how to do this. Is it possible?</p>\n"}, {"tags": ["c#", "automapper"], "answers": [{"comments": [{"owner": {"reputation": 4631, "user_id": 1278561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ddda7f523105fc2aabfb9434c5ddd01f?s=128&d=identicon&r=PG", "display_name": "GPGVM", "link": "https://stackoverflow.com/users/1278561/gpgvm"}, "edited": false, "score": 0, "creation_date": 1427376411, "post_id": 29267111, "comment_id": 46757131, "body": "See I figured I wasn&#39;t understanding correctly. My understanding of ForAllMembers was that it would apply to all member retroactively so the previous two mappings (CustomerId &amp; VendorId) would be ignored."}, {"owner": {"reputation": 4631, "user_id": 1278561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ddda7f523105fc2aabfb9434c5ddd01f?s=128&d=identicon&r=PG", "display_name": "GPGVM", "link": "https://stackoverflow.com/users/1278561/gpgvm"}, "edited": false, "score": 0, "creation_date": 1427382514, "post_id": 29267111, "comment_id": 46761792, "body": "and as a follow up testing ForAllMembers(opts =&gt; opts.Ignore()) does indeed retroactively ignore everything."}, {"owner": {"reputation": 4631, "user_id": 1278561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ddda7f523105fc2aabfb9434c5ddd01f?s=128&d=identicon&r=PG", "display_name": "GPGVM", "link": "https://stackoverflow.com/users/1278561/gpgvm"}, "edited": false, "score": 0, "creation_date": 1427484257, "post_id": 29267111, "comment_id": 46811164, "body": "your answer is a good one if we reverse the order. Do the ignore first then do the specific mappings."}], "tags": [], "owner": {"reputation": 12959, "user_id": 873153, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b76989e85062ad137010ae537f30edcb?s=128&d=identicon&r=PG", "display_name": "COLD TOLD", "link": "https://stackoverflow.com/users/873153/cold-told"}, "is_accepted": false, "score": 0, "last_activity_date": 1427319779, "creation_date": 1427319779, "answer_id": 29267111, "question_id": 29266947, "link": "https://stackoverflow.com/questions/29266947/automapper-ignorealltherest-capabilities/29267111#29267111", "title": "AutoMapper IgnoreAllTheRest capabilities", "body": "<p>Have you tried using somethin like the following </p>\n\n<pre><code>public static class MappingExpressionExtensions\n{\n    public static IMappingExpression&lt;TSource, TDest&gt; IgnoreAllUnmapped&lt;TSource, TDest&gt;(this IMappingExpression&lt;TSource, TDest&gt; expression)\n    {\n        expression.ForAllMembers(opt =&gt; opt.Ignore());\n        return expression;\n    }\n}\n\n      .ForMember(dest =&gt; dest.CustomerId,\n                       opts =&gt; opts.MapFrom(src =&gt; src.Id))\n      .ForMember(dest =&gt; dest.VendorId,\n                      opts =&gt; opts.MapFrom(src =&gt; src.VendorId))\n        .IgnoreAllUnmapped();\n</code></pre>\n\n<p>or this </p>\n\n<pre><code>.ForMember(dest =&gt; dest.CustomerId,\n                       opts =&gt; opts.MapFrom(src =&gt; src.Id))\n      .ForMember(dest =&gt; dest.VendorId,\n                      opts =&gt; opts.MapFrom(src =&gt; src.VendorId))\n      .ForAllMembers(opt =&gt; opt.Ignore());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4631, "user_id": 1278561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ddda7f523105fc2aabfb9434c5ddd01f?s=128&d=identicon&r=PG", "display_name": "GPGVM", "link": "https://stackoverflow.com/users/1278561/gpgvm"}, "is_accepted": true, "score": 0, "last_activity_date": 1427483367, "last_edit_date": 1495541179, "creation_date": 1427483367, "answer_id": 29308423, "question_id": 29266947, "link": "https://stackoverflow.com/questions/29266947/automapper-ignorealltherest-capabilities/29308423#29308423", "title": "AutoMapper IgnoreAllTheRest capabilities", "body": "<p>This is a duplicate question to another and I am not going to provide the answer here as the original author(s) need credit for their work.</p>\n\n<p>Check it out here and be sure to upvote if it helped.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/954480/automapper-ignore-the-rest\">AutoMapper: &quot;Ignore the rest&quot;?</a></p>\n"}], "owner": {"reputation": 4631, "user_id": 1278561, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ddda7f523105fc2aabfb9434c5ddd01f?s=128&d=identicon&r=PG", "display_name": "GPGVM", "link": "https://stackoverflow.com/users/1278561/gpgvm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 1, "closed_date": 1427483629, "accepted_answer_id": 29308423, "answer_count": 2, "score": 1, "last_activity_date": 1427483436, "creation_date": 1427319171, "last_edit_date": 1495540253, "question_id": 29266947, "link": "https://stackoverflow.com/questions/29266947/automapper-ignorealltherest-capabilities", "closed_reason": "Duplicate", "title": "AutoMapper IgnoreAllTheRest capabilities", "body": "<p>I am new to AutoMapper and wanting to setup for two properties to map but the other 15 ignore.</p>\n\n<p>My research and reading such as <a href=\"https://stackoverflow.com/questions/15337883/automapper-ignore-all-items-of-ienumerableselectlistitem\">here</a> indicates 3 options.</p>\n\n<ol>\n<li><p>Use Ignore() such as: (currently do and it works but is bloated)</p>\n\n<pre><code>d =&gt; d.IgnoreMe, opt =&gt; opt.Ignore()\n</code></pre></li>\n<li><p>Annotate with [IgnoreMapAttribute]. Wish I could but the object is not mine to tweak.</p></li>\n<li><p>Extension Method such as seen <a href=\"https://stackoverflow.com/questions/8663771/how-to-use-ignore-globally-in-automapper\">here</a> answer posted by <a href=\"https://stackoverflow.com/users/90287/rami-a\">Rami A</a>(I would have to tweak it)</p></li>\n</ol>\n\n<p>However it seemed to me these options are work arounds and I am just not using AutoMapper properly?</p>\n\n<p>What I am looking for is something like:</p>\n\n<pre><code>Mapper.CreateMap&lt;Customer, DropPointModel&gt;()\n      .ForMember(dest =&gt; dest.CustomerId,\n                 opts =&gt; opts.MapFrom(src =&gt; src.Id))\n      .ForMember(dest =&gt; dest.VendorId,\n                 opts =&gt; opts.MapFrom(src =&gt; src.VendorId))\n      .IgnoreAllOtherMappings();\n</code></pre>\n\n<p>Does something along these lines exist in AutoMapper and I'm not implementing correctly or am I correct and just need to write the extension method. If the latter I will post back here for others.</p>\n"}, {"tags": ["c#", "linq", "linq-to-sql", "anonymous"], "comments": [{"owner": {"reputation": 32315, "user_id": 390989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1187840ca619374e5f2d91943870d7e1?s=128&d=identicon&r=PG", "display_name": "eldarerathis", "link": "https://stackoverflow.com/users/390989/eldarerathis"}, "edited": false, "score": 1, "creation_date": 1427319179, "post_id": 29266920, "comment_id": 46735529, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/534690/return-anonymous-type\">Return anonymous type?</a>"}, {"owner": {"reputation": 23, "user_id": 4714122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vI6H1.jpg?s=128&g=1", "display_name": "\u0130smail AKTI", "link": "https://stackoverflow.com/users/4714122/%c4%b0smail-akti"}, "reply_to_user": {"reputation": 32315, "user_id": 390989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1187840ca619374e5f2d91943870d7e1?s=128&d=identicon&r=PG", "display_name": "eldarerathis", "link": "https://stackoverflow.com/users/390989/eldarerathis"}, "edited": false, "score": 0, "creation_date": 1427319411, "post_id": 29266920, "comment_id": 46735628, "body": "if i use class for field, I can return type of my class from function. but I dont want to make class for this function."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4714122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vI6H1.jpg?s=128&g=1", "display_name": "\u0130smail AKTI", "link": "https://stackoverflow.com/users/4714122/%c4%b0smail-akti"}, "edited": false, "score": 0, "creation_date": 1427356331, "post_id": 29267427, "comment_id": 46746267, "body": "I got an error from item. &lt; &quot;object&quot; does not contain a definition for &quot;REFNAME&quot; &gt;"}], "tags": [], "owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "is_accepted": true, "score": 1, "last_activity_date": 1427356716, "last_edit_date": 1427356716, "creation_date": 1427321064, "answer_id": 29267427, "question_id": 29266920, "link": "https://stackoverflow.com/questions/29266920/using-anonymous-type-from-linq-to-sql/29267427#29267427", "title": "Using Anonymous Type from LINQ to SQL", "body": "<p>I'm not saying you should do this, on the contrary, but you <em>can</em> use dynamics to return anonymous types and address their properties later:</p>\n\n<pre><code>public IEnumerable&lt;dynamic&gt; GetReferenceList()\n{\n    return from r in entity.Reference\n           join d in entity.Reference_Detail on r.id equals d.refid\n           select new { ID = d.id, REFNAME = r.Name, DETAIL = d.Name };\n}\n</code></pre>\n\n<p>And in consuming code:</p>\n\n<pre><code> var data = GetReferenceList();\n foreach (var item in data)\n {\n     var name = (string)(item.REFNAME);\n     ...\n }\n</code></pre>\n\n<p>You'll soon start to hate this approach. You'll keep casting the dynamic types to runtime types, you won't have intellisense (on <code>item.</code> in this case), you won't have compile-time checking, so it's error-prone and susceptible to all kinds of subtle bugs. Do yourself a favor and use named types.</p>\n"}], "owner": {"reputation": 23, "user_id": 4714122, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vI6H1.jpg?s=128&g=1", "display_name": "\u0130smail AKTI", "link": "https://stackoverflow.com/users/4714122/%c4%b0smail-akti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 0, "accepted_answer_id": 29267427, "answer_count": 1, "score": 0, "last_activity_date": 1427356716, "creation_date": 1427319077, "last_edit_date": 1427319721, "question_id": 29266920, "link": "https://stackoverflow.com/questions/29266920/using-anonymous-type-from-linq-to-sql", "title": "Using Anonymous Type from LINQ to SQL", "body": "<p>I'm making a project and I get an error for Anonymous Type in the project. Problem is how to get and use anonymous type from other class like function.</p>\n\n<pre><code>public IList GetReferenceList()\n{\n    var result = from r in entity.Reference\n                 join d in entity.Reference_Detail on r.id equals d.refid\n                 select new { ID = d.id, REFNAME = r.Name, DETAIL=d.Name };\n    return result.ToList();\n}\n</code></pre>\n\n<p>Problem is here. What should i write return type for this function, and I want to use in foreach.</p>\n\n<pre><code>private void Form1_Load(object sender, EventArgs e)\n{\n     var data = GetReferenceList();\n     foreach(var item in data)\n     {\n         //I didn't use field in here.\n     }\n}\n</code></pre>\n\n<p>I dont want to make a class like that, and use the class.</p>\n\n<pre><code>public class MyList()\n{\n   public int ID { get; set; }\n   public string REFNAME { get; set; }\n   public string DETAIL { get; set; }\n}\n\npublic List&lt;MyList&gt; GetReferenceList()\n{\n    var result = from r in entity.Reference\n                 join d in entity.Reference_Detail on r.id equals d.refid\n                 select new MyList { ID = d.id, REFNAME = r.Name, DETAIL=d.Name };\n    return result.ToList();\n}\n\nprivate void Form1_Load(object sender, EventArgs e)\n{\n     List&lt;MyList&gt; data = GetReferenceList();\n     foreach(MyList item in data)\n     {\n         //I can use field in here.\n     }\n}\n</code></pre>\n\n<p>I have 100 query like that. and if I make like that, will be 100 class for query.</p>\n\n<p>Please, help me.</p>\n"}, {"tags": ["c#", "window", "classname"], "comments": [{"owner": {"reputation": 21, "user_id": 1273546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f756966acf9cde4173af1972a0d68bd?s=128&d=identicon&r=PG", "display_name": "jj.ferko", "link": "https://stackoverflow.com/users/1273546/jj-ferko"}, "edited": false, "score": 0, "creation_date": 1437486768, "post_id": 29266889, "comment_id": 51041276, "body": "The problem was in selected version of .Net Framework in VS. I originally had the version 4.5.1. When I chose version 3.5, everything was fine. I really do not understand why newer versions are causing problems.."}], "owner": {"reputation": 21, "user_id": 1273546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f756966acf9cde4173af1972a0d68bd?s=128&d=identicon&r=PG", "display_name": "jj.ferko", "link": "https://stackoverflow.com/users/1273546/jj-ferko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 272, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427318936, "creation_date": 1427318936, "question_id": 29266889, "link": "https://stackoverflow.com/questions/29266889/different-window-class-name", "title": "Different window class name", "body": "<p>I have a problem with a window class name, which I get by window's Win32 method - GetClassName.\nMy application is in .NET, C#. When I run my application for  the first time, the class name is WindowsForms10.Window.8.app.0.2dac507_r13_ad1. Then I close the application and my settings are saved in user.config (it's very important). When I run application for the second time, the class name is WindowsForms10.Window.8.app.0.338574f_r13_ad1. Then I close the application and run it again, the class name will be always the same. But when I restart my PC, the process is repeated, it means that the class name as when the application is run for the first time. Why ? Why isn't the class name the same every time I run the application?</p>\n\n<p>I need it to get a window of another application. I'm trying to get it by the method FindWindow. It is true that we can use the title of the window for this method, but I need a class name, too.</p>\n\n<p>It is important to mention that in case of other applications, which do not save settings, the class name is always the same, after each execution.</p>\n\n<p>So, where is the problem ?\nThank you.</p>\n"}, {"tags": ["c#", "sql-server", "nhibernate", "last-insert-id"], "comments": [{"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1427319067, "post_id": 29266838, "comment_id": 46735480, "body": "Because nhibernate hasn&#39;t been told that SQL Server uses SCOPE_IDENTITY() and not LAST_INSERT_ID?"}, {"owner": {"reputation": 65, "user_id": 2223847, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/463429aaca4f31415027ce027b8c4756?s=128&d=identicon&r=PG", "display_name": "Dominic Jordan", "link": "https://stackoverflow.com/users/2223847/dominic-jordan"}, "reply_to_user": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1427319358, "post_id": 29266838, "comment_id": 46735604, "body": "Aah oke, probably stupid question but how do I set nhibernate to use SCOPE_IDENTITY() ?"}, {"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 1, "creation_date": 1427319405, "post_id": 29266838, "comment_id": 46735626, "body": "Sorry, don&#39;t know. Are you sure nhibernate knows through config that you are using SQL Server?"}, {"owner": {"reputation": 65, "user_id": 2223847, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/463429aaca4f31415027ce027b8c4756?s=128&d=identicon&r=PG", "display_name": "Dominic Jordan", "link": "https://stackoverflow.com/users/2223847/dominic-jordan"}, "reply_to_user": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1427319702, "post_id": 29266838, "comment_id": 46735768, "body": "You&#39;re great, thank you! I was still using NHibernate.Dialect.MySQLDialect in stead of NHibernate.Dialect.MsSQL2012Dialect."}], "answers": [{"comments": [{"owner": {"reputation": 241702, "user_id": 61305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVyZv.jpg?s=128&g=1", "display_name": "Aaron Bertrand", "link": "https://stackoverflow.com/users/61305/aaron-bertrand"}, "edited": false, "score": 0, "creation_date": 1427388307, "post_id": 29276494, "comment_id": 46766097, "body": "Some might consider that a disadvantage. Proprietary extensions exist for a reason, and generic &quot;solve this problem for all platforms&quot; ORMs have to ignore those by definition."}], "tags": [], "owner": {"reputation": 117193, "user_id": 1679310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6Zfp.jpg?s=128&g=1", "display_name": "Radim K&#246;hler", "link": "https://stackoverflow.com/users/1679310/radim-k%c3%b6hler"}, "is_accepted": false, "score": 0, "last_activity_date": 1427366746, "creation_date": 1427366746, "answer_id": 29276494, "question_id": 29266838, "link": "https://stackoverflow.com/questions/29266838/could-not-retrieve-generated-id-after-insert-nhibernate-sql-server/29276494#29276494", "title": "Could not retrieve generated id after insert nhibernate sql server", "body": "<p>The really significant advantage of NHibernate <em>(ORM in general)</em> is that we do not have to solve the specific SQL syntax of currently used DB engine. And if we manage to use the standardized API of NHibernate - we can ran our code almost against any DB Engine. The only important setting is <strong>DIALECT</strong>, which allows NHibernate to properly convert that into DB engine related SQL:</p>\n\n<h3><a href=\"http://nhibernate.info/doc/nh/en/index.html#configuration-optional-dialects\" rel=\"nofollow\">3.5.1. SQL Dialects</a></h3>\n\n<blockquote>\n  <p>You should always set the dialect property to the correct NHibernate.Dialect.Dialect subclass for your database. This is not strictly essential unless you wish to use native or sequence primary key generation or pessimistic locking (with, eg. ISession.Lock() or IQuery.SetLockMode()). However, if you specify a dialect, NHibernate will use sensible defaults for some of the other properties listed above, saving you the effort of specifying them manually. </p>\n</blockquote>\n\n<p>So, if the previous code was running with setting related to MySQL</p>\n\n<pre><code>&lt;property name=\"dialect\"&gt;NHibernate.Dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n\n<p>Now, when working with SQL Server, we need its Dialect</p>\n\n<pre><code>&lt;property name=\"dialect\"&gt;NHibernate.Dialect.MsSql2012Dialect&lt;/property&gt;\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2223847, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/463429aaca4f31415027ce027b8c4756?s=128&d=identicon&r=PG", "display_name": "Dominic Jordan", "link": "https://stackoverflow.com/users/2223847/dominic-jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 858, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427366746, "creation_date": 1427318744, "last_edit_date": 1427319112, "question_id": 29266838, "link": "https://stackoverflow.com/questions/29266838/could-not-retrieve-generated-id-after-insert-nhibernate-sql-server", "title": "Could not retrieve generated id after insert nhibernate sql server", "body": "<p>I am building an C# application using NHibernate and SQL Server. When I try to save an entity (using identity generator) I get the error 'Could not retrieve generated id after insert'. Does anyone know why I actually get this error? Did I misconfigure something? How should I fix this?</p>\n\n<p>I have done this a thousend times in MySQL without any problems.\nThank you.</p>\n\n<p>Database:</p>\n\n<pre><code>CREATE TABLE [dbo].[SubscriptionType] (\nSubscriptionTypeID      INT             NOT NULL IDENTITY(1,1),\nName                    VARCHAR(255)    NOT NULL\nPRIMARY KEY(SubscriptionTypeID)\n);\n</code></pre>\n\n<p>Hibernate mapping:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;hibernate-mapping xmlns=\"urn:nhibernate-mapping-2.2\"\n                   assembly=\"Studshake\"\n                   namespace=\"Studshake.Models\"&gt;\n\n  &lt;class name=\"CompanySubscriptionType\" table=\"[SubscriptionType]\" lazy=\"false\"&gt;\n    &lt;id name=\"SubscriptionTypeID\" column=\"SubscriptionTypeID\"&gt;\n      &lt;generator class=\"native\" /&gt;\n    &lt;/id&gt;\n\n    &lt;property name=\"Name\" column=\"Name\" /&gt;\n\n  &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>[SqlException (0x80131904): 'LAST_INSERT_ID' is not a recognized built-in function name.]</p>\n</blockquote>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc", "asp.net-identity-2"], "answers": [{"comments": [{"owner": {"reputation": 18220, "user_id": 191647, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/BkIYy.jpg?s=128&g=1", "display_name": "Mohammad Dayyan", "link": "https://stackoverflow.com/users/191647/mohammad-dayyan"}, "edited": false, "score": 0, "creation_date": 1447821232, "post_id": 33763602, "comment_id": 55310981, "body": "Thanks, I&#39;ll test it."}], "tags": [], "owner": {"reputation": 2330, "user_id": 117575, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/067ZX.png?s=128&g=1", "display_name": "BBlake", "link": "https://stackoverflow.com/users/117575/bblake"}, "is_accepted": false, "score": 3, "last_activity_date": 1447853268, "last_edit_date": 1447853268, "creation_date": 1447782201, "answer_id": 33763602, "question_id": 29266808, "link": "https://stackoverflow.com/questions/29266808/invalid-token-error-while-reset-password-asp-net-identity-2-2-0/33763602#33763602", "title": "&quot;Invalid token&quot; error while reset password, ASP.Net Identity 2.2.0", "body": "<p>I know this is an old question, but I've run into this on two projects and both times the issue was the exact same thing. Perhaps this answer might help others. The token being passed includes special characters that cannot be used as is within a URL string without causing problems. </p>\n\n<p>When passing the token to the front end UI, be sure to URLEncode the token, something like this:</p>\n\n<pre><code>var callbackUrl =\n                new Uri(string.Format(\"{0}/resetpassword?userId={1}&amp;code={2}\",\n                    ConfigurationManager.AppSettings[\"websiteUrl\"], user.Id,\n                    WebUtility.UrlEncode(token)));\n</code></pre>\n\n<p>When the token is passed back into the back end, Decode the token before passing it to the password ResetPassword function:</p>\n\n<pre><code>var result = await this.AppUserManager.ResetPasswordAsync(appUser.Id, WebUtility.UrlDecode(resetPasswordBindingModel.ConfirmCode),\n             resetPasswordBindingModel.NewPassword);\n</code></pre>\n\n<p>Both of the projects where I had this issue were running HTML/MVC/JavaScript on the front end and the validations were being done over ASP.NET WebAPI 2.x.</p>\n\n<p>One other note: UrlDecode, for some reason, can't properly decode the plus symbol and you get a space in the token instead of the '+'. The trick I used is to just use a string replace to convert any spaces to + signs. It's not ideal, but I've not had a problem with it.</p>\n"}], "owner": {"reputation": 18220, "user_id": 191647, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/BkIYy.jpg?s=128&g=1", "display_name": "Mohammad Dayyan", "link": "https://stackoverflow.com/users/191647/mohammad-dayyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1659, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1447853268, "creation_date": 1427318673, "last_edit_date": 1427364395, "question_id": 29266808, "link": "https://stackoverflow.com/questions/29266808/invalid-token-error-while-reset-password-asp-net-identity-2-2-0", "title": "&quot;Invalid token&quot; error while reset password, ASP.Net Identity 2.2.0", "body": "<p>I'm developing a MVC5 ASP.Net application.<br>\nI'm using Identity 2.2.0 for authentication.<br>\nEverything is OK, but I can't reset my password, because of <code>Invalid Token</code> error.<br>\nThe following are <code>ResetPassword</code> related actions in <code>Account</code> controller.<br></p>\n\n<pre><code>[AllowAnonymous]\npublic ActionResult ForgotPassword()\n{\n    return View();\n}\n\n[HttpPost]\n[AllowAnonymous]\n[ValidateAntiForgeryToken]\npublic async Task&lt;ActionResult&gt; ForgotPassword(ForgotPasswordViewModel model)\n{\n    if (!ModelState.IsValid) return View(model);\n    ApplicationUser userModel = await UserManager.FindByNameAsync(model.Email);\n\n    if (userModel == null)\n        ModelState.AddModelError(\"\", \"The user doesn't exist\");\n\n    if (userModel != null &amp;&amp; !await UserManager.IsEmailConfirmedAsync(userModel.Id))\n        ModelState.AddModelError(\"\", \"The user email isn't confirmed\");\n\n    if (!ModelState.IsValid) return View();\n\n    var user = _userService.GetUserByEmail(model.Email);\n\n    // For more information on how to enable account confirmation and password reset please visit http://go.microsoft.com/fwlink/?LinkID=320771\n    // Send an email with this link\n\n    string websiteTitle = StaticAssests.WebsiteTitle;\n    string emailContext = _settingService.GetValue(SettingNames.ResetPasswordMailFormat);\n    string code = await UserManager.GeneratePasswordResetTokenAsync(userModel.Id);\n    string callbackUrl = Url.Action(\"ResetPassword\", \"Account\", new { userId = userModel.Id, code }, Request.Url.Scheme);\n    emailContext = emailContext.Replace(\"{userfullname}\", user.FullName);\n    emailContext = emailContext.Replace(\"{websitetitle}\", websiteTitle);\n    emailContext = emailContext.Replace(\"{websitedomain}\", StaticVariables.WebsiteDomain);\n    emailContext = emailContext.Replace(\"{username}\", userModel.UserName);\n    emailContext = emailContext.Replace(\"{resetpasswordurl}\", callbackUrl);\n    emailContext = emailContext.Replace(\"{date}\", new PersianDateTime(DateTime.Now).ToLongDateTimeString());\n    await UserManager.SendEmailAsync(userModel.Id, string.Format(\"Reset password {0}\", websiteTitle), emailContext);\n    return RedirectToAction(\"ForgotPasswordConfirmation\", \"Account\");\n}\n\n[AllowAnonymous]\npublic ActionResult ForgotPasswordConfirmation()\n{\n    return View();\n}\n[AllowAnonymous]\npublic ActionResult ResetPassword(string code)\n{\n    return code == null ? View(\"Error\") : View();\n}\n\n[HttpPost]\n[AllowAnonymous]\n[ValidateAntiForgeryToken]\npublic async Task&lt;ActionResult&gt; ResetPassword(ResetPasswordViewModel model)\n{\n    if (!ModelState.IsValid) return View(model);\n    ApplicationUser userModel = await UserManager.FindByNameAsync(model.Email);\n    if (userModel == null)\n    {\n        ModelState.AddModelError(\"\", \"The user doesn't exist\");\n        return View();\n    }\n// Invalid Token error\n        IdentityResult result = await UserManager.ResetPasswordAsync(userModel.Id, model.Code, model.Password);\n        if (result.Succeeded)\n        {\n            return RedirectToAction(\"ResetPasswordConfirmation\", \"Account\");\n        }\n        AddErrors(result);\n        return View();\n    }\n</code></pre>\n\n<p>I've checked the followings:<br>\n1. Resetting email send successfully.<br>\n2. <code>GeneratePasswordResetTokenAsync</code> run without any problem. and the generated code with it is the same with <code>code</code> argument in <code>ResetPassword</code> action.<br></p>\n\n<p><strong>IdentityConfig:</strong></p>\n\n<pre><code>public class ApplicationUserManager : UserManager&lt;ApplicationUser, int&gt;\n    {\n        public ApplicationUserManager(IUserStore&lt;ApplicationUser, int&gt; userStore) : base(userStore)\n        {\n\n        }\n\n        public static ApplicationUserManager Create(IdentityFactoryOptions&lt;ApplicationUserManager&gt; options, IOwinContext context)\n        {\n            ApplicationUserManager applicationUserManager = new ApplicationUserManager(new ApplicationUserStore());\n            //ApplicationUserManager applicationUserManager = new ApplicationUserManager(context.Get&lt;ApplicationUser&gt;());\n            //new ApplicationUserManager(new UserStore&lt;UserModel&gt;(context.Get&lt;ApplicationDbContext&gt;()));\n            // Configure validation logic for usernames\n            //applicationUserManager.UserValidator = new UserValidator&lt;UserIdentityModel, int&gt;(applicationUserManager)\n            //{\n            //  AllowOnlyAlphanumericUserNames = false,\n            //  RequireUniqueEmail = true,\n            //};\n            applicationUserManager.PasswordValidator = new MyMinimumLengthValidator(6);\n            applicationUserManager.UserValidator = new MyUserModelValidator();\n            applicationUserManager.PasswordHasher = new MyPasswordHasher();\n\n            // Configure user lockout defaults\n            applicationUserManager.UserLockoutEnabledByDefault = true;\n            applicationUserManager.DefaultAccountLockoutTimeSpan = TimeSpan.FromMinutes(5);\n            applicationUserManager.MaxFailedAccessAttemptsBeforeLockout = 5;\n\n            // Register two factor authentication providers. This application uses Phone and Emails as a step of receiving a code for verifying the user\n            // You can write your own provider and plug in here.\n            applicationUserManager.RegisterTwoFactorProvider(\"PhoneCode\",\n                new PhoneNumberTokenProvider&lt;ApplicationUser, int&gt;\n                {\n                    MessageFormat = \"Your security code is: {0}\"\n                });\n            applicationUserManager.RegisterTwoFactorProvider(\"EmailCode\",\n                new EmailTokenProvider&lt;ApplicationUser, int&gt;\n                {\n                    Subject = \"Security code\",\n                    BodyFormat = \"your security code is {0}\"\n                });\n\n            applicationUserManager.EmailService = new EmailService();\n            applicationUserManager.SmsService = new SmsService();\n            IDataProtectionProvider dataProtectionProvider = options.DataProtectionProvider;\n            if (dataProtectionProvider != null)\n            {\n                applicationUserManager.UserTokenProvider =\n                    new DataProtectorTokenProvider&lt;ApplicationUser, int&gt;(dataProtectionProvider.Create(\"ASP.NET Identity\"));\n            }\n\n            return applicationUserManager;\n        }\n    }\n</code></pre>\n\n<p>What's wrong?</p>\n\n<p><strong>Update:</strong><br>\nI've changed <code>User Id</code> from string to int.</p>\n"}, {"tags": ["c#", "mysql", "sql", "asp.net", "database"], "answers": [{"tags": [], "owner": {"reputation": 2670, "user_id": 2425857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hnZY.png?s=128&g=1", "display_name": "Cesar Loachamin", "link": "https://stackoverflow.com/users/2425857/cesar-loachamin"}, "is_accepted": true, "score": 1, "last_activity_date": 1427318871, "creation_date": 1427318871, "answer_id": 29266873, "question_id": 29266747, "link": "https://stackoverflow.com/questions/29266747/access-attribute-id-from-aspdropdown-but-display-the-attribute-only-c/29266873#29266873", "title": "Access attribute ID from asp:Dropdown but display the attribute only c#", "body": "<p>I think the problem is related of how you get the value from your dropdown list instead of <code>stockData.clientIDRecord = drpClientName.SelectedIndex</code>; should be </p>\n\n<pre><code>stockData.clientIDRecord = drpClientName.SelectedValue;\n</code></pre>\n\n<p>It also depends on how you made the databinding and specified wich property will be stored as value in the dropdown list.</p>\n\n<pre><code>drpClientName.DataValueField =\"ClientID\"\n</code></pre>\n"}], "owner": {"reputation": 907, "user_id": 2689203, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4805f0a03d0ef5d407232628b49c20f8?s=128&d=identicon&r=PG&f=1", "display_name": "Sophia_xoox", "link": "https://stackoverflow.com/users/2689203/sophia-xoox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 29266873, "answer_count": 1, "score": 0, "last_activity_date": 1427318871, "creation_date": 1427318366, "question_id": 29266747, "link": "https://stackoverflow.com/questions/29266747/access-attribute-id-from-aspdropdown-but-display-the-attribute-only-c", "title": "Access attribute ID from asp:Dropdown but display the attribute only c#", "body": "<p>I am trying to build a simple web application for my final year project at uni. </p>\n\n<p>I have managed to set up an SQL database using vs2012. I have a page which is trying to add stock to the \"Stock\" table of the database. </p>\n\n<p>I have encountered a problem when I have created an asp:DropDownList, I have chosen the data source from the table \"Clients\" (this has information in it) and all is displaying nicely. </p>\n\n<p>However in my table \"Stock\" I have a foreign key as \"ClientID\" this is for the user to select who the stock belongs to. </p>\n\n<p>I have a problem accessing the ID of the person i am clicking on. Here is how I am going about doing it. </p>\n\n<p>clsStock </p>\n\n<pre><code>private int ClientID;\n\npublic int ClientIDRecord\n{\n   get\n   {\n     return ClientID;\n   }\n   set\n   {\n     ClientID = value;\n   }\n}\n\npublic void saveStockInformation()\n{\n            clsLabelsDataConduit stockDetails = new clsLabelsDataConduit();\n            stockDetails.Execute(\"sprocTableStock_GetAll\");\n             stockDetails.NewRecord[\"ClientID\"] = clientIDRecord;\n}\n</code></pre>\n\n<p>addstock.aspx.cs</p>\n\n<pre><code> protected void btnSubmit_Click(object sender, EventArgs e)\n    {\n        LabelsClassLib.clsStock stockData = new LabelsClassLib.clsStock();\n        stockData.clientIDRecord = drpClientName.SelectedIndex;\n        stockData.saveStockInformation();\n}\n</code></pre>\n\n<p>My SQL Tables:\nClients:</p>\n\n<pre><code>CREATE TABLE [dbo].[Clients] (\n    [ClientID]           INT           IDENTITY (1, 1) NOT NULL,\n    [FirstName]          VARCHAR (20)  NOT NULL,\n    [LastName]           VARCHAR (20)  NOT NULL,\n    [ClientAddressLine1] VARCHAR (30)  NOT NULL,\n    [ClientAddressLine2] VARCHAR (30)  NULL,\n    [Town]               VARCHAR (20)  NOT NULL,\n    [County]             VARCHAR (20)  NOT NULL,\n    [Postcode]           VARCHAR (10)  NOT NULL,\n    [MobileNumber]       VARCHAR (12)  NOT NULL,\n    [HomeNumber]         VARCHAR (20)  NOT NULL,\n    [EmailAddress]       VARCHAR (320) NOT NULL,\n    [DateAddedToSystem]  ROWVERSION    NOT NULL,\n    PRIMARY KEY CLUSTERED ([ClientID] ASC)\n);\n</code></pre>\n\n<p>Stock table:</p>\n\n<pre><code>CREATE TABLE [dbo].[Stock] (\n    [StockID]           INT          IDENTITY (1, 1) NOT NULL,\n    [ClientID]          INT          NOT NULL,\n    [ItemTypeID]        INT          NOT NULL,\n    [ItemName]          VARCHAR (30) NULL,\n    [ImageOfItem]       IMAGE        NULL,\n    [DateAddedToSystem] DATE         NULL,\n    [DateSold]          DATE         NULL,\n    [DatePurchased]     DATE         NULL,\n    [ItemDescription]   VARCHAR (50) NULL,\n    [RetailPrice]       MONEY        NULL,\n    [Quantity ]         SMALLINT     NULL,\n    [ItemSold]          VARCHAR (3)  NULL,\n    [Designer]          VARCHAR (50) NULL,\n    [PurchasePrice]     MONEY        NULL,\n    [ItemColour]        VARCHAR (20) NULL,\n    [ItemSize]          INT          NULL,\n    PRIMARY KEY CLUSTERED ([StockID] ASC),\n    CONSTRAINT [FK_ClientID] FOREIGN KEY ([ClientID]) REFERENCES [dbo].[Clients] ([ClientID]),\n    CONSTRAINT [FK_ItemType] FOREIGN KEY ([ItemTypeID]) REFERENCES [dbo].[ItemTypes] ([ItemTypeID])\n);\n</code></pre>\n\n<p>I feel like I know and understand the problem but I don't know how to remedy this issue, if any one could help it would be very appreciated. </p>\n"}, {"tags": ["c#", "asp.net", "export-to-excel"], "answers": [{"comments": [{"owner": {"reputation": 18, "user_id": 4713993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e69b16a7c507be5267f362209c7a4a?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azeem", "link": "https://stackoverflow.com/users/4713993/mohammad-azeem"}, "edited": false, "score": 0, "creation_date": 1427319855, "post_id": 29266980, "comment_id": 46735848, "body": "Is there any way to bring the file on local machine using the interop library ?? or any library that support creating graphs in excel file format ?? Thanks"}, {"owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "reply_to_user": {"reputation": 18, "user_id": 4713993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e69b16a7c507be5267f362209c7a4a?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azeem", "link": "https://stackoverflow.com/users/4713993/mohammad-azeem"}, "edited": false, "score": 0, "creation_date": 1427320382, "post_id": 29266980, "comment_id": 46736117, "body": "You&#39;ll have to let the user download the file. You can&#39;t save it directly on the user&#39;s machine."}], "tags": [], "owner": {"reputation": 131158, "user_id": 266143, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/487f6927f37c3005e5b918d131892715?s=128&d=identicon&r=PG", "display_name": "CodeCaster", "link": "https://stackoverflow.com/users/266143/codecaster"}, "is_accepted": true, "score": 0, "last_activity_date": 1427319295, "creation_date": 1427319295, "answer_id": 29266980, "question_id": 29266731, "link": "https://stackoverflow.com/questions/29266731/excel-interop-saving-file-on-host-server-instead-of-local-machine/29266980#29266980", "title": "Excel Interop saving file on host server instead of local machine", "body": "<p>The code runs on the server, not on the client, hence the file being saved on the server. </p>\n\n<p>Use a library that does support creating graphs in Excel file format without using excel to solve the interop problem (you really don't want that on a server, apart from licensing). </p>\n\n<p>Then just let the user download the file from the web application.</p>\n"}], "owner": {"reputation": 18, "user_id": 4713993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78e69b16a7c507be5267f362209c7a4a?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammad Azeem", "link": "https://stackoverflow.com/users/4713993/mohammad-azeem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 29266980, "answer_count": 1, "score": 0, "last_activity_date": 1427319295, "creation_date": 1427318321, "last_edit_date": 1427318877, "question_id": 29266731, "link": "https://stackoverflow.com/questions/29266731/excel-interop-saving-file-on-host-server-instead-of-local-machine", "title": "Excel Interop saving file on host server instead of local machine", "body": "<p>The Project is an ASP.NET application used to fetched Survey Evaluation from Database and export in excel.</p>\n\n<p>I am using excel interop for generating the report in excel. I later came to know that Microsoft don't support the server side automation using interop library but I initially choose it as closed/openxml don't support the excel graph and chart.</p>\n\n<p>I deployed my application on the server and everything is running fine as excepted, except that the generated file is getting saved on the server instead of the local machine from where the application is called.</p>\n\n<pre><code>string foldername = Environment.GetFolderPath(Environment.SpecialFolder.UserProfile) + @\"\\Downloads\";\n\nXlworkbook.SaveAs(\"\"+foldername+\"\\\\Evaluation.xlsx\",51, missing, missing, missing,missing, Excel.XlSaveAsAccessMode.noxlchange,missing, missing, missing, missing, missing);\n</code></pre>\n\n<p>Saving the file in C:\\User\\Asp.Net v4.0\\Downloads\\  --- on the server\ninstead of C:\\User\\Username\\Downloads\\ --- on the local machine</p>\n\n<p>NOTE: Asp.Net v4.0 is the name of the IIS pool on the which the application is deployed.</p>\n"}, {"tags": ["c#", "nunit", "moq"], "answers": [{"comments": [{"owner": {"reputation": 9713, "user_id": 293545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6b3c7e80c76057f52967c258dfd85a3?s=128&d=identicon&r=PG", "display_name": "Diver Dan", "link": "https://stackoverflow.com/users/293545/diver-dan"}, "edited": false, "score": 0, "creation_date": 1427319357, "post_id": 29266718, "comment_id": 46735603, "body": "Thanks @StriplingWarrior your answer cleared things up"}], "tags": [], "owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "is_accepted": true, "score": 0, "last_activity_date": 1427318283, "creation_date": 1427318283, "answer_id": 29266718, "question_id": 29266652, "link": "https://stackoverflow.com/questions/29266652/will-adding-moq-give-my-tests-any-added-benefits/29266718#29266718", "title": "Will adding Moq give my tests any added benefits", "body": "<p><code>Encryptor2000</code> doesn't rely on any <em>service</em> classes, so you wouldn't really have anything to mock. <code>EncryptionSettings</code> and <code>Dictionary&lt;string, object&gt;</code> are merely data structures, which easier to build than they would be to mock. So at this point, you'll find no value in using Moq.</p>\n\n<p>However, let's suppose you have another class that may use your encryptor (or any other encryptor), and you want to unit test that class, independently of the <code>Encryptor2000</code>. In that case, Moq would make it easy for you to ensure that the class is calling the <code>Encrypt()</code> method with the appropriate values, and see what happens when that <code>Encrypt()</code> method returns various values. When you're injecting service interfaces into a class, that's where Moq comes in handy.</p>\n"}], "owner": {"reputation": 9713, "user_id": 293545, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b6b3c7e80c76057f52967c258dfd85a3?s=128&d=identicon&r=PG", "display_name": "Diver Dan", "link": "https://stackoverflow.com/users/293545/diver-dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 29266718, "answer_count": 1, "score": 1, "last_activity_date": 1427318283, "creation_date": 1427318073, "question_id": 29266652, "link": "https://stackoverflow.com/questions/29266652/will-adding-moq-give-my-tests-any-added-benefits", "title": "Will adding Moq give my tests any added benefits", "body": "<p>I understand using moq is great I havea database or list of some sort I want to mock but is it of any use for something like this.</p>\n\n<p>My tests are passing but if using something like moq can make them easier to read or more maintainable I am all for it.</p>\n\n<pre><code>  [TestFixture]\npublic class UnitTest1\n{\n    [Test]\n    public void encrypted_token_should_match()\n    {\n        var settings = new Encryptor2000.EncryptionSettings()\n        {\n            Secret = \"1234\"\n        };\n\n        var token = new Dictionary&lt;string, object&gt;()\n        {\n            {\"1\",1}\n        };\n\n        var hardcodedTokenValue = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyIxIjoxfQ.wqrYm4ADb_P9qR2uCQh-VU6xX1KG6FwoCX9N2J0QpqCPPYm-4vchy7xmMtdzQ1xtBfryTP4ztJHohyb50CmjYA\";\n\n        var actualToken = new Encryptor2000(settings).Encrypt(token);\n        Assert.AreEqual(hardcodedTokenValue, actualToken);\n\n\n\n\n\n    }\n\n    [Test]\n    public void decrypted_token_should_match()\n    {\n        var settings = new Encryptor2000.EncryptionSettings()\n        {\n            Secret = \"1234\"\n        };\n\n        var token = new Dictionary&lt;string, object&gt;()\n        {\n            {\"1\",1}\n        };\n\n        var hardcodedTokenValue = \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyIxIjoxfQ.wqrYm4ADb_P9qR2uCQh-VU6xX1KG6FwoCX9N2J0QpqCPPYm-4vchy7xmMtdzQ1xtBfryTP4ztJHohyb50CmjYA\";\n\n        var actualToken = new Encryptor2000(settings).Decrypt(hardcodedTokenValue);\n        Assert.AreEqual(token, actualToken);\n\n    }\n}\n\n\npublic class Encryptor2000 : IEncryptor&lt;IDictionary&lt;string, object&gt;&gt;\n{\n    private readonly EncryptionSettings _settings;\n\n    public class EncryptionSettings\n    {\n        public string Secret { get; set; }\n\n    }\n\n    public Encryptor2000(EncryptionSettings settings)\n    {\n        _settings = settings;\n    }\n\n    public string Encrypt(IDictionary&lt;string, object&gt; token)\n    {\n        return JsonWebToken.Encode(token, _settings.Secret, JwtHashAlgorithm.HS512);\n    }\n\n    public IDictionary&lt;string, object&gt; Decrypt(string token)\n    {\n        return JsonWebToken.DecodeToObject(token, _settings.Secret, true) as IDictionary&lt;string, object&gt;;\n    }\n\n}\n\npublic interface IEncryptor&lt;T&gt;\n{\n    string Encrypt(T token);\n\n}\n</code></pre>\n"}, {"tags": ["c#", "arrays"], "comments": [{"owner": {"reputation": 31334, "user_id": 74015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4b7088749adc3ec3e51982d0a3bf1b34?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Axe", "link": "https://stackoverflow.com/users/74015/sam-axe"}, "edited": false, "score": 1, "creation_date": 1427318408, "post_id": 29266633, "comment_id": 46735161, "body": "&quot;doesn&#39;t work properly&quot; doesn&#39;t tell us anything.  Be specific."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1427318414, "post_id": 29266633, "comment_id": 46735164, "body": "What doesn&#39;t work with what you have?  It&#39;s not the most effective way but it looks like it should have worked."}, {"owner": {"reputation": 54636, "user_id": 1336654, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b1fcddf43425d951bb5dafef53563d45?s=128&d=identicon&r=PG", "display_name": "Jeppe Stig Nielsen", "link": "https://stackoverflow.com/users/1336654/jeppe-stig-nielsen"}, "edited": false, "score": 1, "creation_date": 1427318424, "post_id": 29266633, "comment_id": 46735173, "body": "In what way does it not work?"}, {"owner": {"reputation": 66, "user_id": 4703188, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00e466f40dadb29b2cd3aeef55425851?s=128&d=identicon&r=PG&f=1", "display_name": "MerryJane", "link": "https://stackoverflow.com/users/4703188/merryjane"}, "edited": false, "score": 0, "creation_date": 1427318559, "post_id": 29266633, "comment_id": 46735247, "body": "program compiles well, but doesn&#39;t give me right output as i showed"}, {"owner": {"reputation": 15667, "user_id": 186133, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0d401170e6126e9518c8a0e5829335d3?s=128&d=identicon&r=PG", "display_name": "Carlos Mu&#241;oz", "link": "https://stackoverflow.com/users/186133/carlos-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1427318791, "post_id": 29266633, "comment_id": 46735360, "body": "What does it return instead?"}, {"owner": {"reputation": 66, "user_id": 4703188, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00e466f40dadb29b2cd3aeef55425851?s=128&d=identicon&r=PG&f=1", "display_name": "MerryJane", "link": "https://stackoverflow.com/users/4703188/merryjane"}, "edited": false, "score": 0, "creation_date": 1427319014, "post_id": 29266633, "comment_id": 46735457, "body": "Sry i see now that when i copy the input which i written here program shows output correctly but when i copy input form this page <a href=\"http://pl.spoj.com/problems/JWSPLIN/\" rel=\"nofollow noreferrer\">pl.spoj.com/problems/JWSPLIN</a> (polish page with exercise) my program doesnt gives correct output"}, {"owner": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "edited": false, "score": 0, "creation_date": 1427319375, "post_id": 29266633, "comment_id": 46735617, "body": "When you copy it&#39;s tabs not spaces, try <code>string[] l = x.Split(new char[] { &#39;\\t&#39; });</code>"}, {"owner": {"reputation": 49678, "user_id": 1149773, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f4f82e58a808f8b7964956410a8a436a?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas", "link": "https://stackoverflow.com/users/1149773/douglas"}, "edited": false, "score": 0, "creation_date": 1427319420, "post_id": 29266633, "comment_id": 46735630, "body": "Do you understand Polish? That exercise is asking you to determine whether the points (presumably parsed as pairs) are <a href=\"http://en.wikipedia.org/wiki/Collinearity\" rel=\"nofollow noreferrer\">collinear</a>, outputting &quot;TAK&quot; (yes) if they are, and &quot;NIE&quot; (no) if they&#39;re not."}, {"owner": {"reputation": 66, "user_id": 4703188, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00e466f40dadb29b2cd3aeef55425851?s=128&d=identicon&r=PG&f=1", "display_name": "MerryJane", "link": "https://stackoverflow.com/users/4703188/merryjane"}, "edited": false, "score": 0, "creation_date": 1427319497, "post_id": 29266633, "comment_id": 46735667, "body": "You can write an answer and i give point for you i missed it XD"}, {"owner": {"reputation": 15667, "user_id": 186133, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0d401170e6126e9518c8a0e5829335d3?s=128&d=identicon&r=PG", "display_name": "Carlos Mu&#241;oz", "link": "https://stackoverflow.com/users/186133/carlos-mu%c3%b1oz"}, "edited": false, "score": 0, "creation_date": 1427319549, "post_id": 29266633, "comment_id": 46735683, "body": "This question isn&#39;t helpful to anyone. It should be closed."}, {"owner": {"reputation": 66, "user_id": 4703188, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00e466f40dadb29b2cd3aeef55425851?s=128&d=identicon&r=PG&f=1", "display_name": "MerryJane", "link": "https://stackoverflow.com/users/4703188/merryjane"}, "edited": false, "score": 0, "creation_date": 1427319788, "post_id": 29266633, "comment_id": 46735816, "body": "i agree wth you :) sry for problem, my fault"}], "answers": [{"tags": [], "owner": {"reputation": 4767, "user_id": 3911233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72dcd131c52bf8f025d147620b6d59f9?s=128&d=identicon&r=PG&f=1", "display_name": "steve16351", "link": "https://stackoverflow.com/users/3911233/steve16351"}, "is_accepted": true, "score": 0, "last_activity_date": 1427319596, "creation_date": 1427319596, "answer_id": 29267058, "question_id": 29266633, "link": "https://stackoverflow.com/questions/29266633/how-to-remove-whitespaces-while-converting-string-to-array/29267058#29267058", "title": "How to remove whitespaces while converting string to array?", "body": "<p>The input you're copying is separated by tabs not spaces, so you can change the split character to <code>\\t</code> and your code should do as you expect.</p>\n\n<pre><code>string[] l = x.Split(new char[] { '\\t' });\n</code></pre>\n"}], "owner": {"reputation": 66, "user_id": 4703188, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/00e466f40dadb29b2cd3aeef55425851?s=128&d=identicon&r=PG&f=1", "display_name": "MerryJane", "link": "https://stackoverflow.com/users/4703188/merryjane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 29267058, "answer_count": 1, "score": -2, "last_activity_date": 1427319596, "creation_date": 1427317994, "last_edit_date": 1427319249, "question_id": 29266633, "link": "https://stackoverflow.com/questions/29266633/how-to-remove-whitespaces-while-converting-string-to-array", "title": "How to remove whitespaces while converting string to array?", "body": "<p>I would like to convert input like this:</p>\n\n<pre><code>5\n1   2   3   4   5   6\n1   3   1   4   1   -3\n1   2   -3  4   3   9\n2   -1  3   -1  -4  -1\n0   0   0   0   0   0\n</code></pre>\n\n<p>and save each digit (single line) to array and after that print content of array on the console. In my example array should have length=6. I don't want any white spaces in my array. I can't tell you how many whitespaces are between each digit. At the end I would like to get output like this:</p>\n\n<pre><code>123456\n13141-3\n12-3439\n2-13-1-4-1\n000000\n</code></pre>\n\n<p>I tried to write some code but it doesn't give me good answer as I would have liked:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing c = System.Console;\n\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n\n        int t = int.Parse(c.ReadLine());\n\n\n        for (int j = 0; j &lt; t; j++)\n        {\n\n            string x;\n            x = Console.ReadLine();\n            string[] l = x.Split(new string[] { \" \" }, StringSplitOptions.RemoveEmptyEntries);\n            for (int i = 0; i &lt; l.Length; i++)\n            {\n                c.Write(l[i]);\n            }\n            c.WriteLine();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "xml", "cdata"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1427318056, "post_id": 29266573, "comment_id": 46734973, "body": "I think you&#39;re missing setting the <code>InnerText</code> of the <code>messageXml</code> node back after you modify it."}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1427323830, "post_id": 29266573, "comment_id": 46737426, "body": "I have edited your title. Please see, &quot;<a href=\"http://meta.stackexchange.com/questions/19190/\">Should questions include \u201ctags\u201d in their titles?</a>&quot;, where the consensus is &quot;no, they should not&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 3082882, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/BTXYE.png?s=128&g=1", "display_name": "msiles", "link": "https://stackoverflow.com/users/3082882/msiles"}, "edited": false, "score": 0, "creation_date": 1427321068, "post_id": 29266700, "comment_id": 46736404, "body": "Thanks @nikis, I was trying your code but I got an error here     AdminNode.SelectSingleNode  I replaced with AdminNode.Item(0).SelectSingleNode(...   but now I&#39;m getting another exception Expression must evaluate to a node-set"}], "tags": [], "owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "is_accepted": true, "score": 1, "last_activity_date": 1427322103, "last_edit_date": 1427322103, "creation_date": 1427318227, "answer_id": 29266700, "question_id": 29266573, "link": "https://stackoverflow.com/questions/29266573/edit-an-element-inside-cdata/29266700#29266700", "title": "Edit an element inside cdata", "body": "<p>The following code should do the trick:</p>\n\n<pre><code>    string xml = @\"&lt;Import&gt;\n                    &lt;MethodParameters&gt;\n                        &lt;messageXml&gt;&lt;![CDATA[\n                                &lt;Message&gt;\n                                  &lt;ImportRequest Entity=\"\"Users\"\"&gt;\n                                    &lt;File Name=\"\"XXXXXX\"\" Type=\"\"Xml\"\" FileID=\"\"TestM-00\"\" TotalPartialFiles=\"\"1\"\" PartialSequence=\"\"1\"\" Md5=\"\"\"\"&gt;\n                                    &lt;![CDATA[\n                                        &lt;ImportUserList&gt;\n                                            &lt;ImportUser UserName=\"\"TestM01\"\" FirstName=\"\"TestM01\"\" MiddleName=\"\"TestM01\"\" LastName=\"\"TestM01\"\"  Active=\"\"true\"\" Email=\"\"TestM01@gmail.com\"\"  ExternalId=\"\"TestM01\"\"/&gt; \n                                            &lt;ImportUser UserName=\"\"TestM02\"\" FirstName=\"\"TestM02\"\" MiddleName=\"\"TestM02\"\" LastName=\"\"TestM02\"\"  Active=\"\"true\"\" Email=\"\"TestM02@gmail.com\"\"  ExternalId=\"\"TestM02\"\"/&gt; \n                                        &lt;/ImportUserList&gt;\n                                        ]]]]&gt;&lt;![CDATA[&gt;\n                                    &lt;/File&gt;\n                                  &lt;/ImportRequest&gt;\n                                &lt;/Message&gt;\n                            ]]&gt;&lt;/messageXml&gt;\n                      &lt;/MethodParameters&gt;\n                    &lt;/Import&gt;\";\n    var newID = Guid.NewGuid().ToString();\n    var xDoc = XDocument.Parse(xml);\n    var messageNode = xDoc.XPathSelectElement(\".//messageXml\");\n    var innerDoc = XDocument.Parse(messageNode.Value);\n    innerDoc.XPathSelectElement(\".//ImportRequest/File\").Attribute(\"FileID\").Value = newID;\n    messageNode.ReplaceAll(new XCData(innerDoc.ToString()));\n</code></pre>\n\n<p>It's pretty dirty now, but at least it produces the expected output:</p>\n\n<pre><code>&lt;Import&gt;\n  &lt;MethodParameters&gt;\n    &lt;messageXml&gt;&lt;![CDATA[&lt;Message&gt;\n      &lt;ImportRequest Entity=\"Users\"&gt;\n        &lt;File Name=\"XXXXXX\" Type=\"Xml\" FileID=\"609bead3-3295-4d68-a07f-1ee47db756fd\" TotalPartialFiles=\"1\" PartialSequence=\"1\" Md5=\"\"&gt;\n            &lt;![CDATA[\n                &lt;ImportUserList&gt;\n                    &lt;ImportUser UserName=\"TestM01\" FirstName=\"TestM01\" MiddleName=\"TestM01\" LastName=\"TestM01\"  Active=\"true\" Email=\"TestM01@gmail.com\"  ExternalId=\"TestM01\"/&gt; \n                    &lt;ImportUser UserName=\"TestM02\" FirstName=\"TestM02\" MiddleName=\"TestM02\" LastName=\"TestM02\"  Active=\"true\" Email=\"TestM02@gmail.com\"  ExternalId=\"TestM02\"/&gt; \n                &lt;/ImportUserList&gt;\n            ]]]]&gt;&lt;![CDATA[&gt;\n        &lt;/File&gt;\n      &lt;/ImportRequest&gt;\n    &lt;/Message&gt;]]&gt;&lt;/messageXml&gt;\n  &lt;/MethodParameters&gt;\n&lt;/Import&gt;\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 3082882, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/BTXYE.png?s=128&g=1", "display_name": "msiles", "link": "https://stackoverflow.com/users/3082882/msiles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 29266700, "answer_count": 1, "score": 0, "last_activity_date": 1427323809, "creation_date": 1427317769, "last_edit_date": 1427323809, "question_id": 29266573, "link": "https://stackoverflow.com/questions/29266573/edit-an-element-inside-cdata", "title": "Edit an element inside cdata", "body": "<p>I'm trying to edit an element in the following xml, but I'm not sure how to deal with the cdata code... the element I want to edit is FileID</p>\n\n<pre><code>&lt;Import&gt;\n&lt;MethodParameters&gt;\n    &lt;messageXml&gt;&lt;![CDATA[\n            &lt;Message&gt;\n              &lt;ImportRequest Entity=\"Users\"&gt;\n                &lt;File Name=\"XXXXXX\" Type=\"Xml\" FileID=\"TestM-00\" TotalPartialFiles=\"1\" PartialSequence=\"1\" Md5=\"\"&gt;\n                &lt;![CDATA[\n                    &lt;ImportUserList&gt;\n                        &lt;ImportUser UserName=\"TestM01\" FirstName=\"TestM01\" MiddleName=\"TestM01\" LastName=\"TestM01\"  Active=\"true\" Email=\"TestM01@gmail.com\"  ExternalId=\"TestM01\"/&gt; \n                        &lt;ImportUser UserName=\"TestM02\" FirstName=\"TestM02\" MiddleName=\"TestM02\" LastName=\"TestM02\"  Active=\"true\" Email=\"TestM02@gmail.com\"  ExternalId=\"TestM02\"/&gt; \n                    &lt;/ImportUserList&gt;\n                    ]]]]&gt;&lt;![CDATA[&gt;\n                &lt;/File &gt;\n              &lt;/ImportRequest&gt;\n            &lt;/Message&gt;\n        ]]&gt;&lt;/messageXml&gt;\n  &lt;/MethodParameters&gt;\n&lt;/Import&gt;\n</code></pre>\n\n<p>I have something like this in C#, but I'm not sure how to update the Users.xml file, because I know that AdminNode is in the second document </p>\n\n<pre><code>var doc = new XmlDocument();            \ndoc.Load(\"E:\\\\Users.xml\");\n\nXmlNode node = doc.SelectSingleNode(\"/Import/MethodParameters/messageXml\").FirstChild;\n\nstring newID = Guid.NewGuid().ToString();\n\nXmlNodeList xmlRootNode = doc.GetElementsByTagName(\"messageXml\");\nString Sxml = xmlRootNode.Item(0).InnerText;\nXmlDocument xdoc = new XmlDocument();\nxdoc.LoadXml(Sxml);\n\nXmlNodeList AdminNode = xdoc.GetElementsByTagName(\"Message\");\nAdminNode.Item(0).SelectSingleNode(\"//ImportRequest/File/@FileID\").Value = newID;\n\ndoc.Save(\"E:\\\\Users.xml\");\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "asp.net-mvc-4"], "comments": [{"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "edited": false, "score": 0, "creation_date": 1427317717, "post_id": 29266406, "comment_id": 46734793, "body": "Are you using CodeFirst to generate your tables?"}], "answers": [{"tags": [], "owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "is_accepted": true, "score": 2, "last_activity_date": 1427318273, "creation_date": 1427318273, "answer_id": 29266717, "question_id": 29266406, "link": "https://stackoverflow.com/questions/29266406/entityframework-changing-my-query-entitycommandexecutionexception/29266717#29266717", "title": "EntityFramework changing my query - EntityCommandExecutionException", "body": "<p>The Department_ID is coming by virtue of the relationship in your Department class. You have a List Employees there which automatically assumes a column called Department_ID in your Employee table. </p>\n\n<p>What you need to do is add a virtual property called Department in your Employee table instead of adding the DepartmentID</p>\n\n<pre><code>[Table(\"tblEmployee\")]\npublic class Employee\n{\n    public int EmployeeID { get; set; }\n    public string Name { get; set; }\n    public string Gender { get; set; }\n    public string City { get; set; }\n    public virtual Department Department { get; set; }\n    public DateTime DateOfBirth { get; set; }\n}\n</code></pre>\n\n<p>If you need to maintain the column name as DepartmentID or you need access to the property DepartmentID in code, then you need to use the ForeignKey attribute as shown below:</p>\n\n<pre><code>public class Employee\n{\n    public int EmployeeID { get; set; }\n    public string Name { get; set; }\n    public string Gender { get; set; }\n    public string City { get; set; }\n    public int DepartmentID { get; set; }\n    [ForeignKey(\"DepartmentID\")]\n    public virtual Department Department { get; set; }\n    public DateTime DateOfBirth { get; set; }\n}\n</code></pre>\n\n<p>I would also recommend that you maintain the List as virtual.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2336660"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 29266717, "answer_count": 1, "score": 1, "last_activity_date": 1427318445, "creation_date": 1427317167, "last_edit_date": 1427318445, "question_id": 29266406, "link": "https://stackoverflow.com/questions/29266406/entityframework-changing-my-query-entitycommandexecutionexception", "title": "EntityFramework changing my query - EntityCommandExecutionException", "body": "<p>I'm getting a '<code>EntityCommandExecutionException</code>' and </p>\n\n<blockquote>\n  <p>An error occurred while executing the command definition. See the inner exception for details.</p>\n</blockquote>\n\n<p>with an inner message of </p>\n\n<blockquote>\n  <p>Invalid column name 'Department_ID'</p>\n</blockquote>\n\n<p>This seems to be the query executed from this line of code:</p>\n\n<pre><code>List&lt;Employee&gt; _employees = employeeContext.Employees.ToList();\n</code></pre>\n\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT     [Extent1].[EmployeeID] AS [EmployeeID],\n [Extent1].[Name] AS [Name],\n [Extent1].[Gender] AS [Gender],\n [Extent1].[City] AS [City],\n [Extent1].[DepartmentID] AS [DepartmentID],\n [Extent1].[DateOfBirth] AS [DateOfBirth],\n [Extent1].[Department_ID] AS [Department_ID]\nFROM [dbo].[tblEmployee] AS [Extent1]\n</code></pre>\n\n<p>This is wrong considering there is no Department_ID, I have no idea where it is getting this from. This is the Employee class model: </p>\n\n<pre><code>[Table(\"tblEmployee\")]\npublic class Employee\n{\n    public int EmployeeID { get; set; }\n    public string Name { get; set; }\n    public string Gender { get; set; }\n    public string City { get; set; }\n    public int DepartmentID { get; set; }\n    public DateTime DateOfBirth { get; set; }\n}\n\n[Table(\"tblDepartment\")]\npublic class Department\n{\n    public Int16 ID { get; set; }\n    public string Name { get; set; }\n    public List&lt;Employee&gt; Employees { get; set; }\n}\n</code></pre>\n\n<p>Not sure what to do. Any ideas?</p>\n"}, {"tags": ["c#", "oracle", "odp.net", "system.data.oracleclient"], "comments": [{"owner": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1427329295, "post_id": 29266393, "comment_id": 46739233, "body": "Not sure if this link is of any help - <a href=\"http://www.oracle.com/technetwork/issue-archive/2007/07-jan/o17odp-093600.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/issue-archive/2007/07-jan/&hellip;</a>"}, {"owner": {"reputation": 6305, "user_id": 574573, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/GPKKJ.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/574573/pete"}, "reply_to_user": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1427379083, "post_id": 29266393, "comment_id": 46759130, "body": "Unfortunately, not really. The example is returning multiple arrays of individual things like <code>varchar</code> and <code>number</code> whereas mine is returning an array of records. So, for example, I don&#39;t know what to put for the parameter&#39;s <code>OracleDbType</code> in that case. And if I ignore that issue and try to set mine up like that, I get the error <code>OracleParameter.ArrayBindSize is invalid</code>. And even if I try to set up the ArrayBindSize, it never seems to like any of the different things I&#39;ve tried for that."}], "answers": [{"comments": [{"owner": {"reputation": 6305, "user_id": 574573, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/GPKKJ.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/574573/pete"}, "edited": false, "score": 1, "creation_date": 1428086095, "post_id": 29283729, "comment_id": 47044375, "body": "Thanks. What a pain in the rear. I&#39;m not a big fan of Oracle. This is just one more reason to add to the list. We ended up writing a procedure that dumps the results to a table. We&#39;re mainly trying to diagnose problems with this old code and I&#39;m trying to figure out what&#39;s going on underneath (no documentation, messy code and poor table, column and variable naming contributing to the problems...)"}], "tags": [], "owner": {"reputation": 2445, "user_id": 148180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/652851656636218e8390bcae05184ad5?s=128&d=identicon&r=PG", "display_name": "Christian Shay", "link": "https://stackoverflow.com/users/148180/christian-shay"}, "is_accepted": true, "score": 0, "last_activity_date": 1427386961, "last_edit_date": 1495542505, "creation_date": 1427386961, "answer_id": 29283729, "question_id": 29266393, "link": "https://stackoverflow.com/questions/29266393/returning-a-table-of-records-from-an-oracle-function-into-a-c-application/29283729#29283729", "title": "Returning a table of records from an Oracle function into a C# application", "body": "<p>You cannot bind to PL/SQL Records from ODP.NET. However, you could use anonymous PL/SQL or a Stored Procedure wrapper to convert it into another type. Here is one example of a workaround:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16941214/using-odp-net-to-get-a-record-from-pl-sql-function-without-touching-pl-sql-code\">Using ODP.NET to get a RECORD from PL/SQL function, without touching PL/SQL code</a></p>\n"}], "owner": {"reputation": 6305, "user_id": 574573, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/GPKKJ.jpg?s=128&g=1", "display_name": "Pete", "link": "https://stackoverflow.com/users/574573/pete"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4405, "favorite_count": 0, "accepted_answer_id": 29283729, "answer_count": 1, "score": 1, "last_activity_date": 1427386961, "creation_date": 1427317127, "last_edit_date": 1427317501, "question_id": 29266393, "link": "https://stackoverflow.com/questions/29266393/returning-a-table-of-records-from-an-oracle-function-into-a-c-application", "title": "Returning a table of records from an Oracle function into a C# application", "body": "<p>We have an oracle package that returns a table of a record type. The definition is:</p>\n\n<pre><code>  TYPE t_daily_array_table IS TABLE OF r_daily_array_rec INDEX BY BINARY_INTEGER;\n</code></pre>\n\n<p>where <code>r_daily_array_rec</code> is a record with a number of fields in it. We then have a function in the package that's defined as follows:</p>\n\n<pre><code>FUNCTION f_daily_array_table\n         (ip_contract_code IN contract.contract_code%TYPE)\nRETURN t_daily_array_table\nIS ...\n</code></pre>\n\n<p>And this all works. But I'd like to call this function from my C# application and I've tried about a hundred different variations using 2 different Oracle client drivers (the .NET OracleClient and Oracle's odp.net) and I can't seem to find a way to make it work.  </p>\n\n<p>I don't want to document all the different ways I've tried, but my latest iteration using the odp.net driver is this:</p>\n\n<pre><code>using (OracleConnection conn = new OracleConnection(\"Data Source=dbname;User Id=username;Password=password\"))\n{\n    using (OracleCommand cmd = new OracleCommand(\"FEED_SCHEDULE_PKG.f_daily_array_table\", conn))\n    {\n        cmd.BindByName = true;\n        cmd.Parameters.Add(\"ip_contract_code\", 77116);\n        cmd.CommandType = System.Data.CommandType.StoredProcedure;\n        OracleParameter p = new OracleParameter(\"t_daily_array_table\", OracleDbType.Varchar2);\n        p.Direction = System.Data.ParameterDirection.ReturnValue;\n        cmd.Parameters.Add(p);\n        conn.Open();\n        object ob = cmd.ExecuteNonQuery();\n    }\n}\n</code></pre>\n\n<p>I've tried variations of SQL Statements, such as:</p>\n\n<p><code>select * from Table(FEED_SCHEDULE_PKG.f_daily_array_table(ip_contract_code));</code> \nor\n<code>begin FEED_SCHEDULE_PKG.f_daily_array_table(ip_contract_code); end;</code></p>\n\n<p>I've tried <code>ExecuteNonQuery</code> with a return parameter. I've tried <code>ExecuteReader</code> into an <code>IDataReader</code>. I've tried 'returnvalue' for the return value parameter name. </p>\n\n<p>I've searched around and tried everything I can find. None of the example functions is quite like ours. Like I said, I've tried lots of variations. I can't seem to hit on the right setup. </p>\n\n<p>I'd really appreciate some help on this.</p>\n"}, {"tags": ["c#", "unit-testing", "microsoft-fakes"], "comments": [{"owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "edited": false, "score": 0, "creation_date": 1427317888, "post_id": 29266387, "comment_id": 46734883, "body": "did you check the documentation?"}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 1898150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/95db1d51a99d4efe3caefbe9014dd9f7?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1898150/igor"}, "edited": false, "score": 1, "creation_date": 1427400875, "post_id": 29266958, "comment_id": 46773173, "body": "Correct Rahul, and I did do that but this approach does not seem to work for the Process class.  First of all no shim is created, even if I modify the Fakes XML config file trying to force it&#39;s creation.  A stub is created but it doe snot seem to behave as expected as I cannot stub out a call to Start method."}], "tags": [], "owner": {"reputation": 71114, "user_id": 567435, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zYyZz.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/567435/rahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1427319206, "creation_date": 1427319206, "answer_id": 29266958, "question_id": 29266387, "link": "https://stackoverflow.com/questions/29266387/stub-or-shim-process-class-with-microsoft-fakes/29266958#29266958", "title": "Stub or Shim Process class with Microsoft Fakes", "body": "<p>To my knowledge, you will have to first add a fakes assembly. <code>process</code> class present in <code>System.dll</code> and so </p>\n\n<blockquote>\n  <p>1.In Solution Explorer, expand your unit test project\u2019s References.</p>\n  \n  <p>2.Select the <code>system.dll</code> assembly.</p>\n  \n  <p>3.On the shortcut menu, choose Add Fakes Assembly.</p>\n</blockquote>\n\n<p>Then use the shim method instead. A good example can be found here <a href=\"https://msdn.microsoft.com/en-us/library/hh549176.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/hh549176.aspx</a></p>\n\n<pre><code>[Test]\npublic void Y2kCheckerTest() {\n  using(ShimsContext.Create()) {\n    ShimDateTime.NowGet = () =&gt; new DateTime(2000, 1, 1);\n    Y2KChecker.Check();\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4972576, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/f73869cd6a7901777fd165a424b7f540?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/4972576/jonathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1433401320, "creation_date": 1433401320, "answer_id": 30637104, "question_id": 29266387, "link": "https://stackoverflow.com/questions/29266387/stub-or-shim-process-class-with-microsoft-fakes/30637104#30637104", "title": "Stub or Shim Process class with Microsoft Fakes", "body": "<p>Add this in the XML of system.fakes and not in the XML of mscorlib.fakes</p>\n\n<pre><code>&lt;Fakes xmlns=\"http://schemas.microsoft.com/fakes/2011/\"&gt;\n  &lt;Assembly Name=\"System\" Version=\"4.0.0.0\"/&gt;\n  &lt;ShimGeneration&gt;\n    &lt;Add FullName=\"System.Diagnostics\"/&gt;\n  &lt;/ShimGeneration&gt;\n&lt;/Fakes&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 568, "user_id": 5433590, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/96d3000c619b9126ca0c5d102e6b1be5?s=128&d=identicon&r=PG&f=1", "display_name": "erhan355", "link": "https://stackoverflow.com/users/5433590/erhan355"}, "is_accepted": false, "score": 1, "last_activity_date": 1520721910, "creation_date": 1520721910, "answer_id": 49214778, "question_id": 29266387, "link": "https://stackoverflow.com/questions/29266387/stub-or-shim-process-class-with-microsoft-fakes/49214778#49214778", "title": "Stub or Shim Process class with Microsoft Fakes", "body": "<p>You have to edit the System.fakes file as following,  so that it will generate the Shims for System.Diagnostics.Process</p>\n\n<pre><code>&lt;Fakes xmlns=\"http://schemas.microsoft.com/fakes/2011/\" Diagnostic=\"true\"&gt;\n  &lt;Assembly Name=\"System\" Version=\"4.0.0.0\"/&gt;\n  &lt;ShimGeneration&gt;\n    &lt;Add FullName=\"System.Diagnostics.Process\"/&gt;\n  &lt;/ShimGeneration&gt;\n&lt;/Fakes&gt;\n</code></pre>\n\n<p>Possible Duplicate:\n<a href=\"https://stackoverflow.com/questions/18610684/how-to-use-microsoft-fakes-assemblies-on-process-start\">How to use Microsoft Fakes Assemblies on Process.Start</a></p>\n"}], "owner": {"reputation": 429, "user_id": 1898150, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/95db1d51a99d4efe3caefbe9014dd9f7?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1898150/igor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1520721910, "creation_date": 1427317110, "question_id": 29266387, "link": "https://stackoverflow.com/questions/29266387/stub-or-shim-process-class-with-microsoft-fakes", "title": "Stub or Shim Process class with Microsoft Fakes", "body": "<p>I have this code:</p>\n\n<p>Have a method like this:</p>\n\n<pre><code>private void Invoke(string executablePathAndFile, string commandLineArguments)\n{\n    Process process = ProcessInstance;\n    ProcessStartInfo startInfo = ProcessStartInfo;\n\n    startInfo.FileName = executablePathAndFile;\n    startInfo.Arguments = commandLineArguments; \n\n    process.StartInfo = startInfo;\n\n    process.Start();\n\n    if (WaitForExit)\n        process.WaitForExit();\n}\n</code></pre>\n\n<p>I am trying to stub or shim out Process class' method calls.  Microsoft Fakes only creates a Stub and not a Shim (not sure why).  I can provide StubProcess in a shimmed out call to ProcessInstanceGet:</p>\n\n<pre><code>InvokeExecutableAction sut = new InvokeExecutableAction(actionElement);\nStubProcess stubProcess = new StubProcess();\nShimInvokeExecutableAction sutShim = new ShimInvokeExecutableAction(sut)\n{\n    ProcessInstanceGet = () =&gt; stubProcess\n};\n</code></pre>\n\n<p>but when the code under test gets to process.Start() , it comes back with a Win32Exception.  I am unable to provide an alternate implementation for the stub's Start method like:</p>\n\n<p>Is there a way to achieve what I need (i.e. provide an alternate execution for Start() method) or refactor the code to be more testable (without going overboard!!!)?  </p>\n"}, {"tags": ["c#", "asp.net-mvc", "constructor", "dependency-injection"], "comments": [{"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1427317180, "post_id": 29266341, "comment_id": 46734523, "body": "Apparently you&#39;re trying to implement Bastard injection anti-pattern. No! don&#39;t do that."}, {"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "reply_to_user": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1427317543, "post_id": 29266341, "comment_id": 46734712, "body": "@SriramSakthivel Could you explain what Bastard Injection Anti-Pattern is? I am doing it in this way since I need the same instance of DbContext per controller instance, I haven&#39;t found a better solution. <code>autofac</code> was promising, but it still gave the error of using multiple DbContext instances in one request."}, {"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1427318088, "post_id": 29266341, "comment_id": 46734991, "body": "You&#39;re not understanding the DI fully. when you use <code>new</code> keyword except in composition root(value objects are exception), then you&#39;re violating DI. You&#39;re newing up <code>CalendarManager</code>, <code>UserManager</code> etc, which you should be really taking them as a constructor parameter(as some interface). That said, Bastard Injection is something which occurs when a dependency is Foreign Default(implemented in different assembly) which was injected by default. <code>DbContext</code> is a foreign dependency(I believe); you shouldn&#39;t be tightly couple the consumer with dependency in another assembly."}, {"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 1, "creation_date": 1427318182, "post_id": 29266341, "comment_id": 46735045, "body": "If you really want to become good in dependency injection, I recommend <a href=\"https://rads.stackoverflow.com/amzn/click/com/1935182501\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Mark Seemann&#39;s book</a>. In fact, I&#39;m reading it right now :)"}, {"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "reply_to_user": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1427318320, "post_id": 29266341, "comment_id": 46735114, "body": "Look, I had them as constructor parameters at first, but then when doing updates to the database I got the error <code>An entity object cannot be referenced by multiple instances of IEntityChangeTracker</code> (see <a href=\"http://stackoverflow.com/questions/29221881/how-to-use-one-database-context-for-all-instances-that-make-use-of-a-repository\">this SO-question I asked</a>). All managers need the same <code>DbContext</code> instance per constructor. How would I accomplish that with injecting all the managers? Where is the starting point?"}, {"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1427318975, "post_id": 29266341, "comment_id": 46735442, "body": "I see the answer in your previous question uses <a href=\"http://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/\" rel=\"nofollow noreferrer\">service locator anti-pattern</a>. It is partially correct; You shouldn&#39;t use that either. As a starting point a <a href=\"http://pastebin.com/yg5R1CXZ\" rel=\"nofollow noreferrer\">sample is here</a>. You should have got the idea from it. If your concern is Conroller class should have default constructor, then no you can implement <a href=\"http://develoq.net/2010/custom-controller-factory-in-asp-net-mvc/\" rel=\"nofollow noreferrer\">custom controller factory</a>. I hope this helps. I&#39;m happy to provide more information."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1427319945, "post_id": 29266341, "comment_id": 46735896, "body": "Please note that having multiple constructors on your services (such as controllers) <a href=\"https://cuttingedge.it/blogs/steven/pivot/entry.php?id=97\" rel=\"nofollow noreferrer\">is an anti-pattern</a>."}, {"owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "reply_to_user": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1429367063, "post_id": 29266341, "comment_id": 47571597, "body": "@SriramSakthivel Thanks for the recommendation. I am reading the Mark Seeman book now (a colleague adviced it as well) and see how things could be improved. Now I am using Autofac as a DI-container and inject all managers in the constructors."}], "answers": [{"comments": [{"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "reply_to_user": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "edited": false, "score": 0, "creation_date": 1427318366, "post_id": 29266361, "comment_id": 46735133, "body": "@ErwinRooijakkers Jon&#39;s answer is full of good information. Good to know. But, since you&#39;ve tagged the question with dependency injection, I recommend not to do fall in Bastard Injection. Consider my comments just below your post."}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 7, "last_activity_date": 1427317030, "creation_date": 1427317030, "answer_id": 29266361, "question_id": 29266341, "link": "https://stackoverflow.com/questions/29266341/how-to-use-constructor-with-parameters-from-one-without-parameters/29266361#29266361", "title": "How to use constructor with parameters from one without parameters", "body": "<p>You have to chain to the constructor like this:</p>\n\n<pre><code>public CalendarController() : this(new DbContext())\n{\n}\n</code></pre>\n\n<p>That's the syntax for chaining to <em>any</em> constructor in the same class - it doesn't have to be from a parameterless one to a parameterized one, although it does have to be to a different one :)</p>\n\n<p>Note that this comes before the body of the constructor, so you can't do anything else first, although you <em>can</em> call static methods to compute arguments to the other constructor. You can't use <em>instance</em> methods or properties though. So this is okay:</p>\n\n<pre><code>public Foo() : this(GetDefaultBar())\n{\n}\n\npublic Foo(int bar) { ... }\n\nprivate static int GetDefaultBar() { ... }\n</code></pre>\n\n<p>But this isn't:</p>\n\n<pre><code>public Foo() : this(GetDefaultBar())\n{\n}\n\npublic Foo(int bar) { ... }\n\nprivate int GetDefaultBar() { ... }\n</code></pre>\n\n<p>The syntax to chain to a constructor in the base class is similar:</p>\n\n<pre><code>public Foo() : base(...)\n</code></pre>\n\n<p>If you don't specify either <code>: base(...)</code> or <code>: this(...)</code> the compiler implicitly adds a <code>: base()</code> for you. (That doesn't necessarily chain to a parameterless constructor; it could have optional parameters.)</p>\n"}], "owner": {"reputation": 8898, "user_id": 2609980, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/FV4E4.jpg?s=128&g=1", "display_name": "Erwin Rooijakkers", "link": "https://stackoverflow.com/users/2609980/erwin-rooijakkers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 29266361, "answer_count": 1, "score": 1, "last_activity_date": 1427317030, "creation_date": 1427316953, "question_id": 29266341, "link": "https://stackoverflow.com/questions/29266341/how-to-use-constructor-with-parameters-from-one-without-parameters", "title": "How to use constructor with parameters from one without parameters", "body": "<p>I have a controller which takes a <code>DbContext</code> and one who does not. I.e.,:</p>\n\n<pre><code>public CalendarController()\n{\n    var db = new DbContext(); \n    CalendarController(db); // &lt;= Not allowed\n}\n\npublic CalendarController(IDbContext db)\n{\n    _calendarManager = new CalendarManager(db);\n    _userManager = new UserManager(db);\n    _farmingActionManager = new FarmingActionManager(db);\n    _cropManager = new CropManager(db);\n}\n</code></pre>\n\n<p>Unfortunately the above gives an error on the <code>CalendarController(db)</code> line: </p>\n\n<blockquote>\n  <p>Expression denotes a 'type', where a 'variable', 'value' or 'method group` was expected</p>\n</blockquote>\n\n<p>Is it possible to call one constructor from another? I don't want to duplicate all the code.</p>\n"}, {"tags": ["c#", "namespaces", "runtime-compilation"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3105391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20b232c04403967c47bc58d218c68b8?s=128&d=identicon&r=PG&f=1", "display_name": "AquilaAbriel", "link": "https://stackoverflow.com/users/3105391/aquilaabriel"}, "edited": false, "score": 0, "creation_date": 1427316846, "post_id": 29266262, "comment_id": 46734316, "body": "Thank you for your quick responce. When running the runtime compiler I currently add this Code: CompilerParameters parameters = new CompilerParameters(); parameters.ReferencedAssemblies.Add(assembly); If I am right, this is where I tell the compiler what assemblies to use right? But I already use EngineCore.dll when compiling both the interface and the class using the interface..."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 33, "user_id": 3105391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20b232c04403967c47bc58d218c68b8?s=128&d=identicon&r=PG&f=1", "display_name": "AquilaAbriel", "link": "https://stackoverflow.com/users/3105391/aquilaabriel"}, "edited": false, "score": 0, "creation_date": 1427317362, "post_id": 29266262, "comment_id": 46734616, "body": "No; you need to pass the assembly that <i>contains</i> the interface.  Just like any other type, you can only use it if you reference the assembly that defines it.  This will be much easier if you switch to the Roslyn compiler."}, {"owner": {"reputation": 33, "user_id": 3105391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20b232c04403967c47bc58d218c68b8?s=128&d=identicon&r=PG&f=1", "display_name": "AquilaAbriel", "link": "https://stackoverflow.com/users/3105391/aquilaabriel"}, "edited": false, "score": 0, "creation_date": 1427317511, "post_id": 29266262, "comment_id": 46734690, "body": "OK, but the interface is also runtime compiled, so I should be in some kind of temporary assembly. So I have to store these temporary assembly names. And include it when running the second compilation?"}, {"owner": {"reputation": 33, "user_id": 3105391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20b232c04403967c47bc58d218c68b8?s=128&d=identicon&r=PG&f=1", "display_name": "AquilaAbriel", "link": "https://stackoverflow.com/users/3105391/aquilaabriel"}, "edited": false, "score": 0, "creation_date": 1427319392, "post_id": 29266262, "comment_id": 46735623, "body": "OK, you were absolutely right. Thank you very much. I had to add the assembly of the compiled interface when compiling the second class. Question answered."}], "tags": [], "owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": true, "score": 2, "last_activity_date": 1427316677, "creation_date": 1427316677, "answer_id": 29266262, "question_id": 29266218, "link": "https://stackoverflow.com/questions/29266218/c-runtime-compilation-add-new-interface-to-namespace/29266262#29266262", "title": "C# Runtime Compilation - Add new interface to namespace", "body": "<p>You simply need to add a reference to the assembly containing the interface when you compile code that uses it.</p>\n"}], "owner": {"reputation": 33, "user_id": 3105391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c20b232c04403967c47bc58d218c68b8?s=128&d=identicon&r=PG&f=1", "display_name": "AquilaAbriel", "link": "https://stackoverflow.com/users/3105391/aquilaabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "accepted_answer_id": 29266262, "answer_count": 1, "score": 0, "last_activity_date": 1427316677, "creation_date": 1427316540, "question_id": 29266218, "link": "https://stackoverflow.com/questions/29266218/c-runtime-compilation-add-new-interface-to-namespace", "title": "C# Runtime Compilation - Add new interface to namespace", "body": "<p>I am currently confused, if it is possible to compile an interface at runtime and add it to a \"hardcoded\" namespace.</p>\n\n<p><strong>Some code to explain:</strong></p>\n\n<pre><code>using System;\nusing System.Runtime.CompilerServices;\nusing EngineCore;\n\nnamespace EngineCore\n{\n    public interface iMobilePhones\n    {\n        string phoneNumber {get; set;}\n        string phoneRingtone {get; set;}\n\n        void CallNumber(string phoneNumber);\n    }\n}\n</code></pre>\n\n<p>This is the runtime compiled interface, I want to add to the EngineCore namespace at runtime.</p>\n\n<p>The compilation seems to work as expected and as you can see I compiled it using the EngineCore namespace.</p>\n\n<pre><code>using System;\nusing System.Runtime.CompilerServices;\nusing EngineCore;\n\nnamespace EngineCore\n{\n    public class EQMobilePhoneCheap : iMobilePhones\n    {\n        //iMobilePhones interface members\n        private string PhoneNumber;\n        private string PhoneRingtone = \"Default\";\n\n        public string phoneNumber\n        {\n            get\n            {\n                return PhoneNumber;\n            }\n            set\n            {\n                PhoneNumber = value;\n            }\n        }\n        public string phoneRingtone\n        {\n            get\n            {\n                return PhoneRingtone;\n            }\n            set\n            {\n                PhoneRingtone = value;\n            }\n        }\n\n        //iMobilePhones interface functions\n        public void CallNumber(string phoneNumber)\n        {\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>This is the second runtime compiled code. As you can see, I am trying to use the iMobilePhones interface I compiled before.</p>\n\n<p>But the compilation fails because iMobilePhones is not an interface of EngineCore</p>\n\n<p><strong>The actual question:</strong></p>\n\n<p>So I am wondering if there is a way to \"register\" the previously compiled interface iMobilePhones to the EngineCore namespace?</p>\n\n<p>Thank you very much for reading.\nAny suggestions are welcome.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1427316430, "post_id": 29266144, "comment_id": 46734094, "body": "Show your full <code>$.ajax()</code> code."}, {"owner": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "reply_to_user": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1427316525, "post_id": 29266144, "comment_id": 46734145, "body": "@BrendanGreen see updated question"}, {"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1427316888, "post_id": 29266144, "comment_id": 46734339, "body": "What it your intention to name one action <code>POST</code> and the other <code>Post</code>?  I think WebAPI uses convention to map the verb to the action - does the capitalization matter?"}, {"owner": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "reply_to_user": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1427317032, "post_id": 29266144, "comment_id": 46734419, "body": "@BrendanGreen Sorry, that was a typo. I tested it with <code>Get</code>and <code>Post</code>."}, {"owner": {"reputation": 581, "user_id": 957712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b68de6f04d5c57b40d6500be48ddf8f8?s=128&d=identicon&r=PG", "display_name": "Thomas Lindvall", "link": "https://stackoverflow.com/users/957712/thomas-lindvall"}, "edited": false, "score": 0, "creation_date": 1427317273, "post_id": 29266144, "comment_id": 46734566, "body": "Have you added the [HttpPost] attribute to your method?"}, {"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 1, "creation_date": 1427317397, "post_id": 29266144, "comment_id": 46734635, "body": "The action being named <code>Post</code> should be sufficient.  Have to tried to create a class that contains the properties that you are passing in instead, and then adding the <code>[FromBody]</code> attribute?  e.g. <code>public IHttpActionResult Post([FromBody] MyGeoClass data)</code>"}, {"owner": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "reply_to_user": {"reputation": 581, "user_id": 957712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b68de6f04d5c57b40d6500be48ddf8f8?s=128&d=identicon&r=PG", "display_name": "Thomas Lindvall", "link": "https://stackoverflow.com/users/957712/thomas-lindvall"}, "edited": false, "score": 0, "creation_date": 1427317427, "post_id": 29266144, "comment_id": 46734644, "body": "@ThomasLindvall The third example works without <code>[HttpPost]</code>. The second example (which is what I want) works neither with nor without <code>[HttpPost]</code>"}, {"owner": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1427317463, "post_id": 29266144, "comment_id": 46734666, "body": "BTW, what is the error response?  Is it a 404 or something else?"}, {"owner": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "reply_to_user": {"reputation": 10823, "user_id": 1567352, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/bdfeb44480b0de2237a5fe8001b8233b?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan Green", "link": "https://stackoverflow.com/users/1567352/brendan-green"}, "edited": false, "score": 0, "creation_date": 1427317680, "post_id": 29266144, "comment_id": 46734777, "body": "@BrendanGreen Yes, it&#39;s a 404: <code>No HTTP resource was found that matches the request URI</code>. The <code>MyGeoClass</code>approach leads to a method call, but all properties of the class are default values (0.0 and null)."}, {"owner": {"reputation": 581, "user_id": 957712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b68de6f04d5c57b40d6500be48ddf8f8?s=128&d=identicon&r=PG", "display_name": "Thomas Lindvall", "link": "https://stackoverflow.com/users/957712/thomas-lindvall"}, "edited": false, "score": 0, "creation_date": 1427321337, "post_id": 29266144, "comment_id": 46736492, "body": "@Toast have you tried debugging with a route debugger? Like <a href=\"http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx/\" rel=\"nofollow noreferrer\">haacked.com/archive/2008/03/13/url-routing-debugger.aspx</a> ?"}], "answers": [{"comments": [{"owner": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "edited": false, "score": 0, "creation_date": 1427318014, "post_id": 29266566, "comment_id": 46734954, "body": "Thank you, this does work for me. I&#39;m wondering though why the direct method paramters work with get requests but not with post requests..."}, {"owner": {"reputation": 8976, "user_id": 1991643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MYL32.jpg?s=128&g=1", "display_name": "beautifulcoder", "link": "https://stackoverflow.com/users/1991643/beautifulcoder"}, "reply_to_user": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "edited": false, "score": 0, "creation_date": 1427378607, "post_id": 29266566, "comment_id": 46758783, "body": "Not entirely sure. I suspect it has to do with request headers. <code>GET</code> sends query string parameters. <code>POST</code> sends back form data."}], "tags": [], "owner": {"reputation": 8976, "user_id": 1991643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MYL32.jpg?s=128&g=1", "display_name": "beautifulcoder", "link": "https://stackoverflow.com/users/1991643/beautifulcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1427317749, "creation_date": 1427317749, "answer_id": 29266566, "question_id": 29266144, "link": "https://stackoverflow.com/questions/29266144/handle-a-post-request-in-asp-net-web-api/29266566#29266566", "title": "Handle a POST request in ASP.net Web Api", "body": "<p>Try binding to a complex type:</p>\n\n<pre><code>public IHttpActionResult Post(Coordinate cord)\n\npublic class Coordinate\n{\n    public double lat { get; set; }\n    public double lon { get; set; }\n    public string type { get; set; }\n}\n</code></pre>\n\n<p>From what I understand, it should just work.</p>\n"}], "owner": {"reputation": 548, "user_id": 895589, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/edf8c89adb71d4763f9c75a6892f1388?s=128&d=identicon&r=PG", "display_name": "Toast", "link": "https://stackoverflow.com/users/895589/toast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 735, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427317749, "creation_date": 1427316259, "last_edit_date": 1427316974, "question_id": 29266144, "link": "https://stackoverflow.com/questions/29266144/handle-a-post-request-in-asp-net-web-api", "title": "Handle a POST request in ASP.net Web Api", "body": "<p>This code works to handle a get request:</p>\n\n<pre><code>public IHttpActionResult Get(double lat, double lon, string type) {\n    // do stuff\n    return StatusCode(HttpStatusCode.OK);\n}\n</code></pre>\n\n<p>Now I replace GET with POST in my <code>$.ajax(</code> request and I'd like to do something like this:</p>\n\n<pre><code>public IHttpActionResult Post(double lat, double lon, string type) {\n    // do stuff\n    return StatusCode(HttpStatusCode.OK);\n}\n</code></pre>\n\n<p>The only thing that works is this:</p>\n\n<pre><code>public IHttpActionResult Post(FormDataCollection form) {\n    // do stuff\n    return StatusCode(HttpStatusCode.OK);\n}\n</code></pre>\n\n<p>Edit: Ajax call:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: 'api/building',\n    data: {lat: location.lat, lon: location.lng, type: type},\n    success: function(data) {\n        ItemChunk.GetByCoordinate(new Coordinate(location.lat, location.lng), true);\n    }\n});\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "string", "datetime", "format"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 2, "creation_date": 1427316368, "post_id": 29266142, "comment_id": 46734053, "body": "Is it <i>really</i> a string in the database? (You&#39;re parsing it as that...) Any reason it&#39;s not a datetime? And if you&#39;re finding that you can&#39;t narrow a problem down due to a line doing too much, you should break that line down into several statements... Also, are you aware that with <code>hh</code> you get a 12 hour format, and you&#39;re not including an am/pm designator?"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4713989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c673c1303f2f88dce2853ac70b1639de?s=128&d=identicon&r=PG&f=1", "display_name": "Mano", "link": "https://stackoverflow.com/users/4713989/mano"}, "edited": false, "score": 0, "creation_date": 1427317315, "post_id": 29266196, "comment_id": 46734586, "body": "Thank you, didn&#39;t know converting the datarow item to datetime was possible, that was the trick, thanks again. and also thanks about the &quot;g&quot; format, that has really saved me some time arranging the format."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 63, "user_id": 4713989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c673c1303f2f88dce2853ac70b1639de?s=128&d=identicon&r=PG&f=1", "display_name": "Mano", "link": "https://stackoverflow.com/users/4713989/mano"}, "edited": false, "score": 0, "creation_date": 1427325111, "post_id": 29266196, "comment_id": 46737922, "body": "The field in the data row was <i>already</i> a <code>DateTime</code>.  The API boxes it as an <code>object</code>.  You just need to unbox it by casting.  You should always do that, for any data type, rather than messing with strings.  See <a href=\"https://msdn.microsoft.com/en-us/library/yz2be5wk.aspx\" rel=\"nofollow noreferrer\">Boxing and Unboxing</a> in MSDN.  For formats, see <a href=\"https://msdn.microsoft.com/en-us/library/az4se3k1.aspx\" rel=\"nofollow noreferrer\">Standard Date and Time Format Strings</a> in MSDN."}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": true, "score": 2, "last_activity_date": 1427316454, "creation_date": 1427316454, "answer_id": 29266196, "question_id": 29266142, "link": "https://stackoverflow.com/questions/29266142/converting-a-datetime-from-the-datatable-to-a-specific-format-of-string-c-asp-n/29266196#29266196", "title": "Converting a Datetime from the datatable to a specific format of string C# ASP.NET", "body": "<p>This is probably what you should do:</p>\n\n<pre><code>DateTime pmdate = (DateTime) dt.Rows[0][\"PMDate\"];\nlblDate.Text = pmdate.ToString(\"g\");\n</code></pre>\n\n<p>Note, this will render the string using the general date/time pattern for the current culture.</p>\n"}], "owner": {"reputation": 63, "user_id": 4713989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c673c1303f2f88dce2853ac70b1639de?s=128&d=identicon&r=PG&f=1", "display_name": "Mano", "link": "https://stackoverflow.com/users/4713989/mano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11377, "favorite_count": 0, "accepted_answer_id": 29266196, "answer_count": 1, "score": 2, "last_activity_date": 1427316454, "creation_date": 1427316252, "question_id": 29266142, "link": "https://stackoverflow.com/questions/29266142/converting-a-datetime-from-the-datatable-to-a-specific-format-of-string-c-asp-n", "title": "Converting a Datetime from the datatable to a specific format of string C# ASP.NET", "body": "<p>I am wokring on C#, ASP.Net\nSo I take a datetime from the database and turn it into a datatable column.\nAs for me, the database's datetime is very long and includes seconds and all sort of stuff and I want to change it into a specific format of:</p>\n\n<blockquote>\n  <p>dd/MM/yy hh:mm</p>\n</blockquote>\n\n<p>so Iv'e tried this:</p>\n\n<blockquote>\n  <p>lblDate.Text=(DateTime.ParseExact(dt.Rows[0][\"PMDate\"].ToString(),\"dd/MM/yy\n  hh:mm\",System.Globalization.CultureInfo.InvariantCulture)).ToString();</p>\n</blockquote>\n\n<p>But sadly I get an error saying that the string was not identified as a valid DateTime. sadly, it is referring to the whole line above so I cannot tell what I did wrong. </p>\n\n<p>All I want to do is to take the DateTime from the DataBase, turn it into a DataTable column and from there into a string in the format mentioned above.</p>\n\n<p>Please help me, thanks in advance. </p>\n"}, {"tags": ["c#", "asp.net", "signalr", "autofac", "nopcommerce"], "comments": [{"owner": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1427316332, "post_id": 29266103, "comment_id": 46734040, "body": "what version is the autofac pkg itself?"}, {"owner": {"reputation": 1490, "user_id": 1688512, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ec77411e6fa8125012b398edf6e6c27?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1688512/david"}, "reply_to_user": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1427316482, "post_id": 29266103, "comment_id": 46734119, "body": "In my project it is Autofac 3.1.3. In Nop Commerce it is 3.5.2"}, {"owner": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1427317065, "post_id": 29266103, "comment_id": 46734438, "body": "so upgrade your project&#39;s autofac to 3.5.2."}, {"owner": {"reputation": 1490, "user_id": 1688512, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ec77411e6fa8125012b398edf6e6c27?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1688512/david"}, "reply_to_user": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1427317408, "post_id": 29266103, "comment_id": 46734638, "body": "I did that and now get the error:  Could not load file or assembly &#39;Microsoft.AspNet.SignalR.Core, Version=1.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&#39; or one of its dependencies. The located assembly&#39;s manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)"}, {"owner": {"reputation": 1490, "user_id": 1688512, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ec77411e6fa8125012b398edf6e6c27?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1688512/david"}, "reply_to_user": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1427317480, "post_id": 29266103, "comment_id": 46734675, "body": "The problem is that Calling assembly : Autofac.Integration.SignalR, Version=3.0.0.0 wants an older version of autofac to work and I need Autofac.Integration.SignalR to make dependency injection work with the project"}, {"owner": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1427317643, "post_id": 29266103, "comment_id": 46734763, "body": "To fix your next error, I believe you remove the autofac dll from references and then re-add it from the file system to fix the reference.  Also it&#39;s not looking for an older version, it&#39;s telling you that there is a version mismatch on what it&#39;s expecting and what you&#39;re giving it per 1st error."}, {"owner": {"reputation": 1490, "user_id": 1688512, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ec77411e6fa8125012b398edf6e6c27?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1688512/david"}, "reply_to_user": {"reputation": 3616, "user_id": 1981471, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/i44eN.jpg?s=128&g=1", "display_name": "RandomUs1r", "link": "https://stackoverflow.com/users/1981471/randomus1r"}, "edited": false, "score": 0, "creation_date": 1427318019, "post_id": 29266103, "comment_id": 46734961, "body": "I removed my Autofac reference, then browsed to the packages directory and found the Autofac 3.5.2 folder and used the dll in side there. I am still getting the same error: Could not load file or assembly &#39;Microsoft.AspNet.SignalR.Core, Version=1.1.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35&#39; or one of its dependencies. The located assembly&#39;s manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040)"}, {"owner": {"reputation": 679, "user_id": 164239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d388d9b488928d1630125f4f12640ed?s=128&d=identicon&r=PG", "display_name": "RR.", "link": "https://stackoverflow.com/users/164239/rr"}, "edited": false, "score": 0, "creation_date": 1500552380, "post_id": 29266103, "comment_id": 77394326, "body": "If you didn&#39;t resolve this, you need to add a biinding redirect to your config file.  &lt;dependentAssembly&gt;         &lt;assemblyIdentity name=&quot;Microsoft.AspNet.SignalR.Core&quot; publicKeyToken=&quot;31bf3856ad364e35&quot; culture=&quot;neutral&quot; /&gt;         &lt;bindingRedirect oldVersion=&quot;0.0.0.0-2.2.2.0&quot; newVersion=&quot;2.2.2.0&quot; /&gt;       &lt;/dependentAssembly&gt;"}], "owner": {"reputation": 1490, "user_id": 1688512, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0ec77411e6fa8125012b398edf6e6c27?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1688512/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 568, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1427316104, "creation_date": 1427316104, "question_id": 29266103, "link": "https://stackoverflow.com/questions/29266103/autofac-with-signalr-in-nop-commerce-plugin", "title": "Autofac with SignalR in Nop Commerce Plugin", "body": "<p>I'm building a Nop Commerce plugin that uses a SignalR hub to update the client of the status of a long running process. The version of Nop Commerce is v3.50. I've installed the SignalR Nuget Package. I then installed NuGet Package Microsoft.Owin.Host.SystemWeb 2.1.0 in Nop.Web project so that my OWIN startup class would run inside my plugin. Now I need to use Autofac dependency injection in my SignalR hub. I installed the NuGet package Autofac ASP.NET SignalR Integration 3.0.2 into my plugin and set things up according to the instructions here:</p>\n\n<p><a href=\"http://docs.autofac.org/en/latest/integration/signalr.html\" rel=\"nofollow\">http://docs.autofac.org/en/latest/integration/signalr.html</a></p>\n\n<p>I go to build my project and I get the error:</p>\n\n<p>Assembly 'Nop.Core, Version=3.5.0.0, Culture=neutral, PublicKeyToken=null' uses 'Autofac, Version=3.5.0.0, Culture=neutral, PublicKeyToken=17863af14b0044da' which has a higher version than referenced assembly 'Autofac, Version=3.0.0.0, Culture=neutral, PublicKeyToken=17863af14b0044da'   c:\\dev\\Nop350Source\\Libraries\\Nop.Core\\bin\\Debug\\Nop.Core.dll</p>\n\n<p>So Nop.Core is using a newer version of Autofac than the one Autofac ASP.NET SignalR Integration 3.0.2 relies on. Is there a way to make this work?</p>\n\n<p>As an alternative, what other strategy could I use for a long running process other than SignalR? My plugin will be importing about 50,000 products into the store while downloading each products images from a server and then parsing and adding categories, tags, and manufacturers. I think the process will probably take a day or so to complete if I'm optimistic that each product could be imported in 2 seconds. I think realistically it will take longer because downloading 3 images per product will be the bottleneck in the project. </p>\n"}, {"tags": ["c#", "android", "unity3d", "facebook-unity-sdk"], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 904533, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ca092b8cd9300d03a429a7e32f4c8e94?s=128&d=identicon&r=PG", "display_name": "Dragon54", "link": "https://stackoverflow.com/users/904533/dragon54"}, "edited": false, "score": 0, "creation_date": 1427349689, "post_id": 29267752, "comment_id": 46744172, "body": "I have my Init called somewhere else in a script that starts with the scene. I was able to login in the previous versions. I&#39;ve always used the facebook account associated with the app administrator account. What do you mean by &#39;a code that needs to be pasted everytime&#39;?"}, {"owner": {"reputation": 263, "user_id": 904533, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ca092b8cd9300d03a429a7e32f4c8e94?s=128&d=identicon&r=PG", "display_name": "Dragon54", "link": "https://stackoverflow.com/users/904533/dragon54"}, "edited": false, "score": 0, "creation_date": 1427351120, "post_id": 29267752, "comment_id": 46744546, "body": "My game is not public/live at this moment."}], "tags": [], "owner": {"reputation": 757, "user_id": 1493688, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/J8cbh.jpg?s=128&g=1", "display_name": "TheNoob", "link": "https://stackoverflow.com/users/1493688/thenoob"}, "is_accepted": false, "score": 1, "last_activity_date": 1427322584, "creation_date": 1427322584, "answer_id": 29267752, "question_id": 29266024, "link": "https://stackoverflow.com/questions/29266024/unity-facebook-sdk-fatal-error-after-facebook-webview-login/29267752#29267752", "title": "Unity Facebook SDK Fatal error after Facebook webview login", "body": "<p>Is your game live or not? </p>\n\n<p>When doing facebook stuff from unity, you have to copy and paste a code they give you from the website each time you log in from the unity editor. I am assuming everything is already setup with facebook. Also make sure the account you are using has access to the game, they should be a developer or admin (FB should explain this part to you) and make sure the account lets the app actually do wall posts. Facebook has weird settings to not allow apps to perform certain functions.   </p>\n\n<p>Lastly, I do not see FB.Init, so I am also assuming you did this somewhere. If this isnt called, this will create issues when trying to use the FB class. </p>\n\n<p>Hope this helps and/or leads you in the right direction. Good luck, getting FB to work can be tricky.  </p>\n"}], "owner": {"reputation": 263, "user_id": 904533, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ca092b8cd9300d03a429a7e32f4c8e94?s=128&d=identicon&r=PG", "display_name": "Dragon54", "link": "https://stackoverflow.com/users/904533/dragon54"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427391233, "creation_date": 1427315827, "last_edit_date": 1427391233, "question_id": 29266024, "link": "https://stackoverflow.com/questions/29266024/unity-facebook-sdk-fatal-error-after-facebook-webview-login", "title": "Unity Facebook SDK Fatal error after Facebook webview login", "body": "<p><strong>UPDATE: I've removed the Facebook plugin and went with more platform native solutions</strong></p>\n\n<p>I'm having issues with Facebook Unity SDK V6.2.1 in my Unity project.</p>\n\n<p>I've set up a button where the user can tap on to share his/her score on their Facebook feed. Whenever the user taps on the 'share' button it asks for their Facebook credentials. When the user accepts the required permissions the game crashes with a fatal error.</p>\n\n<p><strong>This is the code I use to let the user log in:</strong></p>\n\n<pre><code>    private void ShareButton() {\n        if (!FB.IsLoggedIn) {\n            FB.Login();\n            if (FB.UserId != null) {\n                onBragClicked();\n            }\n        } else {\n            if (FB.UserId != null) {\n                onBragClicked();\n            }\n        }\n\n}\n\nprivate void onBragClicked() {\n    FB.Feed(\n            linkCaption: \"Test caption\" + Score.localScore.ToString() + \"! I challenge you to go higher :)\",\n            picture: \"http://i.imgur.com/CgRBQ0W.jpg\",\n            linkName: \"Checkout my new score!\",\n            link: \"http://apps.facebook.com/\" + FB.AppId + \"/?challenge_brag=\" + (FB.IsLoggedIn ? FB.UserId : \"guest\")\n            );\n}  \n</code></pre>\n\n<p><strong>These are the logcat results:</strong></p>\n\n<pre><code>--------- beginning of crash\n\nE/AndroidRuntime( 4767): FATAL EXCEPTION: main\n\nE/AndroidRuntime( 4767): Process: com.company.game, PID: 4767\n\nE/AndroidRuntime( 4767): java.lang.Error: FATAL EXCEPTION [main]\n\nE/AndroidRuntime( 4767): Unity version     : 4.6.3p3\n\nE/AndroidRuntime( 4767): Device model      : LGE Nexus 5\n\nE/AndroidRuntime( 4767): Device fingerprint: google/hammerhead/hammerhead:5.1/LMY47D/1743759:user/release-keys\n\nE/AndroidRuntime( 4767): \n\nE/AndroidRuntime( 4767): Caused by: java.lang.NoClassDefFoundError: Failed resolution of: Landroid/support/v4/content/LocalBroadcastManager;\n\nE/AndroidRuntime( 4767):    at com.facebook.Session.postActiveSessionAction(Session.java:1570)\n\nE/AndroidRuntime( 4767):    at com.facebook.Session.postStateChange(Session.java:1559)\n\nE/AndroidRuntime( 4767):    at com.facebook.Session.finishAuthorization(Session.java:1498)\n\nE/AndroidRuntime( 4767):    at com.facebook.Session.finishAuthOrReauth(Session.java:1468)\n\nE/AndroidRuntime( 4767):    at com.facebook.Session.handleAuthorizationResult(Session.java:1330)\n\nE/AndroidRuntime( 4767):    at com.facebook.Session.onActivityResult(Session.java:741)\n\nE/AndroidRuntime( 4767):    at com.facebook.unity.FBLogin.onActivityResult(FBLogin.java:245)\n\nE/AndroidRuntime( 4767):    at com.facebook.unity.FBUnityLoginActivity.onActivityResult(FBUnityLoginActivity.java:25)\n\nE/AndroidRuntime( 4767):    at android.app.Activity.dispatchActivityResult(Activity.java:6192)\n\nE/AndroidRuntime( 4767):    at android.app.ActivityThread.deliverResults(ActivityThread.java:3570)\n\nE/AndroidRuntime( 4767):    at android.app.ActivityThread.handleSendResult(ActivityThread.java:3617)\n\nE/AndroidRuntime( 4767):    at android.app.ActivityThread.access$1300(ActivityThread.java:151)\n\nE/AndroidRuntime( 4767):    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1352)\n\nE/AndroidRuntime( 4767):    at android.os.Handler.dispatchMessage(Handler.java:102)\n\nE/AndroidRuntime( 4767):    at android.os.Looper.loop(Looper.java:135)\n\nE/AndroidRuntime( 4767):    at android.app.ActivityThread.main(ActivityThread.java:5254)\n\nE/AndroidRuntime( 4767):    at java.lang.reflect.Method.invoke(Native Method)\n\nE/AndroidRuntime( 4767):    at java.lang.reflect.Method.invoke(Method.java:372)\n\nE/AndroidRuntime( 4767):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n\nE/AndroidRuntime( 4767):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n\nE/AndroidRuntime( 4767): Caused by: java.lang.ClassNotFoundException: Didn't find class \"android.support.v4.content.LocalBroadcastManager\" on path: DexPathList[[zip file \"/data/app/com.company.game-2/base.apk\"],nativeLibraryDirectories=[/data/app/com.company.game-2/lib/arm, /vendor/lib, /system/lib]]\n\nE/AndroidRuntime( 4767):    at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n\nE/AndroidRuntime( 4767):    at java.lang.ClassLoader.loadClass(ClassLoader.java:511)\n\nE/AndroidRuntime( 4767):    at java.lang.ClassLoader.loadClass(ClassLoader.java:469)\n\nE/AndroidRuntime( 4767):    ... 20 more\n\nE/AndroidRuntime( 4767):    Suppressed: java.lang.ClassNotFoundException: android.support.v4.content.LocalBroadcastManager\n\nE/AndroidRuntime( 4767):        at java.lang.Class.classForName(Native Method)\n\nE/AndroidRuntime( 4767):        at java.lang.BootClassLoader.findClass(ClassLoader.java:781)\n\nE/AndroidRuntime( 4767):        at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)\n\nE/AndroidRuntime( 4767):        at java.lang.ClassLoader.loadClass(ClassLoader.java:504)\n\nE/AndroidRuntime( 4767):        ... 21 more\n\nE/AndroidRuntime( 4767):    Caused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack available\n\nW/ActivityManager(23145):   Force finishing activity 1 com.company.game/com.facebook.unity.FBUnityLoginActivity\n</code></pre>\n\n<p><strong>Specs:</strong></p>\n\n<ul>\n<li>Facebook SDK v6.2.1 </li>\n<li>Unity 4.6.3p3</li>\n</ul>\n\n<p>Thanks in advance for any help!</p>\n"}, {"tags": ["c#", "database", "winforms", "export-to-excel"], "comments": [{"owner": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "edited": false, "score": 0, "creation_date": 1427316286, "post_id": 29266000, "comment_id": 46734014, "body": "It looks like it&#39;d be simpler to write to a csv file like <a href=\"http://stackoverflow.com/questions/18757097/writing-data-into-csv-file\">this</a> or if you&#39;d rather excel check out this <a href=\"http://stackoverflow.com/questions/23041021/how-to-write-some-data-to-excel-file-xlsx\">question</a>"}, {"owner": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "reply_to_user": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "edited": false, "score": 0, "creation_date": 1427316450, "post_id": 29266000, "comment_id": 46734104, "body": "@scurrie I&#39;ve already looked into that option, and its not a plausible solution for me."}, {"owner": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "edited": false, "score": 0, "creation_date": 1427317063, "post_id": 29266000, "comment_id": 46734437, "body": "To clarify, is the issue fetching data from the DB or writing the data to an excel file? Or both?"}, {"owner": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "reply_to_user": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "edited": false, "score": 0, "creation_date": 1427317267, "post_id": 29266000, "comment_id": 46734563, "body": "@scurrie I have no problem getting the data from the db. I&#39;ve been able to fetch the data from the db and display it onto a dgv without problems. However, what I don&#39;t understand is how to &quot;transfer&quot; (aka read) the data to an excel file."}, {"owner": {"reputation": 2177, "user_id": 1211997, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/289e883b1531a6c68ce799642e3b918e?s=128&d=identicon&r=PG", "display_name": "rheitzman", "link": "https://stackoverflow.com/users/1211997/rheitzman"}, "edited": false, "score": 0, "creation_date": 1427319085, "post_id": 29266000, "comment_id": 46735490, "body": "I found tasks like this are more easily done in Excel VBA. You have to revert to ADO (or DAO) to get the recordset, but once you have it you have a lot more control over the process. I developed a simple recordset to worksheet set of code and just modify the SQL."}, {"owner": {"reputation": 2177, "user_id": 1211997, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/289e883b1531a6c68ce799642e3b918e?s=128&d=identicon&r=PG", "display_name": "rheitzman", "link": "https://stackoverflow.com/users/1211997/rheitzman"}, "edited": false, "score": 0, "creation_date": 1427319212, "post_id": 29266000, "comment_id": 46735548, "body": "ditto scurrie&#39;s write to csv. To do a native Excel file you need MS Office app or a library. I would guess there are some sample Excel XML code snippets out there."}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "edited": false, "score": 0, "creation_date": 1427320105, "post_id": 29267132, "comment_id": 46735957, "body": "Thats the thing, I never fetched any data. I simply want to read directly from the database, to the excel file."}, {"owner": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "edited": false, "score": 0, "creation_date": 1427320447, "post_id": 29267132, "comment_id": 46736141, "body": "I&#39;ve update my question with new code that works. However, the problem with the code is that I get all the columns from the database table into the DataTable, which in turn, causes some issues with excel. How do I get only specific columns from the database?"}, {"owner": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "reply_to_user": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "edited": false, "score": 0, "creation_date": 1427321461, "post_id": 29267132, "comment_id": 46736538, "body": "@John Ahhh I got it now lol. Sorry about that, it took me a second to get what you were asking. Anyways, I updated my answer; I think a quick edit to your SQL statement should do the trick"}, {"owner": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "edited": false, "score": 0, "creation_date": 1427321871, "post_id": 29267132, "comment_id": 46736689, "body": "Yes, that got it working perfectly! Thank you for your help:)"}, {"owner": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "reply_to_user": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "edited": false, "score": 0, "creation_date": 1427322028, "post_id": 29267132, "comment_id": 46736762, "body": "No sweat @John, glad it helped!"}], "tags": [], "owner": {"reputation": 403, "user_id": 4352008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3aa392af3c976f36971f227f9ef24a2?s=128&d=identicon&r=PG&f=1", "display_name": "scurrie", "link": "https://stackoverflow.com/users/4352008/scurrie"}, "is_accepted": true, "score": 3, "last_activity_date": 1427321222, "last_edit_date": 1427321222, "creation_date": 1427319874, "answer_id": 29267132, "question_id": 29266000, "link": "https://stackoverflow.com/questions/29266000/database-data-to-excel-file-c/29267132#29267132", "title": "Database Data to Excel File (C#)", "body": "<p>If you are creating an excel doc via a web app or something similar you might check out <a href=\"http://epplus.codeplex.com/\" rel=\"nofollow\">EPPlus</a> which is available as a NuGet package and seems to do what you need. </p>\n\n<p>Otherwise take a look at the MS <a href=\"https://msdn.microsoft.com/en-us/library/dd264733.aspx\" rel=\"nofollow\">docs</a> regarding using office interop objects. Start by adding a reference for Microsoft.Office.Interop.Excel, then adding a using statement to your code:</p>\n\n<pre><code>using Excel = Microsoft.Office.Interop.Excel;\n</code></pre>\n\n<p>Then create a new excel document like this:</p>\n\n<pre><code>var excelDoc = new Excel.Application();\nexcelDoc.Visible = true;\nexcelDoc.Workbooks.Add();\nExcel._Worksheet wksht = (Excel.Worksheet)excelDoc.ActiveSheet;\n</code></pre>\n\n<p>Finally, you'll need to loop through the data you fetched from the DB and insert it somewhere:</p>\n\n<pre><code>wksht.Cells[1, \"A\"] = \"Some data\";\n</code></pre>\n\n<p>Granted, you'll likely want to use index variables that you can increment as you loop through. Hope this helps!</p>\n\n<p><strong>Edit</strong></p>\n\n<p>As far as getting the appropriate data is concerned, just make a quick edit to your SQL statement. Right now you're using:</p>\n\n<pre><code>SELECT * FROM inventory_table WHERE category = 0\n</code></pre>\n\n<p>Using * in your select statement will pull in every single column in the table. Instead you should tell it exactly what you want:</p>\n\n<pre><code>SELECT things, stuff, junk FROM inventory_table WHERE category = 0\n</code></pre>\n\n<p>Alternatively you could use Linq which I find makes cleaner code for queries:</p>\n\n<pre><code>var getThings = (from i in db.inventory_table select i.things);\n</code></pre>\n\n<p>With that you'll need to add a using statement for System.Linq as well as declare db as an ApplicationDbContext. </p>\n"}], "owner": {"reputation": 329, "user_id": 4580854, "user_type": "registered", "accept_rate": 32, "profile_image": "https://lh6.googleusercontent.com/-Ja7IWXo2Vhs/AAAAAAAAAAI/AAAAAAAAACI/TVz7BQZL9p8/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/4580854/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12502, "favorite_count": 0, "accepted_answer_id": 29267132, "answer_count": 1, "score": 0, "last_activity_date": 1427321222, "creation_date": 1427315743, "last_edit_date": 1427320329, "question_id": 29266000, "link": "https://stackoverflow.com/questions/29266000/database-data-to-excel-file-c", "title": "Database Data to Excel File (C#)", "body": "<p>I want to include an option in my program to export some data from the database to an excel file. There are multiple columns in my database table, but only two will be exported (item and quantity). The 'category' indicates which dgv the data is part of.\nBut anyways, back to the issue...how do I <strong>read</strong> data from my database to a new excel file?</p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>        private void excelToolStripMenuItem_Click(object sender, EventArgs e)\n        {\n        //EXPORT TO EXCEL\n        string fname = \"Inventory Report.xls\";\n        Workbook wb = new Workbook();\n        Worksheet ws1 = new Worksheet(\"Electrical\");\n\n        Connection();\n        sqlconnection.Open();\n\n        //string dbQuery = \"SELECT * FROM inventory_table WHERE category= 0\";\n        sqlcmd = new SqlCommand(\"SELECT * FROM inventory_table WHERE category= 0\", sqlconnection);\n\n        using (SqlDataReader sqldr = sqlcmd.ExecuteReader())\n        {\n            if (sqldr.HasRows)\n            {\n                while (sqldr.Read())\n                {\n                    //HOW DO I READ TO EXCEL???\n                }\n\n                sqldr.Close();\n                wb.Worksheets.Add(ws1);\n                wb.Save(fname);\n            }\n\n        }\n    }\n</code></pre>\n\n<p><strong>UPDATED:</strong></p>\n\n<pre><code>private void excelToolStripMenuItem_Click(object sender, EventArgs e)\n    {\n        Connection();\n        sqlconnection.Open();\n\n        using (sqlcmd = new SqlCommand(\"SELECT * FROM inventory_table WHERE category= 0\"))\n        {\n            using (SqlDataAdapter sqlda = new SqlDataAdapter())\n            {\n                sqlcmd.Connection = sqlconnection;\n                sqlda.SelectCommand = sqlcmd;\n\n                using (DataTable dt = new DataTable())\n                {\n                    sqlda.Fill(dt);\n\n                    using (XLWorkbook wb = new XLWorkbook())\n                    {\n                        string fname = \"Inventory Report.xlsx\";\n                        wb.Worksheets.Add(dt, \"inventory_table\");\n                        wb.SaveAs(fname);\n\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "bots"], "answers": [{"comments": [{"owner": {"reputation": 904, "user_id": 4383169, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6d6c4f5cd035f26cdc796212a0a5a469?s=128&d=identicon&r=PG&f=1", "display_name": "teachtyler", "link": "https://stackoverflow.com/users/4383169/teachtyler"}, "edited": false, "score": 0, "creation_date": 1427318627, "post_id": 29266475, "comment_id": 46735278, "body": "Thanks, this is perfect! I only referenced the fact I&#39;m using signalR because the bot is located under a SignalR Hub class. I was looking at using Soundex but the algorithm doesn&#39;t really work for typos without me tweaking the rules a bit."}, {"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "reply_to_user": {"reputation": 904, "user_id": 4383169, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6d6c4f5cd035f26cdc796212a0a5a469?s=128&d=identicon&r=PG&f=1", "display_name": "teachtyler", "link": "https://stackoverflow.com/users/4383169/teachtyler"}, "edited": false, "score": 0, "creation_date": 1428097651, "post_id": 29266475, "comment_id": 47048895, "body": "@majache you are correct about the matches returned with Soundex as compared to Metaphones. Metaphones have a higher match percentage. I have added an article for reference."}], "tags": [], "owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "is_accepted": false, "score": 5, "last_activity_date": 1427317457, "creation_date": 1427317457, "answer_id": 29266475, "question_id": 29265983, "link": "https://stackoverflow.com/questions/29265983/signalr-bot-only-checks-for-exact-case-message-contains-what-about-misspellings/29266475#29266475", "title": "SignalR bot only checks for exact case message.Contains. What about misspellings?", "body": "<p>Your question does not seem to be a SignalR question. It is more about matching misspelled words. There is an algorithm called the Double Metaphone that you can use to match misspelled words. It works on the principles of a phonetic match. You can read more on the algorithm here <a href=\"http://en.wikipedia.org/wiki/Metaphone#Double_Metaphone\">http://en.wikipedia.org/wiki/Metaphone#Double_Metaphone</a></p>\n\n<p>You can find a C# implementation on this link. <a href=\"https://code.google.com/p/doublemetaphone/\">https://code.google.com/p/doublemetaphone/</a></p>\n\n<p>Once you add the class from the above link to your project, you get an extension method to String variables called GenerateDoubleMetaphone()</p>\n\n<p>And then you can compare the metaphones to check for similarity. In your example, you can write your if condition like this</p>\n\n<pre><code>if (\"trigger\".GenerateDoubleMetaphone().Equals(message.GenerateDoubleMetaphone()))\n{\n//Execute code for a match\n}\n</code></pre>\n\n<p>In the example above the metaphones for \"trigger\" and \"trigr\" are both \"TRKR\" and hence will match.</p>\n"}, {"comments": [{"owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "edited": false, "score": 0, "creation_date": 1428097570, "post_id": 29435481, "comment_id": 47048869, "body": "Soundex as compared to Metaphone has drawbacks. An interesting read <a href=\"http://www.informit.com/articles/article.aspx?p=1848528\" rel=\"nofollow noreferrer\">informit.com/articles/article.aspx?p=1848528</a>"}], "tags": [], "owner": {"reputation": 92, "user_id": 4576704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06821c3f7a79a1eb9324d51d934ebc24?s=128&d=identicon&r=PG&f=1", "display_name": "Jtroberts", "link": "https://stackoverflow.com/users/4576704/jtroberts"}, "is_accepted": true, "score": 3, "last_activity_date": 1428076343, "creation_date": 1428076343, "answer_id": 29435481, "question_id": 29265983, "link": "https://stackoverflow.com/questions/29265983/signalr-bot-only-checks-for-exact-case-message-contains-what-about-misspellings/29435481#29435481", "title": "SignalR bot only checks for exact case message.Contains. What about misspellings?", "body": "<p>You can also use Soundex algorithm code to generate a simple output that can be categorized correctly.</p>\n\n<p>This is mostly used in an SQL database for finding strings that are similarly spelled. </p>\n\n<p><code>Console.WriteLine(Soundex.For(\"Trigger\"));</code> //outputs 'T626'\n<code>Console.WriteLine(Soundex.For(\"Triggr\"));</code>  //outputs 'T626'</p>\n\n<p><a href=\"https://dotnetfiddle.net/6OhjLT\" rel=\"nofollow\">https://dotnetfiddle.net/6OhjLT</a></p>\n"}], "owner": {"reputation": 904, "user_id": 4383169, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6d6c4f5cd035f26cdc796212a0a5a469?s=128&d=identicon&r=PG&f=1", "display_name": "teachtyler", "link": "https://stackoverflow.com/users/4383169/teachtyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "accepted_answer_id": 29435481, "answer_count": 2, "score": 2, "last_activity_date": 1428076343, "creation_date": 1427315673, "last_edit_date": 1427322531, "question_id": 29265983, "link": "https://stackoverflow.com/questions/29265983/signalr-bot-only-checks-for-exact-case-message-contains-what-about-misspellings", "title": "SignalR bot only checks for exact case message.Contains. What about misspellings?", "body": "<p>I have a bot that will respond to certain trigger words </p>\n\n<pre><code> if (message.Contains(\"trigger\"))\n            {\n                HandleTrigger(message);\n                return ;\n            }\n</code></pre>\n\n<p>How can I foolproof this concept with a way to allow misspellings like 'triger' or 'triggr' So that it will still hit this breakpoint and return <code>HandleTrigger(message);</code></p>\n\n<p>More code for context:</p>\n\n<pre><code>void HandleTrigger(string message)\n        {\n            if (message.Contains(\"trigger2\"))\n            {\n                ReplyMessage(viewTriggerMessage);\n                ReplyMessage(repeatMessage);\n                return;\n            }\n            if (message.Contains(\"trigger3\"))\n            {\n                ReplyMessage(anotherMyTriggerMessage);\n                return;\n            }\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 1526, "user_id": 4555964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIHu1.jpg?s=128&g=1", "display_name": "Matthew Jaspers", "link": "https://stackoverflow.com/users/4555964/matthew-jaspers"}, "edited": false, "score": 0, "creation_date": 1427315481, "post_id": 29265881, "comment_id": 46733583, "body": "What are you doing with all of the timezones that you need to know which one is Hawaii and which one is Alaska? In other words, how are tziHawaii and tziAlaska used later on?"}, {"owner": {"reputation": 3, "user_id": 4713927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e21b8a3a858773245e28e660601765a?s=128&d=identicon&r=PG&f=1", "display_name": "Moggy", "link": "https://stackoverflow.com/users/4713927/moggy"}, "reply_to_user": {"reputation": 1526, "user_id": 4555964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IIHu1.jpg?s=128&g=1", "display_name": "Matthew Jaspers", "link": "https://stackoverflow.com/users/4555964/matthew-jaspers"}, "edited": false, "score": 0, "creation_date": 1427438313, "post_id": 29265881, "comment_id": 46785372, "body": "@BenJaspers Thanks for your comment. I am building a Windows application that displays the time for each user-selected time zone and the relative time difference between the time zones at any time of the year (daylight savings time of course entering the mix). Difficult to explain but the application makes use of the TimeZoneInfo variables every few seconds to update the times that are displayed by the application."}], "answers": [{"tags": [], "owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "is_accepted": false, "score": 0, "last_activity_date": 1427315600, "creation_date": 1427315600, "answer_id": 29265959, "question_id": 29265881, "link": "https://stackoverflow.com/questions/29265881/how-to-create-an-array-of-timezoneinfo-variables/29265959#29265959", "title": "How to create an array of TimeZoneInfo variables", "body": "<p>The <a href=\"https://msdn.microsoft.com/en-us/library/system.timezoneinfo.getsystemtimezones(v=vs.110).aspx\" rel=\"nofollow\">TimeZoneInfo.GetSystemTimeZones</a> method will return a sorted collection of all the time zones about which information is available on the local system.</p>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>The GetSystemTimeZones method retrieves all available time zone\n  information from the subkeys of the registry's\n  HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Time\n  Zones key. If it is unable to successfully retrieve and parse values\n  for particular string properties of individual TimeZoneInfo objects,\n  this method sets their value to an empty string (\"\").</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1547, "user_id": 2719563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0d9c8ed4a848126941fd31d3322978?s=128&d=identicon&r=PG&f=1", "display_name": "Shahzad Qureshi", "link": "https://stackoverflow.com/users/2719563/shahzad-qureshi"}, "is_accepted": true, "score": 0, "last_activity_date": 1427315815, "creation_date": 1427315815, "answer_id": 29266021, "question_id": 29265881, "link": "https://stackoverflow.com/questions/29265881/how-to-create-an-array-of-timezoneinfo-variables/29266021#29266021", "title": "How to create an array of TimeZoneInfo variables", "body": "<p>I agree that TimeZoneInfo.GetSystemTimeZones() may be what you want, but if you must do it manually for some reason like you first asked, then this is the code to do it:</p>\n\n<pre><code>List&lt;string&gt; arrWindowsTimeZones = new List&lt;string&gt;() { \"Hawaiian Standard Time\", \"Alaskan Standard Time\", \"Pacific Standard Time\", \"Central Standard Time\" };\nList&lt;TimeZoneInfo&gt; arrTimeZoneInfo = new List&lt;TimeZoneInfo&gt;();\n\nforeach (string zoneString in arrWindowsTimeZones)\n{\n    arrTimeZoneInfo.Add(TimeZoneInfo.FindSystemTimeZoneById(zoneString));\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4713927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e21b8a3a858773245e28e660601765a?s=128&d=identicon&r=PG&f=1", "display_name": "Moggy", "link": "https://stackoverflow.com/users/4713927/moggy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 29266021, "answer_count": 2, "score": 0, "last_activity_date": 1427315815, "creation_date": 1427315322, "question_id": 29265881, "link": "https://stackoverflow.com/questions/29265881/how-to-create-an-array-of-timezoneinfo-variables", "title": "How to create an array of TimeZoneInfo variables", "body": "<p>As a beginner in C#, I am trying to improve my code by shortening wherever possible.  I have written a Windows Time Zone application that defines and populates a large number of TimeZoneInfo variables. The problem is there are nearly 90 time zones in use and so my current way of doing this seems cumbersome.  Is it possible to loop using arrays to achieve what 180 lines of code does here?  </p>\n\n<p>In addition to brevity, I also want to be able to trap any error caused by a particular time zone not being defined in the user's PC's registry. Having to wrap each TimeZoneInfo.FindSystemTimeZoneById() in try catch blocks seems extremely clumsy and not the right way to do this. My thought was that a looping structure would make it much easier to trap a specific error.</p>\n\n<pre><code>//Declare the TimeZoneInfo variables: \nTimeZoneInfo tziHawaii;           \nTimeZoneInfo tziAlaska;          \nTimeZoneInfo tziPacific;           \nTimeZoneInfo tziCentral;            \n....\n\n// Populate each TimeZoneInfo variable with relevant info:\ntziHawaii = TimeZoneInfo.FindSystemTimeZoneById(\"Hawaiian Standard Time\");          \ntziAlaska = TimeZoneInfo.FindSystemTimeZoneById(\"Alaskan Standard Time\");           \ntziPacific = TimeZoneInfo.FindSystemTimeZoneById(\"Pacific Standard Time\");          \ntziCentral = TimeZoneInfo.FindSystemTimeZoneById(\"Central Standard Time\");\n....\n</code></pre>\n\n<p>I have attempted to create a looped structure to do what 180 lines of code does above but it doesn't work.  I just cannot see how to create an array of named TimeZoneInfo variables as in the above excerpt (tziHawaii, tziAlaska, etc).  </p>\n\n<p>If anyone could point out the error of my ways, I would be very happy.</p>\n\n<pre><code>string[] arrWindowsTimeZones = new string[] { \"Hawaiian Standard Time\", \"Alaskan Standard Time\", \"Pacific Standard Time\", \"Central Standard Time\" };\nTimeZoneInfo[] arrTimeZoneInfo = new TimeZoneInfo[] { DON'T KNOW WHAT TO PUT HERE} ;\n\nfor (int i = 0; i &lt; arrWindowsTimeZones.GetUpperBound(0) + 1; i++)\n\n{\n    arrTimeZoneInfo[i] = TimeZoneInfo.FindSystemTimeZoneById(arrWindowsTimeZones[i]);\n}\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1427315390, "post_id": 29265866, "comment_id": 46733517, "body": "do you have an app.config in your built folder?"}, {"owner": {"reputation": 53946, "user_id": 113794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7fbfca0882062e4be43e0ee3514c6338?s=128&d=identicon&r=PG", "display_name": "Rubens Farias", "link": "https://stackoverflow.com/users/113794/rubens-farias"}, "edited": false, "score": 3, "creation_date": 1427315396, "post_id": 29265866, "comment_id": 46733522, "body": "Your .config must have same name as your executable (and VS do that automagically); so &quot;sample.exe&quot; will get those values from &quot;sample.exe.config&quot;; can you confirm both files are in the same folder?"}, {"owner": {"reputation": 3213, "user_id": 2077827, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SZZp7.jpg?s=128&g=1", "display_name": "btevfik", "link": "https://stackoverflow.com/users/2077827/btevfik"}, "edited": false, "score": 0, "creation_date": 1427315416, "post_id": 29265866, "comment_id": 46733535, "body": "app.config needs to be at same place with .exe"}, {"owner": {"reputation": 4801, "user_id": 594832, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/34d4defb1a72ea6ab5d499831c745605?s=128&d=identicon&r=PG", "display_name": "khlr", "link": "https://stackoverflow.com/users/594832/khlr"}, "edited": false, "score": 0, "creation_date": 1427315498, "post_id": 29265866, "comment_id": 46733592, "body": "It&#39;s a really bad idea to store passwords in a config.."}, {"owner": {"reputation": 3390, "user_id": 1873073, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3bdd8cbf42b8582508f4adcc89c900b4?s=128&d=identicon&r=PG", "display_name": "user1873073", "link": "https://stackoverflow.com/users/1873073/user1873073"}, "edited": false, "score": 0, "creation_date": 1427315656, "post_id": 29265866, "comment_id": 46733682, "body": "Rubens, that was it. Thank you!"}, {"owner": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "edited": false, "score": 0, "creation_date": 1515533321, "post_id": 29265866, "comment_id": 83333805, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8163311/problems-while-reading-value-from-app-config-file\">Problems while reading value from app.config file</a>"}], "owner": {"reputation": 3390, "user_id": 1873073, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/3bdd8cbf42b8582508f4adcc89c900b4?s=128&d=identicon&r=PG", "display_name": "user1873073", "link": "https://stackoverflow.com/users/1873073/user1873073"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427315278, "creation_date": 1427315278, "question_id": 29265866, "link": "https://stackoverflow.com/questions/29265866/how-do-you-get-an-app-config-value-when-not-debugging", "title": "How do you get an app.config value when not debugging?", "body": "<p>I have a console application that stores credentials in app.config. Everything works fine if I open the solution and press F5 to debug it. But if I double click on the executable directly it crashes (because it can't read the values).</p>\n\n<p>The app.config file is very simple</p>\n\n<pre><code>  &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n  &lt;configuration&gt;\n    &lt;appSettings&gt;\n      &lt;add key=\"username\" value=\"foo\" /&gt;\n      &lt;add key=\"password\" value=\"bar\" /&gt;\n    &lt;/appSettings&gt;\n  &lt;/configuration&gt;\n</code></pre>\n\n<p>and read by </p>\n\n<pre><code>string username = ConfigurationManager.AppSettings[\"username\"];\nstring password = ConfigurationManager.AppSettings[\"password\"];\n</code></pre>\n\n<p>But it never reads the values unless I am running the program through Visual Studio.</p>\n"}, {"tags": ["c#", ".net", "opengl", "3d"], "comments": [{"owner": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1427362223, "post_id": 29265856, "comment_id": 46748948, "body": "Another way of doing it is to have something called a &quot;pick render&quot;, where you render your scene to an off-screen buffer giving each entity a different colour (or ID) you then get the pixel at the mouse position to work out what was hit (and from the mouse coordinates, where in space it was hit)."}], "answers": [{"tags": [], "owner": {"reputation": 413, "user_id": 3659104, "user_type": "registered", "profile_image": "https://graph.facebook.com/1313178868/picture?type=large", "display_name": "Dimo Markov", "link": "https://stackoverflow.com/users/3659104/dimo-markov"}, "is_accepted": false, "score": 0, "last_activity_date": 1427385360, "creation_date": 1427385360, "answer_id": 29283171, "question_id": 29265856, "link": "https://stackoverflow.com/questions/29265856/how-do-i-convert-a-set-of-lines-that-are-not-intersecting-into-a-maintainable-po/29283171#29283171", "title": "How do I convert a set of lines that are not intersecting into a maintainable polygon (triangle)?", "body": "<p>You can treat each line segment as a cylinder, and check them for collision.\n<a href=\"http://www.3dkingdoms.com/selection.html\" rel=\"nofollow\">Here's the math, as well as more alternatives</a>.</p>\n"}], "owner": {"reputation": 828, "user_id": 294099, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/6f2d9db009a34fa9b4ad736824631ccf?s=128&d=identicon&r=PG", "display_name": "Dan Gifford", "link": "https://stackoverflow.com/users/294099/dan-gifford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427385360, "creation_date": 1427315216, "last_edit_date": 1427316171, "question_id": 29265856, "link": "https://stackoverflow.com/questions/29265856/how-do-i-convert-a-set-of-lines-that-are-not-intersecting-into-a-maintainable-po", "title": "How do I convert a set of lines that are not intersecting into a maintainable polygon (triangle)?", "body": "<p>I have an application I'm working on that requires a fair amount of 3D graphics programming.  I have a series of lines that create both text and 3D cylindrical holes (see images).<img src=\"https://i.stack.imgur.com/NuAm2.png\" alt=\"Text\"><img src=\"https://i.stack.imgur.com/qr0ea.png\" alt=\"enter image description here\"></p>\n\n<p>I would like to be able to click and drag the objects in question using my mouse through the X,Y plane (Z constant).  My understanding is that in order for the bounding boxes to be setup correctly, I have to have everything in using 3D polygons (triangles).  I would like to be able to do collision detection without this conversion.  Is this possible?  If I must convert, can anyone point me to a piece of code that does this rather painlessly?</p>\n"}, {"tags": ["c#", "asp.net", "c#-4.0"], "comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1427317123, "post_id": 29265852, "comment_id": 46734480, "body": "What is <code>privatePath</code>? That looks like a variable name for some function but you never told us what function you are calling. Are you talking about <code>lpPathName</code> from <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms686203(v=vs.85).aspx\" rel=\"nofollow noreferrer\">SetDllDirectory</a>?"}, {"owner": {"reputation": 1066, "user_id": 146136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ebccace92bf7a50532b9ff270483ff5f?s=128&d=identicon&r=PG", "display_name": "seraphym", "link": "https://stackoverflow.com/users/146136/seraphym"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1427317253, "post_id": 29265852, "comment_id": 46734557, "body": "Info on privatePath here: <a href=\"https://msdn.microsoft.com/en-us/library/4191fzwb%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/4191fzwb%28v=vs.110%29.aspx</a>"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1427318486, "post_id": 29265852, "comment_id": 46735212, "body": "Please include that information in the question itself instead of just in the comments."}], "answers": [{"tags": [], "owner": {"reputation": 1066, "user_id": 146136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ebccace92bf7a50532b9ff270483ff5f?s=128&d=identicon&r=PG", "display_name": "seraphym", "link": "https://stackoverflow.com/users/146136/seraphym"}, "is_accepted": true, "score": 0, "last_activity_date": 1532731449, "creation_date": 1532731449, "answer_id": 51566420, "question_id": 29265852, "link": "https://stackoverflow.com/questions/29265852/how-can-i-get-a-list-of-all-dlls-searchable-via-probing-privatepath/51566420#51566420", "title": "How can I get a list of all DLLs searchable via probing privatePath?", "body": "<p>This information is available via the AppDomain's SetupInformation</p>\n\n<pre><code>SetupInformation.PrivateBinPathProbe\nSetupInformation.PrivateBinPath\n</code></pre>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.appdomainsetup(v=vs.110).aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.appdomainsetup(v=vs.110).aspx</a></p>\n"}], "owner": {"reputation": 1066, "user_id": 146136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ebccace92bf7a50532b9ff270483ff5f?s=128&d=identicon&r=PG", "display_name": "seraphym", "link": "https://stackoverflow.com/users/146136/seraphym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 51566420, "answer_count": 1, "score": 0, "last_activity_date": 1532731449, "creation_date": 1427315212, "question_id": 29265852, "link": "https://stackoverflow.com/questions/29265852/how-can-i-get-a-list-of-all-dlls-searchable-via-probing-privatepath", "title": "How can I get a list of all DLLs searchable via probing privatePath?", "body": "<p>A probing path is being used to specify define locations of various integration dlls. </p>\n\n<p>Is there a simple means to get a list of every dll filename that the probing privatePath will make available when assemblies are loaded?</p>\n"}, {"tags": ["c#", "report", "conditional-statements", "activereports"], "comments": [{"owner": {"reputation": 323, "user_id": 4713681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f395ce3359206ca1c7c3a4529fae31be?s=128&d=identicon&r=PG&f=1", "display_name": "LaLaLottie", "link": "https://stackoverflow.com/users/4713681/lalalottie"}, "edited": false, "score": 0, "creation_date": 1427333795, "post_id": 29265783, "comment_id": 46740373, "body": "Update: Using this one,    if (Convert.ToBoolean(rpt.Fields[&quot;Custom_163&quot;].Value) ==  true)    seems to work, but I&#39;m stuck on figuring out how to return the values again."}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 4713681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f395ce3359206ca1c7c3a4529fae31be?s=128&d=identicon&r=PG&f=1", "display_name": "LaLaLottie", "link": "https://stackoverflow.com/users/4713681/lalalottie"}, "edited": false, "score": 0, "creation_date": 1427396055, "post_id": 29268570, "comment_id": 46770577, "body": "Thank you for your answer.  I figured out a way to make it all work with an expression above."}], "tags": [], "owner": {"reputation": 26, "user_id": 4714468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1013e579c8a83dff853daef610d10e0b?s=128&d=identicon&r=PG", "display_name": "Brett Goldman", "link": "https://stackoverflow.com/users/4714468/brett-goldman"}, "is_accepted": false, "score": 0, "last_activity_date": 1427326724, "creation_date": 1427326724, "answer_id": 29268570, "question_id": 29265783, "link": "https://stackoverflow.com/questions/29265783/axosoft-report-builder-active-reports-3-conditional-results-depending-on-fie/29268570#29268570", "title": "Axosoft Report Builder (Active Reports 3) - Conditional Results Depending on Field Value", "body": "<p>You should be able to do a string compare against \"True\".  i.e. </p>\n\n<p>if(string.Compare(rpt.Fields[\"Custom_163\"].Value.ToString(),  \"True\") == 0)</p>\n"}, {"tags": [], "owner": {"reputation": 323, "user_id": 4713681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f395ce3359206ca1c7c3a4529fae31be?s=128&d=identicon&r=PG&f=1", "display_name": "LaLaLottie", "link": "https://stackoverflow.com/users/4713681/lalalottie"}, "is_accepted": true, "score": 0, "last_activity_date": 1465914438, "last_edit_date": 1465914438, "creation_date": 1427396829, "answer_id": 29286881, "question_id": 29265783, "link": "https://stackoverflow.com/questions/29265783/axosoft-report-builder-active-reports-3-conditional-results-depending-on-fie/29286881#29286881", "title": "Axosoft Report Builder (Active Reports 3) - Conditional Results Depending on Field Value", "body": "<p>I figured out what the issue was. </p>\n\n<p>So basically...</p>\n\n<pre><code>if (Convert.ToBoolean(rpt.Fields[\"Custom_163\"].Value) ==  true)\n{\n    enhanceTotal++;\n}\nelse\n{\n    maintenTotal++;      \n}\n\n_defectsTotal++;\n</code></pre>\n\n<p>(This is all within another if-statement and a bunch of code not relevant to issue.) This works fine and actually returns the count, after that another hurdle was figuring out the labels so it can print into it's placeholders correctly.  The whole findTotals method wasn't needed.  I didn't need any more variables than the three listed above to make it work.  A reason I kept on getting errors was because I tried to use one variable as a label to print into different places within the report which isn't allowed apparently.  Instead of using one label and sticking it everywhere, I made several that were identical and made sure to give them different names, etc.</p>\n\n<p>So instead of X in three different report sections, X was X, Y, Z (all identical but different identifer) and stuck it where needed.  Man, it seems to obvious now, well thanks again. </p>\n"}], "owner": {"reputation": 323, "user_id": 4713681, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f395ce3359206ca1c7c3a4529fae31be?s=128&d=identicon&r=PG&f=1", "display_name": "LaLaLottie", "link": "https://stackoverflow.com/users/4713681/lalalottie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 29286881, "answer_count": 2, "score": 0, "last_activity_date": 1465914438, "creation_date": 1427314944, "question_id": 29265783, "link": "https://stackoverflow.com/questions/29265783/axosoft-report-builder-active-reports-3-conditional-results-depending-on-fie", "title": "Axosoft Report Builder (Active Reports 3) - Conditional Results Depending on Field Value", "body": "<p>I am trying to create a custom report using Axosoft's Report Builder though I have one big issue to tackle.  The report will contain calculated totals and counts of the specific items that are pulled in from the database to display.  One such field (Custom_163) is a boolean where <strong>true</strong> will have it be one type of item (Enhancement) while <strong>false</strong> will have it as another (Maintenance).  I am able to get a count of the total amount of items in the report, but I want to break it down as percentages of the total. </p>\n\n<p><strong>Problem:</strong> One boolean field will determine two types of items.  Differentiating between them to gather a count of each is where I'm struggling.</p>\n\n<p><strong>Initialized Variables:</strong> </p>\n\n<pre><code>private bool _oddRow = true;\n\nprivate string[] _labels = new string[3];\n\nprivate int _defectsTotal = 0;\nprivate int _enhanceTotal = 0;\nprivate int _maintenTotal = 0;\n</code></pre>\n\n<p><strong>Detail Section (where it's creating the rows for the items):</strong></p>\n\n<pre><code>public void Detail1_Format()\n{\n    if  (rpt.Fields.Contains(\"Custom_163\") &amp;&amp; rpt.Fields[\"Custom_163\"].Value != null)\n    {\n        if ((bool)rpt.Fields[\"Custom_163\"].Value == true)\n        {\n            //needs something here to add a count towards this type\n            return enhanceTotal;\n        }\n        else\n        {\n            //needs something here to add a count towards this type\n            return maintenTotal;\n        }\n\n        _defectsTotal++;\n        _enhanceTotal += enhanceTotal;\n        _maintenTotal += maintenTotal;\n\n        // To Color Every Other Row\n        if (_oddRow)\n        {\n            rpt.Sections[\"Detail1\"].BackColor = System.Drawing.Color.FromArgb(224, 224, 224);\n        }\n        else\n        {   \n            rpt.Sections[\"Detail1\"].BackColor = System.Drawing.Color.White;\n        }\n        _oddRow = !_oddRow;     \n\n        // Converting to String Values\n        if (rpt.Fields[\"ItemId\"].Value == null) return; \n    }\n}\n</code></pre>\n\n<p><strong>The problem is specifically with these lines:</strong></p>\n\n<pre><code>if((bool)rpt.Fields[\"Custom_163\"].Value == true)\n</code></pre>\n\n<p>I've changed this a ton from similar conditions:</p>\n\n<pre><code>if(rpt.Fields[\"Custom_163\"].Value.ToString() == \"True\")\nif(rpt.Fields[\"Custom_163\"].Value == true)\nif(rpt.Fields[\"Custom_163\"].Value = true)\nif(rpt.Fields[\"Custom_163\"].Value == 1)\nif(rpt.Fields[\"Custom_163\"].Value.ToString() == \"1\")\nif (Convert.ToBoolean(rpt.Fields[\"Custom_163\"].Value) ==  true)\netc...\n</code></pre>\n\n<p>But they don't seem to work as intended.  I want it to filter out the items where this field is <strong>true</strong> so the rest will execute.</p>\n\n<p>Another thing is returning the values from the if-else statement (not working and I've tried using a separate method below that doesn't work either):</p>\n\n<pre><code>public class findTotals\n{\n    public findTotals()\n    {\n    }\n    public int resultTotals()\n    {\n        bool item = (bool)rpt.Fields[\"Custom_163\"].Value;\n\n        if ( item == true)\n        {\n            int enhanceTotal = 1;\n            return; \n        }\n        else\n        {\n            int maintenTotal = 1;\n            return;\n        }\n    }\n}\n</code></pre>\n\n<p>(This whole method needs a ton of work TBH). </p>\n\n<p>Lastly, these lines has to be outside of the second if-else or at least somehow returned to the original if in order to be printed to the report: </p>\n\n<pre><code>_enhanceTotal += enhanceTotal;\n_maintenTotal += maintenTotal;\n</code></pre>\n\n<p>The _defectsTotal gets a total count of all the items and that works fine.  These two lines though are supposed to add a count based on the above conditions for each type so then the total amount of Enhancements and total amount of Maintenance Items get posted at the end of the report. It doesn't work, if not a casting/conversion error or the conditions force the array(s) out of bounds, it's some other issue. I've played around the order for all these too.</p>\n\n<p><strong>Possible Solutions?</strong></p>\n\n<ol>\n<li><p>How to safely convert (if needed) the bool values to int so that number can be used to add to a total?</p></li>\n<li><p>How can I return the values in the if-else so the scope matches up with the variables? Will I need a method?</p></li>\n</ol>\n\n<p><strong>Thank you in advance</strong>. </p>\n"}, {"tags": ["c#", "multithreading", "winforms"], "answers": [{"comments": [{"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 1, "creation_date": 1427315144, "post_id": 29265792, "comment_id": 46733372, "body": "Thanks for the answer. Another question about order -- what is the best practice to show &quot;loading&quot; animation and the result then? Is there any chance that the user will see the result before &quot;loading&quot; animation?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1427316880, "post_id": 29265792, "comment_id": 46734336, "body": "The best way to show a loading animation is you turn on the animation before you start the background work, once the work is done and you have a result you go back to the UI thread and stop the animation and show the result in the same function call. The UI won&#39;t repaint between the steps because you are on the UI thread so the user should never see a time where the animation is not running but the results are not available."}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1427317129, "post_id": 29265792, "comment_id": 46734488, "body": "I already do it this way via <code>BeginInvoke</code> method call but as you said the order of this requests to the UI thread is not guaranteed and the code that shows &quot;loading&quot; animation may appear earlier than the results&#39; representation, am I right?"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1427320220, "post_id": 29265792, "comment_id": 46736017, "body": "@FrozenHeart see my updated answer with a detailed response to your comment."}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1427344740, "post_id": 29265792, "comment_id": 46742936, "body": "Actually I need to set <code>DocumentText</code> property of the <code>WebBrowser</code> control with the &quot;loading&quot; gif, do some calculations and show the result in the same WebBrowser control"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1427388152, "post_id": 29265792, "comment_id": 46765993, "body": "Ok, that does not change the logic at all. replace <code>animationTimer.Start();</code> with the code that sets the gif and <code>animationTimer.Stop(); this.label.Text = result;</code> with the code that removes the gif and sets the page content."}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1427405442, "post_id": 29265792, "comment_id": 46775669, "body": "But as you said these actions can be processed by the UI thread in any order"}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "reply_to_user": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 1, "creation_date": 1427406061, "post_id": 29265792, "comment_id": 46775946, "body": "Yes, multiple BeginInvoke could be in any order. <b>But I only used a single BeginInvoke</b>. The Gif would be set by the UI thread before you start the background thread then a single BeginInvoke would happen unsetting the gif and loading the content at a later point."}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "edited": false, "score": 0, "creation_date": 1427444362, "post_id": 29265792, "comment_id": 46787687, "body": "In my case it&#39;s impossible because I should start background thread from the COM event, not the UI thread. What can I do in this case?"}], "tags": [], "owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "is_accepted": false, "score": 3, "last_activity_date": 1427318235, "last_edit_date": 1427318235, "creation_date": 1427314985, "answer_id": 29265792, "question_id": 29265733, "link": "https://stackoverflow.com/questions/29265733/controls-synchronization-between-several-threads-in-windows-forms/29265792#29265792", "title": "Controls synchronization between several threads in Windows Forms", "body": "<p>Calling <code>BeginInvoke</code> puts the delegate on to the message queue to be processed by the UI thread, it will process the queue handling the messages one by one. So no, you do not need to do any additional synchronization (as long as the delegate is not accessing any resources that can't be accessed from the UI thread).</p>\n\n<p>As for order, it is not guaranteed they will be processed in order but in practice most of the time the delegates will be processed in the order they where put in to the queue.</p>\n\n<hr>\n\n<p>To address the question in the comments, instead of using multiple <code>BeginInvoke</code> calls you should be able to get away with just one.</p>\n\n<p>You never really explained what your animation was so I am going to assume it is going to be that <code>this.label</code> will swap between <code>.</code>, <code>..</code> and <code>...</code> then you store the result text in <code>this.label</code> when you are done.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n\n        animationTimer = new System.Windows.Forms.Timer();\n        animationTimer.Interval = 500;\n        animationTimer.Tick += animationTimer_Tick;\n    }\n\n    private System.Windows.Forms.Timer animationTimer;\n    private int dots = 0;\n\n    void animationTimer_Tick(object sender, EventArgs e)\n    {\n        //Make 1, 2, or 3 dots show up. This runs on the UI thread so we don't need to invoke.\n        this.label.Text = new String('.', dots + 1);\n\n        //Add one then reset to 0 if we reach 3.\n        dots += 1;\n        dots = dots % 3;\n\n    }\n\n    private void button1_Click(object sender, EventArgs e)\n    {\n        animationTimer.Start();\n        Task.Run(() =&gt; DoSomeSlowCalcuation());\n    }\n\n    private void DoSomeSlowCalcuation()\n    {\n        Thread.Sleep(5000);\n\n        this.BeginInvoke((MethodInvoker)delegate()\n        {\n            //We stop the timer before we set the text so the timer will not overwrite it.\n            animationTimer.Stop();\n            this.label.Text = \"Some text\";\n        });\n    }\n}\n</code></pre>\n\n<p>This code is just a example to get my point across, if I where doing this I would use async/await for the button click and not use BeginInvoke at all.</p>\n\n<pre><code>    private async void button1_Click(object sender, EventArgs e)\n    {\n        animationTimer.Start();\n\n        var result = await Task.Run(() =&gt; DoSomeSlowCalcuation());\n\n        animationTimer.Stop();\n        this.label.Text = result;\n    }\n\n    private string DoSomeSlowCalcuation()\n    {\n        Thread.Sleep(5000);\n\n        return \"Some text\";\n    }\n</code></pre>\n"}], "owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1427318235, "creation_date": 1427314765, "question_id": 29265733, "link": "https://stackoverflow.com/questions/29265733/controls-synchronization-between-several-threads-in-windows-forms", "title": "Controls synchronization between several threads in Windows Forms", "body": "<p>I have some controls on the form of the Windows Forms application and I need to update its' texts at run-time from several threads.</p>\n\n<p>Is it safe to just call <code>BeginInvoke</code> method like this:</p>\n\n<pre><code>BeginInvoke((MethodInvoker)delegate()\n{\n    this.label.Text = \"Some text\";\n});\n</code></pre>\n\n<p>from several threads at the same time? Should I do any additional synchronization in this case? Will it be processed by the same thread one by one and is this order guaranteed?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c#", "xml", "linq"], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "reply_to_user": {"reputation": 3, "user_id": 4713870, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152896520738402/picture?type=large", "display_name": "Can Okutan", "link": "https://stackoverflow.com/users/4713870/can-okutan"}, "edited": false, "score": 0, "creation_date": 1427315592, "post_id": 29265831, "comment_id": 46733650, "body": "@CanOkutan your welcome and welcome to Stack Overflow :)"}], "tags": [], "owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "is_accepted": true, "score": 0, "last_activity_date": 1427315119, "creation_date": 1427315119, "answer_id": 29265831, "question_id": 29265700, "link": "https://stackoverflow.com/questions/29265700/duplicate-values-in-xml-database/29265831#29265831", "title": "Duplicate values in Xml database", "body": "<p>you're comparing the value of an XElement, \"x\", to userName.</p>\n\n<p>you should compare the \"name\" attribute of x to it.</p>\n\n<pre><code>var duplicate = doc.Element(\"Players\").Elements(\"player\").Where(x =&gt; (string)x.Attribute(\"name\").Value == userName).SingleOrDefault();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "edited": false, "score": 1, "creation_date": 1427315970, "post_id": 29265834, "comment_id": 46733844, "body": "your explanation is better than mine. so +1"}], "tags": [], "owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "is_accepted": false, "score": 2, "last_activity_date": 1427316297, "last_edit_date": 1427316297, "creation_date": 1427315132, "answer_id": 29265834, "question_id": 29265700, "link": "https://stackoverflow.com/questions/29265700/duplicate-values-in-xml-database/29265834#29265834", "title": "Duplicate values in Xml database", "body": "<p>\"can\" is defined as a attribute in your XML; It is not a value. Value is something which comes in between open and closing tags of xml.</p>\n\n<p>For example, if you have a xml element like this</p>\n\n<pre><code>&lt;SomeTag name=\"somename\"&gt;Hello world&lt;/SomeTag&gt;\n</code></pre>\n\n<p>Then, <code>SomeTag</code> is the element name, <code>somename</code> is the attribute value of attribute \"name\" and \"Hello world\" is the value of the xml element itself.</p>\n\n<p>So, You need to find the attribute using <code>Attribute</code> method to access its value.</p>\n\n<pre><code>var duplicate = doc.Element(\"Players\")\n                    .Elements(\"player\")\n                    .Where(x=&gt;x.Attribute(\"name\").Value == userName)\n                    .SingleOrDefault();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9793, "user_id": 2391169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47b9c6b03a46672d5698ec565319c072?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/2391169/david"}, "is_accepted": false, "score": 1, "last_activity_date": 1427315213, "creation_date": 1427315213, "answer_id": 29265853, "question_id": 29265700, "link": "https://stackoverflow.com/questions/29265700/duplicate-values-in-xml-database/29265853#29265853", "title": "Duplicate values in Xml database", "body": "<p>You're iterating over the <a href=\"https://msdn.microsoft.com/en-us/library/system.xml.xmlnode.value%28v=vs.110%29.aspx\" rel=\"nofollow\"><code>Value</code></a> of each <code>player</code> element, rather than the Attributes of those elements. Since there's no text inside the <code>player</code> element, the <code>value</code> is always an empty string, and thus never matched the name you're looking for. Instead, select the <a href=\"https://msdn.microsoft.com/en-us/library/acwfyhc7(v=vs.110).aspx\" rel=\"nofollow\"><code>.GetAttribute(\"name\")</code></a> for each element</p>\n\n<pre><code>var duplicate = doc\n    .Element(\"Players\")\n    .Elements(\"player\")\n    .Select(ele =&gt; ele.GetAttribute(\"name\"))\n    .Where(att =&gt;(string)att.Value == userName)\n    .SingleOrDefault();\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4713870, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152896520738402/picture?type=large", "display_name": "Can Okutan", "link": "https://stackoverflow.com/users/4713870/can-okutan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 29265831, "answer_count": 3, "score": 0, "last_activity_date": 1427316297, "creation_date": 1427314681, "question_id": 29265700, "link": "https://stackoverflow.com/questions/29265700/duplicate-values-in-xml-database", "title": "Duplicate values in Xml database", "body": "<p>I need to insert only unique values in my XML database based on the \"userName\" value. For example there can't be two players which has same name in the database. The implementation of my xml database which is named as \"MyXML.xml\" is like that :</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n      &lt;Players&gt;\n         &lt;player name=\"cag\" score=\"5555\" /&gt;\n         &lt;player name=\"cihan\" score=\"1222\" /&gt;\n         &lt;player name=\"can\" score=\"333\" /&gt;\n     &lt;/Players&gt;\n</code></pre>\n\n<p>and my related code in order to detetect duplication is:</p>\n\n<pre><code>      public bool insertUserDetails(string userName,float userScore){\n\n\n           XDocument doc = Document.Load(HttpContext.Current.Server.MapPath(\"MyXML.xml\"));\n\n           var duplicate = doc.Element(\"Players\").Elements(\"player\").Where(x =&gt;(string)x.Value == userName).SingleOrDefault();\n\n           if (duplicate != null){\n\n               return false;\n\n          }\n          else{\n               return true;\n         }\n     }\n</code></pre>\n\n<p>when I try to insert a duplicate value for example \"can\" and \"333\",  var duplicate value turns out to be null. How can I fix this problem ?</p>\n"}, {"tags": ["c#", "standard-deviation"], "comments": [{"owner": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "edited": false, "score": 0, "creation_date": 1427314927, "post_id": 29265626, "comment_id": 46733249, "body": "Are you sure the <code>period</code> is never 0? Troubleshoot this a bit yourself. At what point does it become NaN in your loop (i.e. after how many iterations). Is it positive or negative infinity? Have any of the other values used in the calculation at the line <code>var stdev = ...</code> become NaN at that point?"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1427315950, "post_id": 29265626, "comment_id": 46733827, "body": "It seems to me that what you need is not the answer to this particular question, but rather to spend some time and learn to debug your code. Instrument the code and work out which operation leads to the problem? Narrow the problem down?"}, {"owner": {"reputation": 311, "user_id": 4713868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/57252cb427e79a228781ce144ce55e06?s=128&d=identicon&r=PG&f=1", "display_name": "endeffects", "link": "https://stackoverflow.com/users/4713868/endeffects"}, "edited": false, "score": 0, "creation_date": 1427317405, "post_id": 29265626, "comment_id": 46734637, "body": "thanks, but after a few iterations the parameters have the following values:  total_squares = 18.42483; total_average = 19.19628; period = 20; which ends up in a NaN"}, {"owner": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "edited": false, "score": 0, "creation_date": 1427317619, "post_id": 29265626, "comment_id": 46734751, "body": "using those numbers: <code>total_squares - Math.Pow(total_average,2)&#47;period</code> is <code>-0.00002829192</code>. I.e. a negative number that you are taking the square root of. That will result in NaN."}, {"owner": {"reputation": 311, "user_id": 4713868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/57252cb427e79a228781ce144ce55e06?s=128&d=identicon&r=PG&f=1", "display_name": "endeffects", "link": "https://stackoverflow.com/users/4713868/endeffects"}, "edited": false, "score": 0, "creation_date": 1427317977, "post_id": 29265626, "comment_id": 46734930, "body": "so the problem belongs to the last code line? total_squares -= Math.Pow(data.Values[i - period + 1][&quot;close&quot;], 2);"}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 1, "creation_date": 1427331299, "post_id": 29265626, "comment_id": 46739794, "body": "Just as an aside - it appears that the <code>ref</code> in the parameter list is unnecessary."}, {"owner": {"reputation": 96653, "user_id": 259769, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/0iE2z.jpg?s=128&g=1", "display_name": "Enigmativity", "link": "https://stackoverflow.com/users/259769/enigmativity"}, "edited": false, "score": 0, "creation_date": 1427331532, "post_id": 29265626, "comment_id": 46739853, "body": "This code also has an error when <code>period</code> &gt; <code>data.Count</code> - The average is then wrong."}], "answers": [{"tags": [], "owner": {"reputation": 7120, "user_id": 168610, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JGCpk.png?s=128&g=1", "display_name": "davbryn", "link": "https://stackoverflow.com/users/168610/davbryn"}, "is_accepted": false, "score": -1, "last_activity_date": 1427315245, "creation_date": 1427315245, "answer_id": 29265861, "question_id": 29265626, "link": "https://stackoverflow.com/questions/29265626/calculate-a-moving-standard-deviation/29265861#29265861", "title": "Calculate a moving Standard Deviation", "body": "<p>For <code>stdev</code> to become NaN something has to be going wrong in this assignment:</p>\n\n<pre><code>double stdev = Math.Sqrt((total_squares - Math.Pow(total_average,2)/period) / period);\n</code></pre>\n\n<p>You can't divide by zero, so make sure <code>period</code> isn't set to that.\nEasiest way to solve is to print out every variable before this line is called and see if something is already NaN or is mathematically unusable</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 4713868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/57252cb427e79a228781ce144ce55e06?s=128&d=identicon&r=PG&f=1", "display_name": "endeffects", "link": "https://stackoverflow.com/users/4713868/endeffects"}, "edited": false, "score": 0, "creation_date": 1427360620, "post_id": 29269137, "comment_id": 46748154, "body": "thanks alot, you really really saved my life. have a great day :))"}, {"owner": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "reply_to_user": {"reputation": 311, "user_id": 4713868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/57252cb427e79a228781ce144ce55e06?s=128&d=identicon&r=PG&f=1", "display_name": "endeffects", "link": "https://stackoverflow.com/users/4713868/endeffects"}, "edited": false, "score": 0, "creation_date": 1427387833, "post_id": 29269137, "comment_id": 46765794, "body": "@endeffects glad this helped. A word of advice: make sure you put in some effort to find out how this site and community works. What to do when asking questions or when you come across questions or answers by other people that are helpful to you."}], "tags": [], "owner": {"reputation": 12428, "user_id": 2573395, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9f67af256898093338672d45f82cbec5?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/2573395/alex"}, "is_accepted": true, "score": 10, "last_activity_date": 1427331843, "last_edit_date": 1427331843, "creation_date": 1427330267, "answer_id": 29269137, "question_id": 29265626, "link": "https://stackoverflow.com/questions/29265626/calculate-a-moving-standard-deviation/29269137#29269137", "title": "Calculate a moving Standard Deviation", "body": "<p>A numerically more stable variant is preferable when doing incremental / moving average and standard deviation calculations. One way to do this is using Knuth's algorithm, as shown in the code block below:</p>\n\n<pre><code>public class MovingAverageCalculator\n{\n    public MovingAverageCalculator(int period)\n    {\n        _period = period;\n        _window = new double[period];\n    }\n\n    public double Average \n    {\n        get { return _average; }\n    }\n\n    public double StandardDeviation\n    {\n        get \n        {\n            var variance = Variance;\n            if (variance &gt;= double.Epsilon)\n            {\n                var sd = Math.Sqrt(variance);\n                return double.IsNaN(sd) ? 0.0 : sd;\n            }\n            return 0.0;\n        }\n    }\n\n    public double Variance\n    {\n        get \n        { \n            var n = N;\n            return n &gt; 1 ? _variance_sum / (n - 1) : 0.0; \n        }\n    }\n\n    public bool HasFullPeriod\n    {\n        get { return _num_added &gt;= _period; }\n    }\n\n    public IEnumerable&lt;double&gt; Observations\n    {\n        get { return _window.Take(N); }\n    }\n\n    public int N\n    {\n        get { return Math.Min(_num_added, _period); }\n    }\n\n    public void AddObservation(double observation)\n    {\n        // Window is treated as a circular buffer.\n        var ndx = _num_added % _period;\n        var old = _window[ndx];     // get value to remove from window\n        _window[ndx] = observation; // add new observation in its place.\n        _num_added++;\n\n        // Update average and standard deviation using deltas\n        var old_avg = _average;\n        if (_num_added &lt;= _period)\n        {\n            var delta = observation - old_avg;\n            _average += delta / _num_added;\n            _variance_sum += (delta * (observation - _average));\n        } \n        else // use delta vs removed observation.\n        {\n            var delta = observation - old;\n            _average += delta / _period;\n            _variance_sum += (delta * ((observation - _average) + (old - old_avg)));\n        }\n    }\n\n    private readonly int _period;\n    private readonly double[] _window;\n    private int _num_added;\n    private double _average;\n    private double _variance_sum;\n}\n</code></pre>\n\n<p>You could then use it in the following manner in your code example:</p>\n\n<pre><code>public static void AddBollingerBands(ref SortedList&lt;DateTime, Dictionary&lt;string, double&gt;&gt; data, int period, int factor)\n{\n    var moving_avg = new MovingAverageCalculator(period);\n    for (int i = 0; i &lt; data.Count(); i++)\n    {\n        moving_avg.AddObservation(data.Values[i][\"close\"]);\n        if (moving_avg.HasFullPeriod)\n        {\n            var average = moving_avg.Average;\n            var limit = factor * moving_avg.StandardDeviation;\n            data.Values[i][\"bollinger_average\"] = average;\n            data.Values[i][\"bollinger_top\"] = average + limit;\n            data.Values[i][\"bollinger_bottom\"] = average - limit;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 4713868, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/57252cb427e79a228781ce144ce55e06?s=128&d=identicon&r=PG&f=1", "display_name": "endeffects", "link": "https://stackoverflow.com/users/4713868/endeffects"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2201, "favorite_count": 0, "accepted_answer_id": 29269137, "answer_count": 2, "score": 4, "last_activity_date": 1427331843, "creation_date": 1427314403, "last_edit_date": 1427317837, "question_id": 29265626, "link": "https://stackoverflow.com/questions/29265626/calculate-a-moving-standard-deviation", "title": "Calculate a moving Standard Deviation", "body": "<p>i found the following code snippet here on stackoverflow, but i have the problem that the stdev becomes NaN. Any ideas how to fix this?</p>\n\n<pre><code>public static void AddBollingerBands(ref SortedList&lt;DateTime, Dictionary&lt;string, double&gt;&gt; data, int period, int factor)\n{\n    double total_average = 0;\n    double total_squares = 0;\n\n    for (int i = 0; i &lt; data.Count(); i++)\n    {\n        total_average += data.Values[i][\"close\"];\n        total_squares += Math.Pow(data.Values[i][\"close\"], 2);\n\n        if (i &gt;= period - 1)\n        {\n            double total_bollinger = 0;\n            double average = total_average / period;\n\n            double stdev = Math.Sqrt((total_squares - Math.Pow(total_average,2)/period) / period);\n            data.Values[i][\"bollinger_average\"] = average;\n            data.Values[i][\"bollinger_top\"] = average + factor * stdev;\n            data.Values[i][\"bollinger_bottom\"] = average - factor * stdev;\n\n            total_average -= data.Values[i - period + 1][\"close\"];\n            total_squares -= Math.Pow(data.Values[i - period + 1][\"close\"], 2);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wcf"], "comments": [{"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 2, "creation_date": 1427314397, "post_id": 29265598, "comment_id": 46732938, "body": "<code>File</code> is a helper function for MVC controllers and is not applicable to WCF."}, {"owner": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1427314516, "post_id": 29265598, "comment_id": 46733022, "body": "@DStanley - I should have figured that would be the issue. What would be an efficient way to do this with <code>WCF</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 0, "creation_date": 1427315757, "post_id": 29265728, "comment_id": 46733738, "body": "Thank you for the response. I do already have the file set to a <code>byte[]</code>. I think i would like to write it to a stream for now at least. What would be the best way to achieve this?"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 0, "creation_date": 1427315931, "post_id": 29265728, "comment_id": 46733819, "body": "What does your WCF method return? A byte[]? Your fixation on streams seems unfounded."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 0, "creation_date": 1427315995, "post_id": 29265728, "comment_id": 46733859, "body": "To answer your question literally: The most performant and easiest way to convert a byte[] to a Stream is new MemoryStream(myByteArray). I doubt this is what you need, though."}, {"owner": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 0, "creation_date": 1427316170, "post_id": 29265728, "comment_id": 46733952, "body": "Currently I have my method set up to return a Stream."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 0, "creation_date": 1427316549, "post_id": 29265728, "comment_id": 46734160, "body": "OK. Make it return a byte[]. If you don&#39;t want that for some reason use the stream solution that I provided. This will <i>not</i> give you streaming semantics since you&#39;re loading the entire file into memory first. Does this answer your question fully?"}, {"owner": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 0, "creation_date": 1427317557, "post_id": 29265728, "comment_id": 46734717, "body": "To give you a better idea with what i am working with please see my edit above. I understand the <code>OperationContract</code> is not correct. I am unsure how i would adjust it though. I have not worked with WCF that much prior to this so it is all a learning experience. Any suggestions?"}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "reply_to_user": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 0, "creation_date": 1427317717, "post_id": 29265728, "comment_id": 46734792, "body": "I&#39;m not familiar with WebInvoke. I can&#39;t answer that part of the question and I would not have posted an answer if I had know that this is the real problem for you. I have answered the stream part though: new MemoryStream(myByteArray)"}, {"owner": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "edited": false, "score": 1, "creation_date": 1427318177, "post_id": 29265728, "comment_id": 46735039, "body": "As far as answering my question goes, you have helped a great deal. You just seemed knowledgeable so i figured i would ask. Thank you for the help."}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 2, "last_activity_date": 1427314758, "creation_date": 1427314758, "answer_id": 29265728, "question_id": 29265598, "link": "https://stackoverflow.com/questions/29265598/what-would-be-the-most-efficient-way-of-converting-a-pdf-to-a-stream/29265728#29265728", "title": "What would be the most efficient way of converting a pdf to a stream", "body": "<p>The answer depends on what you have. You seem to have the path to a file as a <code>string</code>. Probably, your WCF method returns a <code>byte[]</code>. You somehow need to convert that path to a <code>byte[]</code> efficiently.</p>\n\n<p>You can do this using <code>File.ReadAllBytes(string path)</code>.</p>\n\n<p>WCF also supports streaming writes but that is a little more complicated and the performance wins are dubious for small files.</p>\n\n<p>The fact that you tried to specify a MIME type (<code>\"application/pdf\"</code>) tells me that you do not really understand the difference between a WCF service and an HTTP service. Researching this is homework for you.</p>\n"}], "owner": {"reputation": 4724, "user_id": 1480714, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/055494e06e9af42502916ce7be46e6ab?s=128&d=identicon&r=PG", "display_name": "scapegoat17", "link": "https://stackoverflow.com/users/1480714/scapegoat17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 29265728, "answer_count": 1, "score": 1, "last_activity_date": 1427317467, "creation_date": 1427314315, "last_edit_date": 1495540608, "question_id": 29265598, "link": "https://stackoverflow.com/questions/29265598/what-would-be-the-most-efficient-way-of-converting-a-pdf-to-a-stream", "title": "What would be the most efficient way of converting a pdf to a stream", "body": "<p>I have a <code>WCF</code> service that will receive an id and return a pdf file based off of the id. I am assuming that the best way to do this would be to convert the pdf file to some sort of string and then return it. However, I am unsure of which stream to use (<code>Stream, Filestream, or MemoryStream</code>). </p>\n\n<p>I know i could read the pdf file to a byte array and then do something with it using MemoryStream, but I feel like there is a more efficient way. </p>\n\n<p>I tried doing what was suggested in this post here: <a href=\"https://stackoverflow.com/questions/21826999/how-to-convert-a-pdf-to-a-memory-stream\">How to convert a pdf to a memory stream</a></p>\n\n<p>Hard coding a file path in to return like so:</p>\n\n<pre><code>return File(@\"C:\\MyFile.pdf\", \"application/pdf\");\n</code></pre>\n\n<p>Just to see what happens, but get an error on <code>File</code> saying: `'System.IO.File' is a 'type' but is used like a 'variable'.</p>\n\n<p>Would anyone be able to provide a little insight?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is currently what I am working towards:</p>\n\n<pre><code>[OperationContract]\n[WebInvoke(Method = \"GET\",\n    RequestFormat = WebMessageFormat.Json,\n    ResponseFormat = WebMessageFormat.Json,\n    UriTemplate = \"/GetInvoiceFile\")]\nStream GetInvoiceFile(string id);\n\npublic Stream GetInvoiceFile(string BillingPeriodId)\n{\n    byte[] bytes = File.ReadAllBytes(@\"C:\\pdf-test.pdf\");\n    return new MemoryStream(bytes);\n}\n</code></pre>\n\n<p>I just dont exactly know how I would edit my <code>OperationContract</code> to return the pdf. Any ideas?</p>\n"}, {"tags": ["java", "c#", "sockets"], "comments": [{"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 1, "creation_date": 1427313895, "post_id": 29265430, "comment_id": 46732653, "body": "as soon as a connection is establised, the servicing socket and the active connect socket on each end are equal and bidirectional. Which means client and server is not really relevant anymore. It is not clear why you would need another socket just for sending strings. Or why you want to reverse the server becoming client and vice versa."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1427313981, "post_id": 29265430, "comment_id": 46732693, "body": "I was thinking of mentioning this in comments to your <a href=\"http://stackoverflow.com/questions/29253294/socket-communicating-between-java-and-c-sharp-applications\">previous question</a>. Sockets go both ways. You don&#39;t need two of them."}, {"owner": {"reputation": 6863, "user_id": 552279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af98b6d6577577d2edaf3de816a7a7c5?s=128&d=identicon&r=PG", "display_name": "Xitrum", "link": "https://stackoverflow.com/users/552279/xitrum"}, "edited": false, "score": 0, "creation_date": 1427314656, "post_id": 29265430, "comment_id": 46733082, "body": "sorry guys, I made a mistake, what i meant is sometimes, the C# server application needs to send some data to the Java client application, but this is not possible since my Java application can&#39;t listening to that port anymore since it is already occupied by the C# application."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "edited": false, "score": 0, "creation_date": 1427316098, "post_id": 29265430, "comment_id": 46733910, "body": "sockets are bidirectional so now I know for sure you don&#39;t need an extra socket and because your comment comes after already mentioning this fact  shows you probably don&#39;t understand what we mean. The sockets can be used for both receiving and sending using the same socket."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1427316255, "post_id": 29265430, "comment_id": 46734001, "body": "You need to get your concepts clear here, because it sounds like you&#39;re a bit confused. Think about a web request. The browser connects to the server and sends a request to the server. The server replies. All on the same <b><i>single</i></b> socket connection. No new socket is opened up. No new port is required. Once connected, the client can send data to the server and the server can send data back to the client. Sockets allow both reading from and writing <i>to the same socket instance</i>. Once the socket is connected, both the client and the server can both read and write."}, {"owner": {"reputation": 6863, "user_id": 552279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af98b6d6577577d2edaf3de816a7a7c5?s=128&d=identicon&r=PG", "display_name": "Xitrum", "link": "https://stackoverflow.com/users/552279/xitrum"}, "edited": false, "score": 0, "creation_date": 1427316903, "post_id": 29265430, "comment_id": 46734348, "body": "Ah I think I got confusion about the coding concept. Since in my java application, if I continue waiting for the message from socket, that will block the whole execution. But I can put this while ((line = reader.readLine()) != null){...} to a new thread and it would solve the problem, am I right?"}], "answers": [{"comments": [{"owner": {"reputation": 6863, "user_id": 552279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af98b6d6577577d2edaf3de816a7a7c5?s=128&d=identicon&r=PG", "display_name": "Xitrum", "link": "https://stackoverflow.com/users/552279/xitrum"}, "edited": false, "score": 0, "creation_date": 1427315603, "post_id": 29265899, "comment_id": 46733659, "body": "Hi, in my current situation, I can handle this since my C# application is a server and my java application is a client, what i need is sending data from my c# application back to the java application."}, {"owner": {"reputation": 121, "user_id": 3112658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71dfdc3d1471539e49067f6a54c73788?s=128&d=identicon&r=PG&f=1", "display_name": "user3112658", "link": "https://stackoverflow.com/users/3112658/user3112658"}, "reply_to_user": {"reputation": 6863, "user_id": 552279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af98b6d6577577d2edaf3de816a7a7c5?s=128&d=identicon&r=PG", "display_name": "Xitrum", "link": "https://stackoverflow.com/users/552279/xitrum"}, "edited": false, "score": 1, "creation_date": 1427316832, "post_id": 29265899, "comment_id": 46734303, "body": "Once the connection establishes, the notion of client and server is pretty much gone. You then just have two endpoints that each can send/receive.  If you want to send data to the Java app from the C# app, just grab the output stream on your C# socket and use that. Then grab the input stream on the Java side and read from there."}], "tags": [], "owner": {"reputation": 121, "user_id": 3112658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71dfdc3d1471539e49067f6a54c73788?s=128&d=identicon&r=PG&f=1", "display_name": "user3112658", "link": "https://stackoverflow.com/users/3112658/user3112658"}, "is_accepted": false, "score": 2, "last_activity_date": 1427315397, "creation_date": 1427315397, "answer_id": 29265899, "question_id": 29265430, "link": "https://stackoverflow.com/questions/29265430/socket-communication-between-java-and-c-application/29265899#29265899", "title": "Socket communication between Java and C# application", "body": "<p>Your socket works both ways (bi-directional), so you won't need to create another. You can just get the output stream and input stream of the socket, on both sides of the connection, and use those for sending/receiving.</p>\n\n<p>To send a string, the easiest way would probably be to use a DataOutputStream as you can write UTF-8 strings with a simple function.</p>\n\n<p>Java side:</p>\n\n<pre><code>String blah = \"hey\";\nDataOutputStream dataOs = new DataOutputStream(socket.getOutputStream());\ndataOs.writeUTF(blah);\n</code></pre>\n\n<p>The C# side is slightly trickier as you need to account for the fact that the first two bytes sent from the java function writeUTF() will actually be the length (in bytes) of the string that follows. You can grab those 2 bytes first and then throw them into an int, shifting the bits as you go along. Then you can use that int as the size of the buffer when you request the string from the socket. Should look something like this.</p>\n\n<p>C# side:</p>\n\n<pre><code>int length = 0;\nbyte[] sizeBuffer = new byte[2];\nsocket.Receive(sizeBuffer);\nfor (int i = 0; i &lt; sizeBuffer.Length; i += 1)\n{\n    length = length &lt;&lt; 8;\n    length += sizeBuffer[i];\n}\n\nbyte[] stringBuffer = new byte[length];\nsocket.Receive(stringBuffer);\n\nstring myString = Encoding.UTF8.GetString(stringBuffer, 0, stringBuffer.Length);\n</code></pre>\n"}], "owner": {"reputation": 6863, "user_id": 552279, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af98b6d6577577d2edaf3de816a7a7c5?s=128&d=identicon&r=PG", "display_name": "Xitrum", "link": "https://stackoverflow.com/users/552279/xitrum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3228, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1427315821, "creation_date": 1427313739, "last_edit_date": 1427315821, "question_id": 29265430, "link": "https://stackoverflow.com/questions/29265430/socket-communication-between-java-and-c-application", "title": "Socket communication between Java and C# application", "body": "<p>I have 02 applications, one is written in java and the another one is written in C#. I need to exchange data (Strings) between them thus I use a socket connection. </p>\n\n<p><br>Currently the C# application acts as server and java application acts as client. The C# application will continuously listen on port \"7777\" and the Java application will make a socket to \"localhost:7777\" as start up and use that socket to send data to C# server. I don't close the connection between them since I need to exchange data frequently. </p>\n\n<p><br>Everything is great until my C# server application sometimes needs to send some Strings to the Java client application. I think about using another port to make my java application becomes a server and the C# application will also become a client. Yet I don't feel that it is a good solution. </p>\n\n<p><br>P/S: Yes, socket is Bi-direction, in my current application I can send string data from my C# application back to Java application, but only when the Java application first sent a string to the C# application and now it is waiting for the respond data from the C# application. </p>\n\n<p><br>Thus I want to ask if there is another better solution ? Is it possible if we only use 1 port in total ? Thank you very much.</p>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1427316598, "post_id": 29265411, "comment_id": 46734197, "body": "Please be more specific than &quot;not so much&quot;. Describe <i>exactly</i> what happens, and how this is different from what you expect. Please also provide <a href=\"http://stackoverflow.com/help/mcve\">a good, <i>minimal</i>, <i>complete</i> code example</a> that reliably reproduces the problem. As far as the code you posted so far goes, you aren&#39;t showing anything that would set the <code>height</code> field of your view model class; maybe you just failed to include that, or maybe that&#39;s your bug. Impossible to say without a clearer question."}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 4627684, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10155343333740144/picture?type=large", "display_name": "Mark Wardell", "link": "https://stackoverflow.com/users/4627684/mark-wardell"}, "edited": false, "score": 0, "creation_date": 1427320678, "post_id": 29266109, "comment_id": 46736254, "body": "Only option I have is 1) Vote Up 2) Vote Down 3) Share 4) Edit  :("}], "tags": [], "owner": {"reputation": 5505, "user_id": 2961675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f108cc19c95f3572ee954779a866bfdf?s=128&d=identicon&r=PG", "display_name": "Praveen Paulose", "link": "https://stackoverflow.com/users/2961675/praveen-paulose"}, "is_accepted": true, "score": 0, "last_activity_date": 1427316122, "creation_date": 1427316122, "answer_id": 29266109, "question_id": 29265411, "link": "https://stackoverflow.com/questions/29265411/window-title-binds-but-not-window-width-and-height/29266109#29266109", "title": "Window &quot;Title&quot; Binds but not Window Width and Height", "body": "<p>Try using Mode=TwoWay in the binding.</p>\n\n<pre><code>Height     =\"{Binding Path=Height,  Mode=TwoWay,  FallbackValue = 200}\" \nWidth      =\"{Binding Path=Width,  Mode=TwoWay,   FallbackValue = 250}\" \n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 4627684, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/10155343333740144/picture?type=large", "display_name": "Mark Wardell", "link": "https://stackoverflow.com/users/4627684/mark-wardell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 29266109, "answer_count": 1, "score": 0, "last_activity_date": 1427319640, "creation_date": 1427313685, "last_edit_date": 1427316393, "question_id": 29265411, "link": "https://stackoverflow.com/questions/29265411/window-title-binds-but-not-window-width-and-height", "title": "Window &quot;Title&quot; Binds but not Window Width and Height", "body": "<p>I wanted to have my View Model Manage my Window Title and Size:  Title is binding Fine. Size not so much.  any help will be appreciated.</p>\n\n<pre><code>&lt;Window x:Class=\"Sweeper.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:my=\"clr-namespace:Sweeper\"\n        xmlns:mouse=\"clr-namespace:Sweeper.MouseBehavior\"\n        xmlns:diag=\"clr-namespace:System.Diagnostics;assembly=WindowsBase\"\n        Title=\"{Binding Path=Title, FallbackValue='MainWindowXX'}\" \n        Height     =\"{Binding Path=Height,    FallbackValue = 200}\" \n        Width      =\"{Binding Path=Width,     FallbackValue = 250}\"          \n        Background =\"{x:Null}\" Foreground=\"#FFD2F4CC\"&gt;\n...\n&lt;/Window&gt;\n</code></pre>\n\n<p>///// Snippet from my VM</p>\n\n<pre><code>public int Height\n{\n    get { return height; }\n    set { height = value;\n          OnPropertyChanged(\"Height\");\n    }\n}\nprivate int width = 400;\n\npublic int Width\n{\n    get { return width; }\n    set\n    {\n        width = value;\n        OnPropertyChanged(\"Width\");\n    }\n}\n\nstring title = \"Mark's Sweeper Game\";\n\npublic string Title\n{\n    get { return title; }\n    set { title = value; OnPropertyChanged(\"Title\"); }\n}\n</code></pre>\n"}, {"tags": ["c#", "derived-class", "nested-class", "partial-classes"], "comments": [{"owner": {"reputation": 421, "user_id": 1953313, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/346143694e64249ec01012c506f5eb58?s=128&d=identicon&r=PG", "display_name": "KooKoo", "link": "https://stackoverflow.com/users/1953313/kookoo"}, "edited": false, "score": 3, "creation_date": 1427313869, "post_id": 29265386, "comment_id": 46732638, "body": "make your SingletonClass partial and nest second part of your ContainerClass inside SingletonClass."}, {"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1427314200, "post_id": 29265386, "comment_id": 46732814, "body": "Your related question doesn&#39;t justify your design decision. It is still a bad idea. If you want to inherit, then probably the base class shouldn&#39;t be nested. I recommend not to do this. Consider redesigning."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 1914664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/40656f6efbe139a688689d43b64ccfe3?s=128&d=identicon&r=PG", "display_name": "kkirkfield", "link": "https://stackoverflow.com/users/1914664/kkirkfield"}, "edited": false, "score": 0, "creation_date": 1427331659, "post_id": 29265565, "comment_id": 46739882, "body": "Thanks, this would work, but I figured out a more elegant solution to my overall problem."}], "tags": [], "owner": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "is_accepted": true, "score": 2, "last_activity_date": 1427314417, "last_edit_date": 1427314417, "creation_date": 1427314179, "answer_id": 29265565, "question_id": 29265386, "link": "https://stackoverflow.com/questions/29265386/how-can-i-derive-a-class-nested-inside-a-partial-class/29265565#29265565", "title": "How can I derive a class nested inside a partial class?", "body": "<p>You code does not compile because there are two different <code>ContainerClass</code> types. One is a \"normal\" class and the other is nested in <code>SingletonClass</code>. If there are no namespace involved then the full name of the first is <code>SingletonClass.ContainerClass</code> while the full name of the second is <code>ContainerClass</code> (i.e., two different types).</p>\n\n<p>To do what you want you need to make <code>SingletonClass</code> partial also:</p>\n\n<pre><code>partial class SingletonClass\n{\n    public static partial class ContainerClass\n    {\n        abstract class BaseClass\n        {\n\n        }\n    }\n}\n\npartial class SingletonClass\n{\n    public static partial class ContainerClass\n    {\n        class DerivedClass : BaseClass\n        {\n\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 1914664, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/40656f6efbe139a688689d43b64ccfe3?s=128&d=identicon&r=PG", "display_name": "kkirkfield", "link": "https://stackoverflow.com/users/1914664/kkirkfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 29265565, "answer_count": 1, "score": 0, "last_activity_date": 1427314417, "creation_date": 1427313603, "last_edit_date": 1495542134, "question_id": 29265386, "link": "https://stackoverflow.com/questions/29265386/how-can-i-derive-a-class-nested-inside-a-partial-class", "title": "How can I derive a class nested inside a partial class?", "body": "<p>If I have an abstract class nested inside a partial container class nested inside another class, how can I derive classes from the base class? I would think the following would work, but it says BaseClass isn't accessible due to protection level. I need the derived classes to be private though.</p>\n\n<p>And before anyone tells me what a bad structure this is, <a href=\"https://stackoverflow.com/questions/29197623/how-can-i-derive-classes-from-a-base-class-that-is-encapsulated-in-a-manager-cla\">this is why I might need it</a>.</p>\n\n<pre><code>    class SingletonClass\n    {\n        public static partial class ContainerClass\n        {\n            abstract class BaseClass\n            {\n\n            }\n        }\n    }\n\n    static partial class ContainerClass\n    {\n        class DerivedClass : BaseClass\n        {\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm"], "comments": [{"owner": {"reputation": 911, "user_id": 825742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4975965495d4b00034c285f8872d62c8?s=128&d=identicon&r=PG", "display_name": "bdimag", "link": "https://stackoverflow.com/users/825742/bdimag"}, "edited": false, "score": 0, "creation_date": 1427313577, "post_id": 29265220, "comment_id": 46732476, "body": "Do you need those buttons to exist for every item in the items control or something else? Maybe a sketch of what you want?"}, {"owner": {"reputation": 3193, "user_id": 4679715, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46a44f59061d9bbed23cb478c733151d?s=128&d=identicon&r=PG&f=1", "display_name": "A191919", "link": "https://stackoverflow.com/users/4679715/a191919"}, "reply_to_user": {"reputation": 911, "user_id": 825742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4975965495d4b00034c285f8872d62c8?s=128&d=identicon&r=PG", "display_name": "bdimag", "link": "https://stackoverflow.com/users/825742/bdimag"}, "edited": false, "score": 0, "creation_date": 1427313918, "post_id": 29265220, "comment_id": 46732666, "body": "Yes i need those buttons exist for every time until switch another type 1 or 8."}], "answers": [{"tags": [], "owner": {"reputation": 5240, "user_id": 1342454, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RDlqA.jpg?s=128&g=1", "display_name": "Curtis", "link": "https://stackoverflow.com/users/1342454/curtis"}, "is_accepted": false, "score": 0, "last_activity_date": 1427327138, "creation_date": 1427327138, "answer_id": 29268649, "question_id": 29265220, "link": "https://stackoverflow.com/questions/29265220/wpf-item-control-grid/29268649#29268649", "title": "WPF item control grid", "body": "<p>Ok, where to begin....<br>\nYou've got a couple problems here.  </p>\n\n<ol>\n<li><p>TheList is an ObservableCollection, so there is no need for using 'NotifyPropertyChanged' in the TheList property.  And no need for the theList member variable.  Just use the following for your property:</p>\n\n<p>public ObservableCollection TheList { get; set; }</p></li>\n<li><p>However, in your code behind, 'TheList' doesn't get initialized until one of your buttons is clicked.  Your XAML, therefore is binding to a null object, so pretty much not binding to anything, no matter what you change 'TheList' to after the binding, you're still bound to null.  To fix this, make sure to initialize TheList in your constructor before your InitializeComponents() call.  Change your constructor to the following:</p>\n\n<p><code>public MainWindow()\n {\n     TheList = new ObservableCollection&lt;Button&gt;(); \n     DataContext = new ViewModelTest();\n     InitializeComponent();\n }</code></p></li>\n</ol>\n\n<p>Also, all the places where you are setting <code>TheList = new ObservableCollection&lt;Button&gt;()</code> just changes the pointer to something else, so the Binding gets broken again.  Instead of re-initializing TheList, just do <code>TheList.Clear();</code> and then add your buttons to TheList using <code>TheList.Add(newBtn);</code></p>\n\n<ol start=\"3\">\n<li><p>So, it looks like you have a bunch of RowDefinitions without heights, I'm guessing these are just place holders?  You could name your Grid something like <code>x:Name=\"MyInternalGrid\"</code> and then when you're adding to <code>TheList</code>, do the same thing with adding rows to <code>MyInternalGrid</code>.  So when call <code>TheList.Clear();</code>  also clear your gridRows by calling <code>MyInternalGrid.RowDefinitions.Clear();</code>.  Then, whenever you call <code>TheList.Add(newBtn);</code>, add another row to your grid with <code>MyInternalGrid.RowDefinitions.Add(new RowDefinition{Height=20});</code>.  When you do that, make sure to assign the correct row to your newBtn.  <code>Grid.SetRow(newBtn, MyInternalGrid.RowDefinitions.Count);</code> before adding the <code>newBtn</code> to <code>TheList</code>.  Here's what I mean, change your methods to mimic the refactored <code>EightButton()</code> method below:</p>\n\n<p><code>public void EightButton()\n{\n    TheList.Clear();\n    MyInternalGrid.RowDefinitions.Clear();\n    for (int i = 0; i &lt; 8; i++)\n    {\n        Button newBtn = new Button();\n        newBtn.Content = i.ToString();\n        newBtn.Name = \"Button\" + i.ToString();\n        Grid.SetRow(newBtn, MyInternalGrid.RowDefinitions.Count);<br>\n        MyInternalGrid.RowDefinitions.Add(new RowDefinition{Height=20});\n        TheList.Add(newBtn);\n    }\n}</code></p></li>\n</ol>\n\n<p>Or, you might just want to not worry about all the grid rows and put a <code>&lt;StackPanel&gt;</code> inside your <code>&lt;Grid&gt;</code> and add all the buttons to that <code>&lt;StackPanel&gt;</code> dynamically.  Just clear the stack panel first, <code>MyStackPanel.Children.Clear();</code>  and then in the loop add the new button like this <code>MyStackPanel.Children.Add(newBtn);</code></p>\n\n<p>Home some of this helps.</p>\n"}], "owner": {"reputation": 3193, "user_id": 4679715, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/46a44f59061d9bbed23cb478c733151d?s=128&d=identicon&r=PG&f=1", "display_name": "A191919", "link": "https://stackoverflow.com/users/4679715/a191919"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427327138, "creation_date": 1427313105, "last_edit_date": 1427313319, "question_id": 29265220, "link": "https://stackoverflow.com/questions/29265220/wpf-item-control-grid", "title": "WPF item control grid", "body": "<p>I am trying to make grid that would contain some number of buttons (1,4,8).</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApplication9.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    Title=\"MainWindow\" Height=\"350\" Width=\"525\"&gt;\n&lt;Grid &gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"20\"&gt;&lt;/RowDefinition&gt;\n        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;!--&lt;Grid Grid.Row=\"1\"&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n            &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n            &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n        &lt;/Grid.RowDefinitions&gt;\n        &lt;Button Grid.Row=\"0\" Grid.Column=\"0\"&gt;&lt;/Button&gt;\n        &lt;Button Grid.Row=\"0\" Grid.Column=\"1\"&gt;&lt;/Button&gt;\n        &lt;Button Grid.Row=\"1\" Grid.Column=\"0\"&gt;&lt;/Button&gt;\n        &lt;Button Grid.Row=\"1\" Grid.Column=\"1\"&gt;&lt;/Button&gt;\n    &lt;/Grid&gt;--&gt;\n    &lt;ItemsControl ItemsSource=\"{Binding TheList}\" x:Name=\"MyGrid\" VerticalAlignment=\"Stretch\" HorizontalAlignment=\"Stretch\" Height=\"Auto\" Grid.Row=\"1\"&gt;\n        &lt;ItemsControl.ItemsPanel&gt;\n            &lt;ItemsPanelTemplate&gt;\n                &lt;Grid&gt;\n                    &lt;Grid.RowDefinitions&gt;\n                        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n                        &lt;RowDefinition&gt;&lt;/RowDefinition&gt;\n                    &lt;/Grid.RowDefinitions&gt;\n                &lt;/Grid&gt;\n            &lt;/ItemsPanelTemplate&gt;\n        &lt;/ItemsControl.ItemsPanel&gt;\n    &lt;/ItemsControl&gt;\n    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n        &lt;Button Command=\"{Binding One}\"&gt;1&lt;/Button&gt;\n        &lt;Button Command=\"{Binding Four}\"&gt;4&lt;/Button&gt;\n        &lt;Button Command=\"{Binding Eight}\"&gt;8&lt;/Button&gt;\n    &lt;/StackPanel&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n\n<p>Code:</p>\n\n<pre><code>using GalaSoft.MvvmLight.Command;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Windows;\nusing System.Windows.Controls;\nusing System.Windows.Data;\nusing System.Windows.Documents;\nusing System.Windows.Input;\nusing System.Windows.Media;\nusing System.Windows.Media.Imaging;\nusing System.Windows.Navigation;\nusing System.Windows.Shapes;\nusing System.ComponentModel;\nusing System.Collections.ObjectModel;\nnamespace WpfApplication9\n{\n/// &lt;summary&gt;\n/// Interaction logic for MainWindow.xaml\n/// &lt;/summary&gt;\n/// \n\npublic partial class MainWindow : Window\n{\n    public class ViewModelTest : INotifyPropertyChanged\n    {\n        private ObservableCollection&lt;Button&gt; theList;\n        public ObservableCollection&lt;Button&gt; TheList\n        {\n            get { return theList; }\n            set { theList = value; NotifyPropertyChanged(\"TheList\"); }\n        }\n        public ViewModelTest()\n        {\n            One = new RelayCommand(() =&gt; OneButton());\n            Four = new RelayCommand(() =&gt; FourButton());\n            Eight = new RelayCommand(() =&gt; EightButton());\n\n\n\n            //TheList.Clear();\n            //for (int i = 0; i &lt; 4; i++)\n            //{\n            //    System.Windows.Controls.Button newBtn = new Button();\n            //    newBtn.Content = i.ToString();\n            //    newBtn.Name = \"Button\" + i.ToString();\n            //    TheList.Add(newBtn);\n            //}\n        }\n        public ICommand One { get; set; }\n        public ICommand Four { get; set; }\n        public ICommand Eight { get; set; }\n\n\n        public event PropertyChangedEventHandler PropertyChanged;\n        private void NotifyPropertyChanged(String info)\n        {\n            if (PropertyChanged != null)\n            {\n                PropertyChanged(this, new PropertyChangedEventArgs(info));\n            }\n        }\n        public void OneButton()\n        {\n            TheList = new ObservableCollection&lt;Button&gt;();                \n            for (int i = 0; i &lt; 1; i++)\n            {\n                Button btn = new Button();\n                System.Windows.Controls.Button newBtn = new Button();\n                newBtn.Content = i.ToString();\n                newBtn.Name = \"Button\" + i.ToString();\n                TheList.Add(newBtn);\n            }\n        }\n        public void FourButton()\n        {\n            TheList = new ObservableCollection&lt;Button&gt;();\n            for (int i = 0; i &lt; 4; i++)\n            {\n                Button btn = new Button();\n                System.Windows.Controls.Button newBtn = new Button();\n                newBtn.Content = i.ToString();\n                newBtn.Name = \"Button\" + i.ToString();\n                TheList.Add(newBtn);\n            }\n\n            //MyGrid.Children.Clear();\n            //MyGrid.ColumnDefinitions.Clear();\n            //MyGrid.RowDefinitions.Clear();\n            //MyGrid.ColumnDefinitions.Add(new ColumnDefinition());\n            //MyGrid.ColumnDefinitions.Add(new ColumnDefinition());\n            //MyGrid.RowDefinitions.Add(new RowDefinition());\n            //MyGrid.RowDefinitions.Add(new RowDefinition());\n            //for (int row =0;row&lt;MyGrid.ColumnDefinitions.Count;row++)\n            //{\n            //    for (int column=0;column&lt;MyGrid.ColumnDefinitions.Count;column++)\n            //    {\n            //            System.Windows.Controls.Button newBtn = new Button();\n            //            newBtn.Content = row.ToString() + column.ToString();\n            //            newBtn.Name = \"Button\" + row.ToString()+column.ToString();\n            //            newBtn.SetValue(Grid.ColumnProperty,column);\n            //            newBtn.SetValue(Grid.RowProperty, row);\n            //            MyGrid.Children.Add(newBtn);\n            //    }\n            //}\n        }\n        public void EightButton()\n        {\n            TheList = new ObservableCollection&lt;Button&gt;();\n            for (int i = 0; i &lt; 8; i++)\n            {\n                Button btn = new Button();\n                System.Windows.Controls.Button newBtn = new Button();\n                newBtn.Content = i.ToString();\n                newBtn.Name = \"Button\" + i.ToString();\n                TheList.Add(newBtn);\n            }\n            //MyGrid.Children.Clear();\n            //MyGrid.ColumnDefinitions.Clear();\n            //MyGrid.RowDefinitions.Clear();\n            //MyGrid.ColumnDefinitions.Add(new ColumnDefinition());\n            //MyGrid.ColumnDefinitions.Add(new ColumnDefinition());\n            //MyGrid.ColumnDefinitions.Add(new ColumnDefinition());\n            //MyGrid.ColumnDefinitions.Add(new ColumnDefinition());\n            //MyGrid.RowDefinitions.Add(new RowDefinition());\n            //MyGrid.RowDefinitions.Add(new RowDefinition());\n            //for (int row = 0; row &lt; MyGrid.ColumnDefinitions.Count; row++)\n            //{\n            //    for (int column = 0; column &lt; MyGrid.ColumnDefinitions.Count; column++)\n            //    {\n            //        System.Windows.Controls.Button newBtn = new Button();\n            //        newBtn.Content = row.ToString() + column.ToString();\n            //        newBtn.Name = \"Button\" + row.ToString() + column.ToString();\n            //        newBtn.SetValue(Grid.ColumnProperty, column);\n            //        newBtn.SetValue(Grid.RowProperty, row);\n            //        MyGrid.Children.Add(newBtn);\n            //    }\n            //}\n        }\n    }\n    public MainWindow()\n    {\n\n        DataContext = new ViewModelTest();\n        InitializeComponent();\n\n    }\n}\n</code></pre>\n\n<p>But I have a problem with displaying. How can I create new columns and rows in itemcontrol dynamically in this case.                                                                                                  </p>\n"}, {"tags": ["c#", "webforms"], "answers": [{"comments": [{"owner": {"reputation": 1657, "user_id": 3305976, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/628d3a3a7ed58ffd393f6060d820245d?s=128&d=identicon&r=PG&f=1", "display_name": "Tez Wingfield", "link": "https://stackoverflow.com/users/3305976/tez-wingfield"}, "edited": false, "score": 0, "creation_date": 1427314196, "post_id": 29265482, "comment_id": 46732812, "body": "Good find. I don&#39;t know how I missed that. I was fixated on the code it&#39;s self. Just need to find a work around. I&#39;ll look into the life cycle. Great work!"}], "tags": [], "owner": {"reputation": 9840, "user_id": 3745022, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/aab10f8871051588ce9d3a8b1f917907?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Podskal", "link": "https://stackoverflow.com/users/3745022/eugene-podskal"}, "is_accepted": true, "score": 0, "last_activity_date": 1427314338, "last_edit_date": 1427314338, "creation_date": 1427313929, "answer_id": 29265482, "question_id": 29265189, "link": "https://stackoverflow.com/questions/29265189/pass-down-master-page-object-to-nested-master-page/29265482#29265482", "title": "Pass down master page object to nested master page", "body": "<h1>Problem</h1>\n\n<p>The Master's <code>Load</code> is executed <a href=\"https://msdn.microsoft.com/en-us/library/dct97kc3(v=vs.140).aspx\" rel=\"nofollow\"><strong>after</strong></a> the Child's <code>Load</code>:</p>\n\n<blockquote>\n  <ul>\n  <li>...</li>\n  <li>Master page Init event.</li>\n  <li>Content page Init event.</li>\n  <li>Content page Load event.</li>\n  <li>Master page Load event.</li>\n  <li>Master page controls Load event.</li>\n  <li>...</li>\n  </ul>\n</blockquote>\n\n<p>That's is why the property is null.</p>\n\n<h1>Solution</h1>\n\n<p><strong>1.</strong> You can set it in the <code>Init</code> event - <code>protected void Page_Load(object sender, EventArgs e)...</code> if it is not dependent on the page being loaded (as it is probably).</p>\n\n<p><strong>2.</strong>  Or you can turn the property into the lazy property(no need for actual <code>Lazy&lt;T&gt;</code> if it is not (and it probably should not be) intended to be used in multithreaded code):</p>\n\n<pre><code>public partial class RWCMSMain : System.Web.UI.MasterPage\n{\n    private Business.BusinessEntities.User m_LoggedOnUse;\n\n    public Business.BusinessEntities.User LoggedOnUser \n    { \n         get\n         {\n              if (this.m_LoggedOnUse == null)\n                  this.m_LoggedOnUse = userRepo.GetUser(securityToken);\n\n              return this.m_LoggedOnUse;\n         } \n    }\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1657, "user_id": 3305976, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/628d3a3a7ed58ffd393f6060d820245d?s=128&d=identicon&r=PG&f=1", "display_name": "Tez Wingfield", "link": "https://stackoverflow.com/users/3305976/tez-wingfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 29265482, "answer_count": 1, "score": 1, "last_activity_date": 1427314338, "creation_date": 1427312984, "question_id": 29265189, "link": "https://stackoverflow.com/questions/29265189/pass-down-master-page-object-to-nested-master-page", "title": "Pass down master page object to nested master page", "body": "<p>Apologies if this is too trivial but I seem to be running into an issue where I cannot access an object from a nested master page.</p>\n\n<p>I'm having trouble passing down a User object from my main master to my nested master. By the time it gets to my nested master page it's null. I don't ever remember having trouble getting master pages talking but in this instance it just doesn't want to work.</p>\n\n<p>So the set up, Some code omitted:</p>\n\n<pre><code>public partial class RWCMSMain : System.Web.UI.MasterPage\n{\n    public Business.BusinessEntities.User LoggedOnUser { get;  set; }\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n       //Get the user\n       var loggedOnUser = userRepo.GetUser(securityToken);\n\n       //Now set the property\n       this.LoggedOnUser = loggedOnUser;\n    }\n}\n</code></pre>\n\n<p>If I was to access this from a content page that inherits the main master all is great but the idea was to have a master page that contains side bar.</p>\n\n<p>Now my side.master inherits from main master:</p>\n\n<pre><code>public partial class RWCMSSide : System.Web.UI.MasterPage\n{\n   //Create property for nested master\n    public Business.BusinessEntities.User LoggedOnUser { get; set; }\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n       //Assign main masters user to the new property\n       //Master.LoggedOnUser is always null\n       this.LoggedOnUser = Master.LoggedOnUser;\n    }\n}\n</code></pre>\n\n<p>You could argue that I could recreate the user on the nested master page but then that would create two hits to the database when it could be done as one.</p>\n\n<p>Whilst debugging the main master the user exists, it's just not being passed down.</p>\n\n<p>Any pointers would be greatly appreciated!</p>\n\n<p>Regards,</p>\n"}, {"tags": ["c#", "entity-framework", "dependency-injection", "entity-framework-6"], "comments": [{"owner": {"reputation": 41220, "user_id": 26226, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/e53f834643e385cd39c2d9f721071906?s=128&d=identicon&r=PG", "display_name": "jrummell", "link": "https://stackoverflow.com/users/26226/jrummell"}, "edited": false, "score": 0, "creation_date": 1427313295, "post_id": 29265156, "comment_id": 46732348, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/11059175/remove-coupling-for-ef-dbcontext-and-infrastructure-layer\">Remove coupling for EF DBContext and infrastructure layer</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2653, "user_id": 297183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u6fJe.jpg?s=128&g=1", "display_name": "Rody van Sambeek", "link": "https://stackoverflow.com/users/297183/rody-van-sambeek"}, "edited": false, "score": 2, "creation_date": 1427314350, "post_id": 29265235, "comment_id": 46732904, "body": "Nikis, in EF6 the DbContext is the Unit of Work and the DbSet&#39;s are the repositories. It would be overkill to create an entire seperate Unit of Work."}, {"owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "reply_to_user": {"reputation": 2653, "user_id": 297183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u6fJe.jpg?s=128&g=1", "display_name": "Rody van Sambeek", "link": "https://stackoverflow.com/users/297183/rody-van-sambeek"}, "edited": false, "score": 0, "creation_date": 1427314576, "post_id": 29265235, "comment_id": 46733051, "body": "@RodyvanSambeek there is no other way if you want to separate data and domain layers, you need an abstraction in any way. And this is not an overkill, because methods of <code>UoW</code> will more or less correspond to EF methods, so it is easy to implement. If you are thinking about performance decrease, take a look on EF overall performance and its stacktrace, you won&#39;t feel this decrease."}, {"owner": {"reputation": 2653, "user_id": 297183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u6fJe.jpg?s=128&g=1", "display_name": "Rody van Sambeek", "link": "https://stackoverflow.com/users/297183/rody-van-sambeek"}, "edited": false, "score": 0, "creation_date": 1427314718, "post_id": 29265235, "comment_id": 46733119, "body": "nikis, you are right. But I don&#39;t want to lose the flexibility of the DbSet classes of EF6 in my service layer, so I think for simplicity I&#39;m going with referencing the EF6 binaries in my services layer. My Unit Tests can Mock the DbSet&lt;T&gt; to IQueryable&lt;T&gt; for testing, so that&#39;s ok."}, {"owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "reply_to_user": {"reputation": 2653, "user_id": 297183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u6fJe.jpg?s=128&g=1", "display_name": "Rody van Sambeek", "link": "https://stackoverflow.com/users/297183/rody-van-sambeek"}, "edited": false, "score": 0, "creation_date": 1427314957, "post_id": 29265235, "comment_id": 46733270, "body": "@RodyvanSambeek well, if you don&#39;t assume to switch to NHibernate in future or new version of Entity Framework won&#39;t break backward compatibilty, this can be done. But it is still not a good design as written in the books."}, {"owner": {"reputation": 4507, "user_id": 3901618, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qKeJS.jpg?s=128&g=1", "display_name": "romanoza", "link": "https://stackoverflow.com/users/3901618/romanoza"}, "reply_to_user": {"reputation": 2653, "user_id": 297183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u6fJe.jpg?s=128&g=1", "display_name": "Rody van Sambeek", "link": "https://stackoverflow.com/users/297183/rody-van-sambeek"}, "edited": false, "score": 1, "creation_date": 1427314977, "post_id": 29265235, "comment_id": 46733281, "body": "@RodyvanSambeek <i>&quot;DbContext is the Unit of Work and the DbSet&#39;s are the repositories&quot;</i>. That&#39;s right. I wonder why people can&#39;t see that and are constantly making those ridiculous IRepository&lt;TEntity&gt;. And if you are not, then they consider you ignorant and obsolete."}, {"owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "reply_to_user": {"reputation": 4507, "user_id": 3901618, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qKeJS.jpg?s=128&g=1", "display_name": "romanoza", "link": "https://stackoverflow.com/users/3901618/romanoza"}, "edited": false, "score": 0, "creation_date": 1427315087, "post_id": 29265235, "comment_id": 46733344, "body": "@romanoza because in a such way they are not dependent on a concrete ORM"}, {"owner": {"reputation": 4507, "user_id": 3901618, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qKeJS.jpg?s=128&g=1", "display_name": "romanoza", "link": "https://stackoverflow.com/users/3901618/romanoza"}, "edited": false, "score": 0, "creation_date": 1427315335, "post_id": 29265235, "comment_id": 46733485, "body": "@nikis You are right. But I&#39;ve never worked on a project when the kind of ORM has been change in the middle of the road. YAGNI."}, {"owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "reply_to_user": {"reputation": 4507, "user_id": 3901618, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qKeJS.jpg?s=128&g=1", "display_name": "romanoza", "link": "https://stackoverflow.com/users/3901618/romanoza"}, "edited": false, "score": 1, "creation_date": 1427315510, "post_id": 29265235, "comment_id": 46733601, "body": "@romanoza yes, it depends on the project. The final decision should be made by project lead/architect depending on specification."}, {"owner": {"reputation": 141, "user_id": 1277278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9095f4ffc872634c68142c1d5cbf069?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1277278/michael"}, "reply_to_user": {"reputation": 4507, "user_id": 3901618, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qKeJS.jpg?s=128&g=1", "display_name": "romanoza", "link": "https://stackoverflow.com/users/3901618/romanoza"}, "edited": false, "score": 0, "creation_date": 1505163962, "post_id": 29265235, "comment_id": 79291132, "body": "@romanoza separation of concerns, loose coupling, preventing data logic from leaking into other layers, etc.  Simply put, i don&#39;t want someone writing what are essentially queries in the business layer anymore than I want someone writing business logic in the presentation layer.  Using the DbContext as the UoW and DbSets as repositories is perfectly fine, but so is encapsulating it for a cleaner architecture."}], "tags": [], "owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "is_accepted": false, "score": 3, "last_activity_date": 1427313138, "creation_date": 1427313138, "answer_id": 29265235, "question_id": 29265156, "link": "https://stackoverflow.com/questions/29265156/how-to-remove-references-to-entity-framework-in-other-layers/29265235#29265235", "title": "How to remove references to Entity Framework in other layers", "body": "<p>What you are looking for is <code>Unit of Work</code> pattern. It will help you to prevent leaking data logic to the domain layer. <a href=\"http://www.asp.net/mvc/overview/older-versions/getting-started-with-ef-5-using-mvc-4/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application\" rel=\"nofollow\">Here</a> is a nice tutorial on that.</p>\n"}, {"comments": [{"owner": {"reputation": 2653, "user_id": 297183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u6fJe.jpg?s=128&g=1", "display_name": "Rody van Sambeek", "link": "https://stackoverflow.com/users/297183/rody-van-sambeek"}, "edited": false, "score": 1, "creation_date": 1427314429, "post_id": 29265275, "comment_id": 46732962, "body": "Silas, I would like to avoid the Repository&lt;T&gt; pattern to prevent using too much CRUD based approaches. I&#39;d like to use the DbContext inside my services layer which has Command/Query based design. The DbContext (with it&#39;s corresponding DbSet&#39;s, should be injected into the service layer)."}], "tags": [], "owner": {"reputation": 3977, "user_id": 4009517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K0Fvo.png?s=128&g=1", "display_name": "Silas Reinagel", "link": "https://stackoverflow.com/users/4009517/silas-reinagel"}, "is_accepted": false, "score": 1, "last_activity_date": 1427313245, "creation_date": 1427313245, "answer_id": 29265275, "question_id": 29265156, "link": "https://stackoverflow.com/questions/29265156/how-to-remove-references-to-entity-framework-in-other-layers/29265275#29265275", "title": "How to remove references to Entity Framework in other layers", "body": "<p>A good solution is to use the <strong>Repository Pattern</strong> (along with Unit of Work) and create one more abstraction of <strong>Repository&lt; T ></strong>.</p>\n\n<p><a href=\"http://CodeProject%20Tutorial\" rel=\"nofollow\">http://www.codeproject.com/Articles/526874/Repositorypluspattern-cplusdoneplusright</a></p>\n"}], "owner": {"reputation": 2653, "user_id": 297183, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/u6fJe.jpg?s=128&g=1", "display_name": "Rody van Sambeek", "link": "https://stackoverflow.com/users/297183/rody-van-sambeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 887, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1427700765, "creation_date": 1427312893, "last_edit_date": 1427700765, "question_id": 29265156, "link": "https://stackoverflow.com/questions/29265156/how-to-remove-references-to-entity-framework-in-other-layers", "title": "How to remove references to Entity Framework in other layers", "body": "<p>I have an application with 3 layers:</p>\n\n<ul>\n<li>UI </li>\n<li>Domain Services </li>\n<li>Data</li>\n</ul>\n\n<p>The Data layer uses EF 6 (code first) to connect to the database. </p>\n\n<p>I've create an interface which my DbContext implements: </p>\n\n<pre><code>public interface IMyDbContext\n{\n    DbSet&lt;TEntity&gt; Set&lt;TEntity&gt;() where TEntity : class;\n    int SaveChanges();\n    void Dispose();\n}\n\npublic class MyDbContext : DbContext, IMyDbContext\n{\n    //...\n    public DbSet&lt;Account&gt; Accounts { get; set; }\n    public DbSet&lt;Module&gt; Modules { get; set; }\n    public DbSet&lt;User&gt; Users { get; set; }\n    //...\n}\n</code></pre>\n\n<p>I want to remove the references to EF from the Domain Services layer, that's why I inject this Interface into the Domain Services layer using Dependency Injection. </p>\n\n<p>However the DbSet class is described in the EF binaries, so this is not going to work. </p>\n\n<p>I'd like to use this abstraction in stead of the actual EF implementation, but I'm stuck. I've tried using IQueryable in stead of DbSet, but this didn't work. </p>\n\n<p>I don't want to use (Generic) Repositories, but I want to re-use the DbSet and DbContext functionality of EF in my domain logic. </p>\n"}, {"tags": ["c#", ".net", "xml"], "comments": [{"owner": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1427313291, "post_id": 29265149, "comment_id": 46732344, "body": "It is not clear what you are trying to do. Please be more specific, explaining in detail what the input looks like (including a <i>small</i>-but-complete example), how the algorithm you are trying to implement would process the input, and what the output of the implementation would look like. Please read <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> for advice on how to present your question in a clear, answerable way."}, {"owner": {"reputation": 13, "user_id": 4690979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7dc9800b30f6cbbb805c07ed8c6f4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Tabia Rashid", "link": "https://stackoverflow.com/users/4690979/tabia-rashid"}, "reply_to_user": {"reputation": 62092, "user_id": 3538012, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dcc3c1ad5e4ae4d79ba377020978d107?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Duniho", "link": "https://stackoverflow.com/users/3538012/peter-duniho"}, "edited": false, "score": 0, "creation_date": 1427313490, "post_id": 29265149, "comment_id": 46732436, "body": "i simply want to display all the sentences which posses both of these words but as i am passing them as a single string, i want to split this string into chunks"}], "answers": [{"comments": [{"owner": {"reputation": 2007, "user_id": 1124565, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8cd17b68577d4aaf2deb091eac38b1a0?s=128&d=identicon&r=PG", "display_name": "amura.cxg", "link": "https://stackoverflow.com/users/1124565/amura-cxg"}, "reply_to_user": {"reputation": 13, "user_id": 4690979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7dc9800b30f6cbbb805c07ed8c6f4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Tabia Rashid", "link": "https://stackoverflow.com/users/4690979/tabia-rashid"}, "edited": false, "score": 0, "creation_date": 1427313932, "post_id": 29265363, "comment_id": 46732670, "body": "No problem, I just edited the question because I misunderstood your code. The edited version should work better"}, {"owner": {"reputation": 1212, "user_id": 1587755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6bfa53480be2aca93ac528eda21a7d3?s=128&d=identicon&r=PG", "display_name": "Taekahn", "link": "https://stackoverflow.com/users/1587755/taekahn"}, "reply_to_user": {"reputation": 13, "user_id": 4690979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7dc9800b30f6cbbb805c07ed8c6f4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Tabia Rashid", "link": "https://stackoverflow.com/users/4690979/tabia-rashid"}, "edited": false, "score": 0, "creation_date": 1427314474, "post_id": 29265363, "comment_id": 46732985, "body": "@TabiaRashid It sounded like in your original statement that you wanted sentences that contain both words and in a specific order? Won&#39;t this only return sentences that have either word? And even if it was changed to and, it still wouldn&#39;t respect the order.... Or did i misunderstand your goals?"}, {"owner": {"reputation": 13, "user_id": 4690979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7dc9800b30f6cbbb805c07ed8c6f4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Tabia Rashid", "link": "https://stackoverflow.com/users/4690979/tabia-rashid"}, "edited": false, "score": 0, "creation_date": 1427314728, "post_id": 29265363, "comment_id": 46733128, "body": "no i just want the sentences which contains the specific words i provided"}], "tags": [], "owner": {"reputation": 2007, "user_id": 1124565, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8cd17b68577d4aaf2deb091eac38b1a0?s=128&d=identicon&r=PG", "display_name": "amura.cxg", "link": "https://stackoverflow.com/users/1124565/amura-cxg"}, "is_accepted": true, "score": 0, "last_activity_date": 1427313882, "last_edit_date": 1427313882, "creation_date": 1427313505, "answer_id": 29265363, "question_id": 29265149, "link": "https://stackoverflow.com/questions/29265149/displaying-sentence-using-string-chunks/29265363#29265363", "title": "displaying sentence using string chunks", "body": "<p>You would need to check if each result contains \"who\" and \"your\". Your original code was looking for the string \"who your\" not the two strings \"who\" and \"your\".  See <a href=\"https://msdn.microsoft.com/en-us/library/dy85x1sa%28v=vs.110%29.aspx\" rel=\"nofollow\">this</a> link for information on <code>string.Contains(string)</code></p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>var doc = XDocument.Load(\"dic.xml\");\n\nvar results = doc.Descendants(\"s\").Where(d =&gt; d.Value.Contains(\"your\") || d.Value.Contains(\"who\")).Select(d =&gt; d.Value);\n\nforeach (string result in results)\n{\n    Console.WriteLine(result);\n}\n</code></pre>\n\n<p>Edit: Misread your original code and put the filtering in the wrong spot</p>\n"}], "owner": {"reputation": 13, "user_id": 4690979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7dc9800b30f6cbbb805c07ed8c6f4ea?s=128&d=identicon&r=PG&f=1", "display_name": "Tabia Rashid", "link": "https://stackoverflow.com/users/4690979/tabia-rashid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 29265363, "answer_count": 1, "score": -4, "last_activity_date": 1427314515, "creation_date": 1427312879, "last_edit_date": 1427314515, "question_id": 29265149, "link": "https://stackoverflow.com/questions/29265149/displaying-sentence-using-string-chunks", "title": "displaying sentence using string chunks", "body": "<p>here is a program i made to display all the possible strings containing \"who\" &amp; \"your\" within an xml file. The xml file contains few sentences  like:\nhow are you,what is your name,what is your school name. The program which i code is displaying the sentences if both \"who\" and \"you\" comes one after one. How can i break a string into chunks and then pass them to check through xml.\nThe code whice i tried is :</p>\n\n<pre><code>var doc = XDocument.Load(\"dic.xml\");\nstring findString = \"what your\";\nvar results = doc.Descendants(\"s\")\n                 .Where(d =&gt; d.Value.Contains(findString.ToLower()))\n                 .Select(d =&gt; d.Value);\n\nforeach (string result in results)\n{\n    Console.WriteLine(result);\n}\n</code></pre>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["c#", ".net", "asynchronous", "async-await", "task-parallel-library"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 2, "creation_date": 1427312934, "post_id": 29265111, "comment_id": 46732146, "body": "I&#39;m sure this is a duplicate. The answer is &quot;mostly&quot; - the difference being that if an exception is thrown by the <code>SmtpClient</code> constructor (or the <code>MailMessage</code> constructor, or the start of the <code>SendMailAsync</code> method), in the first case you&#39;ll get a faulted task; in the second case you&#39;ll get an exception straight away."}, {"owner": {"reputation": 30694, "user_id": 143919, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f992f5923160ab4fef2c2981369cbbed?s=128&d=identicon&r=PG", "display_name": "Dismissile", "link": "https://stackoverflow.com/users/143919/dismissile"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427313061, "post_id": 29265111, "comment_id": 46732234, "body": "It&#39;s probably a duplicate, but for the life of me I didn&#39;t know what to search by."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427313086, "post_id": 29265111, "comment_id": 46732249, "body": "Understood. Hopefully someone else will find one."}, {"owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "edited": false, "score": 0, "creation_date": 1427313090, "post_id": 29265111, "comment_id": 46732251, "body": "Search for &quot;C# await tutorial&quot;. This is so basic that you must be able to answer this yourself. If you don&#39;t know the answer to this question using async programming is quite dangerous."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 1, "creation_date": 1427313107, "post_id": 29265111, "comment_id": 46732254, "body": "@JonSkeet The semantics of disposing the client are far more important than the exception handling semantics."}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1427313451, "post_id": 29265111, "comment_id": 46732422, "body": "@Servy: Eek, you&#39;re absolutely right - missed that entirely!"}], "answers": [{"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": 4, "last_activity_date": 1427313077, "creation_date": 1427313077, "answer_id": 29265210, "question_id": 29265111, "link": "https://stackoverflow.com/questions/29265111/async-await-for-a-simple-wrapper-method/29265210#29265210", "title": "async await for a simple wrapper method", "body": "<p>The first snippet disposes of the client after the mail is sent, the latter disposes of the client after it <em>starts</em> sending the mail, but before it has finished.  Assuming the client isn't supposed to be disposed while it is sending messages, it means that the first solution is very problematic.</p>\n\n<p>Additionally, the error handling semantics are different; exceptions in constructing the <code>Task</code> in the first snippet will result in the method throwing an exception, whereas in the second snippet they result in the return task being marked as <code>Faulted</code> with the appropriate exception set.</p>\n"}, {"tags": [], "owner": {"reputation": 100162, "user_id": 885318, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0caa455bd74c1d9d10d2af49afa18228?s=128&d=identicon&r=PG", "display_name": "i3arnon", "link": "https://stackoverflow.com/users/885318/i3arnon"}, "is_accepted": true, "score": 7, "last_activity_date": 1427313919, "last_edit_date": 1427313919, "creation_date": 1427313091, "answer_id": 29265216, "question_id": 29265111, "link": "https://stackoverflow.com/questions/29265111/async-await-for-a-simple-wrapper-method/29265216#29265216", "title": "async await for a simple wrapper method", "body": "<p>In this exact scenario the two cases are <strong>extremely different</strong> because of the <code>using</code> scope.</p>\n\n<p>In the first case you wait (asynchronously) for the <code>SendMailAysnc</code> operation to complete before disposing of the client while in the other case you don't so you would <strong>dispose of the client while the operation is still running</strong>.</p>\n\n<p>In the general case where there isn't a difference in the general behavior. For example this:</p>\n\n<pre><code>public async Task Run()\n{\n    throw new Exception(\"stored\");\n    await Task.Delay(-1);\n}\n</code></pre>\n\n<p>VS this:</p>\n\n<pre><code>public Task Run()\n{\n    throw new Exception(\"thrown\");\n    return Task.Delay(-1);\n}\n</code></pre>\n\n<p>The difference is that the <code>async</code> method has a <em>slight</em> overhead of the whole <code>async</code> mechanism (including a state machine) while the non-<code>async</code> task-returning method has a different exception semantics as exceptions are <strong>thrown directly and not stored in the returned task</strong>.</p>\n"}], "owner": {"reputation": 30694, "user_id": 143919, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f992f5923160ab4fef2c2981369cbbed?s=128&d=identicon&r=PG", "display_name": "Dismissile", "link": "https://stackoverflow.com/users/143919/dismissile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 29265216, "answer_count": 2, "score": 1, "last_activity_date": 1427313919, "creation_date": 1427312792, "last_edit_date": 1427313741, "question_id": 29265111, "link": "https://stackoverflow.com/questions/29265111/async-await-for-a-simple-wrapper-method", "title": "async await for a simple wrapper method", "body": "<p>If I write a method that is just wrapping an async method such as this:</p>\n\n<pre><code>public async Task WrapMethodAsync()\n{\n    using(var smtpClient = new SmtpClient())\n    {\n        await smtpClient.SendMailAysnc(new MailMessage());\n    }\n}\n</code></pre>\n\n<p>Is that the same as doing the following:</p>\n\n<pre><code>public Task WrapMethodAsync()\n{\n    using(var smtpClient = new SmtpClient())\n    {\n        return smtpClient.SendMailAysnc(new MailMessage());\n    }\n}\n</code></pre>\n\n<p>Or is the latter not actually running asynchronously?</p>\n"}, {"tags": ["c#", "azure-mobile-services"], "answers": [{"tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": true, "score": 3, "last_activity_date": 1427312821, "creation_date": 1427312821, "answer_id": 29265124, "question_id": 29265081, "link": "https://stackoverflow.com/questions/29265081/how-to-query-last-n-number-of-records-from-a-table/29265124#29265124", "title": "How to query last &#39;n&#39; number of records from a table?", "body": "<p>There is no concept of <code>Last</code>, You need to order your collection and then use <code>Take</code> like:</p>\n\n<pre><code>var result = await itemModelTable\n                .OrderByDescending(r=&gt; r.SomeField)\n                .Take(16)\n                .ToListAsync();\n</code></pre>\n\n<p>For \"Last\", you need to use <code>OrderByDescending</code> and then use <code>Take</code>. </p>\n\n<p>If no order is specified, then the records returned could be in any order. Same like SQL <code>Select</code> statement without <code>order by</code> clause. </p>\n"}], "owner": {"reputation": 5376, "user_id": 1829251, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0af9e5bbe347bfe7f879b99dba340fc8?s=128&d=identicon&r=PG", "display_name": "Brian J", "link": "https://stackoverflow.com/users/1829251/brian-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 29265124, "answer_count": 1, "score": 1, "last_activity_date": 1427312821, "creation_date": 1427312693, "question_id": 29265081, "link": "https://stackoverflow.com/questions/29265081/how-to-query-last-n-number-of-records-from-a-table", "title": "How to query last &#39;n&#39; number of records from a table?", "body": "<p>I'm using an Azure mobile service with a C# back end for my app, but I'm not sure how to query the last 16 records that were added to the DB.</p>\n\n<p>I've come across the statement, and I thought that could query the \"last\" 16 records but it doesn't:</p>\n\n<pre><code>var result = await itemModelTable\n                .Take(16)\n                .ToListAsync();\n</code></pre>\n\n<p>Does anyone have an idea how to form this query?</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1427312757, "post_id": 29265077, "comment_id": 46732053, "body": "You mean any numbers that are in both lists?"}, {"owner": {"reputation": 758, "user_id": 4633681, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/95507043ca4b493ad1b3af6da87c604c?s=128&d=identicon&r=PG&f=1", "display_name": "Gvep", "link": "https://stackoverflow.com/users/4633681/gvep"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1427312958, "post_id": 29265077, "comment_id": 46732168, "body": "no, i want to  write only same numbers in two listboxes ."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1427312974, "post_id": 29265077, "comment_id": 46732182, "body": "Could you provide an example?"}, {"owner": {"reputation": 758, "user_id": 4633681, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/95507043ca4b493ad1b3af6da87c604c?s=128&d=identicon&r=PG&f=1", "display_name": "Gvep", "link": "https://stackoverflow.com/users/4633681/gvep"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1427313281, "post_id": 29265077, "comment_id": 46732337, "body": "for example , in first listbox i have 2,32,45,67,78 , and the second  listbox have   32,56,69,78,90  , so i want to write only 32, 78 because both numbers are included in boxes ."}], "answers": [{"comments": [{"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1427314516, "post_id": 29265473, "comment_id": 46733023, "body": "Since you are already using LINQ just use <a href=\"https://msdn.microsoft.com/en-us/library/bb460136(v=vs.100).aspx\" rel=\"nofollow noreferrer\"><code>firstCollection.Intersect(secondCollection)</code></a>, it will be about <code>O(n1 + n2)</code> (where n1 and n2 represent each list) if the equality comparer has a good hash code."}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "reply_to_user": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 0, "creation_date": 1427314672, "post_id": 29265473, "comment_id": 46733094, "body": "@ScottChamberlain Thanks, I always forget about the set functions."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 0, "last_activity_date": 1427314644, "last_edit_date": 1427314644, "creation_date": 1427313869, "answer_id": 29265473, "question_id": 29265077, "link": "https://stackoverflow.com/questions/29265077/displaying-matched-random-numbers-on-a-label/29265473#29265473", "title": "displaying matched random numbers on a label", "body": "<p>First, you want to use <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb534803%28v=vs.100%29.aspx\" rel=\"nofollow\"><code>Where</code></a> to filter one of the collections, the condition is pretty simple, the other list contains it! So you start with something like:</p>\n\n<pre><code>IEnumerable&lt;int&gt; matches = firstCollection.Where(i =&gt; secondCollection.Contains(i));\n</code></pre>\n\n<p>Note that this algorithm is a bit... inefficent (O(n^2)) since you have to potentially run through all of secondCollection for every item in firstCollection. It will work for small sets just fine though.</p>\n\n<p>Even better would be to use <a href=\"https://msdn.microsoft.com/en-us/library/vstudio/bb460136%28v=vs.100%29.aspx\" rel=\"nofollow\"><code>Intersect</code></a> which does all that work for you (and is usually O(2n) to boot!) :) (thanks @ScottChamberlain)</p>\n\n<pre><code>IEnumerable&lt;int&gt; matches = firstCollection.Intersect(secondCollection);\n</code></pre>\n\n<p>In both cases, I'm assuming n is approximately the same in both lists.</p>\n\n<p>Now you need to convert that collection to text. <a href=\"https://msdn.microsoft.com/en-us/library/dd783876(v=vs.110).aspx\" rel=\"nofollow\"><code>String.Join</code></a> is super useful here, since it will take each element of a collection, call <code>ToString</code> to convert it to a string, and separate them with a string of our choice! Something like:</p>\n\n<pre><code>resultLabel.Text = String.Join(\",\", matches);\n</code></pre>\n"}], "owner": {"reputation": 758, "user_id": 4633681, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/95507043ca4b493ad1b3af6da87c604c?s=128&d=identicon&r=PG&f=1", "display_name": "Gvep", "link": "https://stackoverflow.com/users/4633681/gvep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 29265473, "answer_count": 1, "score": 1, "last_activity_date": 1427314644, "creation_date": 1427312684, "last_edit_date": 1427313940, "question_id": 29265077, "link": "https://stackoverflow.com/questions/29265077/displaying-matched-random-numbers-on-a-label", "title": "displaying matched random numbers on a label", "body": "<p>I am beginner in c# and basically i generated random numbers in two  different listboxes but i wanted to write the numbers which are in both lists on a label . I've tried this but it doesn't work:</p>\n\n<pre><code> private void matchednumbers_TextChanged(object sender, EventArgs e)\n    {\n      lbluckynumbers.Items.Contains(lbmynumbers.Items).ToString();\n\n    }                                                \n</code></pre>\n"}, {"tags": ["c#", "decimal"], "comments": [{"owner": {"reputation": 5969, "user_id": 4320665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0cDQG.png?s=128&g=1", "display_name": "ryanyuyu", "link": "https://stackoverflow.com/users/4320665/ryanyuyu"}, "edited": false, "score": 1, "creation_date": 1427312803, "post_id": 29265070, "comment_id": 46732078, "body": "Are you just trying to format a decimal into a string?"}, {"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 0, "creation_date": 1427312849, "post_id": 29265070, "comment_id": 46732102, "body": "<a href=\"http://stackoverflow.com/questions/164926/c-sharp-how-do-i-round-a-decimal-value-to-2-decimal-places-for-output-on-a-pa\" title=\"c sharp how do i round a decimal value to 2 decimal places for output on a pa\">stackoverflow.com/questions/164926/&hellip;</a> its not exactly what you want but it should be of help."}], "answers": [{"tags": [], "owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "is_accepted": false, "score": 1, "last_activity_date": 1427313140, "creation_date": 1427313140, "answer_id": 29265236, "question_id": 29265070, "link": "https://stackoverflow.com/questions/29265070/c-decimal-issues/29265236#29265236", "title": "c# Decimal issues", "body": "<p><code>string.Format</code> will handle this easily.</p>\n\n<pre><code>double taxRateDecimal = 1.0765;\nstring formattedResult = string.Format(\"{0:.0000}\", taxRateDecimal % 1);\n\nConsole.WriteLine(formattedResult);  // .0765\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96339, "user_id": 98607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ccd9dbbb08784dfcc5ac18c6d839b9d?s=128&d=identicon&r=PG", "display_name": "Martin Liversage", "link": "https://stackoverflow.com/users/98607/martin-liversage"}, "is_accepted": false, "score": 2, "last_activity_date": 1427313583, "last_edit_date": 1427313583, "creation_date": 1427313192, "answer_id": 29265256, "question_id": 29265070, "link": "https://stackoverflow.com/questions/29265070/c-decimal-issues/29265256#29265256", "title": "c# Decimal issues", "body": "<p>You should be able to use a format to create the string:</p>\n\n<pre><code>var taxRateDecimal = 0.0765D;\nvar reportParameter = taxRateDecimal.ToString(\".0000\", CultureInfo.InvariantCulture);\n</code></pre>\n\n<p>The resulting <code>reportParameter</code> is <code>.0765</code>.</p>\n\n<p>Other results for that format are:</p>\n\n<pre>\n0D       ->  .0000\n1D       -> 1.0000\n1.23456D -> 1.2346\n</pre>\n\n<p>You have to use <code>CultureInfo.InvariantCulture</code> to be sure that the decimal separator is a dot. Otherwise the current culture (which is the default) might specify a comma as the decimal separator.</p>\n"}], "owner": {"reputation": 7, "user_id": 4713756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4aa6e125ae831a7e2ecb15b3f1fe4557?s=128&d=identicon&r=PG&f=1", "display_name": "kss113", "link": "https://stackoverflow.com/users/4713756/kss113"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1427313638, "creation_date": 1427312647, "last_edit_date": 1427313638, "question_id": 29265070, "link": "https://stackoverflow.com/questions/29265070/c-decimal-issues", "title": "c# Decimal issues", "body": "<p>Code first.</p>\n\n<pre><code>taxRateDecimal = 0.0765;\nif (taxRateDecimal.ToString().Split('.').Length == 2)\n{\n    outPut =  taxRateDecimal.ToString().Split('.')[1].Substring(0, 4);\n    ReportParameters.Add(\"TaxRateAsDecimal\", \".\" + outPut); \n}\n</code></pre>\n\n<p>As you can see in the substring I have to hard code my length of 4.\nDesired results .0765 as a string.</p>\n\n<p>Here are some scenarios I have gone through.</p>\n\n<p>I have a percent of 7.65.\nI want to convert this to decimal, when doing so I do 7.65 / 100.\nthis gives me 0.0765, but I want just .0765.\nIf I take 0.0765 and use a split on \".\" and use length ect..\nI actually get for the array [1] a length of 6 and a value of 076500.\nAgain I only want .0765 or just 0765 and I can add the dot.</p>\n\n<p>Any other ideas that I have not tried?\nThis will eventually need to be a string since I am passing it in as a prama into SSRS.</p>\n"}, {"tags": ["javascript", "c#", "session-variables", "session-storage"], "answers": [{"tags": [], "owner": {"reputation": 2394, "user_id": 1538445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1ba69357c0b9451a8b8b639a24513e?s=128&d=identicon&r=PG", "display_name": "jtimperley", "link": "https://stackoverflow.com/users/1538445/jtimperley"}, "is_accepted": true, "score": 6, "last_activity_date": 1427312988, "creation_date": 1427312988, "answer_id": 29265190, "question_id": 29265050, "link": "https://stackoverflow.com/questions/29265050/c-javascript-session-storage/29265190#29265190", "title": "C#/Javascript Session Storage", "body": "<p>No, the web server will not have any knowledge of the browser's sessionStorage.  The browser's 'session' is completely isolated from the web server's 'session'.</p>\n\n<p>Depending on what type of information you're looking to store and share, you could use cookies.  Cookies will be available to both the browser and the web server.  Just remember cookies are transmitted both directions with every request so they can add to the cost of each web request.</p>\n\n<p>Alternatively, you could post the new information to an API.  This will add an upfront cost but will reduce the cost of each individual web request.  This approach assumes the values being posted to the API change less frequently than the number of times the user changes pages.</p>\n"}], "owner": {"reputation": 878, "user_id": 4177804, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1841656da134a0cb74efbf91ea9288cf?s=128&d=identicon&r=PG&f=1", "display_name": "ManxJason", "link": "https://stackoverflow.com/users/4177804/manxjason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5448, "favorite_count": 1, "accepted_answer_id": 29265190, "answer_count": 1, "score": 2, "last_activity_date": 1427312988, "creation_date": 1427312572, "question_id": 29265050, "link": "https://stackoverflow.com/questions/29265050/c-javascript-session-storage", "title": "C#/Javascript Session Storage", "body": "<p>if I add a sessionStorage item via javacrript, is it possible to get that key/value server side using c#.</p>\n\n<p>for example:</p>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>sessionStorage.setItem(\"myItem\");\n</code></pre>\n\n<p>Confirm its stored by calling 'sessionStorage.length' in browser console. Returns 1.</p>\n\n<p><strong>C#</strong></p>\n\n<pre><code>Session.Keys.Count; // returns 0\n</code></pre>\n"}, {"tags": ["c#", "exception", "ms-access-2007", "oledb"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427312543, "post_id": 29265006, "comment_id": 46731944, "body": "Try calling <code>GetValue</code> instead, and see what is returned..."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427312835, "post_id": 29265006, "comment_id": 46732095, "body": "what if you try calling this with the actual field name <code>(Int64)reader[&quot;SID&quot;];</code> also when you are stepping through the code assuming you are using the debugger, what is the value of the reader object after you call the ExecuteReader() method.. are you sure it&#39;s even returning data..? are you sure the datatype is of Int64 or is it a string for the datatype..? what if you try it with <code>GetInt32()</code> method or try what @JonSkeet has suggested"}, {"owner": {"reputation": 23, "user_id": 4496742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5748912d5cf5b76cd1531784153c95d5?s=128&d=identicon&r=PG&f=1", "display_name": "PaleSaint", "link": "https://stackoverflow.com/users/4496742/palesaint"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427313089, "post_id": 29265006, "comment_id": 46732250, "body": "@Jon It returns the same as with GetInt32- the value I&#39;m looking for, which in this case is just 13.  Casting it to long doesn&#39;t work, casting to Int does. I can work with 32-bits if I have to, but I really want to figure out what&#39;s going on here!  Thanks for the fast reply :)"}, {"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427313169, "post_id": 29265006, "comment_id": 46732286, "body": "Ah, I misread the question. I thought that <code>GetInt32</code> <i>didn&#39;t</i> work."}, {"owner": {"reputation": 23, "user_id": 4496742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5748912d5cf5b76cd1531784153c95d5?s=128&d=identicon&r=PG&f=1", "display_name": "PaleSaint", "link": "https://stackoverflow.com/users/4496742/palesaint"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1427313779, "post_id": 29265006, "comment_id": 46732586, "body": "@MethodMan Calling with the field name gives the same error as above. The reader object value is System.Data.OleDb.OleDbDataReader after the execute call - <a href=\"http://gyazo.com/431e25a6ee3e08426b76d4d2980a5168\" rel=\"nofollow noreferrer\">gyazo.com/431e25a6ee3e08426b76d4d2980a5168</a> here is a picture of the debugger immediately after the execute call.  GetInt32 works fine still."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4496742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5748912d5cf5b76cd1531784153c95d5?s=128&d=identicon&r=PG&f=1", "display_name": "PaleSaint", "link": "https://stackoverflow.com/users/4496742/palesaint"}, "edited": false, "score": 0, "creation_date": 1427314023, "post_id": 29265271, "comment_id": 46732710, "body": "Aha! Can&#39;t believe I missed that, looks like I need to learn to love the Int32! Much appreciated, thanks!"}, {"owner": {"reputation": 92018, "user_id": 77335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/323f9580312f8701daae5088d9cf4ed7?s=128&d=identicon&r=PG&f=1", "display_name": "HansUp", "link": "https://stackoverflow.com/users/77335/hansup"}, "edited": false, "score": 0, "creation_date": 1427316548, "post_id": 29265271, "comment_id": 46734159, "body": "If you still want a Microsoft link, <a href=\"https://support.office.com/en-us/article/Introduction-to-data-types-and-field-properties-30ad644f-946c-442e-8bd2-be067361987c#bm2g\" rel=\"nofollow noreferrer\">here is one</a>"}], "tags": [], "owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "is_accepted": true, "score": 3, "last_activity_date": 1427316660, "last_edit_date": 1427316660, "creation_date": 1427313232, "answer_id": 29265271, "question_id": 29265006, "link": "https://stackoverflow.com/questions/29265006/getting-system-invalidcastexception-when-using-oledbdatareader-getint64-after/29265271#29265271", "title": "Getting System.InvalidCastException when using OleDbDataReader.GetInt64() after fetching Long from MS Access database", "body": "<blockquote>\n  <p>I forgot to mention, this isn't just me confusing the length of Long Integer in Access is it? I assume that it's 64-bit, please correct me if I'm wrong.</p>\n</blockquote>\n\n<p>Yup, I think that's <em>exactly</em> the problem. For example, from <a href=\"https://eggerapps.at/mdbviewer/docs/en/field-types.html\" rel=\"nofollow\">\"Field types in MS Access\"</a>:</p>\n\n<blockquote>\n  <p>Integers in Access come in 1, 2 and 4 byte varieties. The single byte number is named Byte (Range 0-255), the two-byte number is named Integer (-32768 to 32767) and then there is the Long Integer (-2 billion to 2 billion).</p>\n</blockquote>\n\n<p>(<a href=\"http://ss64.com/access/syntax-datatypes.html\" rel=\"nofollow\">This site</a> agrees.)</p>\n\n<p>MS documentation is thin on the ground, but HansUp found this <a href=\"https://support.office.com/en-us/article/Introduction-to-data-types-and-field-properties-30ad644f-946c-442e-8bd2-be067361987c#bm2g\" rel=\"nofollow\">\"Introduction to data types and field properties\"</a> that includes:</p>\n\n<blockquote>\n  <p>Field Size  </p>\n  \n  <ul>\n  <li>...</li>\n  <li>Long Integer \u2014 Use for integers that range from -2,147,483,648 to 2,147,483,647. Storage requirement is 4 bytes.</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 23, "user_id": 4496742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5748912d5cf5b76cd1531784153c95d5?s=128&d=identicon&r=PG&f=1", "display_name": "PaleSaint", "link": "https://stackoverflow.com/users/4496742/palesaint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2206, "favorite_count": 0, "accepted_answer_id": 29265271, "answer_count": 1, "score": 2, "last_activity_date": 1427316660, "creation_date": 1427312421, "last_edit_date": 1592644375, "question_id": 29265006, "link": "https://stackoverflow.com/questions/29265006/getting-system-invalidcastexception-when-using-oledbdatareader-getint64-after", "title": "Getting System.InvalidCastException when using OleDbDataReader.GetInt64() after fetching Long from MS Access database", "body": "<p>I've been working on a project (with Visual Studio 2013) in which I need to retrieve information from a MS Access 2007 database stored locally. I'm using OleDb to deal with the connection at the moment. The database has a single table, with several fields. I am trying to retrieve the value from SID - which is the primary key, set to Auto-Number as a Long Integer from within Access.</p>\n<p>Here's my problem: when the OleDbDataReader has finished executing and I try to retrieve the result (using the GetInt64 method) I get this error:</p>\n<blockquote>\n<p>An unhandled exception of type 'System.InvalidCastException' occurred in System.Data.dll</p>\n<p>Additional information: Specified cast is not valid.</p>\n</blockquote>\n<p>This happens regardless of whether I'm assigning the result to a value or not.\nChanging the call to GetInt32 makes it work, but I've no idea why!</p>\n<p>Could anybody shed light on why this is the case?</p>\n<p>I've searched extensively on here and elsewhere, mostly they suggest the field type is not set to Long Integer in Access, but mine is already, so I don't think that's the issue. None of the other solutions seem to apply or work.</p>\n<p>I've extracted the problem code from my main application, and stripped away all non-essential code, and still get the error, here is the simple version:</p>\n<pre><code>        // Set up connection and test query\n        OleDbConnection connection = new OleDbConnection(&quot;Provider=Microsoft.ACE.OLEDB.12.0;Data Source=C:\\\\Users\\\\Combobulator\\\\Desktop\\\\Testing Databases\\\\Reagents Database\\\\Reagents.mdb&quot;);\n        string query = &quot;SELECT SID FROM MolTable WHERE [Chemical Name] = 'Acetyl Chloride'&quot;;\n        \n        OleDbCommand command = new OleDbCommand(query, connection);\n\n        try {\n            connection.Open();\n            OleDbDataReader reader = command.ExecuteReader();\n\n            if (!reader.HasRows) {\n                System.Console.WriteLine(&quot;Returned no rows.&quot;);\n                Environment.Exit(-1);\n            }\n\n            // Find all matching entries\n            while (reader.Read()) {\n               reader.GetInt64(0);   // This is where the error is thrown\n            }\n\n            // Close the reader and connection\n            reader.Close();\n        } catch (OleDbException e) {\n            System.Console.WriteLine(&quot;Error: &quot; + e.Errors[0].Message);\n        } finally {\n            connection.Close();\n        }\n</code></pre>\n<p>I'm totally stumped, this is the first time I've had to ask online for help.</p>\n<p>Thanks for taking the time to read!</p>\n<p>EDIT: I forgot to mention, this isn't just me confusing the length of Long Integer in Access is it? I assume that it's 64-bit, please correct me if I'm wrong.</p>\n"}, {"tags": ["c#", "serialization"], "comments": [{"owner": {"reputation": 5223, "user_id": 1269135, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kBB6U.png?s=128&g=1", "display_name": "Mike Parkhill", "link": "https://stackoverflow.com/users/1269135/mike-parkhill"}, "edited": false, "score": 1, "creation_date": 1427312581, "post_id": 29264973, "comment_id": 46731961, "body": "Have you looked at Version Tolerant Serialization: <a href=\"https://msdn.microsoft.com/en-us/library/ms229752%28v=vs.110%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms229752%28v=vs.110%29.aspx</a>"}, {"owner": {"reputation": 7080, "user_id": 503688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5ac2f82a852978ff82521a3ac30c86?s=128&d=identicon&r=PG", "display_name": "yoyo", "link": "https://stackoverflow.com/users/503688/yoyo"}, "edited": false, "score": 0, "creation_date": 1427313572, "post_id": 29264973, "comment_id": 46732473, "body": "Text-based json with type-hinting can solve the backwards compatibility issue, but may not meet your memory and performance needs."}, {"owner": {"reputation": 21384, "user_id": 147613, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b04f020193f227391731b05ede7d6fc?s=128&d=identicon&r=PG", "display_name": "Amit", "link": "https://stackoverflow.com/users/147613/amit"}, "reply_to_user": {"reputation": 5223, "user_id": 1269135, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kBB6U.png?s=128&g=1", "display_name": "Mike Parkhill", "link": "https://stackoverflow.com/users/1269135/mike-parkhill"}, "edited": false, "score": 0, "creation_date": 1427313738, "post_id": 29264973, "comment_id": 46732567, "body": "@MikeParkhill, this is exactly what I was looking for..!"}, {"owner": {"reputation": 21384, "user_id": 147613, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b04f020193f227391731b05ede7d6fc?s=128&d=identicon&r=PG", "display_name": "Amit", "link": "https://stackoverflow.com/users/147613/amit"}, "reply_to_user": {"reputation": 7080, "user_id": 503688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5ac2f82a852978ff82521a3ac30c86?s=128&d=identicon&r=PG", "display_name": "yoyo", "link": "https://stackoverflow.com/users/503688/yoyo"}, "edited": false, "score": 0, "creation_date": 1427313915, "post_id": 29264973, "comment_id": 46732664, "body": "@yoyo json based approach doesn&#39;t work that well for me as quantum of data is huge"}, {"owner": {"reputation": 7080, "user_id": 503688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d5ac2f82a852978ff82521a3ac30c86?s=128&d=identicon&r=PG", "display_name": "yoyo", "link": "https://stackoverflow.com/users/503688/yoyo"}, "edited": false, "score": 0, "creation_date": 1427314135, "post_id": 29264973, "comment_id": 46732775, "body": "Fair enough, just thought I&#39;d mention it. If anyone else comes here looking for information on backwards-compatible serialization perhaps it will help them."}], "answers": [{"tags": [], "owner": {"reputation": 10793, "user_id": 3222695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUSq.jpg?s=128&g=1", "display_name": "nikis", "link": "https://stackoverflow.com/users/3222695/nikis"}, "is_accepted": true, "score": 1, "last_activity_date": 1427312721, "creation_date": 1427312721, "answer_id": 29265091, "question_id": 29264973, "link": "https://stackoverflow.com/questions/29264973/how-to-support-object-serialization-and-deserialization-for-changing-class-struc/29265091#29265091", "title": "How to support object Serialization and Deserialization for changing class structure with .net?", "body": "<p>Actually binary serialization is very flexible. Of course, you can just add <code>[Serializable]</code> attribute to the class and forget about details, but you can also take the full control on serialization by implementing <a href=\"https://msdn.microsoft.com/ru-ru/library/system.runtime.serialization.iserializable%28v=vs.110%29.aspx\" rel=\"nofollow\">ISerializable</a> interface/by adding methods/attributes which corresponds to the certain steps of serialization/deserialization lifecycle. Considering your question about structure changes, please take a look on the <a href=\"https://msdn.microsoft.com/en-us/library/ms229752%28v=vs.110%29.aspx\" rel=\"nofollow\">following article</a>.</p>\n"}], "owner": {"reputation": 21384, "user_id": 147613, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b04f020193f227391731b05ede7d6fc?s=128&d=identicon&r=PG", "display_name": "Amit", "link": "https://stackoverflow.com/users/147613/amit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 29265091, "answer_count": 1, "score": 2, "last_activity_date": 1427312721, "creation_date": 1427312293, "question_id": 29264973, "link": "https://stackoverflow.com/questions/29264973/how-to-support-object-serialization-and-deserialization-for-changing-class-struc", "title": "How to support object Serialization and Deserialization for changing class structure with .net?", "body": "<p>I have an entity class which can change over period of time. As of now, I binary serialization to serialize an object of this class. But if I add a new property to the class, I can't deserialize a stream serialized earlier. I tried if I can use <code>BSON</code> with <code>json.net</code>.</p>\n\n<p>I need to take care of these things:</p>\n\n<ul>\n<li>Memory footprint of serialized data should be low</li>\n<li>serialization and deserialization should be fast</li>\n<li>Need to provide backward compatibility for data serialized with old entity class structure</li>\n</ul>\n\n<p>One approach I considered is to convert the object to <code>IDictionary</code> before serializing it so that I can set default value to properties that are not matching while deserializing. While this works well, it involves additional step to convert the object to <code>IDictionary</code>.</p>\n\n<p>Has anyone faced this situation? what are the approaches you use?</p>\n"}, {"tags": ["c#", "random", "3d"], "answers": [{"comments": [{"owner": {"reputation": 2412, "user_id": 1375538, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e3d00e1be284479c46f4e1d20c14b63?s=128&d=identicon&r=PG", "display_name": "test", "link": "https://stackoverflow.com/users/1375538/test"}, "edited": false, "score": 0, "creation_date": 1427314336, "post_id": 29265105, "comment_id": 46732894, "body": "I feel like I&#39;m close with my current code, I think I&#39;m just missing some concept to have it cluster."}, {"owner": {"reputation": 86, "user_id": 3653949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/987b70b5bb344ca0f60abd8d91a13b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn Pot", "link": "https://stackoverflow.com/users/3653949/martijn-pot"}, "reply_to_user": {"reputation": 2412, "user_id": 1375538, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e3d00e1be284479c46f4e1d20c14b63?s=128&d=identicon&r=PG", "display_name": "test", "link": "https://stackoverflow.com/users/1375538/test"}, "edited": false, "score": 0, "creation_date": 1427314524, "post_id": 29265105, "comment_id": 46733027, "body": "If you feel you&#39;re almost there, you can simply add the coordinates of what you want as your center to the x,y,z coordinates that you generated."}], "tags": [], "owner": {"reputation": 86, "user_id": 3653949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/987b70b5bb344ca0f60abd8d91a13b1a?s=128&d=identicon&r=PG&f=1", "display_name": "Martijn Pot", "link": "https://stackoverflow.com/users/3653949/martijn-pot"}, "is_accepted": false, "score": 1, "last_activity_date": 1427312765, "creation_date": 1427312765, "answer_id": 29265105, "question_id": 29264960, "link": "https://stackoverflow.com/questions/29264960/randomly-generate-clustered-points-given-a-center-coordinate-in-3d/29265105#29265105", "title": "Randomly generate clustered points given a center coordinate in 3D", "body": "<p>I think it is easiest to generate random points in spherical coordinates and transform them to cartesian coordinates.</p>\n\n<p>You could generate the radius from the distribution of your choice. Get the two angles from a uniform distribution; one ranging from -pi to pi, the other from 0 to pi. </p>\n"}, {"comments": [{"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1427318427, "post_id": 29266078, "comment_id": 46735178, "body": "This is wrong. Generating <code>theta</code> uniformly from 0 to \\pi won&#39;t work"}, {"owner": {"reputation": 31, "user_id": 603538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5cbb8a7f1ff8f6e65f169f9187c8648?s=128&d=identicon&r=PG", "display_name": "Panagiotis Kazakos", "link": "https://stackoverflow.com/users/603538/panagiotis-kazakos"}, "reply_to_user": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1427318538, "post_id": 29266078, "comment_id": 46735239, "body": "Why is that? What do you suggest?"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1427319230, "post_id": 29266078, "comment_id": 46735556, "body": "please take a look at my answer. Your proposal for <code>theta</code> sampling is wrong, it is not uniform in angles"}, {"owner": {"reputation": 31, "user_id": 603538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5cbb8a7f1ff8f6e65f169f9187c8648?s=128&d=identicon&r=PG", "display_name": "Panagiotis Kazakos", "link": "https://stackoverflow.com/users/603538/panagiotis-kazakos"}, "reply_to_user": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1427320199, "post_id": 29266078, "comment_id": 46736003, "body": "ok I see, you are basing your answer on the Uniformity of the distribution, while all I am trying to do is point to him that he is creating a cubic form from which he excludes the points that are not inside the sphere."}], "tags": [], "owner": {"reputation": 31, "user_id": 603538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5cbb8a7f1ff8f6e65f169f9187c8648?s=128&d=identicon&r=PG", "display_name": "Panagiotis Kazakos", "link": "https://stackoverflow.com/users/603538/panagiotis-kazakos"}, "is_accepted": false, "score": 1, "last_activity_date": 1427316030, "creation_date": 1427316030, "answer_id": 29266078, "question_id": 29264960, "link": "https://stackoverflow.com/questions/29264960/randomly-generate-clustered-points-given-a-center-coordinate-in-3d/29266078#29266078", "title": "Randomly generate clustered points given a center coordinate in 3D", "body": "<p>You can check <a href=\"http://en.wikipedia.org/wiki/Spherical_coordinate_system\" rel=\"nofollow\">this article</a> about Spherical Coordinate System. Martin is correct, you will need </p>\n\n<ul>\n<li>a random number from 0 to r set as r</li>\n<li>a random number from 0 to pi set as theta</li>\n<li>a random number from 0 to 2*pi set as phi</li>\n</ul>\n\n<p>then to transform them to the Cartesian Coordinate System you have to do the following</p>\n\n<ul>\n<li>x = r sin(theta) cos(phi)</li>\n<li>y = r sin(theta) sin(phi)</li>\n<li>x = r cos(theta)</li>\n</ul>\n\n<p>What you are doing right now will lead to a point cloud of a cubic shape. </p>\n\n<p>If you need further help with the code please do tell.</p>\n"}, {"tags": [], "owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "is_accepted": false, "score": 0, "last_activity_date": 1427319142, "last_edit_date": 1427319142, "creation_date": 1427318805, "answer_id": 29266853, "question_id": 29264960, "link": "https://stackoverflow.com/questions/29264960/randomly-generate-clustered-points-given-a-center-coordinate-in-3d/29266853#29266853", "title": "Randomly generate clustered points given a center coordinate in 3D", "body": "<p>Ok, let's start with distribution, which obviously only depends on r\nSo Probability Density Function would be</p>\n\n<pre><code>PDF(x, y, z) = f(x, y, z) dx dy dz\n</code></pre>\n\n<p>We know f(x,y,z) depends only on <code>r=sqrt(x^2+y^2+z^2)</code>\nLets move to spherical coordinates</p>\n\n<pre><code>PDF(r,theta,phi) = f(r) r^2 sin(theta) dr dtheta dphi\n</code></pre>\n\n<p>Where <code>r^2 sin(theta)</code> are coming from Jacobian\nIt could be easily factorized into</p>\n\n<pre><code>P(r)     = f(r) r^2 dr\nP(theta) = sin(theta) dtheta\nP(phi)   = dphi\n</code></pre>\n\n<p>ok, only <code>phi</code> is distribution uniformly so</p>\n\n<pre><code>phi = 2*pi*random()\n</code></pre>\n\n<p>for <code>theta</code> it is uniform <code>cos(theta)</code>, so</p>\n\n<pre><code>cos(theta) = 2*random()-1\n</code></pre>\n\n<p>and for <code>r</code> you have to know what <code>f(r)</code> is, but distribution would be affected by <code>r^2</code> term</p>\n\n<pre><code>P(r) = f(r) r^2 dr\n</code></pre>\n\n<p>I might suggest using gaussian for <code>f(r)</code>, but you might want another choice. And of course</p>\n\n<pre><code>sin(theta) = sqrt(1-cos(theta)^2)\nx = r * sin(theta) * cos(phi)\ny = r * sin(theta) * sin(phi)\nz = r * cos(theta)\n</code></pre>\n"}], "owner": {"reputation": 2412, "user_id": 1375538, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4e3d00e1be284479c46f4e1d20c14b63?s=128&d=identicon&r=PG", "display_name": "test", "link": "https://stackoverflow.com/users/1375538/test"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1427319142, "creation_date": 1427312244, "last_edit_date": 1427314212, "question_id": 29264960, "link": "https://stackoverflow.com/questions/29264960/randomly-generate-clustered-points-given-a-center-coordinate-in-3d", "title": "Randomly generate clustered points given a center coordinate in 3D", "body": "<p>I would like to be able to generate a cluster of points in 3D space that would create a majority of the points within a specified sphere radius (in this case, 4) from the starting point (in this case, 0,0,0). I'd also like it to generate the occasional outlier too.</p>\n\n<p>It would be similar to this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/hROLa.png\" alt=\"3D Point Clustering\"></p>\n\n<p>But I'd like to be able to tweak some of the settings. I will be generating this in C# and I'm familiar with the Random class, and have some familiarity with spheres. I'm not sure how I can piece it all together.</p>\n\n<p>I have this which can generate a point in a sphere, but I want it to cluster around that center point:</p>\n\n<pre><code>// elsewhere in code\nprivate static readonly Random Random = new Random();\n\nprivate static double NextDouble(double minValue, double maxValue)\n{\n    double next = Random.NextDouble();\n\n    return minValue + (next * (maxValue - minValue));\n}\n\n// generates random points in sphere\nconst int r = 6;\n\ndouble x;\ndouble y;\ndouble z;\n\ndo\n{\n    x = NextDouble(-r, 1 + r);\n    y = NextDouble(-r, 1 + r);\n    z = NextDouble(-r, 1 + r);\n\n} while (Math.Pow(x, 2) + Math.Pow(y, 2) + Math.Pow(z, 2) &gt; Math.Pow(r, 2));\n</code></pre>\n"}, {"tags": ["c#", "asp.net-web-api", "odata"], "answers": [{"tags": [], "owner": {"reputation": 1065, "user_id": 1769784, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/cf56c0f621feefaa228749400702e9a8?s=128&d=identicon&r=PG", "display_name": "Christopher Spears", "link": "https://stackoverflow.com/users/1769784/christopher-spears"}, "is_accepted": false, "score": 9, "last_activity_date": 1591190059, "last_edit_date": 1591190059, "creation_date": 1427313011, "answer_id": 29265198, "question_id": 29264924, "link": "https://stackoverflow.com/questions/29264924/trouble-enabling-odata-v4-0-routing-in-asp-net-web-api-2-2/29265198#29265198", "title": "Trouble enabling OData v4.0 routing in ASP.NET Web API 2.2", "body": "<p>Replacing System.Web.Http.OData.Builder with System.Web.OData.Builder seems to work.</p>\n\n<p>Here is the link with the explanation: <a href=\"https://devblogs.microsoft.com/aspnet/getting-started-with-asp-net-web-api-2-2-for-odata-v4-0/\" rel=\"nofollow noreferrer\">https://devblogs.microsoft.com/aspnet/getting-started-with-asp-net-web-api-2-2-for-odata-v4-0/</a></p>\n\n<p>I think this line pretty much sums it up though:</p>\n\n<blockquote>\n  <p>The assembly name and the root namespace are now System.Web.OData\n  instead of System.Web.Http.OData.</p>\n</blockquote>\n\n<p>The headers I am using are now:</p>\n\n<pre><code>using MyApp.Models;\n// using Microsoft.Data.Edm;\nusing Microsoft.OData.Edm;\nusing System.Net.Http.Headers;\nusing System.Web.Http;\n// using System.Web.Http.OData.Builder;\nusing System.Web.OData.Builder;\nusing System.Web.OData.Extensions;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 4675908, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SNWZtmBH-fk/AAAAAAAAAAI/AAAAAAAAADo/KoAJ7sYVZFE/photo.jpg?sz=128", "display_name": "FSD", "link": "https://stackoverflow.com/users/4675908/fsd"}, "is_accepted": false, "score": 1, "last_activity_date": 1465604851, "creation_date": 1465604851, "answer_id": 37758805, "question_id": 29264924, "link": "https://stackoverflow.com/questions/29264924/trouble-enabling-odata-v4-0-routing-in-asp-net-web-api-2-2/37758805#37758805", "title": "Trouble enabling OData v4.0 routing in ASP.NET Web API 2.2", "body": "<p>i wish this will help,\ni got same error when i tried to do same example, i just did the following by package manager console </p>\n\n<p>1- unInstall-Package Microsoft.OData.Edm -Force\n2- Install-Package Microsoft.OData.Edm </p>\n\n<p>then it works fine with me.</p>\n"}, {"tags": [], "owner": {"reputation": 1396, "user_id": 468116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y4lVc.jpg?s=128&g=1", "display_name": "Syed Nasir Abbas", "link": "https://stackoverflow.com/users/468116/syed-nasir-abbas"}, "is_accepted": false, "score": 2, "last_activity_date": 1549643006, "creation_date": 1549643006, "answer_id": 54596481, "question_id": 29264924, "link": "https://stackoverflow.com/questions/29264924/trouble-enabling-odata-v4-0-routing-in-asp-net-web-api-2-2/54596481#54596481", "title": "Trouble enabling OData v4.0 routing in ASP.NET Web API 2.2", "body": "<p>Please use</p>\n\n<pre><code>using Microsoft.AspNet.OData.Builder;\nusing Microsoft.AspNet.OData.Extensions;\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>using System.Web.OData.Builder;\nusing System.Web.OData.Extensions;\n</code></pre>\n"}], "owner": {"reputation": 1065, "user_id": 1769784, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/cf56c0f621feefaa228749400702e9a8?s=128&d=identicon&r=PG", "display_name": "Christopher Spears", "link": "https://stackoverflow.com/users/1769784/christopher-spears"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4043, "favorite_count": 2, "answer_count": 3, "score": 5, "last_activity_date": 1591190059, "creation_date": 1427312123, "question_id": 29264924, "link": "https://stackoverflow.com/questions/29264924/trouble-enabling-odata-v4-0-routing-in-asp-net-web-api-2-2", "title": "Trouble enabling OData v4.0 routing in ASP.NET Web API 2.2", "body": "<p>I am trying to implement OData routing in my ASP.NET web api.  For guidance, I looked at this tutorial: <a href=\"http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint\" rel=\"noreferrer\">http://www.asp.net/web-api/overview/odata-support-in-aspnet-web-api/odata-v4/create-an-odata-v4-endpoint</a>.</p>\n\n<p>However, I keep on getting an error message in the MapODataServiceRoute() function.  Apparently, the function is expecting a Microsoft.OData.Edm.IEdmModel, and my builder's GetEdmModel() function only returns Microsoft.Data.Edm.IEdmModel.</p>\n\n<p>I did some research online.  Microsoft.Data.Edm is a library for the older version of OData.  Microsoft.OData.Edm is for OData v4.0, which is why I commented out Microsoft.Data.Edm in WebApiConfig.cs file.  Here is my code.</p>\n\n<pre><code>using MyApp.Models;\n// using Microsoft.Data.Edm;\nusing Microsoft.OData.Edm;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Net.Http.Headers;\nusing System.Web.Http;\nusing System.Web.Http.OData.Builder;\nusing System.Web.OData.Extensions;\nusing System.Web.OData.Routing;\n\nnamespace MyAppAPI\n{\n    public static class WebApiConfig\n    {\n        public static void Register(HttpConfiguration config)\n        {\n            // Enable attribute routing\n            config.MapHttpAttributeRoutes();\n\n            // Enable OData routing\n            config.MapODataServiceRoute(\n                routeName: \"MyApp\",\n                routePrefix: \"odata\",\n                model: GetEdmModel());\n\n            // Conventional routing\n            config.Routes.MapHttpRoute(\n                name: \"DefaultApi\",\n                routeTemplate: \"api/{controller}/{id}\",\n                defaults: new { id = RouteParameter.Optional }\n            );\n\n            // Uncomment the following line of code to enable query support for actions with an IQueryable or IQueryable&lt;T&gt; return type.\n            // To avoid processing unexpected or malicious queries, use the validation settings on QueryableAttribute to validate incoming queries.\n            // For more information, visit http://go.microsoft.com/fwlink/?LinkId=279712.\n            config.EnableQuerySupport();\n\n            // To disable tracing in your application, please comment out or remove the following line of code\n            // For more information, refer to: http://www.asp.net/web-api\n            config.EnableSystemDiagnosticsTracing();\n\n            // Trying to get most browsers (i.e. Google Chrome) to return JSON\n            config.Formatters.JsonFormatter.SupportedMediaTypes.Add(new MediaTypeHeaderValue(\"text/html\"));\n        }\n\n        // Configure modesl to use Odata\n        public static IEdmModel GetEdmModel()\n        {\n            ODataConventionModelBuilder builder = new ODataConventionModelBuilder();\n            builder.EntitySet&lt;ModelA&gt;(\"ModelA\");\n            builder.EntitySet&lt;ModelB&gt;(\"ModelB\");\n            return builder.GetEdmModel();\n        }\n\n    }\n}\n</code></pre>\n\n<p>However, I am still getting an error message:</p>\n\n<pre><code>Error   1   Cannot implicitly convert type 'Microsoft.Data.Edm.IEdmModel' to 'Microsoft.OData.Edm.IEdmModel'. An explicit conversion exists (are you missing a cast?)\n</code></pre>\n\n<p>Is there a clean way to get a Microsoft.OData.Edm.IEdmModel?  Or am I going to have to just do a cast?</p>\n"}, {"tags": ["c#", "linq", "filtering"], "answers": [{"tags": [], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "is_accepted": true, "score": 2, "last_activity_date": 1427312143, "creation_date": 1427312143, "answer_id": 29264932, "question_id": 29264887, "link": "https://stackoverflow.com/questions/29264887/how-to-filter-a-tuple-by-a-single-item-c/29264932#29264932", "title": "How to filter a Tuple by a single item C#", "body": "<p><code>List&lt;T&gt;</code> implements <code>IEnumerable&lt;T&gt;</code>. So when you are reassigning <code>daySearch</code> it compiles. You should introduce a <code>daySearchList</code> and use that.</p>\n\n<pre><code>var daySearch = Content.Where(tuple =&gt; tuple.Item1 == DaySearchInput);\nvar daySearchList = Content.OrderByDescending(item =&gt; item.Item2).ToList();\n</code></pre>\n\n<p>Or just drop your first query, since it was just getting overwritten.</p>\n\n<pre><code>var daySearch = Content.OrderByDescending(item =&gt; item.Item2).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4142, "user_id": 1649762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff54b748d9338b6ac8b92555d56304d0?s=128&d=identicon&r=PG", "display_name": "Michael Dunlap", "link": "https://stackoverflow.com/users/1649762/michael-dunlap"}, "is_accepted": false, "score": 0, "last_activity_date": 1427312241, "creation_date": 1427312241, "answer_id": 29264958, "question_id": 29264887, "link": "https://stackoverflow.com/questions/29264887/how-to-filter-a-tuple-by-a-single-item-c/29264958#29264958", "title": "How to filter a Tuple by a single item C#", "body": "<p>In your declaration of daySearch, you used <code>var daySearch</code>, which results in an IEnumerable because you don't assign a <code>List</code> to it, just the IEnumerable result of the <code>.Where()</code>. Use something like:</p>\n\n<pre><code>var daySearch = Content.Where(tuple =&gt; tuple.Item1 == DaySearchInput)\n                 .OrderByDescending(item =&gt; item.Item2).ToList();\n</code></pre>\n\n<p>This should allow you to use the <code>.ForEach</code> extension method.</p>\n"}], "owner": {"reputation": 73, "user_id": 4704237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c76727e9ff4a75fc14df16ed260e581?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/4704237/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 29264932, "answer_count": 2, "score": 0, "last_activity_date": 1427314657, "creation_date": 1427312005, "last_edit_date": 1427314657, "question_id": 29264887, "link": "https://stackoverflow.com/questions/29264887/how-to-filter-a-tuple-by-a-single-item-c", "title": "How to filter a Tuple by a single item C#", "body": "<p>I am creating an application that displays a Tuple as a table in the command line and need to be able to filter this by item 1. My current implementation of displaying the Tuple is:</p>\n\n<pre><code>Console.Clear(); //clears the console\nvar file1 = @\"Files\\Day.txt\"; //location of the Day file\nvar file2 = @\"Files\\Date.txt\"; //location of the Date file\nvar file3 = @\"Files\\Value1.txt\"; //location of the value1\nvar file4 = @\"Files\\Value2.txt\"; //location of the value2\nvar file5 = @\"Files\\Value3.txt\"; //location of the value3\nvar file6 = @\"Files\\Value4.txt\"; //location of the value4\n\nvar days = System.IO.File.ReadAllLines(file1); \nvar dates = System.IO.File.ReadAllLines(file2); \nvar value1 = System.IO.File.ReadAllLines(file3); \nvar value2 = System.IO.File.ReadAllLines(file4); \nvar value3 = System.IO.File.ReadAllLines(file5); \nvar value4 = System.IO.File.ReadAllLines(file6); \nvar columnCount = days.Length; \nvar Content = new List&lt;Tuple&lt;string, string, string, string, string, string&gt;&gt;(); // The list of items read from each file\n\nfor (int i = 0; i &lt; columnCount; i++) // Add a new item for each line in each file\n{\n    Content.Add(new Tuple&lt;string, string, string, string, string, string&gt;(days[i], dates[i], value1[i], value2[i], value3[i], value4[i]));\n}\nConsole.Clear();\nConsole.WriteLine(\" - ASCENDING ORDER -----------------------------------------------------------------------------\");\nConsole.WriteLine(\"| DAY          DATE         VALUE1     VALUE2      VALUE3      | VALUE4 |\");\nConsole.WriteLine(\" -----------------------------------------------------------------------------------------------\");\nContent = Content.OrderBy(item =&gt; item.Item2).ToList();\nContent.ForEach(item =&gt; Console.WriteLine(\" {0}    \\t {1}   \\t   {2}   \\t   {3}   \\t   {4}   \\t   {5}\", item.Item1, item.Item2, item.Item3, item.Item4, item.Item5, item.Item6));\nConsole.WriteLine(\" ------------------------------------------------------------------------------------------------\");}\n</code></pre>\n\n<p>etc</p>\n\n<p>Now what I need to do is I need the be able to filter this table so that for example, filtering item1 to include rows with values on \"Monday\". This is how I have attempted to implement the filter:</p>\n\n<pre><code>string DaySearchInput;\nConsole.WriteLine(\"\\nYou may search for items on the following days;\");\nConsole.Write(\"\\nPlease enter the day of the week you wish to search for (case sensitive): \");\nDaySearchInput= Console.ReadLine();\n\n\nvar daySearch = Content.Where(tuple =&gt; tuple.Item1 == DaySearchInput);\ndaySearch = Content.OrderByDescending(item =&gt; item.Item2).ToList();\n\n\nConsole.Clear();\nConsole.WriteLine(\"\\n - VALUES ON A {0}     --------------------------------------------------------------------\", DaySearchInput);\nConsole.WriteLine(\"| DAY               DATE         VALUE1     VALUE2           VALUE3     | VALUE4 |\");\nConsole.WriteLine(\" -----------------------------------------------------------------------------------------------\");\ndaySearch.ForEach(item =&gt; Console.WriteLine(\" {0}    \\t {1}   \\t   {2}   \\t   {3}   \\t   {4}   \\t   {5}\", item.Item1, item.Item2, item.Item3, item.Item4, item.Item5, item.Item6));\n</code></pre>\n\n<p>When attempting to compile the current file I get this error:</p>\n\n<p><code>'System.Collections.Generic.IEnumerable&lt;System.Tuple&lt;string,string,string,string,string,string&gt;&gt;'</code> does not contain a definition for 'ForEach' and no extension method 'ForEach'\naccepting a first argument of type\n<code>'System.Collections.Generic.IEnumerable&lt;System.Tuple&lt;string,string,string,string,string,string&gt;&gt;'</code> could be found (are you missing a using directive or an assembly reference?)</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 5, "creation_date": 1427311610, "post_id": 29264757, "comment_id": 46731408, "body": "&quot;it should result as NaN&quot; --- what this statement is based on? C# behaviour pretty match follows the math."}, {"owner": {"reputation": 6250, "user_id": 2359643, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05ea83110037dc15d8d22e722fd184f4?s=128&d=identicon&r=PG", "display_name": "JNYRanger", "link": "https://stackoverflow.com/users/2359643/jnyranger"}, "edited": false, "score": 0, "creation_date": 1427311735, "post_id": 29264757, "comment_id": 46731492, "body": "Check out this answer (different question):  <a href=\"http://stackoverflow.com/a/14244726/2359643\">stackoverflow.com/a/14244726/2359643</a> or this one <a href=\"http://stackoverflow.com/a/15117594/2359643\">stackoverflow.com/a/15117594/2359643</a>"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 7, "creation_date": 1427311736, "post_id": 29264757, "comment_id": 46731494, "body": "C# is just following the IEEE specs."}, {"owner": {"reputation": 36615, "user_id": 111266, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/441c43192e97e0374d0c18d8c37ebe47?s=128&d=identicon&r=PG", "display_name": "Joe Enos", "link": "https://stackoverflow.com/users/111266/joe-enos"}, "edited": false, "score": 0, "creation_date": 1427311814, "post_id": 29264757, "comment_id": 46731546, "body": "This is why for any programming environment, if I&#39;m doing any kind of division, I make sure that there&#39;s no possible way I&#39;m dividing by zero, so I don&#39;t have to deal with NaN, or infinity, or an exception, or however a language chooses to describe it."}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427312136, "post_id": 29264757, "comment_id": 46731715, "body": "@zerkms It&#39;s based on mathematical interpretation of the two scenarios?"}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 6250, "user_id": 2359643, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/05ea83110037dc15d8d22e722fd184f4?s=128&d=identicon&r=PG", "display_name": "JNYRanger", "link": "https://stackoverflow.com/users/2359643/jnyranger"}, "edited": false, "score": 0, "creation_date": 1427312270, "post_id": 29264757, "comment_id": 46731788, "body": "@JNYRanger No, my question is different. I&#39;m concerned with why is the behaviour opposite to the mathematical explanation of the two scenarios."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1427312319, "post_id": 29264757, "comment_id": 46731821, "body": "@Dumbledore on &quot;arithmetic&quot; interpretation. &quot;Math&quot; is a broad field. And still, &quot;does not represent any number&quot; still can be an infinity. Infinity is not a number."}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427312449, "post_id": 29264757, "comment_id": 46731888, "body": "@zerkms Fully agreed. Then why are <code>NaN</code> and <code>infinity</code> different in C#? Why didn&#39;t they just use <code>infinity</code>?"}, {"owner": {"reputation": 8282, "user_id": 2594485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f83259580b901bbf7c3c38f3a9b7eef8?s=128&d=identicon&r=PG", "display_name": "Dennis_E", "link": "https://stackoverflow.com/users/2594485/dennis-e"}, "edited": false, "score": 0, "creation_date": 1427312489, "post_id": 29264757, "comment_id": 46731910, "body": "Just nitpicking: Infinity and NaN are not opposite. PositiveInfinity and NegativeInfinity are opposite. Only dividing 0 by 0 will give NaN. Dividing any other number by zero will give one of the infinities."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427312564, "post_id": 29264757, "comment_id": 46731954, "body": "@Dumbledore because <code>0&#47;0</code> is <i>uncertainty</i>. It can be any value - 0, any number, infinity; depending on the order of the 0."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1427312598, "post_id": 29264757, "comment_id": 46731972, "body": "@Dumbledore There are all sorts of values that aren&#39;t numbers.  Positive/negative infinity are just two types of values that aren&#39;t numbers.  Rather than wrapping up every single value that isn&#39;t a number into one NaN value, different, more specific, types of non-numeric values exist.  You can use <code>double.IsNaN</code> to determine if a value is any type of non-numeric value."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427312819, "post_id": 29264757, "comment_id": 46732086, "body": "@Dumbledore it&#39;s called &quot;uncertainty&quot;, it&#39;s an official calculus term."}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427312937, "post_id": 29264757, "comment_id": 46732149, "body": "@zerkms Sure, any number. So, what&#39;s the point of using <code>NaN</code> if it&#39;s still a number? It&#39;s <code>x&#47;0</code> that&#39;s undefined or that has absolutely no possible solution. Shouldn&#39;t that be NaN?"}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1427313116, "post_id": 29264757, "comment_id": 46732261, "body": "@Servy Yes, I agree. And yes, you&#39;re right we can use <code>Double.IsNaN</code> to determine non-numeric values. However, I was just comparing it to basic math and wondering why is it different?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1427313245, "post_id": 29264757, "comment_id": 46732322, "body": "@Dumbledore It&#39;s not different.  In abstract math there are all sorts of values that aren&#39;t numbers, and positive/negative infinity are two specific values that aren&#39;t numbers.  This models that.  Of course not all specific non-numeric values have their own <code>double</code> value, so those that weren&#39;t bothered to be specifically represented were wrapped in the bucket of <code>NaN</code> to just be &quot;all other non-numeric values&quot;.  It&#39;s not a super detailed model, but it&#39;s certainly not a fundamentally different model."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427313412, "post_id": 29264757, "comment_id": 46732401, "body": "@Dumbledore: it&#39;s not a number, it&#39;s an &quot;uncertainty&quot;. It&#39;s the <a href=\"http://en.wikipedia.org/wiki/Limit_(mathematics)\" rel=\"nofollow noreferrer\"><i>limit</i></a> operation that returns the value for the uncertainty. You want to say &quot;it&#39;s a number&quot; - fine, apply <i>limit</i> to it first."}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1427313576, "post_id": 29264757, "comment_id": 46732475, "body": "@Servy Yes, that makes perfect sense. Thanks for explaining it."}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427313852, "post_id": 29264757, "comment_id": 46732630, "body": "@zerkms I don&#39;t think you can apply limit to <code>0&#47;0</code> as there is no variable here. Anyways, you mention that it&#39;s &quot;uncertainity&quot;. I totally agree to that. So, actually there is an <i>infinite</i> <i>set</i> <i>of</i> <i>numbers</i>, not just one one number. That&#39;s why it&#39;s <code>NaN</code>. Thanks for the discussion."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1427313889, "post_id": 29264757, "comment_id": 46732649, "body": "@Dumbledore: here I used <code>0&#47;0</code> to represent the type of uncertainty, not as the actual expression."}, {"owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1427313945, "post_id": 29264757, "comment_id": 46732673, "body": "@Servy If you post that as an answer, I&#39;ll accept it."}], "answers": [{"tags": [], "owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "is_accepted": false, "score": 1, "last_activity_date": 1427311783, "creation_date": 1427311783, "answer_id": 29264825, "question_id": 29264757, "link": "https://stackoverflow.com/questions/29264757/division-by-0-anomaly/29264825#29264825", "title": "Division by 0 anomaly", "body": "<p>The question you're referring to has tags <code>algebra-precalculus</code>, <code>arithmetic</code>.</p>\n\n<p>Whereas there is <a href=\"https://en.wikipedia.org/wiki/Calculus\" rel=\"nofollow\"><code>calculus</code></a> section of the math that defines the numbers behaviour that C# implements.</p>\n\n<p>So that answer is correct for the field it was asked within.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 4713633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-w7qc6ZdedpY/AAAAAAAAAAI/AAAAAAAAAPU/KuIWRReVphY/photo.jpg?sz=128", "display_name": "Evan Geng", "link": "https://stackoverflow.com/users/4713633/evan-geng"}, "is_accepted": false, "score": 2, "last_activity_date": 1427312135, "creation_date": 1427312135, "answer_id": 29264929, "question_id": 29264757, "link": "https://stackoverflow.com/questions/29264757/division-by-0-anomaly/29264929#29264929", "title": "Division by 0 anomaly", "body": "<p>Actually, by \"infinite solutions\", they mean any given number is a solution to the equation, and as such, the solution is not applicable.</p>\n\n<p>However, when you divide a nonzero constant by zero, the answer does, in fact, go to (\u00b1) infinity. I'm too lazy to explain the calculus, so take a look at this: <a href=\"http://www.wolframalpha.com/input/?i=lim%201/x%20as%20x%20approaches%200\" rel=\"nofollow\">www.wolframalpha.com/input/?i=lim+1/x+as+x+approaches+0</a></p>\n"}, {"tags": [], "owner": {"reputation": 5480, "user_id": 2779530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb6a3e18200e5419f3de29b1d385e6d?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/2779530/kyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1427312480, "creation_date": 1427312480, "answer_id": 29265021, "question_id": 29264757, "link": "https://stackoverflow.com/questions/29264757/division-by-0-anomaly/29265021#29265021", "title": "Division by 0 anomaly", "body": "<p>Well, if we're talking about real numbers, then the expression 'x/0' has no real solution.  Now, mathematically we could move to a different set of numbers, like the <a href=\"http://en.wikipedia.org/wiki/Real_projective_line\" rel=\"nofollow\">real projective line</a>, in which division by 0 <em>is</em> defined.</p>\n\n<p>So really what you've discovered here is that the set of numbers represented by a <code>double</code> (or most any floating point values) is <strong>not</strong> the set of real numbers.  So the usual rules about the real numbers don't really apply in such a straight-forward way.  For that reason it's perfectly acceptable to define division in this way.  Even mathematically.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 4559636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe57d904f152c01e7f9b13627afa3ed3?s=128&d=identicon&r=PG&f=1", "display_name": "Eloy", "link": "https://stackoverflow.com/users/4559636/eloy"}, "is_accepted": false, "score": 0, "last_activity_date": 1427312597, "creation_date": 1427312597, "answer_id": 29265057, "question_id": 29264757, "link": "https://stackoverflow.com/questions/29264757/division-by-0-anomaly/29265057#29265057", "title": "Division by 0 anomaly", "body": "<p>From: <a href=\"http://www.gnu.org/software/libc/manual/html_node/Infinity-and-NaN.html\" rel=\"nofollow\">Gnu</a></p>\n\n<p>IEEE 754 floating point numbers can represent positive or negative infinity, and NaN (not a number). These three values arise from calculations whose result is undefined or cannot be represented accurately. You can also deliberately set a floating-point variable to any of them, which is sometimes useful. Some examples of calculations that produce infinity or NaN:</p>\n\n<pre><code>1/0 = &amp;infin;\nlog (0) = -&amp;infin;\nsqrt (-1) = NaN\n</code></pre>\n\n<p>When a calculation produces any of these values, an exception also occurs; see FP Exceptions.</p>\n\n<p>The basic operations and math functions all accept infinity and NaN and produce sensible output. Infinities propagate through calculations as one would expect: for example, 2 + &infin; = &infin;, 4/&infin; = 0, atan (&infin;) = &pi;/2. NaN, on the other hand, infects any calculation that involves it. Unless the calculation would produce the same result no matter what real value replaced NaN, the result is NaN.</p>\n\n<p>In comparison operations, positive infinity is larger than all values except itself and NaN, and negative infinity is smaller than all values except itself and NaN. NaN is unordered: it is not equal to, greater than, or less than anything, including itself. x == x is false if the value of x is NaN. You can use this to test whether a value is NaN or not, but the recommended way to test for NaN is with the isnan function (see Floating Point Classes). In addition, &lt;, >, &lt;=, and >= will raise an exception when applied to NaNs.</p>\n\n<p>math.h defines macros that allow you to explicitly set a variable to infinity or NaN.</p>\n\n<p>Macro: float INFINITY\nAn expression representing positive infinity. It is equal to the value produced by mathematical operations like 1.0 / 0.0. -INFINITY represents negative infinity.</p>\n\n<p>You can test whether a floating-point value is infinite by comparing it to this macro. However, this is not recommended; you should use the isfinite macro instead. See Floating Point Classes.</p>\n\n<p>This macro was introduced in the ISO C99 standard.</p>\n\n<p>Macro: float NAN\nAn expression representing a value which is \u201cnot a number\u201d. This macro is a GNU extension, available only on machines that support the \u201cnot a number\u201d value\u2014that is to say, on all machines that support IEEE floating point.</p>\n\n<p>You can use \u2018#ifdef NAN\u2019 to test whether the machine supports NaN. (Of course, you must arrange for GNU extensions to be visible, such as by defining _GNU_SOURCE, and then you must include math.h.)</p>\n\n<p>IEEE 754 also allows for another unusual value: negative zero. This value is produced when you divide a positive number by negative infinity, or when a negative result is smaller than the limits of representation.</p>\n"}, {"comments": [{"owner": {"reputation": 5480, "user_id": 2779530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb6a3e18200e5419f3de29b1d385e6d?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/2779530/kyle"}, "edited": false, "score": 0, "creation_date": 1427314432, "post_id": 29265573, "comment_id": 46732964, "body": "<code>double.IsNaN</code> only seems to check specifically for <code>double.NaN</code>.  E.g. <code>double.IsNaN( double.PositiveInfinity )</code> will return <code>false</code>.  Likewise for <code>double.NegativeInfinity</code>.  If you want to check for non-real values, you&#39;ll have to do something like <code>!double.IsInfinity( x ) &amp;&amp; !double.IsNaN( x )</code>"}], "tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": true, "score": 2, "last_activity_date": 1427314548, "last_edit_date": 1427314548, "creation_date": 1427314223, "answer_id": 29265573, "question_id": 29264757, "link": "https://stackoverflow.com/questions/29264757/division-by-0-anomaly/29265573#29265573", "title": "Division by 0 anomaly", "body": "<p>There are all sorts of values that aren't numbers, and positive/negative infinity are two specific values that aren't numbers.  (Another would be say the square root of negative one.)  This models that. </p>\n\n<p>Of course not all specific non-numeric values have their own <code>double</code> value, so those that weren't bothered to be specifically represented were wrapped in the bucket labeled <code>NaN</code> to just be \"all other non-numeric values\". It's not a super detailed model as there aren't all that many specific non-numeric values listed, but it's certainly not a fundamentally different model.</p>\n"}], "owner": {"reputation": 424, "user_id": 3935044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2ca82996a6e691de886785e8367cff41?s=128&d=identicon&r=PG&f=1", "display_name": "Dumbledore", "link": "https://stackoverflow.com/users/3935044/dumbledore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 29265573, "answer_count": 5, "score": 0, "last_activity_date": 1427314548, "creation_date": 1427311530, "last_edit_date": 1492085959, "question_id": 29264757, "link": "https://stackoverflow.com/questions/29264757/division-by-0-anomaly", "title": "Division by 0 anomaly", "body": "<p>I ran into this <a href=\"https://math.stackexchange.com/questions/26445/division-by-0\">question in Math Stack Exchnage</a> which is regarding division of numbers by 0.</p>\n\n<p>Now, regarding <code>x/0</code>, the <a href=\"https://math.stackexchange.com/a/26452/225122\">accepted answer</a> states that:</p>\n\n<blockquote>\n  <p>Since there are no solutions to the equation, there is no such thing as \"x/0\". So x/0 does not represent any number.</p>\n</blockquote>\n\n<p>So, implementing this in C#, if we divide a number(<code>double</code>) by <code>0.0</code>, it should result as <code>NaN</code>. However, it shows <code>infinity</code>.</p>\n\n<p>On the other hand, for the operation <code>0.0 / 0.0</code>, it's written that:</p>\n\n<blockquote>\n  <p>the problem here is that the equation 0z=0 has any value of z as a solution (that's what the \"infinite solutions\" means).</p>\n</blockquote>\n\n<p>However, doing this in C#, it results as <code>NaN</code>.</p>\n\n<p>Why is this behaviour opposite in C#? Did they make a mistake while implementing it?</p>\n\n<p><a href=\"https://dotnetfiddle.net/ojsNki\" rel=\"nofollow noreferrer\">Here is a working fiddle to demonstrate that.</a></p>\n"}, {"tags": ["c#", "entity-framework"], "comments": [{"owner": {"reputation": 10390, "user_id": 495247, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/08d49f7263093a9ddfebf43ccf9006ad?s=128&d=identicon&r=PG", "display_name": "Scottie", "link": "https://stackoverflow.com/users/495247/scottie"}, "edited": false, "score": 0, "creation_date": 1427318683, "post_id": 29264742, "comment_id": 46735312, "body": "Why are you using SaveData in your DbSet?  That should be done on the DbContext."}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1427319571, "post_id": 29264742, "comment_id": 46735701, "body": "<code>ObjectSet.SaveData</code> doesn&#39;t exist. Is this some homebrewn extension method? But anyway, I&#39;d always try to turn away from the legacy <code>ObjectSet</code> and replace it for the more developer-friendly <code>DbSet</code>. I don&#39;t know how much impact this would have on your code, but I&#39;m sure it&#39;s worth the effort."}], "answers": [{"comments": [{"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1427319296, "post_id": 29266867, "comment_id": 46735581, "body": "Better to mark as duplicate than to copy an answer, esp. when you don&#39;t copy it correctly (<code>entities.ObjectContext</code>). But while this answers the OP&#39;s direct question, it&#39;s probably not the best way to go."}], "tags": [], "owner": {"reputation": 2837, "user_id": 2516770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ilpyS.jpg?s=128&g=1", "display_name": "Keith Payne", "link": "https://stackoverflow.com/users/2516770/keith-payne"}, "is_accepted": false, "score": 0, "last_activity_date": 1427318844, "last_edit_date": 1495540609, "creation_date": 1427318844, "answer_id": 29266867, "question_id": 29264742, "link": "https://stackoverflow.com/questions/29264742/how-to-convert-objectset-to-dbset/29266867#29266867", "title": "How to convert ObjectSet to DbSet", "body": "<p>The answer can be found here: <a href=\"https://stackoverflow.com/questions/11252096/how-to-convert-dbset-in-entity-framework-to-objectquery\">How to convert DbSet in Entity framework to ObjectQuery</a></p>\n\n<pre><code>public class ManufacturerEntityService : BaseEntityService&lt;Manufacturer&gt;\n{\n    Entities entities = new Entities();\n\n    protected override ObjectSet&lt;Manufacturer&gt; EntitySet\n    {\n        get \n        { \n            ObjectContext objectContext = entities.ObjectContext;  \n            return objectContext.CreateObjectSet&lt;Manufacturer&gt;(\"Manufacturers\");\n        }\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4713711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edc8fc6fa8852fcd7e5432347dd2abe3?s=128&d=identicon&r=PG&f=1", "display_name": "Mykhailo", "link": "https://stackoverflow.com/users/4713711/mykhailo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1603, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1427318844, "creation_date": 1427311467, "last_edit_date": 1427318499, "question_id": 29264742, "link": "https://stackoverflow.com/questions/29264742/how-to-convert-objectset-to-dbset", "title": "How to convert ObjectSet to DbSet", "body": "<p>I\u2019m trying to create class from abstract one:</p>\n\n<pre><code>public class ManufacturerEntityService : BaseEntityService&lt;Manufacturer&gt;\n{\n    Entities entities = new Entities();\n\n    protected override ObjectSet&lt;Manufacturer&gt; EntitySet\n    {\n        get { return entities.Manufacturers; }\n    }\n\n}\n</code></pre>\n\n<p>Error occurred:</p>\n\n<blockquote>\n  <p>Cannot implicitly convert type 'System.Data.Entity.DbSet&lt;_21century.Models.Manufacturer>' to 'System.Data.Objects.ObjectSet&lt;_21century.Models.Manufacturer>'</p>\n</blockquote>\n\n<p>In BaseEntityService i\u2019ve used ObjectSet, cause DbSet doesn\u2019t have SaveData method. The question is how to convert ObjectSet to DbSet? Is it possible or not? Any walkarounds? I have to pass DbContext obj there?</p>\n\n<p>I\u2019m newbie in creating mvc projects. Searching didn\u2019t give any result. Hope someone can help me.</p>\n"}, {"tags": ["c#", "linq", "linq-to-entities"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 4, "creation_date": 1427311420, "post_id": 29264688, "comment_id": 46731287, "body": "What is <code>tc</code> in this code?"}, {"owner": {"reputation": 1822, "user_id": 3184194, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1569695241/picture?type=large", "display_name": "caseyWebb", "link": "https://stackoverflow.com/users/3184194/caseywebb"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1427317245, "post_id": 29264688, "comment_id": 46734553, "body": "That&#39;s an error entering this in StackOverflow on my part. tc should just be c."}], "answers": [{"tags": [], "owner": {"reputation": 38332, "user_id": 763585, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/34f929fab16e27f59c5193f0db678125?s=128&d=identicon&r=PG", "display_name": "evanmcdonnal", "link": "https://stackoverflow.com/users/763585/evanmcdonnal"}, "is_accepted": true, "score": 1, "last_activity_date": 1427312833, "last_edit_date": 1495540610, "creation_date": 1427312833, "answer_id": 29265132, "question_id": 29264688, "link": "https://stackoverflow.com/questions/29264688/linq-nested-select-causes-multiple-sql-queries/29265132#29265132", "title": "LINQ nested select causes multiple SQL queries", "body": "<p>Because you use a nested select the SQL provider translates this to the equivalent SQL (which uses a separate/nested query). You could correct this by using the <code>Join</code> method like so;</p>\n\n<pre><code>ctx.Courses.Join(ctx.CourseDepartments,\n                 c =&gt; c.ID, cd =&gt; cd.cID,\n                 (c, cd) =&gt; new {\n                     Course = c,\n                     dID = cd.dID\n                 }).Join(ctx.Departments,\n                         c =&gt; c.dID,\n                         d =&gt; d.ID,\n                         (c, d) =&gt; new {\n                               Course = c.Course,\n                               Department = d\n                 });\n</code></pre>\n\n<p>I have not tested the sample code but that is the basic idea. I pretty much exclusively use method syntax but the query syntax is actually a lot cleaner for joins, you can compare them here <a href=\"https://stackoverflow.com/questions/4115321/linq-to-sql-join\">How do I convert multiple inner joins in SQL to LINQ?</a> which is what I used to craft my solution.</p>\n\n<p>To summarize the problems cause and solution; if you want one query you have to join from course to coursedepartments to departments, the SQL provider cannot imply that your nested select should be translated to a couple joins. To write the query in LINQ you should use the most similar available SQL constructs, in this case that is a join. There may be other ways to write the query that will inform the query provider of a join implicitly however this is the explicit way of writing the query you want.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3511040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60653fddd2311b889820ab760e3982a7?s=128&d=identicon&r=PG&f=1", "display_name": "marcin.malczyk", "link": "https://stackoverflow.com/users/3511040/marcin-malczyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1427316458, "creation_date": 1427316458, "answer_id": 29266197, "question_id": 29264688, "link": "https://stackoverflow.com/questions/29264688/linq-nested-select-causes-multiple-sql-queries/29266197#29266197", "title": "LINQ nested select causes multiple SQL queries", "body": "<p>I write some code that may fit into your solution. \nEntity definitions are not exactly the same, but that not the case.</p>\n\n<pre><code>var query = context.Courses.AsQueryable();\nquery = query.Include(i =&gt; i.CoursesDepartments);\nquery = query.Include(i =&gt; i.CoursesDepartments.Select(cd =&gt; cd.Departments));\n\nvar newQuery = query.Select(course =&gt;  new \n{\n    ID = course.ID,\n    Departments = course.CoursesDepartments.Select( cd =&gt; cd.Departments),\n});\n\nvar result = query.ToList();\n</code></pre>\n\n<p>In short overview Include function tells LINQ what related entity should be loaded when fetching Courses entities, otherwise they will be Lazy Loaded.</p>\n\n<p>TIP: I know some people used <a href=\"http://www.linqpad.net/\" rel=\"nofollow\">LINQPad</a> to learn LINQ, maybe that helps you in the future.</p>\n"}], "owner": {"reputation": 1822, "user_id": 3184194, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1569695241/picture?type=large", "display_name": "caseyWebb", "link": "https://stackoverflow.com/users/3184194/caseywebb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 749, "favorite_count": 0, "accepted_answer_id": 29265132, "answer_count": 2, "score": 0, "last_activity_date": 1427317257, "creation_date": 1427311297, "last_edit_date": 1427317257, "question_id": 29264688, "link": "https://stackoverflow.com/questions/29264688/linq-nested-select-causes-multiple-sql-queries", "title": "LINQ nested select causes multiple SQL queries", "body": "<p>I'm attempting to retrieve a list of courses that contains (as a property of each course) a list of departments. The DB schema consists of courses, departments, and a course_departments join table.</p>\n\n<p>My current query (with the unnecessary bits removed) is as follows:</p>\n\n<pre><code>ctx.Courses\n    .Select(c =&gt; new Course\n        {\n            ID = c.ID,\n            Departments = c.CourseDepartments.Select(cd =&gt; new Department(cd.Department))\n        }\n     )\n</code></pre>\n\n<p>This works, but upon inspection in the profiler, it is performing a new query to get each course's departments. How can this query be written to execute it as a single SQL query?</p>\n"}, {"tags": ["c#", ".net", "vb.net", "refactoring"], "comments": [{"owner": {"reputation": 67555, "user_id": 2530848, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rYg1g.jpg?s=128&g=1", "display_name": "Sriram Sakthivel", "link": "https://stackoverflow.com/users/2530848/sriram-sakthivel"}, "edited": false, "score": 0, "creation_date": 1427311464, "post_id": 29264660, "comment_id": 46731315, "body": "Is that a .net assembly? If yes you can easily reflect it using reflection."}, {"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1427312059, "post_id": 29264660, "comment_id": 46731677, "body": "have you tried googling <code>jetBeans</code> it&#39;s a good tool to do that as long as the assmeblies are managed / written in .net code"}, {"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1427312902, "post_id": 29264660, "comment_id": 46732130, "body": "You can also open it in ILSpy, select a node and then <b>FILE Menu | Save Code</b>  It will save to .CS or .VB depending on which view you have selected in the toolbar."}], "answers": [{"tags": [], "owner": {"reputation": 12207, "user_id": 31508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e5c1cbcef47cd1c15e6ac029e86f79f?s=128&d=identicon&r=PG", "display_name": "u07ch", "link": "https://stackoverflow.com/users/31508/u07ch"}, "is_accepted": false, "score": 0, "last_activity_date": 1427383561, "creation_date": 1427383561, "answer_id": 29282458, "question_id": 29264660, "link": "https://stackoverflow.com/questions/29264660/refactoring-project-list-all-functions-in-class-library-with-parameters/29282458#29282458", "title": "Refactoring Project : List all functions in class library with parameters", "body": "<p>Using Redgate Reflector I was to able to easily extract to text a list of functions from a class. I can then use to build a web service wrapper for those functions.</p>\n"}], "owner": {"reputation": 12207, "user_id": 31508, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4e5c1cbcef47cd1c15e6ac029e86f79f?s=128&d=identicon&r=PG", "display_name": "u07ch", "link": "https://stackoverflow.com/users/31508/u07ch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1427383561, "creation_date": 1427311204, "question_id": 29264660, "link": "https://stackoverflow.com/questions/29264660/refactoring-project-list-all-functions-in-class-library-with-parameters", "title": "Refactoring Project : List all functions in class library with parameters", "body": "<p>I am looking at a project that requires me to allow a stack of data access functions to be accessible via a web service. At the moment the code is in DAL classes in the .net code. Is there a utility out there that can parse a dll; and export all the functions in the class library with the parameters/ types?</p>\n"}, {"tags": ["c#", "asp.net", "linq", "asp.net-mvc-5"], "answers": [{"tags": [], "owner": {"reputation": 93997, "user_id": 3010968, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5c9bc5babd6d3ceafcc3f95fbdd5b313?s=128&d=identicon&r=PG&f=1", "display_name": "Selman Gen&#231;", "link": "https://stackoverflow.com/users/3010968/selman-gen%c3%a7"}, "is_accepted": true, "score": 2, "last_activity_date": 1427311257, "creation_date": 1427311257, "answer_id": 29264674, "question_id": 29264635, "link": "https://stackoverflow.com/questions/29264635/why-my-linq-query-projecting-one-item-in-the-model-class/29264674#29264674", "title": "Why my linq query projecting one item in the model class?", "body": "<p>You are always getting first <code>item</code> of the root, you need:</p>\n\n<pre><code>var model = from x in xml.Descendants(\"item\")\n            select new ItemList\n            {\n                Name = x.Attribute(\"name\").Value,\n                Action = x.Attribute(\"action\").Value,\n                Print = x.Attribute(\"print\").Value,\n            };\n</code></pre>\n"}], "owner": {"reputation": 3607, "user_id": 1327064, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e3d89783790580c7c9972a512c581b0f?s=128&d=identicon&r=PG", "display_name": "user1327064", "link": "https://stackoverflow.com/users/1327064/user1327064"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 29264674, "answer_count": 1, "score": 1, "last_activity_date": 1427312257, "creation_date": 1427311138, "last_edit_date": 1427312257, "question_id": 29264635, "link": "https://stackoverflow.com/questions/29264635/why-my-linq-query-projecting-one-item-in-the-model-class", "title": "Why my linq query projecting one item in the model class?", "body": "<p>I have more than one item in xml file and want to print all of them. But for some reason, it is only printing first item from the xml file.</p>\n\n<p>Here is my xml file. stored in the database table in a column called XmlFile:-</p>\n\n<pre><code>&lt;root&gt;\n  &lt;item name=\"one\" action=\"GetListOne\" print=\"2\" /&gt;\n  &lt;item name=\"two\" action=\"GetListTwo\" print=\"1\" /&gt;\n  &lt;item name=\"three\" action=\"GetListThree\" print=\"2\" /&gt;\n  &lt;item name=\"four\" action=\"GetListFour\" print=\"0\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Here is my model class:-</p>\n\n<pre><code> public class ItemList \n    {\n        public string Name { get; set; }\n        public string Action { get; set; }\n        public string Print { get; set; }\n\n    }\n</code></pre>\n\n<p>And Linq:-</p>\n\n<pre><code>var items = _repo.GetItemsById(Id).Single();\nvar xml = XDocument.Parse(items.XmlFile);\nvar model = from x in xml.Descendants(\"root\")\n    select new ItemList\n    {\n        Name = x.Element(\"item\").Attribute(\"name\").Value,\n        Action = x.Element(\"item\").Attribute(\"action\").Value,\n        Print = x.Element(\"item\").Attribute(\"print\").Value,\n    };\nforeach (var m in model)\n{\n    Console.WriteLine(String.Format(\"Name = {0}\",m.Name));\n}\n</code></pre>\n\n<p>Output:-</p>\n\n<p>Name = One</p>\n"}, {"tags": ["c#", "linq", "insert", "multiple-tables"], "comments": [{"owner": {"reputation": 12837, "user_id": 1289283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6032d2f69702e956cefaa866eb90d6c7?s=128&d=identicon&r=PG&f=1", "display_name": "walther", "link": "https://stackoverflow.com/users/1289283/walther"}, "edited": false, "score": 1, "creation_date": 1427311469, "post_id": 29264611, "comment_id": 46731321, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/113928/can-i-return-the-id-field-after-a-linq-insert\">Can I return the &#39;id&#39; field after a LINQ insert?</a>"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 0, "creation_date": 1427311807, "post_id": 29264611, "comment_id": 46731541, "body": "Use navigation properties!"}], "answers": [{"tags": [], "owner": {"reputation": 204249, "user_id": 961113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ja1ty.png?s=128&g=1", "display_name": "Habib", "link": "https://stackoverflow.com/users/961113/habib"}, "is_accepted": true, "score": 5, "last_activity_date": 1427311225, "creation_date": 1427311225, "answer_id": 29264666, "question_id": 29264611, "link": "https://stackoverflow.com/questions/29264611/linq-get-last-id-inserted/29264666#29264666", "title": "Linq get last ID inserted", "body": "<p>Instead of adding an object directly, create your object first and then insert like:</p>\n\n<pre><code>var yourOjbect = new CWC_FICHEIROS\n{\n    idfiletype = newextID,\n    filename = fileName,\n    fileurl = fileName,\n    fileordem = \"AA001\",\n    filedate = System.DateTime.Now,\n    fileact = true\n};\ndb.CWC_FICHEIROS.Add(yourObject);\ndb.SaveChanges();\n</code></pre>\n\n<p>Later you can access its ID as:</p>\n\n<pre><code>Console.WriteLine(yourObject.ID);\n</code></pre>\n\n<p>Do not rely on <code>db.CWC_FICHEIROS.Max</code>, there could be multiple inserts in the database at the same time and you could end up with the wrong ID. </p>\n"}], "owner": {"reputation": 37, "user_id": 3892944, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/799656958/picture?type=large", "display_name": "Ricardo Sousa", "link": "https://stackoverflow.com/users/3892944/ricardo-sousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12102, "favorite_count": 0, "accepted_answer_id": 29264666, "answer_count": 1, "score": 1, "last_activity_date": 1427311225, "creation_date": 1427311074, "last_edit_date": 1427311212, "question_id": 29264611, "link": "https://stackoverflow.com/questions/29264611/linq-get-last-id-inserted", "title": "Linq get last ID inserted", "body": "<p>I\u00b4m trying to do 2 linq insert queries. The second one needs the last inserted id value from the first query.</p>\n\n<p>How can I get the last_id_inserted (last_fich)?</p>\n\n<pre><code>db.CWC_FICHEIROS.Add(new CWC_FICHEIROS\n{\n    idfiletype = newextID,\n    filename = fileName,\n    fileurl = fileName,\n    fileordem = \"AA001\",\n    filedate = System.DateTime.Now,\n    fileact = true\n });\nlast_fich = db.CWC_FICHEIROS.Max(item =&gt; item.id_file);\n\ndb.CWC_FILESSUBCONTEUDOS.Add(new CWC_FILESSUBCONTEUDOS\n{\n     idfile = last_fich,\n     idsubconte = cwc_subconteudos.idcont,\n     fscact = true\n});\n\ndb.SaveChanges();\n</code></pre>\n\n<p>Like it is, <code>last_fich</code> gives me the id of the first row of <code>CWC_FICHEIROS</code>.</p>\n"}, {"tags": ["c#", ".net", "dll"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 3, "creation_date": 1427310897, "post_id": 29264528, "comment_id": 46730962, "body": "What do you mean by &quot;after their job&quot;?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user1228"}, "edited": false, "score": 3, "creation_date": 1427311078, "post_id": 29264528, "comment_id": 46731074, "body": "Depends on the implementation.  If it&#39;s a static singleton, it lasts as long as the AppDomain, or until it gets nulled out.  Does that mean anything to you?"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1427311224, "post_id": 29264528, "comment_id": 46731166, "body": "&quot;dlls get unloaded&quot; No. AppDomains are particularly good at not unloading assemblies. Ever."}, {"owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 1, "creation_date": 1427311814, "post_id": 29264528, "comment_id": 46731545, "body": "And what do you mean by &quot;destroyed&quot;?"}, {"owner": {"reputation": 347, "user_id": 4713651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c6142832b02a10191e8a030c50ab9e?s=128&d=identicon&r=PG&f=1", "display_name": "Keshav Raghav", "link": "https://stackoverflow.com/users/4713651/keshav-raghav"}, "edited": false, "score": 0, "creation_date": 1427346227, "post_id": 29264528, "comment_id": 46743333, "body": "Hi Skeet , good to see you responding to your student , learned csharp through your videos from pluralsight. you really teach very well. After the job mean when the specific function related to dll gets executed does those two unload automatically or will they be in memory space"}, {"owner": {"reputation": 347, "user_id": 4713651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c6142832b02a10191e8a030c50ab9e?s=128&d=identicon&r=PG&f=1", "display_name": "Keshav Raghav", "link": "https://stackoverflow.com/users/4713651/keshav-raghav"}, "reply_to_user": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "edited": false, "score": 0, "creation_date": 1427346543, "post_id": 29264528, "comment_id": 46743419, "body": "@DStanley by destroyed mean getting unloaded from the user space"}, {"owner": {"reputation": 347, "user_id": 4713651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c6142832b02a10191e8a030c50ab9e?s=128&d=identicon&r=PG&f=1", "display_name": "Keshav Raghav", "link": "https://stackoverflow.com/users/4713651/keshav-raghav"}, "edited": false, "score": 0, "creation_date": 1427346732, "post_id": 29264528, "comment_id": 46743467, "body": "@All my understanding about dll unloading is whenever a exe calls a dll and finishes its job with that dll (mean the routine in the dll gets executed ) it gets unloaded from the memory till a next reference is made , correct me if it is wrong. and in general is it good to have a singleton class in dll"}], "answers": [{"tags": [], "owner": {"reputation": 138646, "user_id": 1081897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46b160c4e606ce0be84dae336ab25f0?s=128&d=identicon&r=PG&f=1", "display_name": "D Stanley", "link": "https://stackoverflow.com/users/1081897/d-stanley"}, "is_accepted": false, "score": 2, "last_activity_date": 1427376160, "last_edit_date": 1427376160, "creation_date": 1427375128, "answer_id": 29279193, "question_id": 29264528, "link": "https://stackoverflow.com/questions/29264528/when-will-a-dll-with-singleton-class-used-in-another-dll-be-destroyed/29279193#29279193", "title": "When will a dll with singleton class used in another dll be destroyed", "body": "<p><sub><em>Disclaimer</em>: I am not an expert on memory or processes/app domains, so I may have some specifics wrong, but I firmly believe that my conclusion is valid - feel free to comment and correct any specific errors.</sub></p>\n\n<hr>\n\n<p>No, the DLL is not unloaded until the app domain that contains it (typically the main process for windows/console apps and the web site for ASP.NET apps) is closed.  </p>\n\n<p>From <a href=\"https://msdn.microsoft.com/en-us/library/ms173101.aspx\" rel=\"nofollow\">MSDN</a>:</p>\n\n<blockquote>\n  <p>There is no way to unload an individual assembly without unloading all of the application domains that contain it. </p>\n</blockquote>\n\n<p>So you <em>can</em> manually create (and destroy) app domains, which will unload any DLLs, but then you have to marshal data across the domain boundaries, which may be <em>worse</em> than just keeping the DLL in memory.</p>\n\n<p>The <em>objects</em> created by the DLL may be removed from memory (if nothing holds a reference to them), but the <em>code</em> itself will remain in memory.  In the case of a pure singleton, it will stay in memory until the app closes (since the class that manages it will always have a reference).  You <em>could</em> remove the reference to the singleton from the factory class, but you still may have other code that references it, so you risk having <em>multiple</em> instances of your \"singleton\".  If that's not a concern, that may be a valid strategy to dispose of the singleton when you're done with it.</p>\n\n<p>Think about most apps - they respond to human interaction in some way.  Users can click any button, select any menu item, etc. in any order that the app allows. How is an application supposed to know for certain that code within a DLL will never get called again?  Assemblies are relatively expensive to load (in part since they must be JITted), so it would be inefficient to unload them if there's any chance that they'll get loaded again.  </p>\n\n<p><strong>Bottom line</strong> - since the memory footprint of a DLL is usually relatively small (since it just contains code and metadata) and is only loaded once for an entire domain, unless you experience significant memory pressure from it that can't me relived by managing <em>other</em> memory better, <strong>I wouldn't go to the trouble of trying to unload it</strong>.  </p>\n"}], "owner": {"reputation": 347, "user_id": 4713651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3c6142832b02a10191e8a030c50ab9e?s=128&d=identicon&r=PG&f=1", "display_name": "Keshav Raghav", "link": "https://stackoverflow.com/users/4713651/keshav-raghav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1427376160, "creation_date": 1427310826, "last_edit_date": 1427311058, "question_id": 29264528, "link": "https://stackoverflow.com/questions/29264528/when-will-a-dll-with-singleton-class-used-in-another-dll-be-destroyed", "title": "When will a dll with singleton class used in another dll be destroyed", "body": "<p>If we create a singleton class in a dll and use it in another dll which instantiates this singleton class, and an exe uses this dll at a point of time, will these two dlls get unloaded immediately after their job or will they get unloaded only when the main exe exits?</p>\n"}, {"tags": ["c#", "asp.net", ".net", "redirect", "iis"], "answers": [{"comments": [{"owner": {"reputation": 19805, "user_id": 2535, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28932cee18236b6f0aa28ac6b77818b0?s=128&d=identicon&r=PG", "display_name": "Mike Wills", "link": "https://stackoverflow.com/users/2535/mike-wills"}, "edited": false, "score": 0, "creation_date": 1427311609, "post_id": 29264643, "comment_id": 46731407, "body": "This was going to be my last resort. Alex&#39;s comment got me going in the right direction."}], "tags": [], "owner": {"reputation": 36615, "user_id": 111266, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/441c43192e97e0374d0c18d8c37ebe47?s=128&d=identicon&r=PG", "display_name": "Joe Enos", "link": "https://stackoverflow.com/users/111266/joe-enos"}, "is_accepted": false, "score": 0, "last_activity_date": 1427311154, "creation_date": 1427311154, "answer_id": 29264643, "question_id": 29264503, "link": "https://stackoverflow.com/questions/29264503/redirect-folder-to-mypage-aspx-on-asp-net-and-iis-6/29264643#29264643", "title": "Redirect /folder to /mypage.aspx on ASP.NET and IIS 6", "body": "<p>Easiest way to do that without messing with any settings or plugins is to actually create that directory and put a file inside. You can have an empty default.aspx with the following contents:</p>\n\n<pre><code>&lt;%@ Page Language=\"C#\" %&gt;\n\n&lt;script type=\"text/C#\" runat=\"server\"&gt;\nvoid Page_Load(object sender, System.EventArgs e) {\n    Response.Redirect(\"~/employment.aspx\");\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Make sure IIS treats <code>default.aspx</code> as a default page for this directory.</p>\n\n<p>Or if you want a 301 instead of a 302, go through the process of setting those headers manually, since <code>Response.RedirectPermanent</code> isn't available until .NET 4.</p>\n\n<p>This isn't the most \"correct\" way, and it would become a mess if you tried to do too many of these, but it's a quick fix that would work great temporarily.</p>\n"}, {"tags": [], "owner": {"reputation": 4470, "user_id": 2768833, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/RvhYi.jpg?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/2768833/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1427312703, "creation_date": 1427312703, "answer_id": 29265085, "question_id": 29264503, "link": "https://stackoverflow.com/questions/29264503/redirect-folder-to-mypage-aspx-on-asp-net-and-iis-6/29265085#29265085", "title": "Redirect /folder to /mypage.aspx on ASP.NET and IIS 6", "body": "<p>Maybe this would work for you, a IIS fix:</p>\n\n<p><a href=\"http://www.iis.net/downloads/microsoft/url-rewrite\" rel=\"nofollow\">http://www.iis.net/downloads/microsoft/url-rewrite</a></p>\n"}, {"tags": [], "owner": {"reputation": 2790, "user_id": 3565910, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bb1200c10e661cdcc05cee5295e007de?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Sikilinda", "link": "https://stackoverflow.com/users/3565910/alex-sikilinda"}, "is_accepted": true, "score": 1, "last_activity_date": 1427361138, "creation_date": 1427361138, "answer_id": 29274623, "question_id": 29264503, "link": "https://stackoverflow.com/questions/29264503/redirect-folder-to-mypage-aspx-on-asp-net-and-iis-6/29274623#29274623", "title": "Redirect /folder to /mypage.aspx on ASP.NET and IIS 6", "body": "<p>You might consider using Helicon Isapi rewrite for it, because as I remember there are some problems on setuping rewriting module on IIS 6. On the other hand I'm not excited with helicon. Just an option to try anyway.</p>\n"}], "owner": {"reputation": 19805, "user_id": 2535, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28932cee18236b6f0aa28ac6b77818b0?s=128&d=identicon&r=PG", "display_name": "Mike Wills", "link": "https://stackoverflow.com/users/2535/mike-wills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 29274623, "answer_count": 3, "score": 0, "last_activity_date": 1427361138, "creation_date": 1427310763, "question_id": 29264503, "link": "https://stackoverflow.com/questions/29264503/redirect-folder-to-mypage-aspx-on-asp-net-and-iis-6", "title": "Redirect /folder to /mypage.aspx on ASP.NET and IIS 6", "body": "<p>I am trying to set up a shorter url for the users to use in their marketing material (e.g. mydomain.com/jobs points to mydomain.com/employment.aspx). The biggest reason for this is that we are close to launching our new site in which /employment.aspx will no longer work. In the new site I have /jobs working, but I can't figure out how to change it on our old site. I am using IIS 6 and ASP.NET 3.5.</p>\n\n<p>All of the options I have tried, there is already code in place that does work. I am not sure what is happening or what is going wrong.</p>\n\n<ol>\n<li>system.web/urlMappings <code>&lt;add url=\"~/jobs\" mappedUrl=\"~/employment.aspx\" /&gt;</code> - Worked on my PC, didn't work on server.</li>\n<li>system.web/urlMappings <code>&lt;add url=\"~/jobs/default.aspx\" mappedUrl=\"~/employment.aspx\" /&gt;</code> - /jobs/default.aspx worked, but /jobs did not.</li>\n<li>configuration/urlrewritingnet <code>&lt;add name=\"RewriteJobs\" virualUrl=\"~/jobs\" rewriteUrlParameter=\"ExcludeFromClientQueryString\" destinationUrl=\"~/employment.aspx\" ignoreCase=\"true\" /&gt;\n&lt;add name=\"RewriteJobs2\" virualUrl=\"~/jobs/default.aspx\" rewriteUrlParameter=\"ExcludeFromClientQueryString\" destinationUrl=\"~/employment.aspx\" ignoreCase=\"true\" /&gt;</code> - Neither work</li>\n<li>I seen reference to using <code>global.asax</code>in the <code>Application_BeginRequest</code> method, but that didn't work either.</li>\n</ol>\n\n<p>Can anyone point me in the right direction of what I might be doing wrong?</p>\n"}, {"tags": ["c#", "sql", "asp.net", "sql-server", "vb.net"], "comments": [{"owner": {"reputation": 30431, "user_id": 1507566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40b799a199eda9317d64e854c9fc8858?s=128&d=identicon&r=PG", "display_name": "Tab Alleman", "link": "https://stackoverflow.com/users/1507566/tab-alleman"}, "edited": false, "score": 2, "creation_date": 1427310894, "post_id": 29264481, "comment_id": 46730961, "body": "No significant performance concerns that I know of."}, {"owner": {"reputation": 873, "user_id": 1750424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2a6A.jpg?s=128&g=1", "display_name": "db_brad", "link": "https://stackoverflow.com/users/1750424/db-brad"}, "edited": false, "score": 2, "creation_date": 1427310956, "post_id": 29264481, "comment_id": 46730996, "body": "I personally like option b, but instead of 4 separate select statements, the main procedure would call the 4 child procedures.  This option creates only one connection and one database call each time you need to populate an entity/object.  So I would have a stored procedure called usp_Quote_Load_All that calls 4 other procedures, usp_quote_select, usp_quotebuyingrate_select, etc."}, {"owner": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427311261, "post_id": 29264481, "comment_id": 46731183, "body": "A single proc cannot return 4 seperate tables - it can return one table that is a result of a union or multiple inserts (which require the same column list). So if they are all the same I would go with (b) so you only have to invoke the proc once."}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "reply_to_user": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 2, "creation_date": 1427311377, "post_id": 29264481, "comment_id": 46731252, "body": "@benjaminmoskovits sure a stored proc can return multiple result sets. It is quite simple, just have more than 1 select statement in your procedure."}, {"owner": {"reputation": 1470, "user_id": 1491384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/f0CaY.jpg?s=128&g=1", "display_name": "Taylor Brown", "link": "https://stackoverflow.com/users/1491384/taylor-brown"}, "reply_to_user": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427311542, "post_id": 29264481, "comment_id": 46731366, "body": "@benjaminmoskovits not sure what you are working with, but with ms sql server this can be done. I know at least 2005+ can do this."}, {"owner": {"reputation": 1470, "user_id": 1491384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/f0CaY.jpg?s=128&g=1", "display_name": "Taylor Brown", "link": "https://stackoverflow.com/users/1491384/taylor-brown"}, "reply_to_user": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427311680, "post_id": 29264481, "comment_id": 46731457, "body": "@benjaminmoskovits <a href=\"http://stackoverflow.com/questions/18510901/return-multiple-recordsets-from-stored-proc-in-c-sharp\" title=\"return multiple recordsets from stored proc in c sharp\">stackoverflow.com/questions/18510901/&hellip;</a>"}, {"owner": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427311715, "post_id": 29264481, "comment_id": 46731483, "body": "can someone share a working proc that does multiple selects?"}, {"owner": {"reputation": 1470, "user_id": 1491384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/f0CaY.jpg?s=128&g=1", "display_name": "Taylor Brown", "link": "https://stackoverflow.com/users/1491384/taylor-brown"}, "reply_to_user": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 1, "creation_date": 1427311779, "post_id": 29264481, "comment_id": 46731516, "body": "@benjaminmoskovits it is written exactly how you think you would be, just put multiple select statements in a stored proc.. also pretty easy to find via google search. go check it out. good luck."}, {"owner": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427312241, "post_id": 29264481, "comment_id": 46731767, "body": "What I meant was how would a calling program handle the different tables being returned? Unless they are using MARS in a .net program?"}, {"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "reply_to_user": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427314247, "post_id": 29264481, "comment_id": 46732841, "body": "@benjaminmoskovits I have a custom data access objects that populates a dataset from each result set returned from a stored procedure. It makes this pretty painless. Remember that some of the MS procs have multiple returns also."}, {"owner": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427321300, "post_id": 29264481, "comment_id": 46736478, "body": "You just proved my point. Its not easy (many production sites will not allow DAO from within SQL Server) to use and its not really inherent to TSQL."}, {"owner": {"reputation": 41249, "user_id": 577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tYyIG.jpg?s=128&g=1", "display_name": "Solomon Rutzky", "link": "https://stackoverflow.com/users/577765/solomon-rutzky"}, "reply_to_user": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 1, "creation_date": 1427321614, "post_id": 29264481, "comment_id": 46736599, "body": "@benjaminmoskovits Just to be clear about working with multiple result sets: MARS is a very specific application of them that allows for executing additional commands while retrieving the results. This is not the same thing as simply having multiple result sets to cycle through. Unrelated to MARS, it is rather easy to access additional result sets in .NET using either <code>SqlDataReader.NextResult()</code> or filling a <code>DataSet</code> which will then contain 1 table per result set. However, as you just mentioned, dealing with multiple result sets in pure T-SQL is far from easy."}, {"owner": {"reputation": 4777, "user_id": 4606787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bb2784cf02ecb4bc970211990764e842?s=128&d=identicon&r=PG&f=1", "display_name": "benjamin moskovits", "link": "https://stackoverflow.com/users/4606787/benjamin-moskovits"}, "edited": false, "score": 0, "creation_date": 1427321754, "post_id": 29264481, "comment_id": 46736647, "body": "i dont want to engage any moe on this topic. Answering users (who may not be very advanced developers) to solve problems by using advanced features may not be the best answer. Most of the people asking questions on this forum want a TSQL based solution."}], "answers": [{"comments": [{"owner": {"reputation": 1470, "user_id": 1491384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/f0CaY.jpg?s=128&g=1", "display_name": "Taylor Brown", "link": "https://stackoverflow.com/users/1491384/taylor-brown"}, "edited": false, "score": 0, "creation_date": 1427395968, "post_id": 29268691, "comment_id": 46770536, "body": "you touched on a little of what i was asking with &quot;Assuming that the calls are not made multiple times a minute the difference between multiple calls and a single call is irrelevant.&quot; ... I have been searching around looking for some documentation of this but can&#39;t find any. Do you have any reference or are you just pulling this from your mental knowledge base?"}, {"owner": {"reputation": 2748, "user_id": 4270311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58c7c818a816d2cf5cf9c78fa987cb4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4270311/tim"}, "reply_to_user": {"reputation": 1470, "user_id": 1491384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/f0CaY.jpg?s=128&g=1", "display_name": "Taylor Brown", "link": "https://stackoverflow.com/users/1491384/taylor-brown"}, "edited": false, "score": 1, "creation_date": 1427397093, "post_id": 29268691, "comment_id": 46771155, "body": "It&#39;s from a good amount of personal experience. The absolute best way to see how inefficient or efficient something is however it&#39;s to measure it. Profiling code and dB calls will give you hard numbers for your personal environment and call volume/frequency. Having said that, assuming a decent connection from db to app server, the connection time especially when using connection pooling like . net does by default, is a really small component of the overall cost of execution."}], "tags": [], "owner": {"reputation": 2748, "user_id": 4270311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58c7c818a816d2cf5cf9c78fa987cb4?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4270311/tim"}, "is_accepted": false, "score": 1, "last_activity_date": 1427327397, "creation_date": 1427327397, "answer_id": 29268691, "question_id": 29264481, "link": "https://stackoverflow.com/questions/29264481/stored-procedure-to-return-multiple-sets-vs-multiple-stored-procedures-for-each/29268691#29268691", "title": "Stored procedure to return multiple sets VS multiple stored procedures for each set", "body": "<p>From the absolute surface, no there is very little reason to go one way or the other. Assuming that the calls are not made multiple times a minute the difference between multiple calls and a single call is irrelevant. It absolutely doesn't matter unless the number of calls are high. </p>\n\n<p>So if you come up with a reason it is better architecture either way for your use case, go with that. If you don't have anything pushing you either way, just do it in a one stored proc for simplicity, and a slightly more efficient network transfer.</p>\n\n<p>Now if you start to have conditional logic or other complexity in order to have them all in one call, you are causing potential query plan caching problems, and could affect your scalability.</p>\n"}, {"tags": [], "owner": {"reputation": 150, "user_id": 490598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c190e300b71c636c01f6ed44b961e0a4?s=128&d=identicon&r=PG", "display_name": "Matthew Graybosch", "link": "https://stackoverflow.com/users/490598/matthew-graybosch"}, "is_accepted": false, "score": 0, "last_activity_date": 1495741350, "creation_date": 1495741350, "answer_id": 44188624, "question_id": 29264481, "link": "https://stackoverflow.com/questions/29264481/stored-procedure-to-return-multiple-sets-vs-multiple-stored-procedures-for-each/44188624#44188624", "title": "Stored procedure to return multiple sets VS multiple stored procedures for each set", "body": "<p>How are these tables connected? If your tables have primary keys and are connected by foreign key constraints, then you might not need to run multiple stored procedures or return multiple result sets from a single stored procedure. A single stored procedure returning a single result set might be sufficient if you can take advantage of JOINs.</p>\n"}], "owner": {"reputation": 1470, "user_id": 1491384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/f0CaY.jpg?s=128&g=1", "display_name": "Taylor Brown", "link": "https://stackoverflow.com/users/1491384/taylor-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1145, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1495741350, "creation_date": 1427310706, "last_edit_date": 1427311411, "question_id": 29264481, "link": "https://stackoverflow.com/questions/29264481/stored-procedure-to-return-multiple-sets-vs-multiple-stored-procedures-for-each", "title": "Stored procedure to return multiple sets VS multiple stored procedures for each set", "body": "<p>I have a table that connects to multiple other tables. </p>\n\n<pre><code>Quote\nQuoteBuyingRate\nQuoteChargesDetail\nQuoteDisclaimer\n</code></pre>\n\n<p>I can </p>\n\n<ol>\n<li>select the data I need from all 4 of these using multiple stored procedures</li>\n<li>select the data with multiple select statements inside the one stored procedure</li>\n</ol>\n\n<p>Besides design preference or opinion, are there any true technical pros/cons to using one or the other? Performance concerns? </p>\n"}, {"tags": ["c#", "plugins", "reflection"], "comments": [{"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1427312187, "post_id": 29264442, "comment_id": 46731740, "body": "What do you mean by &quot;I  get null in the pluginTypes all the time&quot;. Do you get a NullReferenceException (if so, please provide us with the stack trace)? Is one of the elements in the <code>pluginTypes</code> collection <code>null</code> (very unlikely)? You need to be more specific here. And where is Simple Injector coming into the picture? Is Simple Injector relevant to the question?"}, {"owner": {"reputation": 103, "user_id": 3478645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MONNC.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/3478645/strawberry"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1427312842, "post_id": 29264442, "comment_id": 46732099, "body": "This is what I get &#39;System.Collections.Generic.IEnumerable&lt;System.Type&gt;&#39; does not contain a definition for &#39;source&#39; and no extension method &#39;source&#39; accepting a first argument of type &#39;System.Collections.Generic.IEnumerable&lt;System.Type&gt;&#39; could be found (are you missing a using directive or an assembly reference?)."}, {"owner": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1427312971, "post_id": 29264442, "comment_id": 46732180, "body": "So you are getting a compiler error. On which line are you getting this compiler error, because there is no &#39;source&#39; in the code you posted?"}, {"owner": {"reputation": 103, "user_id": 3478645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MONNC.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/3478645/strawberry"}, "reply_to_user": {"reputation": 150628, "user_id": 264697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53813b7dc989271bf45d1a047db31a1f?s=128&d=identicon&r=PG", "display_name": "Steven", "link": "https://stackoverflow.com/users/264697/steven"}, "edited": false, "score": 0, "creation_date": 1427313723, "post_id": 29264442, "comment_id": 46732556, "body": "that is the value of the source results I get for the assembly.GetExportedTypes() list [21:01:48]  the pluginAssemblies are there but the assembly.GetExportedTypes() is empty"}], "owner": {"reputation": 103, "user_id": 3478645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/MONNC.jpg?s=128&g=1", "display_name": "Strawberry", "link": "https://stackoverflow.com/users/3478645/strawberry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1427313860, "creation_date": 1427310559, "last_edit_date": 1427313860, "question_id": 29264442, "link": "https://stackoverflow.com/questions/29264442/loading-plugins-dynamically-using-reflection", "title": "Loading plugins dynamically using reflection", "body": "<p>Here is my code snippet</p>\n\n<pre><code>string pluginDirectory = Path.Combine(\n    AppDomain.CurrentDomain.BaseDirectory, \"Bin\");\n\nvar pluginAssemblies =\n    from file in new DirectoryInfo(pluginDirectory).GetFiles()\n    where file.Extension.ToLower() == \".dll\"\n    select Assembly.LoadFile(file.FullName);\n\nvar pluginTypes =\n    from assembly in pluginAssemblies\n    from type in assembly.GetExportedTypes()\n    where typeof(IPaymentProvider).IsAssignableFrom(type)\n    where !type.IsAbstract\n    where !type.IsGenericTypeDefinition\n    select type;\n</code></pre>\n\n<p>I get null in the <code>pluginTypes</code> all the time. What am I doing wrong? </p>\n"}, {"tags": ["c#", "mapping", "automapper"], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 2689857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2043ea03ed30d563f2c08f1f3b51481d?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/2689857/jason"}, "edited": false, "score": 0, "creation_date": 1427375545, "post_id": 29266497, "comment_id": 46756483, "body": "I have added an issue that links back to here. <a href=\"https://github.com/AutoMapper/AutoMapper/issues/698\" rel=\"nofollow noreferrer\">https://github.com/AutoMapper/AutoMapper/issues/698</a>"}], "tags": [], "owner": {"reputation": 23649, "user_id": 58508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc359c5ccf90d7a24b5976316797b5ec?s=128&d=identicon&r=PG", "display_name": "Jimmy Bogard", "link": "https://stackoverflow.com/users/58508/jimmy-bogard"}, "is_accepted": true, "score": 0, "last_activity_date": 1427317529, "creation_date": 1427317529, "answer_id": 29266497, "question_id": 29264417, "link": "https://stackoverflow.com/questions/29264417/reversemap-in-automapper-using-alternate-naming-conventions/29266497#29266497", "title": "ReverseMap in Automapper using alternate naming conventions", "body": "<p>This is a bug, can you open a GitHub issue?</p>\n"}, {"tags": [], "owner": {"reputation": 449, "user_id": 2689857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2043ea03ed30d563f2c08f1f3b51481d?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/2689857/jason"}, "is_accepted": false, "score": 3, "last_activity_date": 1427378936, "creation_date": 1427378936, "answer_id": 29280637, "question_id": 29264417, "link": "https://stackoverflow.com/questions/29264417/reversemap-in-automapper-using-alternate-naming-conventions/29280637#29280637", "title": "ReverseMap in Automapper using alternate naming conventions", "body": "<p>Here's a workaround (at least until the bug is fixed):</p>\n\n<pre><code>Mapper.Initialize(config =&gt;\n{\n    config.ReplaceMemberName(\"_\", \"\");\n    //Map as normal\n});\n</code></pre>\n"}], "owner": {"reputation": 449, "user_id": 2689857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2043ea03ed30d563f2c08f1f3b51481d?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/2689857/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 29266497, "answer_count": 2, "score": 2, "last_activity_date": 1435067913, "creation_date": 1427310488, "last_edit_date": 1427378152, "question_id": 29264417, "link": "https://stackoverflow.com/questions/29264417/reversemap-in-automapper-using-alternate-naming-conventions", "title": "ReverseMap in Automapper using alternate naming conventions", "body": "<p>Here is my mapping config:</p>\n\n<pre><code>Mapper.Initialize(config =&gt;\n{\n    config.SourceMemberNamingConvention = new LowerUnderscoreNamingConvention();\n    config.DestinationMemberNamingConvention = new PascalCaseNamingConvention();\n    config.CreateMap&lt;Rotator_Ad_Run, RotatorAdRunViewModel&gt;()\n        .ReverseMap();\n}\n</code></pre>\n\n<p>And the simplified classes:</p>\n\n<pre><code>public class Rotator_Ad_Run\n{\n    public DateTime Start_Date { get; set; }\n    public DateTime End_Date { get; set; }\n    public bool Enabled { get; set; }\n}\n\npublic class RotatorAdRunViewModel\n{\n    public DateTime StartDate { get; set; }\n    public DateTime EndDate { get; set; }\n    public bool Enabled { get; set; }\n}\n</code></pre>\n\n<p>The mapper is mapping from <code>Rotator_Ad_Run</code> to <code>RotatorAdRunViewModel</code> but when reversed, it only maps the <code>Enabled</code> property. It works when I explicitly map the values using <code>.ForMember()</code>. </p>\n\n<p>Is there anything I need to do to let Automapper know that the naming conventions need to be reversed?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm trying to find a workaround using Profiles, but those don't seem to work either...</p>\n\n<pre><code>Mapper.Initialize(config =&gt;\n{\n    config.AddProfile&lt;ModelToViewModel&gt;();\n    config.AddProfile&lt;ViewModelToModel&gt;();\n});\n</code></pre>\n\n<p>...</p>\n\n<pre><code>internal class ModelToViewModel : Profile\n{\n    protected override void Configure()\n    {\n        SourceMemberNamingConvention = new LowerUnderscoreNamingConvention();\n        DestinationMemberNamingConvention = new PascalCaseNamingConvention();\n\n        this.CreateMap&lt;Rotator_Ad_Run, RotatorAdRunViewModel&gt;();\n    }\n}\ninternal class ViewModelToModel : Profile\n{\n    protected override void Configure()\n    {\n        SourceMemberNamingConvention = new PascalCaseNamingConvention();\n        DestinationMemberNamingConvention = new LowerUnderscoreNamingConvention();\n\n        this.CreateMap&lt;RotatorAdRunViewModel, Rotator_Ad_Run&gt;();\n    }\n}\n</code></pre>\n\n<p>The ModelToViewModel profile works, but the ViewModelToModel does not.</p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427310327, "post_id": 29264344, "comment_id": 46730630, "body": "No. How would that make any kind of sense? How would you know which method you wanted to call? (Technically you <i>could</i> do this with explicit interface implementation, but please don&#39;t...) What are you actually trying to achieve?"}, {"owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427310947, "post_id": 29264344, "comment_id": 46730987, "body": "the id and order are defined as public uint I am trying to use public override string ToString() so they return as strings. the id already had this code so it returns as string, I am trying to do the same thing for the order"}, {"owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "reply_to_user": {"reputation": 1253974, "user_id": 22656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6d8ebb117e8d83d74ea95fbdd0f87e13?s=128&d=identicon&r=PG", "display_name": "Jon Skeet", "link": "https://stackoverflow.com/users/22656/jon-skeet"}, "edited": false, "score": 0, "creation_date": 1427310955, "post_id": 29264344, "comment_id": 46730995, "body": "I hope this makes sense"}, {"owner": {"reputation": 16462, "user_id": 212566, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KHNQj.png?s=128&g=1", "display_name": "Khan", "link": "https://stackoverflow.com/users/212566/khan"}, "edited": false, "score": 0, "creation_date": 1427311163, "post_id": 29264344, "comment_id": 46731127, "body": "Can you provide and example of what your desired output would be upon calling the <code>ToString</code> method?"}], "answers": [{"tags": [], "owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "is_accepted": false, "score": 1, "last_activity_date": 1427310395, "creation_date": 1427310395, "answer_id": 29264394, "question_id": 29264344, "link": "https://stackoverflow.com/questions/29264344/asp-net-multiple-public-override-string-tostring/29264394#29264394", "title": "ASP.NET multiple public override string ToString()", "body": "<p>No.  You could create a method that returned a collection of strings, or a custom object that has two string properties, etc.  If you wanted to do that though then you wouldn't be able to override the <code>object.ToString</code> method, as its signature requires it to return a string.</p>\n\n<p>Alternatively you could concatenate the two strings that you have together and return a new (single) string with the data of both of the other strings that you have.</p>\n"}, {"tags": [], "owner": {"reputation": 486, "user_id": 4659766, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rTYDZV5UxOM/AAAAAAAAAAI/AAAAAAAAAGw/IyWK_GsyIAc/photo.jpg?sz=128", "display_name": "Matthew Frontino", "link": "https://stackoverflow.com/users/4659766/matthew-frontino"}, "is_accepted": true, "score": 1, "last_activity_date": 1427311562, "creation_date": 1427311562, "answer_id": 29264765, "question_id": 29264344, "link": "https://stackoverflow.com/questions/29264344/asp-net-multiple-public-override-string-tostring/29264765#29264765", "title": "ASP.NET multiple public override string ToString()", "body": "<p>If you just need to two uints as strings and your class is like this:</p>\n\n<pre><code>public class MyClass\n{\n     public uint id = 1;\n     public uint order = 2;\n}\n</code></pre>\n\n<p>You can call it as follows:</p>\n\n<pre><code>MyClass instance = new MyClass();\nstring myValue1 = instance.id.ToString();\nstring myValue2 = instance.order.ToString();\n</code></pre>\n"}], "owner": {"reputation": 9927, "user_id": 979331, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e4108d28226846070db4eabf0c5d882?s=128&d=identicon&r=PG", "display_name": "user979331", "link": "https://stackoverflow.com/users/979331/user979331"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "accepted_answer_id": 29264765, "answer_count": 2, "score": -2, "last_activity_date": 1427311562, "creation_date": 1427310247, "question_id": 29264344, "link": "https://stackoverflow.com/questions/29264344/asp-net-multiple-public-override-string-tostring", "title": "ASP.NET multiple public override string ToString()", "body": "<p>I am trying to apply 2 functions like so,</p>\n\n<p>public override string ToString(){\n       return id.ToString();\n}</p>\n\n<p>public override string ToString(){\n       return order.ToString();\n}</p>\n\n<p>and I get this error,</p>\n\n<p>already defines a member called tostring with the same parameter types</p>\n\n<p>is there away I can return two values in 1 ToString override ?</p>\n"}]