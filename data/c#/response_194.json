[{"tags": ["c#", "asp.net", "asp.net-mvc", "session", "session-variables"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1538006249, "post_id": 52527533, "comment_id": 91994610, "body": "Where is your session state being stored? Are you using a web garden or web farm (you may need to google those terms if you haven&#39;t heard of them before)?"}, {"owner": {"reputation": 139, "user_id": 8890699, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/BhMOS.jpg?s=128&g=1", "display_name": "D.Weltrowski", "link": "https://stackoverflow.com/users/8890699/d-weltrowski"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1538006583, "post_id": 52527533, "comment_id": 91994680, "body": "I am using web garden. I am kind of new to asp.net and sessions and I am not even sure where are they stored as for now.."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1538006749, "post_id": 52527533, "comment_id": 91994720, "body": "You&#39;re trying to get a session value from inside another thread, that&#39;s a bad idea and won&#39;t work without some additional hacking. Why are you running that code in a thread anyway?"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1538006966, "post_id": 52527533, "comment_id": 91994781, "body": "<a href=\"https://stackoverflow.com/questions/30320693/where-is-the-session-stored\" title=\"where is the session stored\">stackoverflow.com/questions/30320693/&hellip;</a> - session state is, by default, in proc. This doesn&#39;t play well with a web garden since the multiple instances on the machine have different session state being stored. Writes to one won&#39;t be written to the other. You likely want to use <code>SQLServer</code> mode - <a href=\"https://msdn.microsoft.com/en-us/library/ms178586%28v=vs.140%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms178586%28v=vs.140%29.aspx</a> ."}, {"owner": {"reputation": 139, "user_id": 8890699, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/BhMOS.jpg?s=128&g=1", "display_name": "D.Weltrowski", "link": "https://stackoverflow.com/users/8890699/d-weltrowski"}, "edited": false, "score": 0, "creation_date": 1538006967, "post_id": 52527533, "comment_id": 91994782, "body": "Alright I am really dumb here. It actually appears that I moved my retrieve over starting new Thread and I don`t have nulls anymore. Should have figured it out without asking here for no reason. Thanks for Your help guys."}], "owner": {"reputation": 139, "user_id": 8890699, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/BhMOS.jpg?s=128&g=1", "display_name": "D.Weltrowski", "link": "https://stackoverflow.com/users/8890699/d-weltrowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1538007000, "answer_count": 0, "score": 1, "last_activity_date": 1538006161, "creation_date": 1538006161, "question_id": 52527533, "link": "https://stackoverflow.com/questions/52527533/c-session-variable-works-only-in-method", "closed_reason": "Duplicate", "title": "C# Session Variable works only in method", "body": "<p>I am creating Session Variable in my ActionResult method and it works fine within this method but whenever I make a call from other method in the same Controller I get Null Reference. I read a lot of questions here and nothing really helped me. No idea what could cause this issue. If You would have any ideas on that I would be really thankful for answer. </p>\n\n<p>Might help: </p>\n\n<ul>\n<li>The retrieve is happening on Button Click from user. But I don't think it changes anything.</li>\n<li>It also won't work in another method that is not called on button click.</li>\n<li>Method in which I retrieve it is a void method.</li>\n<li>It is not a timeout issue for sure. I added timeout before and did not help.</li>\n</ul>\n\n<p>In this specific example I am using List object, but it goes the same way with any other object I will assign to Session.</p>\n\n<p>Declaration:</p>\n\n<pre><code>  List&lt;Thread&gt; tList = Session[\"tList\"] as List&lt;Thread&gt;;\n        if (tList == null)\n        {\n            tList = new List&lt;Thread&gt;();\n            Session[\"tList\"] = tList;\n        }\n</code></pre>\n\n<p>Fail Retrive in other method:</p>\n\n<pre><code> var t = new Thread(() =&gt;\n        {\n            foreach (var item in Session[\"tList\"] as List&lt;Thread&gt;)\n            {\n                try\n                {\n                    item.Abort();\n                }\n                catch (Exception)\n                {\n                }\n            }\n        });\n</code></pre>\n\n<p>web.config(The whole system.web section since maye there is something else blocking it. No idea):</p>\n\n<pre><code>&lt;authentication mode=\"Forms\"&gt;\n  &lt;forms cookieless=\"UseCookies\" loginUrl=\"~/user/login\" slidingExpiration=\"true\"&gt;&lt;/forms&gt;\n&lt;/authentication&gt;\n&lt;compilation debug=\"true\" targetFramework=\"4.5\" /&gt;\n&lt;httpRuntime targetFramework=\"4.5\" /&gt;\n&lt;httpModules&gt;&lt;/httpModules&gt;\n&lt;sessionState cookieless=\"true\" regenerateExpiredSessionId=\"true\" /&gt;\n</code></pre>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1538006536, "post_id": 52527523, "comment_id": 91994659, "body": "why not simply make setting1 a field (which is what you would do in c++)"}, {"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "edited": false, "score": 0, "creation_date": 1538009775, "post_id": 52527523, "comment_id": 91995457, "body": "I believe there should only be one setting ` public class Settings { public bool MySetting { get; set; }; }` and then you pass these two different instances of the settings class into the workers. Full working example in my answer."}], "answers": [{"comments": [{"owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "edited": false, "score": 0, "creation_date": 1538010239, "post_id": 52527847, "comment_id": 91995555, "body": "While this works if you introduce <code>worker3</code> you would need to add <code>settings3</code> which would be a code change. With your solution I suggest just passing a  <code>Setting</code> (no &#39;s&#39;) object to the worker. (That&#39;s essentially what my answer shows)."}], "tags": [], "owner": {"reputation": 41, "user_id": 10421390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a59ec3555c07452d69c828bad34d49e?s=128&d=identicon&r=PG&f=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/10421390/gilles"}, "is_accepted": false, "score": 2, "last_activity_date": 1538008947, "creation_date": 1538008947, "answer_id": 52527847, "question_id": 52527523, "link": "https://stackoverflow.com/questions/52527523/how-to-get-the-current-value-of-a-field-or-property-passed-to-constructor-witho/52527847#52527847", "title": "How to get the current value of a field or property passed to constructor, without using reflection", "body": "<p>You need to pass a reference type to the constructor. You can create a class for your setting and use an instance that you would update.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class Setting \r\n{\r\n    public bool isActive { get; set; }\r\n}\r\n\r\npublic static class Settings\r\n{\r\n    public static Setting setting1 { get; set; } = new Setting { isActive = true };\r\n    public static Setting setting2 { get; set; } = new Setting { isActive = false };\r\n}\r\npublic class mWorker\r\n{\r\n    private string wName;\r\n    private Setting wSetting;\r\n    public mWorker(string _name, Setting _setting)\r\n    {\r\n        wName = _name;\r\n        wSetting = _setting;\r\n    }\r\n    public void doWork()\r\n    {\r\n        var onOff = wSetting.isActive ? \"ON\" : \"OFF\";\r\n        Console.WriteLine($\"Worker {wName} is turned {onOff}\");\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "edited": false, "score": 0, "creation_date": 1538222732, "post_id": 52527892, "comment_id": 92073347, "body": "In fact I do need to keep the settings class as it is, since there are hundreds of settings of many different data types, most of which are bound to external physical devices and are shared by multiple workers. This answer is simple, terse, and elegant, with the advantage that it can be applied to the given code sample with a minimum of disturbance."}], "tags": [], "owner": {"reputation": 56, "user_id": 10421497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46aebac67629fae358996d7e1c6c88a0?s=128&d=identicon&r=PG&f=1", "display_name": "einar", "link": "https://stackoverflow.com/users/10421497/einar"}, "is_accepted": true, "score": 2, "last_activity_date": 1538009427, "creation_date": 1538009427, "answer_id": 52527892, "question_id": 52527523, "link": "https://stackoverflow.com/questions/52527523/how-to-get-the-current-value-of-a-field-or-property-passed-to-constructor-witho/52527892#52527892", "title": "How to get the current value of a field or property passed to constructor, without using reflection", "body": "<p>If you need to keep Settings class as is, you could do something like this:</p>\n\n<pre><code>public static class Settings\n{\n    public static bool setting1 { get; set; } = true;\n    public static bool setting2 { get; set; } = false;\n}\n\npublic class mWorker\n{\n    private string wName;\n    private Func&lt;bool&gt; wSetting;\n\n    public mWorker(string _name, Func&lt;bool&gt; _setting)\n    {\n        wName = _name;\n        wSetting = _setting;\n    }\n    public void doWork()\n    {\n        var onOff = wSetting() ? \"ON\" : \"OFF\";\n        Console.WriteLine($\"Worker {wName} is turned {onOff}\");\n    }\n}\n\nclass Program\n{\n    void Main()\n    {\n        // Settings are passed by value when each worker is \n        // instantiated. I want to pass the constructor   \n        // something that allows each setting to be read \n        // dynamically whenever it is used. \n        mWorker worker1 = new mWorker(\"W1\", () =&gt; Settings.setting1);\n        mWorker worker2 = new mWorker(\"W2\", () =&gt; Settings.setting2);\n\n        Console.WriteLine(\"\\n=====================\");\n        worker1.doWork();   // Result: \"Worker W1 is turned ON\"\n        worker2.doWork();   // Result: \"Worker W2 is turned OFF\"\n\n        Settings.setting1 = false;\n        Settings.setting2 = true;\n\n        Console.WriteLine(\"\\n=====================\");\n        worker1.doWork();   // Result: \"Worker W1 is turned OFF\"\n        worker2.doWork();   // Result: \"Worker W2 is turned ON\"\n\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "edited": false, "score": 0, "creation_date": 1538012177, "post_id": 52527901, "comment_id": 91995950, "body": "Very helpful concepts! I probably oversimplified by simply saying the settings are &quot;managed elsewhere,&quot; because in reality there are hundreds of preexisting settings (some value types and some reference types) that are bound to external devices and are shared across workers that typically have many settings in common."}], "tags": [], "owner": {"reputation": 19413, "user_id": 581076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/KQGy0.png?s=128&g=1", "display_name": "tymtam", "link": "https://stackoverflow.com/users/581076/tymtam"}, "is_accepted": false, "score": 1, "last_activity_date": 1538010533, "last_edit_date": 1538010533, "creation_date": 1538009486, "answer_id": 52527901, "question_id": 52527523, "link": "https://stackoverflow.com/questions/52527523/how-to-get-the-current-value-of-a-field-or-property-passed-to-constructor-witho/52527901#52527901", "title": "How to get the current value of a field or property passed to constructor, without using reflection", "body": "<p>I wrote a more c# friendly way for you example. </p>\n\n<p>Instead of having setting1 and setting2 I used two different instances of a Settings class. </p>\n\n<pre><code>    public class Settings: ISettings\n    {\n        public bool MySetting { get; set; }\n    }\n</code></pre>\n\n<p>When you add <code>worker3</code>, in your design, you would need to add <code>setting3</code>. With the design shown here you don't need to modify the <code>Settings</code> class.  </p>\n\n<p>Here is the code (the interface part is not necessary, but allows for easy mocking later and it's a good habit) </p>\n\n<p>The result of running this code is</p>\n\n<p><a href=\"https://i.stack.imgur.com/O0Dx7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O0Dx7.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>    public interface ISettings\n    {\n        bool MySetting { get; set; }\n    }\n\n    public class Settings: ISettings\n    {\n        public bool MySetting { get; set; } = true;\n    }\n    public class mWorker\n    {\n        private string wName;\n        private ISettings settings;\n        public mWorker(string _name, ISettings settings)\n        {\n            wName = _name;\n            this.settings = settings;\n        }\n        public void doWork()\n        {\n            var onOff = (settings.MySetting) ? \"ON\" : \"OFF\";\n            Console.WriteLine($\"Worker {wName} is turned {onOff}\");\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var settingsForWorker1 = new Settings() { MySetting = true };\n            mWorker worker1 = new mWorker(\"W1\", settingsForWorker1);\n            var settingsForWorker2 = new Settings() { MySetting = false };\n            mWorker worker2 = new mWorker(\"W2\", settingsForWorker2);\n\n            Console.WriteLine(\"\\n=====================\");\n            worker1.doWork();   // Result: \"Worker W1 is turned ON\"\n            worker2.doWork();   // Result: \"Worker W2 is turned OFF\"\n\n            settingsForWorker1.MySetting = false;\n            settingsForWorker2.MySetting = true;\n\n            Console.WriteLine(\"\\n=====================\");\n            worker1.doWork();   // Desired result: \"Worker W1 is turned OFF\"\n            worker2.doWork();   // Desired result: \"Worker W2 is turned ON\"\n            Console.ReadLine();\n        }\n    }\n</code></pre>\n\n<p>If you store the settings in a collection then it's very easy to managed them for an arbitrary number of workers:</p>\n\n<pre><code>var settings = new Dictionary&lt;string, Settings&gt;()\n{\n    { \"W1\", new Settings() { MySetting = true } },\n    { \"W2\", new Settings() { MySetting = false } },\n    { \"W3\", new Settings() { MySetting = false } },\n};\n\nmWorker worker1 = new mWorker(\"W1\", settings[\"W1\"]);\nmWorker worker2 = new mWorker(\"W2\", settings[\"W2\"]);\n\n(...)\n</code></pre>\n"}], "owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 52527892, "answer_count": 3, "score": 1, "last_activity_date": 1538010533, "creation_date": 1538006058, "question_id": 52527523, "link": "https://stackoverflow.com/questions/52527523/how-to-get-the-current-value-of-a-field-or-property-passed-to-constructor-witho", "title": "How to get the current value of a field or property passed to constructor, without using reflection", "body": "<p>I have a class of settings that are managed elsewhere, and many instances of worker classes that need to know the current values of settings relevant to themselves. Settings may change at any moment. </p>\n\n<p>In C++ I can simply pass a reference to the relevant setting into the worker class constructor. How should I accomplish this in C#? Is reflection the only robust and concise solution? </p>\n\n<p>The code below illustrates what I want to accomplish, but of course it fails because the value of the setting is copied at the moment the worker is instantiated. What options do I have for getting the values at the moment they are needed? </p>\n\n<p><strong>How can I modify this code to achieve the desired behavior without making a mess?</strong></p>\n\n<pre><code>using System;\nnamespace TestSettings\n{\n    public static class Settings\n    {\n        public static bool setting1 { get; set; } = true;\n        public static bool setting2 { get; set; } = false;\n    }\n    public class mWorker\n    {\n        private string wName;\n        private bool wSetting;\n        public mWorker(string _name, bool _setting)\n        {\n            wName = _name;\n            wSetting = _setting;\n        }\n        public void doWork()\n        {\n            var onOff = (wSetting) ? \"ON\" : \"OFF\";\n            Console.WriteLine($\"Worker {wName} is turned {onOff}\");\n        }\n    }\n\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            // Settings are passed by value when each worker is \n            // instantiated. I want to pass the constructor   \n            // something that allows each setting to be read \n            // dynamically whenever it is used. \n            mWorker worker1 = new mWorker(\"W1\", Settings.setting1);\n            mWorker worker2 = new mWorker(\"W2\", Settings.setting2);\n\n            Console.WriteLine(\"\\n=====================\");\n            worker1.doWork();   // Result: \"Worker W1 is turned ON\"\n            worker2.doWork();   // Result: \"Worker W2 is turned OFF\"\n\n            Settings.setting1 = false;\n            Settings.setting2 = true;\n\n            Console.WriteLine(\"\\n=====================\");\n            worker1.doWork();   // Desired result: \"Worker W1 is turned OFF\"\n            worker2.doWork();   // Desired result: \"Worker W2 is turned ON\"\n            Console.ReadLine();\n        }\n    }\n}\n</code></pre>\n\n<p>I've read many SO questions and answers about workarounds for the fact that properties cannot be passed by reference, and there are lots of hints and suggestions, but none of them have answered my question in any way that I can translate into a decision and a working solution. I went back to John Skeet's C# book and reread it, and I'm sure the answer is in there somewhere -- but I still don't see it.</p>\n\n<p>I know I could pass a property name and use reflection to get the value. Magic strings make me uncomfortable, but perhaps NameOf() would make that OK.  I know I could create a class of named settings and write a function to return the value given the setting name. I understand that delegates might be able to help, but the examples I've seen appear to require a delegate per setting, and I'm hoping for a concise solution.</p>\n\n<p>I assume I could give up properties and use public fields, passing a reference to the field, but a number of smart people on SO have recommended against that approach in questions that are similar (but not identical) to mine. </p>\n\n<p>I can't help feeling that this must be a commonly needed bit of functionality, and hoping there is a <strong>generally accepted approach</strong> for handling it in C#. </p>\n"}, {"tags": ["c#", "linq", "datatable"], "answers": [{"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1538006795, "creation_date": 1538006795, "answer_id": 52527593, "question_id": 52527517, "link": "https://stackoverflow.com/questions/52527517/find-empty-cells-of-a-datatable-except-in-certain-column/52527593#52527593", "title": "Find empty cells of a DataTable except in certain column", "body": "<p>You can use a <code>.Where</code> on the array of values to ignore a particular index: </p>\n\n<pre><code>.Where(x =&gt; x.value\n    .Where((y, idx) =&gt; idx != 3)\n    .Any(y =&gt; y == null || y == DBNull.Value)\n)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 2057644, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b2fa190a742c6071149335eb739104?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Villanueva Escarela", "link": "https://stackoverflow.com/users/2057644/andr%c3%a9-villanueva-escarela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "accepted_answer_id": 52527593, "answer_count": 1, "score": 0, "last_activity_date": 1538006795, "creation_date": 1538005974, "question_id": 52527517, "link": "https://stackoverflow.com/questions/52527517/find-empty-cells-of-a-datatable-except-in-certain-column", "title": "Find empty cells of a DataTable except in certain column", "body": "<p>I'm working on a module to upload and validate an Excel file with the ExcelDataReader plugin.\nThe excel consists on 5 columns per row. I had converted the uploaded file in a DataTable, and now I need to validate there aren't empty or null cells except for the cells of the last column.</p>\n\n<p>I have a snippet to find the nulls with linq, but it works for every column.</p>\n\n<pre><code>DataSet result = reader.AsDataSet();\nDataTable excelTable = result.Tables[0];\n\nvar rowList = excelTable.AsEnumerable().Select(x =&gt; x.ItemArray).ToList();\nvar emptyCells = rowList.Select((value, index) =&gt; new { value, index })\n                         .Where(x =&gt; x.value.Any(y =&gt; y == null || y == DBNull.Value))\n                         .Select(x =&gt; x.index).ToList();\n\nif(emptyCells.Any())\n{\n    emptyCells.ForEach(x =&gt; {\n           data.Errors.Add(new ExcelError { Row = x, Details = \"This row has empty cells.\" });\n    });\n}\n</code></pre>\n\n<p>How can I exclude the last or an especific column of the DataTable? Thanks in advance!</p>\n"}, {"tags": ["c#", "process"], "comments": [{"owner": {"reputation": 126, "user_id": 9544040, "user_type": "registered", "profile_image": "https://graph.facebook.com/330417617479961/picture?type=large", "display_name": "John Evenetcha", "link": "https://stackoverflow.com/users/9544040/john-evenetcha"}, "edited": false, "score": 0, "creation_date": 1538053775, "post_id": 52527449, "comment_id": 92014861, "body": "Bump, having same problem!"}], "owner": {"reputation": 11, "user_id": 4092264, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-m6HGKRSIQgM/AAAAAAAAAAI/AAAAAAAAADA/c0zBm_XWMeA/photo.jpg?sz=128", "display_name": "Artister Arti", "link": "https://stackoverflow.com/users/4092264/artister-arti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538005442, "creation_date": 1538005442, "question_id": 52527449, "link": "https://stackoverflow.com/questions/52527449/c-process-is-not-restoring-to-task-bar-after-form-is-closed", "title": "C# Process is not restoring to task bar after form is closed", "body": "<p>I have this Form5 and When i load it, is supposed to load google chrome into this window form if chrome is already running or not then is going to start a new process.</p>\n\n<p>Then issue stands at when im closing the Form5 then chrome is not being unembedded from the window form and as you can see on <strong>Form5_FormClosed</strong> is the code that is supposed to restore the window back to task bar but nothing happens and sometimes after 1 of 100 is working. What im doing wrong?</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Diagnostics;\nusing System.Drawing;\nusing System.Linq;\nusing System.Runtime.InteropServices;\nusing System.Text;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace TrinityItemCreator\n{\n    public partial class Form5 : Form\n    {\n        private string urlDestination;\n\n        private Process myprocess;\n\n        public Form5(string urlTarget)\n        {\n            InitializeComponent();\n            urlDestination = urlTarget;\n        }\n\n        [DllImport(\"user32.dll\")]\n        static extern IntPtr SetParent(IntPtr hWndChild, IntPtr hWndNewParent);\n\n        // HWND Constants\n        static readonly IntPtr HWND_TOPMOST = new IntPtr(-1);\n        static readonly IntPtr HWND_NOTOPMOST = new IntPtr(-2);\n        static readonly IntPtr HWND_TOP = new IntPtr(0);\n        static readonly IntPtr HWND_BOTTOM = new IntPtr(1);\n\n        // P/Invoke\n        [DllImport(\"user32.dll\")]\n        static extern bool SetWindowPos(IntPtr hWnd, IntPtr hWndInsertAfter, int X, int Y, int cx, int cy, uint uFlags);\n\n        [DllImport(\"user32.dll\")]\n        static extern bool ShowWindow(IntPtr hWnd, int nCmdShow);\n\n        private void Form5_Load(object sender, EventArgs e)\n        {\n            Process[] pname = Process.GetProcessesByName(\"chrome\");\n            if (pname.Length != 0) // chrome is already opened\n            {\n                //Process.Start(\"chrome\", urlDestination);\n                Process[] processlist = Process.GetProcesses();\n                foreach (Process theprocess in processlist)\n                {\n                    if (theprocess.ProcessName == \"chrome\")\n                    {\n                        SetParent(theprocess.MainWindowHandle, panel2.Handle);\n                        int left = 1;\n                        int top = 1;\n                        int width = 876;\n                        int height = 656;\n\n                        SetWindowPos(theprocess.MainWindowHandle, HWND_TOP, left, top, width, height, 0);\n                        myprocess = theprocess;\n                    }\n                }\n            }\n            else\n            {\n                myprocess = Process.Start(\"chrome\", urlDestination);\n                Thread.Sleep(1000);\n                SetParent(myprocess.MainWindowHandle, panel2.Handle);\n                int left = 1;\n                int top = 1;\n                int width = 876;\n                int height = 656;\n\n                SetWindowPos(myprocess.MainWindowHandle, HWND_TOP, left, top, width, height, 0);\n            }\n        }\n\n        private void Form5_FormClosed(object sender, FormClosedEventArgs e)\n        {\n                SetParent(myprocess.MainWindowHandle, IntPtr.Zero);\n                ShowWindow(myprocess.MainWindowHandle, 3); // maximize back\n                ShowWindow(myprocess.MainWindowHandle, 2); // minimize to taskbar\n                Thread.Sleep(1500);\n        }\n\n        private void ButtonMyTemplates_Click(object sender, EventArgs e)\n        {\n            Close();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "mongodb", "aggregation-framework", "mongodb-.net-driver"], "answers": [{"tags": [], "owner": {"reputation": 1141, "user_id": 1367497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c1ab83696683e53a9940cd2a8c480894?s=128&d=identicon&r=PG", "display_name": "peeyush singh", "link": "https://stackoverflow.com/users/1367497/peeyush-singh"}, "is_accepted": true, "score": 1, "last_activity_date": 1538022418, "creation_date": 1538022418, "answer_id": 52529444, "question_id": 52527381, "link": "https://stackoverflow.com/questions/52527381/mongodb-net-fluent-aggregate-query/52529444#52529444", "title": "MongoDB .NET Fluent Aggregate Query", "body": "<p>C# driver has implementation of LINQ targeting the mongo aggregation framework, so you should be able to do your query using standard linq operators.</p>\n\n<p>The example below shows a group by (on an assumed property Id) and take the count of documents followed by sorting. In example below x would be of type <code>JobResult</code>, i.e. type you use when getting the collection.</p>\n\n<pre><code>var result = collection.AsQueryable().GroupBy(x =&gt; x.Id).\nSelect(g=&gt;new { g.Key, count=g.Count()}).OrderBy(a=&gt;a.Key).Take(1).ToList();\n</code></pre>\n\n<p>For detailed reference and more example refer to <a href=\"http://mongodb.github.io/mongo-csharp-driver/2.7/reference/driver/crud/linq/\" rel=\"nofollow noreferrer\">C# driver documentation</a></p>\n"}], "owner": {"reputation": 125, "user_id": 1015318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39a5e6f847f005acce6b4d3a0bcd7b6?s=128&d=identicon&r=PG", "display_name": "joetherod", "link": "https://stackoverflow.com/users/1015318/joetherod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2106, "favorite_count": 0, "accepted_answer_id": 52529444, "answer_count": 1, "score": 1, "last_activity_date": 1538022418, "creation_date": 1538004784, "last_edit_date": 1538008287, "question_id": 52527381, "link": "https://stackoverflow.com/questions/52527381/mongodb-net-fluent-aggregate-query", "title": "MongoDB .NET Fluent Aggregate Query", "body": "<p>I'm trying to write the query below using the fluent syntax of MongoDB. I'm using the latest .NET driver. I don't like the strings for naming the columns and would prefer to not have to do the Bson Serialization as well.</p>\n\n<pre><code>var collection = _mongoDbClient.GetDocumentCollection&lt;JobResult&gt;();\nvar bsonDocuments = collection.Aggregate()\n    .Group&lt;BsonDocument&gt;(new BsonDocument{ { \"_id\", \"$RunDateTime\" }, { \"Count\", new BsonDocument(\"$sum\", 1) } })\n    .Sort(new BsonDocument { { \"count\", -1 } })\n    .Limit(20)\n    .ToList();\n\nforeach (var bsonDocument in bsonDocuments)\n{\n    jobResultRunDateTimes.Add(BsonSerializer.Deserialize&lt;JobResultRunDateTime&gt;(bsonDocument));\n}\n</code></pre>\n"}, {"tags": ["c#", "json", "json.net", "azure-functions"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1538005104, "post_id": 52527296, "comment_id": 91994401, "body": "what goes over the wire, i mean did the quotes disappear on the sender side or the receiver side"}, {"owner": {"reputation": 1683, "user_id": 3813723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15907b15818a361ae3056312f6afdfd4?s=128&d=identicon&r=PG", "display_name": "Jason Shave", "link": "https://stackoverflow.com/users/3813723/jason-shave"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1538005912, "post_id": 52527296, "comment_id": 91994553, "body": "quotes get stripped on the receiving side. setting a breakpoint in VS along with a watcher for <code>data</code> shows the missing inside quotes but outside double-quotes. Odd!"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1538006234, "post_id": 52527296, "comment_id": 91994605, "body": "no, what goes over the wire. use fiddler to see what gets sent. you still do not know where the strip happens"}, {"owner": {"reputation": 1683, "user_id": 3813723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15907b15818a361ae3056312f6afdfd4?s=128&d=identicon&r=PG", "display_name": "Jason Shave", "link": "https://stackoverflow.com/users/3813723/jason-shave"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1538006858, "post_id": 52527296, "comment_id": 91994756, "body": "Can&#39;t seem to trace what&#39;s being sent from curl using Fiddler. I did some research on using Fiddler instead all up and it&#39;s working better. I have another issue but it&#39;s not relevant to this question. I could investigate further but I don&#39;t know why I can&#39;t trace curl from Fiddler."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1538007224, "post_id": 52527296, "comment_id": 91994860, "body": "<code>curl</code> doesn&#39;t use a proxy server by default. It probably has a command line option to make it do that."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 1, "creation_date": 1538007362, "post_id": 52527296, "comment_id": 91994909, "body": "Try adding <code>--proxy http:&#47;&#47;localhost:8888</code> and see if it now goes through Fiddler."}, {"owner": {"reputation": 1683, "user_id": 3813723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15907b15818a361ae3056312f6afdfd4?s=128&d=identicon&r=PG", "display_name": "Jason Shave", "link": "https://stackoverflow.com/users/3813723/jason-shave"}, "reply_to_user": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 0, "creation_date": 1538007548, "post_id": 52527296, "comment_id": 91994951, "body": "Thanks @DavidG. That was it. I can see the request being stripped of the double quotes leaving only: <code>&#39;{domainName:fabrikam.onmicrosoft.com,apiKey:980709a87df09a7&zwnj;&#8203;8dsf90a8s7f}&#39;</code>"}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1538007938, "post_id": 52527296, "comment_id": 91995032, "body": "I wouldn&#39;t recommend using curl anyway, it&#39;s a great tool but if you want to test an API, use Postman for example."}, {"owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "edited": false, "score": 2, "creation_date": 1538008243, "post_id": 52527296, "comment_id": 91995115, "body": "If you really want to use curl, then post like this: <code>-d &quot;{\\&quot;domainName\\&quot;: \\&quot;fabrikam.onmicrosoft.com\\&quot;, \\&quot;apiKey\\&quot;: \\&quot;980709a87df09a78dsf90a8s7f\\&quot;}&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1534, "user_id": 6210699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247b4cf307285aa72632d5b321cf246b?s=128&d=identicon&r=PG&f=1", "display_name": "Mauricio Atanache", "link": "https://stackoverflow.com/users/6210699/mauricio-atanache"}, "is_accepted": false, "score": 1, "last_activity_date": 1538008240, "creation_date": 1538008240, "answer_id": 52527767, "question_id": 52527296, "link": "https://stackoverflow.com/questions/52527296/exception-deserializing-json-with-newtonsoft-sent-by-curl-to-azure-function/52527767#52527767", "title": "Exception deserializing JSON with Newtonsoft sent by CURL to Azure Function", "body": "<p>Try this :</p>\n\n<pre><code>curl -H \"Content-Type:application/json\" -X POST -d \"{\\\"domainName\\\":\\\"fabrikam.onmicrosoft.com\\\",\\\"apiKey\\\":\\\"980709a87df09a78dsf90a8s7f\\\"}\" \n http://localhost:7071/api/getnodedata\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1683, "user_id": 3813723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15907b15818a361ae3056312f6afdfd4?s=128&d=identicon&r=PG", "display_name": "Jason Shave", "link": "https://stackoverflow.com/users/3813723/jason-shave"}, "edited": false, "score": 0, "creation_date": 1538010265, "post_id": 52527804, "comment_id": 91995561, "body": "Great help and nice suggestion on refactoring using .ReadAsStringAsync(). I was using an example online. I&#39;m having issues populating my NodeModel object though. I&#39;ll post a separate question on the matter. Cheers."}], "tags": [], "owner": {"reputation": 94444, "user_id": 1663001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NBllQ.jpg?s=128&g=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/1663001/davidg"}, "is_accepted": true, "score": 2, "last_activity_date": 1538008967, "last_edit_date": 1538008967, "creation_date": 1538008613, "answer_id": 52527804, "question_id": 52527296, "link": "https://stackoverflow.com/questions/52527296/exception-deserializing-json-with-newtonsoft-sent-by-curl-to-azure-function/52527804#52527804", "title": "Exception deserializing JSON with Newtonsoft sent by CURL to Azure Function", "body": "<p>Summarising the comments in an answer...</p>\n\n<ol>\n<li><p>Using Fiddler - this is a great tool, but it works as a proxy server on your machines. Various tools will not respect system settings and <code>curl</code> is one of those. The .NET <code>HttpClient</code> is the same. So you need to tell it to use the proxy with the <code>--proxy</code> (or <code>-x</code> for short option:</p>\n\n<pre><code>curl -H \"Content-Type: application/json\" -X POST -d '...snip...' http://localhost:7071/api/getnodedata -x http://localhost:8888\n</code></pre></li>\n<li><p><code>curl</code> is stripping out the double quotes. To get around that you need to use double quote to surround your data and escape inner quotes with a backslash:</p>\n\n<pre><code>-d \"{\\\"domainName\\\": \\\"fabrikam.onmicrosoft.com\\\", \\\"apiKey\\\": \\\"980709a87df09a78dsf90a8s7f\\\"}\"\n</code></pre></li>\n<li><p>I wouldn't generally recommend using <code>curl</code> to test an API. It's a great tool but, as you have seen, awkward to use. Instead I recommend using <a href=\"https://www.getpostman.com/\" rel=\"nofollow noreferrer\">Postman</a>.</p></li>\n<li><p><strong>Bonus!</strong> Your C# code is a little skewy too. Either read the data as a string and pass to JSON.Net:</p>\n\n<pre><code>string data = await req.Content.ReadAsStringAsync();\nNodeModel nodeData = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;NodeModel&gt;(data);\n</code></pre>\n\n<p>Or, even better, let the extension you're already using do the work for you:</p>\n\n<pre><code>NodeModel nodeData = await req.Content.ReadAsAsync&lt;NodeModel&gt;();\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1683, "user_id": 3813723, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/15907b15818a361ae3056312f6afdfd4?s=128&d=identicon&r=PG", "display_name": "Jason Shave", "link": "https://stackoverflow.com/users/3813723/jason-shave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 52527804, "answer_count": 2, "score": 2, "last_activity_date": 1538008967, "creation_date": 1538004154, "last_edit_date": 1538008581, "question_id": 52527296, "link": "https://stackoverflow.com/questions/52527296/exception-deserializing-json-with-newtonsoft-sent-by-curl-to-azure-function", "title": "Exception deserializing JSON with Newtonsoft sent by CURL to Azure Function", "body": "<p>When posting to my API using CURL the syntax I'm using is:</p>\n\n<pre><code>curl -H \"Content-Type:application/json\" -X POST -d '{\"domainName\":\"fabrikam.onmicrosoft.com\",\"apiKey\":\"980709a87df09a78dsf90a8s7f\"}' http://localhost:7071/api/getnodedata\n</code></pre>\n\n<p>My web API receives the request via:</p>\n\n<pre><code>dynamic data = await req.Content.ReadAsAsync&lt;object&gt;();\nNodeModel nodeData = Newtonsoft.Json.JsonConvert.DeserializeObject&lt;NodeModel&gt;(data);\n</code></pre>\n\n<p>My class is simple:</p>\n\n<pre><code>public class NodeModel : TableEntity\n{\n    public string DomainName { get; set; }\n    public string ApiKey { get; set; }\n}\n\npublic static NodeModel(string DomainName, string ApiKey)\n{\n    this.PartitionKey = DomainName;\n    this.RowKey = ApiKey;\n}\n</code></pre>\n\n<p>Inspecting <code>data</code> gives me <code>'{domainName:fabrikam.onmicrosoft.com,apiKey:980709a87df09a78dsf90a8s7f}'</code> which looks okay except for the missing double quotes around each key/value pair. CURL is removing the double-quotes before sending it (as verified using Fiddler trace).</p>\n\n<p>I get an exception in my <code>func.exe</code> local application as follows:</p>\n\n<blockquote>\n  <p>mscorlib: Exception while executing function: GetNodeData. Newtonsoft.Json: Error parsing boolean value. Path 'domainName'</p>\n</blockquote>\n\n<p>I've tried:</p>\n\n<ol>\n<li>Spaces between the key/values</li>\n<li>Single quotes wrapping the keys(s)</li>\n<li>Single quotes wrapping the value(s)</li>\n<li>Researching Newtonsoft website for correct syntax</li>\n<li>Researching this site for other examples (which don't seem to be any different from what I'm doing).</li>\n</ol>\n\n<p>Any suggestions or instructions for using another tool? I have Fiddler too but haven't used it for <code>POST</code>ing data to a service.</p>\n"}, {"tags": ["c#", "entity-framework", "botframework"], "comments": [{"owner": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 1, "creation_date": 1538024521, "post_id": 52527215, "comment_id": 91998645, "body": "Firstly, don&#39;t use <code>.ToList()</code> then <code>.First()</code>, just use <code>.First()</code> or <code>.Single()</code>. <code>.ToList()</code> will pull all matching records from the DB. <code>.First()</code> applies when &quot;I expect multiple entries, but only care about the first one.&quot;, <code>.Single()</code> applies when &quot;I expect 1 and only 1 entry.&quot; Given a user would be logging into the application I would recommend looking at appending their name &amp; user ID into the Auth Token so that you can retrieve it without going to the database each time."}, {"owner": {"reputation": 3399, "user_id": 3011564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USArP.png?s=128&g=1", "display_name": "D4RKCIDE", "link": "https://stackoverflow.com/users/3011564/d4rkcide"}, "reply_to_user": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1538504179, "post_id": 52527215, "comment_id": 92162554, "body": "Did @steve py&#39;s comment fix your issue?"}, {"owner": {"reputation": 353, "user_id": 4260217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e98e1959f817ccae31a1e725dabedf6?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/4260217/adam"}, "reply_to_user": {"reputation": 14993, "user_id": 423497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95c411e966f549fa07b3d7fb142ba733?s=128&d=identicon&r=PG", "display_name": "Steve Py", "link": "https://stackoverflow.com/users/423497/steve-py"}, "edited": false, "score": 0, "creation_date": 1538606669, "post_id": 52527215, "comment_id": 92206380, "body": "@StevePy that worked"}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 4260217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e98e1959f817ccae31a1e725dabedf6?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/4260217/adam"}, "is_accepted": true, "score": 0, "last_activity_date": 1538606633, "creation_date": 1538606633, "answer_id": 52636664, "question_id": 52527215, "link": "https://stackoverflow.com/questions/52527215/how-do-i-load-user-details-from-db-into-memory-to-personalize-my-bot/52636664#52636664", "title": "How do I load user details from db into memory to personalize my bot", "body": "<pre><code>private async Task OnMessageReceivedAsync(IDialogContext context, IAwaitable&lt;IMessageActivity&gt; activity)\n{ \n    var userProfile = await LoadUserData(context);\n\n    string promptText = $\"Hi {userProfile.FirstName}, before we start what product do you want to chat about today?\";\n\n    PromptDialog.Choice(\n        context: context,\n        resume: ChoiceReceivedAsync,\n        options: (IEnumerable&lt;SoftwareOptions&gt;) Enum.GetValues(typeof(SoftwareOptions)),\n        prompt: promptText,\n        retry: \"Sorry please select one of the options I listed thanks.\",\n        promptStyle: PromptStyle.Auto\n    );\n}\n\npublic async Task&lt;UserProfile&gt; LoadUserData(IDialogContext context)\n{\n    LicenseDbContext db = new LicenseDbContext();\n\n    var userProfile = (from u in db.AspNetUsers\n        join c in db.Companies on u.CompanyID equals c.CompanyID\n        where u.UserName == \"john.smith\"\n        select new UserProfile()\n        {\n            UserName = u.UserName,\n            FirstName = u.FirstName,\n            CompanyId = u.CompanyID,\n            ParentCompany = c.ParentCompanyID,\n            }).Single();\n    return userProfile;\n}\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 4260217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e98e1959f817ccae31a1e725dabedf6?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/4260217/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 52636664, "answer_count": 1, "score": 0, "last_activity_date": 1538606633, "creation_date": 1538003547, "question_id": 52527215, "link": "https://stackoverflow.com/questions/52527215/how-do-i-load-user-details-from-db-into-memory-to-personalize-my-bot", "title": "How do I load user details from db into memory to personalize my bot", "body": "<p>My bot is in a web application that requires user authentication using OAuth.  When a user starts a chat session I would like to load the user details into memory to personalize dialogs.  Below is the current way i am doing it, but would like advice from anyone that has better method.</p>\n\n<pre><code>private async Task OnMessageReceivedAsync(IDialogContext context, IAwaitable&lt;IMessageActivity&gt; result)\n{\n    var name = GetUserDetails(result);\n\n    var message = await result;\n\n    string id = context.Activity.Id;\n\n\n    string promptText = $\"Hi {name}, before we start which product do you want to chat about today?\";\n\n    PromptDialog.Choice(\n        context: context,\n          resume: ChoiceReceivedAsync,\n          options: (IEnumerable&lt;SoftwareOptions&gt;)Enum.GetValues(typeof(SoftwareOptions)),\n          prompt: promptText,\n          retry: \"Sorry please select one of the options I listed thanks.\",\n          promptStyle: PromptStyle.Auto\n          );\n}\n</code></pre>\n\n<p>The idea is the <code>GetUserDetails</code> method loads the details like username, firstname, companyId etc.  I can then call the user details from any dialog as needed when my bot responds to personalise the conversation.</p>\n\n<pre><code>private object GetUserDetails(IAwaitable&lt;IMessageActivity&gt; result)\n{\n    var db = new LicensingDbContext();\n\n    string id = \"John.Smith\";\n    var user = (from u in db.AspNetUsers\n            where (u.UserName == id)\n            select new UserDetails\n            {\n                FirstName = u.FirstName\n            }).ToList();\n\n    return user.First();\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1538003368, "post_id": 52527144, "comment_id": 91994023, "body": "I don&#39;t understand. Your code is already enabling <code>IDENTITY_INSERT</code> for multiple tables."}, {"owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1538003445, "post_id": 52527144, "comment_id": 91994039, "body": "As per Sql Server one session can Have only one IDENTITY_INSERT. So my code wont work as it is trying to set for 2 tables"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 1, "creation_date": 1538005168, "post_id": 52527144, "comment_id": 91994418, "body": "<code>But how can I achieve for more than one</code> You can&#39;t."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1538005190, "post_id": 52527144, "comment_id": 91994423, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27615391/how-to-set-identity-insert-on-in-sql-server-2008-for-multiple-tables-at-once\">How to SET IDENTITY_INSERT ON in SQL Server 2008 for multiple tables at once</a>"}, {"owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "edited": false, "score": 0, "creation_date": 1538006206, "post_id": 52527144, "comment_id": 91994604, "body": "EF Core supports Sequences, which allow the client to provide the key values.  <a href=\"https://docs.microsoft.com/en-us/ef/core/modeling/relational/sequences\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/ef/core/modeling/relational/sequenc&zwnj;&#8203;es</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1538005689, "last_edit_date": 1538005689, "creation_date": 1538005383, "answer_id": 52527440, "question_id": 52527144, "link": "https://stackoverflow.com/questions/52527144/setting-set-identity-insert-for-multiple-tables-in-entity-framework-core/52527440#52527440", "title": "Setting SET IDENTITY_INSERT for multiple tables in Entity Framework Core", "body": "<p>Remove the lines such as this:</p>\n\n<pre><code> EmploymentTypeGroups = new[]\n {\n     new EmploymentTypeGroupEntity\n     {\n         EmploymentTypeGroupID = 71, GroupName=\"Some Data\", IsActive = true\n     }\n }\n</code></pre>\n\n<p>and move <code>_referenceDataDbContext.Database.ExecuteSqlCommand(\"SET IDENTITY_INSERT [ref].[EmploymentType] ON\");</code> to above the <code>_referenceDataDbContext.EmploymentType.AddRangeAsync(</code> line.</p>\n\n<p>then turn IDENTITY_INSERT OFF.</p>\n\n<p>Then repeat the whole thing to insert your group records.</p>\n\n<p>This way you only need IDENTITY_INSERT ON for one table at a time.</p>\n"}], "owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538022589, "creation_date": 1538002952, "last_edit_date": 1538022589, "question_id": 52527144, "link": "https://stackoverflow.com/questions/52527144/setting-set-identity-insert-for-multiple-tables-in-entity-framework-core", "title": "Setting SET IDENTITY_INSERT for multiple tables in Entity Framework Core", "body": "<p>I want to set tables <code>IDENTITY_INSERT</code> to <code>ON</code>. I can for one table at a time. But how can I achieve for more than one as I am doing code-first approach.</p>\n\n<p>I'm getting this error:</p>\n\n<blockquote>\n  <p>System.Data.SqlClient.SqlException : IDENTITY_INSERT is already ON for table 'Some Table'. Cannot perform SET operation for table 'ref.EmploymentType'</p>\n</blockquote>\n\n<p><strong>Test.cs</strong></p>\n\n<pre><code>using (var transaction = _referenceDataDbContext.Database.BeginTransaction())\n{\n    _referenceDataDbContext.EmploymentType.AddRangeAsync(\n                new EmploymentTypeEntity\n                {\n                    EmploymentTypeID = 1,\n                    EmploymentType = \"EmploymentType1 \",\n                    CategoryTypeID = 27,\n                    SiteAddress = null,\n                    CreatedBy = \"UnitTest\",\n                    CreatedOn = DateTime.Now,\n                    ModifiedBy = \"UnitTest\",\n                    ModifiedOn = DateTime.Now,\n                    RowVersion = new RowVersion(1),\n                    EmploymentTypeGroups = new[]\n                    {\n                    new EmploymentTypeGroupEntity\n                    {\n                        EmploymentTypeGroupID = 11, GroupName = \"GroupName\", IsActive = true\n                    }\n                    }\n                }\n                }\n            );\n\n    _referenceDataDbContext.Database.ExecuteSqlCommand(\"SET IDENTITY_INSERT [ref].[EmploymentTypeGroup] ON\");\n    _referenceDataDbContext.Database.ExecuteSqlCommand(\"SET IDENTITY_INSERT [ref].[EmploymentType] ON\");\n\n    _referenceDataDbContext.SaveChanges();\n}\n</code></pre>\n"}, {"tags": ["c#", "windows-explorer", "known-folders"], "comments": [{"owner": {"reputation": 37205, "user_id": 1070452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/osssV.jpg?s=128&g=1", "display_name": "\u0147\u024fssa P&#248;ngj\u01e3rdenlarp", "link": "https://stackoverflow.com/users/1070452/%c5%87%c9%8fssa-p%c3%b8ngj%c7%a3rdenlarp"}, "edited": false, "score": 0, "creation_date": 1538003447, "post_id": 52527133, "comment_id": 91994040, "body": "There are also some GUIDs representing some  &quot;missing&quot; KnownFolders like My Music"}, {"owner": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1538008273, "post_id": 52527133, "comment_id": 91995119, "body": "<a href=\"https://social.msdn.microsoft.com/Forums/vstudio/en-US/98d15984-12d9-47d1-a14d-6e887bf88333/how-to-get-quick-access-folder-path-in-windows-10-using-clsid-in-c-wpf-?forum=csharpgeneral\" rel=\"nofollow noreferrer\">social.msdn.microsoft.com/Forums/vstudio/en-US/&hellip;</a>"}, {"owner": {"reputation": 2407, "user_id": 1027031, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0294a5b67adaeb80aa5a5673bfff3433?s=128&d=identicon&r=PG", "display_name": "Brian Rice", "link": "https://stackoverflow.com/users/1027031/brian-rice"}, "reply_to_user": {"reputation": 32638, "user_id": 2052655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1mWqp.jpg?s=128&g=1", "display_name": "Rufus L", "link": "https://stackoverflow.com/users/2052655/rufus-l"}, "edited": false, "score": 0, "creation_date": 1538018509, "post_id": 52527133, "comment_id": 91997197, "body": "@RufusL in that article it talks about &quot;shell:::{679f85cb-0220-4080-b29b-5540cc05aab6}&quot;... this just gets you the &quot;This PC&quot; part... good start though."}], "answers": [{"tags": [], "owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "is_accepted": false, "score": 0, "last_activity_date": 1542311784, "creation_date": 1542311784, "answer_id": 53327032, "question_id": 52527133, "link": "https://stackoverflow.com/questions/52527133/knownfolders-that-match-file-explorer/53327032#53327032", "title": "KnownFolders that match File Explorer", "body": "<p>I don't think there is a known folder for the namespace root used by Explorer, you might have to build the list yourself.</p>\n\n<p>Look for CLSID keys with a <a href=\"https://docs.microsoft.com/en-us/windows/desktop/properties/props-system-ispinnedtonamespacetree\" rel=\"nofollow noreferrer\"><code>System.Is.PinnedToNameSpaceTree</code></a> DWORD value != 0.</p>\n\n<blockquote>\n  <p>Identifies whether a shell folder is pinned to the navigation pane.</p>\n</blockquote>\n\n<p><a href=\"https://www.askvg.com/windows-10-tip-remove-onedrive-quick-access-homegroup-and-network-icons-from-navigation-pane-of-this-pc/\" rel=\"nofollow noreferrer\">This article</a> indicates that the <code>SFGAO_NONENUMERATED</code> attribute might also be relevant.</p>\n"}], "owner": {"reputation": 2407, "user_id": 1027031, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0294a5b67adaeb80aa5a5673bfff3433?s=128&d=identicon&r=PG", "display_name": "Brian Rice", "link": "https://stackoverflow.com/users/1027031/brian-rice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542311784, "creation_date": 1538002877, "question_id": 52527133, "link": "https://stackoverflow.com/questions/52527133/knownfolders-that-match-file-explorer", "title": "KnownFolders that match File Explorer", "body": "<p>On the tree view of my File Explorer (formerly Windows Explorer) on Windows 10... I have a number of folders at the root... in my case this includes \"Quick access\", \"DropBox\", \"OneDrive\", \"SharePoint\", \"This PC\", and \"Network\".</p>\n\n<p>Is there a KnownFolder that contains these things... or some way to get a list of folders that would match what comes up on the left of the File Explorer?</p>\n"}, {"tags": ["c#", "visual-studio", "web-services", "wcf", "self-hosting"], "comments": [{"owner": {"reputation": 13, "user_id": 10420671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6508991f0568a46e1514f031c6b381b3?s=128&d=identicon&r=PG&f=1", "display_name": "leon", "link": "https://stackoverflow.com/users/10420671/leon"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538003649, "post_id": 52527074, "comment_id": 91994095, "body": "Hi MickyD, thanks for your reply."}, {"owner": {"reputation": 13, "user_id": 10420671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6508991f0568a46e1514f031c6b381b3?s=128&d=identicon&r=PG&f=1", "display_name": "leon", "link": "https://stackoverflow.com/users/10420671/leon"}, "edited": false, "score": 0, "creation_date": 1538004357, "post_id": 52527074, "comment_id": 91994265, "body": "It&#39;s just one service, I create a windows form app lets call it app &quot;A&quot; to self hosted the service. Then I create a new windows form app lets call it app &quot;B&quot; to consume the service self hosted from app &quot;A&quot;. It does not work!...  so I dismiss a &quot;A&quot;  and create a Console App lets call it app &quot;C&quot; and copy the same code from app &quot;A&quot; (which was windows form) to app &quot;C&quot; which is a console app. Run it, then try to consume the self hosted service (which now is running in app &quot;C&quot;) from app &quot;B&quot; and it works.   Like I said, I used 4.6.1 for all apps. And i try LocalHost and my IP address just for test,"}], "answers": [{"tags": [], "owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "is_accepted": true, "score": 2, "last_activity_date": 1538004398, "last_edit_date": 1538004398, "creation_date": 1538004084, "answer_id": 52527285, "question_id": 52527074, "link": "https://stackoverflow.com/questions/52527074/create-a-self-hosted-wcf-service-inside-a-windows-form/52527285#52527285", "title": "Create a self hosted WCF Service inside a Windows Form", "body": "<hr>\n\n<p><strong>TL;DR</strong> the console app works because you have a delay before shutting down the service; the WinForms host doesn't</p>\n\n<hr>\n\n<p>The reason your console WCF host service works is that you start the hosting and continue until the <code>Console.ReadLine()</code> line:</p>\n\n<pre><code>host.Open();\n\nConsole.WriteLine(\"The service is ready at {0}\", baseAddress);\nConsole.WriteLine(\"Press &lt;Enter&gt; to stop the service.\");\nConsole.ReadLine();  // &lt;-------- program waits here\n\n// Close the ServiceHost.\nhost.Close();\n</code></pre>\n\n<p>...after which the service is torn down.  Prior to that, your other clients can connect fine and <strong>add Service References</strong>.</p>\n\n<p>The WinForms app has <strong>no</strong> such delay:</p>\n\n<pre><code>private void KioskosServerForm_Load(object sender, EventArgs e)\n{\n    Uri baseAddress = new Uri(\"http://10.131.131.14:8080/sendKioskMessage\");\n\n    try\n    {\n        // Create the ServiceHost.\n        using (ServiceHost host = new ServiceHost(typeof(KioskMessageService), baseAddress))\n        {\n            // Enable metadata publishing.\n            ServiceMetadataBehavior smb = new ServiceMetadataBehavior();\n                smb.HttpGetEnabled = true;\n                smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;\n                host.Description.Behaviors.Add(smb);\n\n            // Open the ServiceHost to start listening for messages. Since\n            // no endpoints are explicitly configured, the runtime will create\n            // one endpoint per base address for each service contract implemented\n            // by the service.\n            host.Open();  // &lt;------ opened here\n        } // &lt;------ shutdown here\n     } \n     catch (Exception exp)\n     {\n         MessageBox.Show(exp.InnerException.Message);\n     }\n}\n</code></pre>\n\n<p>...it is immediately shutdown when the code goes out of scope of the <code>using</code> block.  The <code>using</code> will automatically call <code>Dispose()</code> on the <code>host</code> object which in turn calls <code>Close()</code>.  </p>\n\n<p>Consider placing the host into a variable like so:</p>\n\n<pre><code>ServiceHost _host;  // &lt;---------- new!\n\nprivate void KioskosServerForm_Load(object sender, EventArgs e)\n{\n    Uri baseAddress = new Uri(\"http://10.131.131.14:8080/sendKioskMessage\");\n\n    try\n    {\n        // Create the ServiceHost.\n        _host = new ServiceHost(typeof(KioskMessageService), baseAddress))\n        // Enable metadata publishing.\n        ServiceMetadataBehavior smb = new ServiceMetadataBehavior();\n        smb.HttpGetEnabled = true;\n        smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;\n       _host.Description.Behaviors.Add(smb);\n\n        // Open the ServiceHost to start listening for messages. Since\n        // no endpoints are explicitly configured, the runtime will create\n        // one endpoint per base address for each service contract implemented\n        // by the service.\n        _host.Open();\n     }\n     catch (Exception exp)\n     {\n         MessageBox.Show(exp.InnerException.Message);\n     }\n }\n</code></pre>\n\n<p>Later, you can close the <code>_host</code> instance with a call to <code>Close</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 10420671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6508991f0568a46e1514f031c6b381b3?s=128&d=identicon&r=PG&f=1", "display_name": "leon", "link": "https://stackoverflow.com/users/10420671/leon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 977, "favorite_count": 0, "accepted_answer_id": 52527285, "answer_count": 1, "score": 1, "last_activity_date": 1538004398, "creation_date": 1538002484, "last_edit_date": 1538002785, "question_id": 52527074, "link": "https://stackoverflow.com/questions/52527074/create-a-self-hosted-wcf-service-inside-a-windows-form", "title": "Create a self hosted WCF Service inside a Windows Form", "body": "<p>If I use this code for self Host a WCF service in a Console application it works. I run the host app and then from another app (which I call the client app,) I can add the service reference from visual studio > solution explorer > ADD SERVICE REFERENCE > <a href=\"http://10.131.131.14:8080/sendKioskMessage\" rel=\"nofollow noreferrer\">http://10.131.131.14:8080/sendKioskMessage</a> > click GO, add the service with no problems and consume it from the client app (which is a windows form)</p>\n\n<p>But if I run the same code in a Windows Form, I run first the (SELF HOST WCF) windows form app, then from the other app (client app) in visual studio I try to add the service reference from ADD SERVICE REFERENCE in solution explorer (Just the same way that it works before but with the Console App self host) but it throws the following error:</p>\n\n<p>*</p>\n\n<blockquote>\n  <p>An error (Details) occurred while attempting to find services at \n  <a href=\"http://10.131.131.14:8080/sendKioskMessage\" rel=\"nofollow noreferrer\">http://10.131.131.14:8080/sendKioskMessage</a>.</p>\n  \n  <p>(If I click Details Link, says the following:)</p>\n  \n  <p>There was an error downloading\n  '<a href=\"http://10.131.131.14:8080/sendKioskMessage/\" rel=\"nofollow noreferrer\">http://10.131.131.14:8080/sendKioskMessage/</a>$metadata'. Unable to\n  connect to the remote server. Metadata contains a reference that\n  cannot be resolved: '<a href=\"http://10.131.131.14:8080/sendKioskMessage\" rel=\"nofollow noreferrer\">http://10.131.131.14:8080/sendKioskMessage</a>'.\n  There was no endpoint listening at\n  <a href=\"http://10.131.131.14:8080/sendKioskMessage\" rel=\"nofollow noreferrer\">http://10.131.131.14:8080/sendKioskMessage</a> that could accept the\n  message. This is often caused by an incorrect address or SOAP action.\n  See InnerException, if present, for more details. Unable to connect to\n  the remote server. If the service is defined in the current solution,\n  try building the solution and adding the service reference again.</p>\n</blockquote>\n\n<p>*</p>\n\n<p>The IP that I use is the IP of my pc where both apps are running. I also used localhost instead of my actual IP with the same result.</p>\n\n<p>Windows Form Code (can't add the service from another app):</p>\n\n<pre><code>public partial class KioskosServerForm : Form\n    {\n\n\n        [ServiceContract]\n        public interface IKioskMessageService\n        {\n            [OperationContract]\n            string SendKioskMessage(string message);\n        }\n\n        public class KioskMessageService : IKioskMessageService\n        {\n            public string SendKioskMessage(string message)\n            {\n                return string.Format(\"Message sent: {0}\", message);\n            }\n        }\n\n        public KioskosServerForm()\n        {\n            InitializeComponent();\n        }\n\n        private void KioskosServerForm_Load(object sender, EventArgs e)\n        {\n            Uri baseAddress = new Uri(\"http://10.131.131.14:8080/sendKioskMessage\");\n\n            try\n            {\n                // Create the ServiceHost.\n                using (ServiceHost host = new ServiceHost(typeof(KioskMessageService), baseAddress))\n                {\n                    // Enable metadata publishing.\n                    ServiceMetadataBehavior smb = new ServiceMetadataBehavior();\n                    smb.HttpGetEnabled = true;\n                    smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;\n                    host.Description.Behaviors.Add(smb);\n\n                    // Open the ServiceHost to start listening for messages. Since\n                    // no endpoints are explicitly configured, the runtime will create\n                    // one endpoint per base address for each service contract implemented\n                    // by the service.\n                    host.Open();\n                }\n            }\n            catch (Exception exp)\n            {\n                MessageBox.Show(exp.InnerException.Message);\n            }\n        }\n    }\n</code></pre>\n\n<p>Console App Code (Works! I can add the service from other client app):</p>\n\n<pre><code>[ServiceContract]\npublic interface IKioskMessageService\n{\n    [OperationContract]\n    string SendKioskMessage(string message);\n}\n\npublic class KioskMessageService : IKioskMessageService\n{\n    public string SendKioskMessage(string message)\n    {\n        return string.Format(\"Message sent: {0}\", message);\n    }\n}\n\nclass Program\n{\n    static void Main(string[] args)\n    {\n        Uri baseAddress = new Uri(\"http://localhost:8080/sendKioskMessage\");\n\n        // Create the ServiceHost.\n        using (ServiceHost host = new ServiceHost(typeof(KioskMessageService),baseAddress))\n        {\n            // Enable metadata publishing.\n            ServiceMetadataBehavior smb = new ServiceMetadataBehavior();\n            smb.HttpGetEnabled = true;\n            smb.MetadataExporter.PolicyVersion = PolicyVersion.Policy15;\n            host.Description.Behaviors.Add(smb);\n\n            // Open the ServiceHost to start listening for messages. Since\n            // no endpoints are explicitly configured, the runtime will create\n            // one endpoint per base address for each service contract implemented\n            // by the service.\n            host.Open();\n\n            Console.WriteLine(\"The service is ready at {0}\", baseAddress);\n            Console.WriteLine(\"Press &lt;Enter&gt; to stop the service.\");\n            Console.ReadLine();\n\n            // Close the ServiceHost.\n            host.Close();\n        }\n    }\n}\n</code></pre>\n\n<p>I don't know why I can consume the service if the service is self hosted in a console app, but I can't add it if the service is self hosted in a Windows Form.</p>\n\n<p>I will appreciate a lot your help to achieve this from a Windows From, since I need to self host the WCF service from a windows form, no a console app.</p>\n\n<p>I'm using Visual Studio 2017, .Net Framework 4.6.1</p>\n\n<p>THANKS IN ADVANCE GUYS!!</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 6, "creation_date": 1538002371, "post_id": 52527036, "comment_id": 91993753, "body": "Timers work a little differently than you&#39;re expecting them to. You&#39;re using it like a &quot;sleep&quot;, but really, they invoke a delegate when the time elapses. Check <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/run-procedures-at-set-intervals-with-wf-timer-component\" rel=\"nofollow noreferrer\">this article</a> for an example."}, {"owner": {"reputation": 688, "user_id": 4648586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/XlHgj.png?s=128&g=1", "display_name": "Bagus Tesa", "link": "https://stackoverflow.com/users/4648586/bagus-tesa"}, "edited": false, "score": 0, "creation_date": 1538002515, "post_id": 52527036, "comment_id": 91993798, "body": "i see the code above will just show the last line.. what about having an <code>if</code> to check the current text and changes to the next pattern?"}, {"owner": {"reputation": 1, "user_id": 10189009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690dfef18d9664294fedc2889cdf4967?s=128&d=identicon&r=PG&f=1", "display_name": "qHalt", "link": "https://stackoverflow.com/users/10189009/qhalt"}, "edited": false, "score": 0, "creation_date": 1538002580, "post_id": 52527036, "comment_id": 91993820, "body": "You mean an if statement to check if the first line was typed? if (line typed = true) than type next line."}, {"owner": {"reputation": 69330, "user_id": 1612975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nVzDH.png?s=128&g=1", "display_name": "TheGeneral", "link": "https://stackoverflow.com/users/1612975/thegeneral"}, "edited": false, "score": 0, "creation_date": 1538003794, "post_id": 52527036, "comment_id": 91994135, "body": "Yeah the first problem here is you have to understand how a timer works, when you do, then you will have to work out how to make a queue or a list of things to say, and itterate/pop that queue/list every time it hits the timmer event"}], "answers": [{"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 2, "last_activity_date": 1538003804, "creation_date": 1538003804, "answer_id": 52527252, "question_id": 52527036, "link": "https://stackoverflow.com/questions/52527036/having-a-timer-complete-a-different-task-every-2-seconds-c/52527252#52527252", "title": "Having A Timer Complete A Different Task Every 2 Seconds C#", "body": "<p>You could put all the intended text in a <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.queue-1?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>Queue&lt;string&gt;</code></a> and dequeue the next string whenever the timer fires:</p>\n\n<pre><code>private Queue&lt;string&gt; messages = new Queue&lt;string&gt; \n{\n    \"LLLLLLL\",\n    \"\\rrrrrrrrrrrrrrrrrrrrrrrrrrr.\",\n    \"\\nttttttttttttttttttttttttttttttttttttttttt!\"\n};\n\nprivate void OaksSpeakingTimer_Tick(object sender, EventArgs e)\n{\n    if (messages.Count == 0) \n    {\n        OaksSpeakingTimer.Stop();\n        return;\n    }\n\n    var message = messages.Dequeue();\n    ProfessorTxt.Text += message;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10189009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690dfef18d9664294fedc2889cdf4967?s=128&d=identicon&r=PG&f=1", "display_name": "qHalt", "link": "https://stackoverflow.com/users/10189009/qhalt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1538003804, "creation_date": 1538002222, "question_id": 52527036, "link": "https://stackoverflow.com/questions/52527036/having-a-timer-complete-a-different-task-every-2-seconds-c", "title": "Having A Timer Complete A Different Task Every 2 Seconds C#", "body": "<p>I'm trying to have the timer say a different line every 2 seconds instead of adding all of the text into the text box at once, I wanna give the user the opportunity to read the dialog instead of it all being added into the box at once. This is the code I have so far but it doesn't seem to output the text.</p>\n\n<pre><code>private void OaksSpeakingTimer_Tick(object sender, EventArgs e)\n    {\n\n        //Starting Oaks basic speaking timer\n        OaksSpeakingTimer.Start();\n        ProfessorTxt.Text += \"LLLLLLL\";\n        OaksSpeakingTimer.Stop();\n        OaksSpeakingTimer.Start();\n        ProfessorTxt.Text += \"\\rrrrrrrrrrrrrrrrrrrrrrrrrrr.\";\n        OaksSpeakingTimer.Stop();\n        OaksSpeakingTimer.Start();\n        ProfessorTxt.Text += \"\\nttttttttttttttttttttttttttttttttttttttttt!\";\n        OaksSpeakingTimer.Stop();\n    }\n</code></pre>\n"}, {"tags": ["c#", ".net-core", "nuget-package"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10421231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee4d71683aaf3d81f2194a7ad0dd39dc?s=128&d=identicon&r=PG&f=1", "display_name": "AusDev", "link": "https://stackoverflow.com/users/10421231/ausdev"}, "edited": false, "score": 0, "creation_date": 1538009805, "post_id": 52527301, "comment_id": 91995463, "body": "I did wonder why that warning was appearing but couldn&#39;t figure out why the wrong framework was being used."}, {"owner": {"reputation": 43, "user_id": 10421231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee4d71683aaf3d81f2194a7ad0dd39dc?s=128&d=identicon&r=PG&f=1", "display_name": "AusDev", "link": "https://stackoverflow.com/users/10421231/ausdev"}, "edited": false, "score": 0, "creation_date": 1538009846, "post_id": 52527301, "comment_id": 91995480, "body": "Thanks. I changed the name of the testconsole app to something unique and it now installs. Do you think I should raise a bug in the github repo?"}, {"owner": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "reply_to_user": {"reputation": 43, "user_id": 10421231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee4d71683aaf3d81f2194a7ad0dd39dc?s=128&d=identicon&r=PG&f=1", "display_name": "AusDev", "link": "https://stackoverflow.com/users/10421231/ausdev"}, "edited": false, "score": 0, "creation_date": 1538059013, "post_id": 52527301, "comment_id": 92018562, "body": "@AusDev yes, I think it&#39;s a bug too. It should say something about where it&#39;s getting the package from, or if there are multiple versions found. That&#39;s what I meant by a &quot;systematic issue&quot;."}], "tags": [], "owner": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "is_accepted": true, "score": 7, "last_activity_date": 1538004167, "creation_date": 1538004167, "answer_id": 52527301, "question_id": 52527004, "link": "https://stackoverflow.com/questions/52527004/how-to-fix-nu1212-for-dotnet-tool-install/52527301#52527301", "title": "How to fix NU1212 for dotnet tool install", "body": "<p>After finding the root cause, this error is hilarious, but also an indication of systematic issue.</p>\n\n<p>Do you see this part of the warning in your output?</p>\n\n<blockquote>\n  <p>Package 'TestConsole 1.0.9' was restored using '.NETFramework,Version=v4.6.1' instead of the project target framework '.NETCoreApp,Version=v2.1'. This package may not be fully compatible with your project</p>\n</blockquote>\n\n<p>What is this version 1.0.9? Where is .NET Framework 4.6.1 coming from? There's nothing like that in the .NET Core SDK (I looked through the sources) or under the <code>testconsole</code> directory on my disk.</p>\n\n<p>Lets reduce the logging verbosity and re-run out install command:</p>\n\n<pre><code>$ dotnet tool install -g -v n --add-source ./nupkg testconsole\nBuild started 2018-09-26 7:16:47 p.m..\n     1&gt;Project \"/tmp/q2whkgqf.tbt/restore.csproj\" on node 1 (Restore target(s)).\n     1&gt;Restore:\n         Restoring packages for /tmp/q2whkgqf.tbt/restore.csproj...\n           CACHE https://api.nuget.org/v3-flatcontainer/testconsole/index.json\n           CACHE https://api.nuget.org/v3-flatcontainer/testconsole/1.0.9/testconsole.1.0.9.nupkg\n         Installing TestConsole 1.0.9.0.\n</code></pre>\n\n<p>Look at the last few lines carefully. <code>dotnet tool install</code> is trying to install <a href=\"https://www.nuget.org/packages/TestConsole/\" rel=\"noreferrer\">https://www.nuget.org/packages/TestConsole/</a>. Not your local <code>testconsole</code> nuget package!</p>\n\n<p>You can work around it in a couple of ways:</p>\n\n<ol>\n<li>Give your tools a really unique name that doesn't clash with anything on nuget.org or in your organization's nuget feed.</li>\n<li>Add a <code>nuget.config</code> that <code>&lt;clear/&gt;</code>s the nuget feeds so only the <code>./nupkg</code> directory is used as feed when looking to install <code>testconsole</code>.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1121, "user_id": 1707376, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/42896ce62355359f2fccceccff530973?s=128&d=identicon&r=PG", "display_name": "daw", "link": "https://stackoverflow.com/users/1707376/daw"}, "is_accepted": false, "score": 6, "last_activity_date": 1564771651, "creation_date": 1564771651, "answer_id": 57331979, "question_id": 52527004, "link": "https://stackoverflow.com/questions/52527004/how-to-fix-nu1212-for-dotnet-tool-install/57331979#57331979", "title": "How to fix NU1212 for dotnet tool install", "body": "<p>Building on Omair's answer, the practical steps to solving this problem:</p>\n\n<h2>1. Create <code>disable_nuget.config</code> to disable reading from the global feed</h2>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;configuration&gt;\n    &lt;disabledPackageSources&gt;\n        &lt;add key=\"nuget.org\" value=\"true\" /&gt;\n    &lt;/disabledPackageSources&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p><em>note:</em> give it a special name so that it doesn't get picked up by nuget by accident when you don't want it to</p>\n\n<h2>2. Install the tool referencing the special nuget configuration</h2>\n\n<pre><code>dotnet pack\ndotnet tool install --global --configfile disable_nuget.config --add-source ./nupkg TestConsole\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10421231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee4d71683aaf3d81f2194a7ad0dd39dc?s=128&d=identicon&r=PG&f=1", "display_name": "AusDev", "link": "https://stackoverflow.com/users/10421231/ausdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3122, "favorite_count": 2, "accepted_answer_id": 52527301, "answer_count": 2, "score": 4, "last_activity_date": 1564771651, "creation_date": 1538002002, "question_id": 52527004, "link": "https://stackoverflow.com/questions/52527004/how-to-fix-nu1212-for-dotnet-tool-install", "title": "How to fix NU1212 for dotnet tool install", "body": "<p>I am building a dotnet core tool and I am having trouble installing it globally. I can replicate the problem I am having but don't know how to fix it. Below are my steps</p>\n\n<ol>\n<li>dotnet new console -o testconsole</li>\n<li>Modify testconsole.csproj to include <code>&lt;PackAsTool&gt;</code> and <code>&lt;PackageOutputPath&gt;</code></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/RyoVc.png\" rel=\"nofollow noreferrer\">testconsole.csproj</a></p>\n\n<ol start=\"3\">\n<li>dotnet restore testconsole.csproj</li>\n<li>dotnet build testconsole.csproj</li>\n<li>dotnet pack testconsole.csproj</li>\n<li>dotnet tool install -g -v d --add-source ./nupkg testconsole</li>\n</ol>\n\n<p>When installing I receive the below error</p>\n\n<p><code>error NU1212: Invalid project-package combination for TestConsole 1.0.9. DotnetToolReference project style can only contain references of the DotnetTool type</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/yld2c.png\" rel=\"nofollow noreferrer\">install error</a></p>\n\n<p>Here is a copy of testconsole.nuspec from the nupkg that includes \n<code>&lt;packageType name=\"DotnetTool\" /&gt;</code> per the suggestion from <a href=\"https://natemcmaster.com/blog/2018/05/12/dotnet-global-tools/\" rel=\"nofollow noreferrer\">https://natemcmaster.com/blog/2018/05/12/dotnet-global-tools/</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/KhkQ3.png\" rel=\"nofollow noreferrer\">testconsole.nupsec</a> </p>\n"}, {"tags": ["c#", "asp.net"], "comments": [{"owner": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "edited": false, "score": 0, "creation_date": 1538003183, "post_id": 52527000, "comment_id": 91993970, "body": "Welcome to Stackoverflow. Can you give us the type of the Gender property of your Model class."}], "answers": [{"tags": [], "owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "is_accepted": false, "score": 0, "last_activity_date": 1538004281, "last_edit_date": 1538004281, "creation_date": 1538003239, "answer_id": 52527183, "question_id": 52527000, "link": "https://stackoverflow.com/questions/52527000/the-edit-dropdownlist-doesnt-show-the-value-of-the-model/52527183#52527183", "title": "the edit dropdownList doesn&#39;t show the value of the model", "body": "<p>You'll have to set <a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.rendering.selectlistitem.selected?view=aspnetcore-2.1#Microsoft_AspNetCore_Mvc_Rendering_SelectListItem_Selected\" rel=\"nofollow noreferrer\">Selected</a> to true for the option you want to be selected.</p>\n\n<pre><code>@Html.DropDownListFor(Model =&gt; Model.Gender, new List&lt;SelectListItem&gt;\n{\n    new SelectListItem{Text = \"Male\", Value = \"Male\", Selected = Model.Gender == \"Male\" },\n    new SelectListItem{Text = \"Female\", Value = \"Female\", Selected = Model.Gender == \"Female\" }\n}, \"Select Gender\", new { @class = \"form-control\" })\n</code></pre>\n\n<p><a href=\"https://docs.microsoft.com/en-us/dotnet/api/microsoft.aspnetcore.mvc.rendering.selectlist?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">SelectList</a> also provides some constructors to automate this.</p>\n\n<pre><code>@Html.DropDownListFor(\n  model =&gt; model.Gender, \n  new SelectList(new [] { \"Male\", \"Female\" }, Model.Gender), \n  \"Select Gender\", \n  new { @class = \"form-control\" })\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8372721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0f4aad3503061c6692875a4680b2a32?s=128&d=identicon&r=PG&f=1", "display_name": "tarek hajji", "link": "https://stackoverflow.com/users/8372721/tarek-hajji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538004281, "creation_date": 1538001963, "question_id": 52527000, "link": "https://stackoverflow.com/questions/52527000/the-edit-dropdownlist-doesnt-show-the-value-of-the-model", "title": "the edit dropdownList doesn&#39;t show the value of the model", "body": "<p>i want to edit an employee, but in the edit view the dropdownList doesn't show the selected item based on the model\n<br>\nController : </p>\n\n<pre><code>public ActionResult Edit(int? id)\n    {   \n        Employee employee = db.tblEmploye.Find(id);\n        return View(employee);\n    }\n</code></pre>\n\n<p>edit.cshtml</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n    @Html.LabelFor(model =&gt; model.Gender, htmlAttributes: new { @class = \"control-label col-md-2\" })\n    &lt;div class=\"col-md-10\"&gt;\n        @Html.DropDownListFor(Model =&gt; Model.Gender, new List&lt;SelectListItem&gt;\n               {\n                    new SelectListItem{Text = \"Male\", Value = \"Male\"},\n                    new SelectListItem{Text = \"Female\", Value = \"Female\"}\n               }, \"Select Gender\", new { @class = \"form-control\" })\n        @Html.ValidationMessageFor(model =&gt; model.Gender, \"\", new { @class = \"text-danger\" })\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["c#", "overflow"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10421189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1de544ceb9fee394c083eeeaa8184f55?s=128&d=identicon&r=PG&f=1", "display_name": "Milan \u017divkovi\u0107", "link": "https://stackoverflow.com/users/10421189/milan-%c5%bdivkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1538034717, "post_id": 52527063, "comment_id": 92003334, "body": "Thank you for your help!"}], "tags": [], "owner": {"reputation": 8885, "user_id": 5402620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21079ba43a1f39464935b350d2649049?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathon Chase", "link": "https://stackoverflow.com/users/5402620/jonathon-chase"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003208, "last_edit_date": 1592644375, "creation_date": 1538002394, "answer_id": 52527063, "question_id": 52526962, "link": "https://stackoverflow.com/questions/52526962/how-to-change-my-code-in-order-to-solve-byte-overflow-problem/52527063#52527063", "title": "How to change my code in order to solve byte overflow problem", "body": "<p>Looking into the specification, section 7.8.4 has to do with the addition operators. Here, it outlines the four predefined integer addition operators as the following:</p>\n<blockquote>\n<p>int operator +(int x, int y);</p>\n<p>uint operator +(uint x, uint y);</p>\n<p>long operator +(long x, long y);</p>\n<p>ulong operator +(ulong x, ulong y);</p>\n</blockquote>\n<p>Since <code>System.Byte</code> has an implicit conversion to integer, and the second operand is an integer, the actual operator being used is <code>int operator +(int x, int y)</code>, which returns an integer.</p>\n<p>You can get your code to compile by casting the result of the addition to a <code>byte</code>, like so:</p>\n<pre><code>x = (byte)(x + 1);\n</code></pre>\n<p>Of course, if you do this with your example values in a <code>checked</code> context, expect an <code>OverflowException</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10421189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1de544ceb9fee394c083eeeaa8184f55?s=128&d=identicon&r=PG&f=1", "display_name": "Milan \u017divkovi\u0107", "link": "https://stackoverflow.com/users/10421189/milan-%c5%bdivkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1538034725, "post_id": 52527100, "comment_id": 92003338, "body": "Thank you for your help!"}], "tags": [], "owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "is_accepted": false, "score": 0, "last_activity_date": 1538002653, "creation_date": 1538002653, "answer_id": 52527100, "question_id": 52526962, "link": "https://stackoverflow.com/questions/52526962/how-to-change-my-code-in-order-to-solve-byte-overflow-problem/52527100#52527100", "title": "How to change my code in order to solve byte overflow problem", "body": "<p>Converting int to byte requires an explicit cast, so you would have to write</p>\n\n<pre><code>byte x = 255;\nx = (byte)(x + 1);\n</code></pre>\n\n<p>In general, implicit conversions (not requiring a cast) are reserved for lossless type conversions, and explicit conversions are for potentially lossy conversions which is the case with int to byte.</p>\n"}], "owner": {"reputation": 11, "user_id": 10421189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1de544ceb9fee394c083eeeaa8184f55?s=128&d=identicon&r=PG&f=1", "display_name": "Milan \u017divkovi\u0107", "link": "https://stackoverflow.com/users/10421189/milan-%c5%bdivkovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1538003208, "creation_date": 1538001696, "question_id": 52526962, "link": "https://stackoverflow.com/questions/52526962/how-to-change-my-code-in-order-to-solve-byte-overflow-problem", "title": "How to change my code in order to solve byte overflow problem", "body": "<p>I am new to C#.</p>\n\n<p>Why do I get a different result when using these two methods:</p>\n\n<p>Method I</p>\n\n<pre><code>  byte x = 255;\n  x = x + 1;\n</code></pre>\n\n<p>Method II</p>\n\n<pre><code>  byte x = 255;\n  x += 1;\n</code></pre>\n\n<p>Method I results in an error an cannot be successfully compiled.</p>\n\n<p>S0266  C# Cannot implicitly convert type 'int' to 'byte'. An explicit conversion exists (are you missing a cast?) </p>\n\n<p>If I add a cast and write </p>\n\n<pre><code>byte x = (byte)255;\nx = x + 1; \n</code></pre>\n\n<p>The cast is then redundant.</p>\n\n<p>If I write </p>\n\n<pre><code>byte x = 255;\nx = x + (byte)1;\n</code></pre>\n\n<p>The cast is again redundant.</p>\n\n<p>What can I do in order to get 0 as a result using method I?</p>\n"}, {"tags": ["c#", "cefsharp"], "comments": [{"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1538002401, "post_id": 52526914, "comment_id": 91993764, "body": "It&#39;s in the documentation I already link you <a href=\"https://github.com/cefsharp/CefSharp/wiki/General-Usage#when-can-i-start-executing-javascript\" rel=\"nofollow noreferrer\">github.com/cefsharp/CefSharp/wiki/&hellip;</a>"}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 1, "creation_date": 1538002425, "post_id": 52526914, "comment_id": 91993775, "body": "<code>IsBrowserInitializedChanged</code> has nothing to do with <code>Javascript</code> execution"}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1538003348, "post_id": 52526914, "comment_id": 91994017, "body": "The <code>API Doc</code> is at <a href=\"http://cefsharp.github.io/api/67.0.0/html/R_Project_Documentation.htm\" rel=\"nofollow noreferrer\">cefsharp.github.io/api/67.0.0/html/R_Project_Documentation.h&zwnj;&#8203;tm</a>"}, {"owner": {"reputation": 147, "user_id": 9261061, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1b793d3abd3c9f76380bfcf416a3cce4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/9261061/j-doe"}, "reply_to_user": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1538004549, "post_id": 52526914, "comment_id": 91994308, "body": "@amaitland as I asked, I want to know when the chromium is initialized to run the javascript after that. So I guess IsBrowserInitializedChanged is that what I&#39;m looking for."}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1538098995, "post_id": 52526914, "comment_id": 92033865, "body": "If your target is to execute javascript (which is what it appears like to me), then read <a href=\"https://github.com/cefsharp/CefSharp/wiki/General-Usage#when-can-i-start-executing-javascript\" rel=\"nofollow noreferrer\">github.com/cefsharp/CefSharp/wiki/&hellip;</a> (which I&#39;ve already link). You cannot execute javascript when the browser has been initialized, it&#39;s too soon. The error message I&#39;m guessing you are seeing from your code is somewhat misleading, ignore it and read the link."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12205164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30c4fe3c0c726b0d44049c6fca72263c?s=128&d=identicon&r=PG&f=1", "display_name": "Arie levy", "link": "https://stackoverflow.com/users/12205164/arie-levy"}, "is_accepted": false, "score": 0, "last_activity_date": 1571602668, "last_edit_date": 1571602668, "creation_date": 1571585716, "answer_id": 58474543, "question_id": 52526914, "link": "https://stackoverflow.com/questions/52526914/cefsharp-check-if-its-initialized/58474543#58474543", "title": "CefSharp check if its initialized", "body": "<p>I found in the CefSharp code a member that does the job</p>\n\n<pre><code>// Summary: Gets a value that indicates whether CefSharp is initialized.\npublic static bool IsInitialized { get; }\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 9261061, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1b793d3abd3c9f76380bfcf416a3cce4?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/9261061/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1277, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571602668, "creation_date": 1538001355, "question_id": 52526914, "link": "https://stackoverflow.com/questions/52526914/cefsharp-check-if-its-initialized", "title": "CefSharp check if its initialized", "body": "<p>I'm pretty new to C# but Chromium is loading a webpage, but I want to execute javascript if the chromium is initialized.</p>\n\n<p>I didn't find any tutorial or explanation about <code>IsBrowserInitializedChanged</code> and don't know how to use it.</p>\n\n<p>I would be very happy if someone can help me.</p>\n\n<pre><code> private void InitChrome()\n {\n     CefSettings settings = new CefSettings();\n     Cef.Initialize(settings);\n\n }\n\n\npublic Main(String username, String password)\n{\n    InitializeComponent();\n    InitChrome();\n    un = username;\n    pw = password;\n\n    chrome = new \nChromiumWebBrowser(\"https://www.thesite.com/#/auth/login\");\n    pPanel.Controls.Add(chrome);\n    chrome.Dock = DockStyle.Fill;\n\n    chrome.ExecuteScriptAsync(File.ReadAllText(@\"content\\jquery-3.3.1.min.js\"));\n    chrome.ExecuteScriptAsync(File.ReadAllText(@\"content\\javascript.js\"));\n\n\n}\n</code></pre>\n"}, {"tags": ["c#", ".net"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1538001706, "post_id": 52526908, "comment_id": 91993601, "body": "The code you have posted is an infinite loop. If you have some other logic branch where <code>GetProducts()</code> is not being called within itself, please post it. The code is running as designed."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538001932, "post_id": 52526908, "comment_id": 91993653, "body": "Basically you have a scoping problem where a variable name shares the same name as a field.  If you name your C# field members to follow best practices you can avoid this sort of thing.  Consider renaming <code>private int loopCounter</code> to <code>private int _loopCounter</code>."}, {"owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538012484, "post_id": 52526908, "comment_id": 91996002, "body": "@MickyD Renaming the variable as suggested doesn&#39;t solve the problem and as you mentioned, it seems like a scope problem."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538013255, "post_id": 52526908, "comment_id": 91996148, "body": "No...but it does eliminate any confusion and makes it apparent <i>where the problem resides</i>"}], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "edited": false, "score": 0, "creation_date": 1538012116, "post_id": 52526963, "comment_id": 91995930, "body": "Removing the loopCounter from the loop as suggested like this: for (; loopCounter &lt; loop; loopCounter++){} does not work. The loopCounter is still reset to 1 always as if the for loop is implicitly creating a &quot;for scoped&quot; local variable and initializing its value to 1 everytime the loop is called. The for loop behaves as if the class level loopCounter variable does not even exist! I removed the for loop entirely and replaced it with a &quot;while&quot; loop which worked just fine. @Hofma Dresu recommendation also works. I am still baffled as to why the for loop did not work."}, {"owner": {"reputation": 422, "user_id": 737173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3ce0d9b550610daf8717e74ae160222?s=128&d=identicon&r=PG", "display_name": "Hofma Dresu", "link": "https://stackoverflow.com/users/737173/hofma-dresu"}, "reply_to_user": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "edited": false, "score": 0, "creation_date": 1538058836, "post_id": 52526963, "comment_id": 92018424, "body": "Another reason the loop wasn&#39;t working is because the &quot;loopCounter++&quot; statement is never actually run. You enter the for loop with loopCounter = 1 then recursively call GetProducts <i>before</i> incrementing loopCounter. This means loopCounter is still 1 (and will always be 1) when GetProducts is called"}], "tags": [], "owner": {"reputation": 422, "user_id": 737173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3ce0d9b550610daf8717e74ae160222?s=128&d=identicon&r=PG", "display_name": "Hofma Dresu", "link": "https://stackoverflow.com/users/737173/hofma-dresu"}, "is_accepted": true, "score": 3, "last_activity_date": 1538001702, "creation_date": 1538001702, "answer_id": 52526963, "question_id": 52526908, "link": "https://stackoverflow.com/questions/52526908/for-loop-counter-always-resets-in-c-recursive-function/52526963#52526963", "title": "For Loop Counter Always Resets in C# Recursive Function", "body": "<p>You're creating and setting a new method level variable <code>loopCounter</code> in the beginning of your for loop every time you call the function. If you want to use the class level variable, you should remove the first part of the for loop (something like <code>for(; loopCounter &lt; loop; loopCounter++)</code></p>\n\n<p>That said, I wouldn't recommend using a loop to control recursion like this. It would be better to use just a loop or have GetProducts return when it has hit the boundary condition.</p>\n\n<pre><code>public class Products{\nprivate int loopCounter=1;\nprivate int loop=10;\npublic int ProductCount {get;set;}\npublic int GetProducts(int Take, int Skip)\n{\n    if(loopCounter &gt;= loop) return;\n    loopCounter++;\n    //code that sets ProductCount is removed\n    //Depending on ProductCount, Take and Skip values are\n    //computed and passed to GetProducts. This code removed for brevity and am hard coding them\n    GetProducts(10,5);\n    //code to process GetProducts output removed\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 10393929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a81d88f6c1ded6efac578b42bf76ae2?s=128&d=identicon&r=PG&f=1", "display_name": "ThorPF", "link": "https://stackoverflow.com/users/10393929/thorpf"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538002208, "post_id": 52526989, "comment_id": 91993721, "body": "@MickyD, sorry but I don&#180;t get what you mean"}, {"owner": {"reputation": 63, "user_id": 10393929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a81d88f6c1ded6efac578b42bf76ae2?s=128&d=identicon&r=PG&f=1", "display_name": "ThorPF", "link": "https://stackoverflow.com/users/10393929/thorpf"}, "reply_to_user": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538002439, "post_id": 52526989, "comment_id": 91993781, "body": "Sorry @MickyD , I got it now, you are right, I did&#180;t speak so well"}], "tags": [], "owner": {"reputation": 63, "user_id": 10393929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a81d88f6c1ded6efac578b42bf76ae2?s=128&d=identicon&r=PG&f=1", "display_name": "ThorPF", "link": "https://stackoverflow.com/users/10393929/thorpf"}, "is_accepted": false, "score": 1, "last_activity_date": 1538002811, "last_edit_date": 1538002811, "creation_date": 1538001903, "answer_id": 52526989, "question_id": 52526908, "link": "https://stackoverflow.com/questions/52526908/for-loop-counter-always-resets-in-c-recursive-function/52526989#52526989", "title": "For Loop Counter Always Resets in C# Recursive Function", "body": "<p>I think that the variable <code>loopCounter</code> is differents of the global one, and you are creating a new one each time you call the function, try to remove this: <code>int loopCounter = 1</code> from the for loop.</p>\n"}, {"comments": [{"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538002732, "post_id": 52527016, "comment_id": 91993864, "body": "OP is aware that he needs a stop condition with the statement <i>&quot;the loopCounter always gets reset to 1 and the loop goes on forever. Shouldn&#39;t the loop stop after 10 iterations?&quot;</i>"}, {"owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "edited": false, "score": 0, "creation_date": 1538011699, "post_id": 52527016, "comment_id": 91995839, "body": "@Ncs The GetProducts() does not alter the loop variables at all. It just connects to the database and returns the number of product items available in stock."}], "tags": [], "owner": {"reputation": 314, "user_id": 7805687, "user_type": "registered", "profile_image": "https://graph.facebook.com/1410303032353348/picture?type=large", "display_name": "Ncs", "link": "https://stackoverflow.com/users/7805687/ncs"}, "is_accepted": false, "score": 1, "last_activity_date": 1538002100, "creation_date": 1538002100, "answer_id": 52527016, "question_id": 52526908, "link": "https://stackoverflow.com/questions/52526908/for-loop-counter-always-resets-in-c-recursive-function/52527016#52527016", "title": "For Loop Counter Always Resets in C# Recursive Function", "body": "<p>I might be a little confused by what is actually inside the loop besides GetProducts(), but it seems that you do not have a condition to stop. You run the loop once starting from 1, then you call the function again and a new loop starting from 1 is created. You need to create a condition to stop this infinite call mechanism so it will go back to already existing calls. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14850004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240edc23c793391ec7c8afc9c5fe6d86?s=128&d=identicon&r=PG&f=1", "display_name": "b_scored", "link": "https://stackoverflow.com/users/14850004/b-scored"}, "is_accepted": false, "score": 0, "last_activity_date": 1611755775, "last_edit_date": 1611755775, "creation_date": 1611755435, "answer_id": 65920533, "question_id": 52526908, "link": "https://stackoverflow.com/questions/52526908/for-loop-counter-always-resets-in-c-recursive-function/65920533#65920533", "title": "For Loop Counter Always Resets in C# Recursive Function", "body": "<p>If one wants to return the number of recursive function calls, or the Count in other words, then this code sample will help.</p>\n<pre><code>public class Products{\n    \n    public int GetProducts(int Take)\n    {\n        // Check if you are ready to return the count.\n\n        if (/* Some condition to check. */)\n        {\n           // Returned value will be 0, if you don't call method\n           // recursive, which is equivalent to counter == 0.\n\n           return 0;\n        }\n        \n        // Do some stuff here and get result.\n\n        // Returned value will be 1 + next value of the Method\n        // call, which is whether 0 or 1 if recursion goes further.\n        // All together, the end value will be the count of\n        // recursive method calls.\n\n        return 1 + GetProducts(result);\n    } \n}\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 4200384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TFBzL.png?s=128&g=1", "display_name": "Xami Yen", "link": "https://stackoverflow.com/users/4200384/xami-yen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 52526963, "answer_count": 4, "score": 0, "last_activity_date": 1611755775, "creation_date": 1538001292, "question_id": 52526908, "link": "https://stackoverflow.com/questions/52526908/for-loop-counter-always-resets-in-c-recursive-function", "title": "For Loop Counter Always Resets in C# Recursive Function", "body": "<p>I have a strange problem that I don't get it fully. Hopefully someone can shed some light on this. </p>\n\n<p>I have a for loop in a recursive function that gets reset always even when the loop counter is an instance variable of the class. Why? Here is the code:</p>\n\n<pre><code>public class Products{\n    private int loopCounter=1;\n    private int loop=10;\n    public int ProductCount {get;set;}\n    public int GetProducts(int Take, int Skip)\n    {\n        //code that sets ProductCount is removed\n        for (int loopCounter = 1; loopCounter &lt; loop; loopCounter++)\n        {\n            //Depending on ProductCount, Take and Skip values are\n            //computed and passed to GetProducts. This code removed for brevity and am hard coding them\n            GetProducts(10,5);\n            //code to process GetProducts output removed\n        }\n    } \n}\n</code></pre>\n\n<p>For reasons that I don't get, the loopCounter always gets reset to 1 and the loop goes on forever. Shouldn't the loop stop after 10 iterations? </p>\n"}, {"tags": ["c#", "visual-studio"], "comments": [{"owner": {"reputation": 108835, "user_id": 15541, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/515ca9736a9a8ce65e58af764ccddf46?s=128&d=identicon&r=PG", "display_name": "leppie", "link": "https://stackoverflow.com/users/15541/leppie"}, "edited": false, "score": 1, "creation_date": 1538000928, "post_id": 52526839, "comment_id": 91993423, "body": "Did you restart VS? If so, delete the <code>.vs</code> folder, and restart again. VS does get drunk at times."}, {"owner": {"reputation": 13408, "user_id": 585968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d0399ab165e17f668b2cdd1a5c1dc0?s=128&d=identicon&r=PG&f=1", "display_name": "MickyD", "link": "https://stackoverflow.com/users/585968/mickyd"}, "edited": false, "score": 0, "creation_date": 1538002555, "post_id": 52526839, "comment_id": 91993813, "body": "This might be related to another bug with the Tool Windows.  Click inside the errors window so it gains focus and press <b>Ctrl+Break</b> a few times.  It might work.  It was the fix strangely when <b>Find in Files</b> stopped working"}, {"owner": {"reputation": 1362, "user_id": 1572469, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/c14df28fcd6e3cd476e33c815e39b4f9?s=128&d=identicon&r=PG", "display_name": "Eric Snyder", "link": "https://stackoverflow.com/users/1572469/eric-snyder"}, "edited": false, "score": 0, "creation_date": 1538003154, "post_id": 52526839, "comment_id": 91993962, "body": "I tried restarting. Repairing the installation, rebooting and deleting the .vs folder. After repairing no errors show in the Errors window - even when I build."}], "answers": [{"tags": [], "owner": {"reputation": 1362, "user_id": 1572469, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/c14df28fcd6e3cd476e33c815e39b4f9?s=128&d=identicon&r=PG", "display_name": "Eric Snyder", "link": "https://stackoverflow.com/users/1572469/eric-snyder"}, "is_accepted": false, "score": 0, "last_activity_date": 1538174690, "creation_date": 1538174690, "answer_id": 52563475, "question_id": 52526839, "link": "https://stackoverflow.com/questions/52526839/visual-studio-15-8-5-suddenly-not-displaying-errors-in-real-time/52563475#52563475", "title": "Visual Studio 15.8.5 suddenly not displaying errors in real time", "body": "<p>Well...I tried a whole bunch of solutions. None of them worked. I uninstalled and reinstalled VS. That did not work. I started running into an error whenre a file could not install because of a account issue.</p>\n\n<p>it turns out after a bunch of tech support from Microsoft Installation help that I had to reinstall Windows :(. The bottom line is that my accounts became messed up. I reset the password to the admin account on my computer. After that I couldn't log in to my account.</p>\n\n<p>Well...sometimes it's just good to start over.</p>\n\n<p>By the way, I had everything backed up using Unitrends on a virtual machine. I love that stuff. Even let me restore on a file level only to my new computer.</p>\n\n<p>All is well now.</p>\n"}], "owner": {"reputation": 1362, "user_id": 1572469, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/c14df28fcd6e3cd476e33c815e39b4f9?s=128&d=identicon&r=PG", "display_name": "Eric Snyder", "link": "https://stackoverflow.com/users/1572469/eric-snyder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538174690, "creation_date": 1538000849, "question_id": 52526839, "link": "https://stackoverflow.com/questions/52526839/visual-studio-15-8-5-suddenly-not-displaying-errors-in-real-time", "title": "Visual Studio 15.8.5 suddenly not displaying errors in real time", "body": "<p>Developing in C# and something changed - not sure what. Now errors do not show in real time in the error window. I have \"Build + Intellisense\" selected. If I type garbage in the code it does not recognize it until I build the app manually. When I switched to an old VB.net app it worked fine.</p>\n\n<p>I tried updating in an effort to resolve the issue but the update fails.</p>\n"}, {"tags": ["c#", "jquery", "ajax", "asp.net-mvc", "cookies"], "comments": [{"owner": {"reputation": 17115, "user_id": 665377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174cf37a4ad1b48417d5dc8c00e12d2d?s=128&d=identicon&r=PG", "display_name": "Bob Vale", "link": "https://stackoverflow.com/users/665377/bob-vale"}, "edited": false, "score": 0, "creation_date": 1538062618, "post_id": 52526819, "comment_id": 92020966, "body": "Your link passes externalEvents. The json is called eventstile"}, {"owner": {"reputation": 151, "user_id": 9446962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZV6hoTAu-xM/AAAAAAAAAAI/AAAAAAAABxM/rFIT6kzWYDQ/photo.jpg?sz=128", "display_name": "Kelby Criswell", "link": "https://stackoverflow.com/users/9446962/kelby-criswell"}, "reply_to_user": {"reputation": 17115, "user_id": 665377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174cf37a4ad1b48417d5dc8c00e12d2d?s=128&d=identicon&r=PG", "display_name": "Bob Vale", "link": "https://stackoverflow.com/users/665377/bob-vale"}, "edited": false, "score": 0, "creation_date": 1538063269, "post_id": 52526819, "comment_id": 92021371, "body": "I replaced that and it still will not update."}, {"owner": {"reputation": 17115, "user_id": 665377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174cf37a4ad1b48417d5dc8c00e12d2d?s=128&d=identicon&r=PG", "display_name": "Bob Vale", "link": "https://stackoverflow.com/users/665377/bob-vale"}, "edited": false, "score": 0, "creation_date": 1540371243, "post_id": 52526819, "comment_id": 92836051, "body": "I would add a <code>if (removed == null) { Response.StatusCode = 404; return}</code> to your method.  That way you can see if your FirstOrDefault is failing"}], "owner": {"reputation": 151, "user_id": 9446962, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZV6hoTAu-xM/AAAAAAAAAAI/AAAAAAAABxM/rFIT6kzWYDQ/photo.jpg?sz=128", "display_name": "Kelby Criswell", "link": "https://stackoverflow.com/users/9446962/kelby-criswell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538063341, "creation_date": 1538000712, "last_edit_date": 1538063341, "question_id": 52526819, "link": "https://stackoverflow.com/questions/52526819/update-cookie-to-remove-an-element-c", "title": "Update Cookie to remove an element C#", "body": "<p>I am creating an internal site for my company, my landing page consists of tiles that are a mix of required and optional tiles. The list of tiles and their respective order are save in a cookie as a JSON string. I build the cookie just fine, i can update it whenever the order changes without a problem. I issue is when i have them click on the remove button on the optional tile. It will not remove it from the cookie.</p>\n\n<p>Here is the code in the partial for the ajax request:</p>\n\n<pre><code>@Ajax.ActionLink(\" \", \"RemoveTile\", \"Home\", new { id = \"_EventsTile\" }, new AjaxOptions { OnSuccess= \"$(this).closest('.tilePartial').remove(); location.reload();\" }, new { @class = \"fas fa-clickable fa-window-close removeTile\", @style = \"color:red; font-size:1.5em; padding-top:1%\" })\n</code></pre>\n\n<p>Here is the code of the action in the controller:</p>\n\n<pre><code>private void UpdateCookie(object obj, string cookieName, int expiredays = 30)\n        {\n\n            HttpCookie cookie = new HttpCookie(cookieName);\n            cookie.Value = JsonConvert.SerializeObject(obj);\n            cookie.Expires = DateTime.Now.AddDays(expiredays);\n            Response.SetCookie(cookie);\n            Response.Cookies.Add(cookie);\n        }\n\n        public void RemoveTile(string id)\n        {\n            List&lt;TileInfo&gt; newCookie = new List&lt;TileInfo&gt;();\n            var cookieInfo = JsonConvert.DeserializeObject&lt;List&lt;TileInfo&gt;&gt;(Request.Cookies[\"TilePreferences\"].Value);\n\n            var removed = cookieInfo.FirstOrDefault(f =&gt; f.PartialName == id);\n            cookieInfo.Remove(removed);\n            //newCookie = cookieInfo;\n            UpdateCookie(cookieInfo, \"TilePreferences\", 90);\n\n            Response.StatusCode = 200;\n\n        }\n</code></pre>\n\n<p>and the default value and what is is \"supposed\" to look like when it is done:</p>\n\n<p>Before:</p>\n\n<pre><code>[\n    {\"PartialName\":\"_BulletinBoardTile\",\"TileOrder\":0},\n    {\"PartialName\":\"_TimeCardTile\",\"TileOrder\":1},\n    {\"PartialName\":\"_FeedbackTile\",\"TileOrder\":2},\n    {\"PartialName\":\"_CouncilTile\",\"TileOrder\":3},\n    {\"PartialName\":\"_EventsTile\",\"TileOrder\":4}\n]\n</code></pre>\n\n<p>After(intention):</p>\n\n<pre><code>[\n    {\"PartialName\":\"_BulletinBoardTile\",\"TileOrder\":0},\n    {\"PartialName\":\"_TimeCardTile\",\"TileOrder\":1},\n    {\"PartialName\":\"_FeedbackTile\",\"TileOrder\":2},\n    {\"PartialName\":\"_CouncilTile\",\"TileOrder\":3}\n}\n</code></pre>\n\n<p>any help is appreciated.</p>\n\n<p>This code for updating the order in the file works with no issues:</p>\n\n<pre><code>public void UpdateTileOrder(string jsonString)\n        {\n            List&lt;string&gt; TileList = JsonConvert.DeserializeObject&lt;List&lt;string&gt;&gt;(jsonString);\n            var cookieInfo = new List&lt;TileInfo&gt;();\n            var i = 0;\n\n            foreach (var item in TileList)\n            {\n                if (!string.IsNullOrWhiteSpace(item))\n                {\n                    var tile = new TileInfo\n                    {\n                        PartialName = item,\n                        TileOrder = i\n                    };\n                    cookieInfo.Add(tile);\n                    i++;\n                }\n            }\n            UpdateCookie(cookieInfo, \"TilePreferences\", 90);\n        }\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "asp.net-mvc-4"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 5, "creation_date": 1538000860, "post_id": 52526810, "comment_id": 91993409, "body": "You have not shown where <code>studentList</code> is initialized, but I assume its in the controller. The web is stateless. Each time a request is made a new instance of your controller is created (and a new instance of <code>studentList</code> is created). You need to persist you data somewhere (e.g. to a database)"}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1538000879, "post_id": 52526810, "comment_id": 91993411, "body": "Please post the relevant code from your <code>Index()</code> action and show how <code>studentList</code> is initialized."}, {"owner": {"reputation": 425, "user_id": 6775191, "user_type": "registered", "profile_image": "https://graph.facebook.com/652118218297927/picture?type=large", "display_name": "Ivan Kukic", "link": "https://stackoverflow.com/users/6775191/ivan-kukic"}, "edited": false, "score": 0, "creation_date": 1538000983, "post_id": 52526810, "comment_id": 91993434, "body": "@StephenMuecke that explains why the tutorial also has no code to update the dummy list. Thank you."}, {"owner": {"reputation": 425, "user_id": 6775191, "user_type": "registered", "profile_image": "https://graph.facebook.com/652118218297927/picture?type=large", "display_name": "Ivan Kukic", "link": "https://stackoverflow.com/users/6775191/ivan-kukic"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1538001168, "post_id": 52526810, "comment_id": 91993476, "body": "@itsme86 edited. Code is as seen on <a href=\"http://www.tutorialsteacher.com/mvc/create-edit-view-in-asp.net-mvc\" rel=\"nofollow noreferrer\">tutorialsteacher.com/mvc/create-edit-view-in-asp.net-mvc</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1655, "user_id": 1152681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycYgW.png?s=128&g=1", "display_name": "cygnim", "link": "https://stackoverflow.com/users/1152681/cygnim"}, "is_accepted": false, "score": 3, "last_activity_date": 1538001917, "creation_date": 1538001917, "answer_id": 52526993, "question_id": 52526810, "link": "https://stackoverflow.com/questions/52526810/c-ilist-update-issue/52526993#52526993", "title": "C# IList update issue", "body": "<p>Instead of redirecting the user at the end of your Edit method, pass back the View with the updated student list. Like this:</p>\n\n<p>Instead of:</p>\n\n<pre><code>return RedirectToAction(\"Index\");\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>return View(\"Index\", studentList); \n</code></pre>\n\n<p>(Where 'Index' is the name of the view you want to display.)</p>\n\n<p>Calling <code>RedirectToAction</code> reloads the class and re-initializes the <code>studentList</code> so instead of showing the updated list, it will show the original.</p>\n"}], "owner": {"reputation": 425, "user_id": 6775191, "user_type": "registered", "profile_image": "https://graph.facebook.com/652118218297927/picture?type=large", "display_name": "Ivan Kukic", "link": "https://stackoverflow.com/users/6775191/ivan-kukic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538001917, "creation_date": 1538000674, "last_edit_date": 1538001105, "question_id": 52526810, "link": "https://stackoverflow.com/questions/52526810/c-ilist-update-issue", "title": "C# IList update issue", "body": "<p>I'm having an issue using <code>IList</code> in C#. </p>\n\n<p>I have the list inside my class, and a method that is supposed to update it.\nHowever, once I need to display the list or update it again, I get the original list instead of the updated one.</p>\n\n<pre><code> IList&lt;Student&gt; studentList = new List&lt;Student&gt;{\n                        new Student() { StudentId = 1, StudentName = \"John\", Age = 18 } ,\n                        new Student() { StudentId = 2, StudentName = \"Steve\",  Age = 21 } ,\n                        new Student() { StudentId = 3, StudentName = \"Bill\",  Age = 25 } ,\n                        new Student() { StudentId = 4, StudentName = \"Ram\" , Age = 20 } ,\n                        new Student() { StudentId = 5, StudentName = \"Ron\" , Age = 31 } ,\n                        new Student() { StudentId = 6, StudentName = \"Chris\" , Age = 17 } ,\n                        new Student() { StudentId = 7, StudentName = \"Rob\" , Age = 19 }\n                    };\n\n    // GET: Student\n    public ActionResult Index()\n    {\n        return View(studentList);\n    }\n[HttpPost]\npublic ActionResult Edit(Student std)\n{\n    var name = std.StudentName;\n    var age = std.Age;\n    var id = std.StudentId;\n\n    Student stud = new Student();\n    stud.Age = age;\n    stud.StudentId = id;\n    stud.StudentName = name;\n\n    studentList.RemoveAt(id-1);\n    Debug.WriteLine(id);\n\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>The method logs the change correctly when update is done. I have tried editing the element instead of removing it, with no avail.</p>\n\n<p>How do I solve this?</p>\n"}, {"tags": ["c#", "entity-framework-core"], "comments": [{"owner": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "edited": false, "score": 0, "creation_date": 1538001114, "post_id": 52526786, "comment_id": 91993459, "body": "The problem is in EmploymentTypeGroupEntity class. Please post the code."}, {"owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "reply_to_user": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "edited": false, "score": 0, "creation_date": 1538001222, "post_id": 52526786, "comment_id": 91993491, "body": "Updated as requested"}], "answers": [{"comments": [{"owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "edited": false, "score": 0, "creation_date": 1538002532, "post_id": 52527058, "comment_id": 91993805, "body": "Sovled. But one query why to use ICollection?"}, {"owner": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "reply_to_user": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "edited": false, "score": 0, "creation_date": 1538002660, "post_id": 52527058, "comment_id": 91993847, "body": "I don&#39;t know. But every example from Microsoft that I have seen uses this type. Also the reverse POCO creator scripts create ICollections too. I have never seen another collection type used."}, {"owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "edited": false, "score": 0, "creation_date": 1538003027, "post_id": 52527058, "comment_id": 91993934, "body": "Do you know How to SET IDENTITY_INSERT for multiple tables while doing first code."}, {"owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "edited": false, "score": 0, "creation_date": 1538003323, "post_id": 52527058, "comment_id": 91994003, "body": "Thanks Smith but I want to do for multiple Tables in same session"}, {"owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "edited": false, "score": 0, "creation_date": 1538003523, "post_id": 52527058, "comment_id": 91994057, "body": "<a href=\"https://stackoverflow.com/questions/52527144/setting-set-identity-insert-for-multiple-tables-in-entity-framework-core?noredirect=1#comment91994023_52527144\" title=\"setting set identity insert for multiple tables in entity framework core\">stackoverflow.com/questions/52527144/&hellip;</a>"}, {"owner": {"reputation": 93252, "user_id": 861716, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb1a28030a6da0e72693e36c77eb3cd6?s=128&d=identicon&r=PG", "display_name": "Gert Arnold", "link": "https://stackoverflow.com/users/861716/gert-arnold"}, "edited": false, "score": 1, "creation_date": 1559929399, "post_id": 52527058, "comment_id": 99587174, "body": "<i>why to use ICollection?</i> -- Because it&#39;s the least specified collection interface that allows for adding/removing items, standard operations in CRUD."}, {"owner": {"reputation": 1672, "user_id": 1441917, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/aaa8d47a48a94b71562f625f84eb180f?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/1441917/francesco"}, "edited": false, "score": 0, "creation_date": 1579691485, "post_id": 52527058, "comment_id": 105848461, "body": "great answer but ForeignKey() accepts a string as argument, so it should be [ForeignKey(&quot;EmploymentTypeEntityID&quot;)]"}, {"owner": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "edited": false, "score": 0, "creation_date": 1581200618, "post_id": 52527058, "comment_id": 106353004, "body": "I believe that depends on whether System.Data.Entity is in the using clauses"}], "tags": [], "owner": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "is_accepted": true, "score": 5, "last_activity_date": 1538002359, "creation_date": 1538002359, "answer_id": 52527058, "question_id": 52526786, "link": "https://stackoverflow.com/questions/52526786/getting-invalid-column-name-employmenttypeentityemploymenttypeid-in-entity-fram/52527058#52527058", "title": "Getting Invalid column name &#39;EmploymentTypeEntityEmploymentTypeID in Entity framework core", "body": "<p>You are creating a relationship between EmploymentTypeGroupEntity and EmploymentTypeEntity. But you are not telling Entity Framework what that relationship is. EF has guessed that you want a reference to EmploymentTypeEntity in your EmploymentTypeGroupEntity table and created a field for that. This clearly isn't what you want.</p>\n\n<p>You need to tell EF what the relationship is. If it is a one-many relationship where one EmploymentTypeEntity can have many EmploymentTypeGroupEntity's, which appears to be the case because you have defined:</p>\n\n<pre><code>public IEnumerable&lt;EmploymentTypeGroupEntity&gt; EmploymentTypeGroups { get; set; }\n</code></pre>\n\n<p>You also need to create a foreign key in your EmploymentTypeGroupEntity class. so add to this class:</p>\n\n<pre><code>public int EmploymentTypeEntityID { get; set; }\n\n[ForeignKey(EmploymentTypeEntityID)]\npublic EmploymentTypeEntity EmploymentTypeEntity  { get; set; }\n</code></pre>\n\n<p>In your EmploymentTypeEntity class change the collection type:</p>\n\n<pre><code>public ICollection&lt;EmploymentTypeGroupEntity&gt; EmploymentTypeGroups { get; set; }\n</code></pre>\n\n<p>Add a constructor to assign a new List() to EmploymentTypeGroups.</p>\n\n<p>Change the array assignment in your tests to add to the collection and add the foreign key to the groups creation.</p>\n"}], "owner": {"reputation": 10426, "user_id": 2209468, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/naYuh.jpg?s=128&g=1", "display_name": "maxspan", "link": "https://stackoverflow.com/users/2209468/maxspan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2793, "favorite_count": 0, "accepted_answer_id": 52527058, "answer_count": 1, "score": 5, "last_activity_date": 1538006087, "creation_date": 1538000455, "last_edit_date": 1538006087, "question_id": 52526786, "link": "https://stackoverflow.com/questions/52526786/getting-invalid-column-name-employmenttypeentityemploymenttypeid-in-entity-fram", "title": "Getting Invalid column name &#39;EmploymentTypeEntityEmploymentTypeID in Entity framework core", "body": "<p>I am getting the below error.</p>\n\n<p><strong>Message: Microsoft.EntityFrameworkCore.DbUpdateException : An error occurred while updating the entries. See the inner exception for details.\n  ----> System.Data.SqlClient.SqlException : Invalid column name 'EmploymentTypeEntityEmploymentTypeID'.</strong></p>\n\n<p>Its strange as its combining my Entity Class Name and the Entity Property Name.</p>\n\n<p>Below is my code.</p>\n\n<p><strong>SystemTest.cs</strong></p>\n\n<pre><code>   using (var transaction = _referenceDataDbContext.Database.BeginTransaction())\n            {\n                _referenceDataDbContext.EmploymentType.AddRangeAsync(\n\n                    new EmploymentTypeEntity\n                    {\n                        EmploymentTypeID = 1,\n                        EmploymentType = \"EmploymentType\",\n                        CategoryTypeID = 27,\n\n                        SiteAddress = null,\n                        CreatedBy = \"UnitTest\",\n                        CreatedOn = DateTime.Now,\n                        ModifiedBy = \"UnitTest\",\n                        ModifiedOn = DateTime.Now,\n                        RowVersion = new RowVersion(1),\n                        EmploymentTypeGroups = new[]\n                        {\n                        new EmploymentTypeGroupEntity\n                        {\n                            EmploymentTypeGroupID = 11, GroupName = \"Child Care\", IsActive = true\n                        }\n                        }\n                    }\n\n                    }\n                );\n\n                _referenceDataDbContext.Database.ExecuteSqlCommand(\"SET IDENTITY_INSERT [ref].[EmploymentType] ON\");\n\n                _referenceDataDbContext.SaveChanges();\n            }\n</code></pre>\n\n<p><strong>EmploymentTypeGroup.cs</strong></p>\n\n<pre><code>  public class EmploymentTypeGroupEntity\n    {\n        [Key]\n        public int? EmploymentTypeGroupID { get; set; }\n        public string GroupName { get; set; }\n        public bool? IsActive { get; set; }\n        public DateTime? CreatedOn { get; set; }\n        public string CreatedBy { get; set; }\n        public DateTime? ModifiedOn { get; set; }\n        public string ModifiedBy { get; set; }\n\n        [Timestamp]\n        [ConcurrencyCheck]\n        public byte[] RowVersion { get; set; }\n\n    }\n</code></pre>\n\n<p><strong>EmploymentType.cs</strong></p>\n\n<pre><code>public class EmploymentTypeEntity\n    {\n        [Key]\n        public int? EmploymentTypeID { get; set; }\n        public string EmploymentType { get; set; }\n        public int? CategoryTypeID { get; set; }\n\n        public bool? SiteAddress { get; set; }\n        public IEnumerable&lt;EmploymentTypeGroupEntity&gt; EmploymentTypeGroups { get; set; }\n        public DateTime? CreatedOn { get; set; }\n        public string CreatedBy { get; set; }\n        public DateTime? ModifiedOn { get; set; }\n        public string ModifiedBy { get; set; }\n\n        [Timestamp]\n        [ConcurrencyCheck]\n        public byte[] RowVersion { get; set; }\n    }\n</code></pre>\n\n<p>DataDbContext.cs</p>\n\n<pre><code>public class ReferenceDataDbContext : DbContext\n    {\n        public ReferenceDataDbContext(DbContextOptions&lt;ReferenceDataDbContext&gt; options)\n            : base(options)\n        {\n        }\n\n        public ReferenceDataDbContext()\n        {\n\n        }\n\n\n        public virtual DbSet&lt;EmploymentTypeEntity&gt; EmploymentType { get; set; }\n        public virtual DbSet&lt;EmploymentTypeGroupEntity&gt; EmploymentTypeGroup { get; set; }\n\n        protected override void OnModelCreating(ModelBuilder builder)\n        {\n            builder.Entity&lt;StateEntity&gt;().ToTable(\"State\", \"ref\");\n            builder.Entity&lt;EmploymentTypeGroupEntity&gt;().ToTable(\"EmploymentTypeGroup\", \"ref\");\n            builder.Entity&lt;EmploymentTypeEntity&gt;().ToTable(\"EmploymentType\",\"ref\").HasMany(a =&gt; a.EmploymentTypeGroups);\n\n            // Configure database attributes\n        }\n    }\n</code></pre>\n"}, {"tags": ["c#", "winforms", "exception", "events", "error-handling"], "comments": [{"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1538001095, "post_id": 52526779, "comment_id": 91993455, "body": "As soon as an unhandled run-time error is encountered, execution stops. Unless you&#39;re reporting the error and letting it continue, you won&#39;t see any additional errors because the application has stopped running."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10388599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c87f3db7b27dc7c39c39e56962617e?s=128&d=identicon&r=PG&f=1", "display_name": "werty", "link": "https://stackoverflow.com/users/10388599/werty"}, "edited": false, "score": 0, "creation_date": 1538003050, "post_id": 52526881, "comment_id": 91993940, "body": "Hello, yes  I use catching of exception for any possible case, but if it is available to  get common report for all cases, what exactly message content should be, how to handle this event"}], "tags": [], "owner": {"reputation": 2967, "user_id": 1228308, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/xYfBI.jpg?s=128&g=1", "display_name": "Lorenzo", "link": "https://stackoverflow.com/users/1228308/lorenzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001066, "creation_date": 1538001066, "answer_id": 52526881, "question_id": 52526779, "link": "https://stackoverflow.com/questions/52526779/catch-all-exception-in-c-winform-application/52526881#52526881", "title": "Catch all exception in C# winform application", "body": "<p>catch all the errors in one single point in your application is not a best practice. I suggest you to identify where your code may fails and use try/catch block to catch specific groups of errors instead. In this way you can control more better your application and you can identify more better the weaknesses of your code. For example:</p>\n\n<pre><code>private void Form1_FormClosing(object sender, FormClosingEventArgs e) {\n\n    try{\n      //Put here your code\n    }\n    catch{\n    }\n}\n</code></pre>\n\n<p>A generic \"Exception\" for sure can't help you or the user to identify a possible error in the application</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 10388599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c87f3db7b27dc7c39c39e56962617e?s=128&d=identicon&r=PG&f=1", "display_name": "werty", "link": "https://stackoverflow.com/users/10388599/werty"}, "edited": false, "score": 0, "creation_date": 1538045904, "post_id": 52529352, "comment_id": 92010045, "body": "Hello, yes this way I&#39;m storing  data for each particular exception case, but I&#39;m wondering, if it is possible to get single event with common report for any other possible cases, provided or not provided by  each individual exception condition already exist in separate  functions"}], "tags": [], "owner": {"reputation": 104, "user_id": 9862694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dd17577f8b4ecb2329549a4ef9ea9c6?s=128&d=identicon&r=PG&f=1", "display_name": "Akhitha M D", "link": "https://stackoverflow.com/users/9862694/akhitha-m-d"}, "is_accepted": false, "score": 1, "last_activity_date": 1538021637, "creation_date": 1538021637, "answer_id": 52529352, "question_id": 52526779, "link": "https://stackoverflow.com/questions/52526779/catch-all-exception-in-c-winform-application/52529352#52529352", "title": "Catch all exception in C# winform application", "body": "<p>You can use try-catch to catch the exceptions in all methods. Inside catch you can log the reason for the exception.</p>\n\n<pre><code>try\n{\n   // Your code that might throw an error\n}\ncatch( Exception e )\n{\n   // What you want to do when the error is thrown\n   Logger.WriteException(e);\n}\n</code></pre>\n\n<p>I would prefer writing a static class 'Logger' and 'WriteException' method for logging the exceptions to a text file.</p>\n\n<pre><code>public static class Logger\n{\n    public static void WriteException(Exception exception)\n    {\n        string filePath = @\"D:\\Error.txt\";\n\n        using (StreamWriter logWriter = new StreamWriter(filePath, true))\n        {\n            logWriter.WriteLine(\"Message :\" + exception.Message + \"&lt;br/&gt;\" + Environment.NewLine + \"StackTrace :\" + exception.StackTrace +\n               \"\" + Environment.NewLine + \"Date :\" + DateTime.Now.ToString());\n            logWriter.WriteLine(Environment.NewLine + \"-----------------------------------------------------------------------------\" + Environment.NewLine);\n        }\n    }\n}\n</code></pre>\n\n<p>There are several error logging methods available , you can use the suitable one for your application. You can use EventLog, Microsoft Logger etc.</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 10388599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c87f3db7b27dc7c39c39e56962617e?s=128&d=identicon&r=PG&f=1", "display_name": "werty", "link": "https://stackoverflow.com/users/10388599/werty"}, "edited": false, "score": 0, "creation_date": 1538044782, "post_id": 52532054, "comment_id": 92009282, "body": "Hello, I have tried this but same, I see only Visual Studio report with exception case like <code>An exception of type &#39;System.InvalidOperationException&#39; occurred in System.dll but was not handled in user code</code> with same serial port test and <code>MessageBox.Show</code> inside the <code>Application_ThreadException</code>, which I&#39;ve added below <code>public Form1()</code> in <code>Form1.cs</code>"}, {"owner": {"reputation": 8287, "user_id": 3611669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f87a44fc3ba9cfb0975908cba210dc30?s=128&d=identicon&r=PG&f=1", "display_name": "GuidoG", "link": "https://stackoverflow.com/users/3611669/guidog"}, "reply_to_user": {"reputation": 63, "user_id": 10388599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c87f3db7b27dc7c39c39e56962617e?s=128&d=identicon&r=PG&f=1", "display_name": "werty", "link": "https://stackoverflow.com/users/10388599/werty"}, "edited": false, "score": 1, "creation_date": 1538046869, "post_id": 52532054, "comment_id": 92010638, "body": "This will only catch unhandled execptions. It is possible that a library catches an exception and shows this info using a messagebox.show. In that case you will never catch it anymore because it was already catched elsewhere"}, {"owner": {"reputation": 577, "user_id": 7072936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ybgoi.jpg?s=128&g=1", "display_name": "Troy Mac1ure", "link": "https://stackoverflow.com/users/7072936/troy-mac1ure"}, "edited": false, "score": 0, "creation_date": 1585651313, "post_id": 52532054, "comment_id": 107829651, "body": "Looked everywhere for a solution. This worked beautifully!"}], "tags": [], "owner": {"reputation": 8287, "user_id": 3611669, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f87a44fc3ba9cfb0975908cba210dc30?s=128&d=identicon&r=PG&f=1", "display_name": "GuidoG", "link": "https://stackoverflow.com/users/3611669/guidog"}, "is_accepted": false, "score": 3, "last_activity_date": 1538035250, "last_edit_date": 1538035250, "creation_date": 1538034836, "answer_id": 52532054, "question_id": 52526779, "link": "https://stackoverflow.com/questions/52526779/catch-all-exception-in-c-winform-application/52532054#52532054", "title": "Catch all exception in C# winform application", "body": "<p>Thas actually not that hard to do.<br>\nI would advise to put any code for handling the exception into the mainform to keep the <code>program.cs</code> as clean as possible.</p>\n\n<p>First in your <code>Program.cs</code> put this </p>\n\n<pre><code>static class Program\n{\n    public static Form MainForm = null;\n\n    /// &lt;summary&gt;\n    /// The main entry point for the application.\n    /// &lt;/summary&gt;\n    [STAThread]\n    static void Main(string[] args)\n    {\n        Application.EnableVisualStyles();\n        Application.SetCompatibleTextRenderingDefault(false);\n\n        Application.ThreadException += Application_ThreadException;\n        Application.SetUnhandledExceptionMode(UnhandledExceptionMode.CatchException);\n\n        MainForm = new Form1();\n        Application.Run(MainForm);\n    }\n\n    static void Application_ThreadException(object sender, System.Threading.ThreadExceptionEventArgs e)\n    {\n        ((Form1)MainForm).Application_ThreadException(sender, e);\n    }\n}\n</code></pre>\n\n<p>Then in your mainform put this</p>\n\n<pre><code>    public void Application_ThreadException(object sender, ThreadExceptionEventArgs e)\n    {\n        // All unhandled exceptions will end up here, so do what you need here\n\n        // log the error\n        // show the error\n        // shut the application down if needed\n        // ROLLBACK database changes \n        // and so on...\n    }\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10388599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c87f3db7b27dc7c39c39e56962617e?s=128&d=identicon&r=PG&f=1", "display_name": "werty", "link": "https://stackoverflow.com/users/10388599/werty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5347, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1538035250, "creation_date": 1538000412, "question_id": 52526779, "link": "https://stackoverflow.com/questions/52526779/catch-all-exception-in-c-winform-application", "title": "Catch all exception in C# winform application", "body": "<p>in C# winform desktop application I'm trying to catch all exceptions possible to appear in the code, what I've tried:</p>\n\n<pre><code>  using System;\n    using System.Threading;\n    using System.Windows.Forms;\n\n    namespace Controller\n    {\n        static class Program\n        {\n            [STAThread]\n            static void Main()\n            {\n                Application.EnableVisualStyles();\n                Application.SetCompatibleTextRenderingDefault(false);\n\n                Application.ThreadException += new ThreadExceptionEventHandler(Application_ThreadException);\n                Application.SetUnhandledExceptionMode(UnhandledExceptionMode.CatchException);\n                AppDomain.CurrentDomain.UnhandledException += new UnhandledExceptionEventHandler(CurrentDomain_UnhandledException);\n\n                Application.Run(new Form1());\n            }\n\n            static void Application_ThreadException(object sender, ThreadExceptionEventArgs e)\n            {\n                MessageBox.Show(e.Exception.Message, \"Unhandled Thread Exception\");\n            }\n\n            static void CurrentDomain_UnhandledException(object sender, UnhandledExceptionEventArgs e)\n            {\n                MessageBox.Show((e.ExceptionObject as Exception).Message, \"Unhandled UI Exception\");           \n            }\n        }\n    }\n</code></pre>\n\n<p>I test it with attaching of \"COM6\" with form closing event without serial port in Device Manager, but I see only Visual Studio <code>An exception of type 'System.InvalidOperationException' occurred in System.dll but was not handled in user code</code> report </p>\n\n<p>How it is possible to collect errors data for winform application </p>\n"}, {"tags": ["c#", "uwp", "template10"], "comments": [{"owner": {"reputation": 3687, "user_id": 6346554, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/y8FJF.jpg?s=128&g=1", "display_name": "touseefbsb", "link": "https://stackoverflow.com/users/6346554/touseefbsb"}, "edited": false, "score": 0, "creation_date": 1538001082, "post_id": 52526773, "comment_id": 91993452, "body": "Suggestion : Consider using Windows Template Studio to generate your projects, it is very dynamic and customizeable, also most active in the uwp community."}, {"owner": {"reputation": 7891, "user_id": 6782612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KuUfK.jpg?s=128&g=1", "display_name": "Xie Steven", "link": "https://stackoverflow.com/users/6782612/xie-steven"}, "edited": false, "score": 0, "creation_date": 1538100025, "post_id": 52526773, "comment_id": 92034064, "body": "How did you use the <code>GroupedObservableCollection</code> in your Template10 project? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 5, "user_id": 10372084, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157824021009465/picture?type=large", "display_name": "Hidde ", "link": "https://stackoverflow.com/users/10372084/hidde"}, "edited": false, "score": 0, "creation_date": 1538196332, "post_id": 52526773, "comment_id": 92068199, "body": "As I stated above, I fed it into a CollectionViewSource defined in my View&#39;s Resources . The GroupedObservableCollection is instanciated in the viewmodel and is populated by a query on a &quot;master&quot; collection.  Nothing exotic going on.  It is complaining about the class itself, so it is most likely not related in the implementation but rather something with package and target versions.   I took touseefbsb&#39;s advice and turned to WTS. No issues whatsoever there."}], "owner": {"reputation": 5, "user_id": 10372084, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157824021009465/picture?type=large", "display_name": "Hidde ", "link": "https://stackoverflow.com/users/10372084/hidde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538000365, "creation_date": 1538000365, "question_id": 52526773, "link": "https://stackoverflow.com/questions/52526773/custom-collection-does-not-work-in-template10-but-does-work-in-blank-project", "title": "Custom collection does not work in Template10, but does work in blank project", "body": "<p>As the title suggests, I try to port a simple app to template 10 and throws me the following error: </p>\n\n<p>Cannot determine the item type of collection type'Garage.Collections.GroupedObservableCollection`2[System.String, Garage.Models.Car]' because it has more than one Add method or ICollection implementation. To make this collection type usable in XAML, add a public Add(object) method, implement System.Collections.IList or a single System.Collections.Generic.ICollection</p>\n\n<p>Since this works outside of template10 I am kind of stumped why this occurs.\nThe Nuget Packages have the same versions, so only the template10 packages are different from the working version. Target platforms are the same.</p>\n\n<p>The collection class I use is <a href=\"https://github.com/mikegoatly/GroupedObservableCollection/tree/master/Munklesoft.Common.Collections\" rel=\"nofollow noreferrer\">GroupedObservableCollection</a></p>\n\n<p>It is used as a collectionviewsource in XAML.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Y9vco.jpg\" rel=\"nofollow noreferrer\">Here is an overview of the classes and methods in VS2017</a></p>\n\n<p>Thanks for having a look!</p>\n\n<p>I fail to see what the problem is and why Template10 says no.</p>\n"}, {"tags": ["c#", "firebird", "firebird-embedded"], "comments": [{"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1538036891, "post_id": 52526571, "comment_id": 92004526, "body": "Are you intentionally using Firebird Embedded instead of a Firebird server? It sounds like your Firebird Embedded is missing the <code>intl</code> folder (+ contents), which restricts character set support. Edit your question and include exactly which files of Firebird Embedded are deployed with your application."}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 0, "creation_date": 1538036964, "post_id": 52526571, "comment_id": 92004558, "body": "Also please post the DDL of the tables involved in your query."}], "owner": {"reputation": 300, "user_id": 6357272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-qKLVQY5Zzp4/AAAAAAAAAAI/AAAAAAAAAGI/hBUTcdFh8GI/photo.jpg?sz=128", "display_name": "Adan Sandoval", "link": "https://stackoverflow.com/users/6357272/adan-sandoval"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "closed_date": 1538041557, "answer_count": 0, "score": 0, "last_activity_date": 1538036815, "creation_date": 1537999156, "last_edit_date": 1538036815, "question_id": 52526571, "link": "https://stackoverflow.com/questions/52526571/error-character-set-iso8859-1-is-not-installed-only-when-using-join", "closed_reason": "Duplicate", "title": "Error &quot;CHARACTER SET ISO8859_1 is not installed&quot; only when using JOIN", "body": "<p>I'm making a Windows Form App that reads Firebird database and displays the data.</p>\n\n<p>I'm using a DLL file a coworker recommended: <code>FirebirdSql.Data.FirebirdClient.dll</code></p>\n\n<p>Here's an example of how I read the data:</p>\n\n<pre><code>class FBConnect\n{\n    private FbConnection MyConnection= new FbConnection();\n    private FbConnectionStringBuilder ConnectionString;\n\n    //Constructor\n    public FBConnect()\n    {\n        ConnectionString= new FbConnectionStringBuilder();\n        {\n            var withBlock = ConnectionString;\n            withBlock.Database = \"MyFile.fdb\";\n            withBlock.ServerType = FbServerType.Embedded;\n            withBlock.UserID = \"USID\";\n            withBlock.Password = \"Key\";\n            withBlock.Pooling = true;\n        }\n        MyConnection.ConnectionString = ConnectionString.ToString();\n    }\n\n    public DataTable RunQuery(string query)\n    {\n        try\n        {\n            MyConnection.Open();\n            if (MyConnection.State == ConnectionState.Open)\n            {\n                DataTable dt = new DataTable();\n                FbDataAdapter da = new FbDataAdapter(query, MyConnection.ConnectionString);\n                da.Fill(dt);\n                return dt;\n            }\n            else\n            {\n                return null;\n            }\n        }\n        catch (FbException err)\n        {\n            MessageBox.Show(err.Message, \"Firebird error \" + err.ErrorCode, MessageBoxButtons.OK, MessageBoxIcon.Error);\n            return null;\n        }\n        finally\n        {\n            MyConnection.Close();\n        }\n    }\n}\n</code></pre>\n\n<p>And then, from another class, I call:</p>\n\n<pre><code>FBConnect conn = new FBConnect();\ndataGridView1.DataSource = conn.RunQuery(\"SELECT * FROM table1\");\n</code></pre>\n\n<p>and it works just fine, I get to see the data. The problem comes exclusively when I use a <code>JOIN</code> in my query: then I get an exception</p>\n\n<blockquote>\n  <p>Firebird error 335544854<br>\n  CHARACTER SET ISO8859_1 is not installed</p>\n</blockquote>\n\n<p>What can be causing this and how do I solve it?</p>\n\n<p>Here's the query I'm using</p>\n\n<pre><code>SELECT FACTF.CVE_DOC AS \"Clave de Documento\",  VENDEDOR.NOMBRE AS \"Nombre del vendedor\" FROM FACTF01 FACTF LEFT JOIN VEND01 VENDEDOR ON VENDEDOR.CVE_VEND=FACTF.CVE_VEND\n</code></pre>\n"}, {"tags": ["c#", "delegates"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 396013, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8eadb82b0b101c4485b76766538ad0a7?s=128&d=identicon&r=PG", "display_name": "John Aldrin", "link": "https://stackoverflow.com/users/396013/john-aldrin"}, "edited": false, "score": 0, "creation_date": 1537999819, "post_id": 52526604, "comment_id": 91993109, "body": "So, is &quot;(Action&lt;object&gt;)&quot; a cast operation?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 43, "user_id": 396013, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8eadb82b0b101c4485b76766538ad0a7?s=128&d=identicon&r=PG", "display_name": "John Aldrin", "link": "https://stackoverflow.com/users/396013/john-aldrin"}, "edited": false, "score": 0, "creation_date": 1538000192, "post_id": 52526604, "comment_id": 91993229, "body": "@JohnAldrin, yes. (specifcally, lambda expressions like <code>x =&gt; DoStuff();</code> themselves are also known as anonymous functions. Casting such a lambda expression to a compatible delegate type produces a delegate of this type, referring to this anonymous function; see also here: <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/lambda-expressions\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "reply_to_user": {"reputation": 43, "user_id": 396013, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8eadb82b0b101c4485b76766538ad0a7?s=128&d=identicon&r=PG", "display_name": "John Aldrin", "link": "https://stackoverflow.com/users/396013/john-aldrin"}, "edited": false, "score": 0, "creation_date": 1538001132, "post_id": 52526604, "comment_id": 91993463, "body": "@JohnAldrin, note that the cast here is redundant. The lambda expression can be implicitely converted if the compiler can infer the delegate type for the conversion. Thus, you could also write <code>Action&lt;object&gt; x = obj =&gt; actionImp();</code>"}], "tags": [], "owner": {"reputation": 921791, "user_id": 23354, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CrVFH.png?s=128&g=1", "display_name": "Marc Gravell", "link": "https://stackoverflow.com/users/23354/marc-gravell"}, "is_accepted": false, "score": 0, "last_activity_date": 1537999315, "creation_date": 1537999315, "answer_id": 52526604, "question_id": 52526518, "link": "https://stackoverflow.com/questions/52526518/how-do-i-read-this-c-code-actionobject-actdelegatetakeobjasparam-action/52526604#52526604", "title": "How do I read this c# code - Action&lt;object&gt; actDelegateTakeObjAsParam = (Action&lt;object&gt;) (obj =&gt; actionImp());", "body": "<pre><code>Action&lt;object&gt; actDelegateTakeObjAsParam\n</code></pre>\n\n<p>declare a variable named <code>actDelegateTakeObjAsParam</code> of type <code>Action&lt;object&gt;</code> (a delegate that takes an <code>object</code> and returns <code>void</code>, i.e. no return value).</p>\n\n<pre><code>= (Action&lt;object&gt;)(obj =&gt; actionImp());\n</code></pre>\n\n<p>Assign to it a delegate instance of type <code>Action&lt;object&gt;</code>, where the delegate instance takes parameter <code>obj</code>, ignores it, and invokes <code>actionImp()</code> (whatever that is).</p>\n\n<p>Basically, it looks like it re-wraps a delegate as a different type - maybe <code>actionImp</code> is actually <code>Action</code>, <code>ThreadStart</code> or <code>MethodInvoker</code> (all of which are parameterless and don't return a value) or <code>Func&lt;string&gt;</code> (parameterless but returns a <code>string</code>); this allows the intent of <code>actionImp</code> to be used as though it were an <code>Action&lt;object&gt;</code>.</p>\n\n<p>Minor note: because <code>obj</code> is ignored, recent convention would be to use <code>_</code> instead of <code>obj</code> as the name, i.e. <code>_ =&gt; actionImp()</code></p>\n"}], "owner": {"reputation": 43, "user_id": 396013, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/8eadb82b0b101c4485b76766538ad0a7?s=128&d=identicon&r=PG", "display_name": "John Aldrin", "link": "https://stackoverflow.com/users/396013/john-aldrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537999315, "creation_date": 1537998859, "last_edit_date": 1537999193, "question_id": 52526518, "link": "https://stackoverflow.com/questions/52526518/how-do-i-read-this-c-code-actionobject-actdelegatetakeobjasparam-action", "title": "How do I read this c# code - Action&lt;object&gt; actDelegateTakeObjAsParam = (Action&lt;object&gt;) (obj =&gt; actionImp());", "body": "<p>Example of something I found in Mvvm code.</p>\n\n<pre><code>Action&lt;object&gt; actDelegateTakeObjAsParam = (Action&lt;object&gt;) (obj =&gt; actionImp());\n</code></pre>\n\n<p>I think I understand what it does but I'm having trouble with syntax.</p>\n"}, {"tags": ["c#", "xml", "digital-signature", "webservice-client", "xml-signature"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 1, "creation_date": 1538039380, "post_id": 52526510, "comment_id": 92005910, "body": "See posting : <a href=\"https://stackoverflow.com/questions/46722997/saml-assertion-in-a-xml-using-c-sharp/46724392\" title=\"saml assertion in a xml using c sharp\">stackoverflow.com/questions/46722997/&hellip;</a>"}, {"owner": {"reputation": 23, "user_id": 9428205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ziga cibic", "link": "https://stackoverflow.com/users/9428205/ziga-cibic"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538126301, "post_id": 52526510, "comment_id": 92043003, "body": "Thanks for the link, but unfortunately it didn&#39;t help much apart from a really clean helper method. Basically from what support has told me, i need to end up with an xml, where the signature is valid after removing the OddajVlogoReq tags. To be clear, i do not touch the SOAP as that is auto generated for me(thankfully). All i really need is a way to insert a signed xml string into another xml string and maintain signature integrity."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538145612, "post_id": 52526510, "comment_id": 92053892, "body": "The code you need is in the link I provided.  The method SignXmlWithCertificate() only signs a particular element and not the entire document."}, {"owner": {"reputation": 23, "user_id": 9428205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ziga cibic", "link": "https://stackoverflow.com/users/9428205/ziga-cibic"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538239246, "post_id": 52526510, "comment_id": 92077530, "body": "I noticed that, and it is an elegant method and I did implement it. However, the web service still throws an invalid signature exception, and from what I&#39;ve gathered when talking with support it&#39;s as if the backend strips the OddajVlogoReq tag and only then checks the signature (This is my interpretation, support is not the dev team and super vague with their &quot;Support&quot;). Is it even possible to do what I&#39;m getting at? I thought for sure the SignXml method in the link was what I needed, but apparently this is the most convoluted web service ever."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538252752, "post_id": 52526510, "comment_id": 92080983, "body": "You should be able to create the signature and connect.  Can you connect with other software?  Usually I recommend using a sniffer like wireshark or fiddler and compare a working application with the one that doesn&#39;t work.  You can also save the xml to a file to verify your changes are working correctly."}, {"owner": {"reputation": 23, "user_id": 9428205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ziga cibic", "link": "https://stackoverflow.com/users/9428205/ziga-cibic"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538342655, "post_id": 52526510, "comment_id": 92099616, "body": "The signature is created and passes validation, if I try validating the entire xml which I do save. The web service uses an external provider for signature validation that has a tester available, which accepts plain text for the xml. Should the signature still be valid if I copy over only the signed element from the xml? If so, I guess I&#39;m doing something wrong with the implementation. I do not have access to any working application for the service so I can&#39;t check my work against anything functional."}, {"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538377525, "post_id": 52526510, "comment_id": 92106985, "body": "Are you failing the signature validation or the schema validation.  I would use an on-line schema check to see if xml is valid.  You can perform the check inside Visual Studio using menu : Project : Add New Item : Xml File.  Then past xml into view.  Error will show up like normal compiler errors."}, {"owner": {"reputation": 23, "user_id": 9428205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ziga cibic", "link": "https://stackoverflow.com/users/9428205/ziga-cibic"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538382485, "post_id": 52526510, "comment_id": 92109394, "body": "I am failing signature validation at the web service. The document is schema compliant and after doing as you suggested the build came through no problem. Here&#39;s the xml i&#39;m sending to the service: <a href=\"https://pastebin.com/KXn71ZAj\" rel=\"nofollow noreferrer\">pastebin.com/KXn71ZAj</a> And as i have previously mentioned from what i understood, the signature has to be valid when the outer most tags are stripped. The pastebin contains the entire value that is inserted into the CDATA block of the request. If the xml isn&#39;t schema compliant i don&#39;t even get to the signature validation part."}, {"owner": {"reputation": 23, "user_id": 9428205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ziga cibic", "link": "https://stackoverflow.com/users/9428205/ziga-cibic"}, "reply_to_user": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1538554315, "post_id": 52526510, "comment_id": 92178658, "body": "I got it to work by using a pretty unhygienic method IMO. I created string values with the opening and closing elements of the xml i needed and just serialized the node i needed without the xml declaration and concatenated the whole thing. the signature passes and the webservice accepts the document. I thought there would be a cleaner solution but hey, at this point i&#39;ll take anything that works."}], "owner": {"reputation": 23, "user_id": 9428205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ziga cibic", "link": "https://stackoverflow.com/users/9428205/ziga-cibic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 383, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538099989, "creation_date": 1537998824, "last_edit_date": 1538099989, "question_id": 52526510, "link": "https://stackoverflow.com/questions/52526510/how-to-sign-a-specific-child-node-of-an-xml-document", "title": "How to sign a specific child node of an xml document?", "body": "<p>I have an issue with signing an xml form for a WSDL web service. \nI can sign the document just fine but the web service rejects it, while all other signature verifications check out. I have been told by the service provider the issue is i'm signing the entire document, instead of just the child. And i have no idea how to sign an xml, turn it into a node and import it into another xml without breaking the integrity of the signature. any help would be appreciated.</p>\n\n<p>The xml outline is as follows:</p>\n\n<pre><code>&lt;OddajVlogoReq&gt;\n   &lt;EvemHRDocument&gt;\n       all the data\n        &lt;Signatures&gt;\n           &lt;Singature&gt;\n          signature things\n            &lt;/Signature&gt;\n         &lt;/Signatures&gt;\n     &lt;/EvemHRDocument&gt;\n &lt;/OddajVlogoReq&gt;\n</code></pre>\n\n<p>And apparently the OddajVlogoReq element is not supposed to be signed. I'm signing by serialising and forming a signed xml from the entire document, then appending the signature as a child into the document. There's no difference wheather i start with the parent or first child signature wise, but starting with the EvemHRDocument would mean i then need to append the signed document to the OddajVlogoReq. How can i do that and keep the signature valid?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537998717, "post_id": 52526468, "comment_id": 91992783, "body": "<a href=\"https://stackoverflow.com/questions/52499143/accumulate-date-ranges#comment91938908_52499143\" title=\"accumulate date ranges%23comment91938908_52499143\">stackoverflow.com/questions/52499143/&hellip;</a> may be of interest"}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1538001156, "post_id": 52526468, "comment_id": 91993473, "body": "The fundamental problem is that as you combine projects, your code would need to start the index completely over to work correctly.  because if we had just 4 items that all overlapped but in the order A, C, B, D, your code would only AB CD.  I bet if you ordered your items by StartTime and then EndTime, it might work."}], "answers": [{"comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1538003841, "post_id": 52527222, "comment_id": 91994142, "body": "Probably could be sped up significantly if instead of returning an item, I returned all items, then just took the min/man of all the returned items (and removed them all from the list)..."}, {"owner": {"reputation": 11, "user_id": 8629029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5c19b3e77d83c86892a456cff10117?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Sloun", "link": "https://stackoverflow.com/users/8629029/jim-sloun"}, "edited": false, "score": 0, "creation_date": 1538074820, "post_id": 52527222, "comment_id": 92026820, "body": "Thanks, that did exactly what I needed!"}], "tags": [], "owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "is_accepted": false, "score": 1, "last_activity_date": 1538003588, "last_edit_date": 1592644375, "creation_date": 1538003588, "answer_id": 52527222, "question_id": 52526468, "link": "https://stackoverflow.com/questions/52526468/consolidating-objects-by-datetime-values-in-c/52527222#52527222", "title": "Consolidating objects by DateTime values in C#", "body": "<p><a href=\"https://dotnetfiddle.net/uopWoL\" rel=\"nofollow noreferrer\">Here is my solution (DotNetFiddle Example)</a></p>\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var projectList = new List&lt;Project&gt;\n        {\n            new Project{Name = &quot;Object 1&quot;, BeginDate = new DateTime(2017,12,21), EndDate = new DateTime(2018,01,20)},\n            new Project{Name = &quot;Object 2&quot;, BeginDate = new DateTime(2017,12,01), EndDate = new DateTime(2017,12,21)},\n            new Project{Name = &quot;Object 3&quot;, BeginDate = new DateTime(2017,10,25), EndDate = new DateTime(2017,12,01)},\n            new Project{Name = &quot;Object 4&quot;, BeginDate = new DateTime(2017,09,17), EndDate = new DateTime(2017,10,25)},\n            new Project{Name = &quot;Object 5&quot;, BeginDate = new DateTime(2017,08,01), EndDate = new DateTime(2017,09,02)},\n            new Project{Name = &quot;Object 6&quot;, BeginDate = new DateTime(2017,06,25), EndDate = new DateTime(2017,07,26)},\n            new Project{Name = &quot;Object 7&quot;, BeginDate = new DateTime(2017,04,20), EndDate = new DateTime(2017,06,25)},\n        };\n\n        var newList = new List&lt;Project&gt;();\n\n        while(projectList.Count &gt; 0)\n        {\n            var item = projectList.ElementAt(0);\n            projectList.Remove(item);\n            newList.Add(item);\n\n            //Console.WriteLine(item);\n\n            var match = Match(item, projectList);\n\n            while (match != null)\n            {\n                //Console.WriteLine(&quot;match: &quot; + match.ToString());\n                projectList.Remove(match);\n                item.BeginDate = item.BeginDate &lt; match.BeginDate ? item.BeginDate : match.BeginDate;\n                item.EndDate = item.EndDate &gt; match.EndDate ? item.EndDate : match.EndDate;\n                item.IsLongTerm = true;\n                //Console.WriteLine(&quot;adjusted: &quot; + item.ToString());\n\n                match = Match(item, projectList);\n            }\n        }\n\n        foreach(var project in newList)\n        {\n            Console.WriteLine(project.ToString());\n        }\n    }\n\n    private static Project Match(Project project, IEnumerable&lt;Project&gt; projects)\n    {\n        var result = projects.FirstOrDefault(p =&gt; \n            (project.BeginDate.AddDays(-1) &lt; p.BeginDate &amp;&amp; p.BeginDate &lt; project.EndDate.AddDays(1) )\n            || (project.BeginDate.AddDays(-1) &lt; p.EndDate &amp;&amp; p.EndDate &lt; project.EndDate.AddDays(1)) );\n\n        return result;\n    }\n}\n\npublic class Project\n{\n    public string Name { get; set; }\n    public DateTime BeginDate { get; set; }\n    public DateTime EndDate { get; set; }\n    public bool IsLongTerm { get; set; }\n    public override string ToString()\n    {\n        return Name + &quot; &quot; + BeginDate.ToString(&quot;yyyy-MM-dd&quot;) + &quot; &quot; + EndDate.ToString(&quot;yyyy-MM-dd&quot;);\n    }\n}\n</code></pre>\n<p>Result:</p>\n<blockquote>\n<p>Object 1 2017-09-17 2018-01-20</p>\n<p>Object 5 2017-08-01 2017-09-02</p>\n<p>Object 6 2017-04-20 2017-07-26</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 2205373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CkyxF.jpg?s=128&g=1", "display_name": "Ahmed Sherien", "link": "https://stackoverflow.com/users/2205373/ahmed-sherien"}, "is_accepted": false, "score": 0, "last_activity_date": 1538013567, "last_edit_date": 1538013567, "creation_date": 1538004429, "answer_id": 52527338, "question_id": 52526468, "link": "https://stackoverflow.com/questions/52526468/consolidating-objects-by-datetime-values-in-c/52527338#52527338", "title": "Consolidating objects by DateTime values in C#", "body": "<p>Here you go find my example <a href=\"https://dotnetfiddle.net/hYMewg\" rel=\"nofollow noreferrer\">here</a></p>\n\n<h3>Model</h3>\n\n<pre><code>public class Project\n{\n    public Project(string name, DateTime beginDate) : this(name, beginDate, null) { }\n    public Project(string name, DateTime beginDate, DateTime? endDate)\n    {\n        Name = name;\n        BeginDate = beginDate;\n        EndDate = endDate;\n    }\n\n    public string Name { get; set; }\n    public DateTime BeginDate { get; set; }\n    public DateTime? EndDate { get; set; }\n\n    public override string ToString()\n    {\n        return $\"{Name}:\\t{BeginDate.ToShortDateString()}\\t:\\t{(EndDate.HasValue ? EndDate.Value.ToShortDateString() : \"Present\")}\";\n    }\n}\n</code></pre>\n\n<h3>Method</h3>\n\n<pre><code>private static List&lt;Project&gt; Consolidate(List&lt;Project&gt; projects)\n{\n    var result = new List&lt;Project&gt;();\n\n    // if empty return\n    if (!projects.Any()) return result;\n\n    // adding first project to a new list\n    // and removing it from the main list\n    result.Add(projects.First());\n    projects.Remove(projects.First());\n\n    // loop over all projects in the main list\n    projects.ForEach(p =&gt;\n    {\n        var endDate = p.EndDate.HasValue ? p.EndDate.Value : DateTime.Today;\n\n        // checking if any of the projects in the new list\n        // starts within 24 hours of the end date of the\n        // current project\n        if (result.Any(r =&gt; r.BeginDate &gt;= endDate &amp;&amp; r.BeginDate.Subtract(endDate) &lt;= TimeSpan.FromDays(1) &amp;&amp; r.Name != p.Name))\n        {\n            // if you find any get it\n            var match = result.First(r =&gt; r.BeginDate &gt;= endDate &amp;&amp; r.BeginDate.Subtract(endDate) &lt;= TimeSpan.FromDays(1) &amp;&amp; r.Name != p.Name);\n            var index = result.IndexOf(match);\n            // create new project that consalidate both projects\n            result[index] = new Project(match.Name, p.BeginDate, match.EndDate);\n        }\n        else\n        {\n            // if didn't find any add the current \n            // project to the new list\n            result.Add(p);\n        }\n    });\n\n    return result;\n}\n</code></pre>\n\n<h3>Sample Result</h3>\n\n<pre><code>P6: 4/20/2017   :   7/26/2017\nP5: 8/1/2017    :   9/2/2017\nP1: 9/17/2017   :   1/20/2018\n\nP6: 4/20/2017   :   Present\nP5: 8/1/2017    :   9/2/2017\nP4: 9/17/2017   :   Present\nP1: 10/25/2017  :   1/20/2018\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 1, "last_activity_date": 1538005123, "creation_date": 1538005123, "answer_id": 52527416, "question_id": 52526468, "link": "https://stackoverflow.com/questions/52526468/consolidating-objects-by-datetime-values-in-c/52527416#52527416", "title": "Consolidating objects by DateTime values in C#", "body": "<p>Here is my attempt using simplified enumeration</p>\n\n<pre><code>IEnumerable&lt;Project&gt; Consolidate(IEnumerable&lt;Project&gt; data) {\n    // I need to create a new list of these objects with all the objects \n    //consolidated when the BeginDate of one object matches the EndDate \n    //of the previous one within 24 hours, going back until there is a break longer than 24 hours.\n    using (var e = data.GetEnumerator()) {\n        if (e.MoveNext()) {\n            var previous = e.Current;\n            while (e.MoveNext()) {\n                var next = e.Current;\n                if (previous.BeginDate.AddDays(-1) &gt; next.EndDate) {\n                    yield return previous;\n                    previous = next;\n                    continue;\n                }\n                previous = new Project {\n                    BeginDate = next.BeginDate,\n                    EndDate = previous.EndDate ?? DateTime.Now\n                };\n            }\n            yield return previous;\n        }\n    }\n}\n</code></pre>\n\n<p>Which produces the desired result for the above stated cases including <code>null</code> end dates.</p>\n\n<p>There is room to generalize this into an extension method if so desired. You would just need to provide a predicate for the condition and a <code>Func</code> for the building of the consolidated object.</p>\n"}, {"tags": [], "owner": {"reputation": 1534, "user_id": 6210699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247b4cf307285aa72632d5b321cf246b?s=128&d=identicon&r=PG&f=1", "display_name": "Mauricio Atanache", "link": "https://stackoverflow.com/users/6210699/mauricio-atanache"}, "is_accepted": false, "score": 0, "last_activity_date": 1538007224, "creation_date": 1538007224, "answer_id": 52527649, "question_id": 52526468, "link": "https://stackoverflow.com/questions/52526468/consolidating-objects-by-datetime-values-in-c/52527649#52527649", "title": "Consolidating objects by DateTime values in C#", "body": "<p>Here is my approach...</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\n\npublic class Program\n{\n    public static void Main()\n    {\n        var projectList = new List&lt;Project&gt;\n        {\n            new Project{Id = \"Object 0\", BeginDate = new DateTime(2018,01,20), EndDate = null},\n            new Project{Id = \"Object 1\", BeginDate = new DateTime(2017,12,21), EndDate = new DateTime(2018,01,20)},\n            new Project{Id = \"Object 2\", BeginDate = new DateTime(2017,12,01), EndDate = new DateTime(2017,12,21)},\n            new Project{Id = \"Object 3\", BeginDate = new DateTime(2017,10,25), EndDate = new DateTime(2017,12,01)},\n            new Project{Id = \"Object 4\", BeginDate = new DateTime(2017,09,17), EndDate = new DateTime(2017,10,25)},\n            new Project{Id = \"Object 5\", BeginDate = new DateTime(2017,08,01), EndDate = new DateTime(2017,09,02)},\n            new Project{Id = \"Object 6\", BeginDate = new DateTime(2017,06,25), EndDate = new DateTime(2017,07,26)},\n            new Project{Id = \"Object 7\", BeginDate = new DateTime(2017,04,20), EndDate = new DateTime(2017,06,25)},\n        };\n\n        var resultsList = new List&lt;Project&gt;();\n        var previousProject = new Project();\n        var currentProject = new Project();\n\n        foreach(var p in projectList.OrderBy(p =&gt; p.BeginDate))\n        {\n            if (string.IsNullOrEmpty(previousProject.Id))\n            {\n                previousProject = currentProject = p;\n                continue;\n            }\n\n            if (p.BeginDate.AddDays(-1)&lt;=previousProject.EndDate)\n            {\n                currentProject.EndDate = p.EndDate;\n                previousProject = currentProject;\n                continue;\n            }\n            else\n            {\n                resultsList.Add(currentProject);\n                previousProject = currentProject = p;\n            }\n        }\n        resultsList.Add(currentProject);\n\n        foreach(var p in resultsList)\n        {\n            var endDate = p.EndDate?.ToString(\"yyyy-MM-dd\");\n            Console.WriteLine(\"{0}\\t{1}\\t{2}\", p.Id, p.BeginDate.ToString(\"yyyy-MM-dd\"), ((string.IsNullOrEmpty(endDate))?\"Null\":endDate));\n        }\n    }\n}\n\npublic class Project\n{\n    public string Id { get; set; }\n    public DateTime BeginDate { get; set; }\n    public DateTime? EndDate { get; set; }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8629029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5c19b3e77d83c86892a456cff10117?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Sloun", "link": "https://stackoverflow.com/users/8629029/jim-sloun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1538013567, "creation_date": 1537998610, "last_edit_date": 1538000423, "question_id": 52526468, "link": "https://stackoverflow.com/questions/52526468/consolidating-objects-by-datetime-values-in-c", "title": "Consolidating objects by DateTime values in C#", "body": "<p>I have a list of objects in C# with \"BeginDate\" and \"EndDate\" DateTime properties. I need to create a new list of these objects with all the objects consolidated when the BeginDate of one object matches the EndDate of the previous one within 24 hours, going back until there is a break longer than 24 hours.</p>\n\n<p>For example. I have a list like so </p>\n\n<pre><code>            BeginDate    EndDate\nObject 1    12/21/2017   01/20/2018\nObject 2    12/01/2017   12/21/2017\nObject 3    10/25/2017   12/01/2017\nObject 4    09/17/2017   10/25/2017\nObject 5    08/01/2017   09/02/2017\nObject 6    06/25/2017   07/26/2017\nObject 7    04/20/2017   06/25/2017\n</code></pre>\n\n<p>that needs to be turned into a list like this</p>\n\n<pre><code>            BeginDate    EndDate\nObject 1    09/17/2017   01/20/2018\nObject 2    08/01/2017   09/02/2017\nObject 3    4/20/2017    07/26/2017\n</code></pre>\n\n<p>My issue is further exacerbated by the fact that if the Object represents an ongoing project, then the EndDate might be a null value. So the original developers chose to use a DateTime? type instead of a regular DateTime value for that field. So you could have a situation where you have </p>\n\n<pre><code>            BeginDate    EndDate\nObject 1    12/21/2017   null\nObject 2    12/01/2017   12/21/2017\n</code></pre>\n\n<p>which would have to be converted to either </p>\n\n<pre><code>            BeginDate    EndDate\nObject 1    12/01/2017   null\n</code></pre>\n\n<p>or</p>\n\n<pre><code>            BeginDate    EndDate\nObject 1    12/01/2017   (DateTime.Now)\n</code></pre>\n\n<p>Right now, I'm trying this but it's not completely consolidating all the objects:</p>\n\n<pre><code>for (var index = 0; index &lt; ProjectList.Count; index++)\n{\n  Project_BL ThisProject = ProjectList[index];\n  Project_BL nextProject = ProjectList[index + 1];\n  if (index + 1 &lt; ProjectList.Count &amp;&amp; ProjectList[index+1] != null)\n  {\n    DateTime TempEndDate = nextProject.EndDate ?? DateTime.Now;\n    TimeSpan DifferenceBetweenProjectsTimespan =\n      ThisProject.BeginDate.Subtract(TempEndDate);\n    int DifferenceBetweenProjects = (int)DifferenceBetweenProjectsTimespan.TotalHours;\n    if (DifferenceBetweenProjects &lt;= 24)\n    {                             \n      if (IsLongProject == true)\n      {\n        nextProject.ProjectNature = \"Long-term\";\n      }\n      nextProject.EndDate = ThisProject.EndDate;\n      ProjectList.RemoveAt(index);                            \n      continue;\n    }\n    else\n    {\n      ProjectList.Add(ThisProject);\n      index++;\n      continue;\n    }\n  }\n  else\n  {\n    ProjectList.Add(ThisProject);\n  }\n}\n\nreturn ProjectList;\n</code></pre>\n\n<p>Anyone have any ideas? I'm banging my head against the wall at this point. So any help would be appreciated.</p>\n"}, {"tags": ["c#", "json", "json.net"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1537998402, "post_id": 52526438, "comment_id": 91992688, "body": "Perhaps a custom JsonConverter for this type/enum? (not sure though if JsonConverter can be used for customizing enum serialization, never did that myself...)"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537998506, "post_id": 52526438, "comment_id": 91992714, "body": "What happens now (e.g. exception is thrown)? What do you want to happen instead?"}, {"owner": {"reputation": 112977, "user_id": 390278, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84715fec547362389d02f5be0ed12814?s=128&d=identicon&r=PG", "display_name": "Jeff Mercado", "link": "https://stackoverflow.com/users/390278/jeff-mercado"}, "edited": false, "score": 3, "creation_date": 1537998635, "post_id": 52526438, "comment_id": 91992753, "body": "Why keep the <code>&lt;woof&gt;</code> part in the first place? An enum is the wrong type to use here if your values are not themselves valid enumerations."}, {"owner": {"reputation": 32382, "user_id": 587803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7431a850a166ca3a648141c532aa9d0?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/587803/ben"}, "edited": false, "score": 0, "creation_date": 1537999159, "post_id": 52526438, "comment_id": 91992922, "body": "That&#39;s not valid json, you appear to have duplicate keys."}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1537999161, "post_id": 52526438, "comment_id": 91992923, "body": "Looks like a duplicate of <a href=\"https://stackoverflow.com/q/22752075/3744182\">How can I ignore unknown enum values during json deserialization?</a>.  Agree?"}, {"owner": {"reputation": 79534, "user_id": 3744182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ab1dca8193d1b5734ba07702e963b6e?s=128&d=identicon&r=PG&f=1", "display_name": "dbc", "link": "https://stackoverflow.com/users/3744182/dbc"}, "edited": false, "score": 0, "creation_date": 1537999574, "post_id": 52526438, "comment_id": 91993028, "body": "Or if you want to actually strip off the <code>&lt;woof&gt;</code> and deserialize to <code>Dog</code>, see maybe <a href=\"https://stackoverflow.com/a/32057245/3744182\">Json.net Custom enum converter</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "is_accepted": true, "score": 3, "last_activity_date": 1537999484, "creation_date": 1537999484, "answer_id": 52526628, "question_id": 52526438, "link": "https://stackoverflow.com/questions/52526438/json-net-deserialized-to-an-enum-in-c/52526628#52526628", "title": "Json.Net - Deserialized to an Enum in c#", "body": "<p>You will need to define a <a href=\"https://www.newtonsoft.com/json/help/html/CustomJsonConverter.htm\" rel=\"nofollow noreferrer\">custom JsonConverter</a>. This might look something like this:</p>\n\n<pre><code>class MyEnumConverter : JsonConverter&lt;MyEnum&gt;\n{\n  public override MyEnum ReadJson(JsonReader reader, Type objectType, MyEnum existingValue, bool hasExistingValue, JsonSerializer serializer)\n  {\n    var token = reader.Value as string ?? reader.Value.ToString();\n    var stripped = Regex.Replace(token, @\"&lt;[^&gt;]+&gt;\", string.Empty);\n    if (Enum.TryParse&lt;MyEnum&gt;(stripped, out var result))\n    {\n      return result;\n    }\n    return default(MyEnum);\n  }\n\n  public override void WriteJson(JsonWriter writer, MyEnum value, JsonSerializer serializer)\n  {\n    writer.WriteValue(value.ToString());\n  }\n}\n</code></pre>\n\n<p>Then decorate your enum with a <a href=\"https://www.newtonsoft.com/json/help/html/JsonConverterAttributeClass.htm\" rel=\"nofollow noreferrer\">[JsonConverter]</a> attribute:</p>\n\n<pre><code>[JsonConverter(typeof(MyEnumConverter))]\nenum MyEnum\n{\n  House,\n  Dog,\n  Cat,\n}\n</code></pre>\n"}], "owner": {"reputation": 60380, "user_id": 172861, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7b64b4df7e1c9ca6fd953fd8a9a5c82b?s=128&d=identicon&r=PG", "display_name": "Ian Vink", "link": "https://stackoverflow.com/users/172861/ian-vink"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1510, "favorite_count": 0, "accepted_answer_id": 52526628, "answer_count": 1, "score": 0, "last_activity_date": 1537999484, "creation_date": 1537998340, "question_id": 52526438, "link": "https://stackoverflow.com/questions/52526438/json-net-deserialized-to-an-enum-in-c", "title": "Json.Net - Deserialized to an Enum in c#", "body": "<p>I am using Json.Net to deserialize</p>\n\n<p>I have a c# class that has a property of this type of enum:</p>\n\n<pre><code>public enum MyEnum {\n  House,   \n  Cat,\n  Dog\n }\n</code></pre>\n\n<p>The Json I have:</p>\n\n<pre><code>    \"MyEnum \": \"House\",\n    \"MyEnum \": \"Cat\",\n    \"MyEnum \": \"Doc&lt;woof&gt;\"\n</code></pre>\n\n<p><code>House</code> and <code>Cat</code> deserializes, but <code>Dog&lt;woof&gt;</code> of course doesn't. How can I get Json.Net to ignore or handle the <code>woof</code> ?</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 2487, "user_id": 6621584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc054b8cdac6b5b21a830bea3ccbea54?s=128&d=identicon&r=PG&f=1", "display_name": "Rajput", "link": "https://stackoverflow.com/users/6621584/rajput"}, "edited": false, "score": 0, "creation_date": 1537998695, "post_id": 52526410, "comment_id": 91992773, "body": "please try to give your data prototype in json or xml format."}, {"owner": {"reputation": 173, "user_id": 1401827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec87f99fef3cadb3056e80f5301075f?s=128&d=identicon&r=PG", "display_name": "user1401827", "link": "https://stackoverflow.com/users/1401827/user1401827"}, "reply_to_user": {"reputation": 2487, "user_id": 6621584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc054b8cdac6b5b21a830bea3ccbea54?s=128&d=identicon&r=PG&f=1", "display_name": "Rajput", "link": "https://stackoverflow.com/users/6621584/rajput"}, "edited": false, "score": 0, "creation_date": 1538000219, "post_id": 52526410, "comment_id": 91993237, "body": "I haven&#39;t posted very many questions on this site and I haven&#39;t done much with json. Do you either have a quick explanation on how to do this or can you provide a link about how this is done. Thanks."}, {"owner": {"reputation": 2487, "user_id": 6621584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc054b8cdac6b5b21a830bea3ccbea54?s=128&d=identicon&r=PG&f=1", "display_name": "Rajput", "link": "https://stackoverflow.com/users/6621584/rajput"}, "edited": false, "score": 0, "creation_date": 1538000686, "post_id": 52526410, "comment_id": 91993358, "body": "you can use group by cluase to build your hierarchy. but that wuod be complex for going level three or 4."}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1538001067, "post_id": 52526410, "comment_id": 91993450, "body": "This looks like it might be useful: <a href=\"https://stackoverflow.com/questions/847066/group-by-multiple-columns\" title=\"group by multiple columns\">stackoverflow.com/questions/847066/group-by-multiple-columns</a>&zwnj;&#8203;.  Read all the answers, not just the accepted or high vote ones"}, {"owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "edited": false, "score": 0, "creation_date": 1538089147, "post_id": 52526410, "comment_id": 92032058, "body": "I greatly updated my answer.  I believe it does what you want now."}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 1401827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec87f99fef3cadb3056e80f5301075f?s=128&d=identicon&r=PG", "display_name": "user1401827", "link": "https://stackoverflow.com/users/1401827/user1401827"}, "edited": false, "score": 0, "creation_date": 1538059887, "post_id": 52527467, "comment_id": 92019169, "body": "I plugged your code into my project and when looking at it with the debugger I&#39;m seeing the hierarchy I&#39;m looking for, but this generates anonymous types that I&#39;m not familiar with traversing. My ultimate goal is to populate a TreeView control with this data so I need the data in a structure like the TreeItem class shown above. An example of how to put the data in the structure I need would be greatly appreciated."}, {"owner": {"reputation": 173, "user_id": 1401827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec87f99fef3cadb3056e80f5301075f?s=128&d=identicon&r=PG", "display_name": "user1401827", "link": "https://stackoverflow.com/users/1401827/user1401827"}, "edited": false, "score": 0, "creation_date": 1538114252, "post_id": 52527467, "comment_id": 92037347, "body": "This gets me very close to what I need. Thanks for your time and effort in helping me out."}], "tags": [], "owner": {"reputation": 4431, "user_id": 4739488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q8m1k.png?s=128&g=1", "display_name": "Flydog57", "link": "https://stackoverflow.com/users/4739488/flydog57"}, "is_accepted": true, "score": 1, "last_activity_date": 1538145021, "last_edit_date": 1538145021, "creation_date": 1538005581, "answer_id": 52527467, "question_id": 52526410, "link": "https://stackoverflow.com/questions/52526410/convert-a-flat-list-to-a-multi-level-hierarchy/52527467#52527467", "title": "Convert a flat list to a multi level hierarchy", "body": "<p>This might help.  If you do something like this:</p>\n\n<pre><code>   var grouped1 = Resources.GroupBy(x =&gt; new {x.RootType, x.SubType, x.DisplayName});\n   var grouped2 = grouped1.GroupBy(x =&gt; new {x.Key.RootType, x.Key.SubType});\n   var grouped3 = grouped2.GroupBy(x =&gt; new {x.Key.RootType});\n</code></pre>\n\n<p>and they you traverse through the collections of collections in <code>grouped3</code>, you get a hierarchy similar to what you describe.  You'll probably want to translate that into something more semantically reasonable for your application.</p>\n\n<p>BTW, Thanks for a great repro.  All the code needed to try this out was included.  That's pretty rare here.</p>\n\n<h2>Update</h2>\n\n<p>What I did to navigate that <code>grouped3</code> thing was:</p>\n\n<ol>\n<li>First create a bunch of classes to hold the bits of the hierarchy.  </li>\n</ol>\n\n<p>They all follow the same pattern:</p>\n\n<pre><code> public class RootNode\n {\n     private readonly List&lt;SubNode&gt; _subList = new List&lt;SubNode&gt;();\n     public ERootType RootType { get; set; }\n     public IEnumerable&lt;SubNode&gt; Subs =&gt; _subList;\n\n     public RootNode(ERootType rootType)\n     {\n         RootType = rootType;\n     }\n\n     public void AddSub(SubNode subNodeToAdd)\n     {\n         _subList.Add(subNodeToAdd);\n     }\n }\n\npublic class SubNode\n{\n    private readonly List&lt;ItemNode&gt; _itemList = new List&lt;ItemNode&gt;();\n    public ESubType SubType { get; set; }\n    public IEnumerable&lt;ItemNode&gt; Items =&gt; _itemList;\n\n    public SubNode(ESubType subType)\n    {\n        SubType = subType;\n    }\n\n    public void AddItem(ItemNode itemToAdd)\n    {\n        _itemList.Add(itemToAdd);\n    }\n}\n\npublic class ItemNode\n{\n    private readonly List&lt;Payload&gt; _payloadList  = new List&lt;Payload&gt;();\n\n    public string Item { get; set; }\n    public IEnumerable&lt;Payload&gt; Payloads =&gt; _payloadList;\n    public ItemNode(string item)\n    {\n        Item = item;\n    }\n\n    public void AddPayload(Payload payloadToAdd)\n    {\n        _payloadList.Add(payloadToAdd);\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Then, right after the assignment of <code>grouped3</code> in the original code, I added this.</li>\n</ol>\n\n<p>It just walks the <code>grouped3</code> mess and creates a bunch of nodes in a tree:</p>\n\n<pre><code>    var roots = new List&lt;RootNode&gt;();\n\n    foreach (var root in grouped3)\n    {\n        var rootNode = new RootNode(root.Key.RootType);\n        roots.Add(rootNode);\n        foreach (var sub in root)\n        {\n            var subNode = new SubNode(sub.Key.SubType);\n            rootNode.AddSub(subNode);\n            foreach (var item in sub)\n            {\n                var itemNode = new ItemNode(item.Key.DisplayName);\n                subNode.AddItem(itemNode);\n                foreach (var payload in item)\n                {\n                    itemNode.AddPayload(payload.Payload as Payload);\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>When I look in the debugger, I see a strongly typed tree.  Don't be afraid of anonymous types.  The <code>var</code> keyword is your friend (well, that and the debugger).</p>\n"}], "owner": {"reputation": 173, "user_id": 1401827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ec87f99fef3cadb3056e80f5301075f?s=128&d=identicon&r=PG", "display_name": "user1401827", "link": "https://stackoverflow.com/users/1401827/user1401827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 231, "favorite_count": 0, "accepted_answer_id": 52527467, "answer_count": 1, "score": 0, "last_activity_date": 1538145021, "creation_date": 1537998204, "last_edit_date": 1537998705, "question_id": 52526410, "link": "https://stackoverflow.com/questions/52526410/convert-a-flat-list-to-a-multi-level-hierarchy", "title": "Convert a flat list to a multi level hierarchy", "body": "<p>I have the following that needs to be converted to a multi level hierarchical tree.</p>\n\n<pre><code>public enum ERootType { NotUsed, RootType1, RootType2, }\npublic enum ESubType { NotUsed, SubTypeA, SubTypeB, SubTypeC, }\n\npublic class Payload { }\n\npublic class MyData\n{\n    public MyData(ERootType rootType, ESubType subType,\n         string displayName, Payload payload)\n    {\n        RootType = rootType;\n        SubType = subType;\n        DisplayName = displayName;\n        Payload = payload;\n    }\n\n    public ERootType RootType { get; }\n    public ESubType SubType { get; }\n    public string DisplayName { get; set; }\n    public object Payload { get; }\n\n    public object this[string propertyName]\n    {\n        get\n        {\n            Type myType = typeof(MyData);\n            PropertyInfo myPropInfo = myType.GetProperty(propertyName);\n            return myPropInfo.GetValue(this, null);\n        }\n        set\n        {\n            Type myType = typeof(MyData);\n            PropertyInfo myPropInfo = myType.GetProperty(propertyName);\n            myPropInfo.SetValue(this, value, null);\n        }\n    }\n}\n\n// Create and initialize flat list of data\nvar Resources = new List&lt;MyData&gt;()\n{\n    new MyData(ERootType.RootType1, ESubType.SubTypeA, \"Item1\", new Payload()),\n    new MyData(ERootType.RootType1, ESubType.SubTypeA, \"Item2\", new Payload()),\n    new MyData(ERootType.RootType1, ESubType.SubTypeB, \"Item3\", new Payload()),\n    new MyData(ERootType.RootType1, ESubType.SubTypeB, \"Item4\", new Payload()),\n    new MyData(ERootType.RootType1, ESubType.SubTypeC, \"Item5\", new Payload()),\n    new MyData(ERootType.RootType2, ESubType.SubTypeA, \"Item6\", new Payload()),\n    new MyData(ERootType.RootType2, ESubType.SubTypeA, \"Item7\", new Payload()),\n    new MyData(ERootType.RootType2, ESubType.SubTypeB, \"Item8\", new Payload()),\n    new MyData(ERootType.RootType2, ESubType.SubTypeB, \"Item9\", new Payload()),\n    new MyData(ERootType.RootType2, ESubType.SubTypeC, \"Item10\", new Payload()),\n};\n</code></pre>\n\n<p>I need the above data converted to a hierarchical list that looks something like the following.</p>\n\n<blockquote>\n  <ul>\n  <li><strong>RootType1</strong> (ERootType = RootType1, ESubType = NotUsed, DiaplayName = \"RootType1\", Payload = null)\n  \n  <ul>\n  <li><strong>SubTypeA</strong> (ERootType = NotUsed, ESubType = SubTypeA, DiaplayName = \"SubTypeA\", Payload = null)\n  \n  <ul>\n  <li><strong>Item1</strong> (ERootType = RootType1, ESubType = SubTypeA, DiaplayName = \"Item1\", Payload = payload object instance)</li>\n  <li><strong>Item2</strong></li>\n  </ul></li>\n  <li><strong>SubTypeB</strong>\n  \n  <ul>\n  <li><strong>Item3</strong></li>\n  <li><strong>Item4</strong></li>\n  </ul></li>\n  <li><strong>SubTypeC</strong>\n  \n  <ul>\n  <li><strong>Item5</strong></li>\n  </ul></li>\n  </ul></li>\n  <li><strong>RootType2</strong>\n  \n  <ul>\n  <li><strong>SubTypeA</strong>\n  \n  <ul>\n  <li><strong>Item6</strong></li>\n  <li><strong>Item7</strong></li>\n  </ul></li>\n  <li><strong>SubTypeB</strong>\n  \n  <ul>\n  <li><strong>Item8</strong></li>\n  <li><strong>Item9</strong></li>\n  </ul></li>\n  <li><strong>SubTypeC</strong>\n  \n  <ul>\n  <li><strong>Item10</strong></li>\n  </ul></li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>I was trying to come up with a solution using Generics and Linq. I created the following class to support the hierarchical results.</p>\n\n<pre><code>public class TreeItem&lt;T&gt;\n{\n    public T Item { get; set; }\n    public IEnumerable&lt;TreeItem&lt;T&gt;&gt; Children { get; set; }\n}\n</code></pre>\n\n<p>I was thinking that it would be good to have a generic method that could generate a tree with n levels by passing in an array of levels which are the names of the properties in the class being converted. I was thinking this method would use recursion. Here's a function declaration I was playing with.</p>\n\n<pre><code>public static IEnumerable&lt;TreeItem&lt;T&gt;&gt; GenerateNLevelTree&lt;T&gt;(this IEnumerable&lt;T&gt; collection,\n    string[] levelProps, int currentLevel = 0)\n</code></pre>\n\n<p>The class MyData contains a contains an indexer to support accessing the each property of MyData using a string.</p>\n\n<p>Any help with a solution for generating the hierarchical data structure would be greatly appreciated.</p>\n"}, {"tags": ["c#", "asp.net", "authentication"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537997919, "post_id": 52526312, "comment_id": 91992541, "body": "Could this be solved with database constraints to stop entries with the same name being added?"}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537997988, "post_id": 52526312, "comment_id": 91992557, "body": "Sure, it could, but in my hypothetical I don&#39;t want to make that kind of restriction on allowed handles. I&#39;ll add it to my &quot;possible solutions that I don&#39;t want to use&quot; section in my question."}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537998097, "post_id": 52526312, "comment_id": 91992592, "body": "I guess to be more specific, the reason that I don&#39;t think your solution would work is because, if my ID is 123456, but someone else creates 123456 as a handle before I can make my account, that would mean I no longer had the option to make an account."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537998391, "post_id": 52526312, "comment_id": 91992684, "body": "Let&#39;s say you allow that to occur. Two people with the same &#39;ID&#39;. Now, they forget their password. You need to send them a reset password link. Which of those two people do you send the reset password email to?"}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537998518, "post_id": 52526312, "comment_id": 91992717, "body": "The &quot;Forget password&quot; page would require a distinction between the handle vs. the ID, and would also require them to have an email address in the first place."}, {"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537998981, "post_id": 52526312, "comment_id": 91992861, "body": "I should clarify, they&#39;re all being stored as separate fields in the database."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "edited": false, "score": 0, "creation_date": 1537999042, "post_id": 52526516, "comment_id": 91992880, "body": "I like this solution a lot! I&#39;ll have to figure out how to make this kind of tabbed form on my page (curse you, CSS!) but I think that this is probably the way that I would go if I can&#39;t figure out some way to let them all use the same field."}], "tags": [], "owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1537998844, "creation_date": 1537998844, "answer_id": 52526516, "question_id": 52526312, "link": "https://stackoverflow.com/questions/52526312/allowing-login-using-multiple-forms-of-id/52526516#52526516", "title": "Allowing login using multiple forms of ID", "body": "<p><strong>Let users specify the type of credentials they are providing.</strong></p>\n\n<p>Create a separate login form for each type of credentials: company ID, handle, e-mail address. When a user visits the site, you ask them to select the type of credentials they are providing. You could even remember this preference in the browser's storage.</p>\n\n<p>When the form is posted, you know exactly what to validate. You don't have to worry about a handle being the same as a company ID. Store company ID, handle, and e-mail address as separate fields in the database with each user's account.</p>\n\n<p>This is similar to sites which use federated authentication and give user's the option to sign in with Google or Facebook.</p>\n\n<p><a href=\"https://i.stack.imgur.com/khF7o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/khF7o.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 367, "user_id": 5490120, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/164b3308717c8f1b3072d45f100c5910?s=128&d=identicon&r=PG&f=1", "display_name": "phroureo", "link": "https://stackoverflow.com/users/5490120/phroureo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 52526516, "answer_count": 1, "score": 0, "last_activity_date": 1537998844, "creation_date": 1537997604, "last_edit_date": 1537998044, "question_id": 52526312, "link": "https://stackoverflow.com/questions/52526312/allowing-login-using-multiple-forms-of-id", "title": "Allowing login using multiple forms of ID", "body": "<p>I've created an ASP.net web page that allows the user to create an account. This site is purely for my own practice with the environment, but I have a question about the best way to handle logging in. </p>\n\n<p>My site is more or less (eventually) going to be similar to Twitter. </p>\n\n<p>When the user signs up for the site, they are required to put in a company ID number and a handle. In addition, they have an option of adding an email address, if so desired. </p>\n\n<p>On my login page, I want the user to be able to login with any of those three options (email address, company ID, or handle).</p>\n\n<p>The confusion that I'm running into: what if someone makes a handle that is the same as someone else's ID? How do I handle that? </p>\n\n<p>Would the best option be to validate based off of the (salted and hashed) password if it matches more than one? I would guess no, but I'm not sure. </p>\n\n<p>Now, I know that there are a lot of different options to alleviate this problem (require at least one letter in the user handle being the primary one that comes to mind, or as someone commented, adding a constraint to deny the creation if the ID already exists), but since this is just a mental exercise for me I figure I should learn something about it. </p>\n"}, {"tags": ["c#", "xml", "linq", "view", "controller"], "comments": [{"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1537998680, "post_id": 52526111, "comment_id": 91992768, "body": "personals != persons"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 10292206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEsfcD5wId0/AAAAAAAAAAI/AAAAAAAAAA4/ZWodqnqb3FM/photo.jpg?sz=128", "display_name": "Mathew Dodson", "link": "https://stackoverflow.com/users/10292206/mathew-dodson"}, "edited": false, "score": 0, "creation_date": 1537996820, "post_id": 52526156, "comment_id": 91992153, "body": "That just gave me another error, taking it out of context(List)"}, {"owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "reply_to_user": {"reputation": 105, "user_id": 10292206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEsfcD5wId0/AAAAAAAAAAI/AAAAAAAAAA4/ZWodqnqb3FM/photo.jpg?sz=128", "display_name": "Mathew Dodson", "link": "https://stackoverflow.com/users/10292206/mathew-dodson"}, "edited": false, "score": 0, "creation_date": 1537996895, "post_id": 52526156, "comment_id": 91992180, "body": "@MathewDodson you just add <code>.ToList()</code>, because I think your view need to use <code>List&lt;Personal&gt;</code> type"}, {"owner": {"reputation": 105, "user_id": 10292206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEsfcD5wId0/AAAAAAAAAAI/AAAAAAAAAA4/ZWodqnqb3FM/photo.jpg?sz=128", "display_name": "Mathew Dodson", "link": "https://stackoverflow.com/users/10292206/mathew-dodson"}, "edited": false, "score": 0, "creation_date": 1537997523, "post_id": 52526156, "comment_id": 91992408, "body": "Now it&#39;s giving me &#39;use of unassigned local variable, personals&#39;. Trying everything."}, {"owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "reply_to_user": {"reputation": 105, "user_id": 10292206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEsfcD5wId0/AAAAAAAAAAI/AAAAAAAAAA4/ZWodqnqb3FM/photo.jpg?sz=128", "display_name": "Mathew Dodson", "link": "https://stackoverflow.com/users/10292206/mathew-dodson"}, "edited": false, "score": 1, "creation_date": 1537997964, "post_id": 52526156, "comment_id": 91992552, "body": "@MathewDodson I edit my answer and add another solution I think is better way."}, {"owner": {"reputation": 235601, "user_id": 60761, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bf43bae0431d8f4a062234b5e3a0cb9?s=128&d=identicon&r=PG&f=1", "display_name": "Henk Holterman", "link": "https://stackoverflow.com/users/60761/henk-holterman"}, "edited": false, "score": 0, "creation_date": 1537998736, "post_id": 52526156, "comment_id": 91992792, "body": "Or just <code>return View(personals)</code>"}, {"owner": {"reputation": 105, "user_id": 10292206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEsfcD5wId0/AAAAAAAAAAI/AAAAAAAAAA4/ZWodqnqb3FM/photo.jpg?sz=128", "display_name": "Mathew Dodson", "link": "https://stackoverflow.com/users/10292206/mathew-dodson"}, "edited": false, "score": 0, "creation_date": 1538053310, "post_id": 52526156, "comment_id": 92014577, "body": "Sorry for the delay, it worked like a charm. I don&#39;t think that lists and ienums are interchangeable. I&#39;m bad at syntax. Thanks everyone."}], "tags": [], "owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "is_accepted": true, "score": 4, "last_activity_date": 1537998558, "last_edit_date": 1537998558, "creation_date": 1537996708, "answer_id": 52526156, "question_id": 52526111, "link": "https://stackoverflow.com/questions/52526111/xml-sorting-used-linq-in-asp-net-mvc/52526156#52526156", "title": "XML Sorting used LINQ in ASP.NET MVC", "body": "<p>I think you need to let the was sorted collection result set to  <code>persons</code> otherwise, the collection wasn't ordered by.</p>\n\n<pre><code>switch (sortOrder)\n{\n    case \"ID\":\n        persons = persons.OrderBy(Personal =&gt; Personal.ID).ToList();\n        break;\n    case \"Name\":\n        persons = persons.OrderBy(Personal =&gt; Personal.Name).ToList();\n        break;\n    case \"City\":\n        persons = persons.OrderBy(Personal =&gt; Personal.City).ToList();\n        break;\n    default:\n        break;\n}\nreturn View(persons);\n</code></pre>\n\n<hr>\n\n<p>I would use <code>linq</code> instead of <code>foreach</code> let the code more clear.</p>\n\n<p><code>SelectNodes(\"/Persons/record\").Cast&lt;XmlNode&gt;()</code> use <code>Cast&lt;XmlNode&gt;()</code> let <code>XmlNodeList</code> to <code>IEnumerable&lt;XmlNode&gt;</code> collection then use \nlinq <code>select</code>.</p>\n\n<pre><code>public ActionResult Index(string sortOrder)\n{\n    XmlDocument doc = new XmlDocument();\n    doc.Load(\"C:\\\\Users\\\\Matt.Dodson\\\\Desktop\\\\SampleWork\\\\PersonsApplicationFromXMLFile\\\\PersonsApplicationFromXMLFile\\\\DAL\\\\Personal.xml\");\n    IEnumerable&lt;Personal&gt; persons = doc.SelectNodes(\"/Persons/record\")\n        .Cast&lt;XmlNode&gt;()\n        .Select(node =&gt; new Personal()\n        {\n            ID = node[\"ID\"].InnerText,\n            Name = node[\"Name\"].InnerText,\n            Email = node[\"Email\"].InnerText,\n            DateOfBirth = node[\"DateOfBirth\"].InnerText,\n            Gender = node[\"Gender\"].InnerText,\n            City = node[\"City\"].InnerText\n        });\n    switch (sortOrder)\n    {\n        case \"ID\":\n            persons = persons.OrderBy(Personal =&gt; Personal.ID);\n            break;\n        case \"Name\":\n            persons = persons.OrderBy(Personal =&gt; Personal.Name);\n            break;\n        case \"City\":\n            persons = persons.OrderBy(Personal =&gt; Personal.City);\n            break;\n        default:\n            break;\n    }\n    return View(persons.ToList());\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159, "user_id": 3492412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d398fcfbdd35050cd9b613fc28158a75?s=128&d=identicon&r=PG&f=1", "display_name": "m4a", "link": "https://stackoverflow.com/users/3492412/m4a"}, "is_accepted": false, "score": 0, "last_activity_date": 1538073031, "creation_date": 1538073031, "answer_id": 52543131, "question_id": 52526111, "link": "https://stackoverflow.com/questions/52526111/xml-sorting-used-linq-in-asp-net-mvc/52543131#52543131", "title": "XML Sorting used LINQ in ASP.NET MVC", "body": "<p>Firstly you need return personals</p>\n\n<pre><code>...\nreturn View(personals);\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 10292206, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pEsfcD5wId0/AAAAAAAAAAI/AAAAAAAAAA4/ZWodqnqb3FM/photo.jpg?sz=128", "display_name": "Mathew Dodson", "link": "https://stackoverflow.com/users/10292206/mathew-dodson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 52526156, "answer_count": 2, "score": 2, "last_activity_date": 1538073031, "creation_date": 1537996501, "question_id": 52526111, "link": "https://stackoverflow.com/questions/52526111/xml-sorting-used-linq-in-asp-net-mvc", "title": "XML Sorting used LINQ in ASP.NET MVC", "body": "<p>I am trying to get sorting working for certain columns from an xml file. Here is what I have.</p>\n\n<pre><code>    public ActionResult Index(string sortOrder)\n    {\n        IEnumerable&lt;Personal&gt; personals;\n        XmlDocument doc = new XmlDocument();\n        List&lt;Personal&gt; persons = new List&lt;Personal&gt;();\n        doc.Load(\"C:\\\\Users\\\\Matt.Dodson\\\\Desktop\\\\SampleWork\\\\PersonsApplicationFromXMLFile\\\\PersonsApplicationFromXMLFile\\\\DAL\\\\Personal.xml\");\n        foreach (XmlNode node in doc.SelectNodes(\"/Persons/record\"))\n        {\n            persons.Add(new Personal\n            {\n                ID = node[\"ID\"].InnerText,\n                Name = node[\"Name\"].InnerText,\n                Email = node[\"Email\"].InnerText,\n                DateOfBirth = node[\"DateOfBirth\"].InnerText,\n                Gender = node[\"Gender\"].InnerText,\n                City = node[\"City\"].InnerText\n            });\n        }\n        switch (sortOrder)\n        {\n            case \"ID\":\n                personals = persons.OrderBy(Personal =&gt; Personal.ID);\n                break;\n            case \"Name\":\n                personals = persons.OrderBy(Personal =&gt; Personal.Name);\n                break;\n            case \"City\":\n                personals = persons.OrderBy(Personal =&gt; Personal.City);\n                break;\n            default:\n                break;\n        }\n        return View(persons);\n    }\n</code></pre>\n\n<p>Things I've tried include .getElementByTagName(\"ID\").toString().OrderBy(...), to no avail. I'm pretty sure I've got syntax all wrong.\nPlease help and thank you.</p>\n"}, {"tags": ["c#", ".net", ".net-core", "dotnet-httpclient", "httpclientfactory"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 1010291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a24a39b5015cd753d82a04b287c74ea?s=128&d=identicon&r=PG", "display_name": "Bruno Fiorentino", "link": "https://stackoverflow.com/users/1010291/bruno-fiorentino"}, "edited": false, "score": 2, "creation_date": 1537997802, "post_id": 52526291, "comment_id": 91992495, "body": "I&#39;m implementing a http dispatcher. It is called inside a message consuming loop and posts to webhooks. I&#39;m assuming that I <i>must</i> use HttpClientFactory: <a href=\"https://docs.microsoft.com/en-us/dotnet/standard/microservices-architecture/implement-resilient-applications/use-httpclientfactory-to-implement-resilient-http-requests\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/standard/&hellip;</a>"}], "tags": [], "owner": {"reputation": 333, "user_id": 1064731, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wIvO5.png?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/1064731/ben"}, "is_accepted": false, "score": 4, "last_activity_date": 1537997479, "creation_date": 1537997479, "answer_id": 52526291, "question_id": 52526095, "link": "https://stackoverflow.com/questions/52526095/how-to-configure-web-proxy-for-httpclient-created-directly-via-httpclientfactory/52526291#52526291", "title": "How to configure web proxy for HttpClient created directly via HttpClientFactory?", "body": "<p>You can do something like this:</p>\n\n<pre><code>private HttpClient ClientFactory()\n{\n    var proxiedHttpClientHandler = new HttpClientHandler(){ UseProxy = true};\n    proxiedHttpClientHandler.Proxy = new WebProxy(\"proxy address\");\n    var httpClient = new HttpClient(proxiedHttpClientHandler)\n    {\n        BaseAddress = new Uri(\"uri\");\n        Timeout = 2000; //if you need timeout;\n    }\n}\n_createHttpClient = () =&gt; ClientFactory();\n</code></pre>\n\n<p>There's a good discussion <a href=\"https://stackoverflow.com/questions/18976042/httpclientfactory-create-vs-new-httpclient\">here</a> about using factory vs. manually instantiating an httpClient object.</p>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 1010291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a24a39b5015cd753d82a04b287c74ea?s=128&d=identicon&r=PG", "display_name": "Bruno Fiorentino", "link": "https://stackoverflow.com/users/1010291/bruno-fiorentino"}, "edited": false, "score": 0, "creation_date": 1537998205, "post_id": 52526366, "comment_id": 91992630, "body": "I&#39;m not using Asp .Net Core IoC/DI and its helpers. I need to configure and consume HttpClientFactory directly."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 141, "user_id": 1010291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a24a39b5015cd753d82a04b287c74ea?s=128&d=identicon&r=PG", "display_name": "Bruno Fiorentino", "link": "https://stackoverflow.com/users/1010291/bruno-fiorentino"}, "edited": false, "score": 0, "creation_date": 1537998270, "post_id": 52526366, "comment_id": 91992651, "body": "So how do you intent on creating the factory? You do know you can create the service collection yourself and get the benefits of the service provider?"}, {"owner": {"reputation": 141, "user_id": 1010291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a24a39b5015cd753d82a04b287c74ea?s=128&d=identicon&r=PG", "display_name": "Bruno Fiorentino", "link": "https://stackoverflow.com/users/1010291/bruno-fiorentino"}, "edited": false, "score": 1, "creation_date": 1537998563, "post_id": 52526366, "comment_id": 91992728, "body": "I&#39;m not creating the service collection. That&#39;s the point. It&#39;s a console application template based project (dotnet new console), unrelated to Asp .Net Core. I need to use HttpClientFactory and HttpClient directly."}, {"owner": {"reputation": 141, "user_id": 1010291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a24a39b5015cd753d82a04b287c74ea?s=128&d=identicon&r=PG", "display_name": "Bruno Fiorentino", "link": "https://stackoverflow.com/users/1010291/bruno-fiorentino"}, "edited": false, "score": 0, "creation_date": 1537998716, "post_id": 52526366, "comment_id": 91992782, "body": "That&#39;s ok if it is an option, but my question is about how to do it without the service collection IoC/DI infrastructure. It should not be hard."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "reply_to_user": {"reputation": 141, "user_id": 1010291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a24a39b5015cd753d82a04b287c74ea?s=128&d=identicon&r=PG", "display_name": "Bruno Fiorentino", "link": "https://stackoverflow.com/users/1010291/bruno-fiorentino"}, "edited": false, "score": 0, "creation_date": 1537998794, "post_id": 52526366, "comment_id": 91992811, "body": "Ok understood. this is an example of console with DI. <a href=\"https://github.com/aspnet/HttpClientFactory/blob/master/samples/HttpClientFactorySample/Program.cs\" rel=\"nofollow noreferrer\">github.com/aspnet/HttpClientFactory/blob/master/samples/&hellip;</a> i&#39;ll check to see if there is one without."}], "tags": [], "owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "is_accepted": false, "score": 12, "last_activity_date": 1537999098, "last_edit_date": 1537999098, "creation_date": 1537997942, "answer_id": 52526366, "question_id": 52526095, "link": "https://stackoverflow.com/questions/52526095/how-to-configure-web-proxy-for-httpclient-created-directly-via-httpclientfactory/52526366#52526366", "title": "How to configure web proxy for HttpClient created directly via HttpClientFactory?", "body": "<p>When adding the client to the service collection you should be able to configure the handler there</p>\n\n<p>Using the named client approach I'll use a constant to hold the client name.</p>\n\n<pre><code>public static class NamedHttpClients {\n    public const string ProxiedClient = \"ProxiedClient\";\n}\n</code></pre>\n\n<p>From there it is just a matter of configuring the client</p>\n\n<pre><code>//...\nvar serviceCollection = new ServiceCollection();\n\nserviceCollection\n    .AddHttpClient(NamedHttpClients.ProxiedClient)\n    .ConfigurePrimaryHttpMessageHandler(() =&gt; new HttpClientHandler() { \n        Proxy = httpProxy \n    });\n\nvar services = serviceCollection.BuildServiceProvider();\n</code></pre>\n\n<p>So that when calling the client via a resolved <code>IHttpClientFactory</code></p>\n\n<pre><code>var httpClientFactory = services.GetService&lt;IHttpClientFactory&gt;();\n\nvar client = httpClientFactory.CreateClient(NamedHttpClients.ProxiedClient);\n</code></pre>\n\n<p>the returned client will use the handler with the proxy.</p>\n"}], "owner": {"reputation": 141, "user_id": 1010291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a24a39b5015cd753d82a04b287c74ea?s=128&d=identicon&r=PG", "display_name": "Bruno Fiorentino", "link": "https://stackoverflow.com/users/1010291/bruno-fiorentino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11169, "favorite_count": 3, "answer_count": 2, "score": 10, "last_activity_date": 1537999098, "creation_date": 1537996374, "last_edit_date": 1537996427, "question_id": 52526095, "link": "https://stackoverflow.com/questions/52526095/how-to-configure-web-proxy-for-httpclient-created-directly-via-httpclientfactory", "title": "How to configure web proxy for HttpClient created directly via HttpClientFactory?", "body": "<ul>\n<li>By directly I mean without Asp.Net Core IoC/DI helpers.</li>\n</ul>\n\n<p>I didn't find docs about it and I think my current solution isn't optimal because the handler lifecyle isn't managed by the HttpClientFactory:</p>\n\n<pre><code>var proxiedHttpClientHandler = new HttpClientHandler() { Proxy = httpProxy };\n_createHttpClient = () =&gt; HttpClientFactory.Create(proxiedHttpClientHandler);\n</code></pre>\n\n<p>Is there a better solution?</p>\n"}, {"tags": ["c#", "entity-framework", "in-memory-database"], "comments": [{"owner": {"reputation": 823, "user_id": 6497826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BWLPo.jpg?s=128&g=1", "display_name": "Mathias R&#248;nnow N&#248;rtoft", "link": "https://stackoverflow.com/users/6497826/mathias-r%c3%b8nnow-n%c3%b8rtoft"}, "edited": false, "score": 0, "creation_date": 1537997276, "post_id": 52526052, "comment_id": 91992326, "body": "You can map the relationship manually as it says, some inspiration and explanation can be found in this article: <a href=\"http://www.entityframeworktutorial.net/code-first/configure-one-to-many-relationship-in-code-first.aspx\" rel=\"nofollow noreferrer\">entityframeworktutorial.net/code-first/&hellip;</a>"}, {"owner": {"reputation": 1164, "user_id": 1572767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GGcqD.jpg?s=128&g=1", "display_name": "ForrestLyman", "link": "https://stackoverflow.com/users/1572767/forrestlyman"}, "reply_to_user": {"reputation": 823, "user_id": 6497826, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BWLPo.jpg?s=128&g=1", "display_name": "Mathias R&#248;nnow N&#248;rtoft", "link": "https://stackoverflow.com/users/6497826/mathias-r%c3%b8nnow-n%c3%b8rtoft"}, "edited": false, "score": 0, "creation_date": 1537997637, "post_id": 52526052, "comment_id": 91992444, "body": "Funny, I was just reading that article! I am going to try it out, but would prefer to at least figure out why the users &gt; addresses works and clients &gt; users throws an exception."}], "answers": [{"comments": [{"owner": {"reputation": 1164, "user_id": 1572767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GGcqD.jpg?s=128&g=1", "display_name": "ForrestLyman", "link": "https://stackoverflow.com/users/1572767/forrestlyman"}, "edited": false, "score": 0, "creation_date": 1537998687, "post_id": 52526417, "comment_id": 91992769, "body": "The challenge is that users entity uses single table inheritance, both the advisors and users(contacts) share the same table (or will). The client &gt; advisor is a 1 to 1 relationship, while the client &gt; users is a one to many. Would it be better to create a separate Advisor model, then handle the single table inheritance on the at the data access level? My goal here is to use the simplest, most conventional approach possible and avoid any custom configuration."}, {"owner": {"reputation": 2487, "user_id": 6621584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc054b8cdac6b5b21a830bea3ccbea54?s=128&d=identicon&r=PG&f=1", "display_name": "Rajput", "link": "https://stackoverflow.com/users/6621584/rajput"}, "reply_to_user": {"reputation": 1164, "user_id": 1572767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GGcqD.jpg?s=128&g=1", "display_name": "ForrestLyman", "link": "https://stackoverflow.com/users/1572767/forrestlyman"}, "edited": false, "score": 0, "creation_date": 1537999042, "post_id": 52526417, "comment_id": 91992881, "body": "My goal here is to use the simplest, most conventional approach possible and avoid any custom configuration. - But you are making it complex for entity framework. you dont need a model for that make any flag in usermodel (eg isAdvisor ) to distinguish if both userModel and advisorModel is going to be same."}, {"owner": {"reputation": 1164, "user_id": 1572767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GGcqD.jpg?s=128&g=1", "display_name": "ForrestLyman", "link": "https://stackoverflow.com/users/1572767/forrestlyman"}, "edited": false, "score": 0, "creation_date": 1537999442, "post_id": 52526417, "comment_id": 91992994, "body": "yeah, so if I am understanding you correctly you would recommend having a single collection of related users, then determine who is the advisor and who is the customer based on the role right?"}, {"owner": {"reputation": 2487, "user_id": 6621584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc054b8cdac6b5b21a830bea3ccbea54?s=128&d=identicon&r=PG&f=1", "display_name": "Rajput", "link": "https://stackoverflow.com/users/6621584/rajput"}, "reply_to_user": {"reputation": 1164, "user_id": 1572767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GGcqD.jpg?s=128&g=1", "display_name": "ForrestLyman", "link": "https://stackoverflow.com/users/1572767/forrestlyman"}, "edited": false, "score": 1, "creation_date": 1537999544, "post_id": 52526417, "comment_id": 91993019, "body": "Yes that should be part of role and it the correct way to define your model."}], "tags": [], "owner": {"reputation": 2487, "user_id": 6621584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc054b8cdac6b5b21a830bea3ccbea54?s=128&d=identicon&r=PG&f=1", "display_name": "Rajput", "link": "https://stackoverflow.com/users/6621584/rajput"}, "is_accepted": false, "score": 1, "last_activity_date": 1537998233, "creation_date": 1537998233, "answer_id": 52526417, "question_id": 52526052, "link": "https://stackoverflow.com/questions/52526052/c-entity-framework-in-memory-db-relationships/52526417#52526417", "title": "C# Entity Framework In Memory Db Relationships", "body": "<p>Your relationship is not defined properly.How come it should be possible in your \n  <code>ClientModel</code> class.</p>\n\n<pre><code>public List&lt;UserModel&gt; Users { get; set; }\npublic UserModel Advisor { get; set; }\n</code></pre>\n\n<p>Entity framework will find this ambiguous to make relationship. Either it should be one to one or one to many. May be you are mixing things here. Just remove first or last(based on your requirement) and try to run this.</p>\n"}], "owner": {"reputation": 1164, "user_id": 1572767, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/GGcqD.jpg?s=128&g=1", "display_name": "ForrestLyman", "link": "https://stackoverflow.com/users/1572767/forrestlyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537998233, "creation_date": 1537996138, "question_id": 52526052, "link": "https://stackoverflow.com/questions/52526052/c-entity-framework-in-memory-db-relationships", "title": "C# Entity Framework In Memory Db Relationships", "body": "<p>I have a simple API which consists of three levels of data:</p>\n\n<p>Accounts > Users > Addresses</p>\n\n<p>The API is successfully loading the addresses for the users, but is throwing an exception determining the relationship between clients and users. </p>\n\n<p><code>Unhandled Exception: System.InvalidOperationException: Unable to determine the relationship represented by navigation property 'ClientModel.Users' of type 'List&lt;UserModel&gt;'. Either manually configure the relationship, or ignore this property using the '[NotMapped]' attribute or by using 'EntityTypeBuilder.Ignore' in 'OnModelCreating'.</code></p>\n\n<p>Here are the models which look identical to me:</p>\n\n<pre><code>public class ClientModel\n{\n    public string Id { get; set; }\n    public string Type { get; set; }\n    public string DisplayName { get; set; }\n    public string Email { get; set; }\n    public long Phone { get; set; }\n    public string Photo { get; set; }\n    public string Source { get; set; }\n    public string CreatedAt { get; set; }\n    public int AccountsCount { get; set; }\n    public double AccountsBalance { get; set; }\n    public double AccountsBalancePending { get; set; }\n    public double AccountsDonations { get; set; }\n    public double AccountsBalanceAch { get; set; }\n    public double AccountsBalanceIra { get; set; }\n    public List&lt;UserModel&gt; Users { get; set; }\n    public UserModel Advisor { get; set; }\n}\n\npublic class UserModel\n{\n    public string Id { get; set; }\n    public string ClientId { get; set; }\n    public ClientModel Client { get; set; }\n    public string Role { get; set; }\n    public bool Primary { get; set; }\n    public string Email { get; set; }\n    public string Password { get; set; }\n    public string Token { get; set; }\n    public string FirstName { get; set; }\n    public string LastName { get; set; }\n    public string Photo { get; set; }\n    public string Birthday { get; set; }\n    public long Phone { get; set; }\n    public List&lt;AddressModel&gt; Address { get; set; }\n}\n\npublic class AddressModel\n{\n    public string Id { get; set; }  \n    public string UserId { get; set; }\n    public UserModel User { get; set; }\n    public string Street { get; set; }  \n    public string StreetSecondary { get; set; }  \n    public string City { get; set; }  \n    public string State { get; set; }  \n    public string Country { get; set; }  \n    public string PostalCode { get; set; }  \n}\n</code></pre>\n"}, {"tags": ["c#", "wpf", "mvvm", "wpf-controls"], "comments": [{"owner": {"reputation": 159, "user_id": 3492412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d398fcfbdd35050cd9b613fc28158a75?s=128&d=identicon&r=PG&f=1", "display_name": "m4a", "link": "https://stackoverflow.com/users/3492412/m4a"}, "edited": false, "score": 0, "creation_date": 1537995461, "post_id": 52525885, "comment_id": 91991687, "body": "duplicate <a href=\"https://stackoverflow.com/questions/15087124/wpf-click-on-label-change-checkbox-ischecked-property\" title=\"wpf click on label change checkbox ischecked property\">stackoverflow.com/questions/15087124/&hellip;</a>"}, {"owner": {"reputation": 15, "user_id": 10420965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3be97654e0ae9b41c0bdbc9b14cf82?s=128&d=identicon&r=PG&f=1", "display_name": "j.doe", "link": "https://stackoverflow.com/users/10420965/j-doe"}, "reply_to_user": {"reputation": 159, "user_id": 3492412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d398fcfbdd35050cd9b613fc28158a75?s=128&d=identicon&r=PG&f=1", "display_name": "m4a", "link": "https://stackoverflow.com/users/3492412/m4a"}, "edited": false, "score": 0, "creation_date": 1537995547, "post_id": 52525885, "comment_id": 91991716, "body": "nope, sorry. I need to use textblock + checkbox!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1537997993, "post_id": 52525885, "comment_id": 91992559, "body": "@j.doe, if the answer below does not help, then please explain why not. Do not just say &quot;<i>Unfortunately no</i>&quot;. Explain what precisely you want to achieve and how the answer below does <i>not</i> help you. Help us to help you..."}, {"owner": {"reputation": 159, "user_id": 3492412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d398fcfbdd35050cd9b613fc28158a75?s=128&d=identicon&r=PG&f=1", "display_name": "m4a", "link": "https://stackoverflow.com/users/3492412/m4a"}, "edited": false, "score": 0, "creation_date": 1537998807, "post_id": 52525885, "comment_id": 91992814, "body": "yep. bad question. but idea is good (as i understand of course)."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10420965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3be97654e0ae9b41c0bdbc9b14cf82?s=128&d=identicon&r=PG&f=1", "display_name": "j.doe", "link": "https://stackoverflow.com/users/10420965/j-doe"}, "edited": false, "score": 0, "creation_date": 1537995692, "post_id": 52525955, "comment_id": 91991773, "body": "Unfortunately no maybe I can somehow attach the text block to the checkbox"}], "tags": [], "owner": {"reputation": 159, "user_id": 3492412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d398fcfbdd35050cd9b613fc28158a75?s=128&d=identicon&r=PG&f=1", "display_name": "m4a", "link": "https://stackoverflow.com/users/3492412/m4a"}, "is_accepted": true, "score": 1, "last_activity_date": 1537998630, "last_edit_date": 1537998630, "creation_date": 1537995548, "answer_id": 52525955, "question_id": 52525885, "link": "https://stackoverflow.com/questions/52525885/wpf-clickable-textblock-mvvm/52525955#52525955", "title": "WPF clickable textblock MVVM", "body": "<p>The easiest way</p>\n\n<pre><code>&lt;CheckBox&gt;\n   &lt;TextBlock Text=\"Your text here\"/&gt;\n&lt;/CheckBox&gt;\n</code></pre>\n\n<p><strong>Update</strong>\nYou should use MVVM.\nWithout mvvm frameworks it will be something like this.</p>\n\n<pre><code>&lt;Window.DataContext&gt;\n    &lt;local:ViewModel/&gt;\n&lt;/Window.DataContext&gt;\n...\n    &lt;StackPanel&gt;\n        &lt;CheckBox Name=\"CheckBox\" IsChecked=\"{Binding IsChecked, Mode=TwoWay}\"/&gt;\n        &lt;TextBlock Text=\"Your text here\"&gt;\n            &lt;TextBlock.InputBindings&gt;\n                &lt;MouseBinding Command=\"{Binding IsCheckedCommand}\" MouseAction=\"LeftClick\" /&gt;\n            &lt;/TextBlock.InputBindings&gt;\n        &lt;/TextBlock&gt;\n    &lt;/StackPanel&gt;\n</code></pre>\n\n<p>Code behind</p>\n\n<pre><code>public class RelayCommand : ICommand\n{\n    readonly Action&lt;object&gt; _execute;\n    readonly Predicate&lt;object&gt; _canExecute;\n\n    public RelayCommand(Action&lt;object&gt; execute) : this(execute, null) { }\n\n    public RelayCommand(Action&lt;object&gt; execute, Predicate&lt;object&gt; canExecute)\n    {\n        _execute = execute ?? throw new ArgumentNullException(nameof(execute)); _canExecute = canExecute;\n    }\n\n    [DebuggerStepThrough]\n    public bool CanExecute(object parameter)\n    {\n        return _canExecute?.Invoke(parameter) ?? true;\n    }\n\n    public event EventHandler CanExecuteChanged\n    {\n        add =&gt; CommandManager.RequerySuggested += value;\n        remove =&gt; CommandManager.RequerySuggested -= value;\n    }\n    public void Execute(object parameter) { _execute(parameter); }\n}\n\npublic class ViewModel:INotifyPropertyChanged\n{\n    public bool IsChecked { get; set; } \n\n    public RelayCommand IsCheckedCommand { get; set; }\n\n    public ViewModel()\n    {\n        IsCheckedCommand = new RelayCommand(m =&gt; IsCheckedCommandExecute());\n    }\n\n    private void IsCheckedCommandExecute()\n    {\n        IsChecked = !IsChecked;\n        OnPropertyChanged(nameof(IsChecked));\n    }\n\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    [NotifyPropertyChangedInvocator]\n    protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null)\n    {\n        PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n    }\n}\n</code></pre>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/magazine/dd419663.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/magazine/dd419663.aspx</a></p>\n\n<p>If you don't want to create custom implementation of ICommand and INotifyPropertyChanged you can take mvvm framework, e.g. MvvmLight</p>\n"}], "owner": {"reputation": 15, "user_id": 10420965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3be97654e0ae9b41c0bdbc9b14cf82?s=128&d=identicon&r=PG&f=1", "display_name": "j.doe", "link": "https://stackoverflow.com/users/10420965/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 52525955, "answer_count": 1, "score": -1, "last_activity_date": 1537998630, "creation_date": 1537995177, "question_id": 52525885, "link": "https://stackoverflow.com/questions/52525885/wpf-clickable-textblock-mvvm", "title": "WPF clickable textblock MVVM", "body": "<p>Could you please help me?</p>\n\n<p>I have a checkbox and a text block.</p>\n\n<p><code>&lt;checkbox ..... /&gt;\n&lt;textblock ..... /&gt;</code></p>\n\n<p>They are for the ability to remember the password.</p>\n\n<p>How do I make it so that when I click on the text block, the checkbox changes its status.</p>\n\n<p>I can not break the structure of the mvvm pattern.</p>\n"}, {"tags": ["c#", "api", "autocad"], "answers": [{"tags": [], "owner": {"reputation": 8184, "user_id": 645, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/26a88898ca6479a9874aed21ddeaf2e8?s=128&d=identicon&r=PG", "display_name": "Joel Lucsy", "link": "https://stackoverflow.com/users/645/joel-lucsy"}, "is_accepted": true, "score": 1, "last_activity_date": 1538079327, "creation_date": 1538079327, "answer_id": 52544500, "question_id": 52525871, "link": "https://stackoverflow.com/questions/52525871/cad-api-programming-cant-save-modifications-by-sendstringtoexecute/52544500#52544500", "title": "CAD API Programming - can&#39;t save modifications by SendStringToExecute", "body": "<p>yes, SendStringToExecute is special. It places the string into a queue which will be executed when AutoCAD goes to fetch input again. This can be when a command you've called needs more input, or what i feel like whats happening in your case, is that it happens after your current command is done.</p>\n\n<p>So, to do what you want, you probably will have to create another command that you can place at the end of your SendStringToExecute that will call the CloseAndSave.</p>\n"}], "owner": {"reputation": 53, "user_id": 9563716, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Gelson Bieber", "link": "https://stackoverflow.com/users/9563716/gelson-bieber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 52544500, "answer_count": 1, "score": 0, "last_activity_date": 1538079327, "creation_date": 1537995108, "last_edit_date": 1538078777, "question_id": 52525871, "link": "https://stackoverflow.com/questions/52525871/cad-api-programming-cant-save-modifications-by-sendstringtoexecute", "title": "CAD API Programming - can&#39;t save modifications by SendStringToExecute", "body": "<p>CAD Masters,\nI have the following code (that is mostly the same in AutoCAD), its used to simply purge the document in AutoCAD/ZWCAD:</p>\n\n<pre><code>Document zcDoc = Application.DocumentManager.Open(FileName, false);\nzcDoc.SendStringToExecute(\"_-PURGE All *\\nNo\\n\", true, false, true);\n</code></pre>\n\n<p>When it executes and I don't close the drawing programmatically, it works like a charm.\nBut if I run it and place a </p>\n\n<pre><code>zcDoc.CloseAndSave(FileName); //As the command says, it saves and close the doc\n</code></pre>\n\n<p>after, it doesn't. If I make some other modifications to the drawing before the CloseAndSave, they get saved, except changes made by .SendStringToExecute(), doesn't matter the string or command I use.</p>\n\n<p>Is there anything special with it?</p>\n"}, {"tags": ["c#", "entity-framework-core", "asp.net-core-webapi", "serilog"], "answers": [{"comments": [{"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1537995060, "post_id": 52525837, "comment_id": 91991539, "body": "Actually, given how it&#39;s being used, you may want to take an IServiceProvider instead so you can pass the GetService call as a delegate."}, {"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1538012298, "post_id": 52525837, "comment_id": 91995974, "body": "I thought that&#39;s what I was doing -- passing GetService call as a delegate.  In my code, I&#39;m passing <code>app.ApplicationServices.GetService&lt;EligibilityDbContext&gt;</code> as a parameter for <code>Func&lt;EligibilityDbContext&gt;</code> in my EntityFrameworkSink Extension method."}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "reply_to_user": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1538013463, "post_id": 52525837, "comment_id": 91996184, "body": "Yes, but you can&#39;t use <code>app.ApplicationServices</code> to resolve a scoped dependency. You should be able to inject an IServiceProvider into the Configure method and use it in the same way, though."}, {"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1538013731, "post_id": 52525837, "comment_id": 91996233, "body": "So I just tried that but now I get an error about not being able to used a disposed object."}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "reply_to_user": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 1, "creation_date": 1538014795, "post_id": 52525837, "comment_id": 91996418, "body": "Hmmm, I guess the services passed to the Configure() call just exist within a scope that lasts for the lifespan of the Configure call, so it&#39;s disposed by the time the logger would actually call it. You could try <code>app.ApplicationServices.CreateScope().ServiceProvider.GetSer&zwnj;&#8203;vice&lt;T&gt;()</code>. That will create a scope for the log provider that isn&#39;t disposed (unless you dispose it), but creating a scope that&#39;s basically a singleton feels dirty."}, {"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1538016229, "post_id": 52525837, "comment_id": 91996680, "body": "So maybe I&#39;m learning why SeriLog doesn&#39;t already provide an &quot;approved&quot; sink for EntityFramework. :)"}, {"owner": {"reputation": 652, "user_id": 578334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f497048b07aaec189f780ca20149e5e7?s=128&d=identicon&r=PG", "display_name": "jokab", "link": "https://stackoverflow.com/users/578334/jokab"}, "edited": false, "score": 0, "creation_date": 1565066400, "post_id": 52525837, "comment_id": 101223465, "body": "@EricDamtoft  <code>app.ApplicationServices.CreateScope().ServiceProvider.GetSer&zwnj;&#8203;vice&lt;T&gt;()</code> worked for me. Thanks!"}], "tags": [], "owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "is_accepted": false, "score": 3, "last_activity_date": 1537994872, "creation_date": 1537994872, "answer_id": 52525837, "question_id": 52525769, "link": "https://stackoverflow.com/questions/52525769/cannot-resolve-scoped-service-from-root-provider-with-custom-ef-core-serilog-s/52525837#52525837", "title": "&quot;Cannot resolve scoped service from root provider&quot; with custom EF Core SeriLog Sink", "body": "<p>When you call <code>app.ApplicationServices.GetService&lt;EligibilityDbContext&gt;</code>, you're directly resolving a <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/dependency-injection?view=aspnetcore-2.1#scope-validation\" rel=\"nofollow noreferrer\">scoped service</a> from the application container which isn't allowed. If you add EligibilityDbContext as a parameter to the Configure method, it will generate a scope and inject the context into your method.</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, ..., EligibilityDbContext context)\n{\n  // ... use context\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1538078759, "post_id": 52529348, "comment_id": 92028544, "body": "Can you explain why using PeriodicBatchingSync would work better than ILogEventSink in this case?  I&#39;m having difficulty understanding why this would make a difference."}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "reply_to_user": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1538097782, "post_id": 52529348, "comment_id": 92033615, "body": "@RHarris For implementating <code>ILogEventSink</code> directly, it will be sync operation and will open new connection while writing logs which might block the application and sql connection. For <code>PeriodicBatchingSink</code>, <code>EmitBatchAsync</code> will be async and will submit the logs in batch."}], "tags": [], "owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "is_accepted": true, "score": 0, "last_activity_date": 1538021594, "creation_date": 1538021594, "answer_id": 52529348, "question_id": 52525769, "link": "https://stackoverflow.com/questions/52525769/cannot-resolve-scoped-service-from-root-provider-with-custom-ef-core-serilog-s/52529348#52529348", "title": "&quot;Cannot resolve scoped service from root provider&quot; with custom EF Core SeriLog Sink", "body": "<p>For using <code>Serilog</code> with <code>EF Core</code>, you may need to implement <code>PeriodicBatchingSink</code> instead of <code>ILogEventSink</code>.         </p>\n\n<p>Follow steps below:      </p>\n\n<ol>\n<li>Install package <code>Serilog.Sinks.PeriodicBatching</code></li>\n<li><p><code>EntityFrameworkCoreSinkExtensions</code></p>\n\n<pre><code>public static class EntityFrameworkCoreSinkExtensions\n{\npublic static LoggerConfiguration EntityFrameworkCoreSink(\n          this LoggerSinkConfiguration loggerConfiguration,\n          IServiceProvider serviceProvider,\n          IFormatProvider formatProvider = null)\n{\n    return loggerConfiguration.Sink(new EntityFrameworkCoreSink(serviceProvider, formatProvider, 10 , TimeSpan.FromSeconds(10)));\n}\n}\n</code></pre></li>\n<li><p><code>EntityFrameworkCoreSink</code></p>\n\n<pre><code>   public class EntityFrameworkCoreSink : PeriodicBatchingSink\n   {\nprivate readonly IFormatProvider _formatProvider;\nprivate readonly IServiceProvider _serviceProvider;\nprivate readonly JsonFormatter _jsonFormatter;\nstatic readonly object _lock = new object();\n\npublic EntityFrameworkCoreSink(IServiceProvider serviceProvider, IFormatProvider formatProvider, int batchSizeLimit, TimeSpan period):base(batchSizeLimit, period)\n{\n    this._formatProvider = formatProvider;\n    this._serviceProvider = serviceProvider;\n    this._jsonFormatter = new JsonFormatter(formatProvider: formatProvider);\n}\n\nprotected override async Task EmitBatchAsync(IEnumerable&lt;LogEvent&gt; events)\n{\n    using (var context = _serviceProvider.CreateScope().ServiceProvider.GetRequiredService&lt;ApplicationDbContext&gt;())\n    {\n        if (context != null)\n        {\n            foreach (var logEvent in events)\n            {\n                var log = this.ConvertLogEventToLogRecord(logEvent);\n                await context.AddAsync(log);\n            }\n            await context.SaveChangesAsync();\n        }\n    }\n}\n\nprivate LogRecord ConvertLogEventToLogRecord(LogEvent logEvent)\n{\n    if (logEvent == null)\n    {\n        return null;\n    }\n\n    string json = this.ConvertLogEventToJson(logEvent);\n\n    JObject jObject = JObject.Parse(json);\n    JToken properties = jObject[\"Properties\"];\n\n    return new LogRecord\n    {\n        Exception = logEvent.Exception?.ToString(),\n        Level = logEvent.Level.ToString(),\n        LogEvent = json,\n        Message = this._formatProvider == null ? null : logEvent.RenderMessage(this._formatProvider),\n        MessageTemplate = logEvent.MessageTemplate?.ToString(),\n        TimeStamp = logEvent.Timestamp.DateTime.ToUniversalTime(),\n        EventId = (int?)properties[\"EventId\"]?[\"Id\"],\n        SourceContext = (string)properties[\"SourceContext\"],\n        ActionId = (string)properties[\"ActionId\"],\n        ActionName = (string)properties[\"ActionName\"],\n        RequestId = (string)properties[\"RequestId\"],\n        RequestPath = (string)properties[\"RequestPath\"]\n    };\n}\n\nprivate string ConvertLogEventToJson(LogEvent logEvent)\n{\n    if (logEvent == null)\n    {\n        return null;\n    }\n\n    StringBuilder sb = new StringBuilder();\n    using (StringWriter writer = new StringWriter(sb))\n    {\n        this._jsonFormatter.Format(logEvent, writer);\n    }\n\n    return sb.ToString();\n}\n}\n</code></pre></li>\n<li><p><code>Startup</code>     </p>\n\n<pre><code>    public void Configure(IApplicationBuilder app, IHostingEnvironment env, ILoggerFactory loggerFactory)\n{\n    Log.Logger = new LoggerConfiguration()\n                        .WriteTo.EntityFrameworkCoreSink(app.ApplicationServices)\n                        .CreateLogger();\n    loggerFactory.AddSerilog();\n</code></pre>\n\n<p>Source Code:<a href=\"https://github.com/Edward-Zhou/AspNetCore/blob/master/SerilogPro/StartupEFCore.cs\" rel=\"nofollow noreferrer\">StartupEFCore</a>        </p></li>\n</ol>\n"}], "owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4470, "favorite_count": 0, "accepted_answer_id": 52529348, "answer_count": 2, "score": 2, "last_activity_date": 1538392233, "creation_date": 1537994569, "last_edit_date": 1538392233, "question_id": 52525769, "link": "https://stackoverflow.com/questions/52525769/cannot-resolve-scoped-service-from-root-provider-with-custom-ef-core-serilog-s", "title": "&quot;Cannot resolve scoped service from root provider&quot; with custom EF Core SeriLog Sink", "body": "<p>I'm trying to create a custom SeriLog sink that ties to EntityFrameworkCore.  I found an existing one called <a href=\"https://github.com/vincentgury/Serilog.Sinks.EntityFrameworkCore\" rel=\"nofollow noreferrer\">Serilog.Sinks.EntityFrameworkCore</a> but it used its own DbContext and I need to be able to use an existing DbContext.</p>\n\n<p>So, I basically created my own version of the code that works with my DbContext.  However, every time the Emit method gets called and it tries to load the DbContext, I get the following error:</p>\n\n<p><code>Cannot resolve scoped service ... from root provider</code></p>\n\n<p>I have seen other posts regarding this issue that involve scoped services and middleware.  However, I don't believe that what I've got is middleware.</p>\n\n<p>In a nutshell, here are the core pieces of my code (again, most of which is copied from the previously mentioned Git Repo).</p>\n\n<p><strong>startup.cs</strong></p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n   services.AddDbContext&lt;EligibilityDbContext&gt;(opts =&gt; opts.UseSqlServer(Configuration.GetConnectionString(\"EligibilityDbConnection\")));\n}\n\npublic void Configure(IApplicationBuilder app,\n                      IHostingEnvironment env, \n                      SystemModelBuilder modelBuilder, \n                      ILoggerFactory loggerFactory)\n{\n   Log.Logger = new LoggerConfiguration()\n       .WriteTo.EntityFrameworkSink(app.ApplicationServices.GetService&lt;EligibilityDbContext&gt;)\n.CreateLogger();\n\nloggerFactory.AddSeriLog();\n}\n</code></pre>\n\n<p><strong>EntityFrameworkSinkExtensions.cs</strong></p>\n\n<pre><code>public static class EntityFrameworkSinkExtensions\n{\n    public static LoggerConfiguration EntityFrameworkSink(\n        this LoggerSinkConfiguration loggerConfiguration,\n        Func&lt;EligibilityDbContext&gt; dbContextProvider,\n        IFormatProvider formatProvider = null) \n    {\n        return loggerConfiguration.Sink(new EntityFrameworkSink(dbContextProvider, formatProvider));\n    }\n}\n</code></pre>\n\n<p><strong>EntityFrameworkSink.cs</strong></p>\n\n<pre><code>public class EntityFrameworkSink : ILogEventSink\n{\n    private readonly IFormatProvider _formatProvider;\n    private readonly Func&lt;EligibilityDbContext&gt; _dbContextProvider;\n    private readonly JsonFormatter _jsonFormatter;\n    static readonly object _lock = new object();\n\n    public EntityFrameworkSink(Func&lt;EligibilityDbContext&gt; dbContextProvider, IFormatProvider formatProvider)\n    {\n        _formatProvider = formatProvider;\n        _dbContextProvider = dbContextProvider ?? throw new ArgumentNullException(nameof(dbContextProvider));\n        _jsonFormatter = new JsonFormatter(formatProvider: formatProvider);\n    }\n\n    public void Emit(LogEvent logEvent)\n    {\n        lock (_lock)\n        {\n            if (logEvent == null)\n            {\n                return;\n            }\n\n            try\n            {\n                var record = ConvertLogEventToLogRecord(logEvent);\n\n                //! This is the line causing the problems!\n                DbContext context = _dbContextProvider.Invoke();\n\n                if (context != null)\n                {\n                    context.Set&lt;LogRecord&gt;().Add(this.ConvertLogEventToLogRecord(logEvent));\n\n                    context.SaveChanges();\n                }\n            }\n            catch(Exception ex)\n            {\n                // ignored\n            }\n        }\n    }\n\n    private LogRecord ConvertLogEventToLogRecord(LogEvent logEvent)\n    {\n        if (logEvent == null)\n            return null;\n\n        string json = this.ConvertLogEventToJson(logEvent);\n\n        JObject jObject = JObject.Parse(json);\n        JToken properties = jObject[\"Properties\"];\n\n        return new LogRecord\n        {\n            Exception = logEvent.Exception?.ToString(),\n            Level = logEvent.Level.ToString(),\n            LogEvent = json,\n            Message = logEvent.RenderMessage(this._formatProvider),\n            MessageTemplate = logEvent.MessageTemplate?.ToString(),\n            TimeStamp = logEvent.Timestamp.DateTime.ToUniversalTime(),\n            EventId = (int?)properties[\"EventId\"]?[\"Id\"],\n            SourceContext = (string)properties[\"SourceContext\"],\n            ActionId = (string)properties[\"ActionId\"],\n            ActionName = (string)properties[\"ActionName\"],\n            RequestId = (string)properties[\"RequestId\"],\n            RequestPath = (string)properties[\"RequestPath\"]\n        };\n    }\n\n    private string ConvertLogEventToJson(LogEvent logEvent)\n    {\n        if (logEvent == null)\n        {\n            return null;\n        }\n\n        StringBuilder sb = new StringBuilder();\n        using (StringWriter writer = new StringWriter(sb))\n        {\n            this._jsonFormatter.Format(logEvent, writer);\n        }\n\n        return sb.ToString();\n    }\n}\n</code></pre>\n\n<p>The error occurs in EntityFrameworkSink.cs on the line <code>DbContext context = _dbContextProvider.Invoke();</code></p>\n\n<p>Any thoughts on why this is throwing an error and how to get this working?</p>\n\n<p><strong>Update</strong></p>\n\n<p>Based on Eric's comments, I updated my startup.cs code as follows:</p>\n\n<pre><code>public void Configure(IApplicationBuilder app, IHostingEnvironment env, SystemModelBuilder modelBuilder, ILoggerFactory loggerFactory, IServiceProvider provider)\n{\n   Log.Logger = new LoggerConfiguration()\n      .WriteTo.EntityFrameworkSink(provider.GetService&lt;EligibilityDbContext&gt;)\n      .CreateLogger();\n}\n</code></pre>\n\n<p>Now I get the error: <code>Cannot access a disposed object. Object name: IServiceProvider</code></p>\n\n<p><strong>Caveat To Answer</strong></p>\n\n<p>So I marked Tao Zhou's answer as the answer.  However, it was not what he said but the code he provided that actually provided the answer.  I don't believe that <code>EmitBatchAsync</code> will actually resolve what my issue was -- however, I've run across a couple other comments, etc. elsewhere that indicate that it may help improve performance.</p>\n\n<p>What actually resolved the problem was following his code sample.  In startup, he is passing <code>app.ApplicationServices</code>.  Then, in the actual Sink implementation, he created a scope for resolving an instance of the dbContext:</p>\n\n<pre><code>using(var context = service.CreateScope().ServiceProvider.GetRequiredService&lt;EligibilityDbContext&gt;())\n{\n}\n</code></pre>\n\n<p>This actually resolved all the errors I was getting and got this working the way I had expected.  Thanks </p>\n"}, {"tags": ["c#", "smtp", "office365", "exchange-server", "icalendar"], "comments": [{"owner": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 1, "creation_date": 1537995847, "post_id": 52525653, "comment_id": 91991840, "body": "Did you include the ICS data as <code>text&#47;calendar</code>? See <a href=\"https://stackoverflow.com/a/462096/3608792\">stackoverflow.com/a/462096/3608792</a>"}, {"owner": {"reputation": 43, "user_id": 8747711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac67bbf2f947b556c38bd87454f8a75b?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Zelaray&#225;n", "link": "https://stackoverflow.com/users/8747711/mario-zelaray%c3%a1n"}, "reply_to_user": {"reputation": 3599, "user_id": 3608792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AeAON.jpg?s=128&g=1", "display_name": "Dan Wilson", "link": "https://stackoverflow.com/users/3608792/dan-wilson"}, "edited": false, "score": 0, "creation_date": 1538054060, "post_id": 52525653, "comment_id": 92015039, "body": "Yes, that was included, but there was something missing in the header. Alina solved it below."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 8747711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac67bbf2f947b556c38bd87454f8a75b?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Zelaray&#225;n", "link": "https://stackoverflow.com/users/8747711/mario-zelaray%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1538054291, "post_id": 52531275, "comment_id": 92015202, "body": "That was it! There was something missing in the header. Thanks! I updated the question with the finished code snippet."}], "tags": [], "owner": {"reputation": 828, "user_id": 10252988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/047bac7a125b9725dc9a257f8f0e0266?s=128&d=identicon&r=PG&f=1", "display_name": "Alina Li", "link": "https://stackoverflow.com/users/10252988/alina-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1538031750, "creation_date": 1538031750, "answer_id": 52531275, "question_id": 52525653, "link": "https://stackoverflow.com/questions/52525653/send-meeting-request-to-exchange-online-room-mailbox/52531275#52531275", "title": "Send meeting request to Exchange Online room mailbox", "body": "<p>Exchange could recognize ICS files, You could missing the iTIP method, both in the content-type:</p>\n\n<pre><code>Content \u2013 Type: text/plain; charset=\u201dutf-8\u201d; method=REQUEST\nname=myCalendar.ics \nContent-Disposition: attachment; \nfilename=myCalendar.ics\n</code></pre>\n\n<p>You could reference this link:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19523861/multipart-email-with-text-and-calendar-outlook-doesnt-recognize-ics\">Multipart email with text and calendar: Outlook doesn't recognize ICS</a></p>\n"}], "owner": {"reputation": 43, "user_id": 8747711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac67bbf2f947b556c38bd87454f8a75b?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Zelaray&#225;n", "link": "https://stackoverflow.com/users/8747711/mario-zelaray%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 52531275, "answer_count": 1, "score": 1, "last_activity_date": 1538054491, "creation_date": 1537993953, "last_edit_date": 1538054491, "question_id": 52525653, "link": "https://stackoverflow.com/questions/52525653/send-meeting-request-to-exchange-online-room-mailbox", "title": "Send meeting request to Exchange Online room mailbox", "body": "<p>I'm working on a C# WebApi project that requires booking Exchange Online room mailboxes without user interaction.</p>\n\n<p>I noticed when you create a new calendar event in Office 365, it sends messages with .ICS files to unknown domains, but for any Outlook email address it sends a message without attachment, that is recognized as an event invitation anyway. It also sends invitations to room mailboxes if you specify a location, and Exchange automatically accepts them if there aren't conflicts. I need to replicate the same behavior using SMTP in C#.</p>\n\n<p>I tried sending an ICS file as attachment to the room mailbox, but the message is simply ignored. Exchange doesn't seem to recognize these files as event requests. If I open the room mailbox, there aren't any buttons to accept or decline the invitation, but I can see the attachment, and can select \"Add to calendar\". I need to make Exchange accept the request automatically.</p>\n\n<p>After doing some research, I found a few ways to schedule meetings in C#. One is using Exchange Web Services Managed API, but I've heard it will be deprecated in a couple of years, so I can't use it. There are other options like using Graph, but they have a complex authentication system that requires user interaction to set the credentials. I need to do this, if possible, using SMTP, or some other method with plain username and password authentication.</p>\n\n<p>Do anyone knows why Exchange doesn't recognize ICS files, and if there's any other way to do this with SMTP?</p>\n\n<p>EDIT: Solved. This is the finished code in C#, if anyone is interested:</p>\n\n<pre><code>var calendarBytes = Encoding.UTF8.GetBytes(sb.ToString());\nMemoryStream ms = new MemoryStream(calendarBytes);\nvar ct = new ContentType() { MediaType = \"text/calendar\", CharSet = \"utf-8\" , Name = \"Part_3.ics\" };\nct.Parameters.Add(\"method\", \"REQUEST\");\nAttachment attachment = new Attachment(ms, ct);\nattachment.ContentDisposition.DispositionType = DispositionTypeNames.Attachment;\nattachment.ContentDisposition.FileName = \"Part_3.ics\";\nmessage.Attachments.Add(attachment);\n</code></pre>\n"}, {"tags": ["c#", "design-patterns"], "comments": [{"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 1, "creation_date": 1537994547, "post_id": 52525628, "comment_id": 91991322, "body": "Static dictionary Add(&quot;AbC&quot;, &quot;valid1&quot;), for example. Concatenate input strings and then return result of lookup"}, {"owner": {"reputation": 1367, "user_id": 1145403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1629c0fc5e79d12ea851edf379921362?s=128&d=identicon&r=PG", "display_name": "Lennart Stoop", "link": "https://stackoverflow.com/users/1145403/lennart-stoop"}, "edited": false, "score": 0, "creation_date": 1537995578, "post_id": 52525628, "comment_id": 91991732, "body": "Since your question is also tagged design patterns, I would suggest reading up on strategy pattern as well. In most cases a simple lookup should suffice though"}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "reply_to_user": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1537996530, "post_id": 52525628, "comment_id": 91992051, "body": "@zzxyz That doesn&#39;t handle blank values very well."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "reply_to_user": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537996953, "post_id": 52525628, "comment_id": 91992199, "body": "@mjwills - yeah, concatenating the strings is a bad idea if they aren&#39;t all single character values.  I assumed..."}], "answers": [{"comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1537994831, "post_id": 52525770, "comment_id": 91991441, "body": "This is only valid if all of the strings are single characters, which isn&#39;t necessarily the case in the real data."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1537994855, "post_id": 52525770, "comment_id": 91991457, "body": "@Servy If I tried to code for every case, I&#39;d never have a sufficient answer.  I used the data that the OP provided."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1537994895, "post_id": 52525770, "comment_id": 91991476, "body": "You can, and should, write the code to work for any valid data, rather than only writing a solution that works for one example provided and fails in all sorts of others.  You absolutely can solve this problem when the values can be any type of string.  After all, the code in the question does so."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1537994937, "post_id": 52525770, "comment_id": 91991490, "body": "@Servy Did you read the question?  The class definition is there.  You&#39;re being pedantic."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1537994969, "post_id": 52525770, "comment_id": 91991500, "body": "Yes, I did read the question.  Where in the question does it say that all of the string values are always one character long?  If you consider &quot;writing a program that produces valid output&quot; pedantic, then I guess I&#39;m pedantic.  The alternative is writing a program that doesn&#39;t work."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 1, "creation_date": 1537995250, "post_id": 52525770, "comment_id": 91991608, "body": "The dictionary approach may throw a <code>KeyNotFoundException</code>."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1537995251, "post_id": 52525770, "comment_id": 91991609, "body": "Do you read what I&#39;ve written because it will work with any size of string @Servy"}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1537995326, "post_id": 52525770, "comment_id": 91991635, "body": "@Xiaoy312 Thanks for the pointer.  I&#39;m used to scripting languages where I&#39;d just get null instead."}, {"owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "edited": false, "score": 0, "creation_date": 1537995369, "post_id": 52525770, "comment_id": 91991651, "body": "@TheIncorrigible1 how would the code differentiates between (&quot;abc&quot;, &quot;&quot;, &quot;&quot;) and (&quot;ab&quot;, &quot;&quot;, &quot;c&quot;)?"}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1537995376, "post_id": 52525770, "comment_id": 91991654, "body": "@TheIncorrigible1 No, it will not.  Not every unique combination of strings produces a unique string when concatenated together.  &quot;AA, &quot;A&quot;, &quot;A, and &quot;A&quot;, &quot;AA&quot;, &quot;A&quot; both produce the same concatenated string, despite being different collections of strings.  There are innumerable such combinations of collections of strings that produce the same value, despite being different collections of strings."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 0, "creation_date": 1537995449, "post_id": 52525770, "comment_id": 91991678, "body": "@Servy That is a different argument than you had before.  Yes, if they depend on all of the values being evaluated separately, my solution does not work to their need, but I made my solution according to their question."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1537995642, "post_id": 52525770, "comment_id": 91991754, "body": "@TheIncorrigible1 No, it&#39;s not a different argument.  I stated that your solution provides the wrong value for possible valid inputs, and you said that you didn&#39;t care because the one example provided in the question works, and that&#39;s all that matters, according to you.  The question asks to provide a given output for a given combination of three strings, not to provide a given output for a given single string, as you have done.  The two are different.  Your solution doesn&#39;t answer the question asked."}, {"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 0, "creation_date": 1537996718, "post_id": 52525770, "comment_id": 91992114, "body": "<code>I&#39;m used to scripting languages where I&#39;d just get null instead.</code> Consider using <code>TryGetValue</code>."}, {"owner": {"reputation": 21, "user_id": 6307521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae223378c54574e1626bce31a851e26?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/6307521/leonardo"}, "edited": false, "score": 0, "creation_date": 1538058846, "post_id": 52525770, "comment_id": 92018431, "body": "the approach is good but a part of it was not made clearly which is sinister syntax error"}], "tags": [], "owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "is_accepted": false, "score": 0, "last_activity_date": 1537994574, "creation_date": 1537994574, "answer_id": 52525770, "question_id": 52525628, "link": "https://stackoverflow.com/questions/52525628/conditional-ifs-for-multiple-return-cases/52525770#52525770", "title": "conditional ifs for multiple return cases", "body": "<p>I'd <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/switch#constant-pattern\" rel=\"nofollow noreferrer\">use a switch statement</a>:</p>\n\n<pre><code>public string RideCombination(ReturnParameter retor)\n{\n    switch ($\"{retor.v1}{retor.v2}{retor.v3}\")\n    {\n        case \"AbC\":\n            return \"valid 1 \";\n        case \"CAC\":\n            return \"valid 2 \";\n        case \"DTC\":\n            return \"valid 3 \";\n        case \"ABC\":\n            return \"valid 4 \";\n        default:\n            return \"no match!\";\n    }\n}\n</code></pre>\n\n<p>or <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.generic.dictionary-2?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">a Dictionary</a> for constant-time lookup:</p>\n\n<pre><code>Dictionary&lt;string, string&gt; lookup = new Dictionary&lt;string, string&gt;\n{\n    { \"AbC\", \"valid 1 \"},\n    { \"CAC\", \"valid 2 \"},\n    { \"DTC\", \"valid 3 \"},\n    { \"ABC\", \"valid 4 \"}\n};\nreturn lookup[$\"{retor.v1}{retor.v2}{retor.v3}\"];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13234, "user_id": 561113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af8b050fcc50ffb8de47e6704660aa98?s=128&d=identicon&r=PG", "display_name": "Xiaoy312", "link": "https://stackoverflow.com/users/561113/xiaoy312"}, "is_accepted": true, "score": 5, "last_activity_date": 1537995139, "creation_date": 1537995139, "answer_id": 52525881, "question_id": 52525628, "link": "https://stackoverflow.com/questions/52525628/conditional-ifs-for-multiple-return-cases/52525881#52525881", "title": "conditional ifs for multiple return cases", "body": "<p>You can use a dictionary of values tuple and return value:</p>\n\n<pre><code>var mapping = new Dictionary&lt;(string, string, string), string&gt;\n{\n    [(\"A\", \"b\", \"C\")] = \"valid 1\",\n    // ...\n};\n\nif (mapping.TryGetValue((retor.v1, retor.v2, retor.v3), out var result))\n{\n    return result;\n}\nelse\n{\n    // when none match...\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6307521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae223378c54574e1626bce31a851e26?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo", "link": "https://stackoverflow.com/users/6307521/leonardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 52525881, "answer_count": 2, "score": 1, "last_activity_date": 1537995332, "creation_date": 1537993821, "question_id": 52525628, "link": "https://stackoverflow.com/questions/52525628/conditional-ifs-for-multiple-return-cases", "title": "conditional ifs for multiple return cases", "body": "<p>I have the following condition a class and a method</p>\n\n<pre><code>public class ReturnParameter\n   {\n      public string v1 {get; set;} \n      public string v2 {get; set;} \n      public string v3 {get; set;} \n   }\n\n\n  public string RideCombination(ReturnParameter retor)\n  {\n     var v1 =  retor.v1;\n     var v2 =  retor.v2;\n     var v3 =  retor.v3;\n\n\n     // case 1\n     if(v1 == \"A\" &amp;&amp; v2 == \"b\" &amp;&amp; v3 == \"C\" ) \n       return  \"valid 1 \"\n\n     // case 2\n     if(v1 == \"C\" &amp;&amp; v2 == \"A\" &amp;&amp; v3 == \"C\" ) \n       return  \"valid 2 \"\n\n    // case 3\n     if(v1 == \"D\" &amp;&amp; v2 == \"T\" &amp;&amp; v3 == \"C\" ) \n       return  \"valid 3 \"\n\n   // case 4\n     if(v1 == \"A\" &amp;&amp; v2 == \"B\" &amp;&amp; v3 == \"C\" ) \n       return  \"valid 4 \"\n\n  }\n</code></pre>\n\n<p>suppose I have 20 conditions I will have to 20 ifs to return 20 different combinations, is there any way I can eliminate multiple conditions without having to do one by one?</p>\n"}, {"tags": ["c#", "task-parallel-library"], "comments": [{"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "edited": false, "score": 1, "creation_date": 1537993965, "post_id": 52525603, "comment_id": 91991099, "body": "That&#39;s what <code>Task.WhenAll</code> already does.  It takes an arbitrary number of tasks, and returns the results for all of them."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1538044345, "post_id": 52525603, "comment_id": 92009000, "body": "You don&#39;t need this method in the first place. When <code>await Task.WhenAll()</code> returns <i>all</i> tasks are already finished. You can get their results with <code>.Result</code>. No need to create a new state machine with <code>await task1</code>, In fact, using tuple notation would result in a lot less code than what you typed here"}], "answers": [{"comments": [{"owner": {"reputation": 2209, "user_id": 306724, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/0a386776a37879a2f04ffa5e9bd93c98?s=128&d=identicon&r=PG", "display_name": "Alexey Ryazhskikh", "link": "https://stackoverflow.com/users/306724/alexey-ryazhskikh"}, "edited": false, "score": 0, "creation_date": 1537995701, "post_id": 52525727, "comment_id": 91991775, "body": "Thanks for the answer. Could you explain why return (await task1, await task2, await task3); works exactly like await Task.WhenAll(task1, task2, task3); I thought  return (await task1, await task2, await task3);   should be the same as  await task1;  await task2;  await task3;   May be you can give me some directions where I can check it."}, {"owner": {"reputation": 193178, "user_id": 1159478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdc1819fb4534da6c044b03b7ec38fe?s=128&d=identicon&r=PG", "display_name": "Servy", "link": "https://stackoverflow.com/users/1159478/servy"}, "reply_to_user": {"reputation": 2209, "user_id": 306724, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/0a386776a37879a2f04ffa5e9bd93c98?s=128&d=identicon&r=PG", "display_name": "Alexey Ryazhskikh", "link": "https://stackoverflow.com/users/306724/alexey-ryazhskikh"}, "edited": false, "score": 0, "creation_date": 1537995916, "post_id": 52525727, "comment_id": 91991865, "body": "@AlexeyRyazhskikh Why wouldn&#39;t it be the same?  What&#39;s the difference between waiting for all three tasks to complete, versus waiting for the first, then the second, then the third, to complete?"}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1537995948, "post_id": 52525727, "comment_id": 91991874, "body": "<code>return (await task1, await task2)</code> is exactly the same as <code>var result1 = await task1; var result2 = await task2;</code> it&#39;s just somewhat more concise. The tasks are all already started before they are handed to your method, so they&#39;re all running concurrently already, so just awaiting each one is enough. The method will return once the last one is completed."}, {"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 1, "creation_date": 1538002921, "post_id": 52525727, "comment_id": 91993906, "body": "Yes but WhenAll will handle propagation of exceptions differently. If both methods throw an exception, WhenAll will give you the aggregate of both. Awaiting them serially, you&#39;d only ever know the first task threw. But if that&#39;s not important to you..."}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1538003484, "post_id": 52525727, "comment_id": 91994050, "body": "That&#39;s true, I didn&#39;t think about that. Maybe <code>await Task.WhenAll(...)</code> and then just call <code>return (task1.Result, task2.Result)</code> to avoid the multiple awaits."}, {"owner": {"reputation": 88791, "user_id": 134204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vwnA5.jpg?s=128&g=1", "display_name": "Panagiotis Kanavos", "link": "https://stackoverflow.com/users/134204/panagiotis-kanavos"}, "edited": false, "score": 0, "creation_date": 1538044516, "post_id": 52525727, "comment_id": 92009108, "body": "These functions don&#39;t work like <code>Task.WhenAll()</code>. <code>WhenAll()</code> does <i>not</i> wait for tasks in turn, nor does it <i>throw</i> in turn, if one of them fails. The way those functions are written if <code>task2</code> fails execution will have to wait until <code>task1</code> completes before throwing"}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1538051649, "post_id": 52525727, "comment_id": 92013550, "body": "Edited answer to add <code>await Task.WhenAll(...)</code>"}], "tags": [], "owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "is_accepted": true, "score": 3, "last_activity_date": 1538051595, "last_edit_date": 1538051595, "creation_date": 1537994327, "answer_id": 52525727, "question_id": 52525603, "link": "https://stackoverflow.com/questions/52525603/universal-method-to-get-results-from-task-whenall/52525727#52525727", "title": "Universal method to get results from Task.WhenAll", "body": "<p>Unfortunately, there's no way to have a variable number of generic type arguments. Intances like <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.action-16?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Action</a> and <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.tuple-8?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">Tuple</a> have separate definitions for up to 8 or so generics.</p>\n\n<p>Supporting arbitrary lengths of generics would be a major change to the language.</p>\n\n<p>I.E.</p>\n\n<pre><code>public static async Task&lt;(T1, T2)&gt; WhenAll&lt;T1, T2&gt;(Task&lt;T1&gt; task1, Task&lt;T2&gt; task2)\n{\n  await Task.WhenAll(task1, task2);\n  return (task1.Result, task2.Result);\n}\n\npublic static async Task&lt;(T1, T2, T3)&gt; WhenAll&lt;T1, T2, T3&gt;(Task&lt;T1&gt; task1, Task&lt;T2&gt; task2, Task&lt;T3&gt; task3)\n{\n  await Task.WhenAll(task1, task2, task3);\n  return (task1.Result, task2.Result, task3.Result);\n}\n\n... etc for how ever many generics you want to support\n</code></pre>\n"}], "owner": {"reputation": 2209, "user_id": 306724, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/0a386776a37879a2f04ffa5e9bd93c98?s=128&d=identicon&r=PG", "display_name": "Alexey Ryazhskikh", "link": "https://stackoverflow.com/users/306724/alexey-ryazhskikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 52525727, "answer_count": 1, "score": 1, "last_activity_date": 1538051595, "creation_date": 1537993721, "question_id": 52525603, "link": "https://stackoverflow.com/questions/52525603/universal-method-to-get-results-from-task-whenall", "title": "Universal method to get results from Task.WhenAll", "body": "<p>I want to do multiple non-linked results to a database so I'm using Task.WhenAll to get data. I have helper method:</p>\n\n<pre><code>public static async Task&lt;(T1, T2)&gt; WhenAll&lt;T1, T2&gt;(Task&lt;T1&gt; task1, Task&lt;T2&gt; task2)\n{\n     await Task.WhenAll(task1, task2);\n     var result1 = await task1;\n     var result2 = await task2;\n     return (result1, result2);\n }\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>var (profile, roles) = await AsyncUtils.WhenAll(\n    _repository.GetUserProfile(userId),\n    _repository.GetUserRoles(userId)\n);\n</code></pre>\n\n<p>Is it possible to rewrite this method universal for receiving 3, 4, 5 arguments? </p>\n"}, {"tags": ["c#", "xamarin", "xamarin.forms", "xamarin.ios"], "answers": [{"comments": [{"owner": {"reputation": 1256, "user_id": 6936682, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/64c880364a7630596f6052d1bd005d01?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe Christensen", "link": "https://stackoverflow.com/users/6936682/jeppe-christensen"}, "edited": false, "score": 0, "creation_date": 1537995903, "post_id": 52525768, "comment_id": 91991861, "body": "It returns a null reference though when I release the button. (It reside in a modal View)"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "reply_to_user": {"reputation": 1256, "user_id": 6936682, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/64c880364a7630596f6052d1bd005d01?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe Christensen", "link": "https://stackoverflow.com/users/6936682/jeppe-christensen"}, "edited": false, "score": 0, "creation_date": 1537997327, "post_id": 52525768, "comment_id": 91992344, "body": "@JeppeChristensen I am not sure what you mean by that... is the View/VisualElement still valid? (not disposed/GC/...?)"}, {"owner": {"reputation": 1256, "user_id": 6936682, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/64c880364a7630596f6052d1bd005d01?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe Christensen", "link": "https://stackoverflow.com/users/6936682/jeppe-christensen"}, "edited": false, "score": 0, "creation_date": 1537997495, "post_id": 52525768, "comment_id": 91992399, "body": "I haven&#39;t used dispose anywhere. Might I do that?"}], "tags": [], "owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "is_accepted": true, "score": 1, "last_activity_date": 1537994556, "last_edit_date": 1592644375, "creation_date": 1537994556, "answer_id": 52525768, "question_id": 52525563, "link": "https://stackoverflow.com/questions/52525563/how-to-access-bindableproperty-in-pcl-renderer-from-ios-customrenderer/52525768#52525768", "title": "How to access BindableProperty in PCL renderer from iOS customrenderer", "body": "<blockquote>\n<p>//HERE IS MY PROBLEM</p>\n<p>var _highlightBackgroundColor = Element.HighlightedBackgroundColor.ToUIColor();</p>\n</blockquote>\n<p>Directly using <code>Element</code> is the base of your renderer (<code>VisualElementRenderer&lt;TElement&gt;</code>) so in order to access any custom properties on your subclass, just cast it (<code>BtnRenderer</code> in this case):</p>\n<pre><code>var _highlightBackgroundColor = (Element as BtnRenderer).HighlightedBackgroundColor.ToUIColor();\n</code></pre>\n"}], "owner": {"reputation": 1256, "user_id": 6936682, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/64c880364a7630596f6052d1bd005d01?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe Christensen", "link": "https://stackoverflow.com/users/6936682/jeppe-christensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 52525768, "answer_count": 1, "score": 1, "last_activity_date": 1537994556, "creation_date": 1537993548, "question_id": 52525563, "link": "https://stackoverflow.com/questions/52525563/how-to-access-bindableproperty-in-pcl-renderer-from-ios-customrenderer", "title": "How to access BindableProperty in PCL renderer from iOS customrenderer", "body": "<p>Im trying to access my bindable property for a custom button that I attempt to code a renderer for. First here is my PCL renderer: </p>\n\n<pre><code>public class BtnRenderer : Button\n{\n\n    public static readonly BindableProperty HighLightProperty = BindableProperty.Create(nameof(HighlightedBackgroundColor), typeof(Color), typeof(BtnRenderer), default(Color));\n\n    public Color HighlightedBackgroundColor\n    {\n        get\n        {\n            return (Color)GetValue(HighLightProperty);\n        }\n        set\n        {\n            SetValue(HighLightProperty, value);\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see, I intend to set a <code>HighlightedBackgroundColor</code> from XAML, However, I don't know how to access it in my iOS renderer, what I have is: </p>\n\n<pre><code>[assembly: ExportRenderer(typeof(BtnRenderer), typeof(BtnRendereriOS))]\nnamespace BluetoothExample.iOS\n{\n    public class BtnRendereriOS : ButtonRenderer\n    {\n\n        protected override void OnElementChanged(ElementChangedEventArgs&lt;Button&gt; e)\n        {\n            base.OnElementChanged(e);\n\n            if (Control != null)\n            {\n                var normalBackgroundColor = Element.BackgroundColor.ToUIColor();\n                var _highlightBackgroundColor = Element.HighlightedBackgroundColor.ToUIColor(); //HERE IS MY PROBLEM\n\n            async Task NormalColorState(UIButton button)\n            {\n                await UIView.TransitionNotifyAsync(button, .25, UIViewAnimationOptions.TransitionCrossDissolve, () =&gt;\n                {\n                    button.BackgroundColor = normalBackgroundColor;\n                });\n            }\n            Control.TouchDown += async (object sender, EventArgs c) =&gt;\n            {\n                var button = sender as UIButton;\n                await UIView.TransitionNotifyAsync(button, .25, UIViewAnimationOptions.TransitionCrossDissolve, () =&gt;\n                {\n                    button.BackgroundColor = _highlightBackgroundColor;\n                });\n            };\n        }\n    }\n}\n</code></pre>\n\n<p>How do I access this property correctly?</p>\n"}, {"tags": ["c#", "sql-server", "dispose", "idisposable", "sqlconnection"], "comments": [{"owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "edited": false, "score": 0, "creation_date": 1537993544, "post_id": 52525428, "comment_id": 91990908, "body": "What kind of data are your trying to read? Can it be stored in a list or dictionary?"}, {"owner": {"reputation": 2412, "user_id": 735496, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c182316699e6565294a7b9857f00d4b7?s=128&d=identicon&r=PG", "display_name": "micahhoover", "link": "https://stackoverflow.com/users/735496/micahhoover"}, "reply_to_user": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "edited": false, "score": 0, "creation_date": 1537993647, "post_id": 52525428, "comment_id": 91990961, "body": "@KevinK.Yes I could. Sometimes I&#39;m only returning 1 thing, but it could go in a list."}, {"owner": {"reputation": 1055, "user_id": 2310805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REDuN.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/2310805/eugene"}, "edited": false, "score": 0, "creation_date": 1537993704, "post_id": 52525428, "comment_id": 91990987, "body": "You should close the reader before connection is closed. So you should dispose all the objects after the data is received."}, {"owner": {"reputation": 2412, "user_id": 735496, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c182316699e6565294a7b9857f00d4b7?s=128&d=identicon&r=PG", "display_name": "micahhoover", "link": "https://stackoverflow.com/users/735496/micahhoover"}, "reply_to_user": {"reputation": 1055, "user_id": 2310805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REDuN.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/2310805/eugene"}, "edited": false, "score": 0, "creation_date": 1537993867, "post_id": 52525428, "comment_id": 91991060, "body": "@Eugene : Thanks. That&#39;s what I suspected ... so there&#39;s no way to make a reusable method that tucks away all/most of the nested using statements?"}, {"owner": {"reputation": 1055, "user_id": 2310805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REDuN.jpg?s=128&g=1", "display_name": "Eugene", "link": "https://stackoverflow.com/users/2310805/eugene"}, "edited": false, "score": 0, "creation_date": 1537994026, "post_id": 52525428, "comment_id": 91991128, "body": "I would design solution, which will read all the date inside and return data set. If it is not possible, you can try different approached to access the data. For example LINQ"}], "answers": [{"comments": [{"owner": {"reputation": 2531, "user_id": 395675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4865fcc3eb874cf386c0feb744ab181d?s=128&d=identicon&r=PG", "display_name": "Philip Smith", "link": "https://stackoverflow.com/users/395675/philip-smith"}, "edited": false, "score": 1, "creation_date": 1537998307, "post_id": 52525684, "comment_id": 91992662, "body": "You have correctly removed the erroneous finally statement, but not mentioned that you did so, or why?"}], "tags": [], "owner": {"reputation": 1084, "user_id": 6078026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2828ee6ae5d2f5fd4c9a3b4a89abfc43?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin K.", "link": "https://stackoverflow.com/users/6078026/kevin-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1537998671, "last_edit_date": 1537998671, "creation_date": 1537994143, "answer_id": 52525684, "question_id": 52525428, "link": "https://stackoverflow.com/questions/52525428/encapsulating-and-disposing-sqlclient-objects-in-order/52525684#52525684", "title": "Encapsulating and Disposing SqlClient Objects In Order", "body": "<p>You could create a class that holds an open database connection that is reusable, but I suggest reading the data into a list and returning the result:</p>\n\n<pre><code>public List&lt;object&gt; RunQuery(SqlCommand command)\n{\n    List&lt;object&gt; results = new List&lt;object&gt;();\n    using (var dbConnection = new SqlConnection(_dbConnectionString))\n    {\n        try\n        {\n            dbConnection.Open();\n\n            command.Connection = dbConnection;\n            using (SqlDataReader reader = command.ExecuteReader())\n            {\n                while (reader.Read())\n                {\n                    // Repeat for however many columns you have\n                    results.Add(reader.GetString(0));\n                }\n            }\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n    return results;\n}\n</code></pre>\n\n<p>I don't know the structure of your data, but the important point is that you need to read your data (<code>reader.GetString</code> does this) before you dispose of the connection. You can find more information on how to properly read your data <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/retrieving-data-using-a-datareader\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Edit: As mentioned, I removed your <code>finally</code> statement. This is because your <code>using</code> statement is essentially doing the same thing. You can think of a <code>using</code> statement as a <code>try</code>-<code>finally</code> block. Your disposable object will always be disposed after the <code>using</code> statement is exited.</p>\n"}, {"comments": [{"owner": {"reputation": 2412, "user_id": 735496, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c182316699e6565294a7b9857f00d4b7?s=128&d=identicon&r=PG", "display_name": "micahhoover", "link": "https://stackoverflow.com/users/735496/micahhoover"}, "edited": false, "score": 0, "creation_date": 1538060531, "post_id": 52526418, "comment_id": 92019601, "body": "Yes !! This is so trim and slim. Works great."}], "tags": [], "owner": {"reputation": 49085, "user_id": 7297700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7650f380e0e3b8415ba9afaadf70906?s=128&d=identicon&r=PG&f=1", "display_name": "David Browne - Microsoft", "link": "https://stackoverflow.com/users/7297700/david-browne-microsoft"}, "is_accepted": true, "score": 1, "last_activity_date": 1537998233, "creation_date": 1537998233, "answer_id": 52526418, "question_id": 52525428, "link": "https://stackoverflow.com/questions/52525428/encapsulating-and-disposing-sqlclient-objects-in-order/52526418#52526418", "title": "Encapsulating and Disposing SqlClient Objects In Order", "body": "<blockquote>\n  <p>so there's no way to make a reusable method that tucks away all/most of the nested using statements? </p>\n</blockquote>\n\n<p>There is a specific pattern supported for returning a DataReader from a method, like this:</p>\n\n<pre><code>static IDataReader GetData(string connectionString, string query)\n{\n    var con = new SqlConnection(connectionString);\n    con.Open();\n    var cmd = con.CreateCommand();\n    cmd.CommandText = query;\n    var rdr = cmd.ExecuteReader(CommandBehavior.CloseConnection);\n    return rdr;\n}\n</code></pre>\n\n<p>Then you can call this method in a <code>using</code> block:</p>\n\n<pre><code>    using (var rdr = GetData(constr, sql))\n    {\n        while (rdr.Read())\n        {\n            //process rows\n        }\n    } // &lt;- the DataReader _and_ the connection will be closed here\n</code></pre>\n"}], "owner": {"reputation": 2412, "user_id": 735496, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c182316699e6565294a7b9857f00d4b7?s=128&d=identicon&r=PG", "display_name": "micahhoover", "link": "https://stackoverflow.com/users/735496/micahhoover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 52526418, "answer_count": 2, "score": 2, "last_activity_date": 1537998671, "creation_date": 1537992850, "last_edit_date": 1537992916, "question_id": 52525428, "link": "https://stackoverflow.com/questions/52525428/encapsulating-and-disposing-sqlclient-objects-in-order", "title": "Encapsulating and Disposing SqlClient Objects In Order", "body": "<p>I am trying to layer my Sql client object calls such that they get disposed of reliably. Something like this:</p>\n\n<blockquote>\n  <p>Open database connection -> Create command -> Read results -> close\n  command -> close database connection</p>\n</blockquote>\n\n<p>So far this has succeeded when I do all of these things in the same method.</p>\n\n<p>The problem is this is error prone. And a mess to read through.</p>\n\n<p>When I try to create a common method to handle this that cleans up everything and returns a reader the connection gets closed before the reader starts.</p>\n\n<pre><code>//closes connection before it can be read...apparently the reader doesn't actually have any data at that point ... relocating to disposable class that closes on dispose\npublic SqlDataReader RunQuery(SqlCommand command)\n{\n    SqlDataReader reader = null;\n    using (var dbConnection = new SqlConnection(_dbConnectionString))\n    {\n        try\n        {\n            dbConnection.Open();\n\n            command.Connection = dbConnection;\n\n            reader = command.ExecuteReader();  // connection closed before data can be read by the calling method\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n        finally\n        {\n            dbConnection.Close();\n        }\n    }\n\n    return reader;\n}\n</code></pre>\n\n<p>I can get around this by creating my own class that implements IDispose (etc) but then when I wrap it with the same using statement it takes up just as many lines as a database connection using statement.</p>\n\n<p>How can I take care of the data base connection in a repeatable class that takes care of all these artifacts and closes the connection?</p>\n"}, {"tags": ["c#", "reflection", "types", "autofac", "multiple-versions"], "comments": [{"owner": {"reputation": 21694, "user_id": 34092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10e78a68c6e32f9b8aeb47a968ebea9f?s=128&d=identicon&r=PG&f=1", "display_name": "mjwills", "link": "https://stackoverflow.com/users/34092/mjwills"}, "edited": false, "score": 4, "creation_date": 1537996883, "post_id": 52525243, "comment_id": 91992178, "body": "It would be awesome if you could share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we could run in a console app at our end. I am particularly interested in seeing the source code for the two classes with the same name."}, {"owner": {"reputation": 455, "user_id": 1225266, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GDOVT.jpg?s=128&g=1", "display_name": "softbear", "link": "https://stackoverflow.com/users/1225266/softbear"}, "edited": false, "score": 1, "creation_date": 1538044598, "post_id": 52525243, "comment_id": 92009165, "body": "Normally you won&#39;t be able to load different versions of the same assembly into the AppDomain/context without &quot;unpredictable&quot; outcomes.  Do you need to execute from both versions in the same runtime instance? Or just stick to one? If the former you probably need to rework the part which uses the older version of the assembly to run in it&#39;s own AppDomain, if the latter limit the loaded assembly to the desired version (note: just reflecting an assembly loads it)."}, {"owner": {"reputation": 276, "user_id": 272171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/81288118362a0a0fd558313ec12763bd?s=128&d=identicon&r=PG", "display_name": "Paul Gibler", "link": "https://stackoverflow.com/users/272171/paul-gibler"}, "edited": false, "score": 0, "creation_date": 1538059057, "post_id": 52525243, "comment_id": 92018600, "body": "It seems like AppDomain is the preferred way to do this. Do you have any useful links on how to utilize multiple AppDomains well?"}], "owner": {"reputation": 276, "user_id": 272171, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/81288118362a0a0fd558313ec12763bd?s=128&d=identicon&r=PG", "display_name": "Paul Gibler", "link": "https://stackoverflow.com/users/272171/paul-gibler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1537991995, "creation_date": 1537991995, "question_id": 52525243, "link": "https://stackoverflow.com/questions/52525243/autofac-how-to-register-2-different-version-of-the-same-type-with-the-same-nam", "title": "Autofac - how to register 2 different version of the same type with the same name", "body": "<p>Looking for some help on this. Would be much appreciated.</p>\n\n<p>What I'm trying to accomplish is registering multiple versions of a type to maintain backwards compatibility on an API. This API will allow operations to be executed using older versions of the code.</p>\n\n<p>My code does the following to accomplish this:</p>\n\n<ol>\n<li><p>Load each version of each DLL's types into memory.</p>\n\n<pre><code>foreach (var directory in Directories)\n{\n    assembliesToLoad.AddRange(directory.EnumerateFiles(\"*.dll\").Select(file =&gt; Assembly.LoadFile(file.FullName)));\n}\nforeach (var assembly in assembliesToLoad)\n{\n    RegisterActivityTypesFromAssembly(assembly);\n}\n</code></pre></li>\n<li><p>Register them using Autofac in a loop.</p>\n\n<pre><code>var type = value.Key;\nvar version = $\"{value.Value.Major}.{value.Value.Minor}.{value.Value.Build}\";\nvar typeId = $\"{keyValuePair.Key}@{version}\";\nif (type != null)\n{\n    foreach (var interfaceType in type.GetInterfaces())\n    {\n        Builder.RegisterType(type).Named(typeId, interfaceType);\n    }\n}\n</code></pre></li>\n<li><p>Then I load it later in the pipeline based on the version specified in the API.</p>\n\n<pre><code>var autofacTypeId = $\"{_typeId}@{_version}\";\n_activity = Scope.ResolveNamed&lt;IActivity&gt;(autofacTypeId);\n</code></pre></li>\n</ol>\n\n<p>I've noticed this code will resolve the current version of the type no problem. Attempting to resolve older versions it fails on. What am I doing wrong here? It seems like the older version types go away for some reason, even though during the loading phase they seem to be loaded just fine after reflection.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["c#", "winforms"], "comments": [{"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 3, "creation_date": 1537992027, "post_id": 52525241, "comment_id": 91990200, "body": "winforms? wpf? what tech are you using?"}, {"owner": {"reputation": 301, "user_id": 9110764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05d1fd62ac9868d6a97fc870b347dc7d?s=128&d=identicon&r=PG", "display_name": "Tuxpilgrim", "link": "https://stackoverflow.com/users/9110764/tuxpilgrim"}, "reply_to_user": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1537992175, "post_id": 52525241, "comment_id": 91990274, "body": "windows forms,  question edited :)"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1537992248, "post_id": 52525241, "comment_id": 91990310, "body": "I think you want this: <a href=\"https://msdn.microsoft.com/en-us/library/yt340bh4.aspx?f=255&amp;MSPPError=-2147217396\" rel=\"nofollow noreferrer\">How to: Access Controls by using the Controls Collection</a>"}, {"owner": {"reputation": 301, "user_id": 9110764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05d1fd62ac9868d6a97fc870b347dc7d?s=128&d=identicon&r=PG", "display_name": "Tuxpilgrim", "link": "https://stackoverflow.com/users/9110764/tuxpilgrim"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1537992786, "post_id": 52525241, "comment_id": 91990580, "body": "@JohnnyMopp i know the name of the <code>Labels</code> (Controls it&#39;s just to get all the controls). What I need is to get a string as an input and check for a label with that name, and call the function, thks :)"}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1537993929, "post_id": 52525241, "comment_id": 91991082, "body": "See the first answer in the dupe. Looks to me like exactly what you need: <code>Label label = this.Controls.Find(label_box, true).FirstOrDefault() as Label;</code> Or more simply: <code>Label label = this.Controls[label_box] as Label</code> (but you need to ensure is exists and is not nested)."}], "answers": [{"tags": [], "owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "is_accepted": false, "score": 1, "last_activity_date": 1537992959, "last_edit_date": 1537992959, "creation_date": 1537992254, "answer_id": 52525297, "question_id": 52525241, "link": "https://stackoverflow.com/questions/52525241/its-possible-convert-string-into-label-name/52525297#52525297", "title": "It&#39;s possible convert string into Label name?", "body": "<p>so you want to be able to operate on a label, where the name of the label is supplied as input. I would do this with a dictions</p>\n\n<pre><code>var lDict = new Dictionary&lt;string, Label&gt;();\nlDict[\"l1\"] = Label1;\nlDict[\"l2\"] = Label2;\n....\n</code></pre>\n\n<p>then</p>\n\n<pre><code>void Func(string labelName)\n{\n  var label = lDict[labelName];\n  label.Visible = true;\n  ...\n}\n</code></pre>\n\n<p>you could do all sorts of complicated reflection tings but that feels like overkill</p>\n"}], "owner": {"reputation": 301, "user_id": 9110764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05d1fd62ac9868d6a97fc870b347dc7d?s=128&d=identicon&r=PG", "display_name": "Tuxpilgrim", "link": "https://stackoverflow.com/users/9110764/tuxpilgrim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "closed_date": 1537992272, "answer_count": 1, "score": -1, "last_activity_date": 1537993001, "creation_date": 1537991968, "last_edit_date": 1537993001, "question_id": 52525241, "link": "https://stackoverflow.com/questions/52525241/its-possible-convert-string-into-label-name", "closed_reason": "Duplicate", "title": "It&#39;s possible convert string into Label name?", "body": "<p>Using C# and Windows Forms, i would like to use the name of a <code>Label</code> as a parameter of another function, like this:</p>\n\n<pre><code> startBox(label_box, \"11\", Color.Red);\n</code></pre>\n\n<p>Definition of <code>startBox</code>:</p>\n\n<pre><code>  private void startBox(Label label, string text, Color color) {\n        label.BackColor = color;\n        label.Visible = true;\n        label.Enabled = true;\n        label.Text = text;\n    }\n</code></pre>\n\n<p>But, <strong>is there any way to convert an <code>string</code> to the name of a <code>Label</code>?</strong>\nIn my case, <code>label_box</code> is a <code>string</code>.</p>\n\n<p><strong>ps\u00b9.</strong> I need to do this because i have <code>N</code> <code>Labels</code> and the name is should be typed by the user.</p>\n\n<p><strong>ps\u00b2.</strong> To Invoke a method using a <code>string</code> i used the <code>MethodInfo</code>.  </p>\n\n<p><strong>EDIT:</strong> The solution using <a href=\"https://stackoverflow.com/questions/3898588/find-control-by-name-from-windows-forms-controls\">Controls</a> does not apply. In my case, a string is given as an input, if the string is the name of one of the labels the function is called.</p>\n\n<p><em>Thank you, and sorry for the spelling flaws in English.</em></p>\n"}, {"tags": ["c#", ".net", "linux", ".net-core", "garbage-collection"], "comments": [{"owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1537993307, "post_id": 52525205, "comment_id": 91990805, "body": "You can use the property <code>&lt;ServerGarbageCollection&gt;True&lt;&#47;ServerGarbageCollection&gt;</code> in the csproj. But in dotnetcore it&#39;s already true by default"}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "reply_to_user": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 1, "creation_date": 1537993560, "post_id": 52525205, "comment_id": 91990922, "body": "If that is the case then why does GCSettings.IsServerGC return false?"}, {"owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1537994353, "post_id": 52525205, "comment_id": 91991247, "body": "Hum it&#39;s true in my app. You can check the real value in <code>&#47;bin&#47;debug&#47;MyProject.runtimeconfig.json</code>. See this video from asp community standup for more details <a href=\"https://youtu.be/DiqqlDPfch4?list=PL1rZQsJPBU2StolNg0aqvQswETPcYnNKL&amp;t=3519\" rel=\"nofollow noreferrer\">youtu.be/&hellip;</a>"}, {"owner": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "edited": false, "score": 0, "creation_date": 1537995887, "post_id": 52525205, "comment_id": 91991854, "body": "I am on Linux as well, and I can see the same issue on mine. <code>.runtimeconfig.json</code> does not contain <code>System.GG.Server</code>. And <code>GCSettings.IsServerGC</code> returns false too."}, {"owner": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "reply_to_user": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1537996445, "post_id": 52525205, "comment_id": 91992023, "body": "@Kalten Looking at the docs and some quick testing locally, it looks like  <code>&lt;ServerGarbageCollection&gt;</code> is only <code>True</code> for Web projects (<code>Project Sdk=&quot;Microsoft.NET.Sdk.Web&quot;&gt;</code>). Otherwise it needs to be set explicitly."}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "reply_to_user": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "edited": false, "score": 0, "creation_date": 1537996585, "post_id": 52525205, "comment_id": 91992065, "body": "@omajid just do be clear how exactly do you set it explicitly?"}, {"owner": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "reply_to_user": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "edited": false, "score": 0, "creation_date": 1537996662, "post_id": 52525205, "comment_id": 91992090, "body": "Like @Kalten said, add <code>&lt;ServerGarbageCollection&gt;true&lt;&#47;ServerGarbageCollection&gt; </code> to your <code>csproj</code> file."}, {"owner": {"reputation": 3368, "user_id": 1305465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53792b9c0119678137acb4b6e225ce23?s=128&d=identicon&r=PG", "display_name": "Kalten", "link": "https://stackoverflow.com/users/1305465/kalten"}, "reply_to_user": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "edited": false, "score": 0, "creation_date": 1537997894, "post_id": 52525205, "comment_id": 91992529, "body": "@omajid, thx for clarification."}], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "edited": false, "score": 0, "creation_date": 1538035448, "post_id": 52526498, "comment_id": 92003723, "body": "OK so I tried what you suggested and it seems that it works only for .net core project i.e. I add <code>&lt;ServerGarbageCollection&gt;true&lt;&#47;ServerGarbageCollection&gt;</code> to the csproj file and it changes the GC but it seems that in .net framework project adding the flag doesn&#39;t change anything and the only way to do it is by adding an App.config file"}], "tags": [], "owner": {"reputation": 9353, "user_id": 3561275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jk8uY.png?s=128&g=1", "display_name": "omajid", "link": "https://stackoverflow.com/users/3561275/omajid"}, "is_accepted": true, "score": 4, "last_activity_date": 1537998758, "creation_date": 1537998758, "answer_id": 52526498, "question_id": 52525205, "link": "https://stackoverflow.com/questions/52525205/setting-gcserver-true-when-running-on-linux-in-net-core-project/52526498#52526498", "title": "Setting GCServer = True when running on Linux in .net core project", "body": "<p>Add <code>&lt;ServerGarbageCollection&gt;True&lt;/ServerGarbageCollection&gt;</code> to your csproj file. Like:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n  &lt;PropertyGroup&gt;\n    ...\n    &lt;ServerGarbageCollection&gt;true&lt;/ServerGarbageCollection&gt;\n    ...\n  &lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>To confirm that it's being correctly set during build, check your <code>&lt;PROJECT&gt;.runtimeconfig.json</code> file in the <code>bin</code> directory. It should contain something like:</p>\n\n<pre><code>\"configProperties\": {\n  \"System.GC.Server\": true\n}\n</code></pre>\n\n<p>In some cases, the GCServer is already the default. You can check if there's a default value your msbuild file by using <code>msbuild /pp</code>:</p>\n\n<pre><code>$ dotnet msbuild /pp | grep -i ServerGarbage\n&lt;ServerGarbageCollection&gt;true&lt;/ServerGarbageCollection&gt;\n&lt;RuntimeHostConfigurationOption Include=\"System.GC.Server\" Condition=\"'$(ServerGarbageCollection)' != ''\" Value=\"$(ServerGarbageCollection)\" /&gt;\n</code></pre>\n\n<p>If you have a csproj file with <code>Sdk=\"Microsoft.NET.Sdk.Web\"</code>, then it's already the default:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk.Web\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n    &lt;TargetFramework&gt;netcoreapp2.1&lt;/TargetFramework&gt;\n  &lt;/PropertyGroup&gt;\n&lt;/Project&gt;\n\n$ dotnet msbuild /pp | grep -i ServerGarbage\n&lt;ServerGarbageCollection&gt;true&lt;/ServerGarbageCollection&gt;\n&lt;RuntimeHostConfigurationOption Include=\"System.GC.Server\" Condition=\"'$(ServerGarbageCollection)' != ''\" Value=\"$(ServerGarbageCollection)\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2045, "favorite_count": 2, "accepted_answer_id": 52526498, "answer_count": 1, "score": 2, "last_activity_date": 1537998758, "creation_date": 1537991808, "question_id": 52525205, "link": "https://stackoverflow.com/questions/52525205/setting-gcserver-true-when-running-on-linux-in-net-core-project", "title": "Setting GCServer = True when running on Linux in .net core project", "body": "<p>How do set GCServer to true in a .net core project? Usually in .net framework projects I add an App.Config xml file that sets GCServer variable to true but this does not work in a \n.net core project running on Linux (the App.Config file is generated and publish but the variable still doesn't change)</p>\n"}, {"tags": ["c#", "sql", "asp.net", ".net", "webforms"], "comments": [{"owner": {"reputation": 28253, "user_id": 1139830, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/fAXTi.jpg?s=128&g=1", "display_name": "mason", "link": "https://stackoverflow.com/users/1139830/mason"}, "edited": false, "score": 0, "creation_date": 1537991584, "post_id": 52525128, "comment_id": 91990027, "body": "What do you mean &quot;gets fetched&quot;? Do you mean you don&#39;t see the changed data on the screen? Do you reload the data after updating it? Did you pay attention to when Page_Load happens?"}, {"owner": {"reputation": 202711, "user_id": 1197518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cjKiP.png?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/1197518/steve"}, "edited": false, "score": 0, "creation_date": 1537991620, "post_id": 52525128, "comment_id": 91990046, "body": "You need to control the Page_Load code. If you don&#39;t exclude the loading of your data when IsPostback is true you reload the code from the database everytime you click on the button <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.web.ui.page.ispostback?redirectedfrom=MSDN&amp;view=netframework-4.7.2#System_Web_UI_Page_IsPostBack\" rel=\"nofollow noreferrer\">Page.IsPostBack</a> You need to understand <a href=\"https://msdn.microsoft.com/en-us/library/ms178472.aspx\" rel=\"nofollow noreferrer\">ASP.NET Page Life Cycle</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8704727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DT9l4.jpg?s=128&g=1", "display_name": "Turgay Budak", "link": "https://stackoverflow.com/users/8704727/turgay-budak"}, "is_accepted": false, "score": 0, "last_activity_date": 1594552055, "last_edit_date": 1594552055, "creation_date": 1540985536, "answer_id": 53082364, "question_id": 52525128, "link": "https://stackoverflow.com/questions/52525128/update-profile-data-not-working-asp-net-web-forms/53082364#53082364", "title": "Update profile data not working asp.net web forms", "body": "<pre><code>string query = @&quot;UPDATE UserDetails SET userName=@UserName, Name= @fullName, phoneNo = @Phone, Email=@uEmail WHERE employeeId=&quot; + id ;\n</code></pre>\n<p>Or :</p>\n<pre><code>string query = @&quot;UPDATE UserDetails SET userName=@UserName, Name= @fullName, phoneNo = @Phone, Email=@uEmail WHERE employeeId=@ID&quot;;\ncmd.Parameters.AddWithValue(&quot;@ID&quot;, id);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 2241060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/255f63cbedc468c15c55b2ccdf69bc0f?s=128&d=identicon&r=PG", "display_name": "Satya M", "link": "https://stackoverflow.com/users/2241060/satya-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1540992588, "last_edit_date": 1540992588, "creation_date": 1540986733, "answer_id": 53082717, "question_id": 52525128, "link": "https://stackoverflow.com/questions/52525128/update-profile-data-not-working-asp-net-web-forms/53082717#53082717", "title": "Update profile data not working asp.net web forms", "body": "<p>Use <strong>if(!IsPostBack){ //here is your code }</strong> under page load  because when you click on save button it first executes page_load then save click event. Otherwise <code>page_load</code> overwrites your changes and saves.</p>\n"}], "owner": {"reputation": 21, "user_id": 9889821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Muhammad Shahid", "link": "https://stackoverflow.com/users/9889821/muhammad-shahid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1594552055, "creation_date": 1537991460, "last_edit_date": 1540992018, "question_id": 52525128, "link": "https://stackoverflow.com/questions/52525128/update-profile-data-not-working-asp-net-web-forms", "title": "Update profile data not working asp.net web forms", "body": "<p>I am trying to update a simple query using web forms but to no avail. I have tried debugging the code but could not find where is the bug. There are two methods <code>page_load()</code> and <code>editProfile_click()</code> of which the code is following: </p>\n\n<pre><code>    protected void Page_Load(object sender, EventArgs e)\n    {\n        int id = Convert.ToInt32(Session[\"id\"]);\n        string connetionString = null;\n        SqlConnection con;\n        SqlDataReader dr;\n        connetionString = @\"Data Source=.\\SQLEXPRESS;Initial Catalog=AspNetInventory;Integrated Security=True\";\n        con = new SqlConnection(connetionString);\n        try\n        {\n            con.Open();\n            string query = @\"SELECT * FROM UserDetails WHERE employeeId = @id\";\n            SqlCommand cmd = new SqlCommand(query, con);\n            cmd.Parameters.AddWithValue(\"@Id\", id);\n            dr = cmd.ExecuteReader();\n            if (dr.Read())\n            {\n                Username.Text = dr[1].ToString();\n                UName.Text = dr[3].ToString();\n                UPhoneNo.Text = dr[4].ToString();\n                Uemail.Text = dr[5].ToString();\n            }\n        }//try\n        catch (SqlException ex)\n        {\n            Username.Text = \"db Connection fail\" + ex;\n        }\n    }\n\n    protected void SaveProfile_Click(object sender, EventArgs e)\n    {\n        int id = Convert.ToInt32(Session[\"id\"]);\n        string username, fullName, phoneNo, Email;\n        username = Convert.ToString(Username.Text);\n        fullName = Convert.ToString(UName.Text);\n        phoneNo = Convert.ToString(UPhoneNo.Text);\n        Email = Convert.ToString(Uemail.Text);\n\n        string connetionString = null;\n        SqlConnection con;\n\n        connetionString = @\"Data Source=.\\SQLEXPRESS;Initial Catalog=AspNetInventory;Integrated Security=True\";\n        con = new SqlConnection(connetionString);\n        try\n        {\n            con.Open();\n            string query = @\"UPDATE UserDetails SET userName=@UserName, Name= @fullName, phoneNo = @Phone, Email=@uEmail WHERE employeeId='\" + id + \"'\";\n            SqlCommand cmd = new SqlCommand(query, con);\n\n            cmd.Parameters.AddWithValue(\"@UserName\",username);\n            cmd.Parameters.AddWithValue(\"@fullName\", fullName);\n            cmd.Parameters.AddWithValue(\"@Phone\", phoneNo);\n            cmd.Parameters.AddWithValue(\"@uEmail\", Email);\n            cmd.ExecuteNonQuery();\n            con.Close();\n        }//try\n        catch (SqlException ex)\n        {\n            Username.Text = \"db Connection fail\" + ex;\n        }           \n    }\n</code></pre>\n\n<p>When I press the Update profile button the unchanged record from the data base gets fetched. Please tell me if there is a problem with the query.</p>\n"}, {"tags": ["c#", "sql", "winforms", "checkbox", "sqlconnection"], "comments": [{"owner": {"reputation": 1117, "user_id": 976509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46ca81b1a42cd005623aba8ae49cc5c0?s=128&d=identicon&r=PG", "display_name": "vl4d1m1r4", "link": "https://stackoverflow.com/users/976509/vl4d1m1r4"}, "edited": false, "score": 0, "creation_date": 1537993743, "post_id": 52525112, "comment_id": 91991005, "body": "Please update your question to include some minimal code example of what you have tried and doesn&#39;t work. This way we can&#39;t really help without knowing how you check if there is no data or what the structure of the data you are trying to check is."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 10420747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--fE_gMnaSwk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUp-Z7NmyxrqZ-V5GYFo2plFMBiSg/mo/photo.jpg?sz=128", "display_name": "Chris Birch", "link": "https://stackoverflow.com/users/10420747/chris-birch"}, "edited": false, "score": 0, "creation_date": 1537992191, "post_id": 52525170, "comment_id": 91990285, "body": "Thank you! I wasn&#39;t expecting an answer so quickly. I will when i need help next time."}], "tags": [], "owner": {"reputation": 300, "user_id": 4813939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4505ceeee53e3c630395f0088de79072?s=128&d=identicon&r=PG&f=1", "display_name": "Emcrank", "link": "https://stackoverflow.com/users/4813939/emcrank"}, "is_accepted": true, "score": 1, "last_activity_date": 1537991640, "creation_date": 1537991640, "answer_id": 52525170, "question_id": 52525112, "link": "https://stackoverflow.com/questions/52525112/c-sql-check-box-to-be-ticked-when-data-present/52525170#52525170", "title": "C# SQL Check box to be ticked when data present", "body": "<p>Just set the Checked properties on the checkboxes.</p>\n\n<pre><code>checkBox1.Checked = dataGridView1.Rows.Count &gt; 0;\n</code></pre>\n\n<p>It would help a huge amount and you will be more likely to get a better answer if you posted some things you have tried already or some examples of your code so far.</p>\n"}], "owner": {"reputation": 39, "user_id": 10420747, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--fE_gMnaSwk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUp-Z7NmyxrqZ-V5GYFo2plFMBiSg/mo/photo.jpg?sz=128", "display_name": "Chris Birch", "link": "https://stackoverflow.com/users/10420747/chris-birch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 52525170, "answer_count": 1, "score": -2, "last_activity_date": 1537991640, "creation_date": 1537991362, "question_id": 52525112, "link": "https://stackoverflow.com/questions/52525112/c-sql-check-box-to-be-ticked-when-data-present", "title": "C# SQL Check box to be ticked when data present", "body": "<p>I am slowing learning my way round c# and SQL. I have started a project that will have a list of checkboxes. I want these checkboxes to be ticked if there is any data present within the table. I am not interested in what data, only if there is data in the table.</p>\n\n<p>I have created a win form project that can connect to the database and show the data in a grid view.</p>\n\n<p>Any help would be fantastic! </p>\n"}, {"tags": ["c#", "visual-studio-2015", "visual-studio-2017"], "comments": [{"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1537991326, "post_id": 52525087, "comment_id": 91989891, "body": "Have you tried reflection to see if both attributes were actually applied?"}], "answers": [{"comments": [{"owner": {"reputation": 48582, "user_id": 80002, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73babeb4b448be14151bac397c7b0535?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/80002/mark"}, "edited": false, "score": 0, "creation_date": 1537992798, "post_id": 52525261, "comment_id": 91990586, "body": "Good for them. Now we have regressions."}, {"owner": {"reputation": 5868, "user_id": 2557263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28006d7f96af66be38c4c9bd52af344?s=128&d=identicon&r=PG", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/2557263/alejandro"}, "reply_to_user": {"reputation": 48582, "user_id": 80002, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73babeb4b448be14151bac397c7b0535?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/80002/mark"}, "edited": false, "score": 0, "creation_date": 1537993292, "post_id": 52525261, "comment_id": 91990799, "body": "@mark Actually, failure to compile is a bugfix rather than a regression :D. No idea is earlier versions of Visual Studio compiled the flawed code or not, but considering the whole compiler was rewritten from scratch, no doubt there could be many regressions there."}, {"owner": {"reputation": 2806, "user_id": 66101, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b04a4f263735d40ab282711895bba5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Ling", "link": "https://stackoverflow.com/users/66101/dan-ling"}, "reply_to_user": {"reputation": 48582, "user_id": 80002, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73babeb4b448be14151bac397c7b0535?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/80002/mark"}, "edited": false, "score": 0, "creation_date": 1537993376, "post_id": 52525261, "comment_id": 91990835, "body": "@mark Not 100% sure, but it might be possible to configure your projects to build using a specific version of msbuild - you might want to look into this: <a href=\"https://docs.microsoft.com/en-us/visualstudio/msbuild/msbuild-toolset-toolsversion?view=vs-2017\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/visualstudio/msbuild/&hellip;</a>"}, {"owner": {"reputation": 48582, "user_id": 80002, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73babeb4b448be14151bac397c7b0535?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/80002/mark"}, "edited": false, "score": 0, "creation_date": 1537995555, "post_id": 52525261, "comment_id": 91991723, "body": "@DanLing - I do not think we want to get stuck with an old msbuild. We will just fix the code."}], "tags": [], "owner": {"reputation": 2806, "user_id": 66101, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b04a4f263735d40ab282711895bba5aa?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Ling", "link": "https://stackoverflow.com/users/66101/dan-ling"}, "is_accepted": false, "score": 3, "last_activity_date": 1537992076, "creation_date": 1537992076, "answer_id": 52525261, "question_id": 52525087, "link": "https://stackoverflow.com/questions/52525087/a-trivial-code-that-builds-cleanly-with-msbuild-14-vs-2015-but-fails-to-compile/52525261#52525261", "title": "A trivial code that builds cleanly with msbuild 14/VS 2015, but fails to compile in msbuild 15/VS 2017", "body": "<p>I believe the fact that it was able to compile in msbuild14 is a bug. </p>\n\n<p>The C# v5 language <a href=\"https://www.ecma-international.org/publications/files/ECMA-ST/Ecma-334.pdf\" rel=\"nofollow noreferrer\">specification</a> (page 394) states:</p>\n\n<blockquote>\n  <p>Attributes are specified in  attribute sections . An attribute section\n  consists of a pair of square brackets, which  surround a comma\n  - separated list of one or more attributes. The order in which attributes are specified in such  a list, and the order in which\n  sections attached to the same program entity are arranged, is not\n  significant. <strong>For  instance, the attribute specifications  [A][B] , \n  [B][A] ,  [A, B] , and  [B, A] are equivalent.</strong></p>\n</blockquote>\n\n<p>The formal syntax is:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KOyTb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KOyTb.png\" alt=\"enter image description here\"></a></p>\n\n<p>The syntax you posted, <code>[MyAttribute1 MyAttribute2]</code> , is not accounted for.</p>\n\n<p>So, I assume that it was a bug that it was able to compile, and they fixed it in msbuild 15.</p>\n"}], "owner": {"reputation": 48582, "user_id": 80002, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/73babeb4b448be14151bac397c7b0535?s=128&d=identicon&r=PG", "display_name": "mark", "link": "https://stackoverflow.com/users/80002/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1537992774, "creation_date": 1537991234, "last_edit_date": 1537992774, "question_id": 52525087, "link": "https://stackoverflow.com/questions/52525087/a-trivial-code-that-builds-cleanly-with-msbuild-14-vs-2015-but-fails-to-compile", "title": "A trivial code that builds cleanly with msbuild 14/VS 2015, but fails to compile in msbuild 15/VS 2017", "body": "<pre><code>using System;\n\nnamespace ConsoleApplication1\n{\n    [AttributeUsage(AttributeTargets.Class)]\n    public class MyAttribute1 : Attribute\n    {\n    }\n\n    [AttributeUsage(AttributeTargets.Class)]\n    public class MyAttribute2 : Attribute\n    {\n    }\n\n    [MyAttribute1 MyAttribute2]\n    class Program\n    {\n        static void Main(string[] args)\n        {\n        }\n    }\n}\n</code></pre>\n\n<p>Notice there is no comma between the attributes applied to Program. I was profoundly surprised to discover it compiles with msbuild 14/VS 2015, but fails to compile with msbuild 15/VS 2017.</p>\n\n<p>My expectation was to see it failing in both versions.</p>\n\n<p>Can anyone explain what is going on?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>Here is how the reflected code appears in Reflector:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KyXhO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KyXhO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", ".net", "webrtc", "portaudio"], "comments": [{"owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1537993553, "post_id": 52525066, "comment_id": 91990915, "body": "Have you tried that project, does it work?"}, {"owner": {"reputation": 51, "user_id": 1105023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dac4a24e34fb844134d95762c8bc32?s=128&d=identicon&r=PG", "display_name": "Cook", "link": "https://stackoverflow.com/users/1105023/cook"}, "reply_to_user": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1537999111, "post_id": 52525066, "comment_id": 91992906, "body": "I tried <a href=\"https://github.com/Kyle-Gagner/PortAudio.Net\" rel=\"nofollow noreferrer\">github.com/Kyle-Gagner/PortAudio.Net</a> and it is giving me &#39;Unable to load DLL &#39;libportaudio&#39; or one of its dependencies: ALso I stumbled upon <a href=\"https://stackoverflow.com/questions/42609432/feeding-input-stream-from-portaudio-to-webrtcaudioprocessing\" title=\"feeding input stream from portaudio to webrtcaudioprocessing\">stackoverflow.com/questions/42609432/&hellip;</a> . I am looking for C# implementation of this?"}, {"owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1538011756, "post_id": 52525066, "comment_id": 91995847, "body": "Regarding the DLL, do you actually have a <code>portaudio_x86.dll</code> or <code>portaudio_x64.dll</code>"}, {"owner": {"reputation": 51, "user_id": 1105023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dac4a24e34fb844134d95762c8bc32?s=128&d=identicon&r=PG", "display_name": "Cook", "link": "https://stackoverflow.com/users/1105023/cook"}, "reply_to_user": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1538074237, "post_id": 52525066, "comment_id": 92026573, "body": "No I don&#39;t I used <a href=\"https://wiki.gnuradio.org/index.php/PortAudioInstall\" rel=\"nofollow noreferrer\">wiki.gnuradio.org/index.php/PortAudioInstall</a> link to generate one. I ran all commands but cannot see any .dll file being generated. If there is link to download let me know."}, {"owner": {"reputation": 51, "user_id": 1105023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dac4a24e34fb844134d95762c8bc32?s=128&d=identicon&r=PG", "display_name": "Cook", "link": "https://stackoverflow.com/users/1105023/cook"}, "reply_to_user": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1538085888, "post_id": 52525066, "comment_id": 92031305, "body": "@wp78de thank you for your help. Can you answer my next question      <a href=\"https://stackoverflow.com/questions/52545745/feeding-input-stream-from-portaudio-to-webrtcaudioprocessing-using-c-sharp\" title=\"feeding input stream from portaudio to webrtcaudioprocessing using c sharp\">stackoverflow.com/questions/52545745/&hellip;</a>"}, {"owner": {"reputation": 51, "user_id": 1105023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dac4a24e34fb844134d95762c8bc32?s=128&d=identicon&r=PG", "display_name": "Cook", "link": "https://stackoverflow.com/users/1105023/cook"}, "reply_to_user": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1538087910, "post_id": 52525066, "comment_id": 92031769, "body": "ok. submit your answer I will mark it as answer. I did not intend to do take any credit!"}, {"owner": {"reputation": 16007, "user_id": 8291949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a7pBo.gif?s=128&g=1", "display_name": "wp78de", "link": "https://stackoverflow.com/users/8291949/wp78de"}, "edited": false, "score": 0, "creation_date": 1538088157, "post_id": 52525066, "comment_id": 92031821, "body": "It&#39;s fine. Ultimately, you found the answer yourself."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 1105023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dac4a24e34fb844134d95762c8bc32?s=128&d=identicon&r=PG", "display_name": "Cook", "link": "https://stackoverflow.com/users/1105023/cook"}, "is_accepted": false, "score": 0, "last_activity_date": 1538085648, "creation_date": 1538085648, "answer_id": 52545709, "question_id": 52525066, "link": "https://stackoverflow.com/questions/52525066/is-there-a-net-binding-for-port-audio-with-a-working-example/52545709#52545709", "title": "Is there a .net Binding for Port Audio with a working example", "body": "<p>Download <a href=\"https://github.com/loopunit/portaudio\" rel=\"nofollow noreferrer\">https://github.com/loopunit/portaudio</a> and follow this <a href=\"http://portaudio.com/docs/v19-doxydocs/compile_windows.html\" rel=\"nofollow noreferrer\">http://portaudio.com/docs/v19-doxydocs/compile_windows.html</a> and add the .dll generated as resource file in the Windowsformstest project <a href=\"https://github.com/tlove123/portaudiosharp\" rel=\"nofollow noreferrer\">https://github.com/tlove123/portaudiosharp</a></p>\n\n<p>and make sure u set the file added as copy always.</p>\n"}], "owner": {"reputation": 51, "user_id": 1105023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30dac4a24e34fb844134d95762c8bc32?s=128&d=identicon&r=PG", "display_name": "Cook", "link": "https://stackoverflow.com/users/1105023/cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538085648, "creation_date": 1537991130, "last_edit_date": 1537991748, "question_id": 52525066, "link": "https://stackoverflow.com/questions/52525066/is-there-a-net-binding-for-port-audio-with-a-working-example", "title": "Is there a .net Binding for Port Audio with a working example", "body": "<p>Using apprtc for Windows I want to capture the desktop audio and pass it to the webrtc stream. Has anyone tried this?</p>\n\n<p>So far: <a href=\"https://github.com/ka2rvo/PortAudio\" rel=\"nofollow noreferrer\">link for .net Bindings</a> this project is pretty old  with no documentation. Has anyone used this? A working example would be great.</p>\n"}, {"tags": ["c#", "unity3d"], "comments": [{"owner": {"reputation": 9866, "user_id": 1895303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9469127561b0c8cf196d81059e799119?s=128&d=identicon&r=PG", "display_name": "Lestat", "link": "https://stackoverflow.com/users/1895303/lestat"}, "edited": false, "score": 0, "creation_date": 1537992281, "post_id": 52525053, "comment_id": 91990324, "body": "your english is way too bad, I honestly can&#39;t understand you."}, {"owner": {"reputation": 2225, "user_id": 4841380, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvOw1.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/4841380/dave"}, "edited": false, "score": 0, "creation_date": 1537994084, "post_id": 52525053, "comment_id": 91991147, "body": "I guess you are looking for a ScrollRect Component in Unity3D. Google it and you will find a lot of information."}], "answers": [{"comments": [{"owner": {"reputation": 14254, "user_id": 1663383, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3aaf8438a71124d393af5af486a7e78b?s=128&d=identicon&r=PG", "display_name": "Draco18s no longer trusts SE", "link": "https://stackoverflow.com/users/1663383/draco18s-no-longer-trusts-se"}, "edited": false, "score": 0, "creation_date": 1537999428, "post_id": 52526318, "comment_id": 91992989, "body": "You should include the core elements of any link in your answer so that if the link goes dead, your answer remains useful."}], "tags": [], "owner": {"reputation": 21, "user_id": 5552438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9ba647d37d020d6ba96db724aceff3e?s=128&d=identicon&r=PG&f=1", "display_name": "Arkhain", "link": "https://stackoverflow.com/users/5552438/arkhain"}, "is_accepted": false, "score": 0, "last_activity_date": 1537997647, "creation_date": 1537997647, "answer_id": 52526318, "question_id": 52525053, "link": "https://stackoverflow.com/questions/52525053/swipe-unity-2d-with-the-capture-area/52526318#52526318", "title": "Swipe Unity 2D With the capture area", "body": "<p>You dont need any experienced developper for that. What you want to achieve is a swipe so I assume you aim for mobile game. \nGoogle's your best friend here's the first link is likely to solve your issue : <a href=\"https://www.youtube.com/watch?v=qvJCjy8vIrY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=qvJCjy8vIrY</a>.</p>\n\n<p>But for programming, the first requirement is english since 99% of documentation, forums, code... will be in english.</p>\n"}], "owner": {"reputation": 1, "user_id": 10420664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4d75037a568c2a5cc9aef368ace49cf?s=128&d=identicon&r=PG&f=1", "display_name": "Eniwent", "link": "https://stackoverflow.com/users/10420664/eniwent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538008702, "creation_date": 1537991049, "last_edit_date": 1538008702, "question_id": 52525053, "link": "https://stackoverflow.com/questions/52525053/swipe-unity-2d-with-the-capture-area", "title": "Swipe Unity 2D With the capture area", "body": "<p>How can I make this in Unity in 2D Mode?</p>\n\n<p><a href=\"https://i.stack.imgur.com/v1Abo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v1Abo.png\" alt=\"\"></a></p>\n\n<p>How can I make this swipe, which stop on necessary to me position: first and second slide? What should I study or in what direction should I look for?</p>\n\n<p>How I can make this buttons, which i imaged like arrows?</p>\n\n<p>And lower forms display the current slide.</p>\n\n<p>I'm not asking to solve the problem for me, but I need a help of experienced developers.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "active-directory", "owin"], "comments": [{"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 2, "creation_date": 1537991097, "post_id": 52525039, "comment_id": 91989784, "body": "When you initialize the PrincipalContext, you should be defining the domain.  When you pass the username to the validate method, it does <i>not</i> want a domain pre- or app-ended."}, {"owner": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1537991243, "post_id": 52525039, "comment_id": 91989843, "body": "I can&#39;t replicate your problem. Specifying username prefixed with domain as in your Scenario 3, I get <code>false</code> for correct and incorrect passwords as I&#39;d expect."}, {"owner": {"reputation": 51, "user_id": 5424162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0d26d60161d51b279ea707826765ebe?s=128&d=identicon&r=PG&f=1", "display_name": "tariku", "link": "https://stackoverflow.com/users/5424162/tariku"}, "reply_to_user": {"reputation": 18479, "user_id": 1141432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/012a5bc2ab8149295daba3ed25471679?s=128&d=identicon&r=PG", "display_name": "itsme86", "link": "https://stackoverflow.com/users/1141432/itsme86"}, "edited": false, "score": 0, "creation_date": 1538085969, "post_id": 52525039, "comment_id": 92031329, "body": "@itsme86 i tried to replicate my problem with two of my co-workers and it returns true for incorrect passwords. but in <a href=\"https://scontent.ftun1-1.fna.fbcdn.net/v/t1.0-9/42324994_2528574920493221_1616801371556675584_n.jpg?_nc_cat=103&amp;oh=9c6e03cb67f6ccaee5f8dc169bf07334&amp;oe=5C225AB1\" rel=\"nofollow noreferrer\">ValidateCredentials docs</a> in remaks section that the userName argument must take the form username (for example, mcampbell) rather than domain\\username or username@domain."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5424162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0d26d60161d51b279ea707826765ebe?s=128&d=identicon&r=PG&f=1", "display_name": "tariku", "link": "https://stackoverflow.com/users/5424162/tariku"}, "edited": false, "score": 0, "creation_date": 1538086488, "post_id": 52525175, "comment_id": 92031469, "body": "Thank you @TheIncorrigble1 i missed the remarks section in the <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.directoryservices.accountmanagement.principalcontext.validatecredentials?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs</a>. my bad."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 51, "user_id": 5424162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0d26d60161d51b279ea707826765ebe?s=128&d=identicon&r=PG&f=1", "display_name": "tariku", "link": "https://stackoverflow.com/users/5424162/tariku"}, "edited": false, "score": 0, "creation_date": 1538095245, "post_id": 52525175, "comment_id": 92033209, "body": "@tariku glad to help. If my answer solved your question, please mark it as the answer \u2714\ufe0f"}], "tags": [], "owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "is_accepted": true, "score": 2, "last_activity_date": 1537991668, "last_edit_date": 1592644375, "creation_date": 1537991668, "answer_id": 52525175, "question_id": 52525039, "link": "https://stackoverflow.com/questions/52525039/how-to-properly-authenticate-user-against-active-directory/52525175#52525175", "title": "How to properly authenticate user against Active Directory?", "body": "<p><code>ValidateCredentials</code> takes a username without domain information.  The domain should be defined when creating the <code>PrincipalContext</code>:</p>\n<pre><code>if (!username.Contains(&quot;@&quot;) &amp;&amp; !username.Contains(@&quot;\\&quot;))\n{\n    // EXCEPTION\n}\n\nvar domain = username.Contains(&quot;@&quot;) ? username.Split(&quot;@&quot;)[1].Split(&quot;.&quot;)[0] : username.Split(@&quot;\\&quot;)[0];\nvar principalContext = new PrincipalContext(ContextType.Domain, domain);\n\nvar user = username.Contains(&quot;@&quot;) ? username.Split(&quot;@&quot;)[0] : username.Split(@&quot;\\&quot;)[1];\nvar isValid = principalContext.ValidateCredentials(user, cleartextpw);\n</code></pre>\n<hr />\n<h2><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.directoryservices.accountmanagement.principalcontext?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>PrincipalContext</code></a></h2>\n<h2><a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.directoryservices.accountmanagement.principalcontext.validatecredentials?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>ValidateCredentials</code></a></h2>\n"}], "owner": {"reputation": 51, "user_id": 5424162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0d26d60161d51b279ea707826765ebe?s=128&d=identicon&r=PG&f=1", "display_name": "tariku", "link": "https://stackoverflow.com/users/5424162/tariku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 939, "favorite_count": 0, "accepted_answer_id": 52525175, "answer_count": 1, "score": 1, "last_activity_date": 1538084827, "creation_date": 1537990987, "last_edit_date": 1538084827, "question_id": 52525039, "link": "https://stackoverflow.com/questions/52525039/how-to-properly-authenticate-user-against-active-directory", "title": "How to properly authenticate user against Active Directory?", "body": "<p>I'm trying to authenticate users against Active Directory and I'm using the code below to validate their credentials.</p>\n\n<pre><code>bool isValid = principalContext.ValidateCredentials(username, password, ContextOptions.Negotiate);\n\nif (isValid)\n{\n    userPrincipal = UserPrincipal.FindByIdentity(principalContext, username);\n}\n</code></pre>\n\n<p>My problem is that the ValidateCredentials method doesn't validate the user's password when <code>username = \"domain\\username\"</code> and always returns true, but when the <code>username = \"username\"</code> or <code>username@domain.com</code>, it works and return false when the password is invalid.</p>\n\n<p><strong>Scenario 1:</strong></p>\n\n<p>username = \"CorrectUserName\" and password = \"IncorrectPassword\" => isValid = false.</p>\n\n<p>username = \"CorrectUserName\" and password = \"CorrectPassword\" => isValid = true.</p>\n\n<p><strong>Scenario 2:</strong></p>\n\n<p>username = \"CorrectUserName@Domain.com\" and password = \"IncorrectPassword\" => isValid = false.</p>\n\n<p>username = \"CorrectUserName@Domain.com\" and password = \"CorrectPassword\" => isValid = true.</p>\n\n<p><strong>Scenario 3 (this is my problem):</strong></p>\n\n<p>username = \"Domain\\CorrectUserName\" and password = \"IncorrectPassword\" => isValid = true.</p>\n\n<p>username = \"Domain\\CorrectUserName\" and password = \"CorrectPassword\" => isValid = true.</p>\n\n<p>My code looks like this <a href=\"https://tech.trailmax.info/2016/03/using-owin-and-active-directory-to-authenticate-users-in-asp-net-mvc-5-application/\" rel=\"nofollow noreferrer\">tutorial</a> with minor changes.</p>\n\n<p>I don't know what I'm doing wrong here.</p>\n"}, {"tags": ["c#", "azure", "azure-functions"], "comments": [{"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1537994652, "post_id": 52524972, "comment_id": 91991363, "body": "I&#39;v tried Datetime. UtcNow and DateTimeOffset neither adjust timestamp to BST and I added the entry WEBSITE_TIME_ZONE  GMT Standard Time and W.Europe Time etc none change the timeStamp"}], "answers": [{"comments": [{"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 1, "creation_date": 1537992813, "post_id": 52525299, "comment_id": 91990596, "body": "Though this setting exists, you should generally not use it. Instead handle it in code.  <code>DateTime.UtcNow</code>, <code>TimeZoneInfo.ConvertTime</code>, etc."}, {"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1537992993, "post_id": 52525299, "comment_id": 91990685, "body": "Yea but there isn&#39;t a code for UK... only GMT which as I said is an hour behind British Summer Time"}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "reply_to_user": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 1, "creation_date": 1537993274, "post_id": 52525299, "comment_id": 91990793, "body": "@MattJohnson I agree. Also, using DateTimeOffset rather than DateTime will alleviate a lot of timezone issues since it&#39;s actually is aware of it&#39;s timezone."}, {"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1537993782, "post_id": 52525299, "comment_id": 91991022, "body": "DateTime.UtcNow does not change the document timeStamp I checked it."}], "tags": [], "owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "is_accepted": false, "score": 3, "last_activity_date": 1537992649, "last_edit_date": 1537992649, "creation_date": 1537992262, "answer_id": 52525299, "question_id": 52524972, "link": "https://stackoverflow.com/questions/52524972/why-is-my-azure-function-app-timestamp-an-hour-less/52525299#52525299", "title": "Why is my Azure Function App Timestamp an hour less", "body": "<p>The idea of serverless code is to abstract away where your code is physically running. Because of this, Azure Functions default to UTC time. You can set the local time zone by adding an <code>WEBSITE_TIME_ZONE</code> as your local time as an app setting. See <a href=\"https://stackoverflow.com/questions/50851519/can-i-set-specific-time-zone-to-azure-functions-app\">Can I set specific time zone to Azure Functions app?</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1538026379, "post_id": 52529297, "comment_id": 91999256, "body": "That worked! Howver not sure what the .Dump() is? TimeZoneInfo.FindSystemTimeZoneById(&quot;GMT Standard Time&quot;).Dump();"}, {"owner": {"reputation": 13266, "user_id": 2599907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63f17faccbdfa8265806fc3f2b5ca45?s=128&d=identicon&r=PG", "display_name": "Aydin", "link": "https://stackoverflow.com/users/2599907/aydin"}, "reply_to_user": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1538026457, "post_id": 52529297, "comment_id": 91999289, "body": "Ooops!... it&#39;s a function of an app called LINQPad which is like a scratchpad for C#, see the tables  in the images above? I use LINQPad to dump the state of any object using the <code>.Dump()</code> method to get those tables (and the state of any other object for that matter), just forgot to remove it prior to posting"}, {"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1538027525, "post_id": 52529297, "comment_id": 91999714, "body": "That sounds very interesting!"}, {"owner": {"reputation": 13266, "user_id": 2599907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63f17faccbdfa8265806fc3f2b5ca45?s=128&d=identicon&r=PG", "display_name": "Aydin", "link": "https://stackoverflow.com/users/2599907/aydin"}, "reply_to_user": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 1, "creation_date": 1538028282, "post_id": 52529297, "comment_id": 92000051, "body": "That&#39;s just the tip of the iceberg, it does so much more and the premium edition of it is completely worth its price tag, has saved me countless hours over the years"}, {"owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 0, "creation_date": 1538124242, "post_id": 52529297, "comment_id": 92041956, "body": "When I read back into app from CosmosDb the hour is 1 our forward blimey !"}, {"owner": {"reputation": 13266, "user_id": 2599907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63f17faccbdfa8265806fc3f2b5ca45?s=128&d=identicon&r=PG", "display_name": "Aydin", "link": "https://stackoverflow.com/users/2599907/aydin"}, "reply_to_user": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "edited": false, "score": 1, "creation_date": 1538180320, "post_id": 52529297, "comment_id": 92066334, "body": "I have a sneaking suspicion you&#39;re saving to the db with the converted time zone and then, later on retrieval of the values saves, converting those values again which would put the time 1 hour ahead of BST. My advice would be to always always always store as UTC, and only convert it to local time when you need it."}], "tags": [], "owner": {"reputation": 13266, "user_id": 2599907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63f17faccbdfa8265806fc3f2b5ca45?s=128&d=identicon&r=PG", "display_name": "Aydin", "link": "https://stackoverflow.com/users/2599907/aydin"}, "is_accepted": true, "score": 2, "last_activity_date": 1538026467, "last_edit_date": 1538026467, "creation_date": 1538021203, "answer_id": 52529297, "question_id": 52524972, "link": "https://stackoverflow.com/questions/52524972/why-is-my-azure-function-app-timestamp-an-hour-less/52529297#52529297", "title": "Why is my Azure Function App Timestamp an hour less", "body": "<p>You can handle this in code, for the UK, you can use the following which should auto adjust for daylight savings.</p>\n\n<pre><code>TimeZoneInfo ukTimeZone = TimeZoneInfo.FindSystemTimeZoneById(\"GMT Standard Time\");\n\nDateTime utcDate = new DateTime(2019, 1, 1, 0, 0, 0, DateTimeKind.Utc);\nDateTime ukTime = TimeZoneInfo.ConvertTimeFromUtc(utcDate, ukTimeZone);\nConsole.WriteLine(utcDate == ukTime);\n</code></pre>\n\n<p>On the 1st of January, the value of  <code>ukTime</code> should be equal to <code>UTC</code>, as the time zone used in the UK at that time of year is the <code>GMT</code> time zone which is equal to <code>UTC</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TUPmy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TUPmy.png\" alt=\"GMT\"></a></p>\n\n<hr>\n\n<p>On the 1st of June, the time in the UK should be an hour ahead of <code>UTC</code>, as the UK will have switched over the the <code>BST</code> time zone during that time of year.</p>\n\n<pre><code>utcDate = new DateTime(2019, 6, 1, 0, 0, 0, DateTimeKind.Utc);\nukTime = TimeZoneInfo.ConvertTimeFromUtc(utcDate, ukTimeZone);\nConsole.WriteLine(utcDate == ukTime.AddHours(-1));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Y4ghz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y4ghz.png\" alt=\"BST\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1577, "user_id": 727141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b38e590c12a7f3d8b92ad69f64903967?s=128&d=identicon&r=PG", "display_name": "hjgraca", "link": "https://stackoverflow.com/users/727141/hjgraca"}, "is_accepted": false, "score": 1, "last_activity_date": 1590002544, "creation_date": 1590002544, "answer_id": 61921251, "question_id": 52524972, "link": "https://stackoverflow.com/questions/52524972/why-is-my-azure-function-app-timestamp-an-hour-less/61921251#61921251", "title": "Why is my Azure Function App Timestamp an hour less", "body": "<p>Azure Functions by default are UTC. </p>\n\n<ul>\n<li>For <strong>Windows</strong> add the setting <strong>WEBSITE_TIME_ZONE</strong> and set the value your TimeZone\n\n<ul>\n<li>Ex: <strong>WEBSITE_TIME_ZONE = GMT Standard Time</strong></li>\n</ul></li>\n<li>For <strong>Linux</strong> add the setting <strong>TZ</strong> and set the value to your Timezone\n\n<ul>\n<li>Ex: <strong>TZ = Europe/Lisbon</strong></li>\n</ul></li>\n</ul>\n\n<p>For <strong>Windows</strong> TimeZone values check <a href=\"https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-vista/cc749073(v=ws.10)?WT.mc_id=personal-blog-marouill#time-zones\" rel=\"nofollow noreferrer\">here</a><br>\nFor <strong>Linux</strong> TimeZone values check <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 1507, "user_id": 997688, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GYQbN.jpg?s=128&g=1", "display_name": "Paul Stanley", "link": "https://stackoverflow.com/users/997688/paul-stanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2463, "favorite_count": 1, "accepted_answer_id": 52529297, "answer_count": 3, "score": 2, "last_activity_date": 1590002544, "creation_date": 1537990753, "question_id": 52524972, "link": "https://stackoverflow.com/questions/52524972/why-is-my-azure-function-app-timestamp-an-hour-less", "title": "Why is my Azure Function App Timestamp an hour less", "body": "<p>I have an Azure Function App that runs every five minutes. The document has a Timestamp field using</p>\n\n<pre><code>DateTime.Now\n</code></pre>\n\n<p>I live in the UK which is currently british summer time 26-09-18 which is 1 hour ahead of GMT. My Azure data centre is UK South. The timestamp is one hour wrong. E.G. 20:01 is stored in the documnt as 19:01. How can I correct this?</p>\n"}, {"tags": ["c#", ".net", "linux", ".net-core"], "comments": [{"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "edited": false, "score": 0, "creation_date": 1537990832, "post_id": 52524957, "comment_id": 91989660, "body": "To make things more simple the format is MM/dd/yyyy and I&#39;m trying to change it to dd/MM/yyyy"}, {"owner": {"reputation": 9927, "user_id": 3137536, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/43da59987242d82de6ec7b7cb42fe235?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/3137536/maxim"}, "edited": false, "score": 0, "creation_date": 1537990858, "post_id": 52524957, "comment_id": 91989673, "body": "What if you will try to specify locale directly in ToString() call?"}, {"owner": {"reputation": 9927, "user_id": 3137536, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/43da59987242d82de6ec7b7cb42fe235?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/3137536/maxim"}, "edited": false, "score": 0, "creation_date": 1537990949, "post_id": 52524957, "comment_id": 91989713, "body": "Regarding dd/MM/yyyy use &quot;en-GB&quot; instead of &quot;en-US&quot;. That is not clear from your original question."}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "reply_to_user": {"reputation": 9927, "user_id": 3137536, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/43da59987242d82de6ec7b7cb42fe235?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/3137536/maxim"}, "edited": false, "score": 0, "creation_date": 1537990965, "post_id": 52524957, "comment_id": 91989720, "body": "Calling ToString(dd/MM/yyyy) works but unfortunately not a solution in my case"}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "reply_to_user": {"reputation": 9927, "user_id": 3137536, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/43da59987242d82de6ec7b7cb42fe235?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/3137536/maxim"}, "edited": false, "score": 0, "creation_date": 1537991316, "post_id": 52524957, "comment_id": 91989886, "body": "Although I did not try &quot;en-GB&quot; or any other pre-made locale, I did copy &quot;en-US&quot; file changed the d_fmt and changed the environment variable to reference it. Now I know it worked since the format did changed in the system (for example when asking for the date)"}, {"owner": {"reputation": 9927, "user_id": 3137536, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/43da59987242d82de6ec7b7cb42fe235?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/3137536/maxim"}, "edited": false, "score": 0, "creation_date": 1537991715, "post_id": 52524957, "comment_id": 91990082, "body": "Use CultureInfo.GetCultureInfo(string name) method to get any appropriate culture (en-GB or your custom one) and pass date time format of culture to ToString call."}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "reply_to_user": {"reputation": 9927, "user_id": 3137536, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/43da59987242d82de6ec7b7cb42fe235?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/3137536/maxim"}, "edited": false, "score": 0, "creation_date": 1537991948, "post_id": 52524957, "comment_id": 91990165, "body": "Like I said, what you are suggesting will work but it&#39;s not the solution I&#39;m looking for, assume I don&#39;t have access to the code. I know the code calls for DateTime ToString() and I can&#39;t change it."}, {"owner": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 0, "creation_date": 1537992057, "post_id": 52524957, "comment_id": 91990217, "body": "Does setting <code>Thread.CurrentCulture</code> to a different culture work? If really necessary you could even create your own culture."}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "reply_to_user": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 0, "creation_date": 1537992311, "post_id": 52524957, "comment_id": 91990351, "body": "@CodesInChaos if there is a way to set the CurrentCulture on a process level it might work. Changing it on a Thread level leaves me open to cases when API I&#39;m using starts it&#39;s own thread."}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "edited": false, "score": 0, "creation_date": 1537992477, "post_id": 52524957, "comment_id": 91990436, "body": "But I&#39;m sure this can be fixed on an OS level it&#39;s either that or .net-core doesn&#39;t use locale environment variable as default culture the same as Windows"}, {"owner": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 0, "creation_date": 1537992482, "post_id": 52524957, "comment_id": 91990440, "body": "New threads should get their locale from <code>CultureInfo.DefaultThreadCurrentCulture</code>"}, {"owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "reply_to_user": {"reputation": 99643, "user_id": 445517, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/57e2ba76e6290c4e9e19821a068bc8c1?s=128&d=identicon&r=PG", "display_name": "CodesInChaos", "link": "https://stackoverflow.com/users/445517/codesinchaos"}, "edited": false, "score": 0, "creation_date": 1537993203, "post_id": 52524957, "comment_id": 91990766, "body": "@CodesInChaos looks promising, if I set this property at the start of my program every thread  will have the proper CultureInfo, will try it, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 3925, "user_id": 918244, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Y1v57.jpg?s=128&g=1", "display_name": "dstj", "link": "https://stackoverflow.com/users/918244/dstj"}, "is_accepted": false, "score": 0, "last_activity_date": 1560354721, "last_edit_date": 1592644375, "creation_date": 1560354721, "answer_id": 56566128, "question_id": 52524957, "link": "https://stackoverflow.com/questions/52524957/net-core-date-format-on-linux/56566128#56566128", "title": ".net core date format on Linux", "body": "<p>Old question, but I just had that issue. It's a <a href=\"https://github.com/dotnet/corefx/issues/11221\" rel=\"nofollow noreferrer\">&quot;bug / feature / expected behavior&quot;</a> of .NET Core 2...</p>\n<blockquote>\n<p>This is happening because the default short date for en-US (on Linux) is M/d/yy. the way determine the default short date is the code</p>\n<p><a href=\"https://github.com/dotnet/coreclr/blob/master/src/corefx/System.Globalization.Native/calendarData.cpp#L527\" rel=\"nofollow noreferrer\">https://github.com/dotnet/coreclr/blob/master/src/corefx/System.Globalization.Native/calendarData.cpp#L527</a></p>\n<p><a href=\"https://github.com/dotnet/coreclr/blob/master/src/corefx/System.Globalization.Native/calendarData.cpp#L281\" rel=\"nofollow noreferrer\">https://github.com/dotnet/coreclr/blob/master/src/corefx/System.Globalization.Native/calendarData.cpp#L281</a></p>\n<p>the default short date pattern used is the first one returned from this enumeration and it looks that what ICU return for KShort</p>\n</blockquote>\n<p><strong>But</strong>, it will change/be fixed in .NET Core 3 according to this <a href=\"https://github.com/dotnet/coreclr/pull/18316\" rel=\"nofollow noreferrer\">pull request</a>:</p>\n<blockquote>\n<blockquote>\n<p>I tried to use dotnet core build pack 2.1.3, it did not resolve my issue (still getting 7/6/18) for format d, could you please help me to resolve for the same. Thanks in advance</p>\n</blockquote>\n<p>This is fixed in 3.0. we didn't change 2.1 behavior for app compatibility reason.</p>\n</blockquote>\n"}], "owner": {"reputation": 545, "user_id": 1143777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Ergas.png?s=128&g=1", "display_name": "Roey Nissim", "link": "https://stackoverflow.com/users/1143777/roey-nissim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1131, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560354721, "creation_date": 1537990643, "question_id": 52524957, "link": "https://stackoverflow.com/questions/52524957/net-core-date-format-on-linux", "title": ".net core date format on Linux", "body": "<p>I'm migrating my code from .net framework to .net core and testing it on a Linux machine, one of the issues I had a problem with is the date format when calling DateTime ToString() function, in Windows the default date format is guided by the OS and can be customized in the settings I've tried to do something similar in Linux by defining a new locale file with the wanted format and setting up the proper variable (LC_Time). When asking the system for the date I get an answer in the wanted format but when running the code I still get \"wrong\" one. Am I missing something?</p>\n"}, {"tags": ["c#", "draw", "erase"], "comments": [{"owner": {"reputation": 2473, "user_id": 4490706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nmMcD.jpg?s=128&g=1", "display_name": "Ton Plooij", "link": "https://stackoverflow.com/users/4490706/ton-plooij"}, "edited": false, "score": 0, "creation_date": 1537991003, "post_id": 52524946, "comment_id": 91989739, "body": "Before you draw the new rectangle, draw the previous rectangle with a Pen with a background color brush."}, {"owner": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 2, "creation_date": 1537991006, "post_id": 52524946, "comment_id": 91989741, "body": "Is this WinForms? Don&#39;t hard-code your rectangles and drawing, nor draw in your mouse handlers; draw in the <code>Paint</code> handler. Consult <a href=\"https://stackoverflow.com/questions/49991039/\">How to draw shapes in WinForms</a>."}, {"owner": {"reputation": 378, "user_id": 10281603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9daa01ff0947be6d24ce1feee1d8130b?s=128&d=identicon&r=PG&f=1", "display_name": "Adas", "link": "https://stackoverflow.com/users/10281603/adas"}, "edited": false, "score": 0, "creation_date": 1537991075, "post_id": 52524946, "comment_id": 91989774, "body": "Please refer to this <a href=\"https://stackoverflow.com/questions/4124638/how-to-delete-a-drawn-circle-in-c-sharp-windows-form\">question</a>. It shows how to remove a drawn graphic."}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "reply_to_user": {"reputation": 2473, "user_id": 4490706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nmMcD.jpg?s=128&g=1", "display_name": "Ton Plooij", "link": "https://stackoverflow.com/users/4490706/ton-plooij"}, "edited": false, "score": 0, "creation_date": 1537992282, "post_id": 52524946, "comment_id": 91990326, "body": "@TonPlooij EDIT: I need to erase the rectangles that are both inside and OUTSIDE the form. Ideas?"}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "reply_to_user": {"reputation": 20646, "user_id": 22437, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=128&g=1", "display_name": "Dour High Arch", "link": "https://stackoverflow.com/users/22437/dour-high-arch"}, "edited": false, "score": 0, "creation_date": 1537992292, "post_id": 52524946, "comment_id": 91990332, "body": "@DourHighArch EDIT: I need to erase the rectangles that are both inside and OUTSIDE the form. Ideas?"}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "reply_to_user": {"reputation": 378, "user_id": 10281603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9daa01ff0947be6d24ce1feee1d8130b?s=128&d=identicon&r=PG&f=1", "display_name": "Adas", "link": "https://stackoverflow.com/users/10281603/adas"}, "edited": false, "score": 0, "creation_date": 1537992303, "post_id": 52524946, "comment_id": 91990339, "body": "@Adas, EDIT: I need to erase the rectangles that are both inside and OUTSIDE the form. Ideas?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537992271, "post_id": 52525034, "comment_id": 91990316, "body": "EDIT: I need to erase the rectangles that are both inside and OUTSIDE the form. Ideas?"}, {"owner": {"reputation": 28506, "user_id": 86860, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/24414172673338a6bce690a6eeb53f64?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/86860/nate"}, "reply_to_user": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537992990, "post_id": 52525034, "comment_id": 91990682, "body": "@GabrielWeiss you can&#39;t just &#39;erase&#39; them because once they&#39;re drawn you don&#39;t know what&#39;s behind them so there&#39;s nothing to erase; you need to repaint/redraw the area behind the rectangle each time before you paint the next rectangle."}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537993303, "post_id": 52525034, "comment_id": 91990803, "body": "Nate, First i paint on screen the rectangle of Chocolate color... How can i take-off this chocolate rectangle of the screen, turn it invisible?"}, {"owner": {"reputation": 300, "user_id": 4813939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4505ceeee53e3c630395f0088de79072?s=128&d=identicon&r=PG&f=1", "display_name": "Emcrank", "link": "https://stackoverflow.com/users/4813939/emcrank"}, "reply_to_user": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 1, "creation_date": 1537993633, "post_id": 52525034, "comment_id": 91990955, "body": "@GabrielWeiss Did you try what I proposed in my answer by using the P/Invoke method to redraw the entire screen..?"}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "reply_to_user": {"reputation": 300, "user_id": 4813939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4505ceeee53e3c630395f0088de79072?s=128&d=identicon&r=PG&f=1", "display_name": "Emcrank", "link": "https://stackoverflow.com/users/4813939/emcrank"}, "edited": false, "score": 0, "creation_date": 1537994087, "post_id": 52525034, "comment_id": 91991149, "body": "@Emcrank, i tried, but i am really new with c# and i cant make it working.. i add                 InvalidateRect(hWnd, IntPtr.Zero, true); and appear: hWnd dont exist in actual context. I also import:         [DllImport(&quot;user32.dll&quot;)]         static extern bool InvalidateRect(IntPtr hWnd, IntPtr lpRect, bool bErase);"}], "tags": [], "owner": {"reputation": 28506, "user_id": 86860, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/24414172673338a6bce690a6eeb53f64?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/86860/nate"}, "is_accepted": false, "score": 0, "last_activity_date": 1537990972, "creation_date": 1537990972, "answer_id": 52525034, "question_id": 52524946, "link": "https://stackoverflow.com/questions/52524946/c-how-to-erase-draw-rectangle-on-screen/52525034#52525034", "title": "C# - How to erase draw rectangle on screen?", "body": "<p>You need to cause the window you are drawing to, to repaint itself between your iterations. An alternative solution would have you capture the window to an in-memory image; draw your rectangle on a copy of that image, then draw the image to the window. Repeating this process each time, so that the target window doesn't have artifacts from previous iterations. </p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537991574, "post_id": 52525059, "comment_id": 91990023, "body": "I used:     this.Refresh();    this.Invalidate();, but the rectangles that i draw OUTSIDE the form are not erased. Ideas on how to erase rectangles that are out  form1?"}, {"owner": {"reputation": 300, "user_id": 4813939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4505ceeee53e3c630395f0088de79072?s=128&d=identicon&r=PG&f=1", "display_name": "Emcrank", "link": "https://stackoverflow.com/users/4813939/emcrank"}, "reply_to_user": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 1, "creation_date": 1537991916, "post_id": 52525059, "comment_id": 91990151, "body": "You shouldn&#39;t need to call both, Invalidate() requests that it is redrawn when it is next due and Refresh() will force it to be redrawn immediately. As for drawing outside the form I will have to have a think, been a while."}, {"owner": {"reputation": 300, "user_id": 4813939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4505ceeee53e3c630395f0088de79072?s=128&d=identicon&r=PG&f=1", "display_name": "Emcrank", "link": "https://stackoverflow.com/users/4813939/emcrank"}, "reply_to_user": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537992046, "post_id": 52525059, "comment_id": 91990208, "body": "If you take a look at this - <a href=\"https://www.pinvoke.net/default.aspx/user32.invalidaterect\" rel=\"nofollow noreferrer\">pinvoke.net/default.aspx/user32.invalidaterect</a>, that looks like it will do what you are after. I don&#39;t think you will be able to do it in managed code outside of the bounds of the form. I have updated my answer to include this."}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537994533, "post_id": 52525059, "comment_id": 91991313, "body": "Error happened: Argument2: Its not possible convert  &quot;&lt;null&gt;&quot; for &quot;IntPtr&quot;"}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537994797, "post_id": 52525059, "comment_id": 91991422, "body": "Edit: i think i could make it... InvalidateRect(IntPtr.Zero, IntPtr.Zero, true);"}, {"owner": {"reputation": 300, "user_id": 4813939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4505ceeee53e3c630395f0088de79072?s=128&d=identicon&r=PG&f=1", "display_name": "Emcrank", "link": "https://stackoverflow.com/users/4813939/emcrank"}, "reply_to_user": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1537995483, "post_id": 52525059, "comment_id": 91991691, "body": "If you want to pass null, you will need to define the RECT structure. I&#39;ve also added that to the answer."}, {"owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "edited": false, "score": 0, "creation_date": 1538073274, "post_id": 52525059, "comment_id": 92026146, "body": "Thanks for your Answer @Emcrank, helped a lot!!"}], "tags": [], "owner": {"reputation": 300, "user_id": 4813939, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4505ceeee53e3c630395f0088de79072?s=128&d=identicon&r=PG&f=1", "display_name": "Emcrank", "link": "https://stackoverflow.com/users/4813939/emcrank"}, "is_accepted": true, "score": 0, "last_activity_date": 1537995454, "last_edit_date": 1537995454, "creation_date": 1537991079, "answer_id": 52525059, "question_id": 52524946, "link": "https://stackoverflow.com/questions/52524946/c-how-to-erase-draw-rectangle-on-screen/52525059#52525059", "title": "C# - How to erase draw rectangle on screen?", "body": "<p>You could call the <code>Invalidate()</code> method which will request the region be redrawn by calling the paint method again.</p>\n\n<p>See <a href=\"https://msdn.microsoft.com/en-us/library/aa334877(v=vs.71).aspx\" rel=\"nofollow noreferrer\">Control.Invalidate()</a> on MSDN</p>\n\n<p>In your scenario, something like this?</p>\n\n<pre><code>int i = 0;\nwhile (i != 1)\n{\n    int x = Cursor.Position.X;\n    int y = Cursor.Position.Y;\n    Graphics g = Graphics.FromHwnd(IntPtr.Zero);\n    Rectangle mouseNewRect = new Rectangle(new Point(x, y), new Size(30, 30));\n    g.DrawRectangle(new Pen(Brushes.Chocolate), mouseNewRect);\n    Wait(500);\n    Invalidate();\n}\n</code></pre>\n\n<p>As for refreshing the entire screen, you could use this p/invoke.\n<a href=\"https://www.pinvoke.net/default.aspx/user32.invalidaterect\" rel=\"nofollow noreferrer\">https://www.pinvoke.net/default.aspx/user32.invalidaterect</a></p>\n\n<pre><code>[DllImport(\"user32.dll\")]\nstatic extern bool InvalidateRect(IntPtr hWnd, RECT lpRect, bool bErase);\n\n[StructLayout(LayoutKind.Sequential)]\npublic struct RECT\n{\n   public int Left, Top, Right, Bottom;\n\n   public RECT(int left, int top, int right, int bottom)\n   {\n     Left = left;\n     Top = top;\n     Right = right;\n     Bottom = bottom;\n   }\n\n   public RECT(System.Drawing.Rectangle r) : this(r.Left, r.Top, r.Right, r.Bottom) { }\n\n   public int X\n   {\n     get { return Left; }\n     set { Right -= (Left - value); Left = value; }\n   }\n\n   public int Y\n   {\n     get { return Top; }\n     set { Bottom -= (Top - value); Top = value; }\n   }\n\n   public int Height\n   {\n     get { return Bottom - Top; }\n     set { Bottom = value + Top; }\n   }\n\n   public int Width\n   {\n     get { return Right - Left; }\n     set { Right = value + Left; }\n   }\n\n   public System.Drawing.Point Location\n   {\n     get { return new System.Drawing.Point(Left, Top); }\n     set { X = value.X; Y = value.Y; }\n   }\n\n   public System.Drawing.Size Size\n   {\n     get { return new System.Drawing.Size(Width, Height); }\n     set { Width = value.Width; Height = value.Height; }\n   }\n\n   public static implicit operator System.Drawing.Rectangle(RECT r)\n   {\n     return new System.Drawing.Rectangle(r.Left, r.Top, r.Width, r.Height);\n   }\n\n   public static implicit operator RECT(System.Drawing.Rectangle r)\n   {\n     return new RECT(r);\n   }\n\n   public static bool operator ==(RECT r1, RECT r2)\n   {\n     return r1.Equals(r2);\n   }\n\n   public static bool operator !=(RECT r1, RECT r2)\n   {\n     return !r1.Equals(r2);\n   }\n\n   public bool Equals(RECT r)\n   {\n     return r.Left == Left &amp;&amp; r.Top == Top &amp;&amp; r.Right == Right &amp;&amp; r.Bottom == Bottom;\n   }\n\n   public override bool Equals(object obj)\n   {\n     if (obj is RECT)\n       return Equals((RECT)obj);\n     else if (obj is System.Drawing.Rectangle)\n       return Equals(new RECT((System.Drawing.Rectangle)obj));\n     return false;\n   }\n\n   public override int GetHashCode()\n   {\n     return ((System.Drawing.Rectangle)this).GetHashCode();\n   }\n\n   public override string ToString()\n   {\n     return string.Format(System.Globalization.CultureInfo.CurrentCulture, \"{{Left={0},Top={1},Right={2},Bottom={3}}}\", Left, Top, Right, Bottom);\n   }\n}\n</code></pre>\n\n<p>Then use it by calling </p>\n\n<pre><code>InvalidateRect(IntPtr.Zero, null, true);\n</code></pre>\n\n<p>Passing null and true as the second and third parameter should cause the entire screen to be redrawn.</p>\n"}, {"tags": [], "owner": {"reputation": 2940, "user_id": 2322038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mvbr0.jpg?s=128&g=1", "display_name": "dbvega", "link": "https://stackoverflow.com/users/2322038/dbvega"}, "is_accepted": false, "score": 0, "last_activity_date": 1537996016, "creation_date": 1537996016, "answer_id": 52526029, "question_id": 52524946, "link": "https://stackoverflow.com/questions/52524946/c-how-to-erase-draw-rectangle-on-screen/52526029#52526029", "title": "C# - How to erase draw rectangle on screen?", "body": "<p>The solution posted by @Emcrank works. </p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n\n        Load += async delegate\n        {\n            var g = Graphics.FromHwnd(IntPtr.Zero);\n            var mouseNewRect = new Rectangle(Point.Empty, new Size(30, 30));\n            var pen = new Pen(Brushes.Chocolate);\n            while (true)\n            {\n                mouseNewRect.Location = Cursor.Position;\n                g.DrawRectangle(pen, mouseNewRect);\n                await Task.Delay(500);\n                InvalidateRect(IntPtr.Zero, IntPtr.Zero, true);\n            }\n        };\n    }\n\n    [DllImport(\"user32.dll\")]\n    static extern bool InvalidateRect(IntPtr hWnd, IntPtr lpRect, bool bErase);\n}\n</code></pre>\n\n<p>Anyway, if you want to paint the mouse position inside the form, there are a much better solution.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    private Rectangle _rect = new Rectangle(0, 0, 30, 30);\n    private readonly Pen _pen = new Pen(Brushes.Chocolate);\n    public Form1()\n    {\n        InitializeComponent();\n        SetStyle(ControlStyles.UserPaint | ControlStyles.OptimizedDoubleBuffer, true);\n    }\n\n    protected override void OnMouseMove(MouseEventArgs e)\n    {\n        _rect.Location = e.Location;\n        Invalidate(ClientRectangle);\n        base.OnMouseMove(e);\n    }\n\n    protected override void OnPaint(PaintEventArgs e)\n    {\n        //--improve graphics quality\n        var g = e.Graphics;\n        g.CompositingQuality = CompositingQuality.HighQuality;\n        g.SmoothingMode = SmoothingMode.AntiAlias;\n\n        _rect.Offset(-15, -15); //--center rect\n\n        e.Graphics.DrawRectangle(_pen, _rect);\n\n        base.OnPaint(e);\n    }\n}\n</code></pre>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 11, "user_id": 10386682, "user_type": "registered", "profile_image": "https://graph.facebook.com/1550005441759345/picture?type=large", "display_name": "Gabriel Weiss", "link": "https://stackoverflow.com/users/10386682/gabriel-weiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2514, "favorite_count": 0, "accepted_answer_id": 52525059, "answer_count": 3, "score": 0, "last_activity_date": 1537996016, "creation_date": 1537990599, "last_edit_date": 1537994030, "question_id": 52524946, "link": "https://stackoverflow.com/questions/52524946/c-how-to-erase-draw-rectangle-on-screen", "title": "C# - How to erase draw rectangle on screen?", "body": "<p>I am using this code to draw a rectangle that will be re-draw again after 500ms at mouse position.</p>\n\n<p>Everything is fine, the rectangle draw works perfectly, but with this code, the old rectangles that have already been draw on screen keep on screen forever, they don't be erased.</p>\n\n<p>I need that the old rectangles to be erased after the new one is made. The new rectangle is made with while loop.</p>\n\n<pre><code>int i = 0;\nwhile (i != 1)\n{\n    int x = Cursor.Position.X;\n    int y = Cursor.Position.Y;\n    Graphics g = Graphics.FromHwnd(IntPtr.Zero);\n    Rectangle mouseNewRect = new Rectangle(new Point(x, y), new Size(30, 30));\n    g.DrawRectangle(new Pen(Brushes.Chocolate), mouseNewRect);\n    Wait(500);\n}\n</code></pre>\n\n<p>EDIT: I need to erase the rectangles that are both inside and OUTSIDE the form. Ideas?</p>\n"}, {"tags": ["c#", ".net", "gps"], "comments": [{"owner": {"reputation": 31, "user_id": 7754096, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ywkASI1N6OE/AAAAAAAAAAI/AAAAAAAAATg/GMT0pqA8Hn8/photo.jpg?sz=128", "display_name": "Giancarlo Molina", "link": "https://stackoverflow.com/users/7754096/giancarlo-molina"}, "edited": false, "score": 0, "creation_date": 1611236156, "post_id": 52524876, "comment_id": 116389483, "body": "this solution works <a href=\"https://stackoverflow.com/questions/44471975/gps-socket-communication-concox/44673435\" title=\"gps socket communication concox\">stackoverflow.com/questions/44471975/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 11937247, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/db27b9c2aa7332faca030dd8d1ba3779?s=128&d=identicon&r=PG", "display_name": "davidson fernandes da silva", "link": "https://stackoverflow.com/users/11937247/davidson-fernandes-da-silva"}, "is_accepted": true, "score": 0, "last_activity_date": 1565975394, "creation_date": 1565975394, "answer_id": 57528637, "question_id": 52524876, "link": "https://stackoverflow.com/questions/52524876/gps-tracker-gt06-send-login-packet-to-terminal-in-c/57528637#57528637", "title": "GPS Tracker GT06 Send login packet to terminal in C#", "body": "<p>You should add after the serialNo , the Error Check you received in the beginning. </p>\n\n<p>Example: \"78780501\" + serialNo + ErrorCheck + \"0D0A\";</p>\n"}], "owner": {"reputation": 43, "user_id": 2257640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ObiXR.jpg?s=128&g=1", "display_name": "Hiren Lad", "link": "https://stackoverflow.com/users/2257640/hiren-lad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 1, "accepted_answer_id": 57528637, "answer_count": 1, "score": 1, "last_activity_date": 1565975394, "creation_date": 1537990292, "question_id": 52524876, "link": "https://stackoverflow.com/questions/52524876/gps-tracker-gt06-send-login-packet-to-terminal-in-c", "title": "GPS Tracker GT06 Send login packet to terminal in C#", "body": "<p>I am implementing the GT06 GPS tracking protocol. In which i am getting login packets continuously from the terminal but i cannot receive the location data from the terminal after successfully send the login packets response to terminals. Below is the detail information.</p>\n\n<p>Received String from the terminal to server:</p>\n\n<blockquote>\n  <p>78-78-0D-01-03-58-51-10-22-16-34-42-00-03-1A-8E-0D-0A</p>\n</blockquote>\n\n<p>Code for send login packets response from server to terminal:</p>\n\n<pre><code>    string sendData = \"78780501\" + serialNo + \"D9DC0D0A\";\n    Send(handler, sendData);\n\n    private static void Send(Socket handler, String data)\n    {\n\n        byte[] byteData = StringToByteArray(data);\n        handler.BeginSend(byteData, 0, byteData.Length, 0,\n            new AsyncCallback(SendCallback), handler);\n    }\n\n    private static void SendCallback(IAsyncResult ar)\n    {\n        try\n        {\n            // Retrieve the socket from the state object.  \n            Socket handler = (Socket)ar.AsyncState;\n\n            // Complete sending the data to the remote device.  \n            int bytesSent = handler.EndSend(ar);\n            Console.WriteLine(\"Sent {0} bytes to client.\", bytesSent);\n\n            handler.Shutdown(SocketShutdown.Both);\n            handler.Close();\n\n        }\n        catch (Exception e)\n        {\n            Console.WriteLine(e.ToString());\n        }\n    }\n\n    public static byte[] StringToByteArray(String hex)\n    {\n        int NumberChars = hex.Length;\n        byte[] bytes = new byte[NumberChars / 2];\n        for (int i = 0; i &lt; NumberChars; i += 2)\n            bytes[i / 2] = Convert.ToByte(hex.Substring(i, 2), 16);\n        return bytes;\n    }\n</code></pre>\n\n<p>Above is the code which i am currently using but its not working for me. Every time i received the login packets instead of location data. Please guide me where i need correct the code.</p>\n\n<p>Thanks,\nHiren Lad.</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 43407, "user_id": 2791540, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/bbd133916bdbabcde7c31ab28f4b4e6b?s=128&d=identicon&r=PG&f=1", "display_name": "John Wu", "link": "https://stackoverflow.com/users/2791540/john-wu"}, "edited": false, "score": 0, "creation_date": 1537992920, "post_id": 52524835, "comment_id": 91990640, "body": "Your screen shot shows only 3 entries that occurred on 9/26. Is it possible the other entries are simply being filtered out by <code>entry.TimeWritten &gt;= DateTime.Today</code>? You might want to use <code>TimeWritten &gt;= DateTime.Now.AddHours(-24)</code> instead."}], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 1, "last_activity_date": 1537990629, "creation_date": 1537990629, "answer_id": 52524956, "question_id": 52524835, "link": "https://stackoverflow.com/questions/52524835/issue-reading-system-event-errors-c/52524956#52524956", "title": "Issue Reading System Event Errors C#", "body": "<p>The code is doing exactly what you are asking of it, retrieving everything that has a date <strong>greater than or starting on the beginning of today</strong>. Your filtered view in the screen shot is everything that happened in the last 24 hours, that is not the same. </p>\n\n<p>If you wanted to use that view then change your where clause.</p>\n\n<pre><code>var twentyFourHoursAgo = DateTime.Now.AddHours(-24); // not sure if this should be UTC or local, change to UtcNow if applicable\n\nList &lt;EventLogEntry&gt; entries = (from entry in aLog.Entries.Cast&lt;EventLogEntry&gt;()\n       where entry.TimeWritten &gt;= twentyFourHoursAgo &amp;&amp;\n             entry.EntryType == EventLogEntryType.Error\n       orderby entry.TimeWritten descending\n       select entry).ToList();\n</code></pre>\n"}], "owner": {"reputation": 709, "user_id": 5313605, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ef0fcbbded463b4ddfe2ddbcfcf6cd64?s=128&d=identicon&r=PG&f=1", "display_name": "nlstack01", "link": "https://stackoverflow.com/users/5313605/nlstack01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 52524956, "answer_count": 1, "score": 1, "last_activity_date": 1537990629, "creation_date": 1537990052, "question_id": 52524835, "link": "https://stackoverflow.com/questions/52524835/issue-reading-system-event-errors-c", "title": "Issue Reading System Event Errors C#", "body": "<p>The code below works ok on a Win7 machine, but when I run it on Win10 it only displays the first 3 errors and stops</p>\n\n<pre><code>    string machine = \".\";\n    var aLog = new EventLog(\"system\", machine);\n\n    List &lt;EventLogEntry&gt; entries = (from entry in aLog.Entries.Cast&lt;EventLogEntry&gt;()\n                                   where entry.TimeWritten &gt;= DateTime.Today &amp;&amp;\n                                         entry.EntryType == EventLogEntryType.Error\n                                   orderby entry.TimeWritten descending\n                                   select entry).ToList();\n\n    Console.WriteLine(\"COUNT= \" +entries.Count); //This is 3 but there is 10 system errors\n    foreach(var entry in entries)\n    {\n        Console.WriteLine(entry.Source);\n        Console.WriteLine(entry.Message);\n        Console.WriteLine();\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lmDZN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lmDZN.png\" alt=\"EventViewer\"></a></p>\n"}, {"tags": ["c#", "objectlistview"], "comments": [{"owner": {"reputation": 15044, "user_id": 416574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e6a3e7975350dea41b2cf3fa46c407?s=128&d=identicon&r=PG", "display_name": "pstrjds", "link": "https://stackoverflow.com/users/416574/pstrjds"}, "edited": false, "score": 0, "creation_date": 1537990099, "post_id": 52524779, "comment_id": 91989334, "body": "Setting <code>IsVisible</code> to <code>true</code> will not hide the column. You need to set it to <code>false</code>"}, {"owner": {"reputation": 2009, "user_id": 1444075, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6968bbf6add01b859969ce084662eedd?s=128&d=identicon&r=PG", "display_name": "Juw", "link": "https://stackoverflow.com/users/1444075/juw"}, "reply_to_user": {"reputation": 15044, "user_id": 416574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80e6a3e7975350dea41b2cf3fa46c407?s=128&d=identicon&r=PG", "display_name": "pstrjds", "link": "https://stackoverflow.com/users/416574/pstrjds"}, "edited": false, "score": 0, "creation_date": 1537990608, "post_id": 52524779, "comment_id": 91989556, "body": "@pstrds not the issue...but have edited my original post."}, {"owner": {"reputation": 5310, "user_id": 1790864, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/u8BJF.png?s=128&g=1", "display_name": "Rev", "link": "https://stackoverflow.com/users/1790864/rev"}, "edited": false, "score": 0, "creation_date": 1538032566, "post_id": 52524779, "comment_id": 92002194, "body": "You can just access colRating.IsVisible from code. Its an instance variable created by the designer. No need for &quot;this.&quot; or &quot;cars.&quot;."}, {"owner": {"reputation": 2009, "user_id": 1444075, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6968bbf6add01b859969ce084662eedd?s=128&d=identicon&r=PG", "display_name": "Juw", "link": "https://stackoverflow.com/users/1444075/juw"}, "reply_to_user": {"reputation": 5310, "user_id": 1790864, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/u8BJF.png?s=128&g=1", "display_name": "Rev", "link": "https://stackoverflow.com/users/1790864/rev"}, "edited": false, "score": 0, "creation_date": 1538111350, "post_id": 52524779, "comment_id": 92036495, "body": "@Rev1.0 i couldn&#180;t...something happened. But after i deleted the columns and added them again...i suddenly could access colRating though code."}], "owner": {"reputation": 2009, "user_id": 1444075, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6968bbf6add01b859969ce084662eedd?s=128&d=identicon&r=PG", "display_name": "Juw", "link": "https://stackoverflow.com/users/1444075/juw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 577, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538111456, "creation_date": 1537989773, "last_edit_date": 1538111456, "question_id": 52524779, "link": "https://stackoverflow.com/questions/52524779/hide-display-column-objectlistview", "title": "Hide/display column (ObjectListView)?", "body": "<p>I am using ObjectListView in C# trying to hide/show a column (\"colRating\") in an ObjectListView called \"cars\". In the docs there is this code snippet:</p>\n\n<pre><code>this.olvColumn2.IsVisible = false;\nthis.olv1.RebuildColumns();\n</code></pre>\n\n<p>Problem is that i can\u00b4t use \"this\" because i want to change another listView. So i tried this:</p>\n\n<pre><code>cars.colRating.IsVisible = false;\n</code></pre>\n\n<p>It doesn\u00b4t work. Tried using:</p>\n\n<pre><code>cars.AllColumns[\"colRating\"].IsVisble = false;\n</code></pre>\n\n<p>Any help appriciated!</p>\n\n<p>[UPDATE]\nThis is solved! For some reason i could not access the columns in code. But after deleting the columns and adding them again i could access the actual column name in code.</p>\n"}, {"tags": ["c#", "asp.net", "parent-child", "accounting", "nested-gridview"], "answers": [{"tags": [], "owner": {"reputation": 651, "user_id": 6759690, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/70d3f7a2964e4d666358db6b6e2c825d?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/6759690/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1538104455, "creation_date": 1538104455, "answer_id": 52547768, "question_id": 52524717, "link": "https://stackoverflow.com/questions/52524717/nested-gridview-grand-parent-parent-child/52547768#52547768", "title": "Nested Gridview, Grand Parent, Parent ,Child", "body": "<p>You need to reset to zero after each nested gridview's rowdatabound is finished. Before reset to zero, you can add sum balance into the balance of parent gridview. </p>\n"}], "owner": {"reputation": 69, "user_id": 10407552, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y-eKkEKy31o/AAAAAAAAAAI/AAAAAAAAAAc/40eJ22XuiOs/photo.jpg?sz=128", "display_name": "The_Programmer92", "link": "https://stackoverflow.com/users/10407552/the-programmer92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 709, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538104455, "creation_date": 1537989483, "last_edit_date": 1538029029, "question_id": 52524717, "link": "https://stackoverflow.com/questions/52524717/nested-gridview-grand-parent-parent-child", "title": "Nested Gridview, Grand Parent, Parent ,Child", "body": "<p>help me with this, i want to show the sum of child row balance on parent row balance column and sum of parent row on balance on grand parent row balance column,</p>\n\n<p>Problem is when i use foreach loop for getting the balance it duplicating the balance,on the rows that do not have balance.</p>\n\n<pre><code>    protected void gvCategory_RowDataBound(object sender, GridViewRowEventArgs e)\n{\n    if (e.Row.RowType == DataControlRowType.DataRow)\n    {\n        GridView gvType = (GridView)sender;\n        string CategoryId = gvType.DataKeys[e.Row.RowIndex].Value.ToString();\n        GridView GvAccount = e.Row.FindControl(\"gvType\") as GridView;\n        Label lblCurrentBalance = e.Row.FindControl(\"lblCCurrentBalance\") as Label;\n        GvAccount.DataSource = GetData(string.Format(\"select * from COA_Type where SubCategoryId='{0}'\", CategoryId));\n        GvAccount.DataBind();\n        foreach (GridViewRow row in GvAccount.Rows)\n        {\n            if (row.Cells[3].Text != null)\n            {\n                NatureBalance += Convert.ToDecimal(((Label)row.Cells[3].FindControl(\"lblTCurrentBalance\") as Label).Text);\n            }\n            lblCurrentBalance.Text = NatureBalance.ToString();\n        }\n\n     }\n}\n\nprotected void gvType_RowDataBound(object sender, GridViewRowEventArgs e)\n{\n    if (e.Row.RowType == DataControlRowType.DataRow)\n    {\n        GridView gvAccount = (GridView)sender;\n        Label lblCurrentB = e.Row.FindControl(\"lblTCurrentBalance\") as Label;\n        string TypeId = gvAccount.DataKeys[e.Row.RowIndex].Value.ToString();\n        GridView GvAccount = e.Row.FindControl(\"GvAccount\") as GridView;\n        DtAc = obj.GetClientAccounts(Convert.ToInt32(Session[\"ClientId\"]), Convert.ToInt32(TypeId));\n        CategoryBalance = DtAc.AsEnumerable().Sum(row =&gt; row.Field&lt;decimal&gt;(\"CurrentBalance\"));\n        lblCurrentB.Text = CategoryBalance.ToString();\n\n        GvAccount.DataSource = DtAc;\n        GvAccount.DataBind();\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hXf5n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hXf5n.png\" alt=\"\"></a></p>\n"}, {"tags": ["c#", ".net", "bitmap"], "comments": [{"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1538004069, "post_id": 52524712, "comment_id": 91994192, "body": "From the docs: <code>If the image has an indexed pixel format, this method throws an exception [...]. The indexed pixel formats are shown in the following list: Format1bppIndexed,  Format4bppIndexe,  Format8bppIndexed  This method also throws an exception if the image has any of the following pixel formats.  Undefined,  DontCare,  Format16bppArgb1555  Format16bppGrayScale</code> So they are apparently not supported by GDI+ for some reason. <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.drawing.graphics.fromimage?view=netframework-4.7.2#remarks\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1538004257, "post_id": 52524712, "comment_id": 91994238, "body": "And it&#39;s not actually a real out of memory exception. It has to do with the fact that GDI only has like twenty error codes. See Hans&#39; answer: <a href=\"https://stackoverflow.com/a/2610506/491907\">stackoverflow.com/a/2610506/491907</a>. This may help as well <a href=\"https://stackoverflow.com/a/4680139/491907\">stackoverflow.com/a/4680139/491907</a>"}, {"owner": {"reputation": 357, "user_id": 10286496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d69e9a8ef70dcc0503e7020495bbdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ves", "link": "https://stackoverflow.com/users/10286496/ves"}, "reply_to_user": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1538014624, "post_id": 52524712, "comment_id": 91996393, "body": "@pinkfloydx33 It actually throws a different error for Indexed PixelFomats: &quot;A Graphics object cannot be created from an image that has an indexed pixel format.&quot;  - thanks for the link to the expected behavior, even though they don&#39;t explain why!"}], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 10286496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d69e9a8ef70dcc0503e7020495bbdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ves", "link": "https://stackoverflow.com/users/10286496/ves"}, "is_accepted": true, "score": 0, "last_activity_date": 1538148060, "creation_date": 1538148060, "answer_id": 52558378, "question_id": 52524712, "link": "https://stackoverflow.com/questions/52524712/c-net-calling-graphics-fromimagemybitmap-with-certain-pixelformat-throws-out/52558378#52558378", "title": "C# .Net calling Graphics.FromImage(myBitmap) with certain PixelFormat throws Out of Memory Exception", "body": "<p>@pinkfloydx33 has the solution in his comment:</p>\n\n<p>From the docs: This method also throws an exception if the image has any of the following pixel formats... Format16bppArgb1555 Format16bppGrayScale </p>\n\n<p>So they are apparently not supported by GDI+ for some reason. \ndocs.microsoft.com/en-us/dotnet/api/\u2026 </p>\n\n<p>These formats are not supported by GDI+ and there are not enough error codes to handle the reason so it throws \"Out of Memory\"</p>\n"}], "owner": {"reputation": 357, "user_id": 10286496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d69e9a8ef70dcc0503e7020495bbdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ves", "link": "https://stackoverflow.com/users/10286496/ves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 52558378, "answer_count": 1, "score": 1, "last_activity_date": 1538148060, "creation_date": 1537989470, "question_id": 52524712, "link": "https://stackoverflow.com/questions/52524712/c-net-calling-graphics-fromimagemybitmap-with-certain-pixelformat-throws-out", "title": "C# .Net calling Graphics.FromImage(myBitmap) with certain PixelFormat throws Out of Memory Exception", "body": "<p>I was creating a little tool to do some icon drawing and I ran into an error which I cannot find an explanation for. The first PixelFormat I chose caused an Out of Memory exception. (I chose the first one in the list with an Alpha Channel: Format16bppArgb1555). \nSimply changing to the next alpha format down the list fixed my problem, but I was curious as to why I was getting the error, so I decided to test all PixelFormats. There are many formats which the documentation says will not work, but these 2 seem like they should.</p>\n\n<p><strong>Why do <code>Format16bppArgb1555</code> and <code>Format16bppGrayScale</code> cause Out of Memory exceptions when calling Graphics.FromImage()?</strong></p>\n\n<p>Here is the test code I made:</p>\n\n<pre><code>    Bitmap myBitmap=null;\n    Graphics myGraphics=null;\n\n    foreach ( PixelFormat pixFormat in Enum.GetValues(typeof(System.Drawing.Imaging.PixelFormat)))\n    {\n        Console.WriteLine();\n        try\n        {\n            myBitmap = new Bitmap(192, 192, pixFormat);\n            Console.WriteLine(\"Good Bitmap\" + PixFormatToString(pixFormat));\n            myGraphics = Graphics.FromImage(myBitmap);\n\n        }\n        catch( Exception e)\n        {\n            if (myBitmap == null)\n            {\n                Console.WriteLine(\"Bad Bitmap \" + PixFormatToString(pixFormat));\n                Console.WriteLine(e.Message);\n            }\n            else\n            {\n                Console.WriteLine(\"Bad Graphics \" + PixFormatToString(pixFormat));\n                Console.WriteLine(e.Message);\n            }\n\n        }\n        finally\n        {\n            if (myBitmap != null)\n                myBitmap.Dispose();\n            if (myGraphics != null)\n                myGraphics.Dispose();\n            myBitmap = null;\n            myGraphics = null;\n        }\n    }\n</code></pre>\n\n<p>Here is the compressed output:</p>\n\n<pre><code>UNEXPECTED ERRORS:\nBad Graphics Format16bppArgb1555\nOut of memory.\n\nBad Graphics Format16bppGrayScale\nOut of memory.\n\n\nExpected Errors Bad Bitmaps(not valid to use these PixelFormats for Bitmaps):\nUndefined,Max,Indexed,Gdi,Alpha,PAlpha,Extended,Canonical\n\nExpected Errors Bad Graphics(cannot create graphics from indexed formats):\nBitmapFormat1bppIndexed,BitmapFormat4bppIndexed,Format8bppIndexed\n\nGood Bitmaps and Graphics:\n BitmapFormat16bppRgb555\n BitmapFormat16bppRgb565\n BitmapFormat24bppRgb\n BitmapFormat32bppRgb\n BitmapFormat32bppPArgb\n BitmapFormat32bppArgb\n BitmapFormat48bppRgb\n BitmapFormat64bppPArgb\n BitmapFormat64bppArgb\n</code></pre>\n"}, {"tags": ["c#", "asp.net-mvc", "razor", "ext.net"], "answers": [{"tags": [], "owner": {"reputation": 3068, "user_id": 7225096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R4k9r.jpg?s=128&g=1", "display_name": "Peska", "link": "https://stackoverflow.com/users/7225096/peska"}, "is_accepted": true, "score": 1, "last_activity_date": 1538031278, "creation_date": 1538031278, "answer_id": 52531142, "question_id": 52524670, "link": "https://stackoverflow.com/questions/52524670/ext-net-hyperlinkcolumn-not-displaying/52531142#52531142", "title": "Ext.NET HyperlinkColumn not displaying", "body": "<p>You are missing DataIndex for HyperlinkColumn:</p>\n\n<pre><code>Html.X().HyperlinkColumn()\n    .DataIndex(\"Id\")\n    .DataIndexHref(\"Id\")\n    .Text(\"Detail\")\n    .HrefPattern(Url.Action(\"Index\", \"Detail\"))\n</code></pre>\n"}], "owner": {"reputation": 3389, "user_id": 3121975, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/27507c7b9958f8863c6640543baec276?s=128&d=identicon&r=PG&f=1", "display_name": "Woody1193", "link": "https://stackoverflow.com/users/3121975/woody1193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52531142, "answer_count": 1, "score": 0, "last_activity_date": 1538031278, "creation_date": 1537989316, "last_edit_date": 1537989901, "question_id": 52524670, "link": "https://stackoverflow.com/questions/52524670/ext-net-hyperlinkcolumn-not-displaying", "title": "Ext.NET HyperlinkColumn not displaying", "body": "<p>I have a <code>HyperlinkColumn</code> in a <code>GridView</code> with the following code:</p>\n\n<pre><code>Html.X().GridPanel().ID(\"MyId\")\n    .View(Html.X().GridView().StripeRows(false))\n\n        .Store(Html.X().Store().AutoLoad(true)\n            .Model(Html.X().Model().Fields(\n                new ModelField(\"Name\", ModelFieldType.String),\n                new ModelField(\"Id\", ModelFieldType.Int)))\n            .Proxy(Html.X().AjaxProxy()\n                .Url(Url.Action(\"GetItems\", \"Home\"))\n            .Reader(Html.X().JsonReader().RootProperty(\"data\").ReadRecordsOnFailure(false))))\n\n        .ColumnModel(\n            x.Column().DataIndex(\"Name\"),\n            x.HyperlinkColumn().DataIndexHref(\"Id\").Text(\"Detail\")\n                .HrefPattern(Url.Action(\"Index\", \"Detail\")))\n</code></pre>\n\n<p>and here's my controller:</p>\n\n<pre><code>public ActionResult Index()\n{\n    var viewModel = MyFactory.Create();\n    return View(viewModel);\n}\n\npublic ActionResult GetItems()\n{\n    var test = new Item {Name = \"Test dashboard\", Id = 42};\n    return new StoreResult(new List&lt;Item&gt;() {test});\n}\n</code></pre>\n\n<p>It all at least works except that the <code>HyperlinkColumn</code> doesn't display. Can anyone tell me what I'm doing wrong with respect to that column here? Thanks!</p>\n"}, {"tags": ["c#", "asp.net-core", ".net-core", "tcplistener", "asp.net-core-hosted-services"], "comments": [{"owner": {"reputation": 263, "user_id": 5358739, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/f584b06469f9ef65d06407edf5357117?s=128&d=identicon&r=PG&f=1", "display_name": "A Houghton", "link": "https://stackoverflow.com/users/5358739/a-houghton"}, "edited": false, "score": 0, "creation_date": 1611755794, "post_id": 52524636, "comment_id": 116552500, "body": "What route did you go down in the end for this?"}], "answers": [{"comments": [{"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "edited": false, "score": 1, "creation_date": 1538042182, "post_id": 52534151, "comment_id": 92007691, "body": "@agnsaft  Because you cannot inject hosted service into controller directly , you should introduce an object serving as mediator . The IMediator  is no more than a singleton service ."}, {"owner": {"reputation": 1481, "user_id": 37002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9321ab3b8c29b5ea0c4e2c94606c51ba?s=128&d=identicon&r=PG", "display_name": "agnsaft", "link": "https://stackoverflow.com/users/37002/agnsaft"}, "edited": false, "score": 0, "creation_date": 1540242903, "post_id": 52534151, "comment_id": 92784872, "body": "Unfortunately, I could not get this to work. Could you elaborate a bit on how the Mediator is added and what the ExecHandler is for?"}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "reply_to_user": {"reputation": 1481, "user_id": 37002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9321ab3b8c29b5ea0c4e2c94606c51ba?s=128&d=identicon&r=PG", "display_name": "agnsaft", "link": "https://stackoverflow.com/users/37002/agnsaft"}, "edited": false, "score": 0, "creation_date": 1540246847, "post_id": 52534151, "comment_id": 92786106, "body": "@agnsaft  The <code>IMediator</code> is no more than a plain singleton service, which is used to interact with your TCP Server from controllers . Probably you might have several hosted services to interact with, so I use a observer pattern here . All Hosted Services register event handlers throught an custom <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/event\" rel=\"nofollow noreferrer\">event</a> of <code>ExecHandler</code>.  To add the Mediator, simply register it as a singleton service: <code>services.AddSingleton&lt;IMediator,Mediator&gt;()</code> ."}, {"owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "reply_to_user": {"reputation": 1481, "user_id": 37002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9321ab3b8c29b5ea0c4e2c94606c51ba?s=128&d=identicon&r=PG", "display_name": "agnsaft", "link": "https://stackoverflow.com/users/37002/agnsaft"}, "edited": false, "score": 0, "creation_date": 1540247140, "post_id": 52534151, "comment_id": 92786188, "body": "@agnsaft Oh I forgot to mention that the <code>ExecHandler</code> is a plain delegate, you can custom the delegate as you need. Since we expect something like <code>string Exec1(string)</code> here , we can define the <code>ExecHandler</code> as <code>public delegate string ExecHandler(string status);</code> ."}], "tags": [], "owner": {"reputation": 17465, "user_id": 10091607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43cf7091720f30ab76ac44b1b597225a?s=128&d=identicon&r=PG", "display_name": "itminus", "link": "https://stackoverflow.com/users/10091607/itminus"}, "is_accepted": true, "score": 7, "last_activity_date": 1538041766, "creation_date": 1538041766, "answer_id": 52534151, "question_id": 52524636, "link": "https://stackoverflow.com/questions/52524636/ihostedservice-for-tcp-servers-in-net-core/52534151#52534151", "title": "IHostedService for tcp servers in .NET Core", "body": "<blockquote>\n  <p>Is there a common pattern for how modern Asp.Net core applications and daemons should cooperate?</p>\n</blockquote>\n\n<p>Actually , the hosted service is not that powerful for the present . So people usually use a third product .\nHowever , it's possible to communicate with hosted service and controller .  I'll use your code as an example to achieve these goals :</p>\n\n<ol>\n<li>The <code>TcpServer</code> is able to receive two commands so that we can switch the state of hosted service from a <code>TcpClient</code>.</li>\n<li>The controller of <code>WebServer</code> can invoke method of <code>TcpServer</code> indirectly (through a mediator ),  and render it as html </li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/GcKeM.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GcKeM.gif\" alt=\"enter image description here\"></a></p>\n\n<p>It's not a good idea to couple controller with hosted service . To invoke method from hosted service , we can introduce a Mediator . A mediator is no more than a service that serves as a singleton (because it will referenced by hosted service) :</p>\n\n<pre><code>public interface IMediator{\n    event ExecHandler ExecHandler ; \n    string Exec1(string status);\n    string Exec2(int status);\n    // ...\n}\n\npublic class Mediator: IMediator{\n\n    public event ExecHandler ExecHandler ;\n    public string Exec1(string status)\n    {\n        if(this.ExecHandler==null) \n            return null;\n        return this.ExecHandler(status);\n    }\n\n    public string Exec2(int status)\n    {\n        throw new System.NotImplementedException();\n    }\n}\n</code></pre>\n\n<p>A Hosted Service needs to realize the existence of <code>IMediator</code> and expose his method to <code>IMediator</code> in some way :</p>\n\n<pre><code>public class Netcat : BackgroundService\n{\n    private IMediator Mediator ;\n    public Netcat(IMediator mediator){\n        this.Mediator=mediator;\n    }\n\n    // method that you want to be invoke from somewhere else\n    public string Hello(string status){\n        return $\"{status}:returned from service\";\n    }\n\n    // method required by `BackgroundService`\n    protected override async Task ExecuteAsync(CancellationToken stoppingToken)\n    {\n        TcpListener listener = new TcpListener(IPAddress.Any, 8899);\n        listener.Start();\n        while(!stoppingToken.IsCancellationRequested)\n        {\n            // ...\n        }\n    }\n}\n</code></pre>\n\n<p>To allow control the status from the NetCat <code>TcpServer</code> , I make it able to receive two commands from clients to switch the state of background service :</p>\n\n<pre><code>    protected override async Task ExecuteAsync(CancellationToken stoppingToken)\n    {\n        TcpListener listener = new TcpListener(IPAddress.Any, 8899);\n        listener.Start();\n        while(!stoppingToken.IsCancellationRequested)\n        {\n            TcpClient client = await listener.AcceptTcpClientAsync();\n            Console.WriteLine(\"a new client connected\");\n            NetworkStream stream = client.GetStream();\n\n            while (!stoppingToken.IsCancellationRequested)\n            {\n                byte[] data = new byte[1024];\n                int read = await stream.ReadAsync(data, 0, 1024, stoppingToken);\n                var cmd= Encoding.UTF8.GetString(data,0,read);\n                Console.WriteLine($\"[+] received : {cmd}\");\n\n                if(cmd==\"attach\") { \n                    this.Mediator.ExecHandler+=this.Hello;\n                    Console.WriteLine($\"[-] exec : attached\");\n                    continue;\n                }\n                if(cmd==\"detach\") {\n                    Console.WriteLine($\"[-] exec : detached\");\n                    this.Mediator.ExecHandler-=this.Hello;\n                    continue;\n                }\n\n                await stream.WriteAsync(data, 0, read, stoppingToken);\n                stream.Flush();\n            }\n        }\n    }\n</code></pre>\n\n<p>If you want to invoke the method of background service within a controller, simply inject \nthe <code>IMediator</code> :</p>\n\n<pre><code>public class HomeController : Controller\n{\n    private IMediator Mediator{ get; }\n\n    public HomeController(IMediator mediator){\n        this.Mediator= mediator;\n    }\n\n    public IActionResult About()\n    {\n        ViewData[\"Message\"] = this.Mediator.Exec1(\"hello world from controller\")??\"nothing from hosted service\";\n\n        return View();\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 183, "user_id": 1654217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a37c03fb85e04cbd6c4b92b3915b70f?s=128&d=identicon&r=PG", "display_name": "Grendler", "link": "https://stackoverflow.com/users/1654217/grendler"}, "is_accepted": false, "score": 0, "last_activity_date": 1540374705, "creation_date": 1540374705, "answer_id": 52965985, "question_id": 52524636, "link": "https://stackoverflow.com/questions/52524636/ihostedservice-for-tcp-servers-in-net-core/52965985#52965985", "title": "IHostedService for tcp servers in .NET Core", "body": "<p>My suggestion is similar to @itminus</p>\n\n<p>Depending on your desired scenario:</p>\n\n<ol>\n<li>If you want to access the service ONLY internally from the same app controllers/pages:</li>\n</ol>\n\n<p>Do not create TCP Listener. Use the background queue for requests and background service for processing requests, invoked from the code as explained in the docs</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/hosted-services?view=aspnetcore-2.1#queued-background-tasks\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/hosted-services?view=aspnetcore-2.1#queued-background-tasks</a></p>\n\n<ol start=\"2\">\n<li>If you want to access the service both via TCP from other servers/clients etc AND internally from the hosting aspcore app:</li>\n</ol>\n\n<p>Implement the separate processing service (logic server) as in point 1. You can inject it and invoke from both your TCP listener background service and controllers.</p>\n\n<ol start=\"3\">\n<li><p>Of course you can access your own service via <code>HttpClient</code> from the same app, but it would seem strange to use the whole TCP stack for internal calls.</p></li>\n<li><p>If the TCP processing is totally independent from the web application, then cut the TCP service out to separate server application. See <a href=\"https://docs.microsoft.com/en-us/aspnet/core/fundamentals/host/generic-host?view=aspnetcore-2.1\" rel=\"nofollow noreferrer\">docs</a> on how to create \"pure\" service without asp/kestrel overhead in dotnet core 2.1.</p></li>\n</ol>\n"}], "owner": {"reputation": 1481, "user_id": 37002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9321ab3b8c29b5ea0c4e2c94606c51ba?s=128&d=identicon&r=PG", "display_name": "agnsaft", "link": "https://stackoverflow.com/users/37002/agnsaft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5997, "favorite_count": 2, "accepted_answer_id": 52534151, "answer_count": 2, "score": 8, "last_activity_date": 1596188203, "creation_date": 1537989203, "last_edit_date": 1596188203, "question_id": 52524636, "link": "https://stackoverflow.com/questions/52524636/ihostedservice-for-tcp-servers-in-net-core", "title": "IHostedService for tcp servers in .NET Core", "body": "<p>I am trying to build a small tcp server/daemon with asp.net core as a web frontend to interact with the server. I have found IHostedService/BackgroundService which seems to provide a low effort alternative to bundle the server and the frontend together.</p>\n\n<p>The code looks basically like this at the moment (echo server for testing purposes):</p>\n\n<pre><code>public class Netcat : BackgroundService\n{\n    protected override async Task ExecuteAsync(CancellationToken stoppingToken)\n    {\n        TcpListener listener = new TcpListener(IPAddress.Any, 8899);\n        listener.Start();\n        while(!stoppingToken.IsCancellationRequested)\n        {\n            TcpClient client = await listener.AcceptTcpClientAsync();\n            NetworkStream stream = client.GetStream();\n\n            while (!stoppingToken.IsCancellationRequested)\n            {\n                byte[] data = new byte[1024];\n                int read = await stream.ReadAsync(data, 0, 1024, stoppingToken);\n\n                await stream.WriteAsync(data, 0, read, stoppingToken);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And is initialized in Startup.cs like this:</p>\n\n<pre><code>    public void ConfigureServices(IServiceCollection services)\n    {\n        services.AddHostedService&lt;Netcat&gt;();\n        services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n    }\n</code></pre>\n\n<p>Is there a common pattern for how modern Asp.Net core applications and daemons should cooperate?</p>\n\n<p>How would I interact with the running service itself from a Controller?</p>\n\n<p>Is IHostedService even usable for this purpose or is it a better way that fully decouples the Asp.Net frontend and the service/server, e.g. by running the daemon and asp.net as seperate processes with some sort of IPC mechanism?</p>\n"}, {"tags": ["c#", ".net", ".net-core", "nuget", "package"], "comments": [{"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1537989358, "post_id": 52524600, "comment_id": 91988982, "body": "Things should go in a \\lib\\NetStandard16 (or similar) folder. as defined in your nuspec you&#39;re only putting things for netcore. Visual studio falls back and gives you that warning as a stop-gap until everyone is updated"}, {"owner": {"reputation": 1267, "user_id": 5884242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9db94c0de7c11f711d2e3de3dceb2be7?s=128&d=identicon&r=PG&f=1", "display_name": "willwolfram18", "link": "https://stackoverflow.com/users/5884242/willwolfram18"}, "edited": false, "score": 0, "creation_date": 1538023938, "post_id": 52524600, "comment_id": 91998507, "body": "1) out of curiosity, why are you using a nuspec file instead of the <a href=\"https://docs.microsoft.com/en-us/dotnet/core/tools/csproj#nuget-metadata-properties\" rel=\"nofollow noreferrer\">NuGet metadata properties</a> in the csproj file? 2) files won&#39;t be installed by NuGet automatically for .NET Core (as far as I&#39;m aware). My understanding is support for that had been dropped by NuGet with .NET core"}, {"owner": {"reputation": 4713, "user_id": 6357360, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aed7990245e27bcf868d514f3ad014ff?s=128&d=identicon&r=PG&f=1", "display_name": "meJustAndrew", "link": "https://stackoverflow.com/users/6357360/mejustandrew"}, "reply_to_user": {"reputation": 1267, "user_id": 5884242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9db94c0de7c11f711d2e3de3dceb2be7?s=128&d=identicon&r=PG&f=1", "display_name": "willwolfram18", "link": "https://stackoverflow.com/users/5884242/willwolfram18"}, "edited": false, "score": 0, "creation_date": 1538028706, "post_id": 52524600, "comment_id": 92000267, "body": "@willwolfram18 I have used NuGet metadata properties and this warning was gone, everything was working good, and the NLog.config file was installed properly in the client projects, with the only exception that it was not set to <code>Copy always</code> to the output directory."}, {"owner": {"reputation": 4713, "user_id": 6357360, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aed7990245e27bcf868d514f3ad014ff?s=128&d=identicon&r=PG&f=1", "display_name": "meJustAndrew", "link": "https://stackoverflow.com/users/6357360/mejustandrew"}, "reply_to_user": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1538028829, "post_id": 52524600, "comment_id": 92000319, "body": "@pinkfloydx33 since I read <a href=\"https://stackoverflow.com/questions/34611919/how-to-package-a-portable-net-library-targeting-net-core\">this topic here</a> I tried to follow the same structure it suggested, but with no results. I am putting only things for <b>.Net Standard</b> so they could be installed on .Net Core and .Net Framework clients."}], "answers": [{"tags": [], "owner": {"reputation": 388, "user_id": 1833917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75986fe3206cc3d131109be956ee1963?s=128&d=identicon&r=PG", "display_name": "uebe", "link": "https://stackoverflow.com/users/1833917/uebe"}, "is_accepted": false, "score": 0, "last_activity_date": 1539897199, "creation_date": 1539897199, "answer_id": 52882671, "question_id": 52524600, "link": "https://stackoverflow.com/questions/52524600/dotnet-pack-creates-package-that-is-not-compatible-with-net-core-project-when-u/52882671#52882671", "title": "dotnet pack creates package that is not compatible with .Net Core project when using nuspec file", "body": "<p>According to <a href=\"https://docs.microsoft.com/en-us/nuget/create-packages/supporting-multiple-target-frameworks\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/nuget/create-packages/supporting-multiple-target-frameworks</a> and <a href=\"https://docs.microsoft.com/en-us/nuget/reference/target-frameworks#supported-frameworks\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/nuget/reference/target-frameworks#supported-frameworks</a> the folder structure in the nuget package should probably be <code>\\lib\\netstandard1.6</code> or <code>\\lib\\netstandard2.0</code> or whatever version you compiled against (as pinkfloydx33 already tried to point out). <code>\\lib\\dotnet</code> is deprecated (<a href=\"https://docs.microsoft.com/en-us/nuget/reference/target-frameworks#deprecated-frameworks\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/nuget/reference/target-frameworks#deprecated-frameworks</a>) and I don't know if support for it has been removed already or not.<br>\nI have not tested this, so this is something you could try, if you did not solve it meanwhile.</p>\n\n<p>Another way to make progress would be to inspect and compare the actual resulting packages (with nuspec and without).</p>\n"}], "owner": {"reputation": 4713, "user_id": 6357360, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aed7990245e27bcf868d514f3ad014ff?s=128&d=identicon&r=PG&f=1", "display_name": "meJustAndrew", "link": "https://stackoverflow.com/users/6357360/mejustandrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 375, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539897199, "creation_date": 1537989057, "question_id": 52524600, "link": "https://stackoverflow.com/questions/52524600/dotnet-pack-creates-package-that-is-not-compatible-with-net-core-project-when-u", "title": "dotnet pack creates package that is not compatible with .Net Core project when using nuspec file", "body": "<p>I am creating a NuGet package which contains a .Net Standard DLL and a config file. This project is supposed to support both .Net Core and .Net Framework.</p>\n\n<p>In a few words, packing this DLL and config file using <code>dotnet pack</code> and a <em>.nuspec</em> file, creates a package that is not \"fully compatible\" with .Net Core:</p>\n\n<p><a href=\"https://i.stack.imgur.com/heIvU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/heIvU.png\" alt=\"enter image description here\"></a></p>\n\n<p>More details here:</p>\n\n<p>In the project <em>.csproj</em> I am adding a <em>.nuspec</em> file reference:</p>\n\n<pre><code>&lt;NuspecFile&gt;.\\MyProject.nuspec&lt;/NuspecFile&gt;\n</code></pre>\n\n<p>Next to which I have the following <em>.nuspec</em> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;package xmlns=\"http://schemas.microsoft.com/packaging/2010/07/nuspec.xsd\"&gt;\n    &lt;metadata&gt;\n        &lt;id&gt;MyProject&lt;/id&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;authors&gt; &lt;/authors&gt;\n        &lt;description&gt;some text&lt;/description&gt;\n    &lt;/metadata&gt;\n    &lt;files&gt;\n        &lt;file src=\"MyProject.targets\" target=\"Build\\\"/&gt;\n        &lt;file src=\"NLog.config\" target=\"Build\\\" /&gt;\n        &lt;file src=\"bin/Release/MyProject.dll\" target=\"lib\\dotnet\"/&gt;\n    &lt;/files&gt;\n    &lt;dependencies&gt;\n        &lt;dependency id=\"newtonsoft.json\" version=\"11.0.2\" /&gt;\n        &lt;dependency id=\"nlog\" version=\"4.5.10\" /&gt;\n    &lt;/dependencies&gt;\n&lt;/package&gt;\n</code></pre>\n\n<p>Then next to these two, I am having a <em>.targets</em> file:</p>\n\n<pre><code>&lt;Project xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n  &lt;ItemGroup&gt;\n    &lt;None Include=\"NLog.config\"&gt;\n      &lt;Link&gt;NLog.config&lt;/Link&gt;\n      &lt;CopyToOutputDirectory&gt;Always&lt;/CopyToOutputDirectory&gt;\n    &lt;/None&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>I am packing this into a nuget package using <code>dotnet pack</code> command within VSTS, giving it the path to my <em>.csproj</em> file.</p>\n\n<p>I am trying to do this complicated approach because I want that NLog.config to be included automatically into the projects installing this package and also setting this config file property <em>Copy to Output Directory</em> to <em>Copy always</em>, approach which is taken from <a href=\"https://stackoverflow.com/questions/21143817/set-content-files-to-copy-local-always-in-a-nuget-package\">here</a> and <a href=\"https://stackoverflow.com/questions/44747744/how-can-i-set-the-copy-to-output-directory-property-in-my-nuspec-file\">here</a>, but which does not work yet.</p>\n\n<p>As a side note, I say the same behavior before when I tried <code>dotnet pack</code> and giving it the path to the <em>.nuspec</em> file, but it went away when I changed the path to the <em>.csproj</em>.</p>\n\n<p><strong>Has anyone any idea why this warning appears in the .Net Core clients using this package when packing it with <em>.nuspec</em> file?</strong></p>\n\n<p>Thank you so much for your patience and help!</p>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "websocket", "signalr"], "answers": [{"tags": [], "owner": {"reputation": 249, "user_id": 7400567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68c6a4a126369dfe3072e3d11e727dc5?s=128&d=identicon&r=PG&f=1", "display_name": "pablobascones", "link": "https://stackoverflow.com/users/7400567/pablobascones"}, "is_accepted": true, "score": 0, "last_activity_date": 1538053165, "creation_date": 1538053165, "answer_id": 52537594, "question_id": 52524572, "link": "https://stackoverflow.com/questions/52524572/signalr-pending-start-connection/52537594#52537594", "title": "SignalR pending start connection", "body": "<p>Well, I figured out that it was a Local IIS limitation, because I changed the configuration to use IIS Express instead of Local, and it's working like a charm!</p>\n\n<p>Hope this helps to anyone with the same issue!</p>\n"}], "owner": {"reputation": 249, "user_id": 7400567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68c6a4a126369dfe3072e3d11e727dc5?s=128&d=identicon&r=PG&f=1", "display_name": "pablobascones", "link": "https://stackoverflow.com/users/7400567/pablobascones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 52537594, "answer_count": 1, "score": 0, "last_activity_date": 1538053165, "creation_date": 1537988972, "last_edit_date": 1537994311, "question_id": 52524572, "link": "https://stackoverflow.com/questions/52524572/signalr-pending-start-connection", "title": "SignalR pending start connection", "body": "<p>I'm implementing the SignalR library to use websocket in a kind of 'queue', in a ASP.NET MVC Application.</p>\n\n<p>Everything works as expected when there are only two users. When a third one logs in (I mean, I open a new tab), his SignalR start request is pending, and other users can not use application anymore.</p>\n\n<p>It's happening with all browsers: if I open 3 Chrome tabs, or 3 Firefox, or 2 Chrome or 1 Firefox, or 2 Firefox and 1 Chrome.. it's pending forever.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bs3ce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bs3ce.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code is the same as the one provided for SignalR tutorials: \"Getting Started with SignalR 2 and MVC 5\".</p>\n\n<p>Could anyone solve this? I'm starting to think that is an IIS limitation, but I'm not 100% sure. I'm using the last SignalR version (2.3.0), 4.6.1 ASP version (I already enabled WebSockets in the IIS configuration).</p>\n\n<p>I've found a similar question (<a href=\"https://stackoverflow.com/questions/35042642/signalr-start-pending/\">SignalR start pending</a>) but it doesn't seem to give an answer.</p>\n\n<p>JavaScript (client) code:</p>\n\n<pre><code> var attendHub = $.connection.attendHub;\n\n    // Create a function that the hub can call back\n    attendHub.client.reloadGrid = function (sr) {\n        // Business logic\n        }\n    };\n\n    $.connection.hub.start();\n</code></pre>\n\n<p>Server Hub (C#) code:</p>\n\n<pre><code>public class AttendHub : Hub\n{\n    private static readonly IHubContext hubContext = GlobalHost.ConnectionManager.GetHubContext&lt;AttendHub&gt;();\n\n    public static void RefreshAttendList(int branchId)\n    {\n        // Business logic\n        ///...\n        hubContext.Clients.All.ReloadGrid(sr);\n    }\n}\n</code></pre>\n\n<p>And I'm calling the RefreshAttendList method from a controller, executing this line:</p>\n\n<pre><code>AttendHub.RefreshAttendList(AppInfo.ActiveUser.BranchId);\n</code></pre>\n\n<p>What could I be doing wrong?</p>\n"}, {"tags": ["c#", "wpf", "xaml", "data-binding"], "comments": [{"owner": {"reputation": 1819, "user_id": 1623043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31f8874b8274fb3a663bd7a75cb7df80?s=128&d=identicon&r=PG", "display_name": "Kevin Cook", "link": "https://stackoverflow.com/users/1623043/kevin-cook"}, "edited": false, "score": 0, "creation_date": 1537990019, "post_id": 52524551, "comment_id": 91989294, "body": "Rather than use code behind, you might consider learning how to code in MVVM style using bindings and having a class that handles INotifyPropertyChanged."}, {"owner": {"reputation": 169, "user_id": 6600207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df90d2ddf68683f873387a60356cf5c6?s=128&d=identicon&r=PG&f=1", "display_name": "J.Memisevic", "link": "https://stackoverflow.com/users/6600207/j-memisevic"}, "edited": false, "score": 0, "creation_date": 1537993655, "post_id": 52524551, "comment_id": 91990964, "body": "Your are not passing parameter to your converter, as I can see! You need to pass parameter in your Visibility binding  like this <code>Visibility=&quot;{Binding Path=YourComponent ,Converter={StaticResource NotEnoughMineralsToVisibilityConverter}, UpdateSourceTrigger =PropertyChanged}&quot;</code>, and add UpdateSourceTrigger at the end! &#39;"}, {"owner": {"reputation": 169, "user_id": 6600207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df90d2ddf68683f873387a60356cf5c6?s=128&d=identicon&r=PG&f=1", "display_name": "J.Memisevic", "link": "https://stackoverflow.com/users/6600207/j-memisevic"}, "edited": false, "score": 0, "creation_date": 1537994130, "post_id": 52524551, "comment_id": 91991165, "body": "You can try in your button click event call <code>txtMineralsWarning.UpdateLayout()</code>"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1538057064, "post_id": 52524551, "comment_id": 92017212, "body": "@ekolis: What is your issue? That the Convert method doesn&#39;t get hit when you click on the Button or that it returns the wrong value?"}, {"owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "reply_to_user": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1538179126, "post_id": 52524551, "comment_id": 92066152, "body": "@mm8 I think the Convert method isn&#39;t getting called again when I click the button."}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1538579843, "post_id": 52524551, "comment_id": 92194161, "body": "@ekolis: Did you put a breakpoint in the Convert method to confirm this?"}], "answers": [{"tags": [], "owner": {"reputation": 1560, "user_id": 2775645, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fKNjN.jpg?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/2775645/markus"}, "is_accepted": false, "score": 0, "last_activity_date": 1537990588, "creation_date": 1537990588, "answer_id": 52524945, "question_id": 52524551, "link": "https://stackoverflow.com/questions/52524551/wpf-button-click-needs-to-refresh-a-binding-how-do-i-do-this/52524945#52524945", "title": "WPF button click needs to refresh a binding; how do I do this?", "body": "<p>You should do it with MVVM</p>\n\n<p>Working Sample:</p>\n\n<p>XAML:</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApp4.MainWindow\"\n        xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n        xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n        xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n        xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n        xmlns:local=\"clr-namespace:WpfApp4\"\n        mc:Ignorable=\"d\"\n        Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n    &lt;StackPanel&gt;\n        &lt;Button Command=\"{Binding ClickCommand}\" Content=\"Click Me\" /&gt;\n        &lt;TextBlock Text=\"Label\" Visibility=\"{Binding LabelVisibility}\" /&gt;\n    &lt;/StackPanel&gt;\n&lt;/Window&gt;\n</code></pre>\n\n<p>Code Behind:</p>\n\n<pre><code>public partial class MainWindow : Window {\n    public MainWindow() {\n        InitializeComponent();\n\n        DataContext = new MainWindowViewModel();\n    }\n}\n</code></pre>\n\n<p>ViewModel:</p>\n\n<pre><code>public class MainWindowViewModel : INotifyPropertyChanged {\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        [NotifyPropertyChangedInvocator]\n        protected virtual void OnPropertyChanged([CallerMemberName] string propertyName = null) {\n            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(propertyName));\n        }\n\n        public ICommand ClickCommand =&gt; new RelayCommand(arg =&gt; DoExecuteClickCommand());\n\n        private void DoExecuteClickCommand() {\n            if (LabelVisibility == Visibility.Visible) {\n                LabelVisibility = Visibility.Collapsed;\n            } else {\n                LabelVisibility = Visibility.Visible;\n            }\n            OnPropertyChanged(nameof(LabelVisibility));\n        }\n\n        public Visibility LabelVisibility { get; set; }\n    }\n\n    public class RelayCommand : ICommand {\n        #region Fields\n\n        readonly Action&lt;object&gt; _execute;\n        readonly Predicate&lt;object&gt; _canExecute;\n\n        #endregion // Fields\n\n        #region Constructors\n\n        /// &lt;summary&gt;\n        /// Creates a new command that can always execute.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"execute\"&gt;The execution logic.&lt;/param&gt;\n        public RelayCommand(Action&lt;object&gt; execute)\n            : this(execute, null) {\n        }\n\n        /// &lt;summary&gt;\n        /// Creates a new command.\n        /// &lt;/summary&gt;\n        /// &lt;param name=\"execute\"&gt;The execution logic.&lt;/param&gt;\n        /// &lt;param name=\"canExecute\"&gt;The execution status logic.&lt;/param&gt;\n        public RelayCommand(Action&lt;object&gt; execute, Predicate&lt;object&gt; canExecute) {\n            if (execute == null)\n                throw new ArgumentNullException(\"execute\"); //NOTTOTRANS\n\n            _execute = execute;\n            _canExecute = canExecute;\n        }\n\n        #endregion // Constructors\n\n        #region ICommand Members\n\n        [DebuggerStepThrough]\n        public bool CanExecute(object parameter) {\n            return _canExecute == null ? true : _canExecute(parameter);\n        }\n\n        public event EventHandler CanExecuteChanged {\n            add =&gt; CommandManager.RequerySuggested += value;\n            remove =&gt; CommandManager.RequerySuggested -= value;\n        }\n\n        public void Execute(object parameter) {\n            _execute(parameter);\n        }\n\n        #endregion // ICommand Members\n    }\n</code></pre>\n"}], "owner": {"reputation": 4595, "user_id": 1159763, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0622d669c6102714da374348a24df617?s=128&d=identicon&r=PG", "display_name": "ekolis", "link": "https://stackoverflow.com/users/1159763/ekolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1041, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537990588, "creation_date": 1537988845, "question_id": 52524551, "link": "https://stackoverflow.com/questions/52524551/wpf-button-click-needs-to-refresh-a-binding-how-do-i-do-this", "title": "WPF button click needs to refresh a binding; how do I do this?", "body": "<p>I have a button:</p>\n\n<pre><code>&lt;Button Grid.Row=\"2\" Grid.Column=\"0\" Command=\"commands:Commands.BuyComponentCommand\" CommandParameter=\"{Binding ElementName=inventory, Path=SelectedItem}\" Click=\"btnBuy_Click\"&gt;Buy&lt;/Button&gt;\n</code></pre>\n\n<p>And a list box:</p>\n\n<pre><code>&lt;ListBox Name=\"inventory\" ItemsSource=\"{Binding Inventory}\"&gt;\n    ...\n&lt;/ListBox&gt;\n</code></pre>\n\n<p>And some labels I want to refresh the visibility of when the button is clicked; here's one of them:</p>\n\n<pre><code>&lt;TextBlock Name=\"txtMineralsWarning\" Foreground=\"Yellow\" Text=\"You don't have enough minerals to buy this component.\" DataContext=\"{Binding ElementName=inventory, Path=SelectedItem}\" Visibility=\"{Binding Converter={StaticResource NotEnoughMineralsToVisibilityConverter}}\" TextWrapping=\"Wrap\"/&gt;\n</code></pre>\n\n<p>Now the problem is, the labels refresh their visibility when I select a different item in the <code>ListBox</code>; however they don't refresh their visibility when I click the button, even though clicking the button can affect the state that determines whether or not the labels should be visible in my converter.</p>\n\n<p>Here's my converter's Convert method, in case it helps:</p>\n\n<pre><code>public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)\n{\n    var comp = (Component)value;\n    if (comp == null)\n        return Visibility.Hidden;\n    if (comp.Cost &gt; PlayerShip.Instance.Savings)\n        return Visibility.Visible;\n    return Visibility.Hidden;\n}\n</code></pre>\n\n<p>Any idea why my labels aren't becoming visible when the condition tested in the converter changes after clicking the button? I tried this to no avail:</p>\n\n<pre><code>private void btnBuy_Click(object sender, RoutedEventArgs e)\n{\n    txtMineralsWarning.GetBindingExpression(TextBlock.VisibilityProperty).UpdateTarget();\n    txtCrewWarning.GetBindingExpression(TextBlock.VisibilityProperty).UpdateTarget();\n}\n</code></pre>\n"}, {"tags": ["c#", "sql-server", "visual-studio", "iis"], "comments": [{"owner": {"reputation": 1613, "user_id": 972250, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/BUmJk.jpg?s=128&g=1", "display_name": "Zeph", "link": "https://stackoverflow.com/users/972250/zeph"}, "edited": false, "score": 0, "creation_date": 1537989438, "post_id": 52524485, "comment_id": 91989024, "body": "Your connection string is fine. There&#39;s not a ton of detail in the question to go on. When you say everything works fine in visual studio - is that also the machine that sql server is on?"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 10419933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afb6a2e9ac68dcc000bd8d855a64cb95?s=128&d=identicon&r=PG&f=1", "display_name": "Dave D H", "link": "https://stackoverflow.com/users/10419933/dave-d-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1537989247, "creation_date": 1537989247, "answer_id": 52524651, "question_id": 52524485, "link": "https://stackoverflow.com/questions/52524485/hosting-website-on-remoter-iis-server-cannot-insert-into-sql-server-database/52524651#52524651", "title": "Hosting website on remoter IIS server, Cannot Insert into SQL Server database", "body": "<p>OK,</p>\n\n<p>this is the connection string i use on my web servers..</p>\n\n<p>Server=sqlserver\\instance;Database=databasename;User ID=username;Password=password;</p>\n\n<p>ensure the web server has visibility to the sql server (and can access the ports the sql is published on)</p>\n"}, {"comments": [{"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1538000240, "post_id": 52524745, "comment_id": 91993243, "body": "<a href=\"https://blog.lextudio.com/web-application-differences-in-visual-studio-and-iis-60fec7e311b3\" rel=\"nofollow noreferrer\">blog.lextudio.com/&hellip;</a> One of the well known differences."}], "tags": [], "owner": {"reputation": 1, "user_id": 8942191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ce8ece4fcf7ae4bcfee43e0e717aae5?s=128&d=identicon&r=PG&f=1", "display_name": "Houston Carpenter", "link": "https://stackoverflow.com/users/8942191/houston-carpenter"}, "is_accepted": true, "score": 0, "last_activity_date": 1537990415, "last_edit_date": 1537990415, "creation_date": 1537989618, "answer_id": 52524745, "question_id": 52524485, "link": "https://stackoverflow.com/questions/52524485/hosting-website-on-remoter-iis-server-cannot-insert-into-sql-server-database/52524745#52524745", "title": "Hosting website on remoter IIS server, Cannot Insert into SQL Server database", "body": "<p>For anyone else who run into this problem. I had to create an application pool and set the identity to the user who has access to the sql database. </p>\n"}], "owner": {"reputation": 1, "user_id": 8942191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ce8ece4fcf7ae4bcfee43e0e717aae5?s=128&d=identicon&r=PG&f=1", "display_name": "Houston Carpenter", "link": "https://stackoverflow.com/users/8942191/houston-carpenter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 52524745, "answer_count": 2, "score": -1, "last_activity_date": 1537990415, "creation_date": 1537988573, "last_edit_date": 1537989476, "question_id": 52524485, "link": "https://stackoverflow.com/questions/52524485/hosting-website-on-remoter-iis-server-cannot-insert-into-sql-server-database", "title": "Hosting website on remoter IIS server, Cannot Insert into SQL Server database", "body": "<p>Using a remote server to host a website on IIS for work. Using SQL Server that's on another server at work but I cannot get them to play along. </p>\n\n<pre><code>connectionString=\"Data Source=Stuff;Initial Catalog=dbApprentices; User id=****; password=****\"\n  providerName=\"System.Data.SqlClient\"\n</code></pre>\n\n<p>I get no error. Everything works fine when I use Visual Studio. </p>\n"}, {"tags": ["c#", ".net", "linq", "sorting"], "comments": [{"owner": {"reputation": 44608, "user_id": 1127114, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bb1b2345f4c7b696d7c0376d273d01b2?s=128&d=identicon&r=PG", "display_name": "Michael Liu", "link": "https://stackoverflow.com/users/1127114/michael-liu"}, "edited": false, "score": 2, "creation_date": 1537988736, "post_id": 52524478, "comment_id": 91988655, "body": "<a href=\"https://stackoverflow.com/questions/248603/natural-sort-order-in-c-sharp\" title=\"natural sort order in c sharp\">stackoverflow.com/questions/248603/&hellip;</a>"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 2, "creation_date": 1537988746, "post_id": 52524478, "comment_id": 91988661, "body": "you would need to parse the property into a sortable weight using a comparer to get the desired behavior. currently it is sorting it as a string. where 10, comes before 2"}, {"owner": {"reputation": 395, "user_id": 4733749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5cd08ea0b3da3b5b86d2cd73f50777a?s=128&d=identicon&r=PG", "display_name": "Alice", "link": "https://stackoverflow.com/users/4733749/alice"}, "edited": false, "score": 2, "creation_date": 1537988799, "post_id": 52524478, "comment_id": 91988695, "body": "It seems like a somewhat specific string comparison, first taking the letter then comparing by the parsed number afterwards. For cases like these, I&#39;d suggest creating a custom IComparer&lt;string&gt; and using it in an OrderBy overload."}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "edited": false, "score": 1, "creation_date": 1537988891, "post_id": 52524478, "comment_id": 91988750, "body": "Would it be possible for a example implementation of this?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1537989032, "post_id": 52524478, "comment_id": 91988827, "body": "Is the <code>Designator</code> code a fixed format? Always 1 letter A-Z + a whole number?"}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "edited": false, "score": 0, "creation_date": 1537989136, "post_id": 52524478, "comment_id": 91988870, "body": "Yes, it is actually Always F + whole numbers. Sometimes could appear as F1,F2,F3 or F1-F3. Also, fuses can&#39;t repeat, you would never have a situation like F1-F3 and F3-F5."}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1537989157, "post_id": 52524478, "comment_id": 91988886, "body": "@Selthien Did you check the link in the first comment?"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1537989180, "post_id": 52524478, "comment_id": 91988899, "body": "Do you always want to sort based on the first <code>Designator</code> value in the range?"}, {"owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1537989281, "post_id": 52524478, "comment_id": 91988942, "body": "@Igor yes that is correct. I checked the first link but not quite sure how to implement it with a List. Makes sense if you want to compare two strings."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537989526, "post_id": 52524478, "comment_id": 91989059, "body": "<a href=\"https://stackoverflow.com/questions/5093842/alphanumeric-sorting-using-linq\">Alphanumeric sorting using LINQ</a>"}, {"owner": {"reputation": 14672, "user_id": 8967612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEhyd.png?s=128&g=1", "display_name": "41686d6564", "link": "https://stackoverflow.com/users/8967612/41686d6564"}, "edited": false, "score": 0, "creation_date": 1537989605, "post_id": 52524478, "comment_id": 91989099, "body": "@Selthien The first link <b>does have your answer</b>, you just need to pass an instance of the comparer class to the <code>OrderBy</code> method. <a href=\"https://dotnetfiddle.net/wyocn3\" rel=\"nofollow noreferrer\">Here&#39;s a complete example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "reply_to_user": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1537989575, "post_id": 52524545, "comment_id": 91989081, "body": "@PoulBak And what the problem with that? It handles any length"}, {"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1537989708, "post_id": 52524545, "comment_id": 91989156, "body": "It will fail when there are more than one value in Designator (because it will include an &#39;F&#39; Again)."}, {"owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "reply_to_user": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1537989972, "post_id": 52524545, "comment_id": 91989268, "body": "Yes, I assumed it&#39;s single-value enum."}], "tags": [], "owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "is_accepted": false, "score": -1, "last_activity_date": 1537989175, "last_edit_date": 1537989175, "creation_date": 1537988836, "answer_id": 52524545, "question_id": 52524478, "link": "https://stackoverflow.com/questions/52524478/order-a-listt-naturally-using-a-property-of-t-naturally/52524545#52524545", "title": "Order a List&lt;T&gt; naturally using a property of T naturally", "body": "<p>You can try to sort it by integer instead. Throw away first letter, parse as integer and sort by this integer.</p>\n\n<pre><code>f =&gt; Int32.Parse(f.Designator.Substring(1))\n</code></pre>\n\n<p>Of course you can always refactor it out of lambda into something else.</p>\n"}, {"comments": [{"owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "edited": false, "score": 0, "creation_date": 1537991142, "post_id": 52524742, "comment_id": 91989803, "body": "votedowner Is there any reason ?"}], "tags": [], "owner": {"reputation": 31181, "user_id": 5176071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQD5c.jpg?s=128&g=1", "display_name": "D-Shih", "link": "https://stackoverflow.com/users/5176071/d-shih"}, "is_accepted": true, "score": 1, "last_activity_date": 1537989608, "creation_date": 1537989608, "answer_id": 52524742, "question_id": 52524478, "link": "https://stackoverflow.com/questions/52524478/order-a-listt-naturally-using-a-property-of-t-naturally/52524742#52524742", "title": "Order a List&lt;T&gt; naturally using a property of T naturally", "body": "<p>If you only compare string <code>F2</code> the order will greater than <code>F10</code>.</p>\n\n<p>You can try to <code>order by</code> number by <code>Regex</code>.</p>\n\n<p>use <code>^F(\\d+)</code> pattern to get the number then order by.</p>\n\n<pre><code>fuses = fuses.OrderBy(f =&gt; int.Parse(Regex.Match(f.Designator, @\"^F(\\d+)\").Groups[1].Value)).ToList();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": false, "score": 0, "last_activity_date": 1537989856, "creation_date": 1537989856, "answer_id": 52524799, "question_id": 52524478, "link": "https://stackoverflow.com/questions/52524478/order-a-listt-naturally-using-a-property-of-t-naturally/52524799#52524799", "title": "Order a List&lt;T&gt; naturally using a property of T naturally", "body": "<p>You could implement <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.icomparable-1.compareto?view=netframework-4.7.2\" rel=\"nofollow noreferrer\"><code>IComparable&lt;T&gt;</code></a></p>\n\n<pre><code>class Fuse : IComparable&lt;Fuse&gt;\n{\n    public string Designator { get; set; }\n\n    public int CompareTo(Fuse other)\n    {\n        if (string.IsNullOrWhiteSpace(other?.Designator)) return -1;\n        if (string.IsNullOrWhiteSpace(this.Designator)) return 1;\n        if (this.Designator == other.Designator) return 0;\n\n        // get the first item in the range\n        var d1Str = this.Designator.Split(new[] {',', '-'})[0];\n        var d2Str = other.Designator.Split(new[] {',', '-'})[0];\n\n        // parse to int\n        var d1 = int.Parse(d1Str.Substring(1));\n        var d2 = int.Parse(d2Str.Substring(1));\n\n        return d1 &gt; d2 ? 1 : -1;\n    }\n}\n</code></pre>\n\n<p>Test code</p>\n\n<pre><code>var list = new List&lt;Fuse&gt;()\n{\n    new Fuse{Designator = \"F8,F9\"},\n    new Fuse{Designator = \"F1,F2,F3\"},\n    new Fuse{Designator = \"F10-F12\"},\n    new Fuse{Designator = \"F4-F7\"},\n};\n\nforeach (var itm in list.OrderBy(_ =&gt; _))\n{\n    Console.WriteLine(itm.Designator);\n}\n\nConsole.ReadLine();\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>F1,F2,F3\nF4-F7\nF8,F9\nF10-F12\n</code></pre>\n"}], "owner": {"reputation": 917, "user_id": 10290408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e1feed163c02636f1eea4c5d67bbc7?s=128&d=identicon&r=PG&f=1", "display_name": "Selthien", "link": "https://stackoverflow.com/users/10290408/selthien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1537990093, "accepted_answer_id": 52524742, "answer_count": 3, "score": -2, "last_activity_date": 1537989856, "creation_date": 1537988545, "question_id": 52524478, "link": "https://stackoverflow.com/questions/52524478/order-a-listt-naturally-using-a-property-of-t-naturally", "closed_reason": "Duplicate", "title": "Order a List&lt;T&gt; naturally using a property of T naturally", "body": "<p>I am attempting to sort a List of fuses by the Designator property of the fuse.</p>\n\n<p><strong>The Fuse Model:</strong></p>\n\n<pre><code>public class Fuse\n{\n    public string Designator { get; set; }\n\n    public string Rating { get; set; }\n\n    public string Type { get; set; }\n}\n</code></pre>\n\n<p><strong>Example Data</strong></p>\n\n<p>This is an example of what a list of fuses would look like.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AQxYC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQxYC.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>What I have tried:</strong></p>\n\n<pre><code>fuses = fuses.OrderBy(f =&gt; f.Designator).ToList();\n</code></pre>\n\n<p>The above code sort of works, but it puts the F10 before F2. Does anyone know of a way to sort a List by the designator appropriately? I have read about natural sorting algorithms but not quite sure how to apply them correctly.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thank you,</p>\n"}, {"tags": ["c#"], "comments": [{"owner": {"reputation": 144, "user_id": 5463252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/116yk.jpg?s=128&g=1", "display_name": "Hack", "link": "https://stackoverflow.com/users/5463252/hack"}, "edited": false, "score": 0, "creation_date": 1537988955, "post_id": 52524415, "comment_id": 91988787, "body": "Are you importing/referencing the lib that contains the namespace gma.System.Windows? <a href=\"https://stackoverflow.com/questions/2079111/how-to-use-global-hook\" title=\"how to use global hook\">stackoverflow.com/questions/2079111/how-to-use-global-hook</a>"}, {"owner": {"reputation": 1, "user_id": 10291804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471a854ac82dcbf0c06060889ac00637?s=128&d=identicon&r=PG&f=1", "display_name": "Viet Nguyen", "link": "https://stackoverflow.com/users/10291804/viet-nguyen"}, "reply_to_user": {"reputation": 144, "user_id": 5463252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/116yk.jpg?s=128&g=1", "display_name": "Hack", "link": "https://stackoverflow.com/users/5463252/hack"}, "edited": false, "score": 0, "creation_date": 1537989671, "post_id": 52524415, "comment_id": 91989127, "body": "I&#39;m assuming that importing the library means putting the file I downloaded into the project folder? Sorry, I&#39;m really clueless on the cs terms"}, {"owner": {"reputation": 144, "user_id": 5463252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/116yk.jpg?s=128&g=1", "display_name": "Hack", "link": "https://stackoverflow.com/users/5463252/hack"}, "edited": false, "score": 0, "creation_date": 1537990369, "post_id": 52524415, "comment_id": 91989462, "body": "thats alright, you&#39;ll have to do more then just place the dll file in the project folder.  You&#39;ll also need add it to the project references.  In your solution right click on &quot;References&quot; then add reference.  In the window go to browse, then use the browse button to browse to and select the dll you downloaded for the project. <a href=\"https://www.youtube.com/watch?v=5QXav2r1piE\" rel=\"nofollow noreferrer\">youtube.com/watch?v=5QXav2r1piE</a> may do a better job of explaining it."}, {"owner": {"reputation": 1, "user_id": 10291804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471a854ac82dcbf0c06060889ac00637?s=128&d=identicon&r=PG&f=1", "display_name": "Viet Nguyen", "link": "https://stackoverflow.com/users/10291804/viet-nguyen"}, "reply_to_user": {"reputation": 144, "user_id": 5463252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/116yk.jpg?s=128&g=1", "display_name": "Hack", "link": "https://stackoverflow.com/users/5463252/hack"}, "edited": false, "score": 0, "creation_date": 1537993363, "post_id": 52524415, "comment_id": 91990828, "body": "Thank you!! I finally got this to work. I really appreciate this."}], "owner": {"reputation": 1, "user_id": 10291804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471a854ac82dcbf0c06060889ac00637?s=128&d=identicon&r=PG&f=1", "display_name": "Viet Nguyen", "link": "https://stackoverflow.com/users/10291804/viet-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537988303, "creation_date": 1537988303, "question_id": 52524415, "link": "https://stackoverflow.com/questions/52524415/how-do-i-make-my-keyboard-inputs-work-when-my-program-is-not-in-focus-in-c", "title": "How do I make my keyboard inputs work when my program is not in focus in c#?", "body": "<p>I've tried 3rd Party Classes that I could just copy and paste into my application like <code>UserActivityHook</code> but for some reason it gives me an error says \"Type or namespace name could not be found\". </p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Data;\nusing System.Drawing;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n//using gma.System.Windows;\n\nnamespace BongoCat{\n\n    public partial class Form1 : Form\n    {\n        private Bitmap bothdown = new Bitmap(@\"picture.png\");\n        private Bitmap bothup = new Bitmap(@\"picture1.png\");\n        private Bitmap ldown = new Bitmap(@\"picture2.png\");\n        private Bitmap rdown = new Bitmap(@\"picture3.png\");\n        private int WorkingAreaHeight = SystemInformation.WorkingArea.Height;  //screen height\n        private int DspWidth = SystemInformation.PrimaryMonitorSize.Width; //screen width\n        private int layerSizeX = 0;\n        private int layerSizeY = 0;\n\n        public Form1()\n        {\n           this.SetStyle(ControlStyles.SupportsTransparentBackColor, true);\n            InitializeComponent();\n        }\n\n        UserActivityHook actHook;\n        private void Form1_Load(object sender, EventArgs e)\n        {\n        layerSizeX = bothup.Width;\n        layerSizeY = bothup.Height;\n        this.ShowInTaskbar = false;\n        this.TopMost = true;\n        this.FormBorderStyle = FormBorderStyle.None;\n        this.Size = new Size(layerSizeX, layerSizeY);    \n        Color transColor = bothup.GetPixel(0, 0);\n        bothup.MakeTransparent(transColor);\n        this.BackgroundImage = bothup;\n        this.BackColor = transColor;\n        this.TransparencyKey = transColor;\n        this.Location = new Point(1200,460);\n        this.DoubleBuffered = true;\n       // actHook = new UserActivityHook();\n        //actHook.KeyDown += new KeyEventHandler(Form1_KeyDown);\n        //actHook.KeyUp+=new KeyEventHandler(Form1_KeyUp);\n        }\n\n        private void Form1_KeyDown(object sender, KeyEventArgs e)\n        {\n            this.BackgroundImage = bothdown;\n        }\n\n        private void Form1_KeyUp(object sender, KeyEventArgs e)\n        {\n           this.BackgroundImage = bothup;\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>(All comments are the changes I made to try to get UserActivityHook to work.)        </p>\n\n<p>I've  searched around in stackoverflow and other websites but it's either too difficult for a beginner like me to comprehend or I can't get it to work. </p>\n\n<p>I want to know a simple way to detect global keys from anywhere (like detecting the left side of the keyboard) or a way I can get this UserActivityHook class I got from codeproject.com to work instead of getting errors. </p>\n\n<p>Much thanks. </p>\n"}, {"tags": ["c#", ".net", "json", "json.net"], "comments": [{"owner": {"reputation": 218, "user_id": 3019120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5308caf334d5a410706905f99364377?s=128&d=identicon&r=PG&f=1", "display_name": "JQian", "link": "https://stackoverflow.com/users/3019120/jqian"}, "edited": false, "score": 0, "creation_date": 1537993698, "post_id": 52524374, "comment_id": 91990985, "body": "This clearly is not same question as the linked one. I am asking the way to extract json info recursively with &quot;special format&quot; instead of simple &quot;key-value&quot; pairs. Taking these two as same only supposes you guys have little knowledge to differentiate the problems, and then you should not mark duplicated arbitrarily."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7661408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05dd102e0b855a98d72de18eb8fe0f8?s=128&d=identicon&r=PG&f=1", "display_name": "nartalex", "link": "https://stackoverflow.com/users/7661408/nartalex"}, "is_accepted": false, "score": 1, "last_activity_date": 1537991665, "last_edit_date": 1537991665, "creation_date": 1537990390, "answer_id": 52524893, "question_id": 52524374, "link": "https://stackoverflow.com/questions/52524374/how-to-parse-json-in-format-as-type-value-in-c-net/52524893#52524893", "title": "How to parse Json in format as {&quot;Type&quot;: ..., &quot;Value&quot;: ...} in C# .net", "body": "<p>The quickest way you can parse string is create your custom class for this JSON and use Newtonsoft.JSON.</p>\n\n<p>I would suppose this class:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>class MyClassForJson\n{\n    public string Schema { get; set; }\n\n    public IEnumerable&lt;MyInnerClassForJson&gt; Entities { get; set; }\n}\n\nclass MyInnerClassForJson\n{\n    public string Type { get; set; }\n\n    public IEnumerable&lt;MyInnerInnerClassForJson&gt; Properties { get; set; }\n}\n\nclass MyInnerInnerClassForJson\n{\n    public string Type { get; set; }\n\n    public IEnumerable&lt;string&gt; Value { get; set; }\n}\n</code></pre>\n\n<p>Then you parse it like this:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>using Newtonsoft.Json;\n...\nvar myClassObj = JsonConvert.DeserializeObject&lt;MyClassForJson&gt;(jsonString);\n</code></pre>\n"}], "owner": {"reputation": 218, "user_id": 3019120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5308caf334d5a410706905f99364377?s=128&d=identicon&r=PG&f=1", "display_name": "JQian", "link": "https://stackoverflow.com/users/3019120/jqian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1537991222, "answer_count": 1, "score": -1, "last_activity_date": 1537991665, "creation_date": 1537988086, "question_id": 52524374, "link": "https://stackoverflow.com/questions/52524374/how-to-parse-json-in-format-as-type-value-in-c-net", "closed_reason": "Duplicate", "title": "How to parse Json in format as {&quot;Type&quot;: ..., &quot;Value&quot;: ...} in C# .net", "body": "<p>I am trying to parse a json in following format, is there any straightforward way to do it instead of recursively parse each sub-entries?</p>\n\n<pre><code>{\n\"Schema\": \"schema\",\n\"Entities\": [{\n    \"Type\": \"sometype\",\n    \"Properties\": [{\n        \"Type\": \"name\",\n        \"Value\": [\"someone\"]\n    }, {\n        \"Type\": \"date\",\n        \"Value\": [\"sometime\"]\n    }, {\n        \"Type\": \"description\",\n        \"Value\": [\"this is the description\"]\n    }\n   }]\n}\n</code></pre>\n\n<p>Is it possible to extract the information as</p>\n\n<pre><code>string name = parsedJsonObject[\"name\"]\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["c#"], "owner": {"reputation": 43, "user_id": 10354622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7603a6a312175eef71f22afaeff2502e?s=128&d=identicon&r=PG&f=1", "display_name": "James Lock", "link": "https://stackoverflow.com/users/10354622/james-lock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537991411, "creation_date": 1537987738, "last_edit_date": 1537991411, "question_id": 52524300, "link": "https://stackoverflow.com/questions/52524300/increase-the-power-of-tesseract", "title": "Increase the power of tesseract", "body": "<p>I'm working on a project to identify images, however, I'm not getting 100% in my analyzes with tesseract ... is there anything I can do to increase the success rate?</p>\n\n<p><a href=\"https://i.stack.imgur.com/0NFLV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0NFLV.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>pictureBox2.Image.Save(\"image.bmp\", System.Drawing.Imaging.ImageFormat.Bmp);\n\nvar engine = new TesseractEngine(@ \"./tessdata\", \"eng\", EngineMode.Default);\n\nengine.SetVariable(\"tessedit_char_whitelist\", \"0123456789\");\n\n//var imgarray = ImageToByteArray(pictureBox2.Image);\n\nvar img = Pix.LoadFromFile(\"image.bmp\");\n\nvar page = engine.Process(img);\n\nvar result = page.GetText();\n\nlabel1.Text = \"Confidence: \" + page.GetMeanConfidence();\n\nif (string.IsNullOrEmpty(result) || result == \"\\n\\n\")\n textBox3.Text = \"Error, cant solve!\";\nelse\n textBox3.Text = result;\n</code></pre>\n"}, {"tags": ["c#", "asp.net", "web"], "comments": [{"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1537988513, "post_id": 52524269, "comment_id": 91988550, "body": "Yes, fiddle with some css. It was <code>div &gt; img</code> and with a LinkButton it is <code>div &gt; a &gt; img</code>"}, {"owner": {"reputation": 57, "user_id": 8592941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5bb124497267ac243f7d81cc487bab?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Lopez-Reyes", "link": "https://stackoverflow.com/users/8592941/eric-lopez-reyes"}, "reply_to_user": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "edited": false, "score": 0, "creation_date": 1537988828, "post_id": 52524269, "comment_id": 91988707, "body": "would I write div &gt; img in the css for ImageButton directly, or as as the argument for an if statement"}], "owner": {"reputation": 57, "user_id": 8592941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c5bb124497267ac243f7d81cc487bab?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Lopez-Reyes", "link": "https://stackoverflow.com/users/8592941/eric-lopez-reyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537987574, "creation_date": 1537987574, "question_id": 52524269, "link": "https://stackoverflow.com/questions/52524269/displaying-png-images-in-an-asp-net-imagebutton-control-in-native-size", "title": "Displaying png images in an ASP.NET ImageButton control in native size", "body": "<p>I made an ASP.NET web app with an Image control where I display a picture. In the screenshot I attached below you can see that the displayed picture is larger than the container. The container in this case is a panel a wrapped around the Image control. I want to display the picture with an ImageButton control instead. The ImageButton control is supposed to stay a uniform size, even if the pictures are larger in native size than the ImageButton. In the case that the picture is larger, I want scrolbars to appear just like in the screenshot. Can this be done with an ImageButton?</p>\n\n<p><a href=\"https://i.stack.imgur.com/T4dT4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T4dT4.png\" alt=\"My ASP.NET web forms app\"></a></p>\n"}, {"tags": ["c#"], "answers": [{"tags": [], "owner": {"reputation": 378, "user_id": 10281603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9daa01ff0947be6d24ce1feee1d8130b?s=128&d=identicon&r=PG&f=1", "display_name": "Adas", "link": "https://stackoverflow.com/users/10281603/adas"}, "is_accepted": false, "score": 1, "last_activity_date": 1537988351, "creation_date": 1537988351, "answer_id": 52524426, "question_id": 52524245, "link": "https://stackoverflow.com/questions/52524245/c-winform-datagridview-header/52524426#52524426", "title": "C# WinForm DataGridView Header", "body": "<pre><code>var urColumnPosition =  Datagridview.Columns[\"Address\"].Index + 1\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9005212, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gq5sYbm2eBg/AAAAAAAAAAI/AAAAAAAAJSg/wFv5bSiCFLE/photo.jpg?sz=128", "display_name": "Ron", "link": "https://stackoverflow.com/users/9005212/ron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537988351, "creation_date": 1537987436, "question_id": 52524245, "link": "https://stackoverflow.com/questions/52524245/c-winform-datagridview-header", "title": "C# WinForm DataGridView Header", "body": "<p>I need to find <strong>in the header</strong> of DataGridView the column number by column name.\nFor example: Write \"Address\" and get 3 (in the attached example picture)\n<a href=\"https://i.stack.imgur.com/kmNpr.jpg\" rel=\"nofollow noreferrer\">DataGridView</a></p>\n"}, {"tags": ["c#", "wpf"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10280164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c0926502ccde547f640772b5ae2c01?s=128&d=identicon&r=PG&f=1", "display_name": "DevMent", "link": "https://stackoverflow.com/users/10280164/devment"}, "edited": false, "score": 0, "creation_date": 1538052637, "post_id": 52525295, "comment_id": 92014157, "body": "Thanks however something I do not fully understand yet. &quot;&lt;local.../&gt; &quot; adds access to the properties that the validator is based on. Is that why it was needed?"}, {"owner": {"reputation": 159, "user_id": 3492412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d398fcfbdd35050cd9b613fc28158a75?s=128&d=identicon&r=PG&f=1", "display_name": "m4a", "link": "https://stackoverflow.com/users/3492412/m4a"}, "reply_to_user": {"reputation": 45, "user_id": 10280164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c0926502ccde547f640772b5ae2c01?s=128&d=identicon&r=PG&f=1", "display_name": "DevMent", "link": "https://stackoverflow.com/users/10280164/devment"}, "edited": false, "score": 0, "creation_date": 1538053477, "post_id": 52525295, "comment_id": 92014677, "body": "You need bind type of object. Without source in binding Path=&quot;NumberOfCans&quot; irrelevant. Because you need path from some type."}, {"owner": {"reputation": 45, "user_id": 10280164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c0926502ccde547f640772b5ae2c01?s=128&d=identicon&r=PG&f=1", "display_name": "DevMent", "link": "https://stackoverflow.com/users/10280164/devment"}, "edited": false, "score": 0, "creation_date": 1538138806, "post_id": 52525295, "comment_id": 92049914, "body": "I understand now. Thanks again"}], "tags": [], "owner": {"reputation": 159, "user_id": 3492412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d398fcfbdd35050cd9b613fc28158a75?s=128&d=identicon&r=PG&f=1", "display_name": "m4a", "link": "https://stackoverflow.com/users/3492412/m4a"}, "is_accepted": true, "score": 0, "last_activity_date": 1537995130, "last_edit_date": 1537995130, "creation_date": 1537992247, "answer_id": 52525295, "question_id": 52524232, "link": "https://stackoverflow.com/questions/52524232/binding-validation-in-wpf/52525295#52525295", "title": "Binding Validation in WPF", "body": "<p>Firstly you need to add</p>\n\n<pre><code>&lt;Window.Resources&gt;\n    &lt;local:Drinks x:Key=\"Drink\"/&gt;\n...\n&lt;/Window.Resources&gt;\n...\n&lt;Binding Path=\"NumberOfCans\" UpdateSourceTrigger=\"PropertyChanged\"  Source=\"{StaticResource Drink}\"&gt;\n...\n</code></pre>\n\n<p>and constructor without parameters</p>\n\n<pre><code>public Drinks()\n{\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10280164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c0926502ccde547f640772b5ae2c01?s=128&d=identicon&r=PG&f=1", "display_name": "DevMent", "link": "https://stackoverflow.com/users/10280164/devment"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 52525295, "answer_count": 1, "score": 0, "last_activity_date": 1537995130, "creation_date": 1537987310, "question_id": 52524232, "link": "https://stackoverflow.com/questions/52524232/binding-validation-in-wpf", "title": "Binding Validation in WPF", "body": "<p>I am jumping into Binding Validation for the first time in WPF. I was using the tutorial guides in the Microsoft Docs for validating data entered into a textbox. I believe I understand it and followed the process correctly however the validation is still not working. I am not sure if the Binding on the textbox is wrong or if something is amiss with my ValidationRule. Any help would be appreciated.</p>\n\n<p>Below is the class with the validator rule.</p>\n\n<pre><code>class NumberCansValidationRule : ValidationRule\n{\n    private int _min;\n    private int _max;\n\n    public int Min\n    {\n        get { return _min; }\n\n        set { _min = value; }\n    }\n\n    public int Max\n    {\n        get { return _max; }\n\n        set { _max = value; }\n    }\n\n    public override ValidationResult Validate(object value, CultureInfo cultureInfo)\n    {\n        int numCans = 0;\n\n        try\n        {\n            if (((string)value).Length &gt; 0)\n            {\n                numCans = Int32.Parse((string)value);\n            }\n        }\n        catch (Exception e)\n        {\n            return new ValidationResult(false, \"Illegal characters or \" + e.Message);\n        }\n\n\n        if ((numCans &lt; Min) || (numCans &gt; Max))\n        {\n            return new ValidationResult(false, \"Number of cans must be between: \" + Min + \" - \" + Max + \".\");\n        }\n        else\n        {\n            return new ValidationResult(true, null);\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my main class.</p>\n\n<pre><code>public partial class MainWindow : Window\n{\n    public ObservableCollection&lt;Drinks&gt; SomeDrinks { get; private set; }\n\n    public MainWindow()\n    {\n        InitializeComponent();\n\n        SomeDrinks = new ObservableCollection&lt;Drinks&gt;();\n\n        SomeDrinks.Add(new Drinks(\"Soda\", \"Pepsi\", 5));         \n        SomeDrinks.Add(new Drinks(\"Tea\", \"Lemon\", 3));\n        SomeDrinks.Add(new Drinks(\"Caffinated\", \"Coffee\", 0));\n        SomeDrinks.Add(new Drinks(\"Other\", \"Water\", 0));\n\n        DrinksListBox.ItemsSource = SomeDrinks;\n        DrinkTypeComboBox.ItemsSource = SomeDrinks;\n    }\n\n    private void CmdDeleteDrink_Clicked(object sender, RoutedEventArgs e)\n    {\n        Button cmd = (Button)sender;\n\n        if (cmd.DataContext is Drinks deleteDrink)\n        {\n            SomeDrinks.Remove(deleteDrink);\n        }\n    }\n\n    private void CmdAddDrink_Clicked(object sender, RoutedEventArgs e)\n    {\n        string typeSelection = ((Drinks)DrinkTypeComboBox.SelectedItem).Type;\n\n        int canNum = Int32.Parse(NumberCansTextBox.Text);\n\n        SomeDrinks.Add(new Drinks(typeSelection, DrinkNameTextBox.Text, canNum)\n        {\n            IsUserDefined = true\n        });\n    }\n}\n\npublic class Drinks\n{\n    private string type;\n    private string name;\n    private int numCans;\n\n    public Drinks(string type, string name, int numCans)\n    {\n        this.type = type;\n        this.name = name;\n        this.numCans = numCans;\n    }\n\n    public bool IsUserDefined { get; set; }\n\n    public string Type\n    {\n        get { return type; }\n\n        set\n        {\n            if (type != value)\n            {\n                type = value;\n            }\n        }\n    }\n\n    public string Name\n    {\n        get { return name; }\n\n        set\n        {\n            if (name != value)\n            {\n                name = value;\n            }\n        }\n    }\n\n    public int NumberOfCans\n    {\n        get { return numCans; }\n\n        set\n        {\n            if (numCans != value)\n            {\n                numCans = value;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My XAML is here.</p>\n\n<pre><code>&lt;Window x:Class=\"WpfApp1.MainWindow\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    xmlns:local=\"clr-namespace:WpfApp1\"\n    mc:Ignorable=\"d\"\n    Title=\"MainWindow\" Height=\"450\" Width=\"800\"&gt;\n&lt;Window.Resources&gt;\n    &lt;BooleanToVisibilityConverter x:Key=\"BoolToVis\"/&gt;\n\n    &lt;ControlTemplate x:Key=\"validationTemplate\"&gt;\n        &lt;DockPanel&gt;\n            &lt;TextBlock Foreground=\"Red\" FontSize=\"20\"&gt;!&lt;/TextBlock&gt;\n            &lt;AdornedElementPlaceholder/&gt;\n        &lt;/DockPanel&gt;\n    &lt;/ControlTemplate&gt;\n\n    &lt;Style x:Key=\"textStyleTextBox\" TargetType=\"TextBox\"&gt;\n        &lt;Setter Property=\"Foreground\" Value=\"#333333\" /&gt;\n        &lt;Setter Property=\"MaxLength\" Value=\"40\" /&gt;\n        &lt;Setter Property=\"Width\" Value=\"392\" /&gt;\n        &lt;Style.Triggers&gt;\n            &lt;Trigger Property=\"Validation.HasError\" Value=\"true\"&gt;\n                &lt;Setter Property=\"ToolTip\" Value=\"{Binding RelativeSource={RelativeSource Self}, Path=(Validation.Errors)[0].ErrorContent}\"/&gt;\n            &lt;/Trigger&gt;\n        &lt;/Style.Triggers&gt;\n    &lt;/Style&gt;\n&lt;/Window.Resources&gt;\n\n&lt;Grid&gt;\n    &lt;Grid.ColumnDefinitions&gt;\n        &lt;ColumnDefinition Width=\"*\"/&gt;\n        &lt;ColumnDefinition Width=\"*\"/&gt;\n    &lt;/Grid.ColumnDefinitions&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=\"*\" /&gt;\n    &lt;/Grid.RowDefinitions&gt;\n\n    &lt;ListBox x:Name=\"DrinksListBox\" HorizontalAlignment=\"Center\" Height=\"325\" Width=\"275\" Margin=\"0,0,0,0\" VerticalAlignment=\"Center\" Grid.Column=\"0\" ItemsSource=\"{Binding SomeDrinks}\"&gt;\n        &lt;ListBox.ItemTemplate&gt;\n            &lt;DataTemplate&gt;\n                &lt;Grid Margin=\"0,2\"&gt;\n                    &lt;Grid.ColumnDefinitions&gt;\n                        &lt;ColumnDefinition Width=\"*\" /&gt;\n                        &lt;ColumnDefinition Width=\"*\" /&gt;\n                        &lt;ColumnDefinition Width=\"*\" /&gt;\n                        &lt;ColumnDefinition Width=\"*\" /&gt;\n                    &lt;/Grid.ColumnDefinitions&gt;\n                    &lt;TextBlock Text=\"{Binding Type}\" Width=\"80\"  Margin=\"0,0,10,0\" Grid.Column=\"0\"/&gt;\n                    &lt;TextBlock Text=\"{Binding Name}\" Width=\"80\"  Margin=\"0,0,10,0\" Grid.Column=\"1\" HorizontalAlignment=\"Left\"/&gt;\n                    &lt;TextBlock Text=\"{Binding NumberOfCans}\" Width=\"80\"  Margin=\"0,0,10,0\" Grid.Column=\"2\" HorizontalAlignment=\"Left\"/&gt;\n                    &lt;Button x:Name=\"DrinkDeleteButton\" Content=\"Delete\" Visibility=\"{Binding Path=IsUserDefined, Converter={StaticResource BoolToVis}}\" Click=\"CmdDeleteDrink_Clicked\" HorizontalAlignment=\"Left\" Grid.Column=\"3\"/&gt;\n                &lt;/Grid&gt;\n            &lt;/DataTemplate&gt;\n        &lt;/ListBox.ItemTemplate&gt;\n    &lt;/ListBox&gt;\n\n    &lt;TextBox x:Name=\"DrinkNameTextBox\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"45\" Margin=\"0,0,0,100\" TextWrapping=\"Wrap\" Text=\"Enter Drink Name\" VerticalAlignment=\"Center\" Width=\"240\" FontSize=\"20\" VerticalContentAlignment=\"Center\"/&gt;\n    &lt;TextBox x:Name=\"NumberCansTextBox\" Style=\"{StaticResource textStyleTextBox}\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Height=\"45\" Margin=\"0,0,0,150\" VerticalAlignment=\"Bottom\" Width=\"240\" FontSize=\"20\" VerticalContentAlignment=\"Center\"&gt;\n        &lt;TextBox.Text&gt;\n            &lt;Binding Path=\"NumberOfCans\" UpdateSourceTrigger=\"PropertyChanged\"&gt;\n                &lt;Binding.ValidationRules&gt;\n                    &lt;local:NumberCansValidationRule Min=\"0\" Max=\"10\"/&gt;\n                &lt;/Binding.ValidationRules&gt;\n            &lt;/Binding&gt;\n        &lt;/TextBox.Text&gt;\n    &lt;/TextBox&gt;\n    &lt;ComboBox x:Name=\"DrinkTypeComboBox\" Grid.Column=\"1\" HorizontalAlignment=\"Left\" Margin=\"0,47,0,0\" VerticalAlignment=\"Top\" Width=\"240\" Height=\"45\" ItemsSource=\"{Binding Drinks,  Mode=OneWay}\" DisplayMemberPath=\"Type\" FontSize=\"20\"/&gt;\n    &lt;Button x:Name=\"AddDrinkButton\" Content=\"Add Drink\" Grid.Column=\"1\" HorizontalAlignment=\"Right\" Margin=\"0,0,10,100\" VerticalAlignment=\"Center\" Width=\"100\" Height=\"45\" Click=\"CmdAddDrink_Clicked\"/&gt;\n&lt;/Grid&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["c#", "azure", "botframework", "skype-bots"], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 10167787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4151e809242e0b3c601d9fd19d03475?s=128&d=identicon&r=PG&f=1", "display_name": "RafaelVenancioGD", "link": "https://stackoverflow.com/users/10167787/rafaelvenanciogd"}, "is_accepted": true, "score": 1, "last_activity_date": 1538141732, "creation_date": 1538141732, "answer_id": 52556607, "question_id": 52524191, "link": "https://stackoverflow.com/questions/52524191/why-i-cant-save-and-retrieve-bot-data-in-azure-tables-in-skype-channel/52556607#52556607", "title": "Why I can&#39;t save and retrieve bot data in Azure Tables in Skype channel?", "body": "<p>I have found the solution, I was using some values in Skype in the same that I use in directline, and that value was null in Skype that's why Azure didn't accept insert operation. </p>\n\n<p>I think my key (context.Activity.ChannelId + empty value) generated the error message \"Unknown activity type\"  into Azure portal log. </p>\n"}], "owner": {"reputation": 25, "user_id": 10167787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4151e809242e0b3c601d9fd19d03475?s=128&d=identicon&r=PG&f=1", "display_name": "RafaelVenancioGD", "link": "https://stackoverflow.com/users/10167787/rafaelvenanciogd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 52556607, "answer_count": 1, "score": 0, "last_activity_date": 1538141732, "creation_date": 1537987101, "last_edit_date": 1538074828, "question_id": 52524191, "link": "https://stackoverflow.com/questions/52524191/why-i-cant-save-and-retrieve-bot-data-in-azure-tables-in-skype-channel", "title": "Why I can&#39;t save and retrieve bot data in Azure Tables in Skype channel?", "body": "<p>I've been working with bot for the lat three months, my Bot is finished in Webchannel,direct line, telegram and now I'm working on Skype channel, everything is fine except save and retrieve data from Azure Tables, I'm geting the error \"Unknown activity type\" in Azure portal log.</p>\n\n<p>You can find my code below:</p>\n\n<p>This is the main rootdialog class</p>\n\n<pre><code>using System;\nusing System.Threading.Tasks;\nusing Microsoft.Bot.Builder.Dialogs;\nusing Microsoft.Bot.Connector;\nusing SimpleEchoBot.Formul\u00e1rio;\nusing Microsoft.Bot.Builder.FormFlow;\nusing SimpleEchoBot.Servi\u00e7o;\nusing System.Collections.Generic;\nusing System.Text;\nusing AdaptiveCards;\nusing System.Threading;\n\nnamespace SimpleEchoBot.Dialogs\n{\n  [Serializable]\n  public class RootDialog : IDialog&lt;EntidadeCliente&gt;\n  {\n   private string nome;\n   private string email;\n\n   public async Task StartAsync(IDialogContext context)\n   {            \n    if (context.Activity.ChannelId == \"telegram\")\n    {                 \n     context.Wait(TelegramAsync);\n    }\n    else if (context.Activity.ChannelId == \"skype\")\n    {\n     context.Wait(SkypeAsync);\n    }\n    else\n    { \n     context.Wait(MessageReceivedAsync);\n    }\n   }\n   private async Task SkypeAsync(IDialogContext context, \n   IAwaitable&lt;IMessageActivity&gt; result)\n   {\n    context.Call(new NomeDialog(), NomeDialogResumeAfter);            \n   }\n   private async Task NomeDialogResumeAfter(IDialogContext \n   context,IAwaitable&lt;string&gt; result)\n   {\n    try\n    {\n     nome = await result;\n     BuscarDadosAzure buscarDadosAzure = new BuscarDadosAzure();\n     EntidadeCliente cliente = new EntidadeCliente();\n     GravarDadosAzure gravarDadosAzure = new GravarDadosAzure();\n     cliente = buscarDadosAzure.PesquisarAtendimento(nome);\n     gravarDadosAzure.GravarDados(context, cliente);\n     await context.PostAsync($\"Agora que j\u00e1 nos conhecemos { nome }, quais \n     seriam as informa\u00e7\u00f5es poderia lhe ajudar?\");\n     context.Wait(MessageReceivedAsync);\n    }\n    catch (TooManyAttemptsException)\n    {\n     await context.PostAsync(\"Me desculpe, n\u00e3o consegui registrar o seu \n     nome, agradecemos a sua visita.\");\n     context.EndConversation(EndOfConversationCodes.UserCancelled);\n    }\n  }\n}\n</code></pre>\n\n<p>This class save the data into Azure</p>\n\n<pre><code>public class GravarDadosAzure\n{        \n public EntidadeCliente GravarDados(IDialogContext context, \n EntidadeCliente cliente)\n {    \n  CloudStorageAccount storageAccount = CloudStorageAccount.Parse(\n  CloudConfigurationManager.GetSetting(\"StorageConnectionString2\"));    \n  CloudTableClient tableClient = storageAccount.CreateCloudTableClient();\n\n  Microsoft.WindowsAzure.Storage.Table.CloudTable table = \n  tableClient.GetTableReference(\"Usuario\");\n  TableOperation insertOperation = \n  TableOperation.InsertOrReplace(cliente);\n  table.Execute(insertOperation);\n\n  return cliente;\n}\n</code></pre>\n\n<p>This Class retrieve data from Azure.</p>\n\n<pre><code>public EntidadeCliente PesquisarAtendimento(EntidadeCliente cliente, \n[Optional] string \nConversationId)\n{    \n CloudStorageAccount storageAccount = CloudStorageAccount.Parse(                \n CloudConfigurationManager.GetSetting(\"StorageConnectionString2\"));    \n CloudTableClient tableClient = storageAccount.CreateCloudTableClient();\n CloudTable table = tableClient.GetTableReference(\"Usuario\");            \n if (ConversationId == null)\n {\n  TableQuery&lt;EntidadeCliente&gt; query = new TableQuery&lt;EntidadeCliente&gt; \n  ().Where(TableQuery.GenerateFilterCondition(\"Nome\", \n  QueryComparisons.Equal, cliente.nome));                \n  BuscarEntidade(table, cliente, query);\n }\n else\n {\n  TableQuery&lt;EntidadeCliente&gt; query = new TableQuery&lt;EntidadeCliente&gt; \n  ().Where(TableQuery.GenerateFilterCondition(\"ConversationId\", \n  QueryComparisons.Equal, ConversationId));\n  BuscarEntidade(table, cliente, query);\n }           \n  return cliente;\n}\n</code></pre>\n"}, {"tags": ["c#", "entity-framework", "sqlite", "entity-framework-6"], "comments": [{"owner": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1538018912, "post_id": 52524121, "comment_id": 91997295, "body": "Can you check what kind of connection string returned after <code>entityBuilder.ToString()</code>? The most possible cause is you&#39;re assigning wrong provider in <code>EntityConnectionStringBuilder</code>, which will take <code>System.Data.SqlClient</code> instead of <code>System.Data.SQLite.EF6</code>."}, {"owner": {"reputation": 80, "user_id": 967495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3530da7b61894e93d5d62173b259430?s=128&d=identicon&r=PG", "display_name": "Kibner", "link": "https://stackoverflow.com/users/967495/kibner"}, "reply_to_user": {"reputation": 21842, "user_id": 6378815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810b57a09174a18f7b91655115ce11a5?s=128&d=identicon&r=PG&f=1", "display_name": "Tetsuya Yamamoto", "link": "https://stackoverflow.com/users/6378815/tetsuya-yamamoto"}, "edited": false, "score": 0, "creation_date": 1538051449, "post_id": 52524121, "comment_id": 92013425, "body": "@TetsuyaYamamoto     <code>metadata=res:&#47;&#47;*&#47;SampleEntityDataModel.csdl|res:&#47;&#47;*&#47;SampleEn&zwnj;&#8203;tityDataModel.ssdl|r&zwnj;&#8203;es:&#47;&#47;*&#47;SampleEntityD&zwnj;&#8203;ataModel.msl;provide&zwnj;&#8203;r=System.Data.SQLite&zwnj;&#8203;.EF6;provider connection string=\\&quot;data source=EncryptionSample.db;password=password\\&quot;</code>  Also, changing the provider to <code>System.Data.SqlClient</code> does not work as that is for connecting to a MS SQL Server instance and not the SQL Lite instance I am wanting. I tried it anyway and got an error that it failed to find a MS SQL Server instance."}], "owner": {"reputation": 80, "user_id": 967495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3530da7b61894e93d5d62173b259430?s=128&d=identicon&r=PG", "display_name": "Kibner", "link": "https://stackoverflow.com/users/967495/kibner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1063, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537986779, "creation_date": 1537986779, "question_id": 52524121, "link": "https://stackoverflow.com/questions/52524121/unable-to-cast-object-of-type-system-data-sqlite-sqliteconnection-to-type-sys", "title": "Unable to cast object of type &#39;System.Data.SQLite.SQLiteConnection&#39; to type &#39;System.Data.SqlClient.SqlConnection&#39;", "body": "<p>Trying to use SQLite with EF6 but getting the error <code>Unable to cast object of type 'System.Data.SQLite.SQLiteConnection' to type 'System.Data.SqlClient.SqlConnection'.</code> when trying to to execute a GetMany type of operation. Nuget packages installed are:</p>\n\n<ul>\n<li>EF 6.2.0</li>\n<li>System.Data.SQLite 1.0.109.1</li>\n<li>System.Data.SQLite.Core 1.0.109.1</li>\n<li>System.Data.SQLite.EF6 1.0.109</li>\n<li>System.Data.SQLite.Linq 1.0.109</li>\n</ul>\n\n<p>app.config\n    </p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;!-- For more information on Entity Framework configuration, visit http://go.microsoft.com/fwlink/?LinkID=237468 --&gt;\n    &lt;section name=\"entityFramework\"\n             type=\"System.Data.Entity.Internal.ConfigFile.EntityFrameworkSection, EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089\"\n             requirePermission=\"false\" /&gt;\n  &lt;/configSections&gt;\n  &lt;startup&gt;\n    &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.7.1\" /&gt;\n  &lt;/startup&gt;\n  &lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.LocalDbConnectionFactory, EntityFramework\"&gt;\n      &lt;parameters&gt;\n        &lt;parameter value=\"mssqllocaldb\" /&gt;\n      &lt;/parameters&gt;\n    &lt;/defaultConnectionFactory&gt;\n    &lt;providers&gt;\n      &lt;provider invariantName=\"System.Data.SqlClient\"\n                type=\"System.Data.Entity.SqlServer.SqlProviderServices, EntityFramework.SqlServer\" /&gt;\n      &lt;provider invariantName=\"System.Data.SQLite.EF6\"\n                type=\"System.Data.SQLite.EF6.SQLiteProviderServices, System.Data.SQLite.EF6\" /&gt;\n      &lt;provider invariantName=\"System.Data.SQLite\"\n                type=\"System.Data.SQLite.EF6.SQLiteProviderServices, System.Data.SQLite.EF6\" /&gt;\n    &lt;/providers&gt;\n  &lt;/entityFramework&gt;\n  &lt;system.data&gt;\n    &lt;DbProviderFactories&gt;\n      &lt;remove invariant=\"System.Data.SQLite.EF6\" /&gt;\n      &lt;add name=\"SQLite Data Provider (Entity Framework 6)\" invariant=\"System.Data.SQLite.EF6\"\n           description=\".NET Framework Data Provider for SQLite (Entity Framework 6)\"\n           type=\"System.Data.SQLite.EF6.SQLiteProviderFactory, System.Data.SQLite.EF6\" /&gt;\n      &lt;remove invariant=\"System.Data.SQLite\" /&gt;\n      &lt;add name=\"SQLite Data Provider\" invariant=\"System.Data.SQLite\"\n           description=\".NET Framework Data Provider for SQLite\"\n           type=\"System.Data.SQLite.SQLiteFactory, System.Data.SQLite\" /&gt;\n    &lt;/DbProviderFactories&gt;\n  &lt;/system.data&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>dbContext</p>\n\n<pre><code>namespace EntityDataModel\n{\n    using System;\n    using System.Data.Entity;\n    using System.Data.Entity.Infrastructure;\n\n    public partial class SampleEmbeddedDBEntities : DbContext\n    {\n        public SampleEmbeddedDBEntities(EntityConnection existingConnection) : base(existingConnection, true)\n        {\n        }\n\n        protected override void OnModelCreating(DbModelBuilder modelBuilder)\n        {\n            throw new UnintentionalCodeFirstException();\n        }\n\n        public virtual DbSet&lt;Datum&gt; Data { get; set; }\n    }\n}\n</code></pre>\n\n<p>console program</p>\n\n<pre><code>using System;\nusing System.Configuration;\nusing System.Data.Entity.Core.EntityClient;\nusing System.Data.SQLite;\nusing System.Linq;\nusing EntityDataModel;\n\nnamespace EmbeddedDatabase\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            var sqLiteBuilder = new SQLiteConnectionStringBuilder\n            {\n                DataSource = \"EmbeddedSample.db\",\n                Password = \"password\"\n            };\n\n            var entityBuilder = new EntityConnectionStringBuilder\n            {\n                Provider = \"System.Data.SQLite.EF6\",\n                ProviderConnectionString = sqLiteBuilder.ToString(),\n                Metadata =\n                    @\"res://*/SampleEntityDataModel.csdl|res://*/SampleEntityDataModel.ssdl|res://*/SampleEntityDataModel.msl\"\n            };\n\n            var test = new SampleEmbeddedDBEntities(new EntityConnection(entityBuilder.ToString()));\n            var stuff = test.Data.ToList();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 5571614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0b89c4cc0b7da5184f690e2adca16d9?s=128&d=identicon&r=PG&f=1", "display_name": "Morris", "link": "https://stackoverflow.com/users/5571614/morris"}, "is_accepted": false, "score": 1, "last_activity_date": 1556531947, "last_edit_date": 1556531947, "creation_date": 1555419310, "answer_id": 55708690, "question_id": 52524113, "link": "https://stackoverflow.com/questions/52524113/settings-default-save-and-cursor-loadfromstream-lead-to-system-io-ioexception/55708690#55708690", "title": "Settings.Default.Save() and Cursor.LoadFromStream lead to System.IO.IOException", "body": "<p>We had a single user with the same problem as your \"settings\" case (it's about \".newcfg\"). It turns out that when they switched off their Norton Antivirus, the problem went away!</p>\n\n<p>Some research I did prior to that may be of use:</p>\n\n<ul>\n<li>Check if you have more than one thread capable of calling Settings.Default.Save(). If multiple threads are competing, it might produce this error, although I understand .NET is supposed to make this thread-safe.</li>\n<li>It might possibly be happening if you have multiple calls to Settings.Default.Save() in quick succession, within the same thread. This can happen if several classes (e.g. user/custom controls) each want to save some settings, but none should have to be aware of the others' need to do this, and closing down the parent form causes each control to call the Save().</li>\n<li>Check the user has appropriate write permissions in the target folder AND in the folder where the .exe is located. My colleague has seen a bizarre connection between the two!</li>\n<li>Find all instances in your code where you call Settings.Default.Save(), and set a break point on all of them. When you run the program, you might notice some suspicious behaviour or pattern in the way they get called.</li>\n</ul>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 756, "user_id": 1733086, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d063ac3a35f7db9396b583ce92604e22?s=128&d=identicon&r=PG", "display_name": "Pavel Evdokimov", "link": "https://stackoverflow.com/users/1733086/pavel-evdokimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1556531947, "creation_date": 1537986750, "question_id": 52524113, "link": "https://stackoverflow.com/questions/52524113/settings-default-save-and-cursor-loadfromstream-lead-to-system-io-ioexception", "title": "Settings.Default.Save() and Cursor.LoadFromStream lead to System.IO.IOException", "body": "<p>Two strange exceptions happened in .NET built-in components. </p>\n\n<p>It's the same IO exception: \"The process cannot access the file '......' because it is being used by another process\".</p>\n\n<p>In \"cursor\" case it's about \".tmp\" file and exception happens somewhere at the end of the sequence of calls, when WPF grid is remeasured:</p>\n\n<pre><code>System.Windows.Controls.Grid.MeasureCell\n...\nSystem.Windows.Controls.GridViewColumnHeader.GetCursor\n...\nSystem.Windows.Input.Cursor.LoadFromStream &lt;-- here\n</code></pre>\n\n<p>In \"settings\" case it's about \".newcfg\" file and happens exactly on \"save\" method call.</p>\n\n<p>The question is: how is this possible? And how to handle/prevent it?</p>\n\n<p>I guess default implementations close XMLWriters and do everything correctly.</p>\n"}, {"tags": ["c#", "linq", "uwp", "ienumerable"], "answers": [{"comments": [{"owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538022001, "post_id": 52524532, "comment_id": 91997971, "body": "Hi, unfortunately it s not so easy, I spent time on it, but I am still stucked, worst, I ve no explanation. Why on the IEnumerable ?? it&#39;s something really weird. If I remove the reference to my .Net Standard 2.0 projects everything becomes fine."}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538022245, "post_id": 52524532, "comment_id": 91998055, "body": "Just to try it out, can you add a new .NET Standard project to the solution and see if the problem happens there as well?"}, {"owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538022854, "post_id": 52524532, "comment_id": 91998216, "body": "I guess the error message confused me, my 2 referenced projects target is Net Std 2.0, In fact, one of them is a Model project and the other a Repository project. The model project when it is referenced, doesn t occur any problem. So I am now focusing on the repository project which references : Microsoft.EntityFrameworkCore, Microsoft.EntityFrameworkCore.SQlite and Microsoft.Logging.Extension.Console. Maybe it comes from entity libs, I need to check"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538024398, "post_id": 52524532, "comment_id": 91998611, "body": "Compare the .csproj file contents to see if there are any other differences as well potentially"}, {"owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538031531, "post_id": 52524532, "comment_id": 92001663, "body": "I made tests referencing only the Model project (.Net std 2.0) which has not references, no errors during the build, but when I start the app, I get this : Windows.UI.Xaml.Markup.XamlParseException.   HResult=0x802B000A   Message=Le texte associ&#233; &#224; ce code d\u2019erreur est introuvable.  Cannot deserialize XBF metadata type list as &#39;NavMenuListView&#39; was not found in ....  on the AppShell.cs constructor when calling InitializeComponent(). I guess there is an issue with the UAP 10.0.16299 and Net Std 2.0 compatibility. I made a previous version using .Net Std 1.3 was working, but I need to use 2"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538031915, "post_id": 52524532, "comment_id": 92001852, "body": "16299 is 2.0 compatible, shouldn&#39;t cause issues. Are you sure both Target and Min version are 16299"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538034522, "post_id": 52524532, "comment_id": 92003223, "body": "In case you can create a simple repro and put it on GitHub, I could try it on my PC too"}, {"owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538034796, "post_id": 52524532, "comment_id": 92003366, "body": "I solved the problem for the Model project which .Net Std 2.0 creating a new empty project and copy my classes inside, I don&#39;t really understand what was the issue. Anyway, with the DAL it s another story. I created an empty .net std 2.0 project and just add the Microsoft.EntityFrameworkCore nuget pckg. without adding any class. I cannot build my UWP : CS0012 The type &#39;IEnumerable&lt;&gt;&#39; is defined in an assembly that is not referenced. You must add a reference to assembly &#39;netstandard, Version=2.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51&#39;."}, {"owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538034818, "post_id": 52524532, "comment_id": 92003377, "body": "So need to investigate. But thanks for your help @Martin Zikmund :)"}, {"owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "reply_to_user": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538040815, "post_id": 52524532, "comment_id": 92006803, "body": "Very unusual :-O . Definitely post an update if you figure something out!"}, {"owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "edited": false, "score": 0, "creation_date": 1538041137, "post_id": 52524532, "comment_id": 92007002, "body": "sure I will, it makes me crazy :D"}], "tags": [], "owner": {"reputation": 34657, "user_id": 732221, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/C5p6I.jpg?s=128&g=1", "display_name": "Martin Zikmund", "link": "https://stackoverflow.com/users/732221/martin-zikmund"}, "is_accepted": false, "score": 0, "last_activity_date": 1537988779, "creation_date": 1537988779, "answer_id": 52524532, "question_id": 52524109, "link": "https://stackoverflow.com/questions/52524109/uwp-uap-10-0-16299-with-referenced-project-with-net-standard-2-0-occurs-probl/52524532#52524532", "title": "UWP (UAP 10.0.16299) with referenced project with .Net standard 2.0 occurs problem with LINQ (IEnumerable)", "body": "<p>It might be that NuGet Packages were not correctly restored. Close Visual Studio and delete all <code>bin</code> and <code>obj</code> folders in your solution. Then open your solution again and right-click on the solution in <strong>Solution Explorer</strong> and select <strong>Restore NuGet Packages</strong>. The errors should go away after that.</p>\n"}, {"tags": [], "owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "is_accepted": false, "score": 0, "last_activity_date": 1538291322, "creation_date": 1538291322, "answer_id": 52575498, "question_id": 52524109, "link": "https://stackoverflow.com/questions/52524109/uwp-uap-10-0-16299-with-referenced-project-with-net-standard-2-0-occurs-probl/52575498#52575498", "title": "UWP (UAP 10.0.16299) with referenced project with .Net standard 2.0 occurs problem with LINQ (IEnumerable)", "body": "<p>Finally after many hours, I just understood and found the solution to this tricky issue.\nIn my UWP project file (.csproj) , the version of the referenced Microsoft.NETCore.UniversalWindowsPlatform was 5.3.3, I replaced it by 6.1.5 and it works.</p>\n"}], "owner": {"reputation": 652, "user_id": 969741, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/nIWeS.jpg?s=128&g=1", "display_name": "Pierre-Olivier Pignon", "link": "https://stackoverflow.com/users/969741/pierre-olivier-pignon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538291322, "creation_date": 1537986738, "question_id": 52524109, "link": "https://stackoverflow.com/questions/52524109/uwp-uap-10-0-16299-with-referenced-project-with-net-standard-2-0-occurs-probl", "title": "UWP (UAP 10.0.16299) with referenced project with .Net standard 2.0 occurs problem with LINQ (IEnumerable)", "body": "<p>I face a problem with my UWP application.\nI have the client UWP (target version is Windows 10 Fall Creator Update 10.0.16299 and same for min version ) which reference 2 other projects Net standard 2.0</p>\n\n<p>I get those errors in AppShell.cs and some other Page : </p>\n\n<p>Severity    Code    Description Project File    Line    Suppression State\nError   CS0012  The type 'IEnumerable&lt;>' is defined in an assembly that is not referenced. You must add a reference to assembly 'netstandard, Version=2.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51'.   </p>\n\n<p>the lines where are the problem are all about link : </p>\n\n<pre><code>var item = (from p in PrimaryMenuItems where p.DestPage == e.SourcePageType select p).SingleOrDefault();\n</code></pre>\n\n<p>I really don't understand why.</p>\n"}, {"tags": ["c#", ".net", "visual-studio", "unit-testing"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 3, "creation_date": 1537986828, "post_id": 52524094, "comment_id": 91987756, "body": "What you describe are not unit tests. Look into integration testing. The code seems too tightly coupled to be flexible enough for unit tests."}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1537990910, "post_id": 52524094, "comment_id": 91989696, "body": "I agree with Nkosi. If the code was more loosely-coupled then it would be easier to maintain, and easier to write <i>genuine</i> unit tests, where mocking could be used to overcome the problems you describe of trying to test it as it stands."}, {"owner": {"reputation": 1, "user_id": 2296395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e79bd99f4b834f2f1a8570c28350b6a?s=128&d=identicon&r=PG", "display_name": "John Wolfe", "link": "https://stackoverflow.com/users/2296395/john-wolfe"}, "edited": false, "score": 0, "creation_date": 1537992535, "post_id": 52524094, "comment_id": 91990461, "body": "We&#39;re talking about an enormous system that will not be re-written to decouple. The goal is to test the available methods and validate the functionality. The problem is running the service object in the test context. If there&#39;s no way around this, that&#39;s fine, but I&#39;m trying to determine if it&#39;s possible."}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1538109632, "post_id": 52524094, "comment_id": 92036012, "body": "Some of the issues you are describing will go away if you turn off Shadow Copy. But not most of them. The effort required to integration test this outweighs the effort to Refactor it, and Unit Test it in smaller chunks."}], "owner": {"reputation": 1, "user_id": 2296395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e79bd99f4b834f2f1a8570c28350b6a?s=128&d=identicon&r=PG", "display_name": "John Wolfe", "link": "https://stackoverflow.com/users/2296395/john-wolfe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537986654, "creation_date": 1537986654, "question_id": 52524094, "link": "https://stackoverflow.com/questions/52524094/net-unit-testing-on-service-that-requires-it-run-in-its-own-context", "title": ".NET Unit Testing on Service that requires it run in it&#39;s own context", "body": "<p>I am attempting to write unit tests for a windows service which runs as the business layer of a multi-tier application. It doesn't seem feasible to mock the functions of this. Ideally it would be nice to create an instance of the service in the test context. However, when running the service in test context I run into all sorts of issues because the service is running in the unit test context. Things like dlls and classes not being available or xml files missing because it's looking in the test bin directory rather than the service directory.</p>\n\n<p>With all the in memory caching, etc we do, we need the service running in order to really test it. Is there a way to run the service in it's own context, rather than the test context and still unit test it? I feel like I'm at a loss here.</p>\n"}, {"tags": ["c#", "asp.net-core", "dependency-injection"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1537986664, "post_id": 52524054, "comment_id": 91987671, "body": "This appears to be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should help clarify the actual problem"}, {"owner": {"reputation": 541, "user_id": 3423333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/46ff6a177f0783b392cace549ec65a36?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kozachenko", "link": "https://stackoverflow.com/users/3423333/alexander-kozachenko"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537986960, "post_id": 52524054, "comment_id": 91987827, "body": "@Nkosi I understand what you ask for, but really can&#39;t provide more code: it just happens in SignInAsync and that&#39;s all"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537987036, "post_id": 52524054, "comment_id": 91987874, "body": "Then you need to clarify the current question as it is unclear what problem you are trying to describe."}, {"owner": {"reputation": 541, "user_id": 3423333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/46ff6a177f0783b392cace549ec65a36?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kozachenko", "link": "https://stackoverflow.com/users/3423333/alexander-kozachenko"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537987233, "post_id": 52524054, "comment_id": 91987974, "body": "@Nkosi I added some info I understood"}, {"owner": {"reputation": 541, "user_id": 3423333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/46ff6a177f0783b392cace549ec65a36?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kozachenko", "link": "https://stackoverflow.com/users/3423333/alexander-kozachenko"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537989000, "post_id": 52524054, "comment_id": 91988814, "body": "I guess there is some low-level magic inserting it in asp net core project, that isn&#39;t available in XUnit project."}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1537990043, "post_id": 52524054, "comment_id": 91989306, "body": "Did you try to resolve it using a Scope ?"}, {"owner": {"reputation": 541, "user_id": 3423333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/46ff6a177f0783b392cace549ec65a36?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kozachenko", "link": "https://stackoverflow.com/users/3423333/alexander-kozachenko"}, "reply_to_user": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1537991453, "post_id": 52524054, "comment_id": 91989960, "body": "@aguafrommars I did, no avail"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1538082162, "post_id": 52524054, "comment_id": 92030056, "body": "Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and show the test code necessary to reproduce this?"}], "answers": [{"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": false, "score": 4, "last_activity_date": 1538001940, "creation_date": 1538001940, "answer_id": 52526995, "question_id": 52524054, "link": "https://stackoverflow.com/questions/52524054/inject-iserviceprovider-using-serviceprovider-into-signinmanager/52526995#52526995", "title": "Inject IServiceProvider using ServiceProvider into SignInManager", "body": "<p>To register the service provider itself, you can do it like this:</p>\n\n<pre><code>services.AddSingleton&lt;IServiceProvider&gt;(sp =&gt; sp);\n</code></pre>\n\n<p>This uses the factory function which you can use to get an instance using the service provider <code>sp</code>. Since you want to register the service provider itself, you can just return <code>sp</code> directly.</p>\n"}], "owner": {"reputation": 541, "user_id": 3423333, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/46ff6a177f0783b392cace549ec65a36?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kozachenko", "link": "https://stackoverflow.com/users/3423333/alexander-kozachenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2804, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1538001940, "creation_date": 1537986498, "last_edit_date": 1537987207, "question_id": 52524054, "link": "https://stackoverflow.com/questions/52524054/inject-iserviceprovider-using-serviceprovider-into-signinmanager", "title": "Inject IServiceProvider using ServiceProvider into SignInManager", "body": "<p>I've made some research, and there isn't much info about registering standard classes for manual DI. Experiencing lots of issues trying to implement unit tests in asp net core 2.1 app, here is the last one. Getting null refrence exception when trying to SignInAsync user created by UserManager - it seems it can't inject IServiceProvider instance</p>\n\n<pre><code>var userManager = Resolve&lt;UserManager&lt;ApplicationUser&gt;&gt;();\nawait signInManager.SignInAsync(userManager.FindByIdAsync(adminId), false); // here\n</code></pre>\n\n<blockquote>\n  <p>Value cannot be null.\n  Parameter name: provider \n  at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)\n     at Microsoft.AspNetCore.Identity.SignInManager<code>1.SignInAsync(TUser user, AuthenticationProperties authenticationProperties, String authenticationMethod)\n     at UnitTests.TestBase</code>1.ConfigureIdentity() in C:\\Users\\alexa\\source\\repos\\octopusstore\\UnitTests\\TestBase.cs:line 72</p>\n</blockquote>\n\n<p>resolving like this</p>\n\n<pre><code>protected static ServiceCollection services = new ServiceCollection();\nprotected T Resolve&lt;T&gt;()\n{\n    var serviceProvider = services.BuildServiceProvider();\n    return serviceProvider.GetRequiredService&lt;T&gt;();\n}\n</code></pre>\n\n<p>how I am registering dependencies, it worked so far</p>\n\n<pre><code>services.AddDbContext&lt;AppIdentityDbContext&gt;();\nvar conf = new Mock&lt;IConfiguration&gt;();\nservices.AddSingleton&lt;IConfiguration&gt;(conf.Object);\nservices.AddSingleton&lt;IServiceProvider, ServiceProvider&gt;() ; // except for this\nservices.AddSingleton(services.BuildServiceProvider()); // and this\nservices.AddScoped&lt;SignInManager&lt;ApplicationUser&gt;&gt; ();\nservices.AddIdentity&lt;ApplicationUser, IdentityRole&gt;()\n       .AddEntityFrameworkStores&lt;AppIdentityDbContext&gt;()\n       .AddDefaultTokenProviders();\nservices.AddScoped&lt;IAuthorizationService, DefaultAuthorizationService&gt; ();\nservices.AddScoped&lt;IAuthorizationPolicyProvider, DefaultAuthorizationPolicyProvider&gt;();\nservices.AddScoped&lt;IAuthorizationHandlerProvider, DefaultAuthorizationHandlerProvider&gt;();\nservices.AddScoped&lt;IAuthorizationHandlerContextFactory, DefaultAuthorizationHandlerContextFactory&gt;();\nservices.AddScoped&lt;IAuthorizationEvaluator, DefaultAuthorizationEvaluator&gt;();       \n</code></pre>\n\n<p>interesting that UserManager worked fine</p>\n"}, {"tags": ["c#", "multithreading", "unity3d"], "comments": [{"owner": {"reputation": 870, "user_id": 5064530, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1f9940dea679bafc4244dbee86c0c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Sham", "link": "https://stackoverflow.com/users/5064530/sham"}, "edited": false, "score": 0, "creation_date": 1537986583, "post_id": 52524043, "comment_id": 91987629, "body": "Share complete code sample. It&#39;s possible to identify issue in given snippet."}, {"owner": {"reputation": 5987, "user_id": 1577580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/u6PCt.jpg?s=128&g=1", "display_name": "Gilad", "link": "https://stackoverflow.com/users/1577580/gilad"}, "edited": false, "score": 1, "creation_date": 1537986644, "post_id": 52524043, "comment_id": 91987664, "body": "<a href=\"http://dotnetpattern.com/csharp-concurrentqueue\" rel=\"nofollow noreferrer\">dotnetpattern.com/csharp-concurrentqueue</a>"}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 1, "creation_date": 1537986726, "post_id": 52524043, "comment_id": 91987710, "body": "If you&#39;re only locking because of the queue, you know there is a thread safe queue that don&#39;t need to use lock, right? <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.concurrent.concurrentqueue-1?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">ConcurrentQueue</a>"}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1537987091, "post_id": 52524043, "comment_id": 91987905, "body": "or my favorite, BlockingCollection <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.concurrent.blockingcollection-1?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/api/&hellip;</a>"}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1537987763, "post_id": 52524043, "comment_id": 91988217, "body": "@pm100 why would the first call block if the queue is empty? Wouldn&#39;t the <code>while</code> not execute and the lock be freed?"}, {"owner": {"reputation": 49, "user_id": 5565608, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-keJwr-Iftxc/AAAAAAAAAAI/AAAAAAAAAHA/SLStMUClK7E/photo.jpg?sz=128", "display_name": "Augusto Timm", "link": "https://stackoverflow.com/users/5565608/augusto-timm"}, "reply_to_user": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "edited": false, "score": 0, "creation_date": 1537988060, "post_id": 52524043, "comment_id": 91988334, "body": "@Magnetron I didn&#39;t knew it, I will try it now and see if it fixes the problem."}, {"owner": {"reputation": 49, "user_id": 5565608, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-keJwr-Iftxc/AAAAAAAAAAI/AAAAAAAAAHA/SLStMUClK7E/photo.jpg?sz=128", "display_name": "Augusto Timm", "link": "https://stackoverflow.com/users/5565608/augusto-timm"}, "edited": false, "score": 0, "creation_date": 1537988336, "post_id": 52524043, "comment_id": 91988469, "body": "So I can&#39;t use ConcurrentQueue, because it needs .NET Framework 4.6, and as I said before it is on Unity, so I don&#39;t have access to the .NET Framework."}, {"owner": {"reputation": 1172, "user_id": 1076111, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/82509620e4f45b74c10054281b517574?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1076111/alex"}, "edited": false, "score": 0, "creation_date": 1537988974, "post_id": 52524043, "comment_id": 91988795, "body": "Take a look here: <a href=\"https://gamedev.stackexchange.com/questions/139262/blocking-queue-in-unity\" title=\"blocking queue in unity\">gamedev.stackexchange.com/questions/139262/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5565608, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-keJwr-Iftxc/AAAAAAAAAAI/AAAAAAAAAHA/SLStMUClK7E/photo.jpg?sz=128", "display_name": "Augusto Timm", "link": "https://stackoverflow.com/users/5565608/augusto-timm"}, "edited": false, "score": 0, "creation_date": 1537988498, "post_id": 52524088, "comment_id": 91988545, "body": "So I can&#39;t use ConcurrentQueue, because it needs .NET Framework 4.6, and as I said before it is on Unity, so I don&#39;t have access to the .NET Framework."}, {"owner": {"reputation": 13062, "user_id": 1464084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e33614e1c697bd6eedeeff7172cf22e?s=128&d=identicon&r=PG", "display_name": "Moho", "link": "https://stackoverflow.com/users/1464084/moho"}, "reply_to_user": {"reputation": 49, "user_id": 5565608, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-keJwr-Iftxc/AAAAAAAAAAI/AAAAAAAAAHA/SLStMUClK7E/photo.jpg?sz=128", "display_name": "Augusto Timm", "link": "https://stackoverflow.com/users/5565608/augusto-timm"}, "edited": false, "score": 0, "creation_date": 1537989378, "post_id": 52524088, "comment_id": 91988998, "body": "here&#39;s the source: <a href=\"https://github.com/dotnet/corefx/blob/master/src/System.Threading.Tasks.Dataflow/src/Internal/ConcurrentQueue.cs\" rel=\"nofollow noreferrer\">github.com/dotnet/corefx/blob/master/src/&hellip;</a>  Have you ensured a thread is calling the second block of code?"}], "tags": [], "owner": {"reputation": 13062, "user_id": 1464084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e33614e1c697bd6eedeeff7172cf22e?s=128&d=identicon&r=PG", "display_name": "Moho", "link": "https://stackoverflow.com/users/1464084/moho"}, "is_accepted": false, "score": 0, "last_activity_date": 1537986640, "creation_date": 1537986640, "answer_id": 52524088, "question_id": 52524043, "link": "https://stackoverflow.com/questions/52524043/how-to-make-lock-wait-until-it-is-freed/52524088#52524088", "title": "How to make lock wait until it is freed?", "body": "<p>Try using the thread-safe <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.collections.concurrent.concurrentqueue-1?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">ConcurrentQueue</a> without locks.</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 5565608, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-keJwr-Iftxc/AAAAAAAAAAI/AAAAAAAAAHA/SLStMUClK7E/photo.jpg?sz=128", "display_name": "Augusto Timm", "link": "https://stackoverflow.com/users/5565608/augusto-timm"}, "is_accepted": false, "score": 0, "last_activity_date": 1537990860, "creation_date": 1537990860, "answer_id": 52525004, "question_id": 52524043, "link": "https://stackoverflow.com/questions/52524043/how-to-make-lock-wait-until-it-is-freed/52525004#52525004", "title": "How to make lock wait until it is freed?", "body": "<p>in the end, the problem wasn't with lock, actually just a line of code before the lock for the enqueue, I was casting e from json to another class and ended up throwing an exception that the unity wasn't showing me, but as I never worked with multithread in c# before I ended up looking on the wrong place.</p>\n"}], "owner": {"reputation": 49, "user_id": 5565608, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-keJwr-Iftxc/AAAAAAAAAAI/AAAAAAAAAHA/SLStMUClK7E/photo.jpg?sz=128", "display_name": "Augusto Timm", "link": "https://stackoverflow.com/users/5565608/augusto-timm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1537990860, "creation_date": 1537986449, "last_edit_date": 1537987770, "question_id": 52524043, "link": "https://stackoverflow.com/questions/52524043/how-to-make-lock-wait-until-it-is-freed", "title": "How to make lock wait until it is freed?", "body": "<p>I am using Lock to access a queue, but one of the cases seems to never execute the block of code inside of lock\nI have one thread that will execute the following code every few seconds</p>\n\n<pre><code>lock(queueLock){ \n    while(queue.Count &gt; 0){\n        doSomething(queue.Dequeue());\n    }\n}\n</code></pre>\n\n<p>And another thread that will execute the following code depending on I/O(Not determined by time interval):</p>\n\n<pre><code>lock(queueLock){\n   queue.Enqueue(input);       \n}\n</code></pre>\n\n<p>This second one never getes to execute the code inside the lock. I already tried to use the debugger or prints, but this just seems to run and on the threads window of the VS debugger it looks like the thread just died after trying to acquire the lock while no other thread was even using this queue.</p>\n\n<p>I am not using .net I am programming on unity, but in this case I am not using anything unity specific besides the update function.</p>\n"}, {"tags": ["c#", "xaml", "xamarin.forms"], "comments": [{"owner": {"reputation": 6179, "user_id": 1691980, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/979c4577100103dc214bf0b1a9da657d?s=128&d=identicon&r=PG", "display_name": "Bruno Caceiro", "link": "https://stackoverflow.com/users/1691980/bruno-caceiro"}, "edited": false, "score": 0, "creation_date": 1537990860, "post_id": 52524029, "comment_id": 91989676, "body": "Can you provide a ScreenShot of what you have, and what you want? Not sure I follow, you want the grid to fit the Frame?"}, {"owner": {"reputation": 1256, "user_id": 6936682, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/64c880364a7630596f6052d1bd005d01?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe Christensen", "link": "https://stackoverflow.com/users/6936682/jeppe-christensen"}, "reply_to_user": {"reputation": 6179, "user_id": 1691980, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/979c4577100103dc214bf0b1a9da657d?s=128&d=identicon&r=PG", "display_name": "Bruno Caceiro", "link": "https://stackoverflow.com/users/1691980/bruno-caceiro"}, "edited": false, "score": 0, "creation_date": 1537991462, "post_id": 52524029, "comment_id": 91989964, "body": "I want the frame to stick to my Grid - not just cover the entire screen, as it does now."}, {"owner": {"reputation": 6179, "user_id": 1691980, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/979c4577100103dc214bf0b1a9da657d?s=128&d=identicon&r=PG", "display_name": "Bruno Caceiro", "link": "https://stackoverflow.com/users/1691980/bruno-caceiro"}, "edited": false, "score": 0, "creation_date": 1537991579, "post_id": 52524029, "comment_id": 91990024, "body": "Then set ignore the WidthRequest and Set the vertical options Center and HorizontalOptions to Center"}], "owner": {"reputation": 1256, "user_id": 6936682, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/64c880364a7630596f6052d1bd005d01?s=128&d=identicon&r=PG&f=1", "display_name": "Jeppe Christensen", "link": "https://stackoverflow.com/users/6936682/jeppe-christensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537986386, "creation_date": 1537986386, "question_id": 52524029, "link": "https://stackoverflow.com/questions/52524029/frame-to-scale-with-child-elements-instead-of-pre-defining-width-and-heightreque", "title": "Frame to scale with child elements instead of pre-defining Width and HeightRequest", "body": "<p>I have a pop-up window which is built in a Grid. I want my pop-up window to have rounded corners, Therefore I made a custom renderer for a Frame, which I then intend to encapsulate the Grid in, like so: </p>\n\n<pre><code>&lt;local:MaterialFrame BackgroundColor=\"Red\" WidthRequest=\"Auto\" &gt;\n    &lt;Grid BackgroundColor=\"White\" HorizontalOptions=\"Center\" VerticalOptions=\"Center\"&gt;\n        &lt;Grid.RowDefinitions&gt;\n            &lt;RowDefinition Height=\"Auto\" /&gt;\n            &lt;RowDefinition Height=\"Auto\" /&gt;\n            &lt;RowDefinition Height=\"Auto\" /&gt;\n        &lt;/Grid.RowDefinitions&gt;\n        &lt;Grid Grid.Row=\"0\"&gt;\n            &lt;StackLayout HorizontalOptions=\"CenterAndExpand\" BackgroundColor=\"#1eaaf0\" Padding=\"40\"&gt;\n                &lt;local:IconView Source=\"ic_connect.png\" Foreground=\"White\" WidthRequest=\"40\" HeightRequest=\"40\" /&gt;\n                &lt;Label x:Name=\"TitleLabel\" Style=\"{DynamicResource FontBold}\" Font=\"26\" /&gt;\n            &lt;/StackLayout&gt;\n        &lt;/Grid&gt;\n        &lt;Grid Grid.Row=\"1\"&gt;\n         .......\n        &lt;/Grid&gt;\n    &lt;/Grid&gt;\n&lt;/local:MaterialFrame&gt;\n</code></pre>\n\n<p>The problem is though, that the Frame scales to fill the entire view! I could set <code>WidthRequest</code> and <code>HeightRequest</code>to a predefined value. But really, what I want, is, similar to the Grid, to make it Auto, so that the child elements decide those values. </p>\n\n<p>Is that achievable?</p>\n"}, {"tags": ["c#", "asp.net-mvc", "automapper"], "comments": [{"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1537986700, "post_id": 52523954, "comment_id": 91987693, "body": "I ran the code above, and it executed successfully. What exactly is the error it&#39;s throwing?"}, {"owner": {"reputation": 1609, "user_id": 1011627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa254294e9acff8484fc0164c0bee53?s=128&d=identicon&r=PG", "display_name": "user1011627", "link": "https://stackoverflow.com/users/1011627/user1011627"}, "edited": false, "score": 1, "creation_date": 1537986995, "post_id": 52523954, "comment_id": 91987849, "body": "Are you converting from CountryModel to Country or vice versa?  All you&#39;ve shown are the object classes and the configuration, but not how you are actually triggering the mapping from one class to another."}, {"owner": {"reputation": 2785, "user_id": 1862808, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TdYyv.jpg?s=128&g=1", "display_name": "ThunD3eR", "link": "https://stackoverflow.com/users/1862808/thund3er"}, "edited": false, "score": 0, "creation_date": 1537987084, "post_id": 52523954, "comment_id": 91987900, "body": "Please see edit 2"}, {"owner": {"reputation": 2785, "user_id": 1862808, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TdYyv.jpg?s=128&g=1", "display_name": "ThunD3eR", "link": "https://stackoverflow.com/users/1862808/thund3er"}, "reply_to_user": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1537987463, "post_id": 52523954, "comment_id": 91988081, "body": "@EricDamtoft see edit 3"}, {"owner": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 2, "creation_date": 1537987889, "post_id": 52523954, "comment_id": 91988270, "body": "@ThunD3eR see <a href=\"https://dotnetfiddle.net/uIMioV\" rel=\"nofollow noreferrer\">dotnetfiddle.net/uIMioV</a>. Possibly _mapper is a different Mapper instance than the singleton which is used by Mapper.Initialize?"}, {"owner": {"reputation": 1609, "user_id": 1011627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa254294e9acff8484fc0164c0bee53?s=128&d=identicon&r=PG", "display_name": "user1011627", "link": "https://stackoverflow.com/users/1011627/user1011627"}, "edited": false, "score": 0, "creation_date": 1537988292, "post_id": 52523954, "comment_id": 91988455, "body": "I think that is exactly what&#39;s wrong...._mapper is not using the same configuration that is provided in the question....it&#39;s using AM&#39;s default convention based mapping which doesn&#39;t understand City.   Take Eric&#39;s fiddle and comment out the countrymodel-&gt;country map configuration and you will see the error there also."}, {"owner": {"reputation": 2785, "user_id": 1862808, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TdYyv.jpg?s=128&g=1", "display_name": "ThunD3eR", "link": "https://stackoverflow.com/users/1862808/thund3er"}, "reply_to_user": {"reputation": 1217, "user_id": 4541880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PgEzh.jpg?s=128&g=1", "display_name": "Eric Damtoft", "link": "https://stackoverflow.com/users/4541880/eric-damtoft"}, "edited": false, "score": 0, "creation_date": 1537988876, "post_id": 52523954, "comment_id": 91988738, "body": "@EricDamtoft Thank you for jump starting my brain! The problem was that I was following a guide (show in my answer below) on how to use automapper together with structuremap. I copies a peace of code that changed my automapper configuration."}], "answers": [{"tags": [], "owner": {"reputation": 1609, "user_id": 1011627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1aa254294e9acff8484fc0164c0bee53?s=128&d=identicon&r=PG", "display_name": "user1011627", "link": "https://stackoverflow.com/users/1011627/user1011627"}, "is_accepted": false, "score": 1, "last_activity_date": 1590137968, "last_edit_date": 1590137968, "creation_date": 1537988045, "answer_id": 52524363, "question_id": 52523954, "link": "https://stackoverflow.com/questions/52523954/automapper-unmapped-members-were-found/52524363#52524363", "title": "Automapper Unmapped members were found", "body": "<p>You're mapping code is fine and should work fine if everything is configured properly.   I believe the issue that you are having is that while you have configured AM properly for your example, the actual mapper that is doing the work to translate from model to entity is not using your actual configuration.   Like Eric, I ran the code you provided and it works fine....unless I comment out the actual mapping in the configuration.   I think the reason you get this exception is because AM is attempting to convert using it's own convention mapping rather than your defined mapping.   AM can figure out Id and Name automatically without configuration, but fails on city.  You need to make sure that your _mapper is actually pointing to a \"configured mapper\".</p>\n\n<p>If I run this (as you have it), the code works fine.</p>\n\n<pre><code>public static void Configure()\n    {\n        Mapper.Initialize(cfg =&gt;\n        {\n            cfg.CreateMap&lt;Country, CountryModel&gt;();\n            cfg.CreateMap&lt;CountryModel, Country&gt;().ForMember(x =&gt; x.City, opt =&gt; opt.Ignore());\n        });\n    }\n</code></pre>\n\n<p>If I run this (with the mapping commented out), it will throw the unmapped exception.</p>\n\n<pre><code>public static void Configure()\n    {\n        Mapper.Initialize(cfg =&gt;\n        {\n            cfg.CreateMap&lt;Country, CountryModel&gt;();\n            //cfg.CreateMap&lt;CountryModel, Country&gt;().ForMember(x =&gt; x.City, opt =&gt; opt.Ignore());\n        });\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2785, "user_id": 1862808, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TdYyv.jpg?s=128&g=1", "display_name": "ThunD3eR", "link": "https://stackoverflow.com/users/1862808/thund3er"}, "is_accepted": true, "score": 2, "last_activity_date": 1537989018, "creation_date": 1537989018, "answer_id": 52524589, "question_id": 52523954, "link": "https://stackoverflow.com/questions/52523954/automapper-unmapped-members-were-found/52524589#52524589", "title": "Automapper Unmapped members were found", "body": "<p>Was following <a href=\"https://exceptionnotfound.net/using-automapper-with-structuremap-in-asp-net-web-api/\" rel=\"nofollow noreferrer\">This guide on automaper + structuremap</a></p>\n\n<p>In the default registry I had this: </p>\n\n<pre><code>    var config = new MapperConfiguration(cfg =&gt;\n    {\n        foreach (var profile in profiles)\n        {\n            cfg.AddProfile(profile);\n        }\n    });\n\n    //Create a mapper that will be used by the DI container\n    var mapper = config.CreateMapper();\n\n    //Register the DI interfaces with their implementation\n    For&lt;IMapperConfiguration&gt;().Use(config);\n    For&lt;IMapper&gt;().Use(mapper);\n</code></pre>\n\n<p>This obviosly chnaged my automapper settings. </p>\n\n<p>I had to change it to: </p>\n\n<pre><code>var mapper = AutoMapperConfiguration.Configure();\n\nFor&lt;IMapper&gt;().Use(mapper.CreateMapper());\n</code></pre>\n\n<p>And changed my intial mapping to : </p>\n\n<pre><code>public class AutoMapperConfiguration\n{\n    public static MapperConfiguration Configure()\n    {\n        var mapper = new MapperConfiguration(cfg =&gt;\n            {\n                cfg.CreateMap&lt;Country, CountryModel&gt;();\n                cfg.CreateMap&lt;CountryModel, Country&gt;().ForMember(x =&gt; x.City, opt =&gt; opt.Ignore());\n            }\n        );\n\n        return mapper;\n    }\n}\n</code></pre>\n\n<p>Then my mappngs finaly worked</p>\n"}], "owner": {"reputation": 2785, "user_id": 1862808, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/TdYyv.jpg?s=128&g=1", "display_name": "ThunD3eR", "link": "https://stackoverflow.com/users/1862808/thund3er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5551, "favorite_count": 0, "accepted_answer_id": 52524589, "answer_count": 2, "score": 1, "last_activity_date": 1590138330, "creation_date": 1537986007, "last_edit_date": 1537987434, "question_id": 52523954, "link": "https://stackoverflow.com/questions/52523954/automapper-unmapped-members-were-found", "title": "Automapper Unmapped members were found", "body": "<p>Going nuts here...</p>\n\n<p>Model: </p>\n\n<pre><code>public class CountryModel\n{\n    public int Id { get; set; }\n\n    [Required (ErrorMessage = \"A value is required\")]\n    [StringLength(30, MinimumLength = 4, ErrorMessage = \"Minimum value is 4 characters\")]\n    public string Name { get; set; }\n}\n</code></pre>\n\n<p>ENTITFRAMEWORK DB MODEL</p>\n\n<pre><code>public partial class Country\n{\n    public Country()\n    {\n        this.City = new HashSet&lt;City&gt;();\n    }\n\n    public int Id { get; set; }\n    public string Name { get; set; }\n\n    public virtual ICollection&lt;City&gt; City { get; set; }\n}\n</code></pre>\n\n<p>Mapper: </p>\n\n<pre><code>public class AutoMapperConfiguration\n{\n    public static void Configure()\n    {\n        Mapper.Initialize(cfg =&gt;\n            {\n                cfg.CreateMap&lt;Country, CountryModel&gt;();\n                cfg.CreateMap&lt;CountryModel, Country&gt;().ForMember(x=&gt; x.City, opt =&gt; opt.Ignore());\n            }\n        );\n    }\n}\n</code></pre>\n\n<p>Fails on city... what am I doing wrong? </p>\n\n<p>EDIT: Using Automapper V7.0.1</p>\n\n<p>EDIT2: </p>\n\n<p>Mapping like so:</p>\n\n<pre><code>    public int AddCountry(CountryModel model)\n    {\n        var mappedC = _mapper.Map&lt;CountryModel, Country&gt;(model);\n\n        int countryId = _locationManager.AddCountry(mappedC);\n\n        return 1;\n    }\n</code></pre>\n\n<p>I am mapping from countrymodel(source) to Country(destination)</p>\n\n<p>EDit 3: </p>\n\n<p>Error message: </p>\n\n<blockquote>\n  <p>Unmapped members were found. Review the types and members below. Add a\n  custom mapping expression, ignore, add a custom resolver, or modify\n  the source/destination type For no matching constructor, add a no-arg\n  ctor, add optional arguments, or map all of the constructor parameters\n  ===================================================================== AutoMapper created this type map for you, but your types cannot be\n  mapped using the current configuration. CountryModel -> Country\n  (Destination member list) NetworkTool.Models.Location.CountryModel ->\n  NetworkTool.Data.Country (Destination member list)</p>\n  \n  <p>Unmapped properties: City</p>\n</blockquote>\n"}, {"tags": ["c#", "amazon-web-services", ".net-core", "aws-lambda"], "comments": [{"owner": {"reputation": 184, "user_id": 1449348, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b15d313de0fb357c37c2b545b5b5ff0?s=128&d=identicon&r=PG", "display_name": "nzic", "link": "https://stackoverflow.com/users/1449348/nzic"}, "edited": false, "score": 0, "creation_date": 1538075713, "post_id": 52523911, "comment_id": 92027213, "body": "Is it possible that somwhere along your stack trace you are invoking this logic in separate thread that you are not waiting to finish?"}, {"owner": {"reputation": 10815, "user_id": 852555, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/690de229aed67b7e7da5ac1466911f38?s=128&d=identicon&r=PG", "display_name": "Trevor Elliott", "link": "https://stackoverflow.com/users/852555/trevor-elliott"}, "reply_to_user": {"reputation": 184, "user_id": 1449348, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1b15d313de0fb357c37c2b545b5b5ff0?s=128&d=identicon&r=PG", "display_name": "nzic", "link": "https://stackoverflow.com/users/1449348/nzic"}, "edited": false, "score": 0, "creation_date": 1538078784, "post_id": 52523911, "comment_id": 92028555, "body": "All of my code is in a synchronous lambda function. However, I&#39;m not sure it should matter? I understand how tasks and thread exceptions don&#39;t bubble to other threads, but why would one method (<code>ImportEntity</code>) calling another method (<code>InsertEntity</code>) continue execution and ignore the exception? Even if it were on its own thread, that thread would terminate."}, {"owner": {"reputation": 5714, "user_id": 342669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5LVIK.jpg?s=128&g=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/342669/mick"}, "edited": false, "score": 0, "creation_date": 1538532414, "post_id": 52523911, "comment_id": 92171570, "body": "Which logs are you referring to?  The CloudWatch logs? If there are uncaught exceptions you should see them there"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1538532888, "post_id": 52523911, "comment_id": 92171665, "body": "@TrevorElliott also, what was the exception caught when you wrapped the save changes?"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1538533004, "post_id": 52523911, "comment_id": 92171681, "body": "There are a lot of details missing from the sample provided. Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be used to reproduce the problem. This would help us in understanding the issue and aid in looking for a solution."}, {"owner": {"reputation": 10815, "user_id": 852555, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/690de229aed67b7e7da5ac1466911f38?s=128&d=identicon&r=PG", "display_name": "Trevor Elliott", "link": "https://stackoverflow.com/users/852555/trevor-elliott"}, "edited": false, "score": 0, "creation_date": 1538533962, "post_id": 52523911, "comment_id": 92171883, "body": "Yes, those are the CloudWatch logs I&#39;m looking at. The underlying exception is an EntityFrameworkCore.DbUpdateException from the Postgres EF core provider related to a unique constraint violation."}, {"owner": {"reputation": 10815, "user_id": 852555, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/690de229aed67b7e7da5ac1466911f38?s=128&d=identicon&r=PG", "display_name": "Trevor Elliott", "link": "https://stackoverflow.com/users/852555/trevor-elliott"}, "edited": false, "score": 0, "creation_date": 1538534165, "post_id": 52523911, "comment_id": 92171928, "body": "This code snippet is complete in the scope of the problem at hand: how does <code>&quot;Entity inserted successfully with Id {entity.Id}&quot;</code>, a string which only appears in that one line in my entire repo, get logged immediately after <code>&quot;Before SaveChanges, entity.Id is {entity.Id}&quot;</code>, without <code>&quot;After SaveChanges, entity.Id is {entity.Id}&quot;</code> ever being logged? As far as I know this cannot happen in C#."}, {"owner": {"reputation": 5714, "user_id": 342669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5LVIK.jpg?s=128&g=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/342669/mick"}, "edited": false, "score": 1, "creation_date": 1538537291, "post_id": 52523911, "comment_id": 92172603, "body": "@TrevorElliott it&#39;s not enough to reproduce the issue, which would allow people to diagnose it properly.  It did actually occur to me to close this question as offtopic."}, {"owner": {"reputation": 10815, "user_id": 852555, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/690de229aed67b7e7da5ac1466911f38?s=128&d=identicon&r=PG", "display_name": "Trevor Elliott", "link": "https://stackoverflow.com/users/852555/trevor-elliott"}, "reply_to_user": {"reputation": 5714, "user_id": 342669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5LVIK.jpg?s=128&g=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/342669/mick"}, "edited": false, "score": 0, "creation_date": 1538540336, "post_id": 52523911, "comment_id": 92173182, "body": "@Mick If you could suggest a possible scenario in which the code outside of this code, which calls ImportEntity, could cause this logging behavior, I would love to hear it. Even just one technically plausible explanation. If I could reproduce it locally I wouldn&#39;t have asked this question."}, {"owner": {"reputation": 5714, "user_id": 342669, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/5LVIK.jpg?s=128&g=1", "display_name": "Mick", "link": "https://stackoverflow.com/users/342669/mick"}, "edited": false, "score": 2, "creation_date": 1538540803, "post_id": 52523911, "comment_id": 92173285, "body": "@TrevorElliott the point of supplying a complete code sample is that it eliminates the need for speculation, which is all you&#39;re going to get with what you&#39;ve supplied."}, {"owner": {"reputation": 13507, "user_id": 2846483, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X2Bfs.jpg?s=128&g=1", "display_name": "dymanoid", "link": "https://stackoverflow.com/users/2846483/dymanoid"}, "edited": false, "score": 1, "creation_date": 1538667729, "post_id": 52523911, "comment_id": 92233209, "body": "The issue might be not with the code, but with the assembly or with the runtime. Do you use aspect programming? Something like Fody? Methods hot-patching? There might be a try-catch guard introduced either by some generated code or by generated IL code."}, {"owner": {"reputation": 7199, "user_id": 2385218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1da27354c3389d229f58bffc5b28a11?s=128&d=identicon&r=PG", "display_name": "sellotape", "link": "https://stackoverflow.com/users/2385218/sellotape"}, "edited": false, "score": 1, "creation_date": 1538682187, "post_id": 52523911, "comment_id": 92239526, "body": "It is virtually impossible for the 2nd log line to print without your (temporary) try-catch <i>and</i> for you to catch an exception when you temporarily add it, with the code shown. There must be something else going on, perhaps AOP-like, perhaps AWS messing with your binary (unlikely in this context I&#39;d have thought), that we can&#39;t see above. Are those methods quoted verbatim in the question?"}, {"owner": {"reputation": 10815, "user_id": 852555, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/690de229aed67b7e7da5ac1466911f38?s=128&d=identicon&r=PG", "display_name": "Trevor Elliott", "link": "https://stackoverflow.com/users/852555/trevor-elliott"}, "edited": false, "score": 0, "creation_date": 1538711587, "post_id": 52523911, "comment_id": 92246665, "body": "Yes, the inner methods are almost exactly verbatim. And yes, I&#39;ve shown the actual source code to 3 other developers at my company, and nobody can explain the behavior. Which is why I tagged this question for AWS lambdas running .NET core."}, {"owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 0, "creation_date": 1538799154, "post_id": 52523911, "comment_id": 92280604, "body": "if we knew what exception it was throwing in that try catch it would help"}], "answers": [{"tags": [], "owner": {"reputation": 2356, "user_id": 2966337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b530afb5e73055843ece98a2dab90585?s=128&d=identicon&r=PG&f=1", "display_name": "Craig.Feied", "link": "https://stackoverflow.com/users/2966337/craig-feied"}, "is_accepted": false, "score": 4, "last_activity_date": 1538958942, "creation_date": 1538958942, "answer_id": 52694089, "question_id": 52523911, "link": "https://stackoverflow.com/questions/52523911/phantom-exception-stops-execution-of-child-method-but-doesnt-bubble-up/52694089#52694089", "title": "Phantom exception stops execution of child method, but doesn&#39;t bubble up", "body": "<p>This problem has been seen before, many times. I suspect the root cause is similar to what happens when an unawaited async process throws exceptions: they don't bubble to your code because they're not designed to do so. </p>\n\n<p>In other cases where this kind of thing has been resolved the root failure is typically external to your code, meaning somewhere in the database connection, mapping, or even on the database side itself. When that happens the thread simply dies and execution continues as if SaveChanges had returned normally.</p>\n\n<p>A database timeout can cause this behavior.  Something like a POCO file that doesn't match the database correctly can cause it too, and you likely won't get a warning. A confusion between 32-bit and 64-bit file locations can cause it. If the database is transactional and the dirty ObjectStateEntry objects can't be persisted, a failure of any transaction will cause this. </p>\n\n<p>I'd start by looking at the error logs on your database -- it's surprising how often the problem becomes obvious when you do that. If logs don't show the problem, then put instrumentation on the database side and look at the received query, the query result, and the query execution. That will very likely point you in the right direction.</p>\n\n<p>If this doesn't get you unblocked, it would be worth the time to make a complete and executable minimal repro and post it. That would give me what I'd need to track down the source of the problem.  </p>\n"}], "owner": {"reputation": 10815, "user_id": 852555, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/690de229aed67b7e7da5ac1466911f38?s=128&d=identicon&r=PG", "display_name": "Trevor Elliott", "link": "https://stackoverflow.com/users/852555/trevor-elliott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1538958942, "creation_date": 1537985810, "last_edit_date": 1538680842, "question_id": 52523911, "link": "https://stackoverflow.com/questions/52523911/phantom-exception-stops-execution-of-child-method-but-doesnt-bubble-up", "title": "Phantom exception stops execution of child method, but doesn&#39;t bubble up", "body": "<p>I have an AWS lambda function that executes in response to an SNS message. There is some inexplicable behavior happening where execution stops in child method suddenly (as if an exception is thrown), but the parent continues executing as normal afterward.</p>\n\n<pre><code>public void InsertEntity(Entity entity)\n{\n    _context.Entities.Add(entity);\n\n    _logger.Log($\"Before SaveChanges, entity.Id is {entity.Id}\");\n\n    _context.SaveChanges();\n\n    _logger.Log($\"After SaveChanges, entity.Id is {entity.Id}\");\n\n    if (entity.Id &lt; 0)\n        throw new Exception($\"InsertEntity succeeded, but id is invalid: {entity.Id}\");\n}\n\npublic int? ImportEntity(string xml)\n{\n    var entity = new Entity(xml);\n\n    _entityRepository.InsertEntity(entity);\n\n    _logger.LogLine($\"Entity inserted successfully with Id {entity.Id}\");\n\n    return entity.Id;\n}\n</code></pre>\n\n<p>The context in this case is a standard DbContext using a PostgreSQL EF provider.</p>\n\n<p>When the entity is first created, the Id is 0. When you add it to the context DbSet, the id becomes a temporary negative integer like <code>-2147392341</code>. After SaveChanges is called, the entity should be given an Id from the database, a positive number.</p>\n\n<p>Any exceptions here should bubble up to the method that calls ImportEntity and it should handle the error. Instead my log file in AWS looks like this:</p>\n\n<pre><code>Before SaveChanges, entity.Id is -2147482647\nEntity inserted successfully with Id -2147482647\n</code></pre>\n\n<p>And the negative value is being returned with no exception thrown at any point. Since I have code inside InsertEntity that specifically checks for a negative value, the only possibility I can see is that SaveChanges is throwing an exception that is causing both the logging and the negative check to not be run. But how does the parent method continue logging and executing and returning a value?</p>\n\n<p>I know my code is being updated on AWS because I added the \"Before SaveChanges\" logging recently and it's showing up, and I added the logging all at the same time.</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>I added a try/catch directly around the <code>_context.SaveChanges();</code> and was able to catch the underlying exception. The question still remains of why/how it's possible for execution to continue in the <code>ImportEntity</code> function even when an exception is being thrown from within <code>InsertEntity</code>.</p>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>Adding csproj definition:</p>\n\n<pre><code>&lt;Project Sdk=\"Microsoft.NET.Sdk\"&gt;\n&lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;netcoreapp2.0&lt;/TargetFramework&gt;\n    &lt;AssemblyName&gt;MyService&lt;/AssemblyName&gt;\n    &lt;OutputType&gt;Library&lt;/OutputType&gt;\n    &lt;PackageId&gt;MyService&lt;/PackageId&gt;\n    &lt;GenerateAssemblyTitleAttribute&gt;false&lt;/GenerateAssemblyTitleAttribute&gt;\n    &lt;GenerateAssemblyDescriptionAttribute&gt;false&lt;/GenerateAssemblyDescriptionAttribute&gt;\n    &lt;GenerateAssemblyConfigurationAttribute&gt;false&lt;/GenerateAssemblyConfigurationAttribute&gt;\n    &lt;GenerateAssemblyCompanyAttribute&gt;false&lt;/GenerateAssemblyCompanyAttribute&gt;\n    &lt;GenerateAssemblyProductAttribute&gt;false&lt;/GenerateAssemblyProductAttribute&gt;\n    &lt;GenerateAssemblyCopyrightAttribute&gt;false&lt;/GenerateAssemblyCopyrightAttribute&gt;\n    &lt;GenerateAssemblyVersionAttribute&gt;false&lt;/GenerateAssemblyVersionAttribute&gt;\n    &lt;GenerateAssemblyFileVersionAttribute&gt;false&lt;/GenerateAssemblyFileVersionAttribute&gt;\n&lt;/PropertyGroup&gt;\n&lt;ItemGroup&gt;\n    &lt;None Update=\"runtimes\\linux\\lib\\netstandard1.3\\System.Net.NetworkInformation.dll\"&gt;\n    &lt;CopyToPublishDirectory&gt;PreserveNewest&lt;/CopyToPublishDirectory&gt;\n    &lt;/None&gt;\n&lt;/ItemGroup&gt;\n&lt;ItemGroup&gt;\n    &lt;PackageReference Include=\"Amazon.Lambda.Core\" Version=\"1.0.0\" /&gt;\n    &lt;PackageReference Include=\"AWSSDK.S3\" Version=\"3.3.16.2\" /&gt;\n    &lt;PackageReference Include=\"Amazon.Lambda.Serialization.Json\" Version=\"1.1.0\" /&gt;\n    &lt;PackageReference Include=\"Amazon.Lambda.S3Events\" Version=\"1.0.2\" /&gt;\n    &lt;PackageReference Include=\"AWSSDK.XRay\" Version=\"3.3.1.6\" /&gt;\n    &lt;PackageReference Include=\"AWSXRayRecorder\" Version=\"2.0.0-beta\" /&gt;\n    &lt;PackageReference Include=\"AWSXRayRecorder.Handlers.AwsSdk\" Version=\"2.0.0-beta\" /&gt;\n    &lt;PackageReference Include=\"Castle.Core\" Version=\"4.2.1\" /&gt;\n    &lt;PackageReference Include=\"Microsoft.Extensions.Configuration\" Version=\"2.0.0\" /&gt;\n    &lt;PackageReference Include=\"Microsoft.Extensions.Configuration.Json\" Version=\"2.0.0\" /&gt;\n    &lt;PackageReference Include=\"Microsoft.Extensions.Configuration.EnvironmentVariables\" Version=\"2.0.0\" /&gt;\n    &lt;PackageReference Include=\"Npgsql.EntityFrameworkCore.PostgreSQL\" Version=\"2.0.1\" /&gt;\n    &lt;PackageReference Include=\"HtmlAgilityPack.NetCore\" Version=\"1.5.0.1\" /&gt;\n    &lt;PackageReference Include=\"Amazon.Lambda.SNSEvents\" Version=\"1.0.0\" /&gt;\n    &lt;PackageReference Include=\"System.Net.NetworkInformation\" Version=\"4.3.0\" /&gt;\n    &lt;PackageReference Include=\"Microsoft.EntityFrameworkCore.SqlServer\" Version=\"2.0.1\" /&gt;\n    &lt;PackageReference Include=\"Autofac.Extensions.DependencyInjection\" Version=\"4.2.0\" /&gt;\n    &lt;PackageReference Include=\"AWSSDK.SimpleNotificationService\" Version=\"3.3.0.24\" /&gt;\n&lt;/ItemGroup&gt;\n&lt;ItemGroup&gt;\n    &lt;DotNetCliToolReference Include=\"Amazon.Lambda.Tools\" Version=\"2.1.0\" /&gt;\n&lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n\n<p>And the top-level lambda method which is called by AWS, and in return calls ImportEntity:</p>\n\n<pre><code>public void ProcessEntity(SNSEvent evnt, ILambdaContext context)\n{\n    var fileContent = GetFileContent(evnt);\n\n    using (var lifetimeScope = Container.BeginLifetimeScope())\n    {\n        var processor = processingScope.Resolve&lt;IEntityProcessor&gt;();\n        var result = processor.ImportEntity(fileContent);\n\n        context.Logger.LogLine($\"Successfully imported entity, Id is {result.Value}\");\n        return result;\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "visual-studio-2010", "sql-server-ce"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5898201, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/d3d932339696f46d4e58be90b3fef48b?s=128&d=identicon&r=PG&f=1", "display_name": "Data", "link": "https://stackoverflow.com/users/5898201/data"}, "edited": false, "score": 0, "creation_date": 1537987453, "post_id": 52524026, "comment_id": 91988077, "body": "This although very true still produces the same error."}, {"owner": {"reputation": 111, "user_id": 5898201, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/d3d932339696f46d4e58be90b3fef48b?s=128&d=identicon&r=PG&f=1", "display_name": "Data", "link": "https://stackoverflow.com/users/5898201/data"}, "edited": false, "score": 0, "creation_date": 1538059401, "post_id": 52524026, "comment_id": 92018833, "body": "\u201cThere was an error parsing the query. [Token line number =1,Token line offset =72,Token in error = File]&quot;. I belive The other answers work"}], "tags": [], "owner": {"reputation": 165, "user_id": 2042214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c21ae7eb27b2a30578f8e518b4d09ce?s=128&d=identicon&r=PG", "display_name": "user2042214", "link": "https://stackoverflow.com/users/2042214/user2042214"}, "is_accepted": false, "score": 0, "last_activity_date": 1537986359, "creation_date": 1537986359, "answer_id": 52524026, "question_id": 52523788, "link": "https://stackoverflow.com/questions/52523788/how-to-add-record-to-sql-server-compact/52524026#52524026", "title": "How to add record to SQL Server Compact", "body": "<p>I think you pass one parameter where it required 2 parameter. you need to write like this</p>\n\n<pre><code>SqlCeCommand cmd = new SqlCeCommand(\"INSERT INTO NStacks(NStacksName, NStacksItem)VALUES((textBox1.Text) , (File))\", con); \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 678, "user_id": 9453080, "user_type": "registered", "profile_image": "https://graph.facebook.com/1422327507876526/picture?type=large", "display_name": "Ivan Garc&#237;a Topete", "link": "https://stackoverflow.com/users/9453080/ivan-garc%c3%ada-topete"}, "is_accepted": false, "score": 1, "last_activity_date": 1537989061, "last_edit_date": 1537989061, "creation_date": 1537988110, "answer_id": 52524377, "question_id": 52523788, "link": "https://stackoverflow.com/questions/52523788/how-to-add-record-to-sql-server-compact/52524377#52524377", "title": "How to add record to SQL Server Compact", "body": "<blockquote>\n  <p>INSERT INTO NStacks(NStacksName, NStacksItem)VALUES((textBox1.Text) + (File))</p>\n</blockquote>\n\n<p>You're telling the DB to <code>INSERT INTO</code> the table <code>NStacks</code> the <code>VALUES</code> \"<code>(textBox1.Text) + (File)</code>\" on the column <code>NStacksName</code> ONLY, as you're missing a comma <code>,</code> to separate the values. You aren't inserting a string, you're inserting non-existent keywords, creating the SQL parse error. This is how the SQL is interpreted (note the red wiggle line):</p>\n\n<p><a href=\"https://i.stack.imgur.com/sTnwW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sTnwW.png\" alt=\"bad sql\"></a></p>\n\n<p>Strings in SQL must be enclosed with single-quotes <code>'</code> like <code>... VALUES ('value1', 'value2')</code>, looking like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b0JeH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b0JeH.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also, you need to <a href=\"https://stackoverflow.com/a/60496/9453080\">sanitize your SQL with parameters! (answer is in PHP)</a>, with <code>C#</code> it will look like:</p>\n\n<pre><code>SqlCeCommand command = new SqlCeCommand(\"INSERT INTO NStacks(NStacksName, NStacksItem)VALUES(@NStacksName, @NStacksItem)\", con);\ncommand.Parameters.Add(new SqlCeParameter(\"NStacksName\", textBox1.Text));\ncommand.Parameters.Add(new SqlCeParameter(\"NStacksItem\", File));\ncommand.ExecuteNonQuery();\n</code></pre>\n\n<p>Or with a DB connection class:</p>\n\n<pre><code>using System;\nusing System.Data;\nusing System.Data.SqlServerCe;\n\nnamespace DataBase\n{\n    public class DBConnection\n    {\n        private SqlCeConnection sqlConnection;\n\n        public DBConnection(string connectionString)\n        {\n            sqlConnection = new SqlCeConnection(connectionString);\n        }\n\n        private bool CloseConnection(SqlConnection sqlConnection)\n        {\n            try\n            {\n                sqlConnection.Close();\n                return true;\n            }\n            catch (SqlException e)\n            {\n                //Handle exception\n                return false;\n            }\n        }\n\n        private bool OpenConnection(SqlConnection sqlConnection)\n        {\n            try\n            {\n                sqlConnection.Open();\n                return true;\n            }\n            catch (SqlCeException e)\n            {\n                //Handle exception\n                return false;\n            }\n        }\n\n        public DataTable NonQuery(string sqlString, params SqlCeParameter[] sqlParameters)\n        {\n            DataTable table = new DataTable();\n            table.Columns.Add(new DataColumn(\"Affected Rows\", typeof(int)));\n            if (this.OpenConnection(this.sqlConnection))\n            {\n                try\n                {\n                    SqlCeCommand sqlCommand = new SqlCeCommand(sqlString, this.sqlConnection);\n                    sqlCommand.Parameters.AddRange(sqlParameters);\n\n                    table.Rows.Add(sqlCommand.ExecuteNonQuery());\n                }\n                catch (SqlCeException e)\n                {\n                    table.Rows.Add(0);\n                    //Handle exception\n                }\n                finally\n                {\n                    this.CloseConnection(this.sqlConnection);\n                }\n            }\n            return table;\n        }\n\n        public DataTable Query(string sqlString, params SqlCeParameter[] sqlParameters)\n        {\n            DataTable table = new DataTable();\n            if (this.OpenConnection(this.sqlConnection))\n            {\n                try\n                {\n                    SqlCeCommand sqlCommand = new SqlCeCommand(sqlString, this.sqlConnection);\n                    sqlCommand.Parameters.AddRange(sqlParameters);\n\n                    SqlCeDataAdapter sqlDataAdapter = new SqlCeDataAdapter(sqlCommand);\n                    sqlDataAdapter.Fill(table);\n                }\n                catch (SqlCeException e)\n                {\n                    //Handle exception\n                }\n                finally\n                {\n                    this.CloseConnection(this.sqlConnection);\n                }\n            }\n            return table;\n        }\n    }\n}\n</code></pre>\n\n<p>And calling it like:</p>\n\n<pre><code>// Outside foreach loop (better make it a class field and initialize this\n// inside the class constructor)\nDBConnection db = new DBConnection(connectionString);\n\n// Inside foreach loop\nDataTable result = db.NonQuery(\"INSERT INTO NStacks(NStacksName, NStacksItem)VALUES(@NStacksName, @NStacksItem)\",\n    new SqlCeParameter(\"NStacksName\", textBox1.Text),\n    new SqlCeParameter(\"NStacksItem\", File));\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5898201, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/d3d932339696f46d4e58be90b3fef48b?s=128&d=identicon&r=PG&f=1", "display_name": "Data", "link": "https://stackoverflow.com/users/5898201/data"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538023631, "creation_date": 1537985332, "last_edit_date": 1538023631, "question_id": 52523788, "link": "https://stackoverflow.com/questions/52523788/how-to-add-record-to-sql-server-compact", "title": "How to add record to SQL Server Compact", "body": "<p>I have looked at many videos and answers, on the web I now have a working example.</p>\n\n<p>I wish to drag and drop files onto a panel and have the name I provide plus a path to the file recorded into the database. Some examples show three lines for the SQL part I have one.</p>\n\n<pre><code>SqlCeCommand cmd = new SqlCeCommand(\"INSERT INTO NStacks(NStacksName, NStacksItem)VALUES((textBox1.Text) + (File))\", con); \n</code></pre>\n\n<p>Others have different lines.</p>\n\n<p>When the program is executed normally without the SQL query then the line                   </p>\n\n<pre><code>MessageBox.Show(\"Attempted write DB \" + textBox1.Text +\" \"+ File);  \n</code></pre>\n\n<p>will display the given information that should be entered into the Database. </p>\n\n<p>I am now faced with database error messages which I don\u2019t know what exactly is wrong. </p>\n\n<blockquote>\n  <p>\u201cThere was an error parsing the query. [Token line number =1,Token line offset =72,Token in error = File]\".</p>\n</blockquote>\n\n<p>My Code is outlined below.</p>\n\n<pre><code>namespace NStacks1\n{\n    public partial class Form1 : Form\n    {\n        SqlCeConnection con = new SqlCeConnection(\"Data Source=C:\\\\Users\\\\userename\\\\Documents\\\\Visual Studio 2010\\\\Projects\\\\NStacks1\\\\NStacks1\\\\NStacks.sdf\");\n        SqlCeCommand cmd;\n        public Form1()\n        {\n            InitializeComponent();\n        }\n\n        private void panel1_DragDrop(object sender, DragEventArgs e)\n        {\n            if (textBox1.Text.Equals(\"\"))\n            {\n                MessageBox.Show(\"Blank name please enter a name and try again.\");\n            }\n            else\n            {\n                string[] Files = (string[])e.Data.GetData(DataFormats.FileDrop, false);\n                foreach (string File in Files)\n                {\n                    try\n                    {\n                        con.Open();\n                        SqlCeCommand cmd = new SqlCeCommand(\"INSERT INTO NStacks(NStacksName, NStacksItem)VALUES((textBox1.Text) + (File))\", con);\n                        cmd.ExecuteNonQuery();\n                        MessageBox.Show(\"Attempted write DB \" + textBox1.Text +\" \"+ File);\n                        con.Close();\n                    }\n                    catch (Exception ex)\n                    {\n                        MessageBox.Show(ex.Message);\n                        con.Close();\n                    }\n                }\n            }\n        }\n\n        private void panel1_DragEnter(object sender, DragEventArgs e)\n        {\n            e.Effect = DragDropEffects.All;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "multithreading", "sockets", "networking"], "comments": [{"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1537986814, "post_id": 52523764, "comment_id": 91987750, "body": "i suspect some piece of code you are not showing is closing the connection"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1537989573, "post_id": 52523764, "comment_id": 91989080, "body": "You should not edit your question to post an answer.  You can post and accept a real answer to your own question instead.  See <a href=\"https://stackoverflow.com/help/self-answer\">Can I answer my own question?</a>"}, {"owner": {"reputation": 219328, "user_id": 15498, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wi4EN.png?s=128&g=1", "display_name": "Damien_The_Unbeliever", "link": "https://stackoverflow.com/users/15498/damien-the-unbeliever"}, "edited": false, "score": 0, "creation_date": 1538115308, "post_id": 52523764, "comment_id": 92037689, "body": "One of the most common &quot;new to TCP programming&quot; errors is to ignore the return value from <code>Read</code> (or moral equivalent function calls). That tells you <i>how many bytes</i> have been supplied into your buffer. And could be as low as <i>1</i>. It&#39;s not guaranteed to match the number of bytes which were supplied by a call to <code>Write</code> at the other end - TCP is a stream of bytes, <i>not</i> discrete messages."}, {"owner": {"reputation": 1, "user_id": 7303699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05588f17b70d131e0a1ab05017bbe3b7?s=128&d=identicon&r=PG&f=1", "display_name": "lev K", "link": "https://stackoverflow.com/users/7303699/lev-k"}, "edited": false, "score": 0, "creation_date": 1538156443, "post_id": 52523764, "comment_id": 92059168, "body": "I dont need that exact number of bytes that sent from the client, i need specific max byte lengh to avoid overflow"}], "owner": {"reputation": 1, "user_id": 7303699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05588f17b70d131e0a1ab05017bbe3b7?s=128&d=identicon&r=PG&f=1", "display_name": "lev K", "link": "https://stackoverflow.com/users/7303699/lev-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1537986862, "creation_date": 1537985188, "last_edit_date": 1537986862, "question_id": 52523764, "link": "https://stackoverflow.com/questions/52523764/tcpclient-doesnt-receive-bytes-from-server", "title": "TcpClient doesn&#39;t receive bytes from server", "body": "<p><strong>FIXED PROBLEM: client didn't receive any bytes from server because it had to be added to the firewall exception list.</strong></p>\n\n<p>I have a working server-client connection, the client can send bytes to the server, and server can read it. the problem is that the client doesn't receive any bytes from the server itself.\nI'm very new to network programming, please don't be harsh on me.</p>\n\n<p><strong>Send bytes to client</strong></p>\n\n<pre><code>try\n{\n    byte[] buff = Encoding.ASCII.GetBytes(\"message from server - \" + \n    new Random().Next(8000) + \"\\n\");\n\n    NetworkStream ns = client.GetStream();\n    ns.Write(buff, 0, buff.Length);\n}\ncatch(Exception r) \n{ \n    richTextBox1.AppendText(\"Sending data to - \" + client.Client.RemoteEndPoint + \"\\n\" + r.Message);\n}\n</code></pre>\n\n<p><strong>Receive bytes from server</strong></p>\n\n<pre><code>while(true)\n{\n    try\n    {\n        byte[] buff = new byte[1000];\n        NetworkStream ns = client.GetStream();\n        ns.Read(buff, 0, buff.Length);\n\n        string s = Encoding.ASCII.GetString(buff);\n        BackThread.ReportProgress(0, s);\n    }\n    catch(Exception r) \n    { \n        richTextBox1.AppendText(\"Failed to get data from server\\n\" + r.Message + \"\\n\"); \n     }\n}\n</code></pre>\n\n<p>Sometimes client gets WsaCancelBlockingCall Exception when tries to receive bytes from the server.</p>\n"}, {"tags": ["c#", "rest", "sharepoint-2016"], "comments": [{"owner": {"reputation": 1178, "user_id": 2793683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0c2a34cfc412a982c6ea3d988c9336c?s=128&d=identicon&r=PG", "display_name": "dmoore1181", "link": "https://stackoverflow.com/users/2793683/dmoore1181"}, "edited": false, "score": 0, "creation_date": 1537985093, "post_id": 52523728, "comment_id": 91986917, "body": "Not sure if this question is allowed or not, just not finding what I need on Google, and it doesn&#39;t help that I don&#39;t know much about Share Point to start with."}, {"owner": {"reputation": 7987, "user_id": 383744, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e0185eff108d5c75f7d1f822edf8aab7?s=128&d=identicon&r=PG", "display_name": "Radu", "link": "https://stackoverflow.com/users/383744/radu"}, "edited": false, "score": 0, "creation_date": 1538084791, "post_id": 52523728, "comment_id": 92031015, "body": "<code>getfolderbyserverrelativeurl</code>. Not putting as answer because I don&#39;t know anything about SharePoint, but it does seem like this is a very googleable question."}], "owner": {"reputation": 1178, "user_id": 2793683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0c2a34cfc412a982c6ea3d988c9336c?s=128&d=identicon&r=PG", "display_name": "dmoore1181", "link": "https://stackoverflow.com/users/2793683/dmoore1181"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538051810, "creation_date": 1537985058, "last_edit_date": 1537985396, "question_id": 52523728, "link": "https://stackoverflow.com/questions/52523728/documentation-on-sharepoint-2016-rest-api", "title": "Documentation on SharePoint 2016 Rest API", "body": "<p>I am writing an application that will need to insert files into a SharePoint 2016 document library from outside of Share Point. I have found that the Rest API should be capable of doing this, but I cannot find any good documentation that shows me the end points that are available and how to properly use it (yes I have seen the MSDN documentation, but haven't seen what I am looking for). Can anyone suggest a place where I can find this kind of documentation? The main things that I will need to do is to insert files from a byte array, read a file (be able to deliver the file back to my user), and possibly replace files. </p>\n\n<p>Thank you for any assistance. </p>\n"}, {"tags": ["c#", "nullable"], "comments": [{"owner": {"reputation": 1082, "user_id": 9091276, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/05cFn.png?s=128&g=1", "display_name": "Frontear", "link": "https://stackoverflow.com/users/9091276/frontear"}, "edited": false, "score": 0, "creation_date": 1537985162, "post_id": 52523724, "comment_id": 91986953, "body": "They may seem identical as text, but their binary representations are very different. See <a href=\"https://stackoverflow.com/a/1650120/9091276\">this answer</a> for more info"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1537991485, "post_id": 52523724, "comment_id": 91989979, "body": "This question is not a duplicate of the question about how you compare doubles to ints.  The issue here is that comparing a <b>nullable</b> double to an int gives one answer and comparing the <i>same</i> double as non-nullable gives a different answer."}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 2, "creation_date": 1537991807, "post_id": 52523724, "comment_id": 91990106, "body": "The downvotes on this question are unwarranted. The question is clear, and it is by no means obvious what rules of C# are causing this behaviour.  This behaviour is an example of an egregious design error in C#; how C# handles equality is terrible."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1537991826, "post_id": 52523724, "comment_id": 91990111, "body": "int32.equals will return false if the other value is not int32 <a href=\"https://referencesource.microsoft.com/#mscorlib/system/int32.cs,225942ed7b7a3252\" rel=\"nofollow noreferrer\">referencesource.microsoft.com/#mscorlib/system/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "is_accepted": true, "score": 14, "last_activity_date": 1537995711, "last_edit_date": 1537995711, "creation_date": 1537991912, "answer_id": 52525223, "question_id": 52523724, "link": "https://stackoverflow.com/questions/52523724/what-is-the-difference-between-double-and-int-for-equals-comparisons/52525223#52525223", "title": "What is the difference between double? and int? for .Equals comparisons?", "body": "<p>You are completely right to find this confusing. It is a mess.</p>\n\n<p>Let's start by clearly saying what happens by looking at more examples, and then we will deduce the correct rules that are being applied here.  Let's extend your program to consider all these cases:</p>\n\n<pre><code>    double d = 2;\n    double? nd = d;\n    int i = 2;\n    int? ni = i;\n    Console.WriteLine(d == d);\n    Console.WriteLine(d == nd);\n    Console.WriteLine(d == i);\n    Console.WriteLine(d == ni);\n    Console.WriteLine(nd == d);\n    Console.WriteLine(nd == nd);\n    Console.WriteLine(nd == i);\n    Console.WriteLine(nd == ni);\n    Console.WriteLine(i == d);\n    Console.WriteLine(i == nd);\n    Console.WriteLine(i == i);\n    Console.WriteLine(i == ni);\n    Console.WriteLine(ni == d);\n    Console.WriteLine(ni == nd);\n    Console.WriteLine(ni == i);\n    Console.WriteLine(ni == ni);\n    Console.WriteLine(d.Equals(d));\n    Console.WriteLine(d.Equals(nd));\n    Console.WriteLine(d.Equals(i));\n    Console.WriteLine(d.Equals(ni)); // False\n    Console.WriteLine(nd.Equals(d));\n    Console.WriteLine(nd.Equals(nd));\n    Console.WriteLine(nd.Equals(i)); // False\n    Console.WriteLine(nd.Equals(ni)); // False\n    Console.WriteLine(i.Equals(d)); // False\n    Console.WriteLine(i.Equals(nd)); // False\n    Console.WriteLine(i.Equals(i)); \n    Console.WriteLine(i.Equals(ni));\n    Console.WriteLine(ni.Equals(d)); // False\n    Console.WriteLine(ni.Equals(nd)); // False\n    Console.WriteLine(ni.Equals(i)); \n    Console.WriteLine(ni.Equals(ni));\n</code></pre>\n\n<p>All of those print True except the ones I have notated as printing false.</p>\n\n<p>I'll now give an analysis of those cases.</p>\n\n<p>The first thing to notice is that the <code>==</code> operator always says <code>True</code>.  Why is that?</p>\n\n<p>The semantics of non-nullable <code>==</code> are as follows:</p>\n\n<pre><code>int == int -- compare the integers\nint == double -- convert the int to double, compare the doubles\ndouble == int -- same\ndouble == double -- compare the doubles\n</code></pre>\n\n<p>So in every non-nullable case, integer 2 is equal to double 2.0 because the int 2 is converted to double 2.0, and the comparison is true.</p>\n\n<p>The semantics of nullable <code>==</code> are:</p>\n\n<ul>\n<li>If both operands are null, they're equal</li>\n<li>If one is null and the other is not, they're unequal</li>\n<li>If both are not null, then fall back to the non-nullable case above.</li>\n</ul>\n\n<p>So again, we see that for the nullable comparisons, <code>int? == double?</code>, <code>int? == double</code>, and so on, we always fall back to the non-nullable cases, convert the <code>int?</code> to <code>double</code>, and do the comparison in doubles. Thus these are also all true.</p>\n\n<p>Now we come to <code>Equals</code>, which is where things get messed up.</p>\n\n<p>There is a fundamental design problem here, which I wrote about in 2009: <a href=\"https://blogs.msdn.microsoft.com/ericlippert/2009/04/09/double-your-dispatch-double-your-fun/\" rel=\"noreferrer\">https://blogs.msdn.microsoft.com/ericlippert/2009/04/09/double-your-dispatch-double-your-fun/</a>  -- the problem is that the meaning of <code>==</code> is resolved based on the <strong>compile time types of both operands</strong>.  But <code>Equals</code> is resolved on the basis of the <em>run time type</em> of the <em>left</em> operand (the receiver), but the <em>compile time type</em> of the <em>right</em> operand (the argument), and that's why things go off the rails.</p>\n\n<p>Let's begin by looking at what <code>double.Equals(object)</code> does.  If the receiver of a call to <code>Equals(object)</code> is <code>double</code> then <strong>if the argument is not a boxed double, they are considered not equal</strong>.  That is, <code>Equals</code> requires that the types <em>match</em>, whereas <code>==</code> requires that the types <em>be convertible to a common type</em>.  </p>\n\n<p>I'll say that again. <code>double.Equals</code> does <em>not</em> try to convert its argument to double, unlike <code>==</code>.  It just checks to see if it already <em>is</em> double, and if it is not, then it says they are not equal.</p>\n\n<p>That then explains why <code>d.Equals(i)</code> is false... but... wait a minute, it is <strong>not</strong> false above!  What explains this?</p>\n\n<p><code>double.Equals</code> is overloaded!  Above we are actually calling <code>double.Equals(double)</code>, which -- you guessed it -- converts the int to a double before doing the call!  If we had said  <code>d.Equals((object)i))</code> then that would be false.</p>\n\n<p>All right, so we know why <code>double.Equals(int)</code> is true -- because the int is converted to double.</p>\n\n<p>We also know why <code>double.Equals(int?)</code> is false.  <code>int?</code> is not convertible to double, but it is to <code>object</code>. So we call <code>double.Equals(object)</code> and box the <code>int</code>, and now its not equal.</p>\n\n<p>What about <code>nd.Equals(object)</code> ?  The semantics of that is:</p>\n\n<ul>\n<li>If the receiver is null and the argument is null, they are equal</li>\n<li>If the receiver is not null then defer to the non-nullable semantics of <code>d.Equals(object)</code></li>\n</ul>\n\n<p>So now we know why <code>nd.Equals(x)</code> works if <code>x</code> is a <code>double</code> or <code>double?</code> but not if it is <code>int</code> or <code>int?</code>.  (Though interestingly, of course <code>(default(double?)).Equals(default(int?))</code> would be true since they are both null!)</p>\n\n<p>Finally, by similar logic we see why <code>int.Equals(object)</code> gives the behaviour it has.  It checks to see if its argument is a boxed int, and if it is not, then it returns false.  Thus <code>i.Equals(d)</code> is false. The <code>i</code> cannot be converted to double, and the <code>d</code> cannot be converted to int.</p>\n\n<p><strong>This is a huge mess</strong>.  We would like <em>equality</em> to be an <em>equivalence relation</em>, and it is not!  An equality relationship should have these properties:</p>\n\n<ul>\n<li>Reflexivity: a thing is equal to itself.  That is <em>usually</em> true in C# though there are a few exceptions.</li>\n<li>Symmetry: If A is equal to B then B is equal to A.  That is true of <code>==</code> in C# but not of <code>A.Equals(B)</code>, as we've seen.</li>\n<li>Transitivity: If A equals B and B equals C then A also equals C. That is absolutely not the case in C#.</li>\n</ul>\n\n<p>So, its a mess on all levels. <code>==</code> and <code>Equals</code> have different dispatch mechanisms and give different results, neither of them are equivalence relations, and it's all confusing all the time.  Apologies for getting you into this mess, but it was a mess when I arrived.</p>\n\n<p>For a slightly different take on why equality is terrible in C#, see item number nine on my list of regrettable language decisions, here: <a href=\"http://www.informit.com/articles/article.aspx?p=2425867\" rel=\"noreferrer\">http://www.informit.com/articles/article.aspx?p=2425867</a></p>\n\n<p>BONUS EXERCISE:  Repeat the above analysis, but for <code>x?.Equals(y)</code> for the cases where <code>x</code> is nullable.  When do you get the same results as for non-nullable receivers, and when do you get different results?</p>\n"}, {"comments": [{"owner": {"reputation": 421, "user_id": 1658153, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d56da8e51ae2342b0faf7683257b4c7f?s=128&d=identicon&r=PG", "display_name": "Iteria", "link": "https://stackoverflow.com/users/1658153/iteria"}, "edited": false, "score": 0, "creation_date": 1537992797, "post_id": 52525274, "comment_id": 91990585, "body": "Thanks, that&#39;s such a clear answer. Also, extremely unexpected.  EDIT: actually I have to take that back, I&#39;m not sure this answer applies to nullable"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "reply_to_user": {"reputation": 421, "user_id": 1658153, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d56da8e51ae2342b0faf7683257b4c7f?s=128&d=identicon&r=PG", "display_name": "Iteria", "link": "https://stackoverflow.com/users/1658153/iteria"}, "edited": false, "score": 0, "creation_date": 1537993799, "post_id": 52525274, "comment_id": 91991032, "body": "@Iteria: This answer gets most of the way there. The other two things you have to know are: (1) <code>Nullable&lt;T&gt;.Equals(object)</code> checks for nullity, and then defers to <code>object.Equals(object)</code> on the underlying type <code>T</code>, and (2) <code>double.Equals()</code> has overloads."}, {"owner": {"reputation": 421, "user_id": 1658153, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d56da8e51ae2342b0faf7683257b4c7f?s=128&d=identicon&r=PG", "display_name": "Iteria", "link": "https://stackoverflow.com/users/1658153/iteria"}, "edited": false, "score": 1, "creation_date": 1538047646, "post_id": 52525274, "comment_id": 92011133, "body": "Ah, I see. Between this answer and your answer above. I think I have it."}], "tags": [], "owner": {"reputation": 78095, "user_id": 2847, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zNdvw.jpg?s=128&g=1", "display_name": "John Boker", "link": "https://stackoverflow.com/users/2847/john-boker"}, "is_accepted": false, "score": 1, "last_activity_date": 1537992145, "creation_date": 1537992145, "answer_id": 52525274, "question_id": 52523724, "link": "https://stackoverflow.com/questions/52523724/what-is-the-difference-between-double-and-int-for-equals-comparisons/52525274#52525274", "title": "What is the difference between double? and int? for .Equals comparisons?", "body": "<p>It looks like the answer is in the source for the <code>Equals</code> method on each of the types.  If the types don't match then they are not equal.</p>\n\n<p><a href=\"https://referencesource.microsoft.com/#mscorlib/system/double.cs,147\" rel=\"nofollow noreferrer\">https://referencesource.microsoft.com/#mscorlib/system/double.cs,147</a></p>\n\n<pre><code>// True if obj is another Double with the same value as the current instance.  This is\n// a method of object equality, that only returns true if obj is also a double.\npublic override bool Equals(Object obj) {\n    if (!(obj is Double)) {\n        return false;\n    }\n    double temp = ((Double)obj).m_value;\n    // This code below is written this way for performance reasons i.e the != and == check is intentional.\n    if (temp == m_value) {\n        return true;\n    }\n    return IsNaN(temp) &amp;&amp; IsNaN(m_value);\n}\n</code></pre>\n\n<p><a href=\"https://referencesource.microsoft.com/#mscorlib/system/int32.cs,72\" rel=\"nofollow noreferrer\">https://referencesource.microsoft.com/#mscorlib/system/int32.cs,72</a></p>\n\n<pre><code>public override bool Equals(Object obj) {\n    if (!(obj is Int32)) {\n        return false;\n    }\n    return m_value == ((Int32)obj).m_value;\n}\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 1658153, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d56da8e51ae2342b0faf7683257b4c7f?s=128&d=identicon&r=PG", "display_name": "Iteria", "link": "https://stackoverflow.com/users/1658153/iteria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 3, "accepted_answer_id": 52525223, "answer_count": 2, "score": 8, "last_activity_date": 1537995711, "creation_date": 1537985033, "question_id": 52523724, "link": "https://stackoverflow.com/questions/52523724/what-is-the-difference-between-double-and-int-for-equals-comparisons", "title": "What is the difference between double? and int? for .Equals comparisons?", "body": "<p>I have a very strange situation I don't understand. Below is the case simplified:</p>\n\n<pre><code>double? d = 2;\nint? i = 2;\n\nConsole.WriteLine(d.Equals((2))); // false\nConsole.WriteLine(i.Equals((2))); // true\n</code></pre>\n\n<p>I don't understand why one expression will net me true and another false. They seem identical.</p>\n"}, {"tags": ["c#", ".net", "entity-framework"], "comments": [{"owner": {"reputation": 13062, "user_id": 1464084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e33614e1c697bd6eedeeff7172cf22e?s=128&d=identicon&r=PG", "display_name": "Moho", "link": "https://stackoverflow.com/users/1464084/moho"}, "edited": false, "score": 0, "creation_date": 1537986780, "post_id": 52523714, "comment_id": 91987735, "body": "which version of EF, 6?  and show your code"}, {"owner": {"reputation": 29, "user_id": 7638249, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222258944490437/picture?type=large", "display_name": "Naresh Garlapati", "link": "https://stackoverflow.com/users/7638249/naresh-garlapati"}, "reply_to_user": {"reputation": 13062, "user_id": 1464084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e33614e1c697bd6eedeeff7172cf22e?s=128&d=identicon&r=PG", "display_name": "Moho", "link": "https://stackoverflow.com/users/1464084/moho"}, "edited": false, "score": 0, "creation_date": 1537987830, "post_id": 52523714, "comment_id": 91988239, "body": "private List&lt;ConstraintFilter&gt; getConditions()         {             List&lt;ConstraintFilter&gt; list=new List&lt;ConstraintFilter&gt;();              list.Add(new ConstraintFilter());             return list;         }.                          public class ConstraintFilter     {          public string Type { get; set; }         public string Name { get; set; }         public string Operator { get; set; }         public string Value { get; set; }     }"}, {"owner": {"reputation": 29, "user_id": 7638249, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222258944490437/picture?type=large", "display_name": "Naresh Garlapati", "link": "https://stackoverflow.com/users/7638249/naresh-garlapati"}, "reply_to_user": {"reputation": 13062, "user_id": 1464084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e33614e1c697bd6eedeeff7172cf22e?s=128&d=identicon&r=PG", "display_name": "Moho", "link": "https://stackoverflow.com/users/1464084/moho"}, "edited": false, "score": 0, "creation_date": 1537987903, "post_id": 52523714, "comment_id": 91988276, "body": "Added main code to question description. I want to add a new object &quot;ConstraintFiletr&quot; to it."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1537988700, "post_id": 52523714, "comment_id": 91988639, "body": "If you don&#39;t have a table then you cant do this <code>.Include(ent=&gt;ent.ConstraintFilters)</code> or you need to define a key mapping for it (based on the error message)"}], "answers": [{"tags": [], "owner": {"reputation": 23543, "user_id": 2281790, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/pP0ow.jpg?s=128&g=1", "display_name": "Harald Coppoolse", "link": "https://stackoverflow.com/users/2281790/harald-coppoolse"}, "is_accepted": false, "score": 1, "last_activity_date": 1538038193, "last_edit_date": 1538038193, "creation_date": 1538037555, "answer_id": 52532812, "question_id": 52523714, "link": "https://stackoverflow.com/questions/52523714/entity-framework-complex-object/52532812#52532812", "title": "Entity Framework - Complex object", "body": "<p>Alas you forget to show us the class <code>DataPoint</code>, hence I can only give suggestions to help you solve your problem.</p>\n\n<p>From your code I see that every <code>DataPoint</code> has several one-to-many relations (or many-to-many).</p>\n\n<p>Because you use a plural noun for property <code>ConstraintFilters</code>, it seems that every <code>DataPoint</code> has zero or more <code>ConstraintFilters</code>. These <code>ConstraintFilters</code> are stored in a separate table:</p>\n\n<pre><code>class DataPoint\n{\n    public int Id {get; set;} // primary key\n    ...\n\n    public virtual ICollection&lt;ConstraintFilter&gt; ConstraintFilters {get; set;}\n} \n</code></pre>\n\n<blockquote>\n  <p>In entity framework non-virtual properties represent columns in your database table; the virtual properties represent relations between the tables (one-to-many, many-to-many, etc)</p>\n</blockquote>\n\n<p>However, from your title and your error, it seems that <code>ConstraintFilters</code> is one (complex) object, that are columns in your <code>DataPoints</code> table.</p>\n\n<pre><code>class DataPoint\n{\n    public int Id {get; set;} // primary key\n    ...\n\n    public ConstraintFilter ConstraintFilters {get; set;}\n} \n</code></pre>\n\n<p>If that is the case: the cause is in your <code>.Include(ent=&gt;ent.ConstraintFilters)</code>. Don't use it. Just access the properties you plan to use in your query, and the values will be fetched.</p>\n\n<p>Advice: stick to <a href=\"http://www.entityframeworktutorial.net/code-first/code-first-conventions.aspx\" rel=\"nofollow noreferrer\">entity framework code-first conventions</a>, this enhances readability of your code. In your case: if your <code>DataPoint</code> has one (complex type) <code>ConstraintFilter</code> don't use the plural <code>ConstraintFilters</code>.</p>\n\n<h2>Problems in your query</h2>\n\n<p>From your collection of <code>DataPoints</code> you seem to want to select certain <code>DataPoints</code> and query some (or all) of its properties.</p>\n\n<p>In your query I see several problems.</p>\n\n<h3> You fetch way more data than you actually use </h3>\n\n<p>One of the slower parts of a database query is the transfer from the selected data from your Database Management System to your local process. Hence it is wise to limit the data that is to be transferred.</p>\n\n<p>Every <code>DataPoint</code> has a primary key, probably in a property <code>Id</code>. Every <code>DataPoint</code> has zero or more <code>DataPointEnumerations</code>. Every <code>DataPointEnumeration</code> belongs to exactly one <code>DataPoint</code> (one-to-many). For this the <code>DataPointEnumeration</code> has a foreign key <code>DataPointId</code>, which has the same value as the <code>DataPoint.Id</code> that it belongs to.</p>\n\n<p>If you query a <code>DataPoint</code> with its 1000 <code>DataPointEnumerations</code> you'll know that every <code>DataPointId</code> of every <code>DataPointEnumeration</code> of this <code>DataPoint</code> has the same value, namely the value of <code>DataPoint.Id</code>: what a wast to transfer this same value over and over again.</p>\n\n<blockquote>\n  <p>When querying data do not use <code>Include</code>. Use <code>Select</code> instead, and <code>Select</code> only the properties you actually plan to use. Only use <code>Include</code> if you plan to change and save the fetched included data.</p>\n</blockquote>\n\n<h3> After ToList() you continue concatenating LINQ statements </h3>\n\n<p>As long as you keep your data <code>IQueryable</code>, no query is performed. Concatenating LINQ statements will only change the <code>IQueryable.Expression</code>.</p>\n\n<p>The <code>ToList</code> will execute the query and transfer the data to your local process. After this you make it an <code>IQueryable</code> again.</p>\n\n<p>Imagine what happens in the following code:</p>\n\n<pre><code>IQueryable&lt;DataPoint&gt; dataPointQuery = YourProcedure() // the procedure that return your query\nDataPoint firsDataPoint = dataPointQuery.FirstOrDefault();\n</code></pre>\n\n<p>First your <code>ToList</code> fetches all <code>DataPoints</code> that  match your <code>Where</code> to local memory, then you only take the first one and discard all other fetched <code>DataPoints</code>: what a waste of processing power.</p>\n\n<blockquote>\n  <p>Keep your <code>IQueryable</code> and <code>IQueryable</code> as long as possible, thus allowing your users to concatenate LINQ statements without actually executing the <code>IQueryable</code>.</p>\n</blockquote>\n\n<h3> IQueryable and IEnumerable</h3>\n\n<p>The only reason to perform linq statements after you transferred the data to local memory is because you need to call local functions like you do in <code>ConstraintFilters = getConditions()</code> This statement can't be translated into SQL. This is probably the reason why you added <code>ToList()</code> in your query.</p>\n\n<p>If you start enumerating an <code>AsEnumerable</code>, either implicitly using <code>ToList()</code>, <code>FirstOrDefault()</code>, Any(), <code>foreach</code>, or implicitly using <code>GetEnumerator</code> and <code>MoveNext</code>, an <code>AsEnumerable</code> will fetch only a page of the query, not the complete data.</p>\n\n<pre><code>IQueryable&lt;...&gt; sourceData = ...\nvar fetchdItem = sourceData\n    .AsEnumerable()\n    .Where(item =&gt; this.Localfunction(item))        // for this we need AsEnumerable\n    .FirstOrDefault();\n</code></pre>\n\n<p>The <code>FirstOrDefault</code> will internally <code>GetEnumerator</code> and <code>MoveNext</code>. The AsEnumerable will fetch one \"page\" of source data, which is not the complete collection. So if you only use <code>FirstOrDefault()</code>, more than one source item is fetched, but not all, which is a bit more efficient. Only if you enumerate over more items than fits one page, the next page is queried from the database.</p>\n\n<p> Putting the advices together</p>\n\n<ul>\n<li>No <code>Include</code>, but <code>Select</code> to fetch only the used data</li>\n<li>No <code>ToList</code> but as <code>Enumerable</code> to fetch data per page instead of all data</li>\n<li>Return <code>IEnumerable</code>, after all: the data is in local memory, <code>IEnumerable</code> can do more than <code>IQueryable</code></li>\n</ul>\n\n<p>.</p>\n\n<pre><code>IEnumerable&lt;DataPoint&gt; FetchDataPoints(...)\n{\n    return myDbContext.DataPoints\n        // select a subset of dataPoints:\n        // improve readability, use proper identifiers: not \"ent\", but \"dataPoint\"\n        .Where(dataPoint =&gt; ...)         \n\n        // select only the properties you plan to use in this use-case scenario\n        .Select(dataPoint =&gt; new\n        {\n            Id = dataPoint.Id,\n            Description = dataPoint.Description,\n            EffectiveDate = dataPoint.EffectiveDate,\n            ...\n\n            DataPointStates = dataPoint.DataPointStates\n                // only Select the dataPointStates I plan to use\n                .Where(dataPointState =&gt; ...))\n                // from every dataPointSate select only the properties I plan to use\n                .Select(dataPointState =&gt; new\n                {\n                    ...\n                    // not needed: dataPointState.DataPointId, you know the value\n                })\n                .ToList(),\n\n            // query only the DataPointExpressions you plan to use,\n            DataPointExpressions = dataPoint.DataPointExpressions\n                .Where(dataPointExpression =&gt; ...)\n                .Select(dataPointExpression =&gt; new\n                {\n                    // again select only the properties you plan to use\n                })\n                .ToList(),\n        })\n</code></pre>\n\n<p>In the next statements you will be using local functions  like <code>getConditions()</code>, hence the selected data must be transferred to local memory per page:</p>\n\n<p>Continue the LINQ statement:</p>\n\n<pre><code>        .AsEnumerable()\n</code></pre>\n\n<p>The following is only needed if you need to return the fetched data in a typed object. If you use the data only in this code block, there is no need to convert it to a new DataPoint:</p>\n\n<pre><code>        // continue the linq statement: put the transferred data in a type.\n        .Select(fetchedData =&gt; new DataPoint\n        {\n            Description = fetchedData.Description,\n            EffectiveDate = fetchedData..EffectiveDate,\n            DataPointStates = fetchedData.DataPointStates,\n            ...\n            ConstraintFilters = getConditions(), \n        });\n\n        // note: the result is an IEnumerable! no need to convert it to IQueryable\n        // because an IEnumerable can do much more than an IQueryable\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 7638249, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222258944490437/picture?type=large", "display_name": "Naresh Garlapati", "link": "https://stackoverflow.com/users/7638249/naresh-garlapati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538038193, "creation_date": 1537984995, "last_edit_date": 1537987776, "question_id": 52523714, "link": "https://stackoverflow.com/questions/52523714/entity-framework-complex-object", "title": "Entity Framework - Complex object", "body": "<p>I want to join multiple tables in Entity framework, Query against that. </p>\n\n<p>Want to assign output of my query to a complex object which don't have any table.</p>\n\n<p>I am getting below error, when i tried to do.</p>\n\n<blockquote>\n  <p>EntityType 'ConstraintFilter' has no key defined. Define the key for this EntityType. ConstraintFilters: EntityType: EntitySet 'ConstraintFilters' is based on type 'ConstraintFilter' that has no keys defined.</p>\n</blockquote>\n\n<p>How to overcome this??.</p>\n\n<p>Code</p>\n\n<pre><code>[HttpGet]\n    [EnableQuery]\n    public IQueryable&lt;DataPoint&gt; GetDataPoints([FromUri] DateTime effectiveDate, [FromUri] string state, [FromUri] string dataPointName = \"\", [FromUri]  ICollection&lt;string&gt; category = null, [FromUri] bool includeConstraints = false, [FromUri] ConstraintFilter constraintFilter = null)\n    {\n        return _db.DataPoints.Where(ent =&gt;\n                 ent.EffectiveDate &lt;= effectiveDate &amp;&amp; (ent.ExpiryDate == null || ent.ExpiryDate &gt; effectiveDate)\n                 &amp;&amp; ent.DataPointStates.Any(pr =&gt; pr.State == state &amp;&amp; (pr.EffectiveDate &lt;= effectiveDate &amp;&amp; (pr.ExpiryDate == null || pr.ExpiryDate &gt; effectiveDate))))\n             .Include(ent =&gt; ent.DataPointEnumerations)\n             .Include(ent =&gt; ent.DataPointExpressions.Select(dpe =&gt; dpe.Expression))\n             .Include(ent =&gt; ent.DataPointValidations.Select(dpv =&gt; dpv.Validation))\n             .Include(ent =&gt; ent.DataPointStates)\n             .Include(ent=&gt;ent.ConstraintFilters)\n             .ToList().Select(ent =&gt; new DataPoint\n             {\n                 Description = ent.Description,\n                 EffectiveDate = ent.EffectiveDate,\n                 ExpiryDate = ent.ExpiryDate,\n                 Id = ent.Id,\n                 Name = ent.Name,\n                 IsVirtualField = ent.IsVirtualField,\n                 DataPointStates = ent.DataPointStates.Where(ent2 =&gt;\n                     ent2.State == state &amp;&amp; ent2.EffectiveDate &lt;= effectiveDate &amp;&amp;\n                     (ent2.ExpiryDate == null || ent2.ExpiryDate &gt; effectiveDate)).ToArray(),\n                 DataPointExpressions = ent.DataPointExpressions.Where(ent2 =&gt;\n                     ent2.EffectiveDate &lt;= effectiveDate &amp;&amp;\n                     (ent2.ExpiryDate == null || ent2.ExpiryDate &gt; effectiveDate)).\n                                                 Select(de =&gt; new DataPointExpression\n                                                 {\n                                                     Id = de.Id,\n                                                     ExpressionId = de.ExpressionId,\n                                                     DataPointId = de.DataPointId,\n                                                     EffectiveDate = de.EffectiveDate,\n                                                     ExpiryDate = de.ExpiryDate,\n                                                     Expression = de.Expression\n                                                 }).ToArray(),\n                 DataPointEnumerations = ent.DataPointEnumerations.Where(ent2 =&gt;\n                     ent2.EffectiveDate &lt;= effectiveDate &amp;&amp;\n                     (ent2.ExpiryDate == null || ent2.ExpiryDate &gt; effectiveDate)).ToArray(),\n                 DataPointValidations = ent.DataPointValidations.Where(ent2 =&gt;\n                     ent2.EffectiveDate &lt;= effectiveDate &amp;&amp;\n                     (ent2.ExpiryDate == null || ent2.ExpiryDate &gt; effectiveDate)).ToArray(),\n                 ConstraintFilters = getConditions(),\n\n             }).AsQueryable();\n    }\n</code></pre>\n"}, {"tags": ["c#", "wpf"], "comments": [{"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1538057474, "post_id": 52523704, "comment_id": 92017478, "body": "No mouse events are fired when the IsEnabled property is set to True. Why are you using disabled TextBoxes?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3830637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d9e1fe851a56cbe6d6123675a6f09c?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Fischer", "link": "https://stackoverflow.com/users/3830637/lukas-fischer"}, "edited": false, "score": 0, "creation_date": 1537990936, "post_id": 52523883, "comment_id": 91989706, "body": "I understood, would it? &lt;ItemsControl Grid.Row=&quot;0&quot; ItemsSource=&quot;{Binding Pagamentos}&quot; HorizontalAlignment=&quot;Left&quot; x:Name=&quot;cbxFormaDePagamento&quot; Margin=&quot;0,0,0,8&quot; IsHitTestVisible=&quot;False&quot;&gt;"}], "tags": [], "owner": {"reputation": 8393, "user_id": 499636, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/f0h8T.jpg?s=128&g=1", "display_name": "bleepzter", "link": "https://stackoverflow.com/users/499636/bleepzter"}, "is_accepted": false, "score": 0, "last_activity_date": 1537985700, "creation_date": 1537985700, "answer_id": 52523883, "question_id": 52523704, "link": "https://stackoverflow.com/questions/52523704/mouseleftbuttondown-event-does-not-work-wpf/52523883#52523883", "title": "MouseLeftButtonDown event does not work Wpf", "body": "<p>The reason is because of order that the children in the ControlTemplate are added to the items control.  You'll see that the TextBox is added to it first, and then the ContentPresenter is added, meaning that the ContentPresenter is on top of the TextBox.  If you allow the ContentPresenter to participate in hit testing, then when you click on the TextBox, the ContentPresenter is eating the mouse event, and therefore the TextBox cannot see it.</p>\n\n<p>So disable the <code>IsHitTestVisible</code> property of the content presenter of the items control.\nYou can do so by applying a custom style to the items control.</p>\n"}], "owner": {"reputation": 21, "user_id": 3830637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d9e1fe851a56cbe6d6123675a6f09c?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Fischer", "link": "https://stackoverflow.com/users/3830637/lukas-fischer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537985700, "creation_date": 1537984968, "question_id": 52523704, "link": "https://stackoverflow.com/questions/52523704/mouseleftbuttondown-event-does-not-work-wpf", "title": "MouseLeftButtonDown event does not work Wpf", "body": "<p>Good afternoon guys, my problem is this. I'm trying to make an event get fired after clicking the TextBox inside the DataTemplate, could anyone tell me why it did not fire the event?</p>\n\n<p>Follow the code XAML below.</p>\n\n<pre><code>    &lt;StackPanel Orientation=\"Horizontal\"&gt;\n        &lt;ItemsControl Grid.Row=\"0\" ItemsSource=\"{Binding Pagamentos}\" HorizontalAlignment=\"Left\" x:Name=\"cbxFormaDePagamento\" Margin=\"0,0,0,8\"&gt;\n            &lt;ItemsControl.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;TextBox x:Name=\"txtFormaPagamento\" Text=\"{Binding FormaPagamento.Nome}\" HorizontalContentAlignment=\"Left\" VerticalContentAlignment=\"Center\" Width=\"216\" Height=\"45\" Background=\"White\" BorderThickness=\"1\" BorderBrush=\"#b7b7b7\" IsEnabled=\"False\" FontFamily=\"Roboto\" FontSize=\"18\" Foreground=\"Black\" Padding=\"0,0,0,0\" Margin=\"0,0,0,8\" MouseLeftButtonDown=\"txtFormaPagamento_MouseLeftButtonDown\"&gt;&lt;/TextBox&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ItemsControl.ItemTemplate&gt;\n        &lt;/ItemsControl&gt;\n    &lt;/StackPanel&gt;\n</code></pre>\n\n<p>The MouseLeftButtonDown function</p>\n\n<pre><code>private void txtFormaPagamento_MouseLeftButtonDown(object sender, MouseButtonEventArgs e)\n    {\n        var viewModel = DataContext as FormasPagamentoViewModel;\n\n        foreach (var currencyTextBox in FindVisualChildren&lt;CurrencyTextBox&gt;(this))\n        {\n            if (currencyTextBox.Name == \"cbxValor\")\n            {\n                currencyTextBox.Number = viewModel.TotalPagar;\n            }\n        }\n    }\n</code></pre>\n\n<p>Thank you!</p>\n"}, {"tags": ["c#", "api", "dll", "components", "api-design"], "comments": [{"owner": {"reputation": 552, "user_id": 4501281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db35fccc8dbaae603ef15011431f95a7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan C", "link": "https://stackoverflow.com/users/4501281/ryan-c"}, "edited": false, "score": 2, "creation_date": 1537985676, "post_id": 52523699, "comment_id": 91987183, "body": "Are you able to access ANY information from the application? Any database that you can pull from? If not, accessing DLLs directly could put you in violation of the usage of the app. You&#39;ll need to read the terms of service and usage policies to see if it forbids reverse engineering the app. If so, you may want to stay away from doing anything."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 0, "creation_date": 1537986237, "post_id": 52523699, "comment_id": 91987438, "body": "Depends entirely on that old software in whether and in which ways you could interact with it. It might expose exported (callable) DLL functionality (difficult to figure out how to use them correctly), it might expose some COM or OLE functionality, but who knows... Another, perhaps more promising approach is to use some software like AutoHotkey or AutoIt to interact programmatically with its UI as well as getting data (text) back from UI elements. (This of course applies only to GUI programs, and not command line programs. For the latter, see the comment below from Magnetron)"}, {"owner": {"reputation": 4956, "user_id": 5762332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhBOT.jpg?s=128&g=1", "display_name": "Magnetron", "link": "https://stackoverflow.com/users/5762332/magnetron"}, "reply_to_user": {"reputation": 552, "user_id": 4501281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db35fccc8dbaae603ef15011431f95a7?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan C", "link": "https://stackoverflow.com/users/4501281/ryan-c"}, "edited": false, "score": 0, "creation_date": 1537986333, "post_id": 52523699, "comment_id": 91987492, "body": "This is a command line app? If so, you can try to write a wrapper that executes the old app with some parameters and parse the cmd output. But as @RyanC said, you have to look at the terms of service to see if you are allowed to do that"}, {"owner": {"reputation": 66, "user_id": 7202747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKc4s.png?s=128&g=1", "display_name": "Mohammad Sadegh Salimian", "link": "https://stackoverflow.com/users/7202747/mohammad-sadegh-salimian"}, "edited": false, "score": 0, "creation_date": 1538047512, "post_id": 52523699, "comment_id": 92011043, "body": "Actually the original software has been developed by java. Most of the files are binary. I need to use this dictionary as a helping tools in order to send its information according to the data of my program and send the word meaning to my program. indeed a sending and requesting process will be demanded."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2819245"}, "edited": false, "score": 1, "creation_date": 1537985966, "post_id": 52523822, "comment_id": 91987322, "body": "REST? Just for interfacing between some old software and a C# progam? I am trying to find a dictionary/thesaurus that lists under the phrase &quot;old software&quot; something like &quot;<i>A synonym for web sevice. Also a tea plant.</i>&quot;, but so far i couldn&#39;t find one..."}], "tags": [], "owner": {"reputation": 35, "user_id": 2197154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oogw4.jpg?s=128&g=1", "display_name": "droidlooms", "link": "https://stackoverflow.com/users/2197154/droidlooms"}, "is_accepted": false, "score": -3, "last_activity_date": 1537985479, "creation_date": 1537985479, "answer_id": 52523822, "question_id": 52523699, "link": "https://stackoverflow.com/questions/52523699/is-it-possible-to-develop-an-api-for-old-software-programs-which-dont-have-any/52523822#52523822", "title": "Is it possible to develop an API for old software programs which don&#39;t have any API?", "body": "<p>First, you have to figure out whats functionality you want to expose from that \"old\" software. Then create a C# REST api application that wraps the functionality of the software. Basically your REST api will work as a middleman in this case.</p>\n"}], "owner": {"reputation": 66, "user_id": 7202747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iKc4s.png?s=128&g=1", "display_name": "Mohammad Sadegh Salimian", "link": "https://stackoverflow.com/users/7202747/mohammad-sadegh-salimian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1537993594, "creation_date": 1537984955, "last_edit_date": 1537993594, "question_id": 52523699, "link": "https://stackoverflow.com/questions/52523699/is-it-possible-to-develop-an-api-for-old-software-programs-which-dont-have-any", "title": "Is it possible to develop an API for old software programs which don&#39;t have any API?", "body": "<p>I am familiar with C# and want to communicate with an old software program (a word dictionary). Its developer never offered any API, to enable programmers to develop their programs in connection with this software program. </p>\n\n<p>Now, I don't know is it possible to develop an API, a dll, for this software on my own? Is an especial knowledge needed? Is is crucial for developers to know what program language has been used for the original software? and finally how much is it possible in C#? </p>\n"}, {"tags": ["c#", "xaml", "xamarin", "model-view-controller"], "answers": [{"tags": [], "owner": {"reputation": 549, "user_id": 2426627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZiIj.jpg?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/2426627/neil"}, "is_accepted": false, "score": 0, "last_activity_date": 1538061817, "creation_date": 1538061817, "answer_id": 52540347, "question_id": 52523680, "link": "https://stackoverflow.com/questions/52523680/xamarin-control-is-not-respecting-is-visible-property/52540347#52540347", "title": "Xamarin control is not respecting is visible property", "body": "<p>I personally prefer to back the Public properties with a field. </p>\n\n<pre><code>private private ObservableCollection&lt;View&gt; _actionItems;\n\npublic ObservableCollection&lt;View&gt; ActionItems \n{\n    get\n    {\n        return this._actionItems;\n    }\n    set\n    {\n        this._actionItems = value;        \n    }\n}\n</code></pre>\n\n<p>ObservableCollection provides change notification to the UI, when you add/remove/move an object in the collection. For more information, please see <a href=\"https://stackoverflow.com/a/4279274/2426627\">post</a>. </p>\n\n<p>The problem you are most likely encountering is, there is no change notification from your model. So when the IsVisibile property is updated in your viewmodel, how does the view know it changed? Generally agreed upon method of notifying the view is to use INotifyPropertyChanged interface. </p>\n\n<p>I don't know the specific implementation of your view class, but here is an example. </p>\n\n<pre><code>public  class View : INotifyPropertyChanged\n{\n    public event PropertyChangedEventHandler PropertyChanged;\n\n    private void OnPropertyChanged(string PropertyName)\n    {\n        PropertyChangedEventHandler handler = PropertyChanged;\n        if (handler != null) handler(this, new PropertyChangedEventArgs(PropertyName));\n    }\n\n    private bool _isVisible;\n    public bool IsVisible\n    {\n        get\n        {\n            return this._isVisible;\n        }\n        set\n        {\n            this._isVisible = value;\n            this.OnPropertyChanged(IsVisible) &lt;--- The Magic! \n        }\n    }\n}\n</code></pre>\n\n<p>you have to bind the IsVisible property in your xaml and whenever this property is updated, the view will follow suit! </p>\n\n<p>INotifyPropertyChanged interface is widely used and 90% of the code below is boilerplate stuff. You can put it in a base class or use a MVVM framework that provides this stuff. If you would like more information on how to implement INotifyPropertyChanged interface, please see <a href=\"https://stackoverflow.com/a/1316417/2426627\">post</a>. </p>\n"}], "owner": {"reputation": 1309, "user_id": 3089271, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e0b91a7c8c3b12362285d9c28bd37987?s=128&d=identicon&r=PG&f=1", "display_name": "Maxqueue", "link": "https://stackoverflow.com/users/3089271/maxqueue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1538061817, "creation_date": 1537984888, "question_id": 52523680, "link": "https://stackoverflow.com/questions/52523680/xamarin-control-is-not-respecting-is-visible-property", "title": "Xamarin control is not respecting is visible property", "body": "<p>So i have an observable collection of buttons where i am trying to bind IsVisible to one of the buttons and the button displays even when i hardcode IsVisible to false.</p>\n\n<p>View:</p>\n\n<pre><code>&lt;c:MobileFocusBasePage.BottomRegionItems&gt;\n    &lt;c:CollapsableButtonList ItemsSource=\"{Binding ActionItems}\" HorizontalOptions=\"CenterAndExpand\" WidthRequest=\"-1\"/&gt;\n&lt;/c:MobileFocusBasePage.BottomRegionItems&gt;\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>public ObservableCollection&lt;View&gt; ActionItems { get; set; } = new ObservableCollection&lt;View&gt;();\n\nActionItems.Add(new PaddedButton { BindingContext = NewWorkOrderButton, Text = ResString(\"Portal-WorkOrder\"), Style = s, IsVisible = false});\n</code></pre>\n\n<p>Would there be a reason the IsVisible is being ignored in this case?</p>\n\n<p>Thanks in advance for any help</p>\n"}, {"tags": ["c#", "asp.net", "gridview"], "answers": [{"tags": [], "owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "is_accepted": false, "score": 0, "last_activity_date": 1538051541, "creation_date": 1538051541, "answer_id": 52537122, "question_id": 52523621, "link": "https://stackoverflow.com/questions/52523621/which-fires-first-asp-sqldatasource-or-a-c-query-string/52537122#52537122", "title": "Which fires first? ASP SQLDataSource OR a C# Query string?", "body": "<p>I'm not sure whether I asked the correct question or not. However, doesn't matter. I found the answer I was looking for. Basically, I needed a way to access a certain cell in a row form GridView without selecting it. When pressing a delete button within GridView it calls its OnRowDeleting method I have setup. From there I select and compare its value like this:</p>\n\n<pre><code>protected void GridView1_RowDeleting(object sender, GridViewDeleteEventArgs e)\n    {\n        TableCell cell = GridView1.Rows[e.RowIndex].Cells[12];\n        if(cell.Text == \"Yes\")\n        {\n            //Do Nothing\n        }\n        else\n        {\n            ClientScript.RegisterStartupScript(GetType(), \"hwa\", \"Ealert();\", true);\n            e.Cancel = true;\n        }\n\n\n    }\n</code></pre>\n\n<p>I didn't realize I could access the cell in this way. My original question might not make sense and doesn't seem applicable, but I asked it thinking I would have to run an SQL query on the code behind versus using the ASP SQL data source. Doing it this way solves everything in one. </p>\n"}], "owner": {"reputation": 218, "user_id": 6141164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746cee9f4b40ab1d17bb0834b78afb2b?s=128&d=identicon&r=PG&f=1", "display_name": "swapmeet_Lou", "link": "https://stackoverflow.com/users/6141164/swapmeet-lou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538051541, "creation_date": 1537984663, "question_id": 52523621, "link": "https://stackoverflow.com/questions/52523621/which-fires-first-asp-sqldatasource-or-a-c-query-string", "title": "Which fires first? ASP SQLDataSource OR a C# Query string?", "body": "<p>I have a GridView where the user clicks on a delete button. When that delete button is pressed it's attached to an SQL datasource on the ASP page itself. Doing it this way alleviates having to select the row then delete. </p>\n\n<p>I also have in the GridView an </p>\n\n<pre><code>OnRowDeleting=\"GridView1_RowDeleting\"\n</code></pre>\n\n<p>call. This method is rather simple in the code behind. The ASP SQL datasource checks a value in a table using a CASE WHEN and executes an update off of that or not. </p>\n\n<p>I realized after that OnRowDeleting will always happen before the GridView control actually deletes it. It works correctly when the SQL data source doesn't fire execute. (I don't want it to based on that CASE WHEN clause) the OnRowDeleting method then fires and calls the Javascript call I have .. looks like this. </p>\n\n<pre><code>protected void GridView1_RowDeleting(object sender, GridViewDeleteEventArgs e)\n    {   \n        ClientScript.RegisterStartupScript(GetType(), \"hwa\", \"Ealert();\", true);   \n    }\n</code></pre>\n\n<p>The problem sits when the SQL datasource executes correctly as it's supposed to, the OnRowDeleting (GridView1_RowDeleting) still fires. </p>\n\n<p>Is there a way to fire that Javascript only when the SQL datasource didn't execute? </p>\n"}, {"tags": ["c#", "sql-server", "linq"], "comments": [{"owner": {"reputation": 9448, "user_id": 491907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/eAa3p.png?s=128&g=1", "display_name": "pinkfloydx33", "link": "https://stackoverflow.com/users/491907/pinkfloydx33"}, "edited": false, "score": 0, "creation_date": 1537990079, "post_id": 52523598, "comment_id": 91989324, "body": "What does it mean to only take the first value of a lookup like you do currently? It could be anything, in perhaps any order. Maybe you don&#39;t really need a lookup but a where+select that filters those items by some common value (The values that form the the key of your current &quot;first&quot; lookup group) and then projects to your item-type"}, {"owner": {"reputation": 610493, "user_id": 88656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fbdff3ffb6f111d172759b4f05bea0e?s=128&d=identicon&r=PG", "display_name": "Eric Lippert", "link": "https://stackoverflow.com/users/88656/eric-lippert"}, "edited": false, "score": 3, "creation_date": 1538005349, "post_id": 52523598, "comment_id": 91994458, "body": "This query is very strange. Can you describe what you&#39;re trying to do here? It is legal to use an anonymous type as a key, but it is unusual; why are you doing that?  Why are you getting the first item from the lookup? Lookups are not constructed to have a particular ordering. I don&#39;t think the problem is that it is too slow; I think the problem is that it is the wrong tool for whatever job it is that you&#39;re trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10420271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b52c273c3102d84cfca90f563a202c?s=128&d=identicon&r=PG&f=1", "display_name": "Cyro Bergonzi", "link": "https://stackoverflow.com/users/10420271/cyro-bergonzi"}, "edited": false, "score": 0, "creation_date": 1538050090, "post_id": 52526645, "comment_id": 92012614, "body": "I am trying to create a list of type HierarchyDto, in this object I have another called HierarchyUsuarioSimplesDto and inside this I have another one that is called User HierarchyD, I did not do this code I am just trying to improve it. Here is the query I do before:"}, {"owner": {"reputation": 13, "user_id": 10420271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b52c273c3102d84cfca90f563a202c?s=128&d=identicon&r=PG&f=1", "display_name": "Cyro Bergonzi", "link": "https://stackoverflow.com/users/10420271/cyro-bergonzi"}, "edited": false, "score": 0, "creation_date": 1538050098, "post_id": 52526645, "comment_id": 92012622, "body": "public HierarquiaDto Selecionar(int id)         { var query = (from p in Context.PapelContratos join g in Context.GruposCargo on new { a=p.UsuarioGrupoCargo, b=p.EmpresaId }  equals new { a=g.Sigla, b=g.EmpresaId } into pg from g in pg.DefaultIfEmpty() where p.OrigemId == id select new{p.PaisId,p.EmpresaId,p.Codigo,p.Nome,p.PapelId,OrigemId = p.OrigemId.Value,p.IsPendente,p.HierarquiaPapelId,p.UsuarioI&zwnj;&#8203;d,p.UsuarioNome,p.Us&zwnj;&#8203;uarioGrupoCargo,p.Us&zwnj;&#8203;uarioMatricula,Grupo&zwnj;&#8203;CargoNome = g.Nome});"}, {"owner": {"reputation": 13, "user_id": 10420271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b52c273c3102d84cfca90f563a202c?s=128&d=identicon&r=PG&f=1", "display_name": "Cyro Bergonzi", "link": "https://stackoverflow.com/users/10420271/cyro-bergonzi"}, "edited": false, "score": 0, "creation_date": 1538050490, "post_id": 52526645, "comment_id": 92012883, "body": "I need all the users that belong to that PaisId, CompanyId, Code, Name and OriginId."}, {"owner": {"reputation": 1892, "user_id": 1402498, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NzPfI.png?s=128&g=1", "display_name": "JamesHoux", "link": "https://stackoverflow.com/users/1402498/jameshoux"}, "reply_to_user": {"reputation": 13, "user_id": 10420271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b52c273c3102d84cfca90f563a202c?s=128&d=identicon&r=PG&f=1", "display_name": "Cyro Bergonzi", "link": "https://stackoverflow.com/users/10420271/cyro-bergonzi"}, "edited": false, "score": 1, "creation_date": 1538144104, "post_id": 52526645, "comment_id": 92053055, "body": "@CyroBergonzi Hey Cyro, it would really be best if you take these comments and post a new question.  Stackoverflow emphasizes the importance of clear, high quality questions that people can understand and quickly answer.  You can either delete this question or leave it.  If you leave it, I recommend accepting the answer, since the problem has been determined to be different from what your question put forth.  As you can see from having to post several comments in a row, Stackoverflow is different from a forum.  It&#39;s less about conversations and more about clear questions with clear answers."}, {"owner": {"reputation": 1892, "user_id": 1402498, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NzPfI.png?s=128&g=1", "display_name": "JamesHoux", "link": "https://stackoverflow.com/users/1402498/jameshoux"}, "reply_to_user": {"reputation": 13, "user_id": 10420271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b52c273c3102d84cfca90f563a202c?s=128&d=identicon&r=PG&f=1", "display_name": "Cyro Bergonzi", "link": "https://stackoverflow.com/users/10420271/cyro-bergonzi"}, "edited": false, "score": 0, "creation_date": 1538144153, "post_id": 52526645, "comment_id": 92053082, "body": "@CyroBergonzi I recommend reading this if you haven&#39;t:  <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 22172, "user_id": 2557128, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3cc7fed3c952511b85cfb1c822ecb75?s=128&d=identicon&r=PG", "display_name": "NetMage", "link": "https://stackoverflow.com/users/2557128/netmage"}, "edited": false, "score": 0, "creation_date": 1538518360, "post_id": 52526645, "comment_id": 92168382, "body": "I believe (from the other question) that <code>ToLookup</code> is being used to (poorly) emulate <code>GroupBy</code> in this case. Poorly, and not guaranteed to be correct."}], "tags": [], "owner": {"reputation": 1892, "user_id": 1402498, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NzPfI.png?s=128&g=1", "display_name": "JamesHoux", "link": "https://stackoverflow.com/users/1402498/jameshoux"}, "is_accepted": false, "score": 1, "last_activity_date": 1538010844, "last_edit_date": 1538010844, "creation_date": 1537999602, "answer_id": 52526645, "question_id": 52523598, "link": "https://stackoverflow.com/questions/52523598/linq-tolookup-too-slow/52526645#52526645", "title": "Linq ToLookUp too slow", "body": "<p>I think the problem is you're using ToLookUp() incorrectly.  ToLookup is used to build a dictionary of lists.  The first parameter is used to create the key for each list entered into the dictionary.</p>\n\n<p>To me, the code you've written looks like nothing you would normally do with ToLookUp()</p>\n"}], "owner": {"reputation": 13, "user_id": 10420271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27b52c273c3102d84cfca90f563a202c?s=128&d=identicon&r=PG&f=1", "display_name": "Cyro Bergonzi", "link": "https://stackoverflow.com/users/10420271/cyro-bergonzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538010844, "creation_date": 1537984542, "last_edit_date": 1537987658, "question_id": 52523598, "link": "https://stackoverflow.com/questions/52523598/linq-tolookup-too-slow", "title": "Linq ToLookUp too slow", "body": "<p>How can I streamline the LookUp command below?</p>\n\n<p>I have this context:</p>\n\n<pre><code>var lookup = query.ToLookup(\n                i =&gt; new { PaisId = i.PaisId, EmpresaId = i.EmpresaId, Codigo = i.Codigo, Nome = i.Nome, OrigemId = i.OrigemId },\n                v =&gt; new HierarquiaUsuarioSimplesDto { PapelId = v.PapelId, HierarquiaPapelId = v.HierarquiaPapelId, Usuario = new HierarquiaUsuarioDto { Id = v.UsuarioId, Nome = v.UsuarioNome, Matricula = v.UsuarioMatricula, GrupoCargo = v.UsuarioGrupoCargo, GrupoCargoNome = v.GrupoCargoNome } }\n            );\n\n        var item = query.FirstOrDefault();\n\n        return new HierarquiaDto\n        {\n            PaisId = item.PaisId,\n            EmpresaId = item.EmpresaId,\n            Codigo = item.Codigo,\n            Nome = item.Nome,\n            OrigemId = item.OrigemId,\n            IsPendente = item.IsPendente,\n            Usuarios = lookup.FirstOrDefault().ToList()\n        };\u00b4\n</code></pre>\n\n<p>The <code>query.ToLookup</code> command is very slow because it returns a lot of data.</p>\n"}, {"tags": ["c#", "image-processing", "fft"], "comments": [{"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1537983868, "post_id": 52523229, "comment_id": 91986369, "body": "Have you checked the output domain, i.e. is it normalized to [0..255]?"}, {"owner": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "reply_to_user": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1537984617, "post_id": 52523229, "comment_id": 91986689, "body": "@ckuri, most of them are zeros."}, {"owner": {"reputation": 2355, "user_id": 7565574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c334fc330dcc40914af415c5f99aefa2?s=128&d=identicon&r=PG", "display_name": "ckuri", "link": "https://stackoverflow.com/users/7565574/ckuri"}, "edited": false, "score": 0, "creation_date": 1537985659, "post_id": 52523229, "comment_id": 91987175, "body": "Then what\u2019s the lowest and highest value of the others? I would guess the magnitude would be between [-0.5..+0.5]. If so you may need to multiply every value by magnitude&#39;=((magnitude+0.5)/(magnitude_max+0.5))*255 for display."}], "answers": [{"tags": [], "owner": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "is_accepted": true, "score": 1, "last_activity_date": 1537989635, "creation_date": 1537989635, "answer_id": 52524750, "question_id": 52523229, "link": "https://stackoverflow.com/questions/52523229/why-is-2d-fft-giving-a-totally-black-output/52524750#52524750", "title": "Why is 2d FFT giving a totally black output?", "body": "<p>I have solved the problem.</p>\n\n<p>I had to use a function called <code>Limit()</code> in my code whose objective is to keep the values between 0 and 1.</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n\n        Bitmap bmp = Bitmap.FromFile(\"lenagr.png\") as Bitmap;\n        pictureBox1.Image = bmp;\n\n        Complex[,] cImage = ToComplex(bmp);\n\n        for (int y = 0; y &lt; cImage.GetLength(1); y++)\n        {\n            for (int x = 0; x &lt; cImage.GetLength(0); x++)\n            {\n                if (((x + y) &amp; 0x1) != 0)\n                {\n                    double real = cImage[y, x].Real * (-1);\n                    double imaginary = cImage[y, x].Imaginary * (-1);\n\n                    cImage[y, x] = new Complex(real, imaginary);\n                }\n            }\n        }\n\n        FourierTransform.FFT2(cImage, FourierTransform.Direction.Forward);\n\n        double[,] intImage = ToDouble(cImage);\n\n        intImage = Limit(intImage);\n\n        Bitmap bmpMagImg = ToBitmap(intImage, PixelFormat.Format24bppRgb);\n        pictureBox2.Image = bmpMagImg;\n    }\n\n    public static double[,] Limit(double[,] image)\n    {\n        double[,] imageCopy = (double[,])image.Clone();\n\n        double min = 0;\n        double max = 1;\n\n        int Width = imageCopy.GetLength(0);\n        int Height = imageCopy.GetLength(1);\n\n        double[,] array2d = new double[Width, Height];\n\n        for (int i = 0; i &lt; Width; i++)\n        {\n            for (int j = 0; j &lt; Height; j++)\n            {\n                array2d[i, j] = Math.Max(min, Math.Min(imageCopy[i, j], max));\n            }\n        }\n\n        return array2d;\n    }\n\n    public double[,] ToDouble(Complex[,] image)\n    {\n        int Width = image.GetLength(0);\n        int Height = image.GetLength(1);\n\n        double[,] array2d = new double[Width, Height];\n\n        for (int j = 0; j &lt; Height; j++)\n        {\n            for (int i = 0; i &lt; Width; i++)\n            {\n                array2d[i, j] = (double)image[i, j].Magnitude;\n            }\n        }\n\n        return array2d;\n    }\n\n    public Bitmap ToBitmap(double[,] image, PixelFormat pixelFormat)\n    {\n        double[,] imageCopy = (double[,])image.Clone();\n\n        // Image is Grayscale\n        // Each element is scaled to (0-255) range.\n        int Width = imageCopy.GetLength(0);\n        int Height = imageCopy.GetLength(1);\n\n        Bitmap bitmap = new Bitmap(Width, Height, pixelFormat);\n\n        for (int y = 0; y &lt; Height; y++)\n        {\n            for (int x = 0; x &lt; Width; x++)\n            {\n                // In case of a grayscale image, \n                // each pixel has same R,G, and B values.\n                double d = imageCopy[x, y];\n\n                int iii = Convert.ToInt32(d * 255.0);\n\n                Color clr = Color.FromArgb(iii, iii, iii);\n\n                bitmap.SetPixel(x, y, clr);\n            }\n        }\n\n        Grayscale.SetPalette(bitmap);\n\n        return bitmap;\n    }\n\n\n\n    public Complex[,] ToComplex(Bitmap image)\n    {\n        if (!Grayscale.IsGrayscale(image))\n        {\n            throw new Exception(\"Source image must not be color\");\n        }\n\n        int[,] array2d = ToInteger(image);\n\n        return ToComplex(array2d);\n    }\n\n\n\n    public int[,] ToInteger(Bitmap input)\n    {\n        if (!Grayscale.IsGrayscale(input))\n        {\n            throw new Exception(\"Source image must not be color\");\n        }\n\n        int Width = input.Width;\n        int Height = input.Height;\n\n        int[,] array2d = new int[Width, Height];\n\n        for (int y = 0; y &lt; Height; y++)\n        {\n            for (int x = 0; x &lt; Width; x++)\n            {\n                Color cl = input.GetPixel(x, y);\n\n                int gray = (int)Convert.ChangeType(cl.R * 0.3 + cl.G * 0.59 + cl.B * 0.11, typeof(int));\n\n                array2d[x, y] = gray;\n            }\n        }\n\n        return array2d;\n    }\n\n    public Complex[,] ToComplex(int[,] image)\n    {\n        int Width = image.GetLength(0);\n        int Height = image.GetLength(1);\n\n        Complex[,] array2d = new Complex[Width, Height];\n\n        for (int i = 0; i &lt; Width; i++)\n        {\n            for (int j = 0; j &lt; Height; j++)\n            {\n                double d = (double)image[i, j];\n\n                Complex tempComp = new Complex(d, 0.0);\n                array2d[i, j] = tempComp;\n            }\n        }\n\n        return array2d;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17456, "user_id": 159072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217605bccd955128d5ffc2c6e3d8267e?s=128&d=identicon&r=PG&f=1", "display_name": "user366312", "link": "https://stackoverflow.com/users/159072/user366312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 52524750, "answer_count": 1, "score": -2, "last_activity_date": 1537989661, "creation_date": 1537982934, "last_edit_date": 1537989661, "question_id": 52523229, "link": "https://stackoverflow.com/questions/52523229/why-is-2d-fft-giving-a-totally-black-output", "title": "Why is 2d FFT giving a totally black output?", "body": "<blockquote>\n  <p><strong>Note:</strong> <em>I solved the problem.</em></p>\n</blockquote>\n\n<p>I have taken the <a href=\"https://github.com/andrewkirillov/AForge.NET/blob/master/Sources/Math/FourierTransform.cs\" rel=\"nofollow noreferrer\"><strong><code>FourierTransform</code></strong></a> - class from AForge.net and modified it so that it can work with <strong><code>System.Numerics.Complex</code></strong>.</p>\n\n<p>I tried to see if it can show the Fourier marnitude spectrum. But, my test program is giving out a blank output as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7RXAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RXAu.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried re-scaling as follows:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n\n        Bitmap bmp = Bitmap.FromFile(\"lenagr.png\") as Bitmap;\n        pictureBox1.Image = bmp;\n\n        Complex[,] cImage = ToComplex(bmp);\n\n        FourierTransform.FFT2(cImage, FourierTransform.Direction.Forward);\n\n        int[,] intImage = ToInteger(cImage);\n\n        intImage = Rescale(intImage);\n\n        Bitmap bmpMagImg = ToBitmap(intImage, PixelFormat.Format24bppRgb);\n        pictureBox2.Image = bmpMagImg;\n    }\n\n    public static int[,] Rescale(int[,]image)\n    {\n        int[,] imageCopy = (int[,])image.Clone();\n\n        int Width = imageCopy.GetLength(0);\n        int Height = imageCopy.GetLength(1);\n\n        int minVal = 0;\n        int maxVal = 0;\n\n        for (int j = 0; j &lt; Height; j++)\n        {\n            for (int i = 0; i &lt; Width; i++)\n            {\n                int conv = imageCopy[i, j];\n\n                minVal = Math.Min(minVal, conv);\n                maxVal = Math.Max(maxVal, conv);\n            }\n        }\n\n        int minRange = 0;\n        int maxRange = 255;\n\n        int[,] array2d = new int[Width, Height];\n\n        for (int j = 0; j &lt; Height; j++)\n        {\n            for (int i = 0; i &lt; Width; i++)\n            {\n                array2d[i, j] = ConstraintInt(imageCopy[i, j], minVal, maxVal, minRange, maxRange);\n            }\n        }\n\n        return array2d;\n    }\n\n    private static int ConstraintInt(int value, int minVal, int maxVal, int minRange, int maxRange)\n    {\n        return (maxRange - minRange) * (value - minVal) / (maxVal - minVal) + minRange;\n    }\n.... ....\n}\n</code></pre>\n\n<p>again, it never worked.</p>\n\n<p>Then, I tried re-scaling as double:</p>\n\n<pre><code>public partial class Form1 : Form\n{\n    public Form1()\n    {\n        InitializeComponent();\n\n        Bitmap bmp = Bitmap.FromFile(\"lenagr.png\") as Bitmap;\n        pictureBox1.Image = bmp;\n\n        Complex[,] cImage = ToComplex(bmp);\n\n        FourierTransform.FFT2(cImage, FourierTransform.Direction.Forward);\n\n        double[,] intImage = ToDouble(cImage);\n\n        intImage = Rescale(intImage);\n\n        Bitmap bmpMagImg = ToBitmap(intImage, PixelFormat.Format24bppRgb);\n        pictureBox2.Image = bmpMagImg;\n    }\n\n    public double[,] ToDouble(Complex[,] image)\n    {\n        int Width = image.GetLength(0);\n        int Height = image.GetLength(1);\n\n        double[,] array2d = new double[Width, Height];\n\n        for (int j = 0; j &lt; Height; j++)\n        {\n            for (int i = 0; i &lt; Width; i++)\n            {\n                array2d[i, j] = (double)image[i, j].Magnitude;\n            }\n        }\n\n        return array2d;\n    }\n\n    public Bitmap ToBitmap(double[,] image, PixelFormat pixelFormat)\n    {\n        double[,] imageCopy = (double[,])image.Clone();\n\n        // Image is Grayscale\n        // Each element is scaled to (0-255) range.\n        int Width = imageCopy.GetLength(0);\n        int Height = imageCopy.GetLength(1);\n\n        Bitmap bitmap = new Bitmap(Width, Height, pixelFormat);\n\n        for (int y = 0; y &lt; Height; y++)\n        {\n            for (int x = 0; x &lt; Width; x++)\n            {\n                // In case of a grayscale image, \n                // each pixel has same R,G, and B values.\n                double d = imageCopy[x, y];\n\n                int iii = Convert.ToInt32(d * 255.0);\n\n                Color clr = Color.FromArgb(iii, iii, iii);\n\n                bitmap.SetPixel(x, y, clr);\n            }\n        }\n\n        Grayscale.SetPalette(bitmap);\n\n        return bitmap;\n    }\n\n    public double[,] Rescale(double[,] image)\n    {\n        double[,] imageCopy = (double[,])image.Clone();\n\n        int Width = imageCopy.GetLength(0);\n        int Height = imageCopy.GetLength(1);\n\n        double minVal = 0;\n        double maxVal = 0;\n\n        for (int j = 0; j &lt; Height; j++)\n        {\n            for (int i = 0; i &lt; Width; i++)\n            {\n                double conv = imageCopy[i, j];\n\n                minVal = Math.Min(minVal, conv);\n                maxVal = Math.Max(maxVal, conv);\n            }\n        }\n\n        double minRange = 0.0;\n        double maxRange = 1.0;\n\n        double[,] array2d = new double[Width, Height];\n\n        for (int j = 0; j &lt; Height; j++)\n        {\n            for (int i = 0; i &lt; Width; i++)\n            {\n                array2d[i, j] = ConstraintDouble(imageCopy[i, j], minVal, maxVal, minRange, maxRange);\n            }\n        }\n\n        return array2d;\n    }\n\n    private double ConstraintDouble(double value, double minVal, double maxVal, double minRange, double maxRange)\n    {\n        return (maxRange - minRange) * (value - minVal) / (maxVal - minVal) + minRange;\n    }\n.... ....\n}\n</code></pre>\n\n<p>again, it never worked.</p>\n\n<p><strong>What am I doing wrong?</strong></p>\n\n<p>.  </p>\n\n<p><strong><em><code>FourierTransform.cs</code></em></strong></p>\n\n<pre><code>using System;\nusing System.Numerics;\n\npublic static class FourierTransform\n{\n    public enum Direction\n    {\n        Forward = 1,\n        Backward = -1\n    };\n\n    public static void DFT(Complex[] data, Direction direction)\n    {\n        int n = data.Length;\n        double arg, cos, sin;\n        Complex[] dst = new Complex[n];\n\n        for (int i = 0; i &lt; n; i++)\n        {\n            dst[i] = Complex.Zero;\n\n            arg = -(int)direction * 2.0 * System.Math.PI * (double)i / (double)n;\n\n            for (int j = 0; j &lt; n; j++)\n            {\n                cos = System.Math.Cos(j * arg);\n                sin = System.Math.Sin(j * arg);\n\n                double real = (data[j].Real * cos - data[j].Imaginary * sin);\n                double imaginary = (data[j].Real * sin + data[j].Imaginary * cos);\n\n                dst[i] = new Complex(dst[i].Real + real, dst[i].Imaginary + imaginary);\n            }\n        }\n\n        if (direction == Direction.Forward)\n        {\n            for (int i = 0; i &lt; n; i++)\n            {\n                double real = dst[i].Real / n;\n                double imaginary = dst[i].Imaginary / n;\n\n                data[i] = new Complex(real, imaginary);\n            }\n        }\n        else\n        {\n            for (int i = 0; i &lt; n; i++)\n            {\n                data[i] = new Complex(dst[i].Real, dst[i].Imaginary);\n            }\n        }\n    }\n\n    public static void DFT2(Complex[,] data, Direction direction)\n    {\n        int n = data.GetLength(0);  \n        int m = data.GetLength(1);\n        double arg, cos, sin;\n        Complex[] dst = new Complex[System.Math.Max(n, m)];\n\n        for (int i = 0; i &lt; n; i++)\n        {\n            for (int j = 0; j &lt; m; j++)\n            {\n                dst[j] = Complex.Zero;\n\n                arg = -(int)direction * 2.0 * System.Math.PI * (double)j / (double)m;\n\n                for (int k = 0; k &lt; m; k++)\n                {\n                    cos = System.Math.Cos(k * arg);\n                    sin = System.Math.Sin(k * arg);\n\n                    double real = (data[i, k].Real * cos - data[i, k].Imaginary * sin);\n                    double imaginary = (data[i, k].Real * sin + data[i, k].Imaginary * cos);\n\n                    dst[j] = new Complex(dst[j].Real + real, dst[j].Imaginary + imaginary);\n                }\n            }\n\n            if (direction == Direction.Forward)\n            {\n                for (int j = 0; j &lt; m; j++)\n                {\n                    double real = dst[j].Real / m;\n                    double imaginary = dst[j].Imaginary / m;\n\n                    data[i, j] = new Complex(real, imaginary);\n                }\n            }\n            else\n            {\n                for (int j = 0; j &lt; m; j++)\n                {\n                    double real = dst[j].Real;\n                    double imaginary = dst[j].Imaginary;\n\n                    data[i, j] = new Complex(real, imaginary);\n                }\n            }\n        }\n\n        for (int j = 0; j &lt; m; j++)\n        {\n            for (int i = 0; i &lt; n; i++)\n            {\n                dst[i] = Complex.Zero;\n\n                arg = -(int)direction * 2.0 * System.Math.PI * (double)i / (double)n;\n\n                for (int k = 0; k &lt; n; k++)\n                {\n                    cos = System.Math.Cos(k * arg);\n                    sin = System.Math.Sin(k * arg);\n\n                    double real = (data[k, j].Real * cos - data[k, j].Imaginary * sin);\n                    double imaginary = (data[k, j].Real * sin + data[k, j].Imaginary * cos);\n\n                    dst[i] = new Complex(dst[i].Real + real, dst[i].Imaginary + imaginary);\n                }\n            }\n\n            if (direction == Direction.Forward)\n            {\n                for (int i = 0; i &lt; n; i++)\n                {\n                    data[i, j] = new Complex(dst[i].Real / n, dst[i].Imaginary / n);\n                }\n            }\n            else\n            {\n                for (int i = 0; i &lt; n; i++)\n                {\n                    data[i, j] = new Complex(dst[i].Real,  dst[i].Imaginary);\n                }\n            }\n        }\n    }\n\n\n   public static void FFT(Complex[] data, Direction direction)\n    {\n        int n = data.Length;\n        int m = Tools.Log2(n);\n\n        ReorderData(data);\n\n        int tn = 1, tm;\n\n        for (int k = 1; k &lt;= m; k++)\n        {\n            Complex[] rotation = FourierTransform.GetComplexRotation(k, direction);\n\n            tm = tn;\n            tn &lt;&lt;= 1;\n\n            for (int i = 0; i &lt; tm; i++)\n            {\n                Complex t = rotation[i];\n\n                for (int even = i; even &lt; n; even += tn)\n                {\n                    int odd = even + tm;\n                    Complex ce = data[even];\n                    Complex co = data[odd];\n\n                    double tr = co.Real * t.Real - co.Imaginary * t.Imaginary;\n                    double ti = co.Real * t.Imaginary + co.Imaginary * t.Real;\n\n                    data[even] = new Complex (tr + data[even].Real, data[even].Imaginary + ti);\n\n                    data[odd] = new Complex(ce.Real - tr,ce.Imaginary - ti);\n                }\n            }\n        }\n\n        if (direction == Direction.Forward)\n        {\n            for (int i = 0; i &lt; n; i++)\n            {\n                double real = data[i].Real / (double)n;\n                double imaginary = data[i].Imaginary / (double)n;\n\n                data[i] = new Complex(real, imaginary);\n            }\n        }\n    }\n\n    public static void FFT2(Complex[,] data, Direction direction)\n    {\n        int k = data.GetLength(0);\n        int n = data.GetLength(1);\n\n        if (\n            (!Tools.IsPowerOf2(k)) ||\n            (!Tools.IsPowerOf2(n)) ||\n            (k &lt; minLength) || (k &gt; maxLength) ||\n            (n &lt; minLength) || (n &gt; maxLength)\n            )\n        {\n            throw new ArgumentException(\"Incorrect data length.\");\n        }\n\n        Complex[] row = new Complex[n];\n\n        for (int i = 0; i &lt; k; i++)\n        {\n            for (int j = 0; j &lt; n; j++)\n                row[j] = data[i, j];\n\n            FourierTransform.FFT(row, direction);\n\n            for (int j = 0; j &lt; n; j++)\n                data[i, j] = row[j];\n        }\n\n        Complex[] col = new Complex[k];\n\n        for (int j = 0; j &lt; n; j++)\n        {\n            for (int i = 0; i &lt; k; i++)\n                col[i] = data[i, j];\n\n            FourierTransform.FFT(col, direction);\n\n            for (int i = 0; i &lt; k; i++)\n                data[i, j] = col[i];\n        }\n    }\n\n    private const int minLength = 2;\n    private const int maxLength = 16384;\n    private const int minBits = 1;\n    private const int maxBits = 14;\n    private static int[][] reversedBits = new int[maxBits][];\n    private static Complex[,][] complexRotation = new Complex[maxBits, 2][];\n\n    private static int[] GetReversedBits(int numberOfBits)\n    {\n        if ((numberOfBits &lt; minBits) || (numberOfBits &gt; maxBits))\n            throw new ArgumentOutOfRangeException();\n\n        if (reversedBits[numberOfBits - 1] == null)\n        {\n            int n = Tools.Pow2(numberOfBits);\n            int[] rBits = new int[n];\n\n            for (int i = 0; i &lt; n; i++)\n            {\n                int oldBits = i;\n                int newBits = 0;\n\n                for (int j = 0; j &lt; numberOfBits; j++)\n                {\n                    newBits = (newBits &lt;&lt; 1) | (oldBits &amp; 1);\n                    oldBits = (oldBits &gt;&gt; 1);\n                }\n                rBits[i] = newBits;\n            }\n            reversedBits[numberOfBits - 1] = rBits;\n        }\n        return reversedBits[numberOfBits - 1];\n    }\n\n    private static Complex[] GetComplexRotation(int numberOfBits, Direction direction)\n    {\n        int directionIndex = (direction == Direction.Forward) ? 0 : 1;\n\n        if (complexRotation[numberOfBits - 1, directionIndex] == null)\n        {\n            int n = 1 &lt;&lt; (numberOfBits - 1);\n            double uR = 1.0;\n            double uI = 0.0;\n            double angle = System.Math.PI / n * (int)direction;\n            double wR = System.Math.Cos(angle);\n            double wI = System.Math.Sin(angle);\n            double t;\n            Complex[] rotation = new Complex[n];\n\n            for (int i = 0; i &lt; n; i++)\n            {\n                rotation[i] = new Complex(uR, uI);\n                t = uR * wI + uI * wR;\n                uR = uR * wR - uI * wI;\n                uI = t;\n            }\n\n            complexRotation[numberOfBits - 1, directionIndex] = rotation;\n        }\n        return complexRotation[numberOfBits - 1, directionIndex];\n    }\n\n    private static void ReorderData(Complex[] data)\n    {\n        int len = data.Length;\n\n        if ((len &lt; minLength) || (len &gt; maxLength) || (!Tools.IsPowerOf2(len)))\n            throw new ArgumentException(\"Incorrect data length.\");\n\n        int[] rBits = GetReversedBits(Tools.Log2(len));\n\n        for (int i = 0; i &lt; len; i++)\n        {\n            int s = rBits[i];\n\n            if (s &gt; i)\n            {\n                Complex t = data[i];\n                data[i] = data[s];\n                data[s] = t;\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c#", "asp.net-core-2.0", "asp.net-core-webapi"], "comments": [{"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "edited": false, "score": 0, "creation_date": 1537982718, "post_id": 52523043, "comment_id": 91985850, "body": "Did you choose form-data in postman and type=file?"}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "reply_to_user": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "edited": false, "score": 0, "creation_date": 1537982795, "post_id": 52523043, "comment_id": 91985881, "body": "@Baral Yes of course, otherwise i wouldnt have been able to test it properly."}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "edited": false, "score": 0, "creation_date": 1537983201, "post_id": 52523043, "comment_id": 91986084, "body": "Have a look at this: <a href=\"https://stackoverflow.com/questions/46895523/asp-core-webapi-test-file-upload-using-postman\" title=\"asp core webapi test file upload using postman\">stackoverflow.com/questions/46895523/&hellip;</a>"}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "reply_to_user": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "edited": false, "score": 0, "creation_date": 1537983500, "post_id": 52523043, "comment_id": 91986218, "body": "The thing is i put a breakpoint on my controllers return and it doesnt even stop so im guessing it throws the &quot;invalid input&quot; error before even trying to go to my ImageHandler. I just tried adding a return BadRequest(ModelState) with a mock model just to see what i get back and its the same...invalid input."}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "edited": false, "score": 0, "creation_date": 1537985729, "post_id": 52523043, "comment_id": 91987208, "body": "My guess is that it could not find a valid route to your API. If you look at the link in my previous comment, it looks like you need to pass a list a IFormFile (IList&lt;IFormFile&gt;)"}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "reply_to_user": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "edited": false, "score": 0, "creation_date": 1537987016, "post_id": 52523043, "comment_id": 91987866, "body": "Tried everything on there, same result. I even tried the code that seems to have solved his problem. Is there something that i must add to my application to be able to handle file uploading and such? (something that wasnt covered in the tutorial i have followed)."}, {"owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "reply_to_user": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "edited": false, "score": 0, "creation_date": 1537989853, "post_id": 52523043, "comment_id": 91989215, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/180832/discussion-between-baral-and-dante-r\">continue this discussion in chat</a>."}, {"owner": {"reputation": 21656, "user_id": 6265620, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uf6qO.jpg?s=128&g=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/6265620/edward"}, "edited": false, "score": 0, "creation_date": 1538026022, "post_id": 52523043, "comment_id": 91999112, "body": "Share us postman screen shot. I made a test with <a href=\"https://github.com/Edward-Zhou/AspNetCore/blob/f8d0c911a4218323fe1f20e08104f89bc41fefe7/MVCPro/Controllers/FileController.cs#L12\" rel=\"nofollow noreferrer\">FileController</a> and <a href=\"https://1drv.ms/u/s!AsyeWQ2z51P3hjnc9wj6PdkK7WB0\" rel=\"nofollow noreferrer\">PostMan</a>. <b>Note</b>, there is no headers in the postman."}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "edited": false, "score": 0, "creation_date": 1538078313, "post_id": 52523043, "comment_id": 92028351, "body": "I added Postman pic. In my headers there&#39;s only &quot;Auth Bearer token&quot;"}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "edited": false, "score": 0, "creation_date": 1538079220, "post_id": 52523043, "comment_id": 92028747, "body": "It was a typo, still not working (it doesnt work in swagger either)."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 0, "creation_date": 1538079390, "post_id": 52523043, "comment_id": 92028839, "body": "I&#39;ve just set up a very basic project that has a single controller accepting a file-upload from Postman and it works without issue - If your controller isn&#39;t even being hit, there&#39;s likely something happening that&#39;s not apparent in your question. If it&#39;s practical, you might want to consider boiling this down to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and/or pushing something up to e.g. Github that demonstrates the problem."}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "edited": false, "score": 0, "creation_date": 1538079547, "post_id": 52523043, "comment_id": 92028922, "body": "The thing is i can see &quot;Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker:I&zwnj;&#8203;nformation: Route matched with {action = &quot;UploadImage&quot;, controller = &quot;Blog&quot;}. Executing action WebApi.Controllers.BlogController.UploadImage (WebApi)&quot; So it looks like its getting executed. But i can&#39;t even debug it (never gets to the return code from that controller method). I have no idea what <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is unfortunately &amp; i wouldnt know what to push to github to be honest. The code above is all i added for the upload. I think i&#39;ll try creating a separate controller for it.."}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "edited": false, "score": 1, "creation_date": 1538080004, "post_id": 52523043, "comment_id": 92029096, "body": "Found the problem. Its apparently because of [ApiController] that i have in my BlogController. Any way around it ?"}, {"owner": {"reputation": 208, "user_id": 1281209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5In3.jpg?s=128&g=1", "display_name": "hubert17", "link": "https://stackoverflow.com/users/1281209/hubert17"}, "edited": false, "score": 0, "creation_date": 1538080189, "post_id": 52523043, "comment_id": 92029175, "body": "Wow! This hapenning to me right now."}, {"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1538080286, "post_id": 52523043, "comment_id": 92029220, "body": "Are you using ASP.NET Core 2.0 or 2.1? Your tag says 2.0 but <code>ApiController</code> was added in 2.1. Anyway, I think you&#39;ll fix it if you follow the instructions <a href=\"https://docs.microsoft.com/en-us/aspnet/core/web-api/?view=aspnetcore-2.1#annotate-class-with-apicontrollerattribute\" rel=\"nofollow noreferrer\">here</a> for setting the compatibility version."}, {"owner": {"reputation": 208, "user_id": 1281209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5In3.jpg?s=128&g=1", "display_name": "hubert17", "link": "https://stackoverflow.com/users/1281209/hubert17"}, "edited": false, "score": 0, "creation_date": 1538080466, "post_id": 52523043, "comment_id": 92029319, "body": "@DanteR. Removing [ApiController] works! To give you all an idea.. I&#39;m trying to make file upload button in Swagger works. This solves the issue. Thank you!"}, {"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "reply_to_user": {"reputation": 208, "user_id": 1281209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i5In3.jpg?s=128&g=1", "display_name": "hubert17", "link": "https://stackoverflow.com/users/1281209/hubert17"}, "edited": false, "score": 1, "creation_date": 1538080526, "post_id": 52523043, "comment_id": 92029351, "body": "@hubert17 See what Kirk linked. Just found another stackoverflow question that seems to have fixed it. <a href=\"https://stackoverflow.com/questions/50919430/post-actions-in-apicontroller-in-asp-net-core-2-1\" title=\"post actions in apicontroller in asp net core 2 1\">stackoverflow.com/questions/50919430/&hellip;</a>  Thanks guys."}], "answers": [{"tags": [], "owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "is_accepted": true, "score": 3, "last_activity_date": 1538080443, "creation_date": 1538080443, "answer_id": 52544745, "question_id": 52523043, "link": "https://stackoverflow.com/questions/52523043/aspnetcore-api-iformfile-returning-invalid-input/52544745#52544745", "title": "ASPNetCore API IFormFile returning &quot;invalid input&quot;", "body": "<p>Found my problem and found my fix. \nAfter finding that my problem was [ApiController] i stumbled upon another stackoverflow problem related to this.</p>\n\n<p>This fixed my problem. Modifying<code>services.AddMvc()</code> to -> <code>services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);</code></p>\n"}], "owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 702, "favorite_count": 0, "accepted_answer_id": 52544745, "answer_count": 1, "score": 1, "last_activity_date": 1538080443, "creation_date": 1537982237, "last_edit_date": 1538080050, "question_id": 52523043, "link": "https://stackoverflow.com/questions/52523043/aspnetcore-api-iformfile-returning-invalid-input", "title": "ASPNetCore API IFormFile returning &quot;invalid input&quot;", "body": "<p>I have an api and i'm trying to upload an image. I tried using swagger &amp; postman.</p>\n\n<p>All i'm getting back is </p>\n\n<pre><code>{\n    \"\": [\n        \"The input was not valid.\"\n    ]\n}\n</code></pre>\n\n<p>This is how my code looks like -> </p>\n\n<p>Controller -</p>\n\n<pre><code>    [HttpPost(\"images\")]\n    public async Task&lt;IActionResult&gt; UploadImage(IFormFile file)\n    {\n        return await _imageHandler.UploadImage(file);\n    }\n</code></pre>\n\n<p>Image Handler - </p>\n\n<pre><code>public interface IImageHandler\n{\n    Task&lt;IActionResult&gt; UploadImage(IFormFile file);\n}\n\npublic class ImageHandler : IImageHandler\n{\n    private readonly IImageWriter _imageWriter;\n    public ImageHandler(IImageWriter imageWriter)\n    {\n        _imageWriter = imageWriter;\n    }\n\n    public async Task&lt;IActionResult&gt; UploadImage(IFormFile file)\n    {\n        var result = await _imageWriter.UploadImage(file);\n        return new ObjectResult(result);\n    }\n}\n</code></pre>\n\n<p>And finally image writer</p>\n\n<pre><code>public class WriterHelper\n{\n    public enum ImageFormat\n    {\n        bmp,\n        jpeg,\n        gif,\n        tiff,\n        png,\n        unknown\n    }\n\n    public static ImageFormat GetImageFormat(byte[] bytes)\n    {\n        var bmp = Encoding.ASCII.GetBytes(\"BM\");     // BMP\n        var gif = Encoding.ASCII.GetBytes(\"GIF\");    // GIF\n        var png = new byte[] { 137, 80, 78, 71 };              // PNG\n        var tiff = new byte[] { 73, 73, 42 };                  // TIFF\n        var tiff2 = new byte[] { 77, 77, 42 };                 // TIFF\n        var jpeg = new byte[] { 255, 216, 255, 224 };          // jpeg\n        var jpeg2 = new byte[] { 255, 216, 255, 225 };         // jpeg canon\n\n        if (bmp.SequenceEqual(bytes.Take(bmp.Length)))\n            return ImageFormat.bmp;\n\n        if (gif.SequenceEqual(bytes.Take(gif.Length)))\n            return ImageFormat.gif;\n\n        if (png.SequenceEqual(bytes.Take(png.Length)))\n            return ImageFormat.png;\n\n        if (tiff.SequenceEqual(bytes.Take(tiff.Length)))\n            return ImageFormat.tiff;\n\n        if (tiff2.SequenceEqual(bytes.Take(tiff2.Length)))\n            return ImageFormat.tiff;\n\n        if (jpeg.SequenceEqual(bytes.Take(jpeg.Length)))\n            return ImageFormat.jpeg;\n\n        if (jpeg2.SequenceEqual(bytes.Take(jpeg2.Length)))\n            return ImageFormat.jpeg;\n\n        return ImageFormat.unknown;\n    }\n}\n</code></pre>\n\n<p>I was following this tutorial -> <a href=\"https://www.codeproject.com/Articles/1256591/Upload-Image-to-NET-Core-2-1-API\" rel=\"nofollow noreferrer\">https://www.codeproject.com/Articles/1256591/Upload-Image-to-NET-Core-2-1-API</a></p>\n\n<p>I've already modified Swagger in the project to be able to upload files, but even swagger throws the same error.\nI got no other errors in my code &amp; debugging does nothing (trying to set breakpoints in my controller, but apparently they dont take or they aren't supposed to, still learning here).</p>\n\n<p>Any help will be appreciated. Thanks!</p>\n\n<p><a href=\"https://i.stack.imgur.com/b3pLN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b3pLN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Did a clean test and the problem seems to be in <code>[ApiController]</code>. Any idea why/how i can fix it?</p>\n"}, {"tags": ["c#", "wcf", "memory"], "comments": [{"owner": {"reputation": 1334, "user_id": 4962764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a26940946b0aceca7bb6f1400cd724?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Miller", "link": "https://stackoverflow.com/users/4962764/brandon-miller"}, "edited": false, "score": 1, "creation_date": 1537982359, "post_id": 52523024, "comment_id": 91985669, "body": "First, my question is.. Is the password stored as plain text in the database? Are you hashing the password when you store a new user, and comparing it to the hash? I&#39;m not seeing any logic to hash the password you&#39;re comparing to."}, {"owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 2, "creation_date": 1537982781, "post_id": 52523024, "comment_id": 91985876, "body": "I think the issue is on the client side. Do you use the <code>user</code> object that you get back for the subsequent call?"}, {"owner": {"reputation": 1745, "user_id": 7478734, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98041a41db9a4159ace877a35aa849a3?s=128&d=identicon&r=PG&f=1", "display_name": "Dmytro Mukalov", "link": "https://stackoverflow.com/users/7478734/dmytro-mukalov"}, "edited": false, "score": 0, "creation_date": 1537984339, "post_id": 52523024, "comment_id": 91986573, "body": "It even doesn&#39;t reach <code>_userRepo.GetModelsAsync</code> which should call the db - why should the query be executed ?"}, {"owner": {"reputation": 28, "user_id": 8450550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e1ec0e8c2bcb9c8110a1137c3a4553?s=128&d=identicon&r=PG&f=1", "display_name": "c0nn1", "link": "https://stackoverflow.com/users/8450550/c0nn1"}, "reply_to_user": {"reputation": 1334, "user_id": 4962764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02a26940946b0aceca7bb6f1400cd724?s=128&d=identicon&r=PG&f=1", "display_name": "Brandon Miller", "link": "https://stackoverflow.com/users/4962764/brandon-miller"}, "edited": false, "score": 0, "creation_date": 1537995626, "post_id": 52523024, "comment_id": 91991748, "body": "@Brandon no, the password is not stored as plain text. The logic for this is on the client-side code because I don&#39;t want to send a clear text password over the internet. I want it to be hashed as quick as possible."}, {"owner": {"reputation": 28, "user_id": 8450550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e1ec0e8c2bcb9c8110a1137c3a4553?s=128&d=identicon&r=PG&f=1", "display_name": "c0nn1", "link": "https://stackoverflow.com/users/8450550/c0nn1"}, "reply_to_user": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1537995759, "post_id": 52523024, "comment_id": 91991804, "body": "@500 no, in my testing I restarted my service-consuming application, in this case a <code>WPF</code> application."}, {"owner": {"reputation": 28, "user_id": 8450550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e1ec0e8c2bcb9c8110a1137c3a4553?s=128&d=identicon&r=PG&f=1", "display_name": "c0nn1", "link": "https://stackoverflow.com/users/8450550/c0nn1"}, "reply_to_user": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1537996651, "post_id": 52523024, "comment_id": 91992088, "body": "@500 which means,  that I always pass a &quot;full&quot; <code>User</code> object to my service. Please take a look at my edit."}], "answers": [{"comments": [{"owner": {"reputation": 28, "user_id": 8450550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e1ec0e8c2bcb9c8110a1137c3a4553?s=128&d=identicon&r=PG&f=1", "display_name": "c0nn1", "link": "https://stackoverflow.com/users/8450550/c0nn1"}, "edited": false, "score": 1, "creation_date": 1539020527, "post_id": 52553254, "comment_id": 92341250, "body": "thanks @usr, this helped and I was able to solve my problem."}], "tags": [], "owner": {"reputation": 161657, "user_id": 122718, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/213Kw.png?s=128&g=1", "display_name": "usr", "link": "https://stackoverflow.com/users/122718/usr"}, "is_accepted": true, "score": 3, "last_activity_date": 1538130075, "creation_date": 1538130075, "answer_id": 52553254, "question_id": 52523024, "link": "https://stackoverflow.com/questions/52523024/data-in-memory-is-re-used-instead-of-executing-a-new-sql-query/52553254#52553254", "title": "Data in memory is re-used instead of executing a new sql query", "body": "<p>I just noticed that this question was reposed. My diagnosis is the same:</p>\n\n<blockquote>\n  <p>What I am thinking right now, is that my service keeps my IList with the cleared Pword in memory and uses it the next time without performing a new sql query.</p>\n</blockquote>\n\n<p>LINQ to SQL (and EF) reuse the same entity objects keyed on primary key. This is a very important feature.</p>\n\n<p><code>Translate</code> will give you preexisting objects if you use it to query an entity type. You can avoid that by querying with a DTO type (e.g. <code>class UserDTO { public string UserName; }</code>).</p>\n\n<p>It is best practice to treat entity objects as a synchronized mirror of the database. Do not make temporary edits to them.</p>\n\n<p>Make sure that your <code>DataContext</code> has the right scope. Normally, you want one context per HTTP request. All code inside one request should share one context and no context should ever be shared across requests.</p>\n\n<p>So maybe there are two issues: You modifying entities, and reusing a <code>DataContext</code> across requests.</p>\n"}], "owner": {"reputation": 28, "user_id": 8450550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0e1ec0e8c2bcb9c8110a1137c3a4553?s=128&d=identicon&r=PG&f=1", "display_name": "c0nn1", "link": "https://stackoverflow.com/users/8450550/c0nn1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 52553254, "answer_count": 1, "score": 0, "last_activity_date": 1538130075, "creation_date": 1537982142, "last_edit_date": 1537996377, "question_id": 52523024, "link": "https://stackoverflow.com/questions/52523024/data-in-memory-is-re-used-instead-of-executing-a-new-sql-query", "title": "Data in memory is re-used instead of executing a new sql query", "body": "<p>I have a <code>WCF</code> service <code>FooService</code>.\nMy service implements a method <code>LoginAsync</code> which takes a <code>User</code> object as parameters.</p>\n\n<pre><code>public async Task&lt;Token&gt; LoginAsync(User user)\n{\n    var result = await _userManager.GetModelAsync(user.Uname, user.Pword);\n    if (result != null &amp;&amp; result.Id &gt; 0)\n        return await _tokenManager.GetModelAsync(result);                          \n    return null;\n}\n</code></pre>\n\n<p>Inside this method  we call <code>_userManager.GetModelAsync(string, string)</code> which is implemented as follows:</p>\n\n<pre><code>public async Task&lt;User&gt; GetModelAsync(string username, string password)\n{\n    var result =\n        (from m in await _userRepo.GetModelsAsync()\n            where m.Uname.Equals(username, StringComparison.InvariantCulture)\n                &amp;&amp; m.Pword.Equals(password, StringComparison.InvariantCulture)\n        select m).ToList();\n\n    if (result.Any() &amp;&amp; result.Count == 1)\n    {\n        var user = result.First();\n        user.Pword = null;\n        return user;\n    }\n    return null;\n}\n</code></pre>\n\n<p>To mention it again: this is all server-side code.\nI never want my service to send back the <code>Pword</code> field, even though it is not clear text. I just don't want that information to be on my client-side code.</p>\n\n<p>This is why I'm setting this property to <code>NULL</code> when I found a <code>User</code> by comparing username and password.</p>\n\n<p>Here's how <code>_userRepo.GetModelAsync()</code> is implemented (don't get confused with <code>_userManager</code> and <code>_userRepo</code>):</p>\n\n<pre><code>public async Task&lt;IList&lt;User&gt;&gt; GetModelsAsync()\n{\n    return await MediaPlayer.GetModelsAsync&lt;User&gt;(_getQuery);\n}\n\nprivate readonly string _getQuery = \"SELECT ID, Uname, DateCreated, Pword FROM dbo.[User] WITH(READUNCOMMITTED)\";\n</code></pre>\n\n<p>And here <code>MediaPlayer.GetModelsAsync&lt;T&gt;(string, params IDbParameter[])</code></p>\n\n<pre><code>public static async Task&lt;IList&lt;T&gt;&gt; GetModelsAsync&lt;T&gt;(string query, params DbParameter[] parameters)\n{\n    IList&lt;T&gt; models;\n    using (SqlConnection con = new SqlConnection(Builder.ConnectionString))\n    using (SqlCommand command = Db.GetCommand(query, CommandType.Text, parameters))\n    {\n        await con.OpenAsync();\n        command.Connection = con;          \n        using (SqlDataReader dr = await command.ExecuteReaderAsync(CommandBehavior.SequentialAccess))\n            models = ReadModels&lt;T&gt;(dr);\n    }\n    return models;\n}\n</code></pre>\n\n<p>This code works fine the first time executing it after publishing or restarting this service (the service is consumed by a <code>WPF</code> application).\nBut calling <code>FooService.LoginAsync(User)</code> a second time, without publishing or restarting the service again, it will throw a <code>NullReferenceException</code> in my <code>_userManager.GetModelAsync</code> <code>LINQ</code> because <code>Pword</code> is <code>NULL</code>.</p>\n\n<p>Which is really strange to me, because as you can see there is no logic implemented where my data is explicit stored in memory.\nNormally my code should execute a sql query everytime calling this method, but somehow it doesn't. It seems like <code>WCF</code> does not get its data from my database, instead re-uses it from memory.</p>\n\n<p>Can somehow explain this behavior to me and what I can do against it?</p>\n\n<p><strong>Edit 26.09.2018</strong></p>\n\n<p>To add some more details:</p>\n\n<p>The method <code>_userManager.GetModelAsync(string, string)</code> always gets called, same for <code>_userRepo.GetModelsAsync</code>. I did some file logging at different points in my server-side code. What I also did, is to take the result of <code>_userRepo.GetModelsAsync</code>, iterated through every object in it and logged <code>Uname</code> and <code>Pword</code>. Only <code>Pword</code> was <code>NULL</code> (did this logging before doing my <code>LINQ</code>).\nI also logged the parameters <code>_userManager.GetModelAsync(user.Uname, user.Pword)</code> receives. <code>user.Uname</code> and <code>user.Pword</code> are not <code>NULL</code>.</p>\n"}, {"tags": ["c#", "asp.net", "unit-testing", "tdd"], "comments": [{"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 1, "creation_date": 1537982547, "post_id": 52522965, "comment_id": 91985765, "body": "You have misunderstood what was meant by that statement"}, {"owner": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "reply_to_user": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537983642, "post_id": 52522965, "comment_id": 91986283, "body": "@Nkosi, Thank you, I thought so, too. Could you please point me somewhere that explains this in detail with the help of a sample code."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 0, "creation_date": 1537985496, "post_id": 52523343, "comment_id": 91987102, "body": "Thank you @bleepzter. I have edited my question to add the Moq-based code. Could you please have a look at it and let me know if that is what you suggested?"}, {"owner": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 1, "creation_date": 1537986169, "post_id": 52523343, "comment_id": 91987400, "body": "After implementing Moq, I feel as if instead of testing the real concrete class, I am just testing the mocks. Am I doing something wrong?"}, {"owner": {"reputation": 8393, "user_id": 499636, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/f0h8T.jpg?s=128&g=1", "display_name": "bleepzter", "link": "https://stackoverflow.com/users/499636/bleepzter"}, "reply_to_user": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 0, "creation_date": 1537986539, "post_id": 52523343, "comment_id": 91987608, "body": "Correct. You use mocks of the interfaces not to test the actual implementation, but to test complicated objects that use them. The implementation themselves you test normally with regular unit tests without mocking. So if something was using <code>ILoanEligibility</code> - instead of giving it an actual implemenation (aka an instance of the <code>LoanEligibility</code> class) you would give it a mock. The actual <code>LoanEligibility</code> class you would unit test as normal, as it does not have any other dependencies."}, {"owner": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 0, "creation_date": 1538368642, "post_id": 52523343, "comment_id": 92104099, "body": "Thank you for the in-depth explanation :)"}], "tags": [], "owner": {"reputation": 8393, "user_id": 499636, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/f0h8T.jpg?s=128&g=1", "display_name": "bleepzter", "link": "https://stackoverflow.com/users/499636/bleepzter"}, "is_accepted": true, "score": 1, "last_activity_date": 1538077851, "last_edit_date": 1538077851, "creation_date": 1537983499, "answer_id": 52523343, "question_id": 52522965, "link": "https://stackoverflow.com/questions/52522965/how-can-i-decouple-system-design-from-unit-tests-as-suggested-by-uncle-bob/52523343#52523343", "title": "How can I decouple system design from unit tests (as suggested by Uncle Bob)?", "body": "<p>To answer your question - you would use mocking framework such as Moq.</p>\n\n<p>The overall idea is that Interfaces or abstract classes provide \"contracts\" or a set of standardized API's which you can code against.</p>\n\n<p>The implementation of these interfaces or abstract classes can be unit tested individually. This is not a problem, and in fact - that is what you should do on a regular basis.</p>\n\n<p>However, the complexity arises when those implementations are dependencies of other objects. In that regard - to unit test such a complex object, you first have to construct the implementation of the dependency, plug that dependency into the instance of whatever you are testing. </p>\n\n<p>This process becomes quite burdensome because as the dependency chain grows - the variability of how the code behaves can be quite complex. To simplify the tests and also to be able to unit tests multiple conditions in complex dependency chains - we use mocking frameworks.</p>\n\n<p>What the mock provides is a way to \"fake\" an implementation with specific parameters (input/output, whatever they may be) and plug those fakes into the dependency graph. And while yes - you can mock concrete objects - it is a lot easier to mock contracts defined by an interface or an abstract class.</p>\n\n<p>A decent starting point to understand those concepts is the moq framework documentation. <a href=\"https://github.com/Moq/moq4/wiki/Quickstart\" rel=\"nofollow noreferrer\">https://github.com/Moq/moq4/wiki/Quickstart</a></p>\n\n<p>Edit: </p>\n\n<p>I see there is a confusion about what this means so I wanted to elaborate.</p>\n\n<p>Common design patterns (known as S.O.L.I.D) dictate that an object should do 1 thing, and 1 thing only and do it well. This is known as the Single Responsibility Principle.</p>\n\n<p>Another core concept is that an object should depend upon abstractions and not concrete implementations. This concept is known as the Dependency Inversion Principle. </p>\n\n<p>Finally - the Liskov Substitution Principle, dictates that object in a program should be replaceable with instances of their sub-types without altering the correctness of the program. In other words - if your objects depend on abstractions, then you can provide different implementations (taking advantage of inheritance) for those abstractions without fundamentally altering the behavior of the application.</p>\n\n<p>Which also neatly jumps into the Open/Closed principle. IE - software entities should be open for extension, but closed for modification. (Think of providing different implementations for those abstractions).</p>\n\n<p>Finally - we have the Inversion of Control principle - a complex object should not be responsible for creating its own dependencies; something else should be responsible for creating them, and they should be \"injected\" via constructor, method, or property injection wherever they are needed.</p>\n\n<p><strong>So how does this apply in \"decoupling system design\" from unit tests?</strong></p>\n\n<p>The answer is very simple. </p>\n\n<p>Suppose we are writing a software that models cars. \nA car has a body and wheels, and all sorts of other internal components. \nFor simplicity we will say that an object of type <code>Car</code> has a constructor that takes four <code>wheel</code> objects as parameters:</p>\n\n<pre><code>public class Wheel {\n   public double Radius { get; set; }\n   public double RPM { get; set; }\n   public void Spin(){ ... }\n   public double GetLinearVelocity() { ... }\n}\n\npublic class LinearMovement{\n   public double Velocity { get; set; }     \n}\n\npublic class Car {\n\n  private Wheel wheelOne;\n  private Wheel wheelTwo;\n  private Wheel wheelThree;\n  private Wheel wheelFour;\n\n  public Car(Wheel one, Wheel two, Wheel three, Wheel four){\n    wheelOne = one;\n    wheelTwo = two;\n    wheelThree = three;\n    wheelFour = four;\n  } \n\n  public LinearMovement Move(){\n    wheelOne.Spin();\n    wheelTwo.Spin();\n    wheelThree.Spin();\n    wheelFour.Spin();\n\n    speedOne = wheelOne.GetLinearVelocity();\n    speedTwo = wheelTwo.GetLinearVelocity();\n    speedThree = wheelThree.GetLinearVelocity();\n    speedFour = wheelFour.GetLinearVelocity();\n\n    return new LinearMovement(){ \n       Velocity = (speedOne + speedTwo + speedThree + speedFour) / 4\n    };\n  }\n}\n</code></pre>\n\n<p>The ability of a car to move is governed the kind of wheels the car has. A wheel can have a soft rubber thereby gluing the car to the road around corners, or it can be very narrow for deep snow but very slow speeds.</p>\n\n<p>Therefore - the idea of a wheel becomes an abstraction. There is all sorts of wheels out there, and a concrete implementation of a wheel cannot possibly cover all of them. Enter the dependency inversion principle. </p>\n\n<p>We make wheel an abstraction using <code>IWheel</code> interface to declare the basic minimum functionality for what any wheel should be capable of doing in order to work with our car. (In our case it should spin at least...)</p>\n\n<pre><code>public interface IWheel {\n    double Radius { get; set; }\n    double RPM { get; set; }\n    void Spin();\n    double GetLinearVelocity();\n}\n\npublic class BasicWheel : IWheel {\n   public double Radius { get; set; }\n   public double RPM { get; set; }\n   public void Spin(){ ... }\n   public double GetLinearVelocity() { ... }   \n}\n\npublic class Car {\n    ...\n    public Car(IWheel one, IWheel two, IWheel three, IWheel four){\n    ...\n    } \n\n    public LinearMovement Move(){\n        wheelOne.Spin();\n        wheelTwo.Spin();\n        wheelThree.Spin();\n        wheelFour.Spin();\n\n        speedOne = wheelOne.GetLinearVelocity();\n        speedTwo = wheelTwo.GetLinearVelocity();\n        speedThree = wheelThree.GetLinearVelocity();\n        speedFour = wheelFour.GetLinearVelocity();\n\n        return new LinearMovement(){ \n            Velocity = (speedOne + speedTwo + speedThree + speedFour) / 4\n        };\n    }\n}\n</code></pre>\n\n<p>So that's great, we got an abstraction to define a basic functionality of a wheel and we coded the car against that abstraction. Nothing changed in the code of how the car moves - thereby satisfying the Liskov Substitution Principle. </p>\n\n<p>So now if instead of creating a car with basic wheels, and we create a car with RacingPerformanceWheels the code that governs how the car moves stays the same. This satisfies the Open / Closed principle. </p>\n\n<p>However - it poses another problem. The actual velocity of the car - is dependent on the average linear velocity of all 4 wheels. So depending on the wheel - the car will behave differently.</p>\n\n<p><strong>How do we test the behavior of the car given that there could be a million different types of wheels out there?!?</strong></p>\n\n<p>Enter the mocking framework. Because the movement of the car depends on the abstract notion of a wheel defined by the interface <code>IWheel</code> - we can now mock different implementations of such wheel, each with predefined parameters.</p>\n\n<p><strong><em>The concrete wheel implementations/objects themselves (<code>BasicWheel</code>, <code>RacingPerformanceWheel</code>, etc..) should be unit tested without mocks.</em></strong> The reason is that they do not have dependencies of their own. If the wheel had a dependency in it's constructor - than mocking should be used for that dependency.</p>\n\n<p><strong><em>To test the car object - mocks should be used to describe each <code>IWheel</code> instance (dependency) that is passed to the constructor of the car.</em></strong> This provides a couple of advantages - decoupling the overall system design from unit tests:</p>\n\n<p>1) We don't care what wheels there are in the system. There could be 1 million of them. </p>\n\n<p>2) We care that for specific wheel dimensions, at given angular velocity (RPM) - the car should achieve a very specific linear velocity.</p>\n\n<p>The mock of <code>IWheel</code> for the requirements of #2 would tell us if our vehicle is working properly, and if not - we could change our code to correct the mistake. </p>\n"}, {"tags": [], "owner": {"reputation": 39380, "user_id": 54734, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/ea91774321962f70f19362f43568cda9?s=128&d=identicon&r=PG", "display_name": "VoiceOfUnreason", "link": "https://stackoverflow.com/users/54734/voiceofunreason"}, "is_accepted": false, "score": -1, "last_activity_date": 1538011624, "last_edit_date": 1538011624, "creation_date": 1537985167, "answer_id": 52523760, "question_id": 52522965, "link": "https://stackoverflow.com/questions/52522965/how-can-i-decouple-system-design-from-unit-tests-as-suggested-by-uncle-bob/52523760#52523760", "title": "How can I decouple system design from unit tests (as suggested by Uncle Bob)?", "body": "<blockquote>\n  <p>If we are exposing only interfaces to our unit tests, how do these unit tests get access to the actual implementations to verify their behavior? </p>\n</blockquote>\n\n<p>Any way you like.</p>\n\n<p>One approach I've found satisfactory is to write the checks in an abstract class, and pass in an instance of the system under test from the constructor of an otherwise empty class that extends the abstract class.</p>\n\n<p>In a lot of ways, test frameworks are ... well... \"frameworks\" (obviously)... and therefore it can make sense to think about your testable components as something to be injected into the framework.  See Mark Seemann for an exploration of what a <a href=\"http://blog.ploeh.dk/2014/05/19/di-friendly-framework/\" rel=\"nofollow noreferrer\">DI friendly framework</a> might look like, and decide if you think those ideas are reasonable for your test suites.</p>\n\n<p>You <em>can</em> do test first in this style, but I'm going to admit that some of the moves that separate the concerns are going to feel a little bit contrived -- introducing interfaces early, because you really understand what API is going to be comfortable to use, is perhaps dubious.</p>\n\n<p>(One answer might be to take time out to spike the interface, before getting invested in writing checks for the implementation.)</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 0, "creation_date": 1538369276, "post_id": 52571141, "comment_id": 92104244, "body": "Thank you @Fabio for this insight ! :) However, say, tomorrow ILoanEligibility has a new implementation and we want to switch to this new class. Won&#39;t it create an overhead of making this change throughout our unit tests? I mean, yes, the same overhead will be present even if we use the real class instead of the interface. But we are not really &quot;decoupled&quot; from the class in the way it is really intended, are we? The tests still, kind of, depend on the actual class. I understand that this approach ensures that the tests interact with the API, but do you think we can somehow fix this problem?"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 0, "creation_date": 1538374434, "post_id": 52571141, "comment_id": 92105691, "body": "@HemantSingh, tests <b>must</b> depend on the actual implementation, because you testing behaviour of this implementation. When you want change behaviour by introducing new class - you will write new tests for the this implementation. Consider tests as entry point of application, where you testing actual implementation. Abstract/mock only things which makes tests slow or very very complex to configure(Arrange section)."}, {"owner": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 0, "creation_date": 1538380213, "post_id": 52571141, "comment_id": 92108260, "body": "Agreed @Fabio. I was just wondering if there is a way to abstract away real classes and let the tests talk to the API/interface instead. Much like Dependency injection. Won&#39;t it reduce our work load when say, we have to replace LoanEligiblity class with NewLoanEligibility only at a single place of interface-to-class mapping, instead of in each test that uses that class. Is it such a bad idea to inject classes in our tests instead of including them directly?"}, {"owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "reply_to_user": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "edited": false, "score": 0, "creation_date": 1538380634, "post_id": 52571141, "comment_id": 92108468, "body": "If you want replace with the class which have similar behaviour(because you expect to pass against same tests), then you can always introduce factory method or class which will be the &quot;only&quot; place where you can change actual class."}], "tags": [], "owner": {"reputation": 28433, "user_id": 1565525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2e3a5d0911464ffa3d7ac48475cf98d?s=128&d=identicon&r=PG", "display_name": "Fabio", "link": "https://stackoverflow.com/users/1565525/fabio"}, "is_accepted": false, "score": 1, "last_activity_date": 1538244457, "creation_date": 1538244457, "answer_id": 52571141, "question_id": 52522965, "link": "https://stackoverflow.com/questions/52522965/how-can-i-decouple-system-design-from-unit-tests-as-suggested-by-uncle-bob/52571141#52571141", "title": "How can I decouple system design from unit tests (as suggested by Uncle Bob)?", "body": "<blockquote>\n  <p>Rather, we should just expose an API that represents our system, and\n  then use this API for unit testing.</p>\n</blockquote>\n\n<p>Correct</p>\n\n<blockquote>\n  <p>According to my understanding, I think that by an API, he meant an\n  interface. So the unit tests should be interacting with interfaces\n  instead of real classes.</p>\n</blockquote>\n\n<p>Here you misunderstood first statement.<br>\nFirst in unit tests you need to test actual implementation to verify their behaviour.<br>\nThen in unit tests you will instantiate actual classes <strong>but you allow to use only methods and types consumer of your API have access to</strong>.</p>\n\n<p>In your particular example</p>\n\n<pre><code>[TestClass]\npublic class LoanEligibilityTest\n{        \n    [TestMethod]\n    public void TestLoanTypePersonal()\n    {\n        //Arrange\n        ILoanEligibility loanEligibility = new LoanEligibility(); // actual implementation\n        string loanType = \"Personal\";\n\n        //Act\n        bool expected = _loanEligibility.HasCorrectType(loanType);\n\n        //Assert\n        Assert.IsTrue(expected);\n    }\n}\n</code></pre>\n\n<p>Suggestion: With Arrange-Act-Assert approach in \"Act\" section you allow to use only methods and types provided by API.</p>\n"}], "owner": {"reputation": 67, "user_id": 9032713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886c96f07c99c2d01b495a64f3fd1ee3?s=128&d=identicon&r=PG&f=1", "display_name": "Hemant Singh", "link": "https://stackoverflow.com/users/9032713/hemant-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 731, "favorite_count": 1, "accepted_answer_id": 52523343, "answer_count": 3, "score": 0, "last_activity_date": 1538244457, "creation_date": 1537981939, "last_edit_date": 1537985936, "question_id": 52522965, "link": "https://stackoverflow.com/questions/52522965/how-can-i-decouple-system-design-from-unit-tests-as-suggested-by-uncle-bob", "title": "How can I decouple system design from unit tests (as suggested by Uncle Bob)?", "body": "<p>Uncle Bob (Bob Martin) mentioned in his <a href=\"https://blog.cleancoder.com/uncle-bob/2017/03/03/TDD-Harms-Architecture.html\" rel=\"nofollow noreferrer\">blog</a> that in order to decouple our system's design from unit tests, we should not expose our concrete classes directly to the unit tests. Rather, we should just expose an API that represents our system, and then use this API for unit testing.</p>\n\n<p><a href=\"https://i.stack.imgur.com/FGkzl.png\" rel=\"nofollow noreferrer\">A rough representation of Uncle Bob's suggestion</a></p>\n\n<p>According to my understanding, I think that by an API, he meant an <em>interface</em>. So the unit tests should be interacting with interfaces instead of real classes.</p>\n\n<p>My question is this: If we are exposing only interfaces to our unit tests, how do these unit tests get access to the actual implementations to verify their behavior? Should we use DI in our tests to inject the real classes at run time? Is there any way for the code below to work?</p>\n\n<p>ILoanEligibility.cs</p>\n\n<pre><code>public interface ILoanEligibility\n{\n    bool HasCorrectType(string loanType);\n}\n</code></pre>\n\n<p>LoanEligibility.cs</p>\n\n<pre><code>public class LoanEligibility : ILoanEligibility\n{\n    public bool HasCorrectType(string loanType)\n    {\n        if(loanType.Equals(\"Personal\"))\n        {\n            return true;\n        }\n        return false;\n    }\n}\n</code></pre>\n\n<p>Unit Test</p>\n\n<pre><code>[TestClass]\npublic class LoanEligibilityTest\n{\n    ILoanEligibility _loanEligibility;\n    [TestMethod]\n    public void TestLoanTypePersonal()\n    {\n        //Arrange\n        string loanType = \"Personal\";\n\n        //Act\n        bool expected = _loanEligibility.HasCorrectType(loanType);\n\n        //Assert\n        Assert.IsTrue(expected);\n    }\n}\n</code></pre>\n\n<p>The above unit test tries to see if LoanEligibility.HasCorrectType() method works properly for \"Personal\" type. Obviously, the test will fail as we are not using a concrete class, but rather an interface, in accordance with Uncle Bob's suggestion (if I understood it correctly).  </p>\n\n<p>How do I make this test pass? Any suggestions would be helpful.</p>\n\n<p><strong>Edit 1</strong>\nThank you @bleepzter for suggesting Moq. Following is the modified unit test class, testing both valid and invalid cases.</p>\n\n<pre><code>[TestClass]\npublic class LoanEligibilityTest\n{\n    private Mock&lt;ILoanEligibility&gt; _loanEligibility;\n\n    [TestMethod]\n    public void TestLoanTypePersonal()\n    {\n        SetMockLoanEligibility();\n        //Arrange\n        string loanType = \"Personal\";\n        //Act\n        bool expected = _loanEligibility.Object.HasCorrectType(loanType);\n        //Assert\n        Assert.IsTrue(expected);\n    }\n\n    [TestMethod]\n    public void TestLoanTypeInvalid()\n    {\n        SetMockLoanEligibility();\n        //Arrange\n        string loanType = \"House\";\n        //Act\n        bool expected = _loanEligibility.Object.HasCorrectType(loanType);\n        //Assert\n        Assert.IsFalse(expected);\n    }\n\n    public void SetMockLoanEligibility()\n    {\n        _loanEligibility = new Mock&lt;ILoanEligibility&gt;();\n        _loanEligibility.Setup(loanElg =&gt; loanElg.HasCorrectType(\"Personal\"))\n                        .Returns(true);\n    }\n}\n</code></pre>\n\n<p>But now I am confused. Since we are not <em>really</em> testing our concrete class but rather its mock, are these unit tests really telling us anything, other than probably that our mocks are working fine?</p>\n"}, {"tags": ["c#", "wpf", "xaml"], "comments": [{"owner": {"reputation": 599, "user_id": 2316129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adc529ae8355c94880baf09fe526530a?s=128&d=identicon&r=PG", "display_name": "Mark Homer", "link": "https://stackoverflow.com/users/2316129/mark-homer"}, "edited": false, "score": 0, "creation_date": 1537983146, "post_id": 52522901, "comment_id": 91986059, "body": "You can use Tag but it would be the same each time. You wouldn&#39;t normally click a label anyway. You should use a combobox control with list of items in it, best thing is just create a test project and play around with all the controls"}, {"owner": {"reputation": 133235, "user_id": 7252182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUgxG.png?s=128&g=1", "display_name": "mm8", "link": "https://stackoverflow.com/users/7252182/mm8"}, "edited": false, "score": 0, "creation_date": 1538057572, "post_id": 52522901, "comment_id": 92017532, "body": "You can&#39;t pass a custom paremeter to the event handler. What are you trying to accomplish here? Maybe you should look into commands."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 7202281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcc4b419484813eefa1a75eba7caf1c8?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Cabrera", "link": "https://stackoverflow.com/users/7202281/jose-cabrera"}, "is_accepted": false, "score": 0, "last_activity_date": 1538004581, "creation_date": 1538004581, "answer_id": 52527361, "question_id": 52522901, "link": "https://stackoverflow.com/questions/52522901/how-to-pass-parameter-to-custom-label-mouse-double-click-method/52527361#52527361", "title": "How to pass parameter to custom label mouse double click method", "body": "<p>Have you try:</p>\n\n<pre><code>public void AdjustAmount(object sender, MouseButtonEventArgs e)\n{\n  var selectedLotUpdate = (sender as Label).Content;\n}\n</code></pre>\n"}], "owner": {"reputation": 2542, "user_id": 1263981, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9c6d393721f4171a1e21f5bb78060baa?s=128&d=identicon&r=PG", "display_name": "user1263981", "link": "https://stackoverflow.com/users/1263981/user1263981"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538004581, "creation_date": 1537981672, "last_edit_date": 1537991466, "question_id": 52522901, "link": "https://stackoverflow.com/questions/52522901/how-to-pass-parameter-to-custom-label-mouse-double-click-method", "title": "How to pass parameter to custom label mouse double click method", "body": "<p>I am new to wpf, is there any way to pass parameter to customer label click method?</p>\n\n<p>Here is the label control in xaml;</p>\n\n<pre><code>   &lt;Label Content=\"tax\" MouseDoubleClick=\"AdjustAmount\"&gt;&lt;/Label&gt;\n   &lt;Label Content=\"due\" MouseDoubleClick=\"AdjustAmount\"&gt;&lt;/Label&gt;\n</code></pre>\n\n<p>Here is code behind method</p>\n\n<pre><code>private void AdjustAmount(string amounttype)\n{\n  switch (amounttype)\n{\n    case \"due\":\n        {\n            break;\n        }\n\n    case \"balance\":\n        {\n            break;\n        }\n\n    case \"payment\":\n        {\n            break;\n        }\n}\n}\n</code></pre>\n\n<p>I have tried MouseDoubleClick=\"AdjustAmount('tax')\" but its not working.</p>\n"}, {"tags": ["c#", "asp.net-mvc", "cascadingdropdown"], "answers": [{"comments": [{"owner": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "reply_to_user": {"reputation": 47, "user_id": 7216599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9a325140413a386eb9e4addb973aae?s=128&d=identicon&r=PG&f=1", "display_name": "dreamer", "link": "https://stackoverflow.com/users/7216599/dreamer"}, "edited": false, "score": 0, "creation_date": 1538054715, "post_id": 52523033, "comment_id": 92015519, "body": "is your entire DersViewModel null in the action method? your sample code does not include an input for LectureId so I don&#39;t see how that would ever be populated."}], "tags": [], "owner": {"reputation": 1810, "user_id": 2630903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JSNUo.png?s=128&g=1", "display_name": "Richard Hubley", "link": "https://stackoverflow.com/users/2630903/richard-hubley"}, "is_accepted": false, "score": 0, "last_activity_date": 1537982166, "creation_date": 1537982166, "answer_id": 52523033, "question_id": 52522854, "link": "https://stackoverflow.com/questions/52522854/mvc-save-items-from-cascading-dropdownlist/52523033#52523033", "title": "Mvc Save Items From Cascading DropdownList", "body": "<p>Your Dropdowns are not inside your Form, so they are not included in the post. Try the below code for your view.</p>\n\n<pre><code>@model Mvc.Models.DersViewModel\n@using (Html.BeginForm())\n{\n&lt;div class=\"container\"&gt;\n&lt;div class=\"form-group\"&gt;\n    @if (ViewBag.dersList != null)\n    {\n        @Html.DropDownListFor(model =&gt; model.DersID, ViewBag.dersList as SelectList, \"--Lecture--\", new { @class = \"form-control\" })\n    }\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.DropDownListFor(model =&gt; model.SaatID, new SelectList(\" \"), \"--Time--\", new { @class = \"form-control\" })\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    &lt;input type=\"submit\" value=\"Kaydet\" class=\"btn button\" /&gt;\n    &lt;input type=\"reset\" value=\"Sil\" class=\"btn button\" /&gt;\n&lt;/div&gt;\n}\n&lt;script src=\"~/Scripts/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function () {\n    $(\"#DersID\").change(function () {\n        $.get(\"/Dokuzas/GetDersList\", { DersID: $(\"#DersID\").val() }, \nfunction (data) {\n            $(\"#SaatID\").empty();\n            $.each(data, function (index, row) {\n                $(\"#SaatID\").append(\"&lt;option value='\" + row.SaatID + \"'&gt;\" + row.Saat1 + \"&lt;/option&gt;\");\n            });\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7216599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9a325140413a386eb9e4addb973aae?s=128&d=identicon&r=PG&f=1", "display_name": "dreamer", "link": "https://stackoverflow.com/users/7216599/dreamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537982166, "creation_date": 1537981481, "question_id": 52522854, "link": "https://stackoverflow.com/questions/52522854/mvc-save-items-from-cascading-dropdownlist", "title": "Mvc Save Items From Cascading DropdownList", "body": "<p>This is my controller.</p>\n\n<pre><code>public class DokuzasController : Controller\n{\n    schoolEntities se = new schoolEntities();\n\n    public ActionResult Index()\n    {\n        IEnumerable&lt;DersViewModel&gt; leclist;\n        HttpResponseMessage responselec = GlobalVariables.LecturesClient.GetAsync(\"dokuzas\").Result;\n        leclist = responselec.Content.ReadAsAsync&lt;IEnumerable&lt;DersViewModel&gt;&gt;().Result;\n        return View(leclist);\n    }\n\n    public ActionResult AddOrEdit()\n    {\n        List&lt;ders&gt; dersList = se.ders.ToList();\n        ViewBag.dersList = new SelectList(dersList, \"DersID\", \"Ders1\");\n        return View();\n    }\n\n    public JsonResult GetDersList(int DersID)\n    {\n        se.Configuration.ProxyCreationEnabled = false;\n        List&lt;saat&gt; saatList = se.saat.Where(x =&gt; x.DersID == DersID).ToList();\n        return Json(saatList, JsonRequestBehavior.AllowGet);\n\n    }\n    [HttpPost]\n    public ActionResult AddOrEdit(DersViewModel lec)\n    {\n        if (lec.LectureId == 0)\n        {\n            HttpResponseMessage response = GlobalVariables.LecturesClient.PostAsJsonAsync(\"dokuzas\", lec).Result;\n            TempData[\"SuccessMessage\"] = \"Kaydedildi.\";\n        }\n        else\n        {\n            HttpResponseMessage response = GlobalVariables.LecturesClient.PutAsJsonAsync(\"dokuzas/\" + lec.LectureId, lec).Result;\n            TempData[\"SuccessMessage\"] = \"G\u00fcncellendi.\";\n        }\n        return RedirectToAction(\"Index\");\n    }\n}\n</code></pre>\n\n<p>And this is AddOrEdit part.</p>\n\n<pre><code>@model Mvc.Models.DersViewModel\n&lt;div class=\"container\"&gt;\n&lt;div class=\"form-group\"&gt;\n    @if (ViewBag.dersList != null)\n    {\n        @Html.DropDownListFor(model =&gt; model.DersID, ViewBag.dersList as SelectList, \"--Lecture--\", new { @class = \"form-control\" })\n    }\n&lt;/div&gt;\n\n&lt;div class=\"form-group\"&gt;\n    @Html.DropDownListFor(model =&gt; model.SaatID, new SelectList(\" \"), \"--Time--\", new { @class = \"form-control\" })\n&lt;/div&gt;\n&lt;/div&gt;\n@using (Html.BeginForm())\n{\n&lt;div class=\"form-group\"&gt;\n    &lt;input type=\"submit\" value=\"Kaydet\" class=\"btn button\" /&gt;\n    &lt;input type=\"reset\" value=\"Sil\" class=\"btn button\" /&gt;\n&lt;/div&gt;\n}\n&lt;script src=\"~/Scripts/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function () {\n    $(\"#DersID\").change(function () {\n        $.get(\"/Dokuzas/GetDersList\", { DersID: $(\"#DersID\").val() }, \nfunction (data) {\n            $(\"#SaatID\").empty();\n            $.each(data, function (index, row) {\n                $(\"#SaatID\").append(\"&lt;option value='\" + row.SaatID + \"'&gt;\" + row.Saat1 + \"&lt;/option&gt;\");\n            });\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>I create a cascading dropdown list for lecture and time but i cannot save it to the table. When i choose items and select submit button i can submit only null to the table. It did not save what i choose from the dropdownlist. How can i save from my cascading dropdown list to the table?</p>\n"}, {"tags": ["c#", "xamarin.forms"], "comments": [{"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1537983017, "post_id": 52522840, "comment_id": 91985997, "body": "Could be image preloading issue especially if images are large and take long to download.. Consider lazy loading them.."}, {"owner": {"reputation": 37, "user_id": 10419935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-llnWQJwtjiE/AAAAAAAAAAI/AAAAAAAAAFU/-B_4JsZx8rA/photo.jpg?sz=128", "display_name": "HanI Gerges", "link": "https://stackoverflow.com/users/10419935/hani-gerges"}, "reply_to_user": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1537991663, "post_id": 52522840, "comment_id": 91990060, "body": "@numbtongue i will try to resize all of them Thanks"}, {"owner": {"reputation": 37, "user_id": 10419935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-llnWQJwtjiE/AAAAAAAAAAI/AAAAAAAAAFU/-B_4JsZx8rA/photo.jpg?sz=128", "display_name": "HanI Gerges", "link": "https://stackoverflow.com/users/10419935/hani-gerges"}, "reply_to_user": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1538003388, "post_id": 52522840, "comment_id": 91994031, "body": "Its working . Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 37, "user_id": 10419935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-llnWQJwtjiE/AAAAAAAAAAI/AAAAAAAAAFU/-B_4JsZx8rA/photo.jpg?sz=128", "display_name": "HanI Gerges", "link": "https://stackoverflow.com/users/10419935/hani-gerges"}, "is_accepted": true, "score": 0, "last_activity_date": 1588601216, "creation_date": 1588601216, "answer_id": 61594166, "question_id": 52522840, "link": "https://stackoverflow.com/questions/52522840/xamarin-forms-carousel-view/61594166#61594166", "title": "Xamarin.Forms Carousel View", "body": "<p>Could be image preloading issue especially if images are large and take long to download.. Consider lazy loading them.. \u2013 boateng Sep 26 '18 at 17:30</p>\n"}], "owner": {"reputation": 37, "user_id": 10419935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-llnWQJwtjiE/AAAAAAAAAAI/AAAAAAAAAFU/-B_4JsZx8rA/photo.jpg?sz=128", "display_name": "HanI Gerges", "link": "https://stackoverflow.com/users/10419935/hani-gerges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 61594166, "answer_count": 1, "score": 2, "last_activity_date": 1588601216, "creation_date": 1537981421, "last_edit_date": 1537983647, "question_id": 52522840, "link": "https://stackoverflow.com/questions/52522840/xamarin-forms-carousel-view", "title": "Xamarin.Forms Carousel View", "body": "<p>I am using CarouselView to make a photo slider, sometimes the photos appear and other times they don't and appear a white background and it keep go and back like this</p>\n\n<p>Xaml Code:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n  &lt;ContentPage xmlns=\"http://xamarin.com/schemas/2014/forms\"\n   xmlns:x=\"http://schemas.microsoft.com/winfx/2009/xaml\"\n   xmlns:local=\"clr-namespace:Test01\"\n   xmlns:forms=\"clr-namespace:Xamarin.Forms;assembly=Xamarin.Forms.CarouselView\"\n   x:Class=\"Test01.MainPage\"&gt;\n    &lt;StackLayout &gt;\n      &lt;Label Text=\"Images \" FontSize=\"30\" Margin=\"20\"/&gt;\n      &lt;forms:CarouselView x:Name=\"MainCarouselView\"&gt;\n        &lt;forms:CarouselView.ItemTemplate&gt;\n          &lt;DataTemplate&gt;\n            &lt;Image Source=\"{Binding .}\" x:Name=\"image\" Aspect=\"AspectFill\"/&gt;\n          &lt;/DataTemplate&gt;\n        &lt;/forms:CarouselView.ItemTemplate&gt;\n      &lt;/forms:CarouselView&gt;\n    &lt;/StackLayout&gt;\n  &lt;/ContentPage&gt;\n</code></pre>\n\n<p>Code Behind:</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Xamarin.Forms;\nusing System.Xml;\n\nnamespace Test01\n{\n    public partial class MainPage : ContentPage\n    {\n        public MainPage()\n        {\n           InitializeComponent();\n\n           var image = new List&lt;ImageSource&gt;\n           {\n           ImageSource.FromResource(\"Test01.Images.Photo01.jpeg\"),\n           ImageSource.FromResource(\"Test01.Images.Photo02.jpg\"),\n           ImageSource.FromResource(\"Test01.Images.Photo03.jpg\"),\n           ImageSource.FromResource(\"Test01.Images.Photo04.jpg\"),\n         };\n         MainCarouselView.ItemsSource = image; \n       }\n   }\n</code></pre>\n\n<p>}</p>\n\n<p>problem is not with the photos because I switched them and kept trying with 1 photo and it works then add it the other photos and i get that issue</p>\n"}, {"tags": ["c#", "windows-services", "networkcredentials"], "comments": [{"owner": {"reputation": 28373, "user_id": 5015238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8790f8091d3c6c58fd45664a165117a?s=128&d=identicon&r=PG", "display_name": "jdweng", "link": "https://stackoverflow.com/users/5015238/jdweng"}, "edited": false, "score": 0, "creation_date": 1537982423, "post_id": 52522772, "comment_id": 91985698, "body": "For Network credentials to work the user need to be in the same Window user Group on both local PC and Remote PC.  If you are in a corporate network then talk to your MIS about the Group Policy."}], "answers": [{"tags": [], "owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "is_accepted": false, "score": 0, "last_activity_date": 1537982695, "creation_date": 1537982695, "answer_id": 52523168, "question_id": 52522772, "link": "https://stackoverflow.com/questions/52522772/use-windows-service-log-on-as-user-as-networkcredentials-for-a-web-request/52523168#52523168", "title": "Use Windows Service &quot;Log on as&quot; user as NetworkCredentials for a web request", "body": "<blockquote>\n  <p>the user running the service can be get from here: WindowsIdentity.GetCurrent(), but not the password</p>\n</blockquote>\n\n<p>If you can get the current <code>WindowsIdentity</code>, you should be able to <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.security.principal.windowsidentity.impersonate?view=netframework-4.7.2\" rel=\"nofollow noreferrer\">impersonate</a> it:</p>\n\n<pre><code>WindowsIdentity currentIdentity = WindowsIdentity.GetCurrent();\nusing (WindowsImpersonationContext impersonatedUser = currentIdentity.Impersonate())\n{\n    // Check the identity.\n    Console.WriteLine(\"After impersonation: \" + WindowsIdentity.GetCurrent().Name);\n    // Make the request\n    WebRequest request = WebRequest.Create(\"https://google.com\");\n    // etc\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10420030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-siBKibWnYWY/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVvcoo_xczYqzUZPYx8RmtQTmTU5Q/mo/photo.jpg?sz=128", "display_name": "Gerardo Javier Gonzalez Brena", "link": "https://stackoverflow.com/users/10420030/gerardo-javier-gonzalez-brena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537982695, "creation_date": 1537981152, "question_id": 52522772, "link": "https://stackoverflow.com/questions/52522772/use-windows-service-log-on-as-user-as-networkcredentials-for-a-web-request", "title": "Use Windows Service &quot;Log on as&quot; user as NetworkCredentials for a web request", "body": "<p>I developped a windows service that is running Logged On as: a specific windows user. \nI use this user, because it has permission for  web site I need to request in this windows service.</p>\n\n<p>The issue is that when requesting the web, using CredentialsCache.DefaultNetworkCredentials i uses the credentials of the current user logged in(WindowsIdentity.GetCurrent()) to windows which has no access to this web. I</p>\n\n<p>I need in some way to pass the Credentials of the Windows service's \"Log In as\" user:</p>\n\n<pre><code>WebRequest request = WebRequest.Create(\"some url\");\n// the user running the service can be get from here:\n// WindowsIdentity.GetCurrent(), but not the password\nrequest.Credentials = \"some code tobtain the user from the service user\"\n</code></pre>\n\n<p>If I use:</p>\n\n<pre><code>request.Credentials = CredentialCache.DefaultNetworkCredentials;\n</code></pre>\n\n<p>it uses the user from the windows account NOT the windows service account.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c#", "ios", "windows", "xamarin.forms", "visual-studio-2017"], "comments": [{"owner": {"reputation": 989, "user_id": 6534215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSf1u.png?s=128&g=1", "display_name": "Mouse On Mars", "link": "https://stackoverflow.com/users/6534215/mouse-on-mars"}, "edited": false, "score": 0, "creation_date": 1537998058, "post_id": 52522697, "comment_id": 91992584, "body": "Welcome to StackOverflow. Do you still see in your project a reference to the Xamarin.FFImageLoading nuget package? I was also wondering whether there is there a particular reason why you are not using the latest stable version (2.4.3.840) of this nuget package?"}, {"owner": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1538015918, "post_id": 52522697, "comment_id": 91996614, "body": "Try to delete the folder &#39;bin&#39; and &#39;obj&#39; ,then rebuild the project."}, {"owner": {"reputation": 33, "user_id": 3669148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8483a5a81ca6fd461ed9afc71b3177e?s=128&d=identicon&r=PG&f=1", "display_name": "user3669148", "link": "https://stackoverflow.com/users/3669148/user3669148"}, "reply_to_user": {"reputation": 989, "user_id": 6534215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kSf1u.png?s=128&g=1", "display_name": "Mouse On Mars", "link": "https://stackoverflow.com/users/6534215/mouse-on-mars"}, "edited": false, "score": 0, "creation_date": 1538034706, "post_id": 52522697, "comment_id": 92003326, "body": "@MichaelC. I updated it but it&#39;s still throwing the same error."}, {"owner": {"reputation": 33, "user_id": 3669148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8483a5a81ca6fd461ed9afc71b3177e?s=128&d=identicon&r=PG&f=1", "display_name": "user3669148", "link": "https://stackoverflow.com/users/3669148/user3669148"}, "reply_to_user": {"reputation": 16920, "user_id": 10216982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JOob8.jpg?s=128&g=1", "display_name": "Lucas Zhang", "link": "https://stackoverflow.com/users/10216982/lucas-zhang"}, "edited": false, "score": 0, "creation_date": 1538034796, "post_id": 52522697, "comment_id": 92003365, "body": "@LucasZhang-MSFT I have already deleted the folder &#39;bin&#39; and &#39;obj&#39;. But it didnt solve it."}], "owner": {"reputation": 33, "user_id": 3669148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8483a5a81ca6fd461ed9afc71b3177e?s=128&d=identicon&r=PG&f=1", "display_name": "user3669148", "link": "https://stackoverflow.com/users/3669148/user3669148"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1026, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537980815, "creation_date": 1537980815, "question_id": 52522697, "link": "https://stackoverflow.com/questions/52522697/xamarin-ios-build-error-error-could-not-link-assemblies-reason-error-while-pr", "title": "Xamarin ios build error Error: Could not link assemblies. Reason: Error while processing references", "body": "<p>I'm unable to compile my Xamarin.iOS project. This project was recently migrated from .NET Standard 1.4 to a .NET Standard 2 project in VS2017 on Windows connect to the Mac Agent.</p>\n\n<p>I'm getting this error:</p>\n\n<blockquote>\n  <p>Error: Could not link assemblies. Reason: Error while processing\n  references of 'Clients.iOS, Version=1.0.0.0, Culture=neutral,\n  PublicKeyToken=null'</p>\n</blockquote>\n\n<p>This is part of the Build log:</p>\n\n<pre><code> warning MSB3276: Found conflicts between different versions of the same dependent assembly. Please set the \"AutoGenerateBindingRedirects\" property to true in the project file.\n\nConsider app.config remapping of assembly \"System.Runtime, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a\" from Version \"4.0.0.0\" to Version \"4.0.20.0\" [] to solve conflict and get rid of warning.rning.\n\n(1,1): error: Xamarin.FFImageLoading package not found for versions [2.2.20, ] on netstandard1.4\n</code></pre>\n"}, {"tags": ["c#", ".net", "unit-testing", "moq"], "comments": [{"owner": {"reputation": 1367, "user_id": 1145403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1629c0fc5e79d12ea851edf379921362?s=128&d=identicon&r=PG", "display_name": "Lennart Stoop", "link": "https://stackoverflow.com/users/1145403/lennart-stoop"}, "edited": false, "score": 0, "creation_date": 1537981562, "post_id": 52522684, "comment_id": 91985277, "body": "The verification for the specific parameter looks ok, however the number of arguments in the setup and verification don&#39;t match - is this the problem or a typo?"}, {"owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "reply_to_user": {"reputation": 1367, "user_id": 1145403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1629c0fc5e79d12ea851edf379921362?s=128&d=identicon&r=PG", "display_name": "Lennart Stoop", "link": "https://stackoverflow.com/users/1145403/lennart-stoop"}, "edited": false, "score": 0, "creation_date": 1537982010, "post_id": 52522684, "comment_id": 91985488, "body": "thanks Lennart, typo.  Fixed now."}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537982329, "post_id": 52522684, "comment_id": 91985655, "body": "@Craig are you able to show the method under test?"}, {"owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "edited": false, "score": 0, "creation_date": 1537982815, "post_id": 52522684, "comment_id": 91985890, "body": "method added above"}, {"owner": {"reputation": 189551, "user_id": 5233410, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XAODw.png?s=128&g=1", "display_name": "Nkosi", "link": "https://stackoverflow.com/users/5233410/nkosi"}, "edited": false, "score": 0, "creation_date": 1537983468, "post_id": 52522684, "comment_id": 91986208, "body": "@Craig Include the test as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be used to reproduce the problem. That way we can try to figure out the problem."}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 1, "creation_date": 1537991795, "post_id": 52522684, "comment_id": 91990101, "body": "The <code>Setup</code> line is redundant and can be removed. The error from <code>Verify</code> is telling you that the method on that mock is not being called with the parameters described. But as Nkosi said, without an MCVE, it would be guesswork. With an MCVE it would be easier to diagnose."}, {"owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "edited": false, "score": 0, "creation_date": 1538032732, "post_id": 52522684, "comment_id": 92002277, "body": "I created a test harness based on the existing code.  Of course, the test harness worked as expected.  The existing code is difficult to extract as is  - hence the cut-down harness. But I&#39;ll start afresh today &amp; see what&#39;s going on.  I&#39;ll post my mistake when I find it.   Thanks for your help."}, {"owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "edited": false, "score": 0, "creation_date": 1538033173, "post_id": 52522684, "comment_id": 92002509, "body": "re-read details regarding Setup call.  I can see why its redundant.  Thanks.  There&#39;s a good answer here. <a href=\"https://stackoverflow.com/questions/3179672/mock-objects-setup-method-test-driven-development\" title=\"mock objects setup method test driven development\">stackoverflow.com/questions/3179672/&hellip;</a>"}, {"owner": {"reputation": 5023, "user_id": 5198140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1cee3e602ccec4e9fb715c9413d3f31?s=128&d=identicon&r=PG&f=1", "display_name": "Richardissimo", "link": "https://stackoverflow.com/users/5198140/richardissimo"}, "edited": false, "score": 0, "creation_date": 1538108970, "post_id": 52522684, "comment_id": 92035868, "body": "If you like that, you may also be interested that widespread use of <code>It.IsAny</code> is weakening your tests. Take a look at <a href=\"https://stackoverflow.com/questions/49332471/mock-verify-invocation\">this question</a> (including the comments), then the non-accepted answer (which was originally accepted, including the comments), then the accepted answer."}], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "edited": false, "score": 0, "creation_date": 1538032587, "post_id": 52528054, "comment_id": 92002203, "body": "thanks, I created a similar cut down test harness and it worked as expected. Clearly there&#39;s something going on in my real setup that&#39;s causing the issue.  I&#39;ll keep tracing."}], "tags": [], "owner": {"reputation": 1465, "user_id": 2651950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHmMJ.jpg?s=128&g=1", "display_name": "KozhevnikovDmitry", "link": "https://stackoverflow.com/users/2651950/kozhevnikovdmitry"}, "is_accepted": true, "score": 0, "last_activity_date": 1538010919, "creation_date": 1538010919, "answer_id": 52528054, "question_id": 52522684, "link": "https://stackoverflow.com/questions/52522684/moq-verify-times-once-not-working-with-it-is-specific-parameter/52528054#52528054", "title": "Moq Verify Times.Once not working with It.Is specific parameter", "body": "<p>Just tried to restore you case and get working example. Please take a look, may be it helps you to solve the issue:</p>\n\n<pre><code>[Test]\npublic void MoqCallTests()\n{\n    // Arrange\n    var _mock = new Mock&lt;IRepo&gt;();\n    // you setup call\n    _mock.Setup(x =&gt; x.Method(It.IsAny&lt;Model&gt;(), It.IsAny&lt;string&gt;(), It.IsAny&lt;int&gt;()));\n    var service = new Service(_mock.Object);\n\n    // Act \n    // call method with 'rubbish'\n    service.GetResults(new Model {IsPresent = true, Search = \"rubbish\"}, string.Empty, 0);\n    // call method with 'term'\n    service.GetResults(new Model {IsPresent = true, Search = \"term\" }, string.Empty, 0);\n\n    // Assert\n    // your varify call\n    _mock.Verify(x =&gt; x.Method(It.Is&lt;Model&gt;(p =&gt; p.IsPresent &amp;&amp; p.Search.Equals(\"term\")), It.IsAny&lt;string&gt;(), It.IsAny&lt;int&gt;()), Times.Once());\n}\n\npublic class Service\n{\n    private readonly IRepo _repo;\n\n    public Service(IRepo repo)\n    {\n        _repo = repo;\n    }\n\n    // your method for tests\n    public Results GetResults(Model model, string s, int i)\n    {\n        return _repo.Method(model, s, i);\n    }\n}\n\npublic interface IRepo\n{\n    Results Method(Model model, string s, int i);\n}\n\npublic class Model\n{\n    public bool IsPresent { get; set; }\n\n    public string Search { get; set; }\n}\n\npublic class Results\n{\n}\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1309, "favorite_count": 0, "accepted_answer_id": 52528054, "answer_count": 1, "score": 1, "last_activity_date": 1538010919, "creation_date": 1537980760, "last_edit_date": 1537982726, "question_id": 52522684, "link": "https://stackoverflow.com/questions/52522684/moq-verify-times-once-not-working-with-it-is-specific-parameter", "title": "Moq Verify Times.Once not working with It.Is specific parameter", "body": "<p>I have a mock setup:</p>\n\n<pre><code>_mock.Setup( x =&gt; x.Method( It.IsAny&lt;Model&gt;(), It.IsAny&lt;string&gt;(), IsAny&lt;int&gt;()));\n</code></pre>\n\n<p>and verify with:</p>\n\n<pre><code>_mock.Verify(x =&gt; x.Method( It.Is&lt;Model&gt;( p=&gt; p.IsPresent &amp;&amp; p.Search.Equals(\"term\")), It.IsAny&lt;string&gt;(), It.IsAny&lt;int&gt;()), Times.Once());\n\npublic Results GetResults( Model model, string s, int i)\n{\n     return _repo.Method(model, s, i);\n}\n</code></pre>\n\n<p>During test the method is called twice.  Once with Search == \"rubbish\" and once with Search==\"term\". Yet verify fails with the message it's being invoked 2 times.</p>\n\n<p>I though using It.Is on the important parameter should give the correct 'Once'. Any ideas?</p>\n"}]